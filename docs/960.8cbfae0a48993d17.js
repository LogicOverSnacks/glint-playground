"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[960],{3978:(kt,ct,i)=>{i.d(ct,{D:()=>r});var e=i(4438);const r=p=>(()=>{class o extends p{constructor(){super(...arguments),this.disableTransitions=!0}ngOnInit(){super.ngOnInit&&super.ngOnInit(),setTimeout(()=>{this.disableTransitions=!1},0)}static{this.\u0275fac=(()=>{let N;return function(R){return(N||(N=e.xGo(o)))(R||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})()},8694:(kt,ct,i)=>{i.d(ct,{f:()=>s});var e=i(1413),r=i(536),p=i(3386),it=i(6977),o=i(4438);const s=N=>(()=>{class R extends N{ngAfterViewInit(){super.ngAfterViewInit&&super.ngAfterViewInit();const n=this.viewports.map(w=>{const I=new e.B,Q=new ResizeObserver(()=>I.next());return I.pipe((0,p.c)(20,r.X,{leading:!0,trailing:!0}),(0,it.Q)(this.destroyed$)).subscribe(()=>{w.checkViewportSize()}),Q.observe(w.elementRef.nativeElement),Q});this.destroyed$.subscribe(()=>{n.forEach(w=>w.disconnect())})}static{this.\u0275fac=(()=>{let n;return function(I){return(n||(n=o.xGo(R)))(I||R)}})()}static{this.\u0275prov=o.jDH({token:R,factory:R.\u0275fac})}}return R})()},1441:(kt,ct,i)=>{i.d(ct,{A:()=>s});var e=i(4412),r=i(4438),p=i(177),it=i(4823);function o(N,G){if(1&N&&(r.j41(0,"div",3),r.EFF(1),r.nI1(2,"async"),r.k0s()),2&N){const R=r.XpG();r.R7$(),r.JRh(r.bMT(2,1,R.leftPath))}}let s=(()=>{class N{constructor(){this.leftPath=new e.t(""),this.rightPath=new e.t("")}onCopy(R){R.preventDefault();const M=document.getSelection();M&&R.clipboardData?.setData("text/plain",M.toString().replace("\n",""))}ngOnChanges(R){if(R.path){const M=/^(.*)(\/[^\/]+)$/.exec(R.path.currentValue);M?(this.leftPath.next(M[1]??""),this.rightPath.next(M[2]??"")):(this.leftPath.next(""),this.rightPath.next(R.path.currentValue))}}static{this.\u0275fac=function(M){return new(M||N)}}static{this.\u0275cmp=r.VBU({type:N,selectors:[["app-condensed-path"]],hostBindings:function(M,n){1&M&&r.bIt("copy",function(I){return n.onCopy(I)})},inputs:{path:"path"},features:[r.OA$],decls:6,vars:7,consts:[[1,"container",3,"matTooltip"],["class","left",4,"ngIf"],[1,"right"],[1,"left"]],template:function(M,n){1&M&&(r.j41(0,"div",0),r.DNE(1,o,3,3,"div",1),r.nI1(2,"async"),r.j41(3,"div",2),r.EFF(4),r.nI1(5,"async"),r.k0s()()),2&M&&(r.Y8G("matTooltip",n.path||""),r.R7$(),r.Y8G("ngIf",r.bMT(2,3,n.leftPath)),r.R7$(3),r.JRh(r.bMT(5,5,n.rightPath)))},dependencies:[p.bT,it.oV,p.Jj],styles:[".container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.left[_ngcontent-%COMP%]{min-width:15px}.right[_ngcontent-%COMP%]{flex:1 0 auto;max-width:100%}.left[_ngcontent-%COMP%] + .right[_ngcontent-%COMP%]{max-width:calc(100% - 15px)}"],changeDetection:0})}}return N})()},313:(kt,ct,i)=>{i.d(ct,{e:()=>H});var e=i(4438),r=i(9417),p=i(5083),it=i(4572),o=i(6354),s=i(4668),N=i(152),G=i(5964),R=i(9172),M=i(6977),n=i(3130),w=i(949),I=i(2930),Q=i(4766),t=i(177),$=i(8834),k=i(2102),U=i(9213),O=i(9042),b=i(4823),h=i(1751);const v=["findControlInput"];function _(rt,Z){if(1&rt&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&rt){const W=e.XpG();e.R7$(),e.JRh(W.findControl.getError("regex"))}}function S(rt,Z){if(1&rt&&(e.j41(0,"mat-hint"),e.EFF(1),e.nI1(2,"async"),e.k0s()),2&rt){const W=e.XpG();e.R7$(),e.SpI("",e.bMT(2,1,W.matchesCount)," matches")}}let H=(()=>{class rt extends((0,n.c)(w.N)){hostKeyDown(W){(I.c?W.metaKey:W.ctrlKey)&&("f"===W.key||"F"===W.key)&&(W.preventDefault(),this.findControlInput.nativeElement.focus({preventScroll:!0}))}constructor(W){super(),this.findSelectionService=W,this.initial=null,this.findControl=new r.MJ("",{nonNullable:!0,validators:z=>{if(this.useRegularExpressionControl?.value)try{new RegExp(z.value,"g")}catch(j){return{regex:j.message}}return null}}),this.matchCaseControl=new r.MJ(!1,{nonNullable:!0}),this.useRegularExpressionControl=new r.MJ(!1,{nonNullable:!0}),this.matchesCount=this.findSelectionService.matches.pipe((0,o.T)(z=>z.length),(0,s.t)(1)),this.gotoPreviousMatch=()=>this.findSelectionService.gotoPreviousMatch(),this.gotoNextMatch=()=>this.findSelectionService.gotoNextMatch()}ngOnInit(){this.initial&&(this.findControl.setValue(this.initial.text),this.matchCaseControl.setValue(this.initial.matchCase),this.useRegularExpressionControl.setValue(this.initial.useRegularExpression)),(0,it.z)([this.findControl.valueChanges.pipe((0,N.B)(100),(0,G.p)(()=>this.findControl.valid),(0,R.Z)(this.findControl.value)),this.matchCaseControl.valueChanges.pipe((0,R.Z)(this.matchCaseControl.value)),this.useRegularExpressionControl.valueChanges.pipe((0,R.Z)(this.useRegularExpressionControl.value))]).pipe((0,M.Q)(this.destroyed$)).subscribe(([W,z,j])=>{if(this.findControl.updateValueAndValidity({emitEvent:!1}),W)try{const st=new RegExp(j?W:(0,p.A)(W),z?"g":"ig");this.findSelectionService.searchRegex.next(st)}catch{}else this.findSelectionService.searchRegex.next(null)})}static{this.\u0275fac=function(z){return new(z||rt)(e.rXU(Q.v))}}static{this.\u0275cmp=e.VBU({type:rt,selectors:[["app-find-control"]],viewQuery:function(z,j){if(1&z&&e.GBs(v,5,e.aKT),2&z){let st;e.mGM(st=e.lsd())&&(j.findControlInput=st.first)}},hostBindings:function(z,j){1&z&&e.bIt("keydown",function(Ct){return j.hostKeyDown(Ct)},!1,e.EBC)},inputs:{initial:"initial"},features:[e.Vt3],decls:31,vars:33,consts:[["findControlInput",""],[1,"find-control"],["matPrefix",""],["type","text","matInput","",3,"formControl"],["type","button","matSuffix","","mat-button","","disableRipple","",3,"click","matTooltip"],["svgIcon","format-letter-case"],["svgIcon","regex"],["type","button","matSuffix","","mat-button","","disableRipple","",3,"click","matTooltip","disabled"],["type","button","matSuffix","","mat-button","",3,"click","matTooltip"],[4,"ngIf"]],template:function(z,j){if(1&z){const st=e.RV6();e.j41(0,"mat-form-field",1)(1,"mat-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.EFF(5,"search"),e.k0s(),e.nrm(6,"input",3,0),e.j41(8,"button",4),e.nI1(9,"translate"),e.bIt("click",function(){return e.eBV(st),e.Njj(j.matchCaseControl.setValue(!j.matchCaseControl.value))}),e.nrm(10,"mat-icon",5),e.k0s(),e.j41(11,"button",4),e.nI1(12,"translate"),e.bIt("click",function(){return e.eBV(st),e.Njj(j.useRegularExpressionControl.setValue(!j.useRegularExpressionControl.value))}),e.nrm(13,"mat-icon",6),e.k0s(),e.j41(14,"button",7),e.nI1(15,"translate"),e.nI1(16,"async"),e.bIt("click",function(){return e.eBV(st),e.Njj(j.gotoPreviousMatch())}),e.j41(17,"mat-icon"),e.EFF(18,"arrow_upward"),e.k0s()(),e.j41(19,"button",7),e.nI1(20,"translate"),e.nI1(21,"async"),e.bIt("click",function(){return e.eBV(st),e.Njj(j.gotoNextMatch())}),e.j41(22,"mat-icon"),e.EFF(23,"arrow_downward"),e.k0s()(),e.j41(24,"button",8),e.nI1(25,"translate"),e.bIt("click",function(){return e.eBV(st),e.Njj(j.findControl.setValue(""))}),e.j41(26,"mat-icon"),e.EFF(27,"close"),e.k0s()(),e.DNE(28,_,2,1,"mat-error",9)(29,S,3,3,"mat-hint",9),e.nI1(30,"async"),e.k0s()}if(2&z){let st,Ct;e.R7$(2),e.JRh(e.bMT(3,15,"Find")),e.R7$(4),e.Y8G("formControl",j.findControl),e.R7$(2),e.AVh("selected",j.matchCaseControl.value),e.Y8G("matTooltip",e.bMT(9,17,"Match case")),e.R7$(3),e.AVh("selected",j.useRegularExpressionControl.value),e.Y8G("matTooltip",e.bMT(12,19,"Use regular expression")),e.R7$(3),e.Y8G("matTooltip",e.bMT(15,21,"Previous match"))("disabled",(null!==(st=e.bMT(16,23,j.matchesCount))&&void 0!==st?st:0)<=0),e.R7$(5),e.Y8G("matTooltip",e.bMT(20,25,"Next match"))("disabled",(null!==(Ct=e.bMT(21,27,j.matchesCount))&&void 0!==Ct?Ct:0)<=0),e.R7$(5),e.Y8G("matTooltip",e.bMT(25,29,"Clear")),e.R7$(4),e.Y8G("ngIf",j.findControl.hasError("regex")),e.R7$(),e.Y8G("ngIf",j.findControl.valid&&e.bMT(30,31,j.matchesCount))}},dependencies:[t.bT,r.me,r.BC,r.l_,$.$z,k.rl,k.nJ,k.MV,k.TL,k.JW,k.yw,U.An,O.fg,b.oV,t.Jj,h.D],styles:[".find-control[_ngcontent-%COMP%]{min-width:340px;margin-top:5px;width:100%}.find-control[_ngcontent-%COMP%]  .mat-mdc-form-field-icon-suffix{display:flex;align-items:center;gap:4px;margin-right:4px}.find-control[_ngcontent-%COMP%]  .mdc-notched-outline__leading, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__notch, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__trailing{border:none}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:2px solid transparent;min-width:36px}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:18px;width:18px;height:18px}.dark-theme[_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#78909c}.light-theme[_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#78909c}"],changeDetection:0})}}return rt})()},4766:(kt,ct,i)=>{i.d(ct,{v:()=>it});var e=i(4412),r=i(4572),p=i(4438);let it=(()=>{class o{constructor(){this.searchRegex=new e.t(null),this.selectedMatch=new e.t(null),this._matches=new e.t([]),this.selectedMatchIndex=new e.t(null),this.matches=this._matches.asObservable(),(0,r.z)([this.matches,this.selectedMatchIndex]).subscribe(([N,G])=>{this.selectedMatch.next(null===G?null:N[G]??null)})}setMatches(N){this._matches.next(N),this.selectedMatchIndex.next(null)}gotoPreviousMatch(){const N=this._matches.value;if(N.length<=0)return void this.selectedMatchIndex.next(null);const G=this.selectedMatchIndex.value;this.selectedMatchIndex.next(null===G||0===G?N.length-1:G-1)}gotoNextMatch(){const N=this._matches.value;if(N.length<=0)return void this.selectedMatchIndex.next(null);const G=this.selectedMatchIndex.value;this.selectedMatchIndex.next(null===G||G===N.length-1?0:G+1)}static{this.\u0275fac=function(G){return new(G||o)}}static{this.\u0275prov=p.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},7575:(kt,ct,i)=>{i.d(ct,{f:()=>w});var e=i(4438),r=i(1985),p=i(6977);function it(I){I||((0,e.Af3)(it),I=(0,e.WQX)(e.abz));const Q=new r.c(t=>I.onDestroy(t.next.bind(t)));return t=>t.pipe((0,p.Q)(Q))}var M=i(4572),n=i(4766);let w=(()=>{class I{constructor(t,$){this.findSelectionService=$,(0,M.z)([this.findSelectionService.searchRegex,this.findSelectionService.selectedMatch]).pipe(it()).subscribe(([k,U])=>{this.input&&(this.output=this.calculate(k,U)),t.markForCheck()})}transform(t,$,k){return(!this.input||!this.output||this.input.tokens!==t||this.input.text!==$||this.input.lineId!==k)&&(this.input={tokens:t,text:$,lineId:k},this.output=this.calculate(this.findSelectionService.searchRegex.value,this.findSelectionService.selectedMatch.value)),this.output}calculate(t,$){if(!this.input)return[];if(!t||!this.input.text)return this.input.tokens;const k=Array.from(this.input.text.matchAll(t),U=>({startIndex:U.index??0,endIndex:(U.index??0)+(U[0]?.length??0),scopes:["find-result"]}));return[...this.input.tokens,...k,...this.input.lineId===$?.lineId?[{startIndex:$.startIndex,endIndex:$.endIndex,scopes:["find-result-select"]}]:[]]}static{this.\u0275fac=function($){return new($||I)(e.rXU(e.gRc,16),e.rXU(n.v,16))}}static{this.\u0275pipe=e.EJ8({name:"findToken",type:I,pure:!1})}}return I})()},7744:(kt,ct,i)=>{i.d(ct,{w:()=>r});var e=i(4438);let r=(()=>{class p{constructor(o){this.template=o}static{this.\u0275fac=function(s){return new(s||p)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:p,selectors:[["","appVirtualTreeEmptyNode",""]]})}}return p})()},3683:(kt,ct,i)=>{i.d(ct,{x:()=>r});var e=i(4438);let r=(()=>{class p{constructor(o){this.template=o}static{this.\u0275fac=function(s){return new(s||p)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:p,selectors:[["","appVirtualTreeLeafNode",""]]})}}return p})()},6164:(kt,ct,i)=>{i.d(ct,{$:()=>r});var e=i(4438);let r=(()=>{class p{constructor(o){this.template=o}static{this.\u0275fac=function(s){return new(s||p)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:p,selectors:[["","appVirtualTreeNode",""]]})}}return p})()},1747:(kt,ct,i)=>{i.d(ct,{P:()=>$});var e=i(9969),r=i(5272),p=i(4438),it=i(6354),o=i(3130),s=i(949),N=i(3978),G=i(8694),R=i(7744),M=i(3683),n=i(6164),w=i(177);const I=k=>({$implicit:k});function Q(k,U){1&k&&p.eu8(0)}function t(k,U){if(1&k&&(p.j41(0,"li"),p.DNE(1,Q,1,0,"ng-container",2),p.k0s()),2&k){const O=U.$implicit,b=p.XpG();p.xc7("padding-left",10*O.depth,"px"),p.R7$(),p.Y8G("ngTemplateOutlet",b.isEmpty(O)?b.emptyNodeDirective.template:b.isLeaf(O)?b.leafNodeDirective.template:b.nodeDirective.template)("ngTemplateOutletContext",p.eq3(4,I,O))}}let $=(()=>{class k extends((0,o.c)(s.N,N.D,G.f)){constructor(){super(...arguments),this.keyPressed=new p.bkB,this.isEmpty=O=>!O.id,this.isLeaf=O=>!O.children,this.expandVisibleNodes=O=>this.isLeaf(O)||!O.expanded?[O]:[O,...O.children.length>0?O.children.flatMap(this.expandVisibleNodes):this.emptyNodeDirective?[{depth:1}]:[]]}ngOnInit(){super.ngOnInit(),this.visibleNodes=this.tree.pipe((0,it.T)(O=>O.reduce((b,h)=>[...b,...this.expandVisibleNodes(h)],[])))}trackById(O,b){return b.id??null}static{this.\u0275fac=(()=>{let O;return function(h){return(O||(O=p.xGo(k)))(h||k)}})()}static{this.\u0275cmp=p.VBU({type:k,selectors:[["app-virtual-tree"]],contentQueries:function(b,h,v){if(1&b&&(p.wni(v,n.$,5),p.wni(v,M.x,5),p.wni(v,R.w,5)),2&b){let _;p.mGM(_=p.lsd())&&(h.nodeDirective=_.first),p.mGM(_=p.lsd())&&(h.leafNodeDirective=_.first),p.mGM(_=p.lsd())&&(h.emptyNodeDirective=_.first)}},viewQuery:function(b,h){if(1&b&&p.GBs(r.d6,5),2&b){let v;p.mGM(v=p.lsd())&&(h.viewports=v)}},inputs:{tree:"tree",itemSize:"itemSize"},outputs:{keyPressed:"keyPressed"},features:[p.Vt3],decls:5,vars:9,consts:[["tabindex","0",3,"keydown","itemSize"],[3,"padding-left",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(b,h){1&b&&(p.j41(0,"cdk-virtual-scroll-viewport",0),p.bIt("keydown",function(_){return h.keyPressed.next(_)}),p.j41(1,"ul"),p.nI1(2,"async"),p.DNE(3,t,2,6,"li",1),p.nI1(4,"async"),p.k0s()()),2&b&&(p.Y8G("itemSize",h.itemSize)("@null",void 0),p.R7$(),p.Y8G("@slide",p.bMT(2,5,h.visibleNodes)),p.R7$(2),p.Y8G("cdkVirtualForOf",p.bMT(4,7,h.visibleNodes))("cdkVirtualForTrackBy",h.trackById))},dependencies:[r.yg,r.E$,r.d6,w.T3,w.Jj],styles:["cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{outline:none}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{transition:height 225ms ease-in-out}li[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}"],data:{animation:[(0,e.hZ)("null",[(0,e.kY)(":enter",[]),(0,e.kY)(":leave",[])]),(0,e.hZ)("slide",[(0,e.kY)("* => *",[(0,e.Os)([(0,e.P)("li:enter",[(0,e.iF)({height:0}),(0,e.i0)("225ms ease-in-out",(0,e.iF)({height:"*"}))],{optional:!0}),(0,e.P)("li:leave",[(0,e.iF)({height:"*"}),(0,e.i0)("225ms ease-in-out",(0,e.iF)({height:0}))],{optional:!0})])])])]},changeDetection:0})}}return k})()},5458:(kt,ct,i)=>{i.d(ct,{J:()=>G});var e=i(6977),r=i(3130),p=i(949),it=i(5404),o=i(4438),s=i(177),N=i(9843);let G=(()=>{class R extends((0,r.c)(p.N)){constructor(n,w,I){super(),this.datePipe=w,this.language="en",I.select(it.tq.language).pipe((0,e.Q)(this.destroyed$)).subscribe(Q=>{this.language=Q,this.input&&(this.output=this.translate(Q,this.input.date,this.input.format)),n.markForCheck()})}transform(n,w){return(!this.input||!this.output||this.input.date!==n||this.input.format!==w)&&(this.input={date:n,format:w},this.output=this.translate(this.language,n,w)),this.output}translate(n,w,I){let Q;switch(n){case"en":Q="en-GB","monthYear"===I&&(I="MMM yyyy");break;case"zh":Q="zh-CN","monthYear"===I&&(I="yyyy\u5e74M\u6708")}return this.datePipe.transform(w,I,void 0,Q)}static{this.\u0275fac=function(w){return new(w||R)(o.rXU(o.gRc,16),o.rXU(s.vh,16),o.rXU(N.il,16))}}static{this.\u0275pipe=o.EJ8({name:"translateDate",type:R,pure:!1})}}return R})()},5960:(kt,ct,i)=>{i.r(ct),i.d(ct,{StandardLayoutModule:()=>Xe});var e=i(3902),r=i(2798),p=i(1117),it=i(8148),o=i(850),s=i(5351),N=i(2102),G=i(9042),R=i(9115),M=i(9183),n=i(6850),w=i(2992),I=i(9563),Q=i(3054),t=i(4438);let $=(()=>{class f{static{this.\u0275fac=function(P){return new(P||f)}}static{this.\u0275mod=t.$C({type:f})}static{this.\u0275inj=t.G2t({imports:[o.jL,s.hM,N.RG,G.fS,R.Cn,M.D6,r.Ve,n.RI,p.U,w.s,I.Z,Q.K]})}}return f})();var k=i(6573),U=i(2724),O=i(9417),b=i(4412),h=i(4572),v=i(9172),_=i(3386),S=i(6354),H=i(5964),rt=i(8141),Z=i(5558),W=i(7673),z=i(9437),j=i(8810),st=i(6977),Ct=i(980),ot=i(4548),pt=i(3130),et=i(949),ft=i(319),Pt=i(2570),vt=i(877),Lt=i(5012),yt=i(9843),gt=i(986),It=i(1529),E=i(9851),L=i(259),C=i(177),F=i(8834),g=i(9213),T=i(4823),D=i(9969),lt=i(5272),bt=i(8694),Et=i(2039),Ht=i(6159),Kt=i(477),Yt=i(5969),dt=i(6268),wt=i(1619),B=i(1693),X=i(1281),at=i(1751);function Rt(f,xt){if(1&f){const m=t.RV6();t.j41(0,"li",10),t.nI1(1,"async"),t.bIt("click",function(){const u=t.eBV(m).$implicit,J=t.XpG();return t.Njj(J.selectedCommitDetail.next(u))}),t.nrm(2,"app-avatar",11),t.j41(3,"span",12),t.EFF(4),t.k0s()()}if(2&f){let m;const P=xt.$implicit,u=t.XpG(),J=t.sdS(12);t.AVh("selected",P.id===(null==(m=t.bMT(1,9,u.selectedCommitDetail))?null:m.id)),t.Y8G("appContextMenu",J)("appContextMenuData",P),t.R7$(2),t.Y8G("matTooltip",P.authorName+" ("+P.authorEmail+")")("remotes",u.remotes)("email",P.authorEmail),t.R7$(),t.Y8G("matTooltip",P.message),t.R7$(),t.SpI(" ",u.getCommitSummary(P)," ")}}function Nt(f,xt){if(1&f){const m=t.RV6();t.j41(0,"app-diff-view",13),t.bIt("closed",function(){t.eBV(m);const u=t.XpG();return t.Njj(u.selectedPatch.next(null))}),t.k0s()}if(2&f){const m=t.XpG();t.Y8G("@slideLeft",void 0)("patch",m.selectedPatch)}}function zt(f,xt){if(1&f){const m=t.RV6();t.j41(0,"app-commit-detail-view",14),t.bIt("patchChanged",function(u){t.eBV(m);const J=t.XpG();return t.Njj(J.patchChanged(u))}),t.k0s()}if(2&f){const m=t.XpG();t.Y8G("commit",m.selectedCommitDetail)("selectedFile",m.selectedFile)}}function oe(f,xt){if(1&f){const m=t.RV6();t.j41(0,"div",15)(1,"div",16),t.EFF(2),t.k0s(),t.j41(3,"button",17),t.bIt("click",function(){const u=t.eBV(m).data,J=t.XpG();return t.Njj(J.copyToClipboard(u.commitId))}),t.j41(4,"mat-icon"),t.EFF(5,"content_copy"),t.k0s(),t.j41(6,"span"),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"button",17),t.bIt("click",function(){const u=t.eBV(m).data,J=t.XpG();return t.Njj(J.jumpToCommit(u.commitId))}),t.j41(10,"mat-icon"),t.EFF(11,"launch"),t.k0s(),t.j41(12,"span"),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()}if(2&f){const m=xt.data,P=t.XpG();t.R7$(),t.Y8G("matTooltip",m.message),t.R7$(),t.JRh(P.getCommitSummary(m)),t.R7$(),t.Y8G("matTooltip",m.commitId),t.R7$(4),t.JRh(t.bMT(8,6,"Copy Commit ID")),t.R7$(2),t.Y8G("matTooltip",m.commitId),t.R7$(4),t.JRh(t.bMT(14,8,"Jump to Commit"))}}let te=(()=>{class f extends((0,pt.c)(et.N,bt.f)){constructor(m,P,u){super(),this.router=m,this.store=P,this.commitsApi=u,this.yUnit=Ht.q.yUnit,this.commitDetails=new b.t([]),this.selectedCommitDetail=new b.t(null),this.selectedPatch=new b.t(null),this.selectedFile=this.selectedPatch.pipe((0,S.T)(J=>J?{area:"commit",oldFilePath:J.patch.oldFilePath,newFilePath:J.patch.newFilePath}:null)),this.getCommitSummary=J=>J.message.split("\n")[0]}ngOnChanges(m){if(!m.commits)return;const P=this.store.selectSnapshot(vt.s.selectedRepositoryPath);if(!P)throw new ot.Jf;this.repositoryPath=P,this.commitsApi.getCommits(P,this.commits).pipe((0,st.Q)(this.destroyed$)).subscribe(J=>{this.commitDetails.next(J),J[0]&&this.selectedCommitDetail.next(J[0])});const u=this.store.selectSnapshot(vt.s.selectedRemotes);if(!u)throw new ot._1;this.remotes=u}patchChanged(m){const P=this.selectedCommitDetail.value;"commit"!==m.area||!P||0===P.patches.length||this.commitsApi.getPatch(this.repositoryPath,P.id,m.oldFilePath,m.newFilePath).pipe((0,S.T)(u=>({repositoryPath:this.repositoryPath,patch:u,isUnstaged:!1})),(0,z.W)(u=>ot.z9.matches(u)||ot.CS.matches(u)?(0,W.of)(null):(0,j.$)(()=>u)),(0,st.Q)(this.destroyed$)).subscribe(u=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===u?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===u?.patch.oldFilePath?null:u)})}copyToClipboard(m){navigator.clipboard.writeText(m??"")}jumpToCommit(m){this.store.dispatch([new Et.$P(this.repositoryPath,m),new Et.Ks(this.repositoryPath,m)]).subscribe(()=>{this.router.navigate(["/standard/default"])})}trackCommitDetail(m,P){return P.id}static{this.\u0275fac=function(P){return new(P||f)(t.rXU(U.Ix),t.rXU(yt.il),t.rXU(gt.m))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["app-pull-request-commits-view"]],viewQuery:function(P,u){if(1&P&&t.GBs(lt.d6,5),2&P){let J;t.mGM(J=t.lsd())&&(u.viewports=J)}},inputs:{commits:"commits"},features:[t.Vt3,t.OA$],decls:13,vars:9,consts:[["contextMenu",""],["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[1,"viewport-wrapper"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"selected","appContextMenu","appContextMenuData","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],[3,"click","appContextMenu","appContextMenuData"],[3,"matTooltip","remotes","email"],[1,"summary",3,"matTooltip"],[3,"closed","patch"],[3,"patchChanged","commit","selectedFile"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"click","matTooltip"]],template:function(P,u){1&P&&(t.j41(0,"app-grid",1)(1,"app-grid-cell",2)(2,"div",3)(3,"cdk-virtual-scroll-viewport",4)(4,"ul",5),t.DNE(5,Rt,5,11,"li",6),t.k0s()()(),t.DNE(6,Nt,1,2,"app-diff-view",7),t.nI1(7,"async"),t.k0s(),t.j41(8,"app-grid-cell",8),t.DNE(9,zt,1,2,"app-commit-detail-view",9),t.nI1(10,"async"),t.k0s()(),t.DNE(11,oe,15,10,"ng-template",null,0,t.C5r)),2&P&&(t.R7$(3),t.Y8G("itemSize",u.yUnit),t.R7$(2),t.Y8G("cdkVirtualForOf",u.commitDetails)("cdkVirtualForTrackBy",u.trackCommitDetail),t.R7$(),t.Y8G("ngIf",t.bMT(7,5,u.selectedPatch)),t.R7$(3),t.Y8G("ngIf",t.bMT(10,7,u.selectedCommitDetail)))},dependencies:[lt.yg,lt.E$,lt.d6,C.bT,g.An,T.oV,Kt.f,Yt.Q,dt.K,wt._,B.n,X.Q,C.Jj,at.D],styles:[".viewport-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.messages-viewport[_ngcontent-%COMP%]{contain:content;scrollbar-gutter:stable;height:100%}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:28px;line-height:28px;padding-left:5px;padding-right:130px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:26px;height:26px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:1rem;vertical-align:middle}app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#2d2d2d}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #1e1e1e}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#eee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #fafafa}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #eeeeee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #eeeeee}"],data:{animation:[(0,D.hZ)("slideLeft",[(0,D.kY)(":enter",[(0,D.iF)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,D.i0)("200ms",(0,D.iF)({transform:"translateX(0)"}))]),(0,D.kY)(":leave",[(0,D.iF)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,D.i0)("200ms",(0,D.iF)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return f})();var ae=i(4991),ie=i(8667);function se(f,xt){if(1&f){const m=t.RV6();t.j41(0,"app-diff-view",5),t.bIt("closed",function(){t.eBV(m);const u=t.XpG();return t.Njj(u.selectedPatch.next(null))}),t.k0s()}if(2&f){const m=t.XpG();t.Y8G("@slideLeft",void 0)("patch",m.selectedPatch)}}let ht=(()=>{class f extends((0,pt.c)(et.N)){constructor(m,P){super(),this.store=m,this.commitsApi=P,this.selectedPatch=new b.t(null),this.selectedFile=this.selectedPatch.pipe((0,S.T)(u=>u?{area:"commit",oldFilePath:u.patch.oldFilePath,newFilePath:u.patch.newFilePath}:null))}ngOnInit(){const m=this.store.selectSnapshot(vt.s.selectedRepositoryPath);if(!m)throw new ot.Jf;this.repositoryPath=m}ngAfterViewInit(){const m=(0,ae.A)(this.patches,P=>P.oldFilePath?.toLowerCase()??P.newFilePath?.toLowerCase())[0];m&&setTimeout(()=>{this.changePatch(m.oldFilePath,m.newFilePath)},500)}changePatch(m,P){this.commitsApi.getCompareCommitsPatch(this.repositoryPath,this.fromCommitId,this.toCommitId,m,P).pipe((0,S.T)(u=>({repositoryPath:this.repositoryPath,patch:u,isUnstaged:!1})),(0,z.W)(u=>ot.z9.matches(u)||ot.CS.matches(u)?(0,W.of)(null):(0,j.$)(()=>u)),(0,st.Q)(this.destroyed$)).subscribe(u=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===u?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===u?.patch.oldFilePath?null:u)})}static{this.\u0275fac=function(P){return new(P||f)(t.rXU(yt.il),t.rXU(gt.m))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["app-pull-request-patches-view"]],inputs:{fromCommitId:"fromCommitId",toCommitId:"toCommitId",patches:"patches"},features:[t.Vt3],decls:7,vars:7,consts:[["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"selectedChanged","patches","selected"],[3,"closed","patch"]],template:function(P,u){1&P&&(t.j41(0,"app-grid",0)(1,"app-grid-cell",1),t.DNE(2,se,1,2,"app-diff-view",2),t.nI1(3,"async"),t.k0s(),t.j41(4,"app-grid-cell",3)(5,"app-patches-view",4),t.nI1(6,"async"),t.bIt("selectedChanged",function(Y){return u.changePatch(Y.oldFilePath,Y.newFilePath)}),t.k0s()()()),2&P&&(t.R7$(2),t.Y8G("ngIf",t.bMT(3,3,u.selectedPatch)),t.R7$(3),t.Y8G("patches",u.patches)("selected",t.bMT(6,5,u.selectedFile)))},dependencies:[C.bT,dt.K,wt._,X.Q,ie.h,C.Jj],styles:["app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}app-patches-view[_ngcontent-%COMP%]{padding:16px;height:100%;display:flex;flex-direction:column;gap:10px}"],data:{animation:[(0,D.hZ)("slideLeft",[(0,D.kY)(":enter",[(0,D.iF)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,D.i0)("200ms",(0,D.iF)({transform:"translateX(0)"}))]),(0,D.kY)(":leave",[(0,D.iF)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,D.i0)("200ms",(0,D.iF)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return f})();var At=i(3382),y=i(6600);const V=f=>({branch:f});function tt(f,xt){if(1&f&&(t.j41(0,"mat-option",11),t.EFF(1),t.k0s()),2&f){const m=xt.$implicit;t.Y8G("value",m),t.R7$(),t.Lme(" ",m.owner,"/",m.repo," ")}}function Mt(f,xt){if(1&f&&(t.j41(0,"mat-option",11),t.EFF(1),t.k0s()),2&f){const m=xt.$implicit;t.Y8G("value",t.eq3(2,V,m)),t.R7$(),t.JRh(m)}}function Vt(f,xt){if(1&f&&(t.j41(0,"mat-option",11),t.EFF(1),t.k0s()),2&f){const m=xt.$implicit;t.Y8G("value",m),t.R7$(),t.Lme(" ",m.owner,"/",m.repo," ")}}function Zt(f,xt){if(1&f&&(t.j41(0,"mat-option",11),t.EFF(1),t.k0s()),2&f){const m=xt.$implicit;t.Y8G("value",t.eq3(2,V,m)),t.R7$(),t.JRh(m)}}let qt=(()=>{class f extends((0,pt.c)(et.N)){constructor(m,P,u,J,Y){super(),this.store=m,this.bitbucketApiService=P,this.gitHubApiService=u,this.gitLabApiService=J,this.providerUrlMatcherService=Y,this.filteredFromRepos=[],this.displayBranch=_t=>_t?_t.branch:"",this.displayRepo=_t=>_t?`${_t.owner}/${_t.repo}`:""}ngOnInit(){const m=this.store.selectSnapshot(vt.s.selectedRemotes)?.filter(P=>this.providerUrlMatcherService.matchProvider(P.url)?.type===this.integration.type);if(!m)throw new ft.XR(new ot._1);this.filteredFromRepos=m.flatMap(P=>{const u=this.providerUrlMatcherService.matchProvider(P.url);return u?.type!==this.integration.type?[]:{owner:"bitbucket"===u.type?u.workspace:"github"===u.type?u.owner:"gitlab"===u.type?u.namespace:"",repo:u.repo}}),this.filteredFromRepos[0]&&(this.controls.fromRepo.setValue(this.filteredFromRepos[0]),this.controls.toRepo.setValue(this.filteredFromRepos[0])),this.filteredFromBranches=(0,h.z)([this.controls.fromRepo.valueChanges.pipe((0,v.Z)(this.controls.fromRepo.value),(0,_.c)(500,void 0,{leading:!0,trailing:!0}),(0,Z.n)(P=>this.getBranches(P))),this.controls.fromBranch.valueChanges.pipe((0,v.Z)(this.controls.fromBranch.value),(0,_.c)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,S.T)(([P,u])=>"string"==typeof u?P.filter(J=>J.toLowerCase().includes(u.toLowerCase())):P)),this.filteredToRepos=this.controls.fromRepo.valueChanges.pipe((0,v.Z)(this.controls.fromRepo.value),(0,_.c)(500,void 0,{leading:!0,trailing:!0}),(0,Z.n)(P=>{const{owner:u,repo:J}=P??{};if(!u||!J)return(0,W.of)(this.filteredFromRepos);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getRepository(u,J,void 0,this.integration).pipe((0,S.T)(Y=>{if(!Y?.parent){const nt=this.controls.fromRepo.value,Tt=this.controls.toRepo.value;return nt?.owner===Tt?.owner&&nt?.repo===Tt?.repo&&this.controls.toBranch.pristine&&Y?.mainbranch&&this.controls.toBranch.setValue({branch:Y.mainbranch.name}),this.filteredFromRepos}const[_t,Ot]=Y?.parent?.full_name.split("/")??[];return _t&&Ot?(this.controls.toBranch.pristine&&Y.parent?.mainbranch&&this.controls.toBranch.setValue({branch:Y.parent.mainbranch.name}),[{owner:_t,repo:Ot},...this.filteredFromRepos.filter(nt=>nt.owner!==_t||nt.repo!==Ot)]):this.filteredFromRepos}));case"github":return this.gitHubApiService.getRepository(this.integration.token,u,J).pipe((0,S.T)(Y=>{if(!Y?.parent){const nt=this.controls.fromRepo.value,Tt=this.controls.toRepo.value;return nt?.owner===Tt?.owner&&nt?.repo===Tt?.repo&&this.controls.toBranch.pristine&&Y&&this.controls.toBranch.setValue({branch:Y.default_branch}),this.filteredFromRepos}const[_t,Ot]=Y?.parent?.full_name.split("/")??[];return _t&&Ot?(this.controls.toBranch.pristine&&Y.parent&&this.controls.toBranch.setValue({branch:Y.parent.default_branch}),[{owner:_t,repo:Ot},...this.filteredFromRepos.filter(nt=>nt.owner!==_t||nt.repo!==Ot)]):this.filteredFromRepos}));case"gitlab":return this.gitLabApiService.getRepository(this.integration,u,J).pipe((0,S.T)(Y=>{if(!Y?.forked_from_project){const nt=this.controls.fromRepo.value,Tt=this.controls.toRepo.value;return nt?.owner===Tt?.owner&&nt?.repo===Tt?.repo&&this.controls.toBranch.pristine&&Y&&this.controls.toBranch.setValue({branch:Y.default_branch}),this.filteredFromRepos}const _t=Y?.forked_from_project?.namespace.path,Ot=Y?.forked_from_project?.path;return _t&&Ot?(this.controls.toBranch.pristine&&Y.forked_from_project&&this.controls.toBranch.setValue({branch:Y.forked_from_project.default_branch}),[{owner:_t,repo:Ot},...this.filteredFromRepos.filter(nt=>nt.owner!==_t||nt.repo!==Ot)]):this.filteredFromRepos}));default:throw new Error("Check not exhaustive.")}})),this.filteredToBranches=(0,h.z)([this.controls.toRepo.valueChanges.pipe((0,v.Z)(this.controls.toRepo.value),(0,_.c)(500,void 0,{leading:!0,trailing:!0}),(0,Z.n)(P=>this.getBranches(P))),this.controls.toBranch.valueChanges.pipe((0,v.Z)(this.controls.toBranch.value),(0,_.c)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,S.T)(([P,u])=>"string"==typeof u?P.filter(J=>J.toLowerCase().includes(u.toLowerCase())):P))}getBranches(m){const{owner:P,repo:u}=m??{};if(!P||!u)return(0,W.of)([]);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getBranches(this.integration,P,u).pipe((0,S.T)(J=>J?.values.map(({name:Y})=>Y)??[]),(0,z.W)(()=>(0,W.of)([])));case"github":return this.gitHubApiService.getBranches(this.integration.token,P,u).pipe((0,S.T)(J=>J?.map(({name:Y})=>Y)??[]),(0,z.W)(()=>(0,W.of)([])));case"gitlab":return this.gitLabApiService.getBranches(this.integration,P,u).pipe((0,S.T)(J=>J?.map(({name:Y})=>Y)??[]),(0,z.W)(()=>(0,W.of)([])));default:throw new Error("Check not exhaustive.")}}static{this.\u0275fac=function(P){return new(P||f)(t.rXU(yt.il),t.rXU(It.H),t.rXU(E.N),t.rXU(L.P),t.rXU(At.y))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["app-pull-request-select-view"]],inputs:{integration:"integration",controls:"controls"},features:[t.Vt3],decls:33,vars:30,consts:[["autoToBranch","matAutocomplete"],["autoFromBranch","matAutocomplete"],["subscriptSizing","dynamic",1,"to-repo"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["subscriptSizing","dynamic",1,"to-branch"],["type","text","matInput","","required","",3,"formControl","matAutocomplete"],[3,"displayWith"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],["type","text","matInput","","required","","cdkFocusInitial","",3,"formControl","matAutocomplete"],[3,"value"]],template:function(P,u){if(1&P&&(t.j41(0,"mat-form-field",2)(1,"mat-label"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"mat-select",3),t.DNE(5,tt,2,3,"mat-option",4),t.nI1(6,"async"),t.k0s()(),t.j41(7,"mat-form-field",5)(8,"mat-label"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"input",6),t.j41(12,"mat-autocomplete",7,0),t.DNE(14,Mt,2,4,"mat-option",4),t.nI1(15,"async"),t.k0s()(),t.j41(16,"mat-icon"),t.EFF(17,"arrow_back"),t.k0s(),t.j41(18,"mat-form-field",8)(19,"mat-label"),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"mat-select",3),t.DNE(23,Vt,2,3,"mat-option",4),t.k0s()(),t.j41(24,"mat-form-field",9)(25,"mat-label"),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.nrm(28,"input",10),t.j41(29,"mat-autocomplete",7,1),t.DNE(31,Zt,2,4,"mat-option",4),t.nI1(32,"async"),t.k0s()()),2&P){const J=t.sdS(13),Y=t.sdS(30);t.R7$(2),t.JRh(t.bMT(3,16,"Base Repository")),t.R7$(2),t.Y8G("formControl",u.controls.toRepo),t.R7$(),t.Y8G("ngForOf",t.bMT(6,18,u.filteredToRepos)),t.R7$(4),t.JRh(t.bMT(10,20,"Base Branch")),t.R7$(2),t.Y8G("formControl",u.controls.toBranch)("matAutocomplete",J),t.R7$(),t.Y8G("displayWith",u.displayBranch),t.R7$(2),t.Y8G("ngForOf",t.bMT(15,22,u.filteredToBranches)),t.R7$(6),t.JRh(t.bMT(21,24,"Head Repository")),t.R7$(2),t.Y8G("formControl",u.controls.fromRepo),t.R7$(),t.Y8G("ngForOf",u.filteredFromRepos),t.R7$(3),t.JRh(t.bMT(27,26,"Head Branch")),t.R7$(2),t.Y8G("formControl",u.controls.fromBranch)("matAutocomplete",Y),t.R7$(),t.Y8G("displayWith",u.displayBranch),t.R7$(2),t.Y8G("ngForOf",t.bMT(32,28,u.filteredFromBranches))}},dependencies:[o.$3,y.wT,o.pN,N.rl,N.nJ,G.fg,r.VO,C.Sq,O.me,O.BC,O.YS,O.l_,g.An,C.Jj,at.D],styles:["[_nghost-%COMP%]{display:flex;gap:10px;align-items:center}.to-repo[_ngcontent-%COMP%], .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}.to-branch[_ngcontent-%COMP%], .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}"],changeDetection:0})}}return f})();const ee=f=>({count:f});function de(f,xt){1&f&&(t.j41(0,"mat-error"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&f&&(t.R7$(),t.JRh(t.bMT(2,1,"Title is required")))}function q(f,xt){if(1&f&&(t.j41(0,"mat-tab",4),t.nI1(1,"translate"),t.j41(2,"div",16),t.nrm(3,"app-pull-request-commits-view",17),t.k0s()()),2&f){const m=t.XpG().ngIf;t.FS9("label",t.i5U(1,2,"Commits (_count_)",t.eq3(5,ee,m.commits.length))),t.R7$(3),t.Y8G("commits",m.commits)}}function K(f,xt){if(1&f&&(t.j41(0,"mat-tab",4),t.nI1(1,"translate"),t.nrm(2,"app-pull-request-patches-view",18),t.k0s()),2&f){const m=t.XpG().ngIf;t.FS9("label",t.i5U(1,4,"Files changed (_count_)",t.eq3(7,ee,m.patches.length))),t.R7$(2),t.Y8G("fromCommitId",m.fromCommitId)("toCommitId",m.toCommitId)("patches",m.patches)}}function c(f,xt){if(1&f&&(t.qex(0),t.DNE(1,q,4,7,"mat-tab",15)(2,K,3,9,"mat-tab",15),t.bVm()),2&f){const m=xt.ngIf,P=t.XpG();t.R7$(),t.Y8G("ngIf",P.hasCommits(m)),t.R7$(),t.Y8G("ngIf",P.hasPatches(m))}}function a(f,xt){if(1&f&&(t.j41(0,"span",21),t.nI1(1,"async"),t.nI1(2,"translate"),t.EFF(3),t.nI1(4,"translate"),t.k0s()),2&f){const m=t.XpG(2);t.Y8G("matTooltip",t.bMT(2,4,null===t.bMT(1,2,m.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.R7$(3),t.SpI(" ",t.bMT(4,6,"Commits")," ")}}function l(f,xt){if(1&f&&(t.j41(0,"span",21),t.nI1(1,"async"),t.nI1(2,"translate"),t.EFF(3),t.nI1(4,"translate"),t.k0s()),2&f){const m=t.XpG(2);t.Y8G("matTooltip",t.bMT(2,4,null===t.bMT(1,2,m.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.R7$(3),t.SpI(" ",t.bMT(4,6,"Files changed")," ")}}function d(f,xt){1&f&&(t.qex(0),t.j41(1,"mat-tab",19),t.DNE(2,a,5,8,"ng-template",20),t.k0s(),t.j41(3,"mat-tab",19),t.DNE(4,l,5,8,"ng-template",20),t.k0s(),t.bVm())}function x(f,xt){1&f&&t.nrm(0,"mat-spinner",22)}function A(f,xt){1&f&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&f&&(t.R7$(),t.JRh(t.bMT(2,1,"View in browser")))}function ut(f,xt){1&f&&t.nrm(0,"mat-spinner",22)}function mt(f,xt){1&f&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&f&&(t.R7$(),t.JRh(t.bMT(2,1,"Create Pull Request")))}let Qt=(()=>{class f extends((0,pt.c)(et.N)){constructor(m,P,u,J,Y,_t){super(),this.route=m,this.store=P,this.commitsApi=u,this.bitbucketApiService=J,this.gitHubApiService=Y,this.gitLabApiService=_t,this.form=new O.gE({fromRepo:new O.MJ(null,O.k0.required),fromBranch:new O.MJ(null,O.k0.required),toRepo:new O.MJ(null,O.k0.required),toBranch:new O.MJ(null,O.k0.required),title:new O.MJ(null,O.k0.required),description:new O.MJ(null),draft:new O.MJ(!1,{nonNullable:!0})}),this.compare=new b.t(void 0),this.loadingCompare=new b.t(!1),this.creatingPullRequest=new b.t(!1),this.hasCommits=Ot=>!!Ot.commits,this.hasPatches=Ot=>!!Ot.patches,this.getBranch=Ot=>"string"==typeof Ot?Ot:Ot.branch}ngOnInit(){const m=this.route.snapshot.paramMap.get("type");if("bitbucket"!==m&&"github"!==m&&"gitlab"!==m)throw new ot.wQ(m);const P=this.route.snapshot.paramMap.get("integrationId"),u=this.store.selectSnapshot(Lt.d.integrations).find(Y=>Y.type===m&&Y.id==P);if(!u)throw new ot.AD(m,P);this.integration=u;const J=this.store.selectSnapshot(vt.s.selectedRepositoryPath);if(!J)throw new ot.Jf;(0,h.z)([this.form.controls.toRepo.valueChanges.pipe((0,v.Z)(this.form.controls.toRepo.value)),this.form.controls.toBranch.valueChanges.pipe((0,v.Z)(this.form.controls.toBranch.value)),this.form.controls.fromRepo.valueChanges.pipe((0,v.Z)(this.form.controls.fromRepo.value)),this.form.controls.fromBranch.valueChanges.pipe((0,v.Z)(this.form.controls.fromBranch.value))]).pipe((0,_.c)(500,void 0,{leading:!0,trailing:!0}),(0,S.T)(([Y,_t,Ot,nt])=>{const{owner:Tt,repo:St}=this.getOwnerRepo(Y),{owner:Gt,repo:Ut}=this.getOwnerRepo(Ot);return Tt&&St&&_t&&Gt&&Ut&&nt?{toOwner:Tt,toRepo:St,toBranch:_t,fromOwner:Gt,fromRepo:Ut,fromBranch:nt}:null}),(0,H.p)(ft.O9),(0,rt.M)(()=>{this.loadingCompare.next(!0)}),(0,Z.n)(({toOwner:Y,toRepo:_t,toBranch:Ot,fromOwner:nt,fromRepo:Tt,fromBranch:St})=>{switch(this.integration.type){case"bitbucket":const Gt=this.getBranch(St),Ut=this.getBranch(Ot);return Y!==nt||_t!==Tt?(0,W.of)({url:`https://bitbucket.org/${Y}/${_t}/branches/compare/${nt}/${Tt}:${Gt}%0D${Y}/${_t}:${Ut}`}):this.bitbucketApiService.compareCommits(Y,_t,Gt,Ut,"values.hash,values.parents.hash").pipe((0,Z.n)(Ft=>{const jt=Ft.values[0]?.hash,Bt=Ft.values[Ft.values.length-1]?.parents[0]?.hash,Jt={url:`https://bitbucket.org/${Y}/${_t}/branches/compare/${Gt}..${Ut}`,fromCommitId:jt,toCommitId:Bt,commits:Ft.values.map(ne=>ne.hash)};return jt&&Bt?this.commitsApi.compareCommits(J,jt,Bt).pipe((0,S.T)(ne=>({...Jt,fromCommitId:jt,toCommitId:Bt,patches:ne}))):(0,W.of)(null)}));case"github":return this.gitHubApiService.compare(this.integration.token,Y,_t,this.getBranch(Ot),nt,Tt,this.getBranch(St)).pipe((0,Z.n)(Ft=>{const jt=Ft?.commits[Ft.commits.length-1]?.sha,Bt=Ft?.base_commit.sha;if(!Ft)return(0,W.of)(null);const Jt={url:Ft.html_url,fromCommitId:jt,toCommitId:Bt,commits:Ft.commits.map(ne=>ne.sha)};return Ft&&jt&&Bt&&Ft.commits.length<250?this.commitsApi.compareCommits(J,jt,Bt).pipe((0,S.T)(ne=>({...Jt,fromCommitId:jt,toCommitId:Bt,patches:ne}))):(0,W.of)(null)}));case"gitlab":const Wt=this.integration;return this.gitLabApiService.getProject(Wt,Y,_t).pipe((0,Z.n)(Ft=>this.gitLabApiService.compare(Wt,nt,Tt,this.getBranch(St),this.getBranch(Ot),Ft.id)),(0,Z.n)(Ft=>{const jt=Ft?.commit?.id,Bt=Ft?.commits[0]?.parent_ids[0];if(!Ft)return(0,W.of)(null);const Jt={url:Ft.web_url,fromCommitId:jt,toCommitId:Bt,commits:Ft.commits.map(ne=>ne.id)};return Ft&&jt&&Bt?this.commitsApi.compareCommits(J,jt,Bt).pipe((0,S.T)(ne=>({...Jt,fromCommitId:jt,toCommitId:Bt,patches:ne}))):(0,W.of)(null)}));default:throw new Error(`Check not exhaustive '${this.integration}'.`)}}),(0,z.W)(Y=>ot.z9.matches(Y)?(0,W.of)(null):(0,j.$)(()=>Y)),(0,Pt.s)(()=>{this.loadingCompare.next(!1)}),(0,st.Q)(this.destroyed$)).subscribe(Y=>{this.compare.next(Y),this.loadingCompare.next(!1)})}close(){history.back()}openCompareInBrowser(){const m=this.compare.value?.url;m&&window.open(m)}createPullRequest(){const{toRepo:m,toBranch:P,fromRepo:u,fromBranch:J,title:Y,description:_t}=this.form.value,{owner:Ot,repo:nt}=this.getOwnerRepo(m),{owner:Tt,repo:St}=this.getOwnerRepo(u);if(this.form.invalid||!Ot||!nt||!P||!Tt||!St||!J||!Y)throw new ft.XR(new ot.QF);let Gt;switch(this.creatingPullRequest.next(!0),this.integration.type){case"bitbucket":Gt=this.bitbucketApiService.createPullRequest(this.integration,Ot,nt,{title:Y,description:_t??void 0,source:{branch:{name:this.getBranch(J)},repository:{full_name:`${Tt}/${St}`}},destination:{branch:{name:this.getBranch(P)}}});break;case"github":Gt=this.gitHubApiService.createPullRequest(this.integration.token,Ot,nt,{head:`${Tt}:${this.getBranch(J)}`,head_repo:St,base:this.getBranch(P),title:Y,body:_t??void 0});break;case"gitlab":const Ut=this.integration;Gt=this.gitLabApiService.getRepository(Ut,Ot,nt).pipe((0,Z.n)(Xt=>this.gitLabApiService.createMergeRequest(Ut,Tt,St,{source_branch:this.getBranch(J),target_branch:this.getBranch(P),target_project_id:Xt.id??void 0,title:Y,description:_t??void 0})));break;default:throw new Error(`Check not exhaustive '${this.integration}'.`)}Gt.pipe((0,Ct.j)(()=>{this.creatingPullRequest.next(!1)})).subscribe(()=>{this.close()})}getOwnerRepo(m){if("string"==typeof m){const P=m.split("/"),[u,J]=P;return u&&J&&2===P.length?{owner:u,repo:J}:{owner:void 0,repo:void 0}}return m??{owner:void 0,repo:void 0}}static{this.\u0275fac=function(P){return new(P||f)(t.rXU(U.nX),t.rXU(yt.il),t.rXU(gt.m),t.rXU(It.H),t.rXU(E.N),t.rXU(L.P))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ng-component"]],features:[t.Vt3],decls:47,vars:59,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[3,"controls","integration"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab","description"],[1,"title-field"],["type","text","matInput","","required","",3,"formControl"],[4,"ngIf"],[1,"description-field"],["matInput","","rows","5",3,"placeholder","formControl"],["type","button","mat-flat-button","","color","accent",3,"click","disabled"],["diameter","24",4,"ngIf"],[3,"matTooltip"],["type","button","mat-flat-button","","color","primary",3,"click","disabled"],[3,"label",4,"ngIf"],[1,"tab"],[3,"commits"],[3,"fromCommitId","toCommitId","patches"],["disabled",""],["mat-tab-label",""],[1,"disabled-tab",3,"matTooltip"],["diameter","24"]],template:function(P,u){1&P&&(t.j41(0,"header")(1,"button",0),t.bIt("click",function(){return u.close()}),t.j41(2,"mat-icon"),t.EFF(3,"arrow_back"),t.k0s()(),t.j41(4,"span",1),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"main"),t.nrm(8,"app-pull-request-select-view",2),t.j41(9,"mat-tab-group",3)(10,"mat-tab",4),t.nI1(11,"translate"),t.j41(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.nrm(17,"input",7),t.DNE(18,de,3,3,"mat-error",8),t.k0s(),t.j41(19,"mat-form-field",9),t.nrm(20,"textarea",10),t.nI1(21,"translate"),t.k0s()()(),t.DNE(22,c,3,2,"ng-container",8),t.nI1(23,"async"),t.DNE(24,d,5,0,"ng-container",8),t.nI1(25,"async"),t.k0s()(),t.j41(26,"footer")(27,"button",11),t.nI1(28,"async"),t.nI1(29,"async"),t.nI1(30,"async"),t.bIt("click",function(){return u.openCompareInBrowser()}),t.DNE(31,x,1,0,"mat-spinner",12),t.nI1(32,"async"),t.DNE(33,A,3,3,"span",8),t.nI1(34,"async"),t.k0s(),t.j41(35,"span",13),t.nI1(36,"async"),t.nI1(37,"translate"),t.nI1(38,"translate"),t.j41(39,"button",14),t.nI1(40,"async"),t.nI1(41,"async"),t.nI1(42,"async"),t.bIt("click",function(){return u.createPullRequest()}),t.DNE(43,ut,1,0,"mat-spinner",12),t.nI1(44,"async"),t.DNE(45,mt,3,3,"span",8),t.nI1(46,"async"),t.k0s()()()),2&P&&(t.R7$(5),t.JRh(t.bMT(6,21,"Create Pull Request")),t.R7$(3),t.Y8G("controls",u.form.controls)("integration",u.integration),t.R7$(),t.Y8G("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.R7$(),t.FS9("label",t.bMT(11,23,"Description")),t.R7$(5),t.JRh(t.bMT(16,25,"Title")),t.R7$(2),t.Y8G("formControl",u.form.controls.title),t.R7$(),t.Y8G("ngIf",u.form.controls.title.hasError("required")),t.R7$(2),t.FS9("placeholder",t.bMT(21,27,"Leave a comment...")),t.Y8G("formControl",u.form.controls.description),t.R7$(2),t.Y8G("ngIf",t.bMT(23,29,u.compare)),t.R7$(2),t.Y8G("ngIf",void 0===t.bMT(25,31,u.compare)),t.R7$(3),t.Y8G("disabled",t.bMT(28,33,u.loadingCompare)||void 0===t.bMT(29,35,u.compare)||null===t.bMT(30,37,u.compare)),t.R7$(4),t.Y8G("ngIf",t.bMT(32,39,u.loadingCompare)),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(34,41,u.loadingCompare)),t.R7$(2),t.Y8G("matTooltip",void 0===t.bMT(36,43,u.compare)?t.bMT(37,45,"Select valid branches to compare"):u.form.invalid?t.bMT(38,47,"Title is required"):""),t.R7$(4),t.Y8G("disabled",u.form.invalid||t.bMT(40,49,u.loadingCompare)||void 0===t.bMT(41,51,u.compare)||t.bMT(42,53,u.creatingPullRequest)),t.R7$(4),t.Y8G("ngIf",t.bMT(44,55,u.creatingPullRequest)),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(46,57,u.creatingPullRequest)))},dependencies:[N.rl,N.nJ,N.TL,G.fg,M.LG,n.ES,n.mq,n.T8,C.bT,O.me,O.BC,O.YS,O.l_,F.$z,F.iY,g.An,T.oV,te,ht,qt,C.Jj,at.D],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   app-pull-request-select-view[_ngcontent-%COMP%]{flex:0 0 auto}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px;height:calc(100% - 15px)}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;justify-content:stretch}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}"],changeDetection:0})}}return f})();var Dt=i(7468),$t=i(6697),re=i(5596),ge=i(5458);const he=f=>({count:f});function ue(f,xt){1&f&&t.nrm(0,"mat-spinner")}function _e(f,xt){if(1&f&&(t.j41(0,"mat-card",24),t.EFF(1),t.k0s()),2&f){const m=t.XpG().ngIf;t.R7$(),t.JRh(m.description)}}function fe(f,xt){if(1&f&&(t.j41(0,"mat-tab",9),t.nI1(1,"translate"),t.j41(2,"div",10),t.nrm(3,"app-pull-request-commits-view",25),t.k0s()()),2&f){const m=t.XpG().ngIf;t.FS9("label",t.i5U(1,2,"Commits (_count_)",t.eq3(5,he,m.commits.length))),t.R7$(3),t.Y8G("commits",m.commits)}}function be(f,xt){1&f&&(t.nrm(0,"mat-tab",26),t.nI1(1,"translate")),2&f&&t.FS9("label",t.bMT(1,1,"Commits"))}function Ce(f,xt){if(1&f&&(t.j41(0,"mat-tab",9),t.nI1(1,"translate"),t.nrm(2,"app-pull-request-patches-view",27),t.k0s()),2&f){const m=t.XpG().ngIf;t.FS9("label",t.i5U(1,4,"Files changed (_count_)",t.eq3(7,he,m.patches.length))),t.R7$(2),t.Y8G("fromCommitId",m.fromCommitId)("toCommitId",m.toCommitId)("patches",m.patches)}}function Me(f,xt){1&f&&(t.nrm(0,"mat-tab",26),t.nI1(1,"translate")),2&f&&t.FS9("label",t.bMT(1,1,"Files changed"))}function Pe(f,xt){if(1&f&&(t.qex(0),t.j41(1,"span",7),t.EFF(2),t.k0s(),t.j41(3,"mat-tab-group",8)(4,"mat-tab",9),t.nI1(5,"translate"),t.j41(6,"div",10)(7,"div",11)(8,"mat-form-field",12)(9,"mat-label"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.nrm(12,"input",13),t.k0s(),t.j41(13,"mat-form-field",14)(14,"mat-label"),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.nrm(17,"input",13),t.k0s(),t.j41(18,"mat-icon"),t.EFF(19,"arrow_back"),t.k0s(),t.j41(20,"mat-form-field",15)(21,"mat-label"),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.nrm(24,"input",13),t.k0s(),t.j41(25,"mat-form-field",16)(26,"mat-label"),t.EFF(27),t.nI1(28,"translate"),t.k0s(),t.nrm(29,"input",13),t.k0s()(),t.j41(30,"div",17)(31,"div",18),t.EFF(32),t.nI1(33,"translate"),t.nrm(34,"img",19),t.j41(35,"span",20),t.EFF(36),t.k0s(),t.nrm(37,"br"),t.k0s(),t.j41(38,"div",21),t.nI1(39,"translateDate"),t.EFF(40),t.nI1(41,"translate"),t.j41(42,"span",20),t.EFF(43),t.nI1(44,"translateDate"),t.k0s(),t.EFF(45),t.nI1(46,"translate"),t.j41(47,"span",20),t.EFF(48),t.nI1(49,"translateDate"),t.k0s()()(),t.DNE(50,_e,2,1,"mat-card",22),t.k0s()(),t.DNE(51,fe,4,7,"mat-tab",23)(52,be,2,3,"ng-template",null,0,t.C5r)(54,Ce,3,9,"mat-tab",23)(55,Me,2,3,"ng-template",null,1,t.C5r),t.k0s(),t.bVm()),2&f){const m=xt.ngIf,P=t.sdS(53),u=t.sdS(56);t.R7$(2),t.JRh(m.title),t.R7$(),t.Y8G("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.R7$(),t.FS9("label",t.bMT(5,28,"!pull request! Details")),t.R7$(6),t.JRh(t.bMT(11,30,"Base Repository")),t.R7$(2),t.Y8G("value",m.toOwner+"/"+m.toRepo),t.R7$(3),t.JRh(t.bMT(16,32,"Base Branch")),t.R7$(2),t.Y8G("value",m.toBranch),t.R7$(5),t.JRh(t.bMT(23,34,"Head Repository")),t.R7$(2),t.Y8G("value",m.fromOwner+"/"+m.fromRepo),t.R7$(3),t.JRh(t.bMT(28,36,"Head Branch")),t.R7$(2),t.Y8G("value",m.fromBranch),t.R7$(2),t.Y8G("matTooltip",m.authorName),t.R7$(),t.SpI(" ",t.bMT(33,38,"authored by")," "),t.R7$(2),t.Y8G("src",m.authorAvatar,t.B4B)("matTooltip",m.authorName),t.R7$(2),t.JRh(m.authorName),t.R7$(2),t.Y8G("matTooltip",t.i5U(39,40,m.date,"z")||""),t.R7$(2),t.SpI(" ",t.bMT(41,43,"on !date!")," "),t.R7$(3),t.JRh(t.i5U(44,45,m.date,"longDate")),t.R7$(2),t.SpI(" ",t.bMT(46,48,"at !time!")," "),t.R7$(3),t.JRh(t.i5U(49,50,m.date,"HH:mm")),t.R7$(2),t.Y8G("ngIf",m.description),t.R7$(),t.Y8G("ngIf",m.commits)("ngIfElse",P),t.R7$(3),t.Y8G("ngIf",m.patches)("ngIfElse",u)}}function ve(f,xt){1&f&&t.nrm(0,"mat-spinner",28)}function Oe(f,xt){1&f&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&f&&(t.R7$(),t.JRh(t.bMT(2,1,"View in browser")))}let xe=(()=>{class f extends((0,pt.c)(et.N)){constructor(m,P,u,J,Y,_t){super(),this.route=m,this.store=P,this.commitsApi=u,this.bitbucketApiService=J,this.gitHubApiService=Y,this.gitLabApiService=_t,this.pullRequest=new b.t(void 0),this.loading=new b.t(!1)}ngOnInit(){const m=this.route.snapshot.paramMap.get("type");if("bitbucket"!==m&&"github"!==m&&"gitlab"!==m)throw new ot.wQ(m);const P=this.route.snapshot.paramMap.get("owner")??"",u=this.route.snapshot.paramMap.get("repo")??"",J=this.route.snapshot.paramMap.get("id")??"",Y=this.store.selectSnapshot(vt.s.selectedRepositoryPath);if(!Y)throw new ot.Jf;let _t;switch(m){case"bitbucket":_t=this.bitbucketApiService.getPullRequest(P,u,parseInt(J,10)).pipe((0,Z.n)(nt=>{if(!nt)return(0,W.of)(null);const[Tt,St]=nt.source.repository.full_name.split("/")??[],Gt=nt.source.commit.hash,[Ut,Wt]=nt.destination.repository.full_name.split("/")??[],Xt=nt.destination.commit.hash;if(!(Tt&&St&&Ut&&Wt))return(0,W.of)(null);const Ft={url:nt.links.html.href,title:nt.title,description:nt.description,authorName:nt.author.display_name,authorAvatar:nt.author.links.avatar.href,date:new Date(nt.created_on),fromOwner:Tt,fromRepo:St,fromBranch:nt.source.branch.name,fromCommitId:Gt,toOwner:Ut,toRepo:Wt,toBranch:nt.destination.branch.name,toCommitId:Xt};return this.bitbucketApiService.getPullRequestCommits(P,u,parseInt(J,10)).pipe((0,Z.n)(jt=>jt?this.commitsApi.compareCommits(Y,Gt,Xt).pipe((0,S.T)(Bt=>({...Ft,commits:jt.values.map(Jt=>Jt.hash),patches:Bt}))):(0,W.of)(Ft)))}));break;case"github":_t=this.gitHubApiService.getPullRequest(P,u,parseInt(J,10)).pipe((0,Z.n)(nt=>{if(!nt)return(0,W.of)(null);const[Tt,St]=nt.head.repo.full_name.split("/")??[],Gt=nt.head.sha,[Ut,Wt]=nt.base.repo.full_name.split("/")??[],Xt=nt.base.sha;if(!(Tt&&St&&Ut&&Wt))return(0,W.of)(null);const Ft={url:nt.html_url,title:nt.title,description:nt.body,authorName:nt.user.login,authorAvatar:nt.user.avatar_url,date:new Date(nt.created_at),fromOwner:Tt,fromRepo:St,fromBranch:nt.head.ref,fromCommitId:Gt,toOwner:Ut,toRepo:Wt,toBranch:nt.base.ref,toCommitId:Xt};return this.gitHubApiService.getPullRequestCommits(P,u,parseInt(J,10)).pipe((0,Z.n)(jt=>jt&&jt.length<250?this.commitsApi.compareCommits(Y,Gt,Xt).pipe((0,S.T)(Bt=>({...Ft,commits:jt.map(Jt=>Jt.sha),patches:Bt}))):(0,W.of)(Ft)))}));break;case"gitlab":_t=this.gitLabApiService.getMergeRequest(P,u,parseInt(J,10)).pipe((0,Z.n)(nt=>nt?(0,Dt.p)([this.gitLabApiService.getProjectById(nt.source_project_id),this.gitLabApiService.getProjectById(nt.target_project_id)]).pipe((0,S.T)(([Tt,St])=>Tt&&St?{source:Tt,target:St,pullRequest:nt}:null)):(0,W.of)(null)),(0,Z.n)(nt=>{if(!nt)return(0,W.of)(null);const[Tt,St]=nt.source.path_with_namespace.split("/")??[],Gt=nt.pullRequest.diff_refs.head_sha,[Ut,Wt]=nt.target.path_with_namespace.split("/")??[],Xt=nt.pullRequest.diff_refs.base_sha;if(!(Tt&&St&&Ut&&Wt))return(0,W.of)(null);const Ft={url:nt.pullRequest.web_url,title:nt.pullRequest.title,description:nt.pullRequest.description,authorName:nt.pullRequest.author.name,authorAvatar:nt.pullRequest.author.avatar_url,date:new Date(nt.pullRequest.created_at),fromOwner:Tt,fromRepo:St,fromBranch:nt.pullRequest.source_branch,fromCommitId:Gt,toOwner:Ut,toRepo:Wt,toBranch:nt.pullRequest.target_branch,toCommitId:Xt};return this.gitLabApiService.getPullRequestCommits(P,u,parseInt(J,10)).pipe((0,Z.n)(jt=>jt?this.commitsApi.compareCommits(Y,Gt,Xt).pipe((0,S.T)(Bt=>({...Ft,commits:jt.map(Jt=>Jt.id),patches:Bt}))):(0,W.of)(Ft)))}));break;default:throw new Error(`Check not exhaustive '${m}'.`)}this.loading.next(!0),_t.pipe((0,z.W)(Ot=>ot.z9.matches(Ot)?(0,W.of)(null):(0,j.$)(()=>Ot)),(0,$t.s)(1),(0,st.Q)(this.destroyed$),(0,Ct.j)(()=>{this.loading.next(!1)})).subscribe(Ot=>{this.pullRequest.next(Ot)})}openInBrowser(){const m=this.pullRequest.value?.url;m&&window.open(m)}close(){history.back()}static{this.\u0275fac=function(P){return new(P||f)(t.rXU(U.nX),t.rXU(yt.il),t.rXU(gt.m),t.rXU(It.H),t.rXU(E.N),t.rXU(L.P))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ng-component"]],features:[t.Vt3],decls:20,vars:20,consts:[["emptyCommitsTab",""],["emptyPatchesTab",""],["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[4,"ngIf"],["type","button","mat-flat-button","","color","accent",3,"click","disabled"],["diameter","24",4,"ngIf"],[1,"mat-headline-4","title"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab"],[1,"repos"],["subscriptSizing","dynamic",1,"to-repo"],["type","text","matInput","","readonly","",3,"value"],["subscriptSizing","dynamic",1,"to-branch"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],[1,"created"],[1,"author",3,"matTooltip"],[1,"avatar",3,"src","matTooltip"],[1,"highlight"],[1,"date",3,"matTooltip"],["class","description",4,"ngIf"],[3,"label",4,"ngIf","ngIfElse"],[1,"description"],[3,"commits"],["disabled","",3,"label"],[3,"fromCommitId","toCommitId","patches"],["diameter","24"]],template:function(P,u){1&P&&(t.j41(0,"header")(1,"button",2),t.bIt("click",function(){return u.close()}),t.j41(2,"mat-icon"),t.EFF(3,"arrow_back"),t.k0s()(),t.j41(4,"span",3),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"main"),t.DNE(8,ue,1,0,"mat-spinner",4),t.nI1(9,"async"),t.DNE(10,Pe,57,53,"ng-container",4),t.nI1(11,"async"),t.k0s(),t.j41(12,"footer")(13,"button",5),t.nI1(14,"async"),t.nI1(15,"async"),t.bIt("click",function(){return u.openInBrowser()}),t.DNE(16,ve,1,0,"mat-spinner",6),t.nI1(17,"async"),t.DNE(18,Oe,3,3,"span",4),t.nI1(19,"async"),t.k0s()()),2&P&&(t.R7$(5),t.JRh(t.bMT(6,6,"Viewing Pull Request")),t.R7$(3),t.Y8G("ngIf",t.bMT(9,8,u.loading)),t.R7$(2),t.Y8G("ngIf",t.bMT(11,10,u.pullRequest)),t.R7$(3),t.Y8G("disabled",t.bMT(14,12,u.loading)||null===t.bMT(15,14,u.pullRequest)),t.R7$(3),t.Y8G("ngIf",t.bMT(17,16,u.loading)),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(19,18,u.loading)))},dependencies:[N.rl,N.nJ,G.fg,M.LG,n.mq,n.T8,C.bT,F.$z,F.iY,re.RN,g.An,T.oV,te,ht,C.Jj,ge.J,at.D],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-bottom:20px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-repo[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-branch[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]{margin-bottom:20px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:inline-block}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:10%;width:auto;height:1.5625rem;aspect-ratio:1/1;margin:0 3px 0 5px;vertical-align:bottom}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-left:5px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding:10px}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px;height:calc(100% - 15px)}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return f})();var ye=i(9196);let me=(()=>{class f{constructor(m,P){this.router=m,this.authService=P}canActivate(){return"pro"===this.authService.accessLevel.value||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(P){return new(P||f)(t.KVO(U.Ix),t.KVO(ye.u))}}static{this.\u0275prov=t.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),ce=(()=>{class f{constructor(m,P){this.router=m,this.store=P}canActivate(){return!!this.store.selectSnapshot(vt.s.selectedRepositoryPath)||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(P){return new(P||f)(t.KVO(U.Ix),t.KVO(yt.il))}}static{this.\u0275prov=t.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();var le=i(1635),Ie=i(3726),Te=i(5530),ke=i(634),Ee=i(3103),Re=i(4668),we=i(2930),pe=i(8523),De=i(8134);function Fe(f,xt){1&f&&(t.j41(0,"mat-icon",10),t.EFF(1,"folder"),t.k0s())}function Le(f,xt){1&f&&t.nrm(0,"mat-spinner",11)}function Se(f,xt){if(1&f){const m=t.RV6();t.j41(0,"a",5),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.bIt("mouseup",function(u){const J=t.eBV(m).$implicit,Y=t.XpG();return t.Njj(Y.tabClicked(u,J))})("dragstart",function(u){const J=t.eBV(m),Y=J.$implicit,_t=J.index,Ot=t.XpG();return t.Njj(Ot.dragstartListener(u,Y,_t))})("dragleave",function(){t.eBV(m);const u=t.XpG();return t.Njj(u.dragOverRepositoryIndex.next(null))})("dragover",function(u){const J=t.eBV(m).index,Y=t.XpG();return t.Njj(Y.dragoverListener(u,J))})("drop",function(u){const J=t.eBV(m).index,Y=t.XpG();return t.Njj(Y.dropListener(u,J))}),t.DNE(4,Fe,2,0,"mat-icon",6)(5,Le,1,0,"mat-spinner",7),t.j41(6,"span",8),t.EFF(7),t.k0s(),t.j41(8,"mat-icon",9),t.bIt("click",function(){const u=t.eBV(m).$implicit,J=t.XpG();return t.Njj(J.closeRepository(u.path))}),t.EFF(9,"close"),t.k0s()()}if(2&f){const m=xt.$implicit,P=xt.index,u=t.XpG();t.AVh("border-left",t.bMT(1,11,u.hasLeftBorder(P)))("border-right",t.bMT(2,13,u.hasRightBorder(P))),t.Y8G("matTooltip",m.path)("active",t.bMT(3,15,u.selectedRepositoryPath)===m.path),t.R7$(4),t.Y8G("ngIf",m.loaded),t.R7$(),t.Y8G("ngIf",!m.loaded),t.R7$(),t.AVh("disabled",!m.loaded),t.R7$(),t.JRh(m.name)}}function Be(f,xt){if(1&f){const m=t.RV6();t.j41(0,"a",12),t.nI1(1,"translate"),t.nI1(2,"async"),t.bIt("mouseup",function(u){t.eBV(m);const J=t.XpG();return t.Njj(J.changelogClicked(u))}),t.j41(3,"mat-icon",10),t.EFF(4,"auto_awesome"),t.k0s(),t.j41(5,"span",8),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"mat-icon",13),t.bIt("mouseup",function(u){t.eBV(m);const J=t.XpG();return t.Njj(J.closeChangelogClicked(u))}),t.EFF(9,"close"),t.k0s()()}if(2&f){const m=t.XpG();t.Y8G("matTooltip",t.bMT(1,3,"See whats new! !release notes!"))("active",m.isChangelogUrl()&&null===t.bMT(2,5,m.selectedRepositoryPath)),t.R7$(6),t.JRh(t.bMT(7,7,"Release Notes"))}}let Ae=(()=>{class f extends((0,pt.c)(et.N)){documentKeydown(m){if(!m.isComposing&&(we.c?m.metaKey:m.ctrlKey)&&!m.altKey&&!m.metaKey)switch(m.key){case"W":case"w":if(!m.shiftKey){const P=this.store.selectSnapshot(vt.s.selectedRepositoryPath);P&&this.closeRepository(P)}break;case"T":case"t":m.shiftKey||this.openNewRepository();break;case"Tab":{const P=this.store.selectSnapshot(vt.s.selectedRepositoryPath);this.visibleRepositories.pipe((0,$t.s)(1)).subscribe(u=>{const J=P?u.findIndex(_t=>_t.path===P):u.length;if(J<0)throw new ot.wN(P??"");let Y=J+(m.shiftKey?-1:1);Y>=u.length?Y=0:Y<0&&(Y=u.length-1),this.changeRepository(u[Y]?.path??null)});break}}}documentMouseDown(m){1===m.button&&m.preventDefault()}constructor(m,P,u,J){super(),this.cdr=m,this.router=P,this.store=u,this.updatesApiService=J,this.inkBarAnimationDisabled=new b.t(!1),this.dragRepositoryIndex=null,this.dragOverRepositoryIndex=new b.t(null),this.dragPosition=new b.t(null),this.dragstartListener=(Y,_t,Ot)=>{Y.dataTransfer&&(Y.dataTransfer.setData("app/repository",_t.path),Y.dataTransfer.setData("app/repository-tab",_t.path),Y.dataTransfer.effectAllowed="move",this.dragRepositoryIndex=Ot)},this.dragoverListener=(Y,_t)=>{if(Y.dataTransfer&&Y.dataTransfer.types.includes("app/repository")){Y.preventDefault(),Y.dataTransfer.dropEffect="move",this.dragOverRepositoryIndex.value!==_t&&this.dragOverRepositoryIndex.next(_t);const Ot=Y.target;if(Ot.draggable){const nt=this.getDragoverPosition(Y.offsetX,Ot.clientWidth);this.dragPosition.value!==nt&&this.dragPosition.next(nt)}}},this.dropListener=(Y,_t)=>{if(Y.dataTransfer&&Y.dataTransfer.types.includes("app/repository-tab")){this.dragOverRepositoryIndex.value!==_t&&this.dragOverRepositoryIndex.next(_t);const Ot=Y.target;if(Ot.draggable){const nt=this.getDragoverPosition(Y.offsetX,Ot.clientWidth);this.dragPosition.value!==nt&&this.dragPosition.next(nt)}Y.preventDefault(),(0,h.z)([this.openOrLoadingRepositories,this.visibleRepositories]).pipe((0,st.Q)(this.destroyed$),(0,$t.s)(1)).subscribe(([nt,Tt])=>{const St=_t+("right"===this.dragPosition.value?1:0);if(null!==this.dragRepositoryIndex&&St>=0){const Gt=Tt[this.dragRepositoryIndex]?.path,Ut=Tt[St]?.path,Wt=nt.findIndex(Bt=>Bt.path===Gt),Xt=Ut?nt.findIndex(Bt=>Bt.path===Ut):nt.length,Ft=Wt>Xt?[...nt.slice(0,Xt),nt[Wt],...nt.filter((Bt,Jt)=>Jt!==Wt).slice(Xt)]:Wt<Xt?[...nt.slice(0,Xt).filter((Bt,Jt)=>Jt!==Wt),nt[Wt],...nt.slice(Xt)]:nt;this.inkBarAnimationDisabled.next(!0);const jt=Ft.map(Bt=>Bt?.path).filter(ft.O9);this.store.dispatch(new Et.c9(jt)).pipe((0,Ee.c)(250)).subscribe(()=>this.inkBarAnimationDisabled.next(!1))}})}this.dragRepositoryIndex=null,this.dragOverRepositoryIndex.next(null),this.dragPosition.next(null)},this.hasLeftBorder=Y=>(0,h.z)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,S.T)(([_t,Ot])=>_t===Y&&"left"===Ot||_t===Y-1&&"right"===Ot)),this.hasRightBorder=Y=>(0,h.z)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,S.T)(([_t,Ot])=>_t===Y&&"right"===Ot||_t===Y+1&&"left"===Ot)),this.getDragoverPosition=(Y,_t)=>Y/_t<.5?"left":"right"}ngOnInit(){this.visibleRepositories=(0,h.z)([this.openOrLoadingRepositories,this.profile]).pipe((0,S.T)(([m,P])=>P&&"all"!==P.allowedRepositories?m.filter(u=>P.allowedRepositories.includes(u.path)):m),(0,st.Q)(this.destroyed$),(0,Re.t)(1)),this.hasUnreadChangelog=this.store.select(pe.QP.changelogReadUpto).pipe((0,Z.n)(m=>this.updatesApiService.getVersion().pipe((0,S.T)(P=>{if(!m)return!1;const[u,J,Y]=P.replace(/-.*$/,"").split(".").map(St=>+St),[_t,Ot,nt]=m.replace(/-.*$/,"").split(".").map(St=>+St),Tt=void 0===u||void 0===J||void 0===_t||void 0===Ot||_t<u||Ot<J;return Tt&&this.openChangelog(),Tt}))))}ngAfterViewInit(){setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},100),setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},1e3)}trackRepository(m,P){return P.path}tabClicked(m,P){switch(m.button){case 0:P.loaded&&this.changeRepository(P.path);break;case 1:this.closeRepository(P.path)}}changeRepository(m){this.store.dispatch(new Et.Yn(m)).subscribe(()=>{this.router.navigate(["/standard/default"])})}closeRepository(m){this.store.dispatch(new Et.Bx(m))}isChangelogUrl(){return"/standard/changelog"===this.router.url}changelogClicked(m){switch(m.button){case 0:this.openChangelog();break;case 1:this.closeChangelog()}}closeChangelogClicked(m){0===m.button&&(this.closeChangelog(),m.preventDefault(),m.stopPropagation())}openChangelog(){this.store.dispatch(new Et.Yn(null)).subscribe(()=>{this.router.navigate(["/standard/changelog"])})}closeChangelog(){this.updatesApiService.getVersion().subscribe(m=>{this.store.dispatch(new pe.px(m)).subscribe(()=>{this.router.navigate(["/standard/default"])})})}openNewRepository(){this.store.dispatch(new Et.Yn(null)).subscribe(()=>{this.router.navigate(["/standard/open-repository"])})}static{this.\u0275fac=function(P){return new(P||f)(t.rXU(t.gRc),t.rXU(U.Ix),t.rXU(yt.il),t.rXU(De.I))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["app-repository-tabs-view"]],viewQuery:function(P,u){if(1&P&&t.GBs(n.Bu,5),2&P){let J;t.mGM(J=t.lsd())&&(u.matTabNav=J.first)}},hostBindings:function(P,u){1&P&&t.bIt("keydown",function(Y){return u.documentKeydown(Y)},!1,t.EBC)("mousedown",function(Y){return u.documentMouseDown(Y)},!1,t.EBC)},features:[t.Vt3],decls:13,vars:20,consts:[["tabPanel",""],["mat-tab-nav-bar","",3,"tabPanel","mat-stretch-tabs","disablePagination"],["mat-tab-link","","draggable","true",3,"border-left","border-right","matTooltip","active","mouseup","dragstart","dragleave","dragover","drop",4,"ngFor","ngForOf","ngForTrackBy"],["mat-tab-link","","class","changelog-link",3,"matTooltip","active","mouseup",4,"ngIf"],["mat-tab-link","",1,"new-tab-link",3,"click","matTooltip","active"],["mat-tab-link","","draggable","true",3,"mouseup","dragstart","dragleave","dragover","drop","matTooltip","active"],["class","prefix",4,"ngIf"],["class","prefix disabled","diameter","18",4,"ngIf"],[1,"name"],["draggable","false",1,"suffix",3,"click"],[1,"prefix"],["diameter","18",1,"prefix","disabled"],["mat-tab-link","",1,"changelog-link",3,"mouseup","matTooltip","active"],[1,"suffix",3,"mouseup"]],template:function(P,u){if(1&P){const J=t.RV6();t.j41(0,"nav",1),t.nI1(1,"async"),t.DNE(2,Se,10,17,"a",2),t.nI1(3,"async"),t.DNE(4,Be,10,9,"a",3),t.nI1(5,"async"),t.j41(6,"a",4),t.nI1(7,"translate"),t.nI1(8,"async"),t.bIt("click",function(){return t.eBV(J),t.Njj(u.openNewRepository())}),t.j41(9,"mat-icon"),t.EFF(10,"add"),t.k0s()()(),t.nrm(11,"mat-tab-nav-panel",null,0)}if(2&P){const J=t.sdS(12);t.AVh("ink-bar-animation-disabled",t.bMT(1,10,u.inkBarAnimationDisabled)),t.Y8G("tabPanel",J)("mat-stretch-tabs",!1)("disablePagination",!0),t.R7$(2),t.Y8G("ngForOf",t.bMT(3,12,u.visibleRepositories))("ngForTrackBy",u.trackRepository),t.R7$(2),t.Y8G("ngIf",u.isChangelogUrl()||t.bMT(5,14,u.hasUnreadChangelog)),t.R7$(2),t.Y8G("matTooltip",t.bMT(7,16,"Open a new repository"))("active",!u.isChangelogUrl()&&null===t.bMT(8,18,u.selectedRepositoryPath))}},dependencies:[C.Sq,C.bT,g.An,T.oV,M.LG,n.Bu,n.hQ,n.Ql,C.Jj,at.D],styles:['nav.ink-bar-animation-disabled[_ngcontent-%COMP%]     .mat-ink-bar{transition:none!important}.mat-mdc-tab-link[_ngcontent-%COMP%]{position:relative;padding:0 18px;min-width:120px}.mat-mdc-tab-link[_ngcontent-%COMP%]     .mdc-tab__content{pointer-events:initial}.mat-mdc-tab-link[_ngcontent-%COMP%]:before, .mat-mdc-tab-link[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;height:100%;width:1px;margin:0;padding:0;border:none;background-color:transparent;top:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:before{left:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:after{right:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:first-child:before{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]:nth-last-child(2):after{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{margin-right:10px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{pointer-events:none}.mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{margin-left:5px;z-index:1}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.new-tab-link[_ngcontent-%COMP%]{min-width:48px}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#ffffff80}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#00000061}'],changeDetection:0})}}return(0,le.Cg)([(0,yt.l6)(vt.s.selectedRepositoryPath)],f.prototype,"selectedRepositoryPath",void 0),(0,le.Cg)([(0,yt.l6)(vt.s.openOrLoadingRepositories)],f.prototype,"openOrLoadingRepositories",void 0),(0,le.Cg)([(0,yt.l6)(Lt.d.selectedProfile)],f.prototype,"profile",void 0),f})();const je=["header"],Ve=()=>["/settings"];function Ge(f,xt){if(1&f&&t.nrm(0,"app-avatar",7),2&f){const m=t.XpG().ngIf;t.Y8G("email",m.email)}}function $e(f,xt){if(1&f&&(t.j41(0,"span"),t.DNE(1,Ge,1,1,"app-avatar",6),t.EFF(2),t.k0s()),2&f){const m=xt.ngIf;t.R7$(),t.Y8G("ngIf",m.email),t.R7$(),t.SpI(" ",m.profileName," ")}}function Ue(f,xt){if(1&f&&t.nrm(0,"app-avatar",10),2&f){const m=t.XpG().$implicit;t.Y8G("email",m.value.email)}}function Ne(f,xt){if(1&f&&(t.j41(0,"mat-option",8),t.DNE(1,Ue,1,1,"app-avatar",9),t.EFF(2),t.k0s()),2&f){const m=xt.$implicit;t.Y8G("value",m.key),t.R7$(),t.Y8G("ngIf",m.value.email),t.R7$(),t.SpI(" ",m.value.profileName," ")}}const We=[{path:"",component:(()=>{class f extends((0,pt.c)(et.N)){constructor(m){super(),this.store=m,this.selectedProfileControl=new O.MJ(null)}ngOnInit(){this.selectedProfileId.pipe((0,st.Q)(this.destroyed$)).subscribe(m=>{this.selectedProfileControl.setValue(m,{emitEvent:!1})}),this.selectedProfileControl.valueChanges.pipe((0,st.Q)(this.destroyed$)).subscribe(m=>{null!==m&&this.store.dispatch(new Te.N5(m))}),(0,Ie.R)(this.headerElement.nativeElement,"wheel",{passive:!0}).pipe((0,st.Q)(this.destroyed$)).subscribe(m=>{this.headerElement.nativeElement.scrollLeft+=m.deltaY})}static{this.\u0275fac=function(P){return new(P||f)(t.rXU(yt.il))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ng-component"]],viewQuery:function(P,u){if(1&P&&t.GBs(je,7),2&P){let J;t.mGM(J=t.lsd())&&(u.headerElement=J.first)}},features:[t.Vt3],decls:19,vars:17,consts:[["header",""],["subscriptSizing","dynamic",1,"profile-selector"],[3,"formControl"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"settings-icon",3,"routerLink","matTooltip"],[3,"email",4,"ngIf"],[3,"email"],[3,"value"],["class","profile-select-avatar",3,"email",4,"ngIf"],[1,"profile-select-avatar",3,"email"]],template:function(P,u){1&P&&(t.j41(0,"header",null,0),t.nrm(2,"app-repository-tabs-view"),t.j41(3,"mat-form-field",1)(4,"mat-label"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"mat-select",2)(8,"mat-select-trigger"),t.DNE(9,$e,3,2,"span",3),t.nI1(10,"async"),t.k0s(),t.DNE(11,Ne,3,3,"mat-option",4),t.nI1(12,"async"),t.nI1(13,"keyvalue"),t.k0s()(),t.j41(14,"mat-icon",5),t.nI1(15,"translate"),t.EFF(16,"settings"),t.k0s()(),t.nrm(17,"router-outlet")(18,"app-notification-tray-view")),2&P&&(t.R7$(5),t.JRh(t.bMT(6,6,"Select Profile")),t.R7$(2),t.Y8G("formControl",u.selectedProfileControl),t.R7$(2),t.Y8G("ngIf",t.bMT(10,8,u.selectedProfile)),t.R7$(2),t.Y8G("ngForOf",t.bMT(13,12,t.bMT(12,10,u.profiles))),t.R7$(3),t.Y8G("routerLink",t.lJ4(16,Ve))("matTooltip",t.bMT(15,14,"Settings")))},dependencies:[N.rl,N.nJ,r.VO,r.$2,y.wT,C.Sq,C.bT,O.BC,O.l_,g.An,T.oV,Kt.f,ke.I,Ae,U.n3,U.Wk,C.Jj,C.lG,at.D],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;height:50px;min-height:50px;border-bottom:1px solid transparent;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:1px}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]{flex:1 0 auto}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]     .mat-mdc-tab-nav-bar{border:none}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]{flex:0 0 200px;margin-right:12px;margin-top:8px;height:38px}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{height:15px;vertical-align:middle;font-size:0}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:7px 0;min-height:38px}header[_ngcontent-%COMP%]   .settings-icon[_ngcontent-%COMP%]{flex:0 0 auto;margin:12px;cursor:pointer}app-notification-tray-view[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px;margin-right:10px;margin-top:10px;z-index:1000}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#ffffff1f}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#0000001f}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}"],changeDetection:0})}}return(0,le.Cg)([(0,yt.l6)(Lt.d.profiles)],f.prototype,"profiles",void 0),(0,le.Cg)([(0,yt.l6)(Lt.d.selectedProfileId)],f.prototype,"selectedProfileId",void 0),(0,le.Cg)([(0,yt.l6)(Lt.d.selectedProfile)],f.prototype,"selectedProfile",void 0),(0,le.Cg)([(0,yt.l6)(vt.s.selectedRepositoryPath)],f.prototype,"selectedRepositoryPath",void 0),f})(),children:[{path:"blame",canActivate:[ce],loadChildren:()=>i.e(247).then(i.bind(i,3247)).then(f=>f.BlameLayoutModule)},{path:"changelog",loadChildren:()=>i.e(586).then(i.bind(i,3586)).then(f=>f.ChangelogLayoutModule)},{path:"default",canActivate:[ce],loadChildren:()=>Promise.all([i.e(454),i.e(24),i.e(76)]).then(i.bind(i,7076)).then(f=>f.DefaultLayoutModule)},{path:"open-repository",loadChildren:()=>Promise.all([i.e(454),i.e(7),i.e(284)]).then(i.bind(i,5284)).then(f=>f.OpenRepositoryLayoutModule)},{path:"pull-request/create/:type/:integrationId",canActivate:[ce,me],component:Qt},{path:"pull-request/view/:type/:owner/:repo/:id",canActivate:[ce,me],component:xe},{path:"rebase",canActivate:[ce],loadChildren:()=>Promise.all([i.e(24),i.e(701)]).then(i.bind(i,5701)).then(f=>f.RebaseLayoutModule)},{path:"search",canActivate:[ce],loadChildren:()=>Promise.all([i.e(454),i.e(572)]).then(i.bind(i,3572)).then(f=>f.SearchLayoutModule)},{path:"",redirectTo:"default",pathMatch:"full"}]}];let Ke=(()=>{class f{static{this.\u0275fac=function(P){return new(P||f)}}static{this.\u0275mod=t.$C({type:f})}static{this.\u0275inj=t.G2t({imports:[U.iI.forChild(We),U.iI]})}}return f})(),Xe=(()=>{class f{static{this.\u0275fac=function(P){return new(P||f)}}static{this.\u0275mod=t.$C({type:f})}static{this.\u0275inj=t.G2t({imports:[e.Fg,r.Ve,p.U,it.f,$,k.a,Ke]})}}return f})()},2140:(kt,ct,i)=>{i.d(ct,{I:()=>it});var e=i(9630),r=i(4438),p=i(2021);let it=(()=>{class o{constructor(N){this.baseApi=N}getHighlightedFile(N,G,R,M){return this.baseApi.single(e.x.highlight.getHighlightedFile,N,G,R,M)}static{this.\u0275fac=function(G){return new(G||o)(r.KVO(p.v))}}static{this.\u0275prov=r.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},8099:(kt,ct,i)=>{i.d(ct,{p:()=>p});var e=i(1117),r=i(4438);let p=(()=>{class it{static{this.\u0275fac=function(N){return new(N||it)}}static{this.\u0275mod=r.$C({type:it})}static{this.\u0275inj=r.G2t({imports:[e.U]})}}return it})()},9820:(kt,ct,i)=>{i.d(ct,{u:()=>o});var e=i(9250),r=i(4548),p=i(8099),it=i(4438);let o=(()=>{class s{getPatchPath(G){switch(G.status){case e.z.Added:case e.z.Untracked:return G.newFilePath;case e.z.Conflicted:case e.z.Modified:case e.z.Renamed:return G.oldFilePath===G.newFilePath?G.newFilePath:`${G.oldFilePath} --\x3e ${G.newFilePath}`;case e.z.Deleted:return G.oldFilePath;default:throw new r.kV(G.status)}}getPatchIcon(G){switch(G.status){case e.z.Added:case e.z.Untracked:return"add";case e.z.Conflicted:return"warning";case e.z.Modified:return"create";case e.z.Deleted:return"remove";case e.z.Renamed:return"swap_horiz";default:throw new r.kV(G.status)}}getPatchIconColorClass(G){switch(G.status){case e.z.Added:case e.z.Untracked:return"green";case e.z.Conflicted:case e.z.Modified:return"orange";case e.z.Deleted:return"red";case e.z.Renamed:return"blue";default:throw new r.kV(G.status)}}static{this.\u0275fac=function(R){return new(R||s)}}static{this.\u0275prov=it.jDH({token:s,factory:s.\u0275fac,providedIn:p.p})}}return s})()},9399:(kt,ct,i)=>{i.d(ct,{M:()=>k});var e=i(7673),r=i(8810),p=i(9437),it=i(5558),o=i(6354),s=i(4548),N=i(8672),G=i(319),R=i(2570),M=i(2039),n=i(877),w=i(7216),I=i(4438),Q=i(9843),t=i(4748),$=i(9641);let k=(()=>{class U{constructor(b,h,v){this.store=b,this.repositoriesApi=h,this.stashApi=v,this.discardAllChanges=_=>this.store.dispatch(new w.Wi(_,{name:"Discard",detail:(0,N.Tl)("All changes"),do:S=>{const H=this.store.selectSnapshot(n.s.openRepositoryIds);return this.stashApi.saveWorkingCopyState(_).pipe((0,p.W)(()=>(S(),(0,e.of)(""))),(0,it.n)(rt=>this.repositoriesApi.discardAllChanges(_).pipe((0,p.W)(Z=>s.Gs.matches(Z)?(0,r.$)(()=>new G.XR(Z)):(0,r.$)(()=>Z)),(0,R.P)(Z=>{const W=Z?.filter(z=>H.includes(z))??[];return this.store.dispatch([...W.map(z=>new M.cX(z,[M.iK.currentBranch,M.iK.currentBranchCommitId,M.iK.headCommitId])),new M.cX(_,[M.iK.unstagedChanges,M.iK.submodules])]).pipe((0,o.T)(()=>[W,rt]))}))))},undo:([S,H])=>this.stashApi.restoreWorkingCopyState(_,H).pipe((0,R.P)(()=>this.store.dispatch([...S.map(rt=>new M.cX(rt,[M.iK.currentBranch,M.iK.currentBranchCommitId,M.iK.headCommitId])),new M.cX(_,[M.iK.unstagedChanges,M.iK.submodules])])))})),this.discardFiles=(_,S)=>this.store.dispatch(new w.Wi(_,{name:"Discard",detail:S.map(H=>H.newFilePath??H.oldFilePath).join(", "),do:H=>{const rt=this.store.selectSnapshot(n.s.openRepositoryIds);return this.stashApi.saveWorkingCopyState(_,S.map(Z=>Z.newFilePath??Z.oldFilePath).filter(G.O9)).pipe((0,p.W)(()=>(H(),(0,e.of)(""))),(0,it.n)(Z=>this.repositoriesApi.discardFiles(_,S).pipe((0,p.W)(W=>s.Gs.matches(W)?(0,r.$)(()=>new G.XR(W)):(0,r.$)(()=>W)),(0,R.P)(W=>{const z=W?.filter(j=>rt.includes(j))??[];return this.store.dispatch([...z.map(j=>new M.cX(j,[M.iK.currentBranch,M.iK.currentBranchCommitId,M.iK.headCommitId])),new M.cX(_,[M.iK.unstagedChanges,M.iK.submodules])]).pipe((0,o.T)(()=>[z,Z]))}))))},undo:([H,rt])=>this.stashApi.restoreWorkingCopyState(_,rt).pipe((0,R.P)(()=>this.store.dispatch([...H.map(Z=>new M.cX(Z,[M.iK.currentBranch,M.iK.currentBranchCommitId,M.iK.headCommitId])),new M.cX(_,[M.iK.unstagedChanges,M.iK.submodules])])))})),this.discardFileLines=(_,S,H,rt)=>this.store.dispatch(new w.Wi(_,{name:"Discard lines",detail:(0,N.Tl)("In _name_",{name:H??S}),do:()=>this.repositoriesApi.discardFileLines(_,S,H,rt).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.unstagedChanges,M.iK.submodules]))))})),this.stageAllChanges=_=>this.store.dispatch(new w.Wi(_,{name:"Stage",detail:(0,N.Tl)("All changes"),do:()=>this.repositoriesApi.getUnstagedChanges(_).pipe((0,it.n)(S=>this.repositoriesApi.stageAllChanges(_).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.stagedChanges,M.iK.unstagedChanges,M.iK.submodules]))),(0,R.P)(()=>(0,e.of)(S))))),undo:S=>this.repositoriesApi.unstageFiles(_,S).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.stagedChanges,M.iK.unstagedChanges,M.iK.submodules]))))})),this.stageFiles=(_,S)=>this.store.dispatch(new w.Wi(_,{name:"Stage",detail:S.map(H=>H.newFilePath??H.oldFilePath).join(", "),do:()=>this.repositoriesApi.stageFiles(_,S).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.stagedChanges,M.iK.unstagedChanges,M.iK.submodules])))),undo:()=>this.repositoriesApi.unstageFiles(_,S).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.stagedChanges,M.iK.unstagedChanges,M.iK.submodules]))))})),this.stageFileLines=(_,S,H,rt)=>this.store.dispatch(new w.Wi(_,{name:"Stage lines",detail:(0,N.Tl)("In _name_",{name:H??S}),do:()=>this.repositoriesApi.stageFileLines(_,S,H,rt).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.stagedChanges,M.iK.unstagedChanges,M.iK.submodules]))))})),this.unstageAllChanges=_=>this.store.dispatch(new w.Wi(_,{name:"Unstage",detail:(0,N.Tl)("All changes"),do:()=>this.repositoriesApi.getStagedChanges(_).pipe((0,it.n)(S=>this.repositoriesApi.unstageAllChanges(_).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.stagedChanges,M.iK.unstagedChanges,M.iK.submodules]))),(0,R.P)(()=>(0,e.of)(S))))),undo:S=>this.repositoriesApi.stageFiles(_,S).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.stagedChanges,M.iK.unstagedChanges,M.iK.submodules]))))})),this.unstageFiles=(_,S)=>this.store.dispatch(new w.Wi(_,{name:"Unstage",detail:S.map(H=>H.newFilePath??H.oldFilePath).join(", "),do:()=>this.repositoriesApi.unstageFiles(_,S).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.stagedChanges,M.iK.unstagedChanges,M.iK.submodules])))),undo:()=>this.repositoriesApi.stageFiles(_,S).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.stagedChanges,M.iK.unstagedChanges,M.iK.submodules]))))})),this.unstageFileLines=(_,S,H,rt)=>this.store.dispatch(new w.Wi(_,{name:"Unstage lines",detail:(0,N.Tl)("In _name_",{name:H??S}),do:()=>this.repositoriesApi.unstageFileLines(_,S,H,rt).pipe((0,R.P)(()=>this.store.dispatch(new M.cX(_,[M.iK.stagedChanges,M.iK.unstagedChanges,M.iK.submodules]))))}))}static{this.\u0275fac=function(h){return new(h||U)(I.KVO(Q.il),I.KVO(t.M),I.KVO($.X))}}static{this.\u0275prov=I.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},1693:(kt,ct,i)=>{i.d(ct,{n:()=>N});var e=i(4438),r=i(3130),p=i(949);function it(G,R){if(1&G){const M=e.RV6();e.j41(0,"app-new-commit",3),e.bIt("patchChanged",function(w){e.eBV(M);const I=e.XpG(2);return e.Njj(I.patchChanged.next(w))}),e.k0s()}}function o(G,R){if(1&G){const M=e.RV6();e.j41(0,"app-commit",4),e.bIt("patchChanged",function(w){e.eBV(M);const I=e.XpG(2);return e.Njj(I.patchChanged.next(w))}),e.k0s()}if(2&G){const M=e.XpG(2);e.Y8G("commit",M.commit)("selectedFile",M.selectedFile)}}function s(G,R){if(1&G&&(e.qex(0),e.DNE(1,it,1,0,"app-new-commit",1)(2,o,1,2,"app-commit",2),e.bVm()),2&G){const M=R.ngIf;e.R7$(),e.Y8G("ngIf","head"===M),e.R7$(),e.Y8G("ngIf","head"!==M)}}let N=(()=>{class G extends((0,r.c)(p.N)){constructor(){super(...arguments),this.patchChanged=new e.bkB}static{this.\u0275fac=(()=>{let M;return function(w){return(M||(M=e.xGo(G)))(w||G)}})()}static{this.\u0275cmp=e.VBU({type:G,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[e.Vt3],decls:2,vars:3,consts:[[4,"ngIf"],[3,"patchChanged",4,"ngIf"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],[3,"patchChanged"],[3,"patchChanged","commit","selectedFile"]],template:function(n,w){1&n&&(e.DNE(0,s,3,2,"ng-container",0),e.nI1(1,"async")),2&n&&e.Y8G("ngIf",e.bMT(1,1,w.commit))},encapsulation:2,changeDetection:0})}}return G})()},2992:(kt,ct,i)=>{i.d(ct,{s:()=>se});var e=i(5596),r=i(2765),p=i(9042),it=i(9183),o=i(1117),s=i(8099),N=i(3054),G=i(1693),R=i(1635),M=i(6939),n=i(4438),w=i(9843),I=i(6697),Q=i(6977),t=i(3130),$=i(949),k=i(4315),U=i(2039),O=i(877),b=i(6969),h=i(2724),v=i(9820),_=i(177),S=i(9213),H=i(4823),rt=i(477),Z=i(6268),W=i(1619),z=i(8667),j=i(5458),st=i(1751);function Ct(ht,At){if(1&ht){const y=n.RV6();n.j41(0,"li",21),n.bIt("click",function(){const tt=n.eBV(y).$implicit,Mt=n.XpG(4);return n.Njj(Mt.changeCommit(tt))}),n.EFF(1),n.k0s()}if(2&ht){const y=At.$implicit,V=At.first;n.Y8G("matTooltip",y),n.R7$(),n.Lme("",V?"":", ","",y,"")}}function ot(ht,At){if(1&ht&&(n.j41(0,"div",18)(1,"span",5),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"div",19)(5,"ul"),n.DNE(6,Ct,2,3,"li",20),n.k0s()()()),2&ht){const y=n.XpG(2).ngIf;n.AVh("plural",y.parentIds.length>1),n.R7$(2),n.SpI("",n.bMT(3,4,1===y.parentIds.length?"Parent:":"Parents:")," "),n.R7$(4),n.Y8G("ngForOf",y.parentIds)}}function pt(ht,At){if(1&ht&&(n.j41(0,"div",22),n.EFF(1),n.nI1(2,"translate"),n.nrm(3,"app-avatar",12),n.nI1(4,"async"),n.j41(5,"span",13),n.EFF(6),n.k0s()()),2&ht){const y=n.XpG(2).ngIf,V=n.XpG();n.Y8G("matTooltip",y.committerName+" ("+y.committerEmail+")"),n.R7$(),n.SpI(" ",n.bMT(2,5,"committed by")," "),n.R7$(2),n.Y8G("remotes",n.bMT(4,7,V.remotes))("email",y.committerEmail),n.R7$(3),n.JRh(y.committerName)}}function et(ht,At){if(1&ht){const y=n.RV6();n.j41(0,"div",23)(1,"div",24),n.EFF(2),n.k0s(),n.j41(3,"button",25),n.bIt("click",function(){const tt=n.eBV(y).data,Mt=n.XpG(3);return n.Njj(Mt.copyToClipboard(Mt.getPatchPath(tt)))}),n.j41(4,"mat-icon"),n.EFF(5,"content_copy"),n.k0s(),n.j41(6,"span"),n.EFF(7),n.nI1(8,"translate"),n.k0s()(),n.j41(9,"button",26),n.bIt("click",function(){const tt=n.eBV(y).data,Mt=n.XpG(3);return n.Njj(Mt.blamePatch(tt))}),n.j41(10,"mat-icon"),n.EFF(11,"document_scanner"),n.k0s(),n.j41(12,"span"),n.EFF(13),n.nI1(14,"translate"),n.k0s()()()}if(2&ht){let y;const V=At.data,tt=n.XpG(3);n.R7$(),n.Y8G("matTooltip",null!==(y=tt.getPatchPath(V))&&void 0!==y?y:""),n.R7$(),n.JRh(tt.getPatchFilename(V)),n.R7$(5),n.JRh(n.bMT(8,4,"Copy Path")),n.R7$(6),n.JRh(n.bMT(14,6,"Blame"))}}function ft(ht,At){if(1&ht){const y=n.RV6();n.j41(0,"div",3)(1,"header")(2,"div",4),n.bIt("click",function(){n.eBV(y);const tt=n.XpG().ngIf,Mt=n.XpG();return n.Njj(Mt.copyToClipboard(tt.id))}),n.j41(3,"span",5),n.EFF(4),n.nI1(5,"translate"),n.k0s(),n.EFF(6),n.k0s(),n.DNE(7,ot,7,6,"div",6),n.k0s(),n.j41(8,"app-grid",7)(9,"app-grid-cell")(10,"mat-card",8)(11,"div",9)(12,"span",10),n.EFF(13),n.k0s(),n.nrm(14,"br"),n.j41(15,"span"),n.EFF(16),n.k0s()(),n.j41(17,"div",11),n.EFF(18),n.nI1(19,"translate"),n.nrm(20,"app-avatar",12),n.nI1(21,"async"),n.j41(22,"span",13),n.EFF(23),n.k0s(),n.nrm(24,"br"),n.k0s(),n.DNE(25,pt,7,9,"div",14),n.j41(26,"div",15),n.nI1(27,"translateDate"),n.EFF(28),n.nI1(29,"translate"),n.j41(30,"span",13),n.EFF(31),n.nI1(32,"translateDate"),n.k0s(),n.EFF(33),n.nI1(34,"translate"),n.j41(35,"span",13),n.EFF(36),n.nI1(37,"translateDate"),n.k0s()()()(),n.j41(38,"app-grid-cell")(39,"mat-card",16)(40,"app-patches-view",17),n.nI1(41,"async"),n.bIt("selectedChanged",function(tt){n.eBV(y);const Mt=n.XpG(2);return n.Njj(Mt.changeFile(tt.oldFilePath,tt.newFilePath))})("contextMenuOpened",function(tt){n.eBV(y);const Mt=n.sdS(43),Vt=n.XpG(2);return n.Njj(Vt.openContextMenu(Mt,tt[0],tt[1]))}),n.k0s()()()(),n.DNE(42,et,15,8,"ng-template",null,0,n.C5r),n.k0s()}if(2&ht){const y=n.XpG().ngIf,V=n.XpG();n.R7$(2),n.Y8G("matTooltip",y.id),n.R7$(2),n.JRh(n.bMT(5,19,"Commit:")),n.R7$(2),n.SpI(" ",y.id," "),n.R7$(),n.Y8G("ngIf",y.parentIds.length),n.R7$(6),n.JRh(V.getMessageSubject(y.message)),n.R7$(3),n.JRh(V.getMessageBody(y.message)),n.R7$(),n.Y8G("matTooltip",y.authorName+" ("+y.authorEmail+")"),n.R7$(),n.SpI(" ",n.bMT(19,21,"authored by")," "),n.R7$(2),n.Y8G("remotes",n.bMT(21,23,V.remotes))("email",y.authorEmail),n.R7$(3),n.JRh(y.authorName),n.R7$(2),n.Y8G("ngIf",y.committerName&&y.committerEmail&&(y.authorName!==y.committerName||y.authorEmail!==y.committerEmail)),n.R7$(),n.Y8G("matTooltip",n.i5U(27,25,y.date,"z")||""),n.R7$(2),n.SpI(" ",n.bMT(29,28,"on !date!")," "),n.R7$(3),n.JRh(n.i5U(32,30,y.date,"longDate")),n.R7$(2),n.SpI(" ",n.bMT(34,33,"at !time!")," "),n.R7$(3),n.JRh(n.i5U(37,35,y.date,"HH:mm")),n.R7$(4),n.Y8G("patches",y.patches)("selected",n.bMT(41,38,V.selectedFile))}}function Pt(ht,At){if(1&ht&&(n.qex(0),n.DNE(1,ft,44,40,"div",2),n.bVm()),2&ht){const y=At.ngIf;n.R7$(),n.Y8G("ngIf",y&&"head"!==y)}}let vt=(()=>{class ht extends((0,t.c)($.N)){constructor(y,V,tt,Mt,Vt){super(),this.overlay=y,this.router=V,this.viewContainerRef=tt,this.store=Mt,this.commitDetailService=Vt,this.patchChanged=new n.bkB,this.overlayRef=null}getPatchPath(y){return this.commitDetailService.getPatchPath(y)}getPatchFilename(y){const V=this.commitDetailService.getPatchPath(y);return V?V.slice(V.lastIndexOf("/")+1):null}getMessageSubject(y){return y.split("\n")[0]??""}getMessageBody(y){return y.split("\n").slice(1).join("\n").trimEnd()}copyToClipboard(y){navigator.clipboard.writeText(y??"").then(()=>{})}changeCommit(y){this.selectedRepositoryPath.pipe((0,I.s)(1)).subscribe(V=>{null!==V&&(this.store.dispatch(new U.$P(V,y)),y&&this.store.dispatch(new U.Ks(V,y)))})}changeFile(y,V){this.patchChanged.next({area:"commit",oldFilePath:y,newFilePath:V})}blamePatch(y){this.commit.pipe((0,I.s)(1)).subscribe(V=>{this.router.navigate(["/standard/blame"],{queryParams:{area:"commit","commit-id":"head"===V?"head":V?.id,path:y.newFilePath}})})}openContextMenu(y,V,tt){tt.preventDefault(),tt.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:tt.x,y:tt.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new M.VA(y,this.viewContainerRef,{data:V})),(0,k.p)(this.overlayRef).pipe((0,I.s)(1),(0,Q.Q)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(V){return new(V||ht)(n.rXU(b.hJ),n.rXU(h.Ix),n.rXU(n.c1b),n.rXU(w.il),n.rXU(v.u))}}static{this.\u0275cmp=n.VBU({type:ht,selectors:[["app-commit"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[n.Vt3],decls:2,vars:3,consts:[["fileContextMenu",""],[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"click","matTooltip"],[1,"title"],["class","parent-commits",3,"plural",4,"ngIf"],["id","commit-detail-view","vertical",""],["appearance","outlined",1,"message"],[1,"content"],[1,"subject"],[1,"author",3,"matTooltip"],[3,"remotes","email"],[1,"highlight"],["class","committer",3,"matTooltip",4,"ngIf"],[1,"date",3,"matTooltip"],["appearance","outlined",1,"files"],[3,"selectedChanged","contextMenuOpened","patches","selected"],[1,"parent-commits"],[1,"parent-commit-ids"],[3,"matTooltip","click",4,"ngFor","ngForOf"],[3,"click","matTooltip"],[1,"committer",3,"matTooltip"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"click"],["matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(V,tt){1&V&&(n.DNE(0,Pt,2,1,"ng-container",1),n.nI1(1,"async")),2&V&&n.Y8G("ngIf",n.bMT(1,1,tt.commit))},dependencies:[e.RN,_.Sq,_.bT,S.An,H.oV,rt.f,Z.K,W._,z.h,_.Jj,j.J,st.D],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;gap:10px}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;column-gap:10px;padding:0 10px;flex:0 0 auto;overflow-x:hidden;overflow-y:auto;font-weight:600}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 113px;min-width:113px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 106px;min-width:106px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]{flex-basis:163px;min-width:163px}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{width:calc(100% - 63px)}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}.message[_ngcontent-%COMP%]{height:calc(100% - 5px);margin:0 10px 5px;padding:16px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:1rem;overflow-wrap:anywhere}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-size:1.25rem}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:auto;height:1.5625rem;aspect-ratio:1/1;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}.files[_ngcontent-%COMP%]{height:calc(100% - 5px);margin:5px 10px 0;padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000000de}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return(0,R.Cg)([(0,w.l6)(O.s.selectedRemotes)],ht.prototype,"remotes",void 0),(0,R.Cg)([(0,w.l6)(O.s.selectedRepositoryPath)],ht.prototype,"selectedRepositoryPath",void 0),ht})();var Lt=i(5272),yt=i(9417),gt=i(4412),It=i(4572),E=i(7786),L=i(6354),C=i(152),F=i(9172),g=i(980),T=i(9250),D=i(8694),lt=i(8672),bt=i(8523),Et=i(5012),Ht=i(7182),Kt=i(9399),Yt=i(2102),dt=i(7403),wt=i(8834),B=i(6166);function X(ht,At){if(1&ht){const y=n.RV6();n.j41(0,"button",21),n.nI1(1,"async"),n.nI1(2,"nullEmpty"),n.nI1(3,"translate"),n.bIt("click",function(){n.eBV(y);const tt=n.XpG(2);return n.Njj(tt.stage())}),n.nrm(4,"mat-icon",19),n.nI1(5,"async"),n.nI1(6,"nullEmpty"),n.k0s()}if(2&ht){const y=n.XpG(2);n.Y8G("matTooltip",n.bMT(3,6,n.bMT(2,4,n.bMT(1,2,y.checkedUnstaged))?"Stage selected changes":"Stage all changes")),n.R7$(4),n.Y8G("svgIcon",n.bMT(6,10,n.bMT(5,8,y.checkedUnstaged))?"tray-plus":"tray-arrow-down")}}function at(ht,At){1&ht&&(n.j41(0,"div",22),n.nI1(1,"translate"),n.j41(2,"button",23)(3,"mat-icon"),n.EFF(4,"warning"),n.k0s()()()),2&ht&&n.Y8G("matTooltip",n.bMT(1,1,"Cannot stage conflicted files, resolve the conflicts first"))}function Rt(ht,At){if(1&ht){const y=n.RV6();n.j41(0,"app-grid-cell",3)(1,"mat-card",12)(2,"div",13)(3,"button",14),n.nI1(4,"async"),n.nI1(5,"translate"),n.bIt("click",function(){n.eBV(y);const tt=n.XpG();return n.Njj(tt.clickAllUnstagedCheckbox())}),n.j41(6,"mat-icon"),n.EFF(7),n.nI1(8,"async"),n.k0s()(),n.j41(9,"div",15),n.DNE(10,X,7,12,"button",16),n.nI1(11,"async"),n.DNE(12,at,5,3,"div",17),n.nI1(13,"async"),n.j41(14,"button",18),n.nI1(15,"async"),n.nI1(16,"nullEmpty"),n.nI1(17,"translate"),n.bIt("click",function(){n.eBV(y);const tt=n.XpG();return n.Njj(tt.discard())}),n.nrm(18,"mat-icon",19),n.nI1(19,"async"),n.nI1(20,"nullEmpty"),n.k0s()()(),n.j41(21,"app-patches-view",20),n.nI1(22,"async"),n.bIt("checkedChanged",function(tt){n.eBV(y);const Mt=n.XpG();return n.Njj(Mt.setPatchChecked("unstaged",tt[0],tt[1]))})("selectedChanged",function(tt){n.eBV(y);const Mt=n.XpG();return n.Njj(Mt.selectFile("unstaged",tt.oldFilePath,tt.newFilePath))})("contextMenuOpened",function(tt){n.eBV(y);const Mt=n.XpG(),Vt=n.sdS(23);return n.Njj(Mt.openContextMenu("unstaged",Vt,tt[0],tt[1]))}),n.k0s()()()}if(2&ht){const y=At.ngIf,V=n.XpG();n.R7$(3),n.Y8G("matTooltip",n.bMT(5,11,"check_box_outline_blank"===n.bMT(4,9,V.allUnstagedCheckboxIcon)?"Select all":"Deselect all")),n.R7$(4),n.JRh(n.bMT(8,13,V.allUnstagedCheckboxIcon)),n.R7$(3),n.Y8G("ngIf",!1===n.bMT(11,15,V.hasConflicts)),n.R7$(2),n.Y8G("ngIf",n.bMT(13,17,V.hasConflicts)),n.R7$(2),n.Y8G("matTooltip",n.bMT(17,23,n.bMT(16,21,n.bMT(15,19,V.checkedUnstaged))?"Discard selected changes":"Discard all changes")),n.R7$(4),n.Y8G("svgIcon",n.bMT(20,27,n.bMT(19,25,V.checkedUnstaged))?"tray-remove":"tray"),n.R7$(3),n.Y8G("patches",y)("checked",V.checkedUnstaged)("selected",n.bMT(22,29,V.selectedUnstagedFile))}}function Nt(ht,At){if(1&ht){const y=n.RV6();n.j41(0,"mat-card",24)(1,"div",13)(2,"button",14),n.nI1(3,"async"),n.nI1(4,"translate"),n.bIt("click",function(){n.eBV(y);const tt=n.XpG();return n.Njj(tt.clickAllStagedCheckbox())}),n.j41(5,"mat-icon"),n.EFF(6),n.nI1(7,"async"),n.k0s()(),n.j41(8,"div",15)(9,"button",25),n.nI1(10,"async"),n.nI1(11,"nullEmpty"),n.nI1(12,"translate"),n.bIt("click",function(){n.eBV(y);const tt=n.XpG();return n.Njj(tt.unstage())}),n.nrm(13,"mat-icon",19),n.nI1(14,"async"),n.nI1(15,"nullEmpty"),n.k0s()()(),n.j41(16,"app-patches-view",20),n.nI1(17,"async"),n.bIt("checkedChanged",function(tt){n.eBV(y);const Mt=n.XpG();return n.Njj(Mt.setPatchChecked("staged",tt[0],tt[1]))})("selectedChanged",function(tt){n.eBV(y);const Mt=n.XpG();return n.Njj(Mt.selectFile("staged",tt.oldFilePath,tt.newFilePath))})("contextMenuOpened",function(tt){n.eBV(y);const Mt=n.XpG(),Vt=n.sdS(23);return n.Njj(Mt.openContextMenu("staged",Vt,tt[0],tt[1]))}),n.k0s()()}if(2&ht){const y=At.ngIf,V=n.XpG();n.R7$(2),n.Y8G("matTooltip",n.bMT(4,9,"check_box_outline_blank"===n.bMT(3,7,V.allStagedCheckboxIcon)?"Select all":"Deselect all")),n.R7$(4),n.JRh(n.bMT(7,11,V.allStagedCheckboxIcon)),n.R7$(3),n.Y8G("matTooltip",n.bMT(12,17,n.bMT(11,15,n.bMT(10,13,V.checkedStaged))?"Unstage selected changes":"Unstage all changes")),n.R7$(4),n.Y8G("svgIcon",n.bMT(15,21,n.bMT(14,19,V.checkedStaged))?"tray-minus":"tray-arrow-up"),n.R7$(3),n.Y8G("patches",y)("checked",V.checkedStaged)("selected",n.bMT(17,23,V.selectedStagedFile))}}function zt(ht,At){1&ht&&n.nrm(0,"mat-spinner",26)}function oe(ht,At){1&ht&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&ht&&(n.R7$(),n.JRh(n.bMT(2,1,"Commit changes")))}function te(ht,At){if(1&ht){const y=n.RV6();n.j41(0,"button",31),n.bIt("click",function(){n.eBV(y);const tt=n.XpG().data,Mt=n.XpG();return n.Njj(Mt.blamePatch(tt.area,tt.patch))}),n.j41(1,"mat-icon"),n.EFF(2,"document_scanner"),n.k0s(),n.j41(3,"span"),n.EFF(4),n.nI1(5,"translate"),n.k0s()()}2&ht&&(n.R7$(4),n.JRh(n.bMT(5,1,"Blame")))}function ae(ht,At){if(1&ht){const y=n.RV6();n.j41(0,"div",27)(1,"div",28),n.EFF(2),n.k0s(),n.j41(3,"button",29),n.bIt("click",function(){const tt=n.eBV(y).data,Mt=n.XpG();return n.Njj(Mt.copyToClipboard(Mt.getPatchPath(tt.patch)))}),n.j41(4,"mat-icon"),n.EFF(5,"content_copy"),n.k0s(),n.j41(6,"span"),n.EFF(7),n.nI1(8,"translate"),n.k0s()(),n.DNE(9,te,6,3,"button",30),n.k0s()}if(2&ht){let y;const V=At.data,tt=n.XpG();n.R7$(),n.Y8G("matTooltip",null!==(y=tt.getPatchPath(V.patch))&&void 0!==y?y:""),n.R7$(),n.JRh(tt.getPatchFilename(V.patch)),n.R7$(5),n.JRh(n.bMT(8,4,"Copy Path")),n.R7$(2),n.Y8G("ngIf",!tt.isPatchAdded(V.patch))}}let ie=(()=>{class ht extends((0,t.c)($.N,D.f)){constructor(y,V,tt,Mt,Vt,Zt,qt){super(),this.overlay=y,this.router=V,this.viewContainerRef=tt,this.store=Mt,this.commitDetailService=Vt,this.repositoryActionsService=Zt,this.stagingActionsService=qt,this.patchChanged=new n.bkB,this.commitMessageControl=new yt.MJ(null),this.commitButtonLoading=new gt.t(!1),this.checkedStaged=new gt.t([]),this.checkedUnstaged=new gt.t([]),this.allStagedCheckboxIcon=new gt.t("check_box_outline_blank"),this.allUnstagedCheckboxIcon=new gt.t("check_box_outline_blank"),this.overlayRef=null,this.isPatchAdded=ee=>ee.status===T.z.Added}ngOnInit(){this.stagedChanges=this.allStagedChanges.pipe((0,L.T)(y=>y?.filter(V=>V.status!==T.z.Conflicted)??null)),this.selectedRepositoryCommitMessage.pipe((0,Q.Q)(this.destroyed$)).subscribe(y=>{this.commitMessageControl.setValue(y,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,C.B)(200),(0,Q.Q)(this.destroyed$)).subscribe(y=>{const V=this.store.selectSnapshot(O.s.selectedRepositoryPath);V&&this.store.dispatch(new U.qm(V,y))}),this.commitButtonDisabled=(0,It.z)([this.commitButtonLoading,this.stagedChanges,(0,E.h)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,F.Z)(this.commitMessageControl.value)))]).pipe((0,L.T)(([y,V,tt])=>y||!tt||!V||0===V.length)),this.commitButtonTooltip=(0,It.z)([this.stagedChanges,(0,E.h)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,F.Z)(this.commitMessageControl.value)))]).pipe((0,L.T)(([y,V])=>V?y&&0!==y.length?"":(0,lt.Tl)("There must be staged changes to commit"):(0,lt.Tl)("The commit message cannot be empty"))),this.hasConflicts=(0,It.z)([this.unstagedChanges,this.checkedUnstaged]).pipe((0,L.T)(([y,V])=>V.length>0&&V.some(tt=>tt.status===T.z.Conflicted)||0===V.length&&!!y&&y.some(tt=>tt.status===T.z.Conflicted)))}getPatchPath(y){return this.commitDetailService.getPatchPath(y)}getPatchFilename(y){const V=this.commitDetailService.getPatchPath(y);return V?V.slice(V.lastIndexOf("/")+1):null}selectFile(y,V,tt){this.patchChanged.next({area:y,oldFilePath:V,newFilePath:tt})}discard(){const y=this.store.selectSnapshot(O.s.selectedRepositoryPath);y&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.discardFiles(y,this.checkedUnstaged.value):this.stagingActionsService.discardAllChanges(y)).pipe((0,Q.Q)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}stage(){const y=this.store.selectSnapshot(O.s.selectedRepositoryPath);y&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.stageFiles(y,this.checkedUnstaged.value):this.stagingActionsService.stageAllChanges(y)).pipe((0,Q.Q)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}unstage(){const y=this.store.selectSnapshot(O.s.selectedRepositoryPath);y&&(this.checkedStaged.value.length>0?this.stagingActionsService.unstageFiles(y,this.checkedStaged.value):this.stagingActionsService.unstageAllChanges(y)).pipe((0,Q.Q)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank")})}setPatchChecked(y,V,tt){const Mt="staged"===y?this.checkedStaged.value:this.checkedUnstaged.value,Vt=Mt.findIndex(ee=>ee.oldFilePath===V.oldFilePath&&ee.newFilePath===V.newFilePath);Vt>=0&&!tt?Mt.splice(Vt,1):Vt<0&&tt&&Mt.push(V),"staged"===y?this.checkedStaged.next(Mt):this.checkedUnstaged.next(Mt);const Zt="staged"===y?this.allStagedCheckboxIcon:this.allUnstagedCheckboxIcon;(this.store.selectSnapshot("staged"===y?O.s.selectedStagedChanges:O.s.selectedUnstagedChanges)?.length??0)===Mt.length?Zt.next("check_box"):Zt.next(0===Mt.length?"check_box_outline_blank":"indeterminate_check_box")}commitChanges(){const y=this.store.selectSnapshot(O.s.selectedRepositoryPath),V=this.store.selectSnapshot(Et.d.selectedProfile),tt=[];y||tt.push((0,lt.Tl)("Cannot commit if no repository is selected")),V||tt.push((0,lt.Tl)("Cannot commit if no profile is selected"));const Mt=this.commitMessageControl.value;if(Mt||tt.push((0,lt.Tl)("Cannot commit with empty commit message")),tt.length>0)return void this.store.dispatch(tt.map(qt=>new bt.Nh("error",qt)));this.commitButtonLoading.next(!0);const Vt=y;this.repositoryActionsService.createCommit(Vt,V,Mt??"").pipe((0,g.j)(()=>{this.commitButtonLoading.next(!1)})).subscribe(qt=>{this.store.dispatch(new U.Ks(Vt,qt))})}copyToClipboard(y){navigator.clipboard.writeText(y??"")}blamePatch(y,V){this.router.navigate(["/standard/blame"],{queryParams:{area:y,"commit-id":"head",path:V.newFilePath}})}clickAllStagedCheckbox(){switch(this.allStagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedStaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const y=this.store.selectSnapshot(O.s.selectedStagedChanges);this.checkedStaged.next([...y??[]]),this.allStagedCheckboxIcon.next("check_box")}}clickAllUnstagedCheckbox(){switch(this.allUnstagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const y=this.store.selectSnapshot(O.s.selectedUnstagedChanges);this.checkedUnstaged.next([...y??[]]),this.allUnstagedCheckboxIcon.next("check_box")}}openContextMenu(y,V,tt,Mt){Mt.preventDefault(),Mt.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:Mt.x,y:Mt.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new M.VA(V,this.viewContainerRef,{data:{area:y,patch:tt}})),(0,k.p)(this.overlayRef).pipe((0,I.s)(1),(0,Q.Q)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(V){return new(V||ht)(n.rXU(b.hJ),n.rXU(h.Ix),n.rXU(n.c1b),n.rXU(w.il),n.rXU(v.u),n.rXU(Ht.N),n.rXU(Kt.M))}}static{this.\u0275cmp=n.VBU({type:ht,selectors:[["app-new-commit"]],viewQuery:function(V,tt){if(1&V&&n.GBs(Lt.d6,5),2&V){let Mt;n.mGM(Mt=n.lsd())&&(tt.viewports=Mt)}},outputs:{patchChanged:"patchChanged"},features:[n.Vt3],decls:24,vars:27,consts:[["fileContextMenu",""],["vertical",""],["min","150px",4,"ngIf"],["min","150px"],["appearance","outlined","class","staged",4,"ngIf"],["appearance","outlined",1,"commit"],[1,"description"],["matInput","","cdkTextareaAutosize","",3,"placeholder","formControl"],[1,"button-container",3,"matTooltip"],["mat-flat-button","","color","primary",1,"commit-btn",3,"click","disabled"],["diameter","24",4,"ngIf"],[4,"ngIf"],["appearance","outlined",1,"unstaged"],[1,"header-buttons"],["type","button","mat-icon-button","",1,"checkbox-button","app-icon-button-md",3,"click","matTooltip"],[1,"buttons"],["type","button","mat-stroked-button","","class","stage-button",3,"matTooltip","click",4,"ngIf"],["class","conflicts-wrapper",3,"matTooltip",4,"ngIf"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"click","matTooltip"],[3,"svgIcon"],[3,"checkedChanged","selectedChanged","contextMenuOpened","patches","checked","selected"],["type","button","mat-stroked-button","",1,"stage-button",3,"click","matTooltip"],[1,"conflicts-wrapper",3,"matTooltip"],["type","button","mat-stroked-button","","disabled","",1,"stage-button","has-conflicts"],["appearance","outlined",1,"staged"],["type","button","mat-stroked-button","",1,"unstage-button",3,"click","matTooltip"],["diameter","24"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],["type","button",1,"menu-item",3,"click"],["type","button","class","menu-item","matTooltip","Show file history",3,"click",4,"ngIf"],["type","button","matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(V,tt){if(1&V){const Mt=n.RV6();n.j41(0,"app-grid",1),n.DNE(1,Rt,23,31,"app-grid-cell",2),n.nI1(2,"async"),n.nI1(3,"nullEmpty"),n.j41(4,"app-grid-cell",3),n.DNE(5,Nt,18,25,"mat-card",4),n.nI1(6,"async"),n.k0s()(),n.j41(7,"mat-card",5)(8,"mat-form-field",6)(9,"mat-label"),n.EFF(10),n.nI1(11,"translate"),n.k0s(),n.nrm(12,"textarea",7),n.nI1(13,"translate"),n.k0s(),n.j41(14,"div",8),n.nI1(15,"async"),n.j41(16,"button",9),n.nI1(17,"async"),n.bIt("click",function(){return n.eBV(Mt),n.Njj(tt.commitChanges())}),n.DNE(18,zt,1,0,"mat-spinner",10),n.nI1(19,"async"),n.DNE(20,oe,3,3,"span",11),n.nI1(21,"async"),n.k0s()()(),n.DNE(22,ae,10,6,"ng-template",null,0,n.C5r)}2&V&&(n.R7$(),n.Y8G("ngIf",n.bMT(3,11,n.bMT(2,9,tt.unstagedChanges))),n.R7$(4),n.Y8G("ngIf",n.bMT(6,13,tt.stagedChanges)),n.R7$(5),n.JRh(n.bMT(11,15,"Commit Message")),n.R7$(2),n.FS9("placeholder",n.bMT(13,17,"Enter a description...")),n.Y8G("formControl",tt.commitMessageControl),n.R7$(2),n.Y8G("matTooltip",n.bMT(15,19,tt.commitButtonTooltip)||""),n.R7$(2),n.Y8G("disabled",n.bMT(17,21,tt.commitButtonDisabled)),n.R7$(2),n.Y8G("ngIf",n.bMT(19,23,tt.commitButtonLoading)),n.R7$(2),n.Y8G("ngIf",!1===n.bMT(21,25,tt.commitButtonLoading)))},dependencies:[e.RN,p.fg,Yt.rl,Yt.nJ,dt.xb,it.LG,_.bT,yt.me,yt.BC,yt.l_,wt.$z,wt.iY,S.An,H.oV,Z.K,W._,z.h,_.Jj,B.T,st.D],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%;gap:10px}.staged[_ngcontent-%COMP%]{margin:5px 10px 0;height:calc(100% - 5px)}.unstaged[_ngcontent-%COMP%]{margin:0 10px 5px;height:calc(100% - 5px)}app-grid-cell[_ngcontent-%COMP%]:first-child   .staged[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;height:100%}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{flex:0 0 auto;position:relative}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:space-between;min-height:40px;margin-left:32px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{cursor:default}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-12px}.commit[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px;padding:16px;overflow:auto;display:flex;flex-direction:column;min-height:158px;max-height:33%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px}.commit[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 auto}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}.dark-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#cb8837}.light-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#d8a669}"],changeDetection:0})}}return(0,R.Cg)([(0,w.l6)(O.s.selectedRepositoryPath)],ht.prototype,"repositoryPath",void 0),(0,R.Cg)([(0,w.l6)(O.s.selectedStagedChanges)],ht.prototype,"allStagedChanges",void 0),(0,R.Cg)([(0,w.l6)(O.s.selectedUnstagedChanges)],ht.prototype,"unstagedChanges",void 0),(0,R.Cg)([(0,w.l6)(O.s.selectedFileForArea("staged"))],ht.prototype,"selectedStagedFile",void 0),(0,R.Cg)([(0,w.l6)(O.s.selectedFileForArea("unstaged"))],ht.prototype,"selectedUnstagedFile",void 0),(0,R.Cg)([(0,w.l6)(O.s.selectedRepositoryCommitMessage)],ht.prototype,"selectedRepositoryCommitMessage",void 0),(0,R.Cg)([(0,w.l6)(Et.d.selectedProfile)],ht.prototype,"selectedProfile",void 0),(0,R.Cg)([(0,w.l6)(Et.d.profiles)],ht.prototype,"profiles",void 0),ht})(),se=(()=>{class ht{static{this.\u0275fac=function(V){return new(V||ht)}}static{this.\u0275mod=n.$C({type:ht})}static{this.\u0275inj=n.G2t({imports:[e.Hu,r.g7,p.fS,it.D6,o.U,s.p,N.K]})}}return ht})();n.wjB(G.n,[_.bT,vt,ie],[_.Jj])},1281:(kt,ct,i)=>{i.d(ct,{Q:()=>Yt});var e=i(1635),r=i(9969),p=i(9327),it=i(6939),o=i(4438),s=i(9843),N=i(5585),G=i(4412),R=i(4572),M=i(1413),n=i(7786),w=i(7468),I=i(7673),Q=i(8810),t=i(6354),$=i(6977),k=i(6697),U=i(5245),O=i(3294),b=i(8141),h=i(5558),v=i(5964),_=i(9437),S=i(4548),H=i(3130),rt=i(949),Z=i(4315),W=i(877),z=i(5530),j=i(5012),st=i(6969),Ct=i(2140),ot=i(4766),pt=i(3042),et=i(9399);const ft=["contextMenu"];function Pt(dt,wt){if(1&dt&&(o.nrm(0,"app-condensed-path",15),o.nI1(1,"async")),2&dt){const B=o.XpG(2);o.Y8G("path",o.bMT(1,1,B.filePath))}}function vt(dt,wt){if(1&dt){const B=o.RV6();o.j41(0,"button",16),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(B);const at=o.XpG(2);return o.Njj(at.modifyLinesStage("stage"))}),o.nrm(2,"mat-icon",17),o.k0s()}2&dt&&o.Y8G("matTooltip",o.bMT(1,1,"Stage selected lines"))}function Lt(dt,wt){if(1&dt){const B=o.RV6();o.j41(0,"button",18),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(B);const at=o.XpG(2);return o.Njj(at.modifyLinesStage("discard"))}),o.nrm(2,"mat-icon",19),o.k0s()}2&dt&&o.Y8G("matTooltip",o.bMT(1,1,"Discard selected lines"))}function yt(dt,wt){if(1&dt){const B=o.RV6();o.j41(0,"button",20),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(B);const at=o.XpG(2);return o.Njj(at.modifyLinesStage("unstage"))}),o.nrm(2,"mat-icon",21),o.k0s()}2&dt&&o.Y8G("matTooltip",o.bMT(1,1,"Unstage selected lines"))}function gt(dt,wt){if(1&dt){const B=o.RV6();o.j41(0,"button",22),o.bIt("click",function(){o.eBV(B);const at=o.XpG(2);return o.Njj(at.edited.next())}),o.j41(1,"mat-icon"),o.EFF(2,"edit"),o.k0s()()}}function It(dt,wt){if(1&dt){const B=o.RV6();o.j41(0,"button",23),o.bIt("click",function(){o.eBV(B);const at=o.XpG(2);return o.Njj(at.closed.next())}),o.j41(1,"mat-icon"),o.EFF(2,"close"),o.k0s()()}}function E(dt,wt){1&dt&&(o.j41(0,"main"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&dt&&(o.R7$(),o.JRh(o.bMT(2,1,"Loading...")))}function L(dt,wt){1&dt&&(o.j41(0,"main"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&dt&&(o.R7$(),o.JRh(o.bMT(2,1,"Cannot load binary file.")))}function C(dt,wt){1&dt&&(o.j41(0,"main"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&dt&&(o.R7$(),o.JRh(o.bMT(2,1,"Cannot load file.")))}function F(dt,wt){if(1&dt&&o.nrm(0,"app-hunk-view",25),2&dt){const B=o.XpG(3);o.Y8G("diffLines",B.diffLines)}}function g(dt,wt){if(1&dt&&o.nrm(0,"app-inline-view",25),2&dt){const B=o.XpG(3);o.Y8G("diffLines",B.diffLines)}}function T(dt,wt){if(1&dt&&o.nrm(0,"app-split-view",25),2&dt){const B=o.XpG(3);o.Y8G("diffLines",B.diffLines)}}function D(dt,wt){if(1&dt&&(o.j41(0,"main"),o.DNE(1,F,1,1,"app-hunk-view",24)(2,g,1,1,"app-inline-view",24)(3,T,1,1,"app-split-view",24),o.k0s()),2&dt){const B=o.XpG().ngIf;o.R7$(),o.Y8G("ngIf","hunk"===B),o.R7$(),o.Y8G("ngIf","inline"===B),o.R7$(),o.Y8G("ngIf","split"===B)}}function lt(dt,wt){if(1&dt){const B=o.RV6();o.qex(0),o.j41(1,"header")(2,"app-find-control",2),o.nI1(3,"async"),o.bIt("focusin",function(){o.eBV(B);const at=o.XpG();return o.Njj(at.findControlHasFocus$.next(!0))})("focusout",function(){o.eBV(B);const at=o.XpG();return o.Njj(at.findControlHasFocus$.next(!1))}),o.k0s(),o.DNE(4,Pt,2,3,"app-condensed-path",3),o.nI1(5,"async"),o.nI1(6,"async"),o.j41(7,"div",4),o.DNE(8,vt,3,3,"button",5),o.nI1(9,"async"),o.DNE(10,Lt,3,3,"button",6),o.nI1(11,"async"),o.DNE(12,yt,3,3,"button",7),o.nI1(13,"async"),o.j41(14,"mat-button-toggle-group",8),o.bIt("change",function(at){o.eBV(B);const Rt=o.XpG();return o.Njj(Rt.changeView(at.value))}),o.j41(15,"mat-button-toggle",9),o.nI1(16,"translate"),o.j41(17,"mat-icon"),o.EFF(18,"calendar_view_day"),o.k0s()(),o.j41(19,"mat-button-toggle",10),o.nI1(20,"translate"),o.j41(21,"mat-icon"),o.EFF(22,"view_headline"),o.k0s()(),o.j41(23,"mat-button-toggle",11),o.nI1(24,"translate"),o.j41(25,"mat-icon"),o.EFF(26,"vertical_split"),o.k0s()()(),o.j41(27,"div",12),o.DNE(28,gt,3,0,"button",13)(29,It,3,0,"button",14),o.k0s()()(),o.DNE(30,E,3,3,"main",1),o.nI1(31,"async"),o.DNE(32,L,3,3,"main",1),o.nI1(33,"async"),o.DNE(34,C,3,3,"main",1),o.nI1(35,"async"),o.DNE(36,D,4,3,"main",1),o.nI1(37,"async"),o.bVm()}if(2&dt){const B=wt.ngIf,X=o.XpG();o.R7$(2),o.Y8G("@showFindControl",o.bMT(3,16,X.showFindControl))("initial",X.search),o.R7$(2),o.Y8G("ngIf",!(o.bMT(5,18,X.showStage)||o.bMT(6,20,X.showUnstage))),o.R7$(4),o.Y8G("ngIf",o.bMT(9,22,X.showStage)),o.R7$(2),o.Y8G("ngIf",o.bMT(11,24,X.showStage)),o.R7$(2),o.Y8G("ngIf",o.bMT(13,26,X.showUnstage)),o.R7$(2),o.Y8G("value",B),o.R7$(),o.Y8G("matTooltip",o.bMT(16,28,"Hunk View")),o.R7$(4),o.Y8G("matTooltip",o.bMT(20,30,"Inline View")),o.R7$(4),o.Y8G("matTooltip",o.bMT(24,32,"Split View")),o.R7$(5),o.Y8G("ngIf",X.showEdit),o.R7$(),o.Y8G("ngIf",!X.hideClose),o.R7$(),o.Y8G("ngIf","loading"===o.bMT(31,34,X.currentView)),o.R7$(2),o.Y8G("ngIf","binary-file"===o.bMT(33,36,X.currentView)),o.R7$(2),o.Y8G("ngIf","error"===o.bMT(35,38,X.currentView)),o.R7$(2),o.Y8G("ngIf","normal"===o.bMT(37,40,X.currentView))}}function bt(dt,wt){if(1&dt){const B=o.RV6();o.j41(0,"button",28),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(B);const at=o.XpG(2);return at.modifyLinesStage("stage"),o.Njj(at.closeContextMenu())}),o.nrm(2,"mat-icon",17),o.j41(3,"span"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()}2&dt&&(o.Y8G("matTooltip",o.bMT(1,2,"Stage selected lines")),o.R7$(4),o.JRh(o.bMT(5,4,"Stage")))}function Et(dt,wt){if(1&dt){const B=o.RV6();o.j41(0,"button",28),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(B);const at=o.XpG(2);return at.modifyLinesStage("discard"),o.Njj(at.closeContextMenu())}),o.nrm(2,"mat-icon",17),o.j41(3,"span"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()}2&dt&&(o.Y8G("matTooltip",o.bMT(1,2,"Discard selected lines")),o.R7$(4),o.JRh(o.bMT(5,4,"Discard")))}function Ht(dt,wt){if(1&dt){const B=o.RV6();o.j41(0,"button",28),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(B);const at=o.XpG(2);return at.modifyLinesStage("unstage"),o.Njj(at.closeContextMenu())}),o.nrm(2,"mat-icon",17),o.j41(3,"span"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()}2&dt&&(o.Y8G("matTooltip",o.bMT(1,2,"Unstage selected lines")),o.R7$(4),o.JRh(o.bMT(5,4,"Unstage")))}function Kt(dt,wt){if(1&dt&&(o.j41(0,"div",26),o.DNE(1,bt,6,6,"button",27),o.nI1(2,"async"),o.DNE(3,Et,6,6,"button",27),o.nI1(4,"async"),o.DNE(5,Ht,6,6,"button",27),o.nI1(6,"async"),o.k0s()),2&dt){const B=o.XpG();o.R7$(),o.Y8G("ngIf",o.bMT(2,3,B.showStage)),o.R7$(2),o.Y8G("ngIf",o.bMT(4,5,B.showStage)),o.R7$(2),o.Y8G("ngIf",o.bMT(6,7,B.showUnstage))}}let Yt=(()=>{class dt extends((0,H.c)(rt.N)){constructor(B,X,at,Rt,Nt,zt,oe,te){super(),this.viewContainerRef=B,this.breakpointObserver=X,this.overlay=at,this.store=Rt,this.highlightApi=Nt,this.findSelectionService=zt,this.diffSelectionService=oe,this.stagingActionsService=te,this.hideClose=!1,this.showEdit=!1,this.search=null,this.closed=new o.bkB,this.edited=new o.bkB,this.currentView=new G.t("loading"),this.diffLines=new G.t(null),this.findControlHasFocus$=new G.t(!1),this.showFindControl=(0,R.z)([this.findSelectionService.searchRegex,this.findControlHasFocus$,this.breakpointObserver.observe([p.Rp.XSmall,p.Rp.Small,p.Rp.Medium])]).pipe((0,t.T)(([ae,ie,se])=>!!ae||ie||!se.matches)),this.searchMatchesCount=new G.t(0),this.matchClicked=new M.B,this.overlayRef=null,this.closeContextMenu=()=>{this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}}ngOnInit(){this.showStage=(0,R.z)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,t.T)(([B,X,at])=>"head"===X&&!0===B?.isUnstaged&&!B.patch.newFileIsSubmodule&&!B.patch.oldFileIsSubmodule&&at.length>0)),this.showUnstage=(0,R.z)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,t.T)(([B,X,at])=>"head"===X&&!1===B?.isUnstaged&&!B.patch.newFileIsSubmodule&&!B.patch.oldFileIsSubmodule&&at.length>0)),this.diffSelectionService.contextMenuOpened.pipe((0,$.Q)(this.destroyed$)).subscribe(B=>{this.closeContextMenu(),(0,R.z)([this.showStage,this.showUnstage]).pipe((0,k.s)(1),(0,$.Q)(this.destroyed$)).subscribe(([X,at])=>{(X||at)&&(this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:B.x,y:B.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new it.VA(this.menuTemplate,this.viewContainerRef)),(0,n.h)(this.diffSelectionService.selectedRange.pipe((0,U.i)(1)),(0,Z.p)(this.overlayRef)).pipe((0,k.s)(1),(0,$.Q)(this.destroyed$)).subscribe(()=>this.closeContextMenu()))})}),this.filePath=this.patch.pipe((0,t.T)(B=>B?.patch.newFilePath??B?.patch.oldFilePath??"")),this.patch.pipe((0,O.F)((B,X)=>B&&X?!(B.repositoryPath!==X.repositoryPath||B.isUnstaged!==X.isUnstaged||B.patch.newFileId!==X.patch.newFileId||B.patch.newFileIsDir!==X.patch.newFileIsDir||B.patch.newFileIsSubmodule!==X.patch.newFileIsSubmodule||B.patch.newFilePath!==X.patch.newFilePath||B.patch.oldFileId!==X.patch.oldFileId||B.patch.oldFileIsDir!==X.patch.oldFileIsDir||B.patch.oldFileIsSubmodule!==X.patch.oldFileIsSubmodule||B.patch.oldFilePath!==X.patch.oldFilePath||B.patch.status!==X.patch.status||B.patch.hunks.length!==X.patch.hunks.length||(0,N.A)(B.patch.hunks,X.patch.hunks).some(([at,Rt])=>at?.lines.length!==Rt?.lines.length||at?.newStart!==Rt?.newStart||at?.oldStart!==Rt?.oldStart||at?.header!==Rt?.header||at&&Rt&&(0,N.A)(at.lines,Rt.lines).some(([Nt,zt])=>Nt?.content.length!==zt?.content.length||Nt?.newLineNo!==zt?.newLineNo||Nt?.oldLineNo!==zt?.oldLineNo||Nt?.origin!==zt?.origin||Nt?.content!==zt?.content))):!B&&!X),(0,b.M)(()=>{this.currentView.next("loading")}),(0,h.n)(B=>B?(0,w.p)(this.getLines(B,!1)).pipe((0,$.Q)(this.currentView.pipe((0,U.i)(1),(0,v.p)(X=>"loading"===X))),(0,$.Q)(this.destroyed$),(0,t.T)(([X,at])=>[B,X,at]),(0,_.W)(X=>S.a_.matches(X)?(this.currentView.next("binary-file"),(0,I.of)(null)):S.N4.matches(X)?(this.currentView.next("error"),(0,I.of)(null)):(0,Q.$)(()=>X))):(0,I.of)(null)),(0,b.M)(B=>{if(B){const[X,at,Rt]=B;this.diffLines.next({hunks:X.patch.hunks,oldLines:at,newLines:Rt,oldFilePath:X.patch.oldFilePath,newFilePath:X.patch.newFilePath,highlighted:!1}),this.currentView.next("normal")}else this.diffLines.next(null)}),(0,h.n)(B=>B?.[0]?(0,w.p)(this.getLines(B?.[0],!0)).pipe((0,$.Q)(this.currentView.pipe((0,U.i)(1),(0,v.p)(X=>"loading"===X))),(0,$.Q)(this.destroyed$),(0,t.T)(([X,at])=>[B?.[0],X,at]),(0,_.W)(X=>S.a_.matches(X)?(this.currentView.next("binary-file"),(0,I.of)(null)):S.N4.matches(X)?(this.currentView.next("error"),(0,I.of)(null)):(0,Q.$)(()=>X))):(0,I.of)(null)),(0,$.Q)(this.destroyed$)).subscribe(B=>{if(B){const[X,at,Rt]=B;this.diffLines.next({hunks:X.patch.hunks,oldLines:at,newLines:Rt,oldFilePath:X.patch.oldFilePath,newFilePath:X.patch.newFilePath,highlighted:!0}),this.currentView.next("normal")}else this.diffLines.next(null)})}changeView(B){this.store.dispatch(new z.FJ(B))}modifyLinesStage(B){const X=this.store.selectSnapshot(W.s.selectedRepositoryPath);if(!X)throw new S.Jf;this.patch.pipe((0,k.s)(1)).subscribe(at=>{if(!at||!at.patch.oldFilePath)return;const Rt=[X,at.patch.oldFileId?at.patch.oldFilePath:null,at.patch.newFileId?at.patch.newFilePath:null,this.diffSelectionService.selectedFileLines.value];switch(B){case"discard":this.stagingActionsService.discardFileLines(...Rt).subscribe();break;case"stage":this.stagingActionsService.stageFileLines(...Rt).subscribe();break;default:this.stagingActionsService.unstageFileLines(...Rt).subscribe()}})}getLines(B,X){if(B.patch.oldFileIsSubmodule||B.patch.newFileIsSubmodule){if(B.patch.hunks.length<=0)return[(0,I.of)([]),(0,I.of)([])];const at=B.patch.hunks[0]?.lines.find(Nt=>Nt.oldLineNo>0),Rt=B.patch.hunks[0]?.lines.find(Nt=>Nt.newLineNo>0);return[(0,I.of)([{lineNumber:1,text:at?.content??"",tokens:[{startIndex:0,endIndex:at?.content.length??0,scopes:["normal"]}]}]),(0,I.of)([{lineNumber:1,text:Rt?.content??"",tokens:[{startIndex:0,endIndex:Rt?.content.length??0,scopes:["normal"]}]}])]}return[B.patch.oldFileId?this.highlightApi.getHighlightedFile(B.repositoryPath,B.patch.oldFileId,B.patch.oldFilePath,X):(0,I.of)([]),B.isUnstaged?this.highlightApi.getHighlightedFile(B.repositoryPath,null,B.patch.newFilePath,X):B.patch.newFileId?this.highlightApi.getHighlightedFile(B.repositoryPath,B.patch.newFileId,B.patch.newFilePath,X):(0,I.of)([])]}static{this.\u0275fac=function(X){return new(X||dt)(o.rXU(o.c1b),o.rXU(p.QP),o.rXU(st.hJ),o.rXU(s.il),o.rXU(Ct.I),o.rXU(ot.v),o.rXU(pt.h),o.rXU(et.M))}}static{this.\u0275cmp=o.VBU({type:dt,selectors:[["app-diff-view"]],viewQuery:function(X,at){if(1&X&&o.GBs(ft,5),2&X){let Rt;o.mGM(Rt=o.lsd())&&(at.menuTemplate=Rt.first)}},inputs:{patch:"patch",hideClose:"hideClose",showEdit:"showEdit",search:"search"},outputs:{closed:"closed",edited:"edited"},features:[o.Vt3],decls:4,vars:3,consts:[["contextMenu",""],[4,"ngIf"],[3,"focusin","focusout","initial"],[3,"path",4,"ngIf"],[1,"right"],["type","button","class","stage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],["type","button","class","discard-button","mat-stroked-button","","color","warn",3,"matTooltip","click",4,"ngIf"],["type","button","class","unstage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],[3,"change","value"],["value","hunk",3,"matTooltip"],["value","inline",3,"matTooltip"],["value","split",3,"matTooltip"],[1,"close-container"],["type","button","mat-icon-button","","class","edit-button app-icon-button-md",3,"click",4,"ngIf"],["type","button","mat-icon-button","","class","close-button app-icon-button-md",3,"click",4,"ngIf"],[3,"path"],["type","button","mat-stroked-button","",1,"stage-button",3,"click","matTooltip"],["svgIcon","tray-plus"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"click","matTooltip"],["svgIcon","tray-remove"],["type","button","mat-stroked-button","",1,"unstage-button",3,"click","matTooltip"],["svgIcon","tray-minus"],["type","button","mat-icon-button","",1,"edit-button","app-icon-button-md",3,"click"],["type","button","mat-icon-button","",1,"close-button","app-icon-button-md",3,"click"],[3,"diffLines",4,"ngIf"],[3,"diffLines"],[1,"menu-panel"],["type","button","class","menu-item",3,"matTooltip","click",4,"ngIf"],["type","button",1,"menu-item",3,"click","matTooltip"]],template:function(X,at){1&X&&(o.DNE(0,lt,38,42,"ng-container",1),o.nI1(1,"async"),o.DNE(2,Kt,7,9,"ng-template",null,0,o.C5r)),2&X&&o.Y8G("ngIf",o.bMT(1,1,at.view))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;position:absolute}header[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:baseline;justify-content:space-between;margin-bottom:5px;outline:none;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}header[_ngcontent-%COMP%]   app-find-control[_ngcontent-%COMP%]{min-width:340px;max-width:350px;overflow:hidden}header[_ngcontent-%COMP%]   app-condensed-path[_ngcontent-%COMP%]{min-width:150px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:5px;margin-left:auto}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:38px;padding:0 6px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]{display:flex;align-items:center;align-self:baseline;overflow:hidden;height:40px}main[_ngcontent-%COMP%]{flex:1 0 auto;outline:none;overflow-x:auto;overflow-y:auto}.dark-theme   [_nghost-%COMP%]{background:#1e1e1e}.light-theme   [_nghost-%COMP%]{background:#fafafa}"],data:{animation:[(0,r.hZ)("showFindControl",[(0,r.wk)("true",(0,r.iF)({opacity:1})),(0,r.wk)("false",(0,r.iF)({opacity:0,position:"absolute",height:0})),(0,r.kY)("false -> true",[(0,r.iF)({opacity:0,position:"relative",height:"*"}),(0,r.i0)("225ms ease-in-out",(0,r.iF)({opacity:1}))]),(0,r.kY)("true -> false",[(0,r.iF)({opacity:1}),(0,r.i0)("225ms ease-in-out",(0,r.iF)({opacity:0}))])])]},changeDetection:0})}}return(0,e.Cg)([(0,s.l6)(W.s.selectedCommitId)],dt.prototype,"selectedCommitId",void 0),(0,e.Cg)([(0,s.l6)(j.d.diffView)],dt.prototype,"view",void 0),dt})()},9563:(kt,ct,i)=>{i.d(ct,{Z:()=>q});var e=i(5571),r=i(9042),p=i(1117),it=i(1281),o=i(5272),s=i(4438),N=i(2074),G=i(8070),R=i(7003);var w=i(3938),I=i(8787),Q=i(5809);const $=function t(K){var c=(0,Q.A)(K),a=c%1;return c==c?a?c-a:c:0},U=function k(K,c,a){var l=null==K?0:K.length;return l?(c=a||void 0===c?1:$(c),(0,I.A)(K,0,(c=l-c)<0?0:c)):[]},b=function O(K,c,a){var l=null==K?0:K.length;return l?(c=a||void 0===c?1:$(c),(0,I.A)(K,(c=l-c)<0?0:c,l)):[]};var h=i(4412),v=i(4572),_=i(6354),S=i(9172),H=i(3946),rt=i(3103),Z=i(6977),W=i(4548),z=i(3130),j=i(949),st=i(8694),Ct=i(5345),ot=i(3042),pt=i(4766),et=i(177),ft=i(8834),Pt=i(9213),vt=i(7575),Lt=i(9767);const yt=["scrollContainer"],gt=["code"];function It(K,c){if(1&K&&s.nrm(0,"span",9),2&K){const a=c.ngIf;s.xc7("left",a.left)("width",a.width)}}function E(K,c){if(1&K){const a=s.RV6();s.qex(0),s.j41(1,"button",10),s.bIt("click",function(){s.eBV(a);const d=s.XpG().$implicit,x=s.XpG();return s.Njj(x.expandSeparator(d))}),s.j41(2,"mat-icon",11),s.EFF(3),s.k0s()(),s.j41(4,"span",12),s.EFF(5),s.k0s(),s.bVm()}if(2&K){const a=s.XpG(),l=a.$implicit,d=a.first,x=a.last,A=s.XpG();s.R7$(),s.xc7("width",A.lineNumberMargin+26,"px"),s.R7$(2),s.JRh(d?"expand_less":x?"expand_more":"unfold_more"),s.R7$(2),s.JRh(l.separatorHeader)}}function L(K,c){if(1&K&&(s.j41(0,"span",17),s.EFF(1),s.k0s()),2&K){const a=c.$implicit;s.Y8G("ngClass",a.class),s.R7$(),s.JRh(a.text)}}function C(K,c){if(1&K&&(s.qex(0),s.DNE(1,L,2,2,"span",16),s.nI1(2,"findToken"),s.nI1(3,"tokens"),s.bVm()),2&K){const a=c.ngIf,l=s.XpG(2).index;s.R7$(),s.Y8G("ngForOf",s.i5U(3,5,s.brH(2,1,a.tokens,a.text,l),a.text))}}function F(K,c){if(1&K&&(s.j41(0,"span",13),s.EFF(1),s.k0s(),s.j41(2,"span",14),s.EFF(3),s.k0s(),s.DNE(4,C,4,8,"ng-container",15)),2&K){const a=s.XpG().$implicit,l=s.XpG();s.xc7("right","calc(100% + 26px + "+(l.lineNumberMargin/2).toString()+"px)")("width",l.lineNumberMargin/2-5,"px"),s.R7$(),s.JRh(null==a.diffLine.oldLine?null:a.diffLine.oldLine.lineNumber),s.R7$(),s.xc7("width",l.lineNumberMargin/2-5,"px"),s.R7$(),s.JRh(null==a.diffLine.newLine?null:a.diffLine.newLine.lineNumber),s.R7$(),s.Y8G("ngIf",l.getLineView(a.diffLine))}}function g(K,c){if(1&K&&(s.j41(0,"li",6),s.DNE(1,It,1,4,"span",7),s.nI1(2,"async"),s.DNE(3,E,6,4,"ng-container",8)(4,F,5,9,"ng-template",null,2,s.C5r),s.k0s()),2&K){const a=c.$implicit,l=c.index,d=s.sdS(5),x=s.XpG();s.Y8G("ngClass","line-"+(a.isSeparator?"separator":a.diffLine.status)),s.R7$(),s.Y8G("ngIf",s.bMT(2,4,x.getSelection(l))),s.R7$(2),s.Y8G("ngIf",a.isSeparator)("ngIfElse",d)}}let T=(()=>{class K extends((0,z.c)(j.N,st.f)){constructor(a,l,d){super(),this.diffService=a,this.diffSelectionService=l,this.findSelectionService=d,this.lineNumberMargin=0,this.lines$=new h.t([]),this.currentPatch=null,this.getSelection=x=>this.diffSelectionService.selectedRange.pipe((0,_.T)(A=>{if(!A)return null;const[ut,mt]=A[0].line>A[1].line||A[0].line===A[1].line&&A[0].char>A[1].char?[A[1],A[0]]:A;return x<ut.line||x>mt.line?null:x===ut.line?{left:ut.char*this.diffSelectionService.charWidth+"px",width:ut.line===mt.line?(mt.char-ut.char)*this.diffSelectionService.charWidth+"px":"100%"}:x===mt.line?{left:"0px",width:mt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){const a=this.scrollContainer.elementRef.nativeElement;this.diffLines.pipe((0,S.Z)(null),(0,H.J)(),(0,rt.c)(0),(0,Z.Q)(this.destroyed$)).subscribe(([l,d])=>{const x=this.currentPatch?{...this.currentPatch}:null;if(d){this.currentPatch={newFilePath:d.newFilePath,oldFilePath:d.oldFilePath};const A=function M(K){return K&&K.length?(0,N.A)(K,R.A,G.A):void 0}([d.oldLines.length,d.newLines.length])??0;this.lineNumberMargin=this.diffService.calculateMargin(A.toString().length),this.diffService.calculateHunkLines(d.oldLines,d.newLines,d.hunks).pipe((0,Z.Q)(this.destroyed$)).subscribe(ut=>{l&&l.newFilePath===d.newFilePath&&l.oldFilePath===d.oldFilePath&&!l.highlighted&&d.highlighted?this.updateLines(ut):this.lines$.next(ut),(!x||x.oldFilePath!==this.currentPatch?.oldFilePath||x.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),x&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)}),(0,v.z)([this.lines$,this.findSelectionService.searchRegex]).pipe((0,Z.Q)(this.destroyed$)).subscribe(([l,d])=>{if(!d)return void this.findSelectionService.setMatches([]);const x=l.map((A,ut)=>[A.isSeparator?null:this.getLineView(A.diffLine),ut]).flatMap(([A,ut])=>A?Array.from(A.text.matchAll(d),mt=>({lineId:ut,startIndex:mt.index??0,endIndex:(mt.index??0)+(mt[0]?.length??0)})):[]);this.findSelectionService.setMatches(x)}),this.findSelectionService.selectedMatch.pipe((0,Z.Q)(this.destroyed$)).subscribe(l=>{if(!l||"number"!=typeof l.lineId)return;const d=this.lineNumberMargin+26+l.startIndex*this.diffSelectionService.charWidth;a.scrollTo(d<a.scrollLeft?d:d>a.scrollLeft+a.clientWidth?this.lineNumberMargin+26+l.endIndex*this.diffSelectionService.charWidth-a.clientWidth:a.scrollLeft,19*l.lineId)}),this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(l,d)=>({line:Math.floor((a.scrollTop+d-a.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((a.scrollLeft+l-a.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(l,d)=>this.lines$.value.filter((x,A)=>A>=l&&A<=d).map(x=>x.isSeparator?x.separatorHeader??void 0:this.getLineView(x.diffLine)?.text),()=>{const l=this.lines$.value,d=l[l.length-1];return{line:l.length-1,char:d?(d.isSeparator?d.separatorHeader:this.getLineView(d.diffLine)?.text)?.length??0:0}},([l,d])=>(0,w.A)(l.line,d.line+1).flatMap(x=>{const A=this.lines$.value[x];return!A||A.isSeparator?[]:[{oldLineNo:A.diffLine.oldLine?.lineNumber??-1,newLineNo:A.diffLine.newLine?.lineNumber??-1}]})).pipe((0,Z.Q)(this.destroyed$)).subscribe()}expandSeparator(a){const d=this.lines$.value;this.lines$.next(d.flatMap((x,A)=>{if(x!==a)return x;if(a.hiddenDiffLines.length<=25)return a.hiddenDiffLines.map(Dt=>({isSeparator:!1,diffLine:Dt}));if(0===A)return[{isSeparator:!0,separatorHeader:a.separatorHeader,hiddenDiffLines:U(a.hiddenDiffLines,20)},...b(a.hiddenDiffLines,20).map(Dt=>({isSeparator:!1,diffLine:Dt}))];if(A===d.length-1)return[...a.hiddenDiffLines.slice(0,20).map(Dt=>({isSeparator:!1,diffLine:Dt})),{isSeparator:!0,separatorHeader:null,hiddenDiffLines:a.hiddenDiffLines.slice(20)}];const ut=a.hiddenDiffLines.slice(0,10),mt=U(a.hiddenDiffLines.slice(10),10),Qt=b(a.hiddenDiffLines,10);return[...ut.map(Dt=>({isSeparator:!1,diffLine:Dt})),{isSeparator:!0,separatorHeader:a.separatorHeader,hiddenDiffLines:mt},...Qt.map(Dt=>({isSeparator:!1,diffLine:Dt}))]}))}getLineView(a){return"added"===a.status?a.newLine:"removed"===a.status?a.oldLine:"unchanged"===a.status?a.newLine??a.oldLine:null}trackByHunkLine(a,l){return l.isSeparator?l.separatorHeader:`${l.diffLine.oldLine?.text}:::${l.diffLine.newLine?.text}`}updateLines(a){const l=this.lines$.value;let d=0,x=0;const A=[];for(;x<a.length;){const ut=l[d],mt=a[x];if(!ut||!mt)throw new W.G0;if(mt.isSeparator){if(ut.isSeparator){if(ut.hiddenDiffLines.length===mt.hiddenDiffLines.length){A.push(mt),d++,x++;continue}A.push({isSeparator:!0,separatorHeader:mt.separatorHeader,hiddenDiffLines:mt.hiddenDiffLines.slice(0,ut.hiddenDiffLines.length)}),mt.hiddenDiffLines=mt.hiddenDiffLines.slice(ut.hiddenDiffLines.length),d++;continue}const Qt=mt.hiddenDiffLines[0];if(!Qt){x++;continue}A.push({isSeparator:!1,diffLine:Qt}),mt.hiddenDiffLines=mt.hiddenDiffLines.slice(1),d++}else{if(ut.isSeparator)throw new W.G0;A.push(mt),d++,x++}}this.lines$.next(A)}static{this.\u0275fac=function(l){return new(l||K)(s.rXU(Ct.T),s.rXU(ot.h),s.rXU(pt.v))}}static{this.\u0275cmp=s.VBU({type:K,selectors:[["app-hunk-view"]],viewQuery:function(l,d){if(1&l&&(s.GBs(yt,7),s.GBs(gt,7,s.aKT),s.GBs(o.d6,5)),2&l){let x;s.mGM(x=s.lsd())&&(d.scrollContainer=x.first),s.mGM(x=s.lsd())&&(d.codeElement=x.first),s.mGM(x=s.lsd())&&(d.viewports=x)}},inputs:{diffLines:"diffLines"},features:[s.Vt3],decls:7,vars:9,consts:[["scrollContainer",""],["code",""],["diffLineContent",""],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["tabindex","0",1,"vs-code-theme"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"selection"],["mat-button","",1,"separator-icon",3,"click"],["inline",""],[1,"separator-header"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(l,d){1&l&&(s.j41(0,"cdk-virtual-scroll-viewport",3,0)(2,"code",4,1)(4,"ul"),s.DNE(5,g,6,6,"li",5),s.nI1(6,"async"),s.k0s()()()),2&l&&(s.Y8G("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.R7$(4),s.xc7("margin-left",d.lineNumberMargin+26,"px"),s.R7$(),s.Y8G("cdkVirtualForOf",s.bMT(6,7,d.lines$))("cdkVirtualForTrackBy",d.trackByHunkLine))},dependencies:[o.yg,o.E$,o.d6,et.YU,et.Sq,et.bT,ft.$z,Pt.An,et.Jj,vt.f,Lt.R],styles:['code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{right:100%}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{cursor:pointer;height:19px;line-height:19px;padding:0;text-align:center;min-width:0}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:100%;z-index:-1}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:19px}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#252525}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#eee}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}'],changeDetection:0})}}return K})();const D=["scrollContainer"],lt=["code"];function bt(K,c){if(1&K&&s.nrm(0,"span",10),2&K){const a=c.ngIf;s.xc7("left",a.left)("width",a.width)}}function Et(K,c){if(1&K&&(s.j41(0,"span",12),s.EFF(1),s.k0s()),2&K){const a=c.$implicit;s.Y8G("ngClass",a.class),s.R7$(),s.JRh(a.text)}}function Ht(K,c){if(1&K&&(s.qex(0),s.DNE(1,Et,2,2,"span",11),s.nI1(2,"findToken"),s.nI1(3,"tokens"),s.bVm()),2&K){const a=c.ngIf,l=s.XpG().index;s.R7$(),s.Y8G("ngForOf",s.i5U(3,5,s.brH(2,1,a.tokens,a.text,l),a.text))}}function Kt(K,c){if(1&K&&(s.j41(0,"li",5),s.DNE(1,bt,1,4,"span",6),s.nI1(2,"async"),s.j41(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s(),s.DNE(7,Ht,4,8,"ng-container",9),s.k0s()),2&K){const a=c.$implicit,l=c.index,d=s.XpG();s.Y8G("ngClass","line-"+a.status),s.R7$(),s.Y8G("ngIf",s.bMT(2,11,d.getSelection(l))),s.R7$(2),s.xc7("right","calc(100% + 26px + "+(d.lineNumberMargin/2).toString()+"px)")("width",d.lineNumberMargin/2-5,"px"),s.R7$(),s.JRh(null==a.oldLine?null:a.oldLine.lineNumber),s.R7$(),s.xc7("width",d.lineNumberMargin/2-5,"px"),s.R7$(),s.JRh(null==a.newLine?null:a.newLine.lineNumber),s.R7$(),s.Y8G("ngIf",d.getLineView(a))}}let Yt=(()=>{class K extends((0,z.c)(j.N,st.f)){constructor(a,l,d){super(),this.diffService=a,this.diffSelectionService=l,this.findSelectionService=d,this.lineNumberMargin=0,this.lines$=new h.t([]),this.currentPatch=null,this.getSelection=x=>this.diffSelectionService.selectedRange.pipe((0,_.T)(A=>{if(!A)return null;const[ut,mt]=A[0].line>A[1].line||A[0].line===A[1].line&&A[0].char>A[1].char?[A[1],A[0]]:A;return x<ut.line||x>mt.line?null:x===ut.line?{left:ut.char*this.diffSelectionService.charWidth+"px",width:ut.line===mt.line?(mt.char-ut.char)*this.diffSelectionService.charWidth+"px":"100%"}:x===mt.line?{left:"0px",width:mt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){const a=this.scrollContainer.nativeElement;this.diffLines.pipe((0,rt.c)(0),(0,Z.Q)(this.destroyed$)).subscribe(l=>{const d=this.currentPatch?{...this.currentPatch}:null;if(l){this.currentPatch={newFilePath:l.newFilePath,oldFilePath:l.oldFilePath};const x=Math.max(l.oldLines.length,l.newLines.length)??0;this.lineNumberMargin=this.diffService.calculateMargin(x.toString().length),this.diffService.calculateInlineLines(l.oldLines,l.newLines,l.hunks).pipe((0,Z.Q)(this.destroyed$)).subscribe(A=>{this.lines$.next(A),(!d||d.oldFilePath!==this.currentPatch?.oldFilePath||d.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),d&&this.scrollContainer.nativeElement?.scrollTo(0,0)}),(0,v.z)([this.lines$,this.findSelectionService.searchRegex]).pipe((0,Z.Q)(this.destroyed$)).subscribe(([l,d])=>{if(!d)return void this.findSelectionService.setMatches([]);const x=l.map((A,ut)=>[this.getLineView(A),ut]).flatMap(([A,ut])=>A?Array.from(A.text.matchAll(d),mt=>({lineId:ut,startIndex:mt.index??0,endIndex:(mt.index??0)+(mt[0]?.length??0)})):[]);this.findSelectionService.setMatches(x)}),this.findSelectionService.selectedMatch.pipe((0,Z.Q)(this.destroyed$)).subscribe(l=>{if(!l||"number"!=typeof l.lineId)return;const d=this.lineNumberMargin+26+l.startIndex*this.diffSelectionService.charWidth;a.scrollTo(d<a.scrollLeft?d:d>a.scrollLeft+a.clientWidth?this.lineNumberMargin+26+l.endIndex*this.diffSelectionService.charWidth-a.clientWidth:a.scrollLeft,19*l.lineId)}),this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(l,d)=>({line:Math.floor((a.scrollTop+d-a.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((a.scrollLeft+l-a.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(l,d)=>this.lines$.value.filter((x,A)=>A>=l&&A<=d).map(x=>this.getLineView(x)?.text),()=>{const l=this.lines$.value[this.lines$.value.length-1];return{line:this.lines$.value.length-1,char:l?this.getLineView(l)?.text.length??0:0}},([l,d])=>(0,w.A)(l.line,d.line+1).map(x=>({oldLineNo:this.lines$.value[x]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[x]?.newLine?.lineNumber??-1}))).pipe((0,Z.Q)(this.destroyed$)).subscribe()}getLineView(a){return"added"===a.status?a.newLine:"removed"===a.status?a.oldLine:"unchanged"===a.status?a.newLine??a.oldLine:null}trackByDiffLine(a,l){return a}static{this.\u0275fac=function(l){return new(l||K)(s.rXU(Ct.T),s.rXU(ot.h),s.rXU(pt.v))}}static{this.\u0275cmp=s.VBU({type:K,selectors:[["app-inline-view"]],viewQuery:function(l,d){if(1&l&&(s.GBs(D,7,s.aKT),s.GBs(lt,7,s.aKT),s.GBs(o.d6,5)),2&l){let x;s.mGM(x=s.lsd())&&(d.scrollContainer=x.first),s.mGM(x=s.lsd())&&(d.codeElement=x.first),s.mGM(x=s.lsd())&&(d.viewports=x)}},inputs:{diffLines:"diffLines"},features:[s.Vt3],decls:7,vars:9,consts:[["scrollContainer",""],["code",""],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["tabindex","0",1,"vs-code-theme"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[1,"selection"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(l,d){1&l&&(s.j41(0,"cdk-virtual-scroll-viewport",2,0)(2,"code",3,1)(4,"ul"),s.DNE(5,Kt,8,13,"li",4),s.nI1(6,"async"),s.k0s()()()),2&l&&(s.Y8G("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.R7$(4),s.xc7("margin-left",d.lineNumberMargin+26,"px"),s.R7$(),s.Y8G("cdkVirtualForOf",s.bMT(6,7,d.lines$))("cdkVirtualForTrackBy",d.trackByDiffLine))},dependencies:[o.yg,o.E$,o.d6,et.YU,et.Sq,et.bT,et.Jj,vt.f,Lt.R],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}"],changeDetection:0})}}return K})();var dt=i(3726),wt=i(3993),B=i(5964),X=i(8141),at=i(152),Rt=i(6268),Nt=i(1619);const zt=["leftScrollContainer"],oe=["rightScrollContainer"],te=["leftCode"],ae=["rightCode"];function ie(K,c){if(1&K&&s.nrm(0,"span",13),2&K){const a=c.ngIf;s.xc7("left",a.left)("width",a.width)}}function se(K,c){if(1&K&&(s.j41(0,"span",16),s.EFF(1),s.k0s()),2&K){const a=c.$implicit;s.Y8G("ngClass",a.class),s.R7$(),s.JRh(a.text)}}function ht(K,c){if(1&K&&(s.qex(0),s.j41(1,"span",14),s.EFF(2),s.k0s(),s.DNE(3,se,2,2,"span",15),s.nI1(4,"findToken"),s.nI1(5,"tokens"),s.bVm()),2&K){const a=s.XpG(),l=a.$implicit,d=a.index;s.R7$(2),s.JRh(null==l.oldLine?null:l.oldLine.lineNumber),s.R7$(),s.Y8G("ngForOf",s.i5U(5,6,s.brH(4,2,null==l.oldLine?null:l.oldLine.tokens,null==l.oldLine?null:l.oldLine.text,"l:"+d),null==l.oldLine?null:l.oldLine.text))}}function At(K,c){if(1&K&&(s.j41(0,"li",10),s.DNE(1,ie,1,4,"span",11),s.nI1(2,"async"),s.DNE(3,ht,6,9,"ng-container",12),s.k0s()),2&K){const a=c.$implicit,l=c.index,d=s.XpG();s.Y8G("ngClass","line-"+a.status),s.R7$(),s.Y8G("ngIf",s.bMT(2,3,d.getSelection(l,"left"))),s.R7$(2),s.Y8G("ngIf","added"!==a.status)}}function y(K,c){if(1&K&&s.nrm(0,"span",13),2&K){const a=c.ngIf;s.xc7("left",a.left)("width",a.width)}}function V(K,c){if(1&K&&(s.j41(0,"span",16),s.EFF(1),s.k0s()),2&K){const a=c.$implicit;s.Y8G("ngClass",a.class),s.R7$(),s.JRh(a.text)}}function tt(K,c){if(1&K&&(s.qex(0),s.j41(1,"span",14),s.EFF(2),s.k0s(),s.DNE(3,V,2,2,"span",15),s.nI1(4,"findToken"),s.nI1(5,"tokens"),s.bVm()),2&K){const a=s.XpG(),l=a.$implicit,d=a.index;s.R7$(2),s.JRh(null==l.newLine?null:l.newLine.lineNumber),s.R7$(),s.Y8G("ngForOf",s.i5U(5,6,s.brH(4,2,null==l.newLine?null:l.newLine.tokens,null==l.newLine?null:l.newLine.text,"r:"+d),null==l.newLine?null:l.newLine.text))}}function Mt(K,c){if(1&K&&(s.j41(0,"li",10),s.DNE(1,y,1,4,"span",11),s.nI1(2,"async"),s.DNE(3,tt,6,9,"ng-container",12),s.k0s()),2&K){const a=c.$implicit,l=c.index,d=s.XpG();s.Y8G("ngClass","line-"+a.status),s.R7$(),s.Y8G("ngIf",s.bMT(2,3,d.getSelection(l,"right"))),s.R7$(2),s.Y8G("ngIf","removed"!==a.status)}}let Vt=(()=>{class K extends((0,z.c)(j.N,st.f)){constructor(a,l,d,x){super(),this.zone=a,this.diffService=l,this.diffSelectionService=d,this.findSelectionService=x,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$=new h.t([]),this.currentPatch=null,this.selectionSide=new h.t("right"),this.getSelection=(A,ut)=>this.diffSelectionService.selectedRange.pipe((0,wt.E)(this.selectionSide),(0,_.T)(([mt,Qt])=>{if(!mt||Qt!==ut)return null;const[Dt,$t]=mt[0].line>mt[1].line||mt[0].line===mt[1].line&&mt[0].char>mt[1].char?[mt[1],mt[0]]:mt;return A<Dt.line||A>$t.line?null:A===Dt.line?{left:Dt.char*this.diffSelectionService.charWidth+"px",width:Dt.line===$t.line?($t.char-Dt.char)*this.diffSelectionService.charWidth+"px":"100%"}:A===$t.line?{left:"0px",width:$t.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){const a=this.leftScrollContainer.nativeElement,l=this.rightScrollContainer.nativeElement;this.diffLines.pipe((0,rt.c)(0),(0,Z.Q)(this.destroyed$)).subscribe(d=>{const x=this.currentPatch?{...this.currentPatch}:null;d?(this.currentPatch={newFilePath:d.newFilePath,oldFilePath:d.oldFilePath},this.leftLineNumberMargin=this.diffService.calculateMargin(d.oldLines.length.toString().length,!0),this.rightLineNumberMargin=this.diffService.calculateMargin(d.newLines.length.toString().length,!0),this.diffService.calculateSplitLines(d.oldLines,d.newLines,d.hunks).pipe((0,Z.Q)(this.destroyed$)).subscribe(A=>{this.lines$.next(A),(!x||x.oldFilePath!==this.currentPatch?.oldFilePath||x.newFilePath!==this.currentPatch?.newFilePath)&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0))})):(this.currentPatch=null,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$.next([]),x&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0)))}),this.zone.runOutsideAngular(()=>{let d=!1,x=!1;(0,dt.R)(this.leftScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,B.p)(()=>!x),(0,X.M)(()=>{d=!0,this.rightScrollContainer.nativeElement.scrollTo(this.leftScrollContainer.nativeElement.scrollLeft,this.leftScrollContainer.nativeElement.scrollTop)}),(0,at.B)(100),(0,Z.Q)(this.destroyed$)).subscribe(()=>{d=!1}),(0,dt.R)(this.rightScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,B.p)(()=>!d),(0,X.M)(()=>{x=!0,this.leftScrollContainer.nativeElement.scrollTo(this.rightScrollContainer.nativeElement.scrollLeft,this.rightScrollContainer.nativeElement.scrollTop)}),(0,at.B)(100),(0,Z.Q)(this.destroyed$)).subscribe(()=>{x=!1})}),(0,v.z)([this.lines$,this.findSelectionService.searchRegex]).pipe((0,Z.Q)(this.destroyed$)).subscribe(([d,x])=>{if(!x)return void this.findSelectionService.setMatches([]);const A=d.map((Dt,$t)=>[Dt,$t]),ut=A.filter(([Dt])=>"added"!==Dt.status).map(([Dt,$t])=>[Dt.oldLine,$t]),mt=A.filter(([Dt])=>"removed"!==Dt.status).map(([Dt,$t])=>[Dt.newLine,$t]),Qt=[...ut.flatMap(([Dt,$t])=>Dt?Array.from(Dt.text.matchAll(x),re=>({lineId:`l:${$t}`,startIndex:re.index??0,endIndex:(re.index??0)+(re[0]?.length??0)})):[]),...mt.flatMap(([Dt,$t])=>Dt?Array.from(Dt.text.matchAll(x),re=>({lineId:`r:${$t}`,startIndex:re.index??0,endIndex:(re.index??0)+(re[0]?.length??0)})):[])];this.findSelectionService.setMatches(Qt)}),this.findSelectionService.selectedMatch.pipe((0,Z.Q)(this.destroyed$)).subscribe(d=>{if(!d||"string"!=typeof d.lineId)return;const x=d.lineId.startsWith("l")?a:l,A=26+(d.lineId.startsWith("l")?this.leftLineNumberMargin:this.rightLineNumberMargin),ut=A+d.startIndex*this.diffSelectionService.charWidth;x.scrollTo(ut<x.scrollLeft?ut:ut>x.scrollLeft+x.clientWidth?A+d.endIndex*this.diffSelectionService.charWidth-x.clientWidth:x.scrollLeft,19*+d.lineId.slice(2))}),this.diffSelectionService.captureSelections(this.leftCodeElement.nativeElement,(d,x)=>({line:Math.floor((a.scrollTop+x-a.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((a.scrollLeft+d-a.getBoundingClientRect().left-(this.leftLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(d,x)=>this.lines$.value.filter((A,ut)=>ut>=d&&ut<=x).map(A=>A.oldLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.oldLine?.text.length??0}),([d,x])=>(0,w.A)(d.line,x.line+1).map(A=>({oldLineNo:this.lines$.value[A]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[A]?.newLine?.lineNumber??-1}))).pipe((0,Z.Q)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("left")}),this.diffSelectionService.captureSelections(this.rightCodeElement.nativeElement,(d,x)=>({line:Math.floor((l.scrollTop+x-l.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((l.scrollLeft+d-l.getBoundingClientRect().left-(this.rightLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(d,x)=>this.lines$.value.filter((A,ut)=>ut>=d&&ut<=x).map(A=>A.newLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.newLine?.text.length??0}),([d,x])=>(0,w.A)(d.line,x.line+1).map(A=>({oldLineNo:this.lines$.value[A]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[A]?.newLine?.lineNumber??-1}))).pipe((0,Z.Q)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("right")})}trackByDiffLine(a,l){return a}static{this.\u0275fac=function(l){return new(l||K)(s.rXU(s.SKi),s.rXU(Ct.T),s.rXU(ot.h),s.rXU(pt.v))}}static{this.\u0275cmp=s.VBU({type:K,selectors:[["app-split-view"]],viewQuery:function(l,d){if(1&l&&(s.GBs(zt,7,s.aKT),s.GBs(oe,7,s.aKT),s.GBs(te,7,s.aKT),s.GBs(ae,7,s.aKT),s.GBs(o.d6,5)),2&l){let x;s.mGM(x=s.lsd())&&(d.leftScrollContainer=x.first),s.mGM(x=s.lsd())&&(d.rightScrollContainer=x.first),s.mGM(x=s.lsd())&&(d.leftCodeElement=x.first),s.mGM(x=s.lsd())&&(d.rightCodeElement=x.first),s.mGM(x=s.lsd())&&(d.viewports=x)}},inputs:{diffLines:"diffLines"},features:[s.Vt3],decls:17,vars:18,consts:[["leftScrollContainer",""],["leftCode",""],["rightScrollContainer",""],["rightCode",""],["id","diff-view_split-left"],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["tabindex","0",1,"vs-code-theme","left-code"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["id","diff-view_split-right"],["tabindex","1",1,"vs-code-theme","right-code"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf"],[1,"selection"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(l,d){1&l&&(s.j41(0,"app-grid")(1,"app-grid-cell",4)(2,"cdk-virtual-scroll-viewport",5,0)(4,"code",6,1)(6,"ul"),s.DNE(7,At,4,5,"li",7),s.nI1(8,"async"),s.k0s()()()(),s.j41(9,"app-grid-cell",8)(10,"cdk-virtual-scroll-viewport",5,2)(12,"code",9,3)(14,"ul"),s.DNE(15,Mt,4,5,"li",7),s.nI1(16,"async"),s.k0s()()()()()),2&l&&(s.R7$(2),s.Y8G("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.R7$(4),s.xc7("margin-left",d.leftLineNumberMargin+26,"px"),s.R7$(),s.Y8G("cdkVirtualForOf",s.bMT(8,14,d.lines$))("cdkVirtualForTrackBy",d.trackByDiffLine),s.R7$(3),s.Y8G("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.R7$(4),s.xc7("margin-left",d.rightLineNumberMargin+26,"px"),s.R7$(),s.Y8G("cdkVirtualForOf",s.bMT(16,16,d.lines$))("cdkVirtualForTrackBy",d.trackByDiffLine))},dependencies:[o.yg,o.E$,o.d6,et.YU,et.Sq,et.bT,Rt.K,Nt._,et.Jj,vt.f,Lt.R],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%;overflow-x:scroll}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#501515}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#1f2c19}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#ee7e7e}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#0cd086}"],changeDetection:0})}}return K})();var Zt=i(4823),qt=i(1441),ee=i(313),de=i(1751);let q=(()=>{class K{static{this.\u0275fac=function(l){return new(l||K)}}static{this.\u0275mod=s.$C({type:K})}static{this.\u0275inj=s.G2t({imports:[e.Vg,r.fS,p.U]})}}return K})();s.wjB(it.Q,[e.ec,e.pc,et.bT,ft.$z,ft.iY,Pt.An,Zt.oV,qt.A,ee.e,T,Yt,Vt],[et.Jj,de.D])},5345:(kt,ct,i)=>{i.d(ct,{T:()=>R});var e=i(4428),p=i(5585),it=i(7673),o=i(7468),s=i(6354),N=i(4548),G=i(4438);let R=(()=>{class M{constructor(){this.calculateInlineLines=(w,I,Q)=>{const t=[];let $=0,k=0,U=[];const O=(b,h)=>{(b>$||h>k)&&(t.push(...(0,p.A)(w.slice($,b),I.slice(k,h)).map(([v,_])=>({oldLine:v??null,newLine:_??null,status:"unchanged"}))),$=b,k=h)};for(const b of Q){O(b.oldStart-1,b.newStart-1),[U,$,k]=this.calculateGroups(w,I,$,k,b);for(const h of U)"modified"===h.type?t.push(...h.lines.flatMap(v=>"replaced"===v.status?[{...v,status:"removed",newLine:null},{...v,status:"added",oldLine:null}]:[v]).sort((v,_)=>"removed"===v.status&&"removed"===_.status?0:"removed"===v.status?-1:"removed"===_.status?1:0)):t.push(...h.lines)}return O(w.length,I.length),(0,it.of)(t)},this.calculateHunkLines=(w,I,Q)=>{const t=[];let $=0,k=0,U=[];const O=(b,h,v)=>{(b>$||h>k)&&(t.push({isSeparator:!0,separatorHeader:v,hiddenDiffLines:(0,p.A)(w.slice($,b),I.slice(k,h)).map(([_,S])=>({oldLine:_??null,newLine:S??null,status:"unchanged"}))}),$=b,k=h)};for(const b of Q){O(b.oldStart-1,b.newStart-1,b.header),[U,$,k]=this.calculateGroups(w,I,$,k,b);for(const h of U)"modified"===h.type?t.push(...h.lines.flatMap(v=>"replaced"===v.status?[{isSeparator:!1,diffLine:{...v,status:"removed",newLine:null}},{isSeparator:!1,diffLine:{...v,status:"added",oldLine:null}}]:[{isSeparator:!1,diffLine:v}]).sort((v,_)=>"removed"===v.diffLine.status&&"removed"===_.diffLine.status?0:"removed"===v.diffLine.status?-1:"removed"===_.diffLine.status?1:0)):t.push(...h.lines.map(v=>({isSeparator:!1,diffLine:v})))}return O(w.length,I.length,null),(0,it.of)(t)},this.calculateSplitLines=(w,I,Q)=>{const t=[];let $=0,k=0,U=[];const O=(b,h)=>{(b>$||h>k)&&(t.push(...(0,p.A)(w.slice($,b),I.slice(k,h)).map(([v,_])=>({oldLine:v??null,newLine:_??null,status:"unchanged"}))),$=b,k=h)};for(const b of Q){O(b.oldStart-1,b.newStart-1),[U,$,k]=this.calculateGroups(w,I,$,k,b);for(const h of U)t.push(...h.lines)}return O(w.length,I.length),(0,it.of)(t)},this.calculateMergeLines=(w,I,Q,t,$)=>{const k=[],U=this.calculateSplitLines(w,I,t),O=this.calculateSplitLines(w,Q,$);return(0,o.p)([U,O]).pipe((0,s.T)(([b,h])=>{let v=1,_=0,S=0;for(;_<b.length&&S<h.length;){const H=b[_],rt=h[S];if(H.oldLine||rt.oldLine){if(!H.oldLine&&rt.oldLine)k.push({baseLine:null,yoursLine:H.newLine,yoursStatus:H.status,theirsLine:null,theirsStatus:null}),_++;else if(H.oldLine&&!rt.oldLine)k.push({baseLine:null,yoursLine:null,yoursStatus:null,theirsLine:rt.newLine,theirsStatus:rt.status}),S++;else if(H.oldLine&&rt.oldLine){if(v!==H.oldLine.lineNumber||v!==rt.oldLine.lineNumber)throw new N.pj(H.oldLine.lineNumber,rt.oldLine.lineNumber);k.push({baseLine:rt.oldLine,yoursLine:H.newLine,yoursStatus:H.status,theirsLine:rt.newLine,theirsStatus:rt.status}),v++,_++,S++}}else k.push({baseLine:null,yoursLine:H.newLine,yoursStatus:H.status,theirsLine:rt.newLine,theirsStatus:rt.status}),_++,S++}for(;_<b.length;){const H=b[_];k.push({baseLine:H.oldLine,yoursLine:H.newLine,yoursStatus:H.status,theirsLine:null,theirsStatus:null}),_++}for(;S<h.length;){const H=h[S];k.push({baseLine:H.oldLine,yoursLine:null,yoursStatus:null,theirsLine:H.newLine,theirsStatus:H.status}),S++}return k}))},this.calculateGroups=(w,I,Q,t,$)=>{const k=$.lines.filter(v=>">"!==v.origin&&"<"!==v.origin),U=[];let O=Q,b=t,h=0;for(;h<k.length;)if(-1===k[h]?.newLineNo){const v=[];for(;h<k.length&&-1===k[h]?.newLineNo;){const _=w[O];_&&v.push(_),O++,h++}if(h<k.length&&-1===k[h]?.oldLineNo){const _=[];for(;h<k.length&&-1===k[h]?.oldLineNo;){const S=I[b];S&&_.push(S),b++,h++}U.push(this.createModifiedGroup(v,_))}else U.push({type:"removed",lines:v.map(_=>({oldLine:_,newLine:null,status:"removed"}))})}else if(-1===k[h]?.oldLineNo){const v=[];for(;h<k.length&&-1===k[h]?.oldLineNo;){const _=I[b];_&&v.push(_),b++,h++}if(h<k.length&&-1===k[h]?.newLineNo){const _=[];for(;h<k.length&&-1===k[h]?.newLineNo;){const S=w[O];S&&_.push(S),O++,h++}U.push(this.createModifiedGroup(_,v))}else U.push({type:"added",lines:v.map(_=>({oldLine:null,newLine:_,status:"added"}))})}else{const v=[],_=[];for(;h<k.length&&-1!==k[h]?.oldLineNo&&-1!==k[h]?.newLineNo;){const S=w[O];S&&v.push(S);const H=I[b];H&&_.push(H),O++,b++,h++}U.push({type:"unchanged",lines:(0,p.A)(v,_).map(([S,H])=>({oldLine:S??null,newLine:H??null,status:"unchanged"}))})}return[U,O,b]},this.createModifiedGroup=(w,I)=>{const Q=w.map(Z=>Z.text.replace("\n","")).join("\n"),t=I.map(Z=>Z.text.replace("\n","")).join("\n"),$=new e.diff_match_patch,k=$.diff_main(Q,t);$.diff_cleanupSemantic(k);const U=[];let O=0,b=0,h=null,v=null,_=[],S=[],H=[];const rt=Z=>{Z===e.DIFF_EQUAL?(U.push({status:null!==h&&null!==v?"replaced":null!==h?"removed":"added",oldLine:null!==h?{...w[O],tokens:[...w[O]?.tokens??[],..._]}:null,newLine:null!==v?{...I[b],tokens:[...I[b]?.tokens??[],...S]}:null}),O++,b++,h=null,v=null,_=[],S=[]):Z===e.DIFF_INSERT?(null===h&&(U.push(...H),H=[]),(null===h?U:H).push({status:"added",oldLine:null,newLine:{...I[b],tokens:[...I[b]?.tokens??[],...S]}}),b++,v=null,S=[]):Z===e.DIFF_DELETE&&(null===v&&(U.push(...H),H=[]),(null===v?U:H).push({status:"removed",oldLine:{...w[O],tokens:[...w[O]?.tokens??[],..._]},newLine:null}),O++,h=null,_=[])};for(const[Z,W]of k){const z=W.split("\n");if(Z===e.DIFF_EQUAL){if(z.length>1){U.push(...H),H=[],null!==h||null!==v?(h=(h??0)+(z[0]?.length??0),v=(v??0)+(z[0]?.length??0),rt(Z)):(U.push({status:"unchanged",oldLine:w[O],newLine:I[b]}),O++,b++);for(let j=1;j<z.length-1;j++)U.push({status:"unchanged",oldLine:w[O],newLine:I[b]}),O++,b++}h=(h??0)+(z[z.length-1]?.length??0),v=(v??0)+(z[z.length-1]?.length??0)}else if(Z===e.DIFF_INSERT){if(z.length>1)if(null!==v){z[0]&&z[0].length>0&&S.push({startIndex:v??0,endIndex:(v??0)+z[0].length,scopes:["diff-added"]}),v+=z[0]?.length??0,rt(Z);for(let j=1;j<z.length-1;j++)(null===h?U:H).push({status:"added",oldLine:null,newLine:{...I[b],tokens:[...I[b]?.tokens??[],{startIndex:0,endIndex:z[j]?.length??0,scopes:["diff-added"]}]}}),b++}else for(let j=0;j<z.length-1;j++)(null===h?U:H).push({status:"added",oldLine:null,newLine:{...I[b],tokens:[...I[b]?.tokens??[],{startIndex:0,endIndex:z[j]?.length??0,scopes:["diff-added"]}]}}),b++;(z[z.length-1]?.length??0)>0&&S.push({startIndex:v??0,endIndex:(v??0)+(z[z.length-1]?.length??0),scopes:["diff-added"]}),v=(v??0)+(z[z.length-1]?.length??0)}else if(Z===e.DIFF_DELETE){if(z.length>1)if(null!==h){(z[0]?.length??0)>0&&_.push({startIndex:h??0,endIndex:(h??0)+(z[0]?.length??0),scopes:["diff-removed"]}),h+=z[0]?.length??0,rt(Z);for(let j=1;j<z.length-1;j++)(null===v?U:H).push({status:"removed",oldLine:{...w[O],tokens:[...w[O]?.tokens??[],{startIndex:0,endIndex:z[j]?.length??0,scopes:["diff-removed"]}]},newLine:null}),O++}else for(let j=0;j<z.length-1;j++)(null===v?U:H).push({status:"removed",oldLine:{...w[O],tokens:[...w[O]?.tokens??[],{startIndex:0,endIndex:z[j]?.length??0,scopes:["diff-removed"]}]},newLine:null}),O++;(z[z.length-1]?.length??0)>0&&_.push({startIndex:h??0,endIndex:(h??0)+(z[z.length-1]?.length??0),scopes:["diff-removed"]}),h=(h??0)+(z[z.length-1]?.length??0)}}return U.push(...H),(null!==h||null!==v)&&(0===Q.length&&(h=h??0),0===t.length&&(v=v??0),rt(e.DIFF_EQUAL)),{type:"modified",lines:U}}}static{this.lineNumberCharacterWidth=8.3}static{this.lineNumberSpacing=10}calculateMargin(w,I=!1){return M.lineNumberSpacing+w*M.lineNumberCharacterWidth*(I?1:2)}getFileExtension(w){if(!w)return null;const I=w.lastIndexOf(".");return I>0?w.substring(I+1):null}static{this.\u0275fac=function(I){return new(I||M)}}static{this.\u0275prov=G.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},9767:(kt,ct,i)=>{i.d(ct,{R:()=>s});var e=i(2180),r=i(3938),p=i(8672),it=i(4438);let s=(()=>{class N{constructor(){this.renderScopes=R=>R.map(M=>this.renderScope(M)).join(" "),this.areEqual=(R,M)=>{if(R.length!==M.length)return!1;const n=new Set(R);for(const w of M)if(!n.has(w))return!1;return!0}}transform(R,M=""){if(!M)return[];if(M.length>1e4)return[{class:"normal",text:M.slice(0,1e4)+(0,p.Tl)("... Max line length reached!")}];const n=(0,e.A)(R,t=>t.startIndex),w=[];let I=0,Q=n.filter(t=>t.startIndex<=I&&t.endIndex>I);for(;I<M.length;){let t=n.filter(k=>k.startIndex<=I&&k.endIndex>I);const $=I;for(;this.areEqual(Q,t)&&I<M.length;)I++,t=n.filter(k=>k.startIndex<=I&&k.endIndex>I);w.push({class:this.renderScopes(Q.map(k=>k.scopes)),text:M.substring($,I)||"\n"}),Q=t}return w}renderScope(R){const M=R[R.length-1];if(!M)return"";const n=M.split(".");return(0,r.A)(1,n.length+1).map(w=>n.slice(0,w).join("-")).join(" ")}static{this.\u0275fac=function(M){return new(M||N)}}static{this.\u0275pipe=it.EJ8({name:"tokens",type:N,pure:!0})}}return N})()},6159:(kt,ct,i)=>{i.d(ct,{q:()=>Z});var e=i(2074),r=i(3069);const it=function p(W,z){return W<z},s=function o(W,z){return W&&W.length?(0,e.A)(W,(0,r.A)(z,2),it):void 0};var N=i(8070);var M=i(3938),n=i(8587),w=i(301),I=i(6106),Q=i(6689),t=i(778),$=i(5934);var b=i(363),h=i(8388);const _=(0,b.A)(function(W,z){return(0,h.A)(W)?function U(W,z,j,st){var Ct=-1,ot=w.A,pt=!0,et=W.length,ft=[],Pt=z.length;if(!et)return ft;j&&(z=(0,Q.A)(z,(0,t.A)(j))),st?(ot=I.A,pt=!1):z.length>=200&&(ot=$.A,pt=!1,z=new n.A(z));t:for(;++Ct<et;){var vt=W[Ct],Lt=null==j?vt:j(vt);if(vt=st||0!==vt?vt:0,pt&&Lt==Lt){for(var yt=Pt;yt--;)if(z[yt]===Lt)continue t;ft.push(vt)}else ot(z,Lt,st)||ft.push(vt)}return ft}(W,z):[]});var S=i(4548),H=i(8672),rt=i(4438);let Z=(()=>{class W{constructor(){this.isDashed=j=>"head"===j.id||j.id.startsWith("merge:")}static{this.xUnit=15}static{this.yUnit=28}static{this.xOffset=7.5}static{this.yOffset=13}static{this.totalColors=15}isIndexInBounds(j,st,Ct){const ot=j*W.yUnit;return ot>=st&&ot<Ct-W.yUnit}calculateVisible(j,st,Ct,ot,pt){return{commitDetails:j.slice(ot,pt),commitTrails:st.filter(et=>et.minYIndexWithMerges<=pt&&et.maxYIndexWithMerges>=ot),mergePaths:Ct.filter(et=>et.from.yIndex>=ot&&et.to.some(ft=>ft.yIndex<=pt))}}calculate(j,st,Ct,ot,pt,et,ft){const Pt={};let vt=[],Lt=[],yt=[];const gt=(j?1:0)+st.length;ot.forEach((C,F)=>{Pt[C.id]={id:C.id,yIndex:F+gt,commit:C}});const It=[];st.forEach((C,F)=>{const g=`merge:${C.fromCommitId}:${C.toCommitId}`,T={id:g,message:C.message??(0,H.Tl)("merge: from _branch_ into _branch_",{from:C.fromCommitId,to:C.toCommitId}),parentIds:[C.toCommitId,C.fromCommitId],time:0,references:[],authorEmail:"",authorName:""};It.push(T),Pt[g]={id:g,yIndex:F+(j?1:0),commit:T}}),Ct.forEach(C=>{const F=Pt[C.id],g=F?.commit.parentIds[1];!F||!g||2!==F.commit.parentIds.length||(F.stash={index:C.index,workingDirCommitId:C.id,indexCommitId:g})});const E=j?{id:"head",message:"",parentIds:j.parentId?[j.parentId,...j.mergeHeads]:[...j.mergeHeads],time:0,references:[],authorEmail:"",authorName:""}:null;j&&(Pt.head={id:"head",yIndex:0,commit:E});const L=E?[E,...It,...ot]:[...It,...ot];if(L.forEach(C=>{const F=Pt[C.id];if(!F)throw new S.VX(C.id);F.trail||this.calculateTrail(F,Pt,vt,Lt),!F.stash&&C.parentIds.length>1&&C.parentIds.slice(1).forEach(g=>{const T=Pt[g];if(T)if(T.mergeFrom)T.mergeFrom.to.push(F);else{const D={from:T,to:[F]};T.mergeFrom=D,yt.push(D)}})}),({mergePaths:yt,lanes:Lt}=this.calculateMergePaths(yt,Lt,pt,et)),this.calculateColors(vt,ft),j&&j.parentId&&Pt[j.parentId]){const C=vt.find(F=>0===F.minYIndex);if(C){C.commits=C.commits.filter(g=>"head"!==g.id);const F=s(C.commits,g=>g.yIndex);C.minYIndex=F?.yIndex??0,C.minYIndexWithMerges=F?.yIndex??0,this.createUncommittedTrail(Pt.head,Pt[j.parentId],vt,C.colorIndex,C.lane)}}return It.forEach((C,F)=>{const g=vt.find(lt=>lt.minYIndex===F+(j?1:0)),T=C.parentIds[0],D=T?Pt[T]:void 0;if(g&&D){if(g.commits=g.commits.filter(bt=>bt.id!==C.id),g.commits.length<=0)vt=vt.filter(bt=>bt!==g);else{const bt=s(g.commits.filter(Et=>"head"!==Et.id&&!Et.id.startsWith("merge:")),Et=>Et.yIndex);g.minYIndex=bt?.yIndex??0,g.minYIndexWithMerges=bt?.yIndex??0}const lt=Pt[C.id];if(!lt)throw new S.VX;this.createUncommittedTrail(lt,D,vt,g.colorIndex,g.lane)}}),Ct.forEach(C=>{const F=Pt[C.id];if(!F)return;const T=F.trail,D=F.commit.parentIds[0],lt=D?Pt[D]:void 0;if(lt){if(T.commits=T.commits.filter(bt=>bt.id!==C.id),T.commits.length<=0)vt=vt.filter(bt=>bt!==T);else{const bt=s(T.commits,Et=>Et.yIndex);T.minYIndex=bt?.yIndex??0,T.minYIndexWithMerges=bt?.yIndex??0}this.createUncommittedTrail(F,lt,vt,T.colorIndex,T.lane)}}),{commitDetails:Pt,commitTrails:vt,lanes:Lt,mergePaths:yt,headCommit:E,orderedCommits:L}}createUncommittedTrail(j,st,Ct,ot,pt){let et=st.yIndex;st.mergeFrom&&st.mergeFrom.to.length>0&&st.mergeFrom.to.some(Pt=>!this.isDashed(Pt))&&(et=Math.min(...st.mergeFrom.to.filter(Pt=>!this.isDashed(Pt)).map(({yIndex:Pt})=>Pt))+.25,et<j.yIndex&&(et=j.yIndex+.5),Ct.push({trailIndex:Ct.length,minYIndex:et,maxYIndex:st.yIndex,minYIndexWithMerges:et,maxYIndexWithMerges:st.yIndex,colorIndex:ot,commits:[],isDashed:!1,lane:pt}));const ft={trailIndex:Ct.length,minYIndex:j.yIndex,maxYIndex:et,minYIndexWithMerges:j.yIndex,maxYIndexWithMerges:et,colorIndex:ot,commits:[j],isDashed:!0,lane:pt};return j.trail=ft,Ct.push(ft),ft}calculateTrail(j,st,Ct,ot){const pt={trailIndex:Ct.length,minYIndex:j.yIndex,maxYIndex:j.yIndex,minYIndexWithMerges:j.yIndex,maxYIndexWithMerges:j.yIndex,colorIndex:null,commits:[],isDashed:!1};if(j.commit.parentIds.length<=0)j.trail=pt,pt.commits.push(j),pt.maxYIndex=j.yIndex,pt.maxYIndexWithMerges=j.yIndex;else{let ft=j;for(;ft&&!ft.trail&&ft.commit.parentIds.length>0;){ft.trail=pt,pt.maxYIndex=ft.yIndex,pt.maxYIndexWithMerges=ft.yIndex,pt.commits.push(ft);const Pt=ft.commit.parentIds[0];ft=Pt?st[Pt]:void 0}ft&&(pt.maxYIndex=ft.yIndex,pt.maxYIndexWithMerges=ft.yIndex,ft.trail||(ft.trail=pt,pt.commits.push(ft)))}let et=ot.find(ft=>{const Pt=this.getLaneMaxYIndex(ft);return void 0===Pt||Pt<pt.minYIndex});return et||(et={xIndex:ot.length,occupations:[]},ot.push(et)),et.occupations.push({type:"commit-trail",minYIndex:pt.minYIndex,maxYIndex:pt.maxYIndex}),pt.lane=et,Ct.push(pt),pt}calculateMergePaths(j,st,Ct,ot){st=st.map(et=>({...et,occupations:et.occupations.filter(ft=>"merge-path"!==ft.type)})).filter(et=>et.occupations.length>0);const pt=[...j];return j.forEach(et=>{const ft=[],Pt=[];let vt;et.to.forEach(L=>{et.from.trail.minYIndexWithMerges>L.yIndex&&(et.from.trail.minYIndexWithMerges=L.yIndex),et.from.trail.maxYIndexWithMerges<L.yIndex&&(et.from.trail.maxYIndexWithMerges=L.yIndex),L.trail.minYIndexWithMerges>et.from.yIndex&&(L.trail.minYIndexWithMerges=et.from.yIndex),L.trail.maxYIndexWithMerges<et.from.yIndex&&(L.trail.maxYIndexWithMerges=et.from.yIndex)});const Lt=et.from.trail.lane.xIndex,yt=Ct(Lt);let gt=[],It=et.to;const E=et.to.every(this.isDashed);if(et.from.trail.minYIndex<et.from.yIndex){const L=et.from.trail.commits.findIndex(F=>F.id===et.from.id),C=et.from.trail.commits[L-1];if(!C)throw new S.VX;gt=et.to.filter(F=>F.yIndex>C.yIndex),It=et.to.filter(F=>F.yIndex<=C.yIndex),vt=C.yIndex}else{ft.push(`M ${yt} ${ot(et.from.yIndex)}`),ft.push(`V ${ot(et.from.yIndex-.5)}`),vt=et.from.yIndex-1;const L=function G(W,z){return W&&W.length?(0,e.A)(W,(0,r.A)(z,2),N.A):void 0}(It,C=>C.yIndex);if(L&&L.yIndex===et.from.yIndex-1){It=It.filter(F=>F.id!==L.id);const C=`L ${Ct(L.trail.lane.xIndex)} ${ot(L.yIndex)}`;this.isDashed(L)?Pt.push(C):ft.push(C)}}if(It.length>0){const L=Math.min(...It.map(D=>D.yIndex)),C=st.filter(D=>!this.isLaneOccupied(D,L+1,vt)),F=s(C,D=>[...It,et.from].reduce((lt,bt)=>lt+Math.abs(bt.trail.lane.xIndex-D.xIndex),0))??{xIndex:st.length,occupations:[]};0===C.length&&st.push(F),F.occupations.push({type:"merge-path",minYIndex:L+1,maxYIndex:vt});const g=It.filter(this.isDashed),T=It.filter(D=>!this.isDashed(D));if(ft.push(...T.flatMap(D=>[`M ${Ct(F.xIndex)} ${ot(D.yIndex+.5)}`,`L ${this.adjustForDashedLine(!1,F.xIndex,D.trail.lane.xIndex,D.yIndex+.5,D.yIndex,Ct,ot)}`])),Pt.push(...g.flatMap(D=>[`M ${Ct(F.xIndex)} ${ot(D.yIndex+.5)}`,`L ${this.adjustForDashedLine(!0,F.xIndex,D.trail.lane.xIndex,D.yIndex+.5,D.yIndex,Ct,ot)}`])),E)ft.push(`M ${yt} ${ot(vt+.5)}`,`L ${Ct(F.xIndex)} ${ot(vt+.25)}`,`V ${ot(L+.5)}`);else{const D=Math.min(...T.map(lt=>lt.yIndex));ft.push(`M ${yt} ${ot(vt+.5)}`,`L ${Ct(F.xIndex)} ${ot(vt+.25)}`,`V ${ot(D+.5)}`),Pt.push(`M ${yt} ${ot(D+.5)}`,`V ${ot(L+.5)}`)}}ft.push(...gt.filter(L=>!this.isDashed(L)).flatMap(L=>[`M ${yt} ${ot(L.yIndex+.25)}`,`L ${this.adjustForDashedLine(!1,Lt,L.trail.lane.xIndex,L.yIndex+.25,L.yIndex,Ct,ot)}`])),Pt.push(...gt.filter(this.isDashed).flatMap(L=>[`M ${yt} ${ot(L.yIndex+.25)}`,`L ${this.adjustForDashedLine(!0,Lt,L.trail.lane.xIndex,L.yIndex+.25,L.yIndex,Ct,ot)}`])),E?(et.isDashed=!0,et.path=[...ft,...Pt].join(" ")):(et.isDashed=!1,et.path=ft.join(" "),Pt.length>0&&pt.push({from:et.from,isDashed:!0,path:Pt.join(" "),to:et.to.filter(this.isDashed)}))}),{mergePaths:pt,lanes:st}}calculateColors(j,st){const Ct=(0,M.A)(0,st),ot=[];j.forEach(pt=>{const et=ot.filter(Pt=>Pt.minYIndexWithMerges<=pt.maxYIndexWithMerges&&Pt.maxYIndexWithMerges>=pt.minYIndexWithMerges).map(Pt=>Pt.colorIndex),ft=_(Ct,...et);pt.colorIndex=ft[0]??pt.trailIndex%st,ot.push(pt)})}getLaneMaxYIndex(j){return j.occupations[j.occupations.length-1]?.maxYIndex}isLaneOccupied(j,st,Ct){return j.occupations.some(ot=>ot.minYIndex<=Ct&&ot.maxYIndex>=st)}adjustForDashedLine(j,st,Ct,ot,pt,et,ft){const vt=j?ot>pt?.15:-.15:0;return`${et(Ct+(j?st>Ct?.3:-.3:0))} ${ft(pt+vt)}`}static{this.\u0275fac=function(st){return new(st||W)}}static{this.\u0275prov=rt.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},8667:(kt,ct,i)=>{i.d(ct,{h:()=>yt});var e=i(1635),r=i(4438),p=i(9843),it=i(4412),o=i(3130),s=i(949),N=i(5012),G=i(5530),R=i(5571),M=i(177),n=i(9213),w=i(4823),I=i(5272),Q=i(4991),t=i(9250),$=i(8694),k=i(2930),U=i(9820),O=i(2765),b=i(1441);function h(gt,It){if(1&gt){const E=r.RV6();r.j41(0,"mat-checkbox",7),r.bIt("change",function(C){r.eBV(E);const F=r.XpG().$implicit,g=r.XpG();return r.Njj(g.checkedChanged.next([F,C.checked]))}),r.k0s()}if(2&gt){const E=r.XpG().$implicit,L=r.XpG();r.Y8G("checked",L.isChecked(E))}}function v(gt,It){if(1&gt){const E=r.RV6();r.j41(0,"li",3),r.bIt("contextmenu",function(C){const F=r.eBV(E).$implicit,g=r.XpG();return r.Njj(g.contextMenuOpened.next([F,C]))}),r.j41(1,"mat-icon",4),r.EFF(2),r.k0s(),r.DNE(3,h,1,1,"mat-checkbox",5),r.j41(4,"app-condensed-path",6),r.bIt("click",function(){const C=r.eBV(E).$implicit,F=r.XpG();return r.Njj(F.selectedChanged.next(C))}),r.k0s()()}if(2&gt){const E=It.$implicit,L=r.XpG();r.AVh("selected",L.isSelected(E))("checked",L.isChecked(E)),r.R7$(),r.Y8G("ngClass",L.getPatchIconColorClass(E)),r.R7$(),r.JRh(L.getPatchIcon(E)),r.R7$(),r.Y8G("ngIf",L.checked),r.R7$(),r.Y8G("path",L.getPatchPath(E))}}let _=(()=>{class gt extends((0,o.c)(s.N,$.f)){constructor(E){super(),this.commitDetailService=E,this.checked=null,this.checkedChanged=new r.bkB,this.selectedChanged=new r.bkB,this.contextMenuOpened=new r.bkB,this.keyPressDisabled=!1}ngOnChanges(E){E.selected&&(this.keyPressDisabled=!1),E.patches&&(this.orderedPatches=(0,Q.A)(this.patches,[L=>L.status===t.z.Conflicted,L=>(L.oldFilePath??L.newFilePath??"").toLowerCase()],["desc","asc"]))}trackByPatch(E,L){return`${L.oldFilePath}|${L.newFilePath}|${L.status}`}getPatchPath(E){return this.commitDetailService.getPatchPath(E)}getPatchIcon(E){return this.commitDetailService.getPatchIcon(E)}getPatchIconColorClass(E){return this.commitDetailService.getPatchIconColorClass(E)}isChecked(E){return this.checked?.some(({oldFilePath:L,newFilePath:C})=>L===E.oldFilePath&&C===E.newFilePath)}isSelected(E){return E.oldFilePath===this.selected?.oldFilePath&&E.newFilePath===this.selected.newFilePath}keyPressed(E){if(this.keyPressDisabled)return;E.preventDefault();const L=this.selected,C=this.orderedPatches.findIndex(({oldFilePath:g,newFilePath:T})=>g===L?.oldFilePath&&T===L?.newFilePath);let F=null;switch(E.key){case"ArrowUp":if(!(k.c?E.metaKey:E.ctrlKey)){C>0&&(F=C-1);break}case"Home":F=0;break;case"ArrowDown":if(!(k.c?E.metaKey:E.ctrlKey)){C<this.orderedPatches.length-1&&(F=C+1);break}case"End":F=this.orderedPatches.length-1;break;case"Escape":C>=0&&(F=C)}if(null!==F){this.keyPressDisabled=!0;const g=this.orderedPatches[F];g&&this.selectedChanged.next(g);const T=this.viewports.first,D=T.measureScrollOffset("top"),lt=D+T.getViewportSize(),bt=22*F;(bt<D||bt>=lt)&&T.scrollToIndex(F)}}static{this.\u0275fac=function(L){return new(L||gt)(r.rXU(U.u))}}static{this.\u0275cmp=r.VBU({type:gt,selectors:[["app-patch-list"]],viewQuery:function(L,C){if(1&L&&r.GBs(I.d6,5),2&L){let F;r.mGM(F=r.lsd())&&(C.viewports=F)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[r.Vt3,r.OA$],decls:3,vars:7,consts:[["tabindex","0",1,"item-list-container",3,"keydown","itemSize","maxBufferPx","minBufferPx"],[1,"patch-list"],[3,"selected","checked","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"contextmenu"],["inline","",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"name",3,"click","path"],[3,"change","checked"]],template:function(L,C){1&L&&(r.j41(0,"cdk-virtual-scroll-viewport",0),r.bIt("keydown",function(g){return C.keyPressed(g)}),r.j41(1,"ul",1),r.DNE(2,v,5,8,"li",2),r.k0s()()),2&L&&(r.Y8G("itemSize",22)("maxBufferPx",400)("minBufferPx",200),r.R7$(),r.AVh("checkboxes",C.checked),r.R7$(),r.Y8G("cdkVirtualForOf",C.orderedPatches)("cdkVirtualForTrackBy",C.trackByPatch))},dependencies:[O.So,I.yg,I.E$,I.d6,M.YU,M.bT,n.An,b.A],styles:["[_nghost-%COMP%]{display:contents}.item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%;contain:content;outline:none}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer;gap:4px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;font-size:0;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field{margin:-9px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;text-align:center}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 22px)}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:none}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#515151}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}return gt})();var S=i(180),H=i(4572),rt=i(7673),Z=i(6354),W=i(1747),z=i(3683),j=i(6164);function st(gt,It){if(1&gt){const E=r.RV6();r.j41(0,"mat-checkbox",8),r.bIt("click",function(C){return r.eBV(E),r.Njj(C.stopPropagation())})("change",function(C){r.eBV(E);const F=r.XpG().$implicit,g=r.XpG();return r.Njj(g.clickNodeCheckbox(F,C.checked))}),r.k0s()}if(2&gt){const E=r.XpG().$implicit;r.Y8G("checked","all"===E.checked)("indeterminate","some"===E.checked)}}function Ct(gt,It){if(1&gt){const E=r.RV6();r.j41(0,"div",3),r.bIt("click",function(C){const F=r.eBV(E).$implicit,g=r.XpG();return r.Njj(g.toggleNodeExpanded(C,F))}),r.j41(1,"mat-icon",4),r.EFF(2,"folder"),r.k0s(),r.DNE(3,st,1,2,"mat-checkbox",5),r.j41(4,"span",6),r.EFF(5),r.k0s(),r.j41(6,"mat-icon",7),r.EFF(7),r.k0s()()}if(2&gt){const E=It.$implicit,L=r.XpG();r.AVh("checked","all"===E.checked),r.R7$(3),r.Y8G("ngIf",L.checked),r.R7$(),r.Y8G("matTooltip",E.id),r.R7$(),r.JRh(E.segment),r.R7$(2),r.JRh(E.expanded?"expand_less":"expand_more")}}function ot(gt,It){if(1&gt){const E=r.RV6();r.j41(0,"mat-checkbox",13),r.bIt("change",function(C){r.eBV(E);const F=r.XpG().$implicit,g=r.XpG();return r.Njj(g.checkedChanged.next([F.patch,C.checked]))}),r.k0s()}if(2&gt){const E=r.XpG().$implicit;r.Y8G("checked",E.checked)}}function pt(gt,It){if(1&gt){const E=r.RV6();r.j41(0,"div",9),r.bIt("contextmenu",function(C){const F=r.eBV(E).$implicit,g=r.XpG();return r.Njj(g.contextMenuOpened.next([F.patch,C]))}),r.j41(1,"mat-icon",10),r.EFF(2),r.k0s(),r.DNE(3,ot,1,1,"mat-checkbox",11),r.j41(4,"span",12),r.bIt("click",function(){const C=r.eBV(E).$implicit,F=r.XpG();return r.Njj(F.selectedChanged.next(C.patch))}),r.EFF(5),r.k0s()()}if(2&gt){let E;const L=It.$implicit,C=r.XpG();r.AVh("checked",L.checked)("selected",C.isSelected(L.patch)),r.R7$(),r.Y8G("ngClass",C.getPatchIconColorClass(L.patch)),r.R7$(),r.JRh(C.getPatchIcon(L.patch)),r.R7$(),r.Y8G("ngIf",C.checked),r.R7$(),r.Y8G("matTooltip",null!==(E=C.getPatchPath(L.patch))&&void 0!==E?E:""),r.R7$(),r.JRh(L.segment)}}let et=(()=>{class gt extends((0,o.c)(s.N)){constructor(E){super(),this.commitDetailService=E,this.checkedChanged=new r.bkB,this.selectedChanged=new r.bkB,this.contextMenuOpened=new r.bkB,this.tree=new it.t([]),this.leafNodes=new it.t([]),this.collapsedNodeIds=new it.t(new Set),this.keyPressDisabled=!1,this.toggleNodeExpanded=(L,C)=>{L.preventDefault(),L.stopPropagation();const F=new Set(this.collapsedNodeIds.value);F.has(C.id)?(F.delete(C.id),this.collapsedNodeIds.next(F)):(F.add(C.id),this.collapsedNodeIds.next(F))},this.getDescendantsLeafNodes=L=>L.reduce((C,F)=>[...C,..."patch"in F?[F]:this.getDescendantsLeafNodes(F.children)],[]),this.getDescendantsList=L=>L.reduce((C,F)=>[...C,..."patch"in F?[F]:[F,...this.getDescendantsList(F.children)]],[])}ngOnInit(){(0,H.z)([this.patches,this.checked??(0,rt.of)(null),this.collapsedNodeIds]).pipe((0,Z.T)(([E,L,C])=>{const F=E.map(g=>({patch:g,segments:(g.newFilePath??g.oldFilePath??"").split("/")}));return this.buildTree(F,"",0,L,C)})).subscribe(E=>{this.tree.next(E),this.leafNodes.next(this.getDescendantsLeafNodes(E)),this.keyPressDisabled=!1})}getPatchPath(E){return this.commitDetailService.getPatchPath(E)}getPatchIcon(E){return this.commitDetailService.getPatchIcon(E)}getPatchIconColorClass(E){return this.commitDetailService.getPatchIconColorClass(E)}isSelected(E){return E.oldFilePath===this.selected?.oldFilePath&&E.newFilePath===this.selected.newFilePath}clickNodeCheckbox(E,L){for(const C of this.getDescendantsLeafNodes(E.children))this.checkedChanged.next([C.patch,L])}buildTree(E,L,C,F,g){return Object.entries((0,S.A)(E,({segments:lt})=>lt[0])).sort(([lt],[bt])=>lt.localeCompare(bt,void 0,{numeric:!0})).flatMap(([lt,bt])=>{const Et=`${L}${lt}/`,Ht=`${L}${lt}`,Kt=bt.filter(({segments:X})=>X.length>1),Yt=F?bt.every(({patch:X})=>F.some(({oldFilePath:at,newFilePath:Rt})=>at===X.oldFilePath&&Rt===X.newFilePath))?"all":bt.some(({patch:X})=>F.some(({oldFilePath:at,newFilePath:Rt})=>at===X.oldFilePath&&Rt===X.newFilePath))?"some":"none":"none",dt=Kt.length>0?{id:Et,depth:C,expanded:!g.has(Et),children:this.buildTree(Kt.map(({patch:X,segments:at})=>({patch:X,segments:at.slice(1)})),Et,C+1,F,g),segment:lt,checked:Yt}:null,wt=bt.find(({segments:X})=>X.length<=1),B=wt?{id:Ht,depth:C,segment:lt,patch:wt.patch,checked:F?.some(({oldFilePath:X,newFilePath:at})=>X===wt.patch.oldFilePath&&at===wt.patch.newFilePath)??!1}:null;return B&&dt?[B,dt]:dt?[dt]:B?[B]:[]})}keyPressed(E){if(this.keyPressDisabled)return;E.preventDefault();const L=this.selected,C=this.leafNodes.value,F=C.findIndex(({patch:T})=>T.oldFilePath===L?.oldFilePath&&T.newFilePath===L?.newFilePath);let g=null;switch(E.key){case"ArrowUp":if(!(k.c?E.metaKey:E.ctrlKey)){F>0&&(g=F-1);break}case"Home":g=0;break;case"ArrowDown":if(!(k.c?E.metaKey:E.ctrlKey)){F<C.length-1&&(g=F+1);break}case"End":g=C.length-1;break;case"Escape":F>=0&&(g=F)}if(null!==g){this.keyPressDisabled=!0;const T=C[g];T&&this.selectedChanged.next(T.patch);const D=this.virtualTree.viewports.first,lt=D.measureScrollOffset("top"),bt=lt+D.getViewportSize();let Et=0;this.getDescendantsList(this.tree.value);for(const Yt of this.getDescendantsList(this.tree.value)){if(Yt===T)break;Et++}const Kt=22*Et;(Kt<lt||Kt>=bt)&&D.scrollToIndex(Et)}}static{this.\u0275fac=function(L){return new(L||gt)(r.rXU(U.u))}}static{this.\u0275cmp=r.VBU({type:gt,selectors:[["app-patch-tree"]],viewQuery:function(L,C){if(1&L&&r.GBs(W.P,5),2&L){let F;r.mGM(F=r.lsd())&&(C.virtualTree=F.first)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[r.Vt3],decls:3,vars:4,consts:[[3,"keyPressed","tree","itemSize"],["class","node-item",3,"checked","click",4,"appVirtualTreeNode"],["class","leaf-item",3,"checked","selected","contextmenu",4,"appVirtualTreeLeafNode"],[1,"node-item",3,"click"],["inline","",1,"node-icon"],[3,"checked","indeterminate","click","change",4,"ngIf"],[1,"text",3,"matTooltip"],[1,"expand-icon"],[3,"click","change","checked","indeterminate"],[1,"leaf-item",3,"contextmenu"],["inline","",1,"node-icon",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"text",3,"click","matTooltip"],[3,"change","checked"]],template:function(L,C){1&L&&(r.j41(0,"app-virtual-tree",0),r.bIt("keyPressed",function(g){return C.keyPressed(g)}),r.DNE(1,Ct,8,6,"div",1)(2,pt,6,9,"div",2),r.k0s()),2&L&&(r.AVh("checkboxes",!!C.checked),r.Y8G("tree",C.tree)("itemSize",22))},dependencies:[O.So,M.YU,M.bT,n.An,w.oV,W.P,z.x,j.$],styles:["[_nghost-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport{contain:content;scrollbar-gutter:stable;margin-left:-16px;margin-right:-16px}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper>ul{overflow-x:auto;overflow-y:hidden}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-spacer{position:relative}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#616161}.node-item[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]{margin-left:16px;display:flex;justify-content:space-between;cursor:pointer;line-height:22px;height:22px;user-select:none;align-items:center;min-width:200px;gap:4px}.node-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;text-align:center}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;height:22px;font-size:0;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field, .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]    >.mdc-form-field, .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field, .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]    >.mdc-form-field{margin:-9px}.node-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.node-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%]{flex:0 0 auto;color:#ffffffb3;line-height:22px}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .node-icon[_ngcontent-%COMP%]{display:none}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .checkbox-button[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover){background-color:#515151}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#616161}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover){background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}return gt})();var ft=i(1751);function Pt(gt,It){if(1&gt){const E=r.RV6();r.j41(0,"app-patch-list",6),r.nI1(1,"async"),r.bIt("checkedChanged",function(C){r.eBV(E);const F=r.XpG(2);return r.Njj(F.checkedChanged.next(C))})("selectedChanged",function(C){r.eBV(E);const F=r.XpG(2);return r.Njj(F.selectedChanged.next(C))})("contextMenuOpened",function(C){r.eBV(E);const F=r.XpG(2);return r.Njj(F.contextMenuOpened.next(C))}),r.k0s()}if(2&gt){const E=r.XpG(2);r.Y8G("patches",E.patches)("checked",r.bMT(1,3,E.checked))("selected",E.selected)}}function vt(gt,It){if(1&gt){const E=r.RV6();r.j41(0,"app-patch-tree",6),r.bIt("checkedChanged",function(C){r.eBV(E);const F=r.XpG(2);return r.Njj(F.checkedChanged.next(C))})("selectedChanged",function(C){r.eBV(E);const F=r.XpG(2);return r.Njj(F.selectedChanged.next(C))})("contextMenuOpened",function(C){r.eBV(E);const F=r.XpG(2);return r.Njj(F.contextMenuOpened.next(C))}),r.k0s()}if(2&gt){const E=r.XpG(2);r.Y8G("patches",E.patches$)("checked",E.checked)("selected",E.selected)}}function Lt(gt,It){if(1&gt){const E=r.RV6();r.qex(0),r.j41(1,"header")(2,"mat-button-toggle-group",1),r.bIt("change",function(C){r.eBV(E);const F=r.XpG();return r.Njj(F.changePatchView(C.value))}),r.j41(3,"mat-button-toggle",2),r.nI1(4,"translate"),r.j41(5,"mat-icon"),r.EFF(6,"list"),r.k0s()(),r.j41(7,"mat-button-toggle",3),r.nI1(8,"translate"),r.nrm(9,"mat-icon",4),r.k0s()()(),r.DNE(10,Pt,2,5,"app-patch-list",5)(11,vt,1,3,"app-patch-tree",5),r.bVm()}if(2&gt){const E=It.ngIf;r.R7$(2),r.Y8G("value",E),r.R7$(),r.Y8G("matTooltip",r.bMT(4,5,"List View")),r.R7$(4),r.Y8G("matTooltip",r.bMT(8,7,"Tree View")),r.R7$(3),r.Y8G("ngIf","list"===E),r.R7$(),r.Y8G("ngIf","tree"===E)}}let yt=(()=>{class gt extends((0,o.c)(s.N)){constructor(E){super(),this.store=E,this.checked=null,this.checkedChanged=new r.bkB,this.selectedChanged=new r.bkB,this.contextMenuOpened=new r.bkB,this.patches$=new it.t([])}ngOnChanges(E){E.patches&&this.patches$.next(this.patches)}changePatchView(E){this.store.dispatch(new G.AV(E))}static{this.\u0275fac=function(L){return new(L||gt)(r.rXU(p.il))}}static{this.\u0275cmp=r.VBU({type:gt,selectors:[["app-patches-view"]],inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[r.Vt3,r.OA$],decls:2,vars:3,consts:[[4,"ngIf"],[3,"change","value"],["value","list",3,"matTooltip"],["value","tree",3,"matTooltip"],["svgIcon","file-tree"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened",4,"ngIf"],[3,"checkedChanged","selectedChanged","contextMenuOpened","patches","checked","selected"]],template:function(L,C){1&L&&(r.DNE(0,Lt,12,9,"ng-container",0),r.nI1(1,"async")),2&L&&r.Y8G("ngIf",r.bMT(1,1,C.view))},dependencies:[R.ec,R.pc,M.bT,n.An,w.oV,_,et,M.Jj,ft.D],styles:["[_nghost-%COMP%]{display:contents}header[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;margin-bottom:-4px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:30px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:28px;padding:0 5px}"],changeDetection:0})}}return(0,e.Cg)([(0,p.l6)(N.d.patchView)],gt.prototype,"view",void 0),gt})()},3054:(kt,ct,i)=>{i.d(ct,{K:()=>G});var e=i(5571),r=i(5596),p=i(2765),it=i(9042),o=i(1117),s=i(8099),N=i(4438);let G=(()=>{class R{static{this.\u0275fac=function(w){return new(w||R)}}static{this.\u0275mod=N.$C({type:R})}static{this.\u0275inj=N.G2t({imports:[e.Vg,r.Hu,p.g7,it.fS,o.U,s.p]})}}return R})()},6573:(kt,ct,i)=>{i.d(ct,{a:()=>o});var e=i(9183),r=i(6850),p=i(1117),it=i(4438);let o=(()=>{class s{static{this.\u0275fac=function(R){return new(R||s)}}static{this.\u0275mod=it.$C({type:s})}static{this.\u0275inj=it.G2t({imports:[p.U,e.D6,r.RI]})}}return s})()},850:(kt,ct,i)=>{i.d(ct,{$3:()=>ft,jL:()=>L,pN:()=>E});var e=i(4438),r=i(6600),p=i(177),it=i(5272),o=i(6969),s=i(998),N=i(4085),G=i(6860),R=i(9969),M=i(8359),n=i(1413),w=i(9030),I=i(7786),Q=i(7673),t=i(3726),$=i(7336),k=i(6939),U=i(9417),O=i(2102),b=i(9172),h=i(5558),v=i(6697),_=i(5964),S=i(6354),H=i(8141),rt=i(3103),Z=i(8203);const W=["panel"],z=["*"];function j(C,F){if(1&C){const g=e.RV6();e.j41(0,"div",1,0),e.bIt("@panelAnimation.done",function(D){e.eBV(g);const lt=e.XpG();return e.Njj(lt._animationDone.next(D))}),e.SdG(2),e.k0s()}if(2&C){const g=F.id,T=e.XpG();e.Y8G("id",T.id)("ngClass",T._classList)("@panelAnimation",T.isOpen?"visible":"hidden"),e.BMQ("aria-label",T.ariaLabel||null)("aria-labelledby",T._getPanelAriaLabelledby(g))}}const st=(0,R.hZ)("panelAnimation",[(0,R.wk)("void, hidden",(0,R.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,R.kY)(":enter, hidden => visible",[(0,R.Os)([(0,R.i0)("0.03s linear",(0,R.iF)({opacity:1})),(0,R.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,R.iF)({transform:"scaleY(1)"}))])]),(0,R.kY)(":leave, visible => hidden",[(0,R.i0)("0.075s linear",(0,R.iF)({opacity:0}))])]);let Ct=0;class ot{constructor(F,g){this.source=F,this.option=g}}const pt=new e.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function et(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let ft=(()=>{class C{get isOpen(){return this._isOpen&&this.showPanel}_setColor(g){this._color=g,this._setThemeClasses(this._classList)}set classList(g){this._classList=g&&g.length?(0,N.cc)(g).reduce((T,D)=>(T[D]=!0,T),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(g){this._hideSingleSelectionIndicator=g,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const g of this.options)g._changeDetectorRef.markForCheck()}constructor(g,T,D,lt){this._changeDetectorRef=g,this._elementRef=T,this._defaults=D,this._activeOptionChanges=M.yU.EMPTY,this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new e.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new e.bkB,this.opened=new e.bkB,this.closed=new e.bkB,this.optionActivated=new e.bkB,this._classList={},this.id="mat-autocomplete-"+Ct++,this.inertGroups=lt?.SAFARI||!1,this.autoActiveFirstOption=!!D.autoActiveFirstOption,this.autoSelectActiveOption=!!D.autoSelectActiveOption,this.requireSelection=!!D.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new s.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(g=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[g]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(g){this.panel&&(this.panel.nativeElement.scrollTop=g)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(g){const T=new ot(this,g);this.optionSelected.emit(T)}_getPanelAriaLabelledby(g){return this.ariaLabel?null:this.ariaLabelledby?(g?g+" ":"")+this.ariaLabelledby:g}_setVisibilityClasses(g){g[this._visibleClass]=this.showPanel,g[this._hiddenClass]=!this.showPanel}_setThemeClasses(g){g["mat-primary"]="primary"===this._color,g["mat-warn"]="warn"===this._color,g["mat-accent"]="accent"===this._color}_skipPredicate(){return!1}static{this.\u0275fac=function(T){return new(T||C)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(pt),e.rXU(G.OD))}}static{this.\u0275cmp=e.VBU({type:C,selectors:[["mat-autocomplete"]],contentQueries:function(T,D,lt){if(1&T&&(e.wni(lt,r.wT,5),e.wni(lt,r.QC,5)),2&T){let bt;e.mGM(bt=e.lsd())&&(D.options=bt),e.mGM(bt=e.lsd())&&(D.optionGroups=bt)}},viewQuery:function(T,D){if(1&T&&(e.GBs(e.C4Q,7),e.GBs(W,5)),2&T){let lt;e.mGM(lt=e.lsd())&&(D.template=lt.first),e.mGM(lt=e.lsd())&&(D.panel=lt.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[e.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[e.Mj6.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[e.Mj6.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",e.L39],autoSelectActiveOption:[e.Mj6.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",e.L39],requireSelection:[e.Mj6.HasDecoratorInputTransform,"requireSelection","requireSelection",e.L39],panelWidth:"panelWidth",disableRipple:[e.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",e.L39],classList:[e.Mj6.None,"class","classList"],hideSingleSelectionIndicator:[e.Mj6.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",e.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[e.Jv_([{provide:r.is,useExisting:C}]),e.GFd,e.aNF],ngContentSelectors:z,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"]],template:function(T,D){1&T&&(e.NAR(),e.DNE(0,j,3,5,"ng-template"))},dependencies:[p.YU],styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[st]},changeDetection:0})}}return C})();const vt={provide:U.kq,useExisting:(0,e.Rfq)(()=>E),multi:!0},yt=new e.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const C=(0,e.WQX)(o.hJ);return()=>C.scrollStrategies.reposition()}}),It={provide:yt,deps:[o.hJ],useFactory:function gt(C){return()=>C.scrollStrategies.reposition()}};let E=(()=>{class C{constructor(g,T,D,lt,bt,Et,Ht,Kt,Yt,dt,wt){this._element=g,this._overlay=T,this._viewContainerRef=D,this._zone=lt,this._changeDetectorRef=bt,this._dir=Ht,this._formField=Kt,this._document=Yt,this._viewportRuler=dt,this._defaults=wt,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=M.yU.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new n.B,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,w.v)(()=>{const B=this.autocomplete?this.autocomplete.options:null;return B?B.changes.pipe((0,b.Z)(B),(0,h.n)(()=>(0,I.h)(...B.map(X=>X.onSelectionChange)))):this._zone.onStable.pipe((0,v.s)(1),(0,h.n)(()=>this.optionSelections))}),this._handlePanelKeydown=B=>{(B.keyCode===$._f&&!(0,$.rp)(B)||B.keyCode===$.i7&&(0,$.rp)(B,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),B.stopPropagation(),B.preventDefault())},this._trackedModal=null,this._scrollStrategy=Et}ngAfterViewInit(){const g=this._getWindow();typeof g<"u"&&this._zone.runOutsideAngular(()=>g.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(g){g.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const g=this._getWindow();typeof g<"u"&&g.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&(0,s.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,I.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,_.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,_.p)(()=>this._overlayAttached)):(0,Q.of)()).pipe((0,S.T)(g=>g instanceof r.MI?g:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,I.h)((0,t.R)(this._document,"click"),(0,t.R)(this._document,"auxclick"),(0,t.R)(this._document,"touchend")).pipe((0,_.p)(g=>{const T=(0,G.Fb)(g),D=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,lt=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&T!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!D||!D.contains(T))&&(!lt||!lt.contains(T))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(T)}))}writeValue(g){Promise.resolve(null).then(()=>this._assignOptionValue(g))}registerOnChange(g){this._onChange=g}registerOnTouched(g){this._onTouched=g}setDisabledState(g){this._element.nativeElement.disabled=g}_handleKeydown(g){const T=g.keyCode,D=(0,$.rp)(g);if(T===$._f&&!D&&g.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&T===$.Fm&&this.panelOpen&&!D)this.activeOption._selectViaInteraction(),this._resetActiveItem(),g.preventDefault();else if(this.autocomplete){const lt=this.autocomplete._keyManager.activeItem,bt=T===$.i7||T===$.n6;T===$.wn||bt&&!D&&this.panelOpen?this.autocomplete._keyManager.onKeydown(g):bt&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(bt||this.autocomplete._keyManager.activeItem!==lt)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(g){let T=g.target,D=T.value;if("number"===T.type&&(D=""==D?null:parseFloat(D)),this._previousValue!==D){if(this._previousValue=D,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(D),D){if(this.panelOpen&&!this.autocomplete.requireSelection){const lt=this.autocomplete.options?.find(bt=>bt.selected);lt&&D!==this._getDisplayValue(lt.value)&&lt.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===g.target){const lt=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(lt)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(g=!1){this._formField&&"auto"===this._formField.floatLabel&&(g?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const g=this._zone.onStable.pipe((0,v.s)(1)),T=this.autocomplete.options.changes.pipe((0,H.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,rt.c)(0));return(0,I.h)(g,T).pipe((0,h.n)(()=>(this._zone.run(()=>{const D=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),D!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,v.s)(1)).subscribe(D=>this._setValueAndClose(D))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(g){const T=this.autocomplete;return T&&T.displayWith?T.displayWith(g):g}_assignOptionValue(g){const T=this._getDisplayValue(g);null==g&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(T??"")}_updateNativeInputValue(g){this._formField?this._formField._control.value=g:this._element.nativeElement.value=g,this._previousValue=g}_setValueAndClose(g){const T=this.autocomplete,D=g?g.source:this._pendingAutoselectedOption;D?(this._clearPreviousSelectedOption(D),this._assignOptionValue(D.value),this._onChange(D.value),T._emitSelectEvent(D),this._element.nativeElement.focus()):T.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),T._animationDone?T._animationDone.pipe((0,v.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(g,T){this.autocomplete?.options?.forEach(D=>{D!==g&&D.selected&&D.deselect(T)})}_openPanelInternal(g=this._element.nativeElement.value){this._attachOverlay(g),this._floatLabel(),this._trackedModal&&(0,s.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(g){let T=this._overlayRef;T?(this._positionStrategy.setOrigin(this._getConnectedElement()),T.updateSize({width:this._getPanelWidth()})):(this._portal=new k.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),T=this._overlay.create(this._getOverlayConfig()),this._overlayRef=T,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&T&&T.updateSize({width:this._getPanelWidth()})})),T&&!T.hasAttached()&&(T.attach(this._portal),this._valueOnAttach=g,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const D=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&D!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const g=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=g.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=g.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new o.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const g=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(g),this._positionStrategy=g,g}_setStrategyPositions(g){const T=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],D=this._aboveClass,lt=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:D},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:D}];let bt;bt="above"===this.position?lt:"below"===this.position?T:[...T,...lt],g.withPositions(bt)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const g=this.autocomplete;if(g.autoActiveFirstOption){let T=-1;for(let D=0;D<g.options.length;D++)if(!g.options.get(D).disabled){T=D;break}g._keyManager.setActiveItem(T)}else g._keyManager.setActiveItem(-1)}_canOpen(){const g=this._element.nativeElement;return!g.readOnly&&!g.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(g){const T=this.autocomplete,D=(0,r.jb)(g,T.options,T.optionGroups);if(0===g&&1===D)T._setScrollTop(0);else if(T.panel){const lt=T.options.toArray()[g];if(lt){const bt=lt._getHostElement(),Et=(0,r.TL)(bt.offsetTop,bt.offsetHeight,T._getScrollTop(),T.panel.nativeElement.offsetHeight);T._setScrollTop(Et)}}}_applyModalPanelOwnership(){const g=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!g)return;const T=this.autocomplete.id;this._trackedModal&&(0,s.Ae)(this._trackedModal,"aria-owns",T),(0,s.px)(g,"aria-owns",T),this._trackedModal=g}_clearFromModal(){this._trackedModal&&((0,s.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static{this.\u0275fac=function(T){return new(T||C)(e.rXU(e.aKT),e.rXU(o.hJ),e.rXU(e.c1b),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(yt),e.rXU(Z.dS,8),e.rXU(O.xb,9),e.rXU(p.qQ,8),e.rXU(it.Xj),e.rXU(pt,8))}}static{this.\u0275dir=e.FsC({type:C,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(T,D){1&T&&e.bIt("focusin",function(){return D._handleFocus()})("blur",function(){return D._onTouched()})("input",function(bt){return D._handleInput(bt)})("keydown",function(bt){return D._handleKeydown(bt)})("click",function(){return D._handleClick()}),2&T&&e.BMQ("autocomplete",D.autocompleteAttribute)("role",D.autocompleteDisabled?null:"combobox")("aria-autocomplete",D.autocompleteDisabled?null:"list")("aria-activedescendant",D.panelOpen&&D.activeOption?D.activeOption.id:null)("aria-expanded",D.autocompleteDisabled?null:D.panelOpen.toString())("aria-controls",D.autocompleteDisabled||!D.panelOpen||null==D.autocomplete?null:D.autocomplete.id)("aria-haspopup",D.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[e.Mj6.None,"matAutocomplete","autocomplete"],position:[e.Mj6.None,"matAutocompletePosition","position"],connectedTo:[e.Mj6.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[e.Mj6.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[e.Mj6.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",e.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[e.Jv_([vt]),e.GFd,e.OA$]})}}return C})(),L=(()=>{class C{static{this.\u0275fac=function(T){return new(T||C)}}static{this.\u0275mod=e.$C({type:C})}static{this.\u0275inj=e.G2t({providers:[It],imports:[o.z_,r.Sy,r.yE,p.MD,it.Gj,r.Sy,r.yE]})}}return C})()},5571:(kt,ct,i)=>{i.d(ct,{Vg:()=>U,ec:()=>$,pc:()=>k});var e=i(998),r=i(5024),p=i(4438),it=i(9417),o=i(6600);const s=["button"],N=["*"];function G(O,b){if(1&O&&p.nrm(0,"mat-pseudo-checkbox",6),2&O){const h=p.XpG();p.Y8G("disabled",h.disabled)}}function R(O,b){if(1&O&&p.nrm(0,"mat-pseudo-checkbox",6),2&O){const h=p.XpG();p.Y8G("disabled",h.disabled)}}const M=new p.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function n(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}}),w=new p.nKC("MatButtonToggleGroup"),I={provide:it.kq,useExisting:(0,p.Rfq)(()=>$),multi:!0};let Q=0;class t{constructor(b,h){this.source=b,this.value=h}}let $=(()=>{class O{get name(){return this._name}set name(h){this._name=h,this._markButtonsForCheck()}get value(){const h=this._selectionModel?this._selectionModel.selected:[];return this.multiple?h.map(v=>v.value):h[0]?h[0].value:void 0}set value(h){this._setSelectionByValue(h),this.valueChange.emit(this.value)}get selected(){const h=this._selectionModel?this._selectionModel.selected:[];return this.multiple?h:h[0]||null}get multiple(){return this._multiple}set multiple(h){this._multiple=h,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(h){this._disabled=h,this._markButtonsForCheck()}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(h){this._hideSingleSelectionIndicator=h,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(h){this._hideMultipleSelectionIndicator=h,this._markButtonsForCheck()}constructor(h,v){this._changeDetector=h,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+Q++,this.valueChange=new p.bkB,this.change=new p.bkB,this.appearance=v&&v.appearance?v.appearance:"standard",this.hideSingleSelectionIndicator=v?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=v?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new r.CB(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(h=>h.checked))}writeValue(h){this.value=h,this._changeDetector.markForCheck()}registerOnChange(h){this._controlValueAccessorChangeFn=h}registerOnTouched(h){this._onTouched=h}setDisabledState(h){this.disabled=h}_emitChangeEvent(h){const v=new t(h,this.value);this._rawValue=v.value,this._controlValueAccessorChangeFn(v.value),this.change.emit(v)}_syncButtonToggle(h,v,_=!1,S=!1){!this.multiple&&this.selected&&!h.checked&&(this.selected.checked=!1),this._selectionModel?v?this._selectionModel.select(h):this._selectionModel.deselect(h):S=!0,S?Promise.resolve().then(()=>this._updateModelValue(h,_)):this._updateModelValue(h,_)}_isSelected(h){return this._selectionModel&&this._selectionModel.isSelected(h)}_isPrechecked(h){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(v=>null!=h.value&&v===h.value):h.value===this._rawValue)}_setSelectionByValue(h){this._rawValue=h,this._buttonToggles&&(this.multiple&&h?(Array.isArray(h),this._clearSelection(),h.forEach(v=>this._selectValue(v))):(this._clearSelection(),this._selectValue(h)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(h=>h.checked=!1)}_selectValue(h){const v=this._buttonToggles.find(_=>null!=_.value&&_.value===h);v&&(v.checked=!0,this._selectionModel.select(v))}_updateModelValue(h,v){v&&this._emitChangeEvent(h),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(h=>h._markForCheck())}static{this.\u0275fac=function(v){return new(v||O)(p.rXU(p.gRc),p.rXU(M,8))}}static{this.\u0275dir=p.FsC({type:O,selectors:[["mat-button-toggle-group"]],contentQueries:function(v,_,S){if(1&v&&p.wni(S,k,5),2&v){let H;p.mGM(H=p.lsd())&&(_._buttonToggles=H)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(v,_){2&v&&(p.BMQ("aria-disabled",_.disabled),p.AVh("mat-button-toggle-vertical",_.vertical)("mat-button-toggle-group-appearance-standard","standard"===_.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[p.Mj6.HasDecoratorInputTransform,"vertical","vertical",p.L39],value:"value",multiple:[p.Mj6.HasDecoratorInputTransform,"multiple","multiple",p.L39],disabled:[p.Mj6.HasDecoratorInputTransform,"disabled","disabled",p.L39],hideSingleSelectionIndicator:[p.Mj6.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",p.L39],hideMultipleSelectionIndicator:[p.Mj6.HasDecoratorInputTransform,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",p.L39]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[p.Jv_([I,{provide:w,useExisting:O}]),p.GFd]})}}return O})(),k=(()=>{class O{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(h){this._appearance=h}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(h){h!==this._checked&&(this._checked=h,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(h){this._disabled=h}constructor(h,v,_,S,H,rt){this._changeDetectorRef=v,this._elementRef=_,this._focusMonitor=S,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new p.bkB;const Z=Number(H);this.tabIndex=Z||0===Z?Z:null,this.buttonToggleGroup=h,this.appearance=rt&&rt.appearance?rt.appearance:"standard"}ngOnInit(){const h=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+Q++,h&&(h._isPrechecked(this)?this.checked=!0:h._isSelected(this)!==this._checked&&h._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const h=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),h&&h._isSelected(this)&&h._syncButtonToggle(this,!1,!1,!0)}focus(h){this._buttonElement.nativeElement.focus(h)}_onButtonClick(){const h=!!this._isSingleSelector()||!this._checked;h!==this._checked&&(this._checked=h,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new t(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static{this.\u0275fac=function(v){return new(v||O)(p.rXU(w,8),p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(e.FN),p.kS0("tabindex"),p.rXU(M,8))}}static{this.\u0275cmp=p.VBU({type:O,selectors:[["mat-button-toggle"]],viewQuery:function(v,_){if(1&v&&p.GBs(s,5),2&v){let S;p.mGM(S=p.lsd())&&(_._buttonElement=S.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(v,_){1&v&&p.bIt("focus",function(){return _.focus()}),2&v&&(p.BMQ("aria-label",null)("aria-labelledby",null)("id",_.id)("name",null),p.AVh("mat-button-toggle-standalone",!_.buttonToggleGroup)("mat-button-toggle-checked",_.checked)("mat-button-toggle-disabled",_.disabled)("mat-button-toggle-appearance-standard","standard"===_.appearance))},inputs:{ariaLabel:[p.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[p.Mj6.None,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[p.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",p.L39],appearance:"appearance",checked:[p.Mj6.HasDecoratorInputTransform,"checked","checked",p.L39],disabled:[p.Mj6.HasDecoratorInputTransform,"disabled","disabled",p.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[p.GFd,p.aNF],ngContentSelectors:N,decls:8,vars:11,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"]],template:function(v,_){if(1&v){const S=p.RV6();p.NAR(),p.j41(0,"button",1,0),p.bIt("click",function(){return p.eBV(S),p.Njj(_._onButtonClick())}),p.j41(2,"span",2),p.DNE(3,G,1,1,"mat-pseudo-checkbox",3)(4,R,1,1,"mat-pseudo-checkbox",3),p.SdG(5),p.k0s()(),p.nrm(6,"span",4)(7,"span",5)}if(2&v){const S=p.sdS(1);p.Y8G("id",_.buttonId)("disabled",_.disabled||null),p.BMQ("tabindex",_.disabled?-1:_.tabIndex)("aria-pressed",_.checked)("name",_._getButtonName())("aria-label",_.ariaLabel)("aria-labelledby",_.ariaLabelledby),p.R7$(3),p.vxM(3,_.buttonToggleGroup&&_.checked&&!_.buttonToggleGroup.multiple&&!_.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),p.R7$(),p.vxM(4,_.buttonToggleGroup&&_.checked&&_.buttonToggleGroup.multiple&&!_.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),p.R7$(3),p.Y8G("matRippleTrigger",S)("matRippleDisabled",_.disableRipple||_.disabled)}},dependencies:[o.r6,o.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}}return O})(),U=(()=>{class O{static{this.\u0275fac=function(v){return new(v||O)}}static{this.\u0275mod=p.$C({type:O})}static{this.\u0275inj=p.G2t({imports:[o.yE,o.pZ,k,o.yE]})}}return O})()},6850:(kt,ct,i)=>{i.d(ct,{Bu:()=>Zt,ES:()=>Et,Ql:()=>qt,RI:()=>de,T8:()=>tt,hQ:()=>ee,mq:()=>Kt});var e=i(4438),r=i(6600),p=i(6939),it=i(1413),o=i(3726),s=i(7673),N=i(7786),G=i(983),R=i(1985),M=i(1584),n=i(8359),w=i(4412),I=i(5272),Q=i(6860),t=i(8203),$=i(998),k=i(7336),U=i(6977),O=i(6697),b=i(9172),h=i(5558),v=i(5245),_=i(5964),S=i(3294),H=i(2318),rt=i(177),Z=i(9969);const W=["*"];function z(q,K){1&q&&e.SdG(0)}const j=["tabListContainer"],st=["tabList"],Ct=["tabListInner"],ot=["nextPaginator"],pt=["previousPaginator"],et=q=>({animationDuration:q}),ft=(q,K)=>({value:q,params:K});function Pt(q,K){}const vt=["tabBodyWrapper"],Lt=["tabHeader"];function yt(q,K){}function gt(q,K){if(1&q&&e.DNE(0,yt,0,0,"ng-template",12),2&q){const c=e.XpG().$implicit;e.Y8G("cdkPortalOutlet",c.templateLabel)}}function It(q,K){if(1&q&&e.EFF(0),2&q){const c=e.XpG().$implicit;e.JRh(c.textLabel)}}function E(q,K){if(1&q){const c=e.RV6();e.j41(0,"div",7,2),e.bIt("click",function(){const l=e.eBV(c),d=l.$implicit,x=l.$index,A=e.XpG(),ut=e.sdS(1);return e.Njj(A._handleClick(d,ut,x))})("cdkFocusChange",function(l){const d=e.eBV(c).$index,x=e.XpG();return e.Njj(x._tabFocusChanged(l,d))}),e.nrm(2,"span",8)(3,"div",9),e.j41(4,"span",10)(5,"span",11),e.DNE(6,gt,1,1)(7,It,1,1),e.k0s()()()}if(2&q){const c=K.$implicit,a=K.$index,l=e.sdS(1),d=e.XpG();e.AVh("mdc-tab--active",d.selectedIndex===a),e.Y8G("id",d._getTabLabelId(a))("ngClass",c.labelClass)("disabled",c.disabled)("fitInkBarToContent",d.fitInkBarToContent),e.BMQ("tabIndex",d._getTabIndex(a))("aria-posinset",a+1)("aria-setsize",d._tabs.length)("aria-controls",d._getTabContentId(a))("aria-selected",d.selectedIndex===a)("aria-label",c.ariaLabel||null)("aria-labelledby",!c.ariaLabel&&c.ariaLabelledby?c.ariaLabelledby:null),e.R7$(3),e.Y8G("matRippleTrigger",l)("matRippleDisabled",c.disabled||d.disableRipple),e.R7$(3),e.vxM(6,c.templateLabel?6:7)}}function L(q,K){1&q&&e.SdG(0)}function C(q,K){if(1&q){const c=e.RV6();e.j41(0,"mat-tab-body",13),e.bIt("_onCentered",function(){e.eBV(c);const l=e.XpG();return e.Njj(l._removeTabBodyWrapperHeight())})("_onCentering",function(l){e.eBV(c);const d=e.XpG();return e.Njj(d._setTabBodyWrapperHeight(l))}),e.k0s()}if(2&q){const c=K.$implicit,a=K.$index,l=e.XpG();e.AVh("mat-mdc-tab-body-active",l.selectedIndex===a),e.Y8G("id",l._getTabContentId(a))("ngClass",c.bodyClass)("content",c.content)("position",c.position)("origin",c.origin)("animationDuration",l.animationDuration)("preserveContent",l.preserveContent),e.BMQ("tabindex",null!=l.contentTabIndex&&l.selectedIndex===a?l.contentTabIndex:null)("aria-labelledby",l._getTabLabelId(a))("aria-hidden",l.selectedIndex!==a)}}const F=["mat-tab-nav-bar",""],g=["mat-tab-link",""],T=new e.nKC("MatTabContent");let D=(()=>{class q{constructor(c){this.template=c}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:q,selectors:[["","matTabContent",""]],standalone:!0,features:[e.Jv_([{provide:T,useExisting:q}])]})}}return q})();const lt=new e.nKC("MatTabLabel"),bt=new e.nKC("MAT_TAB");let Et=(()=>{class q extends p.bV{constructor(c,a,l){super(c,a),this._closestTab=l}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(e.C4Q),e.rXU(e.c1b),e.rXU(bt,8))}}static{this.\u0275dir=e.FsC({type:q,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[e.Jv_([{provide:lt,useExisting:q}]),e.Vt3]})}}return q})();const Ht=new e.nKC("MAT_TAB_GROUP");let Kt=(()=>{class q{get templateLabel(){return this._templateLabel}set templateLabel(c){this._setTemplateLabelInput(c)}get content(){return this._contentPortal}constructor(c,a){this._viewContainerRef=c,this._closestTabGroup=a,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new it.B,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(c){(c.hasOwnProperty("textLabel")||c.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new p.VA(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(c){c&&c._closestTab===this&&(this._templateLabel=c)}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(e.c1b),e.rXU(Ht,8))}}static{this.\u0275cmp=e.VBU({type:q,selectors:[["mat-tab"]],contentQueries:function(a,l,d){if(1&a&&(e.wni(d,Et,5),e.wni(d,D,7,e.C4Q)),2&a){let x;e.mGM(x=e.lsd())&&(l.templateLabel=x.first),e.mGM(x=e.lsd())&&(l._explicitContent=x.first)}},viewQuery:function(a,l){if(1&a&&e.GBs(e.C4Q,7),2&a){let d;e.mGM(d=e.lsd())&&(l._implicitContent=d.first)}},hostAttrs:["hidden",""],inputs:{disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39],textLabel:[e.Mj6.None,"label","textLabel"],ariaLabel:[e.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[e.Mj6.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[e.Jv_([{provide:bt,useExisting:q}]),e.GFd,e.OA$,e.aNF],ngContentSelectors:W,decls:1,vars:0,template:function(a,l){1&a&&(e.NAR(),e.DNE(0,z,1,0,"ng-template"))},encapsulation:2})}}return q})();const Yt="mdc-tab-indicator--active",dt="mdc-tab-indicator--no-transition";class wt{constructor(K){this._items=K}hide(){this._items.forEach(K=>K.deactivateInkBar())}alignToElement(K){const c=this._items.find(l=>l.elementRef.nativeElement===K),a=this._currentItem;if(c!==a&&(a?.deactivateInkBar(),c)){const l=a?.elementRef.nativeElement.getBoundingClientRect?.();c.activateInkBar(l),this._currentItem=c}}}let B=(()=>{class q{constructor(){this._elementRef=(0,e.WQX)(e.aKT),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(c){this._fitToContent!==c&&(this._fitToContent=c,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(c){const a=this._elementRef.nativeElement;if(!c||!a.getBoundingClientRect||!this._inkBarContentElement)return void a.classList.add(Yt);const l=a.getBoundingClientRect(),d=c.width/l.width,x=c.left-l.left;a.classList.add(dt),this._inkBarContentElement.style.setProperty("transform",`translateX(${x}px) scaleX(${d})`),a.getBoundingClientRect(),a.classList.remove(dt),a.classList.add(Yt),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Yt)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const c=this._elementRef.nativeElement.ownerDocument||document,a=this._inkBarElement=c.createElement("span"),l=this._inkBarContentElement=c.createElement("span");a.className="mdc-tab-indicator",l.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",a.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static{this.\u0275fac=function(a){return new(a||q)}}static{this.\u0275dir=e.FsC({type:q,inputs:{fitInkBarToContent:[e.Mj6.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",e.L39]},features:[e.GFd]})}}return q})(),Rt=(()=>{class q extends B{constructor(c){super(),this.elementRef=c,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:q,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(a,l){2&a&&(e.BMQ("aria-disabled",!!l.disabled),e.AVh("mat-mdc-tab-disabled",l.disabled))},inputs:{disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39]},standalone:!0,features:[e.GFd,e.Vt3]})}}return q})();const Nt=(0,Q.BQ)({passive:!0});let te=(()=>{class q{get selectedIndex(){return this._selectedIndex}set selectedIndex(c){const a=isNaN(c)?0:c;this._selectedIndex!=a&&(this._selectedIndexChanged=!0,this._selectedIndex=a,this._keyManager&&this._keyManager.updateActiveItem(a))}constructor(c,a,l,d,x,A,ut){this._elementRef=c,this._changeDetectorRef=a,this._viewportRuler=l,this._dir=d,this._ngZone=x,this._platform=A,this._animationMode=ut,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new it.B,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new it.B,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new e.bkB,this.indexFocused=new e.bkB,x.runOutsideAngular(()=>{(0,o.R)(c.nativeElement,"mouseleave").pipe((0,U.Q)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,o.R)(this._previousPaginator.nativeElement,"touchstart",Nt).pipe((0,U.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,o.R)(this._nextPaginator.nativeElement,"touchstart",Nt).pipe((0,U.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const c=this._dir?this._dir.change:(0,s.of)("ltr"),a=this._viewportRuler.change(150),l=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new $.Bu(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,O.s)(1)).subscribe(l),(0,N.h)(c,a,this._items.changes,this._itemsResized()).pipe((0,U.Q)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),l()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(d=>{this.indexFocused.emit(d),this._setTabFocus(d)})}_itemsResized(){return"function"!=typeof ResizeObserver?G.w:this._items.changes.pipe((0,b.Z)(this._items),(0,h.n)(c=>new R.c(a=>this._ngZone.runOutsideAngular(()=>{const l=new ResizeObserver(d=>a.next(d));return c.forEach(d=>l.observe(d.elementRef.nativeElement)),()=>{l.disconnect()}}))),(0,v.i)(1),(0,_.p)(c=>c.some(a=>a.contentRect.width>0&&a.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(c){if(!(0,k.rp)(c))switch(c.keyCode){case k.Fm:case k.t6:if(this.focusIndex!==this.selectedIndex){const a=this._items.get(this.focusIndex);a&&!a.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(c))}break;default:this._keyManager.onKeydown(c)}}_onContentChanges(){const c=this._elementRef.nativeElement.textContent;c!==this._currentTextContent&&(this._currentTextContent=c||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(c){!this._isValidIndex(c)||this.focusIndex===c||!this._keyManager||this._keyManager.setActiveItem(c)}_isValidIndex(c){return!this._items||!!this._items.toArray()[c]}_setTabFocus(c){if(this._showPaginationControls&&this._scrollToLabel(c),this._items&&this._items.length){this._items.toArray()[c].focus();const a=this._tabListContainer.nativeElement;a.scrollLeft="ltr"==this._getLayoutDirection()?0:a.scrollWidth-a.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const c=this.scrollDistance,a="ltr"===this._getLayoutDirection()?-c:c;this._tabList.nativeElement.style.transform=`translateX(${Math.round(a)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(c){this._scrollTo(c)}_scrollHeader(c){return this._scrollTo(this._scrollDistance+("before"==c?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(c){this._stopInterval(),this._scrollHeader(c)}_scrollToLabel(c){if(this.disablePagination)return;const a=this._items?this._items.toArray()[c]:null;if(!a)return;const l=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:d,offsetWidth:x}=a.elementRef.nativeElement;let A,ut;"ltr"==this._getLayoutDirection()?(A=d,ut=A+x):(ut=this._tabListInner.nativeElement.offsetWidth-d,A=ut-x);const mt=this.scrollDistance,Qt=this.scrollDistance+l;A<mt?this.scrollDistance-=mt-A:ut>Qt&&(this.scrollDistance+=Math.min(ut-Qt,A-mt))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const c=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;c||(this.scrollDistance=0),c!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=c}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const c=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,a=c?c.elementRef.nativeElement:null;a?this._inkBar.alignToElement(a):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(c,a){a&&null!=a.button&&0!==a.button||(this._stopInterval(),(0,M.O)(650,100).pipe((0,U.Q)((0,N.h)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:l,distance:d}=this._scrollHeader(c);(0===d||d>=l)&&this._stopInterval()}))}_scrollTo(c){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const a=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(a,c)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:a,distance:this._scrollDistance}}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(I.Xj),e.rXU(t.dS,8),e.rXU(e.SKi),e.rXU(Q.OD),e.rXU(e.bc$,8))}}static{this.\u0275dir=e.FsC({type:q,inputs:{disablePagination:[e.Mj6.HasDecoratorInputTransform,"disablePagination","disablePagination",e.L39],selectedIndex:[e.Mj6.HasDecoratorInputTransform,"selectedIndex","selectedIndex",e.Udg]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[e.GFd]})}}return q})(),ae=(()=>{class q extends te{constructor(c,a,l,d,x,A,ut){super(c,a,l,d,x,A,ut),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new wt(this._items),super.ngAfterContentInit()}_itemSelected(c){c.preventDefault()}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(I.Xj),e.rXU(t.dS,8),e.rXU(e.SKi),e.rXU(Q.OD),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:q,selectors:[["mat-tab-header"]],contentQueries:function(a,l,d){if(1&a&&e.wni(d,Rt,4),2&a){let x;e.mGM(x=e.lsd())&&(l._items=x)}},viewQuery:function(a,l){if(1&a&&(e.GBs(j,7),e.GBs(st,7),e.GBs(Ct,7),e.GBs(ot,5),e.GBs(pt,5)),2&a){let d;e.mGM(d=e.lsd())&&(l._tabListContainer=d.first),e.mGM(d=e.lsd())&&(l._tabList=d.first),e.mGM(d=e.lsd())&&(l._tabListInner=d.first),e.mGM(d=e.lsd())&&(l._nextPaginator=d.first),e.mGM(d=e.lsd())&&(l._previousPaginator=d.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(a,l){2&a&&e.AVh("mat-mdc-tab-header-pagination-controls-enabled",l._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==l._getLayoutDirection())},inputs:{disableRipple:[e.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",e.L39]},standalone:!0,features:[e.GFd,e.Vt3,e.aNF],ngContentSelectors:W,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(a,l){if(1&a){const d=e.RV6();e.NAR(),e.j41(0,"button",5,0),e.bIt("click",function(){return e.eBV(d),e.Njj(l._handlePaginatorClick("before"))})("mousedown",function(A){return e.eBV(d),e.Njj(l._handlePaginatorPress("before",A))})("touchend",function(){return e.eBV(d),e.Njj(l._stopInterval())}),e.nrm(2,"div",6),e.k0s(),e.j41(3,"div",7,1),e.bIt("keydown",function(A){return e.eBV(d),e.Njj(l._handleKeydown(A))}),e.j41(5,"div",8,2),e.bIt("cdkObserveContent",function(){return e.eBV(d),e.Njj(l._onContentChanges())}),e.j41(7,"div",9,3),e.SdG(9),e.k0s()()(),e.j41(10,"button",10,4),e.bIt("mousedown",function(A){return e.eBV(d),e.Njj(l._handlePaginatorPress("after",A))})("click",function(){return e.eBV(d),e.Njj(l._handlePaginatorClick("after"))})("touchend",function(){return e.eBV(d),e.Njj(l._stopInterval())}),e.nrm(12,"div",6),e.k0s()}2&a&&(e.AVh("mat-mdc-tab-header-pagination-disabled",l._disableScrollBefore),e.Y8G("matRippleDisabled",l._disableScrollBefore||l.disableRipple)("disabled",l._disableScrollBefore||null),e.R7$(3),e.AVh("_mat-animation-noopable","NoopAnimations"===l._animationMode),e.R7$(7),e.AVh("mat-mdc-tab-header-pagination-disabled",l._disableScrollAfter),e.Y8G("matRippleDisabled",l._disableScrollAfter||l.disableRipple)("disabled",l._disableScrollAfter||null))},dependencies:[r.r6,H.Wv],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return q})();const ie=new e.nKC("MAT_TABS_CONFIG"),se={translateTab:(0,Z.hZ)("translateTab",[(0,Z.wk)("center, void, left-origin-center, right-origin-center",(0,Z.iF)({transform:"none"})),(0,Z.wk)("left",(0,Z.iF)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Z.wk)("right",(0,Z.iF)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Z.kY)("* => left, * => right, left => center, right => center",(0,Z.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,Z.kY)("void => left-origin-center",[(0,Z.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,Z.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,Z.kY)("void => right-origin-center",[(0,Z.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,Z.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ht=(()=>{class q extends p.I3{constructor(c,a,l,d){super(c,a,d),this._host=l,this._centeringSub=n.yU.EMPTY,this._leavingSub=n.yU.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,b.Z)(this._host._isCenterPosition(this._host._position))).subscribe(c=>{c&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(e.OM3),e.rXU(e.c1b),e.rXU((0,e.Rfq)(()=>At)),e.rXU(rt.qQ))}}static{this.\u0275dir=e.FsC({type:q,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[e.Vt3]})}}return q})(),At=(()=>{class q{set position(c){this._positionIndex=c,this._computePositionAnimationState()}constructor(c,a,l){this._elementRef=c,this._dir=a,this._dirChangeSubscription=n.yU.EMPTY,this._translateTabComplete=new it.B,this._onCentering=new e.bkB,this._beforeCentering=new e.bkB,this._afterLeavingCenter=new e.bkB,this._onCentered=new e.bkB(!0),this.animationDuration="500ms",this.preserveContent=!1,a&&(this._dirChangeSubscription=a.change.subscribe(d=>{this._computePositionAnimationState(d),l.markForCheck()})),this._translateTabComplete.pipe((0,S.F)((d,x)=>d.fromState===x.fromState&&d.toState===x.toState)).subscribe(d=>{this._isCenterPosition(d.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(d.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(c){const a=this._isCenterPosition(c.toState);this._beforeCentering.emit(a),a&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(c){return"center"==c||"left-origin-center"==c||"right-origin-center"==c}_computePositionAnimationState(c=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==c?"left":"right":this._positionIndex>0?"ltr"==c?"right":"left":"center"}_computePositionFromOrigin(c){const a=this._getLayoutDirection();return"ltr"==a&&c<=0||"rtl"==a&&c>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(e.aKT),e.rXU(t.dS,8),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:q,selectors:[["mat-tab-body"]],viewQuery:function(a,l){if(1&a&&e.GBs(p.I3,5),2&a){let d;e.mGM(d=e.lsd())&&(l._portalHost=d.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[e.Mj6.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[e.aNF],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(a,l){if(1&a){const d=e.RV6();e.j41(0,"div",1,0),e.bIt("@translateTab.start",function(A){return e.eBV(d),e.Njj(l._onTranslateTabStarted(A))})("@translateTab.done",function(A){return e.eBV(d),e.Njj(l._translateTabComplete.next(A))}),e.DNE(2,Pt,0,0,"ng-template",2),e.k0s()}2&a&&e.Y8G("@translateTab",e.l_i(3,ft,l._position,e.eq3(1,et,l.animationDuration)))},dependencies:[ht,I.uv],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[se.translateTab]}})}}return q})(),y=0,tt=(()=>{class q{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(c){this._fitInkBarToContent=c,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(c){this._indexToSelect=isNaN(c)?null:c}get animationDuration(){return this._animationDuration}set animationDuration(c){const a=c+"";this._animationDuration=/^\d+$/.test(a)?c+"ms":a}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(c){this._contentTabIndex=isNaN(c)?null:c}get backgroundColor(){return this._backgroundColor}set backgroundColor(c){const a=this._elementRef.nativeElement.classList;a.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),c&&a.add("mat-tabs-with-background",`mat-background-${c}`),this._backgroundColor=c}constructor(c,a,l,d){this._elementRef=c,this._changeDetectorRef=a,this._animationMode=d,this._tabs=new e.rOR,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=n.yU.EMPTY,this._tabLabelSubscription=n.yU.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new e.bkB,this.focusChange=new e.bkB,this.animationDone=new e.bkB,this.selectedTabChange=new e.bkB(!0),this._isServer=!(0,e.WQX)(Q.OD).isBrowser,this._groupId=y++,this.animationDuration=l&&l.animationDuration?l.animationDuration:"500ms",this.disablePagination=!(!l||null==l.disablePagination)&&l.disablePagination,this.dynamicHeight=!(!l||null==l.dynamicHeight)&&l.dynamicHeight,null!=l?.contentTabIndex&&(this.contentTabIndex=l.contentTabIndex),this.preserveContent=!!l?.preserveContent,this.fitInkBarToContent=!(!l||null==l.fitInkBarToContent)&&l.fitInkBarToContent,this.stretchTabs=!l||null==l.stretchTabs||l.stretchTabs}ngAfterContentChecked(){const c=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=c){const a=null==this._selectedIndex;if(!a){this.selectedTabChange.emit(this._createChangeEvent(c));const l=this._tabBodyWrapper.nativeElement;l.style.minHeight=l.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((l,d)=>l.isActive=d===c),a||(this.selectedIndexChange.emit(c),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((a,l)=>{a.position=l-c,null!=this._selectedIndex&&0==a.position&&!a.origin&&(a.origin=c-this._selectedIndex)}),this._selectedIndex!==c&&(this._selectedIndex=c,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const c=this._clampTabIndex(this._indexToSelect);if(c===this._selectedIndex){const a=this._tabs.toArray();let l;for(let d=0;d<a.length;d++)if(a[d].isActive){this._indexToSelect=this._selectedIndex=d,this._lastFocusedTabIndex=null,l=a[d];break}!l&&a[c]&&Promise.resolve().then(()=>{a[c].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(c))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,b.Z)(this._allTabs)).subscribe(c=>{this._tabs.reset(c.filter(a=>a._closestTabGroup===this||!a._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(c){const a=this._tabHeader;a&&(a.focusIndex=c)}_focusChanged(c){this._lastFocusedTabIndex=c,this.focusChange.emit(this._createChangeEvent(c))}_createChangeEvent(c){const a=new Mt;return a.index=c,this._tabs&&this._tabs.length&&(a.tab=this._tabs.toArray()[c]),a}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,N.h)(...this._tabs.map(c=>c._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(c){return Math.min(this._tabs.length-1,Math.max(c||0,0))}_getTabLabelId(c){return`mat-tab-label-${this._groupId}-${c}`}_getTabContentId(c){return`mat-tab-content-${this._groupId}-${c}`}_setTabBodyWrapperHeight(c){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const a=this._tabBodyWrapper.nativeElement;a.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(a.style.height=c+"px")}_removeTabBodyWrapperHeight(){const c=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=c.clientHeight,c.style.height="",this.animationDone.emit()}_handleClick(c,a,l){a.focusIndex=l,c.disabled||(this.selectedIndex=l)}_getTabIndex(c){return c===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(c,a){c&&"mouse"!==c&&"touch"!==c&&(this._tabHeader.focusIndex=a)}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(ie,8),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:q,selectors:[["mat-tab-group"]],contentQueries:function(a,l,d){if(1&a&&e.wni(d,Kt,5),2&a){let x;e.mGM(x=e.lsd())&&(l._allTabs=x)}},viewQuery:function(a,l){if(1&a&&(e.GBs(vt,5),e.GBs(Lt,5)),2&a){let d;e.mGM(d=e.lsd())&&(l._tabBodyWrapper=d.first),e.mGM(d=e.lsd())&&(l._tabHeader=d.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(a,l){2&a&&(e.HbH("mat-"+(l.color||"primary")),e.xc7("--mat-tab-animation-duration",l.animationDuration),e.AVh("mat-mdc-tab-group-dynamic-height",l.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===l.headerPosition)("mat-mdc-tab-group-stretch-tabs",l.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[e.Mj6.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",e.L39],stretchTabs:[e.Mj6.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",e.L39],dynamicHeight:[e.Mj6.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",e.L39],selectedIndex:[e.Mj6.HasDecoratorInputTransform,"selectedIndex","selectedIndex",e.Udg],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[e.Mj6.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",e.Udg],disablePagination:[e.Mj6.HasDecoratorInputTransform,"disablePagination","disablePagination",e.L39],disableRipple:[e.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",e.L39],preserveContent:[e.Mj6.HasDecoratorInputTransform,"preserveContent","preserveContent",e.L39],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[e.Jv_([{provide:Ht,useExisting:q}]),e.GFd,e.aNF],ngContentSelectors:W,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","ngClass","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(a,l){if(1&a){const d=e.RV6();e.NAR(),e.j41(0,"mat-tab-header",3,0),e.bIt("indexFocused",function(A){return e.eBV(d),e.Njj(l._focusChanged(A))})("selectFocusedIndex",function(A){return e.eBV(d),e.Njj(l.selectedIndex=A)}),e.Z7z(2,E,8,16,"div",4,e.fX1),e.k0s(),e.DNE(4,L,1,0),e.j41(5,"div",5,1),e.Z7z(7,C,1,12,"mat-tab-body",6,e.fX1),e.k0s()}2&a&&(e.Y8G("selectedIndex",l.selectedIndex||0)("disableRipple",l.disableRipple)("disablePagination",l.disablePagination),e.R7$(2),e.Dyx(l._tabs),e.R7$(2),e.vxM(4,l._isServer?4:-1),e.R7$(),e.AVh("_mat-animation-noopable","NoopAnimations"===l._animationMode),e.R7$(2),e.Dyx(l._tabs))},dependencies:[ae,Rt,$.vR,rt.YU,r.r6,p.I3,At],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return q})();class Mt{}let Vt=0,Zt=(()=>{class q extends te{get fitInkBarToContent(){return this._fitInkBarToContent.value}set fitInkBarToContent(c){this._fitInkBarToContent.next(c),this._changeDetectorRef.markForCheck()}get animationDuration(){return this._animationDuration}set animationDuration(c){const a=c+"";this._animationDuration=/^\d+$/.test(a)?c+"ms":a}get backgroundColor(){return this._backgroundColor}set backgroundColor(c){const a=this._elementRef.nativeElement.classList;a.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),c&&a.add("mat-tabs-with-background",`mat-background-${c}`),this._backgroundColor=c}constructor(c,a,l,d,x,A,ut,mt){super(c,d,x,a,l,A,ut),this._fitInkBarToContent=new w.t(!1),this.stretchTabs=!0,this.disableRipple=!1,this.color="primary",this.disablePagination=!(!mt||null==mt.disablePagination)&&mt.disablePagination,this.fitInkBarToContent=!(!mt||null==mt.fitInkBarToContent)&&mt.fitInkBarToContent,this.stretchTabs=!mt||null==mt.stretchTabs||mt.stretchTabs}_itemSelected(){}ngAfterContentInit(){this._inkBar=new wt(this._items),this._items.changes.pipe((0,b.Z)(null),(0,U.Q)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}ngAfterViewInit(){super.ngAfterViewInit()}updateActiveLink(){if(!this._items)return;const c=this._items.toArray();for(let a=0;a<c.length;a++)if(c[a].active)return this.selectedIndex=a,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=c[a].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(e.aKT),e.rXU(t.dS,8),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(I.Xj),e.rXU(Q.OD),e.rXU(e.bc$,8),e.rXU(ie,8))}}static{this.\u0275cmp=e.VBU({type:q,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(a,l,d){if(1&a&&e.wni(d,qt,5),2&a){let x;e.mGM(x=e.lsd())&&(l._items=x)}},viewQuery:function(a,l){if(1&a&&(e.GBs(j,7),e.GBs(st,7),e.GBs(Ct,7),e.GBs(ot,5),e.GBs(pt,5)),2&a){let d;e.mGM(d=e.lsd())&&(l._tabListContainer=d.first),e.mGM(d=e.lsd())&&(l._tabList=d.first),e.mGM(d=e.lsd())&&(l._tabListInner=d.first),e.mGM(d=e.lsd())&&(l._nextPaginator=d.first),e.mGM(d=e.lsd())&&(l._previousPaginator=d.first)}},hostAttrs:[1,"mat-mdc-tab-nav-bar","mat-mdc-tab-header"],hostVars:17,hostBindings:function(a,l){2&a&&(e.BMQ("role",l._getRole()),e.xc7("--mat-tab-animation-duration",l.animationDuration),e.AVh("mat-mdc-tab-header-pagination-controls-enabled",l._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==l._getLayoutDirection())("mat-mdc-tab-nav-bar-stretch-tabs",l.stretchTabs)("mat-primary","warn"!==l.color&&"accent"!==l.color)("mat-accent","accent"===l.color)("mat-warn","warn"===l.color)("_mat-animation-noopable","NoopAnimations"===l._animationMode))},inputs:{fitInkBarToContent:[e.Mj6.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",e.L39],stretchTabs:[e.Mj6.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",e.L39],animationDuration:"animationDuration",backgroundColor:"backgroundColor",disableRipple:[e.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",e.L39],color:"color",tabPanel:"tabPanel"},exportAs:["matTabNavBar","matTabNav"],standalone:!0,features:[e.GFd,e.Vt3,e.aNF],attrs:F,ngContentSelectors:W,decls:13,vars:8,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-link-container",3,"keydown"],[1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-links"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(a,l){if(1&a){const d=e.RV6();e.NAR(),e.j41(0,"button",5,0),e.bIt("click",function(){return e.eBV(d),e.Njj(l._handlePaginatorClick("before"))})("mousedown",function(A){return e.eBV(d),e.Njj(l._handlePaginatorPress("before",A))})("touchend",function(){return e.eBV(d),e.Njj(l._stopInterval())}),e.nrm(2,"div",6),e.k0s(),e.j41(3,"div",7,1),e.bIt("keydown",function(A){return e.eBV(d),e.Njj(l._handleKeydown(A))}),e.j41(5,"div",8,2),e.bIt("cdkObserveContent",function(){return e.eBV(d),e.Njj(l._onContentChanges())}),e.j41(7,"div",9,3),e.SdG(9),e.k0s()()(),e.j41(10,"button",10,4),e.bIt("mousedown",function(A){return e.eBV(d),e.Njj(l._handlePaginatorPress("after",A))})("click",function(){return e.eBV(d),e.Njj(l._handlePaginatorClick("after"))})("touchend",function(){return e.eBV(d),e.Njj(l._stopInterval())}),e.nrm(12,"div",6),e.k0s()}2&a&&(e.AVh("mat-mdc-tab-header-pagination-disabled",l._disableScrollBefore),e.Y8G("matRippleDisabled",l._disableScrollBefore||l.disableRipple)("disabled",l._disableScrollBefore||null),e.R7$(10),e.AVh("mat-mdc-tab-header-pagination-disabled",l._disableScrollAfter),e.Y8G("matRippleDisabled",l._disableScrollAfter||l.disableRipple)("disabled",l._disableScrollAfter||null))},dependencies:[r.r6,H.Wv],styles:[".mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}"],encapsulation:2})}}return q})(),qt=(()=>{class q extends B{get active(){return this._isActive}set active(c){c!==this._isActive&&(this._isActive=c,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}constructor(c,a,l,d,x,A){super(),this._tabNavBar=c,this.elementRef=a,this._focusMonitor=x,this._destroyed=new it.B,this._isActive=!1,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.id="mat-tab-link-"+Vt++,this.rippleConfig=l||{},this.tabIndex=parseInt(d)||0,"NoopAnimations"===A&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0}),c._fitInkBarToContent.pipe((0,U.Q)(this._destroyed)).subscribe(ut=>{this.fitInkBarToContent=ut})}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),super.ngOnDestroy(),this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(c){(c.keyCode===k.t6||c.keyCode===k.Fm)&&(this.disabled?c.preventDefault():this._tabNavBar.tabPanel&&(c.keyCode===k.t6&&c.preventDefault(),this.elementRef.nativeElement.click()))}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.disabled?-1:this.tabIndex}static{this.\u0275fac=function(a){return new(a||q)(e.rXU(Zt),e.rXU(e.aKT),e.rXU(r.$E,8),e.kS0("tabindex"),e.rXU($.FN),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:q,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mdc-tab","mat-mdc-tab-link","mat-mdc-focus-indicator"],hostVars:11,hostBindings:function(a,l){1&a&&e.bIt("focus",function(){return l._handleFocus()})("keydown",function(x){return l._handleKeydown(x)}),2&a&&(e.BMQ("aria-controls",l._getAriaControls())("aria-current",l._getAriaCurrent())("aria-disabled",l.disabled)("aria-selected",l._getAriaSelected())("id",l.id)("tabIndex",l._getTabIndex())("role",l._getRole()),e.AVh("mat-mdc-tab-disabled",l.disabled)("mdc-tab--active",l.active))},inputs:{active:[e.Mj6.HasDecoratorInputTransform,"active","active",e.L39],disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39],disableRipple:[e.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",e.L39],tabIndex:[e.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",c=>null==c?0:(0,e.Udg)(c)],id:"id"},exportAs:["matTabLink"],standalone:!0,features:[e.GFd,e.Vt3,e.aNF],attrs:g,ngContentSelectors:W,decls:5,vars:2,consts:[[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"]],template:function(a,l){1&a&&(e.NAR(),e.nrm(0,"span",0)(1,"div",1),e.j41(2,"span",2)(3,"span",3),e.SdG(4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("matRippleTrigger",l.elementRef.nativeElement)("matRippleDisabled",l.rippleDisabled))},dependencies:[r.r6],styles:['.mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab-link:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab-link:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link.mdc-tab{flex-grow:0}.mat-mdc-tab-link:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab-link:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab-link.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab-link.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab-link.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab-link .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}'],encapsulation:2,changeDetection:0})}}return q})(),ee=(()=>{class q{constructor(){this.id="mat-tab-nav-panel-"+Vt++}static{this.\u0275fac=function(a){return new(a||q)}}static{this.\u0275cmp=e.VBU({type:q,selectors:[["mat-tab-nav-panel"]],hostAttrs:["role","tabpanel",1,"mat-mdc-tab-nav-panel"],hostVars:2,hostBindings:function(a,l){2&a&&e.BMQ("aria-labelledby",l._activeTabId)("id",l.id)},inputs:{id:"id"},exportAs:["matTabNavPanel"],standalone:!0,features:[e.aNF],ngContentSelectors:W,decls:1,vars:0,template:function(a,l){1&a&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})}}return q})(),de=(()=>{class q{static{this.\u0275fac=function(a){return new(a||q)}}static{this.\u0275mod=e.$C({type:q})}static{this.\u0275inj=e.G2t({imports:[r.yE,r.yE]})}}return q})()},3470:(kt,ct,i)=>{i.d(ct,{A:()=>w});const it=function e(I){return function(Q,t,$){for(var k=-1,U=Object(Q),O=$(Q),b=O.length;b--;){var h=O[I?b:++k];if(!1===t(U[h],h,U))break}return Q}}();var o=i(2662);var G=i(1287);const w=function R(I,Q){return function(t,$){if(null==t)return t;if(!(0,G.A)(t))return I(t,$);for(var k=t.length,U=Q?k:-1,O=Object(t);(Q?U--:++U<k)&&!1!==$(O[U],U,O););return t}}(function s(I,Q){return I&&it(I,Q,o.A)})},2074:(kt,ct,i)=>{i.d(ct,{A:()=>p});var e=i(4077);const p=function r(it,o,s){for(var N=-1,G=it.length;++N<G;){var R=it[N],M=o(R);if(null!=M&&(void 0===n?M==M&&!(0,e.A)(M):s(M,n)))var n=M,w=R}return w}},8070:(kt,ct,i)=>{i.d(ct,{A:()=>r});const r=function e(p,it){return p>it}},5739:(kt,ct,i)=>{i.d(ct,{A:()=>O});var e=i(6689),r=i(4501),p=i(3069),it=i(3470),o=i(1287);var M=i(778),n=i(4077);const I=function w(b,h){if(b!==h){var v=void 0!==b,_=null===b,S=b==b,H=(0,n.A)(b),rt=void 0!==h,Z=null===h,W=h==h,z=(0,n.A)(h);if(!Z&&!z&&!H&&b>h||H&&rt&&W&&!Z&&!z||_&&rt&&W||!v&&W||!S)return 1;if(!_&&!H&&!z&&b<h||z&&v&&S&&!_&&!H||Z&&v&&S||!rt&&S||!W)return-1}return 0};var $=i(7003),k=i(3744);const O=function U(b,h,v){h=h.length?(0,e.A)(h,function(H){return(0,k.A)(H)?function(rt){return(0,r.A)(rt,1===H.length?H[0]:H)}:H}):[$.A];var _=-1;h=(0,e.A)(h,(0,M.A)(p.A));var S=function s(b,h){var v=-1,_=(0,o.A)(b)?Array(b.length):[];return(0,it.A)(b,function(S,H,rt){_[++v]=h(S,H,rt)}),_}(b,function(H,rt,Z){return{criteria:(0,e.A)(h,function(z){return z(H)}),index:++_,value:H}});return function G(b,h){var v=b.length;for(b.sort(h);v--;)b[v]=b[v].value;return b}(S,function(H,rt){return function Q(b,h,v){for(var _=-1,S=b.criteria,H=h.criteria,rt=S.length,Z=v.length;++_<rt;){var W=I(S[_],H[_]);if(W)return _>=Z?W:W*("desc"==v[_]?-1:1)}return b.index-h.index}(H,rt,v)})}},7357:(kt,ct,i)=>{i.d(ct,{A:()=>s});var e=i(1319),r=i(1287),p=i(8606),it=i(554);const s=function o(N,G,R){if(!(0,it.A)(R))return!1;var M=typeof G;return!!("number"==M?(0,r.A)(R)&&(0,p.A)(G,R.length):"string"==M&&G in R)&&(0,e.A)(R[G],N)}},180:(kt,ct,i)=>{i.d(ct,{A:()=>Q});var e=i(1827);const p=function r(t,$,k,U){for(var O=-1,b=null==t?0:t.length;++O<b;){var h=t[O];$(U,h,k(h),t)}return U};var it=i(3470);const s=function o(t,$,k,U){return(0,it.A)(t,function(O,b,h){$(U,O,k(O),h)}),U};var N=i(3069),G=i(3744),w=Object.prototype.hasOwnProperty;const Q=function R(t,$){return function(k,U){var O=(0,G.A)(k)?p:s,b=$?$():{};return O(k,t,(0,N.A)(U,2),b)}}(function(t,$,k){w.call(t,k)?t[k].push($):(0,e.A)(t,k,[$])})},4991:(kt,ct,i)=>{i.d(ct,{A:()=>it});var e=i(5739),r=i(3744);const it=function p(o,s,N,G){return null==o?[]:((0,r.A)(s)||(s=null==s?[]:[s]),(0,r.A)(N=G?void 0:N)||(N=null==N?[]:[N]),(0,e.A)(o,s,N))}},3938:(kt,ct,i)=>{i.d(ct,{A:()=>M});var e=Math.ceil,r=Math.max;var o=i(7357),s=i(5809);const M=function N(n){return function(w,I,Q){return Q&&"number"!=typeof Q&&(0,o.A)(w,I,Q)&&(I=Q=void 0),w=(0,s.A)(w),void 0===I?(I=w,w=0):I=(0,s.A)(I),function p(n,w,I,Q){for(var t=-1,$=r(e((w-n)/(I||1)),0),k=Array($);$--;)k[Q?$:++t]=n,n+=I;return k}(w,I,Q=void 0===Q?w<I?1:-1:(0,s.A)(Q),n)}}()},2180:(kt,ct,i)=>{i.d(ct,{A:()=>s});var e=i(4367),r=i(5739),p=i(363),it=i(7357);const s=(0,p.A)(function(N,G){if(null==N)return[];var R=G.length;return R>1&&(0,it.A)(N,G[0],G[1])?G=[]:R>2&&(0,it.A)(G[0],G[1],G[2])&&(G=[G[0]]),(0,r.A)(N,(0,e.A)(G,1),[])})},5809:(kt,ct,i)=>{i.d(ct,{A:()=>O});var e=/\s/;var it=/^\s+/;const s=function o(b){return b&&b.slice(0,function r(b){for(var h=b.length;h--&&e.test(b.charAt(h)););return h}(b)+1).replace(it,"")};var N=i(554),G=i(4077),M=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,w=/^0o[0-7]+$/i,I=parseInt;var $=1/0;const O=function U(b){return b?(b=function Q(b){if("number"==typeof b)return b;if((0,G.A)(b))return NaN;if((0,N.A)(b)){var h="function"==typeof b.valueOf?b.valueOf():b;b=(0,N.A)(h)?h+"":h}if("string"!=typeof b)return 0===b?b:+b;b=s(b);var v=n.test(b);return v||w.test(b)?I(b.slice(2),v?2:8):M.test(b)?NaN:+b}(b))===$||b===-$?17976931348623157e292*(b<0?-1:1):b==b?b:0:0===b?b:0}}}]);
"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[960],{3978:(kt,ct,i)=>{i.d(ct,{D:()=>r});var e=i(4438);const r=R=>(()=>{class o extends R{constructor(){super(...arguments),this.disableTransitions=!0}ngOnInit(){super.ngOnInit&&super.ngOnInit(),setTimeout(()=>{this.disableTransitions=!1},0)}static{this.\u0275fac=(()=>{let X;return function(E){return(X||(X=e.xGo(o)))(E||o)}})()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})()},8694:(kt,ct,i)=>{i.d(ct,{f:()=>s});var e=i(1413),r=i(536),R=i(3386),it=i(6977),o=i(4438);const s=X=>(()=>{class E extends X{ngAfterViewInit(){super.ngAfterViewInit&&super.ngAfterViewInit();const n=this.viewports.map(D=>{const v=new e.B,J=new ResizeObserver(t=>{Array.isArray(t)&&t.length>0&&v.next()});return v.pipe((0,R.c)(20,r.X,{leading:!0,trailing:!0}),(0,it.Q)(this.destroyed$)).subscribe(()=>{D.checkViewportSize()}),J.observe(D.elementRef.nativeElement),J});this.destroyed$.subscribe(()=>{n.forEach(D=>D.disconnect())})}static{this.\u0275fac=(()=>{let n;return function(v){return(n||(n=o.xGo(E)))(v||E)}})()}static{this.\u0275prov=o.jDH({token:E,factory:E.\u0275fac})}}return E})()},1441:(kt,ct,i)=>{i.d(ct,{A:()=>s});var e=i(4412),r=i(4438),R=i(177),it=i(4823);function o(X,$){if(1&X&&(r.j41(0,"div",3),r.EFF(1),r.nI1(2,"async"),r.k0s()),2&X){const E=r.XpG();r.R7$(),r.JRh(r.bMT(2,1,E.leftPath))}}let s=(()=>{class X{constructor(){this.leftPath=new e.t(""),this.rightPath=new e.t("")}onCopy(E){E.preventDefault();const f=document.getSelection();f&&E.clipboardData?.setData("text/plain",f.toString().replace("\n",""))}ngOnChanges(E){if(E.path){const f=/^(.*)(\/[^\/]+)$/.exec(E.path.currentValue);f?(this.leftPath.next(f[1]??""),this.rightPath.next(f[2]??"")):(this.leftPath.next(""),this.rightPath.next(E.path.currentValue))}}static{this.\u0275fac=function(f){return new(f||X)}}static{this.\u0275cmp=r.VBU({type:X,selectors:[["app-condensed-path"]],hostBindings:function(f,n){1&f&&r.bIt("copy",function(v){return n.onCopy(v)})},inputs:{path:"path"},features:[r.OA$],decls:6,vars:7,consts:[[1,"container",3,"matTooltip"],["class","left",4,"ngIf"],[1,"right"],[1,"left"]],template:function(f,n){1&f&&(r.j41(0,"div",0),r.DNE(1,o,3,3,"div",1),r.nI1(2,"async"),r.j41(3,"div",2),r.EFF(4),r.nI1(5,"async"),r.k0s()()),2&f&&(r.Y8G("matTooltip",n.path||""),r.R7$(),r.Y8G("ngIf",r.bMT(2,3,n.leftPath)),r.R7$(3),r.JRh(r.bMT(5,5,n.rightPath)))},dependencies:[R.bT,it.oV,R.Jj],styles:[".container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.left[_ngcontent-%COMP%]{min-width:15px}.right[_ngcontent-%COMP%]{flex:1 0 auto;max-width:100%}.left[_ngcontent-%COMP%] + .right[_ngcontent-%COMP%]{max-width:calc(100% - 15px)}"],changeDetection:0})}}return X})()},313:(kt,ct,i)=>{i.d(ct,{e:()=>Q});var e=i(4438),r=i(9417),R=i(5083),it=i(4572),o=i(6354),s=i(4668),X=i(152),$=i(5964),E=i(9172),f=i(6977),n=i(3130),D=i(949),v=i(2930),J=i(4766),t=i(177),G=i(8834),T=i(2102),W=i(9213),y=i(9042),u=i(4823),C=i(1751);const S=["findControlInput"];function O(dt,q){if(1&dt&&(e.j41(0,"mat-error"),e.EFF(1),e.k0s()),2&dt){const U=e.XpG();e.R7$(),e.JRh(U.findControl.getError("regex"))}}function V(dt,q){if(1&dt&&(e.j41(0,"mat-hint"),e.EFF(1),e.nI1(2,"async"),e.k0s()),2&dt){const U=e.XpG();e.R7$(),e.SpI("",e.bMT(2,1,U.matchesCount)," matches")}}let Q=(()=>{class dt extends((0,n.c)(D.N)){hostKeyDown(U){(v.c?U.metaKey:U.ctrlKey)&&("f"===U.key||"F"===U.key)&&(U.preventDefault(),this.findControlInput.nativeElement.focus({preventScroll:!0}))}constructor(U){super(),this.findSelectionService=U,this.initial=null,this.findControl=new r.MJ("",{nonNullable:!0,validators:H=>{if(this.useRegularExpressionControl?.value)try{new RegExp(H.value,"g")}catch(B){return{regex:B.message}}return null}}),this.matchCaseControl=new r.MJ(!1,{nonNullable:!0}),this.useRegularExpressionControl=new r.MJ(!1,{nonNullable:!0}),this.matchesCount=this.findSelectionService.matches.pipe((0,o.T)(H=>H.length),(0,s.t)(1)),this.gotoPreviousMatch=()=>this.findSelectionService.gotoPreviousMatch(),this.gotoNextMatch=()=>this.findSelectionService.gotoNextMatch()}ngOnInit(){this.initial&&(this.findControl.setValue(this.initial.text),this.matchCaseControl.setValue(this.initial.matchCase),this.useRegularExpressionControl.setValue(this.initial.useRegularExpression)),(0,it.z)([this.findControl.valueChanges.pipe((0,X.B)(100),(0,$.p)(()=>this.findControl.valid),(0,E.Z)(this.findControl.value)),this.matchCaseControl.valueChanges.pipe((0,E.Z)(this.matchCaseControl.value)),this.useRegularExpressionControl.valueChanges.pipe((0,E.Z)(this.useRegularExpressionControl.value))]).pipe((0,f.Q)(this.destroyed$)).subscribe(([U,H,B])=>{if(this.findControl.updateValueAndValidity({emitEvent:!1}),U)try{const st=new RegExp(B?U:(0,R.A)(U),H?"g":"ig");this.findSelectionService.searchRegex.next(st)}catch{}else this.findSelectionService.searchRegex.next(null)})}static{this.\u0275fac=function(H){return new(H||dt)(e.rXU(J.v))}}static{this.\u0275cmp=e.VBU({type:dt,selectors:[["app-find-control"]],viewQuery:function(H,B){if(1&H&&e.GBs(S,5,e.aKT),2&H){let st;e.mGM(st=e.lsd())&&(B.findControlInput=st.first)}},hostBindings:function(H,B){1&H&&e.bIt("keydown",function(Ct){return B.hostKeyDown(Ct)},!1,e.EBC)},inputs:{initial:"initial"},features:[e.Vt3],decls:31,vars:33,consts:[["findControlInput",""],[1,"find-control"],["matPrefix",""],["type","text","matInput","",3,"formControl"],["type","button","matSuffix","","mat-button","","disableRipple","",3,"click","matTooltip"],["svgIcon","format-letter-case"],["svgIcon","regex"],["type","button","matSuffix","","mat-button","","disableRipple","",3,"click","matTooltip","disabled"],["type","button","matSuffix","","mat-button","",3,"click","matTooltip"],[4,"ngIf"]],template:function(H,B){if(1&H){const st=e.RV6();e.j41(0,"mat-form-field",1)(1,"mat-label"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"mat-icon",2),e.EFF(5,"search"),e.k0s(),e.nrm(6,"input",3,0),e.j41(8,"button",4),e.nI1(9,"translate"),e.bIt("click",function(){return e.eBV(st),e.Njj(B.matchCaseControl.setValue(!B.matchCaseControl.value))}),e.nrm(10,"mat-icon",5),e.k0s(),e.j41(11,"button",4),e.nI1(12,"translate"),e.bIt("click",function(){return e.eBV(st),e.Njj(B.useRegularExpressionControl.setValue(!B.useRegularExpressionControl.value))}),e.nrm(13,"mat-icon",6),e.k0s(),e.j41(14,"button",7),e.nI1(15,"translate"),e.nI1(16,"async"),e.bIt("click",function(){return e.eBV(st),e.Njj(B.gotoPreviousMatch())}),e.j41(17,"mat-icon"),e.EFF(18,"arrow_upward"),e.k0s()(),e.j41(19,"button",7),e.nI1(20,"translate"),e.nI1(21,"async"),e.bIt("click",function(){return e.eBV(st),e.Njj(B.gotoNextMatch())}),e.j41(22,"mat-icon"),e.EFF(23,"arrow_downward"),e.k0s()(),e.j41(24,"button",8),e.nI1(25,"translate"),e.bIt("click",function(){return e.eBV(st),e.Njj(B.findControl.setValue(""))}),e.j41(26,"mat-icon"),e.EFF(27,"close"),e.k0s()(),e.DNE(28,O,2,1,"mat-error",9)(29,V,3,3,"mat-hint",9),e.nI1(30,"async"),e.k0s()}if(2&H){let st,Ct;e.R7$(2),e.JRh(e.bMT(3,15,"Find")),e.R7$(4),e.Y8G("formControl",B.findControl),e.R7$(2),e.AVh("selected",B.matchCaseControl.value),e.Y8G("matTooltip",e.bMT(9,17,"Match case")),e.R7$(3),e.AVh("selected",B.useRegularExpressionControl.value),e.Y8G("matTooltip",e.bMT(12,19,"Use regular expression")),e.R7$(3),e.Y8G("matTooltip",e.bMT(15,21,"Previous match"))("disabled",(null!==(st=e.bMT(16,23,B.matchesCount))&&void 0!==st?st:0)<=0),e.R7$(5),e.Y8G("matTooltip",e.bMT(20,25,"Next match"))("disabled",(null!==(Ct=e.bMT(21,27,B.matchesCount))&&void 0!==Ct?Ct:0)<=0),e.R7$(5),e.Y8G("matTooltip",e.bMT(25,29,"Clear")),e.R7$(4),e.Y8G("ngIf",B.findControl.hasError("regex")),e.R7$(),e.Y8G("ngIf",B.findControl.valid&&e.bMT(30,31,B.matchesCount))}},dependencies:[t.bT,r.me,r.BC,r.l_,G.$z,T.rl,T.nJ,T.MV,T.TL,T.JW,T.yw,W.An,y.fg,u.oV,t.Jj,C.D],styles:[".find-control[_ngcontent-%COMP%]{min-width:340px;margin-top:5px;width:100%}.find-control[_ngcontent-%COMP%]  .mat-mdc-form-field-icon-suffix{display:flex;align-items:center;gap:4px;margin-right:4px}.find-control[_ngcontent-%COMP%]  .mdc-notched-outline__leading, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__notch, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__trailing{border:none}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:2px solid transparent;min-width:36px}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:18px;width:18px;height:18px}.dark-theme[_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#78909c}.light-theme[_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#78909c}"],changeDetection:0})}}return dt})()},4766:(kt,ct,i)=>{i.d(ct,{v:()=>it});var e=i(4412),r=i(4572),R=i(4438);let it=(()=>{class o{constructor(){this.searchRegex=new e.t(null),this.selectedMatch=new e.t(null),this._matches=new e.t([]),this.selectedMatchIndex=new e.t(null),this.matches=this._matches.asObservable(),(0,r.z)([this.matches,this.selectedMatchIndex]).subscribe(([X,$])=>{this.selectedMatch.next(null===$?null:X[$]??null)})}setMatches(X){this._matches.next(X),this.selectedMatchIndex.next(null)}gotoPreviousMatch(){const X=this._matches.value;if(X.length<=0)return void this.selectedMatchIndex.next(null);const $=this.selectedMatchIndex.value;this.selectedMatchIndex.next(null===$||0===$?X.length-1:$-1)}gotoNextMatch(){const X=this._matches.value;if(X.length<=0)return void this.selectedMatchIndex.next(null);const $=this.selectedMatchIndex.value;this.selectedMatchIndex.next(null===$||$===X.length-1?0:$+1)}static{this.\u0275fac=function($){return new($||o)}}static{this.\u0275prov=R.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},7575:(kt,ct,i)=>{i.d(ct,{f:()=>D});var e=i(4438),r=i(1985),R=i(6977);function it(v){v||((0,e.Af3)(it),v=(0,e.WQX)(e.abz));const J=new r.c(t=>v.onDestroy(t.next.bind(t)));return t=>t.pipe((0,R.Q)(J))}var f=i(4572),n=i(4766);let D=(()=>{class v{constructor(t,G){this.findSelectionService=G,(0,f.z)([this.findSelectionService.searchRegex,this.findSelectionService.selectedMatch]).pipe(it()).subscribe(([T,W])=>{this.input&&(this.output=this.calculate(T,W)),t.markForCheck()})}transform(t,G,T){return(!this.input||!this.output||this.input.tokens!==t||this.input.text!==G||this.input.lineId!==T)&&(this.input={tokens:t,text:G,lineId:T},this.output=this.calculate(this.findSelectionService.searchRegex.value,this.findSelectionService.selectedMatch.value)),this.output}calculate(t,G){if(!this.input)return[];if(!t||!this.input.text)return this.input.tokens;const T=Array.from(this.input.text.matchAll(t),W=>({startIndex:W.index??0,endIndex:(W.index??0)+(W[0]?.length??0),scopes:["find-result"]}));return[...this.input.tokens,...T,...this.input.lineId===G?.lineId?[{startIndex:G.startIndex,endIndex:G.endIndex,scopes:["find-result-select"]}]:[]]}static{this.\u0275fac=function(G){return new(G||v)(e.rXU(e.gRc,16),e.rXU(n.v,16))}}static{this.\u0275pipe=e.EJ8({name:"findToken",type:v,pure:!1})}}return v})()},7744:(kt,ct,i)=>{i.d(ct,{w:()=>r});var e=i(4438);let r=(()=>{class R{constructor(o){this.template=o}static{this.\u0275fac=function(s){return new(s||R)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:R,selectors:[["","appVirtualTreeEmptyNode",""]]})}}return R})()},3683:(kt,ct,i)=>{i.d(ct,{x:()=>r});var e=i(4438);let r=(()=>{class R{constructor(o){this.template=o}static{this.\u0275fac=function(s){return new(s||R)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:R,selectors:[["","appVirtualTreeLeafNode",""]]})}}return R})()},6164:(kt,ct,i)=>{i.d(ct,{$:()=>r});var e=i(4438);let r=(()=>{class R{constructor(o){this.template=o}static{this.\u0275fac=function(s){return new(s||R)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:R,selectors:[["","appVirtualTreeNode",""]]})}}return R})()},1747:(kt,ct,i)=>{i.d(ct,{P:()=>G});var e=i(9969),r=i(5272),R=i(4438),it=i(6354),o=i(3130),s=i(949),X=i(3978),$=i(8694),E=i(7744),f=i(3683),n=i(6164),D=i(177);const v=T=>({$implicit:T});function J(T,W){1&T&&R.eu8(0)}function t(T,W){if(1&T&&(R.j41(0,"li"),R.DNE(1,J,1,0,"ng-container",2),R.k0s()),2&T){const y=W.$implicit,u=R.XpG();R.xc7("padding-left",10*y.depth,"px"),R.R7$(),R.Y8G("ngTemplateOutlet",u.isEmpty(y)?u.emptyNodeDirective.template:u.isLeaf(y)?u.leafNodeDirective.template:u.nodeDirective.template)("ngTemplateOutletContext",R.eq3(4,v,y))}}let G=(()=>{class T extends((0,o.c)(s.N,X.D,$.f)){constructor(){super(...arguments),this.keyPressed=new R.bkB,this.isEmpty=y=>!y.id,this.isLeaf=y=>!y.children,this.expandVisibleNodes=y=>this.isLeaf(y)||!y.expanded?[y]:[y,...y.children.length>0?y.children.flatMap(this.expandVisibleNodes):this.emptyNodeDirective?[{depth:1}]:[]]}ngOnInit(){super.ngOnInit(),this.visibleNodes=this.tree.pipe((0,it.T)(y=>y.reduce((u,C)=>[...u,...this.expandVisibleNodes(C)],[])))}trackById(y,u){return u.id??null}static{this.\u0275fac=(()=>{let y;return function(C){return(y||(y=R.xGo(T)))(C||T)}})()}static{this.\u0275cmp=R.VBU({type:T,selectors:[["app-virtual-tree"]],contentQueries:function(u,C,S){if(1&u&&(R.wni(S,n.$,5),R.wni(S,f.x,5),R.wni(S,E.w,5)),2&u){let O;R.mGM(O=R.lsd())&&(C.nodeDirective=O.first),R.mGM(O=R.lsd())&&(C.leafNodeDirective=O.first),R.mGM(O=R.lsd())&&(C.emptyNodeDirective=O.first)}},viewQuery:function(u,C){if(1&u&&R.GBs(r.d6,5),2&u){let S;R.mGM(S=R.lsd())&&(C.viewports=S)}},inputs:{tree:"tree",itemSize:"itemSize"},outputs:{keyPressed:"keyPressed"},features:[R.Vt3],decls:5,vars:9,consts:[["tabindex","0",3,"keydown","itemSize"],[3,"padding-left",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(u,C){1&u&&(R.j41(0,"cdk-virtual-scroll-viewport",0),R.bIt("keydown",function(O){return C.keyPressed.next(O)}),R.j41(1,"ul"),R.nI1(2,"async"),R.DNE(3,t,2,6,"li",1),R.nI1(4,"async"),R.k0s()()),2&u&&(R.Y8G("itemSize",C.itemSize)("@null",void 0),R.R7$(),R.Y8G("@slide",R.bMT(2,5,C.visibleNodes)),R.R7$(2),R.Y8G("cdkVirtualForOf",R.bMT(4,7,C.visibleNodes))("cdkVirtualForTrackBy",C.trackById))},dependencies:[r.yg,r.E$,r.d6,D.T3,D.Jj],styles:["cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{outline:none}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{transition:height 225ms ease-in-out}li[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}"],data:{animation:[(0,e.hZ)("null",[(0,e.kY)(":enter",[]),(0,e.kY)(":leave",[])]),(0,e.hZ)("slide",[(0,e.kY)("* => *",[(0,e.Os)([(0,e.P)("li:enter",[(0,e.iF)({height:0}),(0,e.i0)("225ms ease-in-out",(0,e.iF)({height:"*"}))],{optional:!0}),(0,e.P)("li:leave",[(0,e.iF)({height:"*"}),(0,e.i0)("225ms ease-in-out",(0,e.iF)({height:0}))],{optional:!0})])])])]},changeDetection:0})}}return T})()},5458:(kt,ct,i)=>{i.d(ct,{J:()=>$});var e=i(6977),r=i(3130),R=i(949),it=i(5404),o=i(4438),s=i(177),X=i(9843);let $=(()=>{class E extends((0,r.c)(R.N)){constructor(n,D,v){super(),this.datePipe=D,this.language="en",v.select(it.tq.language).pipe((0,e.Q)(this.destroyed$)).subscribe(J=>{this.language=J,this.input&&(this.output=this.translate(J,this.input.date,this.input.format)),n.markForCheck()})}transform(n,D){return(!this.input||!this.output||this.input.date!==n||this.input.format!==D)&&(this.input={date:n,format:D},this.output=this.translate(this.language,n,D)),this.output}translate(n,D,v){let J;switch(n){case"en":J="en-GB","monthYear"===v&&(v="MMM yyyy");break;case"zh":J="zh-CN","monthYear"===v&&(v="yyyy\u5e74M\u6708")}return this.datePipe.transform(D,v,void 0,J)}static{this.\u0275fac=function(D){return new(D||E)(o.rXU(o.gRc,16),o.rXU(s.vh,16),o.rXU(X.il,16))}}static{this.\u0275pipe=o.EJ8({name:"translateDate",type:E,pure:!1})}}return E})()},5960:(kt,ct,i)=>{i.r(ct),i.d(ct,{StandardLayoutModule:()=>Xe});var e=i(3902),r=i(2798),R=i(1117),it=i(8148),o=i(850),s=i(5351),X=i(2102),$=i(9042),E=i(9115),f=i(9183),n=i(6850),D=i(2992),v=i(9563),J=i(3054),t=i(4438);let G=(()=>{class g{static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275mod=t.$C({type:g})}static{this.\u0275inj=t.G2t({imports:[o.jL,s.hM,X.RG,$.fS,E.Cn,f.D6,r.Ve,n.RI,R.U,D.s,v.Z,J.K]})}}return g})();var T=i(6573),W=i(2724),y=i(9417),u=i(4412),C=i(4572),S=i(9172),O=i(3386),V=i(6354),Q=i(5964),dt=i(8141),q=i(5558),U=i(7673),H=i(9437),B=i(8810),st=i(6977),Ct=i(980),ot=i(4548),pt=i(3130),et=i(949),ft=i(319),Pt=i(2570),vt=i(877),Lt=i(5012),It=i(9843),gt=i(986),yt=i(1529),I=i(9851),F=i(259),_=i(177),w=i(8834),m=i(9213),x=i(4823),k=i(9969),rt=i(5272),bt=i(8694),Et=i(2039),Ht=i(6159),Kt=i(477),Yt=i(5969),lt=i(6268),wt=i(1619),L=i(1693),K=i(1281),at=i(1751);function Rt(g,xt){if(1&g){const h=t.RV6();t.j41(0,"li",10),t.nI1(1,"async"),t.bIt("click",function(){const p=t.eBV(h).$implicit,z=t.XpG();return t.Njj(z.selectedCommitDetail.next(p))}),t.nrm(2,"app-avatar",11),t.j41(3,"span",12),t.EFF(4),t.k0s()()}if(2&g){let h;const b=xt.$implicit,p=t.XpG(),z=t.sdS(12);t.AVh("selected",b.id===(null==(h=t.bMT(1,9,p.selectedCommitDetail))?null:h.id)),t.Y8G("appContextMenu",z)("appContextMenuData",b),t.R7$(2),t.Y8G("matTooltip",b.authorName+" ("+b.authorEmail+")")("remotes",p.remotes)("email",b.authorEmail),t.R7$(),t.Y8G("matTooltip",b.message),t.R7$(),t.SpI(" ",p.getCommitSummary(b)," ")}}function Nt(g,xt){if(1&g){const h=t.RV6();t.j41(0,"app-diff-view",13),t.bIt("closed",function(){t.eBV(h);const p=t.XpG();return t.Njj(p.selectedPatch.next(null))}),t.k0s()}if(2&g){const h=t.XpG();t.Y8G("@slideLeft",void 0)("patch",h.selectedPatch)}}function zt(g,xt){if(1&g){const h=t.RV6();t.j41(0,"app-commit-detail-view",14),t.bIt("patchChanged",function(p){t.eBV(h);const z=t.XpG();return t.Njj(z.patchChanged(p))}),t.k0s()}if(2&g){const h=t.XpG();t.Y8G("commit",h.selectedCommitDetail)("selectedFile",h.selectedFile)}}function oe(g,xt){if(1&g){const h=t.RV6();t.j41(0,"div",15)(1,"div",16),t.EFF(2),t.k0s(),t.j41(3,"button",17),t.bIt("click",function(){const p=t.eBV(h).data,z=t.XpG();return t.Njj(z.copyToClipboard(p.commitId))}),t.j41(4,"mat-icon"),t.EFF(5,"content_copy"),t.k0s(),t.j41(6,"span"),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"button",17),t.bIt("click",function(){const p=t.eBV(h).data,z=t.XpG();return t.Njj(z.jumpToCommit(p.commitId))}),t.j41(10,"mat-icon"),t.EFF(11,"launch"),t.k0s(),t.j41(12,"span"),t.EFF(13),t.nI1(14,"translate"),t.k0s()()()}if(2&g){const h=xt.data,b=t.XpG();t.R7$(),t.Y8G("matTooltip",h.message),t.R7$(),t.JRh(b.getCommitSummary(h)),t.R7$(),t.Y8G("matTooltip",h.commitId),t.R7$(4),t.JRh(t.bMT(8,6,"Copy Commit ID")),t.R7$(2),t.Y8G("matTooltip",h.commitId),t.R7$(4),t.JRh(t.bMT(14,8,"Jump to Commit"))}}let te=(()=>{class g extends((0,pt.c)(et.N,bt.f)){constructor(h,b,p){super(),this.router=h,this.store=b,this.commitsApi=p,this.yUnit=Ht.q.yUnit,this.commitDetails=new u.t([]),this.selectedCommitDetail=new u.t(null),this.selectedPatch=new u.t(null),this.selectedFile=this.selectedPatch.pipe((0,V.T)(z=>z?{area:"commit",oldFilePath:z.patch.oldFilePath,newFilePath:z.patch.newFilePath}:null)),this.getCommitSummary=z=>z.message.split("\n")[0]}ngOnChanges(h){if(!h.commits)return;const b=this.store.selectSnapshot(vt.s.selectedRepositoryPath);if(!b)throw new ot.Jf;this.repositoryPath=b,this.commitsApi.getCommits(b,this.commits).pipe((0,st.Q)(this.destroyed$)).subscribe(z=>{this.commitDetails.next(z),z[0]&&this.selectedCommitDetail.next(z[0])});const p=this.store.selectSnapshot(vt.s.selectedRemotes);if(!p)throw new ot._1;this.remotes=p}patchChanged(h){const b=this.selectedCommitDetail.value;"commit"!==h.area||!b||0===b.patches.length||this.commitsApi.getPatch(this.repositoryPath,b.id,h.oldFilePath,h.newFilePath).pipe((0,V.T)(p=>({repositoryPath:this.repositoryPath,patch:p,isUnstaged:!1})),(0,H.W)(p=>ot.z9.matches(p)||ot.CS.matches(p)?(0,U.of)(null):(0,B.$)(()=>p)),(0,st.Q)(this.destroyed$)).subscribe(p=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===p?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===p?.patch.oldFilePath?null:p)})}copyToClipboard(h){navigator.clipboard.writeText(h??"")}jumpToCommit(h){this.store.dispatch([new Et.$P(this.repositoryPath,h),new Et.Ks(this.repositoryPath,h)]).subscribe(()=>{this.router.navigate(["/standard/default"])})}trackCommitDetail(h,b){return b.id}static{this.\u0275fac=function(b){return new(b||g)(t.rXU(W.Ix),t.rXU(It.il),t.rXU(gt.m))}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["app-pull-request-commits-view"]],viewQuery:function(b,p){if(1&b&&t.GBs(rt.d6,5),2&b){let z;t.mGM(z=t.lsd())&&(p.viewports=z)}},inputs:{commits:"commits"},features:[t.Vt3,t.OA$],decls:13,vars:9,consts:[["contextMenu",""],["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[1,"viewport-wrapper"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"selected","appContextMenu","appContextMenuData","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],[3,"click","appContextMenu","appContextMenuData"],[3,"matTooltip","remotes","email"],[1,"summary",3,"matTooltip"],[3,"closed","patch"],[3,"patchChanged","commit","selectedFile"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"click","matTooltip"]],template:function(b,p){1&b&&(t.j41(0,"app-grid",1)(1,"app-grid-cell",2)(2,"div",3)(3,"cdk-virtual-scroll-viewport",4)(4,"ul",5),t.DNE(5,Rt,5,11,"li",6),t.k0s()()(),t.DNE(6,Nt,1,2,"app-diff-view",7),t.nI1(7,"async"),t.k0s(),t.j41(8,"app-grid-cell",8),t.DNE(9,zt,1,2,"app-commit-detail-view",9),t.nI1(10,"async"),t.k0s()(),t.DNE(11,oe,15,10,"ng-template",null,0,t.C5r)),2&b&&(t.R7$(3),t.Y8G("itemSize",p.yUnit),t.R7$(2),t.Y8G("cdkVirtualForOf",p.commitDetails)("cdkVirtualForTrackBy",p.trackCommitDetail),t.R7$(),t.Y8G("ngIf",t.bMT(7,5,p.selectedPatch)),t.R7$(3),t.Y8G("ngIf",t.bMT(10,7,p.selectedCommitDetail)))},dependencies:[rt.yg,rt.E$,rt.d6,_.bT,m.An,x.oV,Kt.f,Yt.Q,lt.K,wt._,L.n,K.Q,_.Jj,at.D],styles:[".viewport-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.messages-viewport[_ngcontent-%COMP%]{contain:content;scrollbar-gutter:stable;height:100%}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:28px;line-height:28px;padding-left:5px;padding-right:130px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:26px;height:26px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:1rem;vertical-align:middle}app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#2d2d2d}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #1e1e1e}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#eee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #fafafa}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #eeeeee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #eeeeee}"],data:{animation:[(0,k.hZ)("slideLeft",[(0,k.kY)(":enter",[(0,k.iF)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,k.i0)("200ms",(0,k.iF)({transform:"translateX(0)"}))]),(0,k.kY)(":leave",[(0,k.iF)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,k.i0)("200ms",(0,k.iF)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return g})();var ae=i(4991),ie=i(8667);function se(g,xt){if(1&g){const h=t.RV6();t.j41(0,"app-diff-view",5),t.bIt("closed",function(){t.eBV(h);const p=t.XpG();return t.Njj(p.selectedPatch.next(null))}),t.k0s()}if(2&g){const h=t.XpG();t.Y8G("@slideLeft",void 0)("patch",h.selectedPatch)}}let ht=(()=>{class g extends((0,pt.c)(et.N)){constructor(h,b){super(),this.store=h,this.commitsApi=b,this.selectedPatch=new u.t(null),this.selectedFile=this.selectedPatch.pipe((0,V.T)(p=>p?{area:"commit",oldFilePath:p.patch.oldFilePath,newFilePath:p.patch.newFilePath}:null))}ngOnInit(){const h=this.store.selectSnapshot(vt.s.selectedRepositoryPath);if(!h)throw new ot.Jf;this.repositoryPath=h}ngAfterViewInit(){const h=(0,ae.A)(this.patches,b=>b.oldFilePath?.toLowerCase()??b.newFilePath?.toLowerCase())[0];h&&setTimeout(()=>{this.changePatch(h.oldFilePath,h.newFilePath)},500)}changePatch(h,b){this.commitsApi.getCompareCommitsPatch(this.repositoryPath,this.fromCommitId,this.toCommitId,h,b).pipe((0,V.T)(p=>({repositoryPath:this.repositoryPath,patch:p,isUnstaged:!1})),(0,H.W)(p=>ot.z9.matches(p)||ot.CS.matches(p)?(0,U.of)(null):(0,B.$)(()=>p)),(0,st.Q)(this.destroyed$)).subscribe(p=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===p?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===p?.patch.oldFilePath?null:p)})}static{this.\u0275fac=function(b){return new(b||g)(t.rXU(It.il),t.rXU(gt.m))}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["app-pull-request-patches-view"]],inputs:{fromCommitId:"fromCommitId",toCommitId:"toCommitId",patches:"patches"},features:[t.Vt3],decls:7,vars:7,consts:[["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"selectedChanged","patches","selected"],[3,"closed","patch"]],template:function(b,p){1&b&&(t.j41(0,"app-grid",0)(1,"app-grid-cell",1),t.DNE(2,se,1,2,"app-diff-view",2),t.nI1(3,"async"),t.k0s(),t.j41(4,"app-grid-cell",3)(5,"app-patches-view",4),t.nI1(6,"async"),t.bIt("selectedChanged",function(Y){return p.changePatch(Y.oldFilePath,Y.newFilePath)}),t.k0s()()()),2&b&&(t.R7$(2),t.Y8G("ngIf",t.bMT(3,3,p.selectedPatch)),t.R7$(3),t.Y8G("patches",p.patches)("selected",t.bMT(6,5,p.selectedFile)))},dependencies:[_.bT,lt.K,wt._,K.Q,ie.h,_.Jj],styles:["app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}app-patches-view[_ngcontent-%COMP%]{padding:16px;height:100%;display:flex;flex-direction:column;gap:10px}"],data:{animation:[(0,k.hZ)("slideLeft",[(0,k.kY)(":enter",[(0,k.iF)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,k.i0)("200ms",(0,k.iF)({transform:"translateX(0)"}))]),(0,k.kY)(":leave",[(0,k.iF)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,k.i0)("200ms",(0,k.iF)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return g})();var Bt=i(3382),P=i(6600);const j=g=>({branch:g});function tt(g,xt){if(1&g&&(t.j41(0,"mat-option",11),t.EFF(1),t.k0s()),2&g){const h=xt.$implicit;t.Y8G("value",h),t.R7$(),t.Lme(" ",h.owner,"/",h.repo," ")}}function Mt(g,xt){if(1&g&&(t.j41(0,"mat-option",11),t.EFF(1),t.k0s()),2&g){const h=xt.$implicit;t.Y8G("value",t.eq3(2,j,h)),t.R7$(),t.JRh(h)}}function Vt(g,xt){if(1&g&&(t.j41(0,"mat-option",11),t.EFF(1),t.k0s()),2&g){const h=xt.$implicit;t.Y8G("value",h),t.R7$(),t.Lme(" ",h.owner,"/",h.repo," ")}}function Zt(g,xt){if(1&g&&(t.j41(0,"mat-option",11),t.EFF(1),t.k0s()),2&g){const h=xt.$implicit;t.Y8G("value",t.eq3(2,j,h)),t.R7$(),t.JRh(h)}}let qt=(()=>{class g extends((0,pt.c)(et.N)){constructor(h,b,p,z,Y){super(),this.store=h,this.bitbucketApiService=b,this.gitHubApiService=p,this.gitLabApiService=z,this.providerUrlMatcherService=Y,this.filteredFromRepos=[],this.displayBranch=_t=>_t?_t.branch:"",this.displayRepo=_t=>_t?`${_t.owner}/${_t.repo}`:""}ngOnInit(){const h=this.store.selectSnapshot(vt.s.selectedRemotes)?.filter(b=>this.providerUrlMatcherService.matchProvider(b.url)?.type===this.integration.type);if(!h)throw new ft.XR(new ot._1);this.filteredFromRepos=h.flatMap(b=>{const p=this.providerUrlMatcherService.matchProvider(b.url);return p?.type!==this.integration.type?[]:{owner:"bitbucket"===p.type?p.workspace:"github"===p.type?p.owner:"gitlab"===p.type?p.namespace:"",repo:p.repo}}),this.filteredFromRepos[0]&&(this.controls.fromRepo.setValue(this.filteredFromRepos[0]),this.controls.toRepo.setValue(this.filteredFromRepos[0])),this.filteredFromBranches=(0,C.z)([this.controls.fromRepo.valueChanges.pipe((0,S.Z)(this.controls.fromRepo.value),(0,O.c)(500,void 0,{leading:!0,trailing:!0}),(0,q.n)(b=>this.getBranches(b))),this.controls.fromBranch.valueChanges.pipe((0,S.Z)(this.controls.fromBranch.value),(0,O.c)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,V.T)(([b,p])=>"string"==typeof p?b.filter(z=>z.toLowerCase().includes(p.toLowerCase())):b)),this.filteredToRepos=this.controls.fromRepo.valueChanges.pipe((0,S.Z)(this.controls.fromRepo.value),(0,O.c)(500,void 0,{leading:!0,trailing:!0}),(0,q.n)(b=>{const{owner:p,repo:z}=b??{};if(!p||!z)return(0,U.of)(this.filteredFromRepos);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getRepository(p,z,void 0,this.integration).pipe((0,V.T)(Y=>{if(!Y?.parent){const nt=this.controls.fromRepo.value,Tt=this.controls.toRepo.value;return nt?.owner===Tt?.owner&&nt?.repo===Tt?.repo&&this.controls.toBranch.pristine&&Y?.mainbranch&&this.controls.toBranch.setValue({branch:Y.mainbranch.name}),this.filteredFromRepos}const[_t,Ot]=Y?.parent?.full_name.split("/")??[];return _t&&Ot?(this.controls.toBranch.pristine&&Y.parent?.mainbranch&&this.controls.toBranch.setValue({branch:Y.parent.mainbranch.name}),[{owner:_t,repo:Ot},...this.filteredFromRepos.filter(nt=>nt.owner!==_t||nt.repo!==Ot)]):this.filteredFromRepos}));case"github":return this.gitHubApiService.getRepository(this.integration.token,p,z).pipe((0,V.T)(Y=>{if(!Y?.parent){const nt=this.controls.fromRepo.value,Tt=this.controls.toRepo.value;return nt?.owner===Tt?.owner&&nt?.repo===Tt?.repo&&this.controls.toBranch.pristine&&Y&&this.controls.toBranch.setValue({branch:Y.default_branch}),this.filteredFromRepos}const[_t,Ot]=Y?.parent?.full_name.split("/")??[];return _t&&Ot?(this.controls.toBranch.pristine&&Y.parent&&this.controls.toBranch.setValue({branch:Y.parent.default_branch}),[{owner:_t,repo:Ot},...this.filteredFromRepos.filter(nt=>nt.owner!==_t||nt.repo!==Ot)]):this.filteredFromRepos}));case"gitlab":return this.gitLabApiService.getRepository(this.integration,p,z).pipe((0,V.T)(Y=>{if(!Y?.forked_from_project){const nt=this.controls.fromRepo.value,Tt=this.controls.toRepo.value;return nt?.owner===Tt?.owner&&nt?.repo===Tt?.repo&&this.controls.toBranch.pristine&&Y&&this.controls.toBranch.setValue({branch:Y.default_branch}),this.filteredFromRepos}const _t=Y?.forked_from_project?.namespace.path,Ot=Y?.forked_from_project?.path;return _t&&Ot?(this.controls.toBranch.pristine&&Y.forked_from_project&&this.controls.toBranch.setValue({branch:Y.forked_from_project.default_branch}),[{owner:_t,repo:Ot},...this.filteredFromRepos.filter(nt=>nt.owner!==_t||nt.repo!==Ot)]):this.filteredFromRepos}));default:throw new Error("Check not exhaustive.")}})),this.filteredToBranches=(0,C.z)([this.controls.toRepo.valueChanges.pipe((0,S.Z)(this.controls.toRepo.value),(0,O.c)(500,void 0,{leading:!0,trailing:!0}),(0,q.n)(b=>this.getBranches(b))),this.controls.toBranch.valueChanges.pipe((0,S.Z)(this.controls.toBranch.value),(0,O.c)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,V.T)(([b,p])=>"string"==typeof p?b.filter(z=>z.toLowerCase().includes(p.toLowerCase())):b))}getBranches(h){const{owner:b,repo:p}=h??{};if(!b||!p)return(0,U.of)([]);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getBranches(this.integration,b,p).pipe((0,V.T)(z=>z?.values.map(({name:Y})=>Y)??[]),(0,H.W)(()=>(0,U.of)([])));case"github":return this.gitHubApiService.getBranches(this.integration.token,b,p).pipe((0,V.T)(z=>z?.map(({name:Y})=>Y)??[]),(0,H.W)(()=>(0,U.of)([])));case"gitlab":return this.gitLabApiService.getBranches(this.integration,b,p).pipe((0,V.T)(z=>z?.map(({name:Y})=>Y)??[]),(0,H.W)(()=>(0,U.of)([])));default:throw new Error("Check not exhaustive.")}}static{this.\u0275fac=function(b){return new(b||g)(t.rXU(It.il),t.rXU(yt.H),t.rXU(I.N),t.rXU(F.P),t.rXU(Bt.y))}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["app-pull-request-select-view"]],inputs:{integration:"integration",controls:"controls"},features:[t.Vt3],decls:33,vars:30,consts:[["autoToBranch","matAutocomplete"],["autoFromBranch","matAutocomplete"],["subscriptSizing","dynamic",1,"to-repo"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["subscriptSizing","dynamic",1,"to-branch"],["type","text","matInput","","required","",3,"formControl","matAutocomplete"],[3,"displayWith"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],["type","text","matInput","","required","","cdkFocusInitial","",3,"formControl","matAutocomplete"],[3,"value"]],template:function(b,p){if(1&b&&(t.j41(0,"mat-form-field",2)(1,"mat-label"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"mat-select",3),t.DNE(5,tt,2,3,"mat-option",4),t.nI1(6,"async"),t.k0s()(),t.j41(7,"mat-form-field",5)(8,"mat-label"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"input",6),t.j41(12,"mat-autocomplete",7,0),t.DNE(14,Mt,2,4,"mat-option",4),t.nI1(15,"async"),t.k0s()(),t.j41(16,"mat-icon"),t.EFF(17,"arrow_back"),t.k0s(),t.j41(18,"mat-form-field",8)(19,"mat-label"),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"mat-select",3),t.DNE(23,Vt,2,3,"mat-option",4),t.k0s()(),t.j41(24,"mat-form-field",9)(25,"mat-label"),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.nrm(28,"input",10),t.j41(29,"mat-autocomplete",7,1),t.DNE(31,Zt,2,4,"mat-option",4),t.nI1(32,"async"),t.k0s()()),2&b){const z=t.sdS(13),Y=t.sdS(30);t.R7$(2),t.JRh(t.bMT(3,16,"Base Repository")),t.R7$(2),t.Y8G("formControl",p.controls.toRepo),t.R7$(),t.Y8G("ngForOf",t.bMT(6,18,p.filteredToRepos)),t.R7$(4),t.JRh(t.bMT(10,20,"Base Branch")),t.R7$(2),t.Y8G("formControl",p.controls.toBranch)("matAutocomplete",z),t.R7$(),t.Y8G("displayWith",p.displayBranch),t.R7$(2),t.Y8G("ngForOf",t.bMT(15,22,p.filteredToBranches)),t.R7$(6),t.JRh(t.bMT(21,24,"Head Repository")),t.R7$(2),t.Y8G("formControl",p.controls.fromRepo),t.R7$(),t.Y8G("ngForOf",p.filteredFromRepos),t.R7$(3),t.JRh(t.bMT(27,26,"Head Branch")),t.R7$(2),t.Y8G("formControl",p.controls.fromBranch)("matAutocomplete",Y),t.R7$(),t.Y8G("displayWith",p.displayBranch),t.R7$(2),t.Y8G("ngForOf",t.bMT(32,28,p.filteredFromBranches))}},dependencies:[o.$3,P.wT,o.pN,X.rl,X.nJ,$.fg,r.VO,_.Sq,y.me,y.BC,y.YS,y.l_,m.An,_.Jj,at.D],styles:["[_nghost-%COMP%]{display:flex;gap:10px;align-items:center}.to-repo[_ngcontent-%COMP%], .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}.to-branch[_ngcontent-%COMP%], .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}"],changeDetection:0})}}return g})();const ee=g=>({count:g});function de(g,xt){1&g&&(t.j41(0,"mat-error"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&g&&(t.R7$(),t.JRh(t.bMT(2,1,"Title is required")))}function Z(g,xt){if(1&g&&(t.j41(0,"mat-tab",4),t.nI1(1,"translate"),t.j41(2,"div",16),t.nrm(3,"app-pull-request-commits-view",17),t.k0s()()),2&g){const h=t.XpG().ngIf;t.FS9("label",t.i5U(1,2,"Commits (_count_)",t.eq3(5,ee,h.commits.length))),t.R7$(3),t.Y8G("commits",h.commits)}}function N(g,xt){if(1&g&&(t.j41(0,"mat-tab",4),t.nI1(1,"translate"),t.nrm(2,"app-pull-request-patches-view",18),t.k0s()),2&g){const h=t.XpG().ngIf;t.FS9("label",t.i5U(1,4,"Files changed (_count_)",t.eq3(7,ee,h.patches.length))),t.R7$(2),t.Y8G("fromCommitId",h.fromCommitId)("toCommitId",h.toCommitId)("patches",h.patches)}}function l(g,xt){if(1&g&&(t.qex(0),t.DNE(1,Z,4,7,"mat-tab",15)(2,N,3,9,"mat-tab",15),t.bVm()),2&g){const h=xt.ngIf,b=t.XpG();t.R7$(),t.Y8G("ngIf",b.hasCommits(h)),t.R7$(),t.Y8G("ngIf",b.hasPatches(h))}}function a(g,xt){if(1&g&&(t.j41(0,"span",21),t.nI1(1,"async"),t.nI1(2,"translate"),t.EFF(3),t.nI1(4,"translate"),t.k0s()),2&g){const h=t.XpG(2);t.Y8G("matTooltip",t.bMT(2,4,null===t.bMT(1,2,h.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.R7$(3),t.SpI(" ",t.bMT(4,6,"Commits")," ")}}function c(g,xt){if(1&g&&(t.j41(0,"span",21),t.nI1(1,"async"),t.nI1(2,"translate"),t.EFF(3),t.nI1(4,"translate"),t.k0s()),2&g){const h=t.XpG(2);t.Y8G("matTooltip",t.bMT(2,4,null===t.bMT(1,2,h.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.R7$(3),t.SpI(" ",t.bMT(4,6,"Files changed")," ")}}function d(g,xt){1&g&&(t.qex(0),t.j41(1,"mat-tab",19),t.DNE(2,a,5,8,"ng-template",20),t.k0s(),t.j41(3,"mat-tab",19),t.DNE(4,c,5,8,"ng-template",20),t.k0s(),t.bVm())}function M(g,xt){1&g&&t.nrm(0,"mat-spinner",22)}function A(g,xt){1&g&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&g&&(t.R7$(),t.JRh(t.bMT(2,1,"View in browser")))}function ut(g,xt){1&g&&t.nrm(0,"mat-spinner",22)}function mt(g,xt){1&g&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&g&&(t.R7$(),t.JRh(t.bMT(2,1,"Create Pull Request")))}let Qt=(()=>{class g extends((0,pt.c)(et.N)){constructor(h,b,p,z,Y,_t){super(),this.route=h,this.store=b,this.commitsApi=p,this.bitbucketApiService=z,this.gitHubApiService=Y,this.gitLabApiService=_t,this.form=new y.gE({fromRepo:new y.MJ(null,y.k0.required),fromBranch:new y.MJ(null,y.k0.required),toRepo:new y.MJ(null,y.k0.required),toBranch:new y.MJ(null,y.k0.required),title:new y.MJ(null,y.k0.required),description:new y.MJ(null),draft:new y.MJ(!1,{nonNullable:!0})}),this.compare=new u.t(void 0),this.loadingCompare=new u.t(!1),this.creatingPullRequest=new u.t(!1),this.hasCommits=Ot=>!!Ot.commits,this.hasPatches=Ot=>!!Ot.patches,this.getBranch=Ot=>"string"==typeof Ot?Ot:Ot.branch}ngOnInit(){const h=this.route.snapshot.paramMap.get("type");if("bitbucket"!==h&&"github"!==h&&"gitlab"!==h)throw new ot.wQ(h);const b=this.route.snapshot.paramMap.get("integrationId"),p=this.store.selectSnapshot(Lt.d.integrations).find(Y=>Y.type===h&&Y.id==b);if(!p)throw new ot.AD(h,b);this.integration=p;const z=this.store.selectSnapshot(vt.s.selectedRepositoryPath);if(!z)throw new ot.Jf;(0,C.z)([this.form.controls.toRepo.valueChanges.pipe((0,S.Z)(this.form.controls.toRepo.value)),this.form.controls.toBranch.valueChanges.pipe((0,S.Z)(this.form.controls.toBranch.value)),this.form.controls.fromRepo.valueChanges.pipe((0,S.Z)(this.form.controls.fromRepo.value)),this.form.controls.fromBranch.valueChanges.pipe((0,S.Z)(this.form.controls.fromBranch.value))]).pipe((0,O.c)(500,void 0,{leading:!0,trailing:!0}),(0,V.T)(([Y,_t,Ot,nt])=>{const{owner:Tt,repo:St}=this.getOwnerRepo(Y),{owner:$t,repo:Ut}=this.getOwnerRepo(Ot);return Tt&&St&&_t&&$t&&Ut&&nt?{toOwner:Tt,toRepo:St,toBranch:_t,fromOwner:$t,fromRepo:Ut,fromBranch:nt}:null}),(0,Q.p)(ft.O9),(0,dt.M)(()=>{this.loadingCompare.next(!0)}),(0,q.n)(({toOwner:Y,toRepo:_t,toBranch:Ot,fromOwner:nt,fromRepo:Tt,fromBranch:St})=>{switch(this.integration.type){case"bitbucket":const $t=this.getBranch(St),Ut=this.getBranch(Ot);return Y!==nt||_t!==Tt?(0,U.of)({url:`https://bitbucket.org/${Y}/${_t}/branches/compare/${nt}/${Tt}:${$t}%0D${Y}/${_t}:${Ut}`}):this.bitbucketApiService.compareCommits(Y,_t,$t,Ut,"values.hash,values.parents.hash").pipe((0,q.n)(Ft=>{const jt=Ft.values[0]?.hash,At=Ft.values[Ft.values.length-1]?.parents[0]?.hash,Jt={url:`https://bitbucket.org/${Y}/${_t}/branches/compare/${$t}..${Ut}`,fromCommitId:jt,toCommitId:At,commits:Ft.values.map(ne=>ne.hash)};return jt&&At?this.commitsApi.compareCommits(z,jt,At).pipe((0,V.T)(ne=>({...Jt,fromCommitId:jt,toCommitId:At,patches:ne}))):(0,U.of)(null)}));case"github":return this.gitHubApiService.compare(this.integration.token,Y,_t,this.getBranch(Ot),nt,Tt,this.getBranch(St)).pipe((0,q.n)(Ft=>{const jt=Ft?.commits[Ft.commits.length-1]?.sha,At=Ft?.base_commit.sha;if(!Ft)return(0,U.of)(null);const Jt={url:Ft.html_url,fromCommitId:jt,toCommitId:At,commits:Ft.commits.map(ne=>ne.sha)};return Ft&&jt&&At&&Ft.commits.length<250?this.commitsApi.compareCommits(z,jt,At).pipe((0,V.T)(ne=>({...Jt,fromCommitId:jt,toCommitId:At,patches:ne}))):(0,U.of)(null)}));case"gitlab":const Wt=this.integration;return this.gitLabApiService.getProject(Wt,Y,_t).pipe((0,q.n)(Ft=>this.gitLabApiService.compare(Wt,nt,Tt,this.getBranch(St),this.getBranch(Ot),Ft.id)),(0,q.n)(Ft=>{const jt=Ft?.commit?.id,At=Ft?.commits[0]?.parent_ids[0];if(!Ft)return(0,U.of)(null);const Jt={url:Ft.web_url,fromCommitId:jt,toCommitId:At,commits:Ft.commits.map(ne=>ne.id)};return Ft&&jt&&At?this.commitsApi.compareCommits(z,jt,At).pipe((0,V.T)(ne=>({...Jt,fromCommitId:jt,toCommitId:At,patches:ne}))):(0,U.of)(null)}));default:throw new Error(`Check not exhaustive '${this.integration}'.`)}}),(0,H.W)(Y=>ot.z9.matches(Y)?(0,U.of)(null):(0,B.$)(()=>Y)),(0,Pt.s)(()=>{this.loadingCompare.next(!1)}),(0,st.Q)(this.destroyed$)).subscribe(Y=>{this.compare.next(Y),this.loadingCompare.next(!1)})}close(){history.back()}openCompareInBrowser(){const h=this.compare.value?.url;h&&window.open(h)}createPullRequest(){const{toRepo:h,toBranch:b,fromRepo:p,fromBranch:z,title:Y,description:_t}=this.form.value,{owner:Ot,repo:nt}=this.getOwnerRepo(h),{owner:Tt,repo:St}=this.getOwnerRepo(p);if(this.form.invalid||!Ot||!nt||!b||!Tt||!St||!z||!Y)throw new ft.XR(new ot.QF);let $t;switch(this.creatingPullRequest.next(!0),this.integration.type){case"bitbucket":$t=this.bitbucketApiService.createPullRequest(this.integration,Ot,nt,{title:Y,description:_t??void 0,source:{branch:{name:this.getBranch(z)},repository:{full_name:`${Tt}/${St}`}},destination:{branch:{name:this.getBranch(b)}}});break;case"github":$t=this.gitHubApiService.createPullRequest(this.integration.token,Ot,nt,{head:`${Tt}:${this.getBranch(z)}`,head_repo:St,base:this.getBranch(b),title:Y,body:_t??void 0});break;case"gitlab":const Ut=this.integration;$t=this.gitLabApiService.getRepository(Ut,Ot,nt).pipe((0,q.n)(Xt=>this.gitLabApiService.createMergeRequest(Ut,Tt,St,{source_branch:this.getBranch(z),target_branch:this.getBranch(b),target_project_id:Xt.id??void 0,title:Y,description:_t??void 0})));break;default:throw new Error(`Check not exhaustive '${this.integration}'.`)}$t.pipe((0,Ct.j)(()=>{this.creatingPullRequest.next(!1)})).subscribe(()=>{this.close()})}getOwnerRepo(h){if("string"==typeof h){const b=h.split("/"),[p,z]=b;return p&&z&&2===b.length?{owner:p,repo:z}:{owner:void 0,repo:void 0}}return h??{owner:void 0,repo:void 0}}static{this.\u0275fac=function(b){return new(b||g)(t.rXU(W.nX),t.rXU(It.il),t.rXU(gt.m),t.rXU(yt.H),t.rXU(I.N),t.rXU(F.P))}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["ng-component"]],features:[t.Vt3],decls:47,vars:59,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[3,"controls","integration"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab","description"],[1,"title-field"],["type","text","matInput","","required","",3,"formControl"],[4,"ngIf"],[1,"description-field"],["matInput","","rows","5",3,"placeholder","formControl"],["type","button","mat-flat-button","","color","accent",3,"click","disabled"],["diameter","24",4,"ngIf"],[3,"matTooltip"],["type","button","mat-flat-button","","color","primary",3,"click","disabled"],[3,"label",4,"ngIf"],[1,"tab"],[3,"commits"],[3,"fromCommitId","toCommitId","patches"],["disabled",""],["mat-tab-label",""],[1,"disabled-tab",3,"matTooltip"],["diameter","24"]],template:function(b,p){1&b&&(t.j41(0,"header")(1,"button",0),t.bIt("click",function(){return p.close()}),t.j41(2,"mat-icon"),t.EFF(3,"arrow_back"),t.k0s()(),t.j41(4,"span",1),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"main"),t.nrm(8,"app-pull-request-select-view",2),t.j41(9,"mat-tab-group",3)(10,"mat-tab",4),t.nI1(11,"translate"),t.j41(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.nrm(17,"input",7),t.DNE(18,de,3,3,"mat-error",8),t.k0s(),t.j41(19,"mat-form-field",9),t.nrm(20,"textarea",10),t.nI1(21,"translate"),t.k0s()()(),t.DNE(22,l,3,2,"ng-container",8),t.nI1(23,"async"),t.DNE(24,d,5,0,"ng-container",8),t.nI1(25,"async"),t.k0s()(),t.j41(26,"footer")(27,"button",11),t.nI1(28,"async"),t.nI1(29,"async"),t.nI1(30,"async"),t.bIt("click",function(){return p.openCompareInBrowser()}),t.DNE(31,M,1,0,"mat-spinner",12),t.nI1(32,"async"),t.DNE(33,A,3,3,"span",8),t.nI1(34,"async"),t.k0s(),t.j41(35,"span",13),t.nI1(36,"async"),t.nI1(37,"translate"),t.nI1(38,"translate"),t.j41(39,"button",14),t.nI1(40,"async"),t.nI1(41,"async"),t.nI1(42,"async"),t.bIt("click",function(){return p.createPullRequest()}),t.DNE(43,ut,1,0,"mat-spinner",12),t.nI1(44,"async"),t.DNE(45,mt,3,3,"span",8),t.nI1(46,"async"),t.k0s()()()),2&b&&(t.R7$(5),t.JRh(t.bMT(6,21,"Create Pull Request")),t.R7$(3),t.Y8G("controls",p.form.controls)("integration",p.integration),t.R7$(),t.Y8G("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.R7$(),t.FS9("label",t.bMT(11,23,"Description")),t.R7$(5),t.JRh(t.bMT(16,25,"Title")),t.R7$(2),t.Y8G("formControl",p.form.controls.title),t.R7$(),t.Y8G("ngIf",p.form.controls.title.hasError("required")),t.R7$(2),t.FS9("placeholder",t.bMT(21,27,"Leave a comment...")),t.Y8G("formControl",p.form.controls.description),t.R7$(2),t.Y8G("ngIf",t.bMT(23,29,p.compare)),t.R7$(2),t.Y8G("ngIf",void 0===t.bMT(25,31,p.compare)),t.R7$(3),t.Y8G("disabled",t.bMT(28,33,p.loadingCompare)||void 0===t.bMT(29,35,p.compare)||null===t.bMT(30,37,p.compare)),t.R7$(4),t.Y8G("ngIf",t.bMT(32,39,p.loadingCompare)),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(34,41,p.loadingCompare)),t.R7$(2),t.Y8G("matTooltip",void 0===t.bMT(36,43,p.compare)?t.bMT(37,45,"Select valid branches to compare"):p.form.invalid?t.bMT(38,47,"Title is required"):""),t.R7$(4),t.Y8G("disabled",p.form.invalid||t.bMT(40,49,p.loadingCompare)||void 0===t.bMT(41,51,p.compare)||t.bMT(42,53,p.creatingPullRequest)),t.R7$(4),t.Y8G("ngIf",t.bMT(44,55,p.creatingPullRequest)),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(46,57,p.creatingPullRequest)))},dependencies:[X.rl,X.nJ,X.TL,$.fg,f.LG,n.ES,n.mq,n.T8,_.bT,y.me,y.BC,y.YS,y.l_,w.$z,w.iY,m.An,x.oV,te,ht,qt,_.Jj,at.D],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   app-pull-request-select-view[_ngcontent-%COMP%]{flex:0 0 auto}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px;height:calc(100% - 15px)}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;justify-content:stretch}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}"],changeDetection:0})}}return g})();var Dt=i(7468),Gt=i(6697),re=i(5596),ge=i(5458);const he=g=>({count:g});function ue(g,xt){1&g&&t.nrm(0,"mat-spinner")}function _e(g,xt){if(1&g&&(t.j41(0,"mat-card",24),t.EFF(1),t.k0s()),2&g){const h=t.XpG().ngIf;t.R7$(),t.JRh(h.description)}}function fe(g,xt){if(1&g&&(t.j41(0,"mat-tab",9),t.nI1(1,"translate"),t.j41(2,"div",10),t.nrm(3,"app-pull-request-commits-view",25),t.k0s()()),2&g){const h=t.XpG().ngIf;t.FS9("label",t.i5U(1,2,"Commits (_count_)",t.eq3(5,he,h.commits.length))),t.R7$(3),t.Y8G("commits",h.commits)}}function be(g,xt){1&g&&(t.nrm(0,"mat-tab",26),t.nI1(1,"translate")),2&g&&t.FS9("label",t.bMT(1,1,"Commits"))}function Ce(g,xt){if(1&g&&(t.j41(0,"mat-tab",9),t.nI1(1,"translate"),t.nrm(2,"app-pull-request-patches-view",27),t.k0s()),2&g){const h=t.XpG().ngIf;t.FS9("label",t.i5U(1,4,"Files changed (_count_)",t.eq3(7,he,h.patches.length))),t.R7$(2),t.Y8G("fromCommitId",h.fromCommitId)("toCommitId",h.toCommitId)("patches",h.patches)}}function Me(g,xt){1&g&&(t.nrm(0,"mat-tab",26),t.nI1(1,"translate")),2&g&&t.FS9("label",t.bMT(1,1,"Files changed"))}function Pe(g,xt){if(1&g&&(t.qex(0),t.j41(1,"span",7),t.EFF(2),t.k0s(),t.j41(3,"mat-tab-group",8)(4,"mat-tab",9),t.nI1(5,"translate"),t.j41(6,"div",10)(7,"div",11)(8,"mat-form-field",12)(9,"mat-label"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.nrm(12,"input",13),t.k0s(),t.j41(13,"mat-form-field",14)(14,"mat-label"),t.EFF(15),t.nI1(16,"translate"),t.k0s(),t.nrm(17,"input",13),t.k0s(),t.j41(18,"mat-icon"),t.EFF(19,"arrow_back"),t.k0s(),t.j41(20,"mat-form-field",15)(21,"mat-label"),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.nrm(24,"input",13),t.k0s(),t.j41(25,"mat-form-field",16)(26,"mat-label"),t.EFF(27),t.nI1(28,"translate"),t.k0s(),t.nrm(29,"input",13),t.k0s()(),t.j41(30,"div",17)(31,"div",18),t.EFF(32),t.nI1(33,"translate"),t.nrm(34,"img",19),t.j41(35,"span",20),t.EFF(36),t.k0s(),t.nrm(37,"br"),t.k0s(),t.j41(38,"div",21),t.nI1(39,"translateDate"),t.EFF(40),t.nI1(41,"translate"),t.j41(42,"span",20),t.EFF(43),t.nI1(44,"translateDate"),t.k0s(),t.EFF(45),t.nI1(46,"translate"),t.j41(47,"span",20),t.EFF(48),t.nI1(49,"translateDate"),t.k0s()()(),t.DNE(50,_e,2,1,"mat-card",22),t.k0s()(),t.DNE(51,fe,4,7,"mat-tab",23)(52,be,2,3,"ng-template",null,0,t.C5r)(54,Ce,3,9,"mat-tab",23)(55,Me,2,3,"ng-template",null,1,t.C5r),t.k0s(),t.bVm()),2&g){const h=xt.ngIf,b=t.sdS(53),p=t.sdS(56);t.R7$(2),t.JRh(h.title),t.R7$(),t.Y8G("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.R7$(),t.FS9("label",t.bMT(5,28,"!pull request! Details")),t.R7$(6),t.JRh(t.bMT(11,30,"Base Repository")),t.R7$(2),t.Y8G("value",h.toOwner+"/"+h.toRepo),t.R7$(3),t.JRh(t.bMT(16,32,"Base Branch")),t.R7$(2),t.Y8G("value",h.toBranch),t.R7$(5),t.JRh(t.bMT(23,34,"Head Repository")),t.R7$(2),t.Y8G("value",h.fromOwner+"/"+h.fromRepo),t.R7$(3),t.JRh(t.bMT(28,36,"Head Branch")),t.R7$(2),t.Y8G("value",h.fromBranch),t.R7$(2),t.Y8G("matTooltip",h.authorName),t.R7$(),t.SpI(" ",t.bMT(33,38,"authored by")," "),t.R7$(2),t.Y8G("src",h.authorAvatar,t.B4B)("matTooltip",h.authorName),t.R7$(2),t.JRh(h.authorName),t.R7$(2),t.Y8G("matTooltip",t.i5U(39,40,h.date,"z")||""),t.R7$(2),t.SpI(" ",t.bMT(41,43,"on !date!")," "),t.R7$(3),t.JRh(t.i5U(44,45,h.date,"longDate")),t.R7$(2),t.SpI(" ",t.bMT(46,48,"at !time!")," "),t.R7$(3),t.JRh(t.i5U(49,50,h.date,"HH:mm")),t.R7$(2),t.Y8G("ngIf",h.description),t.R7$(),t.Y8G("ngIf",h.commits)("ngIfElse",b),t.R7$(3),t.Y8G("ngIf",h.patches)("ngIfElse",p)}}function ve(g,xt){1&g&&t.nrm(0,"mat-spinner",28)}function Oe(g,xt){1&g&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&g&&(t.R7$(),t.JRh(t.bMT(2,1,"View in browser")))}let xe=(()=>{class g extends((0,pt.c)(et.N)){constructor(h,b,p,z,Y,_t){super(),this.route=h,this.store=b,this.commitsApi=p,this.bitbucketApiService=z,this.gitHubApiService=Y,this.gitLabApiService=_t,this.pullRequest=new u.t(void 0),this.loading=new u.t(!1)}ngOnInit(){const h=this.route.snapshot.paramMap.get("type");if("bitbucket"!==h&&"github"!==h&&"gitlab"!==h)throw new ot.wQ(h);const b=this.route.snapshot.paramMap.get("owner")??"",p=this.route.snapshot.paramMap.get("repo")??"",z=this.route.snapshot.paramMap.get("id")??"",Y=this.store.selectSnapshot(vt.s.selectedRepositoryPath);if(!Y)throw new ot.Jf;let _t;switch(h){case"bitbucket":_t=this.bitbucketApiService.getPullRequest(b,p,parseInt(z,10)).pipe((0,q.n)(nt=>{if(!nt)return(0,U.of)(null);const[Tt,St]=nt.source.repository.full_name.split("/")??[],$t=nt.source.commit.hash,[Ut,Wt]=nt.destination.repository.full_name.split("/")??[],Xt=nt.destination.commit.hash;if(!(Tt&&St&&Ut&&Wt))return(0,U.of)(null);const Ft={url:nt.links.html.href,title:nt.title,description:nt.description,authorName:nt.author.display_name,authorAvatar:nt.author.links.avatar.href,date:new Date(nt.created_on),fromOwner:Tt,fromRepo:St,fromBranch:nt.source.branch.name,fromCommitId:$t,toOwner:Ut,toRepo:Wt,toBranch:nt.destination.branch.name,toCommitId:Xt};return this.bitbucketApiService.getPullRequestCommits(b,p,parseInt(z,10)).pipe((0,q.n)(jt=>jt?this.commitsApi.compareCommits(Y,$t,Xt).pipe((0,V.T)(At=>({...Ft,commits:jt.values.map(Jt=>Jt.hash),patches:At}))):(0,U.of)(Ft)))}));break;case"github":_t=this.gitHubApiService.getPullRequest(b,p,parseInt(z,10)).pipe((0,q.n)(nt=>{if(!nt)return(0,U.of)(null);const[Tt,St]=nt.head.repo.full_name.split("/")??[],$t=nt.head.sha,[Ut,Wt]=nt.base.repo.full_name.split("/")??[],Xt=nt.base.sha;if(!(Tt&&St&&Ut&&Wt))return(0,U.of)(null);const Ft={url:nt.html_url,title:nt.title,description:nt.body,authorName:nt.user.login,authorAvatar:nt.user.avatar_url,date:new Date(nt.created_at),fromOwner:Tt,fromRepo:St,fromBranch:nt.head.ref,fromCommitId:$t,toOwner:Ut,toRepo:Wt,toBranch:nt.base.ref,toCommitId:Xt};return this.gitHubApiService.getPullRequestCommits(b,p,parseInt(z,10)).pipe((0,q.n)(jt=>jt&&jt.length<250?this.commitsApi.compareCommits(Y,$t,Xt).pipe((0,V.T)(At=>({...Ft,commits:jt.map(Jt=>Jt.sha),patches:At}))):(0,U.of)(Ft)))}));break;case"gitlab":_t=this.gitLabApiService.getMergeRequest(b,p,parseInt(z,10)).pipe((0,q.n)(nt=>nt?(0,Dt.p)([this.gitLabApiService.getProjectById(nt.source_project_id),this.gitLabApiService.getProjectById(nt.target_project_id)]).pipe((0,V.T)(([Tt,St])=>Tt&&St?{source:Tt,target:St,pullRequest:nt}:null)):(0,U.of)(null)),(0,q.n)(nt=>{if(!nt)return(0,U.of)(null);const[Tt,St]=nt.source.path_with_namespace.split("/")??[],$t=nt.pullRequest.diff_refs.head_sha,[Ut,Wt]=nt.target.path_with_namespace.split("/")??[],Xt=nt.pullRequest.diff_refs.base_sha;if(!(Tt&&St&&Ut&&Wt))return(0,U.of)(null);const Ft={url:nt.pullRequest.web_url,title:nt.pullRequest.title,description:nt.pullRequest.description,authorName:nt.pullRequest.author.name,authorAvatar:nt.pullRequest.author.avatar_url,date:new Date(nt.pullRequest.created_at),fromOwner:Tt,fromRepo:St,fromBranch:nt.pullRequest.source_branch,fromCommitId:$t,toOwner:Ut,toRepo:Wt,toBranch:nt.pullRequest.target_branch,toCommitId:Xt};return this.gitLabApiService.getPullRequestCommits(b,p,parseInt(z,10)).pipe((0,q.n)(jt=>jt?this.commitsApi.compareCommits(Y,$t,Xt).pipe((0,V.T)(At=>({...Ft,commits:jt.map(Jt=>Jt.id),patches:At}))):(0,U.of)(Ft)))}));break;default:throw new Error(`Check not exhaustive '${h}'.`)}this.loading.next(!0),_t.pipe((0,H.W)(Ot=>ot.z9.matches(Ot)?(0,U.of)(null):(0,B.$)(()=>Ot)),(0,Gt.s)(1),(0,st.Q)(this.destroyed$),(0,Ct.j)(()=>{this.loading.next(!1)})).subscribe(Ot=>{this.pullRequest.next(Ot)})}openInBrowser(){const h=this.pullRequest.value?.url;h&&window.open(h)}close(){history.back()}static{this.\u0275fac=function(b){return new(b||g)(t.rXU(W.nX),t.rXU(It.il),t.rXU(gt.m),t.rXU(yt.H),t.rXU(I.N),t.rXU(F.P))}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["ng-component"]],features:[t.Vt3],decls:20,vars:20,consts:[["emptyCommitsTab",""],["emptyPatchesTab",""],["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[4,"ngIf"],["type","button","mat-flat-button","","color","accent",3,"click","disabled"],["diameter","24",4,"ngIf"],[1,"mat-headline-4","title"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab"],[1,"repos"],["subscriptSizing","dynamic",1,"to-repo"],["type","text","matInput","","readonly","",3,"value"],["subscriptSizing","dynamic",1,"to-branch"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],[1,"created"],[1,"author",3,"matTooltip"],[1,"avatar",3,"src","matTooltip"],[1,"highlight"],[1,"date",3,"matTooltip"],["class","description",4,"ngIf"],[3,"label",4,"ngIf","ngIfElse"],[1,"description"],[3,"commits"],["disabled","",3,"label"],[3,"fromCommitId","toCommitId","patches"],["diameter","24"]],template:function(b,p){1&b&&(t.j41(0,"header")(1,"button",2),t.bIt("click",function(){return p.close()}),t.j41(2,"mat-icon"),t.EFF(3,"arrow_back"),t.k0s()(),t.j41(4,"span",3),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.j41(7,"main"),t.DNE(8,ue,1,0,"mat-spinner",4),t.nI1(9,"async"),t.DNE(10,Pe,57,53,"ng-container",4),t.nI1(11,"async"),t.k0s(),t.j41(12,"footer")(13,"button",5),t.nI1(14,"async"),t.nI1(15,"async"),t.bIt("click",function(){return p.openInBrowser()}),t.DNE(16,ve,1,0,"mat-spinner",6),t.nI1(17,"async"),t.DNE(18,Oe,3,3,"span",4),t.nI1(19,"async"),t.k0s()()),2&b&&(t.R7$(5),t.JRh(t.bMT(6,6,"Viewing Pull Request")),t.R7$(3),t.Y8G("ngIf",t.bMT(9,8,p.loading)),t.R7$(2),t.Y8G("ngIf",t.bMT(11,10,p.pullRequest)),t.R7$(3),t.Y8G("disabled",t.bMT(14,12,p.loading)||null===t.bMT(15,14,p.pullRequest)),t.R7$(3),t.Y8G("ngIf",t.bMT(17,16,p.loading)),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(19,18,p.loading)))},dependencies:[X.rl,X.nJ,$.fg,f.LG,n.mq,n.T8,_.bT,w.$z,w.iY,re.RN,m.An,x.oV,te,ht,_.Jj,ge.J,at.D],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-bottom:20px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-repo[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-branch[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]{margin-bottom:20px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:inline-block}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:10%;width:auto;height:1.5625rem;aspect-ratio:1/1;margin:0 3px 0 5px;vertical-align:bottom}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-left:5px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding:10px}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px;height:calc(100% - 15px)}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return g})();var Ie=i(9196);let me=(()=>{class g{constructor(h,b){this.router=h,this.authService=b}canActivate(){return"pro"===this.authService.accessLevel.value||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(b){return new(b||g)(t.KVO(W.Ix),t.KVO(Ie.u))}}static{this.\u0275prov=t.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),le=(()=>{class g{constructor(h,b){this.router=h,this.store=b}canActivate(){return!!this.store.selectSnapshot(vt.s.selectedRepositoryPath)||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(b){return new(b||g)(t.KVO(W.Ix),t.KVO(It.il))}}static{this.\u0275prov=t.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var ce=i(1635),ye=i(3726),Te=i(5530),ke=i(634),Ee=i(3103),Re=i(4668),we=i(2930),pe=i(8523),De=i(8134);function Fe(g,xt){1&g&&(t.j41(0,"mat-icon",10),t.EFF(1,"folder"),t.k0s())}function Le(g,xt){1&g&&t.nrm(0,"mat-spinner",11)}function Se(g,xt){if(1&g){const h=t.RV6();t.j41(0,"a",5),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.bIt("mouseup",function(p){const z=t.eBV(h).$implicit,Y=t.XpG();return t.Njj(Y.tabClicked(p,z))})("dragstart",function(p){const z=t.eBV(h),Y=z.$implicit,_t=z.index,Ot=t.XpG();return t.Njj(Ot.dragstartListener(p,Y,_t))})("dragleave",function(){t.eBV(h);const p=t.XpG();return t.Njj(p.dragOverRepositoryIndex.next(null))})("dragover",function(p){const z=t.eBV(h).index,Y=t.XpG();return t.Njj(Y.dragoverListener(p,z))})("drop",function(p){const z=t.eBV(h).index,Y=t.XpG();return t.Njj(Y.dropListener(p,z))}),t.DNE(4,Fe,2,0,"mat-icon",6)(5,Le,1,0,"mat-spinner",7),t.j41(6,"span",8),t.EFF(7),t.k0s(),t.j41(8,"mat-icon",9),t.bIt("click",function(){const p=t.eBV(h).$implicit,z=t.XpG();return t.Njj(z.closeRepository(p.path))}),t.EFF(9,"close"),t.k0s()()}if(2&g){const h=xt.$implicit,b=xt.index,p=t.XpG();t.AVh("border-left",t.bMT(1,11,p.hasLeftBorder(b)))("border-right",t.bMT(2,13,p.hasRightBorder(b))),t.Y8G("matTooltip",h.path)("active",t.bMT(3,15,p.selectedRepositoryPath)===h.path),t.R7$(4),t.Y8G("ngIf",h.loaded),t.R7$(),t.Y8G("ngIf",!h.loaded),t.R7$(),t.AVh("disabled",!h.loaded),t.R7$(),t.JRh(h.name)}}function Ae(g,xt){if(1&g){const h=t.RV6();t.j41(0,"a",12),t.nI1(1,"translate"),t.nI1(2,"async"),t.bIt("mouseup",function(p){t.eBV(h);const z=t.XpG();return t.Njj(z.changelogClicked(p))}),t.j41(3,"mat-icon",10),t.EFF(4,"auto_awesome"),t.k0s(),t.j41(5,"span",8),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"mat-icon",13),t.bIt("mouseup",function(p){t.eBV(h);const z=t.XpG();return t.Njj(z.closeChangelogClicked(p))}),t.EFF(9,"close"),t.k0s()()}if(2&g){const h=t.XpG();t.Y8G("matTooltip",t.bMT(1,3,"See whats new! !release notes!"))("active",h.isChangelogUrl()&&null===t.bMT(2,5,h.selectedRepositoryPath)),t.R7$(6),t.JRh(t.bMT(7,7,"Release Notes"))}}let Be=(()=>{class g extends((0,pt.c)(et.N)){documentKeydown(h){if(!h.isComposing&&(we.c?h.metaKey:h.ctrlKey)&&!h.altKey&&!h.metaKey)switch(h.key){case"W":case"w":if(!h.shiftKey){const b=this.store.selectSnapshot(vt.s.selectedRepositoryPath);b&&this.closeRepository(b)}break;case"T":case"t":h.shiftKey||this.openNewRepository();break;case"Tab":{const b=this.store.selectSnapshot(vt.s.selectedRepositoryPath);this.visibleRepositories.pipe((0,Gt.s)(1)).subscribe(p=>{const z=b?p.findIndex(_t=>_t.path===b):p.length;if(z<0)throw new ot.wN(b??"");let Y=z+(h.shiftKey?-1:1);Y>=p.length?Y=0:Y<0&&(Y=p.length-1),this.changeRepository(p[Y]?.path??null)});break}}}documentMouseDown(h){1===h.button&&h.preventDefault()}constructor(h,b,p,z){super(),this.cdr=h,this.router=b,this.store=p,this.updatesApiService=z,this.inkBarAnimationDisabled=new u.t(!1),this.dragRepositoryIndex=null,this.dragOverRepositoryIndex=new u.t(null),this.dragPosition=new u.t(null),this.dragstartListener=(Y,_t,Ot)=>{Y.dataTransfer&&(Y.dataTransfer.setData("app/repository",_t.path),Y.dataTransfer.setData("app/repository-tab",_t.path),Y.dataTransfer.effectAllowed="move",this.dragRepositoryIndex=Ot)},this.dragoverListener=(Y,_t)=>{if(Y.dataTransfer&&Y.dataTransfer.types.includes("app/repository")){Y.preventDefault(),Y.dataTransfer.dropEffect="move",this.dragOverRepositoryIndex.value!==_t&&this.dragOverRepositoryIndex.next(_t);const Ot=Y.target;if(Ot.draggable){const nt=this.getDragoverPosition(Y.offsetX,Ot.clientWidth);this.dragPosition.value!==nt&&this.dragPosition.next(nt)}}},this.dropListener=(Y,_t)=>{if(Y.dataTransfer&&Y.dataTransfer.types.includes("app/repository-tab")){this.dragOverRepositoryIndex.value!==_t&&this.dragOverRepositoryIndex.next(_t);const Ot=Y.target;if(Ot.draggable){const nt=this.getDragoverPosition(Y.offsetX,Ot.clientWidth);this.dragPosition.value!==nt&&this.dragPosition.next(nt)}Y.preventDefault(),(0,C.z)([this.openOrLoadingRepositories,this.visibleRepositories]).pipe((0,st.Q)(this.destroyed$),(0,Gt.s)(1)).subscribe(([nt,Tt])=>{const St=_t+("right"===this.dragPosition.value?1:0);if(null!==this.dragRepositoryIndex&&St>=0){const $t=Tt[this.dragRepositoryIndex]?.path,Ut=Tt[St]?.path,Wt=nt.findIndex(At=>At.path===$t),Xt=Ut?nt.findIndex(At=>At.path===Ut):nt.length,Ft=Wt>Xt?[...nt.slice(0,Xt),nt[Wt],...nt.filter((At,Jt)=>Jt!==Wt).slice(Xt)]:Wt<Xt?[...nt.slice(0,Xt).filter((At,Jt)=>Jt!==Wt),nt[Wt],...nt.slice(Xt)]:nt;this.inkBarAnimationDisabled.next(!0);const jt=Ft.map(At=>At?.path).filter(ft.O9);this.store.dispatch(new Et.c9(jt)).pipe((0,Ee.c)(250)).subscribe(()=>this.inkBarAnimationDisabled.next(!1))}})}this.dragRepositoryIndex=null,this.dragOverRepositoryIndex.next(null),this.dragPosition.next(null)},this.hasLeftBorder=Y=>(0,C.z)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,V.T)(([_t,Ot])=>_t===Y&&"left"===Ot||_t===Y-1&&"right"===Ot)),this.hasRightBorder=Y=>(0,C.z)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,V.T)(([_t,Ot])=>_t===Y&&"right"===Ot||_t===Y+1&&"left"===Ot)),this.getDragoverPosition=(Y,_t)=>Y/_t<.5?"left":"right"}ngOnInit(){this.visibleRepositories=(0,C.z)([this.openOrLoadingRepositories,this.profile]).pipe((0,V.T)(([h,b])=>b&&"all"!==b.allowedRepositories?h.filter(p=>b.allowedRepositories.includes(p.path)):h),(0,st.Q)(this.destroyed$),(0,Re.t)(1)),this.hasUnreadChangelog=this.store.select(pe.QP.changelogReadUpto).pipe((0,q.n)(h=>this.updatesApiService.getVersion().pipe((0,V.T)(b=>{if(!h)return!1;const[p,z,Y]=b.replace(/-.*$/,"").split(".").map(St=>+St),[_t,Ot,nt]=h.replace(/-.*$/,"").split(".").map(St=>+St),Tt=void 0===p||void 0===z||void 0===_t||void 0===Ot||_t<p||Ot<z;return Tt&&this.openChangelog(),Tt}))))}ngAfterViewInit(){setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},100),setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},1e3)}trackRepository(h,b){return b.path}tabClicked(h,b){switch(h.button){case 0:b.loaded&&this.changeRepository(b.path);break;case 1:this.closeRepository(b.path)}}changeRepository(h){this.store.dispatch(new Et.Yn(h)).subscribe(()=>{this.router.navigate(["/standard/default"])})}closeRepository(h){this.store.dispatch(new Et.Bx(h))}isChangelogUrl(){return"/standard/changelog"===this.router.url}changelogClicked(h){switch(h.button){case 0:this.openChangelog();break;case 1:this.closeChangelog()}}closeChangelogClicked(h){0===h.button&&(this.closeChangelog(),h.preventDefault(),h.stopPropagation())}openChangelog(){this.store.dispatch(new Et.Yn(null)).subscribe(()=>{this.router.navigate(["/standard/changelog"])})}closeChangelog(){this.updatesApiService.getVersion().subscribe(h=>{this.store.dispatch(new pe.px(h)).subscribe(()=>{this.router.navigate(["/standard/default"])})})}openNewRepository(){this.store.dispatch(new Et.Yn(null)).subscribe(()=>{this.router.navigate(["/standard/open-repository"])})}static{this.\u0275fac=function(b){return new(b||g)(t.rXU(t.gRc),t.rXU(W.Ix),t.rXU(It.il),t.rXU(De.I))}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["app-repository-tabs-view"]],viewQuery:function(b,p){if(1&b&&t.GBs(n.Bu,5),2&b){let z;t.mGM(z=t.lsd())&&(p.matTabNav=z.first)}},hostBindings:function(b,p){1&b&&t.bIt("keydown",function(Y){return p.documentKeydown(Y)},!1,t.EBC)("mousedown",function(Y){return p.documentMouseDown(Y)},!1,t.EBC)},features:[t.Vt3],decls:13,vars:20,consts:[["tabPanel",""],["mat-tab-nav-bar","",3,"tabPanel","mat-stretch-tabs","disablePagination"],["mat-tab-link","","draggable","true",3,"border-left","border-right","matTooltip","active","mouseup","dragstart","dragleave","dragover","drop",4,"ngFor","ngForOf","ngForTrackBy"],["mat-tab-link","","class","changelog-link",3,"matTooltip","active","mouseup",4,"ngIf"],["mat-tab-link","",1,"new-tab-link",3,"click","matTooltip","active"],["mat-tab-link","","draggable","true",3,"mouseup","dragstart","dragleave","dragover","drop","matTooltip","active"],["class","prefix",4,"ngIf"],["class","prefix disabled","diameter","18",4,"ngIf"],[1,"name"],["draggable","false",1,"suffix",3,"click"],[1,"prefix"],["diameter","18",1,"prefix","disabled"],["mat-tab-link","",1,"changelog-link",3,"mouseup","matTooltip","active"],[1,"suffix",3,"mouseup"]],template:function(b,p){if(1&b){const z=t.RV6();t.j41(0,"nav",1),t.nI1(1,"async"),t.DNE(2,Se,10,17,"a",2),t.nI1(3,"async"),t.DNE(4,Ae,10,9,"a",3),t.nI1(5,"async"),t.j41(6,"a",4),t.nI1(7,"translate"),t.nI1(8,"async"),t.bIt("click",function(){return t.eBV(z),t.Njj(p.openNewRepository())}),t.j41(9,"mat-icon"),t.EFF(10,"add"),t.k0s()()(),t.nrm(11,"mat-tab-nav-panel",null,0)}if(2&b){const z=t.sdS(12);t.AVh("ink-bar-animation-disabled",t.bMT(1,10,p.inkBarAnimationDisabled)),t.Y8G("tabPanel",z)("mat-stretch-tabs",!1)("disablePagination",!0),t.R7$(2),t.Y8G("ngForOf",t.bMT(3,12,p.visibleRepositories))("ngForTrackBy",p.trackRepository),t.R7$(2),t.Y8G("ngIf",p.isChangelogUrl()||t.bMT(5,14,p.hasUnreadChangelog)),t.R7$(2),t.Y8G("matTooltip",t.bMT(7,16,"Open a new repository"))("active",!p.isChangelogUrl()&&null===t.bMT(8,18,p.selectedRepositoryPath))}},dependencies:[_.Sq,_.bT,m.An,x.oV,f.LG,n.Bu,n.hQ,n.Ql,_.Jj,at.D],styles:['nav.ink-bar-animation-disabled[_ngcontent-%COMP%]     .mat-ink-bar{transition:none!important}.mat-mdc-tab-link[_ngcontent-%COMP%]{position:relative;padding:0 18px;min-width:120px}.mat-mdc-tab-link[_ngcontent-%COMP%]     .mdc-tab__content{pointer-events:initial}.mat-mdc-tab-link[_ngcontent-%COMP%]:before, .mat-mdc-tab-link[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;height:100%;width:1px;margin:0;padding:0;border:none;background-color:transparent;top:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:before{left:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:after{right:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:first-child:before{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]:nth-last-child(2):after{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{margin-right:10px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{pointer-events:none}.mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{margin-left:5px;z-index:1}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.new-tab-link[_ngcontent-%COMP%]{min-width:48px}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#ffffff80}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#00000061}'],changeDetection:0})}}return(0,ce.Cg)([(0,It.l6)(vt.s.selectedRepositoryPath)],g.prototype,"selectedRepositoryPath",void 0),(0,ce.Cg)([(0,It.l6)(vt.s.openOrLoadingRepositories)],g.prototype,"openOrLoadingRepositories",void 0),(0,ce.Cg)([(0,It.l6)(Lt.d.selectedProfile)],g.prototype,"profile",void 0),g})();const je=["header"],Ve=()=>["/settings"];function $e(g,xt){if(1&g&&t.nrm(0,"app-avatar",7),2&g){const h=t.XpG().ngIf;t.Y8G("email",h.email)}}function Ge(g,xt){if(1&g&&(t.j41(0,"span"),t.DNE(1,$e,1,1,"app-avatar",6),t.EFF(2),t.k0s()),2&g){const h=xt.ngIf;t.R7$(),t.Y8G("ngIf",h.email),t.R7$(),t.SpI(" ",h.profileName," ")}}function Ue(g,xt){if(1&g&&t.nrm(0,"app-avatar",10),2&g){const h=t.XpG().$implicit;t.Y8G("email",h.value.email)}}function Ne(g,xt){if(1&g&&(t.j41(0,"mat-option",8),t.DNE(1,Ue,1,1,"app-avatar",9),t.EFF(2),t.k0s()),2&g){const h=xt.$implicit;t.Y8G("value",h.key),t.R7$(),t.Y8G("ngIf",h.value.email),t.R7$(),t.SpI(" ",h.value.profileName," ")}}const We=[{path:"",component:(()=>{class g extends((0,pt.c)(et.N)){constructor(h){super(),this.store=h,this.selectedProfileControl=new y.MJ(null)}ngOnInit(){this.selectedProfileId.pipe((0,st.Q)(this.destroyed$)).subscribe(h=>{this.selectedProfileControl.setValue(h,{emitEvent:!1})}),this.selectedProfileControl.valueChanges.pipe((0,st.Q)(this.destroyed$)).subscribe(h=>{null!==h&&this.store.dispatch(new Te.N5(h))}),(0,ye.R)(this.headerElement.nativeElement,"wheel",{passive:!0}).pipe((0,st.Q)(this.destroyed$)).subscribe(h=>{this.headerElement.nativeElement.scrollLeft+=h.deltaY})}static{this.\u0275fac=function(b){return new(b||g)(t.rXU(It.il))}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["ng-component"]],viewQuery:function(b,p){if(1&b&&t.GBs(je,7),2&b){let z;t.mGM(z=t.lsd())&&(p.headerElement=z.first)}},features:[t.Vt3],decls:19,vars:17,consts:[["header",""],["subscriptSizing","dynamic",1,"profile-selector"],[3,"formControl"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"settings-icon",3,"routerLink","matTooltip"],[3,"email",4,"ngIf"],[3,"email"],[3,"value"],["class","profile-select-avatar",3,"email",4,"ngIf"],[1,"profile-select-avatar",3,"email"]],template:function(b,p){1&b&&(t.j41(0,"header",null,0),t.nrm(2,"app-repository-tabs-view"),t.j41(3,"mat-form-field",1)(4,"mat-label"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"mat-select",2)(8,"mat-select-trigger"),t.DNE(9,Ge,3,2,"span",3),t.nI1(10,"async"),t.k0s(),t.DNE(11,Ne,3,3,"mat-option",4),t.nI1(12,"async"),t.nI1(13,"keyvalue"),t.k0s()(),t.j41(14,"mat-icon",5),t.nI1(15,"translate"),t.EFF(16,"settings"),t.k0s()(),t.nrm(17,"router-outlet")(18,"app-notification-tray-view")),2&b&&(t.R7$(5),t.JRh(t.bMT(6,6,"Select Profile")),t.R7$(2),t.Y8G("formControl",p.selectedProfileControl),t.R7$(2),t.Y8G("ngIf",t.bMT(10,8,p.selectedProfile)),t.R7$(2),t.Y8G("ngForOf",t.bMT(13,12,t.bMT(12,10,p.profiles))),t.R7$(3),t.Y8G("routerLink",t.lJ4(16,Ve))("matTooltip",t.bMT(15,14,"Settings")))},dependencies:[X.rl,X.nJ,r.VO,r.$2,P.wT,_.Sq,_.bT,y.BC,y.l_,m.An,x.oV,Kt.f,ke.I,Be,W.n3,W.Wk,_.Jj,_.lG,at.D],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;height:50px;min-height:50px;border-bottom:1px solid transparent;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:1px}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]{flex:1 0 auto}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]     .mat-mdc-tab-nav-bar{border:none}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]{flex:0 0 200px;margin-right:12px;margin-top:8px;height:38px}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{height:15px;vertical-align:middle;font-size:0}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:7px 0;min-height:38px}header[_ngcontent-%COMP%]   .settings-icon[_ngcontent-%COMP%]{flex:0 0 auto;margin:12px;cursor:pointer}app-notification-tray-view[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px;margin-right:10px;margin-top:10px;z-index:1000}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#ffffff1f}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#0000001f}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}"],changeDetection:0})}}return(0,ce.Cg)([(0,It.l6)(Lt.d.profiles)],g.prototype,"profiles",void 0),(0,ce.Cg)([(0,It.l6)(Lt.d.selectedProfileId)],g.prototype,"selectedProfileId",void 0),(0,ce.Cg)([(0,It.l6)(Lt.d.selectedProfile)],g.prototype,"selectedProfile",void 0),(0,ce.Cg)([(0,It.l6)(vt.s.selectedRepositoryPath)],g.prototype,"selectedRepositoryPath",void 0),g})(),children:[{path:"blame",canActivate:[le],loadChildren:()=>i.e(247).then(i.bind(i,3247)).then(g=>g.BlameLayoutModule)},{path:"changelog",loadChildren:()=>i.e(586).then(i.bind(i,3586)).then(g=>g.ChangelogLayoutModule)},{path:"default",canActivate:[le],loadChildren:()=>Promise.all([i.e(454),i.e(24),i.e(76)]).then(i.bind(i,7076)).then(g=>g.DefaultLayoutModule)},{path:"open-repository",loadChildren:()=>Promise.all([i.e(454),i.e(7),i.e(284)]).then(i.bind(i,5284)).then(g=>g.OpenRepositoryLayoutModule)},{path:"pull-request/create/:type/:integrationId",canActivate:[le,me],component:Qt},{path:"pull-request/view/:type/:owner/:repo/:id",canActivate:[le,me],component:xe},{path:"rebase",canActivate:[le],loadChildren:()=>Promise.all([i.e(24),i.e(701)]).then(i.bind(i,5701)).then(g=>g.RebaseLayoutModule)},{path:"search",canActivate:[le],loadChildren:()=>Promise.all([i.e(454),i.e(572)]).then(i.bind(i,3572)).then(g=>g.SearchLayoutModule)},{path:"",redirectTo:"default",pathMatch:"full"}]}];let Ke=(()=>{class g{static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275mod=t.$C({type:g})}static{this.\u0275inj=t.G2t({imports:[W.iI.forChild(We),W.iI]})}}return g})(),Xe=(()=>{class g{static{this.\u0275fac=function(b){return new(b||g)}}static{this.\u0275mod=t.$C({type:g})}static{this.\u0275inj=t.G2t({imports:[e.Fg,r.Ve,R.U,it.f,G,T.a,Ke]})}}return g})()},2140:(kt,ct,i)=>{i.d(ct,{I:()=>it});var e=i(9630),r=i(4438),R=i(2021);let it=(()=>{class o{constructor(X){this.baseApi=X}getHighlightedFile(X,$,E,f){return this.baseApi.single(e.x.highlight.getHighlightedFile,X,$,E,f)}static{this.\u0275fac=function($){return new($||o)(r.KVO(R.v))}}static{this.\u0275prov=r.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},8099:(kt,ct,i)=>{i.d(ct,{p:()=>R});var e=i(1117),r=i(4438);let R=(()=>{class it{static{this.\u0275fac=function(X){return new(X||it)}}static{this.\u0275mod=r.$C({type:it})}static{this.\u0275inj=r.G2t({imports:[e.U]})}}return it})()},9820:(kt,ct,i)=>{i.d(ct,{u:()=>o});var e=i(9250),r=i(4548),R=i(8099),it=i(4438);let o=(()=>{class s{getPatchPath($){switch($.status){case e.z.Added:case e.z.Untracked:return $.newFilePath;case e.z.Conflicted:case e.z.Modified:case e.z.Renamed:return $.oldFilePath===$.newFilePath?$.newFilePath:`${$.oldFilePath} --\x3e ${$.newFilePath}`;case e.z.Deleted:return $.oldFilePath;default:throw new r.kV($.status)}}getPatchIcon($){switch($.status){case e.z.Added:case e.z.Untracked:return"add";case e.z.Conflicted:return"warning";case e.z.Modified:return"create";case e.z.Deleted:return"remove";case e.z.Renamed:return"swap_horiz";default:throw new r.kV($.status)}}getPatchIconColorClass($){switch($.status){case e.z.Added:case e.z.Untracked:return"green";case e.z.Conflicted:case e.z.Modified:return"orange";case e.z.Deleted:return"red";case e.z.Renamed:return"blue";default:throw new r.kV($.status)}}static{this.\u0275fac=function(E){return new(E||s)}}static{this.\u0275prov=it.jDH({token:s,factory:s.\u0275fac,providedIn:R.p})}}return s})()},9399:(kt,ct,i)=>{i.d(ct,{M:()=>T});var e=i(7673),r=i(8810),R=i(9437),it=i(5558),o=i(6354),s=i(4548),X=i(8672),$=i(319),E=i(2570),f=i(2039),n=i(877),D=i(7216),v=i(4438),J=i(9843),t=i(4748),G=i(9641);let T=(()=>{class W{constructor(u,C,S){this.store=u,this.repositoriesApi=C,this.stashApi=S,this.discardAllChanges=O=>this.store.dispatch(new D.Wi(O,{name:"Discard",detail:(0,X.Tl)("All changes"),do:V=>{const Q=this.store.selectSnapshot(n.s.openRepositoryIds);return this.stashApi.saveWorkingCopyState(O).pipe((0,R.W)(()=>(V(),(0,e.of)(""))),(0,it.n)(dt=>this.repositoriesApi.discardAllChanges(O).pipe((0,R.W)(q=>s.Gs.matches(q)?(0,r.$)(()=>new $.XR(q)):(0,r.$)(()=>q)),(0,E.P)(q=>{const U=q?.filter(H=>Q.includes(H))??[];return this.store.dispatch([...U.map(H=>new f.cX(H,[f.iK.currentBranch,f.iK.currentBranchCommitId,f.iK.headCommitId])),new f.cX(O,[f.iK.unstagedChanges,f.iK.submodules])]).pipe((0,o.T)(()=>[U,dt]))}))))},undo:([V,Q])=>this.stashApi.restoreWorkingCopyState(O,Q).pipe((0,E.P)(()=>this.store.dispatch([...V.map(dt=>new f.cX(dt,[f.iK.currentBranch,f.iK.currentBranchCommitId,f.iK.headCommitId])),new f.cX(O,[f.iK.unstagedChanges,f.iK.submodules])])))})),this.discardFiles=(O,V)=>this.store.dispatch(new D.Wi(O,{name:"Discard",detail:V.map(Q=>Q.newFilePath??Q.oldFilePath).join(", "),do:Q=>{const dt=this.store.selectSnapshot(n.s.openRepositoryIds);return this.stashApi.saveWorkingCopyState(O,V.map(q=>q.newFilePath??q.oldFilePath).filter($.O9)).pipe((0,R.W)(()=>(Q(),(0,e.of)(""))),(0,it.n)(q=>this.repositoriesApi.discardFiles(O,V).pipe((0,R.W)(U=>s.Gs.matches(U)?(0,r.$)(()=>new $.XR(U)):(0,r.$)(()=>U)),(0,E.P)(U=>{const H=U?.filter(B=>dt.includes(B))??[];return this.store.dispatch([...H.map(B=>new f.cX(B,[f.iK.currentBranch,f.iK.currentBranchCommitId,f.iK.headCommitId])),new f.cX(O,[f.iK.unstagedChanges,f.iK.submodules])]).pipe((0,o.T)(()=>[H,q]))}))))},undo:([Q,dt])=>this.stashApi.restoreWorkingCopyState(O,dt).pipe((0,E.P)(()=>this.store.dispatch([...Q.map(q=>new f.cX(q,[f.iK.currentBranch,f.iK.currentBranchCommitId,f.iK.headCommitId])),new f.cX(O,[f.iK.unstagedChanges,f.iK.submodules])])))})),this.discardFileLines=(O,V,Q,dt)=>this.store.dispatch(new D.Wi(O,{name:"Discard lines",detail:(0,X.Tl)("In _name_",{name:Q??V}),do:()=>this.repositoriesApi.discardFileLines(O,V,Q,dt).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.unstagedChanges,f.iK.submodules]))))})),this.stageAllChanges=O=>this.store.dispatch(new D.Wi(O,{name:"Stage",detail:(0,X.Tl)("All changes"),do:()=>this.repositoriesApi.getUnstagedChanges(O).pipe((0,it.n)(V=>this.repositoriesApi.stageAllChanges(O).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.stagedChanges,f.iK.unstagedChanges,f.iK.submodules]))),(0,E.P)(()=>(0,e.of)(V))))),undo:V=>this.repositoriesApi.unstageFiles(O,V).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.stagedChanges,f.iK.unstagedChanges,f.iK.submodules]))))})),this.stageFiles=(O,V)=>this.store.dispatch(new D.Wi(O,{name:"Stage",detail:V.map(Q=>Q.newFilePath??Q.oldFilePath).join(", "),do:()=>this.repositoriesApi.stageFiles(O,V).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.stagedChanges,f.iK.unstagedChanges,f.iK.submodules])))),undo:()=>this.repositoriesApi.unstageFiles(O,V).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.stagedChanges,f.iK.unstagedChanges,f.iK.submodules]))))})),this.stageFileLines=(O,V,Q,dt)=>this.store.dispatch(new D.Wi(O,{name:"Stage lines",detail:(0,X.Tl)("In _name_",{name:Q??V}),do:()=>this.repositoriesApi.stageFileLines(O,V,Q,dt).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.stagedChanges,f.iK.unstagedChanges,f.iK.submodules]))))})),this.unstageAllChanges=O=>this.store.dispatch(new D.Wi(O,{name:"Unstage",detail:(0,X.Tl)("All changes"),do:()=>this.repositoriesApi.getStagedChanges(O).pipe((0,it.n)(V=>this.repositoriesApi.unstageAllChanges(O).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.stagedChanges,f.iK.unstagedChanges,f.iK.submodules]))),(0,E.P)(()=>(0,e.of)(V))))),undo:V=>this.repositoriesApi.stageFiles(O,V).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.stagedChanges,f.iK.unstagedChanges,f.iK.submodules]))))})),this.unstageFiles=(O,V)=>this.store.dispatch(new D.Wi(O,{name:"Unstage",detail:V.map(Q=>Q.newFilePath??Q.oldFilePath).join(", "),do:()=>this.repositoriesApi.unstageFiles(O,V).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.stagedChanges,f.iK.unstagedChanges,f.iK.submodules])))),undo:()=>this.repositoriesApi.stageFiles(O,V).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.stagedChanges,f.iK.unstagedChanges,f.iK.submodules]))))})),this.unstageFileLines=(O,V,Q,dt)=>this.store.dispatch(new D.Wi(O,{name:"Unstage lines",detail:(0,X.Tl)("In _name_",{name:Q??V}),do:()=>this.repositoriesApi.unstageFileLines(O,V,Q,dt).pipe((0,E.P)(()=>this.store.dispatch(new f.cX(O,[f.iK.stagedChanges,f.iK.unstagedChanges,f.iK.submodules]))))}))}static{this.\u0275fac=function(C){return new(C||W)(v.KVO(J.il),v.KVO(t.M),v.KVO(G.X))}}static{this.\u0275prov=v.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})()},1693:(kt,ct,i)=>{i.d(ct,{n:()=>X});var e=i(4438),r=i(3130),R=i(949);function it($,E){if(1&$){const f=e.RV6();e.j41(0,"app-new-commit",3),e.bIt("patchChanged",function(D){e.eBV(f);const v=e.XpG(2);return e.Njj(v.patchChanged.next(D))}),e.k0s()}}function o($,E){if(1&$){const f=e.RV6();e.j41(0,"app-commit",4),e.bIt("patchChanged",function(D){e.eBV(f);const v=e.XpG(2);return e.Njj(v.patchChanged.next(D))}),e.k0s()}if(2&$){const f=e.XpG(2);e.Y8G("commit",f.commit)("selectedFile",f.selectedFile)}}function s($,E){if(1&$&&(e.qex(0),e.DNE(1,it,1,0,"app-new-commit",1)(2,o,1,2,"app-commit",2),e.bVm()),2&$){const f=E.ngIf;e.R7$(),e.Y8G("ngIf","head"===f),e.R7$(),e.Y8G("ngIf","head"!==f)}}let X=(()=>{class $ extends((0,r.c)(R.N)){constructor(){super(...arguments),this.patchChanged=new e.bkB}static{this.\u0275fac=(()=>{let f;return function(D){return(f||(f=e.xGo($)))(D||$)}})()}static{this.\u0275cmp=e.VBU({type:$,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[e.Vt3],decls:2,vars:3,consts:[[4,"ngIf"],[3,"patchChanged",4,"ngIf"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],[3,"patchChanged"],[3,"patchChanged","commit","selectedFile"]],template:function(n,D){1&n&&(e.DNE(0,s,3,2,"ng-container",0),e.nI1(1,"async")),2&n&&e.Y8G("ngIf",e.bMT(1,1,D.commit))},encapsulation:2,changeDetection:0})}}return $})()},2992:(kt,ct,i)=>{i.d(ct,{s:()=>se});var e=i(5596),r=i(2765),R=i(9042),it=i(9183),o=i(1117),s=i(8099),X=i(3054),$=i(1693),E=i(1635),f=i(6939),n=i(4438),D=i(9843),v=i(6697),J=i(6977),t=i(3130),G=i(949),T=i(4315),W=i(2039),y=i(877),u=i(6969),C=i(2724),S=i(9820),O=i(177),V=i(9213),Q=i(4823),dt=i(477),q=i(6268),U=i(1619),H=i(8667),B=i(5458),st=i(1751);function Ct(ht,Bt){if(1&ht){const P=n.RV6();n.j41(0,"li",21),n.bIt("click",function(){const tt=n.eBV(P).$implicit,Mt=n.XpG(4);return n.Njj(Mt.changeCommit(tt))}),n.EFF(1),n.k0s()}if(2&ht){const P=Bt.$implicit,j=Bt.first;n.Y8G("matTooltip",P),n.R7$(),n.Lme("",j?"":", ","",P,"")}}function ot(ht,Bt){if(1&ht&&(n.j41(0,"div",18)(1,"span",5),n.EFF(2),n.nI1(3,"translate"),n.k0s(),n.j41(4,"div",19)(5,"ul"),n.DNE(6,Ct,2,3,"li",20),n.k0s()()()),2&ht){const P=n.XpG(2).ngIf;n.AVh("plural",P.parentIds.length>1),n.R7$(2),n.SpI("",n.bMT(3,4,1===P.parentIds.length?"Parent:":"Parents:")," "),n.R7$(4),n.Y8G("ngForOf",P.parentIds)}}function pt(ht,Bt){if(1&ht&&(n.j41(0,"div",22),n.EFF(1),n.nI1(2,"translate"),n.nrm(3,"app-avatar",12),n.nI1(4,"async"),n.j41(5,"span",13),n.EFF(6),n.k0s()()),2&ht){const P=n.XpG(2).ngIf,j=n.XpG();n.Y8G("matTooltip",P.committerName+" ("+P.committerEmail+")"),n.R7$(),n.SpI(" ",n.bMT(2,5,"committed by")," "),n.R7$(2),n.Y8G("remotes",n.bMT(4,7,j.remotes))("email",P.committerEmail),n.R7$(3),n.JRh(P.committerName)}}function et(ht,Bt){if(1&ht){const P=n.RV6();n.j41(0,"div",23)(1,"div",24),n.EFF(2),n.k0s(),n.j41(3,"button",25),n.bIt("click",function(){const tt=n.eBV(P).data,Mt=n.XpG(3);return n.Njj(Mt.copyToClipboard(Mt.getPatchPath(tt)))}),n.j41(4,"mat-icon"),n.EFF(5,"content_copy"),n.k0s(),n.j41(6,"span"),n.EFF(7),n.nI1(8,"translate"),n.k0s()(),n.j41(9,"button",26),n.bIt("click",function(){const tt=n.eBV(P).data,Mt=n.XpG(3);return n.Njj(Mt.blamePatch(tt))}),n.j41(10,"mat-icon"),n.EFF(11,"document_scanner"),n.k0s(),n.j41(12,"span"),n.EFF(13),n.nI1(14,"translate"),n.k0s()()()}if(2&ht){let P;const j=Bt.data,tt=n.XpG(3);n.R7$(),n.Y8G("matTooltip",null!==(P=tt.getPatchPath(j))&&void 0!==P?P:""),n.R7$(),n.JRh(tt.getPatchFilename(j)),n.R7$(5),n.JRh(n.bMT(8,4,"Copy Path")),n.R7$(6),n.JRh(n.bMT(14,6,"Blame"))}}function ft(ht,Bt){if(1&ht){const P=n.RV6();n.j41(0,"div",3)(1,"header")(2,"div",4),n.bIt("click",function(){n.eBV(P);const tt=n.XpG().ngIf,Mt=n.XpG();return n.Njj(Mt.copyToClipboard(tt.id))}),n.j41(3,"span",5),n.EFF(4),n.nI1(5,"translate"),n.k0s(),n.EFF(6),n.k0s(),n.DNE(7,ot,7,6,"div",6),n.k0s(),n.j41(8,"app-grid",7)(9,"app-grid-cell")(10,"mat-card",8)(11,"div",9)(12,"span",10),n.EFF(13),n.k0s(),n.nrm(14,"br"),n.j41(15,"span"),n.EFF(16),n.k0s()(),n.j41(17,"div",11),n.EFF(18),n.nI1(19,"translate"),n.nrm(20,"app-avatar",12),n.nI1(21,"async"),n.j41(22,"span",13),n.EFF(23),n.k0s(),n.nrm(24,"br"),n.k0s(),n.DNE(25,pt,7,9,"div",14),n.j41(26,"div",15),n.nI1(27,"translateDate"),n.EFF(28),n.nI1(29,"translate"),n.j41(30,"span",13),n.EFF(31),n.nI1(32,"translateDate"),n.k0s(),n.EFF(33),n.nI1(34,"translate"),n.j41(35,"span",13),n.EFF(36),n.nI1(37,"translateDate"),n.k0s()()()(),n.j41(38,"app-grid-cell")(39,"mat-card",16)(40,"app-patches-view",17),n.nI1(41,"async"),n.bIt("selectedChanged",function(tt){n.eBV(P);const Mt=n.XpG(2);return n.Njj(Mt.changeFile(tt.oldFilePath,tt.newFilePath))})("contextMenuOpened",function(tt){n.eBV(P);const Mt=n.sdS(43),Vt=n.XpG(2);return n.Njj(Vt.openContextMenu(Mt,tt[0],tt[1]))}),n.k0s()()()(),n.DNE(42,et,15,8,"ng-template",null,0,n.C5r),n.k0s()}if(2&ht){const P=n.XpG().ngIf,j=n.XpG();n.R7$(2),n.Y8G("matTooltip",P.id),n.R7$(2),n.JRh(n.bMT(5,19,"Commit:")),n.R7$(2),n.SpI(" ",P.id," "),n.R7$(),n.Y8G("ngIf",P.parentIds.length),n.R7$(6),n.JRh(j.getMessageSubject(P.message)),n.R7$(3),n.JRh(j.getMessageBody(P.message)),n.R7$(),n.Y8G("matTooltip",P.authorName+" ("+P.authorEmail+")"),n.R7$(),n.SpI(" ",n.bMT(19,21,"authored by")," "),n.R7$(2),n.Y8G("remotes",n.bMT(21,23,j.remotes))("email",P.authorEmail),n.R7$(3),n.JRh(P.authorName),n.R7$(2),n.Y8G("ngIf",P.committerName&&P.committerEmail&&(P.authorName!==P.committerName||P.authorEmail!==P.committerEmail)),n.R7$(),n.Y8G("matTooltip",n.i5U(27,25,P.date,"z")||""),n.R7$(2),n.SpI(" ",n.bMT(29,28,"on !date!")," "),n.R7$(3),n.JRh(n.i5U(32,30,P.date,"longDate")),n.R7$(2),n.SpI(" ",n.bMT(34,33,"at !time!")," "),n.R7$(3),n.JRh(n.i5U(37,35,P.date,"HH:mm")),n.R7$(4),n.Y8G("patches",P.patches)("selected",n.bMT(41,38,j.selectedFile))}}function Pt(ht,Bt){if(1&ht&&(n.qex(0),n.DNE(1,ft,44,40,"div",2),n.bVm()),2&ht){const P=Bt.ngIf;n.R7$(),n.Y8G("ngIf",P&&"head"!==P)}}let vt=(()=>{class ht extends((0,t.c)(G.N)){constructor(P,j,tt,Mt,Vt){super(),this.overlay=P,this.router=j,this.viewContainerRef=tt,this.store=Mt,this.commitDetailService=Vt,this.patchChanged=new n.bkB,this.overlayRef=null}getPatchPath(P){return this.commitDetailService.getPatchPath(P)}getPatchFilename(P){const j=this.commitDetailService.getPatchPath(P);return j?j.slice(j.lastIndexOf("/")+1):null}getMessageSubject(P){return P.split("\n")[0]??""}getMessageBody(P){return P.split("\n").slice(1).join("\n").trimEnd()}copyToClipboard(P){navigator.clipboard.writeText(P??"").then(()=>{})}changeCommit(P){this.selectedRepositoryPath.pipe((0,v.s)(1)).subscribe(j=>{null!==j&&(this.store.dispatch(new W.$P(j,P)),P&&this.store.dispatch(new W.Ks(j,P)))})}changeFile(P,j){this.patchChanged.next({area:"commit",oldFilePath:P,newFilePath:j})}blamePatch(P){this.commit.pipe((0,v.s)(1)).subscribe(j=>{this.router.navigate(["/standard/blame"],{queryParams:{area:"commit","commit-id":"head"===j?"head":j?.id,path:P.newFilePath}})})}openContextMenu(P,j,tt){tt.preventDefault(),tt.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:tt.x,y:tt.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new f.VA(P,this.viewContainerRef,{data:j})),(0,T.p)(this.overlayRef).pipe((0,v.s)(1),(0,J.Q)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(j){return new(j||ht)(n.rXU(u.hJ),n.rXU(C.Ix),n.rXU(n.c1b),n.rXU(D.il),n.rXU(S.u))}}static{this.\u0275cmp=n.VBU({type:ht,selectors:[["app-commit"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[n.Vt3],decls:2,vars:3,consts:[["fileContextMenu",""],[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"click","matTooltip"],[1,"title"],["class","parent-commits",3,"plural",4,"ngIf"],["id","commit-detail-view","vertical",""],["appearance","outlined",1,"message"],[1,"content"],[1,"subject"],[1,"author",3,"matTooltip"],[3,"remotes","email"],[1,"highlight"],["class","committer",3,"matTooltip",4,"ngIf"],[1,"date",3,"matTooltip"],["appearance","outlined",1,"files"],[3,"selectedChanged","contextMenuOpened","patches","selected"],[1,"parent-commits"],[1,"parent-commit-ids"],[3,"matTooltip","click",4,"ngFor","ngForOf"],[3,"click","matTooltip"],[1,"committer",3,"matTooltip"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"click"],["matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(j,tt){1&j&&(n.DNE(0,Pt,2,1,"ng-container",1),n.nI1(1,"async")),2&j&&n.Y8G("ngIf",n.bMT(1,1,tt.commit))},dependencies:[e.RN,O.Sq,O.bT,V.An,Q.oV,dt.f,q.K,U._,H.h,O.Jj,B.J,st.D],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;gap:10px}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;column-gap:10px;padding:0 10px;flex:0 0 auto;overflow-x:hidden;overflow-y:auto;font-weight:600}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 113px;min-width:113px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 106px;min-width:106px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]{flex-basis:163px;min-width:163px}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{width:calc(100% - 63px)}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}.message[_ngcontent-%COMP%]{height:calc(100% - 5px);margin:0 10px 5px;padding:16px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:1rem;overflow-wrap:anywhere}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-size:1.25rem}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:auto;height:1.5625rem;aspect-ratio:1/1;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}.files[_ngcontent-%COMP%]{height:calc(100% - 5px);margin:5px 10px 0;padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000000de}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return(0,E.Cg)([(0,D.l6)(y.s.selectedRemotes)],ht.prototype,"remotes",void 0),(0,E.Cg)([(0,D.l6)(y.s.selectedRepositoryPath)],ht.prototype,"selectedRepositoryPath",void 0),ht})();var Lt=i(5272),It=i(9417),gt=i(4412),yt=i(4572),I=i(7786),F=i(6354),_=i(152),w=i(9172),m=i(980),x=i(9250),k=i(8694),rt=i(8672),bt=i(8523),Et=i(5012),Ht=i(6115),Kt=i(9399),Yt=i(2102),lt=i(7403),wt=i(8834),L=i(6166);function K(ht,Bt){if(1&ht){const P=n.RV6();n.j41(0,"button",21),n.nI1(1,"async"),n.nI1(2,"nullEmpty"),n.nI1(3,"translate"),n.bIt("click",function(){n.eBV(P);const tt=n.XpG(2);return n.Njj(tt.stage())}),n.nrm(4,"mat-icon",19),n.nI1(5,"async"),n.nI1(6,"nullEmpty"),n.k0s()}if(2&ht){const P=n.XpG(2);n.Y8G("matTooltip",n.bMT(3,6,n.bMT(2,4,n.bMT(1,2,P.checkedUnstaged))?"Stage selected changes":"Stage all changes")),n.R7$(4),n.Y8G("svgIcon",n.bMT(6,10,n.bMT(5,8,P.checkedUnstaged))?"tray-plus":"tray-arrow-down")}}function at(ht,Bt){1&ht&&(n.j41(0,"div",22),n.nI1(1,"translate"),n.j41(2,"button",23)(3,"mat-icon"),n.EFF(4,"warning"),n.k0s()()()),2&ht&&n.Y8G("matTooltip",n.bMT(1,1,"Cannot stage conflicted files, resolve the conflicts first"))}function Rt(ht,Bt){if(1&ht){const P=n.RV6();n.j41(0,"app-grid-cell",3)(1,"mat-card",12)(2,"div",13)(3,"button",14),n.nI1(4,"async"),n.nI1(5,"translate"),n.bIt("click",function(){n.eBV(P);const tt=n.XpG();return n.Njj(tt.clickAllUnstagedCheckbox())}),n.j41(6,"mat-icon"),n.EFF(7),n.nI1(8,"async"),n.k0s()(),n.j41(9,"div",15),n.DNE(10,K,7,12,"button",16),n.nI1(11,"async"),n.DNE(12,at,5,3,"div",17),n.nI1(13,"async"),n.j41(14,"button",18),n.nI1(15,"async"),n.nI1(16,"nullEmpty"),n.nI1(17,"translate"),n.bIt("click",function(){n.eBV(P);const tt=n.XpG();return n.Njj(tt.discard())}),n.nrm(18,"mat-icon",19),n.nI1(19,"async"),n.nI1(20,"nullEmpty"),n.k0s()()(),n.j41(21,"app-patches-view",20),n.nI1(22,"async"),n.bIt("checkedChanged",function(tt){n.eBV(P);const Mt=n.XpG();return n.Njj(Mt.setPatchChecked("unstaged",tt[0],tt[1]))})("selectedChanged",function(tt){n.eBV(P);const Mt=n.XpG();return n.Njj(Mt.selectFile("unstaged",tt.oldFilePath,tt.newFilePath))})("contextMenuOpened",function(tt){n.eBV(P);const Mt=n.XpG(),Vt=n.sdS(23);return n.Njj(Mt.openContextMenu("unstaged",Vt,tt[0],tt[1]))}),n.k0s()()()}if(2&ht){const P=Bt.ngIf,j=n.XpG();n.R7$(3),n.Y8G("matTooltip",n.bMT(5,11,"check_box_outline_blank"===n.bMT(4,9,j.allUnstagedCheckboxIcon)?"Select all":"Deselect all")),n.R7$(4),n.JRh(n.bMT(8,13,j.allUnstagedCheckboxIcon)),n.R7$(3),n.Y8G("ngIf",!1===n.bMT(11,15,j.hasConflicts)),n.R7$(2),n.Y8G("ngIf",n.bMT(13,17,j.hasConflicts)),n.R7$(2),n.Y8G("matTooltip",n.bMT(17,23,n.bMT(16,21,n.bMT(15,19,j.checkedUnstaged))?"Discard selected changes":"Discard all changes")),n.R7$(4),n.Y8G("svgIcon",n.bMT(20,27,n.bMT(19,25,j.checkedUnstaged))?"tray-remove":"tray"),n.R7$(3),n.Y8G("patches",P)("checked",j.checkedUnstaged)("selected",n.bMT(22,29,j.selectedUnstagedFile))}}function Nt(ht,Bt){if(1&ht){const P=n.RV6();n.j41(0,"mat-card",24)(1,"div",13)(2,"button",14),n.nI1(3,"async"),n.nI1(4,"translate"),n.bIt("click",function(){n.eBV(P);const tt=n.XpG();return n.Njj(tt.clickAllStagedCheckbox())}),n.j41(5,"mat-icon"),n.EFF(6),n.nI1(7,"async"),n.k0s()(),n.j41(8,"div",15)(9,"button",25),n.nI1(10,"async"),n.nI1(11,"nullEmpty"),n.nI1(12,"translate"),n.bIt("click",function(){n.eBV(P);const tt=n.XpG();return n.Njj(tt.unstage())}),n.nrm(13,"mat-icon",19),n.nI1(14,"async"),n.nI1(15,"nullEmpty"),n.k0s()()(),n.j41(16,"app-patches-view",20),n.nI1(17,"async"),n.bIt("checkedChanged",function(tt){n.eBV(P);const Mt=n.XpG();return n.Njj(Mt.setPatchChecked("staged",tt[0],tt[1]))})("selectedChanged",function(tt){n.eBV(P);const Mt=n.XpG();return n.Njj(Mt.selectFile("staged",tt.oldFilePath,tt.newFilePath))})("contextMenuOpened",function(tt){n.eBV(P);const Mt=n.XpG(),Vt=n.sdS(23);return n.Njj(Mt.openContextMenu("staged",Vt,tt[0],tt[1]))}),n.k0s()()}if(2&ht){const P=Bt.ngIf,j=n.XpG();n.R7$(2),n.Y8G("matTooltip",n.bMT(4,9,"check_box_outline_blank"===n.bMT(3,7,j.allStagedCheckboxIcon)?"Select all":"Deselect all")),n.R7$(4),n.JRh(n.bMT(7,11,j.allStagedCheckboxIcon)),n.R7$(3),n.Y8G("matTooltip",n.bMT(12,17,n.bMT(11,15,n.bMT(10,13,j.checkedStaged))?"Unstage selected changes":"Unstage all changes")),n.R7$(4),n.Y8G("svgIcon",n.bMT(15,21,n.bMT(14,19,j.checkedStaged))?"tray-minus":"tray-arrow-up"),n.R7$(3),n.Y8G("patches",P)("checked",j.checkedStaged)("selected",n.bMT(17,23,j.selectedStagedFile))}}function zt(ht,Bt){1&ht&&n.nrm(0,"mat-spinner",26)}function oe(ht,Bt){1&ht&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"translate"),n.k0s()),2&ht&&(n.R7$(),n.JRh(n.bMT(2,1,"Commit changes")))}function te(ht,Bt){if(1&ht){const P=n.RV6();n.j41(0,"button",31),n.bIt("click",function(){n.eBV(P);const tt=n.XpG().data,Mt=n.XpG();return n.Njj(Mt.blamePatch(tt.area,tt.patch))}),n.j41(1,"mat-icon"),n.EFF(2,"document_scanner"),n.k0s(),n.j41(3,"span"),n.EFF(4),n.nI1(5,"translate"),n.k0s()()}2&ht&&(n.R7$(4),n.JRh(n.bMT(5,1,"Blame")))}function ae(ht,Bt){if(1&ht){const P=n.RV6();n.j41(0,"div",27)(1,"div",28),n.EFF(2),n.k0s(),n.j41(3,"button",29),n.bIt("click",function(){const tt=n.eBV(P).data,Mt=n.XpG();return n.Njj(Mt.copyToClipboard(Mt.getPatchPath(tt.patch)))}),n.j41(4,"mat-icon"),n.EFF(5,"content_copy"),n.k0s(),n.j41(6,"span"),n.EFF(7),n.nI1(8,"translate"),n.k0s()(),n.DNE(9,te,6,3,"button",30),n.k0s()}if(2&ht){let P;const j=Bt.data,tt=n.XpG();n.R7$(),n.Y8G("matTooltip",null!==(P=tt.getPatchPath(j.patch))&&void 0!==P?P:""),n.R7$(),n.JRh(tt.getPatchFilename(j.patch)),n.R7$(5),n.JRh(n.bMT(8,4,"Copy Path")),n.R7$(2),n.Y8G("ngIf",!tt.isPatchAdded(j.patch))}}let ie=(()=>{class ht extends((0,t.c)(G.N,k.f)){constructor(P,j,tt,Mt,Vt,Zt,qt){super(),this.overlay=P,this.router=j,this.viewContainerRef=tt,this.store=Mt,this.commitDetailService=Vt,this.repositoryActionsService=Zt,this.stagingActionsService=qt,this.patchChanged=new n.bkB,this.commitMessageControl=new It.MJ(null),this.commitButtonLoading=new gt.t(!1),this.checkedStaged=new gt.t([]),this.checkedUnstaged=new gt.t([]),this.allStagedCheckboxIcon=new gt.t("check_box_outline_blank"),this.allUnstagedCheckboxIcon=new gt.t("check_box_outline_blank"),this.overlayRef=null,this.isPatchAdded=ee=>ee.status===x.z.Added}ngOnInit(){this.stagedChanges=this.allStagedChanges.pipe((0,F.T)(P=>P?.filter(j=>j.status!==x.z.Conflicted)??null)),this.selectedRepositoryCommitMessage.pipe((0,J.Q)(this.destroyed$)).subscribe(P=>{this.commitMessageControl.setValue(P,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,_.B)(200),(0,J.Q)(this.destroyed$)).subscribe(P=>{const j=this.store.selectSnapshot(y.s.selectedRepositoryPath);j&&this.store.dispatch(new W.qm(j,P))}),this.commitButtonDisabled=(0,yt.z)([this.commitButtonLoading,this.stagedChanges,(0,I.h)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,w.Z)(this.commitMessageControl.value)))]).pipe((0,F.T)(([P,j,tt])=>P||!tt||!j||0===j.length)),this.commitButtonTooltip=(0,yt.z)([this.stagedChanges,(0,I.h)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,w.Z)(this.commitMessageControl.value)))]).pipe((0,F.T)(([P,j])=>j?P&&0!==P.length?"":(0,rt.Tl)("There must be staged changes to commit"):(0,rt.Tl)("The commit message cannot be empty"))),this.hasConflicts=(0,yt.z)([this.unstagedChanges,this.checkedUnstaged]).pipe((0,F.T)(([P,j])=>j.length>0&&j.some(tt=>tt.status===x.z.Conflicted)||0===j.length&&!!P&&P.some(tt=>tt.status===x.z.Conflicted)))}getPatchPath(P){return this.commitDetailService.getPatchPath(P)}getPatchFilename(P){const j=this.commitDetailService.getPatchPath(P);return j?j.slice(j.lastIndexOf("/")+1):null}selectFile(P,j,tt){this.patchChanged.next({area:P,oldFilePath:j,newFilePath:tt})}discard(){const P=this.store.selectSnapshot(y.s.selectedRepositoryPath);P&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.discardFiles(P,this.checkedUnstaged.value):this.stagingActionsService.discardAllChanges(P)).pipe((0,J.Q)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}stage(){const P=this.store.selectSnapshot(y.s.selectedRepositoryPath);P&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.stageFiles(P,this.checkedUnstaged.value):this.stagingActionsService.stageAllChanges(P)).pipe((0,J.Q)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}unstage(){const P=this.store.selectSnapshot(y.s.selectedRepositoryPath);P&&(this.checkedStaged.value.length>0?this.stagingActionsService.unstageFiles(P,this.checkedStaged.value):this.stagingActionsService.unstageAllChanges(P)).pipe((0,J.Q)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank")})}setPatchChecked(P,j,tt){const Mt="staged"===P?this.checkedStaged.value:this.checkedUnstaged.value,Vt=Mt.findIndex(ee=>ee.oldFilePath===j.oldFilePath&&ee.newFilePath===j.newFilePath);Vt>=0&&!tt?Mt.splice(Vt,1):Vt<0&&tt&&Mt.push(j),"staged"===P?this.checkedStaged.next(Mt):this.checkedUnstaged.next(Mt);const Zt="staged"===P?this.allStagedCheckboxIcon:this.allUnstagedCheckboxIcon;(this.store.selectSnapshot("staged"===P?y.s.selectedStagedChanges:y.s.selectedUnstagedChanges)?.length??0)===Mt.length?Zt.next("check_box"):Zt.next(0===Mt.length?"check_box_outline_blank":"indeterminate_check_box")}commitChanges(){const P=this.store.selectSnapshot(y.s.selectedRepositoryPath),j=this.store.selectSnapshot(Et.d.selectedProfile),tt=[];P||tt.push((0,rt.Tl)("Cannot commit if no repository is selected")),j||tt.push((0,rt.Tl)("Cannot commit if no profile is selected"));const Mt=this.commitMessageControl.value;if(Mt||tt.push((0,rt.Tl)("Cannot commit with empty commit message")),tt.length>0)return void this.store.dispatch(tt.map(qt=>new bt.Nh("error",qt)));this.commitButtonLoading.next(!0);const Vt=P;this.repositoryActionsService.createCommit(Vt,j,Mt??"").pipe((0,m.j)(()=>{this.commitButtonLoading.next(!1)})).subscribe(qt=>{this.store.dispatch(new W.Ks(Vt,qt))})}copyToClipboard(P){navigator.clipboard.writeText(P??"")}blamePatch(P,j){this.router.navigate(["/standard/blame"],{queryParams:{area:P,"commit-id":"head",path:j.newFilePath}})}clickAllStagedCheckbox(){switch(this.allStagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedStaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const P=this.store.selectSnapshot(y.s.selectedStagedChanges);this.checkedStaged.next([...P??[]]),this.allStagedCheckboxIcon.next("check_box")}}clickAllUnstagedCheckbox(){switch(this.allUnstagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const P=this.store.selectSnapshot(y.s.selectedUnstagedChanges);this.checkedUnstaged.next([...P??[]]),this.allUnstagedCheckboxIcon.next("check_box")}}openContextMenu(P,j,tt,Mt){Mt.preventDefault(),Mt.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:Mt.x,y:Mt.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new f.VA(j,this.viewContainerRef,{data:{area:P,patch:tt}})),(0,T.p)(this.overlayRef).pipe((0,v.s)(1),(0,J.Q)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(j){return new(j||ht)(n.rXU(u.hJ),n.rXU(C.Ix),n.rXU(n.c1b),n.rXU(D.il),n.rXU(S.u),n.rXU(Ht.N),n.rXU(Kt.M))}}static{this.\u0275cmp=n.VBU({type:ht,selectors:[["app-new-commit"]],viewQuery:function(j,tt){if(1&j&&n.GBs(Lt.d6,5),2&j){let Mt;n.mGM(Mt=n.lsd())&&(tt.viewports=Mt)}},outputs:{patchChanged:"patchChanged"},features:[n.Vt3],decls:24,vars:27,consts:[["fileContextMenu",""],["vertical",""],["min","150px",4,"ngIf"],["min","150px"],["appearance","outlined","class","staged",4,"ngIf"],["appearance","outlined",1,"commit"],[1,"description"],["matInput","","cdkTextareaAutosize","",3,"placeholder","formControl"],[1,"button-container",3,"matTooltip"],["mat-flat-button","","color","primary",1,"commit-btn",3,"click","disabled"],["diameter","24",4,"ngIf"],[4,"ngIf"],["appearance","outlined",1,"unstaged"],[1,"header-buttons"],["type","button","mat-icon-button","",1,"checkbox-button","app-icon-button-md",3,"click","matTooltip"],[1,"buttons"],["type","button","mat-stroked-button","","class","stage-button",3,"matTooltip","click",4,"ngIf"],["class","conflicts-wrapper",3,"matTooltip",4,"ngIf"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"click","matTooltip"],[3,"svgIcon"],[3,"checkedChanged","selectedChanged","contextMenuOpened","patches","checked","selected"],["type","button","mat-stroked-button","",1,"stage-button",3,"click","matTooltip"],[1,"conflicts-wrapper",3,"matTooltip"],["type","button","mat-stroked-button","","disabled","",1,"stage-button","has-conflicts"],["appearance","outlined",1,"staged"],["type","button","mat-stroked-button","",1,"unstage-button",3,"click","matTooltip"],["diameter","24"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],["type","button",1,"menu-item",3,"click"],["type","button","class","menu-item","matTooltip","Show file history",3,"click",4,"ngIf"],["type","button","matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(j,tt){if(1&j){const Mt=n.RV6();n.j41(0,"app-grid",1),n.DNE(1,Rt,23,31,"app-grid-cell",2),n.nI1(2,"async"),n.nI1(3,"nullEmpty"),n.j41(4,"app-grid-cell",3),n.DNE(5,Nt,18,25,"mat-card",4),n.nI1(6,"async"),n.k0s()(),n.j41(7,"mat-card",5)(8,"mat-form-field",6)(9,"mat-label"),n.EFF(10),n.nI1(11,"translate"),n.k0s(),n.nrm(12,"textarea",7),n.nI1(13,"translate"),n.k0s(),n.j41(14,"div",8),n.nI1(15,"async"),n.j41(16,"button",9),n.nI1(17,"async"),n.bIt("click",function(){return n.eBV(Mt),n.Njj(tt.commitChanges())}),n.DNE(18,zt,1,0,"mat-spinner",10),n.nI1(19,"async"),n.DNE(20,oe,3,3,"span",11),n.nI1(21,"async"),n.k0s()()(),n.DNE(22,ae,10,6,"ng-template",null,0,n.C5r)}2&j&&(n.R7$(),n.Y8G("ngIf",n.bMT(3,11,n.bMT(2,9,tt.unstagedChanges))),n.R7$(4),n.Y8G("ngIf",n.bMT(6,13,tt.stagedChanges)),n.R7$(5),n.JRh(n.bMT(11,15,"Commit Message")),n.R7$(2),n.FS9("placeholder",n.bMT(13,17,"Enter a description...")),n.Y8G("formControl",tt.commitMessageControl),n.R7$(2),n.Y8G("matTooltip",n.bMT(15,19,tt.commitButtonTooltip)||""),n.R7$(2),n.Y8G("disabled",n.bMT(17,21,tt.commitButtonDisabled)),n.R7$(2),n.Y8G("ngIf",n.bMT(19,23,tt.commitButtonLoading)),n.R7$(2),n.Y8G("ngIf",!1===n.bMT(21,25,tt.commitButtonLoading)))},dependencies:[e.RN,R.fg,Yt.rl,Yt.nJ,lt.xb,it.LG,O.bT,It.me,It.BC,It.l_,wt.$z,wt.iY,V.An,Q.oV,q.K,U._,H.h,O.Jj,L.T,st.D],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%;gap:10px}.staged[_ngcontent-%COMP%]{margin:5px 10px 0;height:calc(100% - 5px)}.unstaged[_ngcontent-%COMP%]{margin:0 10px 5px;height:calc(100% - 5px)}app-grid-cell[_ngcontent-%COMP%]:first-child   .staged[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;height:100%}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{flex:0 0 auto;position:relative}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:space-between;min-height:40px;margin-left:32px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{cursor:default}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-12px}.commit[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px;padding:16px;overflow:auto;display:flex;flex-direction:column;min-height:158px;max-height:33%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px}.commit[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 auto}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}.dark-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#cb8837}.light-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#d8a669}"],changeDetection:0})}}return(0,E.Cg)([(0,D.l6)(y.s.selectedRepositoryPath)],ht.prototype,"repositoryPath",void 0),(0,E.Cg)([(0,D.l6)(y.s.selectedStagedChanges)],ht.prototype,"allStagedChanges",void 0),(0,E.Cg)([(0,D.l6)(y.s.selectedUnstagedChanges)],ht.prototype,"unstagedChanges",void 0),(0,E.Cg)([(0,D.l6)(y.s.selectedFileForArea("staged"))],ht.prototype,"selectedStagedFile",void 0),(0,E.Cg)([(0,D.l6)(y.s.selectedFileForArea("unstaged"))],ht.prototype,"selectedUnstagedFile",void 0),(0,E.Cg)([(0,D.l6)(y.s.selectedRepositoryCommitMessage)],ht.prototype,"selectedRepositoryCommitMessage",void 0),(0,E.Cg)([(0,D.l6)(Et.d.selectedProfile)],ht.prototype,"selectedProfile",void 0),(0,E.Cg)([(0,D.l6)(Et.d.profiles)],ht.prototype,"profiles",void 0),ht})(),se=(()=>{class ht{static{this.\u0275fac=function(j){return new(j||ht)}}static{this.\u0275mod=n.$C({type:ht})}static{this.\u0275inj=n.G2t({imports:[e.Hu,r.g7,R.fS,it.D6,o.U,s.p,X.K]})}}return ht})();n.wjB($.n,[O.bT,vt,ie],[O.Jj])},1281:(kt,ct,i)=>{i.d(ct,{Q:()=>Yt});var e=i(1635),r=i(9969),R=i(9327),it=i(6939),o=i(4438),s=i(9843),X=i(5585),$=i(4412),E=i(4572),f=i(1413),n=i(7786),D=i(7468),v=i(7673),J=i(8810),t=i(6354),G=i(6977),T=i(6697),W=i(5245),y=i(3294),u=i(8141),C=i(5558),S=i(5964),O=i(9437),V=i(4548),Q=i(3130),dt=i(949),q=i(4315),U=i(877),H=i(5530),B=i(5012),st=i(6969),Ct=i(2140),ot=i(4766),pt=i(3042),et=i(9399);const ft=["contextMenu"];function Pt(lt,wt){if(1&lt&&(o.nrm(0,"app-condensed-path",15),o.nI1(1,"async")),2&lt){const L=o.XpG(2);o.Y8G("path",o.bMT(1,1,L.filePath))}}function vt(lt,wt){if(1&lt){const L=o.RV6();o.j41(0,"button",16),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(L);const at=o.XpG(2);return o.Njj(at.modifyLinesStage("stage"))}),o.nrm(2,"mat-icon",17),o.k0s()}2&lt&&o.Y8G("matTooltip",o.bMT(1,1,"Stage selected lines"))}function Lt(lt,wt){if(1&lt){const L=o.RV6();o.j41(0,"button",18),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(L);const at=o.XpG(2);return o.Njj(at.modifyLinesStage("discard"))}),o.nrm(2,"mat-icon",19),o.k0s()}2&lt&&o.Y8G("matTooltip",o.bMT(1,1,"Discard selected lines"))}function It(lt,wt){if(1&lt){const L=o.RV6();o.j41(0,"button",20),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(L);const at=o.XpG(2);return o.Njj(at.modifyLinesStage("unstage"))}),o.nrm(2,"mat-icon",21),o.k0s()}2&lt&&o.Y8G("matTooltip",o.bMT(1,1,"Unstage selected lines"))}function gt(lt,wt){if(1&lt){const L=o.RV6();o.j41(0,"button",22),o.bIt("click",function(){o.eBV(L);const at=o.XpG(2);return o.Njj(at.edited.next())}),o.j41(1,"mat-icon"),o.EFF(2,"edit"),o.k0s()()}}function yt(lt,wt){if(1&lt){const L=o.RV6();o.j41(0,"button",23),o.bIt("click",function(){o.eBV(L);const at=o.XpG(2);return o.Njj(at.closed.next())}),o.j41(1,"mat-icon"),o.EFF(2,"close"),o.k0s()()}}function I(lt,wt){1&lt&&(o.j41(0,"main"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&lt&&(o.R7$(),o.JRh(o.bMT(2,1,"Loading...")))}function F(lt,wt){1&lt&&(o.j41(0,"main"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&lt&&(o.R7$(),o.JRh(o.bMT(2,1,"Cannot load binary file.")))}function _(lt,wt){1&lt&&(o.j41(0,"main"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&lt&&(o.R7$(),o.JRh(o.bMT(2,1,"Cannot load file.")))}function w(lt,wt){if(1&lt&&o.nrm(0,"app-hunk-view",25),2&lt){const L=o.XpG(3);o.Y8G("diffLines",L.diffLines)}}function m(lt,wt){if(1&lt&&o.nrm(0,"app-inline-view",25),2&lt){const L=o.XpG(3);o.Y8G("diffLines",L.diffLines)}}function x(lt,wt){if(1&lt&&o.nrm(0,"app-split-view",25),2&lt){const L=o.XpG(3);o.Y8G("diffLines",L.diffLines)}}function k(lt,wt){if(1&lt&&(o.j41(0,"main"),o.DNE(1,w,1,1,"app-hunk-view",24)(2,m,1,1,"app-inline-view",24)(3,x,1,1,"app-split-view",24),o.k0s()),2&lt){const L=o.XpG().ngIf;o.R7$(),o.Y8G("ngIf","hunk"===L),o.R7$(),o.Y8G("ngIf","inline"===L),o.R7$(),o.Y8G("ngIf","split"===L)}}function rt(lt,wt){if(1&lt){const L=o.RV6();o.qex(0),o.j41(1,"header")(2,"app-find-control",2),o.nI1(3,"async"),o.bIt("focusin",function(){o.eBV(L);const at=o.XpG();return o.Njj(at.findControlHasFocus$.next(!0))})("focusout",function(){o.eBV(L);const at=o.XpG();return o.Njj(at.findControlHasFocus$.next(!1))}),o.k0s(),o.DNE(4,Pt,2,3,"app-condensed-path",3),o.nI1(5,"async"),o.nI1(6,"async"),o.j41(7,"div",4),o.DNE(8,vt,3,3,"button",5),o.nI1(9,"async"),o.DNE(10,Lt,3,3,"button",6),o.nI1(11,"async"),o.DNE(12,It,3,3,"button",7),o.nI1(13,"async"),o.j41(14,"mat-button-toggle-group",8),o.bIt("change",function(at){o.eBV(L);const Rt=o.XpG();return o.Njj(Rt.changeView(at.value))}),o.j41(15,"mat-button-toggle",9),o.nI1(16,"translate"),o.j41(17,"mat-icon"),o.EFF(18,"calendar_view_day"),o.k0s()(),o.j41(19,"mat-button-toggle",10),o.nI1(20,"translate"),o.j41(21,"mat-icon"),o.EFF(22,"view_headline"),o.k0s()(),o.j41(23,"mat-button-toggle",11),o.nI1(24,"translate"),o.j41(25,"mat-icon"),o.EFF(26,"vertical_split"),o.k0s()()(),o.j41(27,"div",12),o.DNE(28,gt,3,0,"button",13)(29,yt,3,0,"button",14),o.k0s()()(),o.DNE(30,I,3,3,"main",1),o.nI1(31,"async"),o.DNE(32,F,3,3,"main",1),o.nI1(33,"async"),o.DNE(34,_,3,3,"main",1),o.nI1(35,"async"),o.DNE(36,k,4,3,"main",1),o.nI1(37,"async"),o.bVm()}if(2&lt){const L=wt.ngIf,K=o.XpG();o.R7$(2),o.Y8G("@showFindControl",o.bMT(3,16,K.showFindControl))("initial",K.search),o.R7$(2),o.Y8G("ngIf",!(o.bMT(5,18,K.showStage)||o.bMT(6,20,K.showUnstage))),o.R7$(4),o.Y8G("ngIf",o.bMT(9,22,K.showStage)),o.R7$(2),o.Y8G("ngIf",o.bMT(11,24,K.showStage)),o.R7$(2),o.Y8G("ngIf",o.bMT(13,26,K.showUnstage)),o.R7$(2),o.Y8G("value",L),o.R7$(),o.Y8G("matTooltip",o.bMT(16,28,"Hunk View")),o.R7$(4),o.Y8G("matTooltip",o.bMT(20,30,"Inline View")),o.R7$(4),o.Y8G("matTooltip",o.bMT(24,32,"Split View")),o.R7$(5),o.Y8G("ngIf",K.showEdit),o.R7$(),o.Y8G("ngIf",!K.hideClose),o.R7$(),o.Y8G("ngIf","loading"===o.bMT(31,34,K.currentView)),o.R7$(2),o.Y8G("ngIf","binary-file"===o.bMT(33,36,K.currentView)),o.R7$(2),o.Y8G("ngIf","error"===o.bMT(35,38,K.currentView)),o.R7$(2),o.Y8G("ngIf","normal"===o.bMT(37,40,K.currentView))}}function bt(lt,wt){if(1&lt){const L=o.RV6();o.j41(0,"button",28),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(L);const at=o.XpG(2);return at.modifyLinesStage("stage"),o.Njj(at.closeContextMenu())}),o.nrm(2,"mat-icon",17),o.j41(3,"span"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()}2&lt&&(o.Y8G("matTooltip",o.bMT(1,2,"Stage selected lines")),o.R7$(4),o.JRh(o.bMT(5,4,"Stage")))}function Et(lt,wt){if(1&lt){const L=o.RV6();o.j41(0,"button",28),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(L);const at=o.XpG(2);return at.modifyLinesStage("discard"),o.Njj(at.closeContextMenu())}),o.nrm(2,"mat-icon",17),o.j41(3,"span"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()}2&lt&&(o.Y8G("matTooltip",o.bMT(1,2,"Discard selected lines")),o.R7$(4),o.JRh(o.bMT(5,4,"Discard")))}function Ht(lt,wt){if(1&lt){const L=o.RV6();o.j41(0,"button",28),o.nI1(1,"translate"),o.bIt("click",function(){o.eBV(L);const at=o.XpG(2);return at.modifyLinesStage("unstage"),o.Njj(at.closeContextMenu())}),o.nrm(2,"mat-icon",17),o.j41(3,"span"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()}2&lt&&(o.Y8G("matTooltip",o.bMT(1,2,"Unstage selected lines")),o.R7$(4),o.JRh(o.bMT(5,4,"Unstage")))}function Kt(lt,wt){if(1&lt&&(o.j41(0,"div",26),o.DNE(1,bt,6,6,"button",27),o.nI1(2,"async"),o.DNE(3,Et,6,6,"button",27),o.nI1(4,"async"),o.DNE(5,Ht,6,6,"button",27),o.nI1(6,"async"),o.k0s()),2&lt){const L=o.XpG();o.R7$(),o.Y8G("ngIf",o.bMT(2,3,L.showStage)),o.R7$(2),o.Y8G("ngIf",o.bMT(4,5,L.showStage)),o.R7$(2),o.Y8G("ngIf",o.bMT(6,7,L.showUnstage))}}let Yt=(()=>{class lt extends((0,Q.c)(dt.N)){constructor(L,K,at,Rt,Nt,zt,oe,te){super(),this.viewContainerRef=L,this.breakpointObserver=K,this.overlay=at,this.store=Rt,this.highlightApi=Nt,this.findSelectionService=zt,this.diffSelectionService=oe,this.stagingActionsService=te,this.hideClose=!1,this.showEdit=!1,this.search=null,this.closed=new o.bkB,this.edited=new o.bkB,this.currentView=new $.t("loading"),this.diffLines=new $.t(null),this.findControlHasFocus$=new $.t(!1),this.showFindControl=(0,E.z)([this.findSelectionService.searchRegex,this.findControlHasFocus$,this.breakpointObserver.observe([R.Rp.XSmall,R.Rp.Small,R.Rp.Medium])]).pipe((0,t.T)(([ae,ie,se])=>!!ae||ie||!se.matches)),this.searchMatchesCount=new $.t(0),this.matchClicked=new f.B,this.overlayRef=null,this.closeContextMenu=()=>{this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}}ngOnInit(){this.showStage=(0,E.z)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,t.T)(([L,K,at])=>"head"===K&&!0===L?.isUnstaged&&!L.patch.newFileIsSubmodule&&!L.patch.oldFileIsSubmodule&&at.length>0)),this.showUnstage=(0,E.z)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,t.T)(([L,K,at])=>"head"===K&&!1===L?.isUnstaged&&!L.patch.newFileIsSubmodule&&!L.patch.oldFileIsSubmodule&&at.length>0)),this.diffSelectionService.contextMenuOpened.pipe((0,G.Q)(this.destroyed$)).subscribe(L=>{this.closeContextMenu(),(0,E.z)([this.showStage,this.showUnstage]).pipe((0,T.s)(1),(0,G.Q)(this.destroyed$)).subscribe(([K,at])=>{(K||at)&&(this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:L.x,y:L.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new it.VA(this.menuTemplate,this.viewContainerRef)),(0,n.h)(this.diffSelectionService.selectedRange.pipe((0,W.i)(1)),(0,q.p)(this.overlayRef)).pipe((0,T.s)(1),(0,G.Q)(this.destroyed$)).subscribe(()=>this.closeContextMenu()))})}),this.filePath=this.patch.pipe((0,t.T)(L=>L?.patch.newFilePath??L?.patch.oldFilePath??"")),this.patch.pipe((0,y.F)((L,K)=>L&&K?!(L.repositoryPath!==K.repositoryPath||L.isUnstaged!==K.isUnstaged||L.patch.newFileId!==K.patch.newFileId||L.patch.newFileIsDir!==K.patch.newFileIsDir||L.patch.newFileIsSubmodule!==K.patch.newFileIsSubmodule||L.patch.newFilePath!==K.patch.newFilePath||L.patch.oldFileId!==K.patch.oldFileId||L.patch.oldFileIsDir!==K.patch.oldFileIsDir||L.patch.oldFileIsSubmodule!==K.patch.oldFileIsSubmodule||L.patch.oldFilePath!==K.patch.oldFilePath||L.patch.status!==K.patch.status||L.patch.hunks.length!==K.patch.hunks.length||(0,X.A)(L.patch.hunks,K.patch.hunks).some(([at,Rt])=>at?.lines.length!==Rt?.lines.length||at?.newStart!==Rt?.newStart||at?.oldStart!==Rt?.oldStart||at?.header!==Rt?.header||at&&Rt&&(0,X.A)(at.lines,Rt.lines).some(([Nt,zt])=>Nt?.content.length!==zt?.content.length||Nt?.newLineNo!==zt?.newLineNo||Nt?.oldLineNo!==zt?.oldLineNo||Nt?.origin!==zt?.origin||Nt?.content!==zt?.content))):!L&&!K),(0,u.M)(()=>{this.currentView.next("loading")}),(0,C.n)(L=>L?(0,D.p)(this.getLines(L,!1)).pipe((0,G.Q)(this.currentView.pipe((0,W.i)(1),(0,S.p)(K=>"loading"===K))),(0,G.Q)(this.destroyed$),(0,t.T)(([K,at])=>[L,K,at]),(0,O.W)(K=>V.a_.matches(K)?(this.currentView.next("binary-file"),(0,v.of)(null)):V.N4.matches(K)?(this.currentView.next("error"),(0,v.of)(null)):(0,J.$)(()=>K))):(0,v.of)(null)),(0,u.M)(L=>{if(L){const[K,at,Rt]=L;this.diffLines.next({hunks:K.patch.hunks,oldLines:at,newLines:Rt,oldFilePath:K.patch.oldFilePath,newFilePath:K.patch.newFilePath,highlighted:!1}),this.currentView.next("normal")}else this.diffLines.next(null)}),(0,C.n)(L=>L?.[0]?(0,D.p)(this.getLines(L?.[0],!0)).pipe((0,G.Q)(this.currentView.pipe((0,W.i)(1),(0,S.p)(K=>"loading"===K))),(0,G.Q)(this.destroyed$),(0,t.T)(([K,at])=>[L?.[0],K,at]),(0,O.W)(K=>V.a_.matches(K)?(this.currentView.next("binary-file"),(0,v.of)(null)):V.N4.matches(K)?(this.currentView.next("error"),(0,v.of)(null)):(0,J.$)(()=>K))):(0,v.of)(null)),(0,G.Q)(this.destroyed$)).subscribe(L=>{if(L){const[K,at,Rt]=L;this.diffLines.next({hunks:K.patch.hunks,oldLines:at,newLines:Rt,oldFilePath:K.patch.oldFilePath,newFilePath:K.patch.newFilePath,highlighted:!0}),this.currentView.next("normal")}else this.diffLines.next(null)})}changeView(L){this.store.dispatch(new H.FJ(L))}modifyLinesStage(L){const K=this.store.selectSnapshot(U.s.selectedRepositoryPath);if(!K)throw new V.Jf;this.patch.pipe((0,T.s)(1)).subscribe(at=>{if(!at||!at.patch.oldFilePath)return;const Rt=[K,at.patch.oldFileId?at.patch.oldFilePath:null,at.patch.newFileId?at.patch.newFilePath:null,this.diffSelectionService.selectedFileLines.value];switch(L){case"discard":this.stagingActionsService.discardFileLines(...Rt).subscribe();break;case"stage":this.stagingActionsService.stageFileLines(...Rt).subscribe();break;default:this.stagingActionsService.unstageFileLines(...Rt).subscribe()}})}getLines(L,K){if(L.patch.oldFileIsSubmodule||L.patch.newFileIsSubmodule){if(L.patch.hunks.length<=0)return[(0,v.of)([]),(0,v.of)([])];const at=L.patch.hunks[0]?.lines.find(Nt=>Nt.oldLineNo>0),Rt=L.patch.hunks[0]?.lines.find(Nt=>Nt.newLineNo>0);return[(0,v.of)([{lineNumber:1,text:at?.content??"",tokens:[{startIndex:0,endIndex:at?.content.length??0,scopes:["normal"]}]}]),(0,v.of)([{lineNumber:1,text:Rt?.content??"",tokens:[{startIndex:0,endIndex:Rt?.content.length??0,scopes:["normal"]}]}])]}return[L.patch.oldFileId?this.highlightApi.getHighlightedFile(L.repositoryPath,L.patch.oldFileId,L.patch.oldFilePath,K):(0,v.of)([]),L.isUnstaged?this.highlightApi.getHighlightedFile(L.repositoryPath,null,L.patch.newFilePath,K):L.patch.newFileId?this.highlightApi.getHighlightedFile(L.repositoryPath,L.patch.newFileId,L.patch.newFilePath,K):(0,v.of)([])]}static{this.\u0275fac=function(K){return new(K||lt)(o.rXU(o.c1b),o.rXU(R.QP),o.rXU(st.hJ),o.rXU(s.il),o.rXU(Ct.I),o.rXU(ot.v),o.rXU(pt.h),o.rXU(et.M))}}static{this.\u0275cmp=o.VBU({type:lt,selectors:[["app-diff-view"]],viewQuery:function(K,at){if(1&K&&o.GBs(ft,5),2&K){let Rt;o.mGM(Rt=o.lsd())&&(at.menuTemplate=Rt.first)}},inputs:{patch:"patch",hideClose:"hideClose",showEdit:"showEdit",search:"search"},outputs:{closed:"closed",edited:"edited"},features:[o.Vt3],decls:4,vars:3,consts:[["contextMenu",""],[4,"ngIf"],[3,"focusin","focusout","initial"],[3,"path",4,"ngIf"],[1,"right"],["type","button","class","stage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],["type","button","class","discard-button","mat-stroked-button","","color","warn",3,"matTooltip","click",4,"ngIf"],["type","button","class","unstage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],[3,"change","value"],["value","hunk",3,"matTooltip"],["value","inline",3,"matTooltip"],["value","split",3,"matTooltip"],[1,"close-container"],["type","button","mat-icon-button","","class","edit-button app-icon-button-md",3,"click",4,"ngIf"],["type","button","mat-icon-button","","class","close-button app-icon-button-md",3,"click",4,"ngIf"],[3,"path"],["type","button","mat-stroked-button","",1,"stage-button",3,"click","matTooltip"],["svgIcon","tray-plus"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"click","matTooltip"],["svgIcon","tray-remove"],["type","button","mat-stroked-button","",1,"unstage-button",3,"click","matTooltip"],["svgIcon","tray-minus"],["type","button","mat-icon-button","",1,"edit-button","app-icon-button-md",3,"click"],["type","button","mat-icon-button","",1,"close-button","app-icon-button-md",3,"click"],[3,"diffLines",4,"ngIf"],[3,"diffLines"],[1,"menu-panel"],["type","button","class","menu-item",3,"matTooltip","click",4,"ngIf"],["type","button",1,"menu-item",3,"click","matTooltip"]],template:function(K,at){1&K&&(o.DNE(0,rt,38,42,"ng-container",1),o.nI1(1,"async"),o.DNE(2,Kt,7,9,"ng-template",null,0,o.C5r)),2&K&&o.Y8G("ngIf",o.bMT(1,1,at.view))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;position:absolute}header[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:baseline;justify-content:space-between;margin-bottom:5px;outline:none;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}header[_ngcontent-%COMP%]   app-find-control[_ngcontent-%COMP%]{min-width:340px;max-width:350px;overflow:hidden}header[_ngcontent-%COMP%]   app-condensed-path[_ngcontent-%COMP%]{min-width:150px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:5px;margin-left:auto}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:38px;padding:0 6px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]{display:flex;align-items:center;align-self:baseline;overflow:hidden;height:40px}main[_ngcontent-%COMP%]{flex:1 0 auto;outline:none;overflow-x:auto;overflow-y:auto}.dark-theme   [_nghost-%COMP%]{background:#1e1e1e}.light-theme   [_nghost-%COMP%]{background:#fafafa}"],data:{animation:[(0,r.hZ)("showFindControl",[(0,r.wk)("true",(0,r.iF)({opacity:1})),(0,r.wk)("false",(0,r.iF)({opacity:0,position:"absolute",height:0})),(0,r.kY)("false -> true",[(0,r.iF)({opacity:0,position:"relative",height:"*"}),(0,r.i0)("225ms ease-in-out",(0,r.iF)({opacity:1}))]),(0,r.kY)("true -> false",[(0,r.iF)({opacity:1}),(0,r.i0)("225ms ease-in-out",(0,r.iF)({opacity:0}))])])]},changeDetection:0})}}return(0,e.Cg)([(0,s.l6)(U.s.selectedCommitId)],lt.prototype,"selectedCommitId",void 0),(0,e.Cg)([(0,s.l6)(B.d.diffView)],lt.prototype,"view",void 0),lt})()},9563:(kt,ct,i)=>{i.d(ct,{Z:()=>Z});var e=i(5571),r=i(9042),R=i(1117),it=i(1281),o=i(5272),s=i(4438),X=i(2074),$=i(8070),E=i(7003);var D=i(3938),v=i(8787),J=i(5809);const G=function t(N){var l=(0,J.A)(N),a=l%1;return l==l?a?l-a:l:0},W=function T(N,l,a){var c=null==N?0:N.length;return c?(l=a||void 0===l?1:G(l),(0,v.A)(N,0,(l=c-l)<0?0:l)):[]},u=function y(N,l,a){var c=null==N?0:N.length;return c?(l=a||void 0===l?1:G(l),(0,v.A)(N,(l=c-l)<0?0:l,c)):[]};var C=i(4412),S=i(4572),O=i(6354),V=i(9172),Q=i(3946),dt=i(3103),q=i(6977),U=i(4548),H=i(3130),B=i(949),st=i(8694),Ct=i(5345),ot=i(3042),pt=i(4766),et=i(177),ft=i(8834),Pt=i(9213),vt=i(7575),Lt=i(9767);const It=["scrollContainer"],gt=["code"];function yt(N,l){if(1&N&&s.nrm(0,"span",9),2&N){const a=l.ngIf;s.xc7("left",a.left)("width",a.width)}}function I(N,l){if(1&N){const a=s.RV6();s.qex(0),s.j41(1,"button",10),s.bIt("click",function(){s.eBV(a);const d=s.XpG().$implicit,M=s.XpG();return s.Njj(M.expandSeparator(d))}),s.j41(2,"mat-icon",11),s.EFF(3),s.k0s()(),s.j41(4,"span",12),s.EFF(5),s.k0s(),s.bVm()}if(2&N){const a=s.XpG(),c=a.$implicit,d=a.first,M=a.last,A=s.XpG();s.R7$(),s.xc7("width",A.lineNumberMargin+26,"px"),s.R7$(2),s.JRh(d?"expand_less":M?"expand_more":"unfold_more"),s.R7$(2),s.JRh(c.separatorHeader)}}function F(N,l){if(1&N&&(s.j41(0,"span",17),s.EFF(1),s.k0s()),2&N){const a=l.$implicit;s.Y8G("ngClass",a.class),s.R7$(),s.JRh(a.text)}}function _(N,l){if(1&N&&(s.qex(0),s.DNE(1,F,2,2,"span",16),s.nI1(2,"findToken"),s.nI1(3,"tokens"),s.bVm()),2&N){const a=l.ngIf,c=s.XpG(2).index;s.R7$(),s.Y8G("ngForOf",s.i5U(3,5,s.brH(2,1,a.tokens,a.text,c),a.text))}}function w(N,l){if(1&N&&(s.j41(0,"span",13),s.EFF(1),s.k0s(),s.j41(2,"span",14),s.EFF(3),s.k0s(),s.DNE(4,_,4,8,"ng-container",15)),2&N){const a=s.XpG().$implicit,c=s.XpG();s.xc7("right","calc(100% + 26px + "+(c.lineNumberMargin/2).toString()+"px)")("width",c.lineNumberMargin/2-5,"px"),s.R7$(),s.JRh(null==a.diffLine.oldLine?null:a.diffLine.oldLine.lineNumber),s.R7$(),s.xc7("width",c.lineNumberMargin/2-5,"px"),s.R7$(),s.JRh(null==a.diffLine.newLine?null:a.diffLine.newLine.lineNumber),s.R7$(),s.Y8G("ngIf",c.getLineView(a.diffLine))}}function m(N,l){if(1&N&&(s.j41(0,"li",6),s.DNE(1,yt,1,4,"span",7),s.nI1(2,"async"),s.DNE(3,I,6,4,"ng-container",8)(4,w,5,9,"ng-template",null,2,s.C5r),s.k0s()),2&N){const a=l.$implicit,c=l.index,d=s.sdS(5),M=s.XpG();s.Y8G("ngClass","line-"+(a.isSeparator?"separator":a.diffLine.status)),s.R7$(),s.Y8G("ngIf",s.bMT(2,4,M.getSelection(c))),s.R7$(2),s.Y8G("ngIf",a.isSeparator)("ngIfElse",d)}}let x=(()=>{class N extends((0,H.c)(B.N,st.f)){constructor(a,c,d){super(),this.diffService=a,this.diffSelectionService=c,this.findSelectionService=d,this.lineNumberMargin=0,this.lines$=new C.t([]),this.currentPatch=null,this.getSelection=M=>this.diffSelectionService.selectedRange.pipe((0,O.T)(A=>{if(!A)return null;const[ut,mt]=A[0].line>A[1].line||A[0].line===A[1].line&&A[0].char>A[1].char?[A[1],A[0]]:A;return M<ut.line||M>mt.line?null:M===ut.line?{left:ut.char*this.diffSelectionService.charWidth+"px",width:ut.line===mt.line?(mt.char-ut.char)*this.diffSelectionService.charWidth+"px":"100%"}:M===mt.line?{left:"0px",width:mt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){const a=this.scrollContainer.elementRef.nativeElement;this.diffLines.pipe((0,V.Z)(null),(0,Q.J)(),(0,dt.c)(0),(0,q.Q)(this.destroyed$)).subscribe(([c,d])=>{const M=this.currentPatch?{...this.currentPatch}:null;if(d){this.currentPatch={newFilePath:d.newFilePath,oldFilePath:d.oldFilePath};const A=function f(N){return N&&N.length?(0,X.A)(N,E.A,$.A):void 0}([d.oldLines.length,d.newLines.length])??0;this.lineNumberMargin=this.diffService.calculateMargin(A.toString().length),this.diffService.calculateHunkLines(d.oldLines,d.newLines,d.hunks).pipe((0,q.Q)(this.destroyed$)).subscribe(ut=>{c&&c.newFilePath===d.newFilePath&&c.oldFilePath===d.oldFilePath&&!c.highlighted&&d.highlighted?this.updateLines(ut):this.lines$.next(ut),(!M||M.oldFilePath!==this.currentPatch?.oldFilePath||M.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),M&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)}),(0,S.z)([this.lines$,this.findSelectionService.searchRegex]).pipe((0,q.Q)(this.destroyed$)).subscribe(([c,d])=>{if(!d)return void this.findSelectionService.setMatches([]);const M=c.map((A,ut)=>[A.isSeparator?null:this.getLineView(A.diffLine),ut]).flatMap(([A,ut])=>A?Array.from(A.text.matchAll(d),mt=>({lineId:ut,startIndex:mt.index??0,endIndex:(mt.index??0)+(mt[0]?.length??0)})):[]);this.findSelectionService.setMatches(M)}),this.findSelectionService.selectedMatch.pipe((0,q.Q)(this.destroyed$)).subscribe(c=>{if(!c||"number"!=typeof c.lineId)return;const d=this.lineNumberMargin+26+c.startIndex*this.diffSelectionService.charWidth;a.scrollTo(d<a.scrollLeft?d:d>a.scrollLeft+a.clientWidth?this.lineNumberMargin+26+c.endIndex*this.diffSelectionService.charWidth-a.clientWidth:a.scrollLeft,19*c.lineId)}),this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(c,d)=>({line:Math.floor((a.scrollTop+d-a.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((a.scrollLeft+c-a.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(c,d)=>this.lines$.value.filter((M,A)=>A>=c&&A<=d).map(M=>M.isSeparator?M.separatorHeader??void 0:this.getLineView(M.diffLine)?.text),()=>{const c=this.lines$.value,d=c[c.length-1];return{line:c.length-1,char:d?(d.isSeparator?d.separatorHeader:this.getLineView(d.diffLine)?.text)?.length??0:0}},([c,d])=>(0,D.A)(c.line,d.line+1).flatMap(M=>{const A=this.lines$.value[M];return!A||A.isSeparator?[]:[{oldLineNo:A.diffLine.oldLine?.lineNumber??-1,newLineNo:A.diffLine.newLine?.lineNumber??-1}]})).pipe((0,q.Q)(this.destroyed$)).subscribe()}expandSeparator(a){const d=this.lines$.value;this.lines$.next(d.flatMap((M,A)=>{if(M!==a)return M;if(a.hiddenDiffLines.length<=25)return a.hiddenDiffLines.map(Dt=>({isSeparator:!1,diffLine:Dt}));if(0===A)return[{isSeparator:!0,separatorHeader:a.separatorHeader,hiddenDiffLines:W(a.hiddenDiffLines,20)},...u(a.hiddenDiffLines,20).map(Dt=>({isSeparator:!1,diffLine:Dt}))];if(A===d.length-1)return[...a.hiddenDiffLines.slice(0,20).map(Dt=>({isSeparator:!1,diffLine:Dt})),{isSeparator:!0,separatorHeader:null,hiddenDiffLines:a.hiddenDiffLines.slice(20)}];const ut=a.hiddenDiffLines.slice(0,10),mt=W(a.hiddenDiffLines.slice(10),10),Qt=u(a.hiddenDiffLines,10);return[...ut.map(Dt=>({isSeparator:!1,diffLine:Dt})),{isSeparator:!0,separatorHeader:a.separatorHeader,hiddenDiffLines:mt},...Qt.map(Dt=>({isSeparator:!1,diffLine:Dt}))]}))}getLineView(a){return"added"===a.status?a.newLine:"removed"===a.status?a.oldLine:"unchanged"===a.status?a.newLine??a.oldLine:null}trackByHunkLine(a,c){return c.isSeparator?c.separatorHeader:`${c.diffLine.oldLine?.text}:::${c.diffLine.newLine?.text}`}updateLines(a){const c=this.lines$.value;let d=0,M=0;const A=[];for(;M<a.length;){const ut=c[d],mt=a[M];if(!ut||!mt)throw new U.G0;if(mt.isSeparator){if(ut.isSeparator){if(ut.hiddenDiffLines.length===mt.hiddenDiffLines.length){A.push(mt),d++,M++;continue}A.push({isSeparator:!0,separatorHeader:mt.separatorHeader,hiddenDiffLines:mt.hiddenDiffLines.slice(0,ut.hiddenDiffLines.length)}),mt.hiddenDiffLines=mt.hiddenDiffLines.slice(ut.hiddenDiffLines.length),d++;continue}const Qt=mt.hiddenDiffLines[0];if(!Qt){M++;continue}A.push({isSeparator:!1,diffLine:Qt}),mt.hiddenDiffLines=mt.hiddenDiffLines.slice(1),d++}else{if(ut.isSeparator)throw new U.G0;A.push(mt),d++,M++}}this.lines$.next(A)}static{this.\u0275fac=function(c){return new(c||N)(s.rXU(Ct.T),s.rXU(ot.h),s.rXU(pt.v))}}static{this.\u0275cmp=s.VBU({type:N,selectors:[["app-hunk-view"]],viewQuery:function(c,d){if(1&c&&(s.GBs(It,7),s.GBs(gt,7,s.aKT),s.GBs(o.d6,5)),2&c){let M;s.mGM(M=s.lsd())&&(d.scrollContainer=M.first),s.mGM(M=s.lsd())&&(d.codeElement=M.first),s.mGM(M=s.lsd())&&(d.viewports=M)}},inputs:{diffLines:"diffLines"},features:[s.Vt3],decls:7,vars:9,consts:[["scrollContainer",""],["code",""],["diffLineContent",""],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["tabindex","0",1,"vs-code-theme"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"selection"],["mat-button","",1,"separator-icon",3,"click"],["inline",""],[1,"separator-header"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,d){1&c&&(s.j41(0,"cdk-virtual-scroll-viewport",3,0)(2,"code",4,1)(4,"ul"),s.DNE(5,m,6,6,"li",5),s.nI1(6,"async"),s.k0s()()()),2&c&&(s.Y8G("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.R7$(4),s.xc7("margin-left",d.lineNumberMargin+26,"px"),s.R7$(),s.Y8G("cdkVirtualForOf",s.bMT(6,7,d.lines$))("cdkVirtualForTrackBy",d.trackByHunkLine))},dependencies:[o.yg,o.E$,o.d6,et.YU,et.Sq,et.bT,ft.$z,Pt.An,et.Jj,vt.f,Lt.R],styles:['code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{right:100%}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{cursor:pointer;height:19px;line-height:19px;padding:0;text-align:center;min-width:0}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:100%;z-index:-1}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:19px}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#252525}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#eee}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}'],changeDetection:0})}}return N})();const k=["scrollContainer"],rt=["code"];function bt(N,l){if(1&N&&s.nrm(0,"span",10),2&N){const a=l.ngIf;s.xc7("left",a.left)("width",a.width)}}function Et(N,l){if(1&N&&(s.j41(0,"span",12),s.EFF(1),s.k0s()),2&N){const a=l.$implicit;s.Y8G("ngClass",a.class),s.R7$(),s.JRh(a.text)}}function Ht(N,l){if(1&N&&(s.qex(0),s.DNE(1,Et,2,2,"span",11),s.nI1(2,"findToken"),s.nI1(3,"tokens"),s.bVm()),2&N){const a=l.ngIf,c=s.XpG().index;s.R7$(),s.Y8G("ngForOf",s.i5U(3,5,s.brH(2,1,a.tokens,a.text,c),a.text))}}function Kt(N,l){if(1&N&&(s.j41(0,"li",5),s.DNE(1,bt,1,4,"span",6),s.nI1(2,"async"),s.j41(3,"span",7),s.EFF(4),s.k0s(),s.j41(5,"span",8),s.EFF(6),s.k0s(),s.DNE(7,Ht,4,8,"ng-container",9),s.k0s()),2&N){const a=l.$implicit,c=l.index,d=s.XpG();s.Y8G("ngClass","line-"+a.status),s.R7$(),s.Y8G("ngIf",s.bMT(2,11,d.getSelection(c))),s.R7$(2),s.xc7("right","calc(100% + 26px + "+(d.lineNumberMargin/2).toString()+"px)")("width",d.lineNumberMargin/2-5,"px"),s.R7$(),s.JRh(null==a.oldLine?null:a.oldLine.lineNumber),s.R7$(),s.xc7("width",d.lineNumberMargin/2-5,"px"),s.R7$(),s.JRh(null==a.newLine?null:a.newLine.lineNumber),s.R7$(),s.Y8G("ngIf",d.getLineView(a))}}let Yt=(()=>{class N extends((0,H.c)(B.N,st.f)){constructor(a,c,d){super(),this.diffService=a,this.diffSelectionService=c,this.findSelectionService=d,this.lineNumberMargin=0,this.lines$=new C.t([]),this.currentPatch=null,this.getSelection=M=>this.diffSelectionService.selectedRange.pipe((0,O.T)(A=>{if(!A)return null;const[ut,mt]=A[0].line>A[1].line||A[0].line===A[1].line&&A[0].char>A[1].char?[A[1],A[0]]:A;return M<ut.line||M>mt.line?null:M===ut.line?{left:ut.char*this.diffSelectionService.charWidth+"px",width:ut.line===mt.line?(mt.char-ut.char)*this.diffSelectionService.charWidth+"px":"100%"}:M===mt.line?{left:"0px",width:mt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){const a=this.scrollContainer.nativeElement;this.diffLines.pipe((0,dt.c)(0),(0,q.Q)(this.destroyed$)).subscribe(c=>{const d=this.currentPatch?{...this.currentPatch}:null;if(c){this.currentPatch={newFilePath:c.newFilePath,oldFilePath:c.oldFilePath};const M=Math.max(c.oldLines.length,c.newLines.length)??0;this.lineNumberMargin=this.diffService.calculateMargin(M.toString().length),this.diffService.calculateInlineLines(c.oldLines,c.newLines,c.hunks).pipe((0,q.Q)(this.destroyed$)).subscribe(A=>{this.lines$.next(A),(!d||d.oldFilePath!==this.currentPatch?.oldFilePath||d.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),d&&this.scrollContainer.nativeElement?.scrollTo(0,0)}),(0,S.z)([this.lines$,this.findSelectionService.searchRegex]).pipe((0,q.Q)(this.destroyed$)).subscribe(([c,d])=>{if(!d)return void this.findSelectionService.setMatches([]);const M=c.map((A,ut)=>[this.getLineView(A),ut]).flatMap(([A,ut])=>A?Array.from(A.text.matchAll(d),mt=>({lineId:ut,startIndex:mt.index??0,endIndex:(mt.index??0)+(mt[0]?.length??0)})):[]);this.findSelectionService.setMatches(M)}),this.findSelectionService.selectedMatch.pipe((0,q.Q)(this.destroyed$)).subscribe(c=>{if(!c||"number"!=typeof c.lineId)return;const d=this.lineNumberMargin+26+c.startIndex*this.diffSelectionService.charWidth;a.scrollTo(d<a.scrollLeft?d:d>a.scrollLeft+a.clientWidth?this.lineNumberMargin+26+c.endIndex*this.diffSelectionService.charWidth-a.clientWidth:a.scrollLeft,19*c.lineId)}),this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(c,d)=>({line:Math.floor((a.scrollTop+d-a.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((a.scrollLeft+c-a.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(c,d)=>this.lines$.value.filter((M,A)=>A>=c&&A<=d).map(M=>this.getLineView(M)?.text),()=>{const c=this.lines$.value[this.lines$.value.length-1];return{line:this.lines$.value.length-1,char:c?this.getLineView(c)?.text.length??0:0}},([c,d])=>(0,D.A)(c.line,d.line+1).map(M=>({oldLineNo:this.lines$.value[M]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[M]?.newLine?.lineNumber??-1}))).pipe((0,q.Q)(this.destroyed$)).subscribe()}getLineView(a){return"added"===a.status?a.newLine:"removed"===a.status?a.oldLine:"unchanged"===a.status?a.newLine??a.oldLine:null}trackByDiffLine(a,c){return a}static{this.\u0275fac=function(c){return new(c||N)(s.rXU(Ct.T),s.rXU(ot.h),s.rXU(pt.v))}}static{this.\u0275cmp=s.VBU({type:N,selectors:[["app-inline-view"]],viewQuery:function(c,d){if(1&c&&(s.GBs(k,7,s.aKT),s.GBs(rt,7,s.aKT),s.GBs(o.d6,5)),2&c){let M;s.mGM(M=s.lsd())&&(d.scrollContainer=M.first),s.mGM(M=s.lsd())&&(d.codeElement=M.first),s.mGM(M=s.lsd())&&(d.viewports=M)}},inputs:{diffLines:"diffLines"},features:[s.Vt3],decls:7,vars:9,consts:[["scrollContainer",""],["code",""],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["tabindex","0",1,"vs-code-theme"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[1,"selection"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,d){1&c&&(s.j41(0,"cdk-virtual-scroll-viewport",2,0)(2,"code",3,1)(4,"ul"),s.DNE(5,Kt,8,13,"li",4),s.nI1(6,"async"),s.k0s()()()),2&c&&(s.Y8G("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.R7$(4),s.xc7("margin-left",d.lineNumberMargin+26,"px"),s.R7$(),s.Y8G("cdkVirtualForOf",s.bMT(6,7,d.lines$))("cdkVirtualForTrackBy",d.trackByDiffLine))},dependencies:[o.yg,o.E$,o.d6,et.YU,et.Sq,et.bT,et.Jj,vt.f,Lt.R],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}"],changeDetection:0})}}return N})();var lt=i(3726),wt=i(3993),L=i(5964),K=i(8141),at=i(152),Rt=i(6268),Nt=i(1619);const zt=["leftScrollContainer"],oe=["rightScrollContainer"],te=["leftCode"],ae=["rightCode"];function ie(N,l){if(1&N&&s.nrm(0,"span",13),2&N){const a=l.ngIf;s.xc7("left",a.left)("width",a.width)}}function se(N,l){if(1&N&&(s.j41(0,"span",16),s.EFF(1),s.k0s()),2&N){const a=l.$implicit;s.Y8G("ngClass",a.class),s.R7$(),s.JRh(a.text)}}function ht(N,l){if(1&N&&(s.qex(0),s.j41(1,"span",14),s.EFF(2),s.k0s(),s.DNE(3,se,2,2,"span",15),s.nI1(4,"findToken"),s.nI1(5,"tokens"),s.bVm()),2&N){const a=s.XpG(),c=a.$implicit,d=a.index;s.R7$(2),s.JRh(null==c.oldLine?null:c.oldLine.lineNumber),s.R7$(),s.Y8G("ngForOf",s.i5U(5,6,s.brH(4,2,null==c.oldLine?null:c.oldLine.tokens,null==c.oldLine?null:c.oldLine.text,"l:"+d),null==c.oldLine?null:c.oldLine.text))}}function Bt(N,l){if(1&N&&(s.j41(0,"li",10),s.DNE(1,ie,1,4,"span",11),s.nI1(2,"async"),s.DNE(3,ht,6,9,"ng-container",12),s.k0s()),2&N){const a=l.$implicit,c=l.index,d=s.XpG();s.Y8G("ngClass","line-"+a.status),s.R7$(),s.Y8G("ngIf",s.bMT(2,3,d.getSelection(c,"left"))),s.R7$(2),s.Y8G("ngIf","added"!==a.status)}}function P(N,l){if(1&N&&s.nrm(0,"span",13),2&N){const a=l.ngIf;s.xc7("left",a.left)("width",a.width)}}function j(N,l){if(1&N&&(s.j41(0,"span",16),s.EFF(1),s.k0s()),2&N){const a=l.$implicit;s.Y8G("ngClass",a.class),s.R7$(),s.JRh(a.text)}}function tt(N,l){if(1&N&&(s.qex(0),s.j41(1,"span",14),s.EFF(2),s.k0s(),s.DNE(3,j,2,2,"span",15),s.nI1(4,"findToken"),s.nI1(5,"tokens"),s.bVm()),2&N){const a=s.XpG(),c=a.$implicit,d=a.index;s.R7$(2),s.JRh(null==c.newLine?null:c.newLine.lineNumber),s.R7$(),s.Y8G("ngForOf",s.i5U(5,6,s.brH(4,2,null==c.newLine?null:c.newLine.tokens,null==c.newLine?null:c.newLine.text,"r:"+d),null==c.newLine?null:c.newLine.text))}}function Mt(N,l){if(1&N&&(s.j41(0,"li",10),s.DNE(1,P,1,4,"span",11),s.nI1(2,"async"),s.DNE(3,tt,6,9,"ng-container",12),s.k0s()),2&N){const a=l.$implicit,c=l.index,d=s.XpG();s.Y8G("ngClass","line-"+a.status),s.R7$(),s.Y8G("ngIf",s.bMT(2,3,d.getSelection(c,"right"))),s.R7$(2),s.Y8G("ngIf","removed"!==a.status)}}let Vt=(()=>{class N extends((0,H.c)(B.N,st.f)){constructor(a,c,d,M){super(),this.zone=a,this.diffService=c,this.diffSelectionService=d,this.findSelectionService=M,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$=new C.t([]),this.currentPatch=null,this.selectionSide=new C.t("right"),this.getSelection=(A,ut)=>this.diffSelectionService.selectedRange.pipe((0,wt.E)(this.selectionSide),(0,O.T)(([mt,Qt])=>{if(!mt||Qt!==ut)return null;const[Dt,Gt]=mt[0].line>mt[1].line||mt[0].line===mt[1].line&&mt[0].char>mt[1].char?[mt[1],mt[0]]:mt;return A<Dt.line||A>Gt.line?null:A===Dt.line?{left:Dt.char*this.diffSelectionService.charWidth+"px",width:Dt.line===Gt.line?(Gt.char-Dt.char)*this.diffSelectionService.charWidth+"px":"100%"}:A===Gt.line?{left:"0px",width:Gt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){const a=this.leftScrollContainer.nativeElement,c=this.rightScrollContainer.nativeElement;this.diffLines.pipe((0,dt.c)(0),(0,q.Q)(this.destroyed$)).subscribe(d=>{const M=this.currentPatch?{...this.currentPatch}:null;d?(this.currentPatch={newFilePath:d.newFilePath,oldFilePath:d.oldFilePath},this.leftLineNumberMargin=this.diffService.calculateMargin(d.oldLines.length.toString().length,!0),this.rightLineNumberMargin=this.diffService.calculateMargin(d.newLines.length.toString().length,!0),this.diffService.calculateSplitLines(d.oldLines,d.newLines,d.hunks).pipe((0,q.Q)(this.destroyed$)).subscribe(A=>{this.lines$.next(A),(!M||M.oldFilePath!==this.currentPatch?.oldFilePath||M.newFilePath!==this.currentPatch?.newFilePath)&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0))})):(this.currentPatch=null,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$.next([]),M&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0)))}),this.zone.runOutsideAngular(()=>{let d=!1,M=!1;(0,lt.R)(this.leftScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,L.p)(()=>!M),(0,K.M)(()=>{d=!0,this.rightScrollContainer.nativeElement.scrollTo(this.leftScrollContainer.nativeElement.scrollLeft,this.leftScrollContainer.nativeElement.scrollTop)}),(0,at.B)(100),(0,q.Q)(this.destroyed$)).subscribe(()=>{d=!1}),(0,lt.R)(this.rightScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,L.p)(()=>!d),(0,K.M)(()=>{M=!0,this.leftScrollContainer.nativeElement.scrollTo(this.rightScrollContainer.nativeElement.scrollLeft,this.rightScrollContainer.nativeElement.scrollTop)}),(0,at.B)(100),(0,q.Q)(this.destroyed$)).subscribe(()=>{M=!1})}),(0,S.z)([this.lines$,this.findSelectionService.searchRegex]).pipe((0,q.Q)(this.destroyed$)).subscribe(([d,M])=>{if(!M)return void this.findSelectionService.setMatches([]);const A=d.map((Dt,Gt)=>[Dt,Gt]),ut=A.filter(([Dt])=>"added"!==Dt.status).map(([Dt,Gt])=>[Dt.oldLine,Gt]),mt=A.filter(([Dt])=>"removed"!==Dt.status).map(([Dt,Gt])=>[Dt.newLine,Gt]),Qt=[...ut.flatMap(([Dt,Gt])=>Dt?Array.from(Dt.text.matchAll(M),re=>({lineId:`l:${Gt}`,startIndex:re.index??0,endIndex:(re.index??0)+(re[0]?.length??0)})):[]),...mt.flatMap(([Dt,Gt])=>Dt?Array.from(Dt.text.matchAll(M),re=>({lineId:`r:${Gt}`,startIndex:re.index??0,endIndex:(re.index??0)+(re[0]?.length??0)})):[])];this.findSelectionService.setMatches(Qt)}),this.findSelectionService.selectedMatch.pipe((0,q.Q)(this.destroyed$)).subscribe(d=>{if(!d||"string"!=typeof d.lineId)return;const M=d.lineId.startsWith("l")?a:c,A=26+(d.lineId.startsWith("l")?this.leftLineNumberMargin:this.rightLineNumberMargin),ut=A+d.startIndex*this.diffSelectionService.charWidth;M.scrollTo(ut<M.scrollLeft?ut:ut>M.scrollLeft+M.clientWidth?A+d.endIndex*this.diffSelectionService.charWidth-M.clientWidth:M.scrollLeft,19*+d.lineId.slice(2))}),this.diffSelectionService.captureSelections(this.leftCodeElement.nativeElement,(d,M)=>({line:Math.floor((a.scrollTop+M-a.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((a.scrollLeft+d-a.getBoundingClientRect().left-(this.leftLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(d,M)=>this.lines$.value.filter((A,ut)=>ut>=d&&ut<=M).map(A=>A.oldLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.oldLine?.text.length??0}),([d,M])=>(0,D.A)(d.line,M.line+1).map(A=>({oldLineNo:this.lines$.value[A]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[A]?.newLine?.lineNumber??-1}))).pipe((0,q.Q)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("left")}),this.diffSelectionService.captureSelections(this.rightCodeElement.nativeElement,(d,M)=>({line:Math.floor((c.scrollTop+M-c.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((c.scrollLeft+d-c.getBoundingClientRect().left-(this.rightLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(d,M)=>this.lines$.value.filter((A,ut)=>ut>=d&&ut<=M).map(A=>A.newLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.newLine?.text.length??0}),([d,M])=>(0,D.A)(d.line,M.line+1).map(A=>({oldLineNo:this.lines$.value[A]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[A]?.newLine?.lineNumber??-1}))).pipe((0,q.Q)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("right")})}trackByDiffLine(a,c){return a}static{this.\u0275fac=function(c){return new(c||N)(s.rXU(s.SKi),s.rXU(Ct.T),s.rXU(ot.h),s.rXU(pt.v))}}static{this.\u0275cmp=s.VBU({type:N,selectors:[["app-split-view"]],viewQuery:function(c,d){if(1&c&&(s.GBs(zt,7,s.aKT),s.GBs(oe,7,s.aKT),s.GBs(te,7,s.aKT),s.GBs(ae,7,s.aKT),s.GBs(o.d6,5)),2&c){let M;s.mGM(M=s.lsd())&&(d.leftScrollContainer=M.first),s.mGM(M=s.lsd())&&(d.rightScrollContainer=M.first),s.mGM(M=s.lsd())&&(d.leftCodeElement=M.first),s.mGM(M=s.lsd())&&(d.rightCodeElement=M.first),s.mGM(M=s.lsd())&&(d.viewports=M)}},inputs:{diffLines:"diffLines"},features:[s.Vt3],decls:17,vars:18,consts:[["leftScrollContainer",""],["leftCode",""],["rightScrollContainer",""],["rightCode",""],["id","diff-view_split-left"],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["tabindex","0",1,"vs-code-theme","left-code"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["id","diff-view_split-right"],["tabindex","1",1,"vs-code-theme","right-code"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf"],[1,"selection"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(c,d){1&c&&(s.j41(0,"app-grid")(1,"app-grid-cell",4)(2,"cdk-virtual-scroll-viewport",5,0)(4,"code",6,1)(6,"ul"),s.DNE(7,Bt,4,5,"li",7),s.nI1(8,"async"),s.k0s()()()(),s.j41(9,"app-grid-cell",8)(10,"cdk-virtual-scroll-viewport",5,2)(12,"code",9,3)(14,"ul"),s.DNE(15,Mt,4,5,"li",7),s.nI1(16,"async"),s.k0s()()()()()),2&c&&(s.R7$(2),s.Y8G("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.R7$(4),s.xc7("margin-left",d.leftLineNumberMargin+26,"px"),s.R7$(),s.Y8G("cdkVirtualForOf",s.bMT(8,14,d.lines$))("cdkVirtualForTrackBy",d.trackByDiffLine),s.R7$(3),s.Y8G("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.R7$(4),s.xc7("margin-left",d.rightLineNumberMargin+26,"px"),s.R7$(),s.Y8G("cdkVirtualForOf",s.bMT(16,16,d.lines$))("cdkVirtualForTrackBy",d.trackByDiffLine))},dependencies:[o.yg,o.E$,o.d6,et.YU,et.Sq,et.bT,Rt.K,Nt._,et.Jj,vt.f,Lt.R],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%;overflow-x:scroll}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#501515}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#1f2c19}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#ee7e7e}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#0cd086}"],changeDetection:0})}}return N})();var Zt=i(4823),qt=i(1441),ee=i(313),de=i(1751);let Z=(()=>{class N{static{this.\u0275fac=function(c){return new(c||N)}}static{this.\u0275mod=s.$C({type:N})}static{this.\u0275inj=s.G2t({imports:[e.Vg,r.fS,R.U]})}}return N})();s.wjB(it.Q,[e.ec,e.pc,et.bT,ft.$z,ft.iY,Pt.An,Zt.oV,qt.A,ee.e,x,Yt,Vt],[et.Jj,de.D])},5345:(kt,ct,i)=>{i.d(ct,{T:()=>E});var e=i(4428),R=i(5585),it=i(7673),o=i(7468),s=i(6354),X=i(4548),$=i(4438);let E=(()=>{class f{constructor(){this.calculateInlineLines=(D,v,J)=>{const t=[];let G=0,T=0,W=[];const y=(u,C)=>{(u>G||C>T)&&(t.push(...(0,R.A)(D.slice(G,u),v.slice(T,C)).map(([S,O])=>({oldLine:S??null,newLine:O??null,status:"unchanged"}))),G=u,T=C)};for(const u of J){y(u.oldStart-1,u.newStart-1),[W,G,T]=this.calculateGroups(D,v,G,T,u);for(const C of W)"modified"===C.type?t.push(...C.lines.flatMap(S=>"replaced"===S.status?[{...S,status:"removed",newLine:null},{...S,status:"added",oldLine:null}]:[S]).sort((S,O)=>"removed"===S.status&&"removed"===O.status?0:"removed"===S.status?-1:"removed"===O.status?1:0)):t.push(...C.lines)}return y(D.length,v.length),(0,it.of)(t)},this.calculateHunkLines=(D,v,J)=>{const t=[];let G=0,T=0,W=[];const y=(u,C,S)=>{(u>G||C>T)&&(t.push({isSeparator:!0,separatorHeader:S,hiddenDiffLines:(0,R.A)(D.slice(G,u),v.slice(T,C)).map(([O,V])=>({oldLine:O??null,newLine:V??null,status:"unchanged"}))}),G=u,T=C)};for(const u of J){y(u.oldStart-1,u.newStart-1,u.header),[W,G,T]=this.calculateGroups(D,v,G,T,u);for(const C of W)"modified"===C.type?t.push(...C.lines.flatMap(S=>"replaced"===S.status?[{isSeparator:!1,diffLine:{...S,status:"removed",newLine:null}},{isSeparator:!1,diffLine:{...S,status:"added",oldLine:null}}]:[{isSeparator:!1,diffLine:S}]).sort((S,O)=>"removed"===S.diffLine.status&&"removed"===O.diffLine.status?0:"removed"===S.diffLine.status?-1:"removed"===O.diffLine.status?1:0)):t.push(...C.lines.map(S=>({isSeparator:!1,diffLine:S})))}return y(D.length,v.length,null),(0,it.of)(t)},this.calculateSplitLines=(D,v,J)=>{const t=[];let G=0,T=0,W=[];const y=(u,C)=>{(u>G||C>T)&&(t.push(...(0,R.A)(D.slice(G,u),v.slice(T,C)).map(([S,O])=>({oldLine:S??null,newLine:O??null,status:"unchanged"}))),G=u,T=C)};for(const u of J){y(u.oldStart-1,u.newStart-1),[W,G,T]=this.calculateGroups(D,v,G,T,u);for(const C of W)t.push(...C.lines)}return y(D.length,v.length),(0,it.of)(t)},this.calculateMergeLines=(D,v,J,t,G)=>{const T=[],W=this.calculateSplitLines(D,v,t),y=this.calculateSplitLines(D,J,G);return(0,o.p)([W,y]).pipe((0,s.T)(([u,C])=>{let S=1,O=0,V=0;for(;O<u.length&&V<C.length;){const Q=u[O],dt=C[V];if(Q.oldLine||dt.oldLine){if(!Q.oldLine&&dt.oldLine)T.push({baseLine:null,yoursLine:Q.newLine,yoursStatus:Q.status,theirsLine:null,theirsStatus:null}),O++;else if(Q.oldLine&&!dt.oldLine)T.push({baseLine:null,yoursLine:null,yoursStatus:null,theirsLine:dt.newLine,theirsStatus:dt.status}),V++;else if(Q.oldLine&&dt.oldLine){if(S!==Q.oldLine.lineNumber||S!==dt.oldLine.lineNumber)throw new X.pj(Q.oldLine.lineNumber,dt.oldLine.lineNumber);T.push({baseLine:dt.oldLine,yoursLine:Q.newLine,yoursStatus:Q.status,theirsLine:dt.newLine,theirsStatus:dt.status}),S++,O++,V++}}else T.push({baseLine:null,yoursLine:Q.newLine,yoursStatus:Q.status,theirsLine:dt.newLine,theirsStatus:dt.status}),O++,V++}for(;O<u.length;){const Q=u[O];T.push({baseLine:Q.oldLine,yoursLine:Q.newLine,yoursStatus:Q.status,theirsLine:null,theirsStatus:null}),O++}for(;V<C.length;){const Q=C[V];T.push({baseLine:Q.oldLine,yoursLine:null,yoursStatus:null,theirsLine:Q.newLine,theirsStatus:Q.status}),V++}return T}))},this.calculateGroups=(D,v,J,t,G)=>{const T=G.lines.filter(S=>">"!==S.origin&&"<"!==S.origin),W=[];let y=J,u=t,C=0;for(;C<T.length;)if(-1===T[C]?.newLineNo){const S=[];for(;C<T.length&&-1===T[C]?.newLineNo;){const O=D[y];O&&S.push(O),y++,C++}if(C<T.length&&-1===T[C]?.oldLineNo){const O=[];for(;C<T.length&&-1===T[C]?.oldLineNo;){const V=v[u];V&&O.push(V),u++,C++}W.push(this.createModifiedGroup(S,O))}else W.push({type:"removed",lines:S.map(O=>({oldLine:O,newLine:null,status:"removed"}))})}else if(-1===T[C]?.oldLineNo){const S=[];for(;C<T.length&&-1===T[C]?.oldLineNo;){const O=v[u];O&&S.push(O),u++,C++}if(C<T.length&&-1===T[C]?.newLineNo){const O=[];for(;C<T.length&&-1===T[C]?.newLineNo;){const V=D[y];V&&O.push(V),y++,C++}W.push(this.createModifiedGroup(O,S))}else W.push({type:"added",lines:S.map(O=>({oldLine:null,newLine:O,status:"added"}))})}else{const S=[],O=[];for(;C<T.length&&-1!==T[C]?.oldLineNo&&-1!==T[C]?.newLineNo;){const V=D[y];V&&S.push(V);const Q=v[u];Q&&O.push(Q),y++,u++,C++}W.push({type:"unchanged",lines:(0,R.A)(S,O).map(([V,Q])=>({oldLine:V??null,newLine:Q??null,status:"unchanged"}))})}return[W,y,u]},this.createModifiedGroup=(D,v)=>{const J=D.map(q=>q.text.replace("\n","")).join("\n"),t=v.map(q=>q.text.replace("\n","")).join("\n"),G=new e.diff_match_patch,T=G.diff_main(J,t);G.diff_cleanupSemantic(T);const W=[];let y=0,u=0,C=null,S=null,O=[],V=[],Q=[];const dt=q=>{q===e.DIFF_EQUAL?(W.push({status:null!==C&&null!==S?"replaced":null!==C?"removed":"added",oldLine:null!==C?{...D[y],tokens:[...D[y]?.tokens??[],...O]}:null,newLine:null!==S?{...v[u],tokens:[...v[u]?.tokens??[],...V]}:null}),y++,u++,C=null,S=null,O=[],V=[]):q===e.DIFF_INSERT?(null===C&&(W.push(...Q),Q=[]),(null===C?W:Q).push({status:"added",oldLine:null,newLine:{...v[u],tokens:[...v[u]?.tokens??[],...V]}}),u++,S=null,V=[]):q===e.DIFF_DELETE&&(null===S&&(W.push(...Q),Q=[]),(null===S?W:Q).push({status:"removed",oldLine:{...D[y],tokens:[...D[y]?.tokens??[],...O]},newLine:null}),y++,C=null,O=[])};for(const[q,U]of T){const H=U.split("\n");if(q===e.DIFF_EQUAL){if(H.length>1){W.push(...Q),Q=[],null!==C||null!==S?(C=(C??0)+(H[0]?.length??0),S=(S??0)+(H[0]?.length??0),dt(q)):(W.push({status:"unchanged",oldLine:D[y],newLine:v[u]}),y++,u++);for(let B=1;B<H.length-1;B++)W.push({status:"unchanged",oldLine:D[y],newLine:v[u]}),y++,u++}C=(C??0)+(H[H.length-1]?.length??0),S=(S??0)+(H[H.length-1]?.length??0)}else if(q===e.DIFF_INSERT){if(H.length>1)if(null!==S){H[0]&&H[0].length>0&&V.push({startIndex:S??0,endIndex:(S??0)+H[0].length,scopes:["diff-added"]}),S+=H[0]?.length??0,dt(q);for(let B=1;B<H.length-1;B++)(null===C?W:Q).push({status:"added",oldLine:null,newLine:{...v[u],tokens:[...v[u]?.tokens??[],{startIndex:0,endIndex:H[B]?.length??0,scopes:["diff-added"]}]}}),u++}else for(let B=0;B<H.length-1;B++)(null===C?W:Q).push({status:"added",oldLine:null,newLine:{...v[u],tokens:[...v[u]?.tokens??[],{startIndex:0,endIndex:H[B]?.length??0,scopes:["diff-added"]}]}}),u++;(H[H.length-1]?.length??0)>0&&V.push({startIndex:S??0,endIndex:(S??0)+(H[H.length-1]?.length??0),scopes:["diff-added"]}),S=(S??0)+(H[H.length-1]?.length??0)}else if(q===e.DIFF_DELETE){if(H.length>1)if(null!==C){(H[0]?.length??0)>0&&O.push({startIndex:C??0,endIndex:(C??0)+(H[0]?.length??0),scopes:["diff-removed"]}),C+=H[0]?.length??0,dt(q);for(let B=1;B<H.length-1;B++)(null===S?W:Q).push({status:"removed",oldLine:{...D[y],tokens:[...D[y]?.tokens??[],{startIndex:0,endIndex:H[B]?.length??0,scopes:["diff-removed"]}]},newLine:null}),y++}else for(let B=0;B<H.length-1;B++)(null===S?W:Q).push({status:"removed",oldLine:{...D[y],tokens:[...D[y]?.tokens??[],{startIndex:0,endIndex:H[B]?.length??0,scopes:["diff-removed"]}]},newLine:null}),y++;(H[H.length-1]?.length??0)>0&&O.push({startIndex:C??0,endIndex:(C??0)+(H[H.length-1]?.length??0),scopes:["diff-removed"]}),C=(C??0)+(H[H.length-1]?.length??0)}}return W.push(...Q),(null!==C||null!==S)&&(0===J.length&&(C=C??0),0===t.length&&(S=S??0),dt(e.DIFF_EQUAL)),{type:"modified",lines:W}}}static{this.lineNumberCharacterWidth=8.3}static{this.lineNumberSpacing=10}calculateMargin(D,v=!1){return f.lineNumberSpacing+D*f.lineNumberCharacterWidth*(v?1:2)}getFileExtension(D){if(!D)return null;const v=D.lastIndexOf(".");return v>0?D.substring(v+1):null}static{this.\u0275fac=function(v){return new(v||f)}}static{this.\u0275prov=$.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},9767:(kt,ct,i)=>{i.d(ct,{R:()=>s});var e=i(2180),r=i(3938),R=i(8672),it=i(4438);let s=(()=>{class X{constructor(){this.renderScopes=E=>E.map(f=>this.renderScope(f)).join(" "),this.areEqual=(E,f)=>{if(E.length!==f.length)return!1;const n=new Set(E);for(const D of f)if(!n.has(D))return!1;return!0}}transform(E,f=""){if(!f)return[];if(f.length>1e4)return[{class:"normal",text:f.slice(0,1e4)+(0,R.Tl)("... Max line length reached!")}];const n=(0,e.A)(E,t=>t.startIndex),D=[];let v=0,J=n.filter(t=>t.startIndex<=v&&t.endIndex>v);for(;v<f.length;){let t=n.filter(T=>T.startIndex<=v&&T.endIndex>v);const G=v;for(;this.areEqual(J,t)&&v<f.length;)v++,t=n.filter(T=>T.startIndex<=v&&T.endIndex>v);D.push({class:this.renderScopes(J.map(T=>T.scopes)),text:f.substring(G,v)||"\n"}),J=t}return D}renderScope(E){const f=E[E.length-1];if(!f)return"";const n=f.split(".");return(0,r.A)(1,n.length+1).map(D=>n.slice(0,D).join("-")).join(" ")}static{this.\u0275fac=function(f){return new(f||X)}}static{this.\u0275pipe=it.EJ8({name:"tokens",type:X,pure:!0})}}return X})()},6159:(kt,ct,i)=>{i.d(ct,{q:()=>q});var e=i(2074),r=i(3069);const it=function R(U,H){return U<H},s=function o(U,H){return U&&U.length?(0,e.A)(U,(0,r.A)(H,2),it):void 0};var X=i(8070);var f=i(3938),n=i(8587),D=i(301),v=i(6106),J=i(6689),t=i(778),G=i(5934);var u=i(363),C=i(8388);const O=(0,u.A)(function(U,H){return(0,C.A)(U)?function W(U,H,B,st){var Ct=-1,ot=D.A,pt=!0,et=U.length,ft=[],Pt=H.length;if(!et)return ft;B&&(H=(0,J.A)(H,(0,t.A)(B))),st?(ot=v.A,pt=!1):H.length>=200&&(ot=G.A,pt=!1,H=new n.A(H));t:for(;++Ct<et;){var vt=U[Ct],Lt=null==B?vt:B(vt);if(vt=st||0!==vt?vt:0,pt&&Lt==Lt){for(var It=Pt;It--;)if(H[It]===Lt)continue t;ft.push(vt)}else ot(H,Lt,st)||ft.push(vt)}return ft}(U,H):[]});var V=i(4548),Q=i(8672),dt=i(4438);let q=(()=>{class U{constructor(){this.isDashed=B=>"head"===B.id||B.id.startsWith("merge:")}static{this.xUnit=15}static{this.yUnit=28}static{this.xOffset=7.5}static{this.yOffset=13}static{this.totalColors=15}isIndexInBounds(B,st,Ct){const ot=B*U.yUnit;return ot>=st&&ot<Ct-U.yUnit}calculateVisible(B,st,Ct,ot,pt){return{commitDetails:B.slice(ot,pt),commitTrails:st.filter(et=>et.minYIndexWithMerges<=pt&&et.maxYIndexWithMerges>=ot),mergePaths:Ct.filter(et=>et.from.yIndex>=ot&&et.to.some(ft=>ft.yIndex<=pt))}}calculate(B,st,Ct,ot,pt,et,ft){const Pt={};let vt=[],Lt=[],It=[];const gt=(B?1:0)+st.length;ot.forEach((_,w)=>{Pt[_.id]={id:_.id,yIndex:w+gt,commit:_}});const yt=[];st.forEach((_,w)=>{const m=`merge:${_.fromCommitId}:${_.toCommitId}`,x={id:m,message:_.message??(0,Q.Tl)("merge: from _branch_ into _branch_",{from:_.fromCommitId,to:_.toCommitId}),parentIds:[_.toCommitId,_.fromCommitId],time:0,references:[],authorEmail:"",authorName:""};yt.push(x),Pt[m]={id:m,yIndex:w+(B?1:0),commit:x}}),Ct.forEach(_=>{const w=Pt[_.id],m=w?.commit.parentIds[1];!w||!m||2!==w.commit.parentIds.length||(w.stash={index:_.index,workingDirCommitId:_.id,indexCommitId:m})});const I=B?{id:"head",message:"",parentIds:B.parentId?[B.parentId,...B.mergeHeads]:[...B.mergeHeads],time:0,references:[],authorEmail:"",authorName:""}:null;B&&(Pt.head={id:"head",yIndex:0,commit:I});const F=I?[I,...yt,...ot]:[...yt,...ot];if(F.forEach(_=>{const w=Pt[_.id];if(!w)throw new V.VX(_.id);w.trail||this.calculateTrail(w,Pt,vt,Lt),!w.stash&&_.parentIds.length>1&&_.parentIds.slice(1).forEach(m=>{const x=Pt[m];if(x)if(x.mergeFrom)x.mergeFrom.to.push(w);else{const k={from:x,to:[w]};x.mergeFrom=k,It.push(k)}})}),({mergePaths:It,lanes:Lt}=this.calculateMergePaths(It,Lt,pt,et)),this.calculateColors(vt,ft),B&&B.parentId&&Pt[B.parentId]){const _=vt.find(w=>0===w.minYIndex);if(_){_.commits=_.commits.filter(m=>"head"!==m.id);const w=s(_.commits,m=>m.yIndex);_.minYIndex=w?.yIndex??0,_.minYIndexWithMerges=w?.yIndex??0,this.createUncommittedTrail(Pt.head,Pt[B.parentId],vt,_.colorIndex,_.lane)}}return yt.forEach((_,w)=>{const m=vt.find(rt=>rt.minYIndex===w+(B?1:0)),x=_.parentIds[0],k=x?Pt[x]:void 0;if(m&&k){if(m.commits=m.commits.filter(bt=>bt.id!==_.id),m.commits.length<=0)vt=vt.filter(bt=>bt!==m);else{const bt=s(m.commits.filter(Et=>"head"!==Et.id&&!Et.id.startsWith("merge:")),Et=>Et.yIndex);m.minYIndex=bt?.yIndex??0,m.minYIndexWithMerges=bt?.yIndex??0}const rt=Pt[_.id];if(!rt)throw new V.VX;this.createUncommittedTrail(rt,k,vt,m.colorIndex,m.lane)}}),Ct.forEach(_=>{const w=Pt[_.id];if(!w)return;const x=w.trail,k=w.commit.parentIds[0],rt=k?Pt[k]:void 0;if(rt){if(x.commits=x.commits.filter(bt=>bt.id!==_.id),x.commits.length<=0)vt=vt.filter(bt=>bt!==x);else{const bt=s(x.commits,Et=>Et.yIndex);x.minYIndex=bt?.yIndex??0,x.minYIndexWithMerges=bt?.yIndex??0}this.createUncommittedTrail(w,rt,vt,x.colorIndex,x.lane)}}),{commitDetails:Pt,commitTrails:vt,lanes:Lt,mergePaths:It,headCommit:I,orderedCommits:F}}createUncommittedTrail(B,st,Ct,ot,pt){let et=st.yIndex;st.mergeFrom&&st.mergeFrom.to.length>0&&st.mergeFrom.to.some(Pt=>!this.isDashed(Pt))&&(et=Math.min(...st.mergeFrom.to.filter(Pt=>!this.isDashed(Pt)).map(({yIndex:Pt})=>Pt))+.25,et<B.yIndex&&(et=B.yIndex+.5),Ct.push({trailIndex:Ct.length,minYIndex:et,maxYIndex:st.yIndex,minYIndexWithMerges:et,maxYIndexWithMerges:st.yIndex,colorIndex:ot,commits:[],isDashed:!1,lane:pt}));const ft={trailIndex:Ct.length,minYIndex:B.yIndex,maxYIndex:et,minYIndexWithMerges:B.yIndex,maxYIndexWithMerges:et,colorIndex:ot,commits:[B],isDashed:!0,lane:pt};return B.trail=ft,Ct.push(ft),ft}calculateTrail(B,st,Ct,ot){const pt={trailIndex:Ct.length,minYIndex:B.yIndex,maxYIndex:B.yIndex,minYIndexWithMerges:B.yIndex,maxYIndexWithMerges:B.yIndex,colorIndex:null,commits:[],isDashed:!1};if(B.commit.parentIds.length<=0)B.trail=pt,pt.commits.push(B),pt.maxYIndex=B.yIndex,pt.maxYIndexWithMerges=B.yIndex;else{let ft=B;for(;ft&&!ft.trail&&ft.commit.parentIds.length>0;){ft.trail=pt,pt.maxYIndex=ft.yIndex,pt.maxYIndexWithMerges=ft.yIndex,pt.commits.push(ft);const Pt=ft.commit.parentIds[0];ft=Pt?st[Pt]:void 0}ft&&(pt.maxYIndex=ft.yIndex,pt.maxYIndexWithMerges=ft.yIndex,ft.trail||(ft.trail=pt,pt.commits.push(ft)))}let et=ot.find(ft=>{const Pt=this.getLaneMaxYIndex(ft);return void 0===Pt||Pt<pt.minYIndex});return et||(et={xIndex:ot.length,occupations:[]},ot.push(et)),et.occupations.push({type:"commit-trail",minYIndex:pt.minYIndex,maxYIndex:pt.maxYIndex}),pt.lane=et,Ct.push(pt),pt}calculateMergePaths(B,st,Ct,ot){st=st.map(et=>({...et,occupations:et.occupations.filter(ft=>"merge-path"!==ft.type)})).filter(et=>et.occupations.length>0);const pt=[...B];return B.forEach(et=>{const ft=[],Pt=[];let vt;et.to.forEach(F=>{et.from.trail.minYIndexWithMerges>F.yIndex&&(et.from.trail.minYIndexWithMerges=F.yIndex),et.from.trail.maxYIndexWithMerges<F.yIndex&&(et.from.trail.maxYIndexWithMerges=F.yIndex),F.trail.minYIndexWithMerges>et.from.yIndex&&(F.trail.minYIndexWithMerges=et.from.yIndex),F.trail.maxYIndexWithMerges<et.from.yIndex&&(F.trail.maxYIndexWithMerges=et.from.yIndex)});const Lt=et.from.trail.lane.xIndex,It=Ct(Lt);let gt=[],yt=et.to;const I=et.to.every(this.isDashed);if(et.from.trail.minYIndex<et.from.yIndex){const F=et.from.trail.commits.findIndex(w=>w.id===et.from.id),_=et.from.trail.commits[F-1];if(!_)throw new V.VX;gt=et.to.filter(w=>w.yIndex>_.yIndex),yt=et.to.filter(w=>w.yIndex<=_.yIndex),vt=_.yIndex}else{ft.push(`M ${It} ${ot(et.from.yIndex)}`),ft.push(`V ${ot(et.from.yIndex-.5)}`),vt=et.from.yIndex-1;const F=function $(U,H){return U&&U.length?(0,e.A)(U,(0,r.A)(H,2),X.A):void 0}(yt,_=>_.yIndex);if(F&&F.yIndex===et.from.yIndex-1){yt=yt.filter(w=>w.id!==F.id);const _=`L ${Ct(F.trail.lane.xIndex)} ${ot(F.yIndex)}`;this.isDashed(F)?Pt.push(_):ft.push(_)}}if(yt.length>0){const F=Math.min(...yt.map(k=>k.yIndex)),_=st.filter(k=>!this.isLaneOccupied(k,F+1,vt)),w=s(_,k=>[...yt,et.from].reduce((rt,bt)=>rt+Math.abs(bt.trail.lane.xIndex-k.xIndex),0))??{xIndex:st.length,occupations:[]};0===_.length&&st.push(w),w.occupations.push({type:"merge-path",minYIndex:F+1,maxYIndex:vt});const m=yt.filter(this.isDashed),x=yt.filter(k=>!this.isDashed(k));if(ft.push(...x.flatMap(k=>[`M ${Ct(w.xIndex)} ${ot(k.yIndex+.5)}`,`L ${this.adjustForDashedLine(!1,w.xIndex,k.trail.lane.xIndex,k.yIndex+.5,k.yIndex,Ct,ot)}`])),Pt.push(...m.flatMap(k=>[`M ${Ct(w.xIndex)} ${ot(k.yIndex+.5)}`,`L ${this.adjustForDashedLine(!0,w.xIndex,k.trail.lane.xIndex,k.yIndex+.5,k.yIndex,Ct,ot)}`])),I)ft.push(`M ${It} ${ot(vt+.5)}`,`L ${Ct(w.xIndex)} ${ot(vt+.25)}`,`V ${ot(F+.5)}`);else{const k=Math.min(...x.map(rt=>rt.yIndex));ft.push(`M ${It} ${ot(vt+.5)}`,`L ${Ct(w.xIndex)} ${ot(vt+.25)}`,`V ${ot(k+.5)}`),Pt.push(`M ${It} ${ot(k+.5)}`,`V ${ot(F+.5)}`)}}ft.push(...gt.filter(F=>!this.isDashed(F)).flatMap(F=>[`M ${It} ${ot(F.yIndex+.25)}`,`L ${this.adjustForDashedLine(!1,Lt,F.trail.lane.xIndex,F.yIndex+.25,F.yIndex,Ct,ot)}`])),Pt.push(...gt.filter(this.isDashed).flatMap(F=>[`M ${It} ${ot(F.yIndex+.25)}`,`L ${this.adjustForDashedLine(!0,Lt,F.trail.lane.xIndex,F.yIndex+.25,F.yIndex,Ct,ot)}`])),I?(et.isDashed=!0,et.path=[...ft,...Pt].join(" ")):(et.isDashed=!1,et.path=ft.join(" "),Pt.length>0&&pt.push({from:et.from,isDashed:!0,path:Pt.join(" "),to:et.to.filter(this.isDashed)}))}),{mergePaths:pt,lanes:st}}calculateColors(B,st){const Ct=(0,f.A)(0,st),ot=[];B.forEach(pt=>{const et=ot.filter(Pt=>Pt.minYIndexWithMerges<=pt.maxYIndexWithMerges&&Pt.maxYIndexWithMerges>=pt.minYIndexWithMerges).map(Pt=>Pt.colorIndex),ft=O(Ct,...et);pt.colorIndex=ft[0]??pt.trailIndex%st,ot.push(pt)})}getLaneMaxYIndex(B){return B.occupations[B.occupations.length-1]?.maxYIndex}isLaneOccupied(B,st,Ct){return B.occupations.some(ot=>ot.minYIndex<=Ct&&ot.maxYIndex>=st)}adjustForDashedLine(B,st,Ct,ot,pt,et,ft){const vt=B?ot>pt?.15:-.15:0;return`${et(Ct+(B?st>Ct?.3:-.3:0))} ${ft(pt+vt)}`}static{this.\u0275fac=function(st){return new(st||U)}}static{this.\u0275prov=dt.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},8667:(kt,ct,i)=>{i.d(ct,{h:()=>It});var e=i(1635),r=i(4438),R=i(9843),it=i(4412),o=i(3130),s=i(949),X=i(5012),$=i(5530),E=i(5571),f=i(177),n=i(9213),D=i(4823),v=i(5272),J=i(4991),t=i(9250),G=i(8694),T=i(2930),W=i(9820),y=i(2765),u=i(1441);function C(gt,yt){if(1&gt){const I=r.RV6();r.j41(0,"mat-checkbox",7),r.bIt("change",function(_){r.eBV(I);const w=r.XpG().$implicit,m=r.XpG();return r.Njj(m.checkedChanged.next([w,_.checked]))}),r.k0s()}if(2&gt){const I=r.XpG().$implicit,F=r.XpG();r.Y8G("checked",F.isChecked(I))}}function S(gt,yt){if(1&gt){const I=r.RV6();r.j41(0,"li",3),r.bIt("contextmenu",function(_){const w=r.eBV(I).$implicit,m=r.XpG();return r.Njj(m.contextMenuOpened.next([w,_]))}),r.j41(1,"mat-icon",4),r.EFF(2),r.k0s(),r.DNE(3,C,1,1,"mat-checkbox",5),r.j41(4,"app-condensed-path",6),r.bIt("click",function(){const _=r.eBV(I).$implicit,w=r.XpG();return r.Njj(w.selectedChanged.next(_))}),r.k0s()()}if(2&gt){const I=yt.$implicit,F=r.XpG();r.AVh("selected",F.isSelected(I))("checked",F.isChecked(I)),r.R7$(),r.Y8G("ngClass",F.getPatchIconColorClass(I)),r.R7$(),r.JRh(F.getPatchIcon(I)),r.R7$(),r.Y8G("ngIf",F.checked),r.R7$(),r.Y8G("path",F.getPatchPath(I))}}let O=(()=>{class gt extends((0,o.c)(s.N,G.f)){constructor(I){super(),this.commitDetailService=I,this.checked=null,this.checkedChanged=new r.bkB,this.selectedChanged=new r.bkB,this.contextMenuOpened=new r.bkB,this.keyPressDisabled=!1}ngOnChanges(I){I.selected&&(this.keyPressDisabled=!1),I.patches&&(this.orderedPatches=(0,J.A)(this.patches,[F=>F.status===t.z.Conflicted,F=>(F.oldFilePath??F.newFilePath??"").toLowerCase()],["desc","asc"]))}trackByPatch(I,F){return`${F.oldFilePath}|${F.newFilePath}|${F.status}`}getPatchPath(I){return this.commitDetailService.getPatchPath(I)}getPatchIcon(I){return this.commitDetailService.getPatchIcon(I)}getPatchIconColorClass(I){return this.commitDetailService.getPatchIconColorClass(I)}isChecked(I){return this.checked?.some(({oldFilePath:F,newFilePath:_})=>F===I.oldFilePath&&_===I.newFilePath)}isSelected(I){return I.oldFilePath===this.selected?.oldFilePath&&I.newFilePath===this.selected.newFilePath}keyPressed(I){if(this.keyPressDisabled)return;I.preventDefault();const F=this.selected,_=this.orderedPatches.findIndex(({oldFilePath:m,newFilePath:x})=>m===F?.oldFilePath&&x===F?.newFilePath);let w=null;switch(I.key){case"ArrowUp":if(!(T.c?I.metaKey:I.ctrlKey)){_>0&&(w=_-1);break}case"Home":w=0;break;case"ArrowDown":if(!(T.c?I.metaKey:I.ctrlKey)){_<this.orderedPatches.length-1&&(w=_+1);break}case"End":w=this.orderedPatches.length-1;break;case"Escape":_>=0&&(w=_)}if(null!==w){this.keyPressDisabled=!0;const m=this.orderedPatches[w];m&&this.selectedChanged.next(m);const x=this.viewports.first,k=x.measureScrollOffset("top"),rt=k+x.getViewportSize(),bt=22*w;(bt<k||bt>=rt)&&x.scrollToIndex(w)}}static{this.\u0275fac=function(F){return new(F||gt)(r.rXU(W.u))}}static{this.\u0275cmp=r.VBU({type:gt,selectors:[["app-patch-list"]],viewQuery:function(F,_){if(1&F&&r.GBs(v.d6,5),2&F){let w;r.mGM(w=r.lsd())&&(_.viewports=w)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[r.Vt3,r.OA$],decls:3,vars:7,consts:[["tabindex","0",1,"item-list-container",3,"keydown","itemSize","maxBufferPx","minBufferPx"],[1,"patch-list"],[3,"selected","checked","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"contextmenu"],["inline","",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"name",3,"click","path"],[3,"change","checked"]],template:function(F,_){1&F&&(r.j41(0,"cdk-virtual-scroll-viewport",0),r.bIt("keydown",function(m){return _.keyPressed(m)}),r.j41(1,"ul",1),r.DNE(2,S,5,8,"li",2),r.k0s()()),2&F&&(r.Y8G("itemSize",22)("maxBufferPx",400)("minBufferPx",200),r.R7$(),r.AVh("checkboxes",_.checked),r.R7$(),r.Y8G("cdkVirtualForOf",_.orderedPatches)("cdkVirtualForTrackBy",_.trackByPatch))},dependencies:[y.So,v.yg,v.E$,v.d6,f.YU,f.bT,n.An,u.A],styles:["[_nghost-%COMP%]{display:contents}.item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%;contain:content;outline:none}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer;gap:4px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;font-size:0;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field{margin:-9px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;text-align:center}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 22px)}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:none}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#515151}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}return gt})();var V=i(180),Q=i(4572),dt=i(7673),q=i(6354),U=i(1747),H=i(3683),B=i(6164);function st(gt,yt){if(1&gt){const I=r.RV6();r.j41(0,"mat-checkbox",8),r.bIt("click",function(_){return r.eBV(I),r.Njj(_.stopPropagation())})("change",function(_){r.eBV(I);const w=r.XpG().$implicit,m=r.XpG();return r.Njj(m.clickNodeCheckbox(w,_.checked))}),r.k0s()}if(2&gt){const I=r.XpG().$implicit;r.Y8G("checked","all"===I.checked)("indeterminate","some"===I.checked)}}function Ct(gt,yt){if(1&gt){const I=r.RV6();r.j41(0,"div",3),r.bIt("click",function(_){const w=r.eBV(I).$implicit,m=r.XpG();return r.Njj(m.toggleNodeExpanded(_,w))}),r.j41(1,"mat-icon",4),r.EFF(2,"folder"),r.k0s(),r.DNE(3,st,1,2,"mat-checkbox",5),r.j41(4,"span",6),r.EFF(5),r.k0s(),r.j41(6,"mat-icon",7),r.EFF(7),r.k0s()()}if(2&gt){const I=yt.$implicit,F=r.XpG();r.AVh("checked","all"===I.checked),r.R7$(3),r.Y8G("ngIf",F.checked),r.R7$(),r.Y8G("matTooltip",I.id),r.R7$(),r.JRh(I.segment),r.R7$(2),r.JRh(I.expanded?"expand_less":"expand_more")}}function ot(gt,yt){if(1&gt){const I=r.RV6();r.j41(0,"mat-checkbox",13),r.bIt("change",function(_){r.eBV(I);const w=r.XpG().$implicit,m=r.XpG();return r.Njj(m.checkedChanged.next([w.patch,_.checked]))}),r.k0s()}if(2&gt){const I=r.XpG().$implicit;r.Y8G("checked",I.checked)}}function pt(gt,yt){if(1&gt){const I=r.RV6();r.j41(0,"div",9),r.bIt("contextmenu",function(_){const w=r.eBV(I).$implicit,m=r.XpG();return r.Njj(m.contextMenuOpened.next([w.patch,_]))}),r.j41(1,"mat-icon",10),r.EFF(2),r.k0s(),r.DNE(3,ot,1,1,"mat-checkbox",11),r.j41(4,"span",12),r.bIt("click",function(){const _=r.eBV(I).$implicit,w=r.XpG();return r.Njj(w.selectedChanged.next(_.patch))}),r.EFF(5),r.k0s()()}if(2&gt){let I;const F=yt.$implicit,_=r.XpG();r.AVh("checked",F.checked)("selected",_.isSelected(F.patch)),r.R7$(),r.Y8G("ngClass",_.getPatchIconColorClass(F.patch)),r.R7$(),r.JRh(_.getPatchIcon(F.patch)),r.R7$(),r.Y8G("ngIf",_.checked),r.R7$(),r.Y8G("matTooltip",null!==(I=_.getPatchPath(F.patch))&&void 0!==I?I:""),r.R7$(),r.JRh(F.segment)}}let et=(()=>{class gt extends((0,o.c)(s.N)){constructor(I){super(),this.commitDetailService=I,this.checkedChanged=new r.bkB,this.selectedChanged=new r.bkB,this.contextMenuOpened=new r.bkB,this.tree=new it.t([]),this.leafNodes=new it.t([]),this.collapsedNodeIds=new it.t(new Set),this.keyPressDisabled=!1,this.toggleNodeExpanded=(F,_)=>{F.preventDefault(),F.stopPropagation();const w=new Set(this.collapsedNodeIds.value);w.has(_.id)?(w.delete(_.id),this.collapsedNodeIds.next(w)):(w.add(_.id),this.collapsedNodeIds.next(w))},this.getDescendantsLeafNodes=F=>F.reduce((_,w)=>[..._,..."patch"in w?[w]:this.getDescendantsLeafNodes(w.children)],[]),this.getDescendantsList=F=>F.reduce((_,w)=>[..._,..."patch"in w?[w]:[w,...this.getDescendantsList(w.children)]],[])}ngOnInit(){(0,Q.z)([this.patches,this.checked??(0,dt.of)(null),this.collapsedNodeIds]).pipe((0,q.T)(([I,F,_])=>{const w=I.map(m=>({patch:m,segments:(m.newFilePath??m.oldFilePath??"").split("/")}));return this.buildTree(w,"",0,F,_)})).subscribe(I=>{this.tree.next(I),this.leafNodes.next(this.getDescendantsLeafNodes(I)),this.keyPressDisabled=!1})}getPatchPath(I){return this.commitDetailService.getPatchPath(I)}getPatchIcon(I){return this.commitDetailService.getPatchIcon(I)}getPatchIconColorClass(I){return this.commitDetailService.getPatchIconColorClass(I)}isSelected(I){return I.oldFilePath===this.selected?.oldFilePath&&I.newFilePath===this.selected.newFilePath}clickNodeCheckbox(I,F){for(const _ of this.getDescendantsLeafNodes(I.children))this.checkedChanged.next([_.patch,F])}buildTree(I,F,_,w,m){return Object.entries((0,V.A)(I,({segments:rt})=>rt[0])).sort(([rt],[bt])=>rt.localeCompare(bt,void 0,{numeric:!0})).flatMap(([rt,bt])=>{const Et=`${F}${rt}/`,Ht=`${F}${rt}`,Kt=bt.filter(({segments:K})=>K.length>1),Yt=w?bt.every(({patch:K})=>w.some(({oldFilePath:at,newFilePath:Rt})=>at===K.oldFilePath&&Rt===K.newFilePath))?"all":bt.some(({patch:K})=>w.some(({oldFilePath:at,newFilePath:Rt})=>at===K.oldFilePath&&Rt===K.newFilePath))?"some":"none":"none",lt=Kt.length>0?{id:Et,depth:_,expanded:!m.has(Et),children:this.buildTree(Kt.map(({patch:K,segments:at})=>({patch:K,segments:at.slice(1)})),Et,_+1,w,m),segment:rt,checked:Yt}:null,wt=bt.find(({segments:K})=>K.length<=1),L=wt?{id:Ht,depth:_,segment:rt,patch:wt.patch,checked:w?.some(({oldFilePath:K,newFilePath:at})=>K===wt.patch.oldFilePath&&at===wt.patch.newFilePath)??!1}:null;return L&&lt?[L,lt]:lt?[lt]:L?[L]:[]})}keyPressed(I){if(this.keyPressDisabled)return;I.preventDefault();const F=this.selected,_=this.leafNodes.value,w=_.findIndex(({patch:x})=>x.oldFilePath===F?.oldFilePath&&x.newFilePath===F?.newFilePath);let m=null;switch(I.key){case"ArrowUp":if(!(T.c?I.metaKey:I.ctrlKey)){w>0&&(m=w-1);break}case"Home":m=0;break;case"ArrowDown":if(!(T.c?I.metaKey:I.ctrlKey)){w<_.length-1&&(m=w+1);break}case"End":m=_.length-1;break;case"Escape":w>=0&&(m=w)}if(null!==m){this.keyPressDisabled=!0;const x=_[m];x&&this.selectedChanged.next(x.patch);const k=this.virtualTree.viewports.first,rt=k.measureScrollOffset("top"),bt=rt+k.getViewportSize();let Et=0;this.getDescendantsList(this.tree.value);for(const Yt of this.getDescendantsList(this.tree.value)){if(Yt===x)break;Et++}const Kt=22*Et;(Kt<rt||Kt>=bt)&&k.scrollToIndex(Et)}}static{this.\u0275fac=function(F){return new(F||gt)(r.rXU(W.u))}}static{this.\u0275cmp=r.VBU({type:gt,selectors:[["app-patch-tree"]],viewQuery:function(F,_){if(1&F&&r.GBs(U.P,5),2&F){let w;r.mGM(w=r.lsd())&&(_.virtualTree=w.first)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[r.Vt3],decls:3,vars:4,consts:[[3,"keyPressed","tree","itemSize"],["class","node-item",3,"checked","click",4,"appVirtualTreeNode"],["class","leaf-item",3,"checked","selected","contextmenu",4,"appVirtualTreeLeafNode"],[1,"node-item",3,"click"],["inline","",1,"node-icon"],[3,"checked","indeterminate","click","change",4,"ngIf"],[1,"text",3,"matTooltip"],[1,"expand-icon"],[3,"click","change","checked","indeterminate"],[1,"leaf-item",3,"contextmenu"],["inline","",1,"node-icon",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"text",3,"click","matTooltip"],[3,"change","checked"]],template:function(F,_){1&F&&(r.j41(0,"app-virtual-tree",0),r.bIt("keyPressed",function(m){return _.keyPressed(m)}),r.DNE(1,Ct,8,6,"div",1)(2,pt,6,9,"div",2),r.k0s()),2&F&&(r.AVh("checkboxes",!!_.checked),r.Y8G("tree",_.tree)("itemSize",22))},dependencies:[y.So,f.YU,f.bT,n.An,D.oV,U.P,H.x,B.$],styles:["[_nghost-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport{contain:content;scrollbar-gutter:stable;margin-left:-16px;margin-right:-16px}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper>ul{overflow-x:auto;overflow-y:hidden}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-spacer{position:relative}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#616161}.node-item[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]{margin-left:16px;display:flex;justify-content:space-between;cursor:pointer;line-height:22px;height:22px;user-select:none;align-items:center;min-width:200px;gap:4px}.node-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;text-align:center}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;height:22px;font-size:0;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field, .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]    >.mdc-form-field, .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field, .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]    >.mdc-form-field{margin:-9px}.node-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.node-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%]{flex:0 0 auto;color:#ffffffb3;line-height:22px}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .node-icon[_ngcontent-%COMP%]{display:none}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .checkbox-button[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover){background-color:#515151}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#616161}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover){background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}return gt})();var ft=i(1751);function Pt(gt,yt){if(1&gt){const I=r.RV6();r.j41(0,"app-patch-list",6),r.nI1(1,"async"),r.bIt("checkedChanged",function(_){r.eBV(I);const w=r.XpG(2);return r.Njj(w.checkedChanged.next(_))})("selectedChanged",function(_){r.eBV(I);const w=r.XpG(2);return r.Njj(w.selectedChanged.next(_))})("contextMenuOpened",function(_){r.eBV(I);const w=r.XpG(2);return r.Njj(w.contextMenuOpened.next(_))}),r.k0s()}if(2&gt){const I=r.XpG(2);r.Y8G("patches",I.patches)("checked",r.bMT(1,3,I.checked))("selected",I.selected)}}function vt(gt,yt){if(1&gt){const I=r.RV6();r.j41(0,"app-patch-tree",6),r.bIt("checkedChanged",function(_){r.eBV(I);const w=r.XpG(2);return r.Njj(w.checkedChanged.next(_))})("selectedChanged",function(_){r.eBV(I);const w=r.XpG(2);return r.Njj(w.selectedChanged.next(_))})("contextMenuOpened",function(_){r.eBV(I);const w=r.XpG(2);return r.Njj(w.contextMenuOpened.next(_))}),r.k0s()}if(2&gt){const I=r.XpG(2);r.Y8G("patches",I.patches$)("checked",I.checked)("selected",I.selected)}}function Lt(gt,yt){if(1&gt){const I=r.RV6();r.qex(0),r.j41(1,"header")(2,"mat-button-toggle-group",1),r.bIt("change",function(_){r.eBV(I);const w=r.XpG();return r.Njj(w.changePatchView(_.value))}),r.j41(3,"mat-button-toggle",2),r.nI1(4,"translate"),r.j41(5,"mat-icon"),r.EFF(6,"list"),r.k0s()(),r.j41(7,"mat-button-toggle",3),r.nI1(8,"translate"),r.nrm(9,"mat-icon",4),r.k0s()()(),r.DNE(10,Pt,2,5,"app-patch-list",5)(11,vt,1,3,"app-patch-tree",5),r.bVm()}if(2&gt){const I=yt.ngIf;r.R7$(2),r.Y8G("value",I),r.R7$(),r.Y8G("matTooltip",r.bMT(4,5,"List View")),r.R7$(4),r.Y8G("matTooltip",r.bMT(8,7,"Tree View")),r.R7$(3),r.Y8G("ngIf","list"===I),r.R7$(),r.Y8G("ngIf","tree"===I)}}let It=(()=>{class gt extends((0,o.c)(s.N)){constructor(I){super(),this.store=I,this.checked=null,this.checkedChanged=new r.bkB,this.selectedChanged=new r.bkB,this.contextMenuOpened=new r.bkB,this.patches$=new it.t([])}ngOnChanges(I){I.patches&&this.patches$.next(this.patches)}changePatchView(I){this.store.dispatch(new $.AV(I))}static{this.\u0275fac=function(F){return new(F||gt)(r.rXU(R.il))}}static{this.\u0275cmp=r.VBU({type:gt,selectors:[["app-patches-view"]],inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[r.Vt3,r.OA$],decls:2,vars:3,consts:[[4,"ngIf"],[3,"change","value"],["value","list",3,"matTooltip"],["value","tree",3,"matTooltip"],["svgIcon","file-tree"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened",4,"ngIf"],[3,"checkedChanged","selectedChanged","contextMenuOpened","patches","checked","selected"]],template:function(F,_){1&F&&(r.DNE(0,Lt,12,9,"ng-container",0),r.nI1(1,"async")),2&F&&r.Y8G("ngIf",r.bMT(1,1,_.view))},dependencies:[E.ec,E.pc,f.bT,n.An,D.oV,O,et,f.Jj,ft.D],styles:["[_nghost-%COMP%]{display:contents}header[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;margin-bottom:-4px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:30px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:28px;padding:0 5px}"],changeDetection:0})}}return(0,e.Cg)([(0,R.l6)(X.d.patchView)],gt.prototype,"view",void 0),gt})()},3054:(kt,ct,i)=>{i.d(ct,{K:()=>$});var e=i(5571),r=i(5596),R=i(2765),it=i(9042),o=i(1117),s=i(8099),X=i(4438);let $=(()=>{class E{static{this.\u0275fac=function(D){return new(D||E)}}static{this.\u0275mod=X.$C({type:E})}static{this.\u0275inj=X.G2t({imports:[e.Vg,r.Hu,R.g7,it.fS,o.U,s.p]})}}return E})()},6573:(kt,ct,i)=>{i.d(ct,{a:()=>o});var e=i(9183),r=i(6850),R=i(1117),it=i(4438);let o=(()=>{class s{static{this.\u0275fac=function(E){return new(E||s)}}static{this.\u0275mod=it.$C({type:s})}static{this.\u0275inj=it.G2t({imports:[R.U,e.D6,r.RI]})}}return s})()},850:(kt,ct,i)=>{i.d(ct,{$3:()=>ft,jL:()=>F,pN:()=>I});var e=i(4438),r=i(6600),R=i(177),it=i(5272),o=i(6969),s=i(998),X=i(4085),$=i(6860),E=i(9969),f=i(8359),n=i(1413),D=i(9030),v=i(7786),J=i(7673),t=i(3726),G=i(7336),T=i(6939),W=i(9417),y=i(2102),u=i(9172),C=i(5558),S=i(6697),O=i(5964),V=i(6354),Q=i(8141),dt=i(3103),q=i(8203);const U=["panel"],H=["*"];function B(_,w){if(1&_){const m=e.RV6();e.j41(0,"div",1,0),e.bIt("@panelAnimation.done",function(k){e.eBV(m);const rt=e.XpG();return e.Njj(rt._animationDone.next(k))}),e.SdG(2),e.k0s()}if(2&_){const m=w.id,x=e.XpG();e.Y8G("id",x.id)("ngClass",x._classList)("@panelAnimation",x.isOpen?"visible":"hidden"),e.BMQ("aria-label",x.ariaLabel||null)("aria-labelledby",x._getPanelAriaLabelledby(m))}}const st=(0,E.hZ)("panelAnimation",[(0,E.wk)("void, hidden",(0,E.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,E.kY)(":enter, hidden => visible",[(0,E.Os)([(0,E.i0)("0.03s linear",(0,E.iF)({opacity:1})),(0,E.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,E.iF)({transform:"scaleY(1)"}))])]),(0,E.kY)(":leave, visible => hidden",[(0,E.i0)("0.075s linear",(0,E.iF)({opacity:0}))])]);let Ct=0;class ot{constructor(w,m){this.source=w,this.option=m}}const pt=new e.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function et(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let ft=(()=>{class _{get isOpen(){return this._isOpen&&this.showPanel}_setColor(m){this._color=m,this._setThemeClasses(this._classList)}set classList(m){this._classList=m&&m.length?(0,X.cc)(m).reduce((x,k)=>(x[k]=!0,x),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(m){this._hideSingleSelectionIndicator=m,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const m of this.options)m._changeDetectorRef.markForCheck()}constructor(m,x,k,rt){this._changeDetectorRef=m,this._elementRef=x,this._defaults=k,this._activeOptionChanges=f.yU.EMPTY,this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new e.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new e.bkB,this.opened=new e.bkB,this.closed=new e.bkB,this.optionActivated=new e.bkB,this._classList={},this.id="mat-autocomplete-"+Ct++,this.inertGroups=rt?.SAFARI||!1,this.autoActiveFirstOption=!!k.autoActiveFirstOption,this.autoSelectActiveOption=!!k.autoSelectActiveOption,this.requireSelection=!!k.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new s.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(m=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[m]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(m){this.panel&&(this.panel.nativeElement.scrollTop=m)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(m){const x=new ot(this,m);this.optionSelected.emit(x)}_getPanelAriaLabelledby(m){return this.ariaLabel?null:this.ariaLabelledby?(m?m+" ":"")+this.ariaLabelledby:m}_setVisibilityClasses(m){m[this._visibleClass]=this.showPanel,m[this._hiddenClass]=!this.showPanel}_setThemeClasses(m){m["mat-primary"]="primary"===this._color,m["mat-warn"]="warn"===this._color,m["mat-accent"]="accent"===this._color}_skipPredicate(){return!1}static{this.\u0275fac=function(x){return new(x||_)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(pt),e.rXU($.OD))}}static{this.\u0275cmp=e.VBU({type:_,selectors:[["mat-autocomplete"]],contentQueries:function(x,k,rt){if(1&x&&(e.wni(rt,r.wT,5),e.wni(rt,r.QC,5)),2&x){let bt;e.mGM(bt=e.lsd())&&(k.options=bt),e.mGM(bt=e.lsd())&&(k.optionGroups=bt)}},viewQuery:function(x,k){if(1&x&&(e.GBs(e.C4Q,7),e.GBs(U,5)),2&x){let rt;e.mGM(rt=e.lsd())&&(k.template=rt.first),e.mGM(rt=e.lsd())&&(k.panel=rt.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[e.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[e.Mj6.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[e.Mj6.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",e.L39],autoSelectActiveOption:[e.Mj6.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",e.L39],requireSelection:[e.Mj6.HasDecoratorInputTransform,"requireSelection","requireSelection",e.L39],panelWidth:"panelWidth",disableRipple:[e.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",e.L39],classList:[e.Mj6.None,"class","classList"],hideSingleSelectionIndicator:[e.Mj6.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",e.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[e.Jv_([{provide:r.is,useExisting:_}]),e.GFd,e.aNF],ngContentSelectors:H,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"]],template:function(x,k){1&x&&(e.NAR(),e.DNE(0,B,3,5,"ng-template"))},dependencies:[R.YU],styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[st]},changeDetection:0})}}return _})();const vt={provide:W.kq,useExisting:(0,e.Rfq)(()=>I),multi:!0},It=new e.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const _=(0,e.WQX)(o.hJ);return()=>_.scrollStrategies.reposition()}}),yt={provide:It,deps:[o.hJ],useFactory:function gt(_){return()=>_.scrollStrategies.reposition()}};let I=(()=>{class _{constructor(m,x,k,rt,bt,Et,Ht,Kt,Yt,lt,wt){this._element=m,this._overlay=x,this._viewContainerRef=k,this._zone=rt,this._changeDetectorRef=bt,this._dir=Ht,this._formField=Kt,this._document=Yt,this._viewportRuler=lt,this._defaults=wt,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=f.yU.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new n.B,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,D.v)(()=>{const L=this.autocomplete?this.autocomplete.options:null;return L?L.changes.pipe((0,u.Z)(L),(0,C.n)(()=>(0,v.h)(...L.map(K=>K.onSelectionChange)))):this._zone.onStable.pipe((0,S.s)(1),(0,C.n)(()=>this.optionSelections))}),this._handlePanelKeydown=L=>{(L.keyCode===G._f&&!(0,G.rp)(L)||L.keyCode===G.i7&&(0,G.rp)(L,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),L.stopPropagation(),L.preventDefault())},this._trackedModal=null,this._scrollStrategy=Et}ngAfterViewInit(){const m=this._getWindow();typeof m<"u"&&this._zone.runOutsideAngular(()=>m.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(m){m.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const m=this._getWindow();typeof m<"u"&&m.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&(0,s.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,v.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,O.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,O.p)(()=>this._overlayAttached)):(0,J.of)()).pipe((0,V.T)(m=>m instanceof r.MI?m:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,v.h)((0,t.R)(this._document,"click"),(0,t.R)(this._document,"auxclick"),(0,t.R)(this._document,"touchend")).pipe((0,O.p)(m=>{const x=(0,$.Fb)(m),k=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,rt=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&x!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!k||!k.contains(x))&&(!rt||!rt.contains(x))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(x)}))}writeValue(m){Promise.resolve(null).then(()=>this._assignOptionValue(m))}registerOnChange(m){this._onChange=m}registerOnTouched(m){this._onTouched=m}setDisabledState(m){this._element.nativeElement.disabled=m}_handleKeydown(m){const x=m.keyCode,k=(0,G.rp)(m);if(x===G._f&&!k&&m.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&x===G.Fm&&this.panelOpen&&!k)this.activeOption._selectViaInteraction(),this._resetActiveItem(),m.preventDefault();else if(this.autocomplete){const rt=this.autocomplete._keyManager.activeItem,bt=x===G.i7||x===G.n6;x===G.wn||bt&&!k&&this.panelOpen?this.autocomplete._keyManager.onKeydown(m):bt&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(bt||this.autocomplete._keyManager.activeItem!==rt)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(m){let x=m.target,k=x.value;if("number"===x.type&&(k=""==k?null:parseFloat(k)),this._previousValue!==k){if(this._previousValue=k,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(k),k){if(this.panelOpen&&!this.autocomplete.requireSelection){const rt=this.autocomplete.options?.find(bt=>bt.selected);rt&&k!==this._getDisplayValue(rt.value)&&rt.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===m.target){const rt=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(rt)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(m=!1){this._formField&&"auto"===this._formField.floatLabel&&(m?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const m=this._zone.onStable.pipe((0,S.s)(1)),x=this.autocomplete.options.changes.pipe((0,Q.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,dt.c)(0));return(0,v.h)(m,x).pipe((0,C.n)(()=>(this._zone.run(()=>{const k=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),k!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,S.s)(1)).subscribe(k=>this._setValueAndClose(k))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(m){const x=this.autocomplete;return x&&x.displayWith?x.displayWith(m):m}_assignOptionValue(m){const x=this._getDisplayValue(m);null==m&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(x??"")}_updateNativeInputValue(m){this._formField?this._formField._control.value=m:this._element.nativeElement.value=m,this._previousValue=m}_setValueAndClose(m){const x=this.autocomplete,k=m?m.source:this._pendingAutoselectedOption;k?(this._clearPreviousSelectedOption(k),this._assignOptionValue(k.value),this._onChange(k.value),x._emitSelectEvent(k),this._element.nativeElement.focus()):x.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),x._animationDone?x._animationDone.pipe((0,S.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(m,x){this.autocomplete?.options?.forEach(k=>{k!==m&&k.selected&&k.deselect(x)})}_openPanelInternal(m=this._element.nativeElement.value){this._attachOverlay(m),this._floatLabel(),this._trackedModal&&(0,s.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(m){let x=this._overlayRef;x?(this._positionStrategy.setOrigin(this._getConnectedElement()),x.updateSize({width:this._getPanelWidth()})):(this._portal=new T.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),x=this._overlay.create(this._getOverlayConfig()),this._overlayRef=x,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&x&&x.updateSize({width:this._getPanelWidth()})})),x&&!x.hasAttached()&&(x.attach(this._portal),this._valueOnAttach=m,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const k=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&k!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const m=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=m.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=m.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new o.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const m=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(m),this._positionStrategy=m,m}_setStrategyPositions(m){const x=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],k=this._aboveClass,rt=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:k},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:k}];let bt;bt="above"===this.position?rt:"below"===this.position?x:[...x,...rt],m.withPositions(bt)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const m=this.autocomplete;if(m.autoActiveFirstOption){let x=-1;for(let k=0;k<m.options.length;k++)if(!m.options.get(k).disabled){x=k;break}m._keyManager.setActiveItem(x)}else m._keyManager.setActiveItem(-1)}_canOpen(){const m=this._element.nativeElement;return!m.readOnly&&!m.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(m){const x=this.autocomplete,k=(0,r.jb)(m,x.options,x.optionGroups);if(0===m&&1===k)x._setScrollTop(0);else if(x.panel){const rt=x.options.toArray()[m];if(rt){const bt=rt._getHostElement(),Et=(0,r.TL)(bt.offsetTop,bt.offsetHeight,x._getScrollTop(),x.panel.nativeElement.offsetHeight);x._setScrollTop(Et)}}}_applyModalPanelOwnership(){const m=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!m)return;const x=this.autocomplete.id;this._trackedModal&&(0,s.Ae)(this._trackedModal,"aria-owns",x),(0,s.px)(m,"aria-owns",x),this._trackedModal=m}_clearFromModal(){this._trackedModal&&((0,s.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static{this.\u0275fac=function(x){return new(x||_)(e.rXU(e.aKT),e.rXU(o.hJ),e.rXU(e.c1b),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(It),e.rXU(q.dS,8),e.rXU(y.xb,9),e.rXU(R.qQ,8),e.rXU(it.Xj),e.rXU(pt,8))}}static{this.\u0275dir=e.FsC({type:_,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(x,k){1&x&&e.bIt("focusin",function(){return k._handleFocus()})("blur",function(){return k._onTouched()})("input",function(bt){return k._handleInput(bt)})("keydown",function(bt){return k._handleKeydown(bt)})("click",function(){return k._handleClick()}),2&x&&e.BMQ("autocomplete",k.autocompleteAttribute)("role",k.autocompleteDisabled?null:"combobox")("aria-autocomplete",k.autocompleteDisabled?null:"list")("aria-activedescendant",k.panelOpen&&k.activeOption?k.activeOption.id:null)("aria-expanded",k.autocompleteDisabled?null:k.panelOpen.toString())("aria-controls",k.autocompleteDisabled||!k.panelOpen||null==k.autocomplete?null:k.autocomplete.id)("aria-haspopup",k.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[e.Mj6.None,"matAutocomplete","autocomplete"],position:[e.Mj6.None,"matAutocompletePosition","position"],connectedTo:[e.Mj6.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[e.Mj6.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[e.Mj6.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",e.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[e.Jv_([vt]),e.GFd,e.OA$]})}}return _})(),F=(()=>{class _{static{this.\u0275fac=function(x){return new(x||_)}}static{this.\u0275mod=e.$C({type:_})}static{this.\u0275inj=e.G2t({providers:[yt],imports:[o.z_,r.Sy,r.yE,R.MD,it.Gj,r.Sy,r.yE]})}}return _})()},6850:(kt,ct,i)=>{i.d(ct,{Bu:()=>Zt,ES:()=>Et,Ql:()=>qt,RI:()=>de,T8:()=>tt,hQ:()=>ee,mq:()=>Kt});var e=i(4438),r=i(6600),R=i(6939),it=i(1413),o=i(3726),s=i(7673),X=i(7786),$=i(983),E=i(1985),f=i(1584),n=i(8359),D=i(4412),v=i(5272),J=i(6860),t=i(8203),G=i(998),T=i(7336),W=i(6977),y=i(6697),u=i(9172),C=i(5558),S=i(5245),O=i(5964),V=i(3294),Q=i(2318),dt=i(177),q=i(9969);const U=["*"];function H(Z,N){1&Z&&e.SdG(0)}const B=["tabListContainer"],st=["tabList"],Ct=["tabListInner"],ot=["nextPaginator"],pt=["previousPaginator"],et=Z=>({animationDuration:Z}),ft=(Z,N)=>({value:Z,params:N});function Pt(Z,N){}const vt=["tabBodyWrapper"],Lt=["tabHeader"];function It(Z,N){}function gt(Z,N){if(1&Z&&e.DNE(0,It,0,0,"ng-template",12),2&Z){const l=e.XpG().$implicit;e.Y8G("cdkPortalOutlet",l.templateLabel)}}function yt(Z,N){if(1&Z&&e.EFF(0),2&Z){const l=e.XpG().$implicit;e.JRh(l.textLabel)}}function I(Z,N){if(1&Z){const l=e.RV6();e.j41(0,"div",7,2),e.bIt("click",function(){const c=e.eBV(l),d=c.$implicit,M=c.$index,A=e.XpG(),ut=e.sdS(1);return e.Njj(A._handleClick(d,ut,M))})("cdkFocusChange",function(c){const d=e.eBV(l).$index,M=e.XpG();return e.Njj(M._tabFocusChanged(c,d))}),e.nrm(2,"span",8)(3,"div",9),e.j41(4,"span",10)(5,"span",11),e.DNE(6,gt,1,1)(7,yt,1,1),e.k0s()()()}if(2&Z){const l=N.$implicit,a=N.$index,c=e.sdS(1),d=e.XpG();e.AVh("mdc-tab--active",d.selectedIndex===a),e.Y8G("id",d._getTabLabelId(a))("ngClass",l.labelClass)("disabled",l.disabled)("fitInkBarToContent",d.fitInkBarToContent),e.BMQ("tabIndex",d._getTabIndex(a))("aria-posinset",a+1)("aria-setsize",d._tabs.length)("aria-controls",d._getTabContentId(a))("aria-selected",d.selectedIndex===a)("aria-label",l.ariaLabel||null)("aria-labelledby",!l.ariaLabel&&l.ariaLabelledby?l.ariaLabelledby:null),e.R7$(3),e.Y8G("matRippleTrigger",c)("matRippleDisabled",l.disabled||d.disableRipple),e.R7$(3),e.vxM(6,l.templateLabel?6:7)}}function F(Z,N){1&Z&&e.SdG(0)}function _(Z,N){if(1&Z){const l=e.RV6();e.j41(0,"mat-tab-body",13),e.bIt("_onCentered",function(){e.eBV(l);const c=e.XpG();return e.Njj(c._removeTabBodyWrapperHeight())})("_onCentering",function(c){e.eBV(l);const d=e.XpG();return e.Njj(d._setTabBodyWrapperHeight(c))}),e.k0s()}if(2&Z){const l=N.$implicit,a=N.$index,c=e.XpG();e.AVh("mat-mdc-tab-body-active",c.selectedIndex===a),e.Y8G("id",c._getTabContentId(a))("ngClass",l.bodyClass)("content",l.content)("position",l.position)("origin",l.origin)("animationDuration",c.animationDuration)("preserveContent",c.preserveContent),e.BMQ("tabindex",null!=c.contentTabIndex&&c.selectedIndex===a?c.contentTabIndex:null)("aria-labelledby",c._getTabLabelId(a))("aria-hidden",c.selectedIndex!==a)}}const w=["mat-tab-nav-bar",""],m=["mat-tab-link",""],x=new e.nKC("MatTabContent");let k=(()=>{class Z{constructor(l){this.template=l}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:Z,selectors:[["","matTabContent",""]],standalone:!0,features:[e.Jv_([{provide:x,useExisting:Z}])]})}}return Z})();const rt=new e.nKC("MatTabLabel"),bt=new e.nKC("MAT_TAB");let Et=(()=>{class Z extends R.bV{constructor(l,a,c){super(l,a),this._closestTab=c}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(e.C4Q),e.rXU(e.c1b),e.rXU(bt,8))}}static{this.\u0275dir=e.FsC({type:Z,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[e.Jv_([{provide:rt,useExisting:Z}]),e.Vt3]})}}return Z})();const Ht=new e.nKC("MAT_TAB_GROUP");let Kt=(()=>{class Z{get templateLabel(){return this._templateLabel}set templateLabel(l){this._setTemplateLabelInput(l)}get content(){return this._contentPortal}constructor(l,a){this._viewContainerRef=l,this._closestTabGroup=a,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new it.B,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(l){(l.hasOwnProperty("textLabel")||l.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new R.VA(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(l){l&&l._closestTab===this&&(this._templateLabel=l)}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(e.c1b),e.rXU(Ht,8))}}static{this.\u0275cmp=e.VBU({type:Z,selectors:[["mat-tab"]],contentQueries:function(a,c,d){if(1&a&&(e.wni(d,Et,5),e.wni(d,k,7,e.C4Q)),2&a){let M;e.mGM(M=e.lsd())&&(c.templateLabel=M.first),e.mGM(M=e.lsd())&&(c._explicitContent=M.first)}},viewQuery:function(a,c){if(1&a&&e.GBs(e.C4Q,7),2&a){let d;e.mGM(d=e.lsd())&&(c._implicitContent=d.first)}},hostAttrs:["hidden",""],inputs:{disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39],textLabel:[e.Mj6.None,"label","textLabel"],ariaLabel:[e.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[e.Mj6.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[e.Jv_([{provide:bt,useExisting:Z}]),e.GFd,e.OA$,e.aNF],ngContentSelectors:U,decls:1,vars:0,template:function(a,c){1&a&&(e.NAR(),e.DNE(0,H,1,0,"ng-template"))},encapsulation:2})}}return Z})();const Yt="mdc-tab-indicator--active",lt="mdc-tab-indicator--no-transition";class wt{constructor(N){this._items=N}hide(){this._items.forEach(N=>N.deactivateInkBar())}alignToElement(N){const l=this._items.find(c=>c.elementRef.nativeElement===N),a=this._currentItem;if(l!==a&&(a?.deactivateInkBar(),l)){const c=a?.elementRef.nativeElement.getBoundingClientRect?.();l.activateInkBar(c),this._currentItem=l}}}let L=(()=>{class Z{constructor(){this._elementRef=(0,e.WQX)(e.aKT),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(l){this._fitToContent!==l&&(this._fitToContent=l,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(l){const a=this._elementRef.nativeElement;if(!l||!a.getBoundingClientRect||!this._inkBarContentElement)return void a.classList.add(Yt);const c=a.getBoundingClientRect(),d=l.width/c.width,M=l.left-c.left;a.classList.add(lt),this._inkBarContentElement.style.setProperty("transform",`translateX(${M}px) scaleX(${d})`),a.getBoundingClientRect(),a.classList.remove(lt),a.classList.add(Yt),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Yt)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const l=this._elementRef.nativeElement.ownerDocument||document,a=this._inkBarElement=l.createElement("span"),c=this._inkBarContentElement=l.createElement("span");a.className="mdc-tab-indicator",c.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",a.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static{this.\u0275fac=function(a){return new(a||Z)}}static{this.\u0275dir=e.FsC({type:Z,inputs:{fitInkBarToContent:[e.Mj6.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",e.L39]},features:[e.GFd]})}}return Z})(),Rt=(()=>{class Z extends L{constructor(l){super(),this.elementRef=l,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:Z,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(a,c){2&a&&(e.BMQ("aria-disabled",!!c.disabled),e.AVh("mat-mdc-tab-disabled",c.disabled))},inputs:{disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39]},standalone:!0,features:[e.GFd,e.Vt3]})}}return Z})();const Nt=(0,J.BQ)({passive:!0});let te=(()=>{class Z{get selectedIndex(){return this._selectedIndex}set selectedIndex(l){const a=isNaN(l)?0:l;this._selectedIndex!=a&&(this._selectedIndexChanged=!0,this._selectedIndex=a,this._keyManager&&this._keyManager.updateActiveItem(a))}constructor(l,a,c,d,M,A,ut){this._elementRef=l,this._changeDetectorRef=a,this._viewportRuler=c,this._dir=d,this._ngZone=M,this._platform=A,this._animationMode=ut,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new it.B,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new it.B,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new e.bkB,this.indexFocused=new e.bkB,M.runOutsideAngular(()=>{(0,o.R)(l.nativeElement,"mouseleave").pipe((0,W.Q)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,o.R)(this._previousPaginator.nativeElement,"touchstart",Nt).pipe((0,W.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,o.R)(this._nextPaginator.nativeElement,"touchstart",Nt).pipe((0,W.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const l=this._dir?this._dir.change:(0,s.of)("ltr"),a=this._viewportRuler.change(150),c=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new G.Bu(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,y.s)(1)).subscribe(c),(0,X.h)(l,a,this._items.changes,this._itemsResized()).pipe((0,W.Q)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),c()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(d=>{this.indexFocused.emit(d),this._setTabFocus(d)})}_itemsResized(){return"function"!=typeof ResizeObserver?$.w:this._items.changes.pipe((0,u.Z)(this._items),(0,C.n)(l=>new E.c(a=>this._ngZone.runOutsideAngular(()=>{const c=new ResizeObserver(d=>a.next(d));return l.forEach(d=>c.observe(d.elementRef.nativeElement)),()=>{c.disconnect()}}))),(0,S.i)(1),(0,O.p)(l=>l.some(a=>a.contentRect.width>0&&a.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(l){if(!(0,T.rp)(l))switch(l.keyCode){case T.Fm:case T.t6:if(this.focusIndex!==this.selectedIndex){const a=this._items.get(this.focusIndex);a&&!a.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(l))}break;default:this._keyManager.onKeydown(l)}}_onContentChanges(){const l=this._elementRef.nativeElement.textContent;l!==this._currentTextContent&&(this._currentTextContent=l||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(l){!this._isValidIndex(l)||this.focusIndex===l||!this._keyManager||this._keyManager.setActiveItem(l)}_isValidIndex(l){return!this._items||!!this._items.toArray()[l]}_setTabFocus(l){if(this._showPaginationControls&&this._scrollToLabel(l),this._items&&this._items.length){this._items.toArray()[l].focus();const a=this._tabListContainer.nativeElement;a.scrollLeft="ltr"==this._getLayoutDirection()?0:a.scrollWidth-a.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const l=this.scrollDistance,a="ltr"===this._getLayoutDirection()?-l:l;this._tabList.nativeElement.style.transform=`translateX(${Math.round(a)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(l){this._scrollTo(l)}_scrollHeader(l){return this._scrollTo(this._scrollDistance+("before"==l?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(l){this._stopInterval(),this._scrollHeader(l)}_scrollToLabel(l){if(this.disablePagination)return;const a=this._items?this._items.toArray()[l]:null;if(!a)return;const c=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:d,offsetWidth:M}=a.elementRef.nativeElement;let A,ut;"ltr"==this._getLayoutDirection()?(A=d,ut=A+M):(ut=this._tabListInner.nativeElement.offsetWidth-d,A=ut-M);const mt=this.scrollDistance,Qt=this.scrollDistance+c;A<mt?this.scrollDistance-=mt-A:ut>Qt&&(this.scrollDistance+=Math.min(ut-Qt,A-mt))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const l=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;l||(this.scrollDistance=0),l!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=l}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const l=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,a=l?l.elementRef.nativeElement:null;a?this._inkBar.alignToElement(a):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(l,a){a&&null!=a.button&&0!==a.button||(this._stopInterval(),(0,f.O)(650,100).pipe((0,W.Q)((0,X.h)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:c,distance:d}=this._scrollHeader(l);(0===d||d>=c)&&this._stopInterval()}))}_scrollTo(l){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const a=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(a,l)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:a,distance:this._scrollDistance}}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(v.Xj),e.rXU(t.dS,8),e.rXU(e.SKi),e.rXU(J.OD),e.rXU(e.bc$,8))}}static{this.\u0275dir=e.FsC({type:Z,inputs:{disablePagination:[e.Mj6.HasDecoratorInputTransform,"disablePagination","disablePagination",e.L39],selectedIndex:[e.Mj6.HasDecoratorInputTransform,"selectedIndex","selectedIndex",e.Udg]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[e.GFd]})}}return Z})(),ae=(()=>{class Z extends te{constructor(l,a,c,d,M,A,ut){super(l,a,c,d,M,A,ut),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new wt(this._items),super.ngAfterContentInit()}_itemSelected(l){l.preventDefault()}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(v.Xj),e.rXU(t.dS,8),e.rXU(e.SKi),e.rXU(J.OD),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:Z,selectors:[["mat-tab-header"]],contentQueries:function(a,c,d){if(1&a&&e.wni(d,Rt,4),2&a){let M;e.mGM(M=e.lsd())&&(c._items=M)}},viewQuery:function(a,c){if(1&a&&(e.GBs(B,7),e.GBs(st,7),e.GBs(Ct,7),e.GBs(ot,5),e.GBs(pt,5)),2&a){let d;e.mGM(d=e.lsd())&&(c._tabListContainer=d.first),e.mGM(d=e.lsd())&&(c._tabList=d.first),e.mGM(d=e.lsd())&&(c._tabListInner=d.first),e.mGM(d=e.lsd())&&(c._nextPaginator=d.first),e.mGM(d=e.lsd())&&(c._previousPaginator=d.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(a,c){2&a&&e.AVh("mat-mdc-tab-header-pagination-controls-enabled",c._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==c._getLayoutDirection())},inputs:{disableRipple:[e.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",e.L39]},standalone:!0,features:[e.GFd,e.Vt3,e.aNF],ngContentSelectors:U,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(a,c){if(1&a){const d=e.RV6();e.NAR(),e.j41(0,"button",5,0),e.bIt("click",function(){return e.eBV(d),e.Njj(c._handlePaginatorClick("before"))})("mousedown",function(A){return e.eBV(d),e.Njj(c._handlePaginatorPress("before",A))})("touchend",function(){return e.eBV(d),e.Njj(c._stopInterval())}),e.nrm(2,"div",6),e.k0s(),e.j41(3,"div",7,1),e.bIt("keydown",function(A){return e.eBV(d),e.Njj(c._handleKeydown(A))}),e.j41(5,"div",8,2),e.bIt("cdkObserveContent",function(){return e.eBV(d),e.Njj(c._onContentChanges())}),e.j41(7,"div",9,3),e.SdG(9),e.k0s()()(),e.j41(10,"button",10,4),e.bIt("mousedown",function(A){return e.eBV(d),e.Njj(c._handlePaginatorPress("after",A))})("click",function(){return e.eBV(d),e.Njj(c._handlePaginatorClick("after"))})("touchend",function(){return e.eBV(d),e.Njj(c._stopInterval())}),e.nrm(12,"div",6),e.k0s()}2&a&&(e.AVh("mat-mdc-tab-header-pagination-disabled",c._disableScrollBefore),e.Y8G("matRippleDisabled",c._disableScrollBefore||c.disableRipple)("disabled",c._disableScrollBefore||null),e.R7$(3),e.AVh("_mat-animation-noopable","NoopAnimations"===c._animationMode),e.R7$(7),e.AVh("mat-mdc-tab-header-pagination-disabled",c._disableScrollAfter),e.Y8G("matRippleDisabled",c._disableScrollAfter||c.disableRipple)("disabled",c._disableScrollAfter||null))},dependencies:[r.r6,Q.Wv],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return Z})();const ie=new e.nKC("MAT_TABS_CONFIG"),se={translateTab:(0,q.hZ)("translateTab",[(0,q.wk)("center, void, left-origin-center, right-origin-center",(0,q.iF)({transform:"none"})),(0,q.wk)("left",(0,q.iF)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,q.wk)("right",(0,q.iF)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,q.kY)("* => left, * => right, left => center, right => center",(0,q.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,q.kY)("void => left-origin-center",[(0,q.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,q.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,q.kY)("void => right-origin-center",[(0,q.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,q.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ht=(()=>{class Z extends R.I3{constructor(l,a,c,d){super(l,a,d),this._host=c,this._centeringSub=n.yU.EMPTY,this._leavingSub=n.yU.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,u.Z)(this._host._isCenterPosition(this._host._position))).subscribe(l=>{l&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(e.OM3),e.rXU(e.c1b),e.rXU((0,e.Rfq)(()=>Bt)),e.rXU(dt.qQ))}}static{this.\u0275dir=e.FsC({type:Z,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[e.Vt3]})}}return Z})(),Bt=(()=>{class Z{set position(l){this._positionIndex=l,this._computePositionAnimationState()}constructor(l,a,c){this._elementRef=l,this._dir=a,this._dirChangeSubscription=n.yU.EMPTY,this._translateTabComplete=new it.B,this._onCentering=new e.bkB,this._beforeCentering=new e.bkB,this._afterLeavingCenter=new e.bkB,this._onCentered=new e.bkB(!0),this.animationDuration="500ms",this.preserveContent=!1,a&&(this._dirChangeSubscription=a.change.subscribe(d=>{this._computePositionAnimationState(d),c.markForCheck()})),this._translateTabComplete.pipe((0,V.F)((d,M)=>d.fromState===M.fromState&&d.toState===M.toState)).subscribe(d=>{this._isCenterPosition(d.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(d.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(l){const a=this._isCenterPosition(l.toState);this._beforeCentering.emit(a),a&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(l){return"center"==l||"left-origin-center"==l||"right-origin-center"==l}_computePositionAnimationState(l=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==l?"left":"right":this._positionIndex>0?"ltr"==l?"right":"left":"center"}_computePositionFromOrigin(l){const a=this._getLayoutDirection();return"ltr"==a&&l<=0||"rtl"==a&&l>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(e.aKT),e.rXU(t.dS,8),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:Z,selectors:[["mat-tab-body"]],viewQuery:function(a,c){if(1&a&&e.GBs(R.I3,5),2&a){let d;e.mGM(d=e.lsd())&&(c._portalHost=d.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[e.Mj6.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[e.aNF],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(a,c){if(1&a){const d=e.RV6();e.j41(0,"div",1,0),e.bIt("@translateTab.start",function(A){return e.eBV(d),e.Njj(c._onTranslateTabStarted(A))})("@translateTab.done",function(A){return e.eBV(d),e.Njj(c._translateTabComplete.next(A))}),e.DNE(2,Pt,0,0,"ng-template",2),e.k0s()}2&a&&e.Y8G("@translateTab",e.l_i(3,ft,c._position,e.eq3(1,et,c.animationDuration)))},dependencies:[ht,v.uv],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[se.translateTab]}})}}return Z})(),P=0,tt=(()=>{class Z{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(l){this._fitInkBarToContent=l,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(l){this._indexToSelect=isNaN(l)?null:l}get animationDuration(){return this._animationDuration}set animationDuration(l){const a=l+"";this._animationDuration=/^\d+$/.test(a)?l+"ms":a}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(l){this._contentTabIndex=isNaN(l)?null:l}get backgroundColor(){return this._backgroundColor}set backgroundColor(l){const a=this._elementRef.nativeElement.classList;a.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),l&&a.add("mat-tabs-with-background",`mat-background-${l}`),this._backgroundColor=l}constructor(l,a,c,d){this._elementRef=l,this._changeDetectorRef=a,this._animationMode=d,this._tabs=new e.rOR,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=n.yU.EMPTY,this._tabLabelSubscription=n.yU.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new e.bkB,this.focusChange=new e.bkB,this.animationDone=new e.bkB,this.selectedTabChange=new e.bkB(!0),this._isServer=!(0,e.WQX)(J.OD).isBrowser,this._groupId=P++,this.animationDuration=c&&c.animationDuration?c.animationDuration:"500ms",this.disablePagination=!(!c||null==c.disablePagination)&&c.disablePagination,this.dynamicHeight=!(!c||null==c.dynamicHeight)&&c.dynamicHeight,null!=c?.contentTabIndex&&(this.contentTabIndex=c.contentTabIndex),this.preserveContent=!!c?.preserveContent,this.fitInkBarToContent=!(!c||null==c.fitInkBarToContent)&&c.fitInkBarToContent,this.stretchTabs=!c||null==c.stretchTabs||c.stretchTabs}ngAfterContentChecked(){const l=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=l){const a=null==this._selectedIndex;if(!a){this.selectedTabChange.emit(this._createChangeEvent(l));const c=this._tabBodyWrapper.nativeElement;c.style.minHeight=c.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((c,d)=>c.isActive=d===l),a||(this.selectedIndexChange.emit(l),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((a,c)=>{a.position=c-l,null!=this._selectedIndex&&0==a.position&&!a.origin&&(a.origin=l-this._selectedIndex)}),this._selectedIndex!==l&&(this._selectedIndex=l,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const l=this._clampTabIndex(this._indexToSelect);if(l===this._selectedIndex){const a=this._tabs.toArray();let c;for(let d=0;d<a.length;d++)if(a[d].isActive){this._indexToSelect=this._selectedIndex=d,this._lastFocusedTabIndex=null,c=a[d];break}!c&&a[l]&&Promise.resolve().then(()=>{a[l].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(l))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,u.Z)(this._allTabs)).subscribe(l=>{this._tabs.reset(l.filter(a=>a._closestTabGroup===this||!a._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(l){const a=this._tabHeader;a&&(a.focusIndex=l)}_focusChanged(l){this._lastFocusedTabIndex=l,this.focusChange.emit(this._createChangeEvent(l))}_createChangeEvent(l){const a=new Mt;return a.index=l,this._tabs&&this._tabs.length&&(a.tab=this._tabs.toArray()[l]),a}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,X.h)(...this._tabs.map(l=>l._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(l){return Math.min(this._tabs.length-1,Math.max(l||0,0))}_getTabLabelId(l){return`mat-tab-label-${this._groupId}-${l}`}_getTabContentId(l){return`mat-tab-content-${this._groupId}-${l}`}_setTabBodyWrapperHeight(l){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const a=this._tabBodyWrapper.nativeElement;a.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(a.style.height=l+"px")}_removeTabBodyWrapperHeight(){const l=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=l.clientHeight,l.style.height="",this.animationDone.emit()}_handleClick(l,a,c){a.focusIndex=c,l.disabled||(this.selectedIndex=c)}_getTabIndex(l){return l===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(l,a){l&&"mouse"!==l&&"touch"!==l&&(this._tabHeader.focusIndex=a)}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(ie,8),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:Z,selectors:[["mat-tab-group"]],contentQueries:function(a,c,d){if(1&a&&e.wni(d,Kt,5),2&a){let M;e.mGM(M=e.lsd())&&(c._allTabs=M)}},viewQuery:function(a,c){if(1&a&&(e.GBs(vt,5),e.GBs(Lt,5)),2&a){let d;e.mGM(d=e.lsd())&&(c._tabBodyWrapper=d.first),e.mGM(d=e.lsd())&&(c._tabHeader=d.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(a,c){2&a&&(e.HbH("mat-"+(c.color||"primary")),e.xc7("--mat-tab-animation-duration",c.animationDuration),e.AVh("mat-mdc-tab-group-dynamic-height",c.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===c.headerPosition)("mat-mdc-tab-group-stretch-tabs",c.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[e.Mj6.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",e.L39],stretchTabs:[e.Mj6.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",e.L39],dynamicHeight:[e.Mj6.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",e.L39],selectedIndex:[e.Mj6.HasDecoratorInputTransform,"selectedIndex","selectedIndex",e.Udg],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[e.Mj6.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",e.Udg],disablePagination:[e.Mj6.HasDecoratorInputTransform,"disablePagination","disablePagination",e.L39],disableRipple:[e.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",e.L39],preserveContent:[e.Mj6.HasDecoratorInputTransform,"preserveContent","preserveContent",e.L39],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[e.Jv_([{provide:Ht,useExisting:Z}]),e.GFd,e.aNF],ngContentSelectors:U,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","ngClass","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(a,c){if(1&a){const d=e.RV6();e.NAR(),e.j41(0,"mat-tab-header",3,0),e.bIt("indexFocused",function(A){return e.eBV(d),e.Njj(c._focusChanged(A))})("selectFocusedIndex",function(A){return e.eBV(d),e.Njj(c.selectedIndex=A)}),e.Z7z(2,I,8,16,"div",4,e.fX1),e.k0s(),e.DNE(4,F,1,0),e.j41(5,"div",5,1),e.Z7z(7,_,1,12,"mat-tab-body",6,e.fX1),e.k0s()}2&a&&(e.Y8G("selectedIndex",c.selectedIndex||0)("disableRipple",c.disableRipple)("disablePagination",c.disablePagination),e.R7$(2),e.Dyx(c._tabs),e.R7$(2),e.vxM(4,c._isServer?4:-1),e.R7$(),e.AVh("_mat-animation-noopable","NoopAnimations"===c._animationMode),e.R7$(2),e.Dyx(c._tabs))},dependencies:[ae,Rt,G.vR,dt.YU,r.r6,R.I3,Bt],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return Z})();class Mt{}let Vt=0,Zt=(()=>{class Z extends te{get fitInkBarToContent(){return this._fitInkBarToContent.value}set fitInkBarToContent(l){this._fitInkBarToContent.next(l),this._changeDetectorRef.markForCheck()}get animationDuration(){return this._animationDuration}set animationDuration(l){const a=l+"";this._animationDuration=/^\d+$/.test(a)?l+"ms":a}get backgroundColor(){return this._backgroundColor}set backgroundColor(l){const a=this._elementRef.nativeElement.classList;a.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),l&&a.add("mat-tabs-with-background",`mat-background-${l}`),this._backgroundColor=l}constructor(l,a,c,d,M,A,ut,mt){super(l,d,M,a,c,A,ut),this._fitInkBarToContent=new D.t(!1),this.stretchTabs=!0,this.disableRipple=!1,this.color="primary",this.disablePagination=!(!mt||null==mt.disablePagination)&&mt.disablePagination,this.fitInkBarToContent=!(!mt||null==mt.fitInkBarToContent)&&mt.fitInkBarToContent,this.stretchTabs=!mt||null==mt.stretchTabs||mt.stretchTabs}_itemSelected(){}ngAfterContentInit(){this._inkBar=new wt(this._items),this._items.changes.pipe((0,u.Z)(null),(0,W.Q)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}ngAfterViewInit(){super.ngAfterViewInit()}updateActiveLink(){if(!this._items)return;const l=this._items.toArray();for(let a=0;a<l.length;a++)if(l[a].active)return this.selectedIndex=a,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=l[a].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(e.aKT),e.rXU(t.dS,8),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(v.Xj),e.rXU(J.OD),e.rXU(e.bc$,8),e.rXU(ie,8))}}static{this.\u0275cmp=e.VBU({type:Z,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(a,c,d){if(1&a&&e.wni(d,qt,5),2&a){let M;e.mGM(M=e.lsd())&&(c._items=M)}},viewQuery:function(a,c){if(1&a&&(e.GBs(B,7),e.GBs(st,7),e.GBs(Ct,7),e.GBs(ot,5),e.GBs(pt,5)),2&a){let d;e.mGM(d=e.lsd())&&(c._tabListContainer=d.first),e.mGM(d=e.lsd())&&(c._tabList=d.first),e.mGM(d=e.lsd())&&(c._tabListInner=d.first),e.mGM(d=e.lsd())&&(c._nextPaginator=d.first),e.mGM(d=e.lsd())&&(c._previousPaginator=d.first)}},hostAttrs:[1,"mat-mdc-tab-nav-bar","mat-mdc-tab-header"],hostVars:17,hostBindings:function(a,c){2&a&&(e.BMQ("role",c._getRole()),e.xc7("--mat-tab-animation-duration",c.animationDuration),e.AVh("mat-mdc-tab-header-pagination-controls-enabled",c._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==c._getLayoutDirection())("mat-mdc-tab-nav-bar-stretch-tabs",c.stretchTabs)("mat-primary","warn"!==c.color&&"accent"!==c.color)("mat-accent","accent"===c.color)("mat-warn","warn"===c.color)("_mat-animation-noopable","NoopAnimations"===c._animationMode))},inputs:{fitInkBarToContent:[e.Mj6.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",e.L39],stretchTabs:[e.Mj6.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",e.L39],animationDuration:"animationDuration",backgroundColor:"backgroundColor",disableRipple:[e.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",e.L39],color:"color",tabPanel:"tabPanel"},exportAs:["matTabNavBar","matTabNav"],standalone:!0,features:[e.GFd,e.Vt3,e.aNF],attrs:w,ngContentSelectors:U,decls:13,vars:8,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-link-container",3,"keydown"],[1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-links"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(a,c){if(1&a){const d=e.RV6();e.NAR(),e.j41(0,"button",5,0),e.bIt("click",function(){return e.eBV(d),e.Njj(c._handlePaginatorClick("before"))})("mousedown",function(A){return e.eBV(d),e.Njj(c._handlePaginatorPress("before",A))})("touchend",function(){return e.eBV(d),e.Njj(c._stopInterval())}),e.nrm(2,"div",6),e.k0s(),e.j41(3,"div",7,1),e.bIt("keydown",function(A){return e.eBV(d),e.Njj(c._handleKeydown(A))}),e.j41(5,"div",8,2),e.bIt("cdkObserveContent",function(){return e.eBV(d),e.Njj(c._onContentChanges())}),e.j41(7,"div",9,3),e.SdG(9),e.k0s()()(),e.j41(10,"button",10,4),e.bIt("mousedown",function(A){return e.eBV(d),e.Njj(c._handlePaginatorPress("after",A))})("click",function(){return e.eBV(d),e.Njj(c._handlePaginatorClick("after"))})("touchend",function(){return e.eBV(d),e.Njj(c._stopInterval())}),e.nrm(12,"div",6),e.k0s()}2&a&&(e.AVh("mat-mdc-tab-header-pagination-disabled",c._disableScrollBefore),e.Y8G("matRippleDisabled",c._disableScrollBefore||c.disableRipple)("disabled",c._disableScrollBefore||null),e.R7$(10),e.AVh("mat-mdc-tab-header-pagination-disabled",c._disableScrollAfter),e.Y8G("matRippleDisabled",c._disableScrollAfter||c.disableRipple)("disabled",c._disableScrollAfter||null))},dependencies:[r.r6,Q.Wv],styles:[".mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}"],encapsulation:2})}}return Z})(),qt=(()=>{class Z extends L{get active(){return this._isActive}set active(l){l!==this._isActive&&(this._isActive=l,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}constructor(l,a,c,d,M,A){super(),this._tabNavBar=l,this.elementRef=a,this._focusMonitor=M,this._destroyed=new it.B,this._isActive=!1,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.id="mat-tab-link-"+Vt++,this.rippleConfig=c||{},this.tabIndex=parseInt(d)||0,"NoopAnimations"===A&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0}),l._fitInkBarToContent.pipe((0,W.Q)(this._destroyed)).subscribe(ut=>{this.fitInkBarToContent=ut})}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),super.ngOnDestroy(),this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(l){(l.keyCode===T.t6||l.keyCode===T.Fm)&&(this.disabled?l.preventDefault():this._tabNavBar.tabPanel&&(l.keyCode===T.t6&&l.preventDefault(),this.elementRef.nativeElement.click()))}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.disabled?-1:this.tabIndex}static{this.\u0275fac=function(a){return new(a||Z)(e.rXU(Zt),e.rXU(e.aKT),e.rXU(r.$E,8),e.kS0("tabindex"),e.rXU(G.FN),e.rXU(e.bc$,8))}}static{this.\u0275cmp=e.VBU({type:Z,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mdc-tab","mat-mdc-tab-link","mat-mdc-focus-indicator"],hostVars:11,hostBindings:function(a,c){1&a&&e.bIt("focus",function(){return c._handleFocus()})("keydown",function(M){return c._handleKeydown(M)}),2&a&&(e.BMQ("aria-controls",c._getAriaControls())("aria-current",c._getAriaCurrent())("aria-disabled",c.disabled)("aria-selected",c._getAriaSelected())("id",c.id)("tabIndex",c._getTabIndex())("role",c._getRole()),e.AVh("mat-mdc-tab-disabled",c.disabled)("mdc-tab--active",c.active))},inputs:{active:[e.Mj6.HasDecoratorInputTransform,"active","active",e.L39],disabled:[e.Mj6.HasDecoratorInputTransform,"disabled","disabled",e.L39],disableRipple:[e.Mj6.HasDecoratorInputTransform,"disableRipple","disableRipple",e.L39],tabIndex:[e.Mj6.HasDecoratorInputTransform,"tabIndex","tabIndex",l=>null==l?0:(0,e.Udg)(l)],id:"id"},exportAs:["matTabLink"],standalone:!0,features:[e.GFd,e.Vt3,e.aNF],attrs:m,ngContentSelectors:U,decls:5,vars:2,consts:[[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"]],template:function(a,c){1&a&&(e.NAR(),e.nrm(0,"span",0)(1,"div",1),e.j41(2,"span",2)(3,"span",3),e.SdG(4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("matRippleTrigger",c.elementRef.nativeElement)("matRippleDisabled",c.rippleDisabled))},dependencies:[r.r6],styles:['.mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab-link:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab-link:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link.mdc-tab{flex-grow:0}.mat-mdc-tab-link:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab-link:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab-link.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab-link.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab-link.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab-link .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}'],encapsulation:2,changeDetection:0})}}return Z})(),ee=(()=>{class Z{constructor(){this.id="mat-tab-nav-panel-"+Vt++}static{this.\u0275fac=function(a){return new(a||Z)}}static{this.\u0275cmp=e.VBU({type:Z,selectors:[["mat-tab-nav-panel"]],hostAttrs:["role","tabpanel",1,"mat-mdc-tab-nav-panel"],hostVars:2,hostBindings:function(a,c){2&a&&e.BMQ("aria-labelledby",c._activeTabId)("id",c.id)},inputs:{id:"id"},exportAs:["matTabNavPanel"],standalone:!0,features:[e.aNF],ngContentSelectors:U,decls:1,vars:0,template:function(a,c){1&a&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})}}return Z})(),de=(()=>{class Z{static{this.\u0275fac=function(a){return new(a||Z)}}static{this.\u0275mod=e.$C({type:Z})}static{this.\u0275inj=e.G2t({imports:[r.yE,r.yE]})}}return Z})()},3470:(kt,ct,i)=>{i.d(ct,{A:()=>D});const it=function e(v){return function(J,t,G){for(var T=-1,W=Object(J),y=G(J),u=y.length;u--;){var C=y[v?u:++T];if(!1===t(W[C],C,W))break}return J}}();var o=i(2662);var $=i(1287);const D=function E(v,J){return function(t,G){if(null==t)return t;if(!(0,$.A)(t))return v(t,G);for(var T=t.length,W=J?T:-1,y=Object(t);(J?W--:++W<T)&&!1!==G(y[W],W,y););return t}}(function s(v,J){return v&&it(v,J,o.A)})},2074:(kt,ct,i)=>{i.d(ct,{A:()=>R});var e=i(4077);const R=function r(it,o,s){for(var X=-1,$=it.length;++X<$;){var E=it[X],f=o(E);if(null!=f&&(void 0===n?f==f&&!(0,e.A)(f):s(f,n)))var n=f,D=E}return D}},8070:(kt,ct,i)=>{i.d(ct,{A:()=>r});const r=function e(R,it){return R>it}},5739:(kt,ct,i)=>{i.d(ct,{A:()=>y});var e=i(6689),r=i(4501),R=i(3069),it=i(3470),o=i(1287);var f=i(778),n=i(4077);const v=function D(u,C){if(u!==C){var S=void 0!==u,O=null===u,V=u==u,Q=(0,n.A)(u),dt=void 0!==C,q=null===C,U=C==C,H=(0,n.A)(C);if(!q&&!H&&!Q&&u>C||Q&&dt&&U&&!q&&!H||O&&dt&&U||!S&&U||!V)return 1;if(!O&&!Q&&!H&&u<C||H&&S&&V&&!O&&!Q||q&&S&&V||!dt&&V||!U)return-1}return 0};var G=i(7003),T=i(3744);const y=function W(u,C,S){C=C.length?(0,e.A)(C,function(Q){return(0,T.A)(Q)?function(dt){return(0,r.A)(dt,1===Q.length?Q[0]:Q)}:Q}):[G.A];var O=-1;C=(0,e.A)(C,(0,f.A)(R.A));var V=function s(u,C){var S=-1,O=(0,o.A)(u)?Array(u.length):[];return(0,it.A)(u,function(V,Q,dt){O[++S]=C(V,Q,dt)}),O}(u,function(Q,dt,q){return{criteria:(0,e.A)(C,function(H){return H(Q)}),index:++O,value:Q}});return function $(u,C){var S=u.length;for(u.sort(C);S--;)u[S]=u[S].value;return u}(V,function(Q,dt){return function J(u,C,S){for(var O=-1,V=u.criteria,Q=C.criteria,dt=V.length,q=S.length;++O<dt;){var U=v(V[O],Q[O]);if(U)return O>=q?U:U*("desc"==S[O]?-1:1)}return u.index-C.index}(Q,dt,S)})}},7357:(kt,ct,i)=>{i.d(ct,{A:()=>s});var e=i(1319),r=i(1287),R=i(8606),it=i(554);const s=function o(X,$,E){if(!(0,it.A)(E))return!1;var f=typeof $;return!!("number"==f?(0,r.A)(E)&&(0,R.A)($,E.length):"string"==f&&$ in E)&&(0,e.A)(E[$],X)}},180:(kt,ct,i)=>{i.d(ct,{A:()=>J});var e=i(1827);const R=function r(t,G,T,W){for(var y=-1,u=null==t?0:t.length;++y<u;){var C=t[y];G(W,C,T(C),t)}return W};var it=i(3470);const s=function o(t,G,T,W){return(0,it.A)(t,function(y,u,C){G(W,y,T(y),C)}),W};var X=i(3069),$=i(3744),D=Object.prototype.hasOwnProperty;const J=function E(t,G){return function(T,W){var y=(0,$.A)(T)?R:s,u=G?G():{};return y(T,t,(0,X.A)(W,2),u)}}(function(t,G,T){D.call(t,T)?t[T].push(G):(0,e.A)(t,T,[G])})},4991:(kt,ct,i)=>{i.d(ct,{A:()=>it});var e=i(5739),r=i(3744);const it=function R(o,s,X,$){return null==o?[]:((0,r.A)(s)||(s=null==s?[]:[s]),(0,r.A)(X=$?void 0:X)||(X=null==X?[]:[X]),(0,e.A)(o,s,X))}},3938:(kt,ct,i)=>{i.d(ct,{A:()=>f});var e=Math.ceil,r=Math.max;var o=i(7357),s=i(5809);const f=function X(n){return function(D,v,J){return J&&"number"!=typeof J&&(0,o.A)(D,v,J)&&(v=J=void 0),D=(0,s.A)(D),void 0===v?(v=D,D=0):v=(0,s.A)(v),function R(n,D,v,J){for(var t=-1,G=r(e((D-n)/(v||1)),0),T=Array(G);G--;)T[J?G:++t]=n,n+=v;return T}(D,v,J=void 0===J?D<v?1:-1:(0,s.A)(J),n)}}()},2180:(kt,ct,i)=>{i.d(ct,{A:()=>s});var e=i(4367),r=i(5739),R=i(363),it=i(7357);const s=(0,R.A)(function(X,$){if(null==X)return[];var E=$.length;return E>1&&(0,it.A)(X,$[0],$[1])?$=[]:E>2&&(0,it.A)($[0],$[1],$[2])&&($=[$[0]]),(0,r.A)(X,(0,e.A)($,1),[])})},5809:(kt,ct,i)=>{i.d(ct,{A:()=>y});var e=/\s/;var it=/^\s+/;const s=function o(u){return u&&u.slice(0,function r(u){for(var C=u.length;C--&&e.test(u.charAt(C)););return C}(u)+1).replace(it,"")};var X=i(554),$=i(4077),f=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,D=/^0o[0-7]+$/i,v=parseInt;var G=1/0;const y=function W(u){return u?(u=function J(u){if("number"==typeof u)return u;if((0,$.A)(u))return NaN;if((0,X.A)(u)){var C="function"==typeof u.valueOf?u.valueOf():u;u=(0,X.A)(C)?C+"":C}if("string"!=typeof u)return 0===u?u:+u;u=s(u);var S=n.test(u);return S||D.test(u)?v(u.slice(2),S?2:8):f.test(u)?NaN:+u}(u))===G||u===-G?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}}}]);
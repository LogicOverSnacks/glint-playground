import{$f as $,$h as O,Ba as N,Ca as I,Cb as _,Db as u,Fa as S,Ga as D,Kc as L,Mb as B,Nb as E,Oi as G,P as k,S as T,Sb as H,Ua as m,Va as r,Wa as f,Yf as z,_ as b,ag as v,ai as U,cb as F,da as c,dg as p,di as q,ea as s,eb as h,ej as J,fb as a,fg as M,j as P,nj as K,pj as Q,q as x,qb as C,r as w,rb as j,sa as V,th as A,ug as W,uh as R,va as l,w as y,xh as g,za as d}from"./chunk-R5KNYV3F.js";function Z(i,X){if(i&1){let t=F();r(0,"li",2),_(1,"async"),h("mousemove",function(){let n=c(t).$implicit,o=a();return s(o.mouseMove(n))})("mouseleave",function(){let n=c(t).$implicit,o=a();return s(o.mouseLeave(n))}),r(2,"mat-icon",3),h("click",function(){let n=c(t).$implicit,o=a();return s(o.dismiss(n))}),C(3,"close"),f(),r(4,"mat-icon",4),C(5),f(),r(6,"div",5),_(7,"safeHtml"),h("click",function(n){c(t);let o=a();return s(o.htmlClick(n))}),f()()}if(i&2){let t=X.$implicit,e=a();m("@.disabled",u(1,6,e.initialized)===!1)("@fade",void 0)("ngClass",t.level+"-level"),l(4),m("matTooltip",e.getLevelText(t.level)),l(),j(e.getIcon(t.level)),l(),m("innerHtml",u(7,8,t.message),V)}}var pt=(()=>{class i extends A(R){static{this.displayTime=5e3}constructor(t,e,n){super(),this.router=t,this.store=e,this.htmlClickService=n,this.initialized=new P(!1),this.htmlClick=this.htmlClickService.click}ngOnInit(){this.notifications=w([y(1e3).pipe(k(0)),this.store.select(q.notifications)]).pipe(x(([,t])=>t.filter(e=>!e.dismissed&&e.created>Date.now()-i.displayTime)),T(()=>{setTimeout(()=>{this.initialized.next(!0)},0)}))}getId(t,e){return e.id}getIcon(t){switch(t){case"error":return"error";case"warn":return"warning";case"info":return"info";case"unhandled-error":return"error"}}getLevelText(t){switch(t){case"error":return g("Error");case"warn":return g("Warning");case"info":return g("Info");case"unhandled-error":return g("Error")}}mouseMove(t){this.store.dispatch(new O(t,{created:Date.now()+i.displayTime}))}mouseLeave(t){this.store.dispatch(new O(t,{created:Date.now()}))}dismiss(t){this.store.dispatch(new U(t))}static{this.\u0275fac=function(e){return new(e||i)(d(L),d(W),d(J))}}static{this.\u0275cmp=N({type:i,selectors:[["app-notification-tray-view"]],standalone:!1,features:[S],decls:3,vars:4,consts:[[1,"notification-list"],["class","notification",3,"ngClass","mousemove","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],[1,"notification",3,"mousemove","mouseleave","ngClass"],[1,"close-icon",3,"click"],[1,"level-icon",3,"matTooltip"],[1,"message",3,"click","innerHtml"]],template:function(e,n){e&1&&(r(0,"ul",0),D(1,Z,8,10,"li",1),_(2,"async"),f()),e&2&&(l(),m("ngForOf",u(2,2,n.notifications))("ngForTrackBy",n.getId))},dependencies:[B,E,G,z,H,K],styles:["[_nghost-%COMP%]{max-width:calc(100% - 20px)}.notification-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding-right:10px}.notification[_ngcontent-%COMP%]{border-radius:4px;padding:10px 40px 10px 10px;max-height:200px;margin:5px 0;overflow-y:hidden;opacity:1;display:flex;align-items:center;position:relative}.notification[_ngcontent-%COMP%]:first-child{margin-top:0}.notification[_ngcontent-%COMP%]:last-child{margin-bottom:0}.notification[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:8px;cursor:pointer}.notification[_ngcontent-%COMP%]   .level-icon[_ngcontent-%COMP%]{margin-right:10px;flex:0 0 auto}.notification[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{overflow-y:auto;max-height:180px}.notification[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]     ul{list-style:inside}.notification[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]     pre{width:100%}.dark-theme[_nghost-%COMP%]   .notification.info-level[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .notification.info-level[_ngcontent-%COMP%]{background-color:#7c8bff}.dark-theme[_nghost-%COMP%]   .notification.warn-level[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .notification.warn-level[_ngcontent-%COMP%]{background-color:#cb8837}.dark-theme[_nghost-%COMP%]   .notification.error-level[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .notification.error-level[_ngcontent-%COMP%]{background-color:#ef5350}.dark-theme[_nghost-%COMP%]   .notification.unhandled-error-level[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .notification.unhandled-error-level[_ngcontent-%COMP%]{background-color:#ef5350}.light-theme[_nghost-%COMP%]   .notification.info-level[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .notification.info-level[_ngcontent-%COMP%]{background-color:#7c8bff}.light-theme[_nghost-%COMP%]   .notification.warn-level[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .notification.warn-level[_ngcontent-%COMP%]{background-color:#d8a669}.light-theme[_nghost-%COMP%]   .notification.error-level[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .notification.error-level[_ngcontent-%COMP%]{background-color:#ef5350}.light-theme[_nghost-%COMP%]   .notification.unhandled-error-level[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .notification.unhandled-error-level[_ngcontent-%COMP%]{background-color:#ef5350}"],data:{animation:[$("fade",[M(":enter",[p({opacity:0,height:0}),v("225ms ease-in-out",p({opacity:1,height:"*"}))]),M(":leave",[p({opacity:1,height:"*"}),v("225ms ease-in-out",p({opacity:0,height:0}))])])]},changeDetection:0})}}return i})();var ht=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=I({type:i})}static{this.\u0275inj=b({imports:[Q]})}}return i})();export{pt as a,ht as b};

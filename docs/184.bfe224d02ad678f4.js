"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[184],{3178:(D,Q,s)=>{s.d(Q,{l:()=>l});var A=s(4080),C=s(5698),M=s(2722),T=s(9967),x=s(8926),g=s(8310),u=s(4650),e=s(8184);class l extends((0,x.j)(T.A)){constructor(b,v){super(),this.overlay=b,this.viewContainerRef=v,this.overlayRef=null,this.closeMenu=()=>{this.overlayRef?.dispose(),this.overlayRef=null},this.openMenu=(d,y)=>{this.closeMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:d,y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new A.UE(this.menuTemplate,this.viewContainerRef,{data:this.data})),(0,g.t)(this.overlayRef).pipe((0,C.q)(1),(0,M.R)(this.destroyed$)).subscribe(this.closeMenu)},this.toggleMenu=(d,y)=>{this.overlayRef?this.closeMenu():this.openMenu(d,y)}}contextmenuListener(b){b.preventDefault(),b.stopPropagation(),this.openMenu(b.x,b.y)}ngOnDestroy(){super.ngOnDestroy(),this.closeMenu()}static{this.\u0275fac=function(v){return new(v||l)(u.Y36(e.aV),u.Y36(u.s_b))}}static{this.\u0275dir=u.lG2({type:l,selectors:[["","appContextMenu",""]],hostBindings:function(v,d){1&v&&u.NdJ("contextmenu",function(Z){return d.contextmenuListener(Z)})},inputs:{menuTemplate:["appContextMenu","menuTemplate"],data:["appContextMenuData","data"]},exportAs:["appContextMenu"],features:[u.qOj]})}}},6184:(D,Q,s)=>{s.r(Q),s.d(Q,{DefaultLayoutModule:()=>St});var A=s(3179),C=s(5412),M=s(7084),T=s(9549),x=s(284),g=s(4385),u=s(7093),e=s(4650);class l{static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275mod=e.oAB({type:l})}static{this.\u0275inj=e.cJS({imports:[C.Is,M.To,T.lN,x.c,g.LD,A.I,u.v]})}}var _=s(3546),b=s(6709),v=s(1572),d=s(9418),y=s(6248);class Z{static{this.\u0275fac=function(t){return new(t||Z)}}static{this.\u0275mod=e.oAB({type:Z})}static{this.\u0275inj=e.cJS({imports:[_.QW,b.p9,x.c,v.Cq,A.I,d.c,y.Z]})}}var L=s(7072),$=s(8255);class N{static{this.\u0275fac=function(t){return new(t||N)}}static{this.\u0275mod=e.oAB({type:N})}static{this.\u0275inj=e.cJS({imports:[$.Tx,A.I,u.v]})}}var j=s(6338);class te{static{this.\u0275fac=function(t){return new(t||te)}}static{this.\u0275mod=e.oAB({type:te})}static{this.\u0275inj=e.cJS({imports:[_.QW,x.c,j.ie,A.I,d.c,y.Z,u.v]})}}var X=s(811),re=s(4247);class _e{static{this.\u0275fac=function(t){return new(t||_e)}}static{this.\u0275mod=e.oAB({type:_e})}static{this.\u0275inj=e.cJS({imports:[X.vV,C.Is,re.nm,A.I,L.m]})}}var pe=s(3238),ke=s(2693),fe=s(1281),Ee=s(5017),J=s(4006),q=s(6895);const ce=["input"],ue=["*"];let le=0;class se{constructor(c,t){this.source=c,this.value=t}}const be={provide:J.JU,useExisting:(0,e.Gpc)(()=>h),multi:!0},he=new e.OlP("MatRadioGroup"),Ge=new e.OlP("mat-radio-default-options",{providedIn:"root",factory:function ge(){return{color:"accent"}}});let Ne=(()=>{class r{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,fe.Ig)(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=(0,fe.Ig)(t),this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+le++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new e.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new se(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO))},r.\u0275dir=e.lG2({type:r,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),r})();class Je{constructor(c){this._elementRef=c}}const ze=(0,pe.Kr)((0,pe.sb)(Je));let et=(()=>{class r extends ze{get checked(){return this._checked}set checked(t){const n=(0,fe.Ig)(t);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled((0,fe.Ig)(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=(0,fe.Ig)(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,n,o,i,a,f,O,k){super(n),this._changeDetector=o,this._focusMonitor=i,this._radioDispatcher=a,this._providerOverride=O,this._uniqueId="mat-radio-"+ ++le,this.id=this._uniqueId,this.change=new e.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===f,k&&(this.tabIndex=(0,fe.su)(k,0))}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,n)=>{t!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new se(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let n;if(n=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",n+""),this._previousTabIndex=n)}}}return r.\u0275fac=function(t){e.$Z()},r.\u0275dir=e.lG2({type:r,viewQuery:function(t,n){if(1&t&&e.Gf(ce,5),2&t){let o;e.iGM(o=e.CRH())&&(n._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[e.qOj]}),r})(),h=(()=>{class r extends Ne{}return r.\u0275fac=function(){let c;return function(n){return(c||(c=e.n5z(r)))(n||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["mat-radio-group"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,m,5),2&t){let i;e.iGM(i=e.CRH())&&(n._radios=i)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[e._Bn([be,{provide:he,useExisting:r}]),e.qOj]}),r})(),m=(()=>{class r extends et{constructor(t,n,o,i,a,f,O,k){super(t,n,o,i,a,f,O,k)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(he,8),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ke.tE),e.Y36(Ee.A8),e.Y36(e.QbO,8),e.Y36(Ge,8),e.$8M("tabindex"))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(t,n){1&t&&e.NdJ("focus",function(){return n._inputElement.nativeElement.focus()}),2&t&&(e.uIk("id",n.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.ekj("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color)("mat-mdc-radio-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[e.qOj],ngContentSelectors:ue,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(t,n){if(1&t&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),e.NdJ("click",function(i){return n._onInputInteraction(i)}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("change",function(i){return n._onInputInteraction(i)}),e.qZA(),e.TgZ(6,"div",6),e._UZ(7,"div",7)(8,"div",8),e.qZA(),e.TgZ(9,"div",9),e._UZ(10,"div",10),e.qZA()(),e.TgZ(11,"label",11),e.Hsn(12),e.qZA()()),2&t){const o=e.MAs(1);e.ekj("mdc-form-field--align-end","before"==n.labelPosition),e.xp6(2),e.ekj("mdc-radio--disabled",n.disabled),e.xp6(2),e.Q6J("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("required",n.required),e.uIk("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.xp6(5),e.Q6J("matRippleTrigger",o)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0),e.xp6(2),e.Q6J("for",n.inputId)}},dependencies:[pe.wG],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),r})(),V=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[pe.BQ,q.ez,pe.si,pe.BQ]}),r})();class E{static{this.\u0275fac=function(t){return new(t||E)}}static{this.\u0275mod=e.oAB({type:E})}static{this.\u0275inj=e.cJS({imports:[X.vV,C.Is,T.lN,x.c,$.Tx,v.Cq,V,A.I,u.v]})}}var U=s(2367),B=s(655),ee=s(7340),G=s(9867),Ce=s(1854),xe=s(9466),Oe=s(7717),W=s(1135),K=s(9646),ve=s(2843),Ie=s(4128),ne=s(4004),Ae=s(262),Pe=s(8505),$e=s(1884),De=s(9468),Me=s(3900),z=s(2722),Ue=s(6421),Se=s(2435),Be=s(8926),Fe=s(9967),Zt=s(4745),Qe=s(4462),Vt=s(205),F=s(4889),I=s(6966),Re=s(9077),Le=s(1129),Gt=s(790),Ct=s(3983),at=s(3058),un=s(2860),bt=s(7396),Mt=s(3943),Ye=s(4080),ye=s(4883),Rt=s(2686),we=s(9841),ut=s(8675),oe=s(5698),Ze=s(9300),tt=s(4782),st=s(4326),sn=s(8831),Pt=s(2771),He=s(8310),Te=s(2120),it=s(8184),dn=s(6271),Jt=s(4614),qe=s(8523);class Ke{constructor(c,t,n,o){this.store=c,this.commitsApi=t,this.mergesApi=n,this.repositoriesApi=o,this.createMerge=(i,a,f,O)=>{const k=this.store.selectSnapshot(Re.$.selectedProfile);return this.store.dispatch(new Le.z0(i,{name:"Merge",detail:`${a??f} into ${O}`,do:()=>this.commitsApi.getBranchCommitId(i,O).pipe((0,Me.w)(p=>this.mergesApi.createMerge(i,f,O,k?.name??null,k?.email??null,`merge: ${a??f} into ${O}`).pipe((0,Ae.K)(S=>Se.Nu.matches(S)?(0,ve._)(()=>new Te.ZR(S.message,S.isHtml)):(0,ve._)(()=>S)),(0,Me.w)(S=>"string"==typeof S?this.store.dispatch(new F.jQ(i,S)).pipe((0,ne.U)(()=>p)):this.store.dispatch(new F.hb(i,{fromId:S.fromCommitId,toId:S.toCommitId})).pipe((0,ne.U)(()=>S))),(0,qe.C)(S=>this.store.dispatch(new F.Vu(i,[F.nh.commits,F.nh.currentBranchCommitId,F.nh.headCommitId,F.nh.mergeHeads,F.nh.merges,F.nh.references])).pipe((0,ne.U)(()=>S)))))),undo:p=>p?"string"==typeof p?this.repositoriesApi.updateBranch(i,O,p).pipe((0,Ae.K)(S=>Se.Nu.matches(S)?(0,ve._)(()=>new Te.ZR(S.message,S.isHtml)):(0,ve._)(()=>S)),(0,Me.w)(()=>this.store.dispatch(new F.jQ(i,null))),(0,qe.C)(()=>this.store.dispatch(new F.Vu(i,[F.nh.commits,F.nh.currentBranch,F.nh.currentBranchCommitId,F.nh.headCommitId,F.nh.mergeHeads,F.nh.merges,F.nh.references])))):this.mergesApi.deleteMerge(i,p.fromCommitId,p.toCommitId).pipe((0,Me.w)(()=>this.store.dispatch(new F.hb(i,null))),(0,qe.C)(()=>this.store.dispatch(new F.Vu(i,[F.nh.commits,F.nh.mergeHeads,F.nh.merges,F.nh.stagedChanges,F.nh.submodules,F.nh.unstagedChanges])))):(0,K.of)(void 0)}))},this.discardMerge=(i,a,f)=>this.store.dispatch(new Le.z0(i,{name:"Discard merge",detail:`${a} into ${f}`,do:()=>this.mergesApi.deleteMerge(i,a,f).pipe((0,Me.w)(()=>this.store.dispatch(new F.hb(i,null))),(0,qe.C)(()=>this.store.dispatch(new F.Vu(i,[F.nh.commits,F.nh.mergeHeads,F.nh.merges,F.nh.stagedChanges,F.nh.submodules,F.nh.unstagedChanges]))))})),this.commitMerge=(i,a,f,O,k)=>{const p=this.store.selectSnapshot(Re.$.selectedProfile);return this.store.dispatch(new Le.z0(i,{name:"Commit merge",detail:O,do:()=>this.mergesApi.commitMerge(i,a,f,k,p?.name??null,p?.email??null,O).pipe((0,Me.w)(S=>this.store.dispatch(new F.jQ(i,S))),(0,Ae.K)(S=>Se.Nu.matches(S)?(0,ve._)(()=>new Te.ZR(S.message,S.isHtml)):(0,ve._)(()=>S)),(0,qe.C)(()=>this.store.dispatch(new F.Vu(i,[F.nh.commits,F.nh.currentBranchCommitId,F.nh.headCommitId,F.nh.mergeHeads,F.nh.merges,F.nh.references]))))}))},this.updateMerge=(i,a,f,O,k,p)=>this.store.dispatch(new Le.z0(i,{name:"Update merge file",detail:O,do:()=>this.mergesApi.updateMerge(i,a,f,O,k??"",p).pipe((0,qe.C)(()=>this.store.dispatch(new F.Vu(i,[F.nh.merges,F.nh.stagedChanges,F.nh.submodules,F.nh.unstagedChanges]))))})),this.resolveMergeFiles=(i,a,f,O,k,p)=>this.store.dispatch(new Le.z0(i,{name:"Resolve merge files",detail:k.join(", "),do:()=>this.mergesApi.resolveMergeFiles(i,a,f,O,k,p).pipe((0,qe.C)(()=>this.store.dispatch(new F.Vu(i,[F.nh.merges,F.nh.stagedChanges,F.nh.submodules,F.nh.unstagedChanges]))))}))}static{this.\u0275fac=function(t){return new(t||Ke)(e.LFG(G.yh),e.LFG(Gt.T),e.LFG(Ct.Z),e.LFG(at.a))}}static{this.\u0275prov=e.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}}var dt=s(6719),Ot=s(515),ln=s(6803),gn=s(2037);class nt{constructor(c,t,n){this.dialog=c,this.store=t,this.stashApi=n,this.save=(o,i=`${new Date}`)=>this.store.dispatch(new Le.z0(o,{name:"Stash changes",detail:i,do:()=>{const a=this.store.selectSnapshot(Re.$.selectedProfile);return this.stashApi.save(o,a?.name??null,a?.email??null,i).pipe((0,qe.C)(()=>this.store.dispatch(new F.Vu(o,[F.nh.commits,F.nh.references,F.nh.stagedChanges,F.nh.stash,F.nh.unstagedChanges]))))}})),this.apply=(o,i)=>this.store.dispatch(new Le.z0(o,{name:"Apply stash",detail:`${i}`,do:()=>this.stashApi.apply(o,i).pipe((0,qe.C)(()=>this.store.dispatch(new F.Vu(o,[F.nh.commits,F.nh.references,F.nh.stagedChanges,F.nh.stash,F.nh.unstagedChanges]))))})),this.pop=(o,i)=>this.store.dispatch(new Le.z0(o,{name:"Pop stash",detail:`${i}`,do:()=>this.stashApi.pop(o,i).pipe((0,qe.C)(()=>this.store.dispatch(new F.Vu(o,[F.nh.commits,F.nh.references,F.nh.stagedChanges,F.nh.stash,F.nh.unstagedChanges]))))})),this.drop=(o,i)=>this.store.dispatch(new Le.z0(o,{name:"Delete stash",detail:`${i}`,do:()=>this.stashApi.drop(o,i).pipe((0,qe.C)(()=>this.store.dispatch(new F.Vu(o,[F.nh.commits,F.nh.references,F.nh.stagedChanges,F.nh.stash,F.nh.unstagedChanges]))))})),this.createBranch=(o,i,a)=>this.dialog.open(ln.t,{data:{title:"Branch"}}).afterClosed().pipe((0,Me.w)(O=>O?this.store.dispatch(new Le.z0(o,{name:"Create branch from stash",detail:`${i}`,do:()=>this.stashApi.createBranch(o,i,a,O.name).pipe((0,Ae.K)(k=>Se.vV.matches(k)||Se.bG.matches(k)||Se.OV.matches(k)?(0,ve._)(()=>new Te.ZR(k.message)):(0,ve._)(()=>k)),(0,qe.C)(()=>this.store.dispatch(new F.Vu(o,[F.nh.commits,F.nh.references,F.nh.stagedChanges,F.nh.stash,F.nh.unstagedChanges]))))})):Ot.E))}static{this.\u0275fac=function(t){return new(t||nt)(e.LFG(C.uw),e.LFG(G.yh),e.LFG(gn._))}}static{this.\u0275prov=e.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}}var Ve=s(4859);class xt{constructor(c){this.data=c}static{this.\u0275fac=function(t){return new(t||xt)(e.Y36(C.WI))}}static{this.\u0275cmp=e.Xpm({type:xt,selectors:[["ng-component"]],decls:9,vars:3,consts:[["mat-dialog-title",""],["type","button","mat-button","",3,"mat-dialog-close"],["type","submit","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._uU(1,"Remove Submodule"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e._uU(3),e.qZA(),e.TgZ(4,"mat-dialog-actions")(5,"button",1),e._uU(6,"Cancel"),e.qZA(),e.TgZ(7,"button",2),e._uU(8,"Confirm"),e.qZA()()),2&t&&(e.xp6(3),e.hij(" Submodule ",n.data.name," has uncommitted changes, are you sure you want to remove it? "),e.xp6(2),e.Q6J("mat-dialog-close",null),e.xp6(2),e.Q6J("mat-dialog-close",!0))},dependencies:[C.ZT,C.uh,C.xY,C.H8,Ve.lW],encapsulation:2,changeDetection:0})}}class lt{constructor(c,t,n){this.dialog=c,this.store=t,this.submodulesApi=n,this.updateSubmodule=(o,i,a)=>this.store.dispatch(new Le.z0(o,{name:"Update submodule",detail:i,do:()=>this.submodulesApi.updateSubmodule(o,i,a).pipe((0,Ae.K)(f=>Se.L_.matches(f)?(0,K.of)(f.submodulePath):(0,ve._)(()=>f)),(0,Me.w)(f=>this.store.dispatch(new F.gz(f)).pipe((0,Me.w)(()=>this.store.dispatch(new F.he(f))),(0,Me.w)(()=>this.store.dispatch(new F.BZ(f))))))})),this.deleteSubmodule=(o,i,a=!1)=>this.store.dispatch(new Le.z0(o,{name:(a?"Force delete":"Delete")+" submodule",detail:i,do:()=>this.submodulesApi.deleteSubmodule(o,i,!1).pipe((0,Ae.K)(f=>Se.Nu.matches(f)?this.dialog.open(xt,{data:{name:i}}).afterClosed().pipe((0,Me.w)(k=>k?this.submodulesApi.deleteSubmodule(o,i,!0):Ot.E)):(0,ve._)(()=>f)))}))}static{this.\u0275fac=function(t){return new(t||lt)(e.LFG(C.uw),e.LFG(G.yh),e.LFG(Jt.N))}}static{this.\u0275prov=e.Yz7({token:lt,factory:lt.\u0275fac,providedIn:"root"})}}var je=s(7392),We=s(266),Dt=s(9131),mn=s(3178),fn=s(6725),pn=s(3448),_n=s(1123),gt=s(744);const hn=["branchContextMenu"],Cn=["remoteContextMenu"],bn=["stashContextMenu"],Mn=["addSubmoduleDialog"],Pn=["editSubmoduleDialog"],On=["addSubmoduleDialogFormField1","addSubmoduleDialogFormField2","addSubmoduleDialogFormField3"],xn=["editSubmoduleDialogFormField1"];function vn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.toggleNodeExpanded(o,a))}),e.ALo(1,"async"),e.TgZ(2,"mat-icon",22),e._uU(3,"folder"),e.qZA(),e.TgZ(4,"span",23),e._uU(5),e.qZA(),e.TgZ(6,"div",24)(7,"button",25),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.toggleVisibility(o,a))}),e.TgZ(8,"mat-icon"),e._uU(9),e.qZA()(),e.TgZ(10,"mat-icon"),e._uU(11),e.qZA()()()}if(2&r){const t=c.$implicit,n=e.oxw();let o;e.ekj("selected",null==(o=e.lcZ(1,9,n.currentBranch))?null:o.startsWith(t.id)),e.xp6(4),e.Q6J("matTooltip",t.segment),e.xp6(1),e.Oqu(t.segment),e.xp6(2),e.ekj("show",null!==t.visibility),e.Q6J("matTooltip",n.visibilityTitle(t.visibility)),e.xp6(2),e.Oqu(!1===t.visibility?"visibility_off":"visibility"),e.xp6(2),e.Oqu(t.expanded?"expand_less":"expand_more")}}function yn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",26),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.jumpToCommit(i.commitId))})("dblclick",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.checkoutBranch(i.id))})("contextmenu",function(o){const a=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.openContextMenu(o,"local",a.id,a.commitId,a.upstreamBranch))}),e.ALo(1,"async"),e.TgZ(2,"span",23),e._uU(3),e.qZA(),e.TgZ(4,"div",24)(5,"button",25),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.toggleRefVisibility(o,a.id))}),e.TgZ(6,"mat-icon"),e._uU(7),e.qZA()()()()}if(2&r){const t=c.$implicit,n=e.oxw();e.ekj("selected",t.id===e.lcZ(1,8,n.currentBranch)),e.xp6(2),e.Q6J("matTooltip",n.getLocalBranchName(t.id)),e.xp6(1),e.Oqu(t.segment),e.xp6(2),e.ekj("show",null!==t.visibility),e.Q6J("matTooltip",n.visibilityTitle(t.visibility)),e.xp6(2),e.Oqu(!1===t.visibility?"visibility_off":"visibility")}}function wn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",30),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.toggleNodeExpanded(o,a))})("contextmenu",function(o){const a=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.openRemoteContextMenu(o,a))}),e.TgZ(1,"mat-icon",22),e._uU(2),e.qZA(),e.TgZ(3,"span",23),e._uU(4),e.qZA(),e.TgZ(5,"div",24)(6,"button",25),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.toggleVisibility(o,a))}),e.TgZ(7,"mat-icon"),e._uU(8),e.qZA()(),e.TgZ(9,"mat-icon"),e._uU(10),e.qZA()()()}if(2&r){const t=c.$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(0===t.depth?"public":"folder"),e.xp6(1),e.Q6J("matTooltip",t.segment),e.xp6(1),e.Oqu(t.segment),e.xp6(2),e.ekj("show",null!==t.visibility),e.Q6J("matTooltip",n.visibilityTitle(t.visibility)),e.xp6(2),e.Oqu(!1===t.visibility?"visibility_off":"visibility"),e.xp6(2),e.Oqu(t.expanded?"expand_less":"expand_more")}}function Tn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",26),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.jumpToCommit(i.commitId))})("dblclick",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.checkoutRemoteBranch(i.id,i.commitId))})("contextmenu",function(o){const a=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.openContextMenu(o,"remote",a.id,a.commitId))}),e.TgZ(1,"span",23),e._uU(2),e.qZA(),e.TgZ(3,"div",24)(4,"button",25),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.toggleRefVisibility(o,a.id))}),e.TgZ(5,"mat-icon"),e._uU(6),e.qZA()()()()}if(2&r){const t=c.$implicit,n=e.oxw(2);let o;e.xp6(1),e.Q6J("matTooltip",null!==(o=n.getBranchNameWithRemote(t.id))&&void 0!==o?o:""),e.xp6(1),e.Oqu(t.segment),e.xp6(2),e.ekj("show",null!==t.visibility),e.Q6J("matTooltip",n.visibilityTitle(t.visibility)),e.xp6(2),e.Oqu(!1===t.visibility?"visibility_off":"visibility")}}function kn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"mat-expansion-panel",27),e.NdJ("afterCollapse",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateViewportSizes())})("afterExpand",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateViewportSizes())}),e.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",2),e._uU(4,"cloud_queue"),e.qZA(),e._uU(5," Remote"),e.qZA()(),e.TgZ(6,"app-virtual-tree",3),e.YNc(7,wn,11,8,"div",28),e.YNc(8,Tn,7,6,"div",29),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(6),e.Q6J("tree",t.remoteTree)("itemSize",28)}}function An(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.jumpToCommit(i.commitId))})("contextmenu",function(o){const a=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.openContextMenu(o,"tag",a.name,a.commitId))}),e.TgZ(1,"span",23),e._uU(2),e.qZA(),e.TgZ(3,"button",25),e.NdJ("click",function(o){const a=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.toggleRefVisibility(o,a.refName))}),e.TgZ(4,"mat-icon"),e._uU(5),e.qZA()()()}if(2&r){const t=c.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("matTooltip",n.getTagName(t.refName)),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.ekj("show",null!==t.visibility),e.Q6J("matTooltip",n.visibilityTitle(t.visibility)),e.xp6(2),e.Oqu(!1===t.visibility?"visibility_off":"visibility")}}function Sn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"mat-expansion-panel",31),e.NdJ("afterCollapse",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateViewportSizes())})("afterExpand",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateViewportSizes())}),e.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",2),e._uU(4,"label"),e.qZA(),e._uU(5," Tag"),e.qZA()(),e.TgZ(6,"div",13)(7,"cdk-virtual-scroll-viewport",14)(8,"ul",15),e.YNc(9,An,6,6,"li",32),e.qZA()()()()}if(2&r){const t=c.ngIf,n=e.oxw();e.xp6(7),e.Q6J("itemSize",28),e.xp6(2),e.Q6J("cdkVirtualForOf",t)("cdkVirtualForTrackBy",n.tagTrackBy)}}function Zn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"li",33),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.jumpToCommit(i.id))})("contextmenu",function(o){const a=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.openStashContextMenu(o,a))}),e.TgZ(1,"span",23),e._uU(2),e.qZA()()}if(2&r){const t=c.$implicit;e.xp6(1),e.Q6J("matTooltip",t.message),e.xp6(1),e.Oqu(t.message)}}function Rn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"mat-expansion-panel",34),e.NdJ("afterCollapse",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateViewportSizes())})("afterExpand",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.updateViewportSizes())}),e.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",2),e._uU(4,"archive"),e.qZA(),e._uU(5," Stash"),e.qZA()(),e.TgZ(6,"div",13)(7,"cdk-virtual-scroll-viewport",14)(8,"ul",15),e.YNc(9,Zn,3,2,"li",32),e.qZA()()()()}if(2&r){const t=c.ngIf,n=e.oxw();e.xp6(7),e.Q6J("itemSize",28),e.xp6(2),e.Q6J("cdkVirtualForOf",t)("cdkVirtualForTrackBy",n.stashTrackBy)}}function En(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().data,i=e.oxw();return i.checkoutBranch(o.refName),e.KtG(i.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"get_app"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Checkout"),e.qZA()()}}function Nn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().data,i=e.oxw();return i.checkoutRemoteBranch(o.refName,o.commitId),e.KtG(i.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"get_app"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Checkout"),e.qZA()()}}function In(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().data,i=e.oxw();return i.checkoutRemoteBranch(o.refName,o.commitId),e.KtG(i.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_downward"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Create local branch"),e.qZA()()}}function Ln(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(4).data,f=e.oxw();return f.merge(a.name,i.target,i.name),e.KtG(f.closeContextMenu())}),e.ALo(1,"async"),e._uU(2),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(5);e.ekj("bold",t.name===e.lcZ(1,4,n.currentBranch)),e.Q6J("matTooltip",n.getLocalBranchName(t.name)),e.xp6(2),e.Oqu(n.getLocalBranchName(t.name))}}function Fn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(4).data,f=e.oxw();return f.merge(a.name,i.target,i.name),e.KtG(f.closeContextMenu())}),e._uU(1),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(5);let o;e.Q6J("matTooltip",null!==(o=n.getBranchNameWithRemote(t.name))&&void 0!==o?o:""),e.xp6(1),e.Oqu(n.getBranchNameWithRemote(t.name))}}function Un(r,c){if(1&r&&(e.TgZ(0,"div",50),e.YNc(1,Ln,3,6,"button",51),e.YNc(2,Fn,2,2,"button",52),e.ALo(3,"async"),e.qZA()),2&r){const t=e.oxw().ngIf,n=e.oxw(2).data,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.filterBranches(t,n.commitId)),e.xp6(1),e.Q6J("ngForOf",o.filterBranches(e.lcZ(3,2,o.remoteBranches),n.commitId))}}function Bn(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",43,46),e.NdJ("click",function(o){e.CHM(t);const i=e.MAs(2),a=e.MAs(9),f=e.oxw(3);return e.KtG(f.openSubMenu(o,i,a))}),e._UZ(3,"mat-icon",47),e.TgZ(4,"span"),e._uU(5,"Merge into this from..."),e.qZA(),e.TgZ(6,"mat-icon",48),e._uU(7,"chevron_right"),e.qZA()(),e.YNc(8,Un,4,4,"ng-template",null,49,e.W1O),e.BQk()}}function Vn(r,c){if(1&r&&(e.ynx(0),e.YNc(1,Bn,10,0,"ng-container",40),e.ALo(2,"async"),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.localBranches))}}function Gn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(3).data,f=e.oxw();return f.merge(i.name,a.commitId,a.name),e.KtG(f.closeContextMenu())}),e.ALo(1,"async"),e._uU(2),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(4);e.ekj("bold",t.name===e.lcZ(1,4,n.currentBranch)),e.Q6J("matTooltip",n.getLocalBranchName(t.name)),e.xp6(2),e.Oqu(n.getLocalBranchName(t.name))}}function Jn(r,c){if(1&r&&(e.TgZ(0,"div",50),e.YNc(1,Gn,3,6,"button",51),e.qZA()),2&r){const t=e.oxw().ngIf,n=e.oxw().data,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.filterBranches(t,n.commitId))}}function Dn(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",53,54),e.NdJ("click",function(o){e.CHM(t);const i=e.MAs(2),a=e.MAs(9),f=e.oxw(2);return e.KtG(f.openSubMenu(o,i,a))}),e._UZ(3,"mat-icon",47),e.TgZ(4,"span"),e._uU(5,"Merge from this into..."),e.qZA(),e.TgZ(6,"mat-icon",48),e._uU(7,"chevron_right"),e.qZA()(),e.YNc(8,Jn,2,1,"ng-template",null,55,e.W1O),e.BQk()}if(2&r){const t=e.oxw().data;e.xp6(1),e.Q6J("matTooltip","tag"!==t.type?t.name:"")}}function Qn(r,c){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).data,n=e.oxw();e.xp6(1),e.hij("Pull from ",n.getBranchNameWithRemote(t.upstreamName),"")}}function qn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().data,i=e.oxw();return e.KtG(i.pull(o.name))}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_downward"),e.qZA(),e.YNc(3,Qn,2,1,"span",40),e.qZA()}if(2&r){const t=e.oxw().data,n=e.oxw();let o;e.Q6J("matTooltip",null!==(o=n.getBranchNameWithRemote(t.upstreamName))&&void 0!==o?o:""),e.xp6(3),e.Q6J("ngIf",t.upstreamName)}}function $n(r,c){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).data,n=e.oxw();e.xp6(1),e.hij("Change upstream branch from ",n.getBranchNameWithRemote(t.upstreamName)," to")}}function Yn(r,c){1&r&&(e.TgZ(0,"span"),e._uU(1,"Set upstream branch to"),e.qZA())}function Hn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",53,56),e.NdJ("click",function(o){e.CHM(t);const i=e.MAs(1);e.oxw();const a=e.MAs(16),f=e.oxw();return e.KtG(f.openSubMenu(o,i,a))}),e.TgZ(2,"mat-icon"),e._uU(3,"keyboard_double_arrow_up"),e.qZA(),e.YNc(4,$n,2,1,"span",40),e.YNc(5,Yn,2,0,"span",40),e.TgZ(6,"mat-icon",48),e._uU(7,"chevron_right"),e.qZA()()}if(2&r){const t=e.oxw().data,n=e.oxw();let o;e.Q6J("matTooltip",null!==(o=n.getBranchNameWithRemote(t.upstreamName))&&void 0!==o?o:""),e.xp6(4),e.Q6J("ngIf",t.upstreamName),e.xp6(1),e.Q6J("ngIf",!t.upstreamName)}}function jn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(2).data,f=e.oxw();return f.setUpstreamBranch(a.name,f.getBranchNameWithRemote(i.name)),e.KtG(f.closeContextMenu())}),e._uU(1),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(3);let o;e.Q6J("matTooltip",null!==(o=n.getBranchNameWithRemote(t.name))&&void 0!==o?o:""),e.xp6(1),e.Oqu(n.getBranchNameWithRemote(t.name))}}function zn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",50)(1,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().data,i=e.oxw();return i.setUpstreamBranch(o.name,null),e.KtG(i.closeContextMenu())}),e._uU(2,"None"),e.qZA(),e.YNc(3,jn,2,2,"button",52),e.ALo(4,"async"),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.remoteBranches))}}function Kn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().data,i=e.oxw();return i.renameBranch(o.name,o.type),e.KtG(i.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"drive_file_rename_outline"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Rename"),e.qZA()()}}function Wn(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().data,i=e.oxw();return i.deleteBranchOrTag(o.name,o.type),e.KtG(i.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Delete"),e.qZA()()}}function Xn(r,c){if(1&r&&(e.TgZ(0,"div",35)(1,"div",36),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.YNc(4,En,5,0,"button",37),e.ALo(5,"async"),e.YNc(6,Nn,5,0,"button",38),e.ALo(7,"async"),e.YNc(8,In,5,0,"button",39),e.ALo(9,"async"),e.YNc(10,Vn,3,3,"ng-container",40),e.YNc(11,Dn,10,1,"ng-container",40),e.ALo(12,"async"),e.YNc(13,qn,4,2,"button",41),e.YNc(14,Hn,8,3,"button",41),e.YNc(15,zn,5,3,"ng-template",null,42,e.W1O),e.YNc(17,Kn,5,0,"button",37),e.YNc(18,Wn,5,0,"button",37),e.qZA()),2&r){const t=c.data,n=e.oxw();e.xp6(1),e.Q6J("matTooltip",t.name),e.xp6(1),e.AsE("",e.lcZ(3,12,t.typeName)," ",t.name,""),e.xp6(2),e.Q6J("ngIf","local"===t.type&&t.name!==n.getLocalBranchName(e.lcZ(5,14,n.currentBranch))),e.xp6(2),e.Q6J("ngIf","remote"===t.type&&n.localBranchExists(e.lcZ(7,16,n.localBranches),n.removeRemoteFromName(t.name))),e.xp6(2),e.Q6J("ngIf","remote"===t.type&&!n.localBranchExists(e.lcZ(9,18,n.localBranches),n.removeRemoteFromName(t.name))),e.xp6(2),e.Q6J("ngIf","local"===t.type),e.xp6(1),e.Q6J("ngIf",e.lcZ(12,20,n.localBranches)),e.xp6(2),e.Q6J("ngIf","local"===t.type&&t.upstreamName),e.xp6(1),e.Q6J("ngIf","local"===t.type),e.xp6(3),e.Q6J("ngIf","local"===t.type),e.xp6(1),e.Q6J("ngIf","remote"!==t.type)}}function eo(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36),e._uU(2),e.qZA(),e.TgZ(3,"button",43),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw();return a.editRemote(i),e.KtG(a.closeContextMenu())}),e.TgZ(4,"mat-icon"),e._uU(5,"edit"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Edit"),e.qZA()()()}if(2&r){const t=c.data;e.xp6(1),e.Q6J("matTooltip",t),e.xp6(1),e.hij("Remote ",t,"")}}function to(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36),e._uU(2),e.qZA(),e.TgZ(3,"button",57),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw();return a.applyStash(i.index),e.KtG(a.closeContextMenu())}),e.TgZ(4,"mat-icon"),e._uU(5,"post_add"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Apply"),e.qZA()(),e.TgZ(8,"button",58),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw();return a.popStash(i.index),e.KtG(a.closeContextMenu())}),e.TgZ(9,"mat-icon"),e._uU(10,"unarchive"),e.qZA(),e.TgZ(11,"span"),e._uU(12,"Pop"),e.qZA()(),e.TgZ(13,"button",59),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw();return a.createBranchFromStash(i.index,i.id),e.KtG(a.closeContextMenu())}),e._UZ(14,"mat-icon",60),e.TgZ(15,"span"),e._uU(16,"Create branch"),e.qZA()(),e.TgZ(17,"button",61),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw();return a.deleteStash(i.index),e.KtG(a.closeContextMenu())}),e.TgZ(18,"mat-icon"),e._uU(19,"delete"),e.qZA(),e.TgZ(20,"span"),e._uU(21,"Delete"),e.qZA()()()}if(2&r){const t=c.data;e.xp6(1),e.Q6J("matTooltip",t.message),e.xp6(1),e.hij("Stash ",t.index,"")}}function no(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"li",62),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openSubmodule(i))}),e._UZ(1,"app-condensed-path",63),e.qZA()}if(2&r){const t=c.$implicit;e.oxw();const n=e.MAs(43);e.Q6J("matTooltip",t)("appContextMenu",n)("appContextMenuData",t),e.xp6(1),e.Q6J("path",t)}}function oo(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36),e._uU(2),e.qZA(),e.TgZ(3,"button",43),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw();return e.KtG(a.editSubmodule(i))}),e.TgZ(4,"mat-icon"),e._uU(5,"edit"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Edit"),e.qZA()(),e.TgZ(8,"button",43),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw();return e.KtG(a.deleteSubmodule(i))}),e.TgZ(9,"mat-icon"),e._uU(10,"delete"),e.qZA(),e.TgZ(11,"span"),e._uU(12,"Delete"),e.qZA()()()}if(2&r){const t=c.data;e.xp6(1),e.Q6J("matTooltip",t),e.xp6(1),e.hij("Submodule ",t,"")}}function io(r,c){if(1&r&&(e.TgZ(0,"mat-option",77),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.Q6J("value",+t.key),e.xp6(1),e.Oqu(t.value.credentialName)}}function ro(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",64),e._uU(1,"Add Submodule"),e.qZA(),e.TgZ(2,"form",65)(3,"mat-dialog-content")(4,"div")(5,"mat-form-field",66,67)(7,"mat-label"),e._uU(8,"URL"),e.qZA(),e.TgZ(9,"mat-icon",68),e._uU(10,"public"),e.qZA(),e._UZ(11,"input",69),e.qZA(),e.TgZ(12,"mat-form-field",70,71)(14,"mat-label"),e._uU(15,"Path to clone to"),e.qZA(),e.TgZ(16,"mat-icon",68),e._uU(17,"folder"),e.qZA(),e._UZ(18,"input",72),e.TgZ(19,"button",73),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.browsePath())}),e._uU(20,"Browse"),e.qZA()(),e.TgZ(21,"mat-form-field",74,75)(23,"mat-label"),e._uU(24,"Credential"),e.qZA(),e.TgZ(25,"mat-icon",68),e._uU(26,"key"),e.qZA(),e.TgZ(27,"mat-select",76)(28,"mat-option",77),e._uU(29,"None"),e.qZA(),e.YNc(30,io,2,2,"mat-option",78),e.ALo(31,"keyvalue"),e.ALo(32,"async"),e.qZA()()()(),e.TgZ(33,"mat-dialog-actions")(34,"button",79),e._uU(35,"Cancel"),e.qZA(),e.TgZ(36,"button",80),e._uU(37,"Add"),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.addSubmoduleForm),e.xp6(26),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",e.lcZ(31,6,e.lcZ(32,8,t.addSubmoduleValidCredentials))),e.xp6(4),e.Q6J("mat-dialog-close",null),e.xp6(2),e.Q6J("mat-dialog-close",t.addSubmoduleForm.value)("disabled",t.addSubmoduleForm.invalid)}}function co(r,c){if(1&r&&(e.TgZ(0,"div",64),e._uU(1),e.qZA(),e.TgZ(2,"form",81)(3,"mat-dialog-content")(4,"div")(5,"mat-form-field",82,83)(7,"mat-icon",68),e._uU(8,"public"),e.qZA(),e.TgZ(9,"mat-label"),e._uU(10,"URL"),e.qZA(),e._UZ(11,"input",69),e.qZA()()(),e.TgZ(12,"mat-dialog-actions")(13,"button",79),e._uU(14,"Cancel"),e.qZA(),e.TgZ(15,"button",84),e._uU(16,"Confirm"),e.qZA()()()),2&r){const t=c.$implicit,n=e.oxw();e.xp6(1),e.hij("Edit Submodule ",t.name,""),e.xp6(1),e.Q6J("formGroup",n.editSubmoduleForm),e.xp6(11),e.Q6J("mat-dialog-close",null),e.xp6(2),e.Q6J("mat-dialog-close",n.editSubmoduleForm.value)}}let ao=(()=>{class r extends((0,Be.j)(Fe.A,sn.S,Pt.P)){constructor(t,n,o,i,a,f,O,k,p,S,Y){super(),this.overlay=t,this.router=n,this.viewContainerRef=o,this.dialog=i,this.store=a,this.filesApi=f,this.submodulesApi=O,this.mergeActionsService=k,this.repositoryActionsService=p,this.stashActionsService=S,this.submoduleActionsService=Y,this.hasSubmodules=this.selectedRepositorySubmodules.pipe((0,ne.U)(P=>P.length>0)),this.addSubmoduleForm=new J.cw({credential:new J.NI(null),path:new J.NI(null),url:new J.NI(null)}),this.addSubmoduleValidCredentials=(0,we.a)([this.allCredentials,this.addSubmoduleForm.controls.url.valueChanges.pipe((0,ut.O)(null))]).pipe((0,ne.U)(([P,w])=>{const R=[...P.entries()];return Object.fromEntries(w?/^https?:\/\//.test(w)?R.filter(([H,ae])=>"password"===ae.type||"oauth-github"===ae.type):/^(git|file)?:\/\//.test(w)||/^\//.test(w)||!/:/.test(w)?[]:R.filter(([H,ae])=>"ssh"===ae.type):R)})),this.editSubmoduleForm=new J.cw({url:new J.NI(null)}),this.addSubmoduleDialogRef=null,this.editSubmoduleDialogRef=null,this.overlayRef=new W.X(null),this.subMenuOverlayRef=new W.X(null),this.tagSortCollator=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),this.openContextMenu=(P,w,R,H,ae=null)=>{P.preventDefault(),P.stopPropagation(),this.closeContextMenu();const ie=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:P.x,y:P.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});let de,me;switch(w){case"local":de="branch",me=null;break;case"remote":de="branch",me=R.match(/^refs\/remotes\/([^\/]+)\//)?.[1]??null;break;case"stash":de="stash",me=null;break;case"tag":de="tag",me=null;break;default:throw new Error(`Invalid branch type: ${w}`)}const ht=R.replace(/^refs\/[^\/]+\//,"");this.overlayRef.next(ie),ie.attach(new Ye.UE(this.branchMenuTemplate,this.viewContainerRef,{data:{type:w,typeName:de,name:ht,commitId:H,upstreamName:ae,remoteName:me,refName:R}})),(0,He.t)(ie).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())},this.openRemoteContextMenu=(P,w)=>{if(w.depth>0)return;P.preventDefault(),P.stopPropagation(),this.closeContextMenu();const R=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:P.x,y:P.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.overlayRef.next(R),R.attach(new Ye.UE(this.remoteMenuTemplate,this.viewContainerRef,{data:w.id.match(/^refs\/remotes\/([^\/]+)\//)?.[1]})),(0,He.t)(R).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())},this.openStashContextMenu=(P,w)=>{P.preventDefault(),P.stopPropagation(),this.closeContextMenu();const R=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:P.x,y:P.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.overlayRef.next(R),R.attach(new Ye.UE(this.stashMenuTemplate,this.viewContainerRef,{data:w})),(0,He.t)(R).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null)),this.closeSubMenu()},this.openSubMenu=(P,w,R)=>{P.preventDefault(),P.stopPropagation(),this.closeSubMenu();const H=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(w).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(H),H.attach(new Ye.UE(R,this.viewContainerRef)),(0,He.t)(H).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.filterBranches=(P,w)=>(P??[]).filter(R=>R.target!==w),this.merge=(P,w,R)=>{const H=this.store.selectSnapshot(I.E.selectedRepositoryPath);H&&this.mergeActionsService.createMerge(H,R?R.replace(/^refs\/(heads|remotes|tags)\//,""):null,w,this.getLocalBranchName(P)??"").subscribe()},this.pull=P=>{const w=this.store.selectSnapshot(I.E.selectedRepository);if(!w)throw new Error("Cannot pull when no repository is selected");this.repositoryActionsService.pull(w.path,w.selectedRemote,this.store.selectSnapshot(I.E.selectedRepositoryCredentials),P).subscribe()},this.browsePath=()=>{const P=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!P)throw new Error("Cannot browse submodule path when no repository is selected");this.filesApi.openFolderDialog(P).pipe((0,Ze.h)(Te.$K),(0,Me.w)(w=>this.filesApi.getRelativePath(P,w)),(0,z.R)(this.destroyed$)).subscribe(w=>{this.addSubmoduleForm.controls.path.setValue(w)})},this.addSubmodule=()=>{this.addSubmoduleDialogRef&&this.addSubmoduleDialogRef.close(),this.addSubmoduleForm.reset(),this.addSubmoduleDialogRef=this.dialog.open(this.addSubmoduleDialog),this.addSubmoduleDialogRef.afterClosed().pipe((0,z.R)(this.destroyed$)).subscribe(P=>{if(!P)return;if(!P.path)throw new Error("Cannot add a submodule with no path");if(!P.url)throw new Error("Cannot add a submodule with no url");const w=this.store.selectSnapshot(I.E.selectedRepository);if(!w)throw new Error("Cannot add a submodule with no repository selected");const R=w.selectedRemote,H=this.store.selectSnapshot(Re.$.selectedProfileId),ae=this.store.selectSnapshot(Re.$.credentials),ie=P.credential??(R?w.profiles.get(H)?.remotes[R]?.credentialId??null:null),de=null===ie?void 0:ae.get(ie);this.repositoryActionsService.addSubmodule(w.path,P.url,P.path,de).subscribe(me=>{this.store.dispatch(new F.gz(me.path,{profiles:new Map([[H,{remotes:{origin:{credentialId:ie}}}]]),selectedRemote:w.selectedRemote}))})})},this.editSubmodule=P=>{this.editSubmoduleDialogRef&&this.editSubmoduleDialogRef.close();const w=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!w)throw new Error("Cannot edit a submodule with no repository selected");this.editSubmoduleForm.reset(),this.submodulesApi.getSubmodule(w,P).subscribe(R=>{this.editSubmoduleForm.controls.url.setValue(R.url,{emitEvent:!1})}),this.editSubmoduleDialogRef=this.dialog.open(this.editSubmoduleDialog,{data:{name:P}}),this.editSubmoduleDialogRef.afterClosed().pipe((0,z.R)(this.destroyed$)).subscribe(R=>{if(R){if(!R.url)throw new Error("Cannot edit a submodule with no url");this.repositoryActionsService.editSubmodule(w,P,R.url).subscribe()}})},this.deleteSubmodule=P=>{const w=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!w)throw new Error("Cannot add a submodule with no repository selected");this.submoduleActionsService.deleteSubmodule(w,P,!1).subscribe()},this.deleteBranchOrTag=(P,w)=>{const R=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!R)throw new Error("Cannot delete branch when no repository is selected");if("local"===w)this.repositoryActionsService.deleteBranch(R,`refs/heads/${P}`).subscribe();else{if("tag"!==w)throw new Error(`Cannot delete remote branch '${P}'`);this.repositoryActionsService.deleteTag(R,P).subscribe()}},this.renameBranch=(P,w)=>{const R=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!R)throw new Error("Cannot rename branch when no repository is selected");if("local"!==w)throw new Error(`Can only rename local branches, '${P}' is not valid`);this.repositoryActionsService.renameBranch(R,P).subscribe()},this.mergeToCurrentBranch=(P,w,R,H)=>{const ae=this.store.selectSnapshot(I.E.selectedRepositoryPath),ie=this.store.selectSnapshot(I.E.selectedRepositoryCurrentBranch);if(!ae)throw new Error("Cannot merge when no repository is selected");if(!ie)throw new Error("Cannot merge when no branch is checked out");if("local"!==R&&"remote"!==R&&"tag"!==R)throw new Error("Cannot merge from the stash");this.mergeActionsService.createMerge(ae,"local"===R?w:"remote"===R?`${H}/${w}`:"tag"===R?w:null,P,this.getLocalBranchName(ie)??"").subscribe()},this.applyStash=P=>{const w=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!w)throw new Error("Cannot apply stash when no repository is selected");this.stashActionsService.apply(w,P).subscribe()},this.popStash=P=>{const w=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!w)throw new Error("Cannot pop stash when no repository is selected");this.stashActionsService.pop(w,P).subscribe()},this.createBranchFromStash=(P,w)=>{const R=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!R)throw new Error("Cannot pop stash when no repository is selected");this.stashActionsService.createBranch(R,P,w).subscribe()},this.deleteStash=P=>{const w=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!w)throw new Error("Cannot delete stash when no repository is selected");this.stashActionsService.drop(w,P).subscribe()},this.getBranchName=(P,w,R)=>{switch(w){case"local":case"tag":return P;case"remote":return`${R}/${P}`;default:throw new Error(`Invalid branch type: ${w}`)}},this.getBranchType=P=>{switch(P){case"local":case"remote":return"branch";case"tag":return"tag";default:throw new Error(`Invalid branch type: ${P}`)}},this.toggleVisibility=(P,w)=>{P.preventDefault(),P.stopPropagation();const R=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!R)throw new Error("Cannot toggle reference visibility if no repository is selected.");const ie=[...this.store.selectSnapshot(I.E.selectedRepositoryLocalBranches)??[],...this.store.selectSnapshot(I.E.selectedRepositoryRemoteBranches)??[]];if(0===ie.length)throw new Error("Cannot toggle branch visibility if there no branches on the repository.");let de=this.store.selectSnapshot(I.E.selectedRepositoryVisibleReferences);de?(de=!1===w.visibility?[...de.filter(me=>!me.startsWith(w.id)),...ie.filter(me=>me.name.startsWith(w.id)).map(me=>me.name)]:de.filter(me=>!me.startsWith(w.id)),de.length<=0&&(de=null)):de=ie.filter(me=>me.name.startsWith(w.id)).map(me=>me.name),this.store.dispatch([new F.Dr(R,de),new F.Vu(R,[F.nh.commits])])},this.toggleRefVisibility=(P,w)=>{P.preventDefault(),P.stopPropagation();const R=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!R)throw new Error("Cannot toggle reference visibility if no repository is selected.");let H=this.store.selectSnapshot(I.E.selectedRepositoryVisibleReferences);H?H.findIndex(ie=>ie===w)>=0?(H=H.filter(ie=>ie!==w),H.length<=0&&(H=null)):H=[...H,w]:H=[w],this.store.dispatch([new F.Dr(R,H),new F.Vu(R,[F.nh.commits])])},this.toggleNodeExpanded=(P,w)=>{P.preventDefault(),P.stopPropagation();const R=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!R)throw new Error("Cannot expand/collapse branches if no repository is selected.");this.store.dispatch(new F._1(R,[w.id],!w.expanded))},this.visibilityTitle=P=>null===P?"Show only this":P?"Hide":"Show",this.localBranchExists=(P,w)=>P?.some(R=>R.name===`refs/heads/${w}`)??!1,this.removeRemoteFromName=P=>P.replace(/^.*?\//,""),this.getLocalBranchName=P=>P?.replace(/^refs\/heads\//,"")??"",this.getRemoteBranchName=P=>P?.replace(/^refs\/remotes\/[^\/]+\//,"")??null,this.getBranchNameWithRemote=P=>P?.replace(/^refs\/remotes\//,"")??null,this.getTagName=P=>P.replace(/^refs\/tags\//,"")}ngOnInit(){super.ngOnInit(),this.localTree=(0,we.a)([this.store.select(I.E.selectedRepositoryLocalBranches),this.store.select(I.E.selectedRepositoryVisibleReferences),this.store.select(I.E.selectedRepositoryExpandedBranches)]).pipe((0,ne.U)(([n,o,i])=>{const a=(n??[]).map(f=>({ref:f,segments:f.name.split("/").slice(2)}));return this.toLocalTree(a,"refs/heads/",0,o,i)}),(0,z.R)(this.destroyed$),(0,tt.d)(1)),this.remoteTree=(0,we.a)([this.store.select(I.E.selectedRepositoryRemoteBranches),this.store.select(I.E.selectedRepositoryVisibleReferences),this.store.select(I.E.selectedRepositoryExpandedBranches)]).pipe((0,ne.U)(([n,o,i])=>{const a=(n??[]).map(f=>({ref:f,segments:f.name.split("/").slice(2)}));return this.toRemoteTree(a,"refs/remotes/",0,o,i).map(f=>({...f,isRemote:!0}))}),(0,z.R)(this.destroyed$),(0,tt.d)(1)),this.tags=(0,we.a)([this.selectedRepositoryTags,this.store.select(I.E.selectedRepositoryVisibleReferences)]).pipe((0,ne.U)(([n,o])=>(n??[]).map(i=>({commitId:i.target,name:this.getTagName(i.name),refName:i.name,upstreamName:null,visibility:o?.includes(i.name)??null}))),(0,ne.U)(n=>n.sort((o,i)=>-this.tagSortCollator.compare(o.name,i.name))),(0,z.R)(this.destroyed$),(0,tt.d)(1)),this.tags.pipe((0,st.g)(0),(0,z.R)(this.destroyed$)).subscribe(()=>this.updateViewportSizes());const t=/\/([^/]*?)(?:\.git)?\/?$/;this.addSubmoduleForm.controls.url.valueChanges.pipe((0,z.R)(this.destroyed$)).subscribe(n=>{if((this.addSubmoduleForm.controls.path.pristine||!this.addSubmoduleForm.controls.path.value)&&null!==n){const o=t.exec(n);o&&this.addSubmoduleForm.controls.path.setValue(o[1])}})}jumpToCommit(t){this.store.selectOnce(I.E.selectedRepositoryPath).subscribe(n=>{if(!n)throw new Error("Cannot jump to commit when no repository is selected.");this.store.dispatch([new F.jQ(n,t),new F.BK(n,t)])})}checkoutBranch(t){const n=this.store.selectSnapshot(I.E.selectedRepositoryPath);n&&this.repositoryActionsService.checkoutBranch(n,t).subscribe()}checkoutRemoteBranch(t,n){const o=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(o){const a=this.store.selectSnapshot(I.E.selectedRepositoryLocalBranches)?.find(f=>f.upstreamName===t);this.repositoryActionsService.checkoutRemoteBranch(o,this.store.selectSnapshot(I.E.selectedRepositoryCredentials),t,a?.name,n).subscribe()}}openSubmodule(t){const n=this.store.selectSnapshot(I.E.selectedRepository);if(!n)throw new Error("Cannot open a submodule when no repository is selected");const o=n.selectedRemote,i=this.store.selectSnapshot(I.E.selectedRepositoryCredentials);this.submoduleActionsService.updateSubmodule(n.path,t,o?i[o]??void 0:void 0).subscribe()}tagTrackBy(t,n){return`${n.commitId}:${n.refName}`}stashTrackBy(t,n){return n.id}submoduleTrackBy(t,n){return n}setUpstreamBranch(t,n){const o=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!o)throw new Error("Cannot merge when no repository is selected");this.repositoryActionsService.setUpstreamBranch(o,t,n).subscribe()}editRemote(t){const n=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!n)throw new Error("Cannot edit remote when no repository is selected");this.router.navigate(["/settings/repositories"],{queryParams:{id:n}})}updateViewportSizes(){this.viewports?.forEach(t=>t.checkViewportSize())}toLocalTree(t,n,o,i,a){return Object.entries((0,Rt.Z)(t,({segments:k})=>k[0])).sort(([k],[p])=>k.localeCompare(p,void 0,{numeric:!0})).flatMap(([k,p])=>{const S=`${n}${k}/`,Y=`${n}${k}`,P=i?.filter(ie=>ie.startsWith(Y))??null,w=p.filter(({segments:ie})=>ie.length>1),R=w.length>0?{id:S,depth:o,expanded:a.has(S),children:this.toLocalTree(w.map(({ref:ie,segments:de})=>({ref:ie,segments:de.slice(1)})),S,o+1,P,a),segment:k,visibility:P?w.some(({ref:ie})=>P.includes(ie.name)):null}:null,H=p.find(({segments:ie})=>ie.length<=1),ae=H?{id:Y,depth:o,commitId:H.ref.target,segment:k,upstreamBranch:H.ref.upstreamName,visibility:P?.includes(Y)??null}:null;return ae&&R?[ae,R]:R?[R]:ae?[ae]:[]})}toRemoteTree(t,n,o,i,a){return Object.entries((0,Rt.Z)(t,({segments:k})=>k[0])).sort(([k],[p])=>k.localeCompare(p,void 0,{numeric:!0})).flatMap(([k,p])=>{const S=`${n}${k}/`,Y=`${n}${k}`,P=i?.filter(ie=>ie.startsWith(Y))??null,w=p.filter(({segments:ie})=>ie.length>1),R=w.length>0?{id:S,depth:o,expanded:a.has(S),children:this.toRemoteTree(w.map(({ref:ie,segments:de})=>({ref:ie,segments:de.slice(1)})),S,o+1,P,a),isRemote:!1,segment:k,visibility:P?w.some(({ref:ie})=>P.includes(ie.name)):null}:null,H=p.find(({segments:ie})=>ie.length<=1),ae=H?{id:Y,depth:o,commitId:H.ref.target,segment:k,visibility:P?.includes(Y)??null}:null;return ae&&R?[ae,R]:R?[R]:ae?[ae]:[]})}static{this.\u0275fac=function(n){return new(n||r)(e.Y36(it.aV),e.Y36(U.F0),e.Y36(e.s_b),e.Y36(C.uw),e.Y36(G.yh),e.Y36(dn.k),e.Y36(Jt.N),e.Y36(Ke),e.Y36(dt.$),e.Y36(nt),e.Y36(lt))}}static{this.\u0275cmp=e.Xpm({type:r,selectors:[["app-branches-view"]],viewQuery:function(n,o){if(1&n&&(e.Gf(hn,5),e.Gf(Cn,5),e.Gf(bn,5),e.Gf(Mn,5),e.Gf(Pn,5),e.Gf(On,5),e.Gf(xn,5),e.Gf(ye.N7,5)),2&n){let i;e.iGM(i=e.CRH())&&(o.branchMenuTemplate=i.first),e.iGM(i=e.CRH())&&(o.remoteMenuTemplate=i.first),e.iGM(i=e.CRH())&&(o.stashMenuTemplate=i.first),e.iGM(i=e.CRH())&&(o.addSubmoduleDialog=i.first),e.iGM(i=e.CRH())&&(o.editSubmoduleDialog=i.first),e.iGM(i=e.CRH())&&(o.addSubmoduleDialogFormFields=i),e.iGM(i=e.CRH())&&(o.editSubmoduleDialogFormFields=i),e.iGM(i=e.CRH())&&(o.viewports=i)}},features:[e.qOj],decls:48,vars:31,consts:[["multi",""],["expanded","",1,"local-panel",3,"afterCollapse","afterExpand"],[1,"title-icon"],[1,"item-list-container",3,"tree","itemSize"],["class","node-item",3,"selected","click",4,"appVirtualTreeNode"],["class","leaf-item",3,"selected","click","dblclick","contextmenu",4,"appVirtualTreeLeafNode"],["class","remote-panel",3,"afterCollapse","afterExpand",4,"ngIf"],["class","tag-panel",3,"afterCollapse","afterExpand",4,"ngIf"],["class","stash-panel",3,"afterCollapse","afterExpand",4,"ngIf"],["branchContextMenu",""],["remoteContextMenu",""],["stashContextMenu",""],[1,"submodule-panel",3,"expanded","afterCollapse","afterExpand"],[1,"item-list-container"],[3,"itemSize"],[1,"item-list"],["class","leaf-item",3,"matTooltip","appContextMenu","appContextMenuData","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["type","button","mat-stroked-button","","matTooltip","Add submodule",1,"add-submodule-button",3,"click"],["submoduleContextMenu",""],["addSubmoduleDialog",""],["editSubmoduleDialog",""],[1,"node-item",3,"click"],[1,"node-icon"],[1,"text",3,"matTooltip"],[1,"icons"],["type","button","mat-icon-button","",1,"visibility-button",3,"matTooltip","click"],[1,"leaf-item",3,"click","dblclick","contextmenu"],[1,"remote-panel",3,"afterCollapse","afterExpand"],["class","node-item",3,"click","contextmenu",4,"appVirtualTreeNode"],["class","leaf-item",3,"click","dblclick","contextmenu",4,"appVirtualTreeLeafNode"],[1,"node-item",3,"click","contextmenu"],[1,"tag-panel",3,"afterCollapse","afterExpand"],["class","leaf-item",3,"click","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"leaf-item",3,"click","contextmenu"],[1,"stash-panel",3,"afterCollapse","afterExpand"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],["class","menu-item",3,"click",4,"ngIf"],["class","menu-item","matTooltip","Checkout the local copy of this branch",3,"click",4,"ngIf"],["class","menu-item","matTooltip","Create a local copy of this branch",3,"click",4,"ngIf"],[4,"ngIf"],["class","menu-item",3,"matTooltip","click",4,"ngIf"],["upstream",""],[1,"menu-item",3,"click"],["matTooltip","Checkout the local copy of this branch",1,"menu-item",3,"click"],["matTooltip","Create a local copy of this branch",1,"menu-item",3,"click"],["mergeToButton",""],["svgIcon","source-merge"],[1,"expand-icon"],["mergeTo",""],[1,"menu-panel","sub-menu-1"],["class","menu-item",3,"bold","matTooltip","click",4,"ngFor","ngForOf"],["class","menu-item",3,"matTooltip","click",4,"ngFor","ngForOf"],[1,"menu-item",3,"matTooltip","click"],["mergeFromButton",""],["mergeFrom",""],["upstreamButton",""],["matTooltip","Apply changes to working copy",1,"menu-item",3,"click"],["matTooltip","Apply changes to working copy and delete the stash",1,"menu-item",3,"click"],["matTooltip","Turn stash into a branch",1,"menu-item",3,"click"],["svgIcon","source-branch"],["matTooltip","Delete stash",1,"menu-item",3,"click"],[1,"leaf-item",3,"matTooltip","appContextMenu","appContextMenuData","click"],[1,"text",3,"path"],["mat-dialog-title",""],[1,"add-submodule-form",3,"formGroup"],[1,"url"],["addSubmoduleDialogFormField1",""],["matPrefix",""],["type","text","matInput","","required","","formControlName","url"],[1,"path"],["addSubmoduleDialogFormField2",""],["type","text","matInput","","required","","formControlName","path"],["type","button","matSuffix","","mat-button","",1,"path-browse-button",3,"click"],["subscriptSizing","dynamic",1,"credential"],["addSubmoduleDialogFormField3",""],["formControlName","credential","placeholder","Select credential"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","button","mat-button","",3,"mat-dialog-close"],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close","disabled"],[1,"edit-submodule-form",3,"formGroup"],["subscriptSizing","dynamic",1,"url"],["editSubmoduleDialogFormField1",""],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close"]],template:function(n,o){1&n&&(e.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel",1),e.NdJ("afterCollapse",function(){return o.updateViewportSizes()})("afterExpand",function(){return o.updateViewportSizes()}),e.TgZ(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon",2),e._uU(5,"desktop_windows"),e.qZA(),e._uU(6," Local"),e.qZA()(),e.TgZ(7,"app-virtual-tree",3),e.YNc(8,vn,12,11,"div",4),e.YNc(9,yn,8,10,"div",5),e.qZA()(),e.YNc(10,kn,9,2,"mat-expansion-panel",6),e.ALo(11,"nullEmpty"),e.ALo(12,"async"),e.YNc(13,Sn,10,3,"mat-expansion-panel",7),e.ALo(14,"nullEmpty"),e.ALo(15,"async"),e.YNc(16,Rn,10,3,"mat-expansion-panel",8),e.ALo(17,"nullEmpty"),e.ALo(18,"async"),e.YNc(19,Xn,19,22,"ng-template",null,9,e.W1O),e.YNc(21,eo,8,2,"ng-template",null,10,e.W1O),e.YNc(23,to,22,2,"ng-template",null,11,e.W1O),e.TgZ(25,"mat-expansion-panel",12),e.NdJ("afterCollapse",function(){return o.updateViewportSizes()})("afterExpand",function(){return o.updateViewportSizes()}),e.ALo(26,"nullEmpty"),e.ALo(27,"async"),e.ALo(28,"async"),e.TgZ(29,"mat-expansion-panel-header")(30,"mat-panel-title")(31,"mat-icon",2),e._uU(32,"layers"),e.qZA(),e._uU(33," Submodule"),e.qZA()(),e.TgZ(34,"div",13)(35,"cdk-virtual-scroll-viewport",14)(36,"ul",15),e.YNc(37,no,2,4,"li",16),e.ALo(38,"async"),e.qZA()()(),e.TgZ(39,"button",17),e.NdJ("click",function(){return o.addSubmodule()}),e.TgZ(40,"mat-icon"),e._uU(41,"add"),e.qZA()(),e.YNc(42,oo,13,2,"ng-template",null,18,e.W1O),e.YNc(44,ro,38,10,"ng-template",null,19,e.W1O),e.YNc(46,co,17,4,"ng-template",null,20,e.W1O),e.qZA()()),2&n&&(e.xp6(7),e.Q6J("tree",o.localTree)("itemSize",28),e.xp6(3),e.Q6J("ngIf",e.lcZ(11,11,e.lcZ(12,13,o.remoteTree))),e.xp6(3),e.Q6J("ngIf",e.lcZ(14,15,e.lcZ(15,17,o.tags))),e.xp6(3),e.Q6J("ngIf",e.lcZ(17,19,e.lcZ(18,21,o.selectedRepositoryStashes))),e.xp6(9),e.ekj("not-empty",e.lcZ(26,23,e.lcZ(27,25,o.selectedRepositorySubmodules))),e.Q6J("expanded",e.lcZ(28,27,o.hasSubmodules)),e.xp6(10),e.Q6J("itemSize",28),e.xp6(2),e.Q6J("cdkVirtualForOf",e.lcZ(38,29,o.selectedRepositorySubmodules))("cdkVirtualForTrackBy",o.submoduleTrackBy))},dependencies:[C.ZT,C.uh,C.xY,C.H8,M.pp,M.ib,M.yz,M.yK,T.KE,T.hX,T.qo,T.R9,x.Nt,g.gD,pe.ey,ye.xd,ye.x0,ye.N7,q.sg,q.O5,J._Y,J.Fj,J.JJ,J.JL,J.Q7,J.sg,J.u,Ve.lW,Ve.RK,je.Hw,We.gM,Dt.j,mn.l,fn.L,pn.I,_n.J,q.Ov,q.rS,q.Nd,gt.x],styles:["[_nghost-%COMP%]{display:block;height:100%;padding:0 10px 10px}mat-accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:100%}mat-expansion-panel[_ngcontent-%COMP%]{flex-shrink:3;display:flex;flex-direction:column;min-height:36px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]{min-height:96px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%] + mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0 0 16px}mat-expansion-panel.mat-expansion-panel-spacing.submodule-panel[_ngcontent-%COMP%]{min-height:114px;margin-bottom:0!important}mat-expansion-panel.mat-expansion-panel-spacing.submodule-panel.not-empty[_ngcontent-%COMP%]{min-height:142px}mat-expansion-panel.local-panel[_ngcontent-%COMP%]{flex-shrink:1}mat-expansion-panel.submodule-panel[_ngcontent-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]{margin-right:4px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:36px;padding:0 20px;flex:0 0 auto}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{line-height:24px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{margin-right:10px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .visible-icon[_ngcontent-%COMP%]{position:absolute;right:42px}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content.ng-animating .item-list-container  >cdk-virtual-scroll-viewport{overflow-y:hidden}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content .mat-expansion-panel-body{display:flex;flex-direction:column;overflow:hidden;padding:0 0 20px 16px}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]{display:contents}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport{contain:content;scrollbar-gutter:stable}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-spacer{position:relative}.node-item[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;cursor:pointer;line-height:28px;height:28px;user-select:none;align-items:center}.node-item.selected[_ngcontent-%COMP%], .leaf-item.selected[_ngcontent-%COMP%]{font-weight:700}.node-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%]{flex:0 0 auto;margin-right:5px;font-size:14px;width:14px;height:14px}.node-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.node-item[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex}.node-item[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#ffffffb3;line-height:28px;margin-left:5px}.node-item[_ngcontent-%COMP%]   .visibility-button[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .visibility-button[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px;padding:0;font-size:0;opacity:0;transition:opacity .3s ease-in-out}.node-item[_ngcontent-%COMP%]   .visibility-button[_ngcontent-%COMP%]:hover, .leaf-item[_ngcontent-%COMP%]   .visibility-button[_ngcontent-%COMP%]:hover, .node-item[_ngcontent-%COMP%]   .visibility-button.show[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .visibility-button.show[_ngcontent-%COMP%]{opacity:1}.sub-list[_ngcontent-%COMP%]{margin-left:10px}.add-submodule-button[_ngcontent-%COMP%]{align-self:stretch;margin-top:10px;margin-right:16px}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;display:flex;font-family:MontserratVariable;font-size:16px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap;align-items:center}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:first-child, .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:last-child, .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-header.bold[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.menu-panel[_ngcontent-%COMP%]   .menu-header[disabled][_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{display:block;color:#90a4ae;border-bottom:1px solid rgba(255,255,255,.12);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{cursor:pointer}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.add-submodule-form[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]{min-width:600px}.add-submodule-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.add-submodule-form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]   .path-browse-button[_ngcontent-%COMP%]{margin-right:10px}"],changeDetection:0})}}return(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryPath)],r.prototype,"selectedRepositoryPath",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryLocalBranches)],r.prototype,"localBranches",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryRemoteBranches)],r.prototype,"remoteBranches",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryTags)],r.prototype,"selectedRepositoryTags",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryStashes)],r.prototype,"selectedRepositoryStashes",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositorySubmodules)],r.prototype,"selectedRepositorySubmodules",void 0),(0,B.gn)([(0,G.Ph)(Re.$.credentials)],r.prototype,"allCredentials",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryCurrentBranch)],r.prototype,"currentBranch",void 0),r})();var Et=s(7615),Qt=s(3051),Nt=s(2960),It=s(8070);function uo(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"li",19),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(4);return e.KtG(a.changeCommit(i))}),e._uU(1),e.qZA()}if(2&r){const t=c.$implicit,n=c.first;e.Q6J("matTooltip",t),e.xp6(1),e.AsE("",n?"":", ","",t,"")}}function so(r,c){if(1&r&&(e.TgZ(0,"div",16)(1,"span",4),e._uU(2),e.ALo(3,"plural"),e.qZA(),e.TgZ(4,"div",17)(5,"ul"),e.YNc(6,uo,2,3,"li",18),e.qZA()()()),2&r){const t=e.oxw(2).ngIf;e.ekj("plural",t.parentIds.length>1),e.xp6(2),e.hij("",e.xi3(3,4,"Parent",t.parentIds.length),": "),e.xp6(4),e.Q6J("ngForOf",t.parentIds)}}function lo(r,c){if(1&r&&(e.TgZ(0,"div",20),e._uU(1," committed by "),e._UZ(2,"app-avatar",9),e.ALo(3,"async"),e.TgZ(4,"span",10),e._uU(5),e.qZA()()),2&r){const t=e.oxw(2).ngIf,n=e.oxw();e.Q6J("matTooltip",t.committerName+" ("+t.committerEmail+")"),e.xp6(2),e.Q6J("remotes",e.lcZ(3,4,n.remotes))("email",t.committerEmail),e.xp6(3),e.Oqu(t.committerName)}}function go(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22),e._uU(2),e.qZA(),e.TgZ(3,"button",23),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw(3);return e.KtG(a.copyToClipboard(a.getPatchPath(i)))}),e.TgZ(4,"mat-icon"),e._uU(5,"content_copy"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Copy Path"),e.qZA()(),e.TgZ(8,"button",24),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw(3);return e.KtG(a.blamePatch(i))}),e.TgZ(9,"mat-icon"),e._uU(10,"document_scanner"),e.qZA(),e.TgZ(11,"span"),e._uU(12,"Blame"),e.qZA()()()}if(2&r){const t=c.data,n=e.oxw(3);let o;e.xp6(1),e.Q6J("matTooltip",null!==(o=n.getPatchPath(t))&&void 0!==o?o:""),e.xp6(1),e.Oqu(n.getPatchFilename(t))}}function mo(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"header")(2,"div",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().ngIf,i=e.oxw();return e.KtG(i.copyToClipboard(o.id))}),e.TgZ(3,"span",4),e._uU(4,"Commit:"),e.qZA(),e._uU(5),e.qZA(),e.YNc(6,so,7,7,"div",5),e.qZA(),e.TgZ(7,"mat-card",6)(8,"div",7),e._uU(9),e.qZA(),e.TgZ(10,"div",8),e._uU(11," authored by "),e._UZ(12,"app-avatar",9),e.ALo(13,"async"),e.TgZ(14,"span",10),e._uU(15),e.qZA(),e._UZ(16,"br"),e.qZA(),e.YNc(17,lo,6,6,"div",11),e.TgZ(18,"div",12),e.ALo(19,"date"),e._uU(20," on "),e.TgZ(21,"span",10),e._uU(22),e.ALo(23,"date"),e.qZA(),e._uU(24," at "),e.TgZ(25,"span",10),e._uU(26),e.ALo(27,"date"),e.qZA()()(),e.TgZ(28,"mat-card",13)(29,"app-patches-view",14),e.NdJ("selectedChanged",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeFile(o.oldFilePath,o.newFilePath))})("contextMenuOpened",function(o){e.CHM(t);const i=e.MAs(32),a=e.oxw(2);return e.KtG(a.openContextMenu(i,o[0],o[1]))}),e.ALo(30,"async"),e.qZA()(),e.YNc(31,go,13,2,"ng-template",null,15,e.W1O),e.qZA()}if(2&r){const t=e.oxw().ngIf,n=e.oxw();e.xp6(2),e.Q6J("matTooltip",t.id),e.xp6(3),e.hij(" ",t.id," "),e.xp6(1),e.Q6J("ngIf",t.parentIds.length),e.xp6(3),e.Oqu(t.message),e.xp6(1),e.Q6J("matTooltip",t.authorName+" ("+t.authorEmail+")"),e.xp6(2),e.Q6J("remotes",e.lcZ(13,14,n.remotes))("email",t.authorEmail),e.xp6(3),e.Oqu(t.authorName),e.xp6(2),e.Q6J("ngIf",t.committerName&&t.committerEmail&&(t.authorName!==t.committerName||t.authorEmail!==t.committerEmail)),e.xp6(1),e.Q6J("matTooltip",e.xi3(19,16,t.date,"z")||""),e.xp6(4),e.Oqu(e.xi3(23,19,t.date,"d MMMM y")),e.xp6(4),e.Oqu(e.xi3(27,22,t.date,"HH:mm")),e.xp6(3),e.Q6J("patches",t.patches)("selected",e.lcZ(30,25,n.selectedFile))}}function fo(r,c){if(1&r&&(e.ynx(0),e.YNc(1,mo,33,27,"div",1),e.BQk()),2&r){const t=c.ngIf;e.xp6(1),e.Q6J("ngIf",t&&"head"!==t)}}let po=(()=>{class r extends((0,Be.j)(Fe.A)){constructor(t,n,o,i,a){super(),this.overlay=t,this.router=n,this.viewContainerRef=o,this.store=i,this.commitDetailService=a,this.overlayRef=null}getPatchPath(t){return this.commitDetailService.getPatchPath(t)}getPatchFilename(t){const n=this.commitDetailService.getPatchPath(t);return n?n.slice(n.lastIndexOf("/")+1):null}copyToClipboard(t){navigator.clipboard.writeText(t??"").then(()=>{})}changeCommit(t){this.selectedRepositoryPath.pipe((0,oe.q)(1)).subscribe(n=>{null!==n&&(this.store.dispatch(new F.jQ(n,t)),t&&this.store.dispatch(new F.BK(n,t)))})}changeFile(t,n){(0,we.a)([this.selectedRepositoryPath,this.selectedFile]).pipe((0,oe.q)(1)).subscribe(([o,i])=>{null!==o&&this.store.dispatch(new F.gt(o,t===i?.oldFilePath&&n===i.newFilePath?null:{area:"commit",oldFilePath:t,newFilePath:n}))})}blamePatch(t){this.commit.pipe((0,oe.q)(1)).subscribe(n=>{this.router.navigate(["/standard/blame"],{queryParams:{area:"commit","commit-id":"head"===n?"head":n?.id,path:t.newFilePath}})})}openContextMenu(t,n,o){o.preventDefault(),o.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:o.x,y:o.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new Ye.UE(t,this.viewContainerRef,{data:n})),(0,He.t)(this.overlayRef).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(n){return new(n||r)(e.Y36(it.aV),e.Y36(U.F0),e.Y36(e.s_b),e.Y36(G.yh),e.Y36(Et.d))}}static{this.\u0275cmp=e.Xpm({type:r,selectors:[["app-commit"]],inputs:{commit:"commit"},features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"matTooltip","click"],[1,"title"],["class","parent-commits",3,"plural",4,"ngIf"],["appearance","outlined",1,"message"],[1,"content"],[1,"author",3,"matTooltip"],[3,"remotes","email"],[1,"highlight"],["class","committer",3,"matTooltip",4,"ngIf"],[1,"date",3,"matTooltip"],["appearance","outlined",1,"files"],[3,"patches","selected","selectedChanged","contextMenuOpened"],["fileContextMenu",""],[1,"parent-commits"],[1,"parent-commit-ids"],[3,"matTooltip","click",4,"ngFor","ngForOf"],[3,"matTooltip","click"],[1,"committer",3,"matTooltip"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"click"],["matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(n,o){1&n&&(e.YNc(0,fo,2,1,"ng-container",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,o.commit))},dependencies:[_.a8,q.sg,q.O5,je.Hw,We.gM,Qt.A,Nt.i,q.Ov,q.uU,It.r],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;column-gap:10px;padding:0 10px;flex:0 0 auto;overflow-x:hidden;overflow-y:auto;font-weight:600}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 113px;min-width:113px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 106px;min-width:106px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 56px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]{flex-basis:163px;min-width:163px}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{width:calc(100% - 63px)}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.message[_ngcontent-%COMP%]{flex:1 10 auto;margin:10px 10px 0;padding:16px;min-height:180px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:18px;overflow-wrap:anywhere}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:22px;height:22px;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:16px}.files[_ngcontent-%COMP%]{flex:10 1 auto;min-height:290px;margin:10px;padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;display:flex;font-family:MontserratVariable;font-size:16px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap;align-items:center}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:first-child, .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:last-child, .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-header.bold[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.menu-panel[_ngcontent-%COMP%]   .menu-header[disabled][_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{display:block;color:#90a4ae;border-bottom:1px solid rgba(255,255,255,.12);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{cursor:pointer}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}"],changeDetection:0})}}return(0,B.gn)([(0,G.Ph)(I.E.selectedRemotes)],r.prototype,"remotes",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryPath)],r.prototype,"selectedRepositoryPath",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedFileForArea("commit"))],r.prototype,"selectedFile",void 0),r})();var qt=s(6451),vt=s(8372),rt=s(8746),Xe=s(5938),_o=s(2259),ho=s(9349);function Co(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.stage())}),e.ALo(1,"nullEmpty"),e.ALo(2,"async"),e._UZ(3,"mat-icon",17),e.ALo(4,"nullEmpty"),e.ALo(5,"async"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("matTooltip",e.lcZ(1,2,e.lcZ(2,4,t.checkedUnstaged))?"Stage selected changes":"Stage all changes"),e.xp6(3),e.Q6J("svgIcon",e.lcZ(4,6,e.lcZ(5,8,t.checkedUnstaged))?"tray-plus":"tray-arrow-down")}}function bo(r,c){1&r&&(e.TgZ(0,"div",20)(1,"button",21)(2,"mat-icon"),e._uU(3,"warning"),e.qZA()()())}function Mo(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"mat-card",10)(1,"div",11)(2,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clickAllUnstagedCheckbox())}),e.ALo(3,"async"),e.TgZ(4,"mat-icon"),e._uU(5),e.ALo(6,"async"),e.qZA()(),e.TgZ(7,"div",13),e.YNc(8,Co,6,10,"button",14),e.ALo(9,"async"),e.YNc(10,bo,4,0,"div",15),e.ALo(11,"async"),e.TgZ(12,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.discard())}),e.ALo(13,"nullEmpty"),e.ALo(14,"async"),e._UZ(15,"mat-icon",17),e.ALo(16,"nullEmpty"),e.ALo(17,"async"),e.qZA()()(),e.TgZ(18,"app-patches-view",18),e.NdJ("checkedChanged",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.setPatchChecked("unstaged",o[0],o[1]))})("selectedChanged",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectFile("unstaged",o.oldFilePath,o.newFilePath))})("contextMenuOpened",function(o){e.CHM(t);const i=e.oxw(),a=e.MAs(19);return e.KtG(i.openContextMenu("unstaged",a,o[0],o[1]))}),e.ALo(19,"async"),e.qZA()()}if(2&r){const t=c.ngIf,n=e.oxw();e.xp6(2),e.Q6J("matTooltip","check_box_outline_blank"===e.lcZ(3,9,n.allUnstagedCheckboxIcon)?"Select all":"Deselect all"),e.xp6(3),e.Oqu(e.lcZ(6,11,n.allUnstagedCheckboxIcon)),e.xp6(3),e.Q6J("ngIf",!1===e.lcZ(9,13,n.hasConflicts)),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,15,n.hasConflicts)),e.xp6(2),e.Q6J("matTooltip",e.lcZ(13,17,e.lcZ(14,19,n.checkedUnstaged))?"Discard selected changes":"Discard all changes"),e.xp6(3),e.Q6J("svgIcon",e.lcZ(16,21,e.lcZ(17,23,n.checkedUnstaged))?"tray-remove":"tray"),e.xp6(3),e.Q6J("patches",t)("checked",n.checkedUnstaged)("selected",e.lcZ(19,25,n.selectedUnstagedFile))}}function Po(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"mat-card",22)(1,"div",11)(2,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clickAllStagedCheckbox())}),e.ALo(3,"async"),e.TgZ(4,"mat-icon"),e._uU(5),e.ALo(6,"async"),e.qZA()(),e.TgZ(7,"div",13)(8,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.unstage())}),e.ALo(9,"nullEmpty"),e.ALo(10,"async"),e._UZ(11,"mat-icon",17),e.ALo(12,"nullEmpty"),e.ALo(13,"async"),e.qZA()()(),e.TgZ(14,"app-patches-view",18),e.NdJ("checkedChanged",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.setPatchChecked("staged",o[0],o[1]))})("selectedChanged",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectFile("staged",o.oldFilePath,o.newFilePath))})("contextMenuOpened",function(o){e.CHM(t);const i=e.oxw(),a=e.MAs(19);return e.KtG(i.openContextMenu("staged",a,o[0],o[1]))}),e.ALo(15,"async"),e.qZA()()}if(2&r){const t=c.ngIf,n=e.oxw();e.xp6(2),e.Q6J("matTooltip","check_box_outline_blank"===e.lcZ(3,7,n.allStagedCheckboxIcon)?"Select all":"Deselect all"),e.xp6(3),e.Oqu(e.lcZ(6,9,n.allStagedCheckboxIcon)),e.xp6(3),e.Q6J("matTooltip",e.lcZ(9,11,e.lcZ(10,13,n.checkedStaged))?"Unstage selected changes":"Unstage all changes"),e.xp6(3),e.Q6J("svgIcon",e.lcZ(12,15,e.lcZ(13,17,n.checkedStaged))?"tray-minus":"tray-arrow-up"),e.xp6(3),e.Q6J("patches",t)("checked",n.checkedStaged)("selected",e.lcZ(15,19,n.selectedStagedFile))}}function Oo(r,c){1&r&&e._UZ(0,"mat-spinner",24)}function xo(r,c){1&r&&(e.TgZ(0,"span"),e._uU(1,"Commit changes"),e.qZA())}function vo(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().data,i=e.oxw();return e.KtG(i.blamePatch(o.area,o.patch))}),e.TgZ(1,"mat-icon"),e._uU(2,"document_scanner"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Blame"),e.qZA()()}}function yo(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e._uU(2),e.qZA(),e.TgZ(3,"button",27),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw();return e.KtG(a.copyToClipboard(a.getPatchPath(i.patch)))}),e.TgZ(4,"mat-icon"),e._uU(5,"content_copy"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Copy Path"),e.qZA()(),e.YNc(8,vo,5,0,"button",28),e.qZA()}if(2&r){const t=c.data,n=e.oxw();let o;e.xp6(1),e.Q6J("matTooltip",null!==(o=n.getPatchPath(t.patch))&&void 0!==o?o:""),e.xp6(1),e.Oqu(n.getPatchFilename(t.patch)),e.xp6(6),e.Q6J("ngIf",!n.isPatchAdded(t.patch))}}let wo=(()=>{class r extends((0,Be.j)(Fe.A,Pt.P)){constructor(t,n,o,i,a,f,O){super(),this.overlay=t,this.router=n,this.viewContainerRef=o,this.store=i,this.commitDetailService=a,this.repositoryActionsService=f,this.stagingActionsService=O,this.commitMessageControl=new J.NI(null),this.commitButtonLoading=new W.X(!1),this.checkedStaged=new W.X([]),this.checkedUnstaged=new W.X([]),this.allStagedCheckboxIcon=new W.X("check_box_outline_blank"),this.allUnstagedCheckboxIcon=new W.X("check_box_outline_blank"),this.overlayRef=null,this.isPatchAdded=k=>k.status===Ue.v.Added}ngOnInit(){this.stagedChanges=this.allStagedChanges.pipe((0,ne.U)(t=>t?.filter(n=>n.status!==Ue.v.Conflicted)??null)),this.selectedRepositoryCommitMessage.pipe((0,z.R)(this.destroyed$)).subscribe(t=>{this.commitMessageControl.setValue(t,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,vt.b)(200),(0,z.R)(this.destroyed$)).subscribe(t=>{const n=this.store.selectSnapshot(I.E.selectedRepositoryPath);n&&this.store.dispatch(new F.$h(n,t))}),this.commitButtonDisabled=(0,we.a)([this.commitButtonLoading,this.stagedChanges,(0,qt.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,ut.O)(this.commitMessageControl.value)))]).pipe((0,ne.U)(([t,n,o])=>t||!o||!n||0===n.length)),this.commitButtonTooltip=(0,we.a)([this.stagedChanges,(0,qt.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,ut.O)(this.commitMessageControl.value)))]).pipe((0,ne.U)(([t,n])=>n?t&&0!==t.length?"":"There must be staged changes to commit":"The commit message cannot be empty")),this.hasConflicts=(0,we.a)([this.unstagedChanges,this.checkedUnstaged]).pipe((0,ne.U)(([t,n])=>n.length>0&&n.some(o=>o.status===Ue.v.Conflicted)||0===n.length&&!!t&&t.some(o=>o.status===Ue.v.Conflicted)))}getPatchPath(t){return this.commitDetailService.getPatchPath(t)}getPatchFilename(t){const n=this.commitDetailService.getPatchPath(t);return n?n.slice(n.lastIndexOf("/")+1):null}selectFile(t,n,o){(0,we.a)([this.repositoryPath,this.selectedStagedFile,this.selectedUnstagedFile]).pipe((0,oe.q)(1)).subscribe(([i,a,f])=>{i&&this.store.dispatch(new F.gt(i,"staged"===t&&n===a?.oldFilePath&&o===a.newFilePath||"unstaged"===t&&n===f?.oldFilePath&&o===f.newFilePath?null:{area:t,oldFilePath:n,newFilePath:o}))})}discard(){const t=this.store.selectSnapshot(I.E.selectedRepositoryPath);t&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.discardFiles(t,this.checkedUnstaged.value):this.stagingActionsService.discardAllChanges(t)).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}stage(){const t=this.store.selectSnapshot(I.E.selectedRepositoryPath);t&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.stageFiles(t,this.checkedUnstaged.value):this.stagingActionsService.stageAllChanges(t)).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}unstage(){const t=this.store.selectSnapshot(I.E.selectedRepositoryPath);t&&(this.checkedStaged.value.length>0?this.stagingActionsService.unstageFiles(t,this.checkedStaged.value):this.stagingActionsService.unstageAllChanges(t)).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank")})}setPatchChecked(t,n,o){const i="staged"===t?this.checkedStaged.value:this.checkedUnstaged.value,a=i.findIndex(k=>k.oldFilePath===n.oldFilePath&&k.newFilePath===n.newFilePath);a>=0&&!o?i.splice(a,1):a<0&&o&&i.push(n),"staged"===t?this.checkedStaged.next(i):this.checkedUnstaged.next(i);const f="staged"===t?this.allStagedCheckboxIcon:this.allUnstagedCheckboxIcon;(this.store.selectSnapshot("staged"===t?I.E.selectedStagedChanges:I.E.selectedUnstagedChanges)?.length??0)===i.length?f.next("check_box"):f.next(0===i.length?"check_box_outline_blank":"indeterminate_check_box")}commitChanges(){const t=this.store.selectSnapshot(I.E.selectedRepositoryPath),n=this.store.selectSnapshot(Re.$.selectedProfile),o=[];t||o.push("Cannot commit if no repository is selected"),n||o.push("Cannot commit if no profile is selected");const i=this.commitMessageControl.value;if(i||o.push("Cannot commit with empty commit message"),o.length>0)return void this.store.dispatch(o.map(O=>new Xe.hx("error",O)));this.commitButtonLoading.next(!0);const a=t;this.repositoryActionsService.createCommit(a,n,i??"").pipe((0,rt.x)(()=>{this.commitButtonLoading.next(!1)})).subscribe(O=>{this.store.dispatch(new F.BK(a,O))})}copyToClipboard(t){navigator.clipboard.writeText(t??"")}blamePatch(t,n){this.router.navigate(["/standard/blame"],{queryParams:{area:t,"commit-id":"head",path:n.newFilePath}})}clickAllStagedCheckbox(){switch(this.allStagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedStaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const t=this.store.selectSnapshot(I.E.selectedStagedChanges);this.checkedStaged.next([...t??[]]),this.allStagedCheckboxIcon.next("check_box")}}clickAllUnstagedCheckbox(){switch(this.allUnstagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const t=this.store.selectSnapshot(I.E.selectedUnstagedChanges);this.checkedUnstaged.next([...t??[]]),this.allUnstagedCheckboxIcon.next("check_box")}}openContextMenu(t,n,o,i){i.preventDefault(),i.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:i.x,y:i.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new Ye.UE(n,this.viewContainerRef,{data:{area:t,patch:o}})),(0,He.t)(this.overlayRef).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(n){return new(n||r)(e.Y36(it.aV),e.Y36(U.F0),e.Y36(e.s_b),e.Y36(G.yh),e.Y36(Et.d),e.Y36(dt.$),e.Y36(_o.A))}}static{this.\u0275cmp=e.Xpm({type:r,selectors:[["app-new-commit"]],viewQuery:function(n,o){if(1&n&&e.Gf(ye.N7,5),2&n){let i;e.iGM(i=e.CRH())&&(o.viewports=i)}},features:[e.qOj],decls:20,vars:21,consts:[["appearance","outlined","class","unstaged",4,"ngIf"],["appearance","outlined","class","staged",4,"ngIf"],["appearance","outlined",1,"commit"],[1,"description"],["matInput","","cdkTextareaAutosize","","placeholder","Enter a description...",3,"formControl"],[1,"button-container",3,"matTooltip"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],["diameter","24",4,"ngIf"],[4,"ngIf"],["fileContextMenu",""],["appearance","outlined",1,"unstaged"],[1,"header-buttons"],["type","button","mat-icon-button","",1,"checkbox-button","app-icon-button-md",3,"matTooltip","click"],[1,"buttons"],["type","button","mat-stroked-button","","class","stage-button",3,"matTooltip","click",4,"ngIf"],["class","conflicts-wrapper","matTooltip","Cannot stage conflicted files, resolve the conflicts first",4,"ngIf"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"matTooltip","click"],[3,"svgIcon"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"],["type","button","mat-stroked-button","",1,"stage-button",3,"matTooltip","click"],["matTooltip","Cannot stage conflicted files, resolve the conflicts first",1,"conflicts-wrapper"],["type","button","mat-stroked-button","","disabled","",1,"stage-button","has-conflicts"],["appearance","outlined",1,"staged"],["type","button","mat-stroked-button","",1,"unstage-button",3,"matTooltip","click"],["diameter","24"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],["type","button",1,"menu-item",3,"click"],["type","button","class","menu-item","matTooltip","Show file history",3,"click",4,"ngIf"],["type","button","matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(n,o){1&n&&(e.YNc(0,Mo,20,27,"mat-card",0),e.ALo(1,"nullEmpty"),e.ALo(2,"async"),e.YNc(3,Po,16,21,"mat-card",1),e.ALo(4,"async"),e.TgZ(5,"mat-card",2)(6,"mat-form-field",3)(7,"mat-label"),e._uU(8,"Commit Message"),e.qZA(),e._UZ(9,"textarea",4),e.qZA(),e.TgZ(10,"div",5),e.ALo(11,"async"),e.TgZ(12,"button",6),e.NdJ("click",function(){return o.commitChanges()}),e.ALo(13,"async"),e.YNc(14,Oo,1,0,"mat-spinner",7),e.ALo(15,"async"),e.YNc(16,xo,2,0,"span",8),e.ALo(17,"async"),e.qZA()()(),e.YNc(18,yo,9,3,"ng-template",null,9,e.W1O)),2&n&&(e.Q6J("ngIf",e.lcZ(1,7,e.lcZ(2,9,o.unstagedChanges))),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,11,o.stagedChanges)),e.xp6(6),e.Q6J("formControl",o.commitMessageControl),e.xp6(1),e.Q6J("matTooltip",e.lcZ(11,13,o.commitButtonTooltip)||""),e.xp6(2),e.Q6J("disabled",e.lcZ(13,15,o.commitButtonDisabled)),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,17,o.commitButtonLoading)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(17,19,o.commitButtonLoading)))},dependencies:[_.a8,x.Nt,T.KE,T.hX,ho.IC,v.Ou,q.O5,J.Fj,J.JJ,J.oH,Ve.lW,Ve.RK,je.Hw,We.gM,Nt.i,q.Ov,gt.x],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;max-height:100%;gap:10px}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{flex-shrink:1;margin:0 10px;padding:16px;white-space:nowrap;overflow:auto;min-height:160px;display:flex;flex-direction:column;gap:10px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{flex:0 0 auto;position:relative}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:space-between;min-height:40px;margin-left:32px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{cursor:default;color:#cb8837}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-12px}.commit[_ngcontent-%COMP%]{flex-shrink:1;margin:0 10px 10px;padding:16px;overflow:auto;display:flex;flex-direction:column;min-height:164px}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px}.commit[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 auto}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;display:flex;font-family:MontserratVariable;font-size:16px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap;align-items:center}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:first-child, .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:last-child, .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-header.bold[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.menu-panel[_ngcontent-%COMP%]   .menu-header[disabled][_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{display:block;color:#90a4ae;border-bottom:1px solid rgba(255,255,255,.12);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{cursor:pointer}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}"],changeDetection:0})}}return(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryPath)],r.prototype,"repositoryPath",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedStagedChanges)],r.prototype,"allStagedChanges",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedUnstagedChanges)],r.prototype,"unstagedChanges",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedFileForArea("staged"))],r.prototype,"selectedStagedFile",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedFileForArea("unstaged"))],r.prototype,"selectedUnstagedFile",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryCommitMessage)],r.prototype,"selectedRepositoryCommitMessage",void 0),(0,B.gn)([(0,G.Ph)(Re.$.selectedProfile)],r.prototype,"selectedProfile",void 0),(0,B.gn)([(0,G.Ph)(Re.$.profiles)],r.prototype,"profiles",void 0),r})();function To(r,c){1&r&&e._UZ(0,"app-new-commit")}function ko(r,c){if(1&r&&e._UZ(0,"app-commit",2),2&r){const t=e.oxw(2);e.Q6J("commit",t.commit)}}function Ao(r,c){if(1&r&&(e.ynx(0),e.YNc(1,To,1,0,"app-new-commit",0),e.YNc(2,ko,1,1,"app-commit",1),e.BQk()),2&r){const t=c.ngIf;e.xp6(1),e.Q6J("ngIf","head"===t),e.xp6(1),e.Q6J("ngIf","head"!==t)}}class mt extends((0,Be.j)(Fe.A)){static{this.\u0275fac=function(){let c;return function(n){return(c||(c=e.n5z(mt)))(n||mt)}}()}static{this.\u0275cmp=e.Xpm({type:mt,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit"},features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"commit",4,"ngIf"],[3,"commit"]],template:function(t,n){1&t&&(e.YNc(0,Ao,3,2,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.commit))},dependencies:[q.O5,po,wo,q.Ov],encapsulation:2,changeDetection:0})}}var $t=s(5410),Yt=s(6377),ft=s(4968),Lt=s(7579),So=s(6406),Ht=s(1520),jt=s(5376),Zo=s(3601),ot=s(1365),Ro=s(3779),pt=s(3989),zt=s(98),Eo=s(4874),Kt=s(5219);function No(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"mat-icon",9),e.NdJ("contextmenu",function(o){const a=e.CHM(t).$implicit,f=e.oxw().$implicit,O=e.oxw(2);return e.KtG(O.contextMenuClicked(o,f,a))})("dblclick",function(o){const a=e.CHM(t).$implicit,f=e.oxw().$implicit,O=e.oxw(2);return e.KtG(O.dblClicked(o,f,a))}),e._uU(1),e.qZA()}if(2&r){const t=c.$implicit;e.Q6J("matTooltip",t.name),e.xp6(1),e.Oqu(t.icon)}}function Io(r,c){1&r&&(e.TgZ(0,"span",10)(1,"mat-icon"),e._uU(2,"expand_more"),e.qZA()())}function Lo(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"li",4),e.NdJ("contextmenu",function(o){const a=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.contextMenuClicked(o,a))})("dblclick",function(o){const a=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.dblClicked(o,a))}),e.TgZ(1,"span",5),e.YNc(2,No,2,2,"mat-icon",6),e.qZA(),e.TgZ(3,"span",7),e.ALo(4,"async"),e._uU(5),e.qZA(),e.YNc(6,Io,3,0,"span",8),e.qZA()}if(2&r){const t=c.$implicit,n=c.first,o=e.oxw(2);e.Q6J("ngClass","color-"+o.color),e.xp6(1),e.Q6J("ngClass","color-"+o.color),e.xp6(1),e.Q6J("ngForOf",t.sources)("ngForTrackBy",o.trackBranchSource),e.xp6(1),e.ekj("current",o.branchMatches(e.lcZ(4,9,o.currentBranch),t)),e.Q6J("matTooltip",t.name),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",n&&(o.branches.length>1||o.branches[0].sources.length>2))}}function Fo(r,c){if(1&r&&(e.TgZ(0,"ul",2),e.YNc(1,Lo,7,11,"li",3),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.branches)("ngForTrackBy",t.trackBranch)}}function Uo(r,c){if(1&r&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.xp6(1),e.Oqu(t.icon)}}function Bo(r,c){1&r&&(e.TgZ(0,"span",10)(1,"mat-icon"),e._uU(2,"expand_more"),e.qZA()())}function Vo(r,c){if(1&r&&(e.TgZ(0,"div",11)(1,"span",12),e.YNc(2,Uo,2,1,"mat-icon",13),e.qZA(),e.TgZ(3,"span",14),e.ALo(4,"async"),e._uU(5),e.qZA(),e.YNc(6,Bo,3,0,"span",8),e.qZA()),2&r){const t=c.ngIf,n=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.sources)("ngForTrackBy",n.trackBranchSource),e.xp6(1),e.ekj("current",n.branchMatches(e.lcZ(4,6,n.currentBranch),t)),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",n.branches.length>1||n.branches[0].sources.length>2)}}let Go=(()=>{class r{constructor(t,n,o){this.cdr=t,this.store=n,this.repositoryActionsService=o,this.contextMenu=new e.vpe,this.branchMatches=(i,a)=>a.sources.some(f=>"local"===f.type)&&`refs/heads/${a.name}`===i,this.contextMenuClicked=(i,a,f)=>{this.contextMenu.next({event:i,branch:a,source:f})},this.dblClicked=(i,a,f)=>{i.preventDefault(),i.stopPropagation();const O=this.store.selectSnapshot(I.E.selectedRepository);if(O)if("local"===f?.type||!f&&a.sources.some(k=>"local"===k.type))this.repositoryActionsService.checkoutBranch(O.path,`refs/heads/${a.name}`).subscribe();else if("remote"===f?.type||!f&&a.sources.some(k=>"remote"===k.type)){const p=`refs/remotes/${f?.name??a.sources.find(R=>"remote"===R.type)?.name}/${a.name}`,S=this.store.selectSnapshot(I.E.selectedRepositoryLocalBranches),Y=this.store.selectSnapshot(I.E.selectedRepositoryRemoteBranches),P=S?.find(R=>R.upstreamName===p),w=Y?.find(R=>R.name===p);this.repositoryActionsService.checkoutRemoteBranch(O.path,this.store.selectSnapshot(I.E.selectedRepositoryCredentials),p,P?.name,w?.target).subscribe()}},this.trackBranch=(i,a)=>a.name+a.sources.reduce((f,O,k)=>`${f},${this.trackBranchSource(k,O)}`,""),this.trackBranchSource=(i,a)=>`${a.type}:${a.name}`}ngOnChanges(t){!t.branches||!t.branches.currentValue||this.cdr.detectChanges()}static{this.\u0275fac=function(n){return new(n||r)(e.Y36(e.sBO),e.Y36(G.yh),e.Y36(dt.$))}}static{this.\u0275cmp=e.Xpm({type:r,selectors:[["app-branches"]],inputs:{branches:"branches",color:"color"},outputs:{contextMenu:"contextMenu"},features:[e.TTD],decls:3,vars:4,consts:[["class","branches",4,"ngIf"],["class","spacer branch",4,"ngIf"],[1,"branches"],["class","branch",3,"ngClass","contextmenu","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"branch",3,"ngClass","contextmenu","dblclick"],[1,"icons",3,"ngClass"],[3,"matTooltip","contextmenu","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"name",3,"matTooltip"],["class","expandable",4,"ngIf"],[3,"matTooltip","contextmenu","dblclick"],[1,"expandable"],[1,"spacer","branch"],[1,"icons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"name"]],template:function(n,o){1&n&&(e.YNc(0,Fo,2,2,"ul",0),e.ALo(1,"nullEmpty"),e.YNc(2,Vo,7,8,"div",1)),2&n&&(e.Q6J("ngIf",e.lcZ(1,2,o.branches)),e.xp6(2),e.Q6J("ngIf",o.branches.length>0&&o.branches[0]))},dependencies:[q.mk,q.sg,q.O5,je.Hw,We.gM,q.Ov,gt.x],styles:["[_nghost-%COMP%]{display:inline-block;position:relative}.branches[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:auto;max-width:250px;border:1px solid #616161;border-radius:6px;background:#3c3c3c}.branches[_ngcontent-%COMP%]:hover{width:fit-content;max-width:max-content;z-index:100}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]{display:flex}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:none;border-radius:0}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:first-child   .icons[_ngcontent-%COMP%]{border-top-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:last-child   .icons[_ngcontent-%COMP%]{border-bottom-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{visibility:hidden}.branch[_ngcontent-%COMP%]{display:none;height:24px;line-height:24px}.branch[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:5px}.branch[_ngcontent-%COMP%]   .name.current[_ngcontent-%COMP%]{font-weight:600}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:67px;flex-shrink:0;overflow:hidden;padding:0 5px;border-radius:6px 0 0 6px;margin-right:5px}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{background:#4363d8}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%]{background:#469990}.branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{background:#fabed4}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{background:#e6194B}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%]{background:#42d4f4}.branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%]{background:#f58231}.branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%]{background:#ffe119}.branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{background:#3cb44b}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{background:#f032e6}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{background:#ffffff}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%]{background:#800000}.branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{background:#9A6324}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%]{background:#fffac8}.branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%]{background:#aaffc3}.branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{background:#dcbeff}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px;padding-left:1px;width:26px}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:first-child{margin-left:0}.branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{margin-right:5px}.branch[_ngcontent-%COMP%]:first-child{display:flex}.branch.spacer[_ngcontent-%COMP%]{display:flex;user-select:none;max-width:250px;visibility:hidden;height:26px;line-height:26px;border:1px solid transparent}"],changeDetection:0})}}return(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryCurrentBranch)],r.prototype,"currentBranch",void 0),r})();const Jo=["graphSvg"],Do=["graphWrapper"],Qo=["floatingDates"],qo=["contextMenu"];function $o(r,c){if(1&r&&(e.O4$(),e._UZ(0,"rect",20)),2&r){const t=c.ngIf,n=e.oxw();e.uIk("y",n.getYCoord(t.yIndex)-n.yOffset)("height",n.yUnit)}}function Yo(r,c){if(1&r&&(e.O4$(),e._UZ(0,"rect",21)),2&r){const t=c.ngIf,n=e.oxw();e.uIk("y",n.getYCoord(t.yIndex)-n.yOffset)("height",n.yUnit)}}function Ho(r,c){if(1&r&&(e.O4$(),e.TgZ(0,"g",22),e._UZ(1,"path",23),e.qZA()),2&r){const t=c.$implicit,n=e.oxw();e.xp6(1),e.ekj("dashed",t.isDashed),e.Q6J("ngClass","color-"+n.getTrailColorIndex(t.from.trail)),e.uIk("d",t.path)}}function jo(r,c){if(1&r&&(e.O4$(),e.TgZ(0,"g",24),e._UZ(1,"path",23),e.qZA()),2&r){const t=c.$implicit,n=e.oxw();e.xp6(1),e.ekj("dashed",t.isDashed),e.Q6J("ngClass","color-"+n.getTrailColorIndex(t)),e.uIk("d",n.drawTrail(t))}}function zo(r,c){if(1&r&&(e.O4$(),e.TgZ(0,"g"),e._UZ(1,"circle",25),e.qZA()),2&r){const t=c.$implicit,n=e.oxw();e.xp6(1),e.ekj("dashed","head"===t.id||t.id.startsWith("merge:")||t.stash),e.Q6J("ngClass","color-"+n.getTrailColorIndex(t.trail)),e.uIk("cx",n.getXCoord(t.trail.lane.xIndex))("cy",n.getYCoord(t.yIndex))}}function Ko(r,c){if(1&r&&(e.TgZ(0,"div",26),e.ALo(1,"async"),e.ALo(2,"async"),e._uU(3),e.ALo(4,"date"),e.qZA()),2&r){const t=c.ngIf,n=e.oxw();e.ekj("scrolled-to-top",e.lcZ(1,5,n.scrolledToTop))("selected",e.lcZ(2,7,n.topCommitSelected)),e.xp6(3),e.hij(" ",e.xi3(4,9,t,"d MMM yyyy")," ")}}function Wo(r,c){if(1&r&&(e.TgZ(0,"li"),e.ALo(1,"async"),e._uU(2),e.ALo(3,"date"),e.qZA()),2&r){const t=c.$implicit,n=e.oxw();e.Udp("top",t[0]*n.yUnit,"px"),e.ekj("selected",t[1].id===e.lcZ(1,5,n.selectedCommitDetailId)),e.xp6(2),e.Oqu(e.xi3(3,7,t[1].time,"MMM yyyy"))}}function Xo(r,c){if(1&r&&(e._UZ(0,"app-avatar",33),e.ALo(1,"async")),2&r){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("matTooltip",t.commit.authorName+" ("+t.commit.authorEmail+")")("remotes",e.lcZ(1,3,n.remotes))("email",t.commit.authorEmail)}}function ei(r,c){1&r&&(e.TgZ(0,"mat-icon",34),e._uU(1,"unpublished"),e.qZA())}function ti(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"span",35)(1,"app-branches",36),e.NdJ("contextMenu",function(o){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openContextMenu(o.event,i,o.branch,o.source))}),e.qZA()()}if(2&r){const t=c.ngIf,n=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("branches",t)("color",o.getTrailColorIndex(n.trail))}}function ni(r,c){if(1&r&&(e.TgZ(0,"span",37),e.ALo(1,"async"),e._uU(2),e.qZA()),2&r){const t=e.oxw().$implicit,n=e.oxw();e.ekj("bold",t.id===e.lcZ(1,5,n.headCommitId)),e.Q6J("ngClass",t.id.startsWith("merge:")?"summary-merge dimmed":"")("matTooltip",t.commit.message),e.xp6(2),e.hij(" ",n.getCommitSummary(t)," ")}}function oi(r,c){if(1&r&&(e.TgZ(0,"span",38),e._uU(1," You have "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"async"),e.qZA(),e._uU(5),e.ALo(6,"plural"),e.ALo(7,"async"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,t.uncommittedChangesCount)),e.xp6(2),e.hij(" ",e.xi3(6,4,"change",e.lcZ(7,7,t.uncommittedChangesCount))," in your working copy ")}}function ii(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"li",27),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.changeCommit.next(i.id))})("dblclick",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.commitDblClicked(i))})("contextmenu",function(o){const a=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.openContextMenu(o,a))}),e.ALo(1,"async"),e.ALo(2,"async"),e.YNc(3,Xo,2,5,"app-avatar",28),e.YNc(4,ei,2,0,"mat-icon",29),e.YNc(5,ti,2,2,"span",30),e.ALo(6,"nullEmpty"),e.ALo(7,"async"),e.YNc(8,ni,3,7,"span",31),e.YNc(9,oi,8,9,"span",32),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw();e.ekj("hovered",t.id===e.lcZ(1,9,n.hoveredCommitId))("selected",t.id===e.lcZ(2,11,n.selectedCommitDetailId)),e.xp6(3),e.Q6J("ngIf","head"!==t.id&&!t.id.startsWith("merge:")),e.xp6(1),e.Q6J("ngIf","head"===t.id||t.id.startsWith("merge:")),e.xp6(1),e.Q6J("ngIf",e.lcZ(6,13,e.lcZ(7,15,n.getBranches(t)))),e.xp6(3),e.Q6J("ngIf","head"!==t.id),e.xp6(1),e.Q6J("ngIf","head"===t.id)}}function ri(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",41),e._uU(2),e.qZA(),e.TgZ(3,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).data,i=e.oxw();return i.applyStash(o.commit.stash.index),e.KtG(i.closeContextMenu())}),e.TgZ(4,"mat-icon"),e._uU(5,"post_add"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Apply"),e.qZA()(),e.TgZ(8,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).data,i=e.oxw();return i.popStash(o.commit.stash.index),e.KtG(i.closeContextMenu())}),e.TgZ(9,"mat-icon"),e._uU(10,"unarchive"),e.qZA(),e.TgZ(11,"span"),e._uU(12,"Pop"),e.qZA()(),e.TgZ(13,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).data,i=e.oxw();return i.createBranchFromStash(o.commit.stash.index,o.commit.stash.workingDirCommitId),e.KtG(i.closeContextMenu())}),e._UZ(14,"mat-icon",45),e.TgZ(15,"span"),e._uU(16,"Create branch"),e.qZA()(),e.TgZ(17,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).data,i=e.oxw();return i.deleteStash(o.commit.stash.index),e.KtG(i.closeContextMenu())}),e.TgZ(18,"mat-icon"),e._uU(19,"delete"),e.qZA(),e.TgZ(20,"span"),e._uU(21,"Delete"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(2).data;e.xp6(1),e.Q6J("matTooltip",t.commit.id),e.xp6(1),e.hij("Stash ",t.commit.stash.index,"")}}function ci(r,c){if(1&r&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&r){const t=e.oxw(3).data;e.Q6J("matTooltip",t.ref.fullName),e.xp6(1),e.AsE(" ",e.lcZ(2,3,t.ref.typeName)," ",t.ref.fullName," ")}}function ai(r,c){if(1&r&&(e.TgZ(0,"div",41),e._uU(1),e.qZA()),2&r){const t=e.oxw(3).data;e.Q6J("matTooltip",t.commit.id),e.xp6(1),e.hij("Commit ",t.commit.id,"")}}function ui(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).data,i=e.oxw();return i.checkout(o.commit,o.ref),e.KtG(i.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"get_app"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Checkout"),e.qZA()()}}function si(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(6).data,f=e.oxw();return f.merge(a.ref.shortName,i.commitId,i.name),e.KtG(f.closeContextMenu())}),e.ALo(1,"async"),e._uU(2),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(7);e.ekj("bold",t.name===e.lcZ(1,4,n.currentBranchName)),e.Q6J("matTooltip",t.name),e.xp6(2),e.Oqu(t.name)}}function di(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(6).data,f=e.oxw();return f.merge(a.ref.shortName,i.commitId,i.name),e.KtG(f.closeContextMenu())}),e._uU(1),e.qZA()}if(2&r){const t=c.$implicit;e.Q6J("matTooltip",t.name),e.xp6(1),e.Oqu(t.name)}}function li(r,c){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,si,3,6,"button",59),e.YNc(2,di,2,2,"button",60),e.ALo(3,"async"),e.qZA()),2&r){const t=e.oxw().ngIf,n=e.oxw(4).data,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.filterBranches(t,n.commit.id)),e.xp6(1),e.Q6J("ngForOf",o.filterBranches(e.lcZ(3,2,o.remoteBranches),n.commit.id))}}function gi(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",53,54),e.NdJ("click",function(o){e.CHM(t);const i=e.MAs(2),a=e.MAs(9),f=e.oxw(5);return e.KtG(f.openSubMenu(o,i,a))}),e._UZ(3,"mat-icon",55),e.TgZ(4,"span"),e._uU(5,"Merge into this from..."),e.qZA(),e.TgZ(6,"mat-icon",56),e._uU(7,"chevron_right"),e.qZA()(),e.YNc(8,li,4,4,"ng-template",null,57,e.W1O),e.BQk()}}function mi(r,c){if(1&r&&(e.ynx(0),e.YNc(1,gi,10,0,"ng-container",40),e.ALo(2,"async"),e.BQk()),2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.localBranches))}}function fi(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(6).data,f=e.oxw();return f.merge(i.name,a.commit.id,null==a.ref?null:a.ref.fullName),e.KtG(f.closeContextMenu())}),e.ALo(1,"async"),e._uU(2),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(7);e.ekj("bold",t.name===e.lcZ(1,4,n.currentBranchName)),e.Q6J("matTooltip",t.name),e.xp6(2),e.Oqu(t.name)}}function pi(r,c){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,fi,3,6,"button",64),e.qZA()),2&r){const t=e.oxw().ngIf,n=e.oxw(4).data,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.filterBranches(t,n.commit.id))}}function _i(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",53,62),e.NdJ("click",function(o){e.CHM(t);const i=e.MAs(2),a=e.MAs(9),f=e.oxw(5);return e.KtG(f.openSubMenu(o,i,a))}),e._UZ(3,"mat-icon",55),e.TgZ(4,"span"),e._uU(5,"Merge from this into..."),e.qZA(),e.TgZ(6,"mat-icon",56),e._uU(7,"chevron_right"),e.qZA()(),e.YNc(8,pi,2,1,"ng-template",null,63,e.W1O),e.BQk()}}function hi(r,c){if(1&r&&(e.ynx(0),e.YNc(1,_i,10,0,"ng-container",40),e.ALo(2,"async"),e.BQk()),2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.localBranches))}}function Ci(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).data,i=e.oxw();return e.KtG(i.pull(o.ref.fullName))}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_downward"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&r){const t=e.oxw(3).data;e.Q6J("matTooltip","Pull from upstream branch "+t.upstreamName),e.xp6(4),e.hij("Pull from ",t.upstreamName,"")}}function bi(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(6).data,f=e.oxw();return f.moveBranchToCommit(i.name,a.commit.id),e.KtG(f.closeContextMenu())}),e.ALo(1,"async"),e._uU(2),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(7);e.ekj("bold",t.name===e.lcZ(1,4,n.currentBranchName)),e.Q6J("matTooltip",t.name),e.xp6(2),e.Oqu(t.name)}}function Mi(r,c){if(1&r&&(e.TgZ(0,"div",58),e.YNc(1,bi,3,6,"button",64),e.qZA()),2&r){const t=e.oxw().ngIf,n=e.oxw(4).data,o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.filterBranches(t,n.commit.id))}}function Pi(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",53,66),e.NdJ("click",function(o){e.CHM(t);const i=e.MAs(2),a=e.MAs(10),f=e.oxw(5);return e.KtG(f.openSubMenu(o,i,a))}),e.TgZ(3,"mat-icon"),e._uU(4,"move_up"),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Move branch to this commit"),e.qZA(),e.TgZ(7,"mat-icon",56),e._uU(8,"chevron_right"),e.qZA()(),e.YNc(9,Mi,2,1,"ng-template",null,67,e.W1O),e.BQk()}}function Oi(r,c){if(1&r&&(e.ynx(0),e.YNc(1,Pi,11,0,"ng-container",40),e.ALo(2,"async"),e.BQk()),2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.localBranches))}}function xi(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).data,i=e.oxw();return i.editCommits(o.commit.id),e.KtG(i.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"create"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Edit commits from here"),e.qZA()()}}function vi(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return o.undoHeadCommit(),e.KtG(o.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"history"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Undo commit"),e.qZA()()}}function yi(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).data,i=e.oxw();return i.renameBranch(o.ref),e.KtG(i.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"drive_file_rename_outline"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Rename"),e.qZA()()}}function wi(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).data,i=e.oxw();return i.deleteBranchOrTag(o.ref),e.KtG(i.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Delete"),e.qZA()()}}function Ti(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.YNc(1,ci,3,5,"div",47),e.YNc(2,ai,2,2,"div",47),e.YNc(3,ui,5,0,"button",48),e.ALo(4,"async"),e.YNc(5,mi,3,3,"ng-container",40),e.YNc(6,hi,3,3,"ng-container",40),e.YNc(7,Ci,5,2,"button",49),e.YNc(8,Oi,3,3,"ng-container",40),e.YNc(9,xi,5,0,"button",50),e.TgZ(10,"button",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).data,i=e.oxw();return i.revertCommit(o.commit.id),e.KtG(i.closeContextMenu())}),e.TgZ(11,"mat-icon"),e._uU(12,"undo"),e.qZA(),e.TgZ(13,"span"),e._uU(14,"Revert commit"),e.qZA()(),e.YNc(15,vi,5,0,"button",52),e.ALo(16,"async"),e.TgZ(17,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).data,i=e.oxw();return i.createBranch(o.commit.id),e.KtG(i.closeContextMenu())}),e._UZ(18,"mat-icon",45),e.TgZ(19,"span"),e._uU(20,"Create branch"),e.qZA()(),e.TgZ(21,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).data,i=e.oxw();return i.createTag(o.commit.id),e.KtG(i.closeContextMenu())}),e.TgZ(22,"mat-icon"),e._uU(23,"label"),e.qZA(),e.TgZ(24,"span"),e._uU(25,"Create tag"),e.qZA()(),e.YNc(26,yi,5,0,"button",48),e.YNc(27,wi,5,0,"button",48),e.BQk()}if(2&r){const t=e.oxw(2).data,n=e.oxw();e.xp6(1),e.Q6J("ngIf",t.ref),e.xp6(1),e.Q6J("ngIf",!t.ref),e.xp6(1),e.Q6J("ngIf",t.ref&&"tag"!==t.ref.type&&t.ref.shortName!==e.lcZ(4,11,n.currentBranchName)),e.xp6(2),e.Q6J("ngIf","local"===(null==t.ref?null:t.ref.type)),e.xp6(1),e.Q6J("ngIf","stash"!==(null==t.ref?null:t.ref.type)),e.xp6(1),e.Q6J("ngIf","local"===(null==t.ref?null:t.ref.type)&&t.upstreamName),e.xp6(1),e.Q6J("ngIf","stash"!==(null==t.ref?null:t.ref.type)),e.xp6(1),e.Q6J("ngIf","stash"!==(null==t.ref?null:t.ref.type)),e.xp6(6),e.Q6J("ngIf",t.commit.id===e.lcZ(16,13,n.headCommitId)),e.xp6(11),e.Q6J("ngIf",t.ref&&"local"===t.ref.type),e.xp6(1),e.Q6J("ngIf",t.ref&&"remote"!==t.ref.type)}}function ki(r,c){if(1&r&&(e.ynx(0),e.YNc(1,ri,22,2,"ng-container",40),e.YNc(2,Ti,28,15,"ng-container",40),e.BQk()),2&r){const t=e.oxw().data;e.xp6(1),e.Q6J("ngIf",t.commit.stash),e.xp6(1),e.Q6J("ngIf",!t.commit.stash)}}function Ai(r,c){1&r&&(e.ynx(0),e.TgZ(1,"div",70),e._uU(2,"Uncommitted changes"),e.qZA(),e.TgZ(3,"button",71),e._uU(4," No actions here "),e.qZA(),e.BQk())}function Si(r,c){if(1&r&&(e.TgZ(0,"div",39),e.YNc(1,ki,3,2,"ng-container",40),e.YNc(2,Ai,5,0,"ng-container",40),e.qZA()),2&r){const t=c.data;e.xp6(1),e.Q6J("ngIf","head"!==t.commit.id),e.xp6(1),e.Q6J("ngIf","head"===t.commit.id)}}class yt extends((0,Be.j)(Fe.A)){constructor(c,t,n,o,i,a,f,O,k,p,S,Y,P){super(),this.element=c,this.router=t,this.overlay=n,this.viewContainerRef=o,this.store=i,this.repositoriesApi=a,this.mergeActionsService=f,this.rebaseActionsService=O,this.repositoryActionsService=k,this.stashActionsService=p,this.branchesService=S,this.graphCalculatorService=Y,this.graphSharedService=P,this.changeCommit=new e.vpe,this.commits=[],this.idToCommitDetail={},this.commitTrails=[],this.mergePaths=[],this.commitDetails=new W.X([]),this.visibleCommitDetails=new W.X([]),this.visibleCommitTrails=new W.X([]),this.visibleMergePaths=new W.X([]),this.hoveredCommitId=new W.X(null),this.visibleDates=new W.X([]),this.topDate=new W.X(null),this.scrolledToTop=new W.X(!1),this.topCommitSelected=new W.X(!1),this.xUnit=pt.$.xUnit,this.yUnit=pt.$.yUnit,this.xOffset=pt.$.xOffset,this.yOffset=pt.$.yOffset,this.totalColors=15,this.overlayRef=new W.X(null),this.subMenuOverlayRef=new W.X(null),this.getTrailColorIndex=w=>w.colorIndex%this.totalColors,this.getXCoord=w=>this.xOffset+this.xUnit*w,this.getYCoord=w=>this.yOffset+this.yUnit*w,this.getCommitSummary=w=>w.commit.message.split("\n")[0],this.getCommitTime=w=>new Date(w.time),this.openContextMenu=(w,R,H,ae)=>{w.preventDefault(),w.stopPropagation(),this.closeContextMenu();const ie=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:w.x,y:w.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.getReferenceDetails(R,H,ae).pipe((0,oe.q)(1),(0,Me.w)(de=>"local"===de?.type?this.repository.pipe((0,oe.q)(1),(0,Me.w)(me=>me?this.repositoriesApi.getUpstreamBranch(me.path,de.fullName):(0,K.of)(null)),(0,ne.U)(me=>[de,me?.replace(/^refs\/remotes\//,"")])):(0,K.of)([de,null]))).subscribe(([de,me])=>{this.overlayRef.next(ie),ie.attach(new Ye.UE(this.menuTemplate,this.viewContainerRef,{data:{commit:R,ref:de,upstreamName:me}})),(0,He.t)(ie).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())})},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null)),this.closeSubMenu()},this.openSubMenu=(w,R,H)=>{w.preventDefault(),w.stopPropagation(),this.closeSubMenu();const ae=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(R).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(ae),ae.attach(new Ye.UE(H,this.viewContainerRef)),(0,He.t)(ae).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.getBranches=w=>this.currentBranch.pipe((0,ne.U)(R=>this.branchesService.calculateBranches(w.commit.references,R))),this.getFirstBranch=w=>this.getBranches(w).pipe((0,ne.U)(R=>R.length>0?R[0]:void 0)),this.getReferenceDetails=(w,R,H)=>("head"===w.id?(0,K.of)(void 0):R?(0,K.of)(R):this.getFirstBranch(w)).pipe((0,ne.U)(ae=>{if(!ae)return;const ie=H??ae.sources[0];let de,me;switch(ie.type){case"local":de=ae.name,me="branch";break;case"tag":de=ae.name,me="tag";break;case"remote":de=`${ie.name}/${ae.name}`,me="branch";break;case"stash":de="",me="stash";break;default:throw new Error(`Invalid branch source type: ${ie.type}`)}return{shortName:ae.name,fullName:de,type:ie.type,typeName:me}})),this.filterBranches=(w,R)=>(w??[]).filter(H=>H.commitId!==R),this.checkout=(w,R)=>{if(R)switch(R.type){case"local":this.repository.pipe((0,oe.q)(1)).subscribe(H=>{if(!H)throw new Error("Cannot checkout when no repository is selected");this.repositoryActionsService.checkoutBranch(H.path,R.shortName).subscribe()});break;case"remote":(0,Ie.D)([this.repository.pipe((0,oe.q)(1)),this.localBranchReferences.pipe((0,oe.q)(1))]).subscribe(([H,ae])=>{if(!H)throw new Error("Cannot checkout branch when no repository is selected");const ie=`refs/remotes/${R.fullName}`,de=ae?.find(Bt=>Bt.upstreamName===ie),me=this.store.selectSnapshot(Re.$.selectedProfileId),ht=this.store.selectSnapshot(Re.$.credentials),cn=H.profiles.get(me)?.remotes,Cc=cn?Object.fromEntries(Object.entries(cn).map(([Bt,{credentialId:an}])=>[Bt,null===an?null:ht.get(an)??null])):{};this.repositoryActionsService.checkoutRemoteBranch(H.path,Cc,ie,de?.name,w.id).subscribe()});break;case"tag":this.store.dispatch(new Xe.hx("error","Cannot checkout a tag!"));break;case"stash":this.store.dispatch(new Xe.hx("info","Checkout stash functionality not yet implemented!"))}else this.store.dispatch(new Xe.hx("info","Detach HEAD functionality not yet implemented!"))},this.editCommits=w=>{this.repository.pipe((0,oe.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot edit commits when no repository is selected");this.rebaseActionsService.startEdit(R.path,w).pipe((0,Me.w)(()=>this.router.navigate(["/standard/rebase"]))).subscribe()})},this.revertCommit=w=>{this.repository.pipe((0,oe.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot revert commit when no repository is selected");this.repositoryActionsService.revertCommit(R.path,w).subscribe()})},this.undoHeadCommit=()=>{this.repository.pipe((0,oe.q)(1)).subscribe(w=>{if(!w)throw new Error("Cannot undo head commit when no repository is selected");this.repositoryActionsService.undoHeadCommit(w.path).subscribe()})},this.createBranch=w=>{this.repository.pipe((0,oe.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot create branch when no repository is selected");this.repositoryActionsService.createBranch(R.path,w).subscribe()})},this.createTag=w=>{this.repository.pipe((0,oe.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot create tag when no repository is selected");this.repositoryActionsService.createTag(R.path,w).subscribe()})},this.renameBranch=w=>{this.repository.pipe((0,oe.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot rename branch when no repository is selected");if("local"!==w.type)throw new Error(`Can only rename local branches, '${w.fullName}' is not valid`);this.repositoryActionsService.renameBranch(R.path,w.shortName).subscribe()})},this.deleteBranchOrTag=w=>{this.repository.pipe((0,oe.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot delete branch/tag when no repository is selected");"local"===w.type?this.repositoryActionsService.deleteBranch(R.path,w.fullName).subscribe():"tag"===w.type?this.repositoryActionsService.deleteTag(R.path,w.fullName).subscribe():this.store.dispatch("stash"===w.type?new Xe.hx("info","Delete stash functionality not yet implemented!"):new Xe.hx("error","Cannot delete remote branches"))})},this.merge=(w,R,H)=>{this.repository.pipe((0,oe.q)(1)).subscribe(ae=>{if(!ae)throw new Error("Cannot merge when no repository is selected");this.mergeActionsService.createMerge(ae.path,H??null,R,w).subscribe()})},this.pull=w=>{this.repository.pipe((0,oe.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot pull from upstream branch when no repository is selected");const H=this.store.selectSnapshot(Re.$.selectedProfileId),ae=R.profiles.get(H)?.remotes,ie=ae?Object.fromEntries(Object.entries(ae).map(([de,{credentialId:me}])=>[de,null===me?null:this.store.selectSnapshot(Re.$.credentials).get(me)??null])):{};this.repositoryActionsService.pull(R.path,R.selectedRemote,ie,w).subscribe()})},this.moveBranchToCommit=(w,R)=>{this.repository.pipe((0,oe.q)(1)).subscribe(H=>{if(!H)throw new Error("Cannot update current branch when no repository is selected");this.repositoryActionsService.updateBranch(H.path,w,R).subscribe()})},this.applyStash=w=>{this.repository.pipe((0,oe.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot apply stash when no repository is selected");this.stashActionsService.apply(R.path,w).subscribe()})},this.popStash=w=>{this.repository.pipe((0,oe.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot apply stash when no repository is selected");this.stashActionsService.pop(R.path,w).subscribe()})},this.createBranchFromStash=(w,R)=>{this.repository.pipe((0,oe.q)(1)).subscribe(H=>{if(!H)throw new Error("Cannot create branch when no repository is selected");this.stashActionsService.createBranch(H.path,w,R).subscribe()})},this.deleteStash=w=>{this.repository.pipe((0,oe.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot apply stash when no repository is selected");this.stashActionsService.drop(R.path,w).subscribe()})},this.isInRect=(w,R,H)=>H.left<=w&&H.right>=w&&H.top<=R&&H.bottom>=R}ngOnInit(){this.localBranchReferences=this.repository.pipe((0,ne.U)(i=>i?.references.filter(a=>"local"===a.type)??null)),this.remoteBranchReferences=this.repository.pipe((0,ne.U)(i=>i?.references.filter(a=>"remote"===a.type)??null)),this.currentBranch=this.repository.pipe((0,ne.U)(i=>i?.currentBranch??null)),this.currentBranchCommitId=this.repository.pipe((0,ne.U)(i=>i?.currentBranchCommitId??null)),this.selectedStagedChanges=this.repository.pipe((0,ne.U)(i=>i?.stagedChanges??null)),this.selectedUnstagedChanges=this.repository.pipe((0,ne.U)(i=>i?.unstagedChanges??null)),this.mergeHeads=this.repository.pipe((0,ne.U)(i=>i?.mergeHeads??null)),this.remotes=this.repository.pipe((0,ne.U)(i=>i?.remotes??[])),this.localBranches=(0,we.a)([this.localBranchReferences,this.currentBranch]).pipe((0,ne.U)(([i,a])=>{const f=i?.find(O=>O.name===a);return[...f?[f]:[],...(0,Yt.Z)(i??[],O=>O.name).filter(O=>O.name!==a)]}),(0,ne.U)(i=>i.map(a=>({commitId:a.target,name:a.name.replace(/^refs\/heads\//,"")})))),this.remoteBranches=this.remoteBranchReferences.pipe((0,ne.U)(i=>(0,Yt.Z)(i??[],a=>a.name)),(0,ne.U)(i=>i.map(a=>({commitId:a.target,name:a.name.replace(/^refs\/remotes\//,"")})))),this.currentBranchName=this.currentBranch.pipe((0,ne.U)(i=>i?.replace(/^refs\/heads\//,"")??null)),this.headCommitId=this.repository.pipe((0,ne.U)(i=>i?.headCommitId??null)),this.uncommittedChangesCount=(0,we.a)([this.selectedStagedChanges,this.selectedUnstagedChanges]).pipe((0,ne.U)(([i,a])=>(i?.filter(f=>f.status!==Ue.v.Conflicted).length??0)+(a?.length??0))),this.selectedCommitDetailId=(0,we.a)([this.repository,this.selectedMerge]).pipe((0,ne.U)(([i,a])=>i?.selectedCommitId??(a?`merge:${a?.fromCommitId}:${a?.toCommitId}`:null))),this.selectedCommitDetailId.pipe((0,z.R)(this.destroyed$)).subscribe(i=>{this.topCommitSelected.next(i===this.commits[0]?.id)});const c=new W.X(!1),t=new W.X(!1);this.repository.pipe((0,$e.x)((i,a)=>i?.path===a?.path&&i?.commits===a?.commits&&i?.headCommitId===a?.headCommitId&&i?.stashes===a?.stashes&&i?.stagedChanges===a?.stagedChanges&&i?.unstagedChanges===a?.unstagedChanges&&i?.merges===a?.merges),(0,Pe.b)(i=>{t.next(!0),this.calculate(i?.commits??[],i?.headCommitId??null,i?.merges??[],i?.stashes??[])}),(0,ut.O)(null),(0,Ht.G)(),(0,Pe.b)(([i,a])=>{i?.path!==a?.path&&(c.next(!0),this.viewport.scrollToIndex(a?.scrollIndex??0))}),(0,st.g)(0),(0,Pe.b)(()=>t.next(!1)),(0,Ze.h)(([i,a])=>i?.path!==a?.path),(0,Pe.b)(([i,a])=>{c.next(!0),this.viewport.scrollToIndex(a?.scrollIndex??0)}),(0,st.g)(0),(0,Pe.b)(()=>c.next(!1)),(0,z.R)(this.destroyed$)).subscribe(),this.repository.pipe((0,ut.O)(null),(0,Ht.G)(),(0,Ze.h)(([i,a])=>i?.path===a?.path),(0,ne.U)(([i,a])=>a?.scrollIndex),(0,Ze.h)(Te.$K),(0,$e.x)(),(0,Ze.h)(()=>!c.value),(0,jt.j)(()=>(0,we.a)([c,t]).pipe((0,Ze.h)(([i,a])=>!i&&!a),(0,oe.q)(1))),(0,Pe.b)(i=>{const a=this.viewport.measureScrollOffset("top"),f=a+this.viewport.getViewportSize();this.scrolledToTop.next(a<=0),this.graphCalculatorService.isIndexInBounds(i,a,f)||(c.next(!0),this.viewport.scrollToIndex(i))}),(0,st.g)(0),(0,Pe.b)(()=>c.next(!1)),(0,z.R)(this.destroyed$)).subscribe();const n=i=>{const a=this.viewport.measureScrollOffset("top")+(i?.deltaY??0),f=`translateY(-${a}px)`;return this.graphWrapperElement.nativeElement.style.transform=f,this.floatingDatesElement.nativeElement.style.transform=f,this.scrolledToTop.next(a<=0),a};(0,ft.R)(this.graphSvgElement.nativeElement,"wheel",{passive:!0}).pipe((0,z.R)(this.destroyed$)).subscribe(i=>{const a=n(i);this.viewport.scrollTo({top:a}),this.viewport.measureScrollOffset("bottom")<=0&&n()}),(0,ft.R)(this.viewport.elementRef.nativeElement,"wheel",{passive:!1}).pipe((0,z.R)(this.destroyed$)).subscribe(i=>{i.preventDefault();const a=n(i);this.viewport.scrollTo({top:a}),this.viewport.measureScrollOffset("bottom")<=0&&n()}),this.viewport.elementScrolled().pipe((0,Zo.e)(20),(0,z.R)(this.destroyed$)).subscribe(()=>{n(),this.updateFloatingDates()});const o=new Lt.x;o.pipe((0,$e.x)(),(0,ot.M)(this.repository),(0,z.R)(this.destroyed$)).subscribe(([i,a])=>{i&&a&&this.store.dispatch(new F._o(a.path)).subscribe(()=>{o.next(!1)})}),this.viewport.scrolledIndexChange.pipe((0,ot.M)(this.repository),(0,Pe.b)(([i,a])=>{this.updateVisibleCommits(),a&&!a.allCommitsLoaded&&i+Ro.W/2>a.commits.length&&o.next(!0)}),(0,Ze.h)(()=>!c.value),(0,jt.j)(()=>(0,we.a)([c,t]).pipe((0,Ze.h)(([i,a])=>!i&&!a),(0,oe.q)(1))),(0,vt.b)(100),(0,Pe.b)(([i,a])=>{null!==a&&(c.next(!0),this.store.dispatch(new F.AL(a.path,i)))}),(0,st.g)(0),(0,Pe.b)(()=>c.next(!1)),(0,z.R)(this.destroyed$)).subscribe(),(0,ft.R)(document,"mousemove",{passive:!0}).pipe((0,De.p)(0,So.Z),(0,z.R)(this.destroyed$)).subscribe(i=>{if(this.overlayRef.value)return;const a=this.viewport.elementRef.nativeElement.getBoundingClientRect(),f=this.graphSvgElement.nativeElement.getBoundingClientRect();if(this.isInRect(i.clientX,i.clientY,a)||this.isInRect(i.clientX,i.clientY,f)){const O=this.getCommitFromPosition(i.clientY-a.top);this.hoveredCommitId.next(O?.id??null)}else this.hoveredCommitId.next(null)})}ngAfterViewInit(){this.updateFloatingDates()}graphClicked(c){const t=this.getCommitFromPosition(c.offsetY);t&&this.changeCommit.next(t.id)}graphDblClicked(c){const t=this.getCommitFromPosition(c.offsetY);t&&this.commitDblClicked(this.idToCommitDetail[t.id])}graphContextMenu(c){const t=this.getCommitFromPosition(c.offsetY);t&&this.openContextMenu(c,this.idToCommitDetail[t.id])}commitDblClicked(c){(0,Ie.D)([this.repository.pipe((0,oe.q)(1)),this.getFirstBranch(c).pipe((0,oe.q)(1))]).subscribe(([t,n])=>{if(t&&n){if(n.sources.find(a=>"local"===a.type))return void this.repositoryActionsService.checkoutBranch(t.path,n.name).subscribe();const i=n.sources.find(a=>"remote"===a.type);if(i){const a=`refs/remotes/${i.name}/${n.name}`;this.localBranchReferences.pipe((0,oe.q)(1)).subscribe(f=>{const O=f?.find(P=>P.upstreamName===a),k=this.store.selectSnapshot(Re.$.selectedProfileId),p=this.store.selectSnapshot(Re.$.credentials),S=t.profiles.get(k)?.remotes,Y=S?Object.fromEntries(Object.entries(S).map(([P,{credentialId:w}])=>[P,null===w?null:p.get(w)??null])):{};this.repositoryActionsService.checkoutRemoteBranch(t.path,Y,a,O?.name,c.id).subscribe()})}}})}keyPressed(c){c.preventDefault(),(0,we.a)([this.repository,this.selectedCommitDetailId]).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(([t,n])=>{if(!t)return;const o=this.commits.findIndex(a=>a.id===n);if(-1===o)return;let i=null;switch(c.key){case"ArrowUp":if(!(Qe.V?c.metaKey:c.ctrlKey)){o>0&&(i=this.commits[o-1].id);break}case"Home":i=this.commits[0].id;break;case"ArrowDown":if(!(Qe.V?c.metaKey:c.ctrlKey)){o<this.commits.length-1&&(i=this.commits[o+1].id);break}case"End":i=this.commits[this.commits.length-1].id}if(i)if(i.startsWith("merge:")){const a=i.match(/^merge:([^:]+):([^:]+)$/);a&&this.store.dispatch([new F.hb(t.path,{fromId:a[1],toId:a[2]}),new F.BK(t.path,i)])}else this.store.dispatch([new F.jQ(t.path,i),new F.BK(t.path,i)])})}drawTrail(c){const t=c.isDashed?{x:0,y:.05}:{x:0,y:0};if(c.commits.length<1)return[`M ${this.getXCoord(c.lane.xIndex+t.x)} ${this.getYCoord(c.minYIndex+t.y)}`,`V ${this.getYCoord(c.maxYIndex-.5)}`,`L ${this.getXCoord(c.lane.xIndex)} ${this.getYCoord(c.maxYIndex)}`].join(" ");const n=c.commits[0],o=c.commits[c.commits.length-1],i=o.commit.parentIds.length>0?this.idToCommitDetail[o.commit.parentIds[0]]??o:o;if(!i)throw new Error(`Could not find parent ${o.commit.parentIds[0]}`);return n.id===o.id&&o.id===i.id?"":[`M ${this.getXCoord(n.trail.lane.xIndex+t.x)} ${this.getYCoord(c.minYIndex+t.y)}`,`V ${this.getYCoord(c.maxYIndex-.5)}`,`L ${this.getXCoord(i.trail.lane.xIndex)} ${this.getYCoord(c.maxYIndex)}`].join(" ")}trackCommitDetail(c,t){return t.id}trackCommitTrail(c,t){return t.trailIndex}trackMergePath(c,t){return`${t.from.id}|${t.to.map(n=>n.id).join(";")}`}trackFloatingDate(c,t){return`${t[0]}:${t[1].id}`}updateFloatingDates(){if(this.selectedCommitDetailId.pipe((0,oe.q)(1)).subscribe(k=>{this.topCommitSelected.next(k===this.commits[0]?.id)}),this.commits.length<=1)return this.visibleDates.next([]),this.topDate.next(null),void this.scrolledToTop.next(!0);const t=Math.ceil(this.element.nativeElement.clientHeight/this.yUnit),n=this.viewport.measureScrollOffset("top");let o=Math.floor(Math.max(0,n/this.yUnit));const i=Math.min(this.commits.length-1,o+t);if(!this.commits[o])return this.visibleDates.next([]),void this.scrolledToTop.next(n<=0);for(;"head"===this.commits[o].id||this.commits[o].id.startsWith("merge:");)o++;const a=this.commits[o].time,f=[];let O=new Date(a);for(let k=o;k<i;k++){const p=new Date(this.commits[k].time);(p.getMonth()!==O.getMonth()||p.getFullYear()!==O.getFullYear())&&(O=p,f.push([k,this.commits[k]]))}this.visibleDates.next(f),this.topDate.next(a),this.scrolledToTop.next(n<=0)}updateVisibleCommits(){const n=Math.ceil((600+this.element.nativeElement.clientHeight)/this.yUnit),o=this.viewport.measureScrollOffset("top"),i=Math.floor(Math.max(0,(o-300)/this.yUnit)),a=this.graphCalculatorService.calculateVisible(this.commitDetails.value,this.commitTrails,this.mergePaths,i,i+n);this.visibleCommitDetails.next(a.commitDetails),this.visibleCommitTrails.next(a.commitTrails),this.visibleMergePaths.next(a.mergePaths),this.updateFloatingDates()}calculate(c,t,n,o){(0,we.a)([this.selectedStagedChanges,this.selectedUnstagedChanges,this.mergeHeads]).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(([i,a,f])=>{const k=this.graphCalculatorService.calculate(i?.length||a?.length||!t?{parentId:t,mergeHeads:f??[]}:null,n,o,c,this.getXCoord,this.getYCoord,this.totalColors);this.idToCommitDetail=k.commitDetails,this.commitTrails=k.commitTrails,this.mergePaths=k.mergePaths,this.commits=k.orderedCommits,this.commitDetails.next(this.commits.map(p=>k.commitDetails[p.id])),this.graphSharedService.setColors((0,Te.Tj)(k.commitDetails,(p,S)=>this.getTrailColorIndex(S.trail))),this.graphSharedService.setCommits(this.idToCommitDetail),this.updateVisibleCommits()})}getCommitFromPosition(c){const t=this.viewport.measureScrollOffset("top"),n=Math.floor((t+c)/this.yUnit);return this.commits[n]}static{this.\u0275fac=function(t){return new(t||yt)(e.Y36(e.SBq),e.Y36(U.F0),e.Y36(it.aV),e.Y36(e.s_b),e.Y36(G.yh),e.Y36(at.a),e.Y36(Ke),e.Y36(zt.z),e.Y36(dt.$),e.Y36(nt),e.Y36(Eo.p),e.Y36(pt.$),e.Y36(Kt.p))}}static{this.\u0275cmp=e.Xpm({type:yt,selectors:[["app-graph-view"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ye.N7,7),e.Gf(Jo,7),e.Gf(Do,7),e.Gf(Qo,5),e.Gf(qo,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.viewport=o.first),e.iGM(o=e.CRH())&&(n.graphSvgElement=o.first),e.iGM(o=e.CRH())&&(n.graphWrapperElement=o.first),e.iGM(o=e.CRH())&&(n.floatingDatesElement=o.first),e.iGM(o=e.CRH())&&(n.menuTemplate=o.first)}},inputs:{repository:"repository",selectedMerge:"selectedMerge",branchOrder:"branchOrder"},outputs:{changeCommit:"changeCommit"},features:[e.qOj],decls:29,vars:28,consts:[["id","graph-view","tabindex","0",3,"keydown"],["min","15px"],[1,"graph",3,"click","dblclick","contextmenu"],["graphSvg",""],[1,"wrapper"],["graphWrapper",""],["class","hovered-background","x","0","width","100%",4,"ngIf"],["class","selected-background","x","0","width","100%",4,"ngIf"],["class","merge-path",4,"ngFor","ngForOf","ngForTrackBy"],["class","commit-path",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"messages-grid-cell"],[1,"floating-dates"],["class","top-date",3,"scrolled-to-top","selected",4,"ngIf"],["floatingDates",""],[3,"selected","top",4,"ngFor","ngForOf","ngForTrackBy"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"hovered","selected","click","dblclick","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["contextMenu",""],["x","0","width","100%",1,"hovered-background"],["x","0","width","100%",1,"selected-background"],[1,"merge-path"],[3,"ngClass"],[1,"commit-path"],["r","5",1,"commit-circle",3,"ngClass"],[1,"top-date"],[3,"click","dblclick","contextmenu"],[3,"matTooltip","remotes","email",4,"ngIf"],["class","uncommitted-icon","matTooltip","These changes have not yet been committed to the repository",4,"ngIf"],["class","branches",4,"ngIf"],["class","summary",3,"ngClass","bold","matTooltip",4,"ngIf"],["class","summary dimmed",4,"ngIf"],[3,"matTooltip","remotes","email"],["matTooltip","These changes have not yet been committed to the repository",1,"uncommitted-icon"],[1,"branches"],[3,"branches","color","contextMenu"],[1,"summary",3,"ngClass","matTooltip"],[1,"summary","dimmed"],[1,"menu-panel"],[4,"ngIf"],[1,"menu-header",3,"matTooltip"],["matTooltip","Apply changes to working copy",1,"menu-item",3,"click"],["matTooltip","Apply changes to working copy and delete the stash",1,"menu-item",3,"click"],["matTooltip","Turn stash into a branch",1,"menu-item",3,"click"],["svgIcon","source-branch"],["matTooltip","Delete stash",1,"menu-item",3,"click"],["class","menu-header",3,"matTooltip",4,"ngIf"],["class","menu-item",3,"click",4,"ngIf"],["class","menu-item",3,"matTooltip","click",4,"ngIf"],["class","menu-item","matTooltip","Rewrite the commit history from this point onwards",3,"click",4,"ngIf"],["matTooltip","Create a new commit reverting the changes in this one",1,"menu-item",3,"click"],["class","menu-item","matTooltip","Delete this commit, but keep the changes in the working copy",3,"click",4,"ngIf"],[1,"menu-item",3,"click"],["mergeToButton",""],["svgIcon","source-merge"],[1,"expand-icon"],["mergeTo",""],[1,"menu-panel","sub-menu-1"],["class","menu-item",3,"bold","matTooltip","click",4,"ngFor","ngForOf"],["class","menu-item",3,"matTooltip","click",4,"ngFor","ngForOf"],[1,"menu-item",3,"matTooltip","click"],["mergeFromButton",""],["mergeFrom",""],["mat-menu-item","","class","menu-item",3,"bold","matTooltip","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"menu-item",3,"matTooltip","click"],["moveBranchButton",""],["moveBranch",""],["matTooltip","Rewrite the commit history from this point onwards",1,"menu-item",3,"click"],["matTooltip","Delete this commit, but keep the changes in the working copy",1,"menu-item",3,"click"],[1,"menu-header"],[1,"menu-item"]],template:function(t,n){1&t&&(e.TgZ(0,"app-grid",0),e.NdJ("keydown",function(i){return n.keyPressed(i)}),e.TgZ(1,"app-grid-cell",1),e.O4$(),e.TgZ(2,"svg",2,3),e.NdJ("click",function(i){return n.graphClicked(i)})("dblclick",function(i){return n.graphDblClicked(i)})("contextmenu",function(i){return n.graphContextMenu(i)}),e.TgZ(4,"g",4,5),e.YNc(6,$o,1,2,"rect",6),e.ALo(7,"async"),e.YNc(8,Yo,1,2,"rect",7),e.ALo(9,"async"),e.YNc(10,Ho,2,4,"g",8),e.ALo(11,"async"),e.YNc(12,jo,2,4,"g",9),e.ALo(13,"async"),e.YNc(14,zo,2,5,"g",10),e.ALo(15,"async"),e.qZA()()(),e.kcU(),e.TgZ(16,"app-grid-cell",11)(17,"div",12),e.YNc(18,Ko,5,12,"div",13),e.ALo(19,"async"),e.TgZ(20,"ul",null,14),e.YNc(22,Wo,4,10,"li",15),e.ALo(23,"async"),e.qZA()(),e.TgZ(24,"cdk-virtual-scroll-viewport",16)(25,"ul",17),e.YNc(26,ii,10,17,"li",18),e.qZA()()()(),e.YNc(27,Si,3,2,"ng-template",null,19,e.W1O)),2&t&&(e.xp6(6),e.Q6J("ngIf",n.idToCommitDetail[e.lcZ(7,14,n.hoveredCommitId)||""]),e.xp6(2),e.Q6J("ngIf",n.idToCommitDetail[e.lcZ(9,16,n.selectedCommitDetailId)||""]),e.xp6(2),e.Q6J("ngForOf",e.lcZ(11,18,n.visibleMergePaths))("ngForTrackBy",n.trackMergePath),e.xp6(2),e.Q6J("ngForOf",e.lcZ(13,20,n.visibleCommitTrails))("ngForTrackBy",n.trackCommitTrail),e.xp6(2),e.Q6J("ngForOf",e.lcZ(15,22,n.visibleCommitDetails))("ngForTrackBy",n.trackCommitDetail),e.xp6(4),e.Q6J("ngIf",e.lcZ(19,24,n.topDate)),e.xp6(4),e.Q6J("ngForOf",e.lcZ(23,26,n.visibleDates))("ngForTrackBy",n.trackFloatingDate),e.xp6(2),e.Q6J("itemSize",n.yUnit),e.xp6(2),e.Q6J("cdkVirtualForOf",n.commitDetails)("cdkVirtualForTrackBy",n.trackCommitDetail))},dependencies:[$.OP,ye.xd,ye.x0,ye.N7,q.mk,q.sg,q.O5,je.Hw,We.gM,Qt.A,bt.Y,Mt.M,Go,q.Ov,q.rS,q.uU,gt.x,It.r],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%}app-grid[_ngcontent-%COMP%]{outline:none}.graph[_ngcontent-%COMP%]{display:block;width:100%;height:100%;cursor:pointer}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:10}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:20}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .commit-circle[_ngcontent-%COMP%]{stroke:#000;stroke-width:1.5;z-index:30}.graph[_ngcontent-%COMP%]   .commit-circle.color-0[_ngcontent-%COMP%]{fill:#4363d8}.graph[_ngcontent-%COMP%]   .commit-circle.color-1[_ngcontent-%COMP%]{fill:#469990}.graph[_ngcontent-%COMP%]   .commit-circle.color-2[_ngcontent-%COMP%]{fill:#fabed4}.graph[_ngcontent-%COMP%]   .commit-circle.color-3[_ngcontent-%COMP%]{fill:#e6194b}.graph[_ngcontent-%COMP%]   .commit-circle.color-4[_ngcontent-%COMP%]{fill:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-circle.color-5[_ngcontent-%COMP%]{fill:#f58231}.graph[_ngcontent-%COMP%]   .commit-circle.color-6[_ngcontent-%COMP%]{fill:#ffe119}.graph[_ngcontent-%COMP%]   .commit-circle.color-7[_ngcontent-%COMP%]{fill:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-circle.color-8[_ngcontent-%COMP%]{fill:#f032e6}.graph[_ngcontent-%COMP%]   .commit-circle.color-9[_ngcontent-%COMP%]{fill:#fff}.graph[_ngcontent-%COMP%]   .commit-circle.color-10[_ngcontent-%COMP%]{fill:maroon}.graph[_ngcontent-%COMP%]   .commit-circle.color-11[_ngcontent-%COMP%]{fill:#9a6324}.graph[_ngcontent-%COMP%]   .commit-circle.color-12[_ngcontent-%COMP%]{fill:#fffac8}.graph[_ngcontent-%COMP%]   .commit-circle.color-13[_ngcontent-%COMP%]{fill:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-circle.color-14[_ngcontent-%COMP%]{fill:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-circle.dashed[_ngcontent-%COMP%]{fill:none;stroke:#ffffff80}.graph[_ngcontent-%COMP%]   .hovered-background[_ngcontent-%COMP%]{fill:#2d2d2d}.graph[_ngcontent-%COMP%]   .selected-background[_ngcontent-%COMP%]{fill:#424242}.viewport[_ngcontent-%COMP%]{height:100%}.messages-grid-cell[_ngcontent-%COMP%]{contain:strict}.messages-viewport[_ngcontent-%COMP%]{overflow-y:scroll;contain:unset}.messages-viewport[_ngcontent-%COMP%]  .cdk-virtual-scroll-content-wrapper{contain:layout}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:28px;line-height:28px;padding-left:5px;padding-right:130px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li.hovered[_ngcontent-%COMP%]{background-color:#2d2d2d}.messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:26px;height:26px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{display:inline-block;height:26px;vertical-align:middle;font-size:14px;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:14px;vertical-align:middle}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary.bold[_ngcontent-%COMP%]{font-weight:600}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary.dimmed[_ngcontent-%COMP%]{color:#ffffff80}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .uncommitted-icon[_ngcontent-%COMP%]{margin-right:5px;color:#ffffff80}@property --bgColor{syntax: "<color>"; initial-value: transparent; inherits: false;}.floating-dates[_ngcontent-%COMP%]{position:absolute;top:0;right:12px;font-size:14px;pointer-events:none;overflow:hidden;height:calc(100% - 17px);width:100%}.floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;right:0;padding-left:30px;padding-right:10px;height:28px;line-height:28px;white-space:nowrap;color:#90a4ae;background:linear-gradient(to right,transparent,var(--bgColor) 25px,var(--bgColor));--bgColor: #1e1e1e}.floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%]{z-index:200}.floating-dates[_ngcontent-%COMP%]   .top-date.selected[_ngcontent-%COMP%]:not(.scrolled-to-top){transition:--bgColor .3s ease-in-out}.floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.floating-dates[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{z-index:100;position:absolute;width:100%}.floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;display:flex;font-family:MontserratVariable;font-size:16px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap;align-items:center}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:first-child, .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:last-child, .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-header.bold[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.menu-panel[_ngcontent-%COMP%]   .menu-header[disabled][_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{display:block;color:#90a4ae;border-bottom:1px solid rgba(255,255,255,.12);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{cursor:pointer}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}'],changeDetection:0})}}function Zi(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().ngIf,i=e.oxw();return e.KtG(i.changeCommit(o.fromCommitId))}),e.TgZ(2,"span",13),e._uU(3,"Incoming:"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().ngIf,i=e.oxw();return e.KtG(i.changeCommit(o.toCommitId))}),e.TgZ(6,"span",13),e._uU(7,"Current:"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"div",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().ngIf,i=e.oxw();return e.KtG(i.changeCommit(o.baseCommitId))}),e.TgZ(10,"span",13),e._uU(11,"Base:"),e.qZA(),e._uU(12),e.qZA()()}if(2&r){const t=c.ngIf,n=e.oxw().ngIf;e.xp6(1),e.Q6J("ngClass","color-"+t[n.fromCommitId])("matTooltip",n.fromCommitId),e.xp6(3),e.hij(" ",n.fromCommitId," "),e.xp6(1),e.Q6J("ngClass","color-"+t[n.toCommitId])("matTooltip",n.toCommitId),e.xp6(3),e.hij(" ",n.toCommitId," "),e.xp6(1),e.Q6J("ngClass","color-"+t[n.baseCommitId])("matTooltip",n.baseCommitId),e.xp6(3),e.hij(" ",n.baseCommitId," ")}}function Ri(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.resolveSelectedConflicts("to"))}),e.ALo(2,"nullEmpty"),e.ALo(3,"async"),e._uU(4,"Use 'current'"),e.qZA(),e.TgZ(5,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.resolveSelectedConflicts("from"))}),e.ALo(6,"nullEmpty"),e.ALo(7,"async"),e._uU(8,"Use 'incoming'"),e.qZA()()}if(2&r){const t=c.ngIf,n=e.oxw(3).ngIf,o=e.oxw();e.xp6(1),e.Q6J("ngClass","color-"+t[n.toCommitId])("disabled",!e.lcZ(2,4,e.lcZ(3,6,o.checkedConflicts))),e.xp6(4),e.Q6J("ngClass","color-"+t[n.fromCommitId])("disabled",!e.lcZ(6,8,e.lcZ(7,10,o.checkedConflicts)))}}function Ei(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"app-patches-view",25),e.NdJ("checkedChanged",function(o){e.CHM(t);const i=e.oxw(4);return e.KtG(i.setPatchChecked(o[0],o[1]))})("selectedChanged",function(o){e.CHM(t);const i=e.oxw(4);return e.KtG(i.selectFile(o.oldFilePath,o.newFilePath))})("contextMenuOpened",function(o){e.CHM(t);const i=e.oxw(4),a=e.MAs(3);return e.KtG(i.openContextMenu(a,o[0],o[1]))}),e.ALo(1,"async"),e.qZA()}if(2&r){const t=c.ngIf,n=e.oxw(4);e.Q6J("patches",t)("checked",n.checkedConflicts)("selected",e.lcZ(1,3,n.selectedFile))}}function Ni(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"mat-card",17)(1,"div",18)(2,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.clickAllConflictsCheckbox())}),e.ALo(3,"async"),e.TgZ(4,"mat-icon"),e._uU(5),e.ALo(6,"async"),e.qZA()(),e.YNc(7,Ri,9,12,"div",20),e.ALo(8,"async"),e.qZA(),e.YNc(9,Ei,2,5,"app-patches-view",21),e.ALo(10,"async"),e.qZA()}if(2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("matTooltip","check_box_outline_blank"===e.lcZ(3,4,t.allConflictsCheckboxIcon)?"Select all":"Deselect all"),e.xp6(3),e.Oqu(e.lcZ(6,6,t.allConflictsCheckboxIcon)),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,8,t.graphColors)),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,10,t.conflictedPatches))}}function Ii(r,c){if(1&r&&(e.ynx(0),e.YNc(1,Ni,11,12,"mat-card",16),e.BQk()),2&r){const t=c.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function Li(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"app-patches-view",26),e.NdJ("selectedChanged",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectFile(o.oldFilePath,o.newFilePath))})("contextMenuOpened",function(o){e.CHM(t);const i=e.oxw(2),a=e.MAs(3);return e.KtG(i.openContextMenu(a,o[0],o[1]))}),e.ALo(1,"async"),e.qZA()}if(2&r){const t=c.ngIf,n=e.oxw(2);e.Q6J("patches",t)("selected",e.lcZ(1,2,n.selectedFile))}}function Fi(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"header",2),e.YNc(2,Zi,13,9,"div",3),e.ALo(3,"async"),e.TgZ(4,"button",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.discardMerge())}),e._uU(5,"Discard merge"),e.qZA()(),e.YNc(6,Ii,2,1,"ng-container",0),e.ALo(7,"async"),e.TgZ(8,"mat-card",5),e.YNc(9,Li,2,4,"app-patches-view",6),e.ALo(10,"async"),e.qZA(),e.TgZ(11,"mat-card",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Commit Message"),e.qZA(),e._UZ(15,"textarea",9),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.commitChanges())}),e._uU(17,"Commit merge"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,5,t.graphColors)),e.xp6(4),e.Q6J("ngIf",e.lcZ(7,7,t.conflictedPatches)),e.xp6(3),e.Q6J("ngIf",e.lcZ(10,9,t.normalPatches)),e.xp6(6),e.Q6J("formControl",t.commitMessageControl),e.xp6(1),e.Q6J("disabled",!1)}}function Ui(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",28),e._uU(2),e.qZA(),e.TgZ(3,"button",29),e.NdJ("click",function(){const i=e.CHM(t).data,a=e.oxw();return e.KtG(a.copyToClipboard(a.getPatchPath(i.patch)))}),e.TgZ(4,"mat-icon"),e._uU(5,"content_copy"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Copy Path"),e.qZA()()()}if(2&r){const t=c.data,n=e.oxw();let o;e.xp6(1),e.Q6J("matTooltip",null!==(o=n.getPatchPath(t.patch))&&void 0!==o?o:""),e.xp6(1),e.Oqu(n.getPatchFilename(t.patch))}}let Bi=(()=>{class r extends((0,Be.j)(Fe.A)){constructor(t,n,o,i,a,f){super(),this.overlay=t,this.viewContainerRef=n,this.store=o,this.commitDetailService=i,this.graphSharedService=a,this.mergeActionsService=f,this.checkedConflicts=new W.X([]),this.allConflictsCheckboxIcon=new W.X("check_box_outline_blank"),this.commitMessageControl=new J.NI(null),this.overlayRef=null,this.getPatchPath=O=>this.commitDetailService.getPatchPath(O),this.isPatchAdded=O=>O.status===Ue.v.Added}ngOnInit(){this.conflictedPatches=this.merge.pipe((0,Ze.h)(Te.Nf),(0,ne.U)(t=>t.mergePatches.filter(n=>n.status===Ue.v.Conflicted)),(0,tt.d)(1)),this.normalPatches=this.merge.pipe((0,Ze.h)(Te.Nf),(0,ne.U)(t=>t.mergePatches.filter(n=>n.status!==Ue.v.Conflicted))),this.merge.pipe((0,Ze.h)(Te.Nf),(0,z.R)(this.destroyed$)).subscribe(t=>{this.commitMessageControl.setValue(t.message,{emitEvent:!1})}),this.graphColors=this.graphSharedService.getColors()}changeCommit(t){const n=this.store.selectSnapshot(I.E.selectedRepositoryPath);n&&this.store.dispatch(new F.jQ(n,t))}getPatchFilename(t){const n=this.commitDetailService.getPatchPath(t);return n?n.slice(n.lastIndexOf("/")+1):null}selectFile(t,n){const o=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(o){const i=this.store.selectSnapshot(I.E.selectedFile);this.store.dispatch(new F.gt(o,t===i?.oldFilePath&&n===i.newFilePath?null:{area:"commit",oldFilePath:t,newFilePath:n}))}}discardMerge(){const t=this.store.selectSnapshot(I.E.selectedRepositoryPath);this.merge.pipe((0,oe.q)(1)).subscribe(n=>{t&&n&&this.mergeActionsService.discardMerge(t,n.fromCommitId,n.toCommitId).subscribe()})}resolveSelectedConflicts(t){const n=this.checkedConflicts.value.map(o=>o.newFilePath).filter(Te.$K);n.length&&this.merge.pipe((0,oe.q)(1)).subscribe(o=>{const i=this.store.selectSnapshot(I.E.selectedRepositoryPath),a="head"===this.store.selectSnapshot(I.E.selectedCommitId);i&&o&&this.mergeActionsService.resolveMergeFiles(i,o.fromCommitId,o.toCommitId,t,n,a).pipe((0,rt.x)(()=>{this.checkedConflicts.next([]),this.allConflictsCheckboxIcon.next("check_box_outline_blank")})).subscribe()})}setPatchChecked(t,n){const o=[...this.checkedConflicts.value],i=o.findIndex(f=>f.oldFilePath===t.oldFilePath&&f.newFilePath===t.newFilePath);i>=0&&!n?o.splice(i,1):i<0&&n&&o.push(t),this.checkedConflicts.next(o);const a=this.allConflictsCheckboxIcon;this.conflictedPatches.pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(f=>{a.next(f.length===o.length?"check_box":0===o.length?"check_box_outline_blank":"indeterminate_check_box")})}commitChanges(){const t=this.store.selectSnapshot(I.E.selectedRepositoryPath),n=this.store.selectSnapshot(I.E.selectedCommitId);this.merge.pipe((0,oe.q)(1)).subscribe(o=>{t&&o&&this.mergeActionsService.commitMerge(t,o.fromCommitId,o.toBranch,this.commitMessageControl.value??"","head"===n).subscribe()})}copyToClipboard(t){navigator.clipboard.writeText(t??"")}launchExternalTool(t){}clickAllConflictsCheckbox(){switch(this.allConflictsCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedConflicts.next([]),this.allConflictsCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":this.conflictedPatches.pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(t=>{this.checkedConflicts.next(t),this.allConflictsCheckboxIcon.next("check_box")})}}openContextMenu(t,n,o){o.preventDefault(),o.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:o.x,y:o.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new Ye.UE(t,this.viewContainerRef,{data:{patch:n}})),(0,He.t)(this.overlayRef).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(n){return new(n||r)(e.Y36(it.aV),e.Y36(e.s_b),e.Y36(G.yh),e.Y36(Et.d),e.Y36(Kt.p),e.Y36(Ke))}}static{this.\u0275cmp=e.Xpm({type:r,selectors:[["app-merge-detail-view"]],inputs:{merge:"merge"},features:[e.qOj],decls:4,vars:3,consts:[[4,"ngIf"],["fileContextMenu",""],[1,"merge-info"],["class","commit-ids",4,"ngIf"],["type","button","mat-stroked-button","","color","warn","matTooltip","All changes will be lost!",1,"discard",3,"click"],["appearance","outlined",1,"normal-files"],[3,"patches","selected","selectedChanged","contextMenuOpened",4,"ngIf"],["appearance","outlined",1,"commit-message"],[1,"description"],["matInput","","placeholder","Enter a description...",3,"formControl"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],[1,"commit-ids"],[1,"from-commit",3,"ngClass","matTooltip","click"],[1,"title"],[1,"to-commit",3,"ngClass","matTooltip","click"],[1,"base-commit",3,"ngClass","matTooltip","click"],["appearance","outlined","class","conflicted-files",4,"ngIf"],["appearance","outlined",1,"conflicted-files"],[1,"header-buttons"],["type","button","mat-icon-button","",1,"checkbox-button","app-icon-button-md",3,"matTooltip","click"],["class","resolve-buttons",4,"ngIf"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened",4,"ngIf"],[1,"resolve-buttons"],["type","button","mat-stroked-button","","matTooltip","Resolve conflicts using the changes in the 'current' commit",3,"ngClass","disabled","click"],["type","button","mat-stroked-button","","matTooltip","Resolve conflicts using the changes in the 'incoming' commit",3,"ngClass","disabled","click"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"],[3,"patches","selected","selectedChanged","contextMenuOpened"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],["type","button",1,"menu-item",3,"click"]],template:function(n,o){1&n&&(e.YNc(0,Fi,18,11,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Ui,8,2,"ng-template",null,1,e.W1O)),2&n&&e.Q6J("ngIf",e.lcZ(1,1,o.merge))},dependencies:[_.a8,x.Nt,T.KE,T.hX,q.mk,q.O5,J.Fj,J.JJ,J.oH,Ve.lW,Ve.RK,je.Hw,We.gM,Nt.i,q.Ov,gt.x],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;max-height:100%;gap:10px}.merge-info[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px;text-align:center}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;flex-wrap:wrap-reverse;justify-content:space-between;gap:0 5px;flex:0 0 auto;overflow:auto;font-weight:600}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit[_ngcontent-%COMP%]{flex:1 1 calc((100% - 10px) / 3);min-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-0[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-0[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-0[_ngcontent-%COMP%]{color:#4363d8}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-1[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-1[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-1[_ngcontent-%COMP%]{color:#469990}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-2[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-2[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-2[_ngcontent-%COMP%]{color:#fabed4}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-3[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-3[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-3[_ngcontent-%COMP%]{color:#e6194b}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-4[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-4[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-4[_ngcontent-%COMP%]{color:#42d4f4}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-5[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-5[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-5[_ngcontent-%COMP%]{color:#f58231}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-6[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-6[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-6[_ngcontent-%COMP%]{color:#ffe119}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-7[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-7[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-7[_ngcontent-%COMP%]{color:#3cb44b}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-8[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-8[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-8[_ngcontent-%COMP%]{color:#f032e6}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-9[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-9[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-9[_ngcontent-%COMP%]{color:#fff}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-10[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-10[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-10[_ngcontent-%COMP%]{color:maroon}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-11[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-11[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-11[_ngcontent-%COMP%]{color:#9a6324}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-12[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-12[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-12[_ngcontent-%COMP%]{color:#fffac8}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-13[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-13[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-13[_ngcontent-%COMP%]{color:#aaffc3}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-14[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-14[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-14[_ngcontent-%COMP%]{color:#dcbeff}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.merge-info[_ngcontent-%COMP%]   .discard[_ngcontent-%COMP%]{margin-top:5px;width:100%}.conflicted-files[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]{flex-shrink:1;margin:0 10px;white-space:nowrap;overflow:auto;min-height:200px;display:flex;flex-direction:column;gap:10px;padding:16px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{flex:0 0 auto;position:relative}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:space-between;min-height:40px;margin-left:32px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-0, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-0{color:#4363d8}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-1, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-1{color:#469990}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-2, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-2{color:#fabed4}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-3, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-3{color:#e6194b}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-4, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-4{color:#42d4f4}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-5, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-5{color:#f58231}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-6, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-6{color:#ffe119}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-7, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-7{color:#3cb44b}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-8, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-8{color:#f032e6}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-9, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-9{color:#fff}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-10, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-10{color:maroon}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-11, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-11{color:#9a6324}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-12, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-12{color:#fffac8}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-13, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-13{color:#aaffc3}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-14, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([disabled]).color-14{color:#dcbeff}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-12px}.conflicted-files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%;contain:content}.conflicted-files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper, .normal-files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.conflicted-files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer, .normal-files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-top:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;height:24px;line-height:24px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#ef5350}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%]{color:#7c8bff}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{background-color:#616161}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%]{opacity:1}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:0;opacity:0;transition:.2s ease-in-out opacity;font-size:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:24px;width:24px;line-height:24px;margin-left:5px;font-size:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.conflicted-files[_ngcontent-%COMP%]{margin-top:0}.conflicted-files[_ngcontent-%COMP%]   mat-selection-list[_ngcontent-%COMP%]{padding-top:0}.conflicted-files[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]{font-size:14px;height:24px}.normal-files[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:0 16px}.commit-message[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px 10px;padding:16px}.commit-message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit-message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px;max-height:100px}.commit-message[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})}}return(0,B.gn)([(0,G.Ph)(I.E.selectedFile)],r.prototype,"selectedFile",void 0),r})();var Wt=s(9578),ct=s(1256),wt=s(5143),Xt=s(5684);class _t{static{this.\u0275fac=function(t){return new(t||_t)}}static{this.\u0275cmp=e.Xpm({type:_t,selectors:[["ng-component"]],decls:11,vars:2,consts:[["mat-dialog-title",""],[1,"warning-icon"],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._uU(1,"Resolve Merge"),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"mat-icon",1),e._uU(4,"warning"),e.qZA(),e._uU(5," Warning: there are still outstanding conflicts, are you sure you want to resolve? "),e.qZA(),e.TgZ(6,"mat-dialog-actions")(7,"button",2),e._uU(8,"Cancel"),e.qZA(),e.TgZ(9,"button",3),e._uU(10,"Confirm"),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("mat-dialog-close",void 0),e.xp6(2),e.Q6J("mat-dialog-close",!0))},dependencies:[C.ZT,C.uh,C.xY,C.H8,Ve.lW,je.Hw],styles:[".warning-icon[_ngcontent-%COMP%]{margin-right:5px}"],changeDetection:0})}}const en=/(^<<<<<<<.*$)\r?\n(?:([^]*?)\r?\n)??(^=======.*$)\r?\n(?:([^]*?)\r?\n)??(^>>>>>>>.*$)/gm;var tn=s(127),nn=s(315),on=s(7205),rn=s(1453);const Vi=["baseScrollContainer"],Gi=["yoursScrollContainer"],Ji=["theirsScrollContainer"],Di=["baseCode"],Qi=["yoursCode"],qi=["theirsCode"];function $i(r,c){1&r&&(e.TgZ(0,"main"),e._uU(1,"Loading..."),e.qZA())}function Yi(r,c){1&r&&(e.TgZ(0,"main"),e._uU(1,"Cannot load binary file."),e.qZA())}function Hi(r,c){1&r&&(e.TgZ(0,"main"),e._uU(1,"Cannot load file."),e.qZA())}function ji(r,c){if(1&r&&e._UZ(0,"span",28),2&r){const t=c.ngIf;e.Udp("left",t.left)("width",t.width)}}function zi(r,c){if(1&r&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function Ki(r,c){if(1&r&&(e.ynx(0),e.TgZ(1,"span",29),e._uU(2),e.qZA(),e.YNc(3,zi,2,2,"span",30),e.ALo(4,"tokens"),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.baseLine?null:t.baseLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.baseLine?null:t.baseLine.tokens,t.baseLine.text))}}const Ft=function(r,c){return[r,c]};function Wi(r,c){if(1&r&&(e.TgZ(0,"li",26),e.YNc(1,ji,1,4,"span",27),e.ALo(2,"async"),e.YNc(3,Ki,5,5,"ng-container",0),e.qZA()),2&r){const t=c.$implicit,n=c.index,o=e.oxw();e.Q6J("ngClass",e.WLB(5,Ft,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,o.getSelection(n,"base"))),e.xp6(2),e.Q6J("ngIf",t.baseLine)}}function Xi(r,c){if(1&r&&e._UZ(0,"span",28),2&r){const t=c.ngIf;e.Udp("left",t.left)("width",t.width)}}function er(r,c){if(1&r&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function tr(r,c){if(1&r&&(e.ynx(0),e.TgZ(1,"span",29),e._uU(2),e.qZA(),e.YNc(3,er,2,2,"span",30),e.ALo(4,"tokens"),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.yoursLine?null:t.yoursLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.yoursLine?null:t.yoursLine.tokens,t.yoursLine.text))}}function nr(r,c){if(1&r&&(e.TgZ(0,"li",26),e.YNc(1,Xi,1,4,"span",27),e.ALo(2,"async"),e.YNc(3,tr,5,5,"ng-container",0),e.qZA()),2&r){const t=c.$implicit,n=c.index,o=e.oxw();e.Q6J("ngClass",e.WLB(5,Ft,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,o.getSelection(n,"yours"))),e.xp6(2),e.Q6J("ngIf",t.yoursLine)}}function or(r,c){if(1&r&&e._UZ(0,"span",28),2&r){const t=c.ngIf;e.Udp("left",t.left)("width",t.width)}}function ir(r,c){if(1&r&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function rr(r,c){if(1&r&&(e.ynx(0),e.TgZ(1,"span",29),e._uU(2),e.qZA(),e.YNc(3,ir,2,2,"span",30),e.ALo(4,"tokens"),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.theirsLine?null:t.theirsLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.theirsLine?null:t.theirsLine.tokens,t.theirsLine.text))}}function cr(r,c){if(1&r&&(e.TgZ(0,"li",26),e.YNc(1,or,1,4,"span",27),e.ALo(2,"async"),e.YNc(3,rr,5,5,"ng-container",0),e.qZA()),2&r){const t=c.$implicit,n=c.index,o=e.oxw();e.Q6J("ngClass",e.WLB(5,Ft,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,o.getSelection(n,"theirs"))),e.xp6(2),e.Q6J("ngIf",t.theirsLine)}}const ar=function(){return{diffCodeLens:!0,readOnly:!1,renderSideBySide:!1,theme:"vs-dark",quickSuggestions:!1}};function ur(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"ngx-monaco-diff-editor",32),e.NdJ("init",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.monacoInit(o))}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()}if(2&r){const t=c.ngIf,n=e.oxw();let o,i,a;e.Q6J("options",e.DdM(11,ar))("original",null!==(o=e.lcZ(1,5,n.yoursText))&&void 0!==o?o:"Loading...")("modified",t)("originalUri",null!==(i=e.lcZ(2,7,n.yoursUri))&&void 0!==i?i:void 0)("modifiedUri",null!==(a=e.lcZ(3,9,n.mergeUri))&&void 0!==a?a:void 0)}}class Tt extends((0,Be.j)(Fe.A,Pt.P)){constructor(c,t,n,o,i,a,f,O,k,p){super(),this.elementRef=c,this.zone=t,this.dialog=n,this.store=o,this.highlightApi=i,this.mergesApi=a,this.repositoriesApi=f,this.diffService=O,this.diffSelectionService=k,this.mergeActionsService=p,this.resolved=new e.vpe,this.closed=new e.vpe,this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$=new W.X([]),this.mergeText=new W.X("Loading..."),this.yoursText=new W.X("Loading..."),this.mergeUri=new W.X(void 0),this.yoursUri=new W.X(void 0),this.monacoEditor=new W.X(null),this.monacoDecorationIds=[],this.monacoCodeLensProviders=[],this.currentView=new W.X("loading"),this.conflicts=[],this.currentConflictIndex=-1,this.selectionPane=new W.X("base"),this.monacoInit=S=>{this.monacoEditor.next(S)},this.gridResized=()=>{this.baseScrollContainer?.checkViewportSize(),this.yoursScrollContainer?.checkViewportSize(),this.theirsScrollContainer?.checkViewportSize()},this.trackByMergeDiffLine=(S,Y)=>S,this.jumpToNextConflict=()=>{this.currentConflictIndex=this.currentConflictIndex+1<this.conflicts.length?this.currentConflictIndex+1:0,this.jumpToConflict()},this.jumpToPreviousConflict=()=>{this.currentConflictIndex=this.currentConflictIndex-1>=0?this.currentConflictIndex-1:this.conflicts.length-1,this.jumpToConflict()},this.getSelection=(S,Y)=>this.diffSelectionService.selectedRange.pipe((0,ot.M)(this.selectionPane),(0,ne.U)(([P,w])=>{if(!P||w!==Y)return null;const[R,H]=P[0].line>P[1].line||P[0].line===P[1].line&&P[0].char>P[1].char?[P[1],P[0]]:P;return S<R.line||S>H.line?null:S===R.line?{left:R.char*this.diffSelectionService.charWidth+"px",width:R.line===H.line?(H.char-R.char)*this.diffSelectionService.charWidth+"px":"100%"}:S===H.line?{left:"0px",width:H.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.destroyed$.subscribe(()=>{this.monacoCodeLensProviders.forEach(o=>{o.dispose()}),this.monacoCodeLensProviders=[]}),(0,we.a)([this.monacoEditor.pipe((0,Ze.h)(Te.$K)),this.mergeText]).pipe((0,z.R)(this.destroyed$)).subscribe(([o,i])=>{this.monacoCodeLensProviders.forEach(O=>{O.dispose()}),this.monacoCodeLensProviders=[];const a=o.getModifiedEditor(),f=window.monaco.languages;f.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,diagnosticCodesToIgnore:[1185]}),f.getLanguages().forEach(O=>{this.monacoCodeLensProviders.push(f.registerCodeLensProvider(O.id,{resolveCodeLens:(k,p,S)=>p,provideCodeLenses:(k,p)=>{this.conflicts=this.processConflicts(k.getValue());const S=a.getPosition();return this.currentConflictIndex=S?this.conflicts.findIndex(P=>P.range.startLineNumber<=S.lineNumber&&P.range.endLineNumber>=S.lineNumber):-1,this.monacoDecorationIds=a.deltaDecorations(this.monacoDecorationIds,this.conflicts.flatMap(P=>P.decorations))??[],{lenses:this.conflicts.flatMap(P=>[{range:new window.monaco.Range(P.range.startLineNumber,1,P.range.startLineNumber+1,1),command:{id:a.addCommand(0,()=>{o.getModel()?.modified.pushEditOperations([],[{range:P.range,text:P.ours}],()=>[])}),title:"Use Current"}},{range:new window.monaco.Range(P.range.startLineNumber,1,P.range.startLineNumber+1,1),command:{id:a.addCommand(0,()=>{o.getModel()?.modified.pushEditOperations([],[{range:P.range,text:P.theirs}],()=>[])}),title:"Use Incoming"}},{range:new window.monaco.Range(P.range.startLineNumber,1,P.range.startLineNumber+1,1),command:{id:a.addCommand(0,()=>{o.getModel()?.modified.pushEditOperations([],[{range:P.range,text:`${P.ours}\n${P.theirs}`}],()=>[])}),title:"Use Both"}}]),dispose:()=>{}}}}))})}),this.patch.pipe((0,$e.x)((o,i)=>{if(!o||!i)return!o&&!i;if(o.repositoryPath!==i.repositoryPath)return!1;const a=(k,p)=>k?.newFileId!==p?.newFileId||k?.newFileIsDir!==p?.newFileIsDir||k?.newFileIsSubmodule!==p?.newFileIsSubmodule||k?.newFilePath!==p?.newFilePath||k?.oldFileId!==p?.oldFileId||k?.oldFileIsDir!==p?.oldFileIsDir||k?.oldFileIsSubmodule!==p?.oldFileIsSubmodule||k?.oldFilePath!==p?.oldFilePath||k?.status!==p?.status||k?.hunks.length!==p?.hunks.length,f=["from","to","merge"];for(const k of f)if(a(o.patch[k],i.patch[k]))return!1;const O=(k,p)=>(0,Oe.Z)(k,p).some(([S,Y])=>S?.lines.length!==Y?.lines.length||S?.newStart!==Y?.newStart||S?.oldStart!==Y?.oldStart||S?.header!==Y?.header||S&&Y&&(0,Oe.Z)(S.lines,Y.lines).some(([P,w])=>P?.content.length!==w?.content.length||P?.contentOffset!==w?.contentOffset||P?.newLineNo!==w?.newLineNo||P?.oldLineNo!==w?.oldLineNo||P?.origin!==w?.origin||P?.content!==w?.content));for(const k of f){const p=o.patch[k],S=i.patch[k];if(p&&p.hunks&&S&&S.hunks&&O(p.hunks,S.hunks))return!1}return o.patch.mergeFile===i.patch.mergeFile}),(0,Pe.b)(()=>{this.currentView.next("loading")}),(0,Me.w)(o=>o?(0,Ie.D)(this.getLines(o)).pipe((0,z.R)(this.currentView.pipe((0,Xt.T)(1),(0,Ze.h)(i=>"loading"===i))),(0,ne.U)(i=>[o,...i]),(0,Ae.K)(i=>Se.OZ.matches(i)?(this.currentView.next("binary-file"),(0,K.of)(null)):Se.hK.matches(i)?(this.currentView.next("error"),(0,K.of)(null)):(0,ve._)(()=>i))):(0,K.of)(null)),(0,z.R)(this.destroyed$)).subscribe(o=>{if(o){const[i,a,f,O,k,p]=o;this.monacoEditor.pipe((0,Ze.h)(Te.$K),(0,oe.q)(1)).subscribe(()=>{this.mergeText.next(k??""),this.mergeUri.next(monaco.Uri.file(`/modified/${i.patch.merge?.newFilePath??"a.txt"}`)),this.yoursText.next(p??""),this.yoursUri.next(monaco.Uri.file(`/original/${i.patch.to?.newFilePath??"a.txt"}`))}),this.baseLineNumberMargin=this.diffService.calculateMargin(a?.length.toString().length??1,!0),this.yoursLineNumberMargin=this.diffService.calculateMargin(f?.length.toString().length??1,!0),this.theirsLineNumberMargin=this.diffService.calculateMargin(O?.length.toString().length??1,!0),this.diffService.calculateMergeLines(a??[],f??[],O??[],i.patch.to?.hunks??[],i.patch.from?.hunks??[]).pipe((0,z.R)(this.destroyed$)).subscribe(S=>{this.lines$.next(S)}),this.currentView.next("normal")}else this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$.next([]),this.mergeText.next("Error!"),this.mergeUri.next(void 0),this.yoursText.next("Error!"),this.yoursUri.next(void 0);this.baseScrollContainer?.scrollTo({top:0,left:0}),this.yoursScrollContainer?.scrollTo({top:0,left:0}),this.theirsScrollContainer?.scrollTo({top:0,left:0}),this.monacoEditor.value?.getModifiedEditor().setScrollTop(0),this.monacoEditor.value?.getModifiedEditor().setScrollLeft(0),setTimeout(()=>this.gridResized(),0)}),this.zone.runOutsideAngular(()=>{const o=[this.baseScrollContainer,this.yoursScrollContainer,this.theirsScrollContainer],i=[!1,!1,!1];o.forEach((O,k)=>{(0,ft.R)(O.elementRef.nativeElement,"wheel",{passive:!1}).pipe((0,z.R)(this.destroyed$)).subscribe(p=>{p.preventDefault();const S=O.measureScrollOffset("left")+p.deltaX,Y=O.measureScrollOffset("top")+p.deltaY;for(const P of o)P.scrollTo({left:S,top:Y})}),O.elementScrolled().pipe((0,Ze.h)(()=>i.every((p,S)=>!p||S===k)),(0,Pe.b)(()=>{i[k]=!0;const p=O.measureScrollOffset("left"),S=O.measureScrollOffset("top");o.forEach((Y,P)=>{P!==k&&Y.scrollTo({left:p,top:S})})}),(0,vt.b)(100),(0,z.R)(this.destroyed$)).subscribe(()=>{this.gridResized(),i[k]=!1})});const a=new Lt.x,f=new ResizeObserver(()=>a.next());f.observe(this.elementRef.nativeElement),this.destroyed$.subscribe(()=>f.disconnect()),a.pipe((0,De.p)(20,void 0,{leading:!0,trailing:!0}),(0,z.R)(this.destroyed$)).subscribe(()=>{this.gridResized()}),setTimeout(()=>{this.gridResized()},100)});const c=this.baseScrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.baseCodeElement.nativeElement,(o,i)=>({line:Math.floor((c.scrollTop+i-c.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((c.scrollLeft+o-c.getBoundingClientRect().left-(this.baseLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(o,i)=>this.lines$.value.filter((a,f)=>f>=o&&f<=i).map(a=>a.baseLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1].baseLine?.text.length??0}),([o,i])=>(0,ct.Z)(o.line,i.line+1).map(a=>({oldLineNo:this.lines$.value[a]?.baseLine?.lineNumber??-1,newLineNo:this.lines$.value[a]?.baseLine?.lineNumber??-1}))).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.selectionPane.next("base")});const t=this.yoursScrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.yoursCodeElement.nativeElement,(o,i)=>({line:Math.floor((t.scrollTop+i-t.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((t.scrollLeft+o-t.getBoundingClientRect().left-(this.yoursLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(o,i)=>this.lines$.value.filter((a,f)=>f>=o&&f<=i).map(a=>a.yoursLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1].yoursLine?.text.length??0}),([o,i])=>(0,ct.Z)(o.line,i.line+1).map(a=>({oldLineNo:this.lines$.value[a]?.yoursLine?.lineNumber??-1,newLineNo:this.lines$.value[a]?.yoursLine?.lineNumber??-1}))).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.selectionPane.next("yours")});const n=this.theirsScrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.theirsCodeElement.nativeElement,(o,i)=>({line:Math.floor((n.scrollTop+i-n.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((n.scrollLeft+o-n.getBoundingClientRect().left-(this.theirsLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(o,i)=>this.lines$.value.filter((a,f)=>f>=o&&f<=i).map(a=>a.theirsLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1].theirsLine?.text.length??0}),([o,i])=>(0,ct.Z)(o.line,i.line+1).map(a=>({oldLineNo:this.lines$.value[a]?.theirsLine?.lineNumber??-1,newLineNo:this.lines$.value[a]?.theirsLine?.lineNumber??-1}))).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.selectionPane.next("theirs")})}resolveMerge(c){this.patch.pipe((0,oe.q)(1)).subscribe(t=>{const n=t?.repositoryPath;if(!n)throw new Error("Cannot update merge if no repository is selected");let o;switch(c){case"from":o=t.patch.from?.newFileId?this.repositoriesApi.getFile(n,t.patch.from?.newFileId):(0,K.of)(null);break;case"to":o=t.patch.to?.newFileId?this.repositoriesApi.getFile(n,t.patch.to?.newFileId):(0,K.of)(null);break;case"merge":o=this.conflicts.length>0?this.dialog.open(_t).afterClosed().pipe((0,Me.w)(a=>a?(0,K.of)(this.monacoEditor.value?.getModifiedEditor().getValue()??null):Ot.E)):(0,K.of)(this.monacoEditor.value?.getModifiedEditor().getValue()??null);break;default:throw new Error(`Unrecognized value ${c}`)}o.subscribe(i=>{this.resolved.next(i)})})}jumpToConflict(){const c=this.conflicts[this.currentConflictIndex];this.monacoEditor.value?.revealRangeAtTop(c.range);const t=c.theirs.split("\n"),n=c.ours.split("\n"),o=Math.max(t.length,n.length),i=this.lines$.value,a=f=>{if(f+o>i.length)return!1;const O=i.slice(f).map(p=>p.theirsLine?.text).filter(Te.$K);for(let p=0;p<t.length;p++)if(O[p]!==t[p])return!1;const k=i.slice(f).map(p=>p.yoursLine?.text).filter(Te.$K);for(let p=0;p<n.length;p++)if(k[p]!==n[p])return!1;return!0};for(let f=0;f<i.length;f++)if(a(f)){this.baseScrollContainer?.scrollToIndex(f);break}}getLines(c){const t=c.repositoryPath;let n=null,o=null,i=null,a=null,f=null;const O=c.patch.to;if(O)if(O.oldFileIsSubmodule||O.newFileIsSubmodule){const p=O.hunks[0].lines.find(Y=>Y.oldLineNo>0),S=O.hunks[0].lines.find(Y=>Y.newLineNo>0);n=(0,K.of)([{lineNumber:1,text:p?.content??"",tokens:[{startIndex:0,endIndex:p?.content.length??0,scopes:["normal"]}]}]),o=(0,K.of)([{lineNumber:1,text:S?.content??"",tokens:[{startIndex:0,endIndex:S?.content.length??0,scopes:["normal"]}]}])}else n=O.oldFileId?this.highlightApi.getHighlightedFile(t,O.oldFileId,O.oldFilePath,!0):null,o=O.newFileId?this.highlightApi.getHighlightedFile(t,O.newFileId,O.newFilePath,!0):null;const k=c.patch.from;if(k)if(k.oldFileIsSubmodule||k.newFileIsSubmodule){if(!n){const S=k.hunks[0].lines.find(Y=>Y.oldLineNo>0);n=(0,K.of)([{lineNumber:1,text:S?.content??"",tokens:[{startIndex:0,endIndex:S?.content.length??0,scopes:["normal"]}]}])}const p=k.hunks[0].lines.find(S=>S.newLineNo>0);i=(0,K.of)([{lineNumber:1,text:p?.content??"",tokens:[{startIndex:0,endIndex:p?.content.length??0,scopes:["normal"]}]}])}else n=n??(k.oldFileId?this.highlightApi.getHighlightedFile(t,k.oldFileId,k.oldFilePath,!0):null),i=k.newFileId?this.highlightApi.getHighlightedFile(t,k.newFileId,k.newFilePath,!0):null;if(c.patch.mergeFile)a=(0,K.of)(c.patch.mergeFile);else{const p=c.patch.merge;p&&(p.oldFileIsSubmodule||p.newFileIsSubmodule?a=(0,K.of)(p.hunks[0].lines.find(S=>S.newLineNo>0)?.content??""):p.newFileId?a=this.repositoriesApi.getFile(t,p.newFileId):p.newFilePath&&(a=this.mergesApi.getMergeFile(t,c.fromCommitId,c.toCommitId,p.newFilePath)))}return O&&(f=O.oldFileIsSubmodule||O.newFileIsSubmodule?(0,K.of)(O.hunks[0].lines.find(p=>p.newLineNo>0)?.content??""):O.newFileId?this.repositoriesApi.getFile(t,O.newFileId):null),[n??(0,K.of)(null),o??(0,K.of)(null),i??(0,K.of)(null),a??(0,K.of)(null),f??(0,K.of)(null)]}processConflicts(c){const t=new RegExp(en,"gm"),n=[];let o=wt(t,c);for(;o;){const[i,a]=o.indices[0],[f,O]=o.indices[1],[k,p]=o.indices[2]??[o.indices[1][1],o.indices[1][1]],[S,Y]=o.indices[3],[P,w]=o.indices[4]??[o.indices[5][0],o.indices[5][0]],[R,H]=o.indices[5];n.push({range:this.getConflictRange(c,i,a),ours:c.substring(k,p),theirs:c.substring(P,w),decorations:[{range:this.getConflictRange(c,f,O),options:{isWholeLine:!0,overviewRuler:{color:"#2F628E",position:window.monaco.editor.OverviewRulerLane.Full},after:{content:" (Current Change)",inlineClassName:"conflict_current-header-text"},className:"conflict_current-header",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(c,k,p),options:{isWholeLine:!0,overviewRuler:{color:"#2F628E",position:window.monaco.editor.OverviewRulerLane.Full},className:"conflict_current",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(c,S,Y),options:{isWholeLine:!0,className:"conflict_separator",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(c,P,w),options:{isWholeLine:!0,overviewRuler:{color:"#2F7366",position:window.monaco.editor.OverviewRulerLane.Full},className:"conflict_incoming",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(c,R,H),options:{isWholeLine:!0,overviewRuler:{color:"#2F7366",position:window.monaco.editor.OverviewRulerLane.Full},after:{content:" (Incoming Change)",inlineClassName:"conflict_incoming-header-text"},className:"conflict_incoming-header",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]}),o=wt(t,c)}return n}getConflictRange(c,t,n){let o=1,i=1;for(let O=0;O<t;O++)i++,"\n"===c[O]&&(o++,i=1);let a=o,f=i;for(let O=t;O<n;O++)f++,"\n"===c[O]&&(a++,f=1);return new window.monaco.Range(o,i,a,f)}static{this.\u0275fac=function(t){return new(t||Tt)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(C.uw),e.Y36(G.yh),e.Y36(tn.m),e.Y36(Ct.Z),e.Y36(at.a),e.Y36(nn.S),e.Y36(on.Q),e.Y36(Ke))}}static{this.\u0275cmp=e.Xpm({type:Tt,selectors:[["app-merge-view-big-result"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Vi,7,ye.N7),e.Gf(Gi,7,ye.N7),e.Gf(Ji,7,ye.N7),e.Gf(Di,7,e.SBq),e.Gf(Qi,7,e.SBq),e.Gf(qi,7,e.SBq),e.Gf(ye.N7,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.baseScrollContainer=o.first),e.iGM(o=e.CRH())&&(n.yoursScrollContainer=o.first),e.iGM(o=e.CRH())&&(n.theirsScrollContainer=o.first),e.iGM(o=e.CRH())&&(n.baseCodeElement=o.first),e.iGM(o=e.CRH())&&(n.yoursCodeElement=o.first),e.iGM(o=e.CRH())&&(n.theirsCodeElement=o.first),e.iGM(o=e.CRH())&&(n.viewports=o)}},inputs:{patch:"patch"},outputs:{resolved:"resolved",closed:"closed"},features:[e.qOj],decls:60,vars:43,consts:[[4,"ngIf"],["vertical","","id","merge-view_vertical"],["id","merge-view_horizontal_triple"],[1,"base-grid-cell"],[1,"grid-cell-header"],[1,"viewport",3,"itemSize","minBufferPx","maxBufferPx"],["baseScrollContainer",""],["tabindex","0",1,"base-code"],["baseCode",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"yours-grid-cell",3,"sizeChanging"],["type","button","mat-button","","matTooltip","Resolve conflict using the changes in the 'current' commit",3,"click"],["yoursScrollContainer",""],["tabindex","1",1,"yours-code"],["yoursCode",""],[1,"theirs-grid-cell",3,"sizeChanging"],["type","button","mat-button","","matTooltip","Resolve conflict using the changes in the 'incoming' commit",3,"click"],["theirsScrollContainer",""],["tabindex","2",1,"theirs-code"],["theirsCode",""],[3,"sizeChanging"],[1,"merge-grid-cell"],["type","button","mat-button","","matTooltip","Resolve conflict using the contents displayed below",3,"click"],["type","button","mat-icon-button","","matTooltip","Previous Conflict",1,"app-icon-button-md",3,"click"],["type","button","mat-icon-button","","matTooltip","Next Conflict",1,"app-icon-button-md",3,"click"],["class","viewport",3,"options","original","modified","originalUri","modifiedUri","init",4,"ngIf"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[1,"selection"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"viewport",3,"options","original","modified","originalUri","modifiedUri","init"]],template:function(t,n){1&t&&(e.YNc(0,$i,2,0,"main",0),e.ALo(1,"async"),e.YNc(2,Yi,2,0,"main",0),e.ALo(3,"async"),e.YNc(4,Hi,2,0,"main",0),e.ALo(5,"async"),e.TgZ(6,"main"),e.ALo(7,"async"),e.TgZ(8,"app-grid",1)(9,"app-grid-cell")(10,"app-grid",2)(11,"app-grid-cell",3)(12,"div",4),e._uU(13," Base "),e.qZA(),e.TgZ(14,"cdk-virtual-scroll-viewport",5,6)(16,"code",7,8)(18,"ul"),e.YNc(19,Wi,4,8,"li",9),e.ALo(20,"async"),e.qZA()()()(),e.TgZ(21,"app-grid-cell",10),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(22,"div",4),e._uU(23," Current "),e.TgZ(24,"button",11),e.NdJ("click",function(){return n.resolveMerge("to")}),e._uU(25,"Resolve"),e.qZA()(),e.TgZ(26,"cdk-virtual-scroll-viewport",5,12)(28,"code",13,14)(30,"ul"),e.YNc(31,nr,4,8,"li",9),e.ALo(32,"async"),e.qZA()()()(),e.TgZ(33,"app-grid-cell",15),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(34,"div",4),e._uU(35," Incoming "),e.TgZ(36,"button",16),e.NdJ("click",function(){return n.resolveMerge("from")}),e._uU(37,"Resolve"),e.qZA()(),e.TgZ(38,"cdk-virtual-scroll-viewport",5,17)(40,"code",18,19)(42,"ul"),e.YNc(43,cr,4,8,"li",9),e.ALo(44,"async"),e.qZA()()()()()(),e.TgZ(45,"app-grid-cell",20),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(46,"app-grid")(47,"app-grid-cell",21)(48,"div",4),e._uU(49," Merged "),e.TgZ(50,"button",22),e.NdJ("click",function(){return n.resolveMerge("merge")}),e._uU(51,"Resolve"),e.qZA(),e.TgZ(52,"button",23),e.NdJ("click",function(){return n.jumpToPreviousConflict()}),e.TgZ(53,"mat-icon"),e._uU(54,"arrow_upward"),e.qZA()(),e.TgZ(55,"button",24),e.NdJ("click",function(){return n.jumpToNextConflict()}),e.TgZ(56,"mat-icon"),e._uU(57,"arrow_downward"),e.qZA()()(),e.YNc(58,ur,4,12,"ngx-monaco-diff-editor",25),e.ALo(59,"async"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf","loading"===e.lcZ(1,27,n.currentView)),e.xp6(2),e.Q6J("ngIf","binary-file"===e.lcZ(3,29,n.currentView)),e.xp6(2),e.Q6J("ngIf","error"===e.lcZ(5,31,n.currentView)),e.xp6(2),e.ekj("hidden","normal"!==e.lcZ(7,33,n.currentView)),e.xp6(8),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",200),e.xp6(4),e.Udp("margin-left",n.baseLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(20,35,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(7),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",300),e.xp6(4),e.Udp("margin-left",n.yoursLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(32,37,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(7),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",500),e.xp6(4),e.Udp("margin-left",n.theirsLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(44,39,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(15),e.Q6J("ngIf",e.lcZ(59,41,n.mergeText)))},dependencies:[re.lw,ye.xd,ye.x0,ye.N7,q.mk,q.sg,q.O5,Ve.lW,Ve.RK,je.Hw,We.gM,bt.Y,Mt.M,q.Ov,rn.U],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}main[_ngcontent-%COMP%]{flex:1 0 auto}main.hidden[_ngcontent-%COMP%]{opacity:0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none;color:#d4d4d4;font-family:Monaco,Menlo,Consolas,Droid Sans Mono,Inconsolata,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line{height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-void{background:#111}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-embedded, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .emphasis{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .strong{font-weight:700}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .header{color:navy}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-numeric, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-enummember, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .invalid{color:#f44747}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-value{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-vendored-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-less, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-expression, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-cast, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-sizeof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-typeid, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-alignas, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-instanceof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-logical-python, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-import-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-wildcard-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-handlebars, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-return-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-namespace, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-scope-resolution, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-numeric-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-byte-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-boolean-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-string-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-uintptr-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-error-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-rune-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-modifier-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-variable-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-token-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-cast-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-new-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-math, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-dom, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-json, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-delete, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-using, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-operator, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-definition-variable-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-property-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-font-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585;right:calc(100% + 26px)}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;background-color:#53789b!important;height:19px;opacity:.5}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]{display:block;height:calc(100% - 36px);overflow-x:hidden!important;overflow-y:hidden!important}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .char-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .char-insert{background-color:#1d572c}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .line-insert, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .inline-added-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .gutter-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .line-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .inline-added-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .gutter-insert{background-color:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .char-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .char-delete{background-color:#803030}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .line-delete, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .inline-deleted-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .gutter-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .line-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .inline-deleted-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .gutter-delete{background-color:#501515}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]{height:36px;line-height:36px;padding:0 10px;display:flex;align-items:center;gap:10px}main[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%;overflow-x:scroll}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%]{overflow:hidden}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%]{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px)}"],changeDetection:0})}}const sr=["baseScrollContainer"],dr=["yoursScrollContainer"],lr=["theirsScrollContainer"],gr=["baseCode"],mr=["yoursCode"],fr=["theirsCode"];function pr(r,c){1&r&&(e.TgZ(0,"main"),e._uU(1,"Loading..."),e.qZA())}function _r(r,c){1&r&&(e.TgZ(0,"main"),e._uU(1,"Cannot load binary file."),e.qZA())}function hr(r,c){1&r&&(e.TgZ(0,"main"),e._uU(1,"Cannot load file."),e.qZA())}function Cr(r,c){if(1&r&&e._UZ(0,"span",34),2&r){const t=c.ngIf;e.Udp("left",t.left)("width",t.width)}}function br(r,c){if(1&r&&(e.TgZ(0,"span",37),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function Mr(r,c){if(1&r&&(e.ynx(0),e.TgZ(1,"span",35),e._uU(2),e.qZA(),e.YNc(3,br,2,2,"span",36),e.ALo(4,"tokens"),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.baseLine?null:t.baseLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.baseLine?null:t.baseLine.tokens,t.baseLine.text))}}const Ut=function(r,c){return[r,c]};function Pr(r,c){if(1&r&&(e.TgZ(0,"li",32),e.YNc(1,Cr,1,4,"span",33),e.ALo(2,"async"),e.YNc(3,Mr,5,5,"ng-container",0),e.qZA()),2&r){const t=c.$implicit,n=c.index,o=e.oxw();e.Q6J("ngClass",e.WLB(5,Ut,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,o.getSelection(n,"base"))),e.xp6(2),e.Q6J("ngIf",t.baseLine)}}function Or(r,c){if(1&r&&e._UZ(0,"span",34),2&r){const t=c.ngIf;e.Udp("left",t.left)("width",t.width)}}function xr(r,c){if(1&r&&(e.TgZ(0,"span",37),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function vr(r,c){if(1&r&&(e.ynx(0),e.TgZ(1,"span",35),e._uU(2),e.qZA(),e.YNc(3,xr,2,2,"span",36),e.ALo(4,"tokens"),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.theirsLine?null:t.theirsLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.theirsLine?null:t.theirsLine.tokens,t.theirsLine.text))}}function yr(r,c){if(1&r&&(e.TgZ(0,"li",32),e.YNc(1,Or,1,4,"span",33),e.ALo(2,"async"),e.YNc(3,vr,5,5,"ng-container",0),e.qZA()),2&r){const t=c.$implicit,n=c.index,o=e.oxw();e.Q6J("ngClass",e.WLB(5,Ut,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,o.getSelection(n,"theirs"))),e.xp6(2),e.Q6J("ngIf",t.theirsLine)}}function wr(r,c){if(1&r&&e._UZ(0,"span",34),2&r){const t=c.ngIf;e.Udp("left",t.left)("width",t.width)}}function Tr(r,c){if(1&r&&(e.TgZ(0,"span",37),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function kr(r,c){if(1&r&&(e.ynx(0),e.TgZ(1,"span",35),e._uU(2),e.qZA(),e.YNc(3,Tr,2,2,"span",36),e.ALo(4,"tokens"),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.yoursLine?null:t.yoursLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.yoursLine?null:t.yoursLine.tokens,t.yoursLine.text))}}function Ar(r,c){if(1&r&&(e.TgZ(0,"li",32),e.YNc(1,wr,1,4,"span",33),e.ALo(2,"async"),e.YNc(3,kr,5,5,"ng-container",0),e.qZA()),2&r){const t=c.$implicit,n=c.index,o=e.oxw();e.Q6J("ngClass",e.WLB(5,Ut,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,o.getSelection(n,"yours"))),e.xp6(2),e.Q6J("ngIf",t.yoursLine)}}const Sr=function(){return{diffCodeLens:!0,readOnly:!1,renderSideBySide:!1,theme:"vs-dark",quickSuggestions:!1}};function Zr(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"ngx-monaco-diff-editor",38),e.NdJ("init",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.monacoInit(o))}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()}if(2&r){const t=c.ngIf,n=e.oxw();let o,i,a;e.Q6J("options",e.DdM(11,Sr))("original",null!==(o=e.lcZ(1,5,n.yoursText))&&void 0!==o?o:"Loading...")("modified",t)("originalUri",null!==(i=e.lcZ(2,7,n.yoursUri))&&void 0!==i?i:void 0)("modifiedUri",null!==(a=e.lcZ(3,9,n.mergeUri))&&void 0!==a?a:void 0)}}class kt extends((0,Be.j)(Fe.A,Pt.P)){constructor(c,t,n,o,i,a,f,O,k,p){super(),this.elementRef=c,this.zone=t,this.dialog=n,this.store=o,this.highlightApi=i,this.mergesApi=a,this.repositoriesApi=f,this.diffService=O,this.diffSelectionService=k,this.mergeActionsService=p,this.resolved=new e.vpe,this.closed=new e.vpe,this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$=new W.X([]),this.mergeText=new W.X("Loading..."),this.yoursText=new W.X("Loading..."),this.mergeUri=new W.X(void 0),this.yoursUri=new W.X(void 0),this.monacoEditor=new W.X(null),this.monacoDecorationIds=[],this.monacoCodeLensProviders=[],this.currentView=new W.X("loading"),this.conflicts=[],this.currentConflictIndex=-1,this.selectionPane=new W.X("base"),this.monacoInit=S=>{this.monacoEditor.next(S)},this.gridResized=()=>{this.baseScrollContainer?.checkViewportSize(),this.yoursScrollContainer?.checkViewportSize(),this.theirsScrollContainer?.checkViewportSize()},this.trackByMergeDiffLine=(S,Y)=>S,this.jumpToNextConflict=()=>{this.currentConflictIndex=this.currentConflictIndex+1<this.conflicts.length?this.currentConflictIndex+1:0,this.jumpToConflict()},this.jumpToPreviousConflict=()=>{this.currentConflictIndex=this.currentConflictIndex-1>=0?this.currentConflictIndex-1:this.conflicts.length-1,this.jumpToConflict()},this.getSelection=(S,Y)=>this.diffSelectionService.selectedRange.pipe((0,ot.M)(this.selectionPane),(0,ne.U)(([P,w])=>{if(!P||w!==Y)return null;const[R,H]=P[0].line>P[1].line||P[0].line===P[1].line&&P[0].char>P[1].char?[P[1],P[0]]:P;return S<R.line||S>H.line?null:S===R.line?{left:R.char*this.diffSelectionService.charWidth+"px",width:R.line===H.line?(H.char-R.char)*this.diffSelectionService.charWidth+"px":"100%"}:S===H.line?{left:"0px",width:H.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.destroyed$.subscribe(()=>{this.monacoCodeLensProviders.forEach(o=>{o.dispose()}),this.monacoCodeLensProviders=[]}),(0,we.a)([this.monacoEditor.pipe((0,Ze.h)(Te.$K)),this.mergeText]).pipe((0,z.R)(this.destroyed$)).subscribe(([o,i])=>{this.monacoCodeLensProviders.forEach(O=>{O.dispose()}),this.monacoCodeLensProviders=[];const a=o.getModifiedEditor(),f=window.monaco.languages;f.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,diagnosticCodesToIgnore:[1185]}),f.getLanguages().forEach(O=>{this.monacoCodeLensProviders.push(f.registerCodeLensProvider(O.id,{resolveCodeLens:(k,p,S)=>p,provideCodeLenses:(k,p)=>{this.conflicts=this.processConflicts(k.getValue());const S=a.getPosition();return this.currentConflictIndex=S?this.conflicts.findIndex(P=>P.range.startLineNumber<=S.lineNumber&&P.range.endLineNumber>=S.lineNumber):-1,this.monacoDecorationIds=a.deltaDecorations(this.monacoDecorationIds,this.conflicts.flatMap(P=>P.decorations))??[],{lenses:this.conflicts.flatMap(P=>[{range:new window.monaco.Range(P.range.startLineNumber,1,P.range.startLineNumber+1,1),command:{id:a.addCommand(0,()=>{o.getModel()?.modified.pushEditOperations([],[{range:P.range,text:P.ours}],()=>[])}),title:"Use Current"}},{range:new window.monaco.Range(P.range.startLineNumber,1,P.range.startLineNumber+1,1),command:{id:a.addCommand(0,()=>{o.getModel()?.modified.pushEditOperations([],[{range:P.range,text:P.theirs}],()=>[])}),title:"Use Incoming"}},{range:new window.monaco.Range(P.range.startLineNumber,1,P.range.startLineNumber+1,1),command:{id:a.addCommand(0,()=>{o.getModel()?.modified.pushEditOperations([],[{range:P.range,text:`${P.ours}\n${P.theirs}`}],()=>[])}),title:"Use Both"}}]),dispose:()=>{}}}}))})}),this.patch.pipe((0,$e.x)((o,i)=>{if(!o||!i)return!o&&!i;if(o.repositoryPath!==i.repositoryPath)return!1;const a=(k,p)=>k?.newFileId!==p?.newFileId||k?.newFileIsDir!==p?.newFileIsDir||k?.newFileIsSubmodule!==p?.newFileIsSubmodule||k?.newFilePath!==p?.newFilePath||k?.oldFileId!==p?.oldFileId||k?.oldFileIsDir!==p?.oldFileIsDir||k?.oldFileIsSubmodule!==p?.oldFileIsSubmodule||k?.oldFilePath!==p?.oldFilePath||k?.status!==p?.status||k?.hunks.length!==p?.hunks.length,f=["from","to","merge"];for(const k of f)if(a(o.patch[k],i.patch[k]))return!1;const O=(k,p)=>(0,Oe.Z)(k,p).some(([S,Y])=>S?.lines.length!==Y?.lines.length||S?.newStart!==Y?.newStart||S?.oldStart!==Y?.oldStart||S?.header!==Y?.header||S&&Y&&(0,Oe.Z)(S.lines,Y.lines).some(([P,w])=>P?.content.length!==w?.content.length||P?.contentOffset!==w?.contentOffset||P?.newLineNo!==w?.newLineNo||P?.oldLineNo!==w?.oldLineNo||P?.origin!==w?.origin||P?.content!==w?.content));for(const k of f){const p=o.patch[k],S=i.patch[k];if(p&&p.hunks&&S&&S.hunks&&O(p.hunks,S.hunks))return!1}return o.patch.mergeFile===i.patch.mergeFile}),(0,Pe.b)(()=>{this.currentView.next("loading")}),(0,Me.w)(o=>o?(0,Ie.D)(this.getLines(o)).pipe((0,z.R)(this.currentView.pipe((0,Xt.T)(1),(0,Ze.h)(i=>"loading"===i))),(0,ne.U)(i=>[o,...i]),(0,Ae.K)(i=>Se.OZ.matches(i)?(this.currentView.next("binary-file"),(0,K.of)(null)):Se.hK.matches(i)?(this.currentView.next("error"),(0,K.of)(null)):(0,ve._)(()=>i))):(0,K.of)(null)),(0,z.R)(this.destroyed$)).subscribe(o=>{if(o){const[i,a,f,O,k,p]=o;this.monacoEditor.pipe((0,Ze.h)(Te.$K),(0,oe.q)(1)).subscribe(()=>{this.mergeText.next(k??""),this.mergeUri.next(monaco.Uri.file(`/modified/${i.patch.merge?.newFilePath??"a.txt"}`)),this.yoursText.next(p??""),this.yoursUri.next(monaco.Uri.file(`/original/${i.patch.to?.newFilePath??"a.txt"}`))}),this.baseLineNumberMargin=this.diffService.calculateMargin(a?.length.toString().length??1,!0),this.yoursLineNumberMargin=this.diffService.calculateMargin(f?.length.toString().length??1,!0),this.theirsLineNumberMargin=this.diffService.calculateMargin(O?.length.toString().length??1,!0),this.diffService.calculateMergeLines(a??[],f??[],O??[],i.patch.to?.hunks??[],i.patch.from?.hunks??[]).pipe((0,z.R)(this.destroyed$)).subscribe(S=>{this.lines$.next(S)}),this.currentView.next("normal")}else this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$.next([]),this.mergeText.next("Error!"),this.mergeUri.next(void 0),this.yoursText.next("Error!"),this.yoursUri.next(void 0);this.baseScrollContainer?.scrollTo({top:0,left:0}),this.yoursScrollContainer?.scrollTo({top:0,left:0}),this.theirsScrollContainer?.scrollTo({top:0,left:0}),this.monacoEditor.value?.getModifiedEditor().setScrollTop(0),this.monacoEditor.value?.getModifiedEditor().setScrollLeft(0),setTimeout(()=>this.gridResized(),0)}),this.zone.runOutsideAngular(()=>{const o=[this.baseScrollContainer,this.yoursScrollContainer,this.theirsScrollContainer],i=[!1,!1,!1];o.forEach((O,k)=>{(0,ft.R)(O.elementRef.nativeElement,"wheel",{passive:!1}).pipe((0,z.R)(this.destroyed$)).subscribe(p=>{p.preventDefault();const S=O.measureScrollOffset("left")+p.deltaX,Y=O.measureScrollOffset("top")+p.deltaY;for(const P of o)P.scrollTo({left:S,top:Y})}),O.elementScrolled().pipe((0,Ze.h)(()=>i.every((p,S)=>!p||S===k)),(0,Pe.b)(()=>{i[k]=!0;const p=O.measureScrollOffset("left"),S=O.measureScrollOffset("top");o.forEach((Y,P)=>{P!==k&&Y.scrollTo({left:p,top:S})})}),(0,vt.b)(100),(0,z.R)(this.destroyed$)).subscribe(()=>{this.gridResized(),i[k]=!1})});const a=new Lt.x,f=new ResizeObserver(()=>a.next());f.observe(this.elementRef.nativeElement),this.destroyed$.subscribe(()=>f.disconnect()),a.pipe((0,De.p)(20,void 0,{leading:!0,trailing:!0}),(0,z.R)(this.destroyed$)).subscribe(()=>{this.gridResized()}),setTimeout(()=>{this.gridResized()},100)});const c=this.baseScrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.baseCodeElement.nativeElement,(o,i)=>({line:Math.floor((c.scrollTop+i-c.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((c.scrollLeft+o-c.getBoundingClientRect().left-(this.baseLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(o,i)=>this.lines$.value.filter((a,f)=>f>=o&&f<=i).map(a=>a.baseLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1].baseLine?.text.length??0}),([o,i])=>(0,ct.Z)(o.line,i.line+1).map(a=>({oldLineNo:this.lines$.value[a]?.baseLine?.lineNumber??-1,newLineNo:this.lines$.value[a]?.baseLine?.lineNumber??-1}))).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.selectionPane.next("base")});const t=this.yoursScrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.yoursCodeElement.nativeElement,(o,i)=>({line:Math.floor((t.scrollTop+i-t.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((t.scrollLeft+o-t.getBoundingClientRect().left-(this.yoursLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(o,i)=>this.lines$.value.filter((a,f)=>f>=o&&f<=i).map(a=>a.yoursLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1].yoursLine?.text.length??0}),([o,i])=>(0,ct.Z)(o.line,i.line+1).map(a=>({oldLineNo:this.lines$.value[a]?.yoursLine?.lineNumber??-1,newLineNo:this.lines$.value[a]?.yoursLine?.lineNumber??-1}))).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.selectionPane.next("yours")});const n=this.theirsScrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.theirsCodeElement.nativeElement,(o,i)=>({line:Math.floor((n.scrollTop+i-n.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((n.scrollLeft+o-n.getBoundingClientRect().left-(this.theirsLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(o,i)=>this.lines$.value.filter((a,f)=>f>=o&&f<=i).map(a=>a.theirsLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1].theirsLine?.text.length??0}),([o,i])=>(0,ct.Z)(o.line,i.line+1).map(a=>({oldLineNo:this.lines$.value[a]?.theirsLine?.lineNumber??-1,newLineNo:this.lines$.value[a]?.theirsLine?.lineNumber??-1}))).pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.selectionPane.next("theirs")})}resolveMerge(c){this.patch.pipe((0,oe.q)(1)).subscribe(t=>{const n=t?.repositoryPath;if(!n)throw new Error("Cannot update merge if no repository is selected");let o;switch(c){case"from":o=t.patch.from?.newFileId?this.repositoriesApi.getFile(n,t.patch.from?.newFileId):(0,K.of)(null);break;case"to":o=t.patch.to?.newFileId?this.repositoriesApi.getFile(n,t.patch.to?.newFileId):(0,K.of)(null);break;case"merge":o=this.conflicts.length>0?this.dialog.open(_t).afterClosed().pipe((0,Me.w)(a=>a?(0,K.of)(this.monacoEditor.value?.getModifiedEditor().getValue()??null):Ot.E)):(0,K.of)(this.monacoEditor.value?.getModifiedEditor().getValue()??null);break;default:throw new Error(`Unrecognized value ${c}`)}o.subscribe(i=>{this.resolved.next(i)})})}jumpToConflict(){const c=this.conflicts[this.currentConflictIndex];this.monacoEditor.value?.revealRangeAtTop(c.range);const t=c.theirs.split("\n"),n=c.ours.split("\n"),o=Math.max(t.length,n.length),i=this.lines$.value,a=f=>{if(f+o>i.length)return!1;const O=i.slice(f).map(p=>p.theirsLine?.text).filter(Te.$K);for(let p=0;p<t.length;p++)if(O[p]!==t[p])return!1;const k=i.slice(f).map(p=>p.yoursLine?.text).filter(Te.$K);for(let p=0;p<n.length;p++)if(k[p]!==n[p])return!1;return!0};for(let f=0;f<i.length;f++)if(a(f)){this.baseScrollContainer?.scrollToIndex(f);break}}getLines(c){const t=c.repositoryPath;let n=null,o=null,i=null,a=null,f=null;const O=c.patch.to;if(O)if(O.oldFileIsSubmodule||O.newFileIsSubmodule){const p=O.hunks[0].lines.find(Y=>Y.oldLineNo>0),S=O.hunks[0].lines.find(Y=>Y.newLineNo>0);n=(0,K.of)([{lineNumber:1,text:p?.content??"",tokens:[{startIndex:0,endIndex:p?.content.length??0,scopes:["normal"]}]}]),o=(0,K.of)([{lineNumber:1,text:S?.content??"",tokens:[{startIndex:0,endIndex:S?.content.length??0,scopes:["normal"]}]}])}else n=O.oldFileId?this.highlightApi.getHighlightedFile(t,O.oldFileId,O.oldFilePath,!0):null,o=O.newFileId?this.highlightApi.getHighlightedFile(t,O.newFileId,O.newFilePath,!0):null;const k=c.patch.from;if(k)if(k.oldFileIsSubmodule||k.newFileIsSubmodule){if(!n){const S=k.hunks[0].lines.find(Y=>Y.oldLineNo>0);n=(0,K.of)([{lineNumber:1,text:S?.content??"",tokens:[{startIndex:0,endIndex:S?.content.length??0,scopes:["normal"]}]}])}const p=k.hunks[0].lines.find(S=>S.newLineNo>0);i=(0,K.of)([{lineNumber:1,text:p?.content??"",tokens:[{startIndex:0,endIndex:p?.content.length??0,scopes:["normal"]}]}])}else n=n??(k.oldFileId?this.highlightApi.getHighlightedFile(t,k.oldFileId,k.oldFilePath,!0):null),i=k.newFileId?this.highlightApi.getHighlightedFile(t,k.newFileId,k.newFilePath,!0):null;if(c.patch.mergeFile)a=(0,K.of)(c.patch.mergeFile);else{const p=c.patch.merge;p&&(p.oldFileIsSubmodule||p.newFileIsSubmodule?a=(0,K.of)(p.hunks[0].lines.find(S=>S.newLineNo>0)?.content??""):p.newFileId?a=this.repositoriesApi.getFile(t,p.newFileId):p.newFilePath&&(a=this.mergesApi.getMergeFile(t,c.fromCommitId,c.toCommitId,p.newFilePath)))}return O&&(f=O.oldFileIsSubmodule||O.newFileIsSubmodule?(0,K.of)(O.hunks[0].lines.find(p=>p.newLineNo>0)?.content??""):O.newFileId?this.repositoriesApi.getFile(t,O.newFileId):null),[n??(0,K.of)(null),o??(0,K.of)(null),i??(0,K.of)(null),a??(0,K.of)(null),f??(0,K.of)(null)]}processConflicts(c){const t=new RegExp(en,"gm"),n=[];let o=wt(t,c);for(;o;){const[i,a]=o.indices[0],[f,O]=o.indices[1],[k,p]=o.indices[2]??[o.indices[1][1],o.indices[1][1]],[S,Y]=o.indices[3],[P,w]=o.indices[4]??[o.indices[5][0],o.indices[5][0]],[R,H]=o.indices[5];n.push({range:this.getConflictRange(c,i,a),ours:c.substring(k,p),theirs:c.substring(P,w),decorations:[{range:this.getConflictRange(c,f,O),options:{isWholeLine:!0,overviewRuler:{color:"#2F628E",position:window.monaco.editor.OverviewRulerLane.Full},after:{content:" (Current Change)",inlineClassName:"conflict_current-header-text"},className:"conflict_current-header",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(c,k,p),options:{isWholeLine:!0,overviewRuler:{color:"#2F628E",position:window.monaco.editor.OverviewRulerLane.Full},className:"conflict_current",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(c,S,Y),options:{isWholeLine:!0,className:"conflict_separator",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(c,P,w),options:{isWholeLine:!0,overviewRuler:{color:"#2F7366",position:window.monaco.editor.OverviewRulerLane.Full},className:"conflict_incoming",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(c,R,H),options:{isWholeLine:!0,overviewRuler:{color:"#2F7366",position:window.monaco.editor.OverviewRulerLane.Full},after:{content:" (Incoming Change)",inlineClassName:"conflict_incoming-header-text"},className:"conflict_incoming-header",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]}),o=wt(t,c)}return n}getConflictRange(c,t,n){let o=1,i=1;for(let O=0;O<t;O++)i++,"\n"===c[O]&&(o++,i=1);let a=o,f=i;for(let O=t;O<n;O++)f++,"\n"===c[O]&&(a++,f=1);return new window.monaco.Range(o,i,a,f)}static{this.\u0275fac=function(t){return new(t||kt)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(C.uw),e.Y36(G.yh),e.Y36(tn.m),e.Y36(Ct.Z),e.Y36(at.a),e.Y36(nn.S),e.Y36(on.Q),e.Y36(Ke))}}static{this.\u0275cmp=e.Xpm({type:kt,selectors:[["app-merge-view-even-quad"]],viewQuery:function(t,n){if(1&t&&(e.Gf(sr,7,ye.N7),e.Gf(dr,7,ye.N7),e.Gf(lr,7,ye.N7),e.Gf(gr,7,e.SBq),e.Gf(mr,7,e.SBq),e.Gf(fr,7,e.SBq),e.Gf(ye.N7,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.baseScrollContainer=o.first),e.iGM(o=e.CRH())&&(n.yoursScrollContainer=o.first),e.iGM(o=e.CRH())&&(n.theirsScrollContainer=o.first),e.iGM(o=e.CRH())&&(n.baseCodeElement=o.first),e.iGM(o=e.CRH())&&(n.yoursCodeElement=o.first),e.iGM(o=e.CRH())&&(n.theirsCodeElement=o.first),e.iGM(o=e.CRH())&&(n.viewports=o)}},inputs:{patch:"patch"},outputs:{resolved:"resolved",closed:"closed"},features:[e.qOj],decls:70,vars:45,consts:[[4,"ngIf"],["vertical","","id","merge-view_vertical"],["id","merge-view_horizontal",1,"horizontal-grid"],[1,"base-grid-cell"],[1,"grid-cell-header"],[1,"viewport",3,"itemSize","minBufferPx","maxBufferPx"],["baseScrollContainer",""],["tabindex","0",1,"base-code"],["baseCode",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"arrow-forward-top"],[1,"arrow-downward-left"],[1,"theirs-grid-cell",3,"linked","sizeChanging"],["theirsCell",""],["type","button","mat-button","","matTooltip","Resolve conflict using the changes in the 'incoming' commit",3,"click"],["theirsScrollContainer",""],["tabindex","1",1,"theirs-code"],["theirsCode",""],[1,"arrow-downward-right"],[3,"sizeChanging"],[1,"yours-grid-cell"],["type","button","mat-button","","matTooltip","Resolve conflict using the changes in the 'current' commit",3,"click"],["yoursScrollContainer",""],["tabindex","2",1,"yours-code"],["yoursCode",""],[1,"arrow-forward-bottom"],[1,"merge-grid-cell",3,"linked","sizeChanging"],["mergeCell",""],["type","button","mat-button","","matTooltip","Resolve conflict using the contents displayed below",3,"click"],["type","button","mat-icon-button","","matTooltip","Previous Conflict",1,"app-icon-button-md",3,"click"],["type","button","mat-icon-button","","matTooltip","Next Conflict",1,"app-icon-button-md",3,"click"],["class","viewport",3,"options","original","modified","originalUri","modifiedUri","init",4,"ngIf"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[1,"selection"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"viewport",3,"options","original","modified","originalUri","modifiedUri","init"]],template:function(t,n){if(1&t&&(e.YNc(0,pr,2,0,"main",0),e.ALo(1,"async"),e.YNc(2,_r,2,0,"main",0),e.ALo(3,"async"),e.YNc(4,hr,2,0,"main",0),e.ALo(5,"async"),e.TgZ(6,"main"),e.ALo(7,"async"),e.TgZ(8,"app-grid",1)(9,"app-grid-cell")(10,"app-grid",2)(11,"app-grid-cell",3)(12,"div",4),e._uU(13," Base "),e.qZA(),e.TgZ(14,"cdk-virtual-scroll-viewport",5,6)(16,"code",7,8)(18,"ul"),e.YNc(19,Pr,4,8,"li",9),e.ALo(20,"async"),e.qZA()()(),e.TgZ(21,"mat-icon",10),e._uU(22,"arrow_forward"),e.qZA(),e.TgZ(23,"mat-icon",11),e._uU(24,"arrow_downward"),e.qZA()(),e.TgZ(25,"app-grid-cell",12,13),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(27,"div",4),e._uU(28," Incoming "),e.TgZ(29,"button",14),e.NdJ("click",function(){return n.resolveMerge("from")}),e._uU(30,"Resolve"),e.qZA()(),e.TgZ(31,"cdk-virtual-scroll-viewport",5,15)(33,"code",16,17)(35,"ul"),e.YNc(36,yr,4,8,"li",9),e.ALo(37,"async"),e.qZA()()(),e.TgZ(38,"mat-icon",18),e._uU(39,"arrow_downward"),e.qZA()()()(),e.TgZ(40,"app-grid-cell",19),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(41,"app-grid",2)(42,"app-grid-cell",20)(43,"div",4),e._uU(44," Current "),e.TgZ(45,"button",21),e.NdJ("click",function(){return n.resolveMerge("to")}),e._uU(46,"Resolve"),e.qZA()(),e.TgZ(47,"cdk-virtual-scroll-viewport",5,22)(49,"code",23,24)(51,"ul"),e.YNc(52,Ar,4,8,"li",9),e.ALo(53,"async"),e.qZA()()(),e.TgZ(54,"mat-icon",25),e._uU(55,"arrow_forward"),e.qZA()(),e.TgZ(56,"app-grid-cell",26,27),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(58,"div",4),e._uU(59," Merged "),e.TgZ(60,"button",28),e.NdJ("click",function(){return n.resolveMerge("merge")}),e._uU(61,"Resolve"),e.qZA(),e.TgZ(62,"button",29),e.NdJ("click",function(){return n.jumpToPreviousConflict()}),e.TgZ(63,"mat-icon"),e._uU(64,"arrow_upward"),e.qZA()(),e.TgZ(65,"button",30),e.NdJ("click",function(){return n.jumpToNextConflict()}),e.TgZ(66,"mat-icon"),e._uU(67,"arrow_downward"),e.qZA()()(),e.YNc(68,Zr,4,12,"ngx-monaco-diff-editor",31),e.ALo(69,"async"),e.qZA()()()()()),2&t){const o=e.MAs(26),i=e.MAs(57);e.Q6J("ngIf","loading"===e.lcZ(1,29,n.currentView)),e.xp6(2),e.Q6J("ngIf","binary-file"===e.lcZ(3,31,n.currentView)),e.xp6(2),e.Q6J("ngIf","error"===e.lcZ(5,33,n.currentView)),e.xp6(2),e.ekj("hidden","normal"!==e.lcZ(7,35,n.currentView)),e.xp6(8),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",200),e.xp6(4),e.Udp("margin-left",n.baseLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(20,37,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(6),e.Q6J("linked",i),e.xp6(6),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",300),e.xp6(4),e.Udp("margin-left",n.theirsLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(37,39,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(11),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",500),e.xp6(4),e.Udp("margin-left",n.yoursLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(53,41,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(4),e.Q6J("linked",o),e.xp6(12),e.Q6J("ngIf",e.lcZ(69,43,n.mergeText))}},dependencies:[re.lw,ye.xd,ye.x0,ye.N7,q.mk,q.sg,q.O5,Ve.lW,Ve.RK,je.Hw,We.gM,bt.Y,Mt.M,q.Ov,rn.U],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}main[_ngcontent-%COMP%]{flex:1 0 auto}main.hidden[_ngcontent-%COMP%]{opacity:0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none;color:#d4d4d4;font-family:Monaco,Menlo,Consolas,Droid Sans Mono,Inconsolata,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line{height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-void{background:#111}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-embedded, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .emphasis{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .strong{font-weight:700}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .header{color:navy}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-numeric, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-enummember, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .invalid{color:#f44747}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-value{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-vendored-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-less, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-expression, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-cast, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-sizeof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-typeid, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-alignas, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-instanceof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-logical-python, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-import-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-wildcard-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-handlebars, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-return-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-namespace, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-scope-resolution, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-numeric-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-byte-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-boolean-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-string-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-uintptr-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-error-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-rune-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-modifier-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-variable-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-token-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-cast-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-new-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-math, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-dom, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-json, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-delete, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-using, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-operator, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-definition-variable-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-property-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-font-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585;right:calc(100% + 26px)}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;background-color:#53789b!important;height:19px;opacity:.5}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]{display:block;height:calc(100% - 36px);overflow-x:hidden!important;overflow-y:hidden!important}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .char-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .char-insert{background-color:#1d572c}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .line-insert, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .inline-added-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .gutter-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .line-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .inline-added-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .gutter-insert{background-color:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .char-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .char-delete{background-color:#803030}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .line-delete, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .inline-deleted-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .gutter-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .line-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .inline-deleted-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .gutter-delete{background-color:#501515}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]{height:36px;line-height:36px;padding:0 10px;display:flex;align-items:center;gap:10px}main[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%;overflow-x:scroll}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%]{overflow:hidden}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%]{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px)}","main[_ngcontent-%COMP%]   .horizontal-grid[_ngcontent-%COMP%]{overflow:visible!important}main[_ngcontent-%COMP%]   .arrow-forward-top[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-forward-bottom[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-downward-left[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-downward-right[_ngcontent-%COMP%]{color:#333}main[_ngcontent-%COMP%]   .arrow-forward-top[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:-12px}main[_ngcontent-%COMP%]   .arrow-forward-bottom[_ngcontent-%COMP%]{position:absolute;top:10px;right:-12px}main[_ngcontent-%COMP%]   .arrow-downward-left[_ngcontent-%COMP%]{position:absolute;bottom:-12px;right:10px}main[_ngcontent-%COMP%]   .arrow-downward-right[_ngcontent-%COMP%]{position:absolute;bottom:-12px;left:10px}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-bottom:12px}main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-top:12px}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-right:12px}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-left:12px}"],changeDetection:0})}}function Rr(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-merge-view-even-quad",7),e.NdJ("resolved",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.resolved(o))})("closed",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.closed.next())}),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("patch",t.patch)}}function Er(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-merge-view-big-result",7),e.NdJ("resolved",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.resolved(o))})("closed",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.closed.next())}),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("patch",t.patch)}}function Nr(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"header")(2,"h4"),e._uU(3,"Editing "),e._UZ(4,"app-condensed-path",1),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"div",2)(7,"mat-button-toggle-group",3),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeView(o.value))}),e.ALo(8,"async"),e.TgZ(9,"mat-button-toggle",4)(10,"mat-icon"),e._uU(11,"view_quilt"),e.qZA()(),e.TgZ(12,"mat-button-toggle",5)(13,"mat-icon"),e._uU(14,"grid_view"),e.qZA()()(),e.TgZ(15,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closed.next())}),e.TgZ(16,"mat-icon"),e._uU(17,"close"),e.qZA()()()(),e.YNc(18,Rr,2,1,"ng-container",0),e.ALo(19,"async"),e.YNc(20,Er,2,1,"ng-container",0),e.ALo(21,"async"),e.BQk()}if(2&r){const t=e.oxw();let n;e.xp6(4),e.Q6J("path",null!==(n=null==(n=e.lcZ(5,4,t.patch))||null==n.patch||null==n.patch.merge?null:n.patch.merge.newFilePath)&&void 0!==n?n:null),e.xp6(3),e.Q6J("value",e.lcZ(8,6,t.mergeView)),e.xp6(11),e.Q6J("ngIf","even-quad"===e.lcZ(19,8,t.mergeView)),e.xp6(2),e.Q6J("ngIf","big-result"===e.lcZ(21,10,t.mergeView))}}function Ir(r,c){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-diff-view",8),e.NdJ("closed",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closed.next())})("edited",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editManually.next(!0))}),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("patch",t.diffPatch)("showEdit",!0)}}let Lr=(()=>{class r extends((0,Be.j)(Fe.A)){constructor(t,n){super(),this.store=t,this.mergeActionsService=n,this.closed=new e.vpe,this.editManually=new W.X(!1)}ngOnInit(){this.isPatchEditing=(0,we.a)([this.editManually,this.patch]).pipe((0,ne.U)(([t,n])=>t||n?.patch.merge?.status===Ue.v.Conflicted||!!n?.patch.mergeFile)),this.diffPatch=this.patch.pipe((0,ne.U)(t=>t?.patch.merge?{repositoryPath:t.repositoryPath,patch:t.patch.merge,isUnstaged:!1}:null))}changeView(t){this.store.dispatch(new Wt.QW(t))}resolved(t){this.patch.pipe((0,oe.q)(1)).subscribe(n=>{const o=n?.repositoryPath;if(!o)throw new Error("Cannot update merge if no repository is selected");const i=n.patch.merge?.newFilePath??n.patch.to?.newFilePath;if(!i)throw new Error("Couldn't find file path");const a=this.store.selectSnapshot(I.E.selectedCommitId);this.mergeActionsService.updateMerge(o,n.fromCommitId,n.toCommitId,i,t??"","head"===a).subscribe(()=>{this.closed.next()})})}static{this.\u0275fac=function(n){return new(n||r)(e.Y36(G.yh),e.Y36(Ke))}}static{this.\u0275cmp=e.Xpm({type:r,selectors:[["app-merge-view"]],inputs:{patch:"patch"},outputs:{closed:"closed"},features:[e.qOj],decls:4,vars:6,consts:[[4,"ngIf"],[3,"path"],[1,"icons"],[3,"value","change"],["value","big-result","matTooltip","Triple stack View"],["value","even-quad","matTooltip","Quad View"],["type","button","mat-icon-button","",1,"close-button","app-icon-button-md",3,"click"],[3,"patch","resolved","closed"],[3,"patch","showEdit","closed","edited"]],template:function(n,o){1&n&&(e.YNc(0,Nr,22,12,"ng-container",0),e.ALo(1,"async"),e.YNc(2,Ir,2,2,"ng-container",0),e.ALo(3,"async")),2&n&&(e.Q6J("ngIf",e.lcZ(1,2,o.isPatchEditing)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(3,4,o.isPatchEditing)))},dependencies:[X.A9,X.Yi,q.O5,Ve.RK,je.Hw,We.gM,Dt.j,$t.s,Tt,kt,q.Ov],styles:["[_nghost-%COMP%]{position:absolute;display:flex;flex-direction:column;height:100%;width:100%;background:#1e1e1e}header[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;justify-content:space-between;padding:5px 0}header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;line-height:45px;flex:1 1 auto;display:flex;gap:5px}header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   app-condensed-path[_ngcontent-%COMP%]{flex:1 1 auto;font-weight:700}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{margin-right:10px}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{line-height:38px;font-size:0}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{padding:0 6px;line-height:36px}"],changeDetection:0})}}return(0,B.gn)([(0,G.Ph)(Re.$.mergeView)],r.prototype,"mergeView",void 0),r})();var Fr=s(9160),Ur=s(4850),Br=s(5773),Vr=s(1815);function Gr(r,c){1&r&&(e.TgZ(0,"mat-icon",34),e._uU(1,"undo"),e.qZA())}function Jr(r,c){1&r&&e._UZ(0,"mat-spinner",35)}function Dr(r,c){1&r&&(e.TgZ(0,"mat-icon",36),e._uU(1,"redo"),e.qZA())}function Qr(r,c){1&r&&e._UZ(0,"mat-spinner",35)}function qr(r,c){1&r&&(e.TgZ(0,"mat-icon",37),e._uU(1,"autorenew"),e.qZA())}function $r(r,c){1&r&&e._UZ(0,"mat-spinner",35)}function Yr(r,c){1&r&&(e.TgZ(0,"mat-icon",38),e._uU(1,"arrow_downward"),e.qZA())}function Hr(r,c){1&r&&e._UZ(0,"mat-spinner",35)}function jr(r,c){1&r&&(e.TgZ(0,"mat-icon",39),e._uU(1,"arrow_upward"),e.qZA())}function zr(r,c){1&r&&e._UZ(0,"mat-spinner",35)}function Kr(r,c){if(1&r&&(e.TgZ(0,"mat-radio-button",51),e._uU(1),e.qZA()),2&r){const t=c.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(t.name)}}function Wr(r,c){if(1&r&&(e.TgZ(0,"div",49)(1,"mat-radio-group",50)(2,"mat-radio-button",51),e._uU(3,"All remotes"),e.qZA(),e.YNc(4,Kr,2,2,"mat-radio-button",52),e.qZA()()),2&r){const t=e.oxw(2).ngIf,n=e.oxw();e.xp6(1),e.Q6J("formControl",n.selectedRemoteControl),e.xp6(1),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t)}}function Xr(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",40),e.YNc(1,Wr,5,3,"div",41),e.TgZ(2,"div",42)(3,"button",43,44),e.NdJ("click",function(o){e.CHM(t);const i=e.MAs(4);e.oxw();const a=e.MAs(53),f=e.oxw();return e.KtG(f.openSubMenu(o,i,a))}),e._UZ(5,"mat-icon",25),e.TgZ(6,"span"),e._uU(7,"Push branch"),e.qZA(),e.TgZ(8,"mat-icon",45),e._uU(9,"chevron_right"),e.qZA()(),e.TgZ(10,"button",43,46),e.NdJ("click",function(o){e.CHM(t);const i=e.MAs(11);e.oxw();const a=e.MAs(55),f=e.oxw();return e.KtG(f.openSubMenu(o,i,a))}),e.TgZ(12,"mat-icon"),e._uU(13,"label"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Push tag"),e.qZA(),e.TgZ(16,"mat-icon",45),e._uU(17,"chevron_right"),e.qZA()(),e.TgZ(18,"button",47,48),e.NdJ("click",function(o){e.CHM(t);const i=e.MAs(19);e.oxw();const a=e.MAs(57),f=e.oxw();return e.KtG(f.openSubMenu(o,i,a))}),e.TgZ(20,"mat-icon"),e._uU(21,"warning_amber"),e.qZA(),e.TgZ(22,"span"),e._uU(23,"Force push"),e.qZA(),e.TgZ(24,"mat-icon",45),e._uU(25,"chevron_right"),e.qZA()()()()}if(2&r){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function ec(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.pushReference(i.name))}),e._uU(1),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(3);let o;e.Q6J("matTooltip",null!==(o=n.getBranchName(t.name))&&void 0!==o?o:""),e.xp6(1),e.Oqu(n.getBranchName(t.name))}}function tc(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",53)(1,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.pushAllBranches())}),e._uU(2,"All"),e.qZA(),e.YNc(3,ec,2,2,"button",55),e.ALo(4,"async"),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.pushableBranches))}}function nc(r,c){1&r&&(e.TgZ(0,"div"),e._UZ(1,"mat-spinner",35),e.qZA()),2&r&&e.Udp("padding","12px 16px")}function oc(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.pushReference(i))}),e._uU(1),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(3);let o;e.Q6J("matTooltip",null!==(o=n.getTagName(t))&&void 0!==o?o:""),e.xp6(1),e.Oqu(n.getTagName(t))}}function ic(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",57)(1,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.pushAllTags())}),e._uU(2,"All"),e.qZA(),e.YNc(3,nc,2,2,"div",59),e.ALo(4,"async"),e.YNc(5,oc,2,2,"button",55),e.ALo(6,"async"),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,t.isLoadingTags)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,4,t.pushableTags))}}function rc(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.pushReference(i.name,!0))}),e._UZ(1,"mat-icon",25),e._uU(2),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(3);e.xp6(2),e.Oqu(n.getBranchName(t.name))}}function cc(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.pushReference(i,!0))}),e.TgZ(1,"mat-icon"),e._uU(2,"label"),e.qZA(),e._uU(3),e.qZA()}if(2&r){const t=c.$implicit,n=e.oxw(3);e.xp6(3),e.Oqu(n.getTagName(t))}}function ac(r,c){if(1&r&&(e.TgZ(0,"div",60),e.YNc(1,rc,3,1,"button",61),e.ALo(2,"async"),e.YNc(3,cc,4,1,"button",61),e.ALo(4,"async"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,t.pushableBranches)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,4,t.pushableTags))}}function uc(r,c){1&r&&e._UZ(0,"mat-spinner",35)}function sc(r,c){1&r&&(e.TgZ(0,"mat-icon",63),e._uU(1,"create"),e.qZA())}function dc(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.undoMostRecentAction())}),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.YNc(5,Gr,2,0,"mat-icon",7),e.ALo(6,"async"),e.YNc(7,Jr,1,0,"mat-spinner",8),e.ALo(8,"async"),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.redoMostRecentAction())}),e.ALo(10,"async"),e.ALo(11,"async"),e.ALo(12,"async"),e.YNc(13,Dr,2,0,"mat-icon",9),e.ALo(14,"async"),e.YNc(15,Qr,1,0,"mat-spinner",8),e.ALo(16,"async"),e.qZA(),e._UZ(17,"mat-divider",10),e.TgZ(18,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.fetchFromRemote())}),e.ALo(19,"async"),e.ALo(20,"plural"),e.YNc(21,qr,2,0,"mat-icon",11),e.ALo(22,"async"),e.YNc(23,$r,1,0,"mat-spinner",8),e.ALo(24,"async"),e.qZA(),e.TgZ(25,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.pullFromRemote())}),e.ALo(26,"async"),e.ALo(27,"async"),e.ALo(28,"async"),e.ALo(29,"async"),e.ALo(30,"async"),e.ALo(31,"async"),e.YNc(32,Yr,2,0,"mat-icon",12),e.ALo(33,"async"),e.YNc(34,Hr,1,0,"mat-spinner",8),e.ALo(35,"async"),e.qZA(),e.TgZ(36,"div",13)(37,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.pushCurrentBranch())}),e.ALo(38,"async"),e.ALo(39,"async"),e.ALo(40,"async"),e.YNc(41,jr,2,0,"mat-icon",15),e.ALo(42,"async"),e.YNc(43,zr,1,0,"mat-spinner",8),e.ALo(44,"async"),e.qZA(),e.TgZ(45,"button",16,17),e.NdJ("click",function(o){e.CHM(t);const i=e.MAs(46),a=e.MAs(51),f=e.oxw();return e.KtG(f.openMenu(o,i,a))}),e.ALo(47,"async"),e.TgZ(48,"mat-icon"),e._uU(49,"keyboard_arrow_down"),e.qZA()()(),e.YNc(50,Xr,26,1,"ng-template",null,18,e.W1O),e.YNc(52,tc,5,3,"ng-template",null,19,e.W1O),e.YNc(54,ic,7,6,"ng-template",null,20,e.W1O),e.YNc(56,ac,5,6,"ng-template",null,21,e.W1O),e._UZ(58,"mat-divider",10),e.TgZ(59,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openTagDialog())}),e.ALo(60,"async"),e.ALo(61,"async"),e.TgZ(62,"mat-icon",23),e._uU(63,"label"),e.qZA()(),e.TgZ(64,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openBranchDialog())}),e._UZ(65,"mat-icon",25),e.qZA(),e.TgZ(66,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.stashChanges())}),e.ALo(67,"async"),e.TgZ(68,"mat-icon",27),e._uU(69,"archive"),e.qZA()(),e.TgZ(70,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editCommits())}),e.ALo(71,"async"),e.ALo(72,"async"),e.ALo(73,"async"),e.YNc(74,uc,1,0,"mat-spinner",8),e.ALo(75,"async"),e.YNc(76,sc,2,0,"mat-icon",29),e.ALo(77,"async"),e.qZA(),e.TgZ(78,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openSearch())}),e.TgZ(79,"mat-icon",31),e._uU(80,"search"),e.qZA()(),e.TgZ(81,"button",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openSettings())}),e.TgZ(82,"mat-icon",33),e._uU(83,"miscellaneous_services"),e.qZA()()()}if(2&r){const t=c.ngIf,n=e.oxw();e.xp6(1),e.Q6J("disabled",null===e.lcZ(2,28,n.mostRecentAction)||e.lcZ(3,30,n.performingAction))("matTooltip",n.formatRecentActionTooltip("undo",e.lcZ(4,32,n.mostRecentAction))),e.xp6(4),e.Q6J("ngIf","undo"!==e.lcZ(6,34,n.performingAction)),e.xp6(2),e.Q6J("ngIf","undo"===e.lcZ(8,36,n.performingAction)),e.xp6(2),e.Q6J("disabled",null===e.lcZ(10,38,n.mostRecentUndoneAction)||e.lcZ(11,40,n.performingAction))("matTooltip",n.formatRecentActionTooltip("redo",e.lcZ(12,42,n.mostRecentUndoneAction))),e.xp6(4),e.Q6J("ngIf","redo"!==e.lcZ(14,44,n.performingAction)),e.xp6(2),e.Q6J("ngIf","redo"===e.lcZ(16,46,n.performingAction)),e.xp6(3),e.Q6J("disabled",t.length<=0||e.lcZ(19,48,n.isLoading))("matTooltip",t.length<=0?"Cannot fetch when no remote is configured":e.xi3(20,50,"Fetch from remote",t.length)),e.xp6(3),e.Q6J("ngIf","fetch"!==e.lcZ(22,53,n.isLoading)),e.xp6(2),e.Q6J("ngIf","fetch"===e.lcZ(24,55,n.isLoading)),e.xp6(2),e.Q6J("disabled",t.length<=0||e.lcZ(26,57,n.isLoading)||null===e.lcZ(27,59,n.currentUpstreamBranch))("matTooltip",t.length<=0?"Cannot pull when no remote is configured":null===e.lcZ(28,61,n.currentUpstreamBranch)?"Cannot pull when no upstream branch is configured for "+n.getBranchName(e.lcZ(29,63,n.currentBranch)):"Pull branch "+(n.getBranchName(e.lcZ(30,65,n.currentBranch))||"?")+" from "+n.getRemoteBranchName(e.lcZ(31,67,n.currentUpstreamBranch))),e.xp6(7),e.Q6J("ngIf","pull"!==e.lcZ(33,69,n.isLoading)),e.xp6(2),e.Q6J("ngIf","pull"===e.lcZ(35,71,n.isLoading)),e.xp6(3),e.Q6J("disabled",t.length<=0||e.lcZ(38,73,n.isLoading))("matTooltip",t.length<=0?"Cannot push when no remote is configured":"Push "+(n.getBranchName(e.lcZ(39,75,n.currentBranch))||"?")+" to "+e.lcZ(40,77,n.selectedRemoteName)),e.xp6(4),e.Q6J("ngIf","push"!==e.lcZ(42,79,n.isLoading)),e.xp6(2),e.Q6J("ngIf","push"===e.lcZ(44,81,n.isLoading)),e.xp6(2),e.Q6J("disabled",t.length<=0||e.lcZ(47,83,n.isLoading)),e.xp6(14),e.Q6J("matTooltip",e.lcZ(60,85,n.hideCreateButtons)?"Cannot create tag when no commit is selected":"Create Tag")("disabled",e.lcZ(61,87,n.hideCreateButtons)),e.xp6(7),e.Q6J("disabled",!1===e.lcZ(67,89,n.hasUncommittedChanges)),e.xp6(4),e.Q6J("matTooltip",e.lcZ(71,91,n.hideCreateButtons)?"Cannot edit commits when no commit is selected":"Rewrite the commit history from this point onwards")("disabled",e.lcZ(72,93,n.hideCreateButtons)||e.lcZ(73,95,n.loadingCommitEdit)),e.xp6(4),e.Q6J("ngIf",e.lcZ(75,97,n.loadingCommitEdit)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(77,99,n.loadingCommitEdit))}}let lc=(()=>{class r extends((0,Be.j)(Fe.A)){constructor(t,n,o,i,a,f,O,k){super(),this.router=t,this.overlay=n,this.viewContainerRef=o,this.store=i,this.remotesApi=a,this.rebaseActionsService=f,this.repositoryActionsService=O,this.stashActionsService=k,this.menuOverlayRef=new W.X(null),this.subMenuOverlayRef=new W.X(null),this.hideCreateButtons=this.store.select(I.E.selectedCommitId).pipe((0,ne.U)(p=>!p||"head"===p)),this.selectedRemoteControl=new J.NI(null),this.selectedRemoteName=this.selectedRemote.pipe((0,ne.U)(p=>p??"all remotes"),(0,z.R)(this.destroyed$),(0,tt.d)(1)),this.hasUncommittedChanges=(0,we.a)([this.store.select(I.E.selectedStagedChanges),this.store.select(I.E.selectedUnstagedChanges)]).pipe((0,ne.U)(([p,S])=>!!p?.length||!!S?.length)),this.isLoading=new W.X(!1),this.isLoadingTags=new W.X(!1),this.getBranchName=p=>p?.replace(/^refs\/heads\//,""),this.getRemoteBranchName=p=>p?.replace(/^refs\/remotes\//,""),this.getTagName=p=>p?.replace(/^refs\/tags\//,""),this.formatRecentActionTooltip=(p,S)=>{if(!S)return"undo"===p?"No action to undo":"No action to redo";const Y=Qe.V?"Cmd":"Ctrl";return`${"undo"===p?`Undo (${Y}+Z)`:`Redo (${Y}+Y)`} ${S.name}${S.detail?`: ${S.detail}`:""}`},this.openMenu=(p,S,Y)=>{p.preventDefault(),p.stopPropagation(),this.closeMenu();const P=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(S).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.menuOverlayRef.next(P),P.attach(new Ye.UE(Y,this.viewContainerRef)),(0,He.t)(P,!1).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeMenu())},this.closeMenu=()=>{this.menuOverlayRef.value&&(this.menuOverlayRef.value.dispose(),this.menuOverlayRef.next(null))},this.openSubMenu=(p,S,Y)=>{p.preventDefault(),p.stopPropagation(),this.closeSubMenu();const P=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(S).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(P),P.attach(new Ye.UE(Y,this.viewContainerRef)),(0,He.t)(P).pipe((0,oe.q)(1),(0,z.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.toggleBranches=()=>{this.defaultLayoutSizes.pipe((0,oe.q)(1)).subscribe(p=>{this.store.dispatch(new Wt.ct("default-layout",["0"===p[0]||"0px"===p[0]||"0%"===p[0]?Vt.q:"0px",...p.slice(1)]))})},this.undoMostRecentAction=()=>{const p=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!p)throw new Error("Cannot undo when no repository is selected.");this.store.dispatch(new Le.nr(p))},this.redoMostRecentAction=()=>{const p=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!p)throw new Error("Cannot redo when no repository is selected.");this.store.dispatch(new Le.Lo(p))},this.fetchFromRemote=()=>{const p=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!p)throw new Error("Cannot refresh when no repository is selected.");const S=this.store.selectSnapshot(I.E.selectedRepositoryCredentials);this.isLoading.next("fetch"),this.repositoryActionsService.fetchFromRemote(p,S).pipe((0,rt.x)(()=>{this.isLoading.next(!1),this.store.dispatch(new F.Vu(p))}),(0,z.R)(this.destroyed$)).subscribe()},this.pullFromRemote=()=>{const p=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!p)throw new Error("Cannot pull when no repository is selected.");const S=this.store.selectSnapshot(I.E.selectedRepositoryCredentials),Y=this.store.selectSnapshot(I.E.selectedRepositoryCurrentBranch);if(!Y)throw new Error("Cannot pull when no branch is checked out.");const P=this.selectedRemoteControl.value;if(!P)throw new Te.ZR("Cannot pull from all remotes.");this.isLoading.next("pull"),this.repositoryActionsService.pull(p,P,S,Y.replace(/^refs\/heads\//,"")).pipe((0,rt.x)(()=>{this.isLoading.next(!1)})).subscribe()},this.pushReference=(p,S=!1)=>{this.push([p],S).subscribe(),this.closeMenu()},this.pushCurrentBranch=()=>{this.currentBranch.pipe((0,oe.q)(1)).subscribe(p=>{if(p){const S=this.selectedRemoteControl.value,Y=this.store.selectSnapshot(I.E.selectedRepositoryCurrentBranchUpstreamBranch);this.push([p]).pipe((0,Pe.b)(()=>{if(!Y&&S){const P=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!P)throw new Error("Cannot set upstream branch when no repository is selected.");const w=p.replace(/^refs\/heads\//,"");this.repositoryActionsService.setUpstreamBranch(P,w,`${S}/${w}`).subscribe()}})).subscribe()}else this.store.dispatch(new Xe.hx("error","Cannot push current branch when not on a branch"))}),this.closeMenu()},this.pushEverything=(p=!1)=>{(0,we.a)([this.pushableBranches,this.pushableTags]).pipe((0,oe.q)(1)).subscribe(([S,Y])=>{const P=[...S.map(w=>w.name),...Y??[]];0===P.length&&this.store.dispatch(new Xe.hx("warn","There are no branches or tags to push")),this.push(P,p).subscribe(),this.closeMenu()})},this.pushAllBranches=(p=!1)=>{this.pushableBranches.pipe((0,oe.q)(1)).subscribe(S=>{0===S.length&&this.store.dispatch(new Xe.hx("warn","There are no branches to push")),this.push(S.map(Y=>Y.name),p).subscribe(),this.closeMenu()})},this.pushAllTags=(p=!1)=>{this.pushableTags.pipe((0,oe.q)(1)).subscribe(S=>{0===S.length&&this.store.dispatch(new Xe.hx("warn","There are no tags to push")),this.push(S??[],p).subscribe(),this.closeMenu()})},this.push=(p,S=!1)=>this.store.selectOnce(I.E.selectedRepositoryPath).pipe((0,ot.M)(this.selectedRepositoryCredentials),(0,Me.w)(([Y,P])=>{if(!Y)throw new Error("Cannot push when no repository is selected.");return this.isLoading.next("push"),this.repositoryActionsService.push(Y,this.selectedRemoteControl.value,P,p,S)}),(0,rt.x)(()=>{this.isLoading.next(!1)}),(0,z.R)(this.destroyed$)),this.openTagDialog=()=>{const p=this.store.selectSnapshot(I.E.selectedRepositoryPath),S=this.store.selectSnapshot(I.E.selectedCommitId);if(!p)throw new Error("Cannot create tag when no repository is selected.");if(!S)throw new Error("Cannot create tag when no commit is selected.");this.repositoryActionsService.createTag(p,S).subscribe()},this.openBranchDialog=()=>{const p=this.store.selectSnapshot(I.E.selectedRepositoryPath),S=this.store.selectSnapshot(I.E.selectedCommitId);if(!p)throw new Error("Cannot create branch when no repository is selected.");if(!S)throw new Error("Cannot create branch when no commit is selected.");this.repositoryActionsService.createBranch(p,S).subscribe()},this.stashChanges=()=>{const p=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!p)throw new Error("Cannot save stash when no repository is selected.");const S=this.store.selectSnapshot(I.E.selectedRepositoryCommitMessage);this.stashActionsService.save(p,S||void 0).subscribe()},this.editCommits=()=>{const p=this.store.selectSnapshot(I.E.selectedRepositoryPath),S=this.store.selectSnapshot(I.E.selectedCommitId);if(!p)throw new Error("Cannot edit commits when no repository is selected.");if(!S)throw new Error("Cannot edit commits when no commit is selected.");this.rebaseActionsService.startEdit(p,S).pipe((0,Me.w)(()=>this.router.navigate(["/standard/rebase"]))).subscribe()},this.openSearch=()=>{this.router.navigate(["/standard/search"])},this.openSettings=()=>{const p=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!p)throw new Error("Cannot open repository settings when no repository is selected.");this.router.navigate(["/settings/repositories"],{queryParams:{id:p}})}}ngOnInit(){this.selectedRepositoryPath.pipe((0,z.R)(this.destroyed$)).subscribe(()=>{this.isLoading.next(!1)}),this.selectedRemote.pipe((0,z.R)(this.destroyed$)).subscribe(t=>{this.selectedRemoteControl.setValue(t,{emitEvent:!1})}),this.branchesVisible=this.defaultLayoutSizes.pipe((0,ne.U)(t=>"0"!==t[0]&&"0px"!==t[0]&&"0%"!==t[0])),this.selectedRemoteControl.valueChanges.pipe((0,ot.M)(this.store.select(I.E.selectedRepositoryPath)),(0,z.R)(this.destroyed$)).subscribe(([t,n])=>{if(!n)throw new Error("Cannot change default remote when no repository is selected.");this.store.dispatch(new F.J2(n,t))}),this.pushableBranches=(0,we.a)([this.localBranches,this.remoteBranches,this.selectedRemote]).pipe((0,ne.U)(([t,n,o])=>{const i=o?(n??[]).filter(f=>f.name.startsWith(`refs/remotes/${o}/`)):n??[],a=(0,Rt.Z)(i,f=>f.name.replace(/^refs\/remotes\/[^\/]*\//,""));return(t??[]).filter(f=>{const O=/^refs\/heads\/(.*)$/.exec(f.name)?.[1];return O&&(!a[O]||a[O].some(k=>k.target!==f.target))})}),(0,z.R)(this.destroyed$),(0,tt.d)(1)),this.pushableTags=(0,we.a)([this.store.select(I.E.selectedRepositoryPath).pipe((0,Ze.h)(Te.$K)),this.store.select(I.E.selectedRepositoryTags),this.selectedRemote]).pipe((0,ot.M)(this.selectedRepositoryCredentials),(0,Pe.b)(()=>this.isLoadingTags.next(!0)),(0,Me.w)(([[t,n,o],i])=>this.remotesApi.getPushableTags(t,i,o??void 0).pipe((0,rt.x)(()=>this.isLoadingTags.next(!1)))),(0,z.R)(this.destroyed$),(0,tt.d)(1))}static{this.\u0275fac=function(n){return new(n||r)(e.Y36(U.F0),e.Y36(it.aV),e.Y36(e.s_b),e.Y36(G.yh),e.Y36(Fr.G),e.Y36(zt.z),e.Y36(dt.$),e.Y36(nt))}}static{this.\u0275cmp=e.Xpm({type:r,selectors:[["app-repository-action-view"]],features:[e.qOj],decls:10,vars:9,consts:[[1,"items","items-left"],["type","button","mat-stroked-button","",1,"item",3,"matTooltip","click"],[1,"branches-icon"],["class","items",4,"ngIf"],[1,"items","items-right"],[1,"items"],["type","button","mat-stroked-button","",1,"item",3,"disabled","matTooltip","click"],["class","undo-icon",4,"ngIf"],["diameter","24",4,"ngIf"],["class","redo-icon",4,"ngIf"],["vertical",""],["class","fetch-icon",4,"ngIf"],["class","pull-icon",4,"ngIf"],[1,"split-button","item"],["type","button","mat-stroked-button","",3,"disabled","matTooltip","click"],["class","push-icon",4,"ngIf"],["type","button","mat-stroked-button","","appElementRef","",3,"disabled","click"],["pushMenuBtn","appElementRef"],["pushMenu",""],["branchPushMenu",""],["tagPushMenu",""],["forcePushMenu",""],["type","button","mat-stroked-button","",1,"item",3,"matTooltip","disabled","click"],[1,"tag-icon"],["type","button","mat-stroked-button","","matTooltip","Create Branch",1,"item",3,"click"],["svgIcon","source-branch",1,"branch-icon"],["type","button","mat-stroked-button","","matTooltip","Stash changes",1,"item",3,"disabled","click"],[1,"stash-icon","material-icons-outlined"],["type","button","mat-stroked-button","",1,"item","edit-commits-btn",3,"matTooltip","disabled","click"],["class","edit-icon",4,"ngIf"],["type","button","mat-stroked-button","","matTooltip","Search",1,"item",3,"click"],[1,"search-icon"],["type","button","mat-stroked-button","","matTooltip","Repository Settings",1,"item",3,"click"],[1,"settings-icon"],[1,"undo-icon"],["diameter","24"],[1,"redo-icon"],[1,"fetch-icon"],[1,"pull-icon"],[1,"push-icon"],[1,"push-menu"],["class","remotes",4,"ngIf"],[1,"branches"],["type","button","appElementRef","",1,"menu-item",3,"click"],["branchPushMenuBtn","appElementRef"],[1,"expand-icon"],["tagPushMenuBtn","appElementRef"],["type","button","matTooltip","Warning: this can cause commits on the remote to become lost, or for the remote to become de-synced for other team members","appElementRef","",1,"menu-item","warn",3,"click"],["forcePushMenuBtn","appElementRef"],[1,"remotes"],[3,"formControl"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"branch-push-menu","sub-menu-1"],["type","button","matTooltip","Push all branches",1,"menu-item",3,"click"],["type","button","class","menu-item",3,"matTooltip","click",4,"ngFor","ngForOf"],["type","button",1,"menu-item",3,"matTooltip","click"],[1,"tag-push-menu","sub-menu-1"],["type","button","matTooltip","Push all tags",1,"menu-item",3,"click"],[3,"padding",4,"ngIf"],["matTooltip","Warning: this can cause commits on the remote to become lost, or for the remote to become de-synced for other team members",1,"force-push-menu","sub-menu-1"],["type","button","class","menu-item",3,"click",4,"ngFor","ngForOf"],["type","button",1,"menu-item",3,"click"],[1,"edit-icon"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return o.toggleBranches()}),e.ALo(2,"async"),e.TgZ(3,"mat-icon",2),e._uU(4),e.ALo(5,"async"),e.qZA()()(),e.YNc(6,dc,84,101,"div",3),e.ALo(7,"async"),e.TgZ(8,"div",4),e._UZ(9,"app-repository-actions-open-with"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("matTooltip",e.lcZ(2,3,o.branchesVisible)?"Hide branches":"Show branches"),e.xp6(3),e.Oqu(e.lcZ(5,5,o.branchesVisible)?"unfold_less":"unfold_more"),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,7,o.remotes)))},dependencies:[v.Ou,h,m,q.sg,q.O5,J.JJ,J.oH,Ve.lW,Ur.d,je.Hw,We.gM,Br.F,Vr.E,q.Ov,It.r],styles:["[_nghost-%COMP%]{position:relative;display:block}.items-left[_ngcontent-%COMP%]{position:absolute;left:0;top:0;padding:0 10px}.items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.items[_ngcontent-%COMP%] > mat-divider[_ngcontent-%COMP%]{height:36px;margin-left:5px;margin-right:10px}.items-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:0 10px}.item[_ngcontent-%COMP%]{cursor:pointer;font-size:0;margin-right:5px;min-width:45px;padding:0 10px}.item[_ngcontent-%COMP%]:last-child{margin-right:0}.item[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.branches-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.split-button[_ngcontent-%COMP%]{padding:0}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-radius:0;font-size:0}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px;padding:0 2px;min-width:10px}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(:last-child){border-right:none;margin-right:0;min-width:45px;padding:0 10px}.push-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto;display:flex;max-width:400px}.push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%], .push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;display:flex;font-family:MontserratVariable;font-size:16px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap;align-items:center}.push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:first-child, .push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:last-child, .push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.push-menu[_ngcontent-%COMP%]   .menu-header.bold[_ngcontent-%COMP%], .push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.push-menu[_ngcontent-%COMP%]   .menu-header[disabled][_ngcontent-%COMP%], .push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{display:block;color:#90a4ae;border-bottom:1px solid rgba(255,255,255,.12);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{cursor:pointer}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.push-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.push-menu[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;overflow-x:hidden}.push-menu[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]   .warn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:not(.expand-icon){color:#e57373;margin-right:10px}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]{padding:15px}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-bottom:10px}.branch-push-menu[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.branch-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%], .branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;display:flex;font-family:MontserratVariable;font-size:16px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap;align-items:center}.branch-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:first-child, .branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child, .tag-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:first-child, .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child, .force-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:first-child, .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.branch-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:last-child, .branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child, .tag-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:last-child, .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child, .force-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]:last-child, .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.branch-push-menu[_ngcontent-%COMP%]   .menu-header.bold[_ngcontent-%COMP%], .branch-push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-header.bold[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-header.bold[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.branch-push-menu[_ngcontent-%COMP%]   .menu-header[disabled][_ngcontent-%COMP%], .branch-push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-header[disabled][_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-header[disabled][_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.branch-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.branch-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.branch-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.branch-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{display:block;color:#90a4ae;border-bottom:1px solid rgba(255,255,255,.12);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{cursor:pointer}.branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.branch-push-menu.sub-menu-1[_ngcontent-%COMP%], .tag-push-menu.sub-menu-1[_ngcontent-%COMP%], .force-push-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}"],changeDetection:0})}}return(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryPath)],r.prototype,"selectedRepositoryPath",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryCredentials)],r.prototype,"selectedRepositoryCredentials",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRemotes)],r.prototype,"remotes",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRemote)],r.prototype,"selectedRemote",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryLocalBranches)],r.prototype,"localBranches",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryRemoteBranches)],r.prototype,"remoteBranches",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryCurrentBranch)],r.prototype,"currentBranch",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryCurrentBranchUpstreamBranch)],r.prototype,"currentUpstreamBranch",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryLoadingCommitEdit)],r.prototype,"loadingCommitEdit",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryPerformingAction)],r.prototype,"performingAction",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryMostRecentAction)],r.prototype,"mostRecentAction",void 0),(0,B.gn)([(0,G.Ph)(I.E.selectedRepositoryMostRecentUndoneAction)],r.prototype,"mostRecentUndoneAction",void 0),(0,B.gn)([(0,G.Ph)(Re.$.gridSizes("default-layout"))],r.prototype,"defaultLayoutSizes",void 0),r})();function gc(r,c){1&r&&e._UZ(0,"app-branches-view")}function mc(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"app-diff-view",9),e.NdJ("closed",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeDiffView())}),e.ALo(1,"async"),e.qZA()}if(2&r){const t=e.oxw();e.ekj("gap-left",!1===e.lcZ(1,4,t.showBranches)),e.Q6J("@slideLeft",void 0)("patch",t.selectedPatch)}}function fc(r,c){if(1&r){const t=e.EpF();e.TgZ(0,"app-merge-view",9),e.NdJ("closed",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closeDiffView())}),e.ALo(1,"async"),e.qZA()}if(2&r){const t=e.oxw();e.ekj("gap-left",!1===e.lcZ(1,4,t.showBranches)),e.Q6J("@slideLeft",void 0)("patch",t.selectedMergePatch)}}function pc(r,c){if(1&r&&e._UZ(0,"app-commit-detail-view",10),2&r){const t=e.oxw();e.Q6J("commit",t.selectedCommit)}}function _c(r,c){if(1&r&&e._UZ(0,"app-merge-detail-view",11),2&r){const t=e.oxw();e.Q6J("merge",t.selectedMerge)}}const hc=[{path:"",component:(()=>{class r extends((0,Be.j)(Fe.A,Zt.H)){constructor(t,n,o,i,a,f){super(),this.router=t,this.store=n,this.commitsApi=o,this.mergesApi=i,this.repositoriesApi=a,this.telemetryService=f,this.selectedCommit=new W.X(null),this.selectedMerge=new W.X(null),this.selectedPatch=new W.X(null),this.selectedMergePatch=new W.X(null),this.showBranches=this.defaultLayoutSizes.pipe((0,ne.U)(O=>"0"!==O[0]&&"0px"!==O[0]&&"0%"!==O[0])),this.branchesViewMinSize=Vt.q,this.getCommit=O=>O?.path&&O?.selectedCommitId?"head"===O.selectedCommitId?(0,K.of)(O.mergeHeads.length>0?null:"head"):this.commitsApi.getCommit(O.path,O.selectedCommitId).pipe((0,Ae.K)(k=>(this.telemetryService.raiseError(k),(0,K.of)(null)))):(0,K.of)(null),this.getMerge=O=>O?.path&&O?.selectedMergeId?this.mergesApi.getMergeDetails(O.path,O.selectedMergeId.fromId,O.selectedMergeId.toId).pipe((0,Ae.K)(k=>(this.telemetryService.raiseError(k),(0,K.of)(null)))):"head"===O?.selectedCommitId&&O.mergeHeads.length>0&&O?.path?this.mergesApi.getWorkingCopyMergeChanges(O.path).pipe((0,Ae.K)(k=>(this.telemetryService.raiseError(k),(0,K.of)(null)))):(0,K.of)(null),this.getPatch=(O,k)=>{if(!O||!k||!O.selectedFile)return(0,K.of)(null);const p=O.selectedFile;if("head"===k){const Y=("staged"===p.area?O.stagedChanges:"unstaged"===p.area?O.unstagedChanges:void 0)?.find(w=>w.newFilePath===p.newFilePath&&w.oldFilePath===p.oldFilePath);return Y&&Y.status!==Ue.v.Conflicted?("staged"===p.area?this.repositoriesApi.getStagedPatch(O.path,p.oldFilePath,p.newFilePath):this.repositoriesApi.getUnstagedPatch(O.path,p.oldFilePath,p.newFilePath)).pipe((0,ne.U)(w=>({repositoryPath:O.path,patch:w,isUnstaged:"unstaged"===p.area})),(0,Ae.K)(w=>Se.vE.matches(w)?(0,K.of)(null):(0,ve._)(()=>w))):(0,K.of)(null)}return"commit"===p.area&&0!==k.patches.length&&k.patches.find(S=>S.newFilePath===p.newFilePath&&S.oldFilePath===p.oldFilePath)?this.commitsApi.getPatch(O.path,k.id,p.oldFilePath,p.newFilePath).pipe((0,ne.U)(S=>({repositoryPath:O.path,patch:S,isUnstaged:!1})),(0,Ae.K)(S=>Se.vE.matches(S)?(0,K.of)(null):(0,ve._)(()=>S))):(0,K.of)(null)},this.getMergePatch=(O,k,p)=>{if(!O||!O.selectedFile)return(0,K.of)(null);const S=O.selectedFile;return p?"commit"===S.area&&0!==p.mergePatches.length&&p.mergePatches.find(w=>w.newFilePath===S.newFilePath&&w.oldFilePath===S.oldFilePath)?this.mergesApi.getMergePatch(O.path,p.fromCommitId,p.toCommitId,S.oldFilePath,S.newFilePath).pipe((0,ne.U)(w=>({repositoryPath:O.path,fromCommitId:p.fromCommitId,toCommitId:p.toCommitId,patch:w})),(0,Ae.K)(w=>Se.vE.matches(w)?(0,K.of)(null):(0,ve._)(()=>w))):(0,K.of)(null):"head"!==k||"unstaged"!==S.area||O.unstagedChanges.find(P=>P.newFilePath===S.newFilePath&&P.oldFilePath===S.oldFilePath)?.status!==Ue.v.Conflicted?(0,K.of)(null):this.mergesApi.getMergePatch(O.path,"head","head",S.oldFilePath,S.newFilePath).pipe((0,ne.U)(P=>({repositoryPath:O.path,fromCommitId:"head",toCommitId:"head",patch:P})),(0,Ae.K)(P=>Se.vE.matches(P)?(0,K.of)(null):(0,ve._)(()=>P)))},this.arePatchesDifferent=(O,k)=>O&&k?O.newFileId!==k.newFileId||O.newFileIsDir!==k.newFileIsDir||O.newFileIsSubmodule!==k.newFileIsSubmodule||O.newFilePath!==k.newFilePath||O.oldFileId!==k.oldFileId||O.oldFileIsDir!==k.oldFileIsDir||O.oldFileIsSubmodule!==k.oldFileIsSubmodule||O.oldFilePath!==k.oldFilePath||O.status!==k.status:O||k,this.undoMostRecentAction=()=>{const O=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!O)throw new Error("Cannot undo when no repository is selected.");this.store.dispatch(new Le.nr(O))},this.redoMostRecentAction=()=>{const O=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!O)throw new Error("Cannot redo when no repository is selected.");this.store.dispatch(new Le.Lo(O))}}hostKeyDown(t){(Qe.V?t.metaKey:t.ctrlKey)&&("z"===t.key||"Z"===t.key?(t.preventDefault(),this.undoMostRecentAction()):("y"===t.key||"Y"===t.key)&&(t.preventDefault(),this.redoMostRecentAction()))}ngOnInit(){super.ngOnInit(),this.selectedRepository.pipe((0,Pe.b)(t=>{t?.path||this.router.navigate(["/standard/open-repository"])}),(0,$e.x)((t,n)=>t&&n?!(t.path!==n.path||t.selectedCommitId!==n.selectedCommitId||t.selectedFile!==n.selectedFile||t.selectedMergeId!==n.selectedMergeId||t.mergeHeads.length!==n.mergeHeads.length||t.stagedChanges.length!==n.stagedChanges.length||t.stashes!==n.stashes||t.unstagedChanges.length!==n.unstagedChanges.length||t.merges!==n.merges||!(0,Ce.Z)((0,xe.Z)(t.mergeHeads),(0,xe.Z)(n.mergeHeads))||(0,Oe.Z)(t.stagedChanges,n.stagedChanges).some(([o,i])=>this.arePatchesDifferent(o,i))||(0,Oe.Z)(t.unstagedChanges,n.unstagedChanges).some(([o,i])=>this.arePatchesDifferent(o,i))):!t&&!n),(0,De.p)(100,void 0,{leading:!0,trailing:!0}),(0,Me.w)(t=>(0,Ie.D)({commit:this.getCommit(t),merge:this.getMerge(t)}).pipe((0,ne.U)(n=>({...n,repository:t})))),(0,Pe.b)(({commit:t,merge:n})=>{this.selectedCommit.next(t),this.selectedMerge.next(n)}),(0,Me.w)(({repository:t,commit:n,merge:o})=>(0,Ie.D)({patch:this.getPatch(t,n),mergePatch:this.getMergePatch(t,n,o)})),(0,z.R)(this.destroyed$)).subscribe(({patch:t,mergePatch:n})=>{this.selectedPatch.next(t),this.selectedMergePatch.next(n)})}changeCommit(t){const n=this.store.selectSnapshot(I.E.selectedRepositoryPath);if(!n)throw new Error("Cannot change commit when no repository is selected");if(null===t)this.store.dispatch([new F.jQ(n,null),new F.hb(n,null)]);else if(t.startsWith("merge:")){const o=t.match(/^merge:([^:]+):([^:]+)$/);o&&this.store.dispatch(new F.hb(n,{fromId:o[1],toId:o[2]}))}else this.store.dispatch(new F.jQ(n,t))}closeDiffView(){const t=this.store.selectSnapshot(I.E.selectedRepositoryPath);null!==t&&this.store.dispatch(new F.gt(t,null))}static{this.\u0275fac=function(n){return new(n||r)(e.Y36(U.F0),e.Y36(G.yh),e.Y36(Gt.T),e.Y36(Ct.Z),e.Y36(at.a),e.Y36(un.y))}}static{this.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],hostBindings:function(n,o){1&n&&e.NdJ("keydown",function(a){return o.hostKeyDown(a)},!1,e.evT)},features:[e.qOj],decls:16,vars:18,consts:[["id","default-layout"],[1,"left-cell",3,"min"],[4,"ngIf"],["min","200px",1,"center-cell"],[3,"repository","selectedMerge","changeCommit"],[3,"patch","gap-left","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"commit",4,"ngIf"],[3,"merge",4,"ngIf"],[3,"patch","closed"],[3,"commit"],[3,"merge"]],template:function(n,o){1&n&&(e._UZ(0,"app-repository-action-view"),e.TgZ(1,"app-grid",0)(2,"app-grid-cell",1),e.YNc(3,gc,1,0,"app-branches-view",2),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"app-grid-cell",3)(6,"app-graph-view",4),e.NdJ("changeCommit",function(a){return o.changeCommit(a)}),e.qZA(),e.YNc(7,mc,2,6,"app-diff-view",5),e.ALo(8,"async"),e.YNc(9,fc,2,6,"app-merge-view",5),e.ALo(10,"async"),e.qZA(),e.TgZ(11,"app-grid-cell",6),e.YNc(12,pc,1,1,"app-commit-detail-view",7),e.ALo(13,"async"),e.YNc(14,_c,1,1,"app-merge-detail-view",8),e.ALo(15,"async"),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("min",o.branchesViewMinSize),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,8,o.showBranches)),e.xp6(3),e.Q6J("repository",o.selectedRepository)("selectedMerge",o.selectedMerge),e.xp6(1),e.Q6J("ngIf",e.lcZ(8,10,o.selectedPatch)),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,12,o.selectedMergePatch)),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,14,o.selectedCommit)),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,16,o.selectedMerge)))},dependencies:[q.O5,bt.Y,Mt.M,ao,mt,$t.s,yt,Bi,Lr,lc,q.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px)}app-repository-action-view[_ngcontent-%COMP%]{flex:0 0 60px}app-graph-view[_ngcontent-%COMP%]{position:absolute;top:0;left:0;overflow:hidden}app-diff-view[_ngcontent-%COMP%], app-merge-view[_ngcontent-%COMP%]{z-index:200}app-diff-view.gap-left[_ngcontent-%COMP%], app-merge-view.gap-left[_ngcontent-%COMP%]{padding-left:10px}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}.right-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}"],data:{animation:[(0,ee.X$)("slideLeft",[(0,ee.eR)(":enter",[(0,ee.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,ee.jt)("200ms",(0,ee.oB)({transform:"translateX(0)"}))]),(0,ee.eR)(":leave",[(0,ee.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,ee.jt)("200ms",(0,ee.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return(0,B.gn)([(0,G.Ph)(I.E.selectedRepository)],r.prototype,"selectedRepository",void 0),(0,B.gn)([(0,G.Ph)(Re.$.gridSizes("default-layout"))],r.prototype,"defaultLayoutSizes",void 0),r})()}];class At{static{this.\u0275fac=function(t){return new(t||At)}}static{this.\u0275mod=e.oAB({type:At})}static{this.\u0275inj=e.cJS({imports:[U.Bz.forChild(hc),U.Bz]})}}class St{static{this.\u0275fac=function(t){return new(t||St)}}static{this.\u0275mod=e.oAB({type:St})}static{this.\u0275inj=e.cJS({imports:[A.I,l,Z,L.m,N,te,_e,E,At]})}}},337:D=>{D.exports={mode:"lazy"}},8133:(D,Q,s)=>{const A=s(337),C=s(2e3),M=s(746),T=new WeakMap;function e(J){let q=T.get(J);q||(q=function Ee(J){const q=M.transform(J,te);return new M.TransformResult(q.getAST(),b)}(M.parse(`/${J.source}/${J.flags}`)),T.set(J,q));const ce=q.getExtra();return{measurementRegExp:q.toRegExp(),groupInfos:ce}}function l(J,q){const ce=J.index,ue=ce+J[0].length,se=[],be=J.groups?Object.create(null):void 0;_(se,0,[ce,ue]);for(const he of q){let Ge;if(void 0!==J[he.newGroupNumber]){let ge=ce;if(he.measurementGroups)for(const Je of he.measurementGroups)ge+=J[Je].length;Ge=[ge,ge+J[he.newGroupNumber].length]}_(se,he.oldGroupNumber,Ge),be&&void 0!==he.groupName&&_(be,he.groupName,Ge)}return _(se,"groups",be),se}function _(J,q,ce){const ue=Object.getOwnPropertyDescriptor(J,q);(ue?ue.configurable:Object.isExtensible(J))&&Object.defineProperty(J,q,{enumerable:!ue||ue.enumerable,configurable:!ue||ue.configurable,writable:!0,value:ce})}let b,v=!1,d=new Set,y=[],Z=!1,L=1,$=[],N=new Map,j=new Map;const te={init(){v=!1,d.clear(),y.length=0,Z=!1,L=1,$.length=0,N.clear(),j.clear(),b=[]},RegExp:J=>(M.traverse(J.node,re),d.size>0&&(M.transform(J.node,_e),M.transform(J.node,pe),v&&M.transform(J.node,ke)),!1)},X={pre(J){y.push(Z),Z="Group"===J.node.type&&J.node.capturing},post(J){Z&&d.add(J.node),Z=y.pop()||Z}},re={Alternative:X,Disjunction:X,Assertion:X,Group:X,Repetition:X,Backreference(J){v=!0}},_e={Alternative(J){if(d.has(J.node)){let q=0,ce=[];const ue=[],le=[];for(let se=0;se<J.node.expressions.length;se++){const be=J.node.expressions[se];if(d.has(be)){if(se>q){const he={type:"Group",capturing:!0,number:-1,expression:ce.length>1?{type:"Alternative",expressions:ce}:1===ce.length?ce[0]:null};le.push(he),ue.push(he),q=se,ce=[]}$.push(ue),M.transform(be,_e),$.pop(),ce.push(be)}else ce.push(be)}J.update({expressions:le.concat(ce)})}return!1},Group(J){J.node.capturing&&N.set(J.node,function fe(){const J=[];for(const q of $)for(const ce of q)J.push(ce);return J}())}},pe={Group(J){if(!b)throw new Error("Not initialized.");if(!J.node.capturing)return;const q=J.node.number,ce=L++,ue=N.get(J.node);-1!==q&&(b.push({oldGroupNumber:q,newGroupNumber:ce,measurementGroups:ue&&ue.map(le=>le.number),groupName:J.node.name}),j.set(q,ce)),J.update({number:ce})}},ke={Backreference(J){const q=j.get(J.node.number);q&&J.update("number"===J.node.kind?{number:q,reference:q}:{number:q})}};D.exports=function x(J){return"spec-compliant"===A.mode?function u(J,q){const{measurementRegExp:ce,groupInfos:ue}=e(J);ce.lastIndex=J.lastIndex;const le=C.call(ce,q);if(null===le)return null;J.lastIndex=ce.lastIndex;const se=[];_(se,0,le[0]);for(const be of ue)_(se,be.oldGroupNumber,le[be.newGroupNumber]);return _(se,"index",le.index),_(se,"input",le.input),_(se,"groups",le.groups),_(se,"indices",l(le,ue)),se}(this,J):function g(J,q){const ce=J.lastIndex,ue=C.call(J,q);if(null===ue)return null;let le;return Object.defineProperty(ue,"indices",{enumerable:!0,configurable:!0,get(){if(void 0===le){const{measurementRegExp:se,groupInfos:be}=e(J);se.lastIndex=ce;const he=C.call(se,q);if(null===he)throw new TypeError;_(ue,"indices",le=l(he,be))}return le},set(se){_(ue,"indices",se)}}),ue}(this,J)}},5143:(D,Q,s)=>{const A=s(8133),C=s(2e3),M=s(246),T=s(9e3),x=s(337),g=M();function u(e,l){return g.call(e,l)}u.implementation=A,u.native=C,u.getPolyfill=M,u.shim=T,u.config=x,u||(u={}),D.exports=u},2e3:D=>{const Q=RegExp.prototype.exec;D.exports=Q},246:(D,Q,s)=>{const A=s(2e3),C=s(8133);D.exports=function M(){const T=new RegExp("a");return A.call(T,"a").indices?A:C}},9e3:(D,Q,s)=>{const A=s(246);D.exports=function C(){const M=A();RegExp.prototype.exec!==M&&(RegExp.prototype.exec=M)}},8765:(D,Q,s)=>{var A=s(9369),C=s(5258);D.exports={transform:function(T){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],g=x.length>0?x:Object.keys(A),u=void 0,e={};return g.forEach(function(l){if(!A.hasOwnProperty(l))throw new Error("Unknown compat-transform: "+l+". Available transforms are: "+Object.keys(A).join(", "));var _=A[l];u=C.transform(T,_),T=u.getAST(),"function"==typeof _.getExtra&&(e[l]=_.getExtra())}),u.setExtra(e),u}}},4662:D=>{var Q=function(){function C(M,T){for(var x=0;x<T.length;x++){var g=T[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(M,g.key,g)}}return function(M,T,x){return T&&C(M.prototype,T),x&&C(M,x),M}}(),A=function(){function C(M,T){var x=T.flags,g=T.groups,u=T.source;(function s(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")})(this,C),this._re=M,this._groups=g,this.flags=x,this.source=u||M.source,this.dotAll=x.includes("s"),this.global=M.global,this.ignoreCase=M.ignoreCase,this.multiline=M.multiline,this.sticky=M.sticky,this.unicode=M.unicode}return Q(C,[{key:"test",value:function(T){return this._re.test(T)}},{key:"compile",value:function(T){return this._re.compile(T)}},{key:"toString",value:function(){return this._toStringResult||(this._toStringResult="/"+this.source+"/"+this.flags),this._toStringResult}},{key:"exec",value:function(T){var x=this._re.exec(T);if(!this._groups||!x)return x;for(var g in x.groups={},this._groups)x.groups[g]=x[this._groups[g]];return x}}]),C}();D.exports={RegExpTree:A}},3901:D=>{D.exports={_hasUFlag:!1,shouldRun:function(s){return!!s.flags.includes("s")&&(s.flags=s.flags.replace("s",""),this._hasUFlag=s.flags.includes("u"),!0)},Char:function(s){var A=s.node;if("meta"===A.kind&&"."===A.value){var C="\\uFFFF",M="\uffff";this._hasUFlag&&(C="\\u{10FFFF}",M="\u{10ffff}"),s.replace({type:"CharacterClass",expressions:[{type:"ClassRange",from:{type:"Char",value:"\\0",kind:"decimal",symbol:"\0"},to:{type:"Char",value:C,kind:"unicode",symbol:M}}]})}}}},4273:D=>{D.exports={_groupNames:{},init:function(){this._groupNames={}},getExtra:function(){return this._groupNames},Group:function(s){var A=s.node;A.name&&(this._groupNames[A.name]=A.number,delete A.name,delete A.nameRaw)},Backreference:function(s){var A=s.node;"name"===A.kind&&(A.kind="number",A.reference=A.number,delete A.referenceRaw)}}},5903:D=>{D.exports={RegExp:function(s){var A=s.node;A.flags.includes("x")&&(A.flags=A.flags.replace("x",""))}}},9369:(D,Q,s)=>{D.exports={dotAll:s(3901),namedCapturingGroups:s(4273),xFlag:s(5903)}},3930:D=>{function Q(A){return A?s[A.type](A):""}var s={RegExp:function(C){return"/"+Q(C.body)+"/"+C.flags},Alternative:function(C){return(C.expressions||[]).map(Q).join("")},Disjunction:function(C){return Q(C.left)+"|"+Q(C.right)},Group:function(C){var M=Q(C.expression);return C.capturing?C.name?"(?<"+(C.nameRaw||C.name)+">"+M+")":"("+M+")":"(?:"+M+")"},Backreference:function(C){switch(C.kind){case"number":return"\\"+C.reference;case"name":return"\\k<"+(C.referenceRaw||C.reference)+">";default:throw new TypeError("Unknown Backreference kind: "+C.kind)}},Assertion:function(C){switch(C.kind){case"^":case"$":case"\\b":case"\\B":return C.kind;case"Lookahead":var M=Q(C.assertion);return C.negative?"(?!"+M+")":"(?="+M+")";case"Lookbehind":var T=Q(C.assertion);return C.negative?"(?<!"+T+")":"(?<="+T+")";default:throw new TypeError("Unknown Assertion kind: "+C.kind)}},CharacterClass:function(C){var M=C.expressions.map(Q).join("");return C.negative?"[^"+M+"]":"["+M+"]"},ClassRange:function(C){return Q(C.from)+"-"+Q(C.to)},Repetition:function(C){return""+Q(C.expression)+Q(C.quantifier)},Quantifier:function(C){var M=void 0,T=C.greedy?"":"?";switch(C.kind){case"+":case"?":case"*":M=C.kind;break;case"Range":M=C.from===C.to?"{"+C.from+"}":C.to?"{"+C.from+","+C.to+"}":"{"+C.from+",}";break;default:throw new TypeError("Unknown Quantifier kind: "+C.kind)}return""+M+T},Char:function(C){var M=C.value;switch(C.kind){case"simple":return C.escaped?"\\"+M:M;case"hex":case"unicode":case"oct":case"decimal":case"control":case"meta":return M;default:throw new TypeError("Unknown Char kind: "+C.kind)}},UnicodeProperty:function(C){return"\\"+(C.negative?"P":"p")+"{"+(C.shorthand||C.binary?"":C.name+"=")+C.value+"}"}};D.exports={generate:Q}},3813:D=>{var Q=function(e,l){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function u(e,l){var _=[],b=!0,v=!1,d=void 0;try{for(var Z,y=e[Symbol.iterator]();!(b=(Z=y.next()).done)&&(_.push(Z.value),!l||_.length!==l);b=!0);}catch(L){v=!0,d=L}finally{try{!b&&y.return&&y.return()}finally{if(v)throw d}}return _}(e,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function s(u){return Array.isArray(u)?u:Array.from(u)}function A(u){if(Array.isArray(u)){for(var e=0,l=Array(u.length);e<u.length;e++)l[e]=u[e];return l}return Array.from(u)}var C=null;function T(u,e){if(!e||u.length!==e.length)return!1;for(var l=0;l<u.length;l++){var _=u[l],b=e[l];if(_.size!==b.size||[].concat(A(_)).sort().join(",")!==[].concat(A(b)).sort().join(","))return!1}return!0}function x(u,e,l,_){var b=!0,v=!1,d=void 0;try{for(var Z,y=_[Symbol.iterator]();!(b=(Z=y.next()).done);b=!0)if(!g(u,e,l,Z.value))return!1}catch($){v=!0,d=$}finally{try{!b&&y.return&&y.return()}finally{if(v)throw d}}return!0}function g(u,e,l,_){if(!C[u]||!C[e])return!1;var b=l[u][_],v=l[e][_];return!b&&!v||C[u].has(b)&&C[e].has(v)}D.exports={minimize:function M(u){var e=u.getTransitionTable(),l=Object.keys(e),_=u.getAlphabet(),b=u.getAcceptingStateNumbers();C={};var v=new Set;l.forEach(function(V){V=Number(V),b.has(V)?C[V]=b:(v.add(V),C[V]=v)});var d=[[v,b].filter(function(V){return V.size>0})],y=void 0,Z=void 0;y=d[d.length-1],Z=d[d.length-2];for(var L=function(){var E={},U=!0,B=!1,ee=void 0;try{for(var Ce,G=y[Symbol.iterator]();!(U=(Ce=G.next()).done);U=!0){var Oe={},W=s(Ce.value),K=W[0],ve=W.slice(1);Oe[K]=new Set([K]);var Ie=!0,ne=!1,Ae=void 0;try{e:for(var $e,Pe=ve[Symbol.iterator]();!(Ie=($e=Pe.next()).done);Ie=!0){var De=$e.value,Me=!0,z=!1,Ue=void 0;try{for(var Be,Se=Object.keys(Oe)[Symbol.iterator]();!(Me=(Be=Se.next()).done);Me=!0){var Fe=Be.value;if(x(De,Fe,e,_)){Oe[Fe].add(De),Oe[De]=Oe[Fe];continue e}}}catch(Qe){z=!0,Ue=Qe}finally{try{!Me&&Se.return&&Se.return()}finally{if(z)throw Ue}}Oe[De]=new Set([De])}}catch(Qe){ne=!0,Ae=Qe}finally{try{!Ie&&Pe.return&&Pe.return()}finally{if(ne)throw Ae}}Object.assign(E,Oe)}}catch(Qe){B=!0,ee=Qe}finally{try{!U&&G.return&&G.return()}finally{if(B)throw ee}}C=E;var Zt=new Set(Object.keys(E).map(function(Qe){return E[Qe]}));d.push([].concat(A(Zt))),y=d[d.length-1],Z=d[d.length-2]};!T(y,Z);)L();var $=new Map,N=1;y.forEach(function(V){return $.set(V,N++)});var j={},te=new Set,X=function(E,U){var B=!0,ee=!1,G=void 0;try{for(var xe,Ce=E[Symbol.iterator]();!(B=(xe=Ce.next()).done);B=!0)b.has(xe.value)&&te.add(U)}catch(W){ee=!0,G=W}finally{try{!B&&Ce.return&&Ce.return()}finally{if(ee)throw G}}},re=!0,_e=!1,pe=void 0;try{for(var fe,ke=$.entries()[Symbol.iterator]();!(re=(fe=ke.next()).done);re=!0){var J=Q(fe.value,2),q=J[0],ce=J[1];j[ce]={};var ue=!0,le=!1,se=void 0;try{for(var he,be=_[Symbol.iterator]();!(ue=(he=be.next()).done);ue=!0){var Ge=he.value;X(q,ce);var ge=void 0,Ne=!0,Je=!1,ze=void 0;try{for(var h,et=q[Symbol.iterator]();!(Ne=(h=et.next()).done)&&!(ge=e[h.value][Ge]);Ne=!0);}catch(V){Je=!0,ze=V}finally{try{!Ne&&et.return&&et.return()}finally{if(Je)throw ze}}ge&&(j[ce][Ge]=$.get(C[ge]))}}catch(V){le=!0,se=V}finally{try{!ue&&be.return&&be.return()}finally{if(le)throw se}}}}catch(V){_e=!0,pe=V}finally{try{!re&&ke.return&&ke.return()}finally{if(_e)throw pe}}return u.setTransitionTable(j),u.setAcceptingStateNumbers(te),u}}},656:(D,Q,s)=>{var A=function(){function e(l,_){for(var b=0;b<_.length;b++){var v=_[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(l,v.key,v)}}return function(l,_,b){return _&&e(l.prototype,_),b&&e(l,b),l}}();function C(e){if(Array.isArray(e)){for(var l=0,_=Array(e.length);l<e.length;l++)_[l]=e[l];return _}return Array.from(e)}var T=s(3813),g=s(2706).EPSILON_CLOSURE,u=function(){function e(l){(function M(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),this._nfa=l}return A(e,[{key:"minimize",value:function(){this.getTransitionTable(),this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._originalTransitionTable=this._transitionTable,T.minimize(this)}},{key:"getAlphabet",value:function(){return this._nfa.getAlphabet()}},{key:"getAcceptingStateNumbers",value:function(){return this._acceptingStateNumbers||this.getTransitionTable(),this._acceptingStateNumbers}},{key:"getOriginaAcceptingStateNumbers",value:function(){return this._originalAcceptingStateNumbers||this.getTransitionTable(),this._originalAcceptingStateNumbers}},{key:"setTransitionTable",value:function(_){this._transitionTable=_}},{key:"setAcceptingStateNumbers",value:function(_){this._acceptingStateNumbers=_}},{key:"getTransitionTable",value:function(){var _=this;if(this._transitionTable)return this._transitionTable;var b=this._nfa.getTransitionTable(),v=Object.keys(b);this._acceptingStateNumbers=new Set;for(var y=[b[v[0]][g]],Z=this.getAlphabet(),L=this._nfa.getAcceptingStateNumbers(),$={},N=function(E){var U=!0,B=!1,ee=void 0;try{for(var Ce,G=L[Symbol.iterator]();!(U=(Ce=G.next()).done);U=!0)if(-1!==E.indexOf(Ce.value)){_._acceptingStateNumbers.add(E.join(","));break}}catch(Oe){B=!0,ee=Oe}finally{try{!U&&G.return&&G.return()}finally{if(B)throw ee}}};y.length>0;){var j=y.shift(),te=j.join(",");$[te]={};var X=!0,re=!1,_e=void 0;try{for(var ke,pe=Z[Symbol.iterator]();!(X=(ke=pe.next()).done);X=!0){var fe=ke.value,Ee=[];N(j);var J=!0,q=!1,ce=void 0;try{for(var le,ue=j[Symbol.iterator]();!(J=(le=ue.next()).done);J=!0){var be=b[le.value][fe];if(be){var he=!0,Ge=!1,ge=void 0;try{for(var Je,Ne=be[Symbol.iterator]();!(he=(Je=Ne.next()).done);he=!0){var ze=Je.value;b[ze]&&Ee.push.apply(Ee,C(b[ze][g]))}}catch(V){Ge=!0,ge=V}finally{try{!he&&Ne.return&&Ne.return()}finally{if(Ge)throw ge}}}}}catch(V){q=!0,ce=V}finally{try{!J&&ue.return&&ue.return()}finally{if(q)throw ce}}var et=new Set(Ee),h=[].concat(C(et));if(h.length>0){var m=h.join(",");$[te][fe]=m,$.hasOwnProperty(m)||y.unshift(h)}}}catch(V){re=!0,_e=V}finally{try{!X&&pe.return&&pe.return()}finally{if(re)throw _e}}}return this._transitionTable=this._remapStateNumbers($)}},{key:"_remapStateNumbers",value:function(_){var b={};this._originalTransitionTable=_;var v={};for(var d in Object.keys(_).forEach(function(_e,pe){b[_e]=pe+1}),_){var y=_[d],Z={};for(var L in y)Z[L]=b[y[L]];v[b[d]]=Z}this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._acceptingStateNumbers=new Set;var $=!0,N=!1,j=void 0;try{for(var X,te=this._originalAcceptingStateNumbers[Symbol.iterator]();!($=(X=te.next()).done);$=!0)this._acceptingStateNumbers.add(b[X.value])}catch(_e){N=!0,j=_e}finally{try{!$&&te.return&&te.return()}finally{if(N)throw j}}return v}},{key:"getOriginalTransitionTable",value:function(){return this._originalTransitionTable||this.getTransitionTable(),this._originalTransitionTable}},{key:"matches",value:function(_){for(var b=1,v=0,d=this.getTransitionTable();_[v];)if(!(b=d[b][_[v++]]))return!1;return!!this.getAcceptingStateNumbers().has(b)}}]),e}();D.exports=u},4575:(D,Q,s)=>{var A=s(2495),C=s(656),M=s(7978),T=s(9061);D.exports={NFA:A,DFA:C,builders:T,toNFA:function(g){return M.build(g)},toDFA:function(g){return new C(this.toNFA(g))},test:function(g,u){return this.toDFA(g).matches(u)}}},9061:(D,Q,s)=>{var A=s(2495),C=s(2074),T=s(2706).EPSILON;function x(Z){var L=new C,$=new C({accepting:!0});return new A(L.addTransition(Z,$),$)}function u(Z,L){return Z.out.accepting=!1,L.out.accepting=!0,Z.out.addTransition(T,L.in),new A(Z.in,L.out)}function l(Z,L){var $=new C,N=new C;return $.addTransition(T,Z.in),$.addTransition(T,L.in),N.accepting=!0,Z.out.accepting=!1,L.out.accepting=!1,Z.out.addTransition(T,N),L.out.addTransition(T,N),new A($,N)}D.exports={alt:function e(Z){for(var L=arguments.length,$=Array(L>1?L-1:0),N=1;N<L;N++)$[N-1]=arguments[N];var j=!0,te=!1,X=void 0;try{for(var _e,re=$[Symbol.iterator]();!(j=(_e=re.next()).done);j=!0){var pe=_e.value;Z=u(Z,pe)}}catch(ke){te=!0,X=ke}finally{try{!j&&re.return&&re.return()}finally{if(te)throw X}}return Z},char:x,e:function g(){return x(T)},or:function _(Z){for(var L=arguments.length,$=Array(L>1?L-1:0),N=1;N<L;N++)$[N-1]=arguments[N];var j=!0,te=!1,X=void 0;try{for(var _e,re=$[Symbol.iterator]();!(j=(_e=re.next()).done);j=!0){var pe=_e.value;Z=l(Z,pe)}}catch(ke){te=!0,X=ke}finally{try{!j&&re.return&&re.return()}finally{if(te)throw X}}return Z},rep:function v(Z){return Z.in.addTransition(T,Z.out),Z.out.addTransition(T,Z.in),Z},repExplicit:function b(Z){var L=new C,$=new C({accepting:!0});return L.addTransition(T,Z.in),L.addTransition(T,$),Z.out.accepting=!1,Z.out.addTransition(T,$),$.addTransition(T,Z.in),new A(L,$)},plusRep:function d(Z){return Z.out.addTransition(T,Z.in),Z},questionRep:function y(Z){return Z.in.addTransition(T,Z.out),Z}}},7978:(D,Q,s)=>{var C=s(8397),M=s(9061),T=M.alt,x=M.char,g=M.or,u=M.rep,e=M.plusRep,l=M.questionRep;function _(v){if(v&&!b[v.type])throw new Error(v.type+" is not supported in NFA/DFA interpreter.");return v?b[v.type](v):""}var b={RegExp:function(d){if(""!==d.flags)throw new Error("NFA/DFA: Flags are not supported yet.");return _(d.body)},Alternative:function(d){var y=(d.expressions||[]).map(_);return T.apply(void 0,function A(v){if(Array.isArray(v)){for(var d=0,y=Array(v.length);d<v.length;d++)y[d]=v[d];return y}return Array.from(v)}(y))},Disjunction:function(d){return g(_(d.left),_(d.right))},Repetition:function(d){switch(d.quantifier.kind){case"*":return u(_(d.expression));case"+":return e(_(d.expression));case"?":return l(_(d.expression));default:throw new Error("Unknown repeatition: "+d.quantifier.kind+".")}},Char:function(d){if("simple"!==d.kind)throw new Error("NFA/DFA: Only simple chars are supported yet.");return x(d.value)},Group:function(d){return _(d.expression)}};D.exports={build:function(d){var y=d;return d instanceof RegExp&&(d=""+d),"string"==typeof d&&(y=C.parse(d,{captureLocations:!0})),_(y)}}},2074:(D,Q,s)=>{var A=function(){function l(_,b){for(var v=0;v<b.length;v++){var d=b[v];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,b,v){return b&&l(_.prototype,b),v&&l(_,v),_}}();function C(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")}function M(l,_){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?l:_}var x=s(5320),u=s(2706).EPSILON,e=function(l){function _(){return C(this,_),M(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return function T(l,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);l.prototype=Object.create(_&&_.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(l,_):l.__proto__=_)}(_,l),A(_,[{key:"matches",value:function(v){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(d.has(this))return!1;if(d.add(this),0===v.length){if(this.accepting)return!0;var y=!0,Z=!1,L=void 0;try{for(var N,$=this.getTransitionsOnSymbol(u)[Symbol.iterator]();!(y=(N=$.next()).done);y=!0){var j=N.value;if(j.matches("",d))return!0}}catch(he){Z=!0,L=he}finally{try{!y&&$.return&&$.return()}finally{if(Z)throw L}}return!1}var te=v[0],X=v.slice(1),re=this.getTransitionsOnSymbol(te),_e=!0,pe=!1,ke=void 0;try{for(var Ee,fe=re[Symbol.iterator]();!(_e=(Ee=fe.next()).done);_e=!0){var J=Ee.value;if(J.matches(X))return!0}}catch(he){pe=!0,ke=he}finally{try{!_e&&fe.return&&fe.return()}finally{if(pe)throw ke}}var q=!0,ce=!1,ue=void 0;try{for(var se,le=this.getTransitionsOnSymbol(u)[Symbol.iterator]();!(q=(se=le.next()).done);q=!0){var be=se.value;if(be.matches(v,d))return!0}}catch(he){ce=!0,ue=he}finally{try{!q&&le.return&&le.return()}finally{if(ce)throw ue}}return!1}},{key:"getEpsilonClosure",value:function(){var v=this;return this._epsilonClosure||function(){var d=v.getTransitionsOnSymbol(u),y=v._epsilonClosure=new Set;y.add(v);var Z=!0,L=!1,$=void 0;try{for(var j,N=d[Symbol.iterator]();!(Z=(j=N.next()).done);Z=!0){var te=j.value;y.has(te)||(y.add(te),te.getEpsilonClosure().forEach(function(re){return y.add(re)}))}}catch(re){L=!0,$=re}finally{try{!Z&&N.return&&N.return()}finally{if(L)throw $}}}(),this._epsilonClosure}}]),_}(x);D.exports=e},2495:(D,Q,s)=>{var A=function(_,b){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return function l(_,b){var v=[],d=!0,y=!1,Z=void 0;try{for(var $,L=_[Symbol.iterator]();!(d=($=L.next()).done)&&(v.push($.value),!b||v.length!==b);d=!0);}catch(N){y=!0,Z=N}finally{try{!d&&L.return&&L.return()}finally{if(y)throw Z}}return v}(_,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=function(){function l(_,b){for(var v=0;v<b.length;v++){var d=b[v];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,b,v){return b&&l(_.prototype,b),v&&l(_,v),_}}(),x=s(2706),g=x.EPSILON,u=x.EPSILON_CLOSURE,e=function(){function l(_,b){(function T(l,_){if(!(l instanceof _))throw new TypeError("Cannot call a class as a function")})(this,l),this.in=_,this.out=b}return C(l,[{key:"matches",value:function(b){return this.in.matches(b)}},{key:"getAlphabet",value:function(){if(!this._alphabet){this._alphabet=new Set;var b=this.getTransitionTable();for(var v in b){var d=b[v];for(var y in d)y!==u&&this._alphabet.add(y)}}return this._alphabet}},{key:"getAcceptingStates",value:function(){return this._acceptingStates||this.getTransitionTable(),this._acceptingStates}},{key:"getAcceptingStateNumbers",value:function(){if(!this._acceptingStateNumbers){this._acceptingStateNumbers=new Set;var b=!0,v=!1,d=void 0;try{for(var Z,y=this.getAcceptingStates()[Symbol.iterator]();!(b=(Z=y.next()).done);b=!0)this._acceptingStateNumbers.add(Z.value.number)}catch($){v=!0,d=$}finally{try{!b&&y.return&&y.return()}finally{if(v)throw d}}}return this._acceptingStateNumbers}},{key:"getTransitionTable",value:function(){var b=this;if(!this._transitionTable){this._transitionTable={},this._acceptingStates=new Set;var v=new Set,d=new Set;(function Z(L){if(!v.has(L)){v.add(L),L.number=v.size,b._transitionTable[L.number]={},L.accepting&&b._acceptingStates.add(L);var $=L.getTransitions(),N=!0,j=!1,te=void 0;try{for(var re,X=$[Symbol.iterator]();!(N=(re=X.next()).done);N=!0){var pe=A(re.value,2),ke=pe[0],fe=pe[1],Ee=[];d.add(ke);var J=!0,q=!1,ce=void 0;try{for(var le,ue=fe[Symbol.iterator]();!(J=(le=ue.next()).done);J=!0){var se=le.value;Z(se),Ee.push(se.number)}}catch(be){q=!0,ce=be}finally{try{!J&&ue.return&&ue.return()}finally{if(q)throw ce}}b._transitionTable[L.number][ke]=Ee}}catch(be){j=!0,te=be}finally{try{!N&&X.return&&X.return()}finally{if(j)throw te}}}})(this.in),v.forEach(function(Z){delete b._transitionTable[Z.number][g],b._transitionTable[Z.number][u]=[].concat(function M(l){if(Array.isArray(l)){for(var _=0,b=Array(l.length);_<l.length;_++)b[_]=l[_];return b}return Array.from(l)}(Z.getEpsilonClosure())).map(function(L){return L.number})})}return this._transitionTable}}]),l}();D.exports=e},2706:D=>{D.exports={EPSILON:"\u03b5",EPSILON_CLOSURE:"\u03b5*"}},5320:D=>{var Q=function(){function C(M,T){for(var x=0;x<T.length;x++){var g=T[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(M,g.key,g)}}return function(M,T,x){return T&&C(M.prototype,T),x&&C(M,x),M}}();function s(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}var A=function(){function C(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},T=M.accepting,x=void 0!==T&&T;s(this,C),this._transitions=new Map,this.accepting=x}return Q(C,[{key:"getTransitions",value:function(){return this._transitions}},{key:"addTransition",value:function(T,x){return this.getTransitionsOnSymbol(T).add(x),this}},{key:"getTransitionsOnSymbol",value:function(T){var x=this._transitions.get(T);return x||this._transitions.set(T,x=new Set),x}}]),C}();D.exports=A},5299:(D,Q,s)=>{var A=s(7555),C=s(8397),M=s(5258),T=s(334);D.exports={optimize:function(g){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=u.whitelist,l=void 0===e?[]:e,_=u.blacklist,b=void 0===_?[]:_,v=l.length>0?l:Array.from(T.keys()),d=v.filter(function($){return!b.includes($)}),y=g;g instanceof RegExp&&(g=""+g),"string"==typeof g&&(y=C.parse(g));var Z=new M.TransformResult(y),L=void 0;do{L=Z.toString(),y=A(Z.getAST()),d.forEach(function($){if(!T.has($))throw new Error("Unknown optimization-transform: "+$+". Available transforms are: "+Array.from(T.keys()).join(", "));var N=T.get($),j=M.transform(y,N);j.toString()!==Z.toString()&&(j.toString().length<=Z.toString().length?Z=j:y=A(Z.getAST()))})}while(Z.toString()!==L);return Z}}},3821:D=>{var Q="A".codePointAt(0),s="Z".codePointAt(0);D.exports={_AZClassRanges:null,_hasUFlag:!1,init:function(x){this._AZClassRanges=new Set,this._hasUFlag=x.flags.includes("u")},shouldRun:function(x){return x.flags.includes("i")},Char:function(x){var g=x.node,u=x.parent;if(!isNaN(g.codePoint)&&(this._hasUFlag||!(g.codePoint>=4096))){if("ClassRange"===u.type){if(!this._AZClassRanges.has(u)&&!function A(T){var x=T.from,g=T.to;return x.codePoint>=Q&&x.codePoint<=s&&g.codePoint>=Q&&g.codePoint<=s}(u))return;this._AZClassRanges.add(u)}var e=g.symbol.toLowerCase();e!==g.symbol&&(g.value=function C(T,x){var g=T.codePointAt(0);if("decimal"===x.kind)return"\\"+g;if("oct"===x.kind)return"\\0"+g.toString(8);if("hex"===x.kind)return"\\x"+g.toString(16);if("unicode"===x.kind){if(x.isSurrogatePair){var u=function M(T){var g=(T-65536)%1024+56320;return{lead:(Math.floor((T-65536)/1024)+55296).toString(16),trail:g.toString(16)}}(g),e=u.lead,l=u.trail;return"\\u"+"0".repeat(4-e.length)+e+"\\u"+"0".repeat(4-l.length)+l}if(x.value.includes("{"))return"\\u{"+g.toString(16)+"}";var _=g.toString(16);return"\\u"+"0".repeat(4-_.length)+_}return T}(e,g),g.symbol=e,g.codePoint=e.codePointAt(0))}}}},4513:D=>{function Q(d,y){var Z=s(d),L=s(y);if(Z===L){if("ClassRange"===d.type&&"ClassRange"!==y.type)return-1;if("ClassRange"===y.type&&"ClassRange"!==d.type)return 1;if("ClassRange"===d.type&&"ClassRange"===y.type)return s(d.to)-s(y.to);if(A(d)&&A(y)||C(d)&&C(y))return d.value<y.value?-1:1}return Z-L}function s(d){return"Char"===d.type?"-"===d.value||"control"===d.kind?1/0:"meta"===d.kind&&isNaN(d.codePoint)?-1:d.codePoint:d.from.codePoint}function A(d){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"Char"===d.type&&"meta"===d.kind&&(y?d.value===y:/^\\[dws]$/i.test(d.value))}function C(d){return"Char"===d.type&&"control"===d.kind}function M(d,y,Z){for(var L=0;L<y.length;L++)if(T(d,y[L],Z))return!0;return!1}function T(d,y,Z){return"ClassRange"===d.type?T(d.from,y,Z)&&T(d.to,y,Z):!!("\\S"===y&&(A(d,"\\w")||A(d,"\\d"))||"\\D"===y&&(A(d,"\\W")||A(d,"\\s"))||"\\w"===y&&A(d,"\\d")||"\\W"===y&&A(d,"\\s"))||"Char"===d.type&&!isNaN(d.codePoint)&&("\\s"===y?x(d):"\\S"===y?!x(d):"\\d"===y?g(d):"\\D"===y?!g(d):"\\w"===y?u(d,Z):"\\W"===y&&!u(d,Z))}function x(d){return 9===d.codePoint||10===d.codePoint||11===d.codePoint||12===d.codePoint||13===d.codePoint||32===d.codePoint||160===d.codePoint||5760===d.codePoint||d.codePoint>=8192&&d.codePoint<=8202||8232===d.codePoint||8233===d.codePoint||8239===d.codePoint||8287===d.codePoint||12288===d.codePoint||65279===d.codePoint}function g(d){return d.codePoint>=48&&d.codePoint<=57}function u(d,y){return g(d)||d.codePoint>=65&&d.codePoint<=90||d.codePoint>=97&&d.codePoint<=122||"_"===d.value||y&&(383===d.codePoint||8490===d.codePoint)}function e(d,y){if(y&&"ClassRange"===y.type){if(_(d,y))return!0;if(v(d)&&y.to.codePoint===d.codePoint-1)return y.to=d,!0;if("ClassRange"===d.type&&d.from.codePoint<=y.to.codePoint+1&&d.to.codePoint>=y.from.codePoint-1)return d.from.codePoint<y.from.codePoint&&(y.from=d.from),d.to.codePoint>y.to.codePoint&&(y.to=d.to),!0}return!1}function l(d,y){return!(!y||"ClassRange"!==y.type||!v(d)||y.from.codePoint!==d.codePoint+1||(y.from=d,0))}function _(d,y){return("Char"!==d.type||!isNaN(d.codePoint))&&("ClassRange"===d.type?_(d.from,y)&&_(d.to,y):d.codePoint>=y.from.codePoint&&d.codePoint<=y.to.codePoint)}function b(d,y,Z){if(!v(d))return 0;for(var L=0;y>0;){var $=Z[y],N=Z[y-1];if(!v(N)||N.codePoint!==$.codePoint-1)break;L++,y--}return L>1?(Z[y]={type:"ClassRange",from:Z[y],to:d},L):0}function v(d){return d&&"Char"===d.type&&!isNaN(d.codePoint)&&(u(d,!1)||"unicode"===d.kind||"hex"===d.kind||"oct"===d.kind||"decimal"===d.kind)}D.exports={_hasIUFlags:!1,init:function(y){this._hasIUFlags=y.flags.includes("i")&&y.flags.includes("u")},CharacterClass:function(y){var L=y.node.expressions,$=[];L.forEach(function(X){A(X)&&$.push(X.value)}),L.sort(Q);for(var N=0;N<L.length;N++){var j=L[N];if(M(j,$,this._hasIUFlags)||e(j,L[N-1])||l(j,L[N+1]))L.splice(N,1),N--;else{var te=b(j,N,L);L.splice(N-te+1,te),N-=te}}}}},785:D=>{D.exports={ClassRange:function(s){var A=s.node;A.from.codePoint===A.to.codePoint?s.replace(A.from):A.from.codePoint===A.to.codePoint-1&&(s.getParent().insertChildAt(A.to,s.index+1),s.replace(A.from))}}},3769:D=>{D.exports={CharacterClass:function(s){for(var A=s.node,C={},M=0;M<A.expressions.length;M++){var T=s.getChild(M),x=T.jsonEncode();C.hasOwnProperty(x)&&(T.remove(),M--),C[x]=!0}}}},6209:D=>{function Q(b){if(Array.isArray(b)){for(var v=0,d=Array(b.length);v<b.length;v++)d[v]=b[v];return d}return Array.from(b)}D.exports={_hasIFlag:!1,_hasUFlag:!1,init:function(v){this._hasIFlag=v.flags.includes("i"),this._hasUFlag=v.flags.includes("u")},CharacterClass:function(v){(function s(b){b.node.expressions.forEach(function(d,y){(function T(b){return"ClassRange"===b.type&&"0"===b.from.value&&"9"===b.to.value})(d)&&b.getChild(y).replace({type:"Char",value:"\\d",kind:"meta"})})})(v),function A(b,v,d){var Z=null,L=null,$=null,N=null,j=null,te=null;b.node.expressions.forEach(function(X,re){g(X,"\\d")?Z=b.getChild(re):function u(b){return"ClassRange"===b.type&&"a"===b.from.value&&"z"===b.to.value}(X)?L=b.getChild(re):function e(b){return"ClassRange"===b.type&&"A"===b.from.value&&"Z"===b.to.value}(X)?$=b.getChild(re):function l(b){return"Char"===b.type&&"_"===b.value&&"simple"===b.kind}(X)?N=b.getChild(re):v&&d&&_(X,383)?j=b.getChild(re):v&&d&&_(X,8490)&&(te=b.getChild(re))}),Z&&(L&&$||v&&(L||$))&&N&&(!d||!v||j&&te)&&(Z.replace({type:"Char",value:"\\w",kind:"meta"}),L&&L.remove(),$&&$.remove(),N.remove(),j&&j.remove(),te&&te.remove())}(v,this._hasIFlag,this._hasUFlag),function M(b){var v=b.node;if(!(v.expressions.length<C.length)&&C.every(function(y){return v.expressions.some(function(Z){return y(Z)})})){var d=v.expressions.find(function(y){return g(y,"\\n")});d.value="\\s",d.symbol=void 0,d.codePoint=NaN,v.expressions.map(function(y,Z){return C.some(function(L){return L(y)})?b.getChild(Z):void 0}).filter(Boolean).forEach(function(y){return y.remove()})}}(v)}};var C=[function(b){return x(b," ")}].concat(Q(["\\f","\\n","\\r","\\t","\\v"].map(function(b){return function(v){return g(v,b)}})),Q([160,5760,8232,8233,8239,8287,12288,65279].map(function(b){return function(v){return _(v,b)}})),[function(b){return"ClassRange"===b.type&&_(b.from,8192)&&_(b.to,8202)}]);function x(b,v){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"simple";return"Char"===b.type&&b.value===v&&b.kind===d}function g(b,v){return x(b,v,"meta")}function _(b,v){return"Char"===b.type&&"unicode"===b.kind&&b.codePoint===v}},7321:D=>{D.exports={CharacterClass:function(x){var T,g=x.node;if(1===g.expressions.length&&function C(T){var x=T.parent;if("Alternative"!==x.type)return!0;var u=x.expressions[T.index-1];return null==u||!("Backreference"===u.type&&"number"===u.kind||"Char"===u.type&&"decimal"===u.kind)}(x)&&function Q(T){return"Char"===T.type&&"\\b"!==T.value}(g.expressions[0])){var u=g.expressions[0],e=u.value,l=u.kind,_=u.escaped;if(g.negative){if(!function s(T){return/^\\[dwsDWS]$/.test(T)}(e))return;e=function A(T){return/[dws]/.test(T)?T.toUpperCase():T.toLowerCase()}(e)}x.replace({type:"Char",value:e,kind:l,escaped:_||(T=e,/[*[()+?$./{}|]/.test(T))})}}}},4890:D=>{var Q="A".codePointAt(0),s="Z".codePointAt(0),A="a".codePointAt(0),C="z".codePointAt(0),M="0".codePointAt(0),T="9".codePointAt(0);D.exports={Char:function(l){var _=l.node,b=l.parent;if(!isNaN(_.codePoint)&&"simple"!==_.kind&&("ClassRange"!==b.type||function x(e){var l=e.from,_=e.to;return l.codePoint>=M&&l.codePoint<=T&&_.codePoint>=M&&_.codePoint<=T||l.codePoint>=Q&&l.codePoint<=s&&_.codePoint>=Q&&_.codePoint<=s||l.codePoint>=A&&l.codePoint<=C&&_.codePoint>=A&&_.codePoint<=C}(b))&&function g(e){return e>=32&&e<=126}(_.codePoint)){var v=String.fromCodePoint(_.codePoint),d={type:"Char",kind:"simple",value:v,symbol:v,codePoint:_.codePoint};(function u(e,l){return"ClassRange"===l||"CharacterClass"===l?/[\]\\^-]/.test(e):/[*[()+?^$./\\|{}]/.test(e)})(v,b.type)&&(d.escaped=!0),l.replace(d)}}}},2477:D=>{function C(g,u,e){for(var l=g,_=(e?l>=0:l<u.expressions.length)&&u.expressions[l];_&&"Char"===_.type&&"simple"===_.kind&&!_.escaped&&/\d/.test(_.value);)e?l--:l++,_=(e?l>=0:l<u.expressions.length)&&u.expressions[l];return Math.abs(g-l)}function M(g,u){return g&&"Char"===g.type&&"simple"===g.kind&&!g.escaped&&g.value===u}D.exports={_hasXFlag:!1,init:function(u){this._hasXFlag=u.flags.includes("x")},Char:function(u){var e=u.node;e.escaped&&function Q(g,u){var e=g.node.value,l=g.index,_=g.parent;return"CharacterClass"!==_.type&&"ClassRange"!==_.type?!function A(g,u,e,l){return"{"===g?function T(g,u){if(null==g)return!1;var e=C(g+1,u),l=g+e+1,_=l<u.expressions.length&&u.expressions[l];if(e){if(M(_,"}"))return!0;if(M(_,","))return M(_=(l=l+(e=C(l+1,u))+1)<u.expressions.length&&u.expressions[l],"}")}return!1}(u,e):"}"===g?function x(g,u){if(null==g)return!1;var e=C(g-1,u,!0),l=g-e-1,_=l>=0&&u.expressions[l];return!(!e||!M(_,"{"))||!!M(_,",")&&(_=(l=l-(e=C(l-1,u,!0))-1)<u.expressions.length&&u.expressions[l],e&&M(_,"{"))}(u,e):!(!l||!/[ #]/.test(g))||/[*[()+?^$./\\|]/.test(g)}(e,l,_,u):!function s(g,u,e){return"^"===g?0===u&&!e.negative:"-"===g||/[\]\\]/.test(g)}(e,l,_)}(u,this._hasXFlag)&&delete e.escaped}}},2713:D=>{D.exports={shouldRun:function(s){return s.flags.includes("u")},Char:function(s){var A=s.node;"unicode"!==A.kind||!A.isSurrogatePair||isNaN(A.codePoint)||(A.value="\\u{"+A.codePoint.toString(16)+"}",delete A.isSurrogatePair)}}},6695:(D,Q,s)=>{function A(e){if(Array.isArray(e)){for(var l=0,_=Array(e.length);l<e.length;l++)_[l]=e[l];return _}return Array.from(e)}var C=s(6192),T=s(7361).increaseQuantifierByOne;function x(e,l,_){for(var b=e.node,v=Math.ceil(_/2),d=0;d<v;){var y=_-2*d-1,Z=void 0,L=void 0;if(0===d?(Z=l,L=e.getChild(y)):(Z=C.getForNode({type:"Alternative",expressions:[].concat(A(b.expressions.slice(_-d,_)),[l.node])}),L=C.getForNode({type:"Alternative",expressions:[].concat(A(b.expressions.slice(y,_-d)))})),Z.hasEqualSource(L)){for(var $=0;$<2*d+1;$++)e.getChild(y).remove();return l.replace({type:"Repetition",expression:0===d&&"Repetition"!==Z.node.type?Z.node:{type:"Group",capturing:!1,expression:Z.node},quantifier:{type:"Quantifier",kind:"Range",from:2,to:2,greedy:!0}}),y}d++}return _}function g(e,l,_){for(var b=e.node,v=0;v<_;){var d=e.getChild(v);if("Repetition"===d.node.type&&d.node.quantifier.greedy){var y=d.getChild(),Z=void 0;if("Group"===y.node.type&&!y.node.capturing&&(y=y.getChild()),v+1===_?"Group"===(Z=l).node.type&&!Z.node.capturing&&(Z=Z.getChild()):Z=C.getForNode({type:"Alternative",expressions:[].concat(A(b.expressions.slice(v+1,_+1)))}),y.hasEqualSource(Z)){for(var L=v;L<_;L++)e.getChild(v+1).remove();return T(d.node.quantifier),v}}v++}return _}function u(e,l,_){var b=e.node;if("Repetition"===l.node.type&&l.node.quantifier.greedy){var v=l.getChild(),d=void 0;"Group"===v.node.type&&!v.node.capturing&&(v=v.getChild());var y=void 0;if("Alternative"===v.node.type?d=C.getForNode({type:"Alternative",expressions:[].concat(A(b.expressions.slice(_-(y=v.node.expressions.length),_)))}):(y=1,"Group"===(d=e.getChild(_-1)).node.type&&!d.node.capturing&&(d=d.getChild())),d.hasEqualSource(v)){for(var Z=_-y;Z<_;Z++)e.getChild(_-y).remove();return T(l.node.quantifier),_-y}}return _}D.exports={Alternative:function(l){for(var _=l.node,b=1;b<_.expressions.length;){var v=l.getChild(b);if((b=Math.max(1,x(l,v,b)))>=_.expressions.length||(v=l.getChild(b),(b=Math.max(1,g(l,v,b)))>=_.expressions.length))break;v=l.getChild(b),b=Math.max(1,u(l,v,b)),b++}}}},725:(D,Q,s)=>{var A=s(6192),C=s(7361),M=C.disjunctionToList,T=C.listToDisjunction;D.exports={Disjunction:function(g){var e={},l=M(g.node).filter(function(_){var b=_?A.getForNode(_).jsonEncode():"null";return!e.hasOwnProperty(b)&&(e[b]=_,!0)});g.replace(T(l))}}},4494:D=>{D.exports={Disjunction:function(C){var M=C.node,T=C.parent;if(Q[T.type]){var x=new Map;if(s(M,x)&&x.size){var g={type:"CharacterClass",expressions:Array.from(x.keys()).sort().map(function(u){return x.get(u)})};Q[T.type](C.getParent(),g)}}}};var Q={RegExp:function(C,M){C.node.body=M},Group:function(C,M){var T=C.node;T.capturing?T.expression=M:C.replace(M)}};function s(A,C){if(!A)return!1;var M=A.type;if("Disjunction"===M){var x=A.right;return s(A.left,C)&&s(x,C)}return"Char"===M?(C.set(A.value,A),!0):"CharacterClass"===M&&!A.negative&&A.expressions.every(function(u){return s(u,C)})}},334:(D,Q,s)=>{D.exports=new Map([["charSurrogatePairToSingleUnicode",s(2713)],["charCodeToSimpleChar",s(4890)],["charCaseInsensitiveLowerCaseTransform",s(3821)],["charClassRemoveDuplicates",s(3769)],["quantifiersMerge",s(16)],["quantifierRangeToSymbol",s(6672)],["charClassClassrangesToChars",s(785)],["charClassToMeta",s(6209)],["charClassToSingleChar",s(7321)],["charEscapeUnescape",s(2477)],["charClassClassrangesMerge",s(4513)],["disjunctionRemoveDuplicates",s(725)],["groupSingleCharsToCharClass",s(4494)],["removeEmptyGroup",s(8792)],["ungroup",s(6609)],["combineRepeatingPatterns",s(6695)]])},6672:D=>{D.exports={Quantifier:function(M){"Range"===M.node.kind&&(function Q(C){var M=C.node;0!==M.from||M.to||(M.kind="*",delete M.from)}(M),function s(C){var M=C.node;1!==M.from||M.to||(M.kind="+",delete M.from)}(M),function A(C){var M=C.node;1!==M.from||1!==M.to||C.parentPath.replace(C.parentPath.node.expression)}(M))}}},16:(D,Q,s)=>{var C=s(7361).increaseQuantifierByOne;function M(x){return x.greedy&&("+"===x.kind||"*"===x.kind||"Range"===x.kind&&!x.to)}function T(x){var g=void 0,u=void 0;return"*"===x.kind?g=0:"+"===x.kind?g=1:"?"===x.kind?(g=0,u=1):(g=x.from,x.to&&(u=x.to)),{from:g,to:u}}D.exports={Repetition:function(g){var u=g.node;if("Alternative"===g.parent.type&&g.index){var l=g.getPreviousSibling();if(l)if("Repetition"===l.node.type){if(!l.getChild().hasEqualSource(g.getChild()))return;var _=T(l.node.quantifier),b=_.from,v=_.to,d=T(u.quantifier),y=d.from,Z=d.to;if(l.node.quantifier.greedy!==u.quantifier.greedy&&!M(l.node.quantifier)&&!M(u.quantifier))return;u.quantifier.kind="Range",u.quantifier.from=b+y,v&&Z?u.quantifier.to=v+Z:delete u.quantifier.to,(M(l.node.quantifier)||M(u.quantifier))&&(u.quantifier.greedy=!0),l.remove()}else{if(!l.hasEqualSource(g.getChild()))return;C(u.quantifier),l.remove()}}}}},8792:D=>{D.exports={Group:function(s){var A=s.node,C=s.parent,M=s.getChild();A.capturing||M||("Repetition"===C.type?s.getParent().replace(A):"RegExp"!==C.type&&s.remove())}}},6609:D=>{function Q(A){if(Array.isArray(A)){for(var C=0,M=Array(A.length);C<A.length;C++)M[C]=A[C];return M}return Array.from(A)}D.exports={Group:function(C){var M=C.node,T=C.parent,x=C.getChild();if(!M.capturing&&x&&function s(A){var C=A.parent;if("Alternative"!==C.type)return!0;var T=C.expressions[A.index-1];return null==T||!("Backreference"===T.type&&"number"===T.kind||"Char"===T.type&&"decimal"===T.kind)}(C)&&("Disjunction"!==x.node.type||"RegExp"===T.type)&&("Repetition"!==T.type||"Char"===x.node.type||"CharacterClass"===x.node.type))if("Alternative"===x.node.type){var g=C.getParent();"Alternative"===g.node.type&&g.replace({type:"Alternative",expressions:[].concat(Q(T.expressions.slice(0,C.index)),Q(x.node.expressions),Q(T.expressions.slice(C.index+1)))})}else C.replace(x.node)}}},3585:(D,Q,s)=>{function C(h){if(Array.isArray(h)){for(var m=0,V=Array(h.length);m<h.length;m++)V[m]=h[m];return V}return Array.from(h)}var M=void 0,x={},g=void 0,u=void 0;function e(h,m){return x.options.captureLocations?h&&m?{startOffset:h.startOffset,endOffset:m.endOffset,startLine:h.startLine,endLine:m.endLine,startColumn:h.startColumn,endColumn:m.endColumn}:h||m:null}var _=[[-1,1,function(h,m){u=e(m,m),g=h}],[0,4,function(h,m,V,E,U,B,ee,G){u=e(U,G),g=ge({type:"RegExp",body:m,flags:J(E)},Ne(U,G||ee))}],[1,1,function(h,m){u=e(m,m),g=h}],[1,0,function(){u=null,g=""}],[2,1,function(h,m){u=e(m,m),g=h}],[2,2,function(h,m,V,E){u=e(V,E),g=h+m}],[3,1,function(h,m){u=e(m,m),g=h}],[4,1,function(h,m){u=e(m,m),g=h}],[4,3,function(h,m,V,E,U,B){u=e(E,B);var ee=null;U&&(ee=Ne(E||U,B||U)),g=ge({type:"Disjunction",left:h,right:V},ee)}],[5,1,function(h,m){u=e(m,m),g=0!==h.length?ge(1===h.length?h[0]:{type:"Alternative",expressions:h},u):null}],[6,0,function(){u=null,g=[]}],[6,2,function(h,m,V,E){u=e(V,E),g=h.concat(m)}],[7,1,function(h,m){u=e(m,m),g=ge(Object.assign({type:"Assertion"},h),u)}],[7,2,function(h,m,V,E){u=e(V,E),g=h,m&&(g=ge({type:"Repetition",expression:h,quantifier:m},u))}],[8,1,function(h,m){u=e(m,m),g={kind:"^"}}],[8,1,function(h,m){u=e(m,m),g={kind:"$"}}],[8,1,function(h,m){u=e(m,m),g={kind:"\\b"}}],[8,1,function(h,m){u=e(m,m),g={kind:"\\B"}}],[8,3,function(h,m,V,E,U,B){u=e(E,B),g={kind:"Lookahead",assertion:m}}],[8,3,function(h,m,V,E,U,B){u=e(E,B),g={kind:"Lookahead",negative:!0,assertion:m}}],[8,3,function(h,m,V,E,U,B){u=e(E,B),g={kind:"Lookbehind",assertion:m}}],[8,3,function(h,m,V,E,U,B){u=e(E,B),g={kind:"Lookbehind",negative:!0,assertion:m}}],[9,1,function(h,m){u=e(m,m),g=h}],[9,1,function(h,m){u=e(m,m),g=h}],[9,1,function(h,m){u=e(m,m),g=h}],[10,1,function(h,m){u=e(m,m),g=fe(h,"simple",u)}],[10,1,function(h,m){u=e(m,m),(g=fe(h.slice(1),"simple",u)).escaped=!0}],[10,1,function(h,m){u=e(m,m),(g=fe(h,"unicode",u)).isSurrogatePair=!0}],[10,1,function(h,m){u=e(m,m),g=fe(h,"unicode",u)}],[10,1,function(h,m){u=e(m,m),g=function ke(h,m){var V="P"===h[1],E=h.indexOf("="),U=h.slice(3,-1!==E?E:-1),B=void 0,ee=-1===E&&pe.isGeneralCategoryValue(U),G=-1===E&&pe.isBinaryPropertyName(U);if(ee)B=U,U="General_Category";else if(G)B=U;else{if(!pe.isValidName(U))throw new SyntaxError("Invalid unicode property name: "+U+".");if(B=h.slice(E+1,-1),!pe.isValidValue(U,B))throw new SyntaxError("Invalid "+U+" unicode property value: "+B+".")}return ge({type:"UnicodeProperty",name:U,value:B,negative:V,shorthand:ee,binary:G,canonicalName:pe.getCanonicalName(U)||U,canonicalValue:pe.getCanonicalValue(B)||B},m)}(h,u)}],[10,1,function(h,m){u=e(m,m),g=fe(h,"control",u)}],[10,1,function(h,m){u=e(m,m),g=fe(h,"hex",u)}],[10,1,function(h,m){u=e(m,m),g=fe(h,"oct",u)}],[10,1,function(h,m){u=e(m,m),g=function q(h,m){var V=Number(h.slice(1));return V>0&&V<=j?ge({type:"Backreference",kind:"number",number:V,reference:V},m):fe(h,"decimal",m)}(h,u)}],[10,1,function(h,m){u=e(m,m),g=fe(h,"meta",u)}],[10,1,function(h,m){u=e(m,m),g=fe(h,"meta",u)}],[10,1,function(h,m){u=e(m,m),g=function Ge(h,m){var V=h.slice(3,-1),E=he(V);if(te.hasOwnProperty(E))return ge({type:"Backreference",kind:"name",number:te[E],reference:E,referenceRaw:V},m);var U=null,B=null,ee=null,G=null;m&&(U=m.startOffset,B=m.startLine,ee=m.endLine,G=m.startColumn);var Ce=/^[\w$<>]/,xe=void 0,Oe=[fe(h.slice(1,2),"simple",U?{startLine:B,endLine:ee,startColumn:G,startOffset:U,endOffset:U+=2,endColumn:G+=2}:null)];for(Oe[0].escaped=!0,h=h.slice(2);h.length>0;){var W=null;(W=h.match(ce))||(W=h.match(ue))?(U&&(xe={startLine:B,endLine:ee,startColumn:G,startOffset:U,endOffset:U+=W[0].length,endColumn:G+=W[0].length}),Oe.push(fe(W[0],"unicode",xe)),h=h.slice(W[0].length)):(W=h.match(Ce))&&(U&&(xe={startLine:B,endLine:ee,startColumn:G,startOffset:U,endOffset:++U,endColumn:++G}),Oe.push(fe(W[0],"simple",xe)),h=h.slice(1))}return Oe}(h,m)}],[11,1,function(h,m){u=e(m,m),g=h}],[11,0],[12,1,function(h,m){u=e(m,m),g=h}],[12,2,function(h,m,V,E){u=e(V,E),h.greedy=!1,g=h}],[13,1,function(h,m){u=e(m,m),g=ge({type:"Quantifier",kind:h,greedy:!0},u)}],[13,1,function(h,m){u=e(m,m),g=ge({type:"Quantifier",kind:h,greedy:!0},u)}],[13,1,function(h,m){u=e(m,m),g=ge({type:"Quantifier",kind:h,greedy:!0},u)}],[13,1,function(h,m){u=e(m,m);var V=re(h);g=ge({type:"Quantifier",kind:"Range",from:V[0],to:V[0],greedy:!0},u)}],[13,1,function(h,m){u=e(m,m),g=ge({type:"Quantifier",kind:"Range",from:re(h)[0],greedy:!0},u)}],[13,1,function(h,m){u=e(m,m);var V=re(h);g=ge({type:"Quantifier",kind:"Range",from:V[0],to:V[1],greedy:!0},u)}],[14,1,function(h,m){u=e(m,m),g=h}],[14,1,function(h,m){u=e(m,m),g=h}],[15,3,function(h,m,V,E,U,B){u=e(E,B);var ee=String(h),G=he(ee);if(!x.options.allowGroupNameDuplicates&&te.hasOwnProperty(G))throw new SyntaxError('Duplicate of the named group "'+G+'".');te[G]=h.groupNumber,g=ge({type:"Group",capturing:!0,name:G,nameRaw:ee,number:h.groupNumber,expression:m},u)}],[15,3,function(h,m,V,E,U,B){u=e(E,B),g=ge({type:"Group",capturing:!0,number:h.groupNumber,expression:m},u)}],[16,3,function(h,m,V,E,U,B){u=e(E,B),g=ge({type:"Group",capturing:!1,expression:m},u)}],[17,3,function(h,m,V,E,U,B){u=e(E,B),g=ge({type:"CharacterClass",negative:!0,expressions:m},u)}],[17,3,function(h,m,V,E,U,B){u=e(E,B),g=ge({type:"CharacterClass",expressions:m},u)}],[18,0,function(){u=null,g=[]}],[18,1,function(h,m){u=e(m,m),g=h}],[19,1,function(h,m){u=e(m,m),g=[h]}],[19,2,function(h,m,V,E){u=e(V,E),g=[h].concat(m)}],[19,4,function(h,m,V,E,U,B,ee,G){u=e(U,G),_e(h,V),g=[ge({type:"ClassRange",from:h,to:V},Ne(U,ee))],E&&(g=g.concat(E))}],[20,1,function(h,m){u=e(m,m),g=h}],[20,2,function(h,m,V,E){u=e(V,E),g=[h].concat(m)}],[20,4,function(h,m,V,E,U,B,ee,G){u=e(U,G),_e(h,V),g=[ge({type:"ClassRange",from:h,to:V},Ne(U,ee))],E&&(g=g.concat(E))}],[21,1,function(h,m){u=e(m,m),g=fe(h,"simple",u)}],[21,1,function(h,m){u=e(m,m),g=h}],[22,1,function(h,m){u=e(m,m),g=h}],[22,1,function(h,m){u=e(m,m),g=fe(h,"meta",u)}]],b={SLASH:"23",CHAR:"24",BAR:"25",BOS:"26",EOS:"27",ESC_b:"28",ESC_B:"29",POS_LA_ASSERT:"30",R_PAREN:"31",NEG_LA_ASSERT:"32",POS_LB_ASSERT:"33",NEG_LB_ASSERT:"34",ESC_CHAR:"35",U_CODE_SURROGATE:"36",U_CODE:"37",U_PROP_VALUE_EXP:"38",CTRL_CH:"39",HEX_CODE:"40",OCT_CODE:"41",DEC_CODE:"42",META_CHAR:"43",ANY:"44",NAMED_GROUP_REF:"45",Q_MARK:"46",STAR:"47",PLUS:"48",RANGE_EXACT:"49",RANGE_OPEN:"50",RANGE_CLOSED:"51",NAMED_CAPTURE_GROUP:"52",L_PAREN:"53",NON_CAPTURE_GROUP:"54",NEG_CLASS:"55",R_BRACKET:"56",L_BRACKET:"57",DASH:"58",$:"59"},v=[{0:1,23:"s2"},{59:"acc"},{3:3,4:4,5:5,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"s7"},{23:"r6",25:"s12"},{23:"r7",25:"r7",31:"r7"},{7:14,8:15,9:16,10:25,14:27,15:42,16:43,17:26,23:"r9",24:"s28",25:"r9",26:"s17",27:"s18",28:"s19",29:"s20",30:"s21",31:"r9",32:"s22",33:"s23",34:"s24",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",52:"s44",53:"s45",54:"s46",55:"s40",57:"s41"},{1:8,2:9,24:"s10",59:"r3"},{59:"r1"},{24:"s11",59:"r2"},{24:"r4",59:"r4"},{24:"r5",59:"r5"},{5:13,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r8",25:"r8",31:"r8"},{23:"r11",24:"r11",25:"r11",26:"r11",27:"r11",28:"r11",29:"r11",30:"r11",31:"r11",32:"r11",33:"r11",34:"r11",35:"r11",36:"r11",37:"r11",38:"r11",39:"r11",40:"r11",41:"r11",42:"r11",43:"r11",44:"r11",45:"r11",52:"r11",53:"r11",54:"r11",55:"r11",57:"r11"},{23:"r12",24:"r12",25:"r12",26:"r12",27:"r12",28:"r12",29:"r12",30:"r12",31:"r12",32:"r12",33:"r12",34:"r12",35:"r12",36:"r12",37:"r12",38:"r12",39:"r12",40:"r12",41:"r12",42:"r12",43:"r12",44:"r12",45:"r12",52:"r12",53:"r12",54:"r12",55:"r12",57:"r12"},{11:47,12:48,13:49,23:"r38",24:"r38",25:"r38",26:"r38",27:"r38",28:"r38",29:"r38",30:"r38",31:"r38",32:"r38",33:"r38",34:"r38",35:"r38",36:"r38",37:"r38",38:"r38",39:"r38",40:"r38",41:"r38",42:"r38",43:"r38",44:"r38",45:"r38",46:"s52",47:"s50",48:"s51",49:"s53",50:"s54",51:"s55",52:"r38",53:"r38",54:"r38",55:"r38",57:"r38"},{23:"r14",24:"r14",25:"r14",26:"r14",27:"r14",28:"r14",29:"r14",30:"r14",31:"r14",32:"r14",33:"r14",34:"r14",35:"r14",36:"r14",37:"r14",38:"r14",39:"r14",40:"r14",41:"r14",42:"r14",43:"r14",44:"r14",45:"r14",52:"r14",53:"r14",54:"r14",55:"r14",57:"r14"},{23:"r15",24:"r15",25:"r15",26:"r15",27:"r15",28:"r15",29:"r15",30:"r15",31:"r15",32:"r15",33:"r15",34:"r15",35:"r15",36:"r15",37:"r15",38:"r15",39:"r15",40:"r15",41:"r15",42:"r15",43:"r15",44:"r15",45:"r15",52:"r15",53:"r15",54:"r15",55:"r15",57:"r15"},{23:"r16",24:"r16",25:"r16",26:"r16",27:"r16",28:"r16",29:"r16",30:"r16",31:"r16",32:"r16",33:"r16",34:"r16",35:"r16",36:"r16",37:"r16",38:"r16",39:"r16",40:"r16",41:"r16",42:"r16",43:"r16",44:"r16",45:"r16",52:"r16",53:"r16",54:"r16",55:"r16",57:"r16"},{23:"r17",24:"r17",25:"r17",26:"r17",27:"r17",28:"r17",29:"r17",30:"r17",31:"r17",32:"r17",33:"r17",34:"r17",35:"r17",36:"r17",37:"r17",38:"r17",39:"r17",40:"r17",41:"r17",42:"r17",43:"r17",44:"r17",45:"r17",52:"r17",53:"r17",54:"r17",55:"r17",57:"r17"},{4:57,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:59,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:61,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:63,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r22",24:"r22",25:"r22",26:"r22",27:"r22",28:"r22",29:"r22",30:"r22",31:"r22",32:"r22",33:"r22",34:"r22",35:"r22",36:"r22",37:"r22",38:"r22",39:"r22",40:"r22",41:"r22",42:"r22",43:"r22",44:"r22",45:"r22",46:"r22",47:"r22",48:"r22",49:"r22",50:"r22",51:"r22",52:"r22",53:"r22",54:"r22",55:"r22",57:"r22"},{23:"r23",24:"r23",25:"r23",26:"r23",27:"r23",28:"r23",29:"r23",30:"r23",31:"r23",32:"r23",33:"r23",34:"r23",35:"r23",36:"r23",37:"r23",38:"r23",39:"r23",40:"r23",41:"r23",42:"r23",43:"r23",44:"r23",45:"r23",46:"r23",47:"r23",48:"r23",49:"r23",50:"r23",51:"r23",52:"r23",53:"r23",54:"r23",55:"r23",57:"r23"},{23:"r24",24:"r24",25:"r24",26:"r24",27:"r24",28:"r24",29:"r24",30:"r24",31:"r24",32:"r24",33:"r24",34:"r24",35:"r24",36:"r24",37:"r24",38:"r24",39:"r24",40:"r24",41:"r24",42:"r24",43:"r24",44:"r24",45:"r24",46:"r24",47:"r24",48:"r24",49:"r24",50:"r24",51:"r24",52:"r24",53:"r24",54:"r24",55:"r24",57:"r24"},{23:"r25",24:"r25",25:"r25",26:"r25",27:"r25",28:"r25",29:"r25",30:"r25",31:"r25",32:"r25",33:"r25",34:"r25",35:"r25",36:"r25",37:"r25",38:"r25",39:"r25",40:"r25",41:"r25",42:"r25",43:"r25",44:"r25",45:"r25",46:"r25",47:"r25",48:"r25",49:"r25",50:"r25",51:"r25",52:"r25",53:"r25",54:"r25",55:"r25",56:"r25",57:"r25",58:"r25"},{23:"r26",24:"r26",25:"r26",26:"r26",27:"r26",28:"r26",29:"r26",30:"r26",31:"r26",32:"r26",33:"r26",34:"r26",35:"r26",36:"r26",37:"r26",38:"r26",39:"r26",40:"r26",41:"r26",42:"r26",43:"r26",44:"r26",45:"r26",46:"r26",47:"r26",48:"r26",49:"r26",50:"r26",51:"r26",52:"r26",53:"r26",54:"r26",55:"r26",56:"r26",57:"r26",58:"r26"},{23:"r27",24:"r27",25:"r27",26:"r27",27:"r27",28:"r27",29:"r27",30:"r27",31:"r27",32:"r27",33:"r27",34:"r27",35:"r27",36:"r27",37:"r27",38:"r27",39:"r27",40:"r27",41:"r27",42:"r27",43:"r27",44:"r27",45:"r27",46:"r27",47:"r27",48:"r27",49:"r27",50:"r27",51:"r27",52:"r27",53:"r27",54:"r27",55:"r27",56:"r27",57:"r27",58:"r27"},{23:"r28",24:"r28",25:"r28",26:"r28",27:"r28",28:"r28",29:"r28",30:"r28",31:"r28",32:"r28",33:"r28",34:"r28",35:"r28",36:"r28",37:"r28",38:"r28",39:"r28",40:"r28",41:"r28",42:"r28",43:"r28",44:"r28",45:"r28",46:"r28",47:"r28",48:"r28",49:"r28",50:"r28",51:"r28",52:"r28",53:"r28",54:"r28",55:"r28",56:"r28",57:"r28",58:"r28"},{23:"r29",24:"r29",25:"r29",26:"r29",27:"r29",28:"r29",29:"r29",30:"r29",31:"r29",32:"r29",33:"r29",34:"r29",35:"r29",36:"r29",37:"r29",38:"r29",39:"r29",40:"r29",41:"r29",42:"r29",43:"r29",44:"r29",45:"r29",46:"r29",47:"r29",48:"r29",49:"r29",50:"r29",51:"r29",52:"r29",53:"r29",54:"r29",55:"r29",56:"r29",57:"r29",58:"r29"},{23:"r30",24:"r30",25:"r30",26:"r30",27:"r30",28:"r30",29:"r30",30:"r30",31:"r30",32:"r30",33:"r30",34:"r30",35:"r30",36:"r30",37:"r30",38:"r30",39:"r30",40:"r30",41:"r30",42:"r30",43:"r30",44:"r30",45:"r30",46:"r30",47:"r30",48:"r30",49:"r30",50:"r30",51:"r30",52:"r30",53:"r30",54:"r30",55:"r30",56:"r30",57:"r30",58:"r30"},{23:"r31",24:"r31",25:"r31",26:"r31",27:"r31",28:"r31",29:"r31",30:"r31",31:"r31",32:"r31",33:"r31",34:"r31",35:"r31",36:"r31",37:"r31",38:"r31",39:"r31",40:"r31",41:"r31",42:"r31",43:"r31",44:"r31",45:"r31",46:"r31",47:"r31",48:"r31",49:"r31",50:"r31",51:"r31",52:"r31",53:"r31",54:"r31",55:"r31",56:"r31",57:"r31",58:"r31"},{23:"r32",24:"r32",25:"r32",26:"r32",27:"r32",28:"r32",29:"r32",30:"r32",31:"r32",32:"r32",33:"r32",34:"r32",35:"r32",36:"r32",37:"r32",38:"r32",39:"r32",40:"r32",41:"r32",42:"r32",43:"r32",44:"r32",45:"r32",46:"r32",47:"r32",48:"r32",49:"r32",50:"r32",51:"r32",52:"r32",53:"r32",54:"r32",55:"r32",56:"r32",57:"r32",58:"r32"},{23:"r33",24:"r33",25:"r33",26:"r33",27:"r33",28:"r33",29:"r33",30:"r33",31:"r33",32:"r33",33:"r33",34:"r33",35:"r33",36:"r33",37:"r33",38:"r33",39:"r33",40:"r33",41:"r33",42:"r33",43:"r33",44:"r33",45:"r33",46:"r33",47:"r33",48:"r33",49:"r33",50:"r33",51:"r33",52:"r33",53:"r33",54:"r33",55:"r33",56:"r33",57:"r33",58:"r33"},{23:"r34",24:"r34",25:"r34",26:"r34",27:"r34",28:"r34",29:"r34",30:"r34",31:"r34",32:"r34",33:"r34",34:"r34",35:"r34",36:"r34",37:"r34",38:"r34",39:"r34",40:"r34",41:"r34",42:"r34",43:"r34",44:"r34",45:"r34",46:"r34",47:"r34",48:"r34",49:"r34",50:"r34",51:"r34",52:"r34",53:"r34",54:"r34",55:"r34",56:"r34",57:"r34",58:"r34"},{23:"r35",24:"r35",25:"r35",26:"r35",27:"r35",28:"r35",29:"r35",30:"r35",31:"r35",32:"r35",33:"r35",34:"r35",35:"r35",36:"r35",37:"r35",38:"r35",39:"r35",40:"r35",41:"r35",42:"r35",43:"r35",44:"r35",45:"r35",46:"r35",47:"r35",48:"r35",49:"r35",50:"r35",51:"r35",52:"r35",53:"r35",54:"r35",55:"r35",56:"r35",57:"r35",58:"r35"},{23:"r36",24:"r36",25:"r36",26:"r36",27:"r36",28:"r36",29:"r36",30:"r36",31:"r36",32:"r36",33:"r36",34:"r36",35:"r36",36:"r36",37:"r36",38:"r36",39:"r36",40:"r36",41:"r36",42:"r36",43:"r36",44:"r36",45:"r36",46:"r36",47:"r36",48:"r36",49:"r36",50:"r36",51:"r36",52:"r36",53:"r36",54:"r36",55:"r36",56:"r36",57:"r36",58:"r36"},{10:70,18:65,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{10:70,18:83,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{23:"r47",24:"r47",25:"r47",26:"r47",27:"r47",28:"r47",29:"r47",30:"r47",31:"r47",32:"r47",33:"r47",34:"r47",35:"r47",36:"r47",37:"r47",38:"r47",39:"r47",40:"r47",41:"r47",42:"r47",43:"r47",44:"r47",45:"r47",46:"r47",47:"r47",48:"r47",49:"r47",50:"r47",51:"r47",52:"r47",53:"r47",54:"r47",55:"r47",57:"r47"},{23:"r48",24:"r48",25:"r48",26:"r48",27:"r48",28:"r48",29:"r48",30:"r48",31:"r48",32:"r48",33:"r48",34:"r48",35:"r48",36:"r48",37:"r48",38:"r48",39:"r48",40:"r48",41:"r48",42:"r48",43:"r48",44:"r48",45:"r48",46:"r48",47:"r48",48:"r48",49:"r48",50:"r48",51:"r48",52:"r48",53:"r48",54:"r48",55:"r48",57:"r48"},{4:85,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:87,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:89,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r13",24:"r13",25:"r13",26:"r13",27:"r13",28:"r13",29:"r13",30:"r13",31:"r13",32:"r13",33:"r13",34:"r13",35:"r13",36:"r13",37:"r13",38:"r13",39:"r13",40:"r13",41:"r13",42:"r13",43:"r13",44:"r13",45:"r13",52:"r13",53:"r13",54:"r13",55:"r13",57:"r13"},{23:"r37",24:"r37",25:"r37",26:"r37",27:"r37",28:"r37",29:"r37",30:"r37",31:"r37",32:"r37",33:"r37",34:"r37",35:"r37",36:"r37",37:"r37",38:"r37",39:"r37",40:"r37",41:"r37",42:"r37",43:"r37",44:"r37",45:"r37",52:"r37",53:"r37",54:"r37",55:"r37",57:"r37"},{23:"r39",24:"r39",25:"r39",26:"r39",27:"r39",28:"r39",29:"r39",30:"r39",31:"r39",32:"r39",33:"r39",34:"r39",35:"r39",36:"r39",37:"r39",38:"r39",39:"r39",40:"r39",41:"r39",42:"r39",43:"r39",44:"r39",45:"r39",46:"s56",52:"r39",53:"r39",54:"r39",55:"r39",57:"r39"},{23:"r41",24:"r41",25:"r41",26:"r41",27:"r41",28:"r41",29:"r41",30:"r41",31:"r41",32:"r41",33:"r41",34:"r41",35:"r41",36:"r41",37:"r41",38:"r41",39:"r41",40:"r41",41:"r41",42:"r41",43:"r41",44:"r41",45:"r41",46:"r41",52:"r41",53:"r41",54:"r41",55:"r41",57:"r41"},{23:"r42",24:"r42",25:"r42",26:"r42",27:"r42",28:"r42",29:"r42",30:"r42",31:"r42",32:"r42",33:"r42",34:"r42",35:"r42",36:"r42",37:"r42",38:"r42",39:"r42",40:"r42",41:"r42",42:"r42",43:"r42",44:"r42",45:"r42",46:"r42",52:"r42",53:"r42",54:"r42",55:"r42",57:"r42"},{23:"r43",24:"r43",25:"r43",26:"r43",27:"r43",28:"r43",29:"r43",30:"r43",31:"r43",32:"r43",33:"r43",34:"r43",35:"r43",36:"r43",37:"r43",38:"r43",39:"r43",40:"r43",41:"r43",42:"r43",43:"r43",44:"r43",45:"r43",46:"r43",52:"r43",53:"r43",54:"r43",55:"r43",57:"r43"},{23:"r44",24:"r44",25:"r44",26:"r44",27:"r44",28:"r44",29:"r44",30:"r44",31:"r44",32:"r44",33:"r44",34:"r44",35:"r44",36:"r44",37:"r44",38:"r44",39:"r44",40:"r44",41:"r44",42:"r44",43:"r44",44:"r44",45:"r44",46:"r44",52:"r44",53:"r44",54:"r44",55:"r44",57:"r44"},{23:"r45",24:"r45",25:"r45",26:"r45",27:"r45",28:"r45",29:"r45",30:"r45",31:"r45",32:"r45",33:"r45",34:"r45",35:"r45",36:"r45",37:"r45",38:"r45",39:"r45",40:"r45",41:"r45",42:"r45",43:"r45",44:"r45",45:"r45",46:"r45",52:"r45",53:"r45",54:"r45",55:"r45",57:"r45"},{23:"r46",24:"r46",25:"r46",26:"r46",27:"r46",28:"r46",29:"r46",30:"r46",31:"r46",32:"r46",33:"r46",34:"r46",35:"r46",36:"r46",37:"r46",38:"r46",39:"r46",40:"r46",41:"r46",42:"r46",43:"r46",44:"r46",45:"r46",46:"r46",52:"r46",53:"r46",54:"r46",55:"r46",57:"r46"},{23:"r40",24:"r40",25:"r40",26:"r40",27:"r40",28:"r40",29:"r40",30:"r40",31:"r40",32:"r40",33:"r40",34:"r40",35:"r40",36:"r40",37:"r40",38:"r40",39:"r40",40:"r40",41:"r40",42:"r40",43:"r40",44:"r40",45:"r40",52:"r40",53:"r40",54:"r40",55:"r40",57:"r40"},{25:"s12",31:"s58"},{23:"r18",24:"r18",25:"r18",26:"r18",27:"r18",28:"r18",29:"r18",30:"r18",31:"r18",32:"r18",33:"r18",34:"r18",35:"r18",36:"r18",37:"r18",38:"r18",39:"r18",40:"r18",41:"r18",42:"r18",43:"r18",44:"r18",45:"r18",52:"r18",53:"r18",54:"r18",55:"r18",57:"r18"},{25:"s12",31:"s60"},{23:"r19",24:"r19",25:"r19",26:"r19",27:"r19",28:"r19",29:"r19",30:"r19",31:"r19",32:"r19",33:"r19",34:"r19",35:"r19",36:"r19",37:"r19",38:"r19",39:"r19",40:"r19",41:"r19",42:"r19",43:"r19",44:"r19",45:"r19",52:"r19",53:"r19",54:"r19",55:"r19",57:"r19"},{25:"s12",31:"s62"},{23:"r20",24:"r20",25:"r20",26:"r20",27:"r20",28:"r20",29:"r20",30:"r20",31:"r20",32:"r20",33:"r20",34:"r20",35:"r20",36:"r20",37:"r20",38:"r20",39:"r20",40:"r20",41:"r20",42:"r20",43:"r20",44:"r20",45:"r20",52:"r20",53:"r20",54:"r20",55:"r20",57:"r20"},{25:"s12",31:"s64"},{23:"r21",24:"r21",25:"r21",26:"r21",27:"r21",28:"r21",29:"r21",30:"r21",31:"r21",32:"r21",33:"r21",34:"r21",35:"r21",36:"r21",37:"r21",38:"r21",39:"r21",40:"r21",41:"r21",42:"r21",43:"r21",44:"r21",45:"r21",52:"r21",53:"r21",54:"r21",55:"r21",57:"r21"},{56:"s72"},{56:"r55"},{10:70,20:73,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r56",58:"s74"},{24:"r62",28:"r62",35:"r62",36:"r62",37:"r62",38:"r62",39:"r62",40:"r62",41:"r62",42:"r62",43:"r62",44:"r62",45:"r62",56:"r62",58:"r62"},{24:"r63",28:"r63",35:"r63",36:"r63",37:"r63",38:"r63",39:"r63",40:"r63",41:"r63",42:"r63",43:"r63",44:"r63",45:"r63",56:"r63",58:"r63"},{24:"r64",28:"r64",35:"r64",36:"r64",37:"r64",38:"r64",39:"r64",40:"r64",41:"r64",42:"r64",43:"r64",44:"r64",45:"r64",56:"r64",58:"r64"},{24:"r65",28:"r65",35:"r65",36:"r65",37:"r65",38:"r65",39:"r65",40:"r65",41:"r65",42:"r65",43:"r65",44:"r65",45:"r65",56:"r65",58:"r65"},{23:"r52",24:"r52",25:"r52",26:"r52",27:"r52",28:"r52",29:"r52",30:"r52",31:"r52",32:"r52",33:"r52",34:"r52",35:"r52",36:"r52",37:"r52",38:"r52",39:"r52",40:"r52",41:"r52",42:"r52",43:"r52",44:"r52",45:"r52",46:"r52",47:"r52",48:"r52",49:"r52",50:"r52",51:"r52",52:"r52",53:"r52",54:"r52",55:"r52",57:"r52"},{56:"r57"},{10:70,21:77,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{56:"r59"},{10:70,20:79,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r63",58:"s80"},{10:70,18:78,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r58"},{56:"r60"},{10:70,21:81,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{10:70,18:82,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r61"},{56:"s84"},{23:"r53",24:"r53",25:"r53",26:"r53",27:"r53",28:"r53",29:"r53",30:"r53",31:"r53",32:"r53",33:"r53",34:"r53",35:"r53",36:"r53",37:"r53",38:"r53",39:"r53",40:"r53",41:"r53",42:"r53",43:"r53",44:"r53",45:"r53",46:"r53",47:"r53",48:"r53",49:"r53",50:"r53",51:"r53",52:"r53",53:"r53",54:"r53",55:"r53",57:"r53"},{25:"s12",31:"s86"},{23:"r49",24:"r49",25:"r49",26:"r49",27:"r49",28:"r49",29:"r49",30:"r49",31:"r49",32:"r49",33:"r49",34:"r49",35:"r49",36:"r49",37:"r49",38:"r49",39:"r49",40:"r49",41:"r49",42:"r49",43:"r49",44:"r49",45:"r49",46:"r49",47:"r49",48:"r49",49:"r49",50:"r49",51:"r49",52:"r49",53:"r49",54:"r49",55:"r49",57:"r49"},{25:"s12",31:"s88"},{23:"r50",24:"r50",25:"r50",26:"r50",27:"r50",28:"r50",29:"r50",30:"r50",31:"r50",32:"r50",33:"r50",34:"r50",35:"r50",36:"r50",37:"r50",38:"r50",39:"r50",40:"r50",41:"r50",42:"r50",43:"r50",44:"r50",45:"r50",46:"r50",47:"r50",48:"r50",49:"r50",50:"r50",51:"r50",52:"r50",53:"r50",54:"r50",55:"r50",57:"r50"},{25:"s12",31:"s90"},{23:"r51",24:"r51",25:"r51",26:"r51",27:"r51",28:"r51",29:"r51",30:"r51",31:"r51",32:"r51",33:"r51",34:"r51",35:"r51",36:"r51",37:"r51",38:"r51",39:"r51",40:"r51",41:"r51",42:"r51",43:"r51",44:"r51",45:"r51",46:"r51",47:"r51",48:"r51",49:"r51",50:"r51",51:"r51",52:"r51",53:"r51",54:"r51",55:"r51",57:"r51"}],d=[],y=void 0,Z=[[/^#[^\n]+/,function(){}],[/^\s+/,function(){}],[/^-/,function(){return"DASH"}],[/^\//,function(){return"CHAR"}],[/^#/,function(){return"CHAR"}],[/^\|/,function(){return"CHAR"}],[/^\./,function(){return"CHAR"}],[/^\{/,function(){return"CHAR"}],[/^\{\d+\}/,function(){return"RANGE_EXACT"}],[/^\{\d+,\}/,function(){return"RANGE_OPEN"}],[/^\{\d+,\d+\}/,function(){return"RANGE_CLOSED"}],[/^\\k<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return se(M.slice(3,-1),this.getCurrentState()),"NAMED_GROUP_REF"}],[/^\\b/,function(){return"ESC_b"}],[/^\\B/,function(){return"ESC_B"}],[/^\\c[a-zA-Z]/,function(){return"CTRL_CH"}],[/^\\0\d{1,2}/,function(){return"OCT_CODE"}],[/^\\0/,function(){return"DEC_CODE"}],[/^\\\d{1,3}/,function(){return"DEC_CODE"}],[/^\\u[dD][89abAB][0-9a-fA-F]{2}\\u[dD][c-fC-F][0-9a-fA-F]{2}/,function(){return"U_CODE_SURROGATE"}],[/^\\u\{[0-9a-fA-F]{1,}\}/,function(){return"U_CODE"}],[/^\\u[0-9a-fA-F]{4}/,function(){return"U_CODE"}],[/^\\[pP]\{\w+(?:=\w+)?\}/,function(){return"U_PROP_VALUE_EXP"}],[/^\\x[0-9a-fA-F]{2}/,function(){return"HEX_CODE"}],[/^\\[tnrdDsSwWvf]/,function(){return"META_CHAR"}],[/^\\\//,function(){return"ESC_CHAR"}],[/^\\[ #]/,function(){return"ESC_CHAR"}],[/^\\[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/,function(){return"ESC_CHAR"}],[/^\\[^*?+\[()\\|]/,function(){var h=this.getCurrentState();if("u_class"===h&&"\\-"===M)return"ESC_CHAR";if("u"===h||"xu"===h||"u_class"===h)throw new SyntaxError("invalid Unicode escape "+M);return"ESC_CHAR"}],[/^\(/,function(){return"CHAR"}],[/^\)/,function(){return"CHAR"}],[/^\(\?=/,function(){return"POS_LA_ASSERT"}],[/^\(\?!/,function(){return"NEG_LA_ASSERT"}],[/^\(\?<=/,function(){return"POS_LB_ASSERT"}],[/^\(\?<!/,function(){return"NEG_LB_ASSERT"}],[/^\(\?:/,function(){return"NON_CAPTURE_GROUP"}],[/^\(\?<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return se(M=M.slice(3,-1),this.getCurrentState()),"NAMED_CAPTURE_GROUP"}],[/^\(/,function(){return"L_PAREN"}],[/^\)/,function(){return"R_PAREN"}],[/^[*?+[^$]/,function(){return"CHAR"}],[/^\\\]/,function(){return"ESC_CHAR"}],[/^\]/,function(){return this.popState(),"R_BRACKET"}],[/^\^/,function(){return"BOS"}],[/^\$/,function(){return"EOS"}],[/^\*/,function(){return"STAR"}],[/^\?/,function(){return"Q_MARK"}],[/^\+/,function(){return"PLUS"}],[/^\|/,function(){return"BAR"}],[/^\./,function(){return"ANY"}],[/^\//,function(){return"SLASH"}],[/^[^*?+\[()\\|]/,function(){return"CHAR"}],[/^\[\^/,function(){var h=this.getCurrentState();return this.pushState("u"===h||"xu"===h?"u_class":"class"),"NEG_CLASS"}],[/^\[/,function(){var h=this.getCurrentState();return this.pushState("u"===h||"xu"===h?"u_class":"class"),"L_BRACKET"}]],L={INITIAL:[8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u:[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],xu:[0,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],x:[0,1,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u_class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]},$={type:"$",value:""};x.lexer=y={initString:function(m){return this._string=m,this._cursor=0,this._states=["INITIAL"],this._tokensQueue=[],this._currentLine=1,this._currentColumn=0,this._currentLineBeginOffset=0,this._tokenStartOffset=0,this._tokenEndOffset=0,this._tokenStartLine=1,this._tokenEndLine=1,this._tokenStartColumn=0,this._tokenEndColumn=0,this},getStates:function(){return this._states},getCurrentState:function(){return this._states[this._states.length-1]},pushState:function(m){this._states.push(m)},begin:function(m){this.pushState(m)},popState:function(){return this._states.length>1?this._states.pop():this._states[0]},getNextToken:function(){if(this._tokensQueue.length>0)return this.onToken(this._toToken(this._tokensQueue.shift()));if(!this.hasMoreTokens())return this.onToken($);for(var m=this._string.slice(this._cursor),V=L[this.getCurrentState()],E=0;E<V.length;E++){var B=Z[V[E]],ee=this._match(m,B[0]);if(""===m&&""===ee&&this._cursor++,null!==ee){M=ee;var G=B[1].call(this);if(!G)return this.getNextToken();if(Array.isArray(G)){var xe,Ce=G.slice(1);G=G[0],Ce.length>0&&(xe=this._tokensQueue).unshift.apply(xe,C(Ce))}return this.onToken(this._toToken(G,M))}}if(this.isEOF())return this._cursor++,$;this.throwUnexpectedToken(m[0],this._currentLine,this._currentColumn)},throwUnexpectedToken:function(m,V,E){var U=this._string.split("\n")[V-1],B="";throw U&&(B="\n\n"+U+"\n"+" ".repeat(E)+"^\n"),new SyntaxError(B+'Unexpected token: "'+m+'" at '+V+":"+E+".")},getCursor:function(){return this._cursor},getCurrentLine:function(){return this._currentLine},getCurrentColumn:function(){return this._currentColumn},_captureLocation:function(m){var V=/\n/g;this._tokenStartOffset=this._cursor,this._tokenStartLine=this._currentLine,this._tokenStartColumn=this._tokenStartOffset-this._currentLineBeginOffset;for(var E=void 0;null!==(E=V.exec(m));)this._currentLine++,this._currentLineBeginOffset=this._tokenStartOffset+E.index+1;this._tokenEndOffset=this._cursor+m.length,this._tokenEndLine=this._currentLine,this._tokenEndColumn=this._currentColumn=this._tokenEndOffset-this._currentLineBeginOffset},_toToken:function(m){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:m,value:V,startOffset:this._tokenStartOffset,endOffset:this._tokenEndOffset,startLine:this._tokenStartLine,endLine:this._tokenEndLine,startColumn:this._tokenStartColumn,endColumn:this._tokenEndColumn}},isEOF:function(){return this._cursor===this._string.length},hasMoreTokens:function(){return this._cursor<=this._string.length},_match:function(m,V){var E=m.match(V);return E?(this._captureLocation(E[0]),this._cursor+=E[0].length,E[0]):null},onToken:function(m){return m}},x.tokenizer=y,x.options={captureLocations:!0};var N={setOptions:function(m){return x.options=m,this},getOptions:function(){return x.options},parse:function(m,V){if(!y)throw new Error("Tokenizer instance wasn't specified.");y.initString(m);var E=x.options;V&&(x.options=Object.assign({},x.options,V)),N.onParseBegin(m,y,x.options),d.length=0,d.push(0);var U=y.getNextToken(),B=null;do{U||(x.options=E,ze());var ee=d[d.length-1],G=b[U.type];v[ee].hasOwnProperty(G)||(x.options=E,Je(U));var Ce=v[ee][G];if("s"===Ce[0]){var xe=null;x.options.captureLocations&&(xe={startOffset:U.startOffset,endOffset:U.endOffset,startLine:U.startLine,endLine:U.endLine,startColumn:U.startColumn,endColumn:U.endColumn}),B=this.onShift(U),d.push({symbol:b[B.type],semanticValue:B.value,loc:xe},Number(Ce.slice(1))),U=y.getNextToken()}else if("r"===Ce[0]){var Oe=Ce.slice(1),W=_[Oe],K="function"==typeof W[2],ve=K?[]:null,Ie=K&&x.options.captureLocations?[]:null;if(0!==W[1])for(var ne=W[1];ne-- >0;){d.pop();var Ae=d.pop();K&&(ve.unshift(Ae.semanticValue),Ie&&Ie.unshift(Ae.loc))}var Pe={symbol:W[0]};if(K){M=B?B.value:null;var $e=null!==Ie?ve.concat(Ie):ve;W[2].apply(W,C($e)),Pe.semanticValue=g,Ie&&(Pe.loc=u)}d.push(Pe,v[d[d.length-1]][W[0]])}else if("acc"===Ce){d.pop();var z=d.pop();return(1!==d.length||0!==d[0]||y.hasMoreTokens())&&(x.options=E,Je(U)),z.hasOwnProperty("semanticValue")?(x.options=E,N.onParseEnd(z.semanticValue),z.semanticValue):(N.onParseEnd(),x.options=E,!0)}}while(y.hasMoreTokens()||d.length>1)},setTokenizer:function(m){return y=m,N},getTokenizer:function(){return y},onParseBegin:function(m,V,E){},onParseEnd:function(m){},onShift:function(m){return m}},j=0,te={},X="";function re(h){var m=h.match(/\d+/g).map(Number);if(Number.isFinite(m[1])&&m[1]<m[0])throw new SyntaxError("Numbers out of order in "+h+" quantifier");return m}function _e(h,m){if("control"===h.kind||"control"===m.kind||!isNaN(h.codePoint)&&!isNaN(m.codePoint)&&h.codePoint>m.codePoint)throw new SyntaxError("Range "+h.value+"-"+m.value+" out of order in character class")}N.onParseBegin=function(h,m){X=h,j=0,te={};var V=h.lastIndexOf("/"),E=h.slice(V);E.includes("x")&&E.includes("u")?m.pushState("xu"):(E.includes("x")&&m.pushState("x"),E.includes("u")&&m.pushState("u"))},N.onShift=function(h){return("L_PAREN"===h.type||"NAMED_CAPTURE_GROUP"===h.type)&&(h.value=new String(h.value),h.value.groupNumber=++j),h};var pe=s(1531);function fe(h,m,V){var E=void 0,U=void 0;switch(m){case"decimal":U=Number(h.slice(1)),E=String.fromCodePoint(U);break;case"oct":U=parseInt(h.slice(1),8),E=String.fromCodePoint(U);break;case"hex":case"unicode":if(h.lastIndexOf("\\u")>0){var ee=function(m,V){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return function h(m,V){var E=[],U=!0,B=!1,ee=void 0;try{for(var Ce,G=m[Symbol.iterator]();!(U=(Ce=G.next()).done)&&(E.push(Ce.value),!V||E.length!==V);U=!0);}catch(xe){B=!0,ee=xe}finally{try{!U&&G.return&&G.return()}finally{if(B)throw ee}}return E}(m,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(h.split("\\u").slice(1),2),G=ee[0],Ce=ee[1];U=1024*((G=parseInt(G,16))-55296)+((Ce=parseInt(Ce,16))-56320)+65536,E=String.fromCodePoint(U)}else{var xe=h.slice(2).replace("{","");if((U=parseInt(xe,16))>1114111)throw new SyntaxError("Bad character escape sequence: "+h);E=String.fromCodePoint(U)}break;case"meta":switch(h){case"\\t":U=(E="\t").codePointAt(0);break;case"\\n":U=(E="\n").codePointAt(0);break;case"\\r":U=(E="\r").codePointAt(0);break;case"\\v":U=(E="\v").codePointAt(0);break;case"\\f":U=(E="\f").codePointAt(0);break;case"\\b":U=(E="\b").codePointAt(0);case"\\0":E="\0",U=0;case".":E=".",U=NaN;break;default:U=NaN}break;case"simple":U=(E=h).codePointAt(0)}return ge({type:"Char",value:h,kind:m,symbol:E,codePoint:U},V)}function J(h){var m=new Set,V=!0,E=!1,U=void 0;try{for(var ee,B=h[Symbol.iterator]();!(V=(ee=B.next()).done);V=!0){var G=ee.value;if(m.has(G)||!"gimsuxy".includes(G))throw new SyntaxError("Invalid flags: "+h);m.add(G)}}catch(Ce){E=!0,U=Ce}finally{try{!V&&B.return&&B.return()}finally{if(E)throw U}}return h.split("").sort().join("")}var ce=/^\\u[0-9a-fA-F]{4}/,ue=/^\\u\{[0-9a-fA-F]{1,}\}/,le=/\\u\{[0-9a-fA-F]{1,}\}/;function se(h,m){if(le.test(h)&&"u"!==m&&"xu"!==m&&"u_class"!==m)throw new SyntaxError('invalid group Unicode name "'+h+'", use `u` flag.');return h}var be=/\\u(?:([dD][89aAbB][0-9a-fA-F]{2})\\u([dD][c-fC-F][0-9a-fA-F]{2})|([dD][89aAbB][0-9a-fA-F]{2})|([dD][c-fC-F][0-9a-fA-F]{2})|([0-9a-ce-fA-CE-F][0-9a-fA-F]{3}|[dD][0-7][0-9a-fA-F]{2})|\{(0*(?:[0-9a-fA-F]{1,5}|10[0-9a-fA-F]{4}))\})/;function he(h){return h.replace(new RegExp(be,"g"),function(m,V,E,U,B,ee,G){return V?String.fromCodePoint(parseInt(V,16),parseInt(E,16)):U?String.fromCodePoint(parseInt(U,16)):B?String.fromCodePoint(parseInt(B,16)):ee?String.fromCodePoint(parseInt(ee,16)):G?String.fromCodePoint(parseInt(G,16)):m})}function ge(h,m){return x.options.captureLocations&&(h.loc={source:X.slice(m.startOffset,m.endOffset),start:{line:m.startLine,column:m.startColumn,offset:m.startOffset},end:{line:m.endLine,column:m.endColumn,offset:m.endOffset}}),h}function Ne(h,m){return x.options.captureLocations?{startOffset:h.startOffset,endOffset:m.endOffset,startLine:h.startLine,endLine:m.endLine,startColumn:h.startColumn,endColumn:m.endColumn}:null}function Je(h){"$"===h.type&&ze(),y.throwUnexpectedToken(h.value,h.startLine,h.startColumn)}function ze(){!function et(h){throw new SyntaxError(h)}("Unexpected end of input.")}D.exports=N},8397:(D,Q,s)=>{var A=s(3585),C=A.parse.bind(A);A.parse=function(M,T){return C(""+M,T)},A.setOptions({captureLocations:!1}),D.exports=A},1531:D=>{var Q={General_Category:"gc",Script:"sc",Script_Extensions:"scx"},s=u(Q),A={ASCII:"ASCII",ASCII_Hex_Digit:"AHex",Alphabetic:"Alpha",Any:"Any",Assigned:"Assigned",Bidi_Control:"Bidi_C",Bidi_Mirrored:"Bidi_M",Case_Ignorable:"CI",Cased:"Cased",Changes_When_Casefolded:"CWCF",Changes_When_Casemapped:"CWCM",Changes_When_Lowercased:"CWL",Changes_When_NFKC_Casefolded:"CWKCF",Changes_When_Titlecased:"CWT",Changes_When_Uppercased:"CWU",Dash:"Dash",Default_Ignorable_Code_Point:"DI",Deprecated:"Dep",Diacritic:"Dia",Emoji:"Emoji",Emoji_Component:"Emoji_Component",Emoji_Modifier:"Emoji_Modifier",Emoji_Modifier_Base:"Emoji_Modifier_Base",Emoji_Presentation:"Emoji_Presentation",Extended_Pictographic:"Extended_Pictographic",Extender:"Ext",Grapheme_Base:"Gr_Base",Grapheme_Extend:"Gr_Ext",Hex_Digit:"Hex",IDS_Binary_Operator:"IDSB",IDS_Trinary_Operator:"IDST",ID_Continue:"IDC",ID_Start:"IDS",Ideographic:"Ideo",Join_Control:"Join_C",Logical_Order_Exception:"LOE",Lowercase:"Lower",Math:"Math",Noncharacter_Code_Point:"NChar",Pattern_Syntax:"Pat_Syn",Pattern_White_Space:"Pat_WS",Quotation_Mark:"QMark",Radical:"Radical",Regional_Indicator:"RI",Sentence_Terminal:"STerm",Soft_Dotted:"SD",Terminal_Punctuation:"Term",Unified_Ideograph:"UIdeo",Uppercase:"Upper",Variation_Selector:"VS",White_Space:"space",XID_Continue:"XIDC",XID_Start:"XIDS"},C=u(A),M={Cased_Letter:"LC",Close_Punctuation:"Pe",Connector_Punctuation:"Pc",Control:["Cc","cntrl"],Currency_Symbol:"Sc",Dash_Punctuation:"Pd",Decimal_Number:["Nd","digit"],Enclosing_Mark:"Me",Final_Punctuation:"Pf",Format:"Cf",Initial_Punctuation:"Pi",Letter:"L",Letter_Number:"Nl",Line_Separator:"Zl",Lowercase_Letter:"Ll",Mark:["M","Combining_Mark"],Math_Symbol:"Sm",Modifier_Letter:"Lm",Modifier_Symbol:"Sk",Nonspacing_Mark:"Mn",Number:"N",Open_Punctuation:"Ps",Other:"C",Other_Letter:"Lo",Other_Number:"No",Other_Punctuation:"Po",Other_Symbol:"So",Paragraph_Separator:"Zp",Private_Use:"Co",Punctuation:["P","punct"],Separator:"Z",Space_Separator:"Zs",Spacing_Mark:"Mc",Surrogate:"Cs",Symbol:"S",Titlecase_Letter:"Lt",Unassigned:"Cn",Uppercase_Letter:"Lu"},T=u(M),x={Adlam:"Adlm",Ahom:"Ahom",Anatolian_Hieroglyphs:"Hluw",Arabic:"Arab",Armenian:"Armn",Avestan:"Avst",Balinese:"Bali",Bamum:"Bamu",Bassa_Vah:"Bass",Batak:"Batk",Bengali:"Beng",Bhaiksuki:"Bhks",Bopomofo:"Bopo",Brahmi:"Brah",Braille:"Brai",Buginese:"Bugi",Buhid:"Buhd",Canadian_Aboriginal:"Cans",Carian:"Cari",Caucasian_Albanian:"Aghb",Chakma:"Cakm",Cham:"Cham",Cherokee:"Cher",Common:"Zyyy",Coptic:["Copt","Qaac"],Cuneiform:"Xsux",Cypriot:"Cprt",Cyrillic:"Cyrl",Deseret:"Dsrt",Devanagari:"Deva",Dogra:"Dogr",Duployan:"Dupl",Egyptian_Hieroglyphs:"Egyp",Elbasan:"Elba",Ethiopic:"Ethi",Georgian:"Geor",Glagolitic:"Glag",Gothic:"Goth",Grantha:"Gran",Greek:"Grek",Gujarati:"Gujr",Gunjala_Gondi:"Gong",Gurmukhi:"Guru",Han:"Hani",Hangul:"Hang",Hanifi_Rohingya:"Rohg",Hanunoo:"Hano",Hatran:"Hatr",Hebrew:"Hebr",Hiragana:"Hira",Imperial_Aramaic:"Armi",Inherited:["Zinh","Qaai"],Inscriptional_Pahlavi:"Phli",Inscriptional_Parthian:"Prti",Javanese:"Java",Kaithi:"Kthi",Kannada:"Knda",Katakana:"Kana",Kayah_Li:"Kali",Kharoshthi:"Khar",Khmer:"Khmr",Khojki:"Khoj",Khudawadi:"Sind",Lao:"Laoo",Latin:"Latn",Lepcha:"Lepc",Limbu:"Limb",Linear_A:"Lina",Linear_B:"Linb",Lisu:"Lisu",Lycian:"Lyci",Lydian:"Lydi",Mahajani:"Mahj",Makasar:"Maka",Malayalam:"Mlym",Mandaic:"Mand",Manichaean:"Mani",Marchen:"Marc",Medefaidrin:"Medf",Masaram_Gondi:"Gonm",Meetei_Mayek:"Mtei",Mende_Kikakui:"Mend",Meroitic_Cursive:"Merc",Meroitic_Hieroglyphs:"Mero",Miao:"Plrd",Modi:"Modi",Mongolian:"Mong",Mro:"Mroo",Multani:"Mult",Myanmar:"Mymr",Nabataean:"Nbat",New_Tai_Lue:"Talu",Newa:"Newa",Nko:"Nkoo",Nushu:"Nshu",Ogham:"Ogam",Ol_Chiki:"Olck",Old_Hungarian:"Hung",Old_Italic:"Ital",Old_North_Arabian:"Narb",Old_Permic:"Perm",Old_Persian:"Xpeo",Old_Sogdian:"Sogo",Old_South_Arabian:"Sarb",Old_Turkic:"Orkh",Oriya:"Orya",Osage:"Osge",Osmanya:"Osma",Pahawh_Hmong:"Hmng",Palmyrene:"Palm",Pau_Cin_Hau:"Pauc",Phags_Pa:"Phag",Phoenician:"Phnx",Psalter_Pahlavi:"Phlp",Rejang:"Rjng",Runic:"Runr",Samaritan:"Samr",Saurashtra:"Saur",Sharada:"Shrd",Shavian:"Shaw",Siddham:"Sidd",SignWriting:"Sgnw",Sinhala:"Sinh",Sogdian:"Sogd",Sora_Sompeng:"Sora",Soyombo:"Soyo",Sundanese:"Sund",Syloti_Nagri:"Sylo",Syriac:"Syrc",Tagalog:"Tglg",Tagbanwa:"Tagb",Tai_Le:"Tale",Tai_Tham:"Lana",Tai_Viet:"Tavt",Takri:"Takr",Tamil:"Taml",Tangut:"Tang",Telugu:"Telu",Thaana:"Thaa",Thai:"Thai",Tibetan:"Tibt",Tifinagh:"Tfng",Tirhuta:"Tirh",Ugaritic:"Ugar",Vai:"Vaii",Warang_Citi:"Wara",Yi:"Yiii",Zanabazar_Square:"Zanb"},g=u(x);function u(N){var j={};for(var te in N)if(N.hasOwnProperty(te)){var X=N[te];if(Array.isArray(X))for(var re=0;re<X.length;re++)j[X[re]]=te;else j[X]=te}return j}function d(N){return M.hasOwnProperty(N)||T.hasOwnProperty(N)}function y(N){return x.hasOwnProperty(N)||g.hasOwnProperty(N)}D.exports={isAlias:function _(N){return s.hasOwnProperty(N)||C.hasOwnProperty(N)},isValidName:function e(N){return Q.hasOwnProperty(N)||s.hasOwnProperty(N)||A.hasOwnProperty(N)||C.hasOwnProperty(N)},isValidValue:function l(N,j){return function b(N){return"General_Category"===N||"gc"==N}(N)?d(j):!!function v(N){return"Script"===N||"Script_Extensions"===N||"sc"===N||"scx"===N}(N)&&y(j)},isGeneralCategoryValue:d,isScriptCategoryValue:y,isBinaryPropertyName:function Z(N){return A.hasOwnProperty(N)||C.hasOwnProperty(N)},getCanonicalName:function L(N){return s.hasOwnProperty(N)?s[N]:C.hasOwnProperty(N)?C[N]:null},getCanonicalValue:function $(N){return T.hasOwnProperty(N)?T[N]:g.hasOwnProperty(N)?g[N]:C.hasOwnProperty(N)?C[N]:null},NON_BINARY_PROP_NAMES_TO_ALIASES:Q,NON_BINARY_ALIASES_TO_PROP_NAMES:s,BINARY_PROP_NAMES_TO_ALIASES:A,BINARY_ALIASES_TO_PROP_NAMES:C,GENERAL_CATEGORY_VALUE_TO_ALIASES:M,GENERAL_CATEGORY_VALUE_ALIASES_TO_VALUES:T,SCRIPT_VALUE_TO_ALIASES:x,SCRIPT_VALUE_ALIASES_TO_VALUE:g}},1466:(D,Q,s)=>{var A=s(8765),C=s(3930),M=s(5299),T=s(8397),x=s(5258),g=s(9256),u=s(4575),l=s(4662).RegExpTree;D.exports={parser:T,fa:u,TransformResult:x.TransformResult,parse:function(v,d){return T.parse(""+v,d)},traverse:function(v,d,y){return g.traverse(v,d,y)},transform:function(v,d){return x.transform(v,d)},generate:function(v){return C.generate(v)},toRegExp:function(v){var d=this.compatTranspile(v);return new RegExp(d.getSource(),d.getFlags())},optimize:function(v,d){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Z=y.blacklist;return M.optimize(v,{whitelist:d,blacklist:Z})},compatTranspile:function(v,d){return A.transform(v,d)},exec:function(v,d){if("string"==typeof v){var y=this.compatTranspile(v),Z=y.getExtra();v=Z.namedCapturingGroups?new l(y.toRegExp(),{flags:y.getFlags(),source:y.getSource(),groups:Z.namedCapturingGroups}):y.toRegExp()}return v.exec(d)}}},5258:(D,Q,s)=>{var A=function(){function u(e,l){for(var _=0;_<l.length;_++){var b=l[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(e,b.key,b)}}return function(e,l,_){return l&&u(e.prototype,l),_&&u(e,_),e}}();function C(u,e){if(!(u instanceof e))throw new TypeError("Cannot call a class as a function")}var M=s(3930),T=s(8397),x=s(9256),g=function(){function u(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;C(this,u),this._ast=e,this._source=null,this._string=null,this._regexp=null,this._extra=l}return A(u,[{key:"getAST",value:function(){return this._ast}},{key:"setExtra",value:function(l){this._extra=l}},{key:"getExtra",value:function(){return this._extra}},{key:"toRegExp",value:function(){return this._regexp||(this._regexp=new RegExp(this.getSource(),this._ast.flags)),this._regexp}},{key:"getSource",value:function(){return this._source||(this._source=M.generate(this._ast.body)),this._source}},{key:"getFlags",value:function(){return this._ast.flags}},{key:"toString",value:function(){return this._string||(this._string=M.generate(this._ast)),this._string}}]),u}();D.exports={TransformResult:g,transform:function(e,l){var _=e;return e instanceof RegExp&&(e=""+e),"string"==typeof e&&(_=T.parse(e,{captureLocations:!0})),x.traverse(_,l),new g(_)}}},7361:D=>{D.exports={disjunctionToList:function s(M){if("Disjunction"!==M.type)throw new TypeError('Expected "Disjunction" node, got "'+M.type+'"');var T=[];return M.left&&"Disjunction"===M.left.type?T.push.apply(T,function Q(M){if(Array.isArray(M)){for(var T=0,x=Array(M.length);T<M.length;T++)x[T]=M[T];return x}return Array.from(M)}(s(M.left)).concat([M.right])):T.push(M.left,M.right),T},listToDisjunction:function A(M){return M.reduce(function(T,x){return{type:"Disjunction",left:T,right:x}})},increaseQuantifierByOne:function C(M){"*"===M.kind?M.kind="+":"+"===M.kind?(M.kind="Range",M.from=2,delete M.to):"?"===M.kind?(M.kind="Range",M.from=1,M.to=2):"Range"===M.kind&&(M.from+=1,M.to&&(M.to+=1))}}},9256:(D,Q,s)=>{var A=s(6192);function C(M){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=T.pre,g=T.post,u=T.skipProperty;function e(l,_,b,v){if(l&&"string"==typeof l.type){var d=void 0;if(x&&(d=x(l,_,b,v)),!1!==d)for(var y in _&&_[b]&&(l=isNaN(v)?_[b]:_[b][v]),l)if(l.hasOwnProperty(y)){if(u?u(y,l):"$"===y[0])continue;var Z=l[y];if(Array.isArray(Z)){var L=0;for(A.traversingIndexStack.push(L);L<Z.length;)e(Z[L],l,y,L),L=A.updateTraversingIndex(1);A.traversingIndexStack.pop()}else e(Z,l,y)}g&&g(l,_,b,v)}}e(M,null)}D.exports={traverse:function(T,x){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{asNodes:!1};function u(e,l,_,b){var v=A.getForNode(l);return A.getForNode(e,v,_,b)}Array.isArray(x)||(x=[x]),x=x.filter(function(e){return"function"!=typeof e.shouldRun||e.shouldRun(T)}),A.initRegistry(),x.forEach(function(e){"function"==typeof e.init&&e.init(T)}),C(T,{pre:function(l,_,b,v){var d=void 0;g.asNodes||(d=u(l,_,b,v));var y=!0,Z=!1,L=void 0;try{for(var N,$=x[Symbol.iterator]();!(y=(N=$.next()).done);y=!0){var j=N.value;if("function"==typeof j["*"])if(d){if(!d.isRemoved()&&!1===j["*"](d))return!1}else j["*"](l,_,b,v);var X=void 0;if("function"==typeof j[l.type]?X=j[l.type]:"object"==typeof j[l.type]&&"function"==typeof j[l.type].pre&&(X=j[l.type].pre),X)if(d){if(!d.isRemoved()&&!1===X.call(j,d))return!1}else X.call(j,l,_,b,v)}}catch(_e){Z=!0,L=_e}finally{try{!y&&$.return&&$.return()}finally{if(Z)throw L}}},post:function(l,_,b,v){if(l){var d=void 0;g.asNodes||(d=u(l,_,b,v));var y=!0,Z=!1,L=void 0;try{for(var N,$=x[Symbol.iterator]();!(y=(N=$.next()).done);y=!0){var j=N.value,te=void 0;if("object"==typeof j[l.type]&&"function"==typeof j[l.type].post&&(te=j[l.type].post),te)if(d){if(!d.isRemoved()&&!1===te.call(j,d))return!1}else te.call(j,l,_,b,v)}}catch(re){Z=!0,L=re}finally{try{!y&&$.return&&$.return()}finally{if(Z)throw L}}}},skipProperty:function(l){return"loc"===l}})}}},6192:D=>{var Q=function(){function x(g,u){for(var e=0;e<u.length;e++){var l=u[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(g,l.key,l)}}return function(g,u,e){return u&&x(g.prototype,u),e&&x(g,e),g}}();function s(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}var A="expressions",C="expression",M=function(){function x(g){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;s(this,x),this.node=g,this.parentPath=u,this.parent=u?u.node:null,this.property=e,this.index=l}return Q(x,[{key:"_enforceProp",value:function(u){if(!this.node.hasOwnProperty(u))throw new Error("Node of type "+this.node.type+" doesn't have \""+u+'" collection.')}},{key:"setChild",value:function(u){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=void 0;return null!=e?(l||(l=A),this._enforceProp(l),this.node[l][e]=u,_=x.getForNode(u,this,l,e)):(l||(l=C),this._enforceProp(l),this.node[l]=u,_=x.getForNode(u,this,l,null)),_}},{key:"appendChild",value:function(u){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e||(e=A),this._enforceProp(e);var l=this.node[e].length;return this.setChild(u,l,e)}},{key:"insertChildAt",value:function(u,e){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A;this._enforceProp(l),this.node[l].splice(e,0,u),e<=x.getTraversingIndex()&&x.updateTraversingIndex(1),this._rebuildIndex(this.node,l)}},{key:"remove",value:function(){if(!this.isRemoved()&&(x.registry.delete(this.node),this.node=null,this.parent)){if(null!==this.index)return this.parent[this.property].splice(this.index,1),this.index<=x.getTraversingIndex()&&x.updateTraversingIndex(-1),this._rebuildIndex(this.parent,this.property),this.index=null,void(this.property=null);delete this.parent[this.property],this.property=null}}},{key:"_rebuildIndex",value:function(u,e){for(var l=x.getForNode(u),_=0;_<u[e].length;_++)x.getForNode(u[e][_],l,e,_).index=_}},{key:"isRemoved",value:function(){return null===this.node}},{key:"replace",value:function(u){return x.registry.delete(this.node),this.node=u,this.parent?(null!==this.index?this.parent[this.property][this.index]=u:this.parent[this.property]=u,x.getForNode(u,this.parentPath,this.property,this.index)):null}},{key:"update",value:function(u){Object.assign(this.node,u)}},{key:"getParent",value:function(){return this.parentPath}},{key:"getChild",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.node.expressions?x.getForNode(this.node.expressions[u],this,A,u):this.node.expression&&0==u?x.getForNode(this.node.expression,this,C):null}},{key:"hasEqualSource",value:function(u){return JSON.stringify(this.node,T)===JSON.stringify(u.node,T)}},{key:"jsonEncode",value:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=u.format,l=u.useLoc;return JSON.stringify(this.node,l?null:T,e)}},{key:"getPreviousSibling",value:function(){return this.parent&&null!=this.index?x.getForNode(this.parent[this.property][this.index-1],x.getForNode(this.parent),this.property,this.index-1):null}},{key:"getNextSibling",value:function(){return this.parent&&null!=this.index?x.getForNode(this.parent[this.property][this.index+1],x.getForNode(this.parent),this.property,this.index+1):null}}],[{key:"getForNode",value:function(u){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,_=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(!u)return null;x.registry.has(u)||x.registry.set(u,new x(u,e,l,-1==_?null:_));var b=x.registry.get(u);return null!==e&&(b.parentPath=e,b.parent=b.parentPath.node),null!==l&&(b.property=l),_>=0&&(b.index=_),b}},{key:"initRegistry",value:function(){x.registry||(x.registry=new Map),x.registry.clear()}},{key:"updateTraversingIndex",value:function(u){return x.traversingIndexStack[x.traversingIndexStack.length-1]+=u}},{key:"getTraversingIndex",value:function(){return x.traversingIndexStack[x.traversingIndexStack.length-1]}}]),x}();function T(x,g){if("loc"!==x)return g}M.initRegistry(),M.traversingIndexStack=[],D.exports=M},7555:D=>{D.exports=function Q(s){if(null===s||"object"!=typeof s)return s;var A=void 0;for(var C in A=Array.isArray(s)?[]:{},s)A[C]=Q(s[C]);return A}},746:(D,Q,s)=>{D.exports=s(1466)}}]);
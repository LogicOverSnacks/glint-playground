"use strict";var CI=Object.defineProperty,bI=(Fe,Ne,m)=>Ne in Fe?CI(Fe,Ne,{enumerable:!0,configurable:!0,writable:!0,value:m}):Fe[Ne]=m,jo=(Fe,Ne,m)=>(bI(Fe,"symbol"!=typeof Ne?Ne+"":Ne,m),m);(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[5909],{47306:(Fe,Ne,m)=>{m.r(Ne),m.d(Ne,{PixelRatio:()=>O,getZoomFactor:()=>F,isFirefox:()=>y,isWebKit:()=>C,isChrome:()=>b,isSafari:()=>x,isWebkitWebView:()=>f,isElectron:()=>M,isAndroid:()=>H,isStandalone:()=>L});var E=m(71040),g=m(40189);class Y{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}Y.INSTANCE=new Y;class B extends g.JT{constructor(){super(),this._onDidChange=this._register(new E.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(Z){this._mediaQueryList&&this._mediaQueryList.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),Z&&this._onDidChange.fire()}}class D extends g.JT{constructor(){super(),this._onDidChange=this._register(new E.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const Z=this._register(new B);this._register(Z.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const Z=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(Z.webkitBackingStorePixelRatio||Z.mozBackingStorePixelRatio||Z.msBackingStorePixelRatio||Z.oBackingStorePixelRatio||Z.backingStorePixelRatio||1)}}const O=new class{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new D),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function F(){return Y.INSTANCE.getZoomFactor()}const k=navigator.userAgent,y=k.indexOf("Firefox")>=0,C=k.indexOf("AppleWebKit")>=0,b=k.indexOf("Chrome")>=0,x=!b&&k.indexOf("Safari")>=0,f=!b&&!x&&C,M=k.indexOf("Electron/")>=0,H=k.indexOf("Android")>=0,L=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},96721:(Fe,Ne,m)=>{m.d(Ne,{D:()=>Y});var E=m(47306),g=m(70700);const Y={clipboard:{writeText:g.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:g.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:g.tY||E.isStandalone?0:navigator.keyboard||E.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},34122:(Fe,Ne,m)=>{m.d(Ne,{go:()=>g,TN:()=>Y,P$:()=>B});const g={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:m(48343).v.text,TERMINALS:"Terminals"};class Y{constructor(i){this.data=i}update(){}getData(){return this.data}}const B={CurrentDragAndDropData:void 0}},86678:(Fe,Ne,m)=>{m.d(Ne,{PO:()=>C,Uw:()=>b,nm:()=>f,mu:()=>L,GQ:()=>N,u0:()=>P,q6:()=>I,j_:()=>$,RE:()=>U,IC:()=>G,lI:()=>fe,jL:()=>_e,Y_:()=>le,Dx:()=>ee,D6:()=>J,Ro:()=>ce,xQ:()=>ve,dp:()=>ke,i:()=>We,DI:()=>je,w:()=>ue,FK:()=>Ce,If:()=>Ae,wn:()=>et,jg:()=>$e,Fx:()=>Te,uU:()=>rt,OO:()=>nt,Ay:()=>xe,vY:()=>Ie,dS:()=>at,fk:()=>pt,uN:()=>Bt,Re:()=>Vt,tw:()=>zt,zB:()=>fn,vL:()=>Ye,_0:()=>Et,go:()=>sn,R3:()=>Dn,Ce:()=>Rt,mc:()=>Mt,$:()=>Bi,$Z:()=>Xt,Cp:()=>He,H$:()=>Ue,Uh:()=>on,V3:()=>Sn,jt:()=>ai,wY:()=>bi,_h:()=>ki,_q:()=>Li,uB:()=>wi});var E=m(47306),g=m(96721),Y=m(714),B=m(2886),D=m(89983),i=m(13226),O=m(71040),F=m(40189),k=m(98318),y=m(70700);function C(Dt){for(;Dt.firstChild;)Dt.firstChild.remove()}function b(Dt){var Lt;return null!==(Lt=null==Dt?void 0:Dt.isConnected)&&void 0!==Lt&&Lt}class x{constructor(Lt,Yt,bn,Kt){this._node=Lt,this._type=Yt,this._handler=bn,this._options=Kt||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function f(Dt,Lt,Yt,bn){return new x(Dt,Lt,Yt,bn)}function M(Dt){return function(Lt){return Dt(new B.n(Lt))}}let L=function(Lt,Yt,bn,Kt){let Ve=bn;return"click"===Yt||"mousedown"===Yt?Ve=M(bn):("keydown"===Yt||"keypress"===Yt||"keyup"===Yt)&&(Dt=bn,Ve=function(Lt){return Dt(new Y.y(Lt))}),f(Lt,Yt,Ve,Kt);var Dt},N=function(Lt,Yt,bn){return P(Lt,M(Yt),bn)};function P(Dt,Lt,Yt){return f(Dt,y.gn&&g.D.pointerEvents?zt.POINTER_DOWN:zt.MOUSE_DOWN,Lt,Yt)}function I(Dt,Lt,Yt){return f(Dt,y.gn&&g.D.pointerEvents?zt.POINTER_UP:zt.MOUSE_UP,Lt,Yt)}function $(Dt,Lt){return f(Dt,"mouseout",Yt=>{let bn=Yt.relatedTarget;for(;bn&&bn!==Dt;)bn=bn.parentNode;bn!==Dt&&Lt(Yt)})}function U(Dt,Lt){return f(Dt,"pointerout",Yt=>{let bn=Yt.relatedTarget;for(;bn&&bn!==Dt;)bn=bn.parentNode;bn!==Dt&&Lt(Yt)})}function G(Dt,Lt,Yt){let bn=null;const Kt=xt=>ct.fire(xt),ct=new O.Q5({onFirstListenerAdd:()=>{bn||(bn=new x(Dt,Lt,Kt,Yt))},onLastListenerRemove:()=>{bn&&(bn.dispose(),bn=null)}});return ct}let fe,_e,oe=null;class we{constructor(Lt,Yt=0){this._runner=Lt,this.priority=Yt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Lt){(0,i.dL)(Lt)}}static sort(Lt,Yt){return Yt.priority-Lt.priority}}!function(){let Dt=[],Lt=null,Yt=!1,bn=!1,Kt=()=>{for(Yt=!1,Lt=Dt,Dt=[],bn=!0;Lt.length>0;)Lt.sort(we.sort),Lt.shift().execute();bn=!1};_e=(Ve,Qe=0)=>{let ct=new we(Ve,Qe);return Dt.push(ct),Yt||(Yt=!0,function(Dt){if(!oe){const Lt=Yt=>setTimeout(()=>Yt((new Date).getTime()),0);oe=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Lt}oe.call(self,Dt)}(Kt)),ct},fe=(Ve,Qe)=>{if(bn){let ct=new we(Ve,Qe);return Lt.push(ct),ct}return _e(Ve,Qe)}}();const Q=function(Dt,Lt){return Lt};class q extends F.JT{constructor(Lt,Yt,bn,Kt=Q,Ve=8){super();let Qe=null,ct=0,xt=this._register(new D._F),Ht=()=>{ct=(new Date).getTime(),bn(Qe),Qe=null};this._register(f(Lt,Yt,en=>{Qe=Kt(Qe,en);let hn=(new Date).getTime()-ct;hn>=Ve?(xt.cancel(),Ht()):xt.setIfNotSet(Ht,Ve-hn)}))}}function le(Dt,Lt,Yt,bn,Kt){return new q(Dt,Lt,Yt,bn,Kt)}function ee(Dt){return document.defaultView.getComputedStyle(Dt,null)}function J(Dt){if(Dt!==document.body)return new ce(Dt.clientWidth,Dt.clientHeight);if(y.gn&&window.visualViewport)return new ce(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ce(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ce(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ce(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class re{static convertToPixels(Lt,Yt){return parseFloat(Yt)||0}static getDimension(Lt,Yt,bn){let Kt=ee(Lt),Ve="0";return Kt&&(Ve=Kt.getPropertyValue?Kt.getPropertyValue(Yt):Kt.getAttribute(bn)),re.convertToPixels(Lt,Ve)}static getBorderLeftWidth(Lt){return re.getDimension(Lt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Lt){return re.getDimension(Lt,"border-right-width","borderRightWidth")}static getBorderTopWidth(Lt){return re.getDimension(Lt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Lt){return re.getDimension(Lt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Lt){return re.getDimension(Lt,"padding-left","paddingLeft")}static getPaddingRight(Lt){return re.getDimension(Lt,"padding-right","paddingRight")}static getPaddingTop(Lt){return re.getDimension(Lt,"padding-top","paddingTop")}static getPaddingBottom(Lt){return re.getDimension(Lt,"padding-bottom","paddingBottom")}static getMarginLeft(Lt){return re.getDimension(Lt,"margin-left","marginLeft")}static getMarginTop(Lt){return re.getDimension(Lt,"margin-top","marginTop")}static getMarginRight(Lt){return re.getDimension(Lt,"margin-right","marginRight")}static getMarginBottom(Lt){return re.getDimension(Lt,"margin-bottom","marginBottom")}}class ce{constructor(Lt,Yt){this.width=Lt,this.height=Yt}with(Lt=this.width,Yt=this.height){return Lt!==this.width||Yt!==this.height?new ce(Lt,Yt):this}static is(Lt){return"object"==typeof Lt&&"number"==typeof Lt.height&&"number"==typeof Lt.width}static lift(Lt){return Lt instanceof ce?Lt:new ce(Lt.width,Lt.height)}static equals(Lt,Yt){return Lt===Yt||!(!Lt||!Yt)&&Lt.width===Yt.width&&Lt.height===Yt.height}}function ve(Dt){let Lt=Dt.offsetParent,Yt=Dt.offsetTop,bn=Dt.offsetLeft;for(;null!==(Dt=Dt.parentNode)&&Dt!==document.body&&Dt!==document.documentElement;){Yt-=Dt.scrollTop;const Kt=ht(Dt)?null:ee(Dt);Kt&&(bn-="rtl"!==Kt.direction?Dt.scrollLeft:-Dt.scrollLeft),Dt===Lt&&(bn+=re.getBorderLeftWidth(Dt),Yt+=re.getBorderTopWidth(Dt),Yt+=Dt.offsetTop,bn+=Dt.offsetLeft,Lt=Dt.offsetParent)}return{left:bn,top:Yt}}function ke(Dt,Lt,Yt){"number"==typeof Lt&&(Dt.style.width=`${Lt}px`),"number"==typeof Yt&&(Dt.style.height=`${Yt}px`)}function We(Dt){let Lt=Dt.getBoundingClientRect();return{left:Lt.left+je.scrollX,top:Lt.top+je.scrollY,width:Lt.width,height:Lt.height}}ce.None=new ce(0,0);const je=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function ue(Dt){let Lt=re.getMarginLeft(Dt)+re.getMarginRight(Dt);return Dt.offsetWidth+Lt}function Ce(Dt){let Lt=re.getBorderLeftWidth(Dt)+re.getBorderRightWidth(Dt),Yt=re.getPaddingLeft(Dt)+re.getPaddingRight(Dt);return Dt.offsetWidth-Lt-Yt}function Ae(Dt){let Lt=re.getBorderTopWidth(Dt)+re.getBorderBottomWidth(Dt),Yt=re.getPaddingTop(Dt)+re.getPaddingBottom(Dt);return Dt.offsetHeight-Lt-Yt}function et(Dt){let Lt=re.getMarginTop(Dt)+re.getMarginBottom(Dt);return Dt.offsetHeight+Lt}function $e(Dt,Lt){for(;Dt;){if(Dt===Lt)return!0;Dt=Dt.parentNode}return!1}function Te(Dt,Lt,Yt){for(;Dt&&Dt.nodeType===Dt.ELEMENT_NODE;){if(Dt.classList.contains(Lt))return Dt;if(Yt)if("string"==typeof Yt){if(Dt.classList.contains(Yt))return null}else if(Dt===Yt)return null;Dt=Dt.parentNode}return null}function rt(Dt,Lt,Yt){return!!Te(Dt,Lt,Yt)}function ht(Dt){return Dt&&!!Dt.host&&!!Dt.mode}function nt(Dt){return!!xe(Dt)}function xe(Dt){for(;Dt.parentNode;){if(Dt===document.body)return null;Dt=Dt.parentNode}return ht(Dt)?Dt:null}function Ie(){let Dt=document.activeElement;for(;null==Dt?void 0:Dt.shadowRoot;)Dt=Dt.shadowRoot.activeElement;return Dt}function at(Dt=document.getElementsByTagName("head")[0]){let Lt=document.createElement("style");return Lt.type="text/css",Lt.media="screen",Dt.appendChild(Lt),Lt}let bt=null;function Ut(){return bt||(bt=at()),bt}function pt(Dt,Lt,Yt=Ut()){!Yt||!Lt||Yt.sheet.insertRule(Dt+"{"+Lt+"}",0)}function Bt(Dt,Lt=Ut()){if(!Lt)return;let Yt=function(Dt){var Lt,Yt;return(null===(Lt=null==Dt?void 0:Dt.sheet)||void 0===Lt?void 0:Lt.rules)?Dt.sheet.rules:(null===(Yt=null==Dt?void 0:Dt.sheet)||void 0===Yt?void 0:Yt.cssRules)?Dt.sheet.cssRules:[]}(Lt),bn=[];for(let Kt=0;Kt<Yt.length;Kt++)-1!==Yt[Kt].selectorText.indexOf(Dt)&&bn.push(Kt);for(let Kt=bn.length-1;Kt>=0;Kt--)Lt.sheet.deleteRule(bn[Kt])}function Vt(Dt){return"object"==typeof HTMLElement?Dt instanceof HTMLElement:Dt&&"object"==typeof Dt&&1===Dt.nodeType&&"string"==typeof Dt.nodeName}const zt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:E.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:E.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:E.isWebKit?"webkitAnimationIteration":"animationiteration"},fn={stop:function(Dt,Lt){Dt.preventDefault?Dt.preventDefault():Dt.returnValue=!1,Lt&&(Dt.stopPropagation?Dt.stopPropagation():Dt.cancelBubble=!0)}};function Ye(Dt){let Lt=[];for(let Yt=0;Dt&&Dt.nodeType===Dt.ELEMENT_NODE;Yt++)Lt[Yt]=Dt.scrollTop,Dt=Dt.parentNode;return Lt}function Et(Dt,Lt){for(let Yt=0;Dt&&Dt.nodeType===Dt.ELEMENT_NODE;Yt++)Dt.scrollTop!==Lt[Yt]&&(Dt.scrollTop=Lt[Yt]),Dt=Dt.parentNode}class St extends F.JT{constructor(Lt){super(),this._onDidFocus=this._register(new O.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new O.Q5),this.onDidBlur=this._onDidBlur.event;let Yt=St.hasFocusWithin(Lt),bn=!1;const Kt=()=>{bn=!1,Yt||(Yt=!0,this._onDidFocus.fire())},Ve=()=>{Yt&&(bn=!0,window.setTimeout(()=>{bn&&(bn=!1,Yt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{St.hasFocusWithin(Lt)!==Yt&&(Yt?Ve():Kt())},this._register(f(Lt,zt.FOCUS,Kt,!0)),this._register(f(Lt,zt.BLUR,Ve,!0)),this._register(f(Lt,zt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(f(Lt,zt.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Lt){const Yt=xe(Lt);return $e(Yt?Yt.activeElement:document.activeElement,Lt)}}function sn(Dt){return new St(Dt)}function Dn(Dt,...Lt){if(Dt.append(...Lt),1===Lt.length&&"string"!=typeof Lt[0])return Lt[0]}function Rt(Dt,Lt){return Dt.insertBefore(Lt,Dt.firstChild),Lt}function Mt(Dt,...Lt){Dt.innerText="",Dn(Dt,...Lt)}const Yn=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var xi=(()=>{return(Dt=xi||(xi={})).HTML="http://www.w3.org/1999/xhtml",Dt.SVG="http://www.w3.org/2000/svg",xi;var Dt})();function At(Dt,Lt,Yt,...bn){let Kt=Yn.exec(Lt);if(!Kt)throw new Error("Bad use of emmet");Yt=Object.assign({},Yt||{});let Qe,Ve=Kt[1]||"div";return Qe=Dt!==xi.HTML?document.createElementNS(Dt,Ve):document.createElement(Ve),Kt[3]&&(Qe.id=Kt[3]),Kt[4]&&(Qe.className=Kt[4].replace(/\./g," ").trim()),Object.keys(Yt).forEach(ct=>{const xt=Yt[ct];void 0!==xt&&(/^on\w+$/.test(ct)?Qe[ct]=xt:"selected"===ct?xt&&Qe.setAttribute(ct,"true"):Qe.setAttribute(ct,xt))}),Qe.append(...bn),Qe}function Bi(Dt,Lt,...Yt){return At(xi.HTML,Dt,Lt,...Yt)}function Xt(...Dt){for(let Lt of Dt)Lt.style.display="",Lt.removeAttribute("aria-hidden")}function He(...Dt){for(let Lt of Dt)Lt.style.display="none",Lt.setAttribute("aria-hidden","true")}function Ue(Dt){return Array.prototype.slice.call(document.getElementsByTagName(Dt),0)}function on(Dt){const Lt=window.devicePixelRatio*Dt;return Math.max(1,Math.floor(Lt))/window.devicePixelRatio}function Sn(Dt){window.open(Dt,"_blank","noopener")}function ai(Dt){const Lt=()=>{Dt(),Yt=_e(Lt)};let Yt=_e(Lt);return(0,F.OF)(()=>Yt.dispose())}function bi(Dt){return Dt?`url('${k.Gi.asBrowserUri(Dt).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function ki(Dt){return`'${Dt.replace(/'/g,"%27")}'`}Bi.SVG=function(Dt,Lt,...Yt){return At(xi.SVG,Dt,Lt,...Yt)},k.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class Li extends O.Q5{constructor(){super(),this._subscriptions=new F.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(f(window,"keydown",Lt=>{if(Lt.defaultPrevented)return;const Yt=new Y.y(Lt);if(6!==Yt.keyCode||!Lt.repeat){if(Lt.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Lt.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Lt.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Lt.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===Yt.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=Lt.altKey,this._keyStatus.ctrlKey=Lt.ctrlKey,this._keyStatus.metaKey=Lt.metaKey,this._keyStatus.shiftKey=Lt.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Lt,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(f(window,"keyup",Lt=>{Lt.defaultPrevented||(this._keyStatus.lastKeyReleased=!Lt.altKey&&this._keyStatus.altKey?"alt":!Lt.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!Lt.metaKey&&this._keyStatus.metaKey?"meta":!Lt.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Lt.altKey,this._keyStatus.ctrlKey=Lt.ctrlKey,this._keyStatus.metaKey=Lt.metaKey,this._keyStatus.shiftKey=Lt.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Lt,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(f(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mousemove",Lt=>{Lt.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(f(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Li.instance||(Li.instance=new Li),Li.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function wi(Dt,Lt){window.matchMedia(Dt).addEventListener("change",Lt)}},71172:(Fe,Ne,m)=>{m.d(Ne,{Y:()=>g,p:()=>Y});var E=m(71040);class g{constructor(D,i,O){const F=k=>this.emitter.fire(k);this.emitter=new E.Q5({onFirstListenerAdd:()=>D.addEventListener(i,F,O),onLastListenerRemove:()=>D.removeEventListener(i,F,O)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function Y(B){return B.preventDefault(),B.stopPropagation(),B}},81718:(Fe,Ne,m)=>{m.d(Ne,{Z:()=>E,X:()=>g});class E{constructor(B){this.domNode=B,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(B){this._maxWidth!==B&&(this._maxWidth=B,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(B){this._width!==B&&(this._width=B,this.domNode.style.width=this._width+"px")}setHeight(B){this._height!==B&&(this._height=B,this.domNode.style.height=this._height+"px")}setTop(B){this._top!==B&&(this._top=B,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(B){this._left!==B&&(this._left=B,this.domNode.style.left=this._left+"px")}setBottom(B){this._bottom!==B&&(this._bottom=B,this.domNode.style.bottom=this._bottom+"px")}setRight(B){this._right!==B&&(this._right=B,this.domNode.style.right=this._right+"px")}setFontFamily(B){this._fontFamily!==B&&(this._fontFamily=B,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(B){this._fontWeight!==B&&(this._fontWeight=B,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(B){this._fontSize!==B&&(this._fontSize=B,this.domNode.style.fontSize=this._fontSize+"px")}setFontStyle(B){this._fontStyle!==B&&(this._fontStyle=B,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(B){this._fontFeatureSettings!==B&&(this._fontFeatureSettings=B,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(B){this._textDecoration!==B&&(this._textDecoration=B,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(B){this._lineHeight!==B&&(this._lineHeight=B,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(B){this._letterSpacing!==B&&(this._letterSpacing=B,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(B){this._className!==B&&(this._className=B,this.domNode.className=this._className)}toggleClassName(B,D){this.domNode.classList.toggle(B,D),this._className=this.domNode.className}setDisplay(B){this._display!==B&&(this._display=B,this.domNode.style.display=this._display)}setPosition(B){this._position!==B&&(this._position=B,this.domNode.style.position=this._position)}setVisibility(B){this._visibility!==B&&(this._visibility=B,this.domNode.style.visibility=this._visibility)}setColor(B){this._color!==B&&(this._color=B,this.domNode.style.color=this._color)}setBackgroundColor(B){this._backgroundColor!==B&&(this._backgroundColor=B,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(B){this._layerHint!==B&&(this._layerHint=B,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(B){this._boxShadow!==B&&(this._boxShadow=B,this.domNode.style.boxShadow=B)}setContain(B){this._contain!==B&&(this._contain=B,this.domNode.style.contain=this._contain)}setAttribute(B,D){this.domNode.setAttribute(B,D)}removeAttribute(B){this.domNode.removeAttribute(B)}appendChild(B){this.domNode.appendChild(B.domNode)}removeChild(B){this.domNode.removeChild(B.domNode)}}function g(Y){return new E(Y)}},25662:(Fe,Ne,m)=>{m.d(Ne,{IY:()=>g,BO:()=>Y,az:()=>B});var E=m(86678);function g(y,C={}){const b=B(C);return b.textContent=y,b}function Y(y,C={}){const b=B(C);return i(b,function(y,C){const b={type:1,children:[]};let x=0,f=b;const M=[],H=new D(y);for(;!H.eos();){let L=H.next();const N="\\"===L&&0!==k(H.peek(),C);if(N&&(L=H.next()),!N&&F(L,C)&&L===H.peek()){H.advance(),2===f.type&&(f=M.pop());const Z=k(L,C);if(f.type===Z||5===f.type&&6===Z)f=M.pop();else{const P={type:Z,children:[]};5===Z&&(P.index=x,x++),f.children.push(P),M.push(f),f=P}}else if("\n"===L)2===f.type&&(f=M.pop()),f.children.push({type:8});else if(2!==f.type){const Z={type:2,content:L};f.children.push(Z),M.push(f),f=Z}else f.content+=L}return 2===f.type&&(f=M.pop()),b}(y,!!C.renderCodeSegments),C.actionHandler,C.renderCodeSegments),b}function B(y){const b=document.createElement(y.inline?"span":"div");return y.className&&(b.className=y.className),b}class D{constructor(C){this.source=C,this.index=0}eos(){return this.index>=this.source.length}next(){const C=this.peek();return this.advance(),C}peek(){return this.source[this.index]}advance(){this.index++}}function i(y,C,b,x){let f;if(2===C.type)f=document.createTextNode(C.content||"");else if(3===C.type)f=document.createElement("b");else if(4===C.type)f=document.createElement("i");else if(7===C.type&&x)f=document.createElement("code");else if(5===C.type&&b){const M=document.createElement("a");b.disposables.add(E.mu(M,"click",H=>{b.callback(String(C.index),H)})),f=M}else 8===C.type?f=document.createElement("br"):1===C.type&&(f=y);f&&y!==f&&y.appendChild(f),f&&Array.isArray(C.children)&&C.children.forEach(M=>{i(f,M,b,x)})}function F(y,C){return 0!==k(y,C)}function k(y,C){switch(y){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return C?7:0;default:return 0}}},8535:(Fe,Ne,m)=>{m.d(Ne,{e:()=>i,Z:()=>O});var E=m(86678),g=m(20403),Y=m(2886),B=m(40189),D=m(70700);function i(F,k){let y=new Y.n(k);return y.preventDefault(),{leftButton:y.leftButton,buttons:y.buttons,posx:y.posx,posy:y.posy}}class O{constructor(){this._hooks=new B.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(k,y){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const C=this._onStopCallback;this._onStopCallback=null,k&&C&&C(y)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(k,y,C,b,x){if(this.isMonitoring())return;this._mouseMoveEventMerger=C,this._mouseMoveCallback=b,this._onStopCallback=x;const f=g.E.getSameOriginWindowChain(),M=D.gn?"pointermove":"mousemove",L=f.map(Z=>Z.window.document),N=E.Ay(k);N&&L.unshift(N);for(const Z of L)this._hooks.add(E.Y_(Z,M,P=>{P.buttons===y?this._mouseMoveCallback(P):this.stopMonitoring(!0)},(P,I)=>this._mouseMoveEventMerger(P,I))),this._hooks.add(E.nm(Z,"mouseup",P=>this.stopMonitoring(!0)));if(g.E.hasDifferentOriginAncestor()){let Z=f[f.length-1];this._hooks.add(E.nm(Z.window.document,"mouseout",P=>{"html"===new Y.n(P).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(E.nm(Z.window.document,"mouseover",P=>{"html"===new Y.n(P).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(E.nm(Z.window.document.body,"mouseleave",P=>{this.stopMonitoring(!0)}))}}}},20403:(Fe,Ne,m)=>{m.d(Ne,{E:()=>B});let E=!1,g=null;function Y(D){if(!D.parent||D.parent===D)return null;try{let i=D.location,O=D.parent.location;if("null"!==i.origin&&"null"!==O.origin&&i.origin!==O.origin)return E=!0,null}catch{return E=!0,null}return D.parent}class B{static getSameOriginWindowChain(){if(!g){g=[];let O,i=window;do{O=Y(i),g.push(O?{window:i,iframeElement:i.frameElement||null}:{window:i,iframeElement:null}),i=O}while(i)}return g.slice(0)}static hasDifferentOriginAncestor(){return g||this.getSameOriginWindowChain(),E}static getPositionOfChildWindowRelativeToAncestorWindow(i,O){if(!O||i===O)return{top:0,left:0};let F=0,k=0,y=this.getSameOriginWindowChain();for(const C of y){if(F+=C.window.scrollY,k+=C.window.scrollX,C.window===O||!C.iframeElement)break;let b=C.iframeElement.getBoundingClientRect();F+=b.top,k+=b.left}return{top:F,left:k}}}},714:(Fe,Ne,m)=>{m.d(Ne,{y:()=>y});var E=m(47306),g=m(64073),Y=m(99315),B=m(70700);const i=B.dz?256:2048,k=B.dz?2048:256;class y{constructor(b){this._standardKeyboardEventBrand=!0;let x=b;this.browserEvent=x,this.target=x.target,this.ctrlKey=x.ctrlKey,this.shiftKey=x.shiftKey,this.altKey=x.altKey,this.metaKey=x.metaKey,this.keyCode=function(C){if(C.charCode){let x=String.fromCharCode(C.charCode).toUpperCase();return g.kL.fromString(x)}const b=C.keyCode;if(3===b)return 7;if(E.isFirefox){if(59===b)return 80;if(107===b)return 81;if(109===b)return 83;if(B.dz&&224===b)return 57}else if(E.isWebKit){if(91===b)return 57;if(B.dz&&93===b)return 57;if(!B.dz&&92===b)return 57}return g.H_[b]||0}(x),this.code=x.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(b){return this._asKeybinding===b}_computeKeybinding(){let b=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(b=this.keyCode);let x=0;return this.ctrlKey&&(x|=i),this.altKey&&(x|=512),this.shiftKey&&(x|=1024),this.metaKey&&(x|=k),x|=b,x}_computeRuntimeKeybinding(){let b=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(b=this.keyCode),new Y.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,b)}}},2886:(Fe,Ne,m)=>{m.d(Ne,{n:()=>B,q:()=>D});var E=m(47306),g=m(20403),Y=m(70700);class B{constructor(O){this.timestamp=Date.now(),this.browserEvent=O,this.leftButton=0===O.button,this.middleButton=1===O.button,this.rightButton=2===O.button,this.buttons=O.buttons,this.target=O.target,this.detail=O.detail||1,"dblclick"===O.type&&(this.detail=2),this.ctrlKey=O.ctrlKey,this.shiftKey=O.shiftKey,this.altKey=O.altKey,this.metaKey=O.metaKey,"number"==typeof O.pageX?(this.posx=O.pageX,this.posy=O.pageY):(this.posx=O.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=O.clientY+document.body.scrollTop+document.documentElement.scrollTop);let F=g.E.getPositionOfChildWindowRelativeToAncestorWindow(self,O.view);this.posx-=F.left,this.posy-=F.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class D{constructor(O,F=0,k=0){if(this.browserEvent=O||null,this.target=O?O.target||O.targetNode||O.srcElement:null,this.deltaY=k,this.deltaX=F,O){let y=O,C=O;void 0!==y.wheelDeltaY?this.deltaY=y.wheelDeltaY/120:void 0!==C.VERTICAL_AXIS&&C.axis===C.VERTICAL_AXIS?this.deltaY=-C.detail/3:"wheel"===O.type&&(this.deltaY=O.deltaMode===O.DOM_DELTA_LINE?E.isFirefox&&!Y.dz?-O.deltaY/3:-O.deltaY:-O.deltaY/40),void 0!==y.wheelDeltaX?this.deltaX=E.isSafari&&Y.ED?-y.wheelDeltaX/120:y.wheelDeltaX/120:void 0!==C.HORIZONTAL_AXIS&&C.axis===C.HORIZONTAL_AXIS?this.deltaX=-O.detail/3:"wheel"===O.type&&(this.deltaX=O.deltaMode===O.DOM_DELTA_LINE?E.isFirefox&&!Y.dz?-O.deltaX/3:-O.deltaX:-O.deltaX/40),0===this.deltaY&&0===this.deltaX&&O.wheelDelta&&(this.deltaY=O.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},23945:(Fe,Ne,m)=>{m.d(Ne,{t:()=>i,o:()=>O});var E=m(86678),g=m(89822),Y=m(94456),B=m(40189),i=(()=>{return(F=i||(i={})).Tap="-monaco-gesturetap",F.Change="-monaco-gesturechange",F.Start="-monaco-gesturestart",F.End="-monaco-gesturesend",F.Contextmenu="-monaco-gesturecontextmenu",i;var F})();class O extends B.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(E.nm(document,"touchstart",k=>this.onTouchStart(k),{passive:!1})),this._register(E.nm(document,"touchend",k=>this.onTouchEnd(k))),this._register(E.nm(document,"touchmove",k=>this.onTouchMove(k),{passive:!1}))}static addTarget(k){return O.isTouchDevice()?(O.INSTANCE||(O.INSTANCE=new O),O.INSTANCE.targets.push(k),{dispose:()=>{O.INSTANCE.targets=O.INSTANCE.targets.filter(y=>y!==k)}}):B.JT.None}static ignoreTarget(k){return O.isTouchDevice()?(O.INSTANCE||(O.INSTANCE=new O),O.INSTANCE.ignoreTargets.push(k),{dispose:()=>{O.INSTANCE.ignoreTargets=O.INSTANCE.ignoreTargets.filter(y=>y!==k)}}):B.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(k){let y=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let C=0,b=k.targetTouches.length;C<b;C++){let x=k.targetTouches.item(C);this.activeTouches[x.identifier]={id:x.identifier,initialTarget:x.target,initialTimeStamp:y,initialPageX:x.pageX,initialPageY:x.pageY,rollingTimestamps:[y],rollingPageX:[x.pageX],rollingPageY:[x.pageY]};let f=this.newGestureEvent(i.Start,x.target);f.pageX=x.pageX,f.pageY=x.pageY,this.dispatchEvent(f)}this.dispatched&&(k.preventDefault(),k.stopPropagation(),this.dispatched=!1)}onTouchEnd(k){let y=Date.now(),C=Object.keys(this.activeTouches).length;for(let b=0,x=k.changedTouches.length;b<x;b++){let f=k.changedTouches.item(b);if(!this.activeTouches.hasOwnProperty(String(f.identifier))){console.warn("move of an UNKNOWN touch",f);continue}let M=this.activeTouches[f.identifier],H=Date.now()-M.initialTimeStamp;if(H<O.HOLD_DELAY&&Math.abs(M.initialPageX-g.Gb(M.rollingPageX))<30&&Math.abs(M.initialPageY-g.Gb(M.rollingPageY))<30){let L=this.newGestureEvent(i.Tap,M.initialTarget);L.pageX=g.Gb(M.rollingPageX),L.pageY=g.Gb(M.rollingPageY),this.dispatchEvent(L)}else if(H>=O.HOLD_DELAY&&Math.abs(M.initialPageX-g.Gb(M.rollingPageX))<30&&Math.abs(M.initialPageY-g.Gb(M.rollingPageY))<30){let L=this.newGestureEvent(i.Contextmenu,M.initialTarget);L.pageX=g.Gb(M.rollingPageX),L.pageY=g.Gb(M.rollingPageY),this.dispatchEvent(L)}else if(1===C){let L=g.Gb(M.rollingPageX),N=g.Gb(M.rollingPageY),Z=g.Gb(M.rollingTimestamps)-M.rollingTimestamps[0],P=L-M.rollingPageX[0],I=N-M.rollingPageY[0];const $=this.targets.filter(U=>M.initialTarget instanceof Node&&U.contains(M.initialTarget));this.inertia($,y,Math.abs(P)/Z,P>0?1:-1,L,Math.abs(I)/Z,I>0?1:-1,N)}this.dispatchEvent(this.newGestureEvent(i.End,M.initialTarget)),delete this.activeTouches[f.identifier]}this.dispatched&&(k.preventDefault(),k.stopPropagation(),this.dispatched=!1)}newGestureEvent(k,y){let C=document.createEvent("CustomEvent");return C.initEvent(k,!1,!0),C.initialTarget=y,C.tapCount=0,C}dispatchEvent(k){if(k.type===i.Tap){const y=(new Date).getTime();let C=0;C=y-this._lastSetTapCountTime>O.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=y,k.tapCount=C}else(k.type===i.Change||k.type===i.Contextmenu)&&(this._lastSetTapCountTime=0);for(let y=0;y<this.ignoreTargets.length;y++)if(k.initialTarget instanceof Node&&this.ignoreTargets[y].contains(k.initialTarget))return;this.targets.forEach(y=>{k.initialTarget instanceof Node&&y.contains(k.initialTarget)&&(y.dispatchEvent(k),this.dispatched=!0)})}inertia(k,y,C,b,x,f,M,H){this.handle=E.jL(()=>{let L=Date.now(),N=L-y,Z=0,P=0,I=!0;(C+=O.SCROLL_FRICTION*N)>0&&(I=!1,Z=b*C*N),(f+=O.SCROLL_FRICTION*N)>0&&(I=!1,P=M*f*N);let $=this.newGestureEvent(i.Change);$.translationX=Z,$.translationY=P,k.forEach(U=>U.dispatchEvent($)),I||this.inertia(k,L,C,b,x+Z,f,M,H+P)})}onTouchMove(k){let y=Date.now();for(let C=0,b=k.changedTouches.length;C<b;C++){let x=k.changedTouches.item(C);if(!this.activeTouches.hasOwnProperty(String(x.identifier))){console.warn("end of an UNKNOWN touch",x);continue}let f=this.activeTouches[x.identifier],M=this.newGestureEvent(i.Change,f.initialTarget);M.translationX=x.pageX-g.Gb(f.rollingPageX),M.translationY=x.pageY-g.Gb(f.rollingPageY),M.pageX=x.pageX,M.pageY=x.pageY,this.dispatchEvent(M),f.rollingPageX.length>3&&(f.rollingPageX.shift(),f.rollingPageY.shift(),f.rollingTimestamps.shift()),f.rollingPageX.push(x.pageX),f.rollingPageY.push(x.pageY),f.rollingTimestamps.push(y)}this.dispatched&&(k.preventDefault(),k.stopPropagation(),this.dispatched=!1)}}O.SCROLL_FRICTION=-.005,O.HOLD_DELAY=700,O.CLEAR_TAP_COUNT_TIME=400,function(F,k,y,C){var f,b=arguments.length,x=b<3?k:null===C?C=Object.getOwnPropertyDescriptor(k,y):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(F,k,y,C);else for(var M=F.length-1;M>=0;M--)(f=F[M])&&(x=(b<3?f(x):b>3?f(k,y,x):f(k,y))||x);b>3&&x&&Object.defineProperty(k,y,x)}([Y.H],O,"isTouchDevice",null)},48727:(Fe,Ne,m)=>{m.d(Ne,{Y:()=>C,g:()=>b});var E=m(47306),g=m(34122),Y=m(86678),B=m(23945),D=m(50955),i=m(40189),O=m(70700),F=m(99770),y=(m(22250),m(12918));class C extends i.JT{constructor(f,M,H={}){super(),this.options=H,this._context=f||this,this._action=M,M instanceof D.aU&&this._register(M.onDidChange(L=>{!this.element||this.handleActionChangeEvent(L)}))}handleActionChangeEvent(f){void 0!==f.enabled&&this.updateEnabled(),void 0!==f.checked&&this.updateChecked(),void 0!==f.class&&this.updateClass(),void 0!==f.label&&(this.updateLabel(),this.updateTooltip()),void 0!==f.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new D.Wi)),this._actionRunner}set actionRunner(f){this._actionRunner=f}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(f){this._context=f}render(f){const M=this.element=f;this._register(B.o.addTarget(f));const H=this.options&&this.options.draggable;H&&(f.draggable=!0,E.isFirefox&&this._register((0,Y.nm)(f,Y.tw.DRAG_START,L=>{var N;return null===(N=L.dataTransfer)||void 0===N?void 0:N.setData(g.go.TEXT,this._action.label)}))),this._register((0,Y.nm)(M,B.t.Tap,L=>this.onClick(L,!0))),this._register((0,Y.nm)(M,Y.tw.MOUSE_DOWN,L=>{H||Y.zB.stop(L,!0),this._action.enabled&&0===L.button&&M.classList.add("active")})),O.dz&&this._register((0,Y.nm)(M,Y.tw.CONTEXT_MENU,L=>{0===L.button&&!0===L.ctrlKey&&this.onClick(L)})),this._register((0,Y.nm)(M,Y.tw.CLICK,L=>{Y.zB.stop(L,!0),this.options&&this.options.isMenu||this.onClick(L)})),this._register((0,Y.nm)(M,Y.tw.DBLCLICK,L=>{Y.zB.stop(L,!0)})),[Y.tw.MOUSE_UP,Y.tw.MOUSE_OUT].forEach(L=>{this._register((0,Y.nm)(M,L,N=>{Y.zB.stop(N),M.classList.remove("active")}))})}onClick(f,M=!1){var H;Y.zB.stop(f,!0);const L=F.Jp(this._context)?(null===(H=this.options)||void 0===H?void 0:H.useEventAsContext)?f:{preserveFocus:M}:this._context;this.actionRunner.run(this._action,L)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(f){this.element&&(this.element.tabIndex=f?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class b extends C{constructor(f,M,H={}){super(f,M,H),this.options=H,this.options.icon=void 0!==H.icon&&H.icon,this.options.label=void 0===H.label||H.label,this.cssClass=""}render(f){super.render(f),this.element&&(this.label=(0,Y.R3)(this.element,(0,Y.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this._action.id===D.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"),this.options.label&&this.options.keybinding&&this.element&&((0,Y.R3)(this.element,(0,Y.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(f){this.label&&(this.label.tabIndex=f?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let f=null;this.getAction().tooltip?f=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(f=this.getAction().label,this.options.keybinding&&(f=y.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",f,this.options.keybinding))),f&&this.label&&(this.label.title=f)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},60291:(Fe,Ne,m)=>{m.d(Ne,{o:()=>y});var E=m(86678),g=m(714),Y=m(48727),B=m(50955),D=m(71040),i=m(40189),O=m(99770),k=(m(22250),function(C,b,x,f){return new(x||(x=Promise))(function(H,L){function N(I){try{P(f.next(I))}catch($){L($)}}function Z(I){try{P(f.throw(I))}catch($){L($)}}function P(I){I.done?H(I.value):function(H){return H instanceof x?H:new x(function(L){L(H)})}(I.value).then(N,Z)}P((f=f.apply(C,b||[])).next())})});class y extends i.JT{constructor(b,x={}){var f,M,H,L,N,Z;let P,I;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new D.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new D.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new D.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new D.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=x,this._context=null!==(f=x.context)&&void 0!==f?f:null,this._orientation=null!==(M=this.options.orientation)&&void 0!==M?M:0,this._triggerKeys={keyDown:null!==(L=null===(H=this.options.triggerKeys)||void 0===H?void 0:H.keyDown)&&void 0!==L&&L,keys:null!==(Z=null===(N=this.options.triggerKeys)||void 0===N?void 0:N.keys)&&void 0!==Z?Z:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new B.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun($=>this._onDidRun.fire($))),this._register(this._actionRunner.onBeforeRun($=>this._onBeforeRun.fire($))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==x.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:P=[15],I=[17];break;case 1:P=[16],I=[18],this.domNode.className+=" vertical"}this._register(E.nm(this.domNode,E.tw.KEY_DOWN,$=>{const U=new g.y($);let G=!0;const oe="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;P&&(U.equals(P[0])||U.equals(P[1]))?G=this.focusPrevious():I&&(U.equals(I[0])||U.equals(I[1]))?G=this.focusNext():U.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():U.equals(14)?G=this.focusFirst():U.equals(13)?G=this.focusLast():U.equals(2)&&oe instanceof Y.Y&&oe.trapsArrowNavigation?G=this.focusNext():this.isTriggerKeyEvent(U)?this._triggerKeys.keyDown?this.doTrigger(U):this.triggerKeyDown=!0:G=!1,G&&(U.preventDefault(),U.stopPropagation())})),this._register(E.nm(this.domNode,E.tw.KEY_UP,$=>{const U=new g.y($);this.isTriggerKeyEvent(U)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(U)),U.preventDefault(),U.stopPropagation()):(U.equals(2)||U.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(E.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(E.vY()===this.domNode||!E.jg(E.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),b.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role","toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(b){if(this.focusable=b,this.focusable){const x=this.viewItems.find(f=>f instanceof Y.Y&&f.isEnabled());x instanceof Y.Y&&x.setFocusable(!0)}else this.viewItems.forEach(x=>{x instanceof Y.Y&&x.setFocusable(!1)})}isTriggerKeyEvent(b){let x=!1;return this._triggerKeys.keys.forEach(f=>{x=x||b.equals(f)}),x}updateFocusedItem(){for(let b=0;b<this.actionsList.children.length;b++){const x=this.actionsList.children[b];if(E.jg(E.vY(),x)){this.focusedItem=b;break}}}get context(){return this._context}set context(b){this._context=b,this.viewItems.forEach(x=>x.setActionContext(b))}get actionRunner(){return this._actionRunner}set actionRunner(b){b&&(this._actionRunner=b,this.viewItems.forEach(x=>x.actionRunner=b))}getContainer(){return this.domNode}push(b,x={}){const f=Array.isArray(b)?b:[b];let M=O.hj(x.index)?x.index:null;f.forEach(H=>{const L=document.createElement("li");let N;L.className="action-item",L.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(E.nm(L,E.tw.CONTEXT_MENU,Z=>{E.zB.stop(Z,!0)})),this.options.actionViewItemProvider&&(N=this.options.actionViewItemProvider(H)),N||(N=new Y.g(this.context,H,x)),N.actionRunner=this._actionRunner,N.setActionContext(this.context),N.render(L),this.focusable&&N instanceof Y.Y&&0===this.viewItems.length&&N.setFocusable(!0),null===M||M<0||M>=this.actionsList.children.length?(this.actionsList.appendChild(L),this.viewItems.push(N),this._actionIds.push(H.id)):(this.actionsList.insertBefore(L,this.actionsList.children[M]),this.viewItems.splice(M,0,N),this._actionIds.splice(M,0,H.id),M++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,i.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],E.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(b){let f,x=!1;if(void 0===b?x=!0:"number"==typeof b?f=b:"boolean"==typeof b&&(x=b),x&&void 0===this.focusedItem){const M=this.viewItems.findIndex(H=>H.isEnabled());this.focusedItem=-1===M?void 0:M,this.updateFocus(void 0,void 0,!0)}else void 0!==f&&(this.focusedItem=f),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(b){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const x=this.focusedItem;let f;do{if(!b&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=x,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,f=this.viewItems[this.focusedItem]}while(this.focusedItem!==x&&this.options.focusOnlyEnabledItems&&!f.isEnabled());return this.updateFocus(),!0}focusPrevious(b){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const x=this.focusedItem;let f;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!b&&this.options.preventLoopNavigation)return this.focusedItem=x,!1;this.focusedItem=this.viewItems.length-1}f=this.viewItems[this.focusedItem]}while(this.focusedItem!==x&&this.options.focusOnlyEnabledItems&&!f.isEnabled());return this.updateFocus(!0),!0}updateFocus(b,x,f=!1){var M;void 0===this.focusedItem&&this.actionsList.focus({preventScroll:x}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(M=this.viewItems[this.previouslyFocusedItem])||void 0===M||M.blur());const H=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(H){let L=!0;O.mf(H.focus)||(L=!1),this.options.focusOnlyEnabledItems&&O.mf(H.isEnabled)&&!H.isEnabled()&&(L=!1),L?(f||this.previouslyFocusedItem!==this.focusedItem)&&(H.focus(b),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:x}),this.previouslyFocusedItem=void 0)}}doTrigger(b){if(void 0===this.focusedItem)return;const x=this.viewItems[this.focusedItem];x instanceof Y.Y&&this.run(x._action,x._context??b)}run(b,x){return k(this,void 0,void 0,function*(){yield this._actionRunner.run(b,x)})}dispose(){(0,i.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},99034:(Fe,Ne,m)=>{m.d(Ne,{wW:()=>y,Z9:()=>C,i7:()=>b});var E=m(86678),g=m(70700);let D,i,O,F,k;function y(f){D=document.createElement("div"),D.className="monaco-aria-container";const M=()=>{const L=document.createElement("div");return L.className="monaco-alert",L.setAttribute("role","alert"),L.setAttribute("aria-atomic","true"),D.appendChild(L),L};i=M(),O=M();const H=()=>{const L=document.createElement("div");return L.className="monaco-status",L.setAttribute("role","complementary"),L.setAttribute("aria-live","polite"),L.setAttribute("aria-atomic","true"),D.appendChild(L),L};F=H(),k=H(),f.appendChild(D)}function C(f){!D||(i.textContent!==f?(E.PO(O),x(i,f)):(E.PO(i),x(O,f)))}function b(f){!D||(g.dz?C(f):F.textContent!==f?(E.PO(k),x(F,f)):(E.PO(F),x(k,f)))}function x(f,M){E.PO(f),M.length>2e4&&(M=M.substr(0,2e4)),f.textContent=M,f.style.visibility="hidden",f.style.visibility="visible"}m(3336)},19226:(Fe,Ne,m)=>{m.d(Ne,{a:()=>B});var E=m(78968);function B(D){let i=D.definition;for(;i instanceof E.lA;)i=i.definition;return`.codicon-${D.id}:before { content: '${i.fontCharacter}'; }`}m(93791),m(85719)},24061:(Fe,Ne,m)=>{m.d(Ne,{Z:()=>O});var E=m(86678),g=m(81897),Y=m(60842),B=m(74243);m(92051);const i={badgeBackground:g.Il.fromHex("#4D4D4D"),badgeForeground:g.Il.fromHex("#FFFFFF")};class O{constructor(k,y){this.count=0,this.options=y||Object.create(null),(0,Y.jB)(this.options,i,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,E.R3)(k,(0,E.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(k){this.count=k,this.render()}setTitleFormat(k){this.titleFormat=k,this.render()}render(){this.element.textContent=(0,B.WU)(this.countFormat,this.count),this.element.title=(0,B.WU)(this.titleFormat,this.count),this.applyStyles()}style(k){this.badgeBackground=k.badgeBackground,this.badgeForeground=k.badgeForeground,this.badgeBorder=k.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const k=this.badgeBackground?this.badgeBackground.toString():"",y=this.badgeForeground?this.badgeForeground.toString():"",C=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=k,this.element.style.color=y,this.element.style.borderWidth=C?"1px":"",this.element.style.borderStyle=C?"solid":"",this.element.style.borderColor=C}}}},54708:(Fe,Ne,m)=>{m.d(Ne,{q:()=>B});var E=m(86678),g=m(44339),Y=m(60842);class B{constructor(i,O){var F;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(F=null==O?void 0:O.supportIcons)&&void 0!==F&&F,this.domNode=E.R3(i,E.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(i,O=[],F="",k){i||(i=""),k&&(i=B.escapeNewLines(i,O)),(!this.didEverRender||this.text!==i||this.title!==F||!Y.fS(this.highlights,O))&&(this.text=i,this.title=F,this.highlights=O,this.render())}render(){const i=[];let O=0;for(const F of this.highlights){if(F.end===F.start)continue;if(O<F.start){const C=this.text.substring(O,F.start);i.push(E.$("span",void 0,...this.supportIcons?(0,g.T)(C):[C])),O=F.end}const k=this.text.substring(F.start,F.end),y=E.$("span.highlight",void 0,...this.supportIcons?(0,g.T)(k):[k]);F.extraClasses&&y.classList.add(...F.extraClasses),i.push(y),O=F.end}if(O<this.text.length){const F=this.text.substring(O);i.push(E.$("span",void 0,...this.supportIcons?(0,g.T)(F):[F]))}E.mc(this.domNode,...i),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(i,O){let F=0,k=0;return i.replace(/\r\n|\r|\n/g,(y,C)=>{k="\r\n"===y?-1:0,C+=F;for(const b of O)b.end<=C||(b.start>=C&&(b.start+=k),b.end>=C&&(b.end+=k));return F+=k,"\u23ce"})}}},25601:(Fe,Ne,m)=>{m.d(Ne,{g:()=>N});var E=m(86678),g=m(54708),Y=m(89983),B=m(66607),D=m(3102),i=m(42623),O=m(40189),F=m(99770),k=m(12918),y=function($,U,G,oe){return new(G||(G=Promise))(function(fe,_e){function we(q){try{Q(oe.next(q))}catch(le){_e(le)}}function me(q){try{Q(oe.throw(q))}catch(le){_e(le)}}function Q(q){q.done?fe(q.value):function(fe){return fe instanceof G?fe:new G(function(_e){_e(fe)})}(q.value).then(we,me)}Q((oe=oe.apply($,U||[])).next())})};class b{constructor(U,G,oe){this.hoverDelegate=U,this.target=G,this.fadeInAnimation=oe}update(U,G){var oe;return y(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let de;if(void 0===U||(0,F.HD)(U)||U instanceof HTMLElement)de=U;else if((0,F.mf)(U.markdown)){this._hoverWidget||this.show((0,k.N)("iconLabel.loading","Loading..."),G),this._cancellationTokenSource=new B.A;const fe=this._cancellationTokenSource.token;if(de=yield U.markdown(fe),void 0===de&&(de=U.markdownNotSupportedFallback),this.isDisposed||fe.isCancellationRequested)return}else de=null!==(oe=U.markdown)&&void 0!==oe?oe:U.markdownNotSupportedFallback;this.show(de,G)})}show(U,G){const oe=this._hoverWidget;this.hasContent(U)&&(this._hoverWidget=this.hoverDelegate.showHover({content:U,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!oe},G)),null==oe||oe.dispose()}hasContent(U){return!(!U||(0,D.Fr)(U)&&!U.value)}get isDisposed(){var U;return null===(U=this._hoverWidget)||void 0===U?void 0:U.isDisposed}dispose(){var U,G;null===(U=this._hoverWidget)||void 0===U||U.dispose(),null===(G=this._cancellationTokenSource)||void 0===G||G.dispose(!0),this._cancellationTokenSource=void 0}}var f=m(60842),M=m(32975);m(10402);class L{constructor(U){this._element=U}get element(){return this._element}set textContent(U){this.disposed||U===this._textContent||(this._textContent=U,this._element.textContent=U)}set className(U){this.disposed||U===this._className||(this._className=U,this._element.className=U)}set empty(U){this.disposed||U===this._empty||(this._empty=U,this._element.style.marginLeft=U?"0":"")}dispose(){this.disposed=!0}}class N extends O.JT{constructor(U,G){super(),this.customHovers=new Map,this.domNode=this._register(new L(E.R3(U,E.$(".monaco-icon-label")))),this.labelContainer=E.R3(this.domNode.element,E.$(".monaco-icon-label-container"));const oe=E.R3(this.labelContainer,E.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new L(E.R3(this.labelContainer,E.$("span.monaco-icon-description-container")))),this.nameNode=(null==G?void 0:G.supportHighlights)||(null==G?void 0:G.supportIcons)?new I(oe,!!G.supportIcons):new Z(oe),this.descriptionNodeFactory=(null==G?void 0:G.supportDescriptionHighlights)?()=>new g.q(E.R3(this.descriptionContainer.element,E.$("span.label-description")),{supportIcons:!!G.supportIcons}):()=>this._register(new L(E.R3(this.descriptionContainer.element,E.$("span.label-description")))),this.hoverDelegate=null==G?void 0:G.hoverDelegate}get element(){return this.domNode.element}setLabel(U,G,oe){const de=["monaco-icon-label"];oe&&(oe.extraClasses&&de.push(...oe.extraClasses),oe.italic&&de.push("italic"),oe.strikethrough&&de.push("strikethrough")),this.domNode.className=de.join(" "),this.setupHover((null==oe?void 0:oe.descriptionTitle)?this.labelContainer:this.element,null==oe?void 0:oe.title),this.nameNode.setLabel(U,oe),(G||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof g.q?(this.descriptionNode.set(G||"",oe?oe.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==oe?void 0:oe.descriptionTitle)):(this.descriptionNode.textContent=G||"",this.setupHover(this.descriptionNode.element,(null==oe?void 0:oe.descriptionTitle)||""),this.descriptionNode.empty=!G))}setupHover(U,G){const oe=this.customHovers.get(U);if(oe&&(oe.dispose(),this.customHovers.delete(U)),G)if(this.hoverDelegate){const de=function($,U,G){let oe,de;const fe=(q,le)=>{var ee;q&&(null==de||de.dispose(),de=void 0),le&&(null==oe||oe.dispose(),oe=void 0),null===(ee=$.onDidHideHover)||void 0===ee||ee.call($)},_e=(q,le,ee)=>new Y._F(()=>y(this,void 0,void 0,function*(){(!de||de.isDisposed)&&(de=new b($,ee||U,q>0),yield de.update(G,le))}),q),me=E.nm(U,E.tw.MOUSE_OVER,()=>{if(oe)return;const q=new O.SL;q.add(E.nm(U,E.tw.MOUSE_LEAVE,re=>fe(!1,re.fromElement===U),!0)),q.add(E.nm(U,E.tw.MOUSE_DOWN,()=>fe(!0,!0),!0));const J={targetElements:[U],dispose:()=>{}};void 0!==$.placement&&"mouse"!==$.placement||q.add(E.nm(U,E.tw.MOUSE_MOVE,ce=>J.x=ce.x+10,!0)),q.add(_e($.delay,!1,J)),oe=q},!0);return{show:q=>{fe(!1,!0),_e(0,q)},hide:()=>{fe(!0,!0)},update:q=>y(this,void 0,void 0,function*(){G=q,yield null==de?void 0:de.update(G)}),dispose:()=>{me.dispose(),fe(!0,!0)}}}(this.hoverDelegate,U,G);de&&this.customHovers.set(U,de)}else!function($,U){(0,F.HD)(U)?$.title=(0,i.x$)(U):(null==U?void 0:U.markdownNotSupportedFallback)?$.title=U.markdownNotSupportedFallback:$.removeAttribute("title")}(U,G);else U.removeAttribute("title")}dispose(){super.dispose();for(const U of this.customHovers.values())U.dispose();this.customHovers.clear()}}class Z{constructor(U){this.container=U,this.label=void 0,this.singleLabel=void 0}setLabel(U,G){if(this.label!==U||!(0,f.fS)(this.options,G))if(this.label=U,this.options=G,"string"==typeof U)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=E.R3(this.container,E.$("a.label-name",{id:null==G?void 0:G.domId}))),this.singleLabel.textContent=U;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let oe=0;oe<U.length;oe++)E.R3(this.container,E.$("a.label-name",{id:(null==G?void 0:G.domId)&&`${null==G?void 0:G.domId}_${oe}`,"data-icon-label-count":U.length,"data-icon-label-index":oe,role:"treeitem"},U[oe])),oe<U.length-1&&E.R3(this.container,E.$("span.label-separator",void 0,(null==G?void 0:G.separator)||"/"))}}}class I{constructor(U,G){this.container=U,this.supportIcons=G,this.label=void 0,this.singleLabel=void 0}setLabel(U,G){if(this.label!==U||!(0,f.fS)(this.options,G))if(this.label=U,this.options=G,"string"==typeof U)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new g.q(E.R3(this.container,E.$("a.label-name",{id:null==G?void 0:G.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(U,null==G?void 0:G.matches,void 0,null==G?void 0:G.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const oe=(null==G?void 0:G.separator)||"/",de=function($,U,G){if(!G)return;let oe=0;return $.map(de=>{const fe={start:oe,end:oe+de.length},_e=G.map(we=>M.e.intersect(fe,we)).filter(we=>!M.e.isEmpty(we)).map(({start:we,end:me})=>({start:we-oe,end:me-oe}));return oe=fe.end+U.length,_e})}(U,oe,null==G?void 0:G.matches);for(let fe=0;fe<U.length;fe++){const _e=U[fe],we=de?de[fe]:void 0,Q=E.$("a.label-name",{id:(null==G?void 0:G.domId)&&`${null==G?void 0:G.domId}_${fe}`,"data-icon-label-count":U.length,"data-icon-label-index":fe,role:"treeitem"});new g.q(E.R3(this.container,Q),{supportIcons:this.supportIcons}).set(_e,we,void 0,null==G?void 0:G.labelEscapeNewLines),fe<U.length-1&&E.R3(Q,E.$("span.label-separator",void 0,oe))}}}}},44339:(Fe,Ne,m)=>{m.d(Ne,{T:()=>B});var E=m(86678),g=m(78968);const Y=new RegExp(`(\\\\)?\\$\\((${g.dT.iconNameExpression}(?:${g.dT.iconModifierExpression})?)\\)`,"g");function B(i){const O=new Array;let F,k=0,y=0;for(;null!==(F=Y.exec(i));){y=F.index||0,O.push(i.substring(k,y)),k=(F.index||0)+F[0].length;const[,C,b]=F;O.push(C?`$(${b})`:D({id:b}))}return k<i.length&&O.push(i.substring(k)),O}function D(i){const O=E.$("span");return O.classList.add(...g.dT.asClassNameArray(i)),O}},39402:(Fe,Ne,m)=>{m.d(Ne,{p:()=>N,W:()=>L});var E=m(86678),g=m(71172),Y=m(25662),B=m(60291),D=m(99034),i=m(6491),O=m(37450),F=m(81897),k=m(71040);class y{constructor(P,I=0,$=P.length,U=I-1){this.items=P,this.start=I,this.end=$,this.index=U}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class C{constructor(P=[],I=10){this._initialize(P),this._limit=I,this._onChange()}getHistory(){return this._elements}add(P){this._history.delete(P),this._history.add(P),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(P){return this._history.has(P)}_onChange(){this._reduceToLimit();const P=this._elements;this._navigator=new y(P,0,P.length,P.length)}_reduceToLimit(){const P=this._elements;P.length>this._limit&&this._initialize(P.slice(P.length-this._limit))}_currentPosition(){const P=this._navigator.current();return P?this._elements.indexOf(P):-1}_initialize(P){this._history=new Set;for(const I of P)this._history.add(I)}get _elements(){const P=[];return this._history.forEach(I=>P.push(I)),P}}var b=m(60842),f=(m(5767),m(12918));const M=E.$,H={inputBackground:F.Il.fromHex("#3C3C3C"),inputForeground:F.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:F.Il.fromHex("#55AAFF"),inputValidationInfoBackground:F.Il.fromHex("#063B49"),inputValidationWarningBorder:F.Il.fromHex("#B89500"),inputValidationWarningBackground:F.Il.fromHex("#352A05"),inputValidationErrorBorder:F.Il.fromHex("#BE1100"),inputValidationErrorBackground:F.Il.fromHex("#5A1D1D")};class L extends O.${constructor(P,I,$){var U;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new k.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new k.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=I,this.options=$||Object.create(null),(0,b.jB)(this.options,H,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(U=this.options.tooltip)&&void 0!==U?U:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=E.R3(P,M(".monaco-inputbox.idle"));let G=this.options.flexibleHeight?"textarea":"input",oe=E.R3(this.element,M(".ibwrapper"));if(this.input=E.R3(oe,M(G+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=E.R3(oe,M("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new i.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),E.R3(P,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(_e=>this.input.scrollTop=_e.scrollTop));const de=this._register(new g.Y(document,"selectionchange")),fe=k.ju.filter(de.event,()=>{const _e=document.getSelection();return(null==_e?void 0:_e.anchorNode)===oe});this._register(fe(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new B.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(P){this.placeholder=P,this.input.setAttribute("placeholder",P)}setTooltip(P){this.tooltip=P,this.input.title=P}setAriaLabel(P){this.ariaLabel=P,P?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(P){this.input.value!==P&&(this.input.value=P,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:E.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(P=null){this.input.select(),P&&(this.input.setSelectionRange(P.start,P.end),P.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return E.w(this.input)}set width(P){if(this.options.flexibleHeight&&this.options.flexibleWidth){let I=0;this.mirror&&(I=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=P-I+"px"}else this.input.style.width=P+"px";this.mirror&&(this.mirror.style.width=P+"px")}set paddingRight(P){this.input.style.width=`calc(100% - ${P}px)`,this.mirror&&(this.mirror.style.paddingRight=P+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const $=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:$})}showMessage(P,I){this.message=P,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(P.type));const $=this.stylesForType(this.message.type);this.element.style.border=$.border?`1px solid ${$.border}`:"",(this.hasFocus()||I)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let P=null;return this.validation&&(P=this.validation(this.value),P?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(P)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==P?void 0:P.type}stylesForType(P){switch(P){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(P){switch(P){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let P,$,I=()=>P.style.width=E.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:U=>{if(!this.message)return null;P=E.R3(U,M(".monaco-inputbox-container")),I();const G={inline:!0,className:"monaco-inputbox-message"},oe=this.message.formatContent?(0,Y.BO)(this.message.content,G):(0,Y.IY)(this.message.content,G);oe.classList.add(this.classForType(this.message.type));const de=this.stylesForType(this.message.type);return oe.style.backgroundColor=de.background?de.background.toString():"",oe.style.color=de.foreground?de.foreground.toString():"",oe.style.border=de.border?`1px solid ${de.border}`:"",E.R3(P,oe),null},onHide:()=>{this.state="closed"},layout:I}),$=3===this.message.type?f.N("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?f.N("alertWarningMessage","Warning: {0}",this.message.content):f.N("alertInfoMessage","Info: {0}",this.message.content),D.Z9($),this.state="open"}_hideMessage(){!this.contextViewProvider||("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const P=this.value,$=10===P.charCodeAt(P.length-1)?" ":"";(P+$).replace(/\u000c/g,"")?this.mirror.textContent=P+$:this.mirror.innerText="\xa0",this.layout()}style(P){this.inputBackground=P.inputBackground,this.inputForeground=P.inputForeground,this.inputBorder=P.inputBorder,this.inputValidationInfoBackground=P.inputValidationInfoBackground,this.inputValidationInfoForeground=P.inputValidationInfoForeground,this.inputValidationInfoBorder=P.inputValidationInfoBorder,this.inputValidationWarningBackground=P.inputValidationWarningBackground,this.inputValidationWarningForeground=P.inputValidationWarningForeground,this.inputValidationWarningBorder=P.inputValidationWarningBorder,this.inputValidationErrorBackground=P.inputValidationErrorBackground,this.inputValidationErrorForeground=P.inputValidationErrorForeground,this.inputValidationErrorBorder=P.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const P=this.inputBackground?this.inputBackground.toString():"",I=this.inputForeground?this.inputForeground.toString():"",$=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=P,this.element.style.color=I,this.input.style.backgroundColor="inherit",this.input.style.color=I,this.element.style.borderWidth=$?"1px":"",this.element.style.borderStyle=$?"solid":"",this.element.style.borderColor=$}layout(){if(!this.mirror)return;const P=this.cachedContentHeight;this.cachedContentHeight=E.wn(this.mirror),P!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(P){const I=this.inputElement,$=I.selectionStart,U=I.selectionEnd,G=I.value;null!==$&&null!==U&&(this.value=G.substr(0,$)+P+G.substr(U),I.setSelectionRange($+1,$+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class N extends L{constructor(P,I,$){const U=f.N({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21c5 plus a single space, then used as a hint where input field keeps history"]},"for history"),G=` or \u21c5 ${U}`,oe=` (\u21c5 ${U})`;super(P,I,$),this.history=new C($.history,100);const de=()=>{if($.showHistoryHint&&$.showHistoryHint()&&!this.placeholder.endsWith(G)&&!this.placeholder.endsWith(oe)&&this.history.getHistory().length){const fe=this.placeholder.endsWith(")")?G:oe,_e=this.placeholder+fe;$.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=_e:this.setPlaceHolder(_e)}};this.observer=new MutationObserver((fe,_e)=>{fe.forEach(we=>{we.target.textContent||de()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>de()),this.onblur(this.input,()=>{const fe=_e=>{if(this.placeholder.endsWith(_e)){const we=this.placeholder.slice(0,this.placeholder.length-_e.length);return $.showPlaceholderOnFocus?this.placeholder=we:this.setPlaceHolder(we),!0}return!1};fe(oe)||fe(G)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let P=this.getNextValue();P&&(P=P===this.value?this.getNextValue():P),P&&(this.value=P,D.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let P=this.getPreviousValue();P&&(P=P===this.value?this.getPreviousValue():P),P&&(this.value=P,D.i7(this.value))}getCurrentValue(){let P=this.history.current();return P||(P=this.history.last(),this.history.next()),P}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},87136:(Fe,Ne,m)=>{m.d(Ne,{kX:()=>G,Bv:()=>we});var E=m(47306),g=m(34122),Y=m(86678),B=m(71172),D=m(23945),i=m(6491),O=m(89822),F=m(89983),k=m(94456),y=m(71040),C=m(40189),b=m(60842),x=m(32975),f=m(90443);function M(me,Q){const q=[];for(let le of Q){if(me.start>=le.range.end)continue;if(me.end<le.range.start)break;const ee=x.e.intersect(me,le.range);x.e.isEmpty(ee)||q.push({range:ee,size:le.size})}return q}function H({start:me,end:Q},q){return{start:me+q,end:Q+q}}class Z{constructor(){this.groups=[],this._size=0}splice(Q,q,le=[]){const ee=le.length-q,J=M({start:0,end:Q},this.groups),re=M({start:Q+q,end:Number.POSITIVE_INFINITY},this.groups).map(ve=>({range:H(ve.range,ee),size:ve.size})),ce=le.map((ve,ke)=>({range:{start:Q+ke,end:Q+ke+1},size:ve.size}));this.groups=function(...me){return function(me){const Q=[];let q=null;for(let le of me){const ee=le.range.start,J=le.range.end,re=le.size;q&&re===q.size?q.range.end=J:(q={range:{start:ee,end:J},size:re},Q.push(q))}return Q}(me.reduce((Q,q)=>Q.concat(q),[]))}(J,ce,re),this._size=this.groups.reduce((ve,ke)=>ve+ke.size*(ke.range.end-ke.range.start),0)}get count(){const Q=this.groups.length;return Q?this.groups[Q-1].range.end:0}get size(){return this._size}indexAt(Q){if(Q<0)return-1;let q=0,le=0;for(let ee of this.groups){const J=ee.range.end-ee.range.start,re=le+J*ee.size;if(Q<re)return q+Math.floor((Q-le)/ee.size);q+=J,le=re}return q}indexAfter(Q){return Math.min(this.indexAt(Q)+1,this.count)}positionAt(Q){if(Q<0)return-1;let q=0,le=0;for(let ee of this.groups){const J=ee.range.end-ee.range.start,re=le+J;if(Q<re)return q+(Q-le)*ee.size;q+=J*ee.size,le=re}return-1}}class I{constructor(Q){this.renderers=Q,this.cache=new Map}alloc(Q){let q=this.getTemplateCache(Q).pop();if(!q){const le=(0,Y.$)(".monaco-list-row");q={domNode:le,templateId:Q,templateData:this.getRenderer(Q).renderTemplate(le)}}return q}release(Q){!Q||this.releaseRow(Q)}releaseRow(Q){const{domNode:q,templateId:le}=Q;q&&(q.classList.remove("scrolling"),function(me){try{me.parentElement&&me.parentElement.removeChild(me)}catch{}}(q)),this.getTemplateCache(le).push(Q)}getTemplateCache(Q){let q=this.cache.get(Q);return q||(q=[],this.cache.set(Q,q)),q}dispose(){this.cache.forEach((Q,q)=>{for(const le of Q)this.getRenderer(q).disposeTemplate(le.templateData),le.templateData=null}),this.cache.clear()}getRenderer(Q){const q=this.renderers.get(Q);if(!q)throw new Error(`No renderer found for ${Q}`);return q}}var $=function(me,Q,q,le){var re,ee=arguments.length,J=ee<3?Q:null===le?le=Object.getOwnPropertyDescriptor(Q,q):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(me,Q,q,le);else for(var ce=me.length-1;ce>=0;ce--)(re=me[ce])&&(J=(ee<3?re(J):ee>3?re(Q,q,J):re(Q,q))||J);return ee>3&&J&&Object.defineProperty(Q,q,J),J};const U={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:me=>[me],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class G{constructor(Q){this.elements=Q}update(){}getData(){return this.elements}}class oe{constructor(Q){this.elements=Q}update(){}getData(){return this.elements}}class de{constructor(){this.types=[],this.files=[]}update(Q){if(Q.types&&this.types.splice(0,this.types.length,...Q.types),Q.files){this.files.splice(0,this.files.length);for(let q=0;q<Q.files.length;q++){const le=Q.files.item(q);le&&(le.size||le.type)&&this.files.push(le)}}}getData(){return{types:this.types,files:this.files}}}class _e{constructor(Q){this.getSetSize=(null==Q?void 0:Q.getSetSize)?Q.getSetSize.bind(Q):(q,le,ee)=>ee,this.getPosInSet=(null==Q?void 0:Q.getPosInSet)?Q.getPosInSet.bind(Q):(q,le)=>le+1,this.getRole=(null==Q?void 0:Q.getRole)?Q.getRole.bind(Q):q=>"listitem",this.isChecked=(null==Q?void 0:Q.isChecked)?Q.isChecked.bind(Q):q=>{}}}class we{constructor(Q,q,le,ee=U){if(this.virtualDelegate=q,this.domId="list_id_"+ ++we.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new F.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=C.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=C.JT.None,this.onDragLeaveTimeout=C.JT.None,this.disposables=new C.SL,this._onDidChangeContentHeight=new y.Q5,this._horizontalScrolling=!1,ee.horizontalScrolling&&ee.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new Z;for(const re of le)this.renderers.set(re.templateId,re);this.cache=this.disposables.add(new I(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof ee.mouseSupport||ee.mouseSupport),this._horizontalScrolling=(0,b.CJ)(ee,re=>re.horizontalScrolling,U.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===ee.additionalScrollHeight?0:ee.additionalScrollHeight,this.accessibilityProvider=new _e(ee.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,b.CJ)(ee,re=>re.transformOptimization,U.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(D.o.addTarget(this.rowsContainer)),this.scrollable=new f.Rm({forceIntegerValues:!0,smoothScrollDuration:(0,b.CJ)(ee,re=>re.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:re=>(0,Y.jL)(re)}),this.scrollableElement=this.disposables.add(new i.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,b.CJ)(ee,re=>re.alwaysConsumeMouseWheel,U.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,b.CJ)(ee,re=>re.verticalScrollMode,U.verticalScrollMode),useShadows:(0,b.CJ)(ee,re=>re.useShadows,U.useShadows),mouseWheelScrollSensitivity:ee.mouseWheelScrollSensitivity,fastScrollSensitivity:ee.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),Q.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,Y.nm)(this.rowsContainer,D.t.Change,re=>this.onTouchChange(re))),this.disposables.add((0,Y.nm)(this.scrollableElement.getDomNode(),"scroll",re=>re.target.scrollTop=0)),this.disposables.add((0,Y.nm)(this.domNode,"dragover",re=>this.onDragOver(this.toDragEvent(re)))),this.disposables.add((0,Y.nm)(this.domNode,"drop",re=>this.onDrop(this.toDragEvent(re)))),this.disposables.add((0,Y.nm)(this.domNode,"dragleave",re=>this.onDragLeave(this.toDragEvent(re)))),this.disposables.add((0,Y.nm)(this.domNode,"dragend",re=>this.onDragEnd(re))),this.setRowLineHeight=(0,b.CJ)(ee,re=>re.setRowLineHeight,U.setRowLineHeight),this.setRowHeight=(0,b.CJ)(ee,re=>re.setRowHeight,U.setRowHeight),this.supportDynamicHeights=(0,b.CJ)(ee,re=>re.supportDynamicHeights,U.supportDynamicHeights),this.dnd=(0,b.CJ)(ee,re=>re.dnd,U.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(Q){if(Q!==this._horizontalScrolling){if(Q&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=Q,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const q of this.items)this.measureItemWidth(q);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,Y.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(Q){void 0!==Q.additionalScrollHeight&&(this.additionalScrollHeight=Q.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==Q.smoothScrolling&&this.scrollable.setSmoothScrollDuration(Q.smoothScrolling?125:0),void 0!==Q.horizontalScrolling&&(this.horizontalScrolling=Q.horizontalScrolling),void 0!==Q.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:Q.mouseWheelScrollSensitivity}),void 0!==Q.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:Q.fastScrollSensitivity})}splice(Q,q,le=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(Q,q,le)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(Q,q,le=[]){const ee=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),re=x.e.intersect(ee,{start:Q,end:Q+q}),ce=new Map;for(let Ie=re.end-1;Ie>=re.start;Ie--){const at=this.items[Ie];if(at.dragStartDisposable.dispose(),at.row){let bt=ce.get(at.templateId);bt||(bt=[],ce.set(at.templateId,bt));const Ut=this.renderers.get(at.templateId);Ut&&Ut.disposeElement&&Ut.disposeElement(at.element,Ie,at.row.templateData,at.size),bt.push(at.row)}at.row=null}const ve={start:Q+q,end:this.items.length},ke=x.e.intersect(ve,ee),We=x.e.relativeComplement(ve,ee),je=le.map(Ie=>({id:String(this.itemId++),element:Ie,templateId:this.virtualDelegate.getTemplateId(Ie),size:this.virtualDelegate.getHeight(Ie),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ie),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:C.JT.None,checkedDisposable:C.JT.None}));let ue;0===Q&&q>=this.items.length?(this.rangeMap=new Z,this.rangeMap.splice(0,0,je),ue=this.items,this.items=je):(this.rangeMap.splice(Q,q,je),ue=this.items.splice(Q,q,...je));const Ce=le.length-q,Ae=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),et=H(ke,Ce),$e=x.e.intersect(Ae,et);for(let Ie=$e.start;Ie<$e.end;Ie++)this.updateItemInDOM(this.items[Ie],Ie);const Te=x.e.relativeComplement(et,Ae);for(const Ie of Te)for(let at=Ie.start;at<Ie.end;at++)this.removeItemFromDOM(at);const rt=We.map(Ie=>H(Ie,Ce)),nt=[{start:Q,end:Q+le.length},...rt].map(Ie=>x.e.intersect(Ae,Ie)),xe=this.getNextToLastElement(nt);for(const Ie of nt)for(let at=Ie.start;at<Ie.end;at++){const Ut=ce.get(this.items[at].templateId),mn=null==Ut?void 0:Ut.pop();this.insertItemInDOM(at,xe,mn)}for(const Ie of ce.values())for(const at of Ie)this.cache.release(at);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),ue.map(Ie=>Ie.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,Y.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let Q=0;for(const q of this.items)void 0!==q.width&&(Q=Math.max(Q,q.width));this.scrollWidth=Q,this.scrollableElement.setScrollDimensions({scrollWidth:0===Q?0:Q+10})}rerender(){if(this.supportDynamicHeights){for(const Q of this.items)Q.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(Q){return this.items[Q].element}domElement(Q){const q=this.items[Q].row;return q&&q.domNode}elementHeight(Q){return this.items[Q].size}elementTop(Q){return this.rangeMap.positionAt(Q)}indexAt(Q){return this.rangeMap.indexAt(Q)}indexAfter(Q){return this.rangeMap.indexAfter(Q)}layout(Q,q){let le={height:"number"==typeof Q?Q:(0,Y.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,le.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(le),void 0!==q&&(this.renderWidth=q,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof q?q:(0,Y.FK)(this.domNode)})}render(Q,q,le,ee,J,re=!1){const ce=this.getRenderRange(q,le),ve=x.e.relativeComplement(ce,Q),ke=x.e.relativeComplement(Q,ce),We=this.getNextToLastElement(ve);if(re){const je=x.e.intersect(Q,ce);for(let ue=je.start;ue<je.end;ue++)this.updateItemInDOM(this.items[ue],ue)}for(const je of ve)for(let ue=je.start;ue<je.end;ue++)this.insertItemInDOM(ue,We);for(const je of ke)for(let ue=je.start;ue<je.end;ue++)this.removeItemFromDOM(ue);void 0!==ee&&(this.rowsContainer.style.left=`-${ee}px`),this.rowsContainer.style.top=`-${q}px`,this.horizontalScrolling&&void 0!==J&&(this.rowsContainer.style.width=`${Math.max(J,this.renderWidth)}px`),this.lastRenderTop=q,this.lastRenderHeight=le}insertItemInDOM(Q,q,le){const ee=this.items[Q];ee.row||(ee.row=le??this.cache.alloc(ee.templateId));const J=this.accessibilityProvider.getRole(ee.element)||"listitem";ee.row.domNode.setAttribute("role",J);const re=this.accessibilityProvider.isChecked(ee.element);if("boolean"==typeof re)ee.row.domNode.setAttribute("aria-checked",String(!!re));else if(re){const ke=We=>ee.row.domNode.setAttribute("aria-checked",String(!!We));ke(re.value),ee.checkedDisposable=re.onDidChange(ke)}ee.row.domNode.parentElement||(q?this.rowsContainer.insertBefore(ee.row.domNode,q):this.rowsContainer.appendChild(ee.row.domNode)),this.updateItemInDOM(ee,Q);const ce=this.renderers.get(ee.templateId);if(!ce)throw new Error(`No renderer found for template id ${ee.templateId}`);ce&&ce.renderElement(ee.element,Q,ee.row.templateData,ee.size);const ve=this.dnd.getDragURI(ee.element);ee.dragStartDisposable.dispose(),ee.row.domNode.draggable=!!ve,ve&&(ee.dragStartDisposable=(0,Y.nm)(ee.row.domNode,"dragstart",ke=>this.onDragStart(ee.element,ve,ke))),this.horizontalScrolling&&(this.measureItemWidth(ee),this.eventuallyUpdateScrollWidth())}measureItemWidth(Q){if(!Q.row||!Q.row.domNode)return;Q.row.domNode.style.width=E.isFirefox?"-moz-fit-content":"fit-content",Q.width=(0,Y.FK)(Q.row.domNode);const q=window.getComputedStyle(Q.row.domNode);q.paddingLeft&&(Q.width+=parseFloat(q.paddingLeft)),q.paddingRight&&(Q.width+=parseFloat(q.paddingRight)),Q.row.domNode.style.width=""}updateItemInDOM(Q,q){Q.row.domNode.style.top=`${this.elementTop(q)}px`,this.setRowHeight&&(Q.row.domNode.style.height=`${Q.size}px`),this.setRowLineHeight&&(Q.row.domNode.style.lineHeight=`${Q.size}px`),Q.row.domNode.setAttribute("data-index",`${q}`),Q.row.domNode.setAttribute("data-last-element",q===this.length-1?"true":"false"),Q.row.domNode.setAttribute("data-parity",q%2==0?"even":"odd"),Q.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(Q.element,q,this.length))),Q.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(Q.element,q))),Q.row.domNode.setAttribute("id",this.getElementDomId(q)),Q.row.domNode.classList.toggle("drop-target",Q.dropTarget)}removeItemFromDOM(Q){const q=this.items[Q];if(q.dragStartDisposable.dispose(),q.checkedDisposable.dispose(),q.row){const le=this.renderers.get(q.templateId);le&&le.disposeElement&&le.disposeElement(q.element,Q,q.row.templateData,q.size),this.cache.release(q.row),q.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(Q,q){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:Q,reuseAnimation:q})}get scrollTop(){return this.getScrollTop()}set scrollTop(Q){this.setScrollTop(Q)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return y.ju.map(this.disposables.add(new B.Y(this.domNode,"click")).event,Q=>this.toMouseEvent(Q))}get onMouseDblClick(){return y.ju.map(this.disposables.add(new B.Y(this.domNode,"dblclick")).event,Q=>this.toMouseEvent(Q))}get onMouseMiddleClick(){return y.ju.filter(y.ju.map(this.disposables.add(new B.Y(this.domNode,"auxclick")).event,Q=>this.toMouseEvent(Q)),Q=>1===Q.browserEvent.button)}get onMouseDown(){return y.ju.map(this.disposables.add(new B.Y(this.domNode,"mousedown")).event,Q=>this.toMouseEvent(Q))}get onContextMenu(){return y.ju.any(y.ju.map(this.disposables.add(new B.Y(this.domNode,"contextmenu")).event,Q=>this.toMouseEvent(Q)),y.ju.map(this.disposables.add(new B.Y(this.domNode,D.t.Contextmenu)).event,Q=>this.toGestureEvent(Q)))}get onTouchStart(){return y.ju.map(this.disposables.add(new B.Y(this.domNode,"touchstart")).event,Q=>this.toTouchEvent(Q))}get onTap(){return y.ju.map(this.disposables.add(new B.Y(this.rowsContainer,D.t.Tap)).event,Q=>this.toGestureEvent(Q))}toMouseEvent(Q){const q=this.getItemIndexFromEventTarget(Q.target||null),le=void 0===q?void 0:this.items[q];return{browserEvent:Q,index:q,element:le&&le.element}}toTouchEvent(Q){const q=this.getItemIndexFromEventTarget(Q.target||null),le=void 0===q?void 0:this.items[q];return{browserEvent:Q,index:q,element:le&&le.element}}toGestureEvent(Q){const q=this.getItemIndexFromEventTarget(Q.initialTarget||null),le=void 0===q?void 0:this.items[q];return{browserEvent:Q,index:q,element:le&&le.element}}toDragEvent(Q){const q=this.getItemIndexFromEventTarget(Q.target||null),le=void 0===q?void 0:this.items[q];return{browserEvent:Q,index:q,element:le&&le.element}}onScroll(Q){try{const q=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(q,Q.scrollTop,Q.height,Q.scrollLeft,Q.scrollWidth),this.supportDynamicHeights&&this._rerender(Q.scrollTop,Q.height,Q.inSmoothScrolling)}catch(q){throw console.error("Got bad scroll event:",Q),q}}onTouchChange(Q){Q.preventDefault(),Q.stopPropagation(),this.scrollTop-=Q.translationY}onDragStart(Q,q,le){if(!le.dataTransfer)return;const ee=this.dnd.getDragElements(Q);if(le.dataTransfer.effectAllowed="copyMove",le.dataTransfer.setData(g.go.TEXT,q),le.dataTransfer.setDragImage){let J;this.dnd.getDragLabel&&(J=this.dnd.getDragLabel(ee,le)),void 0===J&&(J=String(ee.length));const re=(0,Y.$)(".monaco-drag-image");re.textContent=J,document.body.appendChild(re),le.dataTransfer.setDragImage(re,-10,-10),setTimeout(()=>document.body.removeChild(re),0)}this.currentDragData=new G(ee),g.P$.CurrentDragAndDropData=new oe(ee),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,le)}onDragOver(Q){if(Q.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),g.P$.CurrentDragAndDropData&&"vscode-ui"===g.P$.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(Q.browserEvent),!Q.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(g.P$.CurrentDragAndDropData)this.currentDragData=g.P$.CurrentDragAndDropData;else{if(!Q.browserEvent.dataTransfer.types)return!1;this.currentDragData=new de}const q=this.dnd.onDragOver(this.currentDragData,Q.element,Q.index,Q.browserEvent);if(this.canDrop="boolean"==typeof q?q:q.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let le;if(Q.browserEvent.dataTransfer.dropEffect="boolean"!=typeof q&&0===q.effect?"copy":"move",le="boolean"!=typeof q&&q.feedback?q.feedback:void 0===Q.index?[-1]:[Q.index],le=(0,O.EB)(le).filter(ee=>ee>=-1&&ee<this.length).sort((ee,J)=>ee-J),le=-1===le[0]?[-1]:le,function(me,Q){return Array.isArray(me)&&Array.isArray(Q)?(0,O.fS)(me,Q):me===Q}(this.currentDragFeedback,le))return!0;if(this.currentDragFeedback=le,this.currentDragFeedbackDisposable.dispose(),-1===le[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,C.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const ee of le){const J=this.items[ee];J.dropTarget=!0,J.row&&J.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,C.OF)(()=>{for(const ee of le){const J=this.items[ee];J.dropTarget=!1,J.row&&J.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(Q){var q,le;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,F.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===(le=(q=this.dnd).onDragLeave)||void 0===le||le.call(q,this.currentDragData,Q.element,Q.index,Q.browserEvent))}onDrop(Q){if(!this.canDrop)return;const q=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,g.P$.CurrentDragAndDropData=void 0,q&&Q.browserEvent.dataTransfer&&(Q.browserEvent.preventDefault(),q.update(Q.browserEvent.dataTransfer),this.dnd.drop(q,Q.element,Q.index,Q.browserEvent))}onDragEnd(Q){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,g.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(Q)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=C.JT.None}setupDragAndDropScrollTopAnimation(Q){if(!this.dragOverAnimationDisposable){const q=(0,Y.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,Y.jt)(this.animateDragAndDropScrollTop.bind(this,q))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,F.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=Q.pageY}animateDragAndDropScrollTop(Q){if(void 0===this.dragOverMouseY)return;const q=this.dragOverMouseY-Q,le=this.renderHeight-35;q<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(q-35))):q>le&&(this.scrollTop+=Math.min(14,Math.floor(.3*(q-le))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(Q){const q=this.scrollableElement.getDomNode();let le=Q;for(;le instanceof HTMLElement&&le!==this.rowsContainer&&q.contains(le);){const ee=le.getAttribute("data-index");if(ee){const J=Number(ee);if(!isNaN(J))return J}le=le.parentElement}}getRenderRange(Q,q){return{start:this.rangeMap.indexAt(Q),end:this.rangeMap.indexAfter(Q+q-1)}}_rerender(Q,q,le){const ee=this.getRenderRange(Q,q);let J,re;Q===this.elementTop(ee.start)?(J=ee.start,re=0):ee.end-ee.start>1&&(J=ee.start+1,re=this.elementTop(J)-Q);let ce=0;for(;;){const ve=this.getRenderRange(Q,q);let ke=!1;for(let We=ve.start;We<ve.end;We++){const je=this.probeDynamicHeight(We);0!==je&&this.rangeMap.splice(We,1,[this.items[We]]),ce+=je,ke=ke||0!==je}if(!ke){0!==ce&&this.eventuallyUpdateScrollDimensions();const We=x.e.relativeComplement(ee,ve);for(const ue of We)for(let Ce=ue.start;Ce<ue.end;Ce++)this.items[Ce].row&&this.removeItemFromDOM(Ce);const je=x.e.relativeComplement(ve,ee);for(const ue of je)for(let Ce=ue.start;Ce<ue.end;Ce++){const Ae=Ce+1,et=Ae<this.items.length?this.items[Ae].row:null;this.insertItemInDOM(Ce,et?et.domNode:null)}for(let ue=ve.start;ue<ve.end;ue++)this.items[ue].row&&this.updateItemInDOM(this.items[ue],ue);if("number"==typeof J){const ue=this.scrollable.getFutureScrollPosition().scrollTop-Q,Ce=this.elementTop(J)-re+ue;this.setScrollTop(Ce,le)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(Q){const q=this.items[Q];if(this.virtualDelegate.getDynamicHeight){const re=this.virtualDelegate.getDynamicHeight(q.element);if(null!==re){const ce=q.size;return q.size=re,q.lastDynamicHeightWidth=this.renderWidth,re-ce}}if(!q.hasDynamicHeight||q.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(q.element))return 0;const le=q.size;if(!this.setRowHeight&&q.row){let re=q.row.domNode.offsetHeight;return q.size=re,q.lastDynamicHeightWidth=this.renderWidth,re-le}const ee=this.cache.alloc(q.templateId);ee.domNode.style.height="",this.rowsContainer.appendChild(ee.domNode);const J=this.renderers.get(q.templateId);return J&&(J.renderElement(q.element,Q,ee.templateData,void 0),J.disposeElement&&J.disposeElement(q.element,Q,ee.templateData,void 0)),q.size=ee.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(q.element,q.size),q.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(ee.domNode),this.cache.release(ee),q.size-le}getNextToLastElement(Q){const q=Q[Q.length-1];if(!q)return null;const le=this.items[q.end];return le&&le.row?le.row.domNode:null}getElementDomId(Q){return`${this.domId}_${Q}`}dispose(){if(this.items){for(const Q of this.items)if(Q.row){const q=this.renderers.get(Q.row.templateId);q&&(q.disposeElement&&q.disposeElement(Q.element,-1,Q.row.templateData,void 0),q.disposeTemplate(Q.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,C.B9)(this.disposables)}}we.InstanceCount=0,$([k.H],we.prototype,"onMouseClick",null),$([k.H],we.prototype,"onMouseDblClick",null),$([k.H],we.prototype,"onMouseMiddleClick",null),$([k.H],we.prototype,"onMouseDown",null),$([k.H],we.prototype,"onContextMenu",null),$([k.H],we.prototype,"onTouchStart",null),$([k.H],we.prototype,"onTap",null)},2393:(Fe,Ne,m)=>{m.d(Ne,{WK:()=>Q,wD:()=>ke,aV:()=>ht,sx:()=>ve,cK:()=>fe,hD:()=>_e,wn:()=>J,Zo:()=>ee});var E=m(86678),g=m(71172),Y=m(714),B=m(23945),D=m(99034);class i{constructor(xe){this.spliceables=xe}splice(xe,Ie,at){this.spliceables.forEach(bt=>bt.splice(xe,Ie,at))}}var O=m(89822),F=m(89983),k=m(81897),y=m(94456),C=m(71040),b=m(56260),x=m(40189),f=m(31096),M=m(60842),H=m(70700),L=m(99770);m(72010);class Z extends Error{constructor(xe,Ie){super(`ListError [${xe}] ${Ie}`)}}var P=m(87136),I=function(nt,xe,Ie,at){var mn,bt=arguments.length,Ut=bt<3?xe:null===at?at=Object.getOwnPropertyDescriptor(xe,Ie):at;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ut=Reflect.decorate(nt,xe,Ie,at);else for(var pt=nt.length-1;pt>=0;pt--)(mn=nt[pt])&&(Ut=(bt<3?mn(Ut):bt>3?mn(xe,Ie,Ut):mn(xe,Ie))||Ut);return bt>3&&Ut&&Object.defineProperty(xe,Ie,Ut),Ut},$=function(nt,xe,Ie,at){return new(Ie||(Ie=Promise))(function(Ut,mn){function pt(zt){try{Vt(at.next(zt))}catch(fn){mn(fn)}}function Bt(zt){try{Vt(at.throw(zt))}catch(fn){mn(fn)}}function Vt(zt){zt.done?Ut(zt.value):function(Ut){return Ut instanceof Ie?Ut:new Ie(function(mn){mn(Ut)})}(zt.value).then(pt,Bt)}Vt((at=at.apply(nt,xe||[])).next())})};class U{constructor(xe){this.trait=xe,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(xe){return xe}renderElement(xe,Ie,at){const bt=this.renderedElements.findIndex(Ut=>Ut.templateData===at);if(bt>=0){const Ut=this.renderedElements[bt];this.trait.unrender(at),Ut.index=Ie}else this.renderedElements.push({index:Ie,templateData:at});this.trait.renderIndex(Ie,at)}splice(xe,Ie,at){const bt=[];for(const Ut of this.renderedElements)Ut.index<xe?bt.push(Ut):Ut.index>=xe+Ie&&bt.push({index:Ut.index+at-Ie,templateData:Ut.templateData});this.renderedElements=bt}renderIndexes(xe){for(const{index:Ie,templateData:at}of this.renderedElements)xe.indexOf(Ie)>-1&&this.trait.renderIndex(Ie,at)}disposeTemplate(xe){const Ie=this.renderedElements.findIndex(at=>at.templateData===xe);Ie<0||this.renderedElements.splice(Ie,1)}}class G{constructor(xe){this._trait=xe,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new C.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new U(this)}splice(xe,Ie,at){var bt;Ie=Math.max(0,Math.min(Ie,this.length-xe));const Ut=at.length-Ie,mn=xe+Ie,pt=[...this.sortedIndexes.filter(Vt=>Vt<xe),...at.map((Vt,zt)=>Vt?zt+xe:-1).filter(Vt=>-1!==Vt),...this.sortedIndexes.filter(Vt=>Vt>=mn).map(Vt=>Vt+Ut)],Bt=this.length+Ut;if(this.sortedIndexes.length>0&&0===pt.length&&Bt>0){const Vt=null!==(bt=this.sortedIndexes.find(zt=>zt>=xe))&&void 0!==bt?bt:Bt-1;pt.push(Math.min(Vt,Bt-1))}this.renderer.splice(xe,Ie,at.length),this._set(pt,pt),this.length=Bt}renderIndex(xe,Ie){Ie.classList.toggle(this._trait,this.contains(xe))}unrender(xe){xe.classList.remove(this._trait)}set(xe,Ie){return this._set(xe,[...xe].sort(et),Ie)}_set(xe,Ie,at){const bt=this.indexes,Ut=this.sortedIndexes;this.indexes=xe,this.sortedIndexes=Ie;const mn=Ce(Ut,xe);return this.renderer.renderIndexes(mn),this._onChange.fire({indexes:xe,browserEvent:at}),bt}get(){return this.indexes}contains(xe){return(0,O.ry)(this.sortedIndexes,xe,et)>=0}dispose(){(0,x.B9)(this._onChange)}}I([y.H],G.prototype,"renderer",null);class oe extends G{constructor(xe){super("selected"),this.setAriaSelected=xe}renderIndex(xe,Ie){super.renderIndex(xe,Ie),this.setAriaSelected&&(this.contains(xe)?Ie.setAttribute("aria-selected","true"):Ie.setAttribute("aria-selected","false"))}}class de{constructor(xe,Ie,at){this.trait=xe,this.view=Ie,this.identityProvider=at}splice(xe,Ie,at){if(!this.identityProvider)return this.trait.splice(xe,Ie,at.map(()=>!1));const bt=this.trait.get().map(mn=>this.identityProvider.getId(this.view.element(mn)).toString()),Ut=at.map(mn=>bt.indexOf(this.identityProvider.getId(mn).toString())>-1);this.trait.splice(xe,Ie,Ut)}}function fe(nt){return"INPUT"===nt.tagName||"TEXTAREA"===nt.tagName}function _e(nt){return!!nt.classList.contains("monaco-editor")||!(nt.classList.contains("monaco-list")||!nt.parentElement)&&_e(nt.parentElement)}class we{constructor(xe,Ie,at){this.list=xe,this.view=Ie,this.disposables=new x.SL,this.multipleSelectionDisposables=new x.SL,this.onKeyDown.filter(bt=>3===bt.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(bt=>16===bt.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(bt=>18===bt.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(bt=>11===bt.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(bt=>12===bt.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(bt=>9===bt.keyCode).on(this.onEscape,this,this.disposables),!1!==at.multipleSelectionSupport&&this.onKeyDown.filter(bt=>(H.dz?bt.metaKey:bt.ctrlKey)&&31===bt.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return C.ju.chain(this.disposables.add(new g.Y(this.view.domNode,"keydown")).event).filter(xe=>!fe(xe.target)).map(xe=>new Y.y(xe))}updateOptions(xe){void 0!==xe.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),xe.multipleSelectionSupport&&this.onKeyDown.filter(Ie=>(H.dz?Ie.metaKey:Ie.ctrlKey)&&31===Ie.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(xe){xe.preventDefault(),xe.stopPropagation(),this.list.setSelection(this.list.getFocus(),xe.browserEvent)}onUpArrow(xe){xe.preventDefault(),xe.stopPropagation(),this.list.focusPrevious(1,!1,xe.browserEvent);const Ie=this.list.getFocus()[0];this.list.setAnchor(Ie),this.list.reveal(Ie),this.view.domNode.focus()}onDownArrow(xe){xe.preventDefault(),xe.stopPropagation(),this.list.focusNext(1,!1,xe.browserEvent);const Ie=this.list.getFocus()[0];this.list.setAnchor(Ie),this.list.reveal(Ie),this.view.domNode.focus()}onPageUpArrow(xe){xe.preventDefault(),xe.stopPropagation(),this.list.focusPreviousPage(xe.browserEvent);const Ie=this.list.getFocus()[0];this.list.setAnchor(Ie),this.list.reveal(Ie),this.view.domNode.focus()}onPageDownArrow(xe){xe.preventDefault(),xe.stopPropagation(),this.list.focusNextPage(xe.browserEvent);const Ie=this.list.getFocus()[0];this.list.setAnchor(Ie),this.list.reveal(Ie),this.view.domNode.focus()}onCtrlA(xe){xe.preventDefault(),xe.stopPropagation(),this.list.setSelection((0,O.w6)(this.list.length),xe.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(xe){this.list.getSelection().length&&(xe.preventDefault(),xe.stopPropagation(),this.list.setSelection([],xe.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}I([y.H],we.prototype,"onKeyDown",null);var me=(()=>{return(nt=me||(me={}))[nt.Idle=0]="Idle",nt[nt.Typing=1]="Typing",me;var nt})();const Q=new class{mightProducePrintableCharacter(nt){return!(nt.ctrlKey||nt.metaKey||nt.altKey)&&(nt.keyCode>=31&&nt.keyCode<=56||nt.keyCode>=21&&nt.keyCode<=30||nt.keyCode>=93&&nt.keyCode<=102||nt.keyCode>=80&&nt.keyCode<=90)}};class q{constructor(xe,Ie,at,bt){this.list=xe,this.view=Ie,this.keyboardNavigationLabelProvider=at,this.delegate=bt,this.enabled=!1,this.state=me.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new x.SL,this.disposables=new x.SL,this.updateOptions(xe.options)}updateOptions(xe){void 0===xe.enableKeyboardNavigation||xe.enableKeyboardNavigation?this.enable():this.disable(),void 0!==xe.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=xe.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const xe=C.ju.chain(this.enabledDisposables.add(new g.Y(this.view.domNode,"keydown")).event).filter(bt=>!fe(bt.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(bt=>new Y.y(bt)).filter(bt=>this.delegate.mightProducePrintableCharacter(bt)).forEach(bt=>bt.preventDefault()).map(bt=>bt.browserEvent.key).event,Ie=C.ju.debounce(xe,()=>null,800);C.ju.reduce(C.ju.any(xe,Ie),(bt,Ut)=>null===Ut?null:(bt||"")+Ut)(this.onInput,this,this.enabledDisposables),Ie(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var xe;const Ie=this.list.getFocus();if(Ie.length>0&&Ie[0]===this.previouslyFocused){const at=null===(xe=this.list.options.accessibilityProvider)||void 0===xe?void 0:xe.getAriaLabel(this.list.element(Ie[0]));at&&(0,D.Z9)(at)}this.previouslyFocused=-1}onInput(xe){if(!xe)return this.state=me.Idle,void(this.triggered=!1);const Ie=this.list.getFocus(),at=Ie.length>0?Ie[0]:0,bt=this.state===me.Idle?1:0;this.state=me.Typing;for(let Ut=0;Ut<this.list.length;Ut++){const mn=(at+Ut+bt)%this.list.length,pt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(mn)),Bt=pt&&pt.toString();if(void 0===Bt||(0,b.Ji)(xe,Bt))return this.previouslyFocused=at,this.list.setFocus([mn]),void this.list.reveal(mn)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class le{constructor(xe,Ie){this.list=xe,this.view=Ie,this.disposables=new x.SL,C.ju.chain(this.disposables.add(new g.Y(Ie.domNode,"keydown")).event).filter(bt=>!fe(bt.target)).map(bt=>new Y.y(bt)).filter(bt=>!(2!==bt.keyCode||bt.ctrlKey||bt.metaKey||bt.shiftKey||bt.altKey)).on(this.onTab,this,this.disposables)}onTab(xe){if(xe.target!==this.view.domNode)return;const Ie=this.list.getFocus();if(0===Ie.length)return;const at=this.view.domElement(Ie[0]);if(!at)return;const bt=at.querySelector("[tabIndex]");if(!(bt&&bt instanceof HTMLElement&&-1!==bt.tabIndex))return;const Ut=window.getComputedStyle(bt);"hidden"===Ut.visibility||"none"===Ut.display||(xe.preventDefault(),xe.stopPropagation(),bt.focus())}dispose(){this.disposables.dispose()}}function ee(nt){return H.dz?nt.browserEvent.metaKey:nt.browserEvent.ctrlKey}function J(nt){return nt.browserEvent.shiftKey}const ce={isSelectionSingleChangeEvent:ee,isSelectionRangeChangeEvent:J};class ve{constructor(xe){this.list=xe,this.disposables=new x.SL,this._onPointer=new C.Q5,this.onPointer=this._onPointer.event,!1!==xe.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ce),this.mouseSupport=void 0===xe.options.mouseSupport||!!xe.options.mouseSupport,this.mouseSupport&&(xe.onMouseDown(this.onMouseDown,this,this.disposables),xe.onContextMenu(this.onContextMenu,this,this.disposables),xe.onMouseDblClick(this.onDoubleClick,this,this.disposables),xe.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(B.o.addTarget(xe.getHTMLElement()))),C.ju.any(xe.onMouseClick,xe.onMouseMiddleClick,xe.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(xe){void 0!==xe.multipleSelectionSupport&&(this.multipleSelectionController=void 0,xe.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ce))}isSelectionSingleChangeEvent(xe){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(xe)}isSelectionRangeChangeEvent(xe){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(xe)}isSelectionChangeEvent(xe){return this.isSelectionSingleChangeEvent(xe)||this.isSelectionRangeChangeEvent(xe)}onMouseDown(xe){_e(xe.browserEvent.target)||document.activeElement!==xe.browserEvent.target&&this.list.domFocus()}onContextMenu(xe){_e(xe.browserEvent.target)||this.list.setFocus(void 0===xe.index?[]:[xe.index],xe.browserEvent)}onViewPointer(xe){if(!this.mouseSupport||fe(xe.browserEvent.target)||_e(xe.browserEvent.target))return;const Ie=xe.index;return void 0===Ie?(this.list.setFocus([],xe.browserEvent),this.list.setSelection([],xe.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(xe)||this.isSelectionChangeEvent(xe)?this.changeSelection(xe):(this.list.setFocus([Ie],xe.browserEvent),this.list.setAnchor(Ie),(nt=xe.browserEvent)instanceof MouseEvent&&2===nt.button||this.list.setSelection([Ie],xe.browserEvent),void this._onPointer.fire(xe));var nt}onDoubleClick(xe){if(fe(xe.browserEvent.target)||_e(xe.browserEvent.target)||this.isSelectionChangeEvent(xe))return;const Ie=this.list.getFocus();this.list.setSelection(Ie,xe.browserEvent)}changeSelection(xe){const Ie=xe.index;let at=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(xe)){void 0===at&&(at=this.list.getFocus()[0]??Ie,this.list.setAnchor(at));const bt=Math.min(at,Ie),Ut=Math.max(at,Ie),mn=(0,O.w6)(bt,Ut+1),pt=this.list.getSelection(),Bt=function(nt,xe){const Ie=nt.indexOf(xe);if(-1===Ie)return[];const at=[];let bt=Ie-1;for(;bt>=0&&nt[bt]===xe-(Ie-bt);)at.push(nt[bt--]);for(at.reverse(),bt=Ie;bt<nt.length&&nt[bt]===xe+(bt-Ie);)at.push(nt[bt++]);return at}(Ce(pt,[at]),at);if(0===Bt.length)return;const Vt=Ce(mn,function(nt,xe){const Ie=[];let at=0,bt=0;for(;at<nt.length||bt<xe.length;)if(at>=nt.length)Ie.push(xe[bt++]);else if(bt>=xe.length)Ie.push(nt[at++]);else{if(nt[at]===xe[bt]){at++,bt++;continue}nt[at]<xe[bt]?Ie.push(nt[at++]):bt++}return Ie}(pt,Bt));this.list.setSelection(Vt,xe.browserEvent),this.list.setFocus([Ie],xe.browserEvent)}else if(this.isSelectionSingleChangeEvent(xe)){const bt=this.list.getSelection(),Ut=bt.filter(mn=>mn!==Ie);this.list.setFocus([Ie]),this.list.setAnchor(Ie),this.list.setSelection(bt.length===Ut.length?[...Ut,Ie]:Ut,xe.browserEvent)}}dispose(){this.disposables.dispose()}}class ke{constructor(xe,Ie){this.styleElement=xe,this.selectorSuffix=Ie}style(xe){const Ie=this.selectorSuffix&&`.${this.selectorSuffix}`,at=[];xe.listBackground&&(xe.listBackground.isOpaque()?at.push(`.monaco-list${Ie} .monaco-list-rows { background: ${xe.listBackground}; }`):H.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),xe.listFocusBackground&&(at.push(`.monaco-list${Ie}:focus .monaco-list-row.focused { background-color: ${xe.listFocusBackground}; }`),at.push(`.monaco-list${Ie}:focus .monaco-list-row.focused:hover { background-color: ${xe.listFocusBackground}; }`)),xe.listFocusForeground&&at.push(`.monaco-list${Ie}:focus .monaco-list-row.focused { color: ${xe.listFocusForeground}; }`),xe.listActiveSelectionBackground&&(at.push(`.monaco-list${Ie}:focus .monaco-list-row.selected { background-color: ${xe.listActiveSelectionBackground}; }`),at.push(`.monaco-list${Ie}:focus .monaco-list-row.selected:hover { background-color: ${xe.listActiveSelectionBackground}; }`)),xe.listActiveSelectionForeground&&at.push(`.monaco-list${Ie}:focus .monaco-list-row.selected { color: ${xe.listActiveSelectionForeground}; }`),xe.listActiveSelectionIconForeground&&at.push(`.monaco-list${Ie}:focus .monaco-list-row.selected .codicon { color: ${xe.listActiveSelectionIconForeground}; }`),xe.listFocusAndSelectionBackground&&at.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ie}:focus .monaco-list-row.selected.focused { background-color: ${xe.listFocusAndSelectionBackground}; }\n\t\t\t`),xe.listFocusAndSelectionForeground&&at.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ie}:focus .monaco-list-row.selected.focused { color: ${xe.listFocusAndSelectionForeground}; }\n\t\t\t`),xe.listInactiveFocusForeground&&(at.push(`.monaco-list${Ie} .monaco-list-row.focused { color:  ${xe.listInactiveFocusForeground}; }`),at.push(`.monaco-list${Ie} .monaco-list-row.focused:hover { color:  ${xe.listInactiveFocusForeground}; }`)),xe.listInactiveSelectionIconForeground&&at.push(`.monaco-list${Ie} .monaco-list-row.focused .codicon { color:  ${xe.listInactiveSelectionIconForeground}; }`),xe.listInactiveFocusBackground&&(at.push(`.monaco-list${Ie} .monaco-list-row.focused { background-color:  ${xe.listInactiveFocusBackground}; }`),at.push(`.monaco-list${Ie} .monaco-list-row.focused:hover { background-color:  ${xe.listInactiveFocusBackground}; }`)),xe.listInactiveSelectionBackground&&(at.push(`.monaco-list${Ie} .monaco-list-row.selected { background-color:  ${xe.listInactiveSelectionBackground}; }`),at.push(`.monaco-list${Ie} .monaco-list-row.selected:hover { background-color:  ${xe.listInactiveSelectionBackground}; }`)),xe.listInactiveSelectionForeground&&at.push(`.monaco-list${Ie} .monaco-list-row.selected { color: ${xe.listInactiveSelectionForeground}; }`),xe.listHoverBackground&&at.push(`.monaco-list${Ie}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${xe.listHoverBackground}; }`),xe.listHoverForeground&&at.push(`.monaco-list${Ie} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${xe.listHoverForeground}; }`),xe.listSelectionOutline&&at.push(`.monaco-list${Ie} .monaco-list-row.selected { outline: 1px dotted ${xe.listSelectionOutline}; outline-offset: -1px; }`),xe.listFocusOutline&&at.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ie}:focus .monaco-list-row.focused { outline: 1px solid ${xe.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${Ie}.last-focused .monaco-list-row.focused { outline: 1px solid ${xe.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),xe.listInactiveFocusOutline&&at.push(`.monaco-list${Ie} .monaco-list-row.focused { outline: 1px dotted ${xe.listInactiveFocusOutline}; outline-offset: -1px; }`),xe.listHoverOutline&&at.push(`.monaco-list${Ie} .monaco-list-row:hover { outline: 1px dashed ${xe.listHoverOutline}; outline-offset: -1px; }`),xe.listDropBackground&&at.push(`\n\t\t\t\t.monaco-list${Ie}.drop-target,\n\t\t\t\t.monaco-list${Ie} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${Ie} .monaco-list-row.drop-target { background-color: ${xe.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),xe.listFilterWidgetBackground&&at.push(`.monaco-list-type-filter { background-color: ${xe.listFilterWidgetBackground} }`),xe.listFilterWidgetOutline&&at.push(`.monaco-list-type-filter { border: 1px solid ${xe.listFilterWidgetOutline}; }`),xe.listFilterWidgetNoMatchesOutline&&at.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${xe.listFilterWidgetNoMatchesOutline}; }`),xe.listMatchesShadow&&at.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${xe.listMatchesShadow}; }`),xe.tableColumnsBorder&&at.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${xe.tableColumnsBorder};\n\t\t\t}`),xe.tableOddRowsBackgroundColor&&at.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${xe.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=at.join("\n")}}const We={listFocusBackground:k.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:k.Il.fromHex("#0E639C"),listActiveSelectionForeground:k.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:k.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:k.Il.fromHex("#094771"),listFocusAndSelectionForeground:k.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:k.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:k.Il.fromHex("#FFFFFF"),listHoverBackground:k.Il.fromHex("#2A2D2E"),listDropBackground:k.Il.fromHex("#383B3D"),treeIndentGuidesStroke:k.Il.fromHex("#a9a9a9"),tableColumnsBorder:k.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:k.Il.fromHex("#cccccc").transparent(.04)},je={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function Ce(nt,xe){const Ie=[];let at=0,bt=0;for(;at<nt.length||bt<xe.length;)if(at>=nt.length)Ie.push(xe[bt++]);else if(bt>=xe.length)Ie.push(nt[at++]);else{if(nt[at]===xe[bt]){Ie.push(nt[at]),at++,bt++;continue}Ie.push(nt[at]<xe[bt]?nt[at++]:xe[bt++])}return Ie}const et=(nt,xe)=>nt-xe;class $e{constructor(xe,Ie){this._templateId=xe,this.renderers=Ie}get templateId(){return this._templateId}renderTemplate(xe){return this.renderers.map(Ie=>Ie.renderTemplate(xe))}renderElement(xe,Ie,at,bt){let Ut=0;for(const mn of this.renderers)mn.renderElement(xe,Ie,at[Ut++],bt)}disposeElement(xe,Ie,at,bt){let Ut=0;for(const mn of this.renderers)mn.disposeElement&&mn.disposeElement(xe,Ie,at[Ut],bt),Ut+=1}disposeTemplate(xe){let Ie=0;for(const at of this.renderers)at.disposeTemplate(xe[Ie++])}}class Te{constructor(xe){this.accessibilityProvider=xe,this.templateId="a18n"}renderTemplate(xe){return xe}renderElement(xe,Ie,at){const bt=this.accessibilityProvider.getAriaLabel(xe);bt?at.setAttribute("aria-label",bt):at.removeAttribute("aria-label");const Ut=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(xe);"number"==typeof Ut?at.setAttribute("aria-level",`${Ut}`):at.removeAttribute("aria-level")}disposeTemplate(xe){}}class rt{constructor(xe,Ie){this.list=xe,this.dnd=Ie}getDragElements(xe){const Ie=this.list.getSelectedElements();return Ie.indexOf(xe)>-1?Ie:[xe]}getDragURI(xe){return this.dnd.getDragURI(xe)}getDragLabel(xe,Ie){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(xe,Ie)}onDragStart(xe,Ie){this.dnd.onDragStart&&this.dnd.onDragStart(xe,Ie)}onDragOver(xe,Ie,at,bt){return this.dnd.onDragOver(xe,Ie,at,bt)}onDragLeave(xe,Ie,at,bt){var Ut,mn;null===(mn=(Ut=this.dnd).onDragLeave)||void 0===mn||mn.call(Ut,xe,Ie,at,bt)}onDragEnd(xe){this.dnd.onDragEnd&&this.dnd.onDragEnd(xe)}drop(xe,Ie,at,bt){this.dnd.drop(xe,Ie,at,bt)}}class ht{constructor(xe,Ie,at,bt,Ut=je){var mn;this.user=xe,this._options=Ut,this.focus=new G("focused"),this.anchor=new G("anchor"),this.eventBufferer=new C.E7,this._ariaLabel="",this.disposables=new x.SL,this._onDidDispose=new C.Q5,this.onDidDispose=this._onDidDispose.event;const pt=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(mn=this._options.accessibilityProvider)||void 0===mn?void 0:mn.getWidgetRole():"list";this.selection=new oe("listbox"!==pt),(0,M.jB)(Ut,We,!1);const Bt=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Ut.accessibilityProvider,this.accessibilityProvider&&(Bt.push(new Te(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),bt=bt.map(zt=>new $e(zt.templateId,[...Bt,zt]));const Vt=Object.assign(Object.assign({},Ut),{dnd:Ut.dnd&&new rt(this,Ut.dnd)});if(this.view=new P.Bv(Ie,at,bt,Vt),this.view.domNode.setAttribute("role",pt),Ut.styleController)this.styleController=Ut.styleController(this.view.domId);else{const zt=(0,E.dS)(this.view.domNode);this.styleController=new ke(zt,this.view.domId)}this.spliceable=new i([new de(this.focus,this.view,Ut.identityProvider),new de(this.selection,this.view,Ut.identityProvider),new de(this.anchor,this.view,Ut.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new le(this,this.view)),("boolean"!=typeof Ut.keyboardSupport||Ut.keyboardSupport)&&(this.keyboardController=new we(this,this.view,Ut),this.disposables.add(this.keyboardController)),Ut.keyboardNavigationLabelProvider&&(this.typeLabelController=new q(this,this.view,Ut.keyboardNavigationLabelProvider,Ut.keyboardNavigationDelegate||Q),this.disposables.add(this.typeLabelController)),this.mouseController=this.createMouseController(Ut),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return C.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),xe=>this.toListEvent(xe))}get onDidChangeSelection(){return C.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),xe=>this.toListEvent(xe))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let xe=!1;const Ie=C.ju.chain(this.disposables.add(new g.Y(this.view.domNode,"keydown")).event).map(Ut=>new Y.y(Ut)).filter(Ut=>xe=58===Ut.keyCode||Ut.shiftKey&&68===Ut.keyCode).map(g.p).filter(()=>!1).event,at=C.ju.chain(this.disposables.add(new g.Y(this.view.domNode,"keyup")).event).forEach(()=>xe=!1).map(Ut=>new Y.y(Ut)).filter(Ut=>58===Ut.keyCode||Ut.shiftKey&&68===Ut.keyCode).map(g.p).map(({browserEvent:Ut})=>{const mn=this.getFocus(),pt=mn.length?mn[0]:void 0;return{index:pt,element:void 0!==pt?this.view.element(pt):void 0,anchor:void 0!==pt?this.view.domElement(pt):this.view.domNode,browserEvent:Ut}}).event,bt=C.ju.chain(this.view.onContextMenu).filter(Ut=>!xe).map(({element:Ut,index:mn,browserEvent:pt})=>({element:Ut,index:mn,anchor:{x:pt.pageX+1,y:pt.pageY},browserEvent:pt})).event;return C.ju.any(Ie,at,bt)}get onKeyDown(){return this.disposables.add(new g.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return C.ju.signal(this.disposables.add(new g.Y(this.view.domNode,"focus",!0)).event)}createMouseController(xe){return new ve(this)}updateOptions(xe={}){var Ie;this._options=Object.assign(Object.assign({},this._options),xe),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(xe),null===(Ie=this.keyboardController)||void 0===Ie||Ie.updateOptions(xe),this.view.updateOptions(xe)}get options(){return this._options}splice(xe,Ie,at=[]){if(xe<0||xe>this.view.length)throw new Z(this.user,`Invalid start index: ${xe}`);if(Ie<0)throw new Z(this.user,`Invalid delete count: ${Ie}`);0===Ie&&0===at.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(xe,Ie,at))}rerender(){this.view.rerender()}element(xe){return this.view.element(xe)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(xe){this.view.setScrollTop(xe)}get ariaLabel(){return this._ariaLabel}set ariaLabel(xe){this._ariaLabel=xe,this.view.domNode.setAttribute("aria-label",xe)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(xe,Ie){this.view.layout(xe,Ie)}setSelection(xe,Ie){for(const at of xe)if(at<0||at>=this.length)throw new Z(this.user,`Invalid index ${at}`);this.selection.set(xe,Ie)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(xe=>this.view.element(xe))}setAnchor(xe){if(void 0!==xe){if(xe<0||xe>=this.length)throw new Z(this.user,`Invalid index ${xe}`);this.anchor.set([xe])}else this.anchor.set([])}getAnchor(){return(0,O.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const xe=this.getAnchor();return void 0===xe?void 0:this.element(xe)}setFocus(xe,Ie){for(const at of xe)if(at<0||at>=this.length)throw new Z(this.user,`Invalid index ${at}`);this.focus.set(xe,Ie)}focusNext(xe=1,Ie=!1,at,bt){if(0===this.length)return;const Ut=this.focus.get(),mn=this.findNextIndex(Ut.length>0?Ut[0]+xe:0,Ie,bt);mn>-1&&this.setFocus([mn],at)}focusPrevious(xe=1,Ie=!1,at,bt){if(0===this.length)return;const Ut=this.focus.get(),mn=this.findPreviousIndex(Ut.length>0?Ut[0]-xe:0,Ie,bt);mn>-1&&this.setFocus([mn],at)}focusNextPage(xe,Ie){return $(this,void 0,void 0,function*(){let at=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);at=0===at?0:at-1;const bt=this.view.element(at),Ut=this.getFocusedElements()[0];if(Ut!==bt){const mn=this.findPreviousIndex(at,!1,Ie);mn>-1&&Ut!==this.view.element(mn)?this.setFocus([mn],xe):this.setFocus([at],xe)}else{const mn=this.view.getScrollTop();this.view.setScrollTop(mn+this.view.renderHeight-this.view.elementHeight(at)),this.view.getScrollTop()!==mn&&(this.setFocus([]),yield(0,F.Vs)(0),yield this.focusNextPage(xe,Ie))}})}focusPreviousPage(xe,Ie){return $(this,void 0,void 0,function*(){let at;const bt=this.view.getScrollTop();at=0===bt?this.view.indexAt(bt):this.view.indexAfter(bt-1);const Ut=this.view.element(at),mn=this.getFocusedElements()[0];if(mn!==Ut){const pt=this.findNextIndex(at,!1,Ie);pt>-1&&mn!==this.view.element(pt)?this.setFocus([pt],xe):this.setFocus([at],xe)}else{const pt=bt;this.view.setScrollTop(bt-this.view.renderHeight),this.view.getScrollTop()!==pt&&(this.setFocus([]),yield(0,F.Vs)(0),yield this.focusPreviousPage(xe,Ie))}})}focusLast(xe,Ie){if(0===this.length)return;const at=this.findPreviousIndex(this.length-1,!1,Ie);at>-1&&this.setFocus([at],xe)}focusFirst(xe,Ie){this.focusNth(0,xe,Ie)}focusNth(xe,Ie,at){if(0===this.length)return;const bt=this.findNextIndex(xe,!1,at);bt>-1&&this.setFocus([bt],Ie)}findNextIndex(xe,Ie=!1,at){for(let bt=0;bt<this.length;bt++){if(xe>=this.length&&!Ie)return-1;if(xe%=this.length,!at||at(this.element(xe)))return xe;xe++}return-1}findPreviousIndex(xe,Ie=!1,at){for(let bt=0;bt<this.length;bt++){if(xe<0&&!Ie)return-1;if(xe=(this.length+xe%this.length)%this.length,!at||at(this.element(xe)))return xe;xe--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(xe=>this.view.element(xe))}reveal(xe,Ie){if(xe<0||xe>=this.length)throw new Z(this.user,`Invalid index ${xe}`);const at=this.view.getScrollTop(),bt=this.view.elementTop(xe),Ut=this.view.elementHeight(xe);if((0,L.hj)(Ie))this.view.setScrollTop((Ut-this.view.renderHeight)*(0,f.uZ)(Ie,0,1)+bt);else{const mn=bt+Ut,pt=at+this.view.renderHeight;bt<at&&mn>=pt||(bt<at||mn>=pt&&Ut>=this.view.renderHeight?this.view.setScrollTop(bt):mn>=pt&&this.view.setScrollTop(mn-this.view.renderHeight))}}getRelativeTop(xe){if(xe<0||xe>=this.length)throw new Z(this.user,`Invalid index ${xe}`);const Ie=this.view.getScrollTop(),at=this.view.elementTop(xe),bt=this.view.elementHeight(xe);return at<Ie||at+bt>Ie+this.view.renderHeight?null:Math.abs((Ie-at)/(bt-this.view.renderHeight))}getHTMLElement(){return this.view.domNode}style(xe){this.styleController.style(xe)}toListEvent({indexes:xe,browserEvent:Ie}){return{indexes:xe,elements:xe.map(at=>this.view.element(at)),browserEvent:Ie}}_onFocusChange(){const xe=this.focus.get();this.view.domNode.classList.toggle("element-focused",xe.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var xe;const Ie=this.focus.get();if(Ie.length>0){let at;(null===(xe=this.accessibilityProvider)||void 0===xe?void 0:xe.getActiveDescendantId)&&(at=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ie[0]))),this.view.domNode.setAttribute("aria-activedescendant",at||this.view.getElementDomId(Ie[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const xe=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===xe.length),this.view.domNode.classList.toggle("selection-single",1===xe.length),this.view.domNode.classList.toggle("selection-multiple",xe.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}I([y.H],ht.prototype,"onDidChangeFocus",null),I([y.H],ht.prototype,"onDidChangeSelection",null),I([y.H],ht.prototype,"onContextMenu",null),I([y.H],ht.prototype,"onKeyDown",null),I([y.H],ht.prototype,"onDidFocus",null)},2450:(Fe,Ne,m)=>{m.d(Ne,{S:()=>g}),m(12239);const g="monaco-mouse-cursor-text"},54789:(Fe,Ne,m)=>{m.d(Ne,{l:()=>b,g:()=>I});var E=m(86678),g=m(71172),Y=m(23945),B=m(89983),D=m(94456),i=m(71040),O=m(40189),F=m(70700),y=(m(10649),function($,U,G,oe){var _e,de=arguments.length,fe=de<3?U:null===oe?oe=Object.getOwnPropertyDescriptor(U,G):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate($,U,G,oe);else for(var we=$.length-1;we>=0;we--)(_e=$[we])&&(fe=(de<3?_e(fe):de>3?_e(U,G,fe):_e(U,G))||fe);return de>3&&fe&&Object.defineProperty(U,G,fe),fe}),b=(()=>{return($=b||(b={})).North="north",$.South="south",$.East="east",$.West="west",b;var $})();const f=new i.Q5,H=new i.Q5;class L{constructor(){this.disposables=new O.SL}get onPointerMove(){return this.disposables.add(new g.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new g.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}y([D.H],L.prototype,"onPointerMove",null),y([D.H],L.prototype,"onPointerUp",null);class N{constructor(U){this.el=U,this.disposables=new O.SL}get onPointerMove(){return this.disposables.add(new g.Y(this.el,Y.t.Change)).event}get onPointerUp(){return this.disposables.add(new g.Y(this.el,Y.t.End)).event}dispose(){this.disposables.dispose()}}y([D.H],N.prototype,"onPointerMove",null),y([D.H],N.prototype,"onPointerUp",null);class Z{constructor(U){this.factory=U}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}y([D.H],Z.prototype,"onPointerMove",null),y([D.H],Z.prototype,"onPointerUp",null);const P="pointer-events-disabled";class I extends O.JT{constructor(U,G,oe){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new B.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new i.Q5),this._onDidStart=this._register(new i.Q5),this._onDidChange=this._register(new i.Q5),this._onDidReset=this._register(new i.Q5),this._onDidEnd=this._register(new i.Q5),this.orthogonalStartSashDisposables=this._register(new O.SL),this.orthogonalStartDragHandleDisposables=this._register(new O.SL),this.orthogonalEndSashDisposables=this._register(new O.SL),this.orthogonalEndDragHandleDisposables=this._register(new O.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,E.R3)(U,(0,E.$)(".monaco-sash")),oe.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${oe.orthogonalEdge}`),F.dz&&this.el.classList.add("mac");const de=this._register(new g.Y(this.el,"mousedown")).event;this._register(de(le=>this.onPointerStart(le,new L),this));const fe=this._register(new g.Y(this.el,"dblclick")).event;this._register(fe(this.onPointerDoublePress,this));const _e=this._register(new g.Y(this.el,"mouseenter")).event;this._register(_e(()=>I.onMouseEnter(this)));const we=this._register(new g.Y(this.el,"mouseleave")).event;this._register(we(()=>I.onMouseLeave(this))),this._register(Y.o.addTarget(this.el));const me=i.ju.map(this._register(new g.Y(this.el,Y.t.Start)).event,le=>{var ee;return Object.assign(Object.assign({},le),{target:null!==(ee=le.initialTarget)&&void 0!==ee?ee:null})});this._register(me(le=>this.onPointerStart(le,new N(this.el)),this));const Q=this._register(new g.Y(this.el,Y.t.Tap)).event,q=i.ju.map(i.ju.filter(i.ju.debounce(Q,(le,ee)=>{var J;return{event:ee,count:(null!==(J=null==le?void 0:le.count)&&void 0!==J?J:0)+1}},250),({count:le})=>2===le),({event:le})=>{var ee;return Object.assign(Object.assign({},le),{target:null!==(ee=le.initialTarget)&&void 0!==ee?ee:null})});this._register(q(this.onPointerDoublePress,this)),"number"==typeof oe.size?(this.size=oe.size,0===oe.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(f.event(le=>{this.size=le,this.layout()}))),this._register(H.event(le=>this.hoverDelay=le)),this.layoutProvider=G,this.orthogonalStartSash=oe.orthogonalStartSash,this.orthogonalEndSash=oe.orthogonalEndSash,this.orientation=oe.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(U){this._state!==U&&(this.el.classList.toggle("disabled",0===U),this.el.classList.toggle("minimum",1===U),this.el.classList.toggle("maximum",2===U),this._state=U,this.onDidEnablementChange.fire(U))}set orthogonalStartSash(U){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),U){const G=oe=>{this.orthogonalStartDragHandleDisposables.clear(),0!==oe&&(this._orthogonalStartDragHandle=(0,E.R3)(this.el,(0,E.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,O.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new g.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>I.onMouseEnter(U),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new g.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>I.onMouseLeave(U),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(U.onDidEnablementChange.event(G,this)),G(U.state)}this._orthogonalStartSash=U}set orthogonalEndSash(U){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),U){const G=oe=>{this.orthogonalEndDragHandleDisposables.clear(),0!==oe&&(this._orthogonalEndDragHandle=(0,E.R3)(this.el,(0,E.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,O.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new g.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>I.onMouseEnter(U),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new g.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>I.onMouseLeave(U),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(U.onDidEnablementChange.event(G,this)),G(U.state)}this._orthogonalEndSash=U}onPointerStart(U,G){E.zB.stop(U);let oe=!1;if(!U.__orthogonalSashEvent){const re=this.getOrthogonalSash(U);re&&(oe=!0,U.__orthogonalSashEvent=!0,re.onPointerStart(U,new Z(G)))}if(this.linkedSash&&!U.__linkedSashEvent&&(U.__linkedSashEvent=!0,this.linkedSash.onPointerStart(U,new Z(G))),!this.state)return;const de=(0,E.H$)("iframe");for(const re of de)re.classList.add(P);const fe=U.pageX,_e=U.pageY,we=U.altKey,me={startX:fe,currentX:fe,startY:_e,currentY:_e,altKey:we};this.el.classList.add("active"),this._onDidStart.fire(me);const Q=(0,E.dS)(this.el),q=()=>{let re="";re=oe?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":F.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":F.dz?"col-resize":"ew-resize",Q.textContent=`* { cursor: ${re} !important; }`},le=new O.SL;q(),oe||this.onDidEnablementChange.event(q,null,le),G.onPointerMove(re=>{E.zB.stop(re,!1),this._onDidChange.fire({startX:fe,currentX:re.pageX,startY:_e,currentY:re.pageY,altKey:we})},null,le),G.onPointerUp(re=>{E.zB.stop(re,!1),this.el.removeChild(Q),this.el.classList.remove("active"),this._onDidEnd.fire(),le.dispose();for(const ce of de)ce.classList.remove(P)},null,le),le.add(G)}onPointerDoublePress(U){const G=this.getOrthogonalSash(U);G&&G._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(U,G=!1){U.el.classList.contains("active")?(U.hoverDelayer.cancel(),U.el.classList.add("hover")):U.hoverDelayer.trigger(()=>U.el.classList.add("hover"),U.hoverDelay).then(void 0,()=>{}),!G&&U.linkedSash&&I.onMouseEnter(U.linkedSash,!0)}static onMouseLeave(U,G=!1){U.hoverDelayer.cancel(),U.el.classList.remove("hover"),!G&&U.linkedSash&&I.onMouseLeave(U.linkedSash,!0)}clearSashHoverState(){I.onMouseLeave(this)}layout(){if(0===this.orientation){const U=this.layoutProvider;this.el.style.left=U.getVerticalSashLeft(this)-this.size/2+"px",U.getVerticalSashTop&&(this.el.style.top=U.getVerticalSashTop(this)+"px"),U.getVerticalSashHeight&&(this.el.style.height=U.getVerticalSashHeight(this)+"px")}else{const U=this.layoutProvider;this.el.style.top=U.getHorizontalSashTop(this)-this.size/2+"px",U.getHorizontalSashLeft&&(this.el.style.left=U.getHorizontalSashLeft(this)+"px"),U.getHorizontalSashWidth&&(this.el.style.width=U.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(U){if(U.target&&U.target instanceof HTMLElement&&U.target.classList.contains("orthogonal-drag-handle"))return U.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},6491:(Fe,Ne,m)=>{m.d(Ne,{s$:()=>Q,NB:()=>we,$Z:()=>me});var E=m(47306),g=m(86678),Y=m(81718),B=m(2886),D=m(8535),i=m(37450),O=m(89983);class k extends i.${constructor(ee){super(),this._onActivate=ee.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=ee.bgWidth+"px",this.bgDomNode.style.height=ee.bgHeight+"px",void 0!==ee.top&&(this.bgDomNode.style.top="0px"),void 0!==ee.left&&(this.bgDomNode.style.left="0px"),void 0!==ee.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==ee.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=ee.className,this.domNode.classList.add(...ee.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==ee.top&&(this.domNode.style.top=ee.top+"px"),void 0!==ee.left&&(this.domNode.style.left=ee.left+"px"),void 0!==ee.bottom&&(this.domNode.style.bottom=ee.bottom+"px"),void 0!==ee.right&&(this.domNode.style.right=ee.right+"px"),this._mouseMoveMonitor=this._register(new D.Z),this.onmousedown(this.bgDomNode,J=>this._arrowMouseDown(J)),this.onmousedown(this.domNode,J=>this._arrowMouseDown(J)),this._mousedownRepeatTimer=this._register(new O.zh),this._mousedownScheduleRepeatTimer=this._register(new O._F)}_arrowMouseDown(ee){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._mouseMoveMonitor.startMonitoring(ee.target,ee.buttons,D.e,re=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),ee.preventDefault()}}var y=m(40189);class C extends y.JT{constructor(ee,J,re){super(),this._visibility=ee,this._visibleClassName=J,this._invisibleClassName=re,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new O._F)}setVisibility(ee){this._visibility!==ee&&(this._visibility=ee,this._updateShouldBeVisible())}setShouldBeVisible(ee){this._rawShouldBeVisible=ee,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const ee=this._applyVisibilitySetting();this._shouldBeVisible!==ee&&(this._shouldBeVisible=ee,this.ensureVisibility())}setIsNeeded(ee){this._isNeeded!==ee&&(this._isNeeded=ee,this.ensureVisibility())}setDomNode(ee){this._domNode=ee,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(ee){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(ee?" fade":"")))}}var b=m(70700);class f extends i.${constructor(ee){super(),this._lazyRender=ee.lazyRender,this._host=ee.host,this._scrollable=ee.scrollable,this._scrollByPage=ee.scrollByPage,this._scrollbarState=ee.scrollbarState,this._visibilityController=this._register(new C(ee.visibility,"visible scrollbar "+ee.extraScrollbarClassName,"invisible scrollbar "+ee.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new D.Z),this._shouldRender=!0,this.domNode=(0,Y.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,J=>this._domNodeMouseDown(J))}_createArrow(ee){const J=this._register(new k(ee));this.domNode.domNode.appendChild(J.bgDomNode),this.domNode.domNode.appendChild(J.domNode)}_createSlider(ee,J,re,ce){this.slider=(0,Y.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(ee),this.slider.setLeft(J),"number"==typeof re&&this.slider.setWidth(re),"number"==typeof ce&&this.slider.setHeight(ce),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,ve=>{ve.leftButton&&(ve.preventDefault(),this._sliderMouseDown(ve,()=>{}))}),this.onclick(this.slider.domNode,ve=>{ve.leftButton&&ve.stopPropagation()})}_onElementSize(ee){return this._scrollbarState.setVisibleSize(ee)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(ee){return this._scrollbarState.setScrollSize(ee)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(ee){return this._scrollbarState.setScrollPosition(ee)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(ee){ee.target===this.domNode.domNode&&this._onMouseDown(ee)}delegateMouseDown(ee){const J=this.domNode.domNode.getClientRects()[0].top,re=J+this._scrollbarState.getSliderPosition(),ce=J+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ve=this._sliderMousePosition(ee);re<=ve&&ve<=ce?ee.leftButton&&(ee.preventDefault(),this._sliderMouseDown(ee,()=>{})):this._onMouseDown(ee)}_onMouseDown(ee){let J,re;if(ee.target===this.domNode.domNode&&"number"==typeof ee.browserEvent.offsetX&&"number"==typeof ee.browserEvent.offsetY)J=ee.browserEvent.offsetX,re=ee.browserEvent.offsetY;else{const ve=g.i(this.domNode.domNode);J=ee.posx-ve.left,re=ee.posy-ve.top}const ce=this._mouseDownRelativePosition(J,re);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(ce):this._scrollbarState.getDesiredScrollPositionFromOffset(ce)),ee.leftButton&&(ee.preventDefault(),this._sliderMouseDown(ee,()=>{}))}_sliderMouseDown(ee,J){const re=this._sliderMousePosition(ee),ce=this._sliderOrthogonalMousePosition(ee),ve=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(ee.target,ee.buttons,D.e,ke=>{const We=this._sliderOrthogonalMousePosition(ke),je=Math.abs(We-ce);if(b.ED&&je>140)return void this._setDesiredScrollPositionNow(ve.getScrollPosition());const Ce=this._sliderMousePosition(ke)-re;this._setDesiredScrollPositionNow(ve.getDesiredScrollPositionFromDelta(Ce))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),J()}),this._host.onDragStart()}_setDesiredScrollPositionNow(ee){const J={};this.writeScrollPosition(J,ee),this._scrollable.setScrollPositionNow(J)}updateScrollbarSize(ee){this._updateScrollbarSize(ee),this._scrollbarState.setScrollbarSize(ee),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class H{constructor(ee,J,re,ce,ve,ke){this._scrollbarSize=Math.round(J),this._oppositeScrollbarSize=Math.round(re),this._arrowSize=Math.round(ee),this._visibleSize=ce,this._scrollSize=ve,this._scrollPosition=ke,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new H(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(ee){const J=Math.round(ee);return this._visibleSize!==J&&(this._visibleSize=J,this._refreshComputedValues(),!0)}setScrollSize(ee){const J=Math.round(ee);return this._scrollSize!==J&&(this._scrollSize=J,this._refreshComputedValues(),!0)}setScrollPosition(ee){const J=Math.round(ee);return this._scrollPosition!==J&&(this._scrollPosition=J,this._refreshComputedValues(),!0)}setScrollbarSize(ee){this._scrollbarSize=Math.round(ee)}setOppositeScrollbarSize(ee){this._oppositeScrollbarSize=Math.round(ee)}static _computeValues(ee,J,re,ce,ve){const ke=Math.max(0,re-ee),We=Math.max(0,ke-2*J),je=ce>0&&ce>re;if(!je)return{computedAvailableSize:Math.round(ke),computedIsNeeded:je,computedSliderSize:Math.round(We),computedSliderRatio:0,computedSliderPosition:0};const ue=Math.round(Math.max(20,Math.floor(re*We/ce))),Ce=(We-ue)/(ce-re),Ae=ve*Ce;return{computedAvailableSize:Math.round(ke),computedIsNeeded:je,computedSliderSize:Math.round(ue),computedSliderRatio:Ce,computedSliderPosition:Math.round(Ae)}}_refreshComputedValues(){const ee=H._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=ee.computedAvailableSize,this._computedIsNeeded=ee.computedIsNeeded,this._computedSliderSize=ee.computedSliderSize,this._computedSliderRatio=ee.computedSliderRatio,this._computedSliderPosition=ee.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(ee){return this._computedIsNeeded?Math.round((ee-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(ee){if(!this._computedIsNeeded)return 0;let re=this._scrollPosition;return ee-this._arrowSize<this._computedSliderPosition?re-=this._visibleSize:re+=this._visibleSize,re}getDesiredScrollPositionFromDelta(ee){return this._computedIsNeeded?Math.round((this._computedSliderPosition+ee)/this._computedSliderRatio):0}}var L=m(78968);class N extends f{constructor(ee,J,re){const ce=ee.getScrollDimensions(),ve=ee.getCurrentScrollPosition();if(super({lazyRender:J.lazyRender,host:re,scrollbarState:new H(J.horizontalHasArrows?J.arrowSize:0,2===J.horizontal?0:J.horizontalScrollbarSize,2===J.vertical?0:J.verticalScrollbarSize,ce.width,ce.scrollWidth,ve.scrollLeft),visibility:J.horizontal,extraScrollbarClassName:"horizontal",scrollable:ee,scrollByPage:J.scrollByPage}),J.horizontalHasArrows){const ke=(J.arrowSize-11)/2,We=(J.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:L.lA.scrollbarButtonLeft,top:We,left:ke,bottom:void 0,right:void 0,bgWidth:J.arrowSize,bgHeight:J.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new B.q(null,1,0))}),this._createArrow({className:"scra",icon:L.lA.scrollbarButtonRight,top:We,left:void 0,bottom:void 0,right:ke,bgWidth:J.arrowSize,bgHeight:J.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new B.q(null,-1,0))})}this._createSlider(Math.floor((J.horizontalScrollbarSize-J.horizontalSliderSize)/2),0,void 0,J.horizontalSliderSize)}_updateSlider(ee,J){this.slider.setWidth(ee),this.slider.setLeft(J)}_renderDomNode(ee,J){this.domNode.setWidth(ee),this.domNode.setHeight(J),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(ee){return this._shouldRender=this._onElementScrollSize(ee.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(ee.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(ee.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(ee,J){return ee}_sliderMousePosition(ee){return ee.posx}_sliderOrthogonalMousePosition(ee){return ee.posy}_updateScrollbarSize(ee){this.slider.setHeight(ee)}writeScrollPosition(ee,J){ee.scrollLeft=J}updateOptions(ee){this.updateScrollbarSize(2===ee.horizontal?0:ee.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===ee.vertical?0:ee.verticalScrollbarSize),this._visibilityController.setVisibility(ee.horizontal),this._scrollByPage=ee.scrollByPage}}class Z extends f{constructor(ee,J,re){const ce=ee.getScrollDimensions(),ve=ee.getCurrentScrollPosition();if(super({lazyRender:J.lazyRender,host:re,scrollbarState:new H(J.verticalHasArrows?J.arrowSize:0,2===J.vertical?0:J.verticalScrollbarSize,0,ce.height,ce.scrollHeight,ve.scrollTop),visibility:J.vertical,extraScrollbarClassName:"vertical",scrollable:ee,scrollByPage:J.scrollByPage}),J.verticalHasArrows){const ke=(J.arrowSize-11)/2,We=(J.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:L.lA.scrollbarButtonUp,top:ke,left:We,bottom:void 0,right:void 0,bgWidth:J.verticalScrollbarSize,bgHeight:J.arrowSize,onActivate:()=>this._host.onMouseWheel(new B.q(null,0,1))}),this._createArrow({className:"scra",icon:L.lA.scrollbarButtonDown,top:void 0,left:We,bottom:ke,right:void 0,bgWidth:J.verticalScrollbarSize,bgHeight:J.arrowSize,onActivate:()=>this._host.onMouseWheel(new B.q(null,0,-1))})}this._createSlider(0,Math.floor((J.verticalScrollbarSize-J.verticalSliderSize)/2),J.verticalSliderSize,void 0)}_updateSlider(ee,J){this.slider.setHeight(ee),this.slider.setTop(J)}_renderDomNode(ee,J){this.domNode.setWidth(J),this.domNode.setHeight(ee),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(ee){return this._shouldRender=this._onElementScrollSize(ee.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(ee.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(ee.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(ee,J){return J}_sliderMousePosition(ee){return ee.posy}_sliderOrthogonalMousePosition(ee){return ee.posx}_updateScrollbarSize(ee){this.slider.setWidth(ee)}writeScrollPosition(ee,J){ee.scrollTop=J}updateOptions(ee){this.updateScrollbarSize(2===ee.vertical?0:ee.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(ee.vertical),this._scrollByPage=ee.scrollByPage}}var P=m(71040),I=m(90443);m(3301);class de{constructor(ee,J,re){this.timestamp=ee,this.deltaX=J,this.deltaY=re,this.score=0}}class fe{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let ee=1,J=0,re=1,ce=this._rear;for(;;){const ve=ce===this._front?ee:Math.pow(2,-re);if(ee-=ve,J+=this._memory[ce].score*ve,ce===this._front)break;ce=(this._capacity+ce-1)%this._capacity,re++}return J<=.5}accept(ee,J,re){const ce=new de(ee,J,re);ce.score=this._computeScore(ce),-1===this._front&&-1===this._rear?(this._memory[0]=ce,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=ce)}_computeScore(ee){if(Math.abs(ee.deltaX)>0&&Math.abs(ee.deltaY)>0)return 1;let J=.5;return(!this._isAlmostInt(ee.deltaX)||!this._isAlmostInt(ee.deltaY))&&(J+=.25),Math.min(Math.max(J,0),1)}_isAlmostInt(ee){return Math.abs(Math.round(ee)-ee)<.01}}fe.INSTANCE=new fe;class _e extends i.${constructor(ee,J,re){super(),this._onScroll=this._register(new P.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new P.Q5),ee.style.overflow="hidden",this._options=function(le){const ee={lazyRender:void 0!==le.lazyRender&&le.lazyRender,className:void 0!==le.className?le.className:"",useShadows:void 0===le.useShadows||le.useShadows,handleMouseWheel:void 0===le.handleMouseWheel||le.handleMouseWheel,flipAxes:void 0!==le.flipAxes&&le.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==le.consumeMouseWheelIfScrollbarIsNeeded&&le.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==le.alwaysConsumeMouseWheel&&le.alwaysConsumeMouseWheel,scrollYToX:void 0!==le.scrollYToX&&le.scrollYToX,mouseWheelScrollSensitivity:void 0!==le.mouseWheelScrollSensitivity?le.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==le.fastScrollSensitivity?le.fastScrollSensitivity:5,scrollPredominantAxis:void 0===le.scrollPredominantAxis||le.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===le.mouseWheelSmoothScroll||le.mouseWheelSmoothScroll,arrowSize:void 0!==le.arrowSize?le.arrowSize:11,listenOnDomNode:void 0!==le.listenOnDomNode?le.listenOnDomNode:null,horizontal:void 0!==le.horizontal?le.horizontal:1,horizontalScrollbarSize:void 0!==le.horizontalScrollbarSize?le.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==le.horizontalSliderSize?le.horizontalSliderSize:0,horizontalHasArrows:void 0!==le.horizontalHasArrows&&le.horizontalHasArrows,vertical:void 0!==le.vertical?le.vertical:1,verticalScrollbarSize:void 0!==le.verticalScrollbarSize?le.verticalScrollbarSize:10,verticalHasArrows:void 0!==le.verticalHasArrows&&le.verticalHasArrows,verticalSliderSize:void 0!==le.verticalSliderSize?le.verticalSliderSize:0,scrollByPage:void 0!==le.scrollByPage&&le.scrollByPage};return ee.horizontalSliderSize=void 0!==le.horizontalSliderSize?le.horizontalSliderSize:ee.horizontalScrollbarSize,ee.verticalSliderSize=void 0!==le.verticalSliderSize?le.verticalSliderSize:ee.verticalScrollbarSize,b.dz&&(ee.className+=" mac"),ee}(J),this._scrollable=re,this._register(this._scrollable.onScroll(ve=>{this._onWillScroll.fire(ve),this._onDidScroll(ve),this._onScroll.fire(ve)}));const ce={onMouseWheel:ve=>this._onMouseWheel(ve),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Z(this._scrollable,this._options,ce)),this._horizontalScrollbar=this._register(new N(this._scrollable,this._options,ce)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(ee),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,Y.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,Y.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,Y.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,ve=>this._onMouseOver(ve)),this.onnonbubblingmouseout(this._listenOnDomNode,ve=>this._onMouseOut(ve)),this._hideTimeout=this._register(new O._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,y.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(ee){this._verticalScrollbar.delegateMouseDown(ee)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(ee){this._scrollable.setScrollDimensions(ee,!1)}updateClassName(ee){this._options.className=ee,b.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(ee){void 0!==ee.handleMouseWheel&&(this._options.handleMouseWheel=ee.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==ee.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=ee.mouseWheelScrollSensitivity),void 0!==ee.fastScrollSensitivity&&(this._options.fastScrollSensitivity=ee.fastScrollSensitivity),void 0!==ee.scrollPredominantAxis&&(this._options.scrollPredominantAxis=ee.scrollPredominantAxis),void 0!==ee.horizontal&&(this._options.horizontal=ee.horizontal),void 0!==ee.vertical&&(this._options.vertical=ee.vertical),void 0!==ee.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=ee.horizontalScrollbarSize),void 0!==ee.verticalScrollbarSize&&(this._options.verticalScrollbarSize=ee.verticalScrollbarSize),void 0!==ee.scrollByPage&&(this._options.scrollByPage=ee.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(ee){this._mouseWheelToDispose.length>0!==ee&&(this._mouseWheelToDispose=(0,y.B9)(this._mouseWheelToDispose),ee)&&this._mouseWheelToDispose.push(g.nm(this._listenOnDomNode,g.tw.MOUSE_WHEEL,ce=>{this._onMouseWheel(new B.q(ce))},{passive:!1}))}_onMouseWheel(ee){const J=fe.INSTANCE;{const ve=window.devicePixelRatio/(0,E.getZoomFactor)();b.ED||b.IJ?J.accept(Date.now(),ee.deltaX/ve,ee.deltaY/ve):J.accept(Date.now(),ee.deltaX,ee.deltaY)}let re=!1;if(ee.deltaY||ee.deltaX){let ve=ee.deltaY*this._options.mouseWheelScrollSensitivity,ke=ee.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(ve)>=Math.abs(ke)?ke=0:ve=0),this._options.flipAxes&&([ve,ke]=[ke,ve]);const We=!b.dz&&ee.browserEvent&&ee.browserEvent.shiftKey;(this._options.scrollYToX||We)&&!ke&&(ke=ve,ve=0),ee.browserEvent&&ee.browserEvent.altKey&&(ke*=this._options.fastScrollSensitivity,ve*=this._options.fastScrollSensitivity);const je=this._scrollable.getFutureScrollPosition();let ue={};if(ve){const Ce=50*ve,Ae=je.scrollTop-(Ce<0?Math.floor(Ce):Math.ceil(Ce));this._verticalScrollbar.writeScrollPosition(ue,Ae)}if(ke){const Ce=50*ke,Ae=je.scrollLeft-(Ce<0?Math.floor(Ce):Math.ceil(Ce));this._horizontalScrollbar.writeScrollPosition(ue,Ae)}ue=this._scrollable.validateScrollPosition(ue),(je.scrollLeft!==ue.scrollLeft||je.scrollTop!==ue.scrollTop)&&(this._options.mouseWheelSmoothScroll&&J.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(ue):this._scrollable.setScrollPositionNow(ue),re=!0)}let ce=re;!ce&&this._options.alwaysConsumeMouseWheel&&(ce=!0),!ce&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(ce=!0),ce&&(ee.preventDefault(),ee.stopPropagation())}_onDidScroll(ee){this._shouldRender=this._horizontalScrollbar.onDidScroll(ee)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(ee)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const ee=this._scrollable.getCurrentScrollPosition(),J=ee.scrollTop>0,re=ee.scrollLeft>0,ce=re?" left":"",ve=J?" top":"",ke=re||J?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ce}`),this._topShadowDomNode.setClassName(`shadow${ve}`),this._topLeftShadowDomNode.setClassName(`shadow${ke}${ve}${ce}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(ee){this._mouseIsOver=!1,this._hide()}_onMouseOver(ee){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class we extends _e{constructor(ee,J){(J=J||{}).mouseWheelSmoothScroll=!1;const re=new I.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ce=>g.jL(ce)});super(ee,J,re),this._register(re)}setScrollPosition(ee){this._scrollable.setScrollPositionNow(ee)}}class me extends _e{constructor(ee,J,re){super(ee,J,re)}setScrollPosition(ee){ee.reuseAnimation?this._scrollable.setScrollPositionSmooth(ee,ee.reuseAnimation):this._scrollable.setScrollPositionNow(ee)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Q extends _e{constructor(ee,J){(J=J||{}).mouseWheelSmoothScroll=!1;const re=new I.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ce=>g.jL(ce)});super(ee,J,re),this._register(re),this._element=ee,this.onScroll(ce=>{ce.scrollTopChanged&&(this._element.scrollTop=ce.scrollTop),ce.scrollLeftChanged&&(this._element.scrollLeft=ce.scrollLeft)}),this.scanDomNode()}setScrollPosition(ee){this._scrollable.setScrollPositionNow(ee)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},14410:(Fe,Ne,m)=>{m.d(Ne,{M:()=>L,z:()=>N});var E=m(86678),g=m(54789),Y=m(6491),B=m(89822),D=m(81897),i=m(71040),O=m(40189),F=m(31096),k=m(90443),y=m(99770);m(10050);const b={separatorBorder:D.Il.transparent};class x{constructor(P,I,$,U){this.container=P,this.view=I,this.disposable=U,this._cachedVisibleSize=void 0,"number"==typeof $?(this._size=$,this._cachedVisibleSize=void 0,P.classList.add("visible")):(this._size=0,this._cachedVisibleSize=$.cachedVisibleSize)}set size(P){this._size=P}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(P,I){P!==this.visible&&(P?(this.size=(0,F.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof I?I:this.size,this.size=0),this.container.classList.toggle("visible",P),this.view.setVisible&&this.view.setVisible(P))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(P){this.container.style.pointerEvents=P?"":"none"}layout(P,I){this.layoutContainer(P),this.view.layout(this.size,P,I)}dispose(){return this.disposable.dispose(),this.view}}class f extends x{layoutContainer(P){this.container.style.top=`${P}px`,this.container.style.height=`${this.size}px`}}class M extends x{layoutContainer(P){this.container.style.left=`${P}px`,this.container.style.width=`${this.size}px`}}var L,Z,H=(()=>{return(Z=H||(H={}))[Z.Idle=0]="Idle",Z[Z.Busy=1]="Busy",H;var Z})();(Z=L||(L={})).Distribute={type:"distribute"},Z.Split=function($){return{type:"split",index:$}},Z.Invisible=function($){return{type:"invisible",cachedVisibleSize:$}};class N extends O.JT{constructor(P,I={}){var $,U,G,oe,de;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=H.Idle,this._onDidSashChange=this._register(new i.Q5),this._onDidSashReset=this._register(new i.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==($=I.orientation)&&void 0!==$?$:0,this.inverseAltBehavior=null!==(U=I.inverseAltBehavior)&&void 0!==U&&U,this.proportionalLayout=null===(G=I.proportionalLayout)||void 0===G||G,this.getSashOrthogonalSize=I.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),P.appendChild(this.el),this.sashContainer=(0,E.R3)(this.el,(0,E.$)(".sash-container")),this.viewContainer=(0,E.$)(".split-view-container"),this.scrollable=new k.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:E.jL}),this.scrollableElement=this._register(new Y.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(oe=I.scrollbarVisibility)&&void 0!==oe?oe:1:2,horizontal:1===this.orientation?null!==(de=I.scrollbarVisibility)&&void 0!==de?de:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(fe=>{this.viewContainer.scrollTop=fe.scrollTop,this.viewContainer.scrollLeft=fe.scrollLeft})),(0,E.R3)(this.el,this.scrollableElement.getDomNode()),this.style(I.styles||b),I.descriptor&&(this.size=I.descriptor.size,I.descriptor.views.forEach((fe,_e)=>{const we=y.o8(fe.visible)||fe.visible?fe.size:{type:"invisible",cachedVisibleSize:fe.size};this.doAddView(fe.view,we,_e,!0)}),this.contentSize=this.viewItems.reduce((fe,_e)=>fe+_e.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(P){for(const I of this.sashItems)I.sash.orthogonalStartSash=P;this._orthogonalStartSash=P}set orthogonalEndSash(P){for(const I of this.sashItems)I.sash.orthogonalEndSash=P;this._orthogonalEndSash=P}set startSnappingEnabled(P){this._startSnappingEnabled!==P&&(this._startSnappingEnabled=P,this.updateSashEnablement())}set endSnappingEnabled(P){this._endSnappingEnabled!==P&&(this._endSnappingEnabled=P,this.updateSashEnablement())}style(P){P.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",P.separatorBorder.toString()))}addView(P,I,$=this.viewItems.length,U){this.doAddView(P,I,$,U)}layout(P,I){const $=Math.max(this.size,this.contentSize);if(this.size=P,this.layoutContext=I,this.proportions)for(let U=0;U<this.viewItems.length;U++){const G=this.viewItems[U];G.size=(0,F.uZ)(Math.round(this.proportions[U]*P),G.minimumSize,G.maximumSize)}else{const U=(0,B.w6)(this.viewItems.length),G=U.filter(de=>1===this.viewItems[de].priority),oe=U.filter(de=>2===this.viewItems[de].priority);this.resize(this.viewItems.length-1,P-$,void 0,G,oe)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(P=>P.size/this.contentSize))}onSashStart({sash:P,start:I,alt:$}){for(const de of this.viewItems)de.enabled=!1;const U=this.sashItems.findIndex(de=>de.sash===P),G=(0,O.F8)((0,E.nm)(document.body,"keydown",de=>oe(this.sashDragState.current,de.altKey)),(0,E.nm)(document.body,"keyup",()=>oe(this.sashDragState.current,!1))),oe=(de,fe)=>{const _e=this.viewItems.map(le=>le.size);let Q,q,we=Number.NEGATIVE_INFINITY,me=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(fe=!fe),fe)if(U===this.sashItems.length-1){const ee=this.viewItems[U];we=(ee.minimumSize-ee.size)/2,me=(ee.maximumSize-ee.size)/2}else{const ee=this.viewItems[U+1];we=(ee.size-ee.maximumSize)/2,me=(ee.size-ee.minimumSize)/2}if(!fe){const le=(0,B.w6)(U,-1),ee=(0,B.w6)(U+1,this.viewItems.length),J=le.reduce((Ce,Ae)=>Ce+(this.viewItems[Ae].minimumSize-_e[Ae]),0),re=le.reduce((Ce,Ae)=>Ce+(this.viewItems[Ae].viewMaximumSize-_e[Ae]),0),ce=0===ee.length?Number.POSITIVE_INFINITY:ee.reduce((Ce,Ae)=>Ce+(_e[Ae]-this.viewItems[Ae].minimumSize),0),ve=0===ee.length?Number.NEGATIVE_INFINITY:ee.reduce((Ce,Ae)=>Ce+(_e[Ae]-this.viewItems[Ae].viewMaximumSize),0),ke=Math.max(J,ve),We=Math.min(ce,re),je=this.findFirstSnapIndex(le),ue=this.findFirstSnapIndex(ee);if("number"==typeof je){const Ce=this.viewItems[je],Ae=Math.floor(Ce.viewMinimumSize/2);Q={index:je,limitDelta:Ce.visible?ke-Ae:ke+Ae,size:Ce.size}}if("number"==typeof ue){const Ce=this.viewItems[ue],Ae=Math.floor(Ce.viewMinimumSize/2);q={index:ue,limitDelta:Ce.visible?We+Ae:We-Ae,size:Ce.size}}}this.sashDragState={start:de,current:de,index:U,sizes:_e,minDelta:we,maxDelta:me,alt:fe,snapBefore:Q,snapAfter:q,disposable:G}};oe(I,$)}onSashChange({current:P}){const{index:I,start:$,sizes:U,alt:G,minDelta:oe,maxDelta:de,snapBefore:fe,snapAfter:_e}=this.sashDragState;this.sashDragState.current=P;const me=this.resize(I,P-$,U,void 0,void 0,oe,de,fe,_e);if(G){const Q=I===this.sashItems.length-1,q=this.viewItems.map(ve=>ve.size),ee=this.viewItems[Q?I:I+1];this.resize(Q?I-1:I+1,-me,q,void 0,void 0,ee.size-ee.maximumSize,ee.size-ee.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(P){this._onDidSashChange.fire(P),this.sashDragState.disposable.dispose(),this.saveProportions();for(const I of this.viewItems)I.enabled=!0}onViewChange(P,I){const $=this.viewItems.indexOf(P);$<0||$>=this.viewItems.length||(I=(0,F.uZ)(I="number"==typeof I?I:P.size,P.minimumSize,P.maximumSize),this.inverseAltBehavior&&$>0?(this.resize($-1,Math.floor((P.size-I)/2)),this.distributeEmptySpace(),this.layoutViews()):(P.size=I,this.relayout([$],void 0)))}resizeView(P,I){if(this.state!==H.Idle)throw new Error("Cant modify splitview");if(this.state=H.Busy,P<0||P>=this.viewItems.length)return;const $=(0,B.w6)(this.viewItems.length).filter(de=>de!==P),U=[...$.filter(de=>1===this.viewItems[de].priority),P],G=$.filter(de=>2===this.viewItems[de].priority),oe=this.viewItems[P];I=Math.round(I),I=(0,F.uZ)(I,oe.minimumSize,Math.min(oe.maximumSize,this.size)),oe.size=I,this.relayout(U,G),this.state=H.Idle}distributeViewSizes(){const P=[];let I=0;for(const de of this.viewItems)de.maximumSize-de.minimumSize>0&&(P.push(de),I+=de.size);const $=Math.floor(I/P.length);for(const de of P)de.size=(0,F.uZ)($,de.minimumSize,de.maximumSize);const U=(0,B.w6)(this.viewItems.length),G=U.filter(de=>1===this.viewItems[de].priority),oe=U.filter(de=>2===this.viewItems[de].priority);this.relayout(G,oe)}getViewSize(P){return P<0||P>=this.viewItems.length?-1:this.viewItems[P].size}doAddView(P,I,$=this.viewItems.length,U){if(this.state!==H.Idle)throw new Error("Cant modify splitview");this.state=H.Busy;const G=(0,E.$)(".split-view-view");$===this.viewItems.length?this.viewContainer.appendChild(G):this.viewContainer.insertBefore(G,this.viewContainer.children.item($));const oe=P.onDidChange(Q=>this.onViewChange(we,Q)),de=(0,O.OF)(()=>this.viewContainer.removeChild(G)),fe=(0,O.F8)(oe,de);let _e;_e="number"==typeof I?I:"split"===I.type?this.getViewSize(I.index)/2:"invisible"===I.type?{cachedVisibleSize:I.cachedVisibleSize}:P.minimumSize;const we=0===this.orientation?new f(G,P,_e,fe):new M(G,P,_e,fe);if(this.viewItems.splice($,0,we),this.viewItems.length>1){let Q={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const q=0===this.orientation?new g.g(this.sashContainer,{getHorizontalSashTop:Ce=>this.getSashPosition(Ce),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},Q),{orientation:1})):new g.g(this.sashContainer,{getVerticalSashLeft:Ce=>this.getSashPosition(Ce),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},Q),{orientation:0})),le=0===this.orientation?Ce=>({sash:q,start:Ce.startY,current:Ce.currentY,alt:Ce.altKey}):Ce=>({sash:q,start:Ce.startX,current:Ce.currentX,alt:Ce.altKey}),J=i.ju.map(q.onDidStart,le)(this.onSashStart,this),ce=i.ju.map(q.onDidChange,le)(this.onSashChange,this),ke=i.ju.map(q.onDidEnd,()=>this.sashItems.findIndex(Ce=>Ce.sash===q))(this.onSashEnd,this),We=q.onDidReset(()=>{const Ce=this.sashItems.findIndex(rt=>rt.sash===q),Ae=(0,B.w6)(Ce,-1),et=(0,B.w6)(Ce+1,this.viewItems.length),$e=this.findFirstSnapIndex(Ae),Te=this.findFirstSnapIndex(et);"number"==typeof $e&&!this.viewItems[$e].visible||"number"==typeof Te&&!this.viewItems[Te].visible||this._onDidSashReset.fire(Ce)}),je=(0,O.F8)(J,ce,ke,We,q);this.sashItems.splice($-1,0,{sash:q,disposable:je})}let me;G.appendChild(P.element),"number"!=typeof I&&"split"===I.type&&(me=[I.index]),U||this.relayout([$],me),this.state=H.Idle,!U&&"number"!=typeof I&&"distribute"===I.type&&this.distributeViewSizes()}relayout(P,I){const $=this.viewItems.reduce((U,G)=>U+G.size,0);this.resize(this.viewItems.length-1,this.size-$,void 0,P,I),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(P,I,$=this.viewItems.map(we=>we.size),U,G,oe=Number.NEGATIVE_INFINITY,de=Number.POSITIVE_INFINITY,fe,_e){if(P<0||P>=this.viewItems.length)return 0;const we=(0,B.w6)(P,-1),me=(0,B.w6)(P+1,this.viewItems.length);if(G)for(const ue of G)(0,B.zI)(we,ue),(0,B.zI)(me,ue);if(U)for(const ue of U)(0,B.al)(we,ue),(0,B.al)(me,ue);const Q=we.map(ue=>this.viewItems[ue]),q=we.map(ue=>$[ue]),le=me.map(ue=>this.viewItems[ue]),ee=me.map(ue=>$[ue]),J=we.reduce((ue,Ce)=>ue+(this.viewItems[Ce].minimumSize-$[Ce]),0),re=we.reduce((ue,Ce)=>ue+(this.viewItems[Ce].maximumSize-$[Ce]),0),ce=0===me.length?Number.POSITIVE_INFINITY:me.reduce((ue,Ce)=>ue+($[Ce]-this.viewItems[Ce].minimumSize),0),ve=0===me.length?Number.NEGATIVE_INFINITY:me.reduce((ue,Ce)=>ue+($[Ce]-this.viewItems[Ce].maximumSize),0),ke=Math.max(J,ve,oe),We=Math.min(ce,re,de);let je=!1;if(fe){const ue=this.viewItems[fe.index],Ce=I>=fe.limitDelta;je=Ce!==ue.visible,ue.setVisible(Ce,fe.size)}if(!je&&_e){const ue=this.viewItems[_e.index],Ce=I<_e.limitDelta;je=Ce!==ue.visible,ue.setVisible(Ce,_e.size)}if(je)return this.resize(P,I,$,U,G,oe,de);for(let ue=0,Ce=I=(0,F.uZ)(I,ke,We);ue<Q.length;ue++){const Ae=Q[ue],et=(0,F.uZ)(q[ue]+Ce,Ae.minimumSize,Ae.maximumSize);Ce-=et-q[ue],Ae.size=et}for(let ue=0,Ce=I;ue<le.length;ue++){const Ae=le[ue],et=(0,F.uZ)(ee[ue]-Ce,Ae.minimumSize,Ae.maximumSize);Ce+=et-ee[ue],Ae.size=et}return I}distributeEmptySpace(P){const I=this.viewItems.reduce((de,fe)=>de+fe.size,0);let $=this.size-I;const U=(0,B.w6)(this.viewItems.length-1,-1),G=U.filter(de=>1===this.viewItems[de].priority),oe=U.filter(de=>2===this.viewItems[de].priority);for(const de of oe)(0,B.zI)(U,de);for(const de of G)(0,B.al)(U,de);"number"==typeof P&&(0,B.al)(U,P);for(let de=0;0!==$&&de<U.length;de++){const fe=this.viewItems[U[de]],_e=(0,F.uZ)(fe.size+$,fe.minimumSize,fe.maximumSize);$-=_e-fe.size,fe.size=_e}}layoutViews(){this.contentSize=this.viewItems.reduce((I,$)=>I+$.size,0);let P=0;for(const I of this.viewItems)I.layout(P,this.layoutContext),P+=I.size;this.sashItems.forEach(I=>I.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let P=!1;const I=this.viewItems.map(fe=>P=fe.size-fe.minimumSize>0||P);P=!1;const $=this.viewItems.map(fe=>P=fe.maximumSize-fe.size>0||P),U=[...this.viewItems].reverse();P=!1;const G=U.map(fe=>P=fe.size-fe.minimumSize>0||P).reverse();P=!1;const oe=U.map(fe=>P=fe.maximumSize-fe.size>0||P).reverse();let de=0;for(let fe=0;fe<this.sashItems.length;fe++){const{sash:_e}=this.sashItems[fe];de+=this.viewItems[fe].size;const me=!(I[fe]&&oe[fe+1]),Q=!($[fe]&&G[fe+1]);if(me&&Q){const q=(0,B.w6)(fe,-1),le=(0,B.w6)(fe+1,this.viewItems.length),ee=this.findFirstSnapIndex(q),J=this.findFirstSnapIndex(le),ce="number"==typeof J&&!this.viewItems[J].visible;_e.state="number"==typeof ee&&!this.viewItems[ee].visible&&G[fe]&&(de>0||this.startSnappingEnabled)?1:ce&&I[fe]&&(de<this.contentSize||this.endSnappingEnabled)?2:0}else _e.state=me&&!Q?1:!me&&Q?2:3}}getSashPosition(P){let I=0;for(let $=0;$<this.sashItems.length;$++)if(I+=this.viewItems[$].size,this.sashItems[$].sash===P)return I;return 0}findFirstSnapIndex(P){for(const I of P){const $=this.viewItems[I];if($.visible&&$.snap)return I}for(const I of P){const $=this.viewItems[I];if($.visible&&$.maximumSize-$.minimumSize>0)return;if(!$.visible&&$.snap)return I}}dispose(){super.dispose(),(0,O.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(P=>P.disposable.dispose()),this.sashItems=[]}}},37450:(Fe,Ne,m)=>{m.d(Ne,{$:()=>i});var E=m(86678),g=m(714),Y=m(2886),B=m(23945),D=m(40189);class i extends D.JT{onclick(F,k){this._register(E.nm(F,E.tw.CLICK,y=>k(new Y.n(y))))}onmousedown(F,k){this._register(E.nm(F,E.tw.MOUSE_DOWN,y=>k(new Y.n(y))))}onmouseover(F,k){this._register(E.nm(F,E.tw.MOUSE_OVER,y=>k(new Y.n(y))))}onnonbubblingmouseout(F,k){this._register(E.j_(F,y=>k(new Y.n(y))))}onkeydown(F,k){this._register(E.nm(F,E.tw.KEY_DOWN,y=>k(new g.y(y))))}onkeyup(F,k){this._register(E.nm(F,E.tw.KEY_UP,y=>k(new g.y(y))))}oninput(F,k){this._register(E.nm(F,E.tw.INPUT,k))}onblur(F,k){this._register(E.nm(F,E.tw.BLUR,k))}onfocus(F,k){this._register(E.nm(F,E.tw.FOCUS,k))}ignoreGesture(F){B.o.ignoreTarget(F)}}},50955:(Fe,Ne,m)=>{m.d(Ne,{aU:()=>D,Wi:()=>i,Z0:()=>O,wY:()=>F,eZ:()=>k});var E=m(71040),g=m(40189),Y=m(12918),B=function(y,C,b,x){return new(b||(b=Promise))(function(M,H){function L(P){try{Z(x.next(P))}catch(I){H(I)}}function N(P){try{Z(x.throw(P))}catch(I){H(I)}}function Z(P){P.done?M(P.value):function(M){return M instanceof b?M:new b(function(H){H(M)})}(P.value).then(L,N)}Z((x=x.apply(y,C||[])).next())})};class D extends g.JT{constructor(C,b="",x="",f=!0,M){super(),this._onDidChange=this._register(new E.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=C,this._label=b,this._cssClass=x,this._enabled=f,this._actionCallback=M}get id(){return this._id}get label(){return this._label}set label(C){this._setLabel(C)}_setLabel(C){this._label!==C&&(this._label=C,this._onDidChange.fire({label:C}))}get tooltip(){return this._tooltip||""}set tooltip(C){this._setTooltip(C)}_setTooltip(C){this._tooltip!==C&&(this._tooltip=C,this._onDidChange.fire({tooltip:C}))}get class(){return this._cssClass}set class(C){this._setClass(C)}_setClass(C){this._cssClass!==C&&(this._cssClass=C,this._onDidChange.fire({class:C}))}get enabled(){return this._enabled}set enabled(C){this._setEnabled(C)}_setEnabled(C){this._enabled!==C&&(this._enabled=C,this._onDidChange.fire({enabled:C}))}get checked(){return this._checked}set checked(C){this._setChecked(C)}_setChecked(C){this._checked!==C&&(this._checked=C,this._onDidChange.fire({checked:C}))}run(C,b){return B(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(C))})}}class i extends g.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new E.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new E.Q5),this.onDidRun=this._onDidRun.event}run(C,b){return B(this,void 0,void 0,function*(){if(!C.enabled)return;let x;this._onBeforeRun.fire({action:C});try{yield this.runAction(C,b)}catch(f){x=f}this._onDidRun.fire({action:C,error:x})})}runAction(C,b){return B(this,void 0,void 0,function*(){yield C.run(b)})}}let O=(()=>{class y extends D{constructor(b){super(y.ID,b,b?"separator text":"separator"),this.checked=!1,this.enabled=!1}}return y.ID="vs.actions.separator",y})();class F{constructor(C,b,x,f){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=C,this.label=b,this.class=f,this._actions=x}get actions(){return this._actions}dispose(){}run(){return B(this,void 0,void 0,function*(){})}}let k=(()=>{class y extends D{constructor(){super(y.ID,Y.N("submenu.empty","(empty)"),void 0,!1)}}return y.ID="vs.actions.empty",y})()},89822:(Fe,Ne,m)=>{function E(me,Q=0){return me[me.length-(1+Q)]}function g(me){if(0===me.length)throw new Error("Invalid tail call");return[me.slice(0,me.length-1),me[me.length-1]]}function Y(me,Q,q=((le,ee)=>le===ee)){if(me===Q)return!0;if(!me||!Q||me.length!==Q.length)return!1;for(let le=0,ee=me.length;le<ee;le++)if(!q(me[le],Q[le]))return!1;return!0}function B(me,Q,q){let le=0,ee=me.length-1;for(;le<=ee;){const J=(le+ee)/2|0,re=q(me[J],Q);if(re<0)le=J+1;else{if(!(re>0))return J;ee=J-1}}return-(le+1)}function D(me,Q){let q=0,le=me.length;if(0===le)return 0;for(;q<le;){const ee=Math.floor((q+le)/2);Q(me[ee])?le=ee:q=ee+1}return q}function i(me,Q,q){if((me|=0)>=Q.length)throw new TypeError("invalid index");let le=Q[Math.floor(Q.length*Math.random())],ee=[],J=[],re=[];for(let ce of Q){const ve=q(ce,le);ve<0?ee.push(ce):ve>0?J.push(ce):re.push(ce)}return me<ee.length?i(me,ee,q):me<ee.length+re.length?re[0]:i(me-(ee.length+re.length),J,q)}function O(me,Q){const q=[];let le;for(const ee of me.slice(0).sort(Q))le&&0===Q(le[0],ee)?le.push(ee):(le=[ee],q.push(le));return q}function F(me){return me.filter(Q=>!!Q)}function k(me){return!Array.isArray(me)||0===me.length}function y(me){return Array.isArray(me)&&me.length>0}function C(me,Q=(q=>q)){const q=new Set;return me.filter(le=>{const ee=Q(le);return!q.has(ee)&&(q.add(ee),!0)})}function b(me,Q){const q=function(me,Q){for(let q=me.length-1;q>=0;q--)if(Q(me[q]))return q;return-1}(me,Q);if(-1!==q)return me[q]}function f(me,Q){return me.length>0?me[0]:Q}function M(me){return[].concat(...me)}function H(me,Q){let q="number"==typeof Q?me:0;"number"==typeof Q?q=me:(q=0,Q=me);const le=[];if(q<=Q)for(let ee=q;ee<Q;ee++)le.push(ee);else for(let ee=q;ee>Q;ee--)le.push(ee);return le}function L(me,Q,q){const le=me.slice(0,Q),ee=me.slice(Q);return le.concat(q,ee)}function N(me,Q){const q=me.indexOf(Q);q>-1&&(me.splice(q,1),me.unshift(Q))}function Z(me,Q){const q=me.indexOf(Q);q>-1&&(me.splice(q,1),me.push(Q))}function P(me){return Array.isArray(me)?me:[me]}function $(me,Q,q,le){const ee=U(me,Q),J=me.splice(ee,q);return function(me,Q,q){const le=U(me,Q),ee=me.length,J=q.length;me.length=ee+J;for(let re=ee-1;re>=le;re--)me[re+J]=me[re];for(let re=0;re<J;re++)me[re+le]=q[re]}(me,ee,le),J}function U(me,Q){return Q<0?Math.max(Q+me.length,0):Math.min(Q,me.length)}function G(me,Q){return(q,le)=>Q(me(q),me(le))}m.d(Ne,{Gb:()=>E,JH:()=>g,fS:()=>Y,ry:()=>B,lG:()=>D,HW:()=>i,vM:()=>O,kX:()=>F,XY:()=>k,Of:()=>y,EB:()=>C,dF:()=>b,Xh:()=>f,xH:()=>M,w6:()=>H,Zv:()=>L,zI:()=>N,al:()=>Z,_2:()=>P,db:()=>$,tT:()=>G,fv:()=>oe,Dc:()=>de,jV:()=>fe,VJ:()=>_e,H9:()=>we});const oe=(me,Q)=>me-Q;function de(me,Q){if(0===me.length)return;let q=me[0];for(let le=1;le<me.length;le++){const ee=me[le];Q(ee,q)>0&&(q=ee)}return q}function fe(me,Q){if(0===me.length)return;let q=me[0];for(let le=1;le<me.length;le++){const ee=me[le];Q(ee,q)>=0&&(q=ee)}return q}function _e(me,Q){return de(me,(q,le)=>-Q(q,le))}class we{constructor(Q){this.items=Q,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(Q){let q=this.firstIdx;for(;q<this.items.length&&Q(this.items[q]);)q++;const le=q===this.firstIdx?null:this.items.slice(this.firstIdx,q);return this.firstIdx=q,le}takeFromEndWhile(Q){let q=this.lastIdx;for(;q>=0&&Q(this.items[q]);)q--;const le=q===this.lastIdx?null:this.items.slice(q+1,this.lastIdx+1);return this.lastIdx=q,le}peek(){return this.items[this.firstIdx]}dequeue(){const Q=this.items[this.firstIdx];return this.firstIdx++,Q}takeCount(Q){const q=this.items.slice(this.firstIdx,this.firstIdx+Q);return this.firstIdx+=Q,q}}},59126:(Fe,Ne,m)=>{function E(g,Y){if(!g)throw new Error(Y?`Assertion failed (${Y})`:"Assertion Failed")}m.d(Ne,{ok:()=>E})},89983:(Fe,Ne,m)=>{m.d(Ne,{J8:()=>F,PG:()=>k,eP:()=>y,ne:()=>f,vp:()=>M,rH:()=>H,Vs:()=>L,Vg:()=>N,Ps:()=>Z,_F:()=>P,zh:()=>I,pY:()=>$,To:()=>U,Ue:()=>G,CR:()=>oe,jT:()=>de,Aq:()=>fe,zS:()=>we});var E=m(66607),g=m(13226),Y=m(71040),B=m(40189),D=m(70700),i=function(me,Q,q,le){return new(q||(q=Promise))(function(J,re){function ce(We){try{ke(le.next(We))}catch(je){re(je)}}function ve(We){try{ke(le.throw(We))}catch(je){re(je)}}function ke(We){We.done?J(We.value):function(J){return J instanceof q?J:new q(function(re){re(J)})}(We.value).then(ce,ve)}ke((le=le.apply(me,Q||[])).next())})},O=function(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,Q=me[Symbol.asyncIterator];return Q?Q.call(me):(me="function"==typeof __values?__values(me):me[Symbol.iterator](),q={},le("next"),le("throw"),le("return"),q[Symbol.asyncIterator]=function(){return this},q);function le(J){q[J]=me[J]&&function(re){return new Promise(function(ce,ve){!function(J,re,ce,ve){Promise.resolve(ve).then(function(ke){J({value:ke,done:ce})},re)}(ce,ve,(re=me[J](re)).done,re.value)})}}};function F(me){return!!me&&"function"==typeof me.then}function k(me){const Q=new E.A,q=me(Q.token),le=new Promise((ee,J)=>{const re=Q.token.onCancellationRequested(()=>{re.dispose(),Q.dispose(),J(new g.FU)});Promise.resolve(q).then(ce=>{re.dispose(),Q.dispose(),ee(ce)},ce=>{re.dispose(),Q.dispose(),J(ce)})});return new class{cancel(){Q.cancel()}then(ee,J){return le.then(ee,J)}catch(ee){return this.then(void 0,ee)}finally(ee){return le.finally(ee)}}}function y(me,Q,q){return new Promise((le,ee)=>{const J=Q.onCancellationRequested(()=>{J.dispose(),le(q)});me.then(le,ee).finally(()=>J.dispose())})}class C{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(Q){if(this.activePromise){if(this.queuedPromiseFactory=Q,!this.queuedPromise){const q=()=>{this.queuedPromise=null;const le=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,le};this.queuedPromise=new Promise(le=>{this.activePromise.then(q,q).then(le)})}return new Promise((q,le)=>{this.queuedPromise.then(q,le)})}return this.activePromise=Q(),new Promise((q,le)=>{this.activePromise.then(ee=>{this.activePromise=null,q(ee)},ee=>{this.activePromise=null,le(ee)})})}}const f=Symbol("MicrotaskDelay");class M{constructor(Q){this.defaultDelay=Q,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(Q,q=this.defaultDelay){this.task=Q,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((ee,J)=>{this.doResolve=ee,this.doReject=J}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const ee=this.task;return this.task=null,ee()}}));const le=()=>{var ee;this.deferred=null,null===(ee=this.doResolve)||void 0===ee||ee.call(this,null)};return this.deferred=q===f?(me=>{let Q=!0;return queueMicrotask(()=>{Q&&(Q=!1,me())}),{isTriggered:()=>Q,dispose:()=>{Q=!1}}})(le):((me,Q)=>{let q=!0;const le=setTimeout(()=>{q=!1,Q()},me);return{isTriggered:()=>q,dispose:()=>{clearTimeout(le),q=!1}}})(q,le),this.completionPromise}isTriggered(){var Q;return!!(null===(Q=this.deferred)||void 0===Q?void 0:Q.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new g.FU),this.completionPromise=null)}cancelTimeout(){var Q;null===(Q=this.deferred)||void 0===Q||Q.dispose(),this.deferred=null}dispose(){this.cancel()}}class H{constructor(Q){this.delayer=new M(Q),this.throttler=new C}trigger(Q,q){return this.delayer.trigger(()=>this.throttler.queue(Q),q)}dispose(){this.delayer.dispose()}}function L(me,Q){return Q?new Promise((q,le)=>{const ee=setTimeout(()=>{J.dispose(),q()},me),J=Q.onCancellationRequested(()=>{clearTimeout(ee),J.dispose(),le(new g.FU)})}):k(q=>L(me,q))}function N(me,Q=0){const q=setTimeout(me,Q);return(0,B.OF)(()=>clearTimeout(q))}function Z(me,Q=(le=>!!le),q=null){let le=0;const ee=me.length,J=()=>{if(le>=ee)return Promise.resolve(q);const re=me[le++];return Promise.resolve(re()).then(ve=>Q(ve)?Promise.resolve(ve):J())};return J()}class P{constructor(Q,q){this._token=-1,"function"==typeof Q&&"number"==typeof q&&this.setIfNotSet(Q,q)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(Q,q){this.cancel(),this._token=setTimeout(()=>{this._token=-1,Q()},q)}setIfNotSet(Q,q){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,Q()},q))}}class I{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(Q,q){this.cancel(),this._token=setInterval(()=>{Q()},q)}}class ${constructor(Q,q){this.timeoutToken=-1,this.runner=Q,this.timeout=q,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(Q=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,Q)}get delay(){return this.timeout}set delay(Q){this.timeout=Q}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let U;U="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?me=>{(0,D.fn)(()=>{if(Q)return;const q=Date.now()+15;me(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,q-Date.now())}))});let Q=!1;return{dispose(){Q||(Q=!0)}}}:(me,Q)=>{const q=requestIdleCallback(me,"number"==typeof Q?{timeout:Q}:void 0);let le=!1;return{dispose(){le||(le=!0,cancelIdleCallback(q))}}};class G{constructor(Q){this._didRun=!1,this._executor=()=>{try{this._value=Q()}catch(q){this._error=q}finally{this._didRun=!0}},this._handle=U(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class oe{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((Q,q)=>{this.completeCallback=Q,this.errorCallback=q})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(Q){return new Promise(q=>{this.completeCallback(Q),this.resolved=!0,q()})}cancel(){new Promise(Q=>{this.errorCallback(new g.FU),this.rejected=!0,Q()})}}var de,me;(me=de||(de={})).settled=function(le){return i(this,void 0,void 0,function*(){let ee;const J=yield Promise.all(le.map(re=>re.then(ce=>ce,ce=>{ee||(ee=ce)})));if(void 0!==ee)throw ee;return J})},me.withAsyncBody=function(le){return new Promise((ee,J)=>i(this,void 0,void 0,function*(){try{yield le(ee,J)}catch(re){J(re)}}))};class fe{constructor(Q){this._state=0,this._results=[],this._error=null,this._onStateChanged=new Y.Q5,queueMicrotask(()=>i(this,void 0,void 0,function*(){const q={emitOne:le=>this.emitOne(le),emitMany:le=>this.emitMany(le),reject:le=>this.reject(le)};try{yield Promise.resolve(Q(q)),this.resolve()}catch(le){this.reject(le)}finally{q.emitOne=void 0,q.emitMany=void 0,q.reject=void 0}}))}static fromArray(Q){return new fe(q=>{q.emitMany(Q)})}static fromPromise(Q){return new fe(q=>i(this,void 0,void 0,function*(){q.emitMany(yield Q)}))}static fromPromises(Q){return new fe(q=>i(this,void 0,void 0,function*(){yield Promise.all(Q.map(le=>i(this,void 0,void 0,function*(){return q.emitOne(yield le)})))}))}static merge(Q){return new fe(q=>i(this,void 0,void 0,function*(){yield Promise.all(Q.map(le=>{var ee,J;return i(this,void 0,void 0,function*(){var re,ce;try{for(ee=O(le);!(J=yield ee.next()).done;)q.emitOne(J.value)}catch(ve){re={error:ve}}finally{try{J&&!J.done&&(ce=ee.return)&&(yield ce.call(ee))}finally{if(re)throw re.error}}})}))}))}[Symbol.asyncIterator](){let Q=0;return{next:()=>i(this,void 0,void 0,function*(){for(;;){if(2===this._state)throw this._error;if(Q<this._results.length)return{done:!1,value:this._results[Q++]};if(1===this._state)return{done:!0,value:void 0};yield Y.ju.toPromise(this._onStateChanged.event)}})}}static map(Q,q){return new fe(le=>i(this,void 0,void 0,function*(){var ee,J;try{for(var ce,re=O(Q);!(ce=yield re.next()).done;)le.emitOne(q(ce.value))}catch(ve){ee={error:ve}}finally{try{ce&&!ce.done&&(J=re.return)&&(yield J.call(re))}finally{if(ee)throw ee.error}}}))}map(Q){return fe.map(this,Q)}static filter(Q,q){return new fe(le=>i(this,void 0,void 0,function*(){var ee,J;try{for(var ce,re=O(Q);!(ce=yield re.next()).done;){const ve=ce.value;q(ve)&&le.emitOne(ve)}}catch(ve){ee={error:ve}}finally{try{ce&&!ce.done&&(J=re.return)&&(yield J.call(re))}finally{if(ee)throw ee.error}}}))}filter(Q){return fe.filter(this,Q)}static coalesce(Q){return fe.filter(Q,q=>!!q)}coalesce(){return fe.coalesce(this)}static toPromise(Q){var q,le,ee,J;return i(this,void 0,void 0,function*(){const re=[];try{for(q=O(Q);!(le=yield q.next()).done;)re.push(le.value)}catch(ce){ee={error:ce}}finally{try{le&&!le.done&&(J=q.return)&&(yield J.call(q))}finally{if(ee)throw ee.error}}return re})}toPromise(){return fe.toPromise(this)}emitOne(Q){0===this._state&&(this._results.push(Q),this._onStateChanged.fire())}emitMany(Q){0===this._state&&(this._results=this._results.concat(Q),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(Q){0===this._state&&(this._state=2,this._error=Q,this._onStateChanged.fire())}}fe.EMPTY=fe.fromArray([]);class _e extends fe{constructor(Q,q){super(q),this._source=Q}cancel(){this._source.cancel()}}function we(me){const Q=new E.A,q=me(Q.token);return new _e(Q,le=>i(this,void 0,void 0,function*(){var ee,J;const re=Q.token.onCancellationRequested(()=>{re.dispose(),Q.dispose(),le.reject(new g.FU)});try{try{for(var ve,ce=O(q);!(ve=yield ce.next()).done;){if(Q.token.isCancellationRequested)return;le.emitOne(ve.value)}}catch(ke){ee={error:ke}}finally{try{ve&&!ve.done&&(J=ce.return)&&(yield J.call(ce))}finally{if(ee)throw ee.error}}re.dispose(),Q.dispose()}catch(ke){re.dispose(),Q.dispose(),le.reject(ke)}}))}},90386:(Fe,Ne,m)=>{m.d(Ne,{KN:()=>Y,mP:()=>B,oq:()=>D,Ag:()=>i,T4:()=>O,Q$:()=>F,Cg:()=>k});const E="undefined"!=typeof Buffer;let g;class Y{constructor(C){this.buffer=C,this.byteLength=this.buffer.byteLength}static wrap(C){return E&&!Buffer.isBuffer(C)&&(C=Buffer.from(C.buffer,C.byteOffset,C.byteLength)),new Y(C)}toString(){return E?this.buffer.toString():(g||(g=new TextDecoder),g.decode(this.buffer))}}function B(y,C){return y[C+0]<<0>>>0|y[C+1]<<8>>>0}function D(y,C,b){y[b+0]=255&C,y[b+1]=255&(C>>>=8)}function i(y,C){return y[C]*Math.pow(2,24)+y[C+1]*Math.pow(2,16)+y[C+2]*Math.pow(2,8)+y[C+3]}function O(y,C,b){y[b+3]=C,y[b+2]=C>>>=8,y[b+1]=C>>>=8,y[b]=C>>>=8}function F(y,C){return y[C]}function k(y,C,b){y[b]=C}},66607:(Fe,Ne,m)=>{m.d(Ne,{T:()=>Y,A:()=>D});var E=m(71040);const g=Object.freeze(function(i,O){const F=setTimeout(i.bind(O),0);return{dispose(){clearTimeout(F)}}});var Y,i;(i=Y||(Y={})).isCancellationToken=function(F){return F===i.None||F===i.Cancelled||F instanceof B||!(!F||"object"!=typeof F)&&"boolean"==typeof F.isCancellationRequested&&"function"==typeof F.onCancellationRequested},i.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:E.ju.None}),i.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:g});class B{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?g:(this._emitter||(this._emitter=new E.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class D{constructor(O){this._token=void 0,this._parentListener=void 0,this._parentListener=O&&O.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new B),this._token}cancel(){this._token?this._token instanceof B&&this._token.cancel():this._token=Y.Cancelled}dispose(O=!1){O&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof B&&this._token.dispose():this._token=Y.None}}},78968:(Fe,Ne,m)=>{function E(B){return B?B.replace(/\$\((.*?)\)/g,(D,i)=>` ${i} `).trim():""}m.d(Ne,{JL:()=>E,lA:()=>g,dT:()=>Y});class g{constructor(D,i,O){this.id=D,this.definition=i,this.description=O,g._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return g._allCodicons}}var Y;g._allCodicons=[],g.add=new g("add",{fontCharacter:"\\ea60"}),g.plus=new g("plus",g.add.definition),g.gistNew=new g("gist-new",g.add.definition),g.repoCreate=new g("repo-create",g.add.definition),g.lightbulb=new g("lightbulb",{fontCharacter:"\\ea61"}),g.lightBulb=new g("light-bulb",{fontCharacter:"\\ea61"}),g.repo=new g("repo",{fontCharacter:"\\ea62"}),g.repoDelete=new g("repo-delete",{fontCharacter:"\\ea62"}),g.gistFork=new g("gist-fork",{fontCharacter:"\\ea63"}),g.repoForked=new g("repo-forked",{fontCharacter:"\\ea63"}),g.gitPullRequest=new g("git-pull-request",{fontCharacter:"\\ea64"}),g.gitPullRequestAbandoned=new g("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),g.recordKeys=new g("record-keys",{fontCharacter:"\\ea65"}),g.keyboard=new g("keyboard",{fontCharacter:"\\ea65"}),g.tag=new g("tag",{fontCharacter:"\\ea66"}),g.tagAdd=new g("tag-add",{fontCharacter:"\\ea66"}),g.tagRemove=new g("tag-remove",{fontCharacter:"\\ea66"}),g.person=new g("person",{fontCharacter:"\\ea67"}),g.personFollow=new g("person-follow",{fontCharacter:"\\ea67"}),g.personOutline=new g("person-outline",{fontCharacter:"\\ea67"}),g.personFilled=new g("person-filled",{fontCharacter:"\\ea67"}),g.gitBranch=new g("git-branch",{fontCharacter:"\\ea68"}),g.gitBranchCreate=new g("git-branch-create",{fontCharacter:"\\ea68"}),g.gitBranchDelete=new g("git-branch-delete",{fontCharacter:"\\ea68"}),g.sourceControl=new g("source-control",{fontCharacter:"\\ea68"}),g.mirror=new g("mirror",{fontCharacter:"\\ea69"}),g.mirrorPublic=new g("mirror-public",{fontCharacter:"\\ea69"}),g.star=new g("star",{fontCharacter:"\\ea6a"}),g.starAdd=new g("star-add",{fontCharacter:"\\ea6a"}),g.starDelete=new g("star-delete",{fontCharacter:"\\ea6a"}),g.starEmpty=new g("star-empty",{fontCharacter:"\\ea6a"}),g.comment=new g("comment",{fontCharacter:"\\ea6b"}),g.commentAdd=new g("comment-add",{fontCharacter:"\\ea6b"}),g.alert=new g("alert",{fontCharacter:"\\ea6c"}),g.warning=new g("warning",{fontCharacter:"\\ea6c"}),g.search=new g("search",{fontCharacter:"\\ea6d"}),g.searchSave=new g("search-save",{fontCharacter:"\\ea6d"}),g.logOut=new g("log-out",{fontCharacter:"\\ea6e"}),g.signOut=new g("sign-out",{fontCharacter:"\\ea6e"}),g.logIn=new g("log-in",{fontCharacter:"\\ea6f"}),g.signIn=new g("sign-in",{fontCharacter:"\\ea6f"}),g.eye=new g("eye",{fontCharacter:"\\ea70"}),g.eyeUnwatch=new g("eye-unwatch",{fontCharacter:"\\ea70"}),g.eyeWatch=new g("eye-watch",{fontCharacter:"\\ea70"}),g.circleFilled=new g("circle-filled",{fontCharacter:"\\ea71"}),g.primitiveDot=new g("primitive-dot",{fontCharacter:"\\ea71"}),g.closeDirty=new g("close-dirty",{fontCharacter:"\\ea71"}),g.debugBreakpoint=new g("debug-breakpoint",{fontCharacter:"\\ea71"}),g.debugBreakpointDisabled=new g("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),g.debugHint=new g("debug-hint",{fontCharacter:"\\ea71"}),g.primitiveSquare=new g("primitive-square",{fontCharacter:"\\ea72"}),g.edit=new g("edit",{fontCharacter:"\\ea73"}),g.pencil=new g("pencil",{fontCharacter:"\\ea73"}),g.info=new g("info",{fontCharacter:"\\ea74"}),g.issueOpened=new g("issue-opened",{fontCharacter:"\\ea74"}),g.gistPrivate=new g("gist-private",{fontCharacter:"\\ea75"}),g.gitForkPrivate=new g("git-fork-private",{fontCharacter:"\\ea75"}),g.lock=new g("lock",{fontCharacter:"\\ea75"}),g.mirrorPrivate=new g("mirror-private",{fontCharacter:"\\ea75"}),g.close=new g("close",{fontCharacter:"\\ea76"}),g.removeClose=new g("remove-close",{fontCharacter:"\\ea76"}),g.x=new g("x",{fontCharacter:"\\ea76"}),g.repoSync=new g("repo-sync",{fontCharacter:"\\ea77"}),g.sync=new g("sync",{fontCharacter:"\\ea77"}),g.clone=new g("clone",{fontCharacter:"\\ea78"}),g.desktopDownload=new g("desktop-download",{fontCharacter:"\\ea78"}),g.beaker=new g("beaker",{fontCharacter:"\\ea79"}),g.microscope=new g("microscope",{fontCharacter:"\\ea79"}),g.vm=new g("vm",{fontCharacter:"\\ea7a"}),g.deviceDesktop=new g("device-desktop",{fontCharacter:"\\ea7a"}),g.file=new g("file",{fontCharacter:"\\ea7b"}),g.fileText=new g("file-text",{fontCharacter:"\\ea7b"}),g.more=new g("more",{fontCharacter:"\\ea7c"}),g.ellipsis=new g("ellipsis",{fontCharacter:"\\ea7c"}),g.kebabHorizontal=new g("kebab-horizontal",{fontCharacter:"\\ea7c"}),g.mailReply=new g("mail-reply",{fontCharacter:"\\ea7d"}),g.reply=new g("reply",{fontCharacter:"\\ea7d"}),g.organization=new g("organization",{fontCharacter:"\\ea7e"}),g.organizationFilled=new g("organization-filled",{fontCharacter:"\\ea7e"}),g.organizationOutline=new g("organization-outline",{fontCharacter:"\\ea7e"}),g.newFile=new g("new-file",{fontCharacter:"\\ea7f"}),g.fileAdd=new g("file-add",{fontCharacter:"\\ea7f"}),g.newFolder=new g("new-folder",{fontCharacter:"\\ea80"}),g.fileDirectoryCreate=new g("file-directory-create",{fontCharacter:"\\ea80"}),g.trash=new g("trash",{fontCharacter:"\\ea81"}),g.trashcan=new g("trashcan",{fontCharacter:"\\ea81"}),g.history=new g("history",{fontCharacter:"\\ea82"}),g.clock=new g("clock",{fontCharacter:"\\ea82"}),g.folder=new g("folder",{fontCharacter:"\\ea83"}),g.fileDirectory=new g("file-directory",{fontCharacter:"\\ea83"}),g.symbolFolder=new g("symbol-folder",{fontCharacter:"\\ea83"}),g.logoGithub=new g("logo-github",{fontCharacter:"\\ea84"}),g.markGithub=new g("mark-github",{fontCharacter:"\\ea84"}),g.github=new g("github",{fontCharacter:"\\ea84"}),g.terminal=new g("terminal",{fontCharacter:"\\ea85"}),g.console=new g("console",{fontCharacter:"\\ea85"}),g.repl=new g("repl",{fontCharacter:"\\ea85"}),g.zap=new g("zap",{fontCharacter:"\\ea86"}),g.symbolEvent=new g("symbol-event",{fontCharacter:"\\ea86"}),g.error=new g("error",{fontCharacter:"\\ea87"}),g.stop=new g("stop",{fontCharacter:"\\ea87"}),g.variable=new g("variable",{fontCharacter:"\\ea88"}),g.symbolVariable=new g("symbol-variable",{fontCharacter:"\\ea88"}),g.array=new g("array",{fontCharacter:"\\ea8a"}),g.symbolArray=new g("symbol-array",{fontCharacter:"\\ea8a"}),g.symbolModule=new g("symbol-module",{fontCharacter:"\\ea8b"}),g.symbolPackage=new g("symbol-package",{fontCharacter:"\\ea8b"}),g.symbolNamespace=new g("symbol-namespace",{fontCharacter:"\\ea8b"}),g.symbolObject=new g("symbol-object",{fontCharacter:"\\ea8b"}),g.symbolMethod=new g("symbol-method",{fontCharacter:"\\ea8c"}),g.symbolFunction=new g("symbol-function",{fontCharacter:"\\ea8c"}),g.symbolConstructor=new g("symbol-constructor",{fontCharacter:"\\ea8c"}),g.symbolBoolean=new g("symbol-boolean",{fontCharacter:"\\ea8f"}),g.symbolNull=new g("symbol-null",{fontCharacter:"\\ea8f"}),g.symbolNumeric=new g("symbol-numeric",{fontCharacter:"\\ea90"}),g.symbolNumber=new g("symbol-number",{fontCharacter:"\\ea90"}),g.symbolStructure=new g("symbol-structure",{fontCharacter:"\\ea91"}),g.symbolStruct=new g("symbol-struct",{fontCharacter:"\\ea91"}),g.symbolParameter=new g("symbol-parameter",{fontCharacter:"\\ea92"}),g.symbolTypeParameter=new g("symbol-type-parameter",{fontCharacter:"\\ea92"}),g.symbolKey=new g("symbol-key",{fontCharacter:"\\ea93"}),g.symbolText=new g("symbol-text",{fontCharacter:"\\ea93"}),g.symbolReference=new g("symbol-reference",{fontCharacter:"\\ea94"}),g.goToFile=new g("go-to-file",{fontCharacter:"\\ea94"}),g.symbolEnum=new g("symbol-enum",{fontCharacter:"\\ea95"}),g.symbolValue=new g("symbol-value",{fontCharacter:"\\ea95"}),g.symbolRuler=new g("symbol-ruler",{fontCharacter:"\\ea96"}),g.symbolUnit=new g("symbol-unit",{fontCharacter:"\\ea96"}),g.activateBreakpoints=new g("activate-breakpoints",{fontCharacter:"\\ea97"}),g.archive=new g("archive",{fontCharacter:"\\ea98"}),g.arrowBoth=new g("arrow-both",{fontCharacter:"\\ea99"}),g.arrowDown=new g("arrow-down",{fontCharacter:"\\ea9a"}),g.arrowLeft=new g("arrow-left",{fontCharacter:"\\ea9b"}),g.arrowRight=new g("arrow-right",{fontCharacter:"\\ea9c"}),g.arrowSmallDown=new g("arrow-small-down",{fontCharacter:"\\ea9d"}),g.arrowSmallLeft=new g("arrow-small-left",{fontCharacter:"\\ea9e"}),g.arrowSmallRight=new g("arrow-small-right",{fontCharacter:"\\ea9f"}),g.arrowSmallUp=new g("arrow-small-up",{fontCharacter:"\\eaa0"}),g.arrowUp=new g("arrow-up",{fontCharacter:"\\eaa1"}),g.bell=new g("bell",{fontCharacter:"\\eaa2"}),g.bold=new g("bold",{fontCharacter:"\\eaa3"}),g.book=new g("book",{fontCharacter:"\\eaa4"}),g.bookmark=new g("bookmark",{fontCharacter:"\\eaa5"}),g.debugBreakpointConditionalUnverified=new g("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),g.debugBreakpointConditional=new g("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),g.debugBreakpointConditionalDisabled=new g("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),g.debugBreakpointDataUnverified=new g("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),g.debugBreakpointData=new g("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),g.debugBreakpointDataDisabled=new g("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),g.debugBreakpointLogUnverified=new g("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),g.debugBreakpointLog=new g("debug-breakpoint-log",{fontCharacter:"\\eaab"}),g.debugBreakpointLogDisabled=new g("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),g.briefcase=new g("briefcase",{fontCharacter:"\\eaac"}),g.broadcast=new g("broadcast",{fontCharacter:"\\eaad"}),g.browser=new g("browser",{fontCharacter:"\\eaae"}),g.bug=new g("bug",{fontCharacter:"\\eaaf"}),g.calendar=new g("calendar",{fontCharacter:"\\eab0"}),g.caseSensitive=new g("case-sensitive",{fontCharacter:"\\eab1"}),g.check=new g("check",{fontCharacter:"\\eab2"}),g.checklist=new g("checklist",{fontCharacter:"\\eab3"}),g.chevronDown=new g("chevron-down",{fontCharacter:"\\eab4"}),g.dropDownButton=new g("drop-down-button",g.chevronDown.definition),g.chevronLeft=new g("chevron-left",{fontCharacter:"\\eab5"}),g.chevronRight=new g("chevron-right",{fontCharacter:"\\eab6"}),g.chevronUp=new g("chevron-up",{fontCharacter:"\\eab7"}),g.chromeClose=new g("chrome-close",{fontCharacter:"\\eab8"}),g.chromeMaximize=new g("chrome-maximize",{fontCharacter:"\\eab9"}),g.chromeMinimize=new g("chrome-minimize",{fontCharacter:"\\eaba"}),g.chromeRestore=new g("chrome-restore",{fontCharacter:"\\eabb"}),g.circleOutline=new g("circle-outline",{fontCharacter:"\\eabc"}),g.debugBreakpointUnverified=new g("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),g.circleSlash=new g("circle-slash",{fontCharacter:"\\eabd"}),g.circuitBoard=new g("circuit-board",{fontCharacter:"\\eabe"}),g.clearAll=new g("clear-all",{fontCharacter:"\\eabf"}),g.clippy=new g("clippy",{fontCharacter:"\\eac0"}),g.closeAll=new g("close-all",{fontCharacter:"\\eac1"}),g.cloudDownload=new g("cloud-download",{fontCharacter:"\\eac2"}),g.cloudUpload=new g("cloud-upload",{fontCharacter:"\\eac3"}),g.code=new g("code",{fontCharacter:"\\eac4"}),g.collapseAll=new g("collapse-all",{fontCharacter:"\\eac5"}),g.colorMode=new g("color-mode",{fontCharacter:"\\eac6"}),g.commentDiscussion=new g("comment-discussion",{fontCharacter:"\\eac7"}),g.compareChanges=new g("compare-changes",{fontCharacter:"\\eafd"}),g.creditCard=new g("credit-card",{fontCharacter:"\\eac9"}),g.dash=new g("dash",{fontCharacter:"\\eacc"}),g.dashboard=new g("dashboard",{fontCharacter:"\\eacd"}),g.database=new g("database",{fontCharacter:"\\eace"}),g.debugContinue=new g("debug-continue",{fontCharacter:"\\eacf"}),g.debugDisconnect=new g("debug-disconnect",{fontCharacter:"\\ead0"}),g.debugPause=new g("debug-pause",{fontCharacter:"\\ead1"}),g.debugRestart=new g("debug-restart",{fontCharacter:"\\ead2"}),g.debugStart=new g("debug-start",{fontCharacter:"\\ead3"}),g.debugStepInto=new g("debug-step-into",{fontCharacter:"\\ead4"}),g.debugStepOut=new g("debug-step-out",{fontCharacter:"\\ead5"}),g.debugStepOver=new g("debug-step-over",{fontCharacter:"\\ead6"}),g.debugStop=new g("debug-stop",{fontCharacter:"\\ead7"}),g.debug=new g("debug",{fontCharacter:"\\ead8"}),g.deviceCameraVideo=new g("device-camera-video",{fontCharacter:"\\ead9"}),g.deviceCamera=new g("device-camera",{fontCharacter:"\\eada"}),g.deviceMobile=new g("device-mobile",{fontCharacter:"\\eadb"}),g.diffAdded=new g("diff-added",{fontCharacter:"\\eadc"}),g.diffIgnored=new g("diff-ignored",{fontCharacter:"\\eadd"}),g.diffModified=new g("diff-modified",{fontCharacter:"\\eade"}),g.diffRemoved=new g("diff-removed",{fontCharacter:"\\eadf"}),g.diffRenamed=new g("diff-renamed",{fontCharacter:"\\eae0"}),g.diff=new g("diff",{fontCharacter:"\\eae1"}),g.discard=new g("discard",{fontCharacter:"\\eae2"}),g.editorLayout=new g("editor-layout",{fontCharacter:"\\eae3"}),g.emptyWindow=new g("empty-window",{fontCharacter:"\\eae4"}),g.exclude=new g("exclude",{fontCharacter:"\\eae5"}),g.extensions=new g("extensions",{fontCharacter:"\\eae6"}),g.eyeClosed=new g("eye-closed",{fontCharacter:"\\eae7"}),g.fileBinary=new g("file-binary",{fontCharacter:"\\eae8"}),g.fileCode=new g("file-code",{fontCharacter:"\\eae9"}),g.fileMedia=new g("file-media",{fontCharacter:"\\eaea"}),g.filePdf=new g("file-pdf",{fontCharacter:"\\eaeb"}),g.fileSubmodule=new g("file-submodule",{fontCharacter:"\\eaec"}),g.fileSymlinkDirectory=new g("file-symlink-directory",{fontCharacter:"\\eaed"}),g.fileSymlinkFile=new g("file-symlink-file",{fontCharacter:"\\eaee"}),g.fileZip=new g("file-zip",{fontCharacter:"\\eaef"}),g.files=new g("files",{fontCharacter:"\\eaf0"}),g.filter=new g("filter",{fontCharacter:"\\eaf1"}),g.flame=new g("flame",{fontCharacter:"\\eaf2"}),g.foldDown=new g("fold-down",{fontCharacter:"\\eaf3"}),g.foldUp=new g("fold-up",{fontCharacter:"\\eaf4"}),g.fold=new g("fold",{fontCharacter:"\\eaf5"}),g.folderActive=new g("folder-active",{fontCharacter:"\\eaf6"}),g.folderOpened=new g("folder-opened",{fontCharacter:"\\eaf7"}),g.gear=new g("gear",{fontCharacter:"\\eaf8"}),g.gift=new g("gift",{fontCharacter:"\\eaf9"}),g.gistSecret=new g("gist-secret",{fontCharacter:"\\eafa"}),g.gist=new g("gist",{fontCharacter:"\\eafb"}),g.gitCommit=new g("git-commit",{fontCharacter:"\\eafc"}),g.gitCompare=new g("git-compare",{fontCharacter:"\\eafd"}),g.gitMerge=new g("git-merge",{fontCharacter:"\\eafe"}),g.githubAction=new g("github-action",{fontCharacter:"\\eaff"}),g.githubAlt=new g("github-alt",{fontCharacter:"\\eb00"}),g.globe=new g("globe",{fontCharacter:"\\eb01"}),g.grabber=new g("grabber",{fontCharacter:"\\eb02"}),g.graph=new g("graph",{fontCharacter:"\\eb03"}),g.gripper=new g("gripper",{fontCharacter:"\\eb04"}),g.heart=new g("heart",{fontCharacter:"\\eb05"}),g.home=new g("home",{fontCharacter:"\\eb06"}),g.horizontalRule=new g("horizontal-rule",{fontCharacter:"\\eb07"}),g.hubot=new g("hubot",{fontCharacter:"\\eb08"}),g.inbox=new g("inbox",{fontCharacter:"\\eb09"}),g.issueClosed=new g("issue-closed",{fontCharacter:"\\eba4"}),g.issueReopened=new g("issue-reopened",{fontCharacter:"\\eb0b"}),g.issues=new g("issues",{fontCharacter:"\\eb0c"}),g.italic=new g("italic",{fontCharacter:"\\eb0d"}),g.jersey=new g("jersey",{fontCharacter:"\\eb0e"}),g.json=new g("json",{fontCharacter:"\\eb0f"}),g.kebabVertical=new g("kebab-vertical",{fontCharacter:"\\eb10"}),g.key=new g("key",{fontCharacter:"\\eb11"}),g.law=new g("law",{fontCharacter:"\\eb12"}),g.lightbulbAutofix=new g("lightbulb-autofix",{fontCharacter:"\\eb13"}),g.linkExternal=new g("link-external",{fontCharacter:"\\eb14"}),g.link=new g("link",{fontCharacter:"\\eb15"}),g.listOrdered=new g("list-ordered",{fontCharacter:"\\eb16"}),g.listUnordered=new g("list-unordered",{fontCharacter:"\\eb17"}),g.liveShare=new g("live-share",{fontCharacter:"\\eb18"}),g.loading=new g("loading",{fontCharacter:"\\eb19"}),g.location=new g("location",{fontCharacter:"\\eb1a"}),g.mailRead=new g("mail-read",{fontCharacter:"\\eb1b"}),g.mail=new g("mail",{fontCharacter:"\\eb1c"}),g.markdown=new g("markdown",{fontCharacter:"\\eb1d"}),g.megaphone=new g("megaphone",{fontCharacter:"\\eb1e"}),g.mention=new g("mention",{fontCharacter:"\\eb1f"}),g.milestone=new g("milestone",{fontCharacter:"\\eb20"}),g.mortarBoard=new g("mortar-board",{fontCharacter:"\\eb21"}),g.move=new g("move",{fontCharacter:"\\eb22"}),g.multipleWindows=new g("multiple-windows",{fontCharacter:"\\eb23"}),g.mute=new g("mute",{fontCharacter:"\\eb24"}),g.noNewline=new g("no-newline",{fontCharacter:"\\eb25"}),g.note=new g("note",{fontCharacter:"\\eb26"}),g.octoface=new g("octoface",{fontCharacter:"\\eb27"}),g.openPreview=new g("open-preview",{fontCharacter:"\\eb28"}),g.package_=new g("package",{fontCharacter:"\\eb29"}),g.paintcan=new g("paintcan",{fontCharacter:"\\eb2a"}),g.pin=new g("pin",{fontCharacter:"\\eb2b"}),g.play=new g("play",{fontCharacter:"\\eb2c"}),g.run=new g("run",{fontCharacter:"\\eb2c"}),g.plug=new g("plug",{fontCharacter:"\\eb2d"}),g.preserveCase=new g("preserve-case",{fontCharacter:"\\eb2e"}),g.preview=new g("preview",{fontCharacter:"\\eb2f"}),g.project=new g("project",{fontCharacter:"\\eb30"}),g.pulse=new g("pulse",{fontCharacter:"\\eb31"}),g.question=new g("question",{fontCharacter:"\\eb32"}),g.quote=new g("quote",{fontCharacter:"\\eb33"}),g.radioTower=new g("radio-tower",{fontCharacter:"\\eb34"}),g.reactions=new g("reactions",{fontCharacter:"\\eb35"}),g.references=new g("references",{fontCharacter:"\\eb36"}),g.refresh=new g("refresh",{fontCharacter:"\\eb37"}),g.regex=new g("regex",{fontCharacter:"\\eb38"}),g.remoteExplorer=new g("remote-explorer",{fontCharacter:"\\eb39"}),g.remote=new g("remote",{fontCharacter:"\\eb3a"}),g.remove=new g("remove",{fontCharacter:"\\eb3b"}),g.replaceAll=new g("replace-all",{fontCharacter:"\\eb3c"}),g.replace=new g("replace",{fontCharacter:"\\eb3d"}),g.repoClone=new g("repo-clone",{fontCharacter:"\\eb3e"}),g.repoForcePush=new g("repo-force-push",{fontCharacter:"\\eb3f"}),g.repoPull=new g("repo-pull",{fontCharacter:"\\eb40"}),g.repoPush=new g("repo-push",{fontCharacter:"\\eb41"}),g.report=new g("report",{fontCharacter:"\\eb42"}),g.requestChanges=new g("request-changes",{fontCharacter:"\\eb43"}),g.rocket=new g("rocket",{fontCharacter:"\\eb44"}),g.rootFolderOpened=new g("root-folder-opened",{fontCharacter:"\\eb45"}),g.rootFolder=new g("root-folder",{fontCharacter:"\\eb46"}),g.rss=new g("rss",{fontCharacter:"\\eb47"}),g.ruby=new g("ruby",{fontCharacter:"\\eb48"}),g.saveAll=new g("save-all",{fontCharacter:"\\eb49"}),g.saveAs=new g("save-as",{fontCharacter:"\\eb4a"}),g.save=new g("save",{fontCharacter:"\\eb4b"}),g.screenFull=new g("screen-full",{fontCharacter:"\\eb4c"}),g.screenNormal=new g("screen-normal",{fontCharacter:"\\eb4d"}),g.searchStop=new g("search-stop",{fontCharacter:"\\eb4e"}),g.server=new g("server",{fontCharacter:"\\eb50"}),g.settingsGear=new g("settings-gear",{fontCharacter:"\\eb51"}),g.settings=new g("settings",{fontCharacter:"\\eb52"}),g.shield=new g("shield",{fontCharacter:"\\eb53"}),g.smiley=new g("smiley",{fontCharacter:"\\eb54"}),g.sortPrecedence=new g("sort-precedence",{fontCharacter:"\\eb55"}),g.splitHorizontal=new g("split-horizontal",{fontCharacter:"\\eb56"}),g.splitVertical=new g("split-vertical",{fontCharacter:"\\eb57"}),g.squirrel=new g("squirrel",{fontCharacter:"\\eb58"}),g.starFull=new g("star-full",{fontCharacter:"\\eb59"}),g.starHalf=new g("star-half",{fontCharacter:"\\eb5a"}),g.symbolClass=new g("symbol-class",{fontCharacter:"\\eb5b"}),g.symbolColor=new g("symbol-color",{fontCharacter:"\\eb5c"}),g.symbolCustomColor=new g("symbol-customcolor",{fontCharacter:"\\eb5c"}),g.symbolConstant=new g("symbol-constant",{fontCharacter:"\\eb5d"}),g.symbolEnumMember=new g("symbol-enum-member",{fontCharacter:"\\eb5e"}),g.symbolField=new g("symbol-field",{fontCharacter:"\\eb5f"}),g.symbolFile=new g("symbol-file",{fontCharacter:"\\eb60"}),g.symbolInterface=new g("symbol-interface",{fontCharacter:"\\eb61"}),g.symbolKeyword=new g("symbol-keyword",{fontCharacter:"\\eb62"}),g.symbolMisc=new g("symbol-misc",{fontCharacter:"\\eb63"}),g.symbolOperator=new g("symbol-operator",{fontCharacter:"\\eb64"}),g.symbolProperty=new g("symbol-property",{fontCharacter:"\\eb65"}),g.wrench=new g("wrench",{fontCharacter:"\\eb65"}),g.wrenchSubaction=new g("wrench-subaction",{fontCharacter:"\\eb65"}),g.symbolSnippet=new g("symbol-snippet",{fontCharacter:"\\eb66"}),g.tasklist=new g("tasklist",{fontCharacter:"\\eb67"}),g.telescope=new g("telescope",{fontCharacter:"\\eb68"}),g.textSize=new g("text-size",{fontCharacter:"\\eb69"}),g.threeBars=new g("three-bars",{fontCharacter:"\\eb6a"}),g.thumbsdown=new g("thumbsdown",{fontCharacter:"\\eb6b"}),g.thumbsup=new g("thumbsup",{fontCharacter:"\\eb6c"}),g.tools=new g("tools",{fontCharacter:"\\eb6d"}),g.triangleDown=new g("triangle-down",{fontCharacter:"\\eb6e"}),g.triangleLeft=new g("triangle-left",{fontCharacter:"\\eb6f"}),g.triangleRight=new g("triangle-right",{fontCharacter:"\\eb70"}),g.triangleUp=new g("triangle-up",{fontCharacter:"\\eb71"}),g.twitter=new g("twitter",{fontCharacter:"\\eb72"}),g.unfold=new g("unfold",{fontCharacter:"\\eb73"}),g.unlock=new g("unlock",{fontCharacter:"\\eb74"}),g.unmute=new g("unmute",{fontCharacter:"\\eb75"}),g.unverified=new g("unverified",{fontCharacter:"\\eb76"}),g.verified=new g("verified",{fontCharacter:"\\eb77"}),g.versions=new g("versions",{fontCharacter:"\\eb78"}),g.vmActive=new g("vm-active",{fontCharacter:"\\eb79"}),g.vmOutline=new g("vm-outline",{fontCharacter:"\\eb7a"}),g.vmRunning=new g("vm-running",{fontCharacter:"\\eb7b"}),g.watch=new g("watch",{fontCharacter:"\\eb7c"}),g.whitespace=new g("whitespace",{fontCharacter:"\\eb7d"}),g.wholeWord=new g("whole-word",{fontCharacter:"\\eb7e"}),g.window=new g("window",{fontCharacter:"\\eb7f"}),g.wordWrap=new g("word-wrap",{fontCharacter:"\\eb80"}),g.zoomIn=new g("zoom-in",{fontCharacter:"\\eb81"}),g.zoomOut=new g("zoom-out",{fontCharacter:"\\eb82"}),g.listFilter=new g("list-filter",{fontCharacter:"\\eb83"}),g.listFlat=new g("list-flat",{fontCharacter:"\\eb84"}),g.listSelection=new g("list-selection",{fontCharacter:"\\eb85"}),g.selection=new g("selection",{fontCharacter:"\\eb85"}),g.listTree=new g("list-tree",{fontCharacter:"\\eb86"}),g.debugBreakpointFunctionUnverified=new g("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),g.debugBreakpointFunction=new g("debug-breakpoint-function",{fontCharacter:"\\eb88"}),g.debugBreakpointFunctionDisabled=new g("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),g.debugStackframeActive=new g("debug-stackframe-active",{fontCharacter:"\\eb89"}),g.debugStackframeDot=new g("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),g.debugStackframe=new g("debug-stackframe",{fontCharacter:"\\eb8b"}),g.debugStackframeFocused=new g("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),g.debugBreakpointUnsupported=new g("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),g.symbolString=new g("symbol-string",{fontCharacter:"\\eb8d"}),g.debugReverseContinue=new g("debug-reverse-continue",{fontCharacter:"\\eb8e"}),g.debugStepBack=new g("debug-step-back",{fontCharacter:"\\eb8f"}),g.debugRestartFrame=new g("debug-restart-frame",{fontCharacter:"\\eb90"}),g.callIncoming=new g("call-incoming",{fontCharacter:"\\eb92"}),g.callOutgoing=new g("call-outgoing",{fontCharacter:"\\eb93"}),g.menu=new g("menu",{fontCharacter:"\\eb94"}),g.expandAll=new g("expand-all",{fontCharacter:"\\eb95"}),g.feedback=new g("feedback",{fontCharacter:"\\eb96"}),g.groupByRefType=new g("group-by-ref-type",{fontCharacter:"\\eb97"}),g.ungroupByRefType=new g("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),g.account=new g("account",{fontCharacter:"\\eb99"}),g.bellDot=new g("bell-dot",{fontCharacter:"\\eb9a"}),g.debugConsole=new g("debug-console",{fontCharacter:"\\eb9b"}),g.library=new g("library",{fontCharacter:"\\eb9c"}),g.output=new g("output",{fontCharacter:"\\eb9d"}),g.runAll=new g("run-all",{fontCharacter:"\\eb9e"}),g.syncIgnored=new g("sync-ignored",{fontCharacter:"\\eb9f"}),g.pinned=new g("pinned",{fontCharacter:"\\eba0"}),g.githubInverted=new g("github-inverted",{fontCharacter:"\\eba1"}),g.debugAlt=new g("debug-alt",{fontCharacter:"\\eb91"}),g.serverProcess=new g("server-process",{fontCharacter:"\\eba2"}),g.serverEnvironment=new g("server-environment",{fontCharacter:"\\eba3"}),g.pass=new g("pass",{fontCharacter:"\\eba4"}),g.stopCircle=new g("stop-circle",{fontCharacter:"\\eba5"}),g.playCircle=new g("play-circle",{fontCharacter:"\\eba6"}),g.record=new g("record",{fontCharacter:"\\eba7"}),g.debugAltSmall=new g("debug-alt-small",{fontCharacter:"\\eba8"}),g.vmConnect=new g("vm-connect",{fontCharacter:"\\eba9"}),g.cloud=new g("cloud",{fontCharacter:"\\ebaa"}),g.merge=new g("merge",{fontCharacter:"\\ebab"}),g.exportIcon=new g("export",{fontCharacter:"\\ebac"}),g.graphLeft=new g("graph-left",{fontCharacter:"\\ebad"}),g.magnet=new g("magnet",{fontCharacter:"\\ebae"}),g.notebook=new g("notebook",{fontCharacter:"\\ebaf"}),g.redo=new g("redo",{fontCharacter:"\\ebb0"}),g.checkAll=new g("check-all",{fontCharacter:"\\ebb1"}),g.pinnedDirty=new g("pinned-dirty",{fontCharacter:"\\ebb2"}),g.passFilled=new g("pass-filled",{fontCharacter:"\\ebb3"}),g.circleLargeFilled=new g("circle-large-filled",{fontCharacter:"\\ebb4"}),g.circleLargeOutline=new g("circle-large-outline",{fontCharacter:"\\ebb5"}),g.combine=new g("combine",{fontCharacter:"\\ebb6"}),g.gather=new g("gather",{fontCharacter:"\\ebb6"}),g.table=new g("table",{fontCharacter:"\\ebb7"}),g.variableGroup=new g("variable-group",{fontCharacter:"\\ebb8"}),g.typeHierarchy=new g("type-hierarchy",{fontCharacter:"\\ebb9"}),g.typeHierarchySub=new g("type-hierarchy-sub",{fontCharacter:"\\ebba"}),g.typeHierarchySuper=new g("type-hierarchy-super",{fontCharacter:"\\ebbb"}),g.gitPullRequestCreate=new g("git-pull-request-create",{fontCharacter:"\\ebbc"}),g.runAbove=new g("run-above",{fontCharacter:"\\ebbd"}),g.runBelow=new g("run-below",{fontCharacter:"\\ebbe"}),g.notebookTemplate=new g("notebook-template",{fontCharacter:"\\ebbf"}),g.debugRerun=new g("debug-rerun",{fontCharacter:"\\ebc0"}),g.workspaceTrusted=new g("workspace-trusted",{fontCharacter:"\\ebc1"}),g.workspaceUntrusted=new g("workspace-untrusted",{fontCharacter:"\\ebc2"}),g.workspaceUnspecified=new g("workspace-unspecified",{fontCharacter:"\\ebc3"}),g.terminalCmd=new g("terminal-cmd",{fontCharacter:"\\ebc4"}),g.terminalDebian=new g("terminal-debian",{fontCharacter:"\\ebc5"}),g.terminalLinux=new g("terminal-linux",{fontCharacter:"\\ebc6"}),g.terminalPowershell=new g("terminal-powershell",{fontCharacter:"\\ebc7"}),g.terminalTmux=new g("terminal-tmux",{fontCharacter:"\\ebc8"}),g.terminalUbuntu=new g("terminal-ubuntu",{fontCharacter:"\\ebc9"}),g.terminalBash=new g("terminal-bash",{fontCharacter:"\\ebca"}),g.arrowSwap=new g("arrow-swap",{fontCharacter:"\\ebcb"}),g.copy=new g("copy",{fontCharacter:"\\ebcc"}),g.personAdd=new g("person-add",{fontCharacter:"\\ebcd"}),g.filterFilled=new g("filter-filled",{fontCharacter:"\\ebce"}),g.wand=new g("wand",{fontCharacter:"\\ebcf"}),g.debugLineByLine=new g("debug-line-by-line",{fontCharacter:"\\ebd0"}),g.inspect=new g("inspect",{fontCharacter:"\\ebd1"}),g.layers=new g("layers",{fontCharacter:"\\ebd2"}),g.layersDot=new g("layers-dot",{fontCharacter:"\\ebd3"}),g.layersActive=new g("layers-active",{fontCharacter:"\\ebd4"}),g.compass=new g("compass",{fontCharacter:"\\ebd5"}),g.compassDot=new g("compass-dot",{fontCharacter:"\\ebd6"}),g.compassActive=new g("compass-active",{fontCharacter:"\\ebd7"}),g.azure=new g("azure",{fontCharacter:"\\ebd8"}),g.issueDraft=new g("issue-draft",{fontCharacter:"\\ebd9"}),g.gitPullRequestClosed=new g("git-pull-request-closed",{fontCharacter:"\\ebda"}),g.gitPullRequestDraft=new g("git-pull-request-draft",{fontCharacter:"\\ebdb"}),g.debugAll=new g("debug-all",{fontCharacter:"\\ebdc"}),g.debugCoverage=new g("debug-coverage",{fontCharacter:"\\ebdd"}),g.runErrors=new g("run-errors",{fontCharacter:"\\ebde"}),g.folderLibrary=new g("folder-library",{fontCharacter:"\\ebdf"}),g.debugContinueSmall=new g("debug-continue-small",{fontCharacter:"\\ebe0"}),g.beakerStop=new g("beaker-stop",{fontCharacter:"\\ebe1"}),g.graphLine=new g("graph-line",{fontCharacter:"\\ebe2"}),g.graphScatter=new g("graph-scatter",{fontCharacter:"\\ebe3"}),g.pieChart=new g("pie-chart",{fontCharacter:"\\ebe4"}),g.bracket=new g("bracket",g.json.definition),g.bracketDot=new g("bracket-dot",{fontCharacter:"\\ebe5"}),g.bracketError=new g("bracket-error",{fontCharacter:"\\ebe6"}),g.lockSmall=new g("lock-small",{fontCharacter:"\\ebe7"}),g.azureDevops=new g("azure-devops",{fontCharacter:"\\ebe8"}),g.verifiedFilled=new g("verified-filled",{fontCharacter:"\\ebe9"}),g.newLine=new g("newline",{fontCharacter:"\\ebea"}),g.layout=new g("layout",{fontCharacter:"\\ebeb"}),g.layoutActivitybarLeft=new g("layout-activitybar-left",{fontCharacter:"\\ebec"}),g.layoutActivitybarRight=new g("layout-activitybar-right",{fontCharacter:"\\ebed"}),g.layoutPanelLeft=new g("layout-panel-left",{fontCharacter:"\\ebee"}),g.layoutPanelCenter=new g("layout-panel-center",{fontCharacter:"\\ebef"}),g.layoutPanelJustify=new g("layout-panel-justify",{fontCharacter:"\\ebf0"}),g.layoutPanelRight=new g("layout-panel-right",{fontCharacter:"\\ebf1"}),g.layoutPanel=new g("layout-panel",{fontCharacter:"\\ebf2"}),g.layoutSidebarLeft=new g("layout-sidebar-left",{fontCharacter:"\\ebf3"}),g.layoutSidebarRight=new g("layout-sidebar-right",{fontCharacter:"\\ebf4"}),g.layoutStatusbar=new g("layout-statusbar",{fontCharacter:"\\ebf5"}),g.layoutMenubar=new g("layout-menubar",{fontCharacter:"\\ebf6"}),g.layoutCentered=new g("layout-centered",{fontCharacter:"\\ebf7"}),g.target=new g("target",{fontCharacter:"\\ebf8"}),g.indent=new g("indent",{fontCharacter:"\\ebf9"}),g.recordSmall=new g("record-small",{fontCharacter:"\\ebfa"}),g.errorSmall=new g("error-small",{fontCharacter:"\\ebfb"}),g.arrowCircleDown=new g("arrow-circle-down",{fontCharacter:"\\ebfc"}),g.arrowCircleLeft=new g("arrow-circle-left",{fontCharacter:"\\ebfd"}),g.arrowCircleRight=new g("arrow-circle-right",{fontCharacter:"\\ebfe"}),g.arrowCircleUp=new g("arrow-circle-up",{fontCharacter:"\\ebff"}),g.dialogError=new g("dialog-error",g.error.definition),g.dialogWarning=new g("dialog-warning",g.warning.definition),g.dialogInfo=new g("dialog-info",g.info.definition),g.dialogClose=new g("dialog-close",g.close.definition),g.treeItemExpanded=new g("tree-item-expanded",g.chevronDown.definition),g.treeFilterOnTypeOn=new g("tree-filter-on-type-on",g.listFilter.definition),g.treeFilterOnTypeOff=new g("tree-filter-on-type-off",g.listSelection.definition),g.treeFilterClear=new g("tree-filter-clear",g.close.definition),g.treeItemLoading=new g("tree-item-loading",g.loading.definition),g.menuSelection=new g("menu-selection",g.check.definition),g.menuSubmenu=new g("menu-submenu",g.chevronRight.definition),g.menuBarMore=new g("menubar-more",g.more.definition),g.scrollbarButtonLeft=new g("scrollbar-button-left",g.triangleLeft.definition),g.scrollbarButtonRight=new g("scrollbar-button-right",g.triangleRight.definition),g.scrollbarButtonUp=new g("scrollbar-button-up",g.triangleUp.definition),g.scrollbarButtonDown=new g("scrollbar-button-down",g.triangleDown.definition),g.toolBarMore=new g("toolbar-more",g.more.definition),g.quickInputBack=new g("quick-input-back",g.arrowLeft.definition),function(B){B.iconNameSegment="[A-Za-z0-9]+",B.iconNameExpression="[A-Za-z0-9-]+",B.iconModifierExpression="~[A-Za-z]+",B.iconNameCharacter="[A-Za-z0-9~-]";const D=new RegExp(`^(${B.iconNameExpression})(${B.iconModifierExpression})?$`);function i(k){if(k instanceof g)return["codicon","codicon-"+k.id];const y=D.exec(k.id);if(!y)return i(g.error);let[,C,b]=y;const x=["codicon","codicon-"+C];return b&&x.push("codicon-modifier-"+b.substr(1)),x}B.asClassNameArray=i,B.asClassName=function(k){return i(k).join(" ")},B.asCSSSelector=function(k){return"."+i(k).join(".")}}(Y||(Y={}))},81530:(Fe,Ne,m)=>{m.d(Ne,{E:()=>g,r:()=>Y});const E=Object.prototype.hasOwnProperty;function g(B,D){for(let i in B)if(E.call(B,i)&&!1===D({key:i,value:B[i]},function(){delete B[i]}))return}class Y{constructor(){this.map=new Map}add(D,i){let O=this.map.get(D);O||(O=new Set,this.map.set(D,O)),O.add(i)}delete(D,i){const O=this.map.get(D);!O||(O.delete(i),0===O.size&&this.map.delete(D))}forEach(D,i){const O=this.map.get(D);!O||O.forEach(i)}}},81897:(Fe,Ne,m)=>{function E(i,O){const F=Math.pow(10,O);return Math.round(i*F)/F}m.d(Ne,{VS:()=>g,tx:()=>B,Il:()=>D});class g{constructor(O,F,k,y=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,O)),this.g=0|Math.min(255,Math.max(0,F)),this.b=0|Math.min(255,Math.max(0,k)),this.a=E(Math.max(Math.min(1,y),0),3)}static equals(O,F){return O.r===F.r&&O.g===F.g&&O.b===F.b&&O.a===F.a}}class Y{constructor(O,F,k,y){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,O),0),this.s=E(Math.max(Math.min(1,F),0),3),this.l=E(Math.max(Math.min(1,k),0),3),this.a=E(Math.max(Math.min(1,y),0),3)}static equals(O,F){return O.h===F.h&&O.s===F.s&&O.l===F.l&&O.a===F.a}static fromRGBA(O){const F=O.r/255,k=O.g/255,y=O.b/255,C=O.a,b=Math.max(F,k,y),x=Math.min(F,k,y);let f=0,M=0;const H=(x+b)/2,L=b-x;if(L>0){switch(M=Math.min(H<=.5?L/(2*H):L/(2-2*H),1),b){case F:f=(k-y)/L+(k<y?6:0);break;case k:f=(y-F)/L+2;break;case y:f=(F-k)/L+4}f*=60,f=Math.round(f)}return new Y(f,M,H,C)}static _hue2rgb(O,F,k){return k<0&&(k+=1),k>1&&(k-=1),k<1/6?O+6*(F-O)*k:k<.5?F:k<2/3?O+(F-O)*(2/3-k)*6:O}static toRGBA(O){const F=O.h/360,{s:k,l:y,a:C}=O;let b,x,f;if(0===k)b=x=f=y;else{const M=y<.5?y*(1+k):y+k-y*k,H=2*y-M;b=Y._hue2rgb(H,M,F+1/3),x=Y._hue2rgb(H,M,F),f=Y._hue2rgb(H,M,F-1/3)}return new g(Math.round(255*b),Math.round(255*x),Math.round(255*f),C)}}class B{constructor(O,F,k,y){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,O),0),this.s=E(Math.max(Math.min(1,F),0),3),this.v=E(Math.max(Math.min(1,k),0),3),this.a=E(Math.max(Math.min(1,y),0),3)}static equals(O,F){return O.h===F.h&&O.s===F.s&&O.v===F.v&&O.a===F.a}static fromRGBA(O){const F=O.r/255,k=O.g/255,y=O.b/255,C=Math.max(F,k,y),x=C-Math.min(F,k,y),f=0===C?0:x/C;let M;return M=0===x?0:C===F?((k-y)/x%6+6)%6:C===k?(y-F)/x+2:(F-k)/x+4,new B(Math.round(60*M),f,C,O.a)}static toRGBA(O){const{h:F,s:k,v:y,a:C}=O,b=y*k,x=b*(1-Math.abs(F/60%2-1)),f=y-b;let[M,H,L]=[0,0,0];return F<60?(M=b,H=x):F<120?(M=x,H=b):F<180?(H=b,L=x):F<240?(H=x,L=b):F<300?(M=x,L=b):F<=360&&(M=b,L=x),M=Math.round(255*(M+f)),H=Math.round(255*(H+f)),L=Math.round(255*(L+f)),new g(M,H,L,C)}}class D{constructor(O){if(!O)throw new Error("Color needs a value");if(O instanceof g)this.rgba=O;else if(O instanceof Y)this._hsla=O,this.rgba=Y.toRGBA(O);else{if(!(O instanceof B))throw new Error("Invalid color ctor argument");this._hsva=O,this.rgba=B.toRGBA(O)}}static fromHex(O){return D.Format.CSS.parseHex(O)||D.red}get hsla(){return this._hsla?this._hsla:Y.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:B.fromRGBA(this.rgba)}equals(O){return!!O&&g.equals(this.rgba,O.rgba)&&Y.equals(this.hsla,O.hsla)&&B.equals(this.hsva,O.hsva)}getRelativeLuminance(){return E(.2126*D._relativeLuminanceForComponent(this.rgba.r)+.7152*D._relativeLuminanceForComponent(this.rgba.g)+.0722*D._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(O){const F=O/255;return F<=.03928?F/12.92:Math.pow((F+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(O){return this.getRelativeLuminance()>O.getRelativeLuminance()}isDarkerThan(O){return this.getRelativeLuminance()<O.getRelativeLuminance()}lighten(O){return new D(new Y(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*O,this.hsla.a))}darken(O){return new D(new Y(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*O,this.hsla.a))}transparent(O){const{r:F,g:k,b:y,a:C}=this.rgba;return new D(new g(F,k,y,C*O))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new D(new g(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=D.Format.CSS.format(this)),this._toString}static getLighterColor(O,F,k){if(O.isLighterThan(F))return O;k=k||.5;const y=O.getRelativeLuminance(),C=F.getRelativeLuminance();return O.lighten(k=k*(C-y)/C)}static getDarkerColor(O,F,k){if(O.isDarkerThan(F))return O;k=k||.5;const y=O.getRelativeLuminance(),C=F.getRelativeLuminance();return O.darken(k=k*(y-C)/y)}}D.white=new D(new g(255,255,255,1)),D.black=new D(new g(0,0,0,1)),D.red=new D(new g(255,0,0,1)),D.blue=new D(new g(0,0,255,1)),D.green=new D(new g(0,255,0,1)),D.cyan=new D(new g(0,255,255,1)),D.lightgrey=new D(new g(211,211,211,1)),D.transparent=new D(new g(0,0,0,0)),function(i){let O;!function(F){let k;!function(y){function M(I){const $=I.toString(16);return 2!==$.length?"0"+$:$}function P(I){switch(I){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}y.formatRGB=function(I){return 1===I.rgba.a?`rgb(${I.rgba.r}, ${I.rgba.g}, ${I.rgba.b})`:i.Format.CSS.formatRGBA(I)},y.formatRGBA=function(I){return`rgba(${I.rgba.r}, ${I.rgba.g}, ${I.rgba.b}, ${+I.rgba.a.toFixed(2)})`},y.formatHSL=function(I){return 1===I.hsla.a?`hsl(${I.hsla.h}, ${(100*I.hsla.s).toFixed(2)}%, ${(100*I.hsla.l).toFixed(2)}%)`:i.Format.CSS.formatHSLA(I)},y.formatHSLA=function(I){return`hsla(${I.hsla.h}, ${(100*I.hsla.s).toFixed(2)}%, ${(100*I.hsla.l).toFixed(2)}%, ${I.hsla.a.toFixed(2)})`},y.formatHex=function(I){return`#${M(I.rgba.r)}${M(I.rgba.g)}${M(I.rgba.b)}`},y.formatHexA=function(I,$=!1){return $&&1===I.rgba.a?i.Format.CSS.formatHex(I):`#${M(I.rgba.r)}${M(I.rgba.g)}${M(I.rgba.b)}${M(Math.round(255*I.rgba.a))}`},y.format=function(I){return I.isOpaque()?i.Format.CSS.formatHex(I):i.Format.CSS.formatRGBA(I)},y.parseHex=function(I){const $=I.length;if(0===$||35!==I.charCodeAt(0))return null;if(7===$){const U=16*P(I.charCodeAt(1))+P(I.charCodeAt(2)),G=16*P(I.charCodeAt(3))+P(I.charCodeAt(4)),oe=16*P(I.charCodeAt(5))+P(I.charCodeAt(6));return new i(new g(U,G,oe,1))}if(9===$){const U=16*P(I.charCodeAt(1))+P(I.charCodeAt(2)),G=16*P(I.charCodeAt(3))+P(I.charCodeAt(4)),oe=16*P(I.charCodeAt(5))+P(I.charCodeAt(6)),de=16*P(I.charCodeAt(7))+P(I.charCodeAt(8));return new i(new g(U,G,oe,de/255))}if(4===$){const U=P(I.charCodeAt(1)),G=P(I.charCodeAt(2)),oe=P(I.charCodeAt(3));return new i(new g(16*U+U,16*G+G,16*oe+oe))}if(5===$){const U=P(I.charCodeAt(1)),G=P(I.charCodeAt(2)),oe=P(I.charCodeAt(3)),de=P(I.charCodeAt(4));return new i(new g(16*U+U,16*G+G,16*oe+oe,(16*de+de)/255))}return null}}(k=F.CSS||(F.CSS={}))}(O=i.Format||(i.Format={}))}(D||(D={}))},94456:(Fe,Ne,m)=>{function E(g,Y,B){let D=null,i=null;if("function"==typeof B.value?(D="value",i=B.value,0!==i.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof B.get&&(D="get",i=B.get),!i)throw new Error("not supported");const O=`$memoize$${Y}`;B[D]=function(...F){return this.hasOwnProperty(O)||Object.defineProperty(this,O,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,F)}),this[O]}}m.d(Ne,{H:()=>E})},87481:(Fe,Ne,m)=>{m.d(Ne,{Hs:()=>F,a$:()=>B});class E{constructor(y,C,b,x){this.originalStart=y,this.originalLength=C,this.modifiedStart=b,this.modifiedLength=x}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var g=m(11791);class Y{constructor(y){this.source=y}getElements(){const y=this.source,C=new Int32Array(y.length);for(let b=0,x=y.length;b<x;b++)C[b]=y.charCodeAt(b);return C}}function B(k,y,C){return new F(new Y(k),new Y(y)).ComputeDiff(C).changes}class D{static Assert(y,C){if(!y)throw new Error(C)}}class i{static Copy(y,C,b,x,f){for(let M=0;M<f;M++)b[x+M]=y[C+M]}static Copy2(y,C,b,x,f){for(let M=0;M<f;M++)b[x+M]=y[C+M]}}class O{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new E(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(y,C){this.m_originalStart=Math.min(this.m_originalStart,y),this.m_modifiedStart=Math.min(this.m_modifiedStart,C),this.m_originalCount++}AddModifiedElement(y,C){this.m_originalStart=Math.min(this.m_originalStart,y),this.m_modifiedStart=Math.min(this.m_modifiedStart,C),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class F{constructor(y,C,b=null){this.ContinueProcessingPredicate=b,this._originalSequence=y,this._modifiedSequence=C;const[x,f,M]=F._getElements(y),[H,L,N]=F._getElements(C);this._hasStrings=M&&N,this._originalStringElements=x,this._originalElementsOrHash=f,this._modifiedStringElements=H,this._modifiedElementsOrHash=L,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(y){return y.length>0&&"string"==typeof y[0]}static _getElements(y){const C=y.getElements();if(F._isStringArray(C)){const b=new Int32Array(C.length);for(let x=0,f=C.length;x<f;x++)b[x]=(0,g.Cv)(C[x],0);return[C,b,!0]}return C instanceof Int32Array?[[],C,!1]:[[],new Int32Array(C),!1]}ElementsAreEqual(y,C){return this._originalElementsOrHash[y]===this._modifiedElementsOrHash[C]&&(!this._hasStrings||this._originalStringElements[y]===this._modifiedStringElements[C])}ElementsAreStrictEqual(y,C){return!!this.ElementsAreEqual(y,C)&&F._getStrictElement(this._originalSequence,y)===F._getStrictElement(this._modifiedSequence,C)}static _getStrictElement(y,C){return"function"==typeof y.getStrictElement?y.getStrictElement(C):null}OriginalElementsAreEqual(y,C){return this._originalElementsOrHash[y]===this._originalElementsOrHash[C]&&(!this._hasStrings||this._originalStringElements[y]===this._originalStringElements[C])}ModifiedElementsAreEqual(y,C){return this._modifiedElementsOrHash[y]===this._modifiedElementsOrHash[C]&&(!this._hasStrings||this._modifiedStringElements[y]===this._modifiedStringElements[C])}ComputeDiff(y){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,y)}_ComputeDiff(y,C,b,x,f){const M=[!1];let H=this.ComputeDiffRecursive(y,C,b,x,M);return f&&(H=this.PrettifyChanges(H)),{quitEarly:M[0],changes:H}}ComputeDiffRecursive(y,C,b,x,f){for(f[0]=!1;y<=C&&b<=x&&this.ElementsAreEqual(y,b);)y++,b++;for(;C>=y&&x>=b&&this.ElementsAreEqual(C,x);)C--,x--;if(y>C||b>x){let P;return b<=x?(D.Assert(y===C+1,"originalStart should only be one more than originalEnd"),P=[new E(y,0,b,x-b+1)]):y<=C?(D.Assert(b===x+1,"modifiedStart should only be one more than modifiedEnd"),P=[new E(y,C-y+1,b,0)]):(D.Assert(y===C+1,"originalStart should only be one more than originalEnd"),D.Assert(b===x+1,"modifiedStart should only be one more than modifiedEnd"),P=[]),P}const M=[0],H=[0],L=this.ComputeRecursionPoint(y,C,b,x,M,H,f),N=M[0],Z=H[0];if(null!==L)return L;if(!f[0]){const P=this.ComputeDiffRecursive(y,N,b,Z,f);let I=[];return I=f[0]?[new E(N+1,C-(N+1)+1,Z+1,x-(Z+1)+1)]:this.ComputeDiffRecursive(N+1,C,Z+1,x,f),this.ConcatenateChanges(P,I)}return[new E(y,C-y+1,b,x-b+1)]}WALKTRACE(y,C,b,x,f,M,H,L,N,Z,P,I,$,U,G,oe,de,fe){let _e=null,we=null,me=new O,Q=C,q=b,le=$[0]-oe[0]-x,ee=-1073741824,J=this.m_forwardHistory.length-1;do{const re=le+y;re===Q||re<q&&N[re-1]<N[re+1]?(U=(P=N[re+1])-le-x,P<ee&&me.MarkNextChange(),ee=P,me.AddModifiedElement(P+1,U),le=re+1-y):(U=(P=N[re-1]+1)-le-x,P<ee&&me.MarkNextChange(),ee=P-1,me.AddOriginalElement(P,U+1),le=re-1-y),J>=0&&(y=(N=this.m_forwardHistory[J])[0],Q=1,q=N.length-1)}while(--J>=-1);if(_e=me.getReverseChanges(),fe[0]){let re=$[0]+1,ce=oe[0]+1;if(null!==_e&&_e.length>0){const ve=_e[_e.length-1];re=Math.max(re,ve.getOriginalEnd()),ce=Math.max(ce,ve.getModifiedEnd())}we=[new E(re,I-re+1,ce,G-ce+1)]}else{me=new O,Q=M,q=H,le=$[0]-oe[0]-L,ee=1073741824,J=de?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const re=le+f;re===Q||re<q&&Z[re-1]>=Z[re+1]?(U=(P=Z[re+1]-1)-le-L,P>ee&&me.MarkNextChange(),ee=P+1,me.AddOriginalElement(P+1,U+1),le=re+1-f):(U=(P=Z[re-1])-le-L,P>ee&&me.MarkNextChange(),ee=P,me.AddModifiedElement(P+1,U+1),le=re-1-f),J>=0&&(f=(Z=this.m_reverseHistory[J])[0],Q=1,q=Z.length-1)}while(--J>=-1);we=me.getChanges()}return this.ConcatenateChanges(_e,we)}ComputeRecursionPoint(y,C,b,x,f,M,H){let L=0,N=0,Z=0,P=0,I=0,$=0;y--,b--,f[0]=0,M[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const U=C-y+(x-b),G=U+1,oe=new Int32Array(G),de=new Int32Array(G),fe=x-b,_e=C-y,we=y-b,me=C-x,q=(_e-fe)%2==0;oe[fe]=y,de[_e]=C,H[0]=!1;for(let le=1;le<=U/2+1;le++){let ee=0,J=0;Z=this.ClipDiagonalBound(fe-le,le,fe,G),P=this.ClipDiagonalBound(fe+le,le,fe,G);for(let ce=Z;ce<=P;ce+=2){L=ce===Z||ce<P&&oe[ce-1]<oe[ce+1]?oe[ce+1]:oe[ce-1]+1,N=L-(ce-fe)-we;const ve=L;for(;L<C&&N<x&&this.ElementsAreEqual(L+1,N+1);)L++,N++;if(oe[ce]=L,L+N>ee+J&&(ee=L,J=N),!q&&Math.abs(ce-_e)<=le-1&&L>=de[ce])return f[0]=L,M[0]=N,ve<=de[ce]&&le<=1448?this.WALKTRACE(fe,Z,P,we,_e,I,$,me,oe,de,L,C,f,N,x,M,q,H):null}const re=(ee-y+(J-b)-le)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(ee,re))return H[0]=!0,f[0]=ee,M[0]=J,re>0&&le<=1448?this.WALKTRACE(fe,Z,P,we,_e,I,$,me,oe,de,L,C,f,N,x,M,q,H):(y++,b++,[new E(y,C-y+1,b,x-b+1)]);I=this.ClipDiagonalBound(_e-le,le,_e,G),$=this.ClipDiagonalBound(_e+le,le,_e,G);for(let ce=I;ce<=$;ce+=2){L=ce===I||ce<$&&de[ce-1]>=de[ce+1]?de[ce+1]-1:de[ce-1],N=L-(ce-_e)-me;const ve=L;for(;L>y&&N>b&&this.ElementsAreEqual(L,N);)L--,N--;if(de[ce]=L,q&&Math.abs(ce-fe)<=le&&L<=oe[ce])return f[0]=L,M[0]=N,ve>=oe[ce]&&le<=1448?this.WALKTRACE(fe,Z,P,we,_e,I,$,me,oe,de,L,C,f,N,x,M,q,H):null}if(le<=1447){let ce=new Int32Array(P-Z+2);ce[0]=fe-Z+1,i.Copy2(oe,Z,ce,1,P-Z+1),this.m_forwardHistory.push(ce),ce=new Int32Array($-I+2),ce[0]=_e-I+1,i.Copy2(de,I,ce,1,$-I+1),this.m_reverseHistory.push(ce)}}return this.WALKTRACE(fe,Z,P,we,_e,I,$,me,oe,de,L,C,f,N,x,M,q,H)}PrettifyChanges(y){for(let C=0;C<y.length;C++){const b=y[C],x=C<y.length-1?y[C+1].originalStart:this._originalElementsOrHash.length,f=C<y.length-1?y[C+1].modifiedStart:this._modifiedElementsOrHash.length,M=b.originalLength>0,H=b.modifiedLength>0;for(;b.originalStart+b.originalLength<x&&b.modifiedStart+b.modifiedLength<f&&(!M||this.OriginalElementsAreEqual(b.originalStart,b.originalStart+b.originalLength))&&(!H||this.ModifiedElementsAreEqual(b.modifiedStart,b.modifiedStart+b.modifiedLength));){const N=this.ElementsAreStrictEqual(b.originalStart,b.modifiedStart);if(this.ElementsAreStrictEqual(b.originalStart+b.originalLength,b.modifiedStart+b.modifiedLength)&&!N)break;b.originalStart++,b.modifiedStart++}let L=[null];C<y.length-1&&this.ChangesOverlap(y[C],y[C+1],L)&&(y[C]=L[0],y.splice(C+1,1),C--)}for(let C=y.length-1;C>=0;C--){const b=y[C];let x=0,f=0;if(C>0){const P=y[C-1];x=P.originalStart+P.originalLength,f=P.modifiedStart+P.modifiedLength}const M=b.originalLength>0,H=b.modifiedLength>0;let L=0,N=this._boundaryScore(b.originalStart,b.originalLength,b.modifiedStart,b.modifiedLength);for(let P=1;;P++){const I=b.originalStart-P,$=b.modifiedStart-P;if(I<x||$<f||M&&!this.OriginalElementsAreEqual(I,I+b.originalLength)||H&&!this.ModifiedElementsAreEqual($,$+b.modifiedLength))break;const G=(I===x&&$===f?5:0)+this._boundaryScore(I,b.originalLength,$,b.modifiedLength);G>N&&(N=G,L=P)}b.originalStart-=L,b.modifiedStart-=L;const Z=[null];C>0&&this.ChangesOverlap(y[C-1],y[C],Z)&&(y[C-1]=Z[0],y.splice(C,1),C++)}if(this._hasStrings)for(let C=1,b=y.length;C<b;C++){const x=y[C-1],f=y[C],M=f.originalStart-x.originalStart-x.originalLength,H=x.originalStart,L=f.originalStart+f.originalLength,N=L-H,Z=x.modifiedStart,P=f.modifiedStart+f.modifiedLength,I=P-Z;if(M<5&&N<20&&I<20){const $=this._findBetterContiguousSequence(H,N,Z,I,M);if($){const[U,G]=$;(U!==x.originalStart+x.originalLength||G!==x.modifiedStart+x.modifiedLength)&&(x.originalLength=U-x.originalStart,x.modifiedLength=G-x.modifiedStart,f.originalStart=U+M,f.modifiedStart=G+M,f.originalLength=L-f.originalStart,f.modifiedLength=P-f.modifiedStart)}}}return y}_findBetterContiguousSequence(y,C,b,x,f){if(C<f||x<f)return null;const M=y+C-f+1,H=b+x-f+1;let L=0,N=0,Z=0;for(let P=y;P<M;P++)for(let I=b;I<H;I++){const $=this._contiguousSequenceScore(P,I,f);$>0&&$>L&&(L=$,N=P,Z=I)}return L>0?[N,Z]:null}_contiguousSequenceScore(y,C,b){let x=0;for(let f=0;f<b;f++){if(!this.ElementsAreEqual(y+f,C+f))return 0;x+=this._originalStringElements[y+f].length}return x}_OriginalIsBoundary(y){return y<=0||y>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[y])}_OriginalRegionIsBoundary(y,C){if(this._OriginalIsBoundary(y)||this._OriginalIsBoundary(y-1))return!0;if(C>0){const b=y+C;if(this._OriginalIsBoundary(b-1)||this._OriginalIsBoundary(b))return!0}return!1}_ModifiedIsBoundary(y){return y<=0||y>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[y])}_ModifiedRegionIsBoundary(y,C){if(this._ModifiedIsBoundary(y)||this._ModifiedIsBoundary(y-1))return!0;if(C>0){const b=y+C;if(this._ModifiedIsBoundary(b-1)||this._ModifiedIsBoundary(b))return!0}return!1}_boundaryScore(y,C,b,x){return(this._OriginalRegionIsBoundary(y,C)?1:0)+(this._ModifiedRegionIsBoundary(b,x)?1:0)}ConcatenateChanges(y,C){let b=[];if(0===y.length||0===C.length)return C.length>0?C:y;if(this.ChangesOverlap(y[y.length-1],C[0],b)){const x=new Array(y.length+C.length-1);return i.Copy(y,0,x,0,y.length-1),x[y.length-1]=b[0],i.Copy(C,1,x,y.length,C.length-1),x}{const x=new Array(y.length+C.length);return i.Copy(y,0,x,0,y.length),i.Copy(C,0,x,y.length,C.length),x}}ChangesOverlap(y,C,b){if(D.Assert(y.originalStart<=C.originalStart,"Left change is not less than or equal to right change"),D.Assert(y.modifiedStart<=C.modifiedStart,"Left change is not less than or equal to right change"),y.originalStart+y.originalLength>=C.originalStart||y.modifiedStart+y.modifiedLength>=C.modifiedStart){let f=y.originalLength,H=y.modifiedLength;return y.originalStart+y.originalLength>=C.originalStart&&(f=C.originalStart+C.originalLength-y.originalStart),y.modifiedStart+y.modifiedLength>=C.modifiedStart&&(H=C.modifiedStart+C.modifiedLength-y.modifiedStart),b[0]=new E(y.originalStart,f,y.modifiedStart,H),!0}return b[0]=null,!1}ClipDiagonalBound(y,C,b,x){if(y>=0&&y<x)return y;const H=C%2==0;return y<0?H===(b%2==0)?0:1:H===((x-b-1)%2==0)?x-1:x-2}}},13226:(Fe,Ne,m)=>{m.d(Ne,{dL:()=>Y,Cp:()=>B,ri:()=>D,n2:()=>O,FU:()=>F,F0:()=>k,b1:()=>y,L6:()=>C,B8:()=>b});const g=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(f){setTimeout(()=>{throw f.stack?new Error(f.message+"\n\n"+f.stack):f},0)}}emit(f){this.listeners.forEach(M=>{M(f)})}onUnexpectedError(f){this.unexpectedErrorHandler(f),this.emit(f)}onUnexpectedExternalError(f){this.unexpectedErrorHandler(f)}};function Y(x){O(x)||g.onUnexpectedError(x)}function B(x){O(x)||g.onUnexpectedExternalError(x)}function D(x){if(x instanceof Error){let{name:f,message:M}=x;return{$isError:!0,name:f,message:M,stack:x.stacktrace||x.stack}}return x}const i="Canceled";function O(x){return x instanceof F||x instanceof Error&&x.name===i&&x.message===i}class F extends Error{constructor(){super(i),this.name=this.message}}function k(){const x=new Error(i);return x.name=x.message,x}function y(x){return x?new Error(`Illegal argument: ${x}`):new Error("Illegal argument")}function C(x){return x?new Error(`Illegal state: ${x}`):new Error("Illegal state")}class b extends Error{constructor(f){super("NotSupported"),f&&(this.message=f)}}},71040:(Fe,Ne,m)=>{m.d(Ne,{ju:()=>O,Q5:()=>x,K3:()=>f,D0:()=>M,E7:()=>H,ZD:()=>L});var O,E=m(13226),g=m(40189),Y=m(62253),B=m(39932);!function(N){function P(ke){return(We,je=null,ue)=>{let Ae,Ce=!1;return Ae=ke(et=>{if(!Ce)return Ae?Ae.dispose():Ce=!0,We.call(je,et)},null,ue),Ce&&Ae.dispose(),Ae}}function I(ke,We,je){return fe((ue,Ce=null,Ae)=>ke(et=>ue.call(Ce,We(et)),null,Ae),je)}function $(ke,We,je){return fe((ue,Ce=null,Ae)=>ke(et=>{We(et),ue.call(Ce,et)},null,Ae),je)}function U(ke,We,je){return fe((ue,Ce=null,Ae)=>ke(et=>We(et)&&ue.call(Ce,et),null,Ae),je)}function de(ke,We,je,ue){let Ce=je;return I(ke,Ae=>(Ce=We(Ce,Ae),Ce),ue)}function fe(ke,We){let je;const Ce=new x({onFirstListenerAdd(){je=ke(Ce.fire,Ce)},onLastListenerRemove(){je.dispose()}});return We&&We.add(Ce),Ce.event}function _e(ke,We,je=100,ue=!1,Ce,Ae){let et,$e,Te,rt=0;const nt=new x({leakWarningThreshold:Ce,onFirstListenerAdd(){et=ke(xe=>{rt++,$e=We($e,xe),ue&&!Te&&(nt.fire($e),$e=void 0),clearTimeout(Te),Te=setTimeout(()=>{const Ie=$e;$e=void 0,Te=void 0,(!ue||rt>1)&&nt.fire(Ie),rt=0},je)})},onLastListenerRemove(){et.dispose()}});return Ae&&Ae.add(nt),nt.event}function we(ke,We=((ue,Ce)=>ue===Ce),je){let Ce,ue=!0;return U(ke,Ae=>{const et=ue||!We(Ae,Ce);return ue=!1,Ce=Ae,et},je)}N.None=()=>g.JT.None,N.once=P,N.map=I,N.forEach=$,N.filter=U,N.signal=function(ke){return ke},N.any=function(...ke){return(We,je=null,ue)=>(0,g.F8)(...ke.map(Ce=>Ce(Ae=>We.call(je,Ae),null,ue)))},N.reduce=de,N.debounce=_e,N.latch=we,N.split=function(ke,We,je){return[N.filter(ke,We,je),N.filter(ke,ue=>!We(ue),je)]},N.buffer=function(ke,We=!1,je=[]){let ue=je.slice(),Ce=ke($e=>{ue?ue.push($e):et.fire($e)});const Ae=()=>{ue&&ue.forEach($e=>et.fire($e)),ue=null},et=new x({onFirstListenerAdd(){Ce||(Ce=ke($e=>et.fire($e)))},onFirstListenerDidAdd(){ue&&(We?setTimeout(Ae):Ae())},onLastListenerRemove(){Ce&&Ce.dispose(),Ce=null}});return et.event};class q{constructor(We){this.event=We}map(We){return new q(I(this.event,We))}forEach(We){return new q($(this.event,We))}filter(We){return new q(U(this.event,We))}reduce(We,je){return new q(de(this.event,We,je))}latch(){return new q(we(this.event))}debounce(We,je=100,ue=!1,Ce){return new q(_e(this.event,We,je,ue,Ce))}on(We,je,ue){return this.event(We,je,ue)}once(We,je,ue){return P(this.event)(We,je,ue)}}N.chain=function(ke){return new q(ke)},N.fromNodeEventEmitter=function(ke,We,je=(ue=>ue)){const ue=(...$e)=>et.fire(je(...$e)),et=new x({onFirstListenerAdd:()=>ke.on(We,ue),onLastListenerRemove:()=>ke.removeListener(We,ue)});return et.event},N.fromDOMEventEmitter=function(ke,We,je=(ue=>ue)){const ue=(...$e)=>et.fire(je(...$e)),et=new x({onFirstListenerAdd:()=>ke.addEventListener(We,ue),onLastListenerRemove:()=>ke.removeEventListener(We,ue)});return et.event},N.toPromise=function(ke){return new Promise(We=>P(ke)(We))},N.runAndSubscribe=function(ke,We){return We(void 0),ke(je=>We(je))},N.runAndSubscribeWithStore=function(ke,We){let je=null;function ue(Ae){null==je||je.dispose(),je=new g.SL,We(Ae,je)}ue(void 0);const Ce=ke(Ae=>ue(Ae));return(0,g.OF)(()=>{Ce.dispose(),null==je||je.dispose()})}}(O||(O={}));let F=(()=>{class N{constructor(P){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${P}_${N._idPool++}`}start(P){this._stopWatch=new B.G(!0),this._listenerCount=P}stop(){if(this._stopWatch){const P=this._stopWatch.elapsed();this._elapsedOverall+=P,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${P.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return N._idPool=0,N})();class C{constructor(Z){this.value=Z}static create(){var Z;return new C(null!==(Z=(new Error).stack)&&void 0!==Z?Z:"")}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class b{constructor(Z,P,I){this.callback=Z,this.callbackThis=P,this.stack=I,this.subscription=new g.dt}invoke(Z){this.callback.call(this.callbackThis,Z)}}class x{constructor(Z){var P;this._disposed=!1,this._options=Z,this._leakageMon=void 0,this._perfMon=(null===(P=this._options)||void 0===P?void 0:P._profName)?new F(this._options._profName):void 0}dispose(){var Z,P,I,$;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),null===(Z=this._deliveryQueue)||void 0===Z||Z.clear(),null===(I=null===(P=this._options)||void 0===P?void 0:P.onLastListenerRemove)||void 0===I||I.call(P),null===($=this._leakageMon)||void 0===$||$.dispose())}get event(){return this._event||(this._event=(Z,P,I)=>{var $,U,G;this._listeners||(this._listeners=new Y.S);const oe=this._listeners.isEmpty();let de,fe;oe&&(null===($=this._options)||void 0===$?void 0:$.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this),this._leakageMon&&this._listeners.size>=30&&(fe=C.create(),de=this._leakageMon.check(fe,this._listeners.size+1));const _e=new b(Z,P,fe),we=this._listeners.push(_e);oe&&(null===(U=this._options)||void 0===U?void 0:U.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),(null===(G=this._options)||void 0===G?void 0:G.onListenerDidAdd)&&this._options.onListenerDidAdd(this,Z,P);const me=_e.subscription.set(()=>{de&&de(),this._disposed||(we(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return I instanceof g.SL?I.add(me):Array.isArray(I)&&I.push(me),me}),this._event}fire(Z){var P,I;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Y.S);for(let $ of this._listeners)this._deliveryQueue.push([$,Z]);for(null===(P=this._perfMon)||void 0===P||P.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[$,U]=this._deliveryQueue.shift();try{$.invoke(U)}catch(G){(0,E.dL)(G)}}null===(I=this._perfMon)||void 0===I||I.stop()}}}class f extends x{constructor(Z){super(Z),this._isPaused=0,this._eventQueue=new Y.S,this._mergeFn=null==Z?void 0:Z.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const Z=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(Z))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(Z){this._listeners&&(0!==this._isPaused?this._eventQueue.push(Z):super.fire(Z))}}class M extends f{constructor(Z){var P;super(Z),this._delay=null!==(P=Z.delay)&&void 0!==P?P:100}fire(Z){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(Z)}}class H{constructor(){this.buffers=[]}wrapEvent(Z){return(P,I,$)=>Z(U=>{const G=this.buffers[this.buffers.length-1];G?G.push(()=>P.call(I,U)):P.call(I,U)},void 0,$)}bufferEvents(Z){const P=[];this.buffers.push(P);const I=Z();return this.buffers.pop(),P.forEach($=>$()),I}}class L{constructor(){this.listening=!1,this.inputEvent=O.None,this.inputEventListener=g.JT.None,this.emitter=new x({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(Z){this.inputEvent=Z,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=Z(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},46359:(Fe,Ne,m)=>{m.d(Ne,{ej:()=>D,fn:()=>i,yj:()=>O,KM:()=>F,vY:()=>y,oP:()=>C});var E=m(84491),g=m(70700),Y=m(74243);function B(b){return 47===b||92===b}function D(b){return b.replace(/[\\/]/g,E.KR.sep)}function i(b){return-1===b.indexOf("/")&&(b=D(b)),/^[a-zA-Z]:(\/|$)/.test(b)&&(b="/"+b),b}function O(b,x=E.KR.sep){if(!b)return"";const f=b.length,M=b.charCodeAt(0);if(B(M)){if(B(b.charCodeAt(1))&&!B(b.charCodeAt(2))){let L=3;const N=L;for(;L<f&&!B(b.charCodeAt(L));L++);if(N!==L&&!B(b.charCodeAt(L+1)))for(L+=1;L<f;L++)if(B(b.charCodeAt(L)))return b.slice(0,L+1).replace(/[\\/]/g,x)}return x}if(k(M)&&58===b.charCodeAt(1))return B(b.charCodeAt(2))?b.slice(0,2)+x:b.slice(0,2);let H=b.indexOf("://");if(-1!==H)for(H+=3;H<f;H++)if(B(b.charCodeAt(H)))return b.slice(0,H+1);return""}function F(b,x,f,M=E.ir){if(b===x)return!0;if(!b||!x||x.length>b.length)return!1;if(f){if(!(0,Y.ok)(b,x))return!1;if(x.length===b.length)return!0;let L=x.length;return x.charAt(x.length-1)===M&&L--,b.charAt(L)===M}return x.charAt(x.length-1)!==M&&(x+=M),0===b.indexOf(x)}function k(b){return b>=65&&b<=90||b>=97&&b<=122}function y(b){const x=(0,E.Fv)(b);return g.ED?!(b.length>3)&&C(x)&&(2===b.length||92===x.charCodeAt(2)):x===E.KR.sep}function C(b,x){return!!(void 0!==x?x:g.ED)&&k(b.charCodeAt(0))&&58===b.charCodeAt(1)}},56260:(Fe,Ne,m)=>{m.d(Ne,{or:()=>Y,Ji:()=>D,ir:()=>O,KZ:()=>de,Oh:()=>q,jB:()=>le,mB:()=>ee,CL:()=>nt,EW:()=>xe,l7:()=>bt});var E=m(33439),g=m(74243);function Y(...pt){return function(Bt,Vt){for(let zt=0,fn=pt.length;zt<fn;zt++){const Ye=pt[zt](Bt,Vt);if(Ye)return Ye}return null}}i.bind(void 0,!1);const D=i.bind(void 0,!0);function i(pt,Bt,Vt){if(!Vt||Vt.length<Bt.length)return null;let zt;return zt=pt?g.ok(Vt,Bt):0===Vt.indexOf(Bt),zt?Bt.length>0?[{start:0,end:Bt.length}]:[]:null}function O(pt,Bt){const Vt=Bt.toLowerCase().indexOf(pt.toLowerCase());return-1===Vt?null:[{start:Vt,end:Vt+pt.length}]}function k(pt,Bt,Vt,zt){if(Vt===pt.length)return[];if(zt===Bt.length)return null;if(pt[Vt]===Bt[zt]){let fn=null;return(fn=k(pt,Bt,Vt+1,zt+1))?N({start:zt,end:zt+1},fn):null}return k(pt,Bt,Vt,zt+1)}function y(pt){return 97<=pt&&pt<=122}function C(pt){return 65<=pt&&pt<=90}function b(pt){return 48<=pt&&pt<=57}function x(pt){return 32===pt||9===pt||10===pt||13===pt}const f=new Set;function M(pt){return x(pt)||f.has(pt)}function L(pt){return y(pt)||C(pt)||b(pt)}function N(pt,Bt){return 0===Bt.length?Bt=[pt]:pt.end===Bt[0].start?Bt[0].start=pt.start:Bt.unshift(pt),Bt}function Z(pt,Bt){for(let Vt=Bt;Vt<pt.length;Vt++){const zt=pt.charCodeAt(Vt);if(C(zt)||b(zt)||Vt>0&&!L(pt.charCodeAt(Vt-1)))return Vt}return pt.length}function P(pt,Bt,Vt,zt){if(Vt===pt.length)return[];if(zt===Bt.length)return null;if(pt[Vt]!==Bt[zt].toLowerCase())return null;{let fn=null,Ye=zt+1;for(fn=P(pt,Bt,Vt+1,zt+1);!fn&&(Ye=Z(Bt,Ye))<Bt.length;)fn=P(pt,Bt,Vt+1,Ye),Ye++;return null===fn?null:N({start:zt,end:zt+1},fn)}}function oe(pt,Bt){if(!Bt||0===(Bt=Bt.trim()).length||!function(pt){let Bt=0,Vt=0,zt=0,fn=0;for(let Ye=0;Ye<pt.length;Ye++)zt=pt.charCodeAt(Ye),C(zt)&&Bt++,y(zt)&&Vt++,x(zt)&&fn++;return 0!==Bt&&0!==Vt||0!==fn?Bt<=5:pt.length<=30}(pt)||Bt.length>60)return null;const Vt=function(pt){let Bt=0,Vt=0,zt=0,fn=0,Ye=0;for(let Rt=0;Rt<pt.length;Rt++)Ye=pt.charCodeAt(Rt),C(Ye)&&Bt++,y(Ye)&&Vt++,L(Ye)&&zt++,b(Ye)&&fn++;return{upperPercent:Bt/pt.length,lowerPercent:Vt/pt.length,alphaPercent:zt/pt.length,numericPercent:fn/pt.length}}(Bt);if(!function(pt){const{upperPercent:Bt,lowerPercent:Vt,alphaPercent:zt,numericPercent:fn}=pt;return Vt>.2&&Bt<.8&&zt>.6&&fn<.2}(Vt)){if(!function(pt){const{upperPercent:Bt,lowerPercent:Vt}=pt;return 0===Vt&&Bt>.6}(Vt))return null;Bt=Bt.toLowerCase()}let zt=null,fn=0;for(pt=pt.toLowerCase();fn<Bt.length&&null===(zt=P(pt,Bt,0,fn));)fn=Z(Bt,fn+1);return zt}function de(pt,Bt,Vt=!1){if(!Bt||0===Bt.length)return null;let zt=null,fn=0;for(pt=pt.toLowerCase(),Bt=Bt.toLowerCase();fn<Bt.length&&null===(zt=fe(pt,Bt,0,fn,Vt));)fn=_e(Bt,fn+1);return zt}function fe(pt,Bt,Vt,zt,fn){if(Vt===pt.length)return[];if(zt===Bt.length)return null;if(function(pt,Bt){return pt===Bt||M(pt)&&M(Bt)}(pt.charCodeAt(Vt),Bt.charCodeAt(zt))){let Ye=null,Et=zt+1;if(Ye=fe(pt,Bt,Vt+1,zt+1,fn),!fn)for(;!Ye&&(Et=_e(Bt,Et))<Bt.length;)Ye=fe(pt,Bt,Vt+1,Et,fn),Et++;return null===Ye?null:N({start:zt,end:zt+1},Ye)}return null}function _e(pt,Bt){for(let Vt=Bt;Vt<pt.length;Vt++)if(M(pt.charCodeAt(Vt))||Vt>0&&M(pt.charCodeAt(Vt-1)))return Vt;return pt.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach(pt=>f.add(pt.charCodeAt(0)));const we=Y(D,oe,O),me=Y(D,oe,function(pt,Bt){return k(pt.toLowerCase(),Bt.toLowerCase(),0,0)}),Q=new E.z6(1e4);function q(pt,Bt,Vt=!1){if("string"!=typeof pt||"string"!=typeof Bt)return null;let zt=Q.get(pt);zt||(zt=new RegExp(g.un(pt),"i"),Q.set(pt,zt));const fn=zt.exec(Bt);return fn?[{start:fn.index,end:fn.index+fn[0].length}]:Vt?me(pt,Bt):we(pt,Bt)}function le(pt,Bt,Vt,zt,fn,Ye){const Et=Math.min(13,pt.length);for(;Vt<Et;Vt++){const St=xe(pt,Bt,Vt,zt,fn,Ye,!1);if(St)return St}return[0,Ye]}function ee(pt){if(void 0===pt)return[];const Bt=[],Vt=pt[1];for(let zt=pt.length-1;zt>1;zt--){const fn=pt[zt]+Vt,Ye=Bt[Bt.length-1];Ye&&Ye.end===fn?Ye.end=fn+1:Bt.push({start:fn,end:fn+1})}return Bt}const J=128;function re(){const pt=[],Bt=[];for(let Vt=0;Vt<=J;Vt++)Bt[Vt]=0;for(let Vt=0;Vt<=J;Vt++)pt.push(Bt.slice(0));return pt}function ce(pt){const Bt=[];for(let Vt=0;Vt<=pt;Vt++)Bt[Vt]=0;return Bt}const ve=ce(256),ke=ce(256),We=re(),je=re(),ue=re();function $e(pt,Bt){if(Bt<0||Bt>=pt.length)return!1;const Vt=pt.codePointAt(Bt);switch(Vt){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!g.C8(Vt)}}function Te(pt,Bt){if(Bt<0||Bt>=pt.length)return!1;switch(pt.charCodeAt(Bt)){case 32:case 9:return!0;default:return!1}}function rt(pt,Bt,Vt){return Bt[pt]!==Vt[pt]}var nt,pt;function xe(pt,Bt,Vt,zt,fn,Ye,Et){const St=pt.length>J?J:pt.length,sn=zt.length>J?J:zt.length;if(Vt>=St||Ye>=sn||St-Vt>sn-Ye||!function(pt,Bt,Vt,zt,fn,Ye,Et=!1){for(;Bt<Vt&&fn<Ye;)pt[Bt]===zt[fn]&&(Et&&(ve[Bt]=fn),Bt+=1),fn+=1;return Bt===Vt}(Bt,Vt,St,fn,Ye,sn,!0))return;!function(pt,Bt,Vt,zt,fn,Ye){let Et=pt-1,St=Bt-1;for(;Et>=Vt&&St>=zt;)fn[Et]===Ye[St]&&(ke[Et]=St,Et--),St--}(St,sn,Vt,Ye,Bt,fn);let Dn=1,Rt=1,Mt=Vt,Yn=Ye;const xi=[!1];for(Dn=1,Mt=Vt;Mt<St;Dn++,Mt++){const Ue=ve[Mt],on=ke[Mt],Sn=Mt+1<St?ke[Mt+1]:sn;for(Rt=Ue-Ye+1,Yn=Ue;Yn<Sn;Rt++,Yn++){let ai=Number.MIN_SAFE_INTEGER,bi=!1;Yn<=on&&(ai=at(pt,Bt,Mt,Vt,zt,fn,Yn,sn,Ye,0===We[Dn-1][Rt-1],xi));let ki=0;ai!==Number.MAX_SAFE_INTEGER&&(bi=!0,ki=ai+je[Dn-1][Rt-1]);const Li=Yn>Ue,wi=Li?je[Dn][Rt-1]+(We[Dn][Rt-1]>0?-5:0):0,Dt=Yn>Ue+1&&We[Dn][Rt-1]>0,Lt=Dt?je[Dn][Rt-2]+(We[Dn][Rt-2]>0?-5:0):0;if(Dt&&(!Li||Lt>=wi)&&(!bi||Lt>=ki))je[Dn][Rt]=Lt,ue[Dn][Rt]=3,We[Dn][Rt]=0;else if(Li&&(!bi||wi>=ki))je[Dn][Rt]=wi,ue[Dn][Rt]=2,We[Dn][Rt]=0;else{if(!bi)throw new Error("not possible");je[Dn][Rt]=ki,ue[Dn][Rt]=1,We[Dn][Rt]=We[Dn-1][Rt-1]+1}}}if(!xi[0]&&!Et)return;Dn--,Rt--;const At=[je[Dn][Rt],Ye];let Bi=0,Xt=0;for(;Dn>=1;){let Ue=Rt;do{const on=ue[Dn][Ue];if(3===on)Ue-=2;else{if(2!==on)break;Ue-=1}}while(Ue>=1);Bi>1&&Bt[Vt+Dn-1]===fn[Ye+Rt-1]&&!rt(Ue+Ye-1,zt,fn)&&Bi+1>We[Dn][Ue]&&(Ue=Rt),Ue===Rt?Bi++:Bi=1,Xt||(Xt=Ue),Dn--,Rt=Ue-1,At.push(Rt)}return sn===St&&(At[0]+=2),At[0]-=Xt-St,At}function at(pt,Bt,Vt,zt,fn,Ye,Et,St,sn,Dn,Rt){if(Bt[Vt]!==Ye[Et])return Number.MIN_SAFE_INTEGER;let Mt=1,Yn=!1;return Et===Vt-zt?Mt=pt[Vt]===fn[Et]?7:5:!rt(Et,fn,Ye)||0!==Et&&rt(Et-1,fn,Ye)?!$e(Ye,Et)||0!==Et&&$e(Ye,Et-1)?($e(Ye,Et-1)||Te(Ye,Et-1))&&(Mt=5,Yn=!0):Mt=5:(Mt=pt[Vt]===fn[Et]?7:5,Yn=!0),Mt>1&&Vt===zt&&(Rt[0]=!0),Yn||(Yn=rt(Et,fn,Ye)||$e(Ye,Et-1)||Te(Ye,Et-1)),Vt===zt?Et>sn&&(Mt-=Yn?3:5):Mt+=Dn?Yn?2:0:Yn?0:1,Et+1===St&&(Mt-=Yn?3:5),Mt}function bt(pt,Bt,Vt,zt,fn,Ye,Et){return function(pt,Bt,Vt,zt,fn,Ye,Et,St){let sn=xe(pt,Bt,Vt,zt,fn,Ye,St);if(pt.length>=3){const Dn=Math.min(7,pt.length-1);for(let Rt=Vt+1;Rt<Dn;Rt++){const Mt=mn(pt,Rt);if(Mt){const Yn=xe(Mt,Mt.toLowerCase(),Vt,zt,fn,Ye,St);Yn&&(Yn[0]-=3,(!sn||Yn[0]>sn[0])&&(sn=Yn))}}}return sn}(pt,Bt,Vt,zt,fn,Ye,0,Et)}function mn(pt,Bt){if(Bt+1>=pt.length)return;const Vt=pt[Bt],zt=pt[Bt+1];return Vt!==zt?pt.slice(0,Bt)+zt+Vt+pt.slice(Bt+2):void 0}(pt=nt||(nt={})).Default=[-100,0],pt.isDefault=function(Vt){return!Vt||2===Vt.length&&-100===Vt[0]&&0===Vt[1]}},16811:(Fe,Ne,m)=>{function E(g){const Y=this;let D,B=!1;return function(){return B||(B=!0,D=g.apply(Y,arguments)),D}}m.d(Ne,{I:()=>E})},11791:(Fe,Ne,m)=>{m.d(Ne,{vp:()=>g,SP:()=>Y,Cv:()=>i,yP:()=>x});var E=m(74243);function g(f){return Y(f,0)}function Y(f,M){switch(typeof f){case"object":return null===f?B(349,M):Array.isArray(f)?function(f,M){return M=B(104579,M),f.reduce((H,L)=>Y(L,H),M)}(f,M):function(f,M){return M=B(181387,M),Object.keys(f).sort().reduce((H,L)=>(H=i(L,H),Y(f[L],H)),M)}(f,M);case"string":return i(f,M);case"boolean":return function(f,M){return B(f?433:863,M)}(f,M);case"number":return B(f,M);case"undefined":return B(937,M);default:return B(617,M)}}function B(f,M){return(M<<5)-M+f|0}function i(f,M){M=B(149417,M);for(let H=0,L=f.length;H<L;H++)M=B(f.charCodeAt(H),M);return M}function k(f,M,H=32){const L=H-M;return(f<<M|(~((1<<L)-1)&f)>>>L)>>>0}function y(f,M=0,H=f.byteLength,L=0){for(let N=0;N<H;N++)f[M+N]=L}function b(f,M=32){return f instanceof ArrayBuffer?Array.from(new Uint8Array(f)).map(H=>H.toString(16).padStart(2,"0")).join(""):function(f,M,H="0"){for(;f.length<M;)f=H+f;return f}((f>>>0).toString(16),M/4)}class x{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(M){const H=M.length;if(0===H)return;const L=this._buff;let P,I,N=this._buffLen,Z=this._leftoverHighSurrogate;for(0!==Z?(P=Z,I=-1,Z=0):(P=M.charCodeAt(0),I=0);;){let $=P;if(E.ZG(P)){if(!(I+1<H)){Z=P;break}{const U=M.charCodeAt(I+1);E.YK(U)?(I++,$=E.rL(P,U)):$=65533}}else E.YK(P)&&($=65533);if(N=this._push(L,N,$),I++,!(I<H))break;P=M.charCodeAt(I)}this._buffLen=N,this._leftoverHighSurrogate=Z}_push(M,H,L){return L<128?M[H++]=L:L<2048?(M[H++]=192|(1984&L)>>>6,M[H++]=128|(63&L)>>>0):L<65536?(M[H++]=224|(61440&L)>>>12,M[H++]=128|(4032&L)>>>6,M[H++]=128|(63&L)>>>0):(M[H++]=240|(1835008&L)>>>18,M[H++]=128|(258048&L)>>>12,M[H++]=128|(4032&L)>>>6,M[H++]=128|(63&L)>>>0),H>=64&&(this._step(),H-=64,this._totalLen+=64,M[0]=M[64],M[1]=M[65],M[2]=M[66]),H}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),b(this._h0)+b(this._h1)+b(this._h2)+b(this._h3)+b(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,y(this._buff,this._buffLen),this._buffLen>56&&(this._step(),y(this._buff));const M=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(M/4294967296),!1),this._buffDV.setUint32(60,M%4294967296,!1),this._step()}_step(){const M=x._bigBlock32,H=this._buffDV;for(let oe=0;oe<64;oe+=4)M.setUint32(oe,H.getUint32(oe,!1),!1);for(let oe=64;oe<320;oe+=4)M.setUint32(oe,k(M.getUint32(oe-12,!1)^M.getUint32(oe-32,!1)^M.getUint32(oe-56,!1)^M.getUint32(oe-64,!1),1),!1);let $,U,G,L=this._h0,N=this._h1,Z=this._h2,P=this._h3,I=this._h4;for(let oe=0;oe<80;oe++)oe<20?($=N&Z|~N&P,U=1518500249):oe<40?($=N^Z^P,U=1859775393):oe<60?($=N&Z|N&P|Z&P,U=2400959708):($=N^Z^P,U=3395469782),G=k(L,5)+$+I+U+M.getUint32(4*oe,!1)&4294967295,I=P,P=Z,Z=k(N,30),N=L,L=G;this._h0=this._h0+L&4294967295,this._h1=this._h1+N&4294967295,this._h2=this._h2+Z&4294967295,this._h3=this._h3+P&4294967295,this._h4=this._h4+I&4294967295}}x._bigBlock32=new DataView(new ArrayBuffer(320))},3102:(Fe,Ne,m)=>{m.d(Ne,{W5:()=>Y,CP:()=>B,Fr:()=>D,oR:()=>O,v1:()=>F});var E=m(13226),g=m(42623);class Y{constructor(y="",C=!1){var b,x,f;if(this.value=y,"string"!=typeof this.value)throw(0,E.b1)("value");"boolean"==typeof C?(this.isTrusted=C,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(b=C.isTrusted)&&void 0!==b?b:void 0,this.supportThemeIcons=null!==(x=C.supportThemeIcons)&&void 0!==x&&x,this.supportHtml=null!==(f=C.supportHtml)&&void 0!==f&&f)}appendText(y,C=0){return this.value+=(k=this.supportThemeIcons?(0,g.Qo)(y):y,k.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")).replace(/([ \t]+)/g,(b,x)=>"&nbsp;".repeat(x.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===C?"\\\n":"\n\n"),this;var k}appendMarkdown(y){return this.value+=y,this}appendCodeblock(y,C){return this.value+="\n```",this.value+=y,this.value+="\n",this.value+=C,this.value+="\n```\n",this}}function B(k){return D(k)?!k.value:!Array.isArray(k)||k.every(B)}function D(k){return k instanceof Y||!(!k||"object"!=typeof k)&&!("string"!=typeof k.value||"boolean"!=typeof k.isTrusted&&void 0!==k.isTrusted||"boolean"!=typeof k.supportThemeIcons&&void 0!==k.supportThemeIcons)}function O(k){return k&&k.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function F(k){const y=[],C=k.split("|").map(x=>x.trim());k=C[0];const b=C[1];if(b){const x=/height=(\d+)/.exec(b),f=/width=(\d+)/.exec(b),M=x?x[1]:"",H=f?f[1]:"",L=isFinite(parseInt(H)),N=isFinite(parseInt(M));L&&y.push(`width="${H}"`),N&&y.push(`height="${M}"`)}return{href:k,dimensions:y}}},42623:(Fe,Ne,m)=>{m.d(Ne,{Qo:()=>F,f$:()=>y,x$:()=>b,Ho:()=>x,Gt:()=>M});var E=m(78968),g=m(56260),Y=m(74243);const B="$(",D=new RegExp(`\\$\\(${E.dT.iconNameExpression}(?:${E.dT.iconModifierExpression})?\\)`,"g"),i=new RegExp(E.dT.iconNameCharacter),O=new RegExp(`(\\\\)?${D.source}`,"g");function F(H){return H.replace(O,(L,N)=>N?L:`\\${L}`)}const k=new RegExp(`\\\\${D.source}`,"g");function y(H){return H.replace(k,L=>`\\${L}`)}const C=new RegExp(`(\\s)?(\\\\)?${D.source}(\\s)?`,"g");function b(H){return-1===H.indexOf(B)?H:H.replace(C,(L,N,Z,P)=>Z?L:N||P||"")}function x(H){const L=H.indexOf(B);return-1===L?{text:H}:function(H,L){const N=[];let Z="";function P(_e){if(_e){Z+=_e;for(const we of _e)N.push(U)}}let G,oe,I=-1,$="",U=0,de=L;const fe=H.length;for(P(H.substr(0,L));de<fe;)G=H[de],oe=H[de+1],G===B[0]&&oe===B[1]?(I=de,P($),$=B,de++):")"===G&&-1!==I?(U+=de-I+1,I=-1,$=""):-1!==I?i.test(G)?$+=G:(P($),I=-1,$=""):P(G),de++;return P($),{text:Z,iconOffsets:N}}(H,L)}function M(H,L,N=!1){const{text:Z,iconOffsets:P}=L;if(!P||0===P.length)return(0,g.Oh)(H,Z,N);const I=(0,Y.j3)(Z," "),$=Z.length-I.length,U=(0,g.Oh)(H,I,N);if(U)for(const G of U){const oe=P[G.start+$]+$;G.start+=oe,G.end+=oe}return U}},90546:(Fe,Ne,m)=>{m.d(Ne,{R:()=>E,a:()=>g});class E{constructor(B){this._prefix=B,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const g=new E("id#")},58151:(Fe,Ne,m)=>{var E;m.d(Ne,{$:()=>E}),function(g){g.is=function(P){return P&&"object"==typeof P&&"function"==typeof P[Symbol.iterator]};const B=Object.freeze([]);g.empty=function(){return B},g.single=function*(P){yield P},g.from=function(P){return P||B},g.isEmpty=function(P){return!P||!0===P[Symbol.iterator]().next().done},g.first=function(P){return P[Symbol.iterator]().next().value},g.some=function(P,I){for(const $ of P)if(I($))return!0;return!1},g.find=function(P,I){for(const $ of P)if(I($))return $},g.filter=function*(P,I){for(const $ of P)I($)&&(yield $)},g.map=function*(P,I){let $=0;for(const U of P)yield I(U,$++)},g.concat=function*(...P){for(const I of P)for(const $ of I)yield $},g.concatNested=function*(P){for(const I of P)for(const $ of I)yield $},g.reduce=function(P,I,$){let U=$;for(const G of P)U=I(U,G);return U},g.slice=function*(P,I,$=P.length){for(I<0&&(I+=P.length),$<0?$+=P.length:$>P.length&&($=P.length);I<$;I++)yield P[I]},g.consume=function(P,I=Number.POSITIVE_INFINITY){const $=[];if(0===I)return[$,P];const U=P[Symbol.iterator]();for(let G=0;G<I;G++){const oe=U.next();if(oe.done)return[$,g.empty()];$.push(oe.value)}return[$,{[Symbol.iterator]:()=>U}]},g.equals=function(P,I,$=((U,G)=>U===G)){const U=P[Symbol.iterator](),G=I[Symbol.iterator]();for(;;){const oe=U.next(),de=G.next();if(oe.done!==de.done)return!1;if(oe.done)return!0;if(!$(oe.value,de.value))return!1}}}(E||(E={}))},64073:(Fe,Ne,m)=>{m.d(Ne,{H_:()=>D,Vd:()=>y,kL:()=>b,gx:()=>x});class E{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(M,H){this._keyCodeToStr[M]=H,this._strToKeyCode[H.toLowerCase()]=M}keyCodeToStr(M){return this._keyCodeToStr[M]}strToKeyCode(M){return this._strToKeyCode[M.toLowerCase()]||0}}const g=new E,Y=new E,B=new E,D=new Array(230),i={},O=[],F=Object.create(null),k=Object.create(null),y=[],C=[];for(let f=0;f<=193;f++)y[f]=-1;for(let f=0;f<=127;f++)C[f]=-1;var b,f;function x(f,M){return(f|(65535&M)<<16>>>0)>>>0}!function(){const f="",M=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",f,f],[0,1,1,"Hyper",0,f,0,f,f,f],[0,1,2,"Super",0,f,0,f,f,f],[0,1,3,"Fn",0,f,0,f,f,f],[0,1,4,"FnLock",0,f,0,f,f,f],[0,1,5,"Suspend",0,f,0,f,f,f],[0,1,6,"Resume",0,f,0,f,f,f],[0,1,7,"Turbo",0,f,0,f,f,f],[0,1,8,"Sleep",0,f,0,"VK_SLEEP",f,f],[0,1,9,"WakeUp",0,f,0,f,f,f],[31,0,10,"KeyA",31,"A",65,"VK_A",f,f],[32,0,11,"KeyB",32,"B",66,"VK_B",f,f],[33,0,12,"KeyC",33,"C",67,"VK_C",f,f],[34,0,13,"KeyD",34,"D",68,"VK_D",f,f],[35,0,14,"KeyE",35,"E",69,"VK_E",f,f],[36,0,15,"KeyF",36,"F",70,"VK_F",f,f],[37,0,16,"KeyG",37,"G",71,"VK_G",f,f],[38,0,17,"KeyH",38,"H",72,"VK_H",f,f],[39,0,18,"KeyI",39,"I",73,"VK_I",f,f],[40,0,19,"KeyJ",40,"J",74,"VK_J",f,f],[41,0,20,"KeyK",41,"K",75,"VK_K",f,f],[42,0,21,"KeyL",42,"L",76,"VK_L",f,f],[43,0,22,"KeyM",43,"M",77,"VK_M",f,f],[44,0,23,"KeyN",44,"N",78,"VK_N",f,f],[45,0,24,"KeyO",45,"O",79,"VK_O",f,f],[46,0,25,"KeyP",46,"P",80,"VK_P",f,f],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",f,f],[48,0,27,"KeyR",48,"R",82,"VK_R",f,f],[49,0,28,"KeyS",49,"S",83,"VK_S",f,f],[50,0,29,"KeyT",50,"T",84,"VK_T",f,f],[51,0,30,"KeyU",51,"U",85,"VK_U",f,f],[52,0,31,"KeyV",52,"V",86,"VK_V",f,f],[53,0,32,"KeyW",53,"W",87,"VK_W",f,f],[54,0,33,"KeyX",54,"X",88,"VK_X",f,f],[55,0,34,"KeyY",55,"Y",89,"VK_Y",f,f],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",f,f],[22,0,36,"Digit1",22,"1",49,"VK_1",f,f],[23,0,37,"Digit2",23,"2",50,"VK_2",f,f],[24,0,38,"Digit3",24,"3",51,"VK_3",f,f],[25,0,39,"Digit4",25,"4",52,"VK_4",f,f],[26,0,40,"Digit5",26,"5",53,"VK_5",f,f],[27,0,41,"Digit6",27,"6",54,"VK_6",f,f],[28,0,42,"Digit7",28,"7",55,"VK_7",f,f],[29,0,43,"Digit8",29,"8",56,"VK_8",f,f],[30,0,44,"Digit9",30,"9",57,"VK_9",f,f],[21,0,45,"Digit0",21,"0",48,"VK_0",f,f],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",f,f],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",f,f],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",f,f],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",f,f],[10,1,50,"Space",10,"Space",32,"VK_SPACE",f,f],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,f,0,f,f,f],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",f,f],[59,1,64,"F1",59,"F1",112,"VK_F1",f,f],[60,1,65,"F2",60,"F2",113,"VK_F2",f,f],[61,1,66,"F3",61,"F3",114,"VK_F3",f,f],[62,1,67,"F4",62,"F4",115,"VK_F4",f,f],[63,1,68,"F5",63,"F5",116,"VK_F5",f,f],[64,1,69,"F6",64,"F6",117,"VK_F6",f,f],[65,1,70,"F7",65,"F7",118,"VK_F7",f,f],[66,1,71,"F8",66,"F8",119,"VK_F8",f,f],[67,1,72,"F9",67,"F9",120,"VK_F9",f,f],[68,1,73,"F10",68,"F10",121,"VK_F10",f,f],[69,1,74,"F11",69,"F11",122,"VK_F11",f,f],[70,1,75,"F12",70,"F12",123,"VK_F12",f,f],[0,1,76,"PrintScreen",0,f,0,f,f,f],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",f,f],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",f,f],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",f,f],[14,1,80,"Home",14,"Home",36,"VK_HOME",f,f],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",f,f],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",f,f],[13,1,83,"End",13,"End",35,"VK_END",f,f],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",f,f],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",f],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",f],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",f],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",f],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",f,f],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",f,f],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",f,f],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",f,f],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",f,f],[3,1,94,"NumpadEnter",3,f,0,f,f,f],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",f,f],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",f,f],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",f,f],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",f,f],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",f,f],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",f,f],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",f,f],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",f,f],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",f,f],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",f,f],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",f,f],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",f,f],[58,1,107,"ContextMenu",58,"ContextMenu",93,f,f,f],[0,1,108,"Power",0,f,0,f,f,f],[0,1,109,"NumpadEqual",0,f,0,f,f,f],[71,1,110,"F13",71,"F13",124,"VK_F13",f,f],[72,1,111,"F14",72,"F14",125,"VK_F14",f,f],[73,1,112,"F15",73,"F15",126,"VK_F15",f,f],[74,1,113,"F16",74,"F16",127,"VK_F16",f,f],[75,1,114,"F17",75,"F17",128,"VK_F17",f,f],[76,1,115,"F18",76,"F18",129,"VK_F18",f,f],[77,1,116,"F19",77,"F19",130,"VK_F19",f,f],[0,1,117,"F20",0,f,0,"VK_F20",f,f],[0,1,118,"F21",0,f,0,"VK_F21",f,f],[0,1,119,"F22",0,f,0,"VK_F22",f,f],[0,1,120,"F23",0,f,0,"VK_F23",f,f],[0,1,121,"F24",0,f,0,"VK_F24",f,f],[0,1,122,"Open",0,f,0,f,f,f],[0,1,123,"Help",0,f,0,f,f,f],[0,1,124,"Select",0,f,0,f,f,f],[0,1,125,"Again",0,f,0,f,f,f],[0,1,126,"Undo",0,f,0,f,f,f],[0,1,127,"Cut",0,f,0,f,f,f],[0,1,128,"Copy",0,f,0,f,f,f],[0,1,129,"Paste",0,f,0,f,f,f],[0,1,130,"Find",0,f,0,f,f,f],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",f,f],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",f,f],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",f,f],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",f,f],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",f,f],[0,1,136,"KanaMode",0,f,0,f,f,f],[0,0,137,"IntlYen",0,f,0,f,f,f],[0,1,138,"Convert",0,f,0,f,f,f],[0,1,139,"NonConvert",0,f,0,f,f,f],[0,1,140,"Lang1",0,f,0,f,f,f],[0,1,141,"Lang2",0,f,0,f,f,f],[0,1,142,"Lang3",0,f,0,f,f,f],[0,1,143,"Lang4",0,f,0,f,f,f],[0,1,144,"Lang5",0,f,0,f,f,f],[0,1,145,"Abort",0,f,0,f,f,f],[0,1,146,"Props",0,f,0,f,f,f],[0,1,147,"NumpadParenLeft",0,f,0,f,f,f],[0,1,148,"NumpadParenRight",0,f,0,f,f,f],[0,1,149,"NumpadBackspace",0,f,0,f,f,f],[0,1,150,"NumpadMemoryStore",0,f,0,f,f,f],[0,1,151,"NumpadMemoryRecall",0,f,0,f,f,f],[0,1,152,"NumpadMemoryClear",0,f,0,f,f,f],[0,1,153,"NumpadMemoryAdd",0,f,0,f,f,f],[0,1,154,"NumpadMemorySubtract",0,f,0,f,f,f],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",f,f],[0,1,156,"NumpadClearEntry",0,f,0,f,f,f],[5,1,0,f,5,"Ctrl",17,"VK_CONTROL",f,f],[4,1,0,f,4,"Shift",16,"VK_SHIFT",f,f],[6,1,0,f,6,"Alt",18,"VK_MENU",f,f],[57,1,0,f,57,"Meta",0,"VK_COMMAND",f,f],[5,1,157,"ControlLeft",5,f,0,"VK_LCONTROL",f,f],[4,1,158,"ShiftLeft",4,f,0,"VK_LSHIFT",f,f],[6,1,159,"AltLeft",6,f,0,"VK_LMENU",f,f],[57,1,160,"MetaLeft",57,f,0,"VK_LWIN",f,f],[5,1,161,"ControlRight",5,f,0,"VK_RCONTROL",f,f],[4,1,162,"ShiftRight",4,f,0,"VK_RSHIFT",f,f],[6,1,163,"AltRight",6,f,0,"VK_RMENU",f,f],[57,1,164,"MetaRight",57,f,0,"VK_RWIN",f,f],[0,1,165,"BrightnessUp",0,f,0,f,f,f],[0,1,166,"BrightnessDown",0,f,0,f,f,f],[0,1,167,"MediaPlay",0,f,0,f,f,f],[0,1,168,"MediaRecord",0,f,0,f,f,f],[0,1,169,"MediaFastForward",0,f,0,f,f,f],[0,1,170,"MediaRewind",0,f,0,f,f,f],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",f,f],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",f,f],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",f,f],[0,1,174,"Eject",0,f,0,f,f,f],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",f,f],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",f,f],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",f,f],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",f,f],[0,1,179,"LaunchApp1",0,f,0,"VK_MEDIA_LAUNCH_APP1",f,f],[0,1,180,"SelectTask",0,f,0,f,f,f],[0,1,181,"LaunchScreenSaver",0,f,0,f,f,f],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",f,f],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",f,f],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",f,f],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",f,f],[0,1,186,"BrowserStop",0,f,0,"VK_BROWSER_STOP",f,f],[0,1,187,"BrowserRefresh",0,f,0,"VK_BROWSER_REFRESH",f,f],[0,1,188,"BrowserFavorites",0,f,0,"VK_BROWSER_FAVORITES",f,f],[0,1,189,"ZoomToggle",0,f,0,f,f,f],[0,1,190,"MailReply",0,f,0,f,f,f],[0,1,191,"MailForward",0,f,0,f,f,f],[0,1,192,"MailSend",0,f,0,f,f,f],[109,1,0,f,109,"KeyInComposition",229,f,f,f],[111,1,0,f,111,"ABNT_C2",194,"VK_ABNT_C2",f,f],[91,1,0,f,91,"OEM_8",223,"VK_OEM_8",f,f],[0,1,0,f,0,f,0,"VK_KANA",f,f],[0,1,0,f,0,f,0,"VK_HANGUL",f,f],[0,1,0,f,0,f,0,"VK_JUNJA",f,f],[0,1,0,f,0,f,0,"VK_FINAL",f,f],[0,1,0,f,0,f,0,"VK_HANJA",f,f],[0,1,0,f,0,f,0,"VK_KANJI",f,f],[0,1,0,f,0,f,0,"VK_CONVERT",f,f],[0,1,0,f,0,f,0,"VK_NONCONVERT",f,f],[0,1,0,f,0,f,0,"VK_ACCEPT",f,f],[0,1,0,f,0,f,0,"VK_MODECHANGE",f,f],[0,1,0,f,0,f,0,"VK_SELECT",f,f],[0,1,0,f,0,f,0,"VK_PRINT",f,f],[0,1,0,f,0,f,0,"VK_EXECUTE",f,f],[0,1,0,f,0,f,0,"VK_SNAPSHOT",f,f],[0,1,0,f,0,f,0,"VK_HELP",f,f],[0,1,0,f,0,f,0,"VK_APPS",f,f],[0,1,0,f,0,f,0,"VK_PROCESSKEY",f,f],[0,1,0,f,0,f,0,"VK_PACKET",f,f],[0,1,0,f,0,f,0,"VK_DBE_SBCSCHAR",f,f],[0,1,0,f,0,f,0,"VK_DBE_DBCSCHAR",f,f],[0,1,0,f,0,f,0,"VK_ATTN",f,f],[0,1,0,f,0,f,0,"VK_CRSEL",f,f],[0,1,0,f,0,f,0,"VK_EXSEL",f,f],[0,1,0,f,0,f,0,"VK_EREOF",f,f],[0,1,0,f,0,f,0,"VK_PLAY",f,f],[0,1,0,f,0,f,0,"VK_ZOOM",f,f],[0,1,0,f,0,f,0,"VK_NONAME",f,f],[0,1,0,f,0,f,0,"VK_PA1",f,f],[0,1,0,f,0,f,0,"VK_OEM_CLEAR",f,f]];let H=[],L=[];for(const N of M){const[Z,P,I,$,U,G,oe,de,fe,_e]=N;if(L[I]||(L[I]=!0,O[I]=$,F[$]=I,k[$.toLowerCase()]=I,P&&(y[I]=U,0!==U&&3!==U&&5!==U&&4!==U&&6!==U&&57!==U&&(C[U]=I))),!H[U]){if(H[U]=!0,!G)throw new Error(`String representation missing for key code ${U} around scan code ${$}`);g.define(U,G),Y.define(U,fe||G),B.define(U,_e||fe||G)}oe&&(D[oe]=U),de&&(i[de]=U)}C[3]=46}(),(f=b||(b={})).toString=function(I){return g.keyCodeToStr(I)},f.fromString=function(I){return g.strToKeyCode(I)},f.toUserSettingsUS=function(I){return Y.keyCodeToStr(I)},f.toUserSettingsGeneral=function(I){return B.keyCodeToStr(I)},f.fromUserSettings=function(I){return Y.strToKeyCode(I)||B.strToKeyCode(I)},f.toElectronAccelerator=function(I){if(I>=93&&I<=108)return null;switch(I){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return g.keyCodeToStr(I)}},99802:(Fe,Ne,m)=>{m.d(Ne,{xo:()=>Y,X4:()=>B,jC:()=>D});var E=m(12918);class g{constructor(k,y,C=y){this.modifierLabels=[null],this.modifierLabels[2]=k,this.modifierLabels[1]=y,this.modifierLabels[3]=C}toLabel(k,y,C){if(0===y.length)return null;const b=[];for(let x=0,f=y.length;x<f;x++){const M=y[x],H=C(M);if(null===H)return null;b[x]=O(M,H,this.modifierLabels[k])}return b.join(" ")}}const Y=new g({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:E.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:E.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:E.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:E.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:E.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:E.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:E.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:E.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),B=new g({ctrlKey:E.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E.N({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:E.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:E.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:E.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),D=new g({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function O(F,k,y){if(null===k)return"";const C=[];return F.ctrlKey&&C.push(y.ctrlKey),F.shiftKey&&C.push(y.shiftKey),F.altKey&&C.push(y.altKey),F.metaKey&&C.push(y.metaKey),""!==k&&C.push(k),C.join(y.separator)}new g({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})},99315:(Fe,Ne,m)=>{m.d(Ne,{gm:()=>g,QC:()=>B,X_:()=>D,BQ:()=>O,f1:()=>F});var E=m(13226);function g(k,y){if(0===k)return null;const C=(65535&k)>>>0,b=(4294901760&k)>>>16;return new D(0!==b?[Y(C,y),Y(b,y)]:[Y(C,y)])}function Y(k,y){const C=!!(2048&k),b=!!(256&k);return new B(2===y?b:C,!!(1024&k),!!(512&k),2===y?C:b,255&k)}class B{constructor(y,C,b,x,f){this.ctrlKey=y,this.shiftKey=C,this.altKey=b,this.metaKey=x,this.keyCode=f}equals(y){return this.ctrlKey===y.ctrlKey&&this.shiftKey===y.shiftKey&&this.altKey===y.altKey&&this.metaKey===y.metaKey&&this.keyCode===y.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new D([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class D{constructor(y){if(0===y.length)throw(0,E.b1)("parts");this.parts=y}}class O{constructor(y,C,b,x,f,M){this.ctrlKey=y,this.shiftKey=C,this.altKey=b,this.metaKey=x,this.keyLabel=f,this.keyAriaLabel=M}}class F{}},90341:(Fe,Ne,m)=>{m.d(Ne,{o:()=>E});class E{constructor(Y){this.executor=Y,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(Y){this._error=Y}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},40189:(Fe,Ne,m)=>{m.d(Ne,{dk:()=>y,Wf:()=>b,B9:()=>x,F8:()=>f,OF:()=>M,SL:()=>H,JT:()=>L,XK:()=>N,dt:()=>Z,Jz:()=>P});var E=m(16811),g=m(58151);function y(I){return I}class C extends Error{constructor($){super(`Encountered errors while disposing of store. Errors: [${$.join(", ")}]`),this.errors=$}}function b(I){return"function"==typeof I.dispose&&0===I.dispose.length}function x(I){if(g.$.is(I)){let $=[];for(const U of I)if(U)try{U.dispose()}catch(G){$.push(G)}if(1===$.length)throw $[0];if($.length>1)throw new C($);return Array.isArray(I)?[]:I}if(I)return I.dispose(),I}function f(...I){const $=M(()=>x(I));return $}function M(I){const $={dispose:(0,E.I)(()=>{I()})};return $}let H=(()=>{class I{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{x(this._toDispose.values())}finally{this._toDispose.clear()}}add(U){if(!U)return U;if(U===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?I.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(U),U}}return I.DISABLE_DISPOSED_WARNING=!1,I})();class L{constructor(){this._store=new H}dispose(){this._store.dispose()}_register($){if($===this)throw new Error("Cannot register a disposable on itself!");return this._store.add($)}}L.None=Object.freeze({dispose(){}});class N{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value($){var U;this._isDisposed||$===this._value||(null===(U=this._value)||void 0===U||U.dispose(),this._value=$)}clear(){this.value=void 0}dispose(){var $;this._isDisposed=!0,null===($=this._value)||void 0===$||$.dispose(),this._value=void 0}clearAndLeak(){const $=this._value;return this._value=void 0,$}}class Z{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1}set($){let U=$;return this.unset=()=>U=void 0,this.isset=()=>void 0!==U,this.dispose=()=>{U&&(U(),U=void 0)},this}}class P{constructor($){this.object=$}dispose(){}}},62253:(Fe,Ne,m)=>{m.d(Ne,{S:()=>g});class E{constructor(B){this.element=B,this.next=E.Undefined,this.prev=E.Undefined}}E.Undefined=new E(void 0);class g{constructor(){this._first=E.Undefined,this._last=E.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===E.Undefined}clear(){let B=this._first;for(;B!==E.Undefined;){const D=B.next;B.prev=E.Undefined,B.next=E.Undefined,B=D}this._first=E.Undefined,this._last=E.Undefined,this._size=0}unshift(B){return this._insert(B,!1)}push(B){return this._insert(B,!0)}_insert(B,D){const i=new E(B);if(this._first===E.Undefined)this._first=i,this._last=i;else if(D){const F=this._last;this._last=i,i.prev=F,F.next=i}else{const F=this._first;this._first=i,i.next=F,F.prev=i}this._size+=1;let O=!1;return()=>{O||(O=!0,this._remove(i))}}shift(){if(this._first!==E.Undefined){const B=this._first.element;return this._remove(this._first),B}}pop(){if(this._last!==E.Undefined){const B=this._last.element;return this._remove(this._last),B}}_remove(B){if(B.prev!==E.Undefined&&B.next!==E.Undefined){const D=B.prev;D.next=B.next,B.next.prev=D}else B.prev===E.Undefined&&B.next===E.Undefined?(this._first=E.Undefined,this._last=E.Undefined):B.next===E.Undefined?(this._last=this._last.prev,this._last.next=E.Undefined):B.prev===E.Undefined&&(this._first=this._first.next,this._first.prev=E.Undefined);this._size-=1}*[Symbol.iterator](){let B=this._first;for(;B!==E.Undefined;)yield B.element,B=B.next}}},33439:(Fe,Ne,m)=>{m.d(Ne,{Id:()=>k,Y9:()=>C,z6:()=>x});var g,Y,E=m(74243);class B{constructor(){this._value="",this._pos=0}reset(M){return this._value=M,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(M){return M.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class D{constructor(M=!0){this._caseSensitive=M}reset(M){return this._value=M,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let M=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!M)break;this._from++}else M=!1;return this}cmp(M){return this._caseSensitive?(0,E.TT)(M,this._value,0,M.length,this._from,this._to):(0,E.j_)(M,this._value,0,M.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class i{constructor(M=!0,H=!0){this._splitOnBackslash=M,this._caseSensitive=H}reset(M){this._from=0,this._to=0,this._value=M,this._valueLen=M.length;for(let H=M.length-1;H>=0;H--,this._valueLen--){const L=this._value.charCodeAt(H);if(!(47===L||this._splitOnBackslash&&92===L))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let M=!0;for(;this._to<this._valueLen;this._to++){const H=this._value.charCodeAt(this._to);if(47===H||this._splitOnBackslash&&92===H){if(!M)break;this._from++}else M=!1}return this}cmp(M){return this._caseSensitive?(0,E.TT)(M,this._value,0,M.length,this._from,this._to):(0,E.j_)(M,this._value,0,M.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class O{constructor(M){this._ignorePathCasing=M,this._states=[],this._stateIdx=0}reset(M){return this._value=M,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new i(!1,!this._ignorePathCasing(M)),this._pathIterator.reset(M.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(M){if(1===this._states[this._stateIdx])return(0,E.zY)(M,this._value.scheme);if(2===this._states[this._stateIdx])return(0,E.zY)(M,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(M);if(4===this._states[this._stateIdx])return(0,E.qu)(M,this._value.query);if(5===this._states[this._stateIdx])return(0,E.qu)(M,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class F{constructor(){this.height=1}rotateLeft(){const M=this.right;return this.right=M.left,M.left=this,this.updateHeight(),M.updateHeight(),M}rotateRight(){const M=this.left;return this.left=M.right,M.right=this,this.updateHeight(),M.updateHeight(),M}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var M,H;return null!==(H=null===(M=this.left)||void 0===M?void 0:M.height)&&void 0!==H?H:0}get heightRight(){var M,H;return null!==(H=null===(M=this.right)||void 0===M?void 0:M.height)&&void 0!==H?H:0}}class k{constructor(M){this._iter=M}static forUris(M=(()=>!1)){return new k(new O(M))}static forStrings(){return new k(new B)}static forConfigKeys(){return new k(new D)}clear(){this._root=void 0}set(M,H){const L=this._iter.reset(M);let N;this._root||(this._root=new F,this._root.segment=L.value());const Z=[];for(N=this._root;;){const I=L.cmp(N.segment);if(I>0)N.left||(N.left=new F,N.left.segment=L.value()),Z.push([-1,N]),N=N.left;else if(I<0)N.right||(N.right=new F,N.right.segment=L.value()),Z.push([1,N]),N=N.right;else{if(!L.hasNext())break;L.next(),N.mid||(N.mid=new F,N.mid.segment=L.value()),Z.push([0,N]),N=N.mid}}const P=N.value;N.value=H,N.key=M;for(let I=Z.length-1;I>=0;I--){const $=Z[I][1];$.updateHeight();const U=$.balanceFactor();if(U<-1||U>1){const G=Z[I][0],oe=Z[I+1][0];if(1===G&&1===oe)Z[I][1]=$.rotateLeft();else if(-1===G&&-1===oe)Z[I][1]=$.rotateRight();else if(1===G&&-1===oe)$.right=Z[I+1][1]=Z[I+1][1].rotateRight(),Z[I][1]=$.rotateLeft();else{if(-1!==G||1!==oe)throw new Error;$.left=Z[I+1][1]=Z[I+1][1].rotateLeft(),Z[I][1]=$.rotateRight()}if(I>0)switch(Z[I-1][0]){case-1:Z[I-1][1].left=Z[I][1];break;case 1:Z[I-1][1].right=Z[I][1];break;case 0:Z[I-1][1].mid=Z[I][1]}else this._root=Z[0][1]}}return P}get(M){var H;return null===(H=this._getNode(M))||void 0===H?void 0:H.value}_getNode(M){const H=this._iter.reset(M);let L=this._root;for(;L;){const N=H.cmp(L.segment);if(N>0)L=L.left;else if(N<0)L=L.right;else{if(!H.hasNext())break;H.next(),L=L.mid}}return L}has(M){const H=this._getNode(M);return!(void 0===(null==H?void 0:H.value)&&void 0===(null==H?void 0:H.mid))}delete(M){return this._delete(M,!1)}deleteSuperstr(M){return this._delete(M,!0)}_delete(M,H){var L;const N=this._iter.reset(M),Z=[];let P=this._root;for(;P;){const I=N.cmp(P.segment);if(I>0)Z.push([-1,P]),P=P.left;else if(I<0)Z.push([1,P]),P=P.right;else{if(!N.hasNext())break;N.next(),Z.push([0,P]),P=P.mid}}if(P){if(H?(P.left=void 0,P.mid=void 0,P.right=void 0,P.height=1):(P.key=void 0,P.value=void 0),!P.mid&&!P.value)if(P.left&&P.right){const I=this._min(P.right),{key:$,value:U,segment:G}=I;this._delete(I.key,!1),P.key=$,P.value=U,P.segment=G}else{const I=null!==(L=P.left)&&void 0!==L?L:P.right;if(Z.length>0){const[$,U]=Z[Z.length-1];switch($){case-1:U.left=I;break;case 0:U.mid=I;break;case 1:U.right=I}}else this._root=I}for(let I=Z.length-1;I>=0;I--){const $=Z[I][1];$.updateHeight();const U=$.balanceFactor();if(U>1?($.right.balanceFactor()>=0||($.right=$.right.rotateRight()),Z[I][1]=$.rotateLeft()):U<-1&&($.left.balanceFactor()<=0||($.left=$.left.rotateLeft()),Z[I][1]=$.rotateRight()),I>0)switch(Z[I-1][0]){case-1:Z[I-1][1].left=Z[I][1];break;case 1:Z[I-1][1].right=Z[I][1];break;case 0:Z[I-1][1].mid=Z[I][1]}else this._root=Z[0][1]}}}_min(M){for(;M.left;)M=M.left;return M}findSubstr(M){const H=this._iter.reset(M);let N,L=this._root;for(;L;){const Z=H.cmp(L.segment);if(Z>0)L=L.left;else if(Z<0)L=L.right;else{if(!H.hasNext())break;H.next(),N=L.value||N,L=L.mid}}return L&&L.value||N}findSuperstr(M){const H=this._iter.reset(M);let L=this._root;for(;L;){const N=H.cmp(L.segment);if(N>0)L=L.left;else if(N<0)L=L.right;else{if(!H.hasNext())return L.mid?this._entries(L.mid):void 0;H.next(),L=L.mid}}}forEach(M){for(const[H,L]of this)M(L,H)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(M){!M||(M.left&&(yield*this._entries(M.left)),M.value&&(yield[M.key,M.value]),M.mid&&(yield*this._entries(M.mid)),M.right&&(yield*this._entries(M.right)))}}class y{constructor(M,H){this.uri=M,this.value=H}}let C=(()=>{class f{constructor(H,L){this[g]="ResourceMap",H instanceof f?(this.map=new Map(H.map),this.toKey=L??f.defaultToKey):(this.map=new Map,this.toKey=H??f.defaultToKey)}set(H,L){return this.map.set(this.toKey(H),new y(H,L)),this}get(H){var L;return null===(L=this.map.get(this.toKey(H)))||void 0===L?void 0:L.value}has(H){return this.map.has(this.toKey(H))}get size(){return this.map.size}clear(){this.map.clear()}delete(H){return this.map.delete(this.toKey(H))}forEach(H,L){void 0!==L&&(H=H.bind(L));for(let[N,Z]of this.map)H(Z.value,Z.uri,this)}*values(){for(let H of this.map.values())yield H.value}*keys(){for(let H of this.map.values())yield H.uri}*entries(){for(let H of this.map.values())yield[H.uri,H.value]}*[(g=Symbol.toStringTag,Symbol.iterator)](){for(let[,H]of this.map)yield[H.uri,H.value]}}return f.defaultToKey=M=>M.toString(),f})();class b{constructor(){this[Y]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var M;return null===(M=this._head)||void 0===M?void 0:M.value}get last(){var M;return null===(M=this._tail)||void 0===M?void 0:M.value}has(M){return this._map.has(M)}get(M,H=0){const L=this._map.get(M);if(L)return 0!==H&&this.touch(L,H),L.value}set(M,H,L=0){let N=this._map.get(M);return N?(N.value=H,0!==L&&this.touch(N,L)):(1===(N={key:M,value:H,next:void 0,previous:void 0},L)?this.addItemFirst(N):this.addItemLast(N),this._map.set(M,N),this._size++),this}delete(M){return!!this.remove(M)}remove(M){const H=this._map.get(M);if(H)return this._map.delete(M),this.removeItem(H),this._size--,H.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const M=this._head;return this._map.delete(M.key),this.removeItem(M),this._size--,M.value}forEach(M,H){const L=this._state;let N=this._head;for(;N;){if(H?M.bind(H)(N.value,N.key,this):M(N.value,N.key,this),this._state!==L)throw new Error("LinkedMap got modified during iteration.");N=N.next}}keys(){const M=this,H=this._state;let L=this._head;const N={[Symbol.iterator]:()=>N,next(){if(M._state!==H)throw new Error("LinkedMap got modified during iteration.");if(L){const Z={value:L.key,done:!1};return L=L.next,Z}return{value:void 0,done:!0}}};return N}values(){const M=this,H=this._state;let L=this._head;const N={[Symbol.iterator]:()=>N,next(){if(M._state!==H)throw new Error("LinkedMap got modified during iteration.");if(L){const Z={value:L.value,done:!1};return L=L.next,Z}return{value:void 0,done:!0}}};return N}entries(){const M=this,H=this._state;let L=this._head;const N={[Symbol.iterator]:()=>N,next(){if(M._state!==H)throw new Error("LinkedMap got modified during iteration.");if(L){const Z={value:[L.key,L.value],done:!1};return L=L.next,Z}return{value:void 0,done:!0}}};return N}[(Y=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(M){if(M>=this.size)return;if(0===M)return void this.clear();let H=this._head,L=this.size;for(;H&&L>M;)this._map.delete(H.key),H=H.next,L--;this._head=H,this._size=L,H&&(H.previous=void 0),this._state++}addItemFirst(M){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");M.next=this._head,this._head.previous=M}else this._tail=M;this._head=M,this._state++}addItemLast(M){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");M.previous=this._tail,this._tail.next=M}else this._head=M;this._tail=M,this._state++}removeItem(M){if(M===this._head&&M===this._tail)this._head=void 0,this._tail=void 0;else if(M===this._head){if(!M.next)throw new Error("Invalid list");M.next.previous=void 0,this._head=M.next}else if(M===this._tail){if(!M.previous)throw new Error("Invalid list");M.previous.next=void 0,this._tail=M.previous}else{const H=M.next,L=M.previous;if(!H||!L)throw new Error("Invalid list");H.previous=L,L.next=H}M.next=void 0,M.previous=void 0,this._state++}touch(M,H){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===H||2===H)if(1===H){if(M===this._head)return;const L=M.next,N=M.previous;M===this._tail?(N.next=void 0,this._tail=N):(L.previous=N,N.next=L),M.previous=void 0,M.next=this._head,this._head.previous=M,this._head=M,this._state++}else if(2===H){if(M===this._tail)return;const L=M.next,N=M.previous;M===this._head?(L.previous=void 0,this._head=L):(L.previous=N,N.next=L),M.next=void 0,M.previous=this._tail,this._tail.next=M,this._tail=M,this._state++}}toJSON(){const M=[];return this.forEach((H,L)=>{M.push([L,H])}),M}fromJSON(M){this.clear();for(const[H,L]of M)this.set(H,L)}}class x extends b{constructor(M,H=1){super(),this._limit=M,this._ratio=Math.min(Math.max(0,H),1)}get limit(){return this._limit}set limit(M){this._limit=M,this.checkTrim()}get(M,H=2){return super.get(M,H)}peek(M){return super.get(M,0)}set(M,H){return super.set(M,H,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},7272:(Fe,Ne,m)=>{m.d(Ne,{Q:()=>Y});var E=m(90386),g=m(85459);function Y(D){let i=JSON.parse(D);return i=B(i),i}function B(D,i=0){if(!D||i>200)return D;if("object"==typeof D){switch(D.$mid){case 1:return g.o.revive(D);case 2:return new RegExp(D.source,D.flags);case 14:return new Date(D.source)}if(D instanceof E.KN||D instanceof Uint8Array)return D;if(Array.isArray(D))for(let O=0;O<D.length;++O)D[O]=B(D[O],i+1);else for(const O in D)Object.hasOwnProperty.call(D,O)&&(D[O]=B(D[O],i+1))}return D}},48343:(Fe,Ne,m)=>{m.d(Ne,{v:()=>E});var E=(()=>{return(g=E||(E={})).text="text/plain",g.binary="application/octet-stream",g.unknown="application/unknown",g.markdown="text/markdown",g.latex="text/latex",g.uriList="text/uri-list",E;var g})()},98318:(Fe,Ne,m)=>{m.d(Ne,{lg:()=>Y,WX:()=>i,Gi:()=>F});var E=m(70700),g=m(85459),Y=(()=>{return(k=Y||(Y={})).inMemory="inmemory",k.vscode="vscode",k.internal="private",k.walkThrough="walkThrough",k.walkThroughSnippet="walkThroughSnippet",k.http="http",k.https="https",k.file="file",k.mailto="mailto",k.untitled="untitled",k.data="data",k.command="command",k.vscodeRemote="vscode-remote",k.vscodeRemoteResource="vscode-remote-resource",k.userData="vscode-userdata",k.vscodeCustomEditor="vscode-custom-editor",k.vscodeNotebook="vscode-notebook",k.vscodeNotebookCell="vscode-notebook-cell",k.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",k.vscodeNotebookCellOutput="vscode-notebook-cell-output",k.vscodeInteractive="vscode-interactive",k.vscodeInteractiveInput="vscode-interactive-input",k.vscodeSettings="vscode-settings",k.vscodeWorkspaceTrust="vscode-workspace-trust",k.vscodeTerminal="vscode-terminal",k.webviewPanel="webview-panel",k.vscodeWebview="vscode-webview",k.extension="extension",k.vscodeFileResource="vscode-file",k.tmp="tmp",k.vsls="vsls",Y;var k})();const i=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(y){this._preferredWebSchema=y}rewrite(y){if(this._delegate)return this._delegate(y);const C=y.authority;let b=this._hosts[C];b&&-1!==b.indexOf(":")&&(b=`[${b}]`);const x=this._ports[C],f=this._connectionTokens[C];let M=`path=${encodeURIComponent(y.path)}`;return"string"==typeof f&&(M+=`&tkn=${encodeURIComponent(f)}`),g.o.from({scheme:E.$L?this._preferredWebSchema:Y.vscodeRemoteResource,authority:`${b}:${x}`,path:"/vscode-remote-resource",query:M})}},F=new((()=>{class k{asBrowserUri(C,b){const x=this.toUri(C,b);return x.scheme===Y.vscodeRemote?i.rewrite(x):x.scheme===Y.file&&(E.tY||E.n2&&E.li.origin===`${Y.vscodeFileResource}://${k.FALLBACK_AUTHORITY}`)?x.with({scheme:Y.vscodeFileResource,authority:x.authority||k.FALLBACK_AUTHORITY,query:null,fragment:null}):x}toUri(C,b){return g.o.isUri(C)?C:g.o.parse(b.toUrl(C))}}return k.FALLBACK_AUTHORITY="vscode-app",k})())},31096:(Fe,Ne,m)=>{function E(B,D,i){return Math.min(Math.max(B,D),i)}m.d(Ne,{uZ:()=>E,nM:()=>g,N:()=>Y});class g{constructor(){this._n=1,this._val=0}update(D){return this._val=this._val+(D-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class Y{constructor(D){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(D),this._values.fill(0,0,D)}update(D){const i=this._values[this._index];return this._values[this._index]=D,this._index=(this._index+1)%this._values.length,this._sum-=i,this._sum+=D,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},60842:(Fe,Ne,m)=>{m.d(Ne,{I8:()=>g,_A:()=>Y,rs:()=>D,jB:()=>O,fS:()=>F,CJ:()=>k});var E=m(99770);function g(y){if(!y||"object"!=typeof y||y instanceof RegExp)return y;const C=Array.isArray(y)?[]:{};return Object.keys(y).forEach(b=>{C[b]=y[b]&&"object"==typeof y[b]?g(y[b]):y[b]}),C}function Y(y){if(!y||"object"!=typeof y)return y;const C=[y];for(;C.length>0;){const b=C.shift();Object.freeze(b);for(const x in b)if(B.call(b,x)){const f=b[x];"object"==typeof f&&!Object.isFrozen(f)&&C.push(f)}}return y}const B=Object.prototype.hasOwnProperty;function D(y,C){return i(y,C,new Set)}function i(y,C,b){if((0,E.Jp)(y))return y;const x=C(y);if(void 0!==x)return x;if((0,E.kJ)(y)){const f=[];for(const M of y)f.push(i(M,C,b));return f}if((0,E.Kn)(y)){if(b.has(y))throw new Error("Cannot clone recursive data-structure");b.add(y);const f={};for(let M in y)B.call(y,M)&&(f[M]=i(y[M],C,b));return b.delete(y),f}return y}function O(y,C,b=!0){return(0,E.Kn)(y)?((0,E.Kn)(C)&&Object.keys(C).forEach(x=>{x in y?b&&((0,E.Kn)(y[x])&&(0,E.Kn)(C[x])?O(y[x],C[x],b):y[x]=C[x]):y[x]=C[x]}),y):C}function F(y,C){if(y===C)return!0;if(null==y||null==C||typeof y!=typeof C||"object"!=typeof y||Array.isArray(y)!==Array.isArray(C))return!1;let b,x;if(Array.isArray(y)){if(y.length!==C.length)return!1;for(b=0;b<y.length;b++)if(!F(y[b],C[b]))return!1}else{const f=[];for(x in y)f.push(x);f.sort();const M=[];for(x in C)M.push(x);if(M.sort(),!F(f,M))return!1;for(b=0;b<f.length;b++)if(!F(y[f[b]],C[f[b]]))return!1}return!0}function k(y,C,b){const x=C(y);return void 0===x?b:x}},84491:(Fe,Ne,m)=>{m.d(Ne,{EZ:()=>_e,XX:()=>fe,DZ:()=>we,Fv:()=>G,KR:()=>U,Gf:()=>de,DB:()=>oe,ir:()=>me,Ku:()=>$});var E=m(70700);let g;if(void 0!==E.li.vscode&&void 0!==E.li.vscode.process){const Q=E.li.vscode.process;g={get platform(){return Q.platform},get arch(){return Q.arch},get env(){return Q.env},cwd:()=>Q.cwd()}}else g="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return E.ED?"win32":E.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const Y=g.cwd,B=g.env,D=g.platform,y=46,C=47,b=92,x=58;class M extends Error{constructor(q,le,ee){let J;"string"==typeof le&&0===le.indexOf("not ")?(J="must not be",le=le.replace(/^not /,"")):J="must be";const re=-1!==q.indexOf(".")?"property":"argument";let ce=`The "${q}" ${re} ${J} of type ${le}`;ce+=". Received type "+typeof ee,super(ce),this.code="ERR_INVALID_ARG_TYPE"}}function H(Q,q){if("string"!=typeof Q)throw new M(q,"string",Q)}function L(Q){return Q===C||Q===b}function N(Q){return Q===C}function Z(Q){return Q>=65&&Q<=90||Q>=97&&Q<=122}function P(Q,q,le,ee){let J="",re=0,ce=-1,ve=0,ke=0;for(let We=0;We<=Q.length;++We){if(We<Q.length)ke=Q.charCodeAt(We);else{if(ee(ke))break;ke=C}if(ee(ke)){if(ce!==We-1&&1!==ve)if(2===ve){if(J.length<2||2!==re||J.charCodeAt(J.length-1)!==y||J.charCodeAt(J.length-2)!==y){if(J.length>2){const je=J.lastIndexOf(le);-1===je?(J="",re=0):(J=J.slice(0,je),re=J.length-1-J.lastIndexOf(le)),ce=We,ve=0;continue}if(0!==J.length){J="",re=0,ce=We,ve=0;continue}}q&&(J+=J.length>0?`${le}..`:"..",re=2)}else J.length>0?J+=`${le}${Q.slice(ce+1,We)}`:J=Q.slice(ce+1,We),re=We-ce-1;ce=We,ve=0}else ke===y&&-1!==ve?++ve:ve=-1}return J}function I(Q,q){if(null===q||"object"!=typeof q)throw new M("pathObject","Object",q);const le=q.dir||q.root,ee=q.base||`${q.name||""}${q.ext||""}`;return le?le===q.root?`${le}${ee}`:`${le}${Q}${ee}`:ee}const $={resolve(...Q){let q="",le="",ee=!1;for(let J=Q.length-1;J>=-1;J--){let re;if(J>=0){if(re=Q[J],H(re,"path"),0===re.length)continue}else 0===q.length?re=Y():(re=B[`=${q}`]||Y(),(void 0===re||re.slice(0,2).toLowerCase()!==q.toLowerCase()&&re.charCodeAt(2)===b)&&(re=`${q}\\`));const ce=re.length;let ve=0,ke="",We=!1;const je=re.charCodeAt(0);if(1===ce)L(je)&&(ve=1,We=!0);else if(L(je))if(We=!0,L(re.charCodeAt(1))){let ue=2,Ce=ue;for(;ue<ce&&!L(re.charCodeAt(ue));)ue++;if(ue<ce&&ue!==Ce){const Ae=re.slice(Ce,ue);for(Ce=ue;ue<ce&&L(re.charCodeAt(ue));)ue++;if(ue<ce&&ue!==Ce){for(Ce=ue;ue<ce&&!L(re.charCodeAt(ue));)ue++;(ue===ce||ue!==Ce)&&(ke=`\\\\${Ae}\\${re.slice(Ce,ue)}`,ve=ue)}}}else ve=1;else Z(je)&&re.charCodeAt(1)===x&&(ke=re.slice(0,2),ve=2,ce>2&&L(re.charCodeAt(2))&&(We=!0,ve=3));if(ke.length>0)if(q.length>0){if(ke.toLowerCase()!==q.toLowerCase())continue}else q=ke;if(ee){if(q.length>0)break}else if(le=`${re.slice(ve)}\\${le}`,ee=We,We&&q.length>0)break}return le=P(le,!ee,"\\",L),ee?`${q}\\${le}`:`${q}${le}`||"."},normalize(Q){H(Q,"path");const q=Q.length;if(0===q)return".";let ee,le=0,J=!1;const re=Q.charCodeAt(0);if(1===q)return N(re)?"\\":Q;if(L(re))if(J=!0,L(Q.charCodeAt(1))){let ve=2,ke=ve;for(;ve<q&&!L(Q.charCodeAt(ve));)ve++;if(ve<q&&ve!==ke){const We=Q.slice(ke,ve);for(ke=ve;ve<q&&L(Q.charCodeAt(ve));)ve++;if(ve<q&&ve!==ke){for(ke=ve;ve<q&&!L(Q.charCodeAt(ve));)ve++;if(ve===q)return`\\\\${We}\\${Q.slice(ke)}\\`;ve!==ke&&(ee=`\\\\${We}\\${Q.slice(ke,ve)}`,le=ve)}}}else le=1;else Z(re)&&Q.charCodeAt(1)===x&&(ee=Q.slice(0,2),le=2,q>2&&L(Q.charCodeAt(2))&&(J=!0,le=3));let ce=le<q?P(Q.slice(le),!J,"\\",L):"";return 0===ce.length&&!J&&(ce="."),ce.length>0&&L(Q.charCodeAt(q-1))&&(ce+="\\"),void 0===ee?J?`\\${ce}`:ce:J?`${ee}\\${ce}`:`${ee}${ce}`},isAbsolute(Q){H(Q,"path");const q=Q.length;if(0===q)return!1;const le=Q.charCodeAt(0);return L(le)||q>2&&Z(le)&&Q.charCodeAt(1)===x&&L(Q.charCodeAt(2))},join(...Q){if(0===Q.length)return".";let q,le;for(let re=0;re<Q.length;++re){const ce=Q[re];H(ce,"path"),ce.length>0&&(void 0===q?q=le=ce:q+=`\\${ce}`)}if(void 0===q)return".";let ee=!0,J=0;if("string"==typeof le&&L(le.charCodeAt(0))){++J;const re=le.length;re>1&&L(le.charCodeAt(1))&&(++J,re>2&&(L(le.charCodeAt(2))?++J:ee=!1))}if(ee){for(;J<q.length&&L(q.charCodeAt(J));)J++;J>=2&&(q=`\\${q.slice(J)}`)}return $.normalize(q)},relative(Q,q){if(H(Q,"from"),H(q,"to"),Q===q)return"";const le=$.resolve(Q),ee=$.resolve(q);if(le===ee||(Q=le.toLowerCase())===(q=ee.toLowerCase()))return"";let J=0;for(;J<Q.length&&Q.charCodeAt(J)===b;)J++;let re=Q.length;for(;re-1>J&&Q.charCodeAt(re-1)===b;)re--;const ce=re-J;let ve=0;for(;ve<q.length&&q.charCodeAt(ve)===b;)ve++;let ke=q.length;for(;ke-1>ve&&q.charCodeAt(ke-1)===b;)ke--;const We=ke-ve,je=ce<We?ce:We;let ue=-1,Ce=0;for(;Ce<je;Ce++){const et=Q.charCodeAt(J+Ce);if(et!==q.charCodeAt(ve+Ce))break;et===b&&(ue=Ce)}if(Ce!==je){if(-1===ue)return ee}else{if(We>je){if(q.charCodeAt(ve+Ce)===b)return ee.slice(ve+Ce+1);if(2===Ce)return ee.slice(ve+Ce)}ce>je&&(Q.charCodeAt(J+Ce)===b?ue=Ce:2===Ce&&(ue=3)),-1===ue&&(ue=0)}let Ae="";for(Ce=J+ue+1;Ce<=re;++Ce)(Ce===re||Q.charCodeAt(Ce)===b)&&(Ae+=0===Ae.length?"..":"\\..");return ve+=ue,Ae.length>0?`${Ae}${ee.slice(ve,ke)}`:(ee.charCodeAt(ve)===b&&++ve,ee.slice(ve,ke))},toNamespacedPath(Q){if("string"!=typeof Q)return Q;if(0===Q.length)return"";const q=$.resolve(Q);if(q.length<=2)return Q;if(q.charCodeAt(0)===b){if(q.charCodeAt(1)===b){const le=q.charCodeAt(2);if(63!==le&&le!==y)return`\\\\?\\UNC\\${q.slice(2)}`}}else if(Z(q.charCodeAt(0))&&q.charCodeAt(1)===x&&q.charCodeAt(2)===b)return`\\\\?\\${q}`;return Q},dirname(Q){H(Q,"path");const q=Q.length;if(0===q)return".";let le=-1,ee=0;const J=Q.charCodeAt(0);if(1===q)return L(J)?Q:".";if(L(J)){if(le=ee=1,L(Q.charCodeAt(1))){let ve=2,ke=ve;for(;ve<q&&!L(Q.charCodeAt(ve));)ve++;if(ve<q&&ve!==ke){for(ke=ve;ve<q&&L(Q.charCodeAt(ve));)ve++;if(ve<q&&ve!==ke){for(ke=ve;ve<q&&!L(Q.charCodeAt(ve));)ve++;if(ve===q)return Q;ve!==ke&&(le=ee=ve+1)}}}}else Z(J)&&Q.charCodeAt(1)===x&&(le=q>2&&L(Q.charCodeAt(2))?3:2,ee=le);let re=-1,ce=!0;for(let ve=q-1;ve>=ee;--ve)if(L(Q.charCodeAt(ve))){if(!ce){re=ve;break}}else ce=!1;if(-1===re){if(-1===le)return".";re=le}return Q.slice(0,re)},basename(Q,q){void 0!==q&&H(q,"ext"),H(Q,"path");let re,le=0,ee=-1,J=!0;if(Q.length>=2&&Z(Q.charCodeAt(0))&&Q.charCodeAt(1)===x&&(le=2),void 0!==q&&q.length>0&&q.length<=Q.length){if(q===Q)return"";let ce=q.length-1,ve=-1;for(re=Q.length-1;re>=le;--re){const ke=Q.charCodeAt(re);if(L(ke)){if(!J){le=re+1;break}}else-1===ve&&(J=!1,ve=re+1),ce>=0&&(ke===q.charCodeAt(ce)?-1==--ce&&(ee=re):(ce=-1,ee=ve))}return le===ee?ee=ve:-1===ee&&(ee=Q.length),Q.slice(le,ee)}for(re=Q.length-1;re>=le;--re)if(L(Q.charCodeAt(re))){if(!J){le=re+1;break}}else-1===ee&&(J=!1,ee=re+1);return-1===ee?"":Q.slice(le,ee)},extname(Q){H(Q,"path");let q=0,le=-1,ee=0,J=-1,re=!0,ce=0;Q.length>=2&&Q.charCodeAt(1)===x&&Z(Q.charCodeAt(0))&&(q=ee=2);for(let ve=Q.length-1;ve>=q;--ve){const ke=Q.charCodeAt(ve);if(L(ke)){if(!re){ee=ve+1;break}}else-1===J&&(re=!1,J=ve+1),ke===y?-1===le?le=ve:1!==ce&&(ce=1):-1!==le&&(ce=-1)}return-1===le||-1===J||0===ce||1===ce&&le===J-1&&le===ee+1?"":Q.slice(le,J)},format:I.bind(null,"\\"),parse(Q){H(Q,"path");const q={root:"",dir:"",base:"",ext:"",name:""};if(0===Q.length)return q;const le=Q.length;let ee=0,J=Q.charCodeAt(0);if(1===le)return L(J)?(q.root=q.dir=Q,q):(q.base=q.name=Q,q);if(L(J)){if(ee=1,L(Q.charCodeAt(1))){let ue=2,Ce=ue;for(;ue<le&&!L(Q.charCodeAt(ue));)ue++;if(ue<le&&ue!==Ce){for(Ce=ue;ue<le&&L(Q.charCodeAt(ue));)ue++;if(ue<le&&ue!==Ce){for(Ce=ue;ue<le&&!L(Q.charCodeAt(ue));)ue++;ue===le?ee=ue:ue!==Ce&&(ee=ue+1)}}}}else if(Z(J)&&Q.charCodeAt(1)===x){if(le<=2)return q.root=q.dir=Q,q;if(ee=2,L(Q.charCodeAt(2))){if(3===le)return q.root=q.dir=Q,q;ee=3}}ee>0&&(q.root=Q.slice(0,ee));let re=-1,ce=ee,ve=-1,ke=!0,We=Q.length-1,je=0;for(;We>=ee;--We)if(J=Q.charCodeAt(We),L(J)){if(!ke){ce=We+1;break}}else-1===ve&&(ke=!1,ve=We+1),J===y?-1===re?re=We:1!==je&&(je=1):-1!==re&&(je=-1);return-1!==ve&&(-1===re||0===je||1===je&&re===ve-1&&re===ce+1?q.base=q.name=Q.slice(ce,ve):(q.name=Q.slice(ce,re),q.base=Q.slice(ce,ve),q.ext=Q.slice(re,ve))),q.dir=ce>0&&ce!==ee?Q.slice(0,ce-1):q.root,q},sep:"\\",delimiter:";",win32:null,posix:null},U={resolve(...Q){let q="",le=!1;for(let ee=Q.length-1;ee>=-1&&!le;ee--){const J=ee>=0?Q[ee]:Y();H(J,"path"),0!==J.length&&(q=`${J}/${q}`,le=J.charCodeAt(0)===C)}return q=P(q,!le,"/",N),le?`/${q}`:q.length>0?q:"."},normalize(Q){if(H(Q,"path"),0===Q.length)return".";const q=Q.charCodeAt(0)===C,le=Q.charCodeAt(Q.length-1)===C;return 0===(Q=P(Q,!q,"/",N)).length?q?"/":le?"./":".":(le&&(Q+="/"),q?`/${Q}`:Q)},isAbsolute:Q=>(H(Q,"path"),Q.length>0&&Q.charCodeAt(0)===C),join(...Q){if(0===Q.length)return".";let q;for(let le=0;le<Q.length;++le){const ee=Q[le];H(ee,"path"),ee.length>0&&(void 0===q?q=ee:q+=`/${ee}`)}return void 0===q?".":U.normalize(q)},relative(Q,q){if(H(Q,"from"),H(q,"to"),Q===q||(Q=U.resolve(Q))===(q=U.resolve(q)))return"";const ee=Q.length,J=ee-1,ce=q.length-1,ve=J<ce?J:ce;let ke=-1,We=0;for(;We<ve;We++){const ue=Q.charCodeAt(1+We);if(ue!==q.charCodeAt(1+We))break;ue===C&&(ke=We)}if(We===ve)if(ce>ve){if(q.charCodeAt(1+We)===C)return q.slice(1+We+1);if(0===We)return q.slice(1+We)}else J>ve&&(Q.charCodeAt(1+We)===C?ke=We:0===We&&(ke=0));let je="";for(We=1+ke+1;We<=ee;++We)(We===ee||Q.charCodeAt(We)===C)&&(je+=0===je.length?"..":"/..");return`${je}${q.slice(1+ke)}`},toNamespacedPath:Q=>Q,dirname(Q){if(H(Q,"path"),0===Q.length)return".";const q=Q.charCodeAt(0)===C;let le=-1,ee=!0;for(let J=Q.length-1;J>=1;--J)if(Q.charCodeAt(J)===C){if(!ee){le=J;break}}else ee=!1;return-1===le?q?"/":".":q&&1===le?"//":Q.slice(0,le)},basename(Q,q){void 0!==q&&H(q,"ext"),H(Q,"path");let re,le=0,ee=-1,J=!0;if(void 0!==q&&q.length>0&&q.length<=Q.length){if(q===Q)return"";let ce=q.length-1,ve=-1;for(re=Q.length-1;re>=0;--re){const ke=Q.charCodeAt(re);if(ke===C){if(!J){le=re+1;break}}else-1===ve&&(J=!1,ve=re+1),ce>=0&&(ke===q.charCodeAt(ce)?-1==--ce&&(ee=re):(ce=-1,ee=ve))}return le===ee?ee=ve:-1===ee&&(ee=Q.length),Q.slice(le,ee)}for(re=Q.length-1;re>=0;--re)if(Q.charCodeAt(re)===C){if(!J){le=re+1;break}}else-1===ee&&(J=!1,ee=re+1);return-1===ee?"":Q.slice(le,ee)},extname(Q){H(Q,"path");let q=-1,le=0,ee=-1,J=!0,re=0;for(let ce=Q.length-1;ce>=0;--ce){const ve=Q.charCodeAt(ce);if(ve!==C)-1===ee&&(J=!1,ee=ce+1),ve===y?-1===q?q=ce:1!==re&&(re=1):-1!==q&&(re=-1);else if(!J){le=ce+1;break}}return-1===q||-1===ee||0===re||1===re&&q===ee-1&&q===le+1?"":Q.slice(q,ee)},format:I.bind(null,"/"),parse(Q){H(Q,"path");const q={root:"",dir:"",base:"",ext:"",name:""};if(0===Q.length)return q;const le=Q.charCodeAt(0)===C;let ee;le?(q.root="/",ee=1):ee=0;let J=-1,re=0,ce=-1,ve=!0,ke=Q.length-1,We=0;for(;ke>=ee;--ke){const je=Q.charCodeAt(ke);if(je!==C)-1===ce&&(ve=!1,ce=ke+1),je===y?-1===J?J=ke:1!==We&&(We=1):-1!==J&&(We=-1);else if(!ve){re=ke+1;break}}if(-1!==ce){const je=0===re&&le?1:re;-1===J||0===We||1===We&&J===ce-1&&J===re+1?q.base=q.name=Q.slice(je,ce):(q.name=Q.slice(je,J),q.base=Q.slice(je,ce),q.ext=Q.slice(J,ce))}return re>0?q.dir=Q.slice(0,re-1):le&&(q.dir="/"),q},sep:"/",delimiter:":",win32:null,posix:null};U.win32=$.win32=$,U.posix=$.posix=U;const G="win32"===D?$.normalize:U.normalize,oe="win32"===D?$.resolve:U.resolve,de="win32"===D?$.relative:U.relative,fe="win32"===D?$.dirname:U.dirname,_e="win32"===D?$.basename:U.basename,we="win32"===D?$.extname:U.extname,me="win32"===D?$.sep:U.sep},70700:(Fe,Ne,m)=>{var E;m.d(Ne,{li:()=>H,ED:()=>I,dz:()=>$,IJ:()=>U,tY:()=>G,$L:()=>oe,n2:()=>de,gn:()=>fe,dK:()=>we,fn:()=>me,OS:()=>Q,r:()=>ee,i7:()=>J,vU:()=>re,G6:()=>ce,un:()=>ve});const g="en";let b,f,M,Y=!1,B=!1,D=!1,i=!1,O=!1,F=!1,k=!1,y=!1,C=!1,x=g;const H="object"==typeof self?self:"object"==typeof global?global:{};let L;void 0!==H.vscode&&void 0!==H.vscode.process?L=H.vscode.process:"undefined"!=typeof process&&(L=process);const N="string"==typeof(null===(E=null==L?void 0:L.versions)||void 0===E?void 0:E.electron);if("object"!=typeof navigator||N&&"renderer"===(null==L?void 0:L.type))if("object"==typeof L){Y="win32"===L.platform,B="darwin"===L.platform,D="linux"===L.platform,i=D&&!!L.env.SNAP&&!!L.env.SNAP_REVISION,k=N,C=!!L.env.CI||!!L.env.BUILD_ARTIFACTSTAGINGDIRECTORY,b=g,x=g;const We=L.env.VSCODE_NLS_CONFIG;if(We)try{const je=JSON.parse(We);b=je.locale,x=je.availableLanguages["*"]||g,f=je._translationsConfigFile}catch{}O=!0}else console.error("Unable to resolve platform.");else M=navigator.userAgent,Y=M.indexOf("Windows")>=0,B=M.indexOf("Macintosh")>=0,y=(M.indexOf("Macintosh")>=0||M.indexOf("iPad")>=0||M.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,D=M.indexOf("Linux")>=0,F=!0,b=navigator.language,x=b;let P=0;B?P=1:Y?P=3:D&&(P=2);const I=Y,$=B,U=D,G=O,oe=F,de=F&&"function"==typeof H.importScripts,fe=y,_e=M,we=x,me=(()=>{if("function"==typeof H.postMessage&&!H.importScripts){let We=[];H.addEventListener("message",ue=>{if(ue.data&&ue.data.vscodeScheduleAsyncWork)for(let Ce=0,Ae=We.length;Ce<Ae;Ce++){const et=We[Ce];if(et.id===ue.data.vscodeScheduleAsyncWork)return We.splice(Ce,1),void et.callback()}});let je=0;return ue=>{const Ce=++je;We.push({id:Ce,callback:ue}),H.postMessage({vscodeScheduleAsyncWork:Ce},"*")}}return We=>setTimeout(We)})(),Q=B||y?2:Y?1:3;let q=!0,le=!1;function ee(){if(!le){le=!0;const We=new Uint8Array(2);We[0]=1,We[1]=2,q=513===new Uint16Array(We.buffer)[0]}return q}const J=!!(_e&&_e.indexOf("Chrome")>=0),re=!!(_e&&_e.indexOf("Firefox")>=0),ce=!!(!J&&_e&&_e.indexOf("Safari")>=0),ve=!!(_e&&_e.indexOf("Edg/")>=0);_e&&_e.indexOf("Android")},32975:(Fe,Ne,m)=>{var E;m.d(Ne,{e:()=>E}),function(g){function Y(O,F){if(O.start>=F.end||F.start>=O.end)return{start:0,end:0};const k=Math.max(O.start,F.start),y=Math.min(O.end,F.end);return y-k<=0?{start:0,end:0}:{start:k,end:y}}function B(O){return O.end-O.start<=0}g.intersect=Y,g.isEmpty=B,g.intersects=function(O,F){return!B(Y(O,F))},g.relativeComplement=function(O,F){const k=[],y={start:O.start,end:Math.min(F.start,O.end)},C={start:Math.max(F.end,O.start),end:O.end};return B(y)||k.push(y),B(C)||k.push(C),k}}(E||(E={}))},6228:(Fe,Ne,m)=>{m.d(Ne,{z_:()=>O,SF:()=>k,Xy:()=>b,Hx:()=>M,EZ:()=>H,DZ:()=>L,XX:()=>N,Vo:()=>Z,AH:()=>P,i3:()=>$,Vb:()=>_e});var E=m(46359),g=m(98318),Y=m(84491),B=m(70700),D=m(74243),i=m(85459);function O(we){return(0,i.q)(we,!0)}class F{constructor(me){this._ignorePathCasing=me}compare(me,Q,q=!1){return me===Q?0:(0,D.qu)(this.getComparisonKey(me,q),this.getComparisonKey(Q,q))}isEqual(me,Q,q=!1){return me===Q||!(!me||!Q)&&this.getComparisonKey(me,q)===this.getComparisonKey(Q,q)}getComparisonKey(me,Q=!1){return me.with({path:this._ignorePathCasing(me)?me.path.toLowerCase():void 0,fragment:Q?null:void 0}).toString()}isEqualOrParent(me,Q,q=!1){if(me.scheme===Q.scheme){if(me.scheme===g.lg.file)return E.KM(O(me),O(Q),this._ignorePathCasing(me))&&me.query===Q.query&&(q||me.fragment===Q.fragment);if(G(me.authority,Q.authority))return E.KM(me.path,Q.path,this._ignorePathCasing(me),"/")&&me.query===Q.query&&(q||me.fragment===Q.fragment)}return!1}joinPath(me,...Q){return i.o.joinPath(me,...Q)}basenameOrAuthority(me){return H(me)||me.authority}basename(me){return Y.KR.basename(me.path)}extname(me){return Y.KR.extname(me.path)}dirname(me){if(0===me.path.length)return me;let Q;return me.scheme===g.lg.file?Q=i.o.file(Y.XX(O(me))).path:(Q=Y.KR.dirname(me.path),me.authority&&Q.length&&47!==Q.charCodeAt(0)&&(console.error(`dirname("${me.toString})) resulted in a relative path`),Q="/")),me.with({path:Q})}normalizePath(me){if(!me.path.length)return me;let Q;return Q=me.scheme===g.lg.file?i.o.file(Y.Fv(O(me))).path:Y.KR.normalize(me.path),me.with({path:Q})}relativePath(me,Q){if(me.scheme!==Q.scheme||!G(me.authority,Q.authority))return;if(me.scheme===g.lg.file){const ee=Y.Gf(O(me),O(Q));return B.ED?E.ej(ee):ee}let q=me.path||"/",le=Q.path||"/";if(this._ignorePathCasing(me)){let ee=0;for(const J=Math.min(q.length,le.length);ee<J&&(q.charCodeAt(ee)===le.charCodeAt(ee)||q.charAt(ee).toLowerCase()===le.charAt(ee).toLowerCase());ee++);q=le.substr(0,ee)+q.substr(ee)}return Y.KR.relative(q,le)}resolvePath(me,Q){if(me.scheme===g.lg.file){const q=i.o.file(Y.DB(O(me),Q));return me.with({authority:q.authority,path:q.path})}return Q=E.fn(Q),me.with({path:Y.KR.resolve(me.path,Q)})}isAbsolutePath(me){return!!me.path&&"/"===me.path[0]}isEqualAuthority(me,Q){return me===Q||void 0!==me&&void 0!==Q&&(0,D.qq)(me,Q)}hasTrailingPathSeparator(me,Q=Y.ir){if(me.scheme===g.lg.file){const q=O(me);return q.length>E.yj(q).length&&q[q.length-1]===Q}{const q=me.path;return q.length>1&&47===q.charCodeAt(q.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(me.fsPath)}}removeTrailingPathSeparator(me,Q=Y.ir){return oe(me,Q)?me.with({path:me.path.substr(0,me.path.length-1)}):me}addTrailingPathSeparator(me,Q=Y.ir){let q=!1;if(me.scheme===g.lg.file){const le=O(me);q=void 0!==le&&le.length===E.yj(le).length&&le[le.length-1]===Q}else{Q="/";const le=me.path;q=1===le.length&&47===le.charCodeAt(le.length-1)}return q||oe(me,Q)?me:me.with({path:me.path+"/"})}}const k=new F(()=>!1),b=(new F(we=>we.scheme!==g.lg.file||!B.IJ),new F(we=>!0),k.isEqual.bind(k)),M=(k.isEqualOrParent.bind(k),k.getComparisonKey.bind(k),k.basenameOrAuthority.bind(k)),H=k.basename.bind(k),L=k.extname.bind(k),N=k.dirname.bind(k),Z=k.joinPath.bind(k),P=k.normalizePath.bind(k),$=(k.relativePath.bind(k),k.resolvePath.bind(k)),G=(k.isAbsolutePath.bind(k),k.isEqualAuthority.bind(k)),oe=k.hasTrailingPathSeparator.bind(k);var _e,we;k.removeTrailingPathSeparator.bind(k),k.addTrailingPathSeparator.bind(k),(we=_e||(_e={})).META_DATA_LABEL="label",we.META_DATA_DESCRIPTION="description",we.META_DATA_SIZE="size",we.META_DATA_MIME="mime",we.parseMetaData=function(Q){const q=new Map;Q.path.substring(Q.path.indexOf(";")+1,Q.path.lastIndexOf(";")).split(";").forEach(J=>{const[re,ce]=J.split(":");re&&ce&&q.set(re,ce)});const ee=Q.path.substring(0,Q.path.indexOf(";"));return ee&&q.set(we.META_DATA_MIME,ee),q}},90443:(Fe,Ne,m)=>{m.d(Ne,{Rm:()=>B});var E=m(71040),g=m(40189);class Y{constructor(b,x,f,M,H,L,N){this._forceIntegerValues=b,this._scrollStateBrand=void 0,this._forceIntegerValues&&(x|=0,f|=0,M|=0,H|=0,L|=0,N|=0),this.rawScrollLeft=M,this.rawScrollTop=N,x<0&&(x=0),M+x>f&&(M=f-x),M<0&&(M=0),H<0&&(H=0),N+H>L&&(N=L-H),N<0&&(N=0),this.width=x,this.scrollWidth=f,this.scrollLeft=M,this.height=H,this.scrollHeight=L,this.scrollTop=N}equals(b){return this.rawScrollLeft===b.rawScrollLeft&&this.rawScrollTop===b.rawScrollTop&&this.width===b.width&&this.scrollWidth===b.scrollWidth&&this.scrollLeft===b.scrollLeft&&this.height===b.height&&this.scrollHeight===b.scrollHeight&&this.scrollTop===b.scrollTop}withScrollDimensions(b,x){return new Y(this._forceIntegerValues,void 0!==b.width?b.width:this.width,void 0!==b.scrollWidth?b.scrollWidth:this.scrollWidth,x?this.rawScrollLeft:this.scrollLeft,void 0!==b.height?b.height:this.height,void 0!==b.scrollHeight?b.scrollHeight:this.scrollHeight,x?this.rawScrollTop:this.scrollTop)}withScrollPosition(b){return new Y(this._forceIntegerValues,this.width,this.scrollWidth,void 0!==b.scrollLeft?b.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==b.scrollTop?b.scrollTop:this.rawScrollTop)}createScrollEvent(b,x){return{inSmoothScrolling:x,oldWidth:b.width,oldScrollWidth:b.scrollWidth,oldScrollLeft:b.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:b.height,oldScrollHeight:b.scrollHeight,oldScrollTop:b.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==b.width,scrollWidthChanged:this.scrollWidth!==b.scrollWidth,scrollLeftChanged:this.scrollLeft!==b.scrollLeft,heightChanged:this.height!==b.height,scrollHeightChanged:this.scrollHeight!==b.scrollHeight,scrollTopChanged:this.scrollTop!==b.scrollTop}}}class B extends g.JT{constructor(b){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new E.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=b.smoothScrollDuration,this._scheduleAtNextAnimationFrame=b.scheduleAtNextAnimationFrame,this._state=new Y(b.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(b){this._smoothScrollDuration=b}validateScrollPosition(b){return this._state.withScrollPosition(b)}getScrollDimensions(){return this._state}setScrollDimensions(b,x){const f=this._state.withScrollDimensions(b,x);this._setState(f,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(b){const x=this._state.withScrollPosition(b);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(x,!1)}setScrollPositionSmooth(b,x){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(b);if(this._smoothScrolling){const f=this._state.withScrollPosition(b={scrollLeft:void 0===b.scrollLeft?this._smoothScrolling.to.scrollLeft:b.scrollLeft,scrollTop:void 0===b.scrollTop?this._smoothScrolling.to.scrollTop:b.scrollTop});if(this._smoothScrolling.to.scrollLeft===f.scrollLeft&&this._smoothScrolling.to.scrollTop===f.scrollTop)return;let M;M=x?new F(this._smoothScrolling.from,f,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,f,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=M}else{const f=this._state.withScrollPosition(b);this._smoothScrolling=F.start(this._state,f,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const b=this._smoothScrolling.tick(),x=this._state.withScrollPosition(b);if(this._setState(x,!0),this._smoothScrolling){if(b.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(b,x){const f=this._state;f.equals(b)||(this._state=b,this._onScroll.fire(this._state.createScrollEvent(f,x)))}}class D{constructor(b,x,f){this.scrollLeft=b,this.scrollTop=x,this.isDone=f}}function i(C,b){const x=b-C;return function(f){return C+x*function(C){return 1-function(C){return Math.pow(C,3)}(1-C)}(f)}}class F{constructor(b,x,f,M){this.from=b,this.to=x,this.duration=M,this.startTime=f,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(b,x,f){if(Math.abs(b-x)>2.5*f){let H,L;return b<x?(H=b+.75*f,L=x-.75*f):(H=b-.75*f,L=x+.75*f),function(C,b,x){return function(f){return f<x?C(f/x):b((f-x)/(1-x))}}(i(b,H),i(L,x),.33)}return i(b,x)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(b){this.to=b.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(b){const x=(b-this.startTime)/this.duration;if(x<1){const f=this.scrollLeft(x),M=this.scrollTop(x);return new D(f,M,!1)}return new D(this.to.scrollLeft,this.to.scrollTop,!0)}combine(b,x,f){return F.start(b,x,f)}static start(b,x,f){f+=10;const M=Date.now()-10;return new F(b,x,M,f)}}},13310:(Fe,Ne,m)=>{m.d(Ne,{Z:()=>Y});var E=m(74243),g=(()=>{return(B=g||(g={}))[B.Ignore=0]="Ignore",B[B.Info=1]="Info",B[B.Warning=2]="Warning",B[B.Error=3]="Error",g;var B})();!function(B){const D="error",i="warning",F="info";B.fromValue=function(b){return b?E.qq(D,b)?B.Error:E.qq(i,b)||E.qq("warn",b)?B.Warning:E.qq(F,b)?B.Info:B.Ignore:B.Ignore},B.toString=function(b){switch(b){case B.Error:return D;case B.Warning:return i;case B.Info:return F;default:return"ignore"}}}(g||(g={}));const Y=g},39932:(Fe,Ne,m)=>{m.d(Ne,{G:()=>Y});var E=m(70700);const g=E.li.performance&&"function"==typeof E.li.performance.now;class Y{constructor(D){this._highResolution=g&&D,this._startTime=this._now(),this._stopTime=-1}static create(D=!0){return new Y(D)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?E.li.performance.now():Date.now()}}},74243:(Fe,Ne,m)=>{m.d(Ne,{ZK:()=>zt,W1:()=>ce,vU:()=>fn,Qe:()=>et,c1:()=>ht,Mh:()=>we,P1:()=>me,qu:()=>I,zY:()=>U,TT:()=>$,j_:()=>G,rL:()=>le,Ut:()=>ue,ab:()=>$e,Kw:()=>xe,un:()=>b,GF:()=>f,qq:()=>fe,YU:()=>O,ec:()=>F,LC:()=>N,WU:()=>i,J_:()=>We,V8:()=>Z,oH:()=>mn,ZH:()=>ee,$i:()=>Ae,C8:()=>rt,m5:()=>B,K7:()=>Te,ZG:()=>Q,YK:()=>q,mK:()=>oe,df:()=>de,ow:()=>P,j3:()=>y,vH:()=>ve,B4:()=>Vt,HO:()=>ke,mr:()=>H,IO:()=>M,oL:()=>C,PJ:()=>Ie,uq:()=>L,ok:()=>_e,uS:()=>nt,R1:()=>x,fy:()=>k});var Y,g=m(90341);function B(Ye){return!Ye||"string"!=typeof Ye||0===Ye.trim().length}const D=/{(\d+)}/g;function i(Ye,...Et){return 0===Et.length?Ye:Ye.replace(D,function(St,sn){const Dn=parseInt(sn,10);return isNaN(Dn)||Dn<0||Dn>=Et.length?St:Et[Dn]})}function O(Ye){return Ye.replace(/[<>&]/g,function(Et){switch(Et){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Et}})}function F(Ye){return Ye.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function k(Ye,Et=" "){return C(y(Ye,Et),Et)}function y(Ye,Et){if(!Ye||!Et)return Ye;const St=Et.length;if(0===St||0===Ye.length)return Ye;let sn=0;for(;Ye.indexOf(Et,sn)===sn;)sn+=St;return Ye.substring(sn)}function C(Ye,Et){if(!Ye||!Et)return Ye;const St=Et.length,sn=Ye.length;if(0===St||0===sn)return Ye;let Dn=sn,Rt=-1;for(;Rt=Ye.lastIndexOf(Et,Dn-1),-1!==Rt&&Rt+St===Dn;){if(0===Rt)return"";Dn=Rt}return Ye.substring(0,Dn)}function b(Ye){return Ye.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function x(Ye){return Ye.replace(/\*/g,"")}function f(Ye,Et,St={}){if(!Ye)throw new Error("Cannot create regex from empty string");Et||(Ye=F(Ye)),St.wholeWord&&(/\B/.test(Ye.charAt(0))||(Ye="\\b"+Ye),/\B/.test(Ye.charAt(Ye.length-1))||(Ye+="\\b"));let sn="";return St.global&&(sn+="g"),St.matchCase||(sn+="i"),St.multiline&&(sn+="m"),St.unicode&&(sn+="u"),new RegExp(Ye,sn)}function M(Ye){return"^"!==Ye.source&&"^$"!==Ye.source&&"$"!==Ye.source&&"^\\s*$"!==Ye.source&&!(!Ye.exec("")||0!==Ye.lastIndex)}function H(Ye){return(Ye.global?"g":"")+(Ye.ignoreCase?"i":"")+(Ye.multiline?"m":"")+(Ye.unicode?"u":"")}function L(Ye){return Ye.split(/\r\n|\r|\n/)}function N(Ye){for(let Et=0,St=Ye.length;Et<St;Et++){const sn=Ye.charCodeAt(Et);if(32!==sn&&9!==sn)return Et}return-1}function Z(Ye,Et=0,St=Ye.length){for(let sn=Et;sn<St;sn++){const Dn=Ye.charCodeAt(sn);if(32!==Dn&&9!==Dn)return Ye.substring(Et,sn)}return Ye.substring(Et,St)}function P(Ye,Et=Ye.length-1){for(let St=Et;St>=0;St--){const sn=Ye.charCodeAt(St);if(32!==sn&&9!==sn)return St}return-1}function I(Ye,Et){return Ye<Et?-1:Ye>Et?1:0}function $(Ye,Et,St=0,sn=Ye.length,Dn=0,Rt=Et.length){for(;St<sn&&Dn<Rt;St++,Dn++){let xi=Ye.charCodeAt(St),At=Et.charCodeAt(Dn);if(xi<At)return-1;if(xi>At)return 1}const Mt=sn-St,Yn=Rt-Dn;return Mt<Yn?-1:Mt>Yn?1:0}function U(Ye,Et){return G(Ye,Et,0,Ye.length,0,Et.length)}function G(Ye,Et,St=0,sn=Ye.length,Dn=0,Rt=Et.length){for(;St<sn&&Dn<Rt;St++,Dn++){let xi=Ye.charCodeAt(St),At=Et.charCodeAt(Dn);if(xi===At)continue;if(xi>=128||At>=128)return $(Ye.toLowerCase(),Et.toLowerCase(),St,sn,Dn,Rt);oe(xi)&&(xi-=32),oe(At)&&(At-=32);const Bi=xi-At;if(0!==Bi)return Bi}const Mt=sn-St,Yn=Rt-Dn;return Mt<Yn?-1:Mt>Yn?1:0}function oe(Ye){return Ye>=97&&Ye<=122}function de(Ye){return Ye>=65&&Ye<=90}function fe(Ye,Et){return Ye.length===Et.length&&0===G(Ye,Et)}function _e(Ye,Et){return!(Et.length>Ye.length)&&0===G(Ye,Et,0,Et.length)}function we(Ye,Et){let St,sn=Math.min(Ye.length,Et.length);for(St=0;St<sn;St++)if(Ye.charCodeAt(St)!==Et.charCodeAt(St))return St;return sn}function me(Ye,Et){let St,sn=Math.min(Ye.length,Et.length);const Dn=Ye.length-1,Rt=Et.length-1;for(St=0;St<sn;St++)if(Ye.charCodeAt(Dn-St)!==Et.charCodeAt(Rt-St))return St;return sn}function Q(Ye){return 55296<=Ye&&Ye<=56319}function q(Ye){return 56320<=Ye&&Ye<=57343}function le(Ye,Et){return Et-56320+(Ye-55296<<10)+65536}function ee(Ye,Et,St){const sn=Ye.charCodeAt(St);if(Q(sn)&&St+1<Et){const Dn=Ye.charCodeAt(St+1);if(q(Dn))return le(sn,Dn)}return sn}class re{constructor(Et,St=0){this._str=Et,this._len=Et.length,this._offset=St}get offset(){return this._offset}setOffset(Et){this._offset=Et}prevCodePoint(){const Et=function(Ye,Et){const St=Ye.charCodeAt(Et-1);if(q(St)&&Et>1){const sn=Ye.charCodeAt(Et-2);if(Q(sn))return le(sn,St)}return St}(this._str,this._offset);return this._offset-=Et>=65536?2:1,Et}nextCodePoint(){const Et=ee(this._str,this._len,this._offset);return this._offset+=Et>=65536?2:1,Et}eol(){return this._offset>=this._len}}class ce{constructor(Et,St=0){this._iterator=new re(Et,St)}get offset(){return this._iterator.offset}nextGraphemeLength(){const Et=bt.getInstance(),St=this._iterator,sn=St.offset;let Dn=Et.getGraphemeBreakType(St.nextCodePoint());for(;!St.eol();){const Rt=St.offset,Mt=Et.getGraphemeBreakType(St.nextCodePoint());if(at(Dn,Mt)){St.setOffset(Rt);break}Dn=Mt}return St.offset-sn}prevGraphemeLength(){const Et=bt.getInstance(),St=this._iterator,sn=St.offset;let Dn=Et.getGraphemeBreakType(St.prevCodePoint());for(;St.offset>0;){const Rt=St.offset,Mt=Et.getGraphemeBreakType(St.prevCodePoint());if(at(Mt,Dn)){St.setOffset(Rt);break}Dn=Mt}return sn-St.offset}eol(){return this._iterator.eol()}}function ve(Ye,Et){return new ce(Ye,Et).nextGraphemeLength()}function ke(Ye,Et){return new ce(Ye,Et).prevGraphemeLength()}function We(Ye,Et){Et>0&&q(Ye.charCodeAt(Et))&&Et--;const St=Et+ve(Ye,Et);return[St-ke(Ye,St),St]}const je=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function ue(Ye){return je.test(Ye)}const Ce=/^[\t\n\r\x20-\x7E]*$/;function Ae(Ye){return Ce.test(Ye)}const et=/[\u2028\u2029]/;function $e(Ye){return et.test(Ye)}function Te(Ye){return Ye>=11904&&Ye<=55215||Ye>=63744&&Ye<=64255||Ye>=65281&&Ye<=65374}function rt(Ye){return Ye>=127462&&Ye<=127487||8986===Ye||8987===Ye||9200===Ye||9203===Ye||Ye>=9728&&Ye<=10175||11088===Ye||11093===Ye||Ye>=127744&&Ye<=128591||Ye>=128640&&Ye<=128764||Ye>=128992&&Ye<=129008||Ye>=129280&&Ye<=129535||Ye>=129648&&Ye<=129782}const ht=String.fromCharCode(65279);function nt(Ye){return!!(Ye&&Ye.length>0&&65279===Ye.charCodeAt(0))}function xe(Ye,Et=!1){return!!Ye&&(Et&&(Ye=Ye.replace(/\\./g,"")),Ye.toLowerCase()!==Ye)}function Ie(Ye){return Ye%=52,String.fromCharCode(Ye<26?97+Ye:65+Ye-26)}function at(Ye,Et){return 0===Ye?5!==Et&&7!==Et:!(2===Ye&&3===Et||4!==Ye&&2!==Ye&&3!==Ye&&4!==Et&&2!==Et&&3!==Et&&(8===Ye&&(8===Et||9===Et||11===Et||12===Et)||(11===Ye||9===Ye)&&(9===Et||10===Et)||(12===Ye||10===Ye)&&10===Et||5===Et||13===Et||7===Et||1===Ye||13===Ye&&14===Et||6===Ye&&6===Et))}let bt=(()=>{class Ye{constructor(){this._data=JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}static getInstance(){return Ye._INSTANCE||(Ye._INSTANCE=new Ye),Ye._INSTANCE}getGraphemeBreakType(St){if(St<32)return 10===St?3:13===St?2:4;if(St<127)return 0;const sn=this._data,Dn=sn.length/3;let Rt=1;for(;Rt<=Dn;)if(St<sn[3*Rt])Rt*=2;else{if(!(St>sn[3*Rt+1]))return sn[3*Rt+2];Rt=2*Rt+1}return 0}}return Ye._INSTANCE=null,Ye})();function mn(Ye,Et){if(0===Ye)return 0;const St=function(Ye,Et){const St=new re(Et,Ye);let sn=St.prevCodePoint();for(;Bt(sn)||65039===sn||8419===sn;){if(0===St.offset)return;sn=St.prevCodePoint()}if(!rt(sn))return;let Dn=St.offset;return Dn>0&&8205===St.prevCodePoint()&&(Dn=St.offset),Dn}(Ye,Et);if(void 0!==St)return St;const sn=new re(Et,Ye);return sn.prevCodePoint(),sn.offset}function Bt(Ye){return 127995<=Ye&&Ye<=127999}const Vt="\xa0";class zt{constructor(Et){this.confusableDictionary=Et}static getInstance(Et){return zt.cache.get(Array.from(Et))}static getLocales(){return zt._locales.getValue()}isAmbiguous(Et){return this.confusableDictionary.has(Et)}getPrimaryConfusable(Et){return this.confusableDictionary.get(Et)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}Y=zt,zt.ambiguousCharacterData=new g.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),zt.cache=new class{constructor(Et){this.computeFn=Et,this.lastCache=void 0,this.lastArgKey=void 0}get(Et){const St=JSON.stringify(Et);return this.lastArgKey!==St&&(this.lastArgKey=St,this.lastCache=this.computeFn(Et)),this.lastCache}}(Ye=>{function Et(At){const Bi=new Map;for(let Xt=0;Xt<At.length;Xt+=2)Bi.set(At[Xt],At[Xt+1]);return Bi}function sn(At,Bi){if(!At)return Bi;const Xt=new Map;for(const[He,Ue]of At)Bi.has(He)&&Xt.set(He,Ue);return Xt}const Dn=Y.ambiguousCharacterData.getValue();let Mt,Rt=Ye.filter(At=>!At.startsWith("_")&&At in Dn);0===Rt.length&&(Rt=["_default"]);for(const At of Rt)Mt=sn(Mt,Et(Dn[At]));const xi=function(At,Bi){const Xt=new Map(At);for(const[He,Ue]of Bi)Xt.set(He,Ue);return Xt}(Et(Dn._common),Mt);return new zt(xi)}),zt._locales=new g.o(()=>Object.keys(zt.ambiguousCharacterData.getValue()).filter(Ye=>!Ye.startsWith("_")));class fn{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(fn.getRawData())),this._data}static isInvisibleCharacter(Et){return fn.getData().has(Et)}static get codePoints(){return fn.getData()}}fn._data=void 0},99770:(Fe,Ne,m)=>{function E(P){return Array.isArray(P)}function g(P){return"string"==typeof P}function Y(P){return!("object"!=typeof P||null===P||Array.isArray(P)||P instanceof RegExp||P instanceof Date)}function B(P){return"number"==typeof P&&!isNaN(P)}function D(P){return!!P&&"function"==typeof P[Symbol.iterator]}function i(P){return!0===P||!1===P}function O(P){return void 0===P}function F(P){return!k(P)}function k(P){return O(P)||null===P}function y(P,I){if(!P)throw new Error(I?`Unexpected type, expected '${I}'`:"Unexpected type")}function C(P){if(k(P))throw new Error("Assertion Failed: argument is undefined or null");return P}function b(P){return"function"==typeof P}function x(P,I){const $=Math.min(P.length,I.length);for(let U=0;U<$;U++)f(P[U],I[U])}function f(P,I){if(g(I)){if(typeof P!==I)throw new Error(`argument does not match constraint: typeof ${I}`)}else if(b(I)){try{if(P instanceof I)return}catch{}if(!k(P)&&P.constructor===I||1===I.length&&!0===I.call(void 0,P))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function H(P){const I=[];for(const $ of function(P){let I=[],$=Object.getPrototypeOf(P);for(;Object.prototype!==$;)I=I.concat(Object.getOwnPropertyNames($)),$=Object.getPrototypeOf($);return I}(P))"function"==typeof P[$]&&I.push($);return I}function L(P,I){const $=G=>function(){const oe=Array.prototype.slice.call(arguments,0);return I(G,oe)};let U={};for(const G of P)U[G]=$(G);return U}function N(P){return null===P?void 0:P}function Z(P,I="Unreachable"){throw new Error(I)}m.d(Ne,{kJ:()=>E,HD:()=>g,Kn:()=>Y,hj:()=>B,TW:()=>D,jn:()=>i,o8:()=>O,$K:()=>F,Jp:()=>k,p_:()=>y,cW:()=>C,mf:()=>b,D8:()=>x,$E:()=>H,IU:()=>L,f6:()=>N,vE:()=>Z})},68733:(Fe,Ne,m)=>{function E(Y){return Y<0?0:Y>255?255:0|Y}function g(Y){return Y<0?0:Y>4294967295?4294967295:0|Y}m.d(Ne,{K:()=>E,A:()=>g})},85459:(Fe,Ne,m)=>{m.d(Ne,{o:()=>b,q:()=>N});var E=m(84491),g=m(70700);const Y=/^\w[\w\d+.-]*$/,B=/^\//,D=/^\/\//;function i(U,G){if(!U.scheme&&G)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${U.authority}", path: "${U.path}", query: "${U.query}", fragment: "${U.fragment}"}`);if(U.scheme&&!Y.test(U.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(U.path)if(U.authority){if(!B.test(U.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(D.test(U.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const k="",y="/",C=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class b{constructor(G,oe,de,fe,_e,we=!1){"object"==typeof G?(this.scheme=G.scheme||k,this.authority=G.authority||k,this.path=G.path||k,this.query=G.query||k,this.fragment=G.fragment||k):(this.scheme=function(U,G){return U||G?U:"file"}(G,we),this.authority=oe||k,this.path=function(U,G){switch(U){case"https":case"http":case"file":G?G[0]!==y&&(G=y+G):G=y}return G}(this.scheme,de||k),this.query=fe||k,this.fragment=_e||k,i(this,we))}static isUri(G){return G instanceof b||!!G&&"string"==typeof G.authority&&"string"==typeof G.fragment&&"string"==typeof G.path&&"string"==typeof G.query&&"string"==typeof G.scheme&&"string"==typeof G.fsPath&&"function"==typeof G.with&&"function"==typeof G.toString}get fsPath(){return N(this,!1)}with(G){if(!G)return this;let{scheme:oe,authority:de,path:fe,query:_e,fragment:we}=G;return void 0===oe?oe=this.scheme:null===oe&&(oe=k),void 0===de?de=this.authority:null===de&&(de=k),void 0===fe?fe=this.path:null===fe&&(fe=k),void 0===_e?_e=this.query:null===_e&&(_e=k),void 0===we?we=this.fragment:null===we&&(we=k),oe===this.scheme&&de===this.authority&&fe===this.path&&_e===this.query&&we===this.fragment?this:new f(oe,de,fe,_e,we)}static parse(G,oe=!1){const de=C.exec(G);return de?new f(de[2]||k,$(de[4]||k),$(de[5]||k),$(de[7]||k),$(de[9]||k),oe):new f(k,k,k,k,k)}static file(G){let oe=k;if(g.ED&&(G=G.replace(/\\/g,y)),G[0]===y&&G[1]===y){const de=G.indexOf(y,2);-1===de?(oe=G.substring(2),G=y):(oe=G.substring(2,de),G=G.substring(de)||y)}return new f("file",oe,G,k,k)}static from(G){const oe=new f(G.scheme,G.authority,G.path,G.query,G.fragment);return i(oe,!0),oe}static joinPath(G,...oe){if(!G.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let de;return de=g.ED&&"file"===G.scheme?b.file(E.Ku.join(N(G,!0),...oe)).path:E.KR.join(G.path,...oe),G.with({path:de})}toString(G=!1){return Z(this,G)}toJSON(){return this}static revive(G){if(G){if(G instanceof b)return G;{const oe=new f(G);return oe._formatted=G.external,oe._fsPath=G._sep===x?G.fsPath:null,oe}}return G}}const x=g.ED?1:void 0;class f extends b{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=N(this,!1)),this._fsPath}toString(G=!1){return G?Z(this,!0):(this._formatted||(this._formatted=Z(this,!1)),this._formatted)}toJSON(){const G={$mid:1};return this._fsPath&&(G.fsPath=this._fsPath,G._sep=x),this._formatted&&(G.external=this._formatted),this.path&&(G.path=this.path),this.scheme&&(G.scheme=this.scheme),this.authority&&(G.authority=this.authority),this.query&&(G.query=this.query),this.fragment&&(G.fragment=this.fragment),G}}const M={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function H(U,G){let oe,de=-1;for(let fe=0;fe<U.length;fe++){const _e=U.charCodeAt(fe);if(_e>=97&&_e<=122||_e>=65&&_e<=90||_e>=48&&_e<=57||45===_e||46===_e||95===_e||126===_e||G&&47===_e)-1!==de&&(oe+=encodeURIComponent(U.substring(de,fe)),de=-1),void 0!==oe&&(oe+=U.charAt(fe));else{void 0===oe&&(oe=U.substr(0,fe));const we=M[_e];void 0!==we?(-1!==de&&(oe+=encodeURIComponent(U.substring(de,fe)),de=-1),oe+=we):-1===de&&(de=fe)}}return-1!==de&&(oe+=encodeURIComponent(U.substring(de))),void 0!==oe?oe:U}function L(U){let G;for(let oe=0;oe<U.length;oe++){const de=U.charCodeAt(oe);35===de||63===de?(void 0===G&&(G=U.substr(0,oe)),G+=M[de]):void 0!==G&&(G+=U[oe])}return void 0!==G?G:U}function N(U,G){let oe;return oe=U.authority&&U.path.length>1&&"file"===U.scheme?`//${U.authority}${U.path}`:47===U.path.charCodeAt(0)&&(U.path.charCodeAt(1)>=65&&U.path.charCodeAt(1)<=90||U.path.charCodeAt(1)>=97&&U.path.charCodeAt(1)<=122)&&58===U.path.charCodeAt(2)?G?U.path.substr(1):U.path[1].toLowerCase()+U.path.substr(2):U.path,g.ED&&(oe=oe.replace(/\//g,"\\")),oe}function Z(U,G){const oe=G?L:H;let de="",{scheme:fe,authority:_e,path:we,query:me,fragment:Q}=U;if(fe&&(de+=fe,de+=":"),(_e||"file"===fe)&&(de+=y,de+=y),_e){let q=_e.indexOf("@");if(-1!==q){const le=_e.substr(0,q);_e=_e.substr(q+1),q=le.indexOf(":"),-1===q?de+=oe(le,!1):(de+=oe(le.substr(0,q),!1),de+=":",de+=oe(le.substr(q+1),!1)),de+="@"}_e=_e.toLowerCase(),q=_e.indexOf(":"),-1===q?de+=oe(_e,!1):(de+=oe(_e.substr(0,q),!1),de+=_e.substr(q))}if(we){if(we.length>=3&&47===we.charCodeAt(0)&&58===we.charCodeAt(2)){const q=we.charCodeAt(1);q>=65&&q<=90&&(we=`/${String.fromCharCode(q+32)}:${we.substr(3)}`)}else if(we.length>=2&&58===we.charCodeAt(1)){const q=we.charCodeAt(0);q>=65&&q<=90&&(we=`${String.fromCharCode(q+32)}:${we.substr(2)}`)}de+=oe(we,!0)}return me&&(de+="?",de+=oe(me,!1)),Q&&(de+="#",de+=G?Q:H(Q,!1)),de}function P(U){try{return decodeURIComponent(U)}catch{return U.length>3?U.substr(0,3)+P(U.substr(3)):U}}const I=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function $(U){return U.match(I)?U.replace(I,G=>P(G)):U}},55552:(Fe,Ne,m)=>{m.d(Ne,{X5:()=>E,Jq:()=>g,jG:()=>Y});const E={ctrlCmd:!1,alt:!1};var g=(()=>{return(i=g||(g={}))[i.Blur=1]="Blur",i[i.Gesture=2]="Gesture",i[i.Other=3]="Other",g;var i})(),Y=(()=>{return(i=Y||(Y={}))[i.NONE=0]="NONE",i[i.FIRST=1]="FIRST",i[i.SECOND=2]="SECOND",i[i.LAST=3]="LAST",Y;var i})();new class{constructor(O){this.options=O}}},6809:(Fe,Ne,m)=>{m.d(Ne,{N:()=>B});var E=m(47306),g=m(81718),Y=m(52925);function B(D,i){D instanceof g.Z?(D.setFontFamily(i.getMassagedFontFamily(E.isSafari?Y.hL.fontFamily:null)),D.setFontWeight(i.fontWeight),D.setFontSize(i.fontSize),D.setFontFeatureSettings(i.fontFeatureSettings),D.setLineHeight(i.lineHeight),D.setLetterSpacing(i.letterSpacing)):(D.style.fontFamily=i.getMassagedFontFamily(E.isSafari?Y.hL.fontFamily:null),D.style.fontWeight=i.fontWeight,D.style.fontSize=i.fontSize+"px",D.style.fontFeatureSettings=i.fontFeatureSettings,D.style.lineHeight=i.lineHeight+"px",D.style.letterSpacing=i.letterSpacing+"px")}},1607:(Fe,Ne,m)=>{m.d(Ne,{I:()=>Y});var E=m(40189),g=m(71040);class Y extends E.JT{constructor(D,i){super(),this._onDidChange=this._register(new g.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=D,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,i)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(D=>{D&&D[0]&&D[0].contentRect?this.observe({width:D[0].contentRect.width,height:D[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(D){this.measureReferenceDomElement(!0,D)}measureReferenceDomElement(D,i){let O=0,F=0;i?(O=i.width,F=i.height):this._referenceDomElement&&(O=this._referenceDomElement.clientWidth,F=this._referenceDomElement.clientHeight),O=Math.max(5,O),F=Math.max(5,F),(this._width!==O||this._height!==F)&&(this._width=O,this._height=F,D&&this._onDidChange.fire())}}},12710:(Fe,Ne,m)=>{m.d(Ne,{g:()=>b});var E=m(47306),g=m(71040),Y=m(40189),B=m(6809);class D{constructor(f,M){this.chr=f,this.type=M,this.width=0}fulfill(f){this.width=f}}class i{constructor(f,M){this._bareFontInfo=f,this._requests=M,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const f=document.createElement("div");f.style.position="absolute",f.style.top="-50000px",f.style.width="50000px";const M=document.createElement("div");(0,B.N)(M,this._bareFontInfo),f.appendChild(M);const H=document.createElement("div");(0,B.N)(H,this._bareFontInfo),H.style.fontWeight="bold",f.appendChild(H);const L=document.createElement("div");(0,B.N)(L,this._bareFontInfo),L.style.fontStyle="italic",f.appendChild(L);const N=[];for(const Z of this._requests){let P;0===Z.type&&(P=M),2===Z.type&&(P=H),1===Z.type&&(P=L),P.appendChild(document.createElement("br"));const I=document.createElement("span");i._render(I,Z),P.appendChild(I),N.push(I)}this._container=f,this._testElements=N}static _render(f,M){if(" "===M.chr){let H="\xa0";for(let L=0;L<8;L++)H+=H;f.innerText=H}else{let H=M.chr;for(let L=0;L<8;L++)H+=H;f.textContent=H}}_readFromDomElements(){for(let f=0,M=this._requests.length;f<M;f++)this._requests[f].fulfill(this._testElements[f].offsetWidth/256)}}var F=m(52925),k=m(11358);class C{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(f){const M=f.getId();return!!this._values[M]}get(f){const M=f.getId();return this._values[M]}put(f,M){const H=f.getId();this._keys[H]=f,this._values[H]=M}remove(f){const M=f.getId();delete this._keys[M],delete this._values[M]}getValues(){return Object.keys(this._keys).map(f=>this._values[f])}}const b=new class extends Y.JT{constructor(){super(),this._onDidChange=this._register(new g.Q5),this.onDidChange=this._onDidChange.event,this._cache=new C,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new C,this._onDidChange.fire()}_writeToCache(f,M){this._cache.put(f,M),!M.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const f=this._cache.getValues();let M=!1;for(const H of f)H.isTrusted||(M=!0,this._cache.remove(H));M&&this._onDidChange.fire()}readFontInfo(f){if(!this._cache.has(f)){let M=this._actualReadFontInfo(f);(M.typicalHalfwidthCharacterWidth<=2||M.typicalFullwidthCharacterWidth<=2||M.spaceWidth<=2||M.maxDigitWidth<=2)&&(M=new k.pR({pixelRatio:E.PixelRatio.value,fontFamily:M.fontFamily,fontWeight:M.fontWeight,fontSize:M.fontSize,fontFeatureSettings:M.fontFeatureSettings,lineHeight:M.lineHeight,letterSpacing:M.letterSpacing,isMonospace:M.isMonospace,typicalHalfwidthCharacterWidth:Math.max(M.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(M.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:M.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(M.spaceWidth,5),middotWidth:Math.max(M.middotWidth,5),wsmiddotWidth:Math.max(M.wsmiddotWidth,5),maxDigitWidth:Math.max(M.maxDigitWidth,5)},!1)),this._writeToCache(f,M)}return this._cache.get(f)}_createRequest(f,M,H,L){const N=new D(f,M);return H.push(N),L&&L.push(N),N}_actualReadFontInfo(f){const M=[],H=[],L=this._createRequest("n",0,M,H),N=this._createRequest("\uff4d",0,M,null),Z=this._createRequest(" ",0,M,H),P=this._createRequest("0",0,M,H),I=this._createRequest("1",0,M,H),$=this._createRequest("2",0,M,H),U=this._createRequest("3",0,M,H),G=this._createRequest("4",0,M,H),oe=this._createRequest("5",0,M,H),de=this._createRequest("6",0,M,H),fe=this._createRequest("7",0,M,H),_e=this._createRequest("8",0,M,H),we=this._createRequest("9",0,M,H),me=this._createRequest("\u2192",0,M,H),Q=this._createRequest("\uffeb",0,M,null),q=this._createRequest("\xb7",0,M,H),le=this._createRequest(String.fromCharCode(11825),0,M,null),ee="|/-_ilm%";for(let ke=0,We=ee.length;ke<We;ke++)this._createRequest(ee.charAt(ke),0,M,H),this._createRequest(ee.charAt(ke),1,M,H),this._createRequest(ee.charAt(ke),2,M,H);!function(x,f){new i(x,f).read()}(f,M);const J=Math.max(P.width,I.width,$.width,U.width,G.width,oe.width,de.width,fe.width,_e.width,we.width);let re=f.fontFeatureSettings===F.n0.OFF;const ce=H[0].width;for(let ke=1,We=H.length;re&&ke<We;ke++){const je=ce-H[ke].width;if(je<-.001||je>.001){re=!1;break}}let ve=!0;return re&&Q.width!==ce&&(ve=!1),Q.width>me.width&&(ve=!1),new k.pR({pixelRatio:E.PixelRatio.value,fontFamily:f.fontFamily,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFeatureSettings:f.fontFeatureSettings,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,isMonospace:re,typicalHalfwidthCharacterWidth:L.width,typicalFullwidthCharacterWidth:N.width,canUseHalfwidthRightwardsArrow:ve,spaceWidth:Z.width,middotWidth:q.width,wsmiddotWidth:le.width,maxDigitWidth:J},!0)}}},93002:(Fe,Ne,m)=>{m.d(Ne,{n:()=>Y});var E=m(71040);const Y=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new E.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(D){this._tabFocus!==D&&(this._tabFocus=D,this._onDidChangeTabFocus.fire(this._tabFocus))}}},78230:(Fe,Ne,m)=>{m.d(Ne,{pd:()=>C,RA:()=>b,Nl:()=>x,Fz:()=>M,Tj:()=>L});var E=m(47306),g=m(86678),Y=m(714),B=m(89983),D=m(71040),i=m(40189),O=m(48343),F=m(74243),k=m(33677),y=m(60745),C=(()=>((C||(C={})).Tap="-monaco-textarea-synthetic-tap",C))();const b={forceCopyWithSyntaxHighlighting:!1};class x{constructor(){this._lastState=null}set(Z,P){this._lastState={lastCopiedValue:Z,data:P}}get(Z){return this._lastState&&this._lastState.lastCopiedValue===Z?this._lastState.data:(this._lastState=null,null)}}x.INSTANCE=new x;class f{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(Z){const P={text:Z=Z||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=Z.length,P}}class M extends i.JT{constructor(Z,P,I,$){super(),this._host=Z,this._textArea=P,this._OS=I,this._browser=$,this._onFocus=this._register(new D.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new D.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new D.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new D.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new D.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new D.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new D.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new D.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new D.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new D.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new D.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new B.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new B.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=k.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let U=null;this._register(this._textArea.onKeyDown(G=>{const oe=new Y.y(G);(109===oe.keyCode||this._currentComposition&&1===oe.keyCode)&&oe.stopPropagation(),oe.equals(9)&&oe.preventDefault(),U=oe,this._onKeyDown.fire(oe)})),this._register(this._textArea.onKeyUp(G=>{const oe=new Y.y(G);this._onKeyUp.fire(oe)})),this._register(this._textArea.onCompositionStart(G=>{k.al&&console.log("[compositionstart]",G);const oe=new f;if(!this._currentComposition)return this._currentComposition=oe,2===this._OS&&U&&U.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===G.data&&("ArrowRight"===U.code||"ArrowLeft"===U.code)?(k.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",G),oe.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:G.data})):void this._onCompositionStart.fire({data:G.data});this._currentComposition=oe})),this._register(this._textArea.onCompositionUpdate(G=>{k.al&&console.log("[compositionupdate]",G);const oe=this._currentComposition;if(!oe)return;if(this._browser.isAndroid){const fe=k.un.readFromTextArea(this._textArea),_e=k.un.deduceAndroidCompositionInput(this._textAreaState,fe);return this._textAreaState=fe,this._onType.fire(_e),void this._onCompositionUpdate.fire(G)}const de=oe.handleCompositionUpdate(G.data);this._textAreaState=k.un.readFromTextArea(this._textArea),this._onType.fire(de),this._onCompositionUpdate.fire(G)})),this._register(this._textArea.onCompositionEnd(G=>{k.al&&console.log("[compositionend]",G);const oe=this._currentComposition;if(!oe)return;if(this._currentComposition=null,this._browser.isAndroid){const fe=k.un.readFromTextArea(this._textArea),_e=k.un.deduceAndroidCompositionInput(this._textAreaState,fe);return this._textAreaState=fe,this._onType.fire(_e),void this._onCompositionEnd.fire()}const de=oe.handleCompositionUpdate(G.data);this._textAreaState=k.un.readFromTextArea(this._textArea),this._onType.fire(de),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(G=>{if(k.al&&console.log("[input]",G),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const oe=k.un.readFromTextArea(this._textArea),de=k.un.deduceInput(this._textAreaState,oe,2===this._OS);0===de.replacePrevCharCnt&&1===de.text.length&&F.ZG(de.text.charCodeAt(0))||(this._textAreaState=oe,(""!==de.text||0!==de.replacePrevCharCnt||0!==de.replaceNextCharCnt||0!==de.positionDelta)&&this._onType.fire(de))})),this._register(this._textArea.onCut(G=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(G),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(G=>{this._ensureClipboardGetsEditorSelection(G)})),this._register(this._textArea.onPaste(G=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),G.preventDefault(),!G.clipboardData)return;let[oe,de]=H.getTextData(G.clipboardData);!oe||(de=de||x.INSTANCE.get(oe),this._onPaste.fire({text:oe,metadata:de}))})),this._register(this._textArea.onFocus(()=>{const G=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!G&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let Z=0;return g.nm(document,"selectionchange",P=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const I=Date.now(),$=I-Z;if(Z=I,$<5)return;const U=I-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),U<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const G=this._textArea.getValue();if(this._textAreaState.value!==G)return;const oe=this._textArea.getSelectionStart(),de=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===oe&&this._textAreaState.selectionEnd===de)return;const fe=this._textAreaState.deduceEditorPosition(oe),_e=this._host.deduceModelPosition(fe[0],fe[1],fe[2]),we=this._textAreaState.deduceEditorPosition(de),me=this._host.deduceModelPosition(we[0],we[1],we[2]),Q=new y.Y(_e.lineNumber,_e.column,me.lineNumber,me.column);this._onSelectionChangeRequest.fire(Q)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(Z){this._hasFocus!==Z&&(this._hasFocus=Z,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(Z,P){this._hasFocus||(P=P.collapseSelection()),P.writeToTextArea(Z,this._textArea,this._hasFocus),this._textAreaState=P}writeScreenReaderContent(Z){this._currentComposition||this._setAndWriteTextAreaState(Z,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(Z){const P=this._host.getDataToCopy(),I={version:1,isFromEmptySelection:P.isFromEmptySelection,multicursorText:P.multicursorText,mode:P.mode};x.INSTANCE.set(this._browser.isFirefox?P.text.replace(/\r\n/g,"\n"):P.text,I),Z.preventDefault(),Z.clipboardData&&H.setTextData(Z.clipboardData,P.text,P.html,I)}}class H{static getTextData(Z){const P=Z.getData(O.v.text);let I=null;const $=Z.getData("vscode-editor-data");if("string"==typeof $)try{I=JSON.parse($),1!==I.version&&(I=null)}catch{}return[P,I]}static setTextData(Z,P,I,$){Z.setData(O.v.text,P),"string"==typeof I&&Z.setData("text/html",I),Z.setData("vscode-editor-data",JSON.stringify($))}}class L extends i.JT{constructor(Z){super(),this._actual=Z,this.onKeyDown=this._register(g.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(g.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(g.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(g.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(g.IC(this._actual,"compositionend")).event,this.onInput=this._register(g.IC(this._actual,"input")).event,this.onCut=this._register(g.IC(this._actual,"cut")).event,this.onCopy=this._register(g.IC(this._actual,"copy")).event,this.onPaste=this._register(g.IC(this._actual,"paste")).event,this.onFocus=this._register(g.IC(this._actual,"focus")).event,this.onBlur=this._register(g.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new D.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(g.nm(this._actual,C.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const Z=g.Ay(this._actual);return Z?Z.activeElement===this._actual:!!g.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(Z){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(Z,P){const I=this._actual;I.value!==P&&(this.setIgnoreSelectionChangeTime("setValue"),I.value=P)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(Z,P,I){const $=this._actual;let U=null;const G=g.Ay($);U=G?G.activeElement:document.activeElement;const oe=U===$;if(oe&&$.selectionStart===P&&$.selectionEnd===I)E.isFirefox&&window.parent!==window&&$.focus();else{if(oe)return this.setIgnoreSelectionChangeTime("setSelectionRange"),$.setSelectionRange(P,I),void(E.isFirefox&&window.parent!==window&&$.focus());try{const _e=g.vL($);this.setIgnoreSelectionChangeTime("setSelectionRange"),$.focus(),$.setSelectionRange(P,I),g._0($,_e)}catch{}}}}},33677:(Fe,Ne,m)=>{m.d(Ne,{al:()=>B,un:()=>D,ee:()=>i});var E=m(74243),g=m(67947),Y=m(1873);const B=!1;class D{constructor(F,k,y,C,b){this.value=F,this.selectionStart=k,this.selectionEnd=y,this.selectionStartPosition=C,this.selectionEndPosition=b}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(F){return new D(F.getValue(),F.getSelectionStart(),F.getSelectionEnd(),null,null)}collapseSelection(){return new D(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(F,k,y){B&&console.log(`writeToTextArea ${F}: ${this.toString()}`),k.setValue(F,this.value),y&&k.setSelectionRange(F,this.selectionStart,this.selectionEnd)}deduceEditorPosition(F){if(F<=this.selectionStart){const C=this.value.substring(F,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,C,-1)}if(F>=this.selectionEnd){const C=this.value.substring(this.selectionEnd,F);return this._finishDeduceEditorPosition(this.selectionEndPosition,C,1)}const k=this.value.substring(this.selectionStart,F);if(-1===k.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,k,1);const y=this.value.substring(F,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,y,-1)}_finishDeduceEditorPosition(F,k,y){let C=0,b=-1;for(;-1!==(b=k.indexOf("\n",b+1));)C++;return[F,y*k.length,C]}static deduceInput(F,k,y){if(!F)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};B&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${F.toString()}`),console.log(`CURRENT STATE: ${k.toString()}`));const C=Math.min(E.Mh(F.value,k.value),F.selectionStart,k.selectionStart),b=Math.min(E.P1(F.value,k.value),F.value.length-F.selectionEnd,k.value.length-k.selectionEnd),x=F.value.substring(C,F.value.length-b),f=k.value.substring(C,k.value.length-b),M=F.selectionStart-C,H=F.selectionEnd-C,L=k.selectionStart-C,N=k.selectionEnd-C;if(B&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${x}>, selectionStart: ${M}, selectionEnd: ${H}`),console.log(`AFTER DIFFING CURRENT STATE: <${f}>, selectionStart: ${L}, selectionEnd: ${N}`)),L===N){const P=F.selectionStart-C;return B&&console.log(`REMOVE PREVIOUS: ${P} chars`),{text:f,replacePrevCharCnt:P,replaceNextCharCnt:0,positionDelta:0}}return{text:f,replacePrevCharCnt:H-M,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(F,k){if(!F)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(B&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${F.toString()}`),console.log(`CURRENT STATE: ${k.toString()}`)),F.value===k.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:k.selectionEnd-F.selectionEnd};const y=Math.min(E.Mh(F.value,k.value),F.selectionEnd),C=Math.min(E.P1(F.value,k.value),F.value.length-F.selectionEnd),b=F.value.substring(y,F.value.length-C),x=k.value.substring(y,k.value.length-C),M=F.selectionEnd-y,H=k.selectionStart-y,L=k.selectionEnd-y;return B&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${b}>, selectionStart: ${F.selectionStart-y}, selectionEnd: ${M}`),console.log(`AFTER DIFFING CURRENT STATE: <${x}>, selectionStart: ${H}, selectionEnd: ${L}`)),{text:x,replacePrevCharCnt:M,replaceNextCharCnt:b.length-M,positionDelta:L-x.length}}}D.EMPTY=new D("",0,0,null,null);class i{static _getPageOfLine(F,k){return Math.floor((F-1)/k)}static _getRangeForPage(F,k){const y=F*k;return new Y.e(y+1,1,y+k+1,1)}static fromEditorSelection(F,k,y,C,b){const x=i._getPageOfLine(y.startLineNumber,C),f=i._getRangeForPage(x,C),M=i._getPageOfLine(y.endLineNumber,C),H=i._getRangeForPage(M,C),L=f.intersectRanges(new Y.e(1,1,y.startLineNumber,y.startColumn));let N=k.getValueInRange(L,1);const Z=k.getLineCount(),P=k.getLineMaxColumn(Z),I=H.intersectRanges(new Y.e(y.endLineNumber,y.endColumn,Z,P));let U,$=k.getValueInRange(I,1);if(x===M||x+1===M)U=k.getValueInRange(y,1);else{const G=f.intersectRanges(y),oe=H.intersectRanges(y);U=k.getValueInRange(G,1)+String.fromCharCode(8230)+k.getValueInRange(oe,1)}if(b){const G=500;N.length>G&&(N=N.substring(N.length-G,N.length)),$.length>G&&($=$.substring(0,G)),U.length>2*G&&(U=U.substring(0,G)+String.fromCharCode(8230)+U.substring(U.length-G,U.length))}return new D(N+U+$,N.length,N.length+U.length,new g.L(y.startLineNumber,y.startColumn),new g.L(y.endLineNumber,y.endColumn))}}},20545:(Fe,Ne,m)=>{m.d(Ne,{wk:()=>de,Ox:()=>$});var E=m(12918),g=m(47306),Y=m(99770),B=m(99034),D=m(44346),i=m(57623),O=m(35590),F=m(67947),k=m(1873);class y{static columnSelect(me,Q,q,le,ee,J){const re=Math.abs(ee-q)+1,ce=q>ee,ve=le>J,ke=le<J,We=[];for(let je=0;je<re;je++){const ue=q+(ce?-je:je),Ce=me.columnFromVisibleColumn(Q,ue,le),Ae=me.columnFromVisibleColumn(Q,ue,J),et=me.visibleColumnFromColumn(Q,new F.L(ue,Ce)),$e=me.visibleColumnFromColumn(Q,new F.L(ue,Ae));ke&&(et>J||$e<le)||ve&&($e>le||et<J)||We.push(new O.rS(new k.e(ue,Ce,ue,Ce),0,new F.L(ue,Ae),0))}if(0===We.length)for(let je=0;je<re;je++){const ue=q+(ce?-je:je),Ce=Q.getLineMaxColumn(ue);We.push(new O.rS(new k.e(ue,Ce,ue,Ce),0,new F.L(ue,Ce),0))}return{viewStates:We,reversed:ce,fromLineNumber:q,fromVisualColumn:le,toLineNumber:ee,toVisualColumn:J}}static columnSelectLeft(me,Q,q){let le=q.toViewVisualColumn;return le>0&&le--,y.columnSelect(me,Q,q.fromViewLineNumber,q.fromViewVisualColumn,q.toViewLineNumber,le)}static columnSelectRight(me,Q,q){let le=0;const ee=Math.min(q.fromViewLineNumber,q.toViewLineNumber),J=Math.max(q.fromViewLineNumber,q.toViewLineNumber);for(let ce=ee;ce<=J;ce++){const ve=Q.getLineMaxColumn(ce),ke=me.visibleColumnFromColumn(Q,new F.L(ce,ve));le=Math.max(le,ke)}let re=q.toViewVisualColumn;return re<le&&re++,this.columnSelect(me,Q,q.fromViewLineNumber,q.fromViewVisualColumn,q.toViewLineNumber,re)}static columnSelectUp(me,Q,q,le){const J=Math.max(1,q.toViewLineNumber-(le?me.pageSize:1));return this.columnSelect(me,Q,q.fromViewLineNumber,q.fromViewVisualColumn,J,q.toViewVisualColumn)}static columnSelectDown(me,Q,q,le){const ee=le?me.pageSize:1,J=Math.min(Q.getLineCount(),q.toViewLineNumber+ee);return this.columnSelect(me,Q,q.fromViewLineNumber,q.fromViewVisualColumn,J,q.toViewVisualColumn)}}var Z,we,P,$,C=m(17666),b=m(71015),x=m(8418),f=m(20296),M=m(6461),H=m(22115);class N extends D._l{runEditorCommand(me,Q,q){const le=Q._getViewModel();!le||this.runCoreEditorCommand(le,q||{})}}(we=Z||(Z={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(q){if(!Y.Kn(q))return!1;const le=q;return!(!Y.HD(le.to)||!Y.o8(le.by)&&!Y.HD(le.by)||!Y.o8(le.value)&&!Y.hj(le.value)||!Y.o8(le.revealCursor)&&!Y.jn(le.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},we.RawDirection={Up:"up",Down:"down"},we.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},we.parse=function(q){let le,ee;switch(q.to){case we.RawDirection.Up:le=1;break;case we.RawDirection.Down:le=2;break;default:return null}switch(q.by){case we.RawUnit.Line:ee=1;break;default:ee=2;break;case we.RawUnit.Page:ee=3;break;case we.RawUnit.HalfPage:ee=4}return{direction:le,unit:ee,value:Math.floor(q.value||1),revealCursor:!!q.revealCursor,select:!!q.select}},function(we){we.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(Q){if(!Y.Kn(Q))return!1;const q=Q;return!(!Y.hj(q.lineNumber)&&!Y.HD(q.lineNumber)||!Y.o8(q.at)&&!Y.HD(q.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},we.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(P||(P={}));class I{constructor(me){me.addImplementation(1e4,"code-editor",(Q,q)=>{const le=Q.get(i.$).getFocusedCodeEditor();return!(!le||!le.hasTextFocus())&&this._runEditorCommand(Q,le,q)}),me.addImplementation(1e3,"generic-dom-input-textarea",(Q,q)=>{const le=document.activeElement;return!!(le&&["input","textarea"].indexOf(le.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),me.addImplementation(0,"generic-dom",(Q,q)=>{const le=Q.get(i.$).getActiveCodeEditor();return!!le&&(le.focus(),this._runEditorCommand(Q,le,q))})}_runEditorCommand(me,Q,q){return this.runEditorCommand(me,Q,q)||!0}}!function(we){class me extends N{constructor(Te){super(Te),this._minimalReveal=Te.minimalReveal,this._inSelectionMode=Te.inSelectionMode}runCoreEditorCommand(Te,rt){Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,[b.P.moveTo(Te,Te.getPrimaryCursorState(),this._inSelectionMode,rt.position,rt.viewPosition)])&&Te.revealPrimaryCursor(rt.source,!0,this._minimalReveal)}}we.MoveTo=(0,D.fK)(new me({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),we.MoveToSelect=(0,D.fK)(new me({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class Q extends N{runCoreEditorCommand(Te,rt){Te.model.pushStackElement();const ht=this._getColumnSelectResult(Te,Te.getPrimaryCursorState(),Te.getCursorColumnSelectData(),rt);Te.setCursorStates(rt.source,3,ht.viewStates.map(nt=>O.Vi.fromViewState(nt))),Te.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ht.fromLineNumber,fromViewVisualColumn:ht.fromVisualColumn,toViewLineNumber:ht.toLineNumber,toViewVisualColumn:ht.toVisualColumn}),ht.reversed?Te.revealTopMostCursor(rt.source):Te.revealBottomMostCursor(rt.source)}}we.ColumnSelect=(0,D.fK)(new class extends Q{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult($e,Te,rt,ht){const nt=$e.model.validatePosition(ht.position),xe=$e.coordinatesConverter.validateViewPosition(new F.L(ht.viewPosition.lineNumber,ht.viewPosition.column),nt);return y.columnSelect($e.cursorConfig,$e,ht.doColumnSelect?rt.fromViewLineNumber:xe.lineNumber,ht.doColumnSelect?rt.fromViewVisualColumn:ht.mouseColumn-1,xe.lineNumber,ht.mouseColumn-1)}}),we.CursorColumnSelectLeft=(0,D.fK)(new class extends Q{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult($e,Te,rt,ht){return y.columnSelectLeft($e.cursorConfig,$e,rt)}}),we.CursorColumnSelectRight=(0,D.fK)(new class extends Q{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult($e,Te,rt,ht){return y.columnSelectRight($e.cursorConfig,$e,rt)}});class q extends Q{constructor(Te){super(Te),this._isPaged=Te.isPaged}_getColumnSelectResult(Te,rt,ht,nt){return y.columnSelectUp(Te.cursorConfig,Te,ht,this._isPaged)}}we.CursorColumnSelectUp=(0,D.fK)(new q({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3600,linux:{primary:0}}})),we.CursorColumnSelectPageUp=(0,D.fK)(new q({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3595,linux:{primary:0}}}));class le extends Q{constructor(Te){super(Te),this._isPaged=Te.isPaged}_getColumnSelectResult(Te,rt,ht,nt){return y.columnSelectDown(Te.cursorConfig,Te,ht,this._isPaged)}}we.CursorColumnSelectDown=(0,D.fK)(new le({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3602,linux:{primary:0}}})),we.CursorColumnSelectPageDown=(0,D.fK)(new le({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3596,linux:{primary:0}}}));class ee extends N{constructor(){super({id:"cursorMove",precondition:void 0,description:b.N.description})}runCoreEditorCommand(Te,rt){const ht=b.N.parse(rt);!ht||this._runCursorMove(Te,rt.source,ht)}_runCursorMove(Te,rt,ht){Te.model.pushStackElement(),Te.setCursorStates(rt,3,ee._move(Te,Te.getCursorStates(),ht)),Te.revealPrimaryCursor(rt,!0)}static _move(Te,rt,ht){const nt=ht.select,xe=ht.value;switch(ht.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return b.P.simpleMove(Te,rt,ht.direction,nt,xe,ht.unit);case 11:case 13:case 12:case 14:return b.P.viewportMove(Te,rt,ht.direction,nt,xe);default:return null}}}we.CursorMoveImpl=ee,we.CursorMove=(0,D.fK)(new ee);class J extends N{constructor(Te){super(Te),this._staticArgs=Te.args}runCoreEditorCommand(Te,rt){let ht=this._staticArgs;-1===this._staticArgs.value&&(ht={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:rt.pageSize||Te.cursorConfig.pageSize}),Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,b.P.simpleMove(Te,Te.getCursorStates(),ht.direction,ht.select,ht.value,ht.unit)),Te.revealPrimaryCursor(rt.source,!0)}}we.CursorLeft=(0,D.fK)(new J({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),we.CursorLeftSelect=(0,D.fK)(new J({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1039}})),we.CursorRight=(0,D.fK)(new J({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),we.CursorRightSelect=(0,D.fK)(new J({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1041}})),we.CursorUp=(0,D.fK)(new J({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),we.CursorUpSelect=(0,D.fK)(new J({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),we.CursorPageUp=(0,D.fK)(new J({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:11}})),we.CursorPageUpSelect=(0,D.fK)(new J({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1035}})),we.CursorDown=(0,D.fK)(new J({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),we.CursorDownSelect=(0,D.fK)(new J({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),we.CursorPageDown=(0,D.fK)(new J({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:12}})),we.CursorPageDownSelect=(0,D.fK)(new J({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1036}})),we.CreateCursor=(0,D.fK)(new class extends N{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand($e,Te){let rt;rt=Te.wholeLine?b.P.line($e,$e.getPrimaryCursorState(),!1,Te.position,Te.viewPosition):b.P.moveTo($e,$e.getPrimaryCursorState(),!1,Te.position,Te.viewPosition);const ht=$e.getCursorStates();if(ht.length>1){const nt=rt.modelState?rt.modelState.position:null,xe=rt.viewState?rt.viewState.position:null;for(let Ie=0,at=ht.length;Ie<at;Ie++){const bt=ht[Ie];if((!nt||bt.modelState.selection.containsPosition(nt))&&(!xe||bt.viewState.selection.containsPosition(xe)))return ht.splice(Ie,1),$e.model.pushStackElement(),void $e.setCursorStates(Te.source,3,ht)}}ht.push(rt),$e.model.pushStackElement(),$e.setCursorStates(Te.source,3,ht)}}),we.LastCursorMoveToSelect=(0,D.fK)(new class extends N{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand($e,Te){const rt=$e.getLastAddedCursorIndex(),ht=$e.getCursorStates(),nt=ht.slice(0);nt[rt]=b.P.moveTo($e,ht[rt],!0,Te.position,Te.viewPosition),$e.model.pushStackElement(),$e.setCursorStates(Te.source,3,nt)}});class re extends N{constructor(Te){super(Te),this._inSelectionMode=Te.inSelectionMode}runCoreEditorCommand(Te,rt){Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,b.P.moveToBeginningOfLine(Te,Te.getCursorStates(),this._inSelectionMode)),Te.revealPrimaryCursor(rt.source,!0)}}we.CursorHome=(0,D.fK)(new re({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),we.CursorHomeSelect=(0,D.fK)(new re({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class ce extends N{constructor(Te){super(Te),this._inSelectionMode=Te.inSelectionMode}runCoreEditorCommand(Te,rt){Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,this._exec(Te.getCursorStates())),Te.revealPrimaryCursor(rt.source,!0)}_exec(Te){const rt=[];for(let ht=0,nt=Te.length;ht<nt;ht++){const xe=Te[ht];rt[ht]=O.Vi.fromModelState(xe.modelState.move(this._inSelectionMode,xe.modelState.position.lineNumber,1,0))}return rt}}we.CursorLineStart=(0,D.fK)(new ce({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:287}}})),we.CursorLineStartSelect=(0,D.fK)(new ce({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:1311}}}));class ve extends N{constructor(Te){super(Te),this._inSelectionMode=Te.inSelectionMode}runCoreEditorCommand(Te,rt){Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,b.P.moveToEndOfLine(Te,Te.getCursorStates(),this._inSelectionMode,rt.sticky||!1)),Te.revealPrimaryCursor(rt.source,!0)}}we.CursorEnd=(0,D.fK)(new ve({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:f.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:E.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),we.CursorEndSelect=(0,D.fK)(new ve({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:f.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:E.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class ke extends N{constructor(Te){super(Te),this._inSelectionMode=Te.inSelectionMode}runCoreEditorCommand(Te,rt){Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,this._exec(Te,Te.getCursorStates())),Te.revealPrimaryCursor(rt.source,!0)}_exec(Te,rt){const ht=[];for(let nt=0,xe=rt.length;nt<xe;nt++){const Ie=rt[nt],at=Ie.modelState.position.lineNumber,bt=Te.model.getLineMaxColumn(at);ht[nt]=O.Vi.fromModelState(Ie.modelState.move(this._inSelectionMode,at,bt,0))}return ht}}we.CursorLineEnd=(0,D.fK)(new ke({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:291}}})),we.CursorLineEndSelect=(0,D.fK)(new ke({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:1315}}}));class We extends N{constructor(Te){super(Te),this._inSelectionMode=Te.inSelectionMode}runCoreEditorCommand(Te,rt){Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,b.P.moveToBeginningOfBuffer(Te,Te.getCursorStates(),this._inSelectionMode)),Te.revealPrimaryCursor(rt.source,!0)}}we.CursorTop=(0,D.fK)(new We({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2062,mac:{primary:2064}}})),we.CursorTopSelect=(0,D.fK)(new We({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class je extends N{constructor(Te){super(Te),this._inSelectionMode=Te.inSelectionMode}runCoreEditorCommand(Te,rt){Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,b.P.moveToEndOfBuffer(Te,Te.getCursorStates(),this._inSelectionMode)),Te.revealPrimaryCursor(rt.source,!0)}}we.CursorBottom=(0,D.fK)(new je({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2061,mac:{primary:2066}}})),we.CursorBottomSelect=(0,D.fK)(new je({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class ue extends N{constructor(){super({id:"editorScroll",precondition:void 0,description:Z.description})}runCoreEditorCommand(Te,rt){const ht=Z.parse(rt);!ht||this._runEditorScroll(Te,rt.source,ht)}_runEditorScroll(Te,rt,ht){const nt=this._computeDesiredScrollTop(Te,ht);if(ht.revealCursor){const xe=Te.getCompletelyVisibleViewRangeAtScrollTop(nt);Te.setCursorStates(rt,3,[b.P.findPositionInViewportIfOutside(Te,Te.getPrimaryCursorState(),xe,ht.select)])}Te.viewLayout.setScrollPosition({scrollTop:nt},0)}_computeDesiredScrollTop(Te,rt){if(1===rt.unit){const xe=Te.getCompletelyVisibleViewRange(),Ie=Te.coordinatesConverter.convertViewRangeToModelRange(xe);let at;at=1===rt.direction?Math.max(1,Ie.startLineNumber-rt.value):Math.min(Te.model.getLineCount(),Ie.startLineNumber+rt.value);const bt=Te.coordinatesConverter.convertModelPositionToViewPosition(new F.L(at,1));return Te.viewLayout.getVerticalOffsetForLineNumber(bt.lineNumber)}let ht;ht=3===rt.unit?Te.cursorConfig.pageSize*rt.value:4===rt.unit?Math.round(Te.cursorConfig.pageSize/2)*rt.value:rt.value;const nt=(1===rt.direction?-1:1)*ht;return Te.viewLayout.getCurrentScrollTop()+nt*Te.cursorConfig.lineHeight}}we.EditorScrollImpl=ue,we.EditorScroll=(0,D.fK)(new ue),we.ScrollLineUp=(0,D.fK)(new class extends N{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand($e,Te){we.EditorScroll._runEditorScroll($e,Te.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),we.ScrollPageUp=(0,D.fK)(new class extends N{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand($e,Te){we.EditorScroll._runEditorScroll($e,Te.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),we.ScrollLineDown=(0,D.fK)(new class extends N{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand($e,Te){we.EditorScroll._runEditorScroll($e,Te.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),we.ScrollPageDown=(0,D.fK)(new class extends N{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand($e,Te){we.EditorScroll._runEditorScroll($e,Te.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class Ce extends N{constructor(Te){super(Te),this._inSelectionMode=Te.inSelectionMode}runCoreEditorCommand(Te,rt){Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,[b.P.word(Te,Te.getPrimaryCursorState(),this._inSelectionMode,rt.position)]),Te.revealPrimaryCursor(rt.source,!0)}}we.WordSelect=(0,D.fK)(new Ce({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),we.WordSelectDrag=(0,D.fK)(new Ce({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),we.LastCursorWordSelect=(0,D.fK)(new class extends N{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand($e,Te){const rt=$e.getLastAddedCursorIndex(),ht=$e.getCursorStates(),nt=ht.slice(0),xe=ht[rt];nt[rt]=b.P.word($e,xe,xe.modelState.hasSelection(),Te.position),$e.model.pushStackElement(),$e.setCursorStates(Te.source,3,nt)}});class Ae extends N{constructor(Te){super(Te),this._inSelectionMode=Te.inSelectionMode}runCoreEditorCommand(Te,rt){Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,[b.P.line(Te,Te.getPrimaryCursorState(),this._inSelectionMode,rt.position,rt.viewPosition)]),Te.revealPrimaryCursor(rt.source,!1)}}we.LineSelect=(0,D.fK)(new Ae({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),we.LineSelectDrag=(0,D.fK)(new Ae({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class et extends N{constructor(Te){super(Te),this._inSelectionMode=Te.inSelectionMode}runCoreEditorCommand(Te,rt){const ht=Te.getLastAddedCursorIndex(),nt=Te.getCursorStates(),xe=nt.slice(0);xe[ht]=b.P.line(Te,nt[ht],this._inSelectionMode,rt.position,rt.viewPosition),Te.model.pushStackElement(),Te.setCursorStates(rt.source,3,xe)}}we.LastCursorLineSelect=(0,D.fK)(new et({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),we.LastCursorLineSelectDrag=(0,D.fK)(new et({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),we.CancelSelection=(0,D.fK)(new class extends N{constructor(){super({id:"cancelSelection",precondition:f.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand($e,Te){$e.model.pushStackElement(),$e.setCursorStates(Te.source,3,[b.P.cancelSelection($e,$e.getPrimaryCursorState())]),$e.revealPrimaryCursor(Te.source,!0)}}),we.RemoveSecondaryCursors=(0,D.fK)(new class extends N{constructor(){super({id:"removeSecondaryCursors",precondition:f.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand($e,Te){$e.model.pushStackElement(),$e.setCursorStates(Te.source,3,[$e.getPrimaryCursorState()]),$e.revealPrimaryCursor(Te.source,!0),(0,B.i7)(E.N("removedCursor","Removed secondary cursors"))}}),we.RevealLine=(0,D.fK)(new class extends N{constructor(){super({id:"revealLine",precondition:void 0,description:P.description})}runCoreEditorCommand($e,Te){const rt=Te,ht=rt.lineNumber||0;let nt="number"==typeof ht?ht+1:parseInt(ht)+1;nt<1&&(nt=1);const xe=$e.model.getLineCount();nt>xe&&(nt=xe);const Ie=new k.e(nt,1,nt,$e.model.getLineMaxColumn(nt));let at=0;if(rt.at)switch(rt.at){case P.RawAtArgument.Top:at=3;break;case P.RawAtArgument.Center:at=1;break;case P.RawAtArgument.Bottom:at=4}const bt=$e.coordinatesConverter.convertModelRangeToViewRange(Ie);$e.revealRange(Te.source,!1,bt,at,0)}}),we.SelectAll=new class extends I{constructor(){super(D.Sq)}runDOMCommand(){g.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand($e,Te,rt){const ht=Te._getViewModel();!ht||this.runCoreEditorCommand(ht,rt)}runCoreEditorCommand($e,Te){$e.model.pushStackElement(),$e.setCursorStates("keyboard",3,[b.P.selectAll($e,$e.getPrimaryCursorState())])}},we.SetSelection=(0,D.fK)(new class extends N{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand($e,Te){$e.model.pushStackElement(),$e.setCursorStates(Te.source,3,[O.Vi.fromModelSelection(Te.selection)])}})}($||($={}));const U=M.Ao.and(f.u.textInputFocus,f.u.columnSelection);function G(we,me){H.W.registerKeybindingRule({id:we,primary:me,when:U,weight:1})}function oe(we){return we.register(),we}var de;G($.CursorColumnSelectLeft.id,1039),G($.CursorColumnSelectRight.id,1041),G($.CursorColumnSelectUp.id,1040),G($.CursorColumnSelectPageUp.id,1035),G($.CursorColumnSelectDown.id,1042),G($.CursorColumnSelectPageDown.id,1036),function(we){class me extends D._l{runEditorCommand(q,le,ee){const J=le._getViewModel();!J||this.runCoreEditingCommand(le,J,ee||{})}}we.CoreEditingCommand=me,we.LineBreakInsert=(0,D.fK)(new class extends me{constructor(){super({id:"lineBreakInsert",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(Q,q,le){Q.pushUndoStop(),Q.executeCommands(this.id,x.u.lineBreakInsert(q.cursorConfig,q.model,q.getCursorStates().map(ee=>ee.modelState.selection)))}}),we.Outdent=(0,D.fK)(new class extends me{constructor(){super({id:"outdent",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:M.Ao.and(f.u.editorTextFocus,f.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(Q,q,le){Q.pushUndoStop(),Q.executeCommands(this.id,x.u.outdent(q.cursorConfig,q.model,q.getCursorStates().map(ee=>ee.modelState.selection))),Q.pushUndoStop()}}),we.Tab=(0,D.fK)(new class extends me{constructor(){super({id:"tab",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:M.Ao.and(f.u.editorTextFocus,f.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(Q,q,le){Q.pushUndoStop(),Q.executeCommands(this.id,x.u.tab(q.cursorConfig,q.model,q.getCursorStates().map(ee=>ee.modelState.selection))),Q.pushUndoStop()}}),we.DeleteLeft=(0,D.fK)(new class extends me{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(Q,q,le){const[ee,J]=C.A.deleteLeft(q.getPrevEditOperationType(),q.cursorConfig,q.model,q.getCursorStates().map(re=>re.modelState.selection),q.getCursorAutoClosedCharacters());ee&&Q.pushUndoStop(),Q.executeCommands(this.id,J),q.setPrevEditOperationType(2)}}),we.DeleteRight=(0,D.fK)(new class extends me{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(Q,q,le){const[ee,J]=C.A.deleteRight(q.getPrevEditOperationType(),q.cursorConfig,q.model,q.getCursorStates().map(re=>re.modelState.selection));ee&&Q.pushUndoStop(),Q.executeCommands(this.id,J),q.setPrevEditOperationType(3)}}),we.Undo=new class extends I{constructor(){super(D.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(Q,q,le){if(q.hasModel()&&!0!==q.getOption(81))return q.getModel().undo()}},we.Redo=new class extends I{constructor(){super(D.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(Q,q,le){if(q.hasModel()&&!0!==q.getOption(81))return q.getModel().redo()}}}(de||(de={}));class fe extends D.mY{constructor(me,Q,q){super({id:me,precondition:void 0,description:q}),this._handlerId=Q}runCommand(me,Q){const q=me.get(i.$).getFocusedCodeEditor();!q||q.trigger("keyboard",this._handlerId,Q)}}function _e(we,me){oe(new fe("default:"+we,we)),oe(new fe(we,we,me))}_e("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),_e("replacePreviousChar"),_e("compositionType"),_e("compositionStart"),_e("compositionEnd"),_e("paste"),_e("cut")},79837:(Fe,Ne,m)=>{m.d(Ne,{CL:()=>g,QI:()=>Y,Pi:()=>B});var E=m(3760);function g(D){return!(!D||"function"!=typeof D.getEditorType)&&D.getEditorType()===E.g.ICodeEditor}function Y(D){return!(!D||"function"!=typeof D.getEditorType)&&D.getEditorType()===E.g.IDiffEditor}function B(D){return g(D)?D:Y(D)?D.getModifiedEditor():null}},96132:(Fe,Ne,m)=>{m.d(Ne,{YN:()=>O,rU:()=>F,kG:()=>C,Pp:()=>b,gy:()=>x,N5:()=>f,tC:()=>M,iB:()=>H,t7:()=>L});var E=m(86678),g=m(8535),Y=m(2886),B=m(89983),D=m(40189),i=m(98275);class O{constructor(I,$){this.x=I,this.y=$,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new F(this.x-E.DI.scrollX,this.y-E.DI.scrollY)}}class F{constructor(I,$){this.clientX=I,this.clientY=$,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new O(this.clientX+E.DI.scrollX,this.clientY+E.DI.scrollY)}}class k{constructor(I,$,U,G){this.x=I,this.y=$,this.width=U,this.height=G,this._editorPagePositionBrand=void 0}}class y{constructor(I,$){this.x=I,this.y=$,this._positionRelativeToEditorBrand=void 0}}function C(P){const I=E.i(P);return new k(I.left,I.top,I.width,I.height)}function b(P,I,$){return new y(($.x-I.x)/(I.width/P.offsetWidth),($.y-I.y)/(I.height/P.offsetHeight))}class x extends Y.n{constructor(I,$){super(I),this._editorMouseEventBrand=void 0,this.pos=new O(this.posx,this.posy),this.editorPos=C($),this.relativePos=b($,this.editorPos,this.pos)}}class f{constructor(I){this._editorViewDomNode=I}_create(I){return new x(I,this._editorViewDomNode)}onContextMenu(I,$){return E.nm(I,"contextmenu",U=>{$(this._create(U))})}onMouseUp(I,$){return E.nm(I,"mouseup",U=>{$(this._create(U))})}onMouseDown(I,$){return E.nm(I,"mousedown",U=>{$(this._create(U))})}onMouseLeave(I,$){return E.j_(I,U=>{$(this._create(U))})}onMouseMoveThrottled(I,$,U,G){return E.Y_(I,"mousemove",$,(de,fe)=>U(de,this._create(fe)),G)}}class M{constructor(I){this._editorViewDomNode=I}_create(I){return new x(I,this._editorViewDomNode)}onPointerUp(I,$){return E.nm(I,"pointerup",U=>{$(this._create(U))})}onPointerDown(I,$){return E.nm(I,"pointerdown",U=>{$(this._create(U))})}onPointerLeave(I,$){return E.RE(I,U=>{$(this._create(U))})}onPointerMoveThrottled(I,$,U,G){return E.Y_(I,"pointermove",$,(de,fe)=>U(de,this._create(fe)),G)}}class H extends D.JT{constructor(I){super(),this._editorViewDomNode=I,this._globalMouseMoveMonitor=this._register(new g.Z),this._keydownListener=null}startMonitoring(I,$,U,G,oe){this._keydownListener=E.mu(document,"keydown",fe=>{fe.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,fe.browserEvent)},!0),this._globalMouseMoveMonitor.startMonitoring(I,$,(fe,_e)=>U(fe,new x(_e,this._editorViewDomNode)),G,fe=>{this._keydownListener.dispose(),oe(fe)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}let L=(()=>{class P{constructor($){this._editor=$,this._instanceId=++P._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new B.pY(()=>this.garbageCollect(),1e3)}createClassNameRef($){const U=this.getOrCreateRule($);return U.increaseRefCount(),{className:U.className,dispose:()=>{U.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule($){const U=this.computeUniqueKey($);let G=this._rules.get(U);if(!G){const oe=this._counter++;G=new N(U,`dyn-rule-${this._instanceId}-${oe}`,E.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,$),this._rules.set(U,G)}return G}computeUniqueKey($){return JSON.stringify($)}garbageCollect(){for(const $ of this._rules.values())$.hasReferences()||(this._rules.delete($.key),$.dispose())}}return P._idPool=0,P})();class N{constructor(I,$,U,G){this.key=I,this.className=$,this.properties=G,this._referenceCount=0,this._styleElement=E.dS(U),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(I,$){let U=`.${I} {`;for(const G in $){const oe=$[G];let de;de="object"==typeof oe?`var(${(0,i.QO2)(oe.id)})`:oe,U+=`\n\t${P=G,P.replace(/(^[A-Z])/,([I])=>I.toLowerCase()).replace(/([A-Z])/g,([I])=>`-${I.toLowerCase()}`)}: ${de};`}var P;return U+="\n}",U}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}},44346:(Fe,Ne,m)=>{m.d(Ne,{mY:()=>H,AJ:()=>L,_l:()=>Z,R6:()=>P,jY:()=>I,sb:()=>$,fK:()=>U,Qr:()=>G,rn:()=>oe,QG:()=>de,_K:()=>fe,Uc:()=>_e,n_:()=>q,kz:()=>le,Sq:()=>ee});var _e,J,E=m(12918),g=m(85459),Y=m(57623),B=m(67947),D=m(39067),i=m(13591),O=m(46842),F=m(10467),k=m(6461),y=m(43569),C=m(22115),b=m(63779),x=m(87493),f=m(99770),M=m(2646);class H{constructor(re){this.id=re.id,this.precondition=re.precondition,this._kbOpts=re.kbOpts,this._menuOpts=re.menuOpts,this._description=re.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const re=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const ce of re){let ve=ce.kbExpr;this.precondition&&(ve=ve?k.Ao.and(ve,this.precondition):this.precondition),C.W.registerKeybindingRule({id:this.id,weight:ce.weight,args:ce.args,when:ve,primary:ce.primary,secondary:ce.secondary,win:ce.win,linux:ce.linux,mac:ce.mac})}}F.P0.registerCommand({id:this.id,handler:(re,ce)=>this.runCommand(re,ce),description:this._description})}_registerMenuItem(re){O.BH.appendMenuItem(re.menuId,{group:re.group,command:{id:this.id,title:re.title,icon:re.icon,precondition:this.precondition},when:re.when,order:re.order})}}class L extends H{constructor(){super(...arguments),this._implementations=[]}addImplementation(re,ce,ve){return this._implementations.push({priority:re,name:ce,implementation:ve}),this._implementations.sort((ke,We)=>We.priority-ke.priority),{dispose:()=>{for(let ke=0;ke<this._implementations.length;ke++)if(this._implementations[ke].implementation===ve)return void this._implementations.splice(ke,1)}}}runCommand(re,ce){const ve=re.get(M.VZ);ve.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const ke of this._implementations){const We=ke.implementation(re,ce);if(We)return ve.trace(`Command '${this.id}' was handled by '${ke.name}'.`),"boolean"==typeof We?void 0:We}ve.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class N extends H{constructor(re,ce){super(ce),this.command=re}runCommand(re,ce){return this.command.runCommand(re,ce)}}class Z extends H{static bindToContribution(re){return class extends Z{constructor(ve){super(ve),this._callback=ve.handler}runEditorCommand(ve,ke,We){const je=re(ke);je&&this._callback(je,We)}}}runCommand(re,ce){const ve=re.get(Y.$),ke=ve.getFocusedCodeEditor()||ve.getActiveCodeEditor();if(ke)return ke.invokeWithinContext(We=>{if(We.get(k.i6).contextMatchesRules((0,f.f6)(this.precondition)))return this.runEditorCommand(We,ke,ce)})}}class P extends Z{constructor(re){super(P.convertOptions(re)),this.label=re.label,this.alias=re.alias}static convertOptions(re){let ce;function ve(ke){return ke.menuId||(ke.menuId=O.eH.EditorContext),ke.title||(ke.title=re.label),ke.when=k.Ao.and(re.precondition,ke.when),ke}return ce=Array.isArray(re.menuOpts)?re.menuOpts:re.menuOpts?[re.menuOpts]:[],Array.isArray(re.contextMenuOpts)?ce.push(...re.contextMenuOpts.map(ve)):re.contextMenuOpts&&ce.push(ve(re.contextMenuOpts)),re.menuOpts=ce,re}runEditorCommand(re,ce,ve){return this.reportTelemetry(re,ce),this.run(re,ce,ve||{})}reportTelemetry(re,ce){re.get(x.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class I extends P{constructor(){super(...arguments),this._implementations=[]}addImplementation(re,ce){return this._implementations.push([re,ce]),this._implementations.sort((ve,ke)=>ke[0]-ve[0]),{dispose:()=>{for(let ve=0;ve<this._implementations.length;ve++)if(this._implementations[ve][1]===ce)return void this._implementations.splice(ve,1)}}}run(re,ce,ve){for(const ke of this._implementations){const We=ke[1](re,ce,ve);if(We)return"boolean"==typeof We?void 0:We}}}function $(J,re){F.P0.registerCommand(J,function(ce,...ve){const ke=ce.get(y.TG),[We,je]=ve;(0,f.p_)(g.o.isUri(We)),(0,f.p_)(B.L.isIPosition(je));const ue=ce.get(D.q).getModel(We);if(ue){const Ce=B.L.lift(je);return ke.invokeFunction(re,ue,Ce,...ve.slice(2))}return ce.get(i.S).createModelReference(We).then(Ce=>new Promise((Ae,et)=>{try{Ae(ke.invokeFunction(re,Ce.object.textEditorModel,B.L.lift(je),ve.slice(2)))}catch($e){et($e)}}).finally(()=>{Ce.dispose()}))})}function U(J){return me.INSTANCE.registerEditorCommand(J),J}function G(J){const re=new J;return me.INSTANCE.registerEditorAction(re),re}function oe(J){return me.INSTANCE.registerEditorAction(J),J}function de(J){me.INSTANCE.registerEditorAction(J)}function fe(J,re){me.INSTANCE.registerEditorContribution(J,re)}(J=_e||(_e={})).getEditorCommand=function(je){return me.INSTANCE.getEditorCommand(je)},J.getEditorActions=function(){return me.INSTANCE.getEditorActions()},J.getEditorContributions=function(){return me.INSTANCE.getEditorContributions()},J.getSomeEditorContributions=function(je){return me.INSTANCE.getEditorContributions().filter(ue=>je.indexOf(ue.id)>=0)},J.getDiffEditorContributions=function(){return me.INSTANCE.getDiffEditorContributions()};class me{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(re,ce){this.editorContributions.push({id:re,ctor:ce})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(re){re.register(),this.editorActions.push(re)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(re){re.register(),this.editorCommands[re.id]=re}getEditorCommand(re){return this.editorCommands[re]||null}}function Q(J){return J.register(),J}me.INSTANCE=new me,b.B.add("editor.contributions",me.INSTANCE);const q=Q(new L({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:O.eH.MenubarEditMenu,group:"1_do",title:E.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:O.eH.CommandPalette,group:"",title:E.N("undo","Undo"),order:1}]}));Q(new N(q,{id:"default:undo",precondition:void 0}));const le=Q(new L({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:O.eH.MenubarEditMenu,group:"1_do",title:E.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:O.eH.CommandPalette,group:"",title:E.N("redo","Redo"),order:1}]}));Q(new N(le,{id:"default:redo",precondition:void 0}));const ee=Q(new L({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:O.eH.MenubarSelectionMenu,group:"1_basic",title:E.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:O.eH.CommandPalette,group:"",title:E.N("selectAll","Select All"),order:1}]}))},48882:(Fe,Ne,m)=>{m.d(Ne,{vu:()=>B,fo:()=>O,Gl:()=>F});var E=m(43569),g=m(85459),Y=m(99770);const B=(0,E.yh)("IWorkspaceEditService");class O{constructor(C){this.metadata=C}static convert(C){return C.edits.map(b=>{if((0,Y.Kn)(y=b)&&g.o.isUri(y.resource)&&(0,Y.Kn)(y.edit))return new F(b.resource,b.edit,b.modelVersionId,b.metadata);var y;if(function(y){return(0,Y.Kn)(y)&&(Boolean(y.newUri)||Boolean(y.oldUri))}(b))return new k(b.oldUri,b.newUri,b.options,b.metadata);throw new Error("Unsupported edit")})}}class F extends O{constructor(C,b,x,f){super(f),this.resource=C,this.textEdit=b,this.versionId=x}}class k extends O{constructor(C,b,x,f){super(f),this.oldResource=C,this.newResource=b,this.options=x}}},57623:(Fe,Ne,m)=>{m.d(Ne,{$:()=>g});const g=(0,m(43569).yh)("codeEditorService")},78622:(Fe,Ne,m)=>{m.d(Ne,{Z:()=>E});class E{constructor(Y,B,D){this._visiblePosition=Y,this._visiblePositionScrollDelta=B,this._cursorPosition=D}static capture(Y){let B=null,D=0;if(0!==Y.getScrollTop()){const i=Y.getVisibleRanges();if(i.length>0){B=i[0].getStartPosition();const O=Y.getTopForPosition(B.lineNumber,B.column);D=Y.getScrollTop()-O}}return new E(B,D,Y.getPosition())}restore(Y){if(this._visiblePosition){const B=Y.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);Y.setScrollTop(B+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(Y){const B=Y.getPosition();if(!this._cursorPosition||!B)return;const D=Y.getTopForLineNumber(B.lineNumber)-Y.getTopForLineNumber(this._cursorPosition.lineNumber);Y.setScrollTop(Y.getScrollTop()+D)}}},17703:(Fe,Ne,m)=>{m.d(Ne,{Gm:()=>Tl});var E=m(64757),g=m(44346);let D=class{constructor(r,c){}dispose(){}};var r;D.ID="editor.contrib.markerDecorations",D=function(ge,r,c,_){var ie,T=arguments.length,V=T<3?r:null===_?_=Object.getOwnPropertyDescriptor(r,c):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(ge,r,c,_);else for(var he=ge.length-1;he>=0;he--)(ie=ge[he])&&(V=(T<3?ie(V):T>3?ie(r,c,V):ie(r,c))||V);return T>3&&V&&Object.defineProperty(r,c,V),V}([(1,r=E.i,function(c,_){r(c,_,1)})],D),(0,g._K)(D.ID,D),m(94965);var O=m(12918),F=m(86678),k=m(13226),y=m(71040),C=m(40189),b=m(98318),x=m(47306),f=m(89822),M=m(60842),H=m(70700),L=m(1607),N=m(12710),Z=m(81530),I=m(93002),$=m(52925),U=m(86627),G=m(11358),oe=m(13976);let _e=class extends C.JT{constructor(r,c,_,T){super(),this._accessibilityService=T,this._onDidChange=this._register(new y.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new y.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new $.LJ,this.isSimpleWidget=r,this._containerObserver=this._register(new L.I(_,c.dimension)),this._rawOptions=ee(c),this._validatedOptions=le.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(U.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(I.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(N.g.onDidChange(()=>this._recomputeOptions())),this._register(x.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const r=this._computeOptions(),c=le.checkEquals(this.options,r);null!==c&&(this.options=r,this._onDidChangeFast.fire(c),this._onDidChange.fire(c))}_computeOptions(){const r=this._readEnvConfiguration(),c=G.E4.createFromValidatedSettings(this._validatedOptions,r.pixelRatio,this.isSimpleWidget),_=this._readFontInfo(c),T={memory:this._computeOptionsMemory,outerWidth:r.outerWidth,outerHeight:r.outerHeight-this._reservedHeight,fontInfo:_,extraEditorClassName:r.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:r.emptySelectionClipboard,pixelRatio:r.pixelRatio,tabFocusMode:I.n.getTabFocusMode(),accessibilitySupport:r.accessibilitySupport};return le.computeOptions(this._validatedOptions,T)}_readEnvConfiguration(){return{extraEditorClassName:me(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:x.isWebKit||x.isFirefox,pixelRatio:x.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(r){return N.g.readFontInfo(r)}getRawOptions(){return this._rawOptions}updateOptions(r){const c=ee(r);!le.applyUpdate(this._rawOptions,c)||(this._validatedOptions=le.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(r){this._containerObserver.observe(r)}setIsDominatedByLongLines(r){this._isDominatedByLongLines!==r&&(this._isDominatedByLongLines=r,this._recomputeOptions())}setModelLineCount(r){const c=function(ge){let r=0;for(;ge;)ge=Math.floor(ge/10),r++;return r||1}(r);this._lineNumbersDigitCount!==c&&(this._lineNumbersDigitCount=c,this._recomputeOptions())}setViewLineCount(r){this._viewLineCount!==r&&(this._viewLineCount=r,this._recomputeOptions())}setReservedHeight(r){this._reservedHeight!==r&&(this._reservedHeight=r,this._recomputeOptions())}};function me(){let ge="";return!x.isSafari&&!x.isWebkitWebView&&(ge+="no-user-select "),x.isSafari&&(ge+="no-minimap-shadow "),H.dz&&(ge+="mac "),ge}_e=function(ge,r,c,_){var ie,T=arguments.length,V=T<3?r:null===_?_=Object.getOwnPropertyDescriptor(r,c):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(ge,r,c,_);else for(var he=ge.length-1;he>=0;he--)(ie=ge[he])&&(V=(T<3?ie(V):T>3?ie(r,c,V):ie(r,c))||V);return T>3&&V&&Object.defineProperty(r,c,V),V}([function(ge,r){return function(c,_){r(c,_,3)}}(0,oe.F)],_e);class Q{constructor(){this._values=[]}_read(r){return this._values[r]}get(r){return this._values[r]}_write(r,c){this._values[r]=c}}class q{constructor(){this._values=[]}_read(r){if(r>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[r]}get(r){return this._read(r)}_write(r,c){this._values[r]=c}}class le{static validateOptions(r){const c=new Q;for(const _ of $.Bc)c._write(_.id,_.validate("_never_"===_.name?void 0:r[_.name]));return c}static computeOptions(r,c){const _=new q;for(const T of $.Bc)_._write(T.id,T.compute(c,_,r._read(T.id)));return _}static _deepEquals(r,c){if("object"!=typeof r||"object"!=typeof c||!r||!c)return r===c;if(Array.isArray(r)||Array.isArray(c))return!(!Array.isArray(r)||!Array.isArray(c))&&f.fS(r,c);if(Object.keys(r).length!==Object.keys(c).length)return!1;for(const _ in r)if(!le._deepEquals(r[_],c[_]))return!1;return!0}static checkEquals(r,c){const _=[];let T=!1;for(const V of $.Bc){const ie=!le._deepEquals(r._read(V.id),c._read(V.id));_[V.id]=ie,ie&&(T=!0)}return T?new $.Bb(_):null}static applyUpdate(r,c){let _=!1;for(const T of $.Bc)if(c.hasOwnProperty(T.name)){const V=T.applyUpdate(r[T.name],c[T.name]);r[T.name]=V.newValue,_=_||V.didChange}return _}}function ee(ge){const r=M.I8(ge);return function(ge){const r=ge.wordWrap;!0===r?ge.wordWrap="on":!1===r&&(ge.wordWrap="off");const c=ge.lineNumbers;!0===c?ge.lineNumbers="on":!1===c&&(ge.lineNumbers="off"),!1===ge.autoClosingBrackets&&(ge.autoClosingBrackets="never",ge.autoClosingQuotes="never",ge.autoSurround="never"),"visible"===ge.cursorBlinking&&(ge.cursorBlinking="solid");const V=ge.renderWhitespace;!0===V?ge.renderWhitespace="boundary":!1===V&&(ge.renderWhitespace="none");const ie=ge.renderLineHighlight;!0===ie?ge.renderLineHighlight="line":!1===ie&&(ge.renderLineHighlight="none");const he=ge.acceptSuggestionOnEnter;!0===he?ge.acceptSuggestionOnEnter="on":!1===he&&(ge.acceptSuggestionOnEnter="off");const ye=ge.tabCompletion;!1===ye?ge.tabCompletion="off":!0===ye&&(ge.tabCompletion="onlySnippets");const De=ge.suggest;De&&"object"==typeof De.filteredTypes&&De.filteredTypes&&(0,Z.E)({method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"},Zt=>{const cn=De.filteredTypes[Zt.key];!1===cn&&(De[Zt.value]=cn)});const Pe=ge.hover;!0===Pe?ge.hover={enabled:!0}:!1===Pe&&(ge.hover={enabled:!1});const ze=ge.parameterHints;!0===ze?ge.parameterHints={enabled:!0}:!1===ze&&(ge.parameterHints={enabled:!1});const qe=ge.autoIndent;!0===qe?ge.autoIndent="full":!1===qe&&(ge.autoIndent="advanced");const ot=ge.matchBrackets;!0===ot?ge.matchBrackets="always":!1===ot&&(ge.matchBrackets="never");const{renderIndentGuides:Ct,highlightActiveIndentGuide:mt}=ge;ge.guides||(ge.guides={}),void 0!==Ct&&(ge.guides.indentation=!!Ct),void 0!==mt&&(ge.guides.highlightActiveIndentation=!!mt)}(r),r}var J=m(57623),re=m(60745),ce=m(81718),ve=m(23945),ke=m(2886),We=m(89983),je=m(96132);class ue extends C.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(r){return!1}onCompositionEnd(r){return!1}onConfigurationChanged(r){return!1}onCursorStateChanged(r){return!1}onDecorationsChanged(r){return!1}onFlushed(r){return!1}onFocusChanged(r){return!1}onLanguageConfigurationChanged(r){return!1}onLineMappingChanged(r){return!1}onLinesChanged(r){return!1}onLinesDeleted(r){return!1}onLinesInserted(r){return!1}onRevealRangeRequest(r){return!1}onScrollChanged(r){return!1}onThemeChanged(r){return!1}onTokensChanged(r){return!1}onTokensColorsChanged(r){return!1}onZonesChanged(r){return!1}handleEvents(r){let c=!1;for(let _=0,T=r.length;_<T;_++){const V=r[_];switch(V.type){case 0:this.onCompositionStart(V)&&(c=!0);break;case 1:this.onCompositionEnd(V)&&(c=!0);break;case 2:this.onConfigurationChanged(V)&&(c=!0);break;case 3:this.onCursorStateChanged(V)&&(c=!0);break;case 4:this.onDecorationsChanged(V)&&(c=!0);break;case 5:this.onFlushed(V)&&(c=!0);break;case 6:this.onFocusChanged(V)&&(c=!0);break;case 7:this.onLanguageConfigurationChanged(V)&&(c=!0);break;case 8:this.onLineMappingChanged(V)&&(c=!0);break;case 9:this.onLinesChanged(V)&&(c=!0);break;case 10:this.onLinesDeleted(V)&&(c=!0);break;case 11:this.onLinesInserted(V)&&(c=!0);break;case 12:this.onRevealRangeRequest(V)&&(c=!0);break;case 13:this.onScrollChanged(V)&&(c=!0);break;case 15:this.onTokensChanged(V)&&(c=!0);break;case 14:this.onThemeChanged(V)&&(c=!0);break;case 16:this.onTokensColorsChanged(V)&&(c=!0);break;case 17:this.onZonesChanged(V)&&(c=!0);break;default:console.info("View received unknown event: "),console.info(V)}}c&&(this._shouldRender=!0)}}class Ce extends ue{constructor(r){super(),this._context=r,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Ae{static write(r,c){r.setAttribute("data-mprt",String(c))}static read(r){const c=r.getAttribute("data-mprt");return null===c?0:parseInt(c,10)}static collect(r,c){const _=[];let T=0;for(;r&&r!==document.body&&r!==c;)r.nodeType===r.ELEMENT_NODE&&(_[T++]=this.read(r)),r=r.parentElement;const V=new Uint8Array(T);for(let ie=0;ie<T;ie++)V[ie]=_[T-ie-1];return V}}class $e extends class{constructor(r,c){this._restrictedRenderingContextBrand=void 0,this._viewLayout=r,this.viewportData=c,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const _=this._viewLayout.getCurrentViewport();this.scrollTop=_.top,this.scrollLeft=_.left,this.viewportWidth=_.width,this.viewportHeight=_.height}getScrolledTopFromAbsoluteTop(r){return r-this.scrollTop}getVerticalOffsetForLineNumber(r){return this._viewLayout.getVerticalOffsetForLineNumber(r)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(r,c,_){super(r,c),this._renderingContextBrand=void 0,this._viewLines=_}linesVisibleRangesForRange(r,c){return this._viewLines.linesVisibleRangesForRange(r,c)}visibleRangeForPosition(r){return this._viewLines.visibleRangeForPosition(r)}}class Te{constructor(r,c,_){this.outsideRenderedLine=r,this.lineNumber=c,this.ranges=_}}class rt{constructor(r,c){this._horizontalRangeBrand=void 0,this.left=Math.round(r),this.width=Math.round(c)}static from(r){const c=new Array(r.length);for(let _=0,T=r.length;_<T;_++){const V=r[_];c[_]=new rt(V.left,V.width)}return c}toString(){return`[${this.left},${this.width}]`}}class ht{constructor(r,c){this._floatHorizontalRangeBrand=void 0,this.left=r,this.width=c}toString(){return`[${this.left},${this.width}]`}static compare(r,c){return r.left-c.left}}class nt{constructor(r,c){this.outsideRenderedLine=r,this.originalLeft=c,this.left=Math.round(this.originalLeft)}}class xe{constructor(r,c){this.outsideRenderedLine=r,this.ranges=c}}class Ie{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(r,c){r.selectNodeContents(c)}static _readClientRects(r,c,_,T,V){const ie=this._createRange();try{return ie.setStart(r,c),ie.setEnd(_,T),ie.getClientRects()}catch{return null}finally{this._detachRange(ie,V)}}static _mergeAdjacentRanges(r){if(1===r.length)return r;r.sort(ht.compare);const c=[];let _=0,T=r[0];for(let V=1,ie=r.length;V<ie;V++){const he=r[V];T.left+T.width+.9>=he.left?T.width=Math.max(T.width,he.left+he.width-T.left):(c[_++]=T,T=he)}return c[_++]=T,c}static _createHorizontalRangesFromClientRects(r,c,_){if(!r||0===r.length)return null;const T=[];for(let V=0,ie=r.length;V<ie;V++){const he=r[V];T[V]=new ht(Math.max(0,(he.left-c)/_),he.width/_)}return this._mergeAdjacentRanges(T)}static readHorizontalRanges(r,c,_,T,V,ie,he,ye){const Pe=r.children.length-1;if(0>Pe)return null;if((c=Math.min(Pe,Math.max(0,c)))===(T=Math.min(Pe,Math.max(0,T)))&&_===V&&0===_&&!r.children[c].firstChild){const Ct=r.children[c].getClientRects();return this._createHorizontalRangesFromClientRects(Ct,ie,he)}c!==T&&T>0&&0===V&&(T--,V=1073741824);let ze=r.children[c].firstChild,qe=r.children[T].firstChild;if((!ze||!qe)&&(!ze&&0===_&&c>0&&(ze=r.children[c-1].firstChild,_=1073741824),!qe&&0===V&&T>0&&(qe=r.children[T-1].firstChild,V=1073741824)),!ze||!qe)return null;_=Math.min(ze.textContent.length,Math.max(0,_)),V=Math.min(qe.textContent.length,Math.max(0,V));const ot=this._readClientRects(ze,_,qe,V,ye);return this._createHorizontalRangesFromClientRects(ot,ie,he)}}var at=m(82287),bt=m(19362),Ut=m(76804);const mn=!!H.tY||!(H.IJ||x.isFirefox||x.isSafari);let pt=!0;class Bt{constructor(r,c){this._domNode=r,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=c}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const r=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=r.left,this._clientRectScale=r.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class Vt{constructor(r,c){this.themeType=c;const _=r.options,T=_.get(44);this.renderWhitespace=_.get(88),this.renderControlCharacters=_.get(83),this.spaceWidth=T.spaceWidth,this.middotWidth=T.middotWidth,this.wsmiddotWidth=T.wsmiddotWidth,this.useMonospaceOptimizations=T.isMonospace&&!_.get(29),this.canUseHalfwidthRightwardsArrow=T.canUseHalfwidthRightwardsArrow,this.lineHeight=_.get(59),this.stopRenderingLineAfter=_.get(105),this.fontLigatures=_.get(45)}equals(r){return this.themeType===r.themeType&&this.renderWhitespace===r.renderWhitespace&&this.renderControlCharacters===r.renderControlCharacters&&this.spaceWidth===r.spaceWidth&&this.middotWidth===r.middotWidth&&this.wsmiddotWidth===r.wsmiddotWidth&&this.useMonospaceOptimizations===r.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===r.canUseHalfwidthRightwardsArrow&&this.lineHeight===r.lineHeight&&this.stopRenderingLineAfter===r.stopRenderingLineAfter&&this.fontLigatures===r.fontLigatures}}let zt=(()=>{class ge{constructor(c){this._options=c,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(c){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,ce.X)(c)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(c){this._isMaybeInvalid=!0,this._options=c}onSelectionChanged(){return(this._options.themeType===Ut.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(c,_,T,V){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const ie=T.getViewLineRenderingData(c),he=this._options,ye=at.Kp.filter(ie.inlineDecorations,c,ie.minColumn,ie.maxColumn);let De=null;if(he.themeType===Ut.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const ot=T.selections;for(const Ct of ot){if(Ct.endLineNumber<c||Ct.startLineNumber>c)continue;const mt=Ct.startLineNumber===c?Ct.startColumn:ie.minColumn,It=Ct.endLineNumber===c?Ct.endColumn:ie.maxColumn;mt<It&&(he.themeType===Ut.e.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?ye.push(new at.Kp(mt,It,"inline-selected-text",0)):(De||(De=[]),De.push(new bt.zG(mt-1,It-1))))}}const Pe=new bt.IJ(he.useMonospaceOptimizations,he.canUseHalfwidthRightwardsArrow,ie.content,ie.continuesWithWrappedLine,ie.isBasicASCII,ie.containsRTL,ie.minColumn-1,ie.tokens,ye,ie.tabSize,ie.startVisibleColumn,he.spaceWidth,he.middotWidth,he.wsmiddotWidth,he.stopRenderingLineAfter,he.renderWhitespace,he.renderControlCharacters,he.fontLigatures!==$.n0.OFF,De);if(this._renderedViewLine&&this._renderedViewLine.input.equals(Pe))return!1;V.appendASCIIString('<div style="top:'),V.appendASCIIString(String(_)),V.appendASCIIString("px;height:"),V.appendASCIIString(String(this._options.lineHeight)),V.appendASCIIString('px;" class="'),V.appendASCIIString(ge.CLASS_NAME),V.appendASCIIString('">');const ze=(0,bt.d1)(Pe,V);V.appendASCIIString("</div>");let qe=null;return pt&&mn&&ie.isBasicASCII&&he.useMonospaceOptimizations&&0===ze.containsForeignElements&&ie.content.length<300&&Pe.lineTokens.getCount()<100&&(qe=new fn(this._renderedViewLine?this._renderedViewLine.domNode:null,Pe,ze.characterMapping)),qe||(qe=St(this._renderedViewLine?this._renderedViewLine.domNode:null,Pe,ze.characterMapping,ze.containsRTL,ze.containsForeignElements)),this._renderedViewLine=qe,!0}layoutLine(c,_){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(_),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof fn}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof fn?this._renderedViewLine.monospaceAssumptionsAreValid():pt}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof fn&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(c,_,T,V){if(!this._renderedViewLine)return null;_=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,_)),T=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,T));const ie=this._renderedViewLine.input.stopRenderingLineAfter;let he=!1;-1!==ie&&_>ie+1&&T>ie+1&&(he=!0),-1!==ie&&_>ie+1&&(_=ie+1),-1!==ie&&T>ie+1&&(T=ie+1);const ye=this._renderedViewLine.getVisibleRangesForRange(c,_,T,V);return ye&&ye.length>0?new xe(he,ye):null}getColumnOfNodeOffset(c,_,T){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(c,_,T):1}}return ge.CLASS_NAME="view-line",ge})();class fn{constructor(r,c,_){this.domNode=r,this.input=c,this._characterMapping=_,this._charWidth=c.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return pt;const r=this.getWidth();return Math.abs(r-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),pt=!1),pt}toSlowRenderedLine(){return St(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(r,c,_,T){const V=this._getCharPosition(c),ie=this._getCharPosition(_);return[new ht(V,ie-V)]}_getCharPosition(r){const c=this._characterMapping.getAbsoluteOffset(r);return this._charWidth*c}getColumnOfNodeOffset(r,c,_){const T=c.textContent.length;let V=-1;for(;c;)c=c.previousSibling,V++;return this._characterMapping.getColumn(new bt.Nd(V,_),T)}}class Ye{constructor(r,c,_,T,V){if(this.domNode=r,this.input=c,this._characterMapping=_,this._isWhitespaceOnly=/^\s*$/.test(c.lineContent),this._containsForeignElements=V,this._cachedWidth=-1,this._pixelOffsetCache=null,!T||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let ie=0,he=this._characterMapping.length;ie<=he;ie++)this._pixelOffsetCache[ie]=-1}}_getReadingTarget(r){return r.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(r,c,_,T){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const V=this._readPixelOffset(this.domNode,r,c,T);if(-1===V)return null;const ie=this._readPixelOffset(this.domNode,r,_,T);return-1===ie?null:[new ht(V,ie-V)]}return this._readVisibleRangesForRange(this.domNode,r,c,_,T)}_readVisibleRangesForRange(r,c,_,T,V){if(_===T){const ie=this._readPixelOffset(r,c,_,V);return-1===ie?null:[new ht(ie,0)]}return this._readRawVisibleRangesForRange(r,_,T,V)}_readPixelOffset(r,c,_,T){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const V=this._getReadingTarget(r);return V.firstChild?V.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const V=this._pixelOffsetCache[_];if(-1!==V)return V;const ie=this._actualReadPixelOffset(r,c,_,T);return this._pixelOffsetCache[_]=ie,ie}return this._actualReadPixelOffset(r,c,_,T)}_actualReadPixelOffset(r,c,_,T){if(0===this._characterMapping.length){const ye=Ie.readHorizontalRanges(this._getReadingTarget(r),0,0,0,0,T.clientRectDeltaLeft,T.clientRectScale,T.endNode);return ye&&0!==ye.length?ye[0].left:-1}if(_===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const V=this._characterMapping.getDomPosition(_),ie=Ie.readHorizontalRanges(this._getReadingTarget(r),V.partIndex,V.charIndex,V.partIndex,V.charIndex,T.clientRectDeltaLeft,T.clientRectScale,T.endNode);if(!ie||0===ie.length)return-1;const he=ie[0].left;if(this.input.isBasicASCII){const ye=this._characterMapping.getAbsoluteOffset(_),De=Math.round(this.input.spaceWidth*ye);if(Math.abs(De-he)<=1)return De}return he}_readRawVisibleRangesForRange(r,c,_,T){if(1===c&&_===this._characterMapping.length)return[new ht(0,this.getWidth())];const V=this._characterMapping.getDomPosition(c),ie=this._characterMapping.getDomPosition(_);return Ie.readHorizontalRanges(this._getReadingTarget(r),V.partIndex,V.charIndex,ie.partIndex,ie.charIndex,T.clientRectDeltaLeft,T.clientRectScale,T.endNode)}getColumnOfNodeOffset(r,c,_){const T=c.textContent.length;let V=-1;for(;c;)c=c.previousSibling,V++;return this._characterMapping.getColumn(new bt.Nd(V,_),T)}}class Et extends Ye{_readVisibleRangesForRange(r,c,_,T,V){const ie=super._readVisibleRangesForRange(r,c,_,T,V);if(!ie||0===ie.length||_===T||1===_&&T===this._characterMapping.length)return ie;if(!this.input.containsRTL){const he=this._readPixelOffset(r,c,T,V);if(-1!==he){const ye=ie[ie.length-1];ye.left<he&&(ye.width=he-ye.left)}}return ie}}const St=x.isWebKit?function(ge,r,c,_,T){return new Et(ge,r,c,_,T)}:function(ge,r,c,_,T){return new Ye(ge,r,c,_,T)};var Xt,Rt=m(67947),Mt=m(1873),Yn=m(90784),xi=m(56660);class At{constructor(r=null){this.hitTarget=r,this.type=0}}class Bi{constructor(r,c,_){this.position=r,this.spanNode=c,this.injectedText=_,this.type=1}}!function(ge){ge.createFromDOMInfo=function(c,_,T){const V=c.getPositionFromDOMInfo(_,T);return V?new Bi(V,_,null):new At(_)}}(Xt||(Xt={}));class He{constructor(r,c){this.lastViewCursorsRenderData=r,this.lastTextareaPosition=c}}class Ue{static _deduceRage(r,c=null){return!c&&r?new Mt.e(r.lineNumber,r.column,r.lineNumber,r.column):c??null}static createUnknown(r,c,_){return{type:0,element:r,mouseColumn:c,position:_,range:this._deduceRage(_)}}static createTextarea(r,c){return{type:1,element:r,mouseColumn:c,position:null,range:null}}static createMargin(r,c,_,T,V,ie){return{type:r,element:c,mouseColumn:_,position:T,range:V,detail:ie}}static createViewZone(r,c,_,T,V){return{type:r,element:c,mouseColumn:_,position:T,range:this._deduceRage(T),detail:V}}static createContentText(r,c,_,T,V){return{type:6,element:r,mouseColumn:c,position:_,range:this._deduceRage(_,T),detail:V}}static createContentEmpty(r,c,_,T){return{type:7,element:r,mouseColumn:c,position:_,range:this._deduceRage(_),detail:T}}static createContentWidget(r,c,_){return{type:9,element:r,mouseColumn:c,position:null,range:null,detail:_}}static createScrollbar(r,c,_){return{type:11,element:r,mouseColumn:c,position:_,range:this._deduceRage(_)}}static createOverlayWidget(r,c,_){return{type:12,element:r,mouseColumn:c,position:null,range:null,detail:_}}static createOutsideEditor(r,c){return{type:13,element:null,mouseColumn:r,position:c,range:this._deduceRage(c)}}static _typeToString(r){return 1===r?"TEXTAREA":2===r?"GUTTER_GLYPH_MARGIN":3===r?"GUTTER_LINE_NUMBERS":4===r?"GUTTER_LINE_DECORATIONS":5===r?"GUTTER_VIEW_ZONE":6===r?"CONTENT_TEXT":7===r?"CONTENT_EMPTY":8===r?"CONTENT_VIEW_ZONE":9===r?"CONTENT_WIDGET":10===r?"OVERVIEW_RULER":11===r?"SCROLLBAR":12===r?"OVERLAY_WIDGET":"UNKNOWN"}static toString(r){return this._typeToString(r.type)+": "+r.position+" - "+r.range+" - "+JSON.stringify(r.detail)}}class on{static isTextArea(r){return 2===r.length&&3===r[0]&&6===r[1]}static isChildOfViewLines(r){return r.length>=4&&3===r[0]&&7===r[3]}static isStrictChildOfViewLines(r){return r.length>4&&3===r[0]&&7===r[3]}static isChildOfScrollableElement(r){return r.length>=2&&3===r[0]&&5===r[1]}static isChildOfMinimap(r){return r.length>=2&&3===r[0]&&8===r[1]}static isChildOfContentWidgets(r){return r.length>=4&&3===r[0]&&1===r[3]}static isChildOfOverflowingContentWidgets(r){return r.length>=1&&2===r[0]}static isChildOfOverlayWidgets(r){return r.length>=2&&3===r[0]&&4===r[1]}}class Sn{constructor(r,c,_){this.viewModel=r.viewModel;const T=r.configuration.options;this.layoutInfo=T.get(131),this.viewDomNode=c.viewDomNode,this.lineHeight=T.get(59),this.stickyTabStops=T.get(104),this.typicalHalfwidthCharacterWidth=T.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=_,this._context=r,this._viewHelper=c}getZoneAtCoord(r){return Sn.getZoneAtCoord(this._context,r)}static getZoneAtCoord(r,c){const _=r.viewLayout.getWhitespaceAtVerticalOffset(c);if(_){const T=_.verticalOffset+_.height/2,V=r.viewModel.getLineCount();let he,ie=null,ye=null;return _.afterLineNumber!==V&&(ye=new Rt.L(_.afterLineNumber+1,1)),_.afterLineNumber>0&&(ie=new Rt.L(_.afterLineNumber,r.viewModel.getLineMaxColumn(_.afterLineNumber))),he=null===ye?ie:null===ie?ye:c<T?ie:ye,{viewZoneId:_.id,afterLineNumber:_.afterLineNumber,positionBefore:ie,positionAfter:ye,position:he}}return null}getFullLineRangeAtCoord(r){if(this._context.viewLayout.isAfterLines(r)){const T=this._context.viewModel.getLineCount(),V=this._context.viewModel.getLineMaxColumn(T);return{range:new Mt.e(T,V,T,V),isAfterLines:!0}}const c=this._context.viewLayout.getLineNumberAtVerticalOffset(r),_=this._context.viewModel.getLineMaxColumn(c);return{range:new Mt.e(c,1,c,_),isAfterLines:!1}}getLineNumberAtVerticalOffset(r){return this._context.viewLayout.getLineNumberAtVerticalOffset(r)}isAfterLines(r){return this._context.viewLayout.isAfterLines(r)}isInTopPadding(r){return this._context.viewLayout.isInTopPadding(r)}isInBottomPadding(r){return this._context.viewLayout.isInBottomPadding(r)}getVerticalOffsetForLineNumber(r){return this._context.viewLayout.getVerticalOffsetForLineNumber(r)}findAttribute(r,c){return Sn._findAttribute(r,c,this._viewHelper.viewDomNode)}static _findAttribute(r,c,_){for(;r&&r!==document.body;){if(r.hasAttribute&&r.hasAttribute(c))return r.getAttribute(c);if(r===_)return null;r=r.parentNode}return null}getLineWidth(r){return this._viewHelper.getLineWidth(r)}visibleRangeForPosition(r,c){return this._viewHelper.visibleRangeForPosition(r,c)}getPositionFromDOMInfo(r,c){return this._viewHelper.getPositionFromDOMInfo(r,c)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class bi extends class{constructor(r,c,_,T){this.editorPos=c,this.pos=_,this.relativePos=T,this.mouseVerticalOffset=Math.max(0,r.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=r.getCurrentScrollLeft()+this.relativePos.x-r.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<r.layoutInfo.contentLeft&&this.relativePos.x>=r.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,wi._getMouseColumn(this.mouseContentHorizontalOffset,r.typicalHalfwidthCharacterWidth))}}{constructor(r,c,_,T,V){super(r,c,_,T),this._ctx=r,V?(this.target=V,this.targetPath=Ae.collect(V,r.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(r=null){return r&&r.column<this._ctx.viewModel.getLineMaxColumn(r.lineNumber)?Yn.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(r.lineNumber),r.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(r=null){return Ue.createUnknown(this.target,this._getMouseColumn(r),r)}fulfillTextarea(){return Ue.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(r,c,_,T){return Ue.createMargin(r,this.target,this._getMouseColumn(c),c,_,T)}fulfillViewZone(r,c,_){return Ue.createViewZone(r,this.target,this._getMouseColumn(c),c,_)}fulfillContentText(r,c,_){return Ue.createContentText(this.target,this._getMouseColumn(r),r,c,_)}fulfillContentEmpty(r,c){return Ue.createContentEmpty(this.target,this._getMouseColumn(r),r,c)}fulfillContentWidget(r){return Ue.createContentWidget(this.target,this._getMouseColumn(),r)}fulfillScrollbar(r){return Ue.createScrollbar(this.target,this._getMouseColumn(r),r)}fulfillOverlayWidget(r){return Ue.createOverlayWidget(this.target,this._getMouseColumn(),r)}withTarget(r){return new bi(this._ctx,this.editorPos,this.pos,this.relativePos,r)}}const ki={isAfterLines:!0};function Li(ge){return{isAfterLines:!1,horizontalDistanceToText:ge}}class wi{constructor(r,c){this._context=r,this._viewHelper=c}mouseTargetIsWidget(r){const _=Ae.collect(r.target,this._viewHelper.viewDomNode);return!!(on.isChildOfContentWidgets(_)||on.isChildOfOverflowingContentWidgets(_)||on.isChildOfOverlayWidgets(_))}createMouseTarget(r,c,_,T,V){const ie=new Sn(this._context,this._viewHelper,r),he=new bi(ie,c,_,T,V);try{return wi._createMouseTarget(ie,he,!1)}catch{return he.fulfillUnknown()}}static _createMouseTarget(r,c,_){if(null===c.target){if(_)return c.fulfillUnknown();const ie=wi._doHitTest(r,c);return 1===ie.type?wi.createMouseTargetFromHitTestPosition(r,c,ie.spanNode,ie.position,ie.injectedText):this._createMouseTarget(r,c.withTarget(ie.hitTarget),!0)}const T=c;let V=null;return V=V||wi._hitTestContentWidget(r,T),V=V||wi._hitTestOverlayWidget(r,T),V=V||wi._hitTestMinimap(r,T),V=V||wi._hitTestScrollbarSlider(r,T),V=V||wi._hitTestViewZone(r,T),V=V||wi._hitTestMargin(r,T),V=V||wi._hitTestViewCursor(r,T),V=V||wi._hitTestTextArea(r,T),V=V||wi._hitTestViewLines(r,T,_),V=V||wi._hitTestScrollbar(r,T),V||c.fulfillUnknown()}static _hitTestContentWidget(r,c){if(on.isChildOfContentWidgets(c.targetPath)||on.isChildOfOverflowingContentWidgets(c.targetPath)){const _=r.findAttribute(c.target,"widgetId");return _?c.fulfillContentWidget(_):c.fulfillUnknown()}return null}static _hitTestOverlayWidget(r,c){if(on.isChildOfOverlayWidgets(c.targetPath)){const _=r.findAttribute(c.target,"widgetId");return _?c.fulfillOverlayWidget(_):c.fulfillUnknown()}return null}static _hitTestViewCursor(r,c){if(c.target){const _=r.lastRenderData.lastViewCursorsRenderData;for(const T of _)if(c.target===T.domNode)return c.fulfillContentText(T.position,null,{mightBeForeignElement:!1,injectedText:null})}if(c.isInContentArea){const _=r.lastRenderData.lastViewCursorsRenderData,T=c.mouseContentHorizontalOffset,V=c.mouseVerticalOffset;for(const ie of _){if(T<ie.contentLeft||T>ie.contentLeft+ie.width)continue;const he=r.getVerticalOffsetForLineNumber(ie.position.lineNumber);if(he<=V&&V<=he+ie.height)return c.fulfillContentText(ie.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(r,c){const _=r.getZoneAtCoord(c.mouseVerticalOffset);return _?c.fulfillViewZone(c.isInContentArea?8:5,_.position,_):null}static _hitTestTextArea(r,c){return on.isTextArea(c.targetPath)?r.lastRenderData.lastTextareaPosition?c.fulfillContentText(r.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):c.fulfillTextarea():null}static _hitTestMargin(r,c){if(c.isInMarginArea){const _=r.getFullLineRangeAtCoord(c.mouseVerticalOffset),T=_.range.getStartPosition();let V=Math.abs(c.relativePos.x);const ie={isAfterLines:_.isAfterLines,glyphMarginLeft:r.layoutInfo.glyphMarginLeft,glyphMarginWidth:r.layoutInfo.glyphMarginWidth,lineNumbersWidth:r.layoutInfo.lineNumbersWidth,offsetX:V};return V-=r.layoutInfo.glyphMarginLeft,V<=r.layoutInfo.glyphMarginWidth?c.fulfillMargin(2,T,_.range,ie):(V-=r.layoutInfo.glyphMarginWidth,V<=r.layoutInfo.lineNumbersWidth?c.fulfillMargin(3,T,_.range,ie):(V-=r.layoutInfo.lineNumbersWidth,c.fulfillMargin(4,T,_.range,ie)))}return null}static _hitTestViewLines(r,c,_){if(!on.isChildOfViewLines(c.targetPath))return null;if(r.isInTopPadding(c.mouseVerticalOffset))return c.fulfillContentEmpty(new Rt.L(1,1),ki);if(r.isAfterLines(c.mouseVerticalOffset)||r.isInBottomPadding(c.mouseVerticalOffset)){const V=r.viewModel.getLineCount(),ie=r.viewModel.getLineMaxColumn(V);return c.fulfillContentEmpty(new Rt.L(V,ie),ki)}if(_){if(on.isStrictChildOfViewLines(c.targetPath)){const V=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset);if(0===r.viewModel.getLineLength(V)){const he=r.getLineWidth(V),ye=Li(c.mouseContentHorizontalOffset-he);return c.fulfillContentEmpty(new Rt.L(V,1),ye)}const ie=r.getLineWidth(V);if(c.mouseContentHorizontalOffset>=ie){const he=Li(c.mouseContentHorizontalOffset-ie),ye=new Rt.L(V,r.viewModel.getLineMaxColumn(V));return c.fulfillContentEmpty(ye,he)}}return c.fulfillUnknown()}const T=wi._doHitTest(r,c);return 1===T.type?wi.createMouseTargetFromHitTestPosition(r,c,T.spanNode,T.position,T.injectedText):this._createMouseTarget(r,c.withTarget(T.hitTarget),!0)}static _hitTestMinimap(r,c){if(on.isChildOfMinimap(c.targetPath)){const _=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),T=r.viewModel.getLineMaxColumn(_);return c.fulfillScrollbar(new Rt.L(_,T))}return null}static _hitTestScrollbarSlider(r,c){if(on.isChildOfScrollableElement(c.targetPath)&&c.target&&1===c.target.nodeType){const _=c.target.className;if(_&&/\b(slider|scrollbar)\b/.test(_)){const T=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),V=r.viewModel.getLineMaxColumn(T);return c.fulfillScrollbar(new Rt.L(T,V))}}return null}static _hitTestScrollbar(r,c){if(on.isChildOfScrollableElement(c.targetPath)){const _=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),T=r.viewModel.getLineMaxColumn(_);return c.fulfillScrollbar(new Rt.L(_,T))}return null}getMouseColumn(r){const c=this._context.configuration.options,_=c.get(131),T=this._context.viewLayout.getCurrentScrollLeft()+r.x-_.contentLeft;return wi._getMouseColumn(T,c.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(r,c){return r<0?1:Math.round(r/c)+1}static createMouseTargetFromHitTestPosition(r,c,_,T,V){const ie=T.lineNumber,he=T.column,ye=r.getLineWidth(ie);if(c.mouseContentHorizontalOffset>ye){const It=Li(c.mouseContentHorizontalOffset-ye);return c.fulfillContentEmpty(T,It)}const De=r.visibleRangeForPosition(ie,he);if(!De)return c.fulfillUnknown(T);if(c.mouseContentHorizontalOffset===De.left)return c.fulfillContentText(T,null,{mightBeForeignElement:!!V,injectedText:V});const ze=[];if(ze.push({offset:De.left,column:he}),he>1){const It=r.visibleRangeForPosition(ie,he-1);It&&ze.push({offset:It.left,column:he-1})}if(he<r.viewModel.getLineMaxColumn(ie)){const It=r.visibleRangeForPosition(ie,he+1);It&&ze.push({offset:It.left,column:he+1})}ze.sort((It,Zt)=>It.offset-Zt.offset);const ot=c.pos.toClientCoordinates(),Ct=_.getBoundingClientRect(),mt=Ct.left<=ot.clientX&&ot.clientX<=Ct.right;for(let It=1;It<ze.length;It++){const Zt=ze[It-1],cn=ze[It];if(Zt.offset<=c.mouseContentHorizontalOffset&&c.mouseContentHorizontalOffset<=cn.offset){const dn=new Mt.e(ie,Zt.column,ie,cn.column);return c.fulfillContentText(T,dn,{mightBeForeignElement:!mt||!!V,injectedText:V})}}return c.fulfillContentText(T,null,{mightBeForeignElement:!mt||!!V,injectedText:V})}static _doHitTestWithCaretRangeFromPoint(r,c){const _=r.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),V=r.getVerticalOffsetForLineNumber(_)+Math.floor(r.lineHeight/2);let ie=c.pos.y+(V-c.mouseVerticalOffset);ie<=c.editorPos.y&&(ie=c.editorPos.y+1),ie>=c.editorPos.y+c.editorPos.height&&(ie=c.editorPos.y+c.editorPos.height-1);const he=new je.YN(c.pos.x,ie),ye=this._actualDoHitTestWithCaretRangeFromPoint(r,he.toClientCoordinates());return 1===ye.type?ye:this._actualDoHitTestWithCaretRangeFromPoint(r,c.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(r,c){const _=F.Ay(r.viewDomNode);let T;if(T=_?void 0===_.caretRangeFromPoint?function(ge,r,c){const _=document.createRange();let T=ge.elementFromPoint(r,c);if(null!==T){for(;T&&T.firstChild&&T.firstChild.nodeType!==T.firstChild.TEXT_NODE&&T.lastChild&&T.lastChild.firstChild;)T=T.lastChild;const V=T.getBoundingClientRect(),ie=window.getComputedStyle(T,null).getPropertyValue("font"),he=T.innerText;let Pe,ye=V.left,De=0;if(r>V.left+V.width)De=he.length;else{const ze=Lt.getInstance();for(let qe=0;qe<he.length+1;qe++){if(Pe=ze.getCharWidth(he.charAt(qe),ie)/2,ye+=Pe,r<ye){De=qe;break}ye+=Pe}}_.setStart(T.firstChild,De),_.setEnd(T.firstChild,De)}return _}(_,c.clientX,c.clientY):_.caretRangeFromPoint(c.clientX,c.clientY):document.caretRangeFromPoint(c.clientX,c.clientY),!T||!T.startContainer)return new At;const V=T.startContainer;if(V.nodeType===V.TEXT_NODE){const ie=V.parentNode,he=ie?ie.parentNode:null,ye=he?he.parentNode:null;return(ye&&ye.nodeType===ye.ELEMENT_NODE?ye.className:null)===zt.CLASS_NAME?Xt.createFromDOMInfo(r,ie,T.startOffset):new At(V.parentNode)}if(V.nodeType===V.ELEMENT_NODE){const ie=V.parentNode,he=ie?ie.parentNode:null;return(he&&he.nodeType===he.ELEMENT_NODE?he.className:null)===zt.CLASS_NAME?Xt.createFromDOMInfo(r,V,V.textContent.length):new At(V)}return new At}static _doHitTestWithCaretPositionFromPoint(r,c){const _=document.caretPositionFromPoint(c.clientX,c.clientY);if(_.offsetNode.nodeType===_.offsetNode.TEXT_NODE){const T=_.offsetNode.parentNode,V=T?T.parentNode:null,ie=V?V.parentNode:null;return(ie&&ie.nodeType===ie.ELEMENT_NODE?ie.className:null)===zt.CLASS_NAME?Xt.createFromDOMInfo(r,_.offsetNode.parentNode,_.offset):new At(_.offsetNode.parentNode)}if(_.offsetNode.nodeType===_.offsetNode.ELEMENT_NODE){const T=_.offsetNode.parentNode,ie=T?T.parentNode:null,he=ie&&ie.nodeType===ie.ELEMENT_NODE?ie.className:null;if((T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===zt.CLASS_NAME){const ye=_.offsetNode.childNodes[Math.min(_.offset,_.offsetNode.childNodes.length-1)];if(ye)return Xt.createFromDOMInfo(r,ye,0)}else if(he===zt.CLASS_NAME)return Xt.createFromDOMInfo(r,_.offsetNode,0)}return new At(_.offsetNode)}static _snapToSoftTabBoundary(r,c){const _=c.getLineContent(r.lineNumber),{tabSize:T}=c.model.getOptions(),V=xi.l.atomicPosition(_,r.column-1,T,2);return-1!==V?new Rt.L(r.lineNumber,V+1):r}static _doHitTest(r,c){let _=new At;if("function"==typeof document.caretRangeFromPoint?_=this._doHitTestWithCaretRangeFromPoint(r,c):document.caretPositionFromPoint&&(_=this._doHitTestWithCaretPositionFromPoint(r,c.pos.toClientCoordinates())),1===_.type){const T=r.viewModel.getInjectedTextAt(_.position),V=r.viewModel.normalizePosition(_.position,2);(T||!V.equals(_.position))&&(_=new Bi(V,_.spanNode,T))}return 1===_.type&&r.stickyTabStops&&(_=new Bi(this._snapToSoftTabBoundary(_.position,r.viewModel),_.spanNode,_.injectedText)),_}}let Lt=(()=>{class ge{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return ge._INSTANCE||(ge._INSTANCE=new ge),ge._INSTANCE}getCharWidth(c,_){const T=c+_;if(this._cache[T])return this._cache[T];const V=this._canvas.getContext("2d");V.font=_;const he=V.measureText(c).width;return this._cache[T]=he,he}}return ge._INSTANCE=null,ge})();function Yt(ge){return function(r,c){let _=!1;return ge&&(_=ge.mouseTargetIsWidget(c)),_||c.preventDefault(),c}}let bn=(()=>{class ge extends ue{constructor(c,_,T){super(),this._context=c,this.viewController=_,this.viewHelper=T,this.mouseTargetFactory=new wi(this._context,T),this._mouseDownOperation=this._register(new Kt(this._context,this.viewController,this.viewHelper,(he,ye)=>this._createMouseTarget(he,ye),he=>this._getMouseColumn(he))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const V=new je.N5(this.viewHelper.viewDomNode);this._register(V.onContextMenu(this.viewHelper.viewDomNode,he=>this._onContextMenu(he,!0))),this._register(V.onMouseMoveThrottled(this.viewHelper.viewDomNode,he=>this._onMouseMove(he),Yt(this.mouseTargetFactory),ge.MOUSE_MOVE_MINIMUM_TIME)),this._register(V.onMouseUp(this.viewHelper.viewDomNode,he=>this._onMouseUp(he))),this._register(V.onMouseLeave(this.viewHelper.viewDomNode,he=>this._onMouseLeave(he))),this._register(V.onMouseDown(this.viewHelper.viewDomNode,he=>this._onMouseDown(he))),this._register(F.nm(this.viewHelper.viewDomNode,F.tw.MOUSE_WHEEL,he=>{if(this.viewController.emitMouseWheel(he),!this._context.configuration.options.get(68))return;const ye=new ke.q(he);if(H.dz?(he.metaKey||he.ctrlKey)&&!he.shiftKey&&!he.altKey:he.ctrlKey&&!he.metaKey&&!he.shiftKey&&!he.altKey){const Pe=U.C.getZoomLevel();U.C.setZoomLevel(Pe+(ye.deltaY>0?1:-1)),ye.preventDefault(),ye.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(c){if(c.hasChanged(131)){const _=this._context.configuration.options.get(131).height;this._height!==_&&(this._height=_,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(c){return this._mouseDownOperation.onCursorStateChanged(c),!1}onFocusChanged(c){return!1}onScrollChanged(c){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(c,_){const V=new je.rU(c,_).toPageCoordinates(),ie=(0,je.kG)(this.viewHelper.viewDomNode);if(V.y<ie.y||V.y>ie.y+ie.height||V.x<ie.x||V.x>ie.x+ie.width)return null;const he=(0,je.Pp)(this.viewHelper.viewDomNode,ie,V);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),ie,V,he,null)}_createMouseTarget(c,_){let T=c.target;if(!this.viewHelper.viewDomNode.contains(T)){const V=F.Ay(this.viewHelper.viewDomNode);V&&(T=V.elementsFromPoint(c.posx,c.posy).find(ie=>this.viewHelper.viewDomNode.contains(ie)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),c.editorPos,c.pos,c.relativePos,_?T:null)}_getMouseColumn(c){return this.mouseTargetFactory.getMouseColumn(c.relativePos)}_onContextMenu(c,_){this.viewController.emitContextMenu({event:c,target:this._createMouseTarget(c,_)})}_onMouseMove(c){this._mouseDownOperation.isActive()||c.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:c,target:this._createMouseTarget(c,!0)})}_onMouseLeave(c){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:c,target:null})}_onMouseUp(c){this.viewController.emitMouseUp({event:c,target:this._createMouseTarget(c,!0)})}_onMouseDown(c){const _=this._createMouseTarget(c,!0),T=6===_.type||7===_.type,V=2===_.type||3===_.type||4===_.type,ie=3===_.type,he=this._context.configuration.options.get(98),ye=8===_.type||5===_.type,De=9===_.type;let Pe=c.leftButton||c.middleButton;H.dz&&c.leftButton&&c.ctrlKey&&(Pe=!1);const ze=()=>{c.preventDefault(),this.viewHelper.focusTextArea()};Pe&&(T||ie&&he)?(ze(),this._mouseDownOperation.start(_.type,c)):V?c.preventDefault():ye?this.viewHelper.shouldSuppressMouseDownOnViewZone(_.detail.viewZoneId)&&(ze(),this._mouseDownOperation.start(_.type,c),c.preventDefault()):De&&this.viewHelper.shouldSuppressMouseDownOnWidget(_.detail)&&(ze(),c.preventDefault()),this.viewController.emitMouseDown({event:c,target:_})}}return ge.MOUSE_MOVE_MINIMUM_TIME=100,ge})();class Kt extends C.JT{constructor(r,c,_,T,V){super(),this._context=r,this._viewController=c,this._viewHelper=_,this._createMouseTarget=T,this._getMouseColumn=V,this._mouseMoveMonitor=this._register(new je.iB(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new We._F),this._mouseState=new Ve,this._currentSelection=new re.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(r){this._lastMouseEvent=r,this._mouseState.setModifiers(r);const c=this._findMousePosition(r,!0);!c||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:r,target:c}):this._dispatchMouse(c,!0))}start(r,c){this._lastMouseEvent=c,this._mouseState.setStartedOnLineNumbers(3===r),this._mouseState.setStartButtons(c),this._mouseState.setModifiers(c);const _=this._findMousePosition(c,!0);if(!_||!_.position)return;this._mouseState.trySetCount(c.detail,_.position),c.detail=this._mouseState.count;const T=this._context.configuration.options;if(!T.get(81)&&T.get(31)&&!T.get(18)&&!this._mouseState.altKey&&c.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===_.type&&_.position&&this._currentSelection.containsPosition(_.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,Yt(null),V=>this._onMouseDownThenMove(V),V=>{const ie=this._findMousePosition(this._lastMouseEvent,!0);V&&V instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:ie?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(_,c.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(c.target,c.buttons,Yt(null),V=>this._onMouseDownThenMove(V),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const r=this._findMousePosition(this._lastMouseEvent,!1);!r||this._mouseState.isDragAndDrop||this._dispatchMouse(r,!0)},10)}onCursorStateChanged(r){this._currentSelection=r.selections[0]}_getPositionOutsideEditor(r){const c=r.editorPos,_=this._context.viewModel,T=this._context.viewLayout,V=this._getMouseColumn(r);if(r.posy<c.y){const he=Math.max(T.getCurrentScrollTop()-(c.y-r.posy),0),ye=Sn.getZoneAtCoord(this._context,he);if(ye){const Pe=this._helpPositionJumpOverViewZone(ye);if(Pe)return Ue.createOutsideEditor(V,Pe)}const De=T.getLineNumberAtVerticalOffset(he);return Ue.createOutsideEditor(V,new Rt.L(De,1))}if(r.posy>c.y+c.height){const he=T.getCurrentScrollTop()+r.relativePos.y,ye=Sn.getZoneAtCoord(this._context,he);if(ye){const Pe=this._helpPositionJumpOverViewZone(ye);if(Pe)return Ue.createOutsideEditor(V,Pe)}const De=T.getLineNumberAtVerticalOffset(he);return Ue.createOutsideEditor(V,new Rt.L(De,_.getLineMaxColumn(De)))}const ie=T.getLineNumberAtVerticalOffset(T.getCurrentScrollTop()+r.relativePos.y);return r.posx<c.x?Ue.createOutsideEditor(V,new Rt.L(ie,1)):r.posx>c.x+c.width?Ue.createOutsideEditor(V,new Rt.L(ie,_.getLineMaxColumn(ie))):null}_findMousePosition(r,c){const _=this._getPositionOutsideEditor(r);if(_)return _;const T=this._createMouseTarget(r,c);if(!T.position)return null;if(8===T.type||5===T.type){const ie=this._helpPositionJumpOverViewZone(T.detail);if(ie)return Ue.createViewZone(T.type,T.element,T.mouseColumn,ie,T.detail)}return T}_helpPositionJumpOverViewZone(r){const c=new Rt.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),_=r.positionBefore,T=r.positionAfter;return _&&T?_.isBefore(c)?_:T:null}_dispatchMouse(r,c){!r.position||this._viewController.dispatchMouse({position:r.position,mouseColumn:r.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:c,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===r.type&&null!==r.detail.injectedText})}}let Ve=(()=>{class ge{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(c){this._altKey=c.altKey,this._ctrlKey=c.ctrlKey,this._metaKey=c.metaKey,this._shiftKey=c.shiftKey}setStartButtons(c){this._leftButton=c.leftButton,this._middleButton=c.middleButton}setStartedOnLineNumbers(c){this._startedOnLineNumbers=c}trySetCount(c,_){const T=(new Date).getTime();T-this._lastSetMouseDownCountTime>ge.CLEAR_MOUSE_DOWN_COUNT_TIME&&(c=1),this._lastSetMouseDownCountTime=T,c>this._lastMouseDownCount+1&&(c=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(_)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=_,this._lastMouseDownCount=Math.min(c,this._lastMouseDownPositionEqualCount)}}return ge.CLEAR_MOUSE_DOWN_COUNT_TIME=400,ge})();var Qe=m(96721),ct=m(78230);class xt extends bn{constructor(r,c,_){super(r,c,_),this._register(ve.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Tap,V=>this.onTap(V))),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Change,V=>this.onChange(V))),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Contextmenu,V=>this._onContextMenu(new je.gy(V,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(F.nm(this.viewHelper.linesContentDomNode,"pointerdown",V=>{const ie=V.pointerType;this._lastPointerType="mouse"!==ie?"touch"===ie?"touch":"pen":"mouse"}));const T=new je.tC(this.viewHelper.viewDomNode);this._register(T.onPointerMoveThrottled(this.viewHelper.viewDomNode,V=>this._onMouseMove(V),Yt(this.mouseTargetFactory),bn.MOUSE_MOVE_MINIMUM_TIME)),this._register(T.onPointerUp(this.viewHelper.viewDomNode,V=>this._onMouseUp(V))),this._register(T.onPointerLeave(this.viewHelper.viewDomNode,V=>this._onMouseLeave(V))),this._register(T.onPointerDown(this.viewHelper.viewDomNode,V=>this._onMouseDown(V)))}onTap(r){if(!r.initialTarget||!this.viewHelper.linesContentDomNode.contains(r.initialTarget))return;r.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new je.gy(r,this.viewHelper.viewDomNode),!1);c.position&&this.viewController.dispatchMouse({position:c.position,mouseColumn:c.position.column,startedOnLineNumbers:!1,mouseDownCount:r.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===c.type&&null!==c.detail.injectedText})}onChange(r){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-r.translationX,-r.translationY)}_onMouseDown(r){"touch"!==r.browserEvent.pointerType&&super._onMouseDown(r)}}class Ht extends bn{constructor(r,c,_){super(r,c,_),this._register(ve.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Tap,T=>this.onTap(T))),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Change,T=>this.onChange(T))),this._register(F.nm(this.viewHelper.linesContentDomNode,ve.t.Contextmenu,T=>this._onContextMenu(new je.gy(T,this.viewHelper.viewDomNode),!1)))}onTap(r){r.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new je.gy(r,this.viewHelper.viewDomNode),!1);if(c.position){const _=document.createEvent("CustomEvent");_.initEvent(ct.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(_),this.viewController.moveTo(c.position)}}onChange(r){this._context.viewModel.viewLayout.deltaScrollNow(-r.translationX,-r.translationY)}}class en extends C.JT{constructor(r,c,_){super(),this.handler=H.gn&&Qe.D.pointerEvents?this._register(new xt(r,c,_)):window.TouchEvent?this._register(new Ht(r,c,_)):this._register(new bn(r,c,_))}getTargetAtClientPoint(r,c){return this.handler.getTargetAtClientPoint(r,c)}}m(61261);var yn=m(74243),_n=m(6809),wn=m(33677);m(34362);class vn extends ue{}var ln=m(79695),En=m(53323);let In=(()=>{class ge extends vn{constructor(c){super(),this._context=c,this._readConfig(),this._lastCursorModelPosition=new Rt.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const c=this._context.configuration.options;this._lineHeight=c.get(59);const _=c.get(60);this._renderLineNumbers=_.renderType,this._renderCustomLineNumbers=_.renderFn,this._renderFinalNewline=c.get(84);const T=c.get(131);this._lineNumbersLeft=T.lineNumbersLeft,this._lineNumbersWidth=T.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(c){return this._readConfig(),!0}onCursorStateChanged(c){const _=c.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(_);let T=!1;return this._activeLineNumber!==_.lineNumber&&(this._activeLineNumber=_.lineNumber,T=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(T=!0),T}onFlushed(c){return!0}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return c.scrollTopChanged}onZonesChanged(c){return!0}_getLineRenderLineNumber(c){const _=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Rt.L(c,1));if(1!==_.column)return"";const T=_.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(T);if(2===this._renderLineNumbers){const V=Math.abs(this._lastCursorModelPosition.lineNumber-T);return 0===V?'<span class="relative-current-line-number">'+T+"</span>":String(V)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===T||T%10==0?String(T):"":String(T)}prepareRender(c){if(0===this._renderLineNumbers)return void(this._renderResult=null);const _=H.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",T=c.visibleRange.startLineNumber,V=c.visibleRange.endLineNumber,ie='<div class="'+ge.CLASS_NAME+_+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',he=this._context.viewModel.getLineCount(),ye=[];for(let De=T;De<=V;De++){const Pe=De-T;if(!this._renderFinalNewline&&De===he&&0===this._context.viewModel.getLineLength(De)){ye[Pe]="";continue}const ze=this._getLineRenderLineNumber(De);ye[Pe]=ze?De===this._activeLineNumber?'<div class="active-line-number '+ge.CLASS_NAME+_+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+ze+"</div>":ie+ze+"</div>":""}this._renderResult=ye}render(c,_){if(!this._renderResult)return"";const T=_-c;return T<0||T>=this._renderResult.length?"":this._renderResult[T]}}return ge.CLASS_NAME="line-numbers",ge})();(0,En.Ic)((ge,r)=>{const c=ge.getColor(ln.hw);c&&r.addRule(`.monaco-editor .line-numbers { color: ${c}; }`);const _=ge.getColor(ln.DD);_&&r.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${_}; }`)});let Kn=(()=>{class ge extends Ce{constructor(c){super(c);const _=this._context.configuration.options,T=_.get(131);this._canUseLayerHinting=!_.get(28),this._contentLeft=T.contentLeft,this._glyphMarginLeft=T.glyphMarginLeft,this._glyphMarginWidth=T.glyphMarginWidth,this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setClassName(ge.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,ce.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(ge.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(c){const _=this._context.configuration.options,T=_.get(131);return this._canUseLayerHinting=!_.get(28),this._contentLeft=T.contentLeft,this._glyphMarginLeft=T.glyphMarginLeft,this._glyphMarginWidth=T.glyphMarginWidth,!0}onScrollChanged(c){return super.onScrollChanged(c)||c.scrollTopChanged}prepareRender(c){}render(c){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(c.scrollTop-c.bigNumbersDelta));const T=Math.min(c.scrollHeight,1e6);this._domNode.setHeight(T),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(T)}}return ge.CLASS_NAME="glyph-margin",ge.OUTER_CLASS_NAME="margin",ge})();var Jn=m(81346),_i=m(2450),Di=m(33979),xn=m(81897);class Mi{constructor(r,c,_,T,V){this._context=r,this.modelLineNumber=c,this.distanceToModelLineStart=_,this.widthOfHiddenLineTextBefore=T,this.distanceToModelLineEnd=V,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(r){const c=new Rt.L(this.modelLineNumber,this.distanceToModelLineStart+1),_=new Rt.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(_),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=r.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=r.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(r){return this._previousPresentation||(this._previousPresentation=r||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const li=x.isFirefox;class pi extends Ce{constructor(r,c,_){super(r),this._primaryCursorPosition=new Rt.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=c,this._visibleRangeProvider=_,this._scrollLeft=0,this._scrollTop=0;const T=this._context.configuration.options,V=T.get(131);this._setAccessibilityOptions(T),this._contentLeft=V.contentLeft,this._contentWidth=V.contentWidth,this._contentHeight=V.height,this._fontInfo=T.get(44),this._lineHeight=T.get(59),this._emptySelectionClipboard=T.get(32),this._copyWithSyntaxHighlighting=T.get(21),this._visibleTextArea=null,this._selections=[new re.Y(1,1,1,1)],this._modelSelections=[new re.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,ce.X)(document.createElement("textarea")),Ae.write(this.textArea,6),this.textArea.setClassName(`inputarea ${_i.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("tabindex",String(T.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",O.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),T.get(30)&&T.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,ce.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const ie={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:De=>this._context.viewModel.getLineMaxColumn(De),getValueInRange:(De,Pe)=>this._context.viewModel.getValueInRange(De,Pe)},he={getDataToCopy:()=>{const De=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,H.ED),Pe=this._context.viewModel.model.getEOL(),ze=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),qe=Array.isArray(De)?De:null,ot=Array.isArray(De)?De.join(Pe):De;let Ct,mt=null;if(ct.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&ot.length<65536){const It=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);It&&(Ct=It.html,mt=It.mode)}return{isFromEmptySelection:ze,multicursorText:qe,text:ot,html:Ct,mode:mt}},getScreenReaderContent:De=>{if(1===this._accessibilitySupport){if(H.dz){const Pe=this._selections[0];if(Pe.isEmpty()){const ze=Pe.getStartPosition();let qe=this._getWordBeforePosition(ze);if(0===qe.length&&(qe=this._getCharacterBeforePosition(ze)),qe.length>0)return new wn.un(qe,qe.length,qe.length,ze,ze)}}return wn.un.EMPTY}if(x.isAndroid){const Pe=this._selections[0];if(Pe.isEmpty()){const ze=Pe.getStartPosition(),[qe,ot]=this._getAndroidWordAtPosition(ze);if(qe.length>0)return new wn.un(qe,ot,ot,ze,ze)}return wn.un.EMPTY}return wn.ee.fromEditorSelection(De,ie,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(De,Pe,ze)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(De,Pe,ze)},ye=this._register(new ct.Tj(this.textArea.domNode));this._textAreaInput=this._register(new ct.Fz(he,ye,H.OS,x)),this._register(this._textAreaInput.onKeyDown(De=>{this._viewController.emitKeyDown(De)})),this._register(this._textAreaInput.onKeyUp(De=>{this._viewController.emitKeyUp(De)})),this._register(this._textAreaInput.onPaste(De=>{let Pe=!1,ze=null,qe=null;De.metadata&&(Pe=this._emptySelectionClipboard&&!!De.metadata.isFromEmptySelection,ze=void 0!==De.metadata.multicursorText?De.metadata.multicursorText:null,qe=De.metadata.mode),this._viewController.paste(De.text,Pe,ze,qe)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(De=>{De.replacePrevCharCnt||De.replaceNextCharCnt||De.positionDelta?(wn.al&&console.log(` => compositionType: <<${De.text}>>, ${De.replacePrevCharCnt}, ${De.replaceNextCharCnt}, ${De.positionDelta}`),this._viewController.compositionType(De.text,De.replacePrevCharCnt,De.replaceNextCharCnt,De.positionDelta)):(wn.al&&console.log(` => type: <<${De.text}>>`),this._viewController.type(De.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(De=>{this._viewController.setSelection(De)})),this._register(this._textAreaInput.onCompositionStart(De=>{const Pe=this.textArea.domNode,ze=this._modelSelections[0],{distanceToModelLineStart:qe,widthOfHiddenTextBefore:ot}=(()=>{const mt=Pe.value.substring(0,Math.min(Pe.selectionStart,Pe.selectionEnd)),It=mt.lastIndexOf("\n"),Zt=mt.substring(It+1),cn=Zt.lastIndexOf("\t"),dn=Zt.length-cn-1,kn=ze.getStartPosition(),Vn=Math.min(kn.column-1,dn),Fn=kn.column-1-Vn,Ln=function(ge,r){if(0===ge.length)return 0;const c=document.createElement("div");c.style.position="absolute",c.style.top="-50000px",c.style.width="50000px";const _=document.createElement("span");(0,_n.N)(_,r),_.style.whiteSpace="pre",_.append(ge),c.appendChild(_),document.body.appendChild(c);const T=_.offsetWidth;return document.body.removeChild(c),T}(Zt.substring(0,Zt.length-Vn),this._fontInfo);return{distanceToModelLineStart:Fn,widthOfHiddenTextBefore:Ln}})(),{distanceToModelLineEnd:Ct}=(()=>{const mt=Pe.value.substring(Math.max(Pe.selectionStart,Pe.selectionEnd)),It=mt.indexOf("\n"),Zt=-1===It?mt:mt.substring(0,It),cn=Zt.indexOf("\t"),dn=-1===cn?Zt.length:Zt.length-cn-1,kn=ze.getEndPosition(),Vn=Math.min(this._context.viewModel.model.getLineMaxColumn(kn.lineNumber)-kn.column,dn);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(kn.lineNumber)-kn.column-Vn}})();this._context.viewModel.revealRange("keyboard",!0,Mt.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Mi(this._context,ze.startLineNumber,qe,ot,Ct),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${_i.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(De=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${_i.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(r){const _=this._context.viewModel.getLineContent(r.lineNumber),T=(0,Jn.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let V=!0,ie=r.column,he=!0,ye=r.column,De=0;for(;De<50&&(V||he);){if(V&&ie<=1&&(V=!1),V){const Pe=_.charCodeAt(ie-2);0!==T.get(Pe)?V=!1:ie--}if(he&&ye>_.length&&(he=!1),he){const Pe=_.charCodeAt(ye-1);0!==T.get(Pe)?he=!1:ye++}De++}return[_.substring(ie-1,ye-1),r.column-ie]}_getWordBeforePosition(r){const c=this._context.viewModel.getLineContent(r.lineNumber),_=(0,Jn.u)(this._context.configuration.options.get(117));let T=r.column,V=0;for(;T>1;){const ie=c.charCodeAt(T-2);if(0!==_.get(ie)||V>50)return c.substring(T-1,r.column-1);V++,T--}return c.substring(0,r.column-1)}_getCharacterBeforePosition(r){if(r.column>1){const _=this._context.viewModel.getLineContent(r.lineNumber).charAt(r.column-2);if(!yn.ZG(_.charCodeAt(0)))return _}return""}_getAriaLabel(r){return 1===r.get(2)?O.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",H.IJ?"Shift+Alt+F1":"Alt+F1"):r.get(4)}_setAccessibilityOptions(r){this._accessibilitySupport=r.get(2);const c=r.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&c===$.BH.accessibilityPageSize.defaultValue?500:c}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(131);return this._setAccessibilityOptions(c),this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,this._contentHeight=_.height,this._fontInfo=c.get(44),this._lineHeight=c.get(59),this._emptySelectionClipboard=c.get(32),this._copyWithSyntaxHighlighting=c.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(c)),this.textArea.setAttribute("tabindex",String(c.get(112))),(r.hasChanged(30)||r.hasChanged(81))&&(c.get(30)&&c.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),r.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(r){return this._selections=r.selections.slice(0),this._modelSelections=r.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return this._scrollLeft=r.scrollLeft,this._scrollTop=r.scrollTop,!0}onZonesChanged(r){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(r){r.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",r.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),r.role&&this.textArea.setAttribute("role",r.role)}prepareRender(r){this._primaryCursorPosition=new Rt.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=r.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(r)}render(r){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const _=this._visibleTextArea.visibleTextareaStart,T=this._visibleTextArea.visibleTextareaEnd,V=this._visibleTextArea.startPosition,ie=this._visibleTextArea.endPosition;if(V&&ie&&_&&T&&T.left>=this._scrollLeft&&_.left<=this._scrollLeft+this._contentWidth){const he=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,ye=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let De=this._visibleTextArea.widthOfHiddenLineTextBefore,Pe=this._contentLeft+_.left-this._scrollLeft,ze=T.left-_.left+1;if(Pe<this._contentLeft){const Zt=this._contentLeft-Pe;Pe+=Zt,De+=Zt,ze-=Zt}ze>this._contentWidth&&(ze=this._contentWidth);const qe=this._context.viewModel.getViewLineData(V.lineNumber),ot=qe.tokens.findTokenIndexAtOffset(V.column-1),Ct=qe.tokens.findTokenIndexAtOffset(ie.column-1),It=this._visibleTextArea.definePresentation(ot===Ct?qe.tokens.getPresentation(ot):null);this.textArea.domNode.scrollTop=ye*this._lineHeight,this.textArea.domNode.scrollLeft=De,this._doRender({lastRenderPosition:null,top:he,left:Pe,width:ze,height:this._lineHeight,useCover:!1,color:(Di.RW.getColorMap()||[])[It.foreground],italic:It.italic,bold:It.bold,underline:It.underline,strikethrough:It.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const r=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(r<this._contentLeft||r>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const c=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(c<0||c>this._contentHeight)this._renderAtTopLeft();else if(H.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:r,width:li?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const _=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=_*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:r,width:li?0:1,height:li?0:1,useCover:!1})}_newlinecount(r){let c=0,_=-1;for(;_=r.indexOf("\n",_+1),-1!==_;)c++;return c}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:li?0:1,height:li?0:1,useCover:!0})}_doRender(r){this._lastRenderPosition=r.lastRenderPosition;const c=this.textArea,_=this.textAreaCover;(0,_n.N)(c,this._fontInfo),c.setTop(r.top),c.setLeft(r.left),c.setWidth(r.width),c.setHeight(r.height),c.setColor(r.color?xn.Il.Format.CSS.formatHex(r.color):""),c.setFontStyle(r.italic?"italic":""),r.bold&&c.setFontWeight("bold"),c.setTextDecoration(`${r.underline?" underline":""}${r.strikethrough?" line-through":""}`),_.setTop(r.useCover?r.top:0),_.setLeft(r.useCover?r.left:0),_.setWidth(r.useCover?r.width:0),_.setHeight(r.useCover?r.height:0);const T=this._context.configuration.options;T.get(50)?_.setClassName("monaco-editor-background textAreaCover "+Kn.OUTER_CLASS_NAME):0!==T.get(60).renderType?_.setClassName("monaco-editor-background textAreaCover "+In.CLASS_NAME):_.setClassName("monaco-editor-background textAreaCover")}}var Ci=m(20545);class Ti{constructor(r,c,_,T){this.configuration=r,this.viewModel=c,this.userInputEvents=_,this.commandDelegate=T}paste(r,c,_,T){this.commandDelegate.paste(r,c,_,T)}type(r){this.commandDelegate.type(r)}compositionType(r,c,_,T){this.commandDelegate.compositionType(r,c,_,T)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(r){Ci.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:r})}_validateViewColumn(r){const c=this.viewModel.getLineMinColumn(r.lineNumber);return r.column<c?new Rt.L(r.lineNumber,c):r}_hasMulticursorModifier(r){switch(this.configuration.options.get(70)){case"altKey":return r.altKey;case"ctrlKey":return r.ctrlKey;case"metaKey":return r.metaKey;default:return!1}}_hasNonMulticursorModifier(r){switch(this.configuration.options.get(70)){case"altKey":return r.ctrlKey||r.metaKey;case"ctrlKey":return r.altKey||r.metaKey;case"metaKey":return r.ctrlKey||r.altKey;default:return!1}}dispatchMouse(r){const c=this.configuration.options,_=H.IJ&&c.get(96),T=c.get(18);r.middleButton&&!_?this._columnSelect(r.position,r.mouseColumn,r.inSelectionMode):r.startedOnLineNumbers?this._hasMulticursorModifier(r)?r.inSelectionMode?this._lastCursorLineSelect(r.position):this._createCursor(r.position,!0):r.inSelectionMode?this._lineSelectDrag(r.position):this._lineSelect(r.position):r.mouseDownCount>=4?this._selectAll():3===r.mouseDownCount?this._hasMulticursorModifier(r)?r.inSelectionMode?this._lastCursorLineSelectDrag(r.position):this._lastCursorLineSelect(r.position):r.inSelectionMode?this._lineSelectDrag(r.position):this._lineSelect(r.position):2===r.mouseDownCount?r.onInjectedText||(this._hasMulticursorModifier(r)?this._lastCursorWordSelect(r.position):r.inSelectionMode?this._wordSelectDrag(r.position):this._wordSelect(r.position)):this._hasMulticursorModifier(r)?this._hasNonMulticursorModifier(r)||(r.shiftKey?this._columnSelect(r.position,r.mouseColumn,!0):r.inSelectionMode?this._lastCursorMoveToSelect(r.position):this._createCursor(r.position,!1)):r.inSelectionMode?r.altKey||T?this._columnSelect(r.position,r.mouseColumn,!0):this._moveToSelect(r.position):this.moveTo(r.position)}_usualArgs(r){return r=this._validateViewColumn(r),{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r}}moveTo(r){Ci.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_moveToSelect(r){Ci.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_columnSelect(r,c,_){r=this._validateViewColumn(r),Ci.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r,mouseColumn:c,doColumnSelect:_})}_createCursor(r,c){r=this._validateViewColumn(r),Ci.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r,wholeLine:c})}_lastCursorMoveToSelect(r){Ci.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_wordSelect(r){Ci.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_wordSelectDrag(r){Ci.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorWordSelect(r){Ci.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lineSelect(r){Ci.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lineSelectDrag(r){Ci.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorLineSelect(r){Ci.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorLineSelectDrag(r){Ci.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_selectAll(){Ci.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(r){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(r)}emitKeyDown(r){this.userInputEvents.emitKeyDown(r)}emitKeyUp(r){this.userInputEvents.emitKeyUp(r)}emitContextMenu(r){this.userInputEvents.emitContextMenu(r)}emitMouseMove(r){this.userInputEvents.emitMouseMove(r)}emitMouseLeave(r){this.userInputEvents.emitMouseLeave(r)}emitMouseUp(r){this.userInputEvents.emitMouseUp(r)}emitMouseDown(r){this.userInputEvents.emitMouseDown(r)}emitMouseDrag(r){this.userInputEvents.emitMouseDrag(r)}emitMouseDrop(r){this.userInputEvents.emitMouseDrop(r)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(r){this.userInputEvents.emitMouseWheel(r)}}class ei{constructor(r){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=r}emitKeyDown(r){this.onKeyDown&&this.onKeyDown(r)}emitKeyUp(r){this.onKeyUp&&this.onKeyUp(r)}emitContextMenu(r){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(r))}emitMouseMove(r){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(r))}emitMouseLeave(r){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(r))}emitMouseDown(r){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(r))}emitMouseUp(r){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(r))}emitMouseDrag(r){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(r))}emitMouseDrop(r){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(r))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(r){this.onMouseWheel&&this.onMouseWheel(r)}_convertViewToModelMouseEvent(r){return r.target?{event:r.event,target:this._convertViewToModelMouseTarget(r.target)}:r}_convertViewToModelMouseTarget(r){return ei.convertViewToModelMouseTarget(r,this._coordinatesConverter)}static convertViewToModelMouseTarget(r,c){const _=Object.assign({},r);return _.position&&(_.position=c.convertViewPositionToModelPosition(_.position)),_.range&&(_.range=c.convertViewRangeToModelRange(_.range)),_}}var zn,ao=m(53269);class ji{constructor(r){this._createLine=r,this._set(1,[])}flush(){this._set(1,[])}_set(r,c){this._lines=c,this._rendLineNumberStart=r}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(r){const c=r-this._rendLineNumberStart;if(c<0||c>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[c]}onLinesDeleted(r,c){if(0===this.getCount())return null;const _=this.getStartLineNumber(),T=this.getEndLineNumber();if(c<_)return this._rendLineNumberStart-=c-r+1,null;if(r>T)return null;let V=0,ie=0;for(let ye=_;ye<=T;ye++){const De=ye-this._rendLineNumberStart;r<=ye&&ye<=c&&(0===ie?(V=De,ie=1):ie++)}if(r<_){let ye=0;ye=c<_?c-r+1:_-r,this._rendLineNumberStart-=ye}return this._lines.splice(V,ie)}onLinesChanged(r,c){if(0===this.getCount())return!1;const _=this.getStartLineNumber(),T=this.getEndLineNumber();let V=!1;for(let ie=r;ie<=c;ie++)ie>=_&&ie<=T&&(this._lines[ie-this._rendLineNumberStart].onContentChanged(),V=!0);return V}onLinesInserted(r,c){if(0===this.getCount())return null;const _=c-r+1,T=this.getStartLineNumber(),V=this.getEndLineNumber();if(r<=T)return this._rendLineNumberStart+=_,null;if(r>V)return null;if(_+r>V)return this._lines.splice(r-this._rendLineNumberStart,V-r+1);const ie=[];for(let ze=0;ze<_;ze++)ie[ze]=this._createLine();const he=r-this._rendLineNumberStart,ye=this._lines.slice(0,he),De=this._lines.slice(he,this._lines.length-_),Pe=this._lines.slice(this._lines.length-_,this._lines.length);return this._lines=ye.concat(ie).concat(De),Pe}onTokensChanged(r){if(0===this.getCount())return!1;const c=this.getStartLineNumber(),_=this.getEndLineNumber();let T=!1;for(let V=0,ie=r.length;V<ie;V++){const he=r[V];if(he.toLineNumber<c||he.fromLineNumber>_)continue;const ye=Math.max(c,he.fromLineNumber),De=Math.min(_,he.toLineNumber);for(let Pe=ye;Pe<=De;Pe++)this._lines[Pe-this._rendLineNumberStart].onTokensChanged(),T=!0}return T}}class co{constructor(r){this._host=r,this.domNode=this._createDomNode(),this._linesCollection=new ji(()=>this._host.createVisibleLine())}_createDomNode(){const r=(0,ce.X)(document.createElement("div"));return r.setClassName("view-layer"),r.setPosition("absolute"),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r}onConfigurationChanged(r){return!!r.hasChanged(131)}onFlushed(r){return this._linesCollection.flush(),!0}onLinesChanged(r){return this._linesCollection.onLinesChanged(r.fromLineNumber,r.toLineNumber)}onLinesDeleted(r){const c=this._linesCollection.onLinesDeleted(r.fromLineNumber,r.toLineNumber);if(c)for(let _=0,T=c.length;_<T;_++){const V=c[_].getDomNode();V&&this.domNode.domNode.removeChild(V)}return!0}onLinesInserted(r){const c=this._linesCollection.onLinesInserted(r.fromLineNumber,r.toLineNumber);if(c)for(let _=0,T=c.length;_<T;_++){const V=c[_].getDomNode();V&&this.domNode.domNode.removeChild(V)}return!0}onScrollChanged(r){return r.scrollTopChanged}onTokensChanged(r){return this._linesCollection.onTokensChanged(r.ranges)}onZonesChanged(r){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(r){return this._linesCollection.getLine(r)}renderLines(r){const c=this._linesCollection._get(),V=new oi(this.domNode.domNode,this._host,r).render({rendLineNumberStart:c.rendLineNumberStart,lines:c.lines,linesLength:c.lines.length},r.startLineNumber,r.endLineNumber,r.relativeVerticalOffset);this._linesCollection._set(V.rendLineNumberStart,V.lines)}}class oi{constructor(r,c,_){this.domNode=r,this.host=c,this.viewportData=_}render(r,c,_,T){const V={rendLineNumberStart:r.rendLineNumberStart,lines:r.lines.slice(0),linesLength:r.linesLength};if(V.rendLineNumberStart+V.linesLength-1<c||_<V.rendLineNumberStart){V.rendLineNumberStart=c,V.linesLength=_-c+1,V.lines=[];for(let ie=c;ie<=_;ie++)V.lines[ie-c]=this.host.createVisibleLine();return this._finishRendering(V,!0,T),V}if(this._renderUntouchedLines(V,Math.max(c-V.rendLineNumberStart,0),Math.min(_-V.rendLineNumberStart,V.linesLength-1),T,c),V.rendLineNumberStart>c){const ie=c,he=Math.min(_,V.rendLineNumberStart-1);ie<=he&&(this._insertLinesBefore(V,ie,he,T,c),V.linesLength+=he-ie+1)}else if(V.rendLineNumberStart<c){const ie=Math.min(V.linesLength,c-V.rendLineNumberStart);ie>0&&(this._removeLinesBefore(V,ie),V.linesLength-=ie)}if(V.rendLineNumberStart=c,V.rendLineNumberStart+V.linesLength-1<_){const ie=V.rendLineNumberStart+V.linesLength,he=_;ie<=he&&(this._insertLinesAfter(V,ie,he,T,c),V.linesLength+=he-ie+1)}else if(V.rendLineNumberStart+V.linesLength-1>_){const ie=Math.max(0,_-V.rendLineNumberStart+1),ye=V.linesLength-1-ie+1;ye>0&&(this._removeLinesAfter(V,ye),V.linesLength-=ye)}return this._finishRendering(V,!1,T),V}_renderUntouchedLines(r,c,_,T,V){const ie=r.rendLineNumberStart,he=r.lines;for(let ye=c;ye<=_;ye++){const De=ie+ye;he[ye].layoutLine(De,T[De-V])}}_insertLinesBefore(r,c,_,T,V){const ie=[];let he=0;for(let ye=c;ye<=_;ye++)ie[he++]=this.host.createVisibleLine();r.lines=ie.concat(r.lines)}_removeLinesBefore(r,c){for(let _=0;_<c;_++){const T=r.lines[_].getDomNode();T&&this.domNode.removeChild(T)}r.lines.splice(0,c)}_insertLinesAfter(r,c,_,T,V){const ie=[];let he=0;for(let ye=c;ye<=_;ye++)ie[he++]=this.host.createVisibleLine();r.lines=r.lines.concat(ie)}_removeLinesAfter(r,c){const _=r.linesLength-c;for(let T=0;T<c;T++){const V=r.lines[_+T].getDomNode();V&&this.domNode.removeChild(V)}r.lines.splice(_,c)}_finishRenderingNewLines(r,c,_,T){oi._ttPolicy&&(_=oi._ttPolicy.createHTML(_));const V=this.domNode.lastChild;c||!V?this.domNode.innerHTML=_:V.insertAdjacentHTML("afterend",_);let ie=this.domNode.lastChild;for(let he=r.linesLength-1;he>=0;he--){const ye=r.lines[he];T[he]&&(ye.setDomNode(ie),ie=ie.previousSibling)}}_finishRenderingInvalidLines(r,c,_){const T=document.createElement("div");oi._ttPolicy&&(c=oi._ttPolicy.createHTML(c)),T.innerHTML=c;for(let V=0;V<r.linesLength;V++){const ie=r.lines[V];if(_[V]){const he=T.firstChild,ye=ie.getDomNode();ye.parentNode.replaceChild(he,ye),ie.setDomNode(he)}}}_finishRendering(r,c,_){const T=oi._sb,V=r.linesLength,ie=r.lines,he=r.rendLineNumberStart,ye=[];{T.reset();let De=!1;for(let Pe=0;Pe<V;Pe++){const ze=ie[Pe];ye[Pe]=!1,!ze.getDomNode()&&ze.renderLine(Pe+he,_[Pe],this.viewportData,T)&&(ye[Pe]=!0,De=!0)}De&&this._finishRenderingNewLines(r,c,T.build(),ye)}{T.reset();let De=!1;const Pe=[];for(let ze=0;ze<V;ze++){const qe=ie[ze];Pe[ze]=!1,!ye[ze]&&qe.renderLine(ze+he,_[ze],this.viewportData,T)&&(Pe[ze]=!0,De=!0)}De&&this._finishRenderingInvalidLines(r,T.build(),Pe)}}}oi._ttPolicy=null===(zn=window.trustedTypes)||void 0===zn?void 0:zn.createPolicy("editorViewLayer",{createHTML:ge=>ge}),oi._sb=(0,ao.l$)(1e5);class _o extends Ce{constructor(r){super(r),this._visibleLines=new co(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let r=0,c=this._dynamicOverlays.length;r<c;r++)if(this._dynamicOverlays[r].shouldRender())return!0;return!1}dispose(){super.dispose();for(let r=0,c=this._dynamicOverlays.length;r<c;r++)this._dynamicOverlays[r].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Ei(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(r){this._dynamicOverlays.push(r)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r);const c=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let T=c;T<=_;T++)this._visibleLines.getVisibleLine(T).onConfigurationChanged(r);return!0}onFlushed(r){return this._visibleLines.onFlushed(r)}onFocusChanged(r){return this._isFocused=r.isFocused,!0}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onScrollChanged(r){return this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._visibleLines.onZonesChanged(r)}prepareRender(r){const c=this._dynamicOverlays.filter(_=>_.shouldRender());for(let _=0,T=c.length;_<T;_++){const V=c[_];V.prepareRender(r),V.onDidRender()}}render(r){this._viewOverlaysRender(r),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(r){this._visibleLines.renderLines(r.viewportData)}}class Ei{constructor(r,c){this._configuration=r,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=c,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(r){this._domNode=(0,ce.X)(r)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(r){this._lineHeight=this._configuration.options.get(59)}renderLine(r,c,_,T){let V="";for(let ie=0,he=this._dynamicOverlays.length;ie<he;ie++)V+=this._dynamicOverlays[ie].render(_.startLineNumber,r);return this._renderedContent!==V&&(this._renderedContent=V,T.appendASCIIString('<div style="position:absolute;top:'),T.appendASCIIString(String(c)),T.appendASCIIString("px;width:100%;height:"),T.appendASCIIString(String(this._lineHeight)),T.appendASCIIString('px;">'),T.appendASCIIString(V),T.appendASCIIString("</div>"),!0)}layoutLine(r,c){this._domNode&&(this._domNode.setTop(c),this._domNode.setHeight(this._lineHeight))}}class ko extends _o{constructor(r){super(r);const _=this._context.configuration.options.get(131);this._contentWidth=_.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(r){const _=this._context.configuration.options.get(131);return this._contentWidth=_.contentWidth,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollWidthChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r),this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth))}}class yo extends _o{constructor(r){super(r);const c=this._context.configuration.options,_=c.get(131);this._contentLeft=_.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,_n.N)(this.domNode,c.get(44))}onConfigurationChanged(r){const c=this._context.configuration.options;(0,_n.N)(this.domNode,c.get(44));const _=c.get(131);return this._contentLeft=_.contentLeft,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollHeightChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r);const c=Math.min(r.scrollHeight,1e6);this.domNode.setHeight(c),this.domNode.setWidth(this._contentLeft)}}class Yi{constructor(r,c){this._coordinateBrand=void 0,this.top=r,this.left=c}}class To extends Ce{constructor(r,c){super(r),this._viewDomNode=c,this._widgets={},this.domNode=(0,ce.X)(document.createElement("div")),Ae.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,ce.X)(document.createElement("div")),Ae.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(r){const c=Object.keys(this._widgets);for(const _ of c)this._widgets[_].onConfigurationChanged(r);return!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLineMappingChanged(r){const c=Object.keys(this._widgets);for(const _ of c)this._widgets[_].onLineMappingChanged(r);return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return!0}onZonesChanged(r){return!0}addWidget(r){const c=new ys(this._context,this._viewDomNode,r);this._widgets[c.id]=c,c.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(c.domNode):this.domNode.appendChild(c.domNode),this.setShouldRender()}setWidgetPosition(r,c,_){this._widgets[r.getId()].setPosition(c,_),this.setShouldRender()}removeWidget(r){const c=r.getId();if(this._widgets.hasOwnProperty(c)){const _=this._widgets[c];delete this._widgets[c];const T=_.domNode.domNode;T.parentNode.removeChild(T),T.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(r){return!!this._widgets.hasOwnProperty(r)&&this._widgets[r].suppressMouseDown}onBeforeRender(r){const c=Object.keys(this._widgets);for(const _ of c)this._widgets[_].onBeforeRender(r)}prepareRender(r){const c=Object.keys(this._widgets);for(const _ of c)this._widgets[_].prepareRender(r)}render(r){const c=Object.keys(this._widgets);for(const _ of c)this._widgets[_].render(r)}}class ys{constructor(r,c,_){this._context=r,this._viewDomNode=c,this._actual=_,this.domNode=(0,ce.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const T=this._context.configuration.options,V=T.get(131);this._fixedOverflowWidgets=T.get(36),this._contentWidth=V.contentWidth,this._contentLeft=V.contentLeft,this._lineHeight=T.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(r){const c=this._context.configuration.options;if(this._lineHeight=c.get(59),r.hasChanged(131)){const _=c.get(131);this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(r){this._setPosition(this._range)}_setPosition(r){if(this._range=r,this._viewRange=null,this._range){const c=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(c.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(c.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(c))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(r,c){this._setPosition(r),this._preference=c,this.domNode.setDisplay(this._viewRange&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(r,c,_,T,V){const ie=r.top,ye=c.top+this._lineHeight;let Ct=r.left,mt=c.left;return Ct+_>V.scrollLeft+V.viewportWidth&&(Ct=V.scrollLeft+V.viewportWidth-_),mt+_>V.scrollLeft+V.viewportWidth&&(mt=V.scrollLeft+V.viewportWidth-_),Ct<V.scrollLeft&&(Ct=V.scrollLeft),mt<V.scrollLeft&&(mt=V.scrollLeft),{fitsAbove:ie>=T,aboveTop:ie-T,aboveLeft:Ct,fitsBelow:V.viewportHeight-ye>=T,belowTop:ye,belowLeft:mt}}_layoutHorizontalSegmentInPage(r,c,_,T){const V=Math.max(0,c.left-T),ie=Math.min(c.left+c.width+T,r.width);let he=c.left+_-F.DI.scrollX;if(he+T>ie){const ye=he-(ie-T);he-=ye,_-=ye}if(he<V){const ye=he-V;he-=ye,_-=ye}return[_,he]}_layoutBoxInPage(r,c,_,T,V){const ie=r.top-T,he=c.top+this._lineHeight,ye=F.i(this._viewDomNode.domNode),De=ye.top+ie-F.DI.scrollY,Pe=ye.top+he-F.DI.scrollY,ze=F.D6(document.body),[qe,ot]=this._layoutHorizontalSegmentInPage(ze,ye,r.left-V.scrollLeft+this._contentLeft,_),[Ct,mt]=this._layoutHorizontalSegmentInPage(ze,ye,c.left-V.scrollLeft+this._contentLeft,_),cn=De>=22,dn=Pe+T<=ze.height-22;return this._fixedOverflowWidgets?{fitsAbove:cn,aboveTop:Math.max(De,22),aboveLeft:ot,fitsBelow:dn,belowTop:Pe,belowLeft:mt}:{fitsAbove:cn,aboveTop:ie,aboveLeft:qe,fitsBelow:dn,belowTop:he,belowLeft:Ct}}_prepareRenderWidgetAtExactPositionOverflowing(r){return new Yi(r.top,r.left+this._contentLeft)}_getTopAndBottomLeft(r){if(!this._viewRange)return[null,null];const c=r.linesVisibleRangesForRange(this._viewRange,!1);if(!c||0===c.length)return[null,null];let _=c[0],T=c[0];for(const ze of c)ze.lineNumber<_.lineNumber&&(_=ze),ze.lineNumber>T.lineNumber&&(T=ze);let V=1073741824;for(const ze of _.ranges)ze.left<V&&(V=ze.left);let ie=1073741824;for(const ze of T.ranges)ze.left<ie&&(ie=ze.left);const he=r.getVerticalOffsetForLineNumber(_.lineNumber)-r.scrollTop,ye=new Yi(he,V),De=r.getVerticalOffsetForLineNumber(T.lineNumber)-r.scrollTop;return[ye,new Yi(De,ie)]}_prepareRenderWidget(r){if(!this._preference||0===this._preference.length)return null;const[c,_]=this._getTopAndBottomLeft(r);if(!c||!_)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let V=null;if("function"==typeof this._actual.beforeRender&&(V=go(this._actual.beforeRender,this._actual)),V)this._cachedDomNodeOffsetWidth=V.width,this._cachedDomNodeOffsetHeight=V.height;else{const ie=this.domNode.domNode;this._cachedDomNodeOffsetWidth=ie.offsetWidth,this._cachedDomNodeOffsetHeight=ie.offsetHeight}}let T;T=this.allowEditorOverflow?this._layoutBoxInPage(c,_,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,r):this._layoutBoxInViewport(c,_,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,r);for(let V=1;V<=2;V++)for(const ie of this._preference)if(1===ie){if(!T)return null;if(2===V||T.fitsAbove)return{coordinate:new Yi(T.aboveTop,T.aboveLeft),position:1}}else{if(2!==ie)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(c),position:0}:{coordinate:c,position:0};if(!T)return null;if(2===V||T.fitsBelow)return{coordinate:new Yi(T.belowTop,T.belowLeft),position:2}}return null}onBeforeRender(r){!this._viewRange||!this._preference||this._viewRange.endLineNumber<r.startLineNumber||this._viewRange.startLineNumber>r.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(r){this._renderData=this._prepareRenderWidget(r)}render(r){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&go(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+r.scrollTop-r.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&go(this._actual.afterRender,this._actual,this._renderData.position)}}function go(ge,r,...c){try{return ge.call(r,...c)}catch{return null}}m(18491);class zs extends vn{constructor(r){super(),this._context=r;const c=this._context.configuration.options,_=c.get(131);this._lineHeight=c.get(59),this._renderLineHighlight=c.get(85),this._renderLineHighlightOnlyWhenFocus=c.get(86),this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new re.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let r=!1;const c=this._selections.map(T=>T.positionLineNumber);c.sort((T,V)=>T-V),f.fS(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,r=!0);const _=this._selections.every(T=>T.isEmpty());return this._selectionIsEmpty!==_&&(this._selectionIsEmpty=_,r=!0),r}onThemeChanged(r){return this._readFromSelections()}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(131);return this._lineHeight=c.get(59),this._renderLineHighlight=c.get(85),this._renderLineHighlightOnlyWhenFocus=c.get(86),this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,!0}onCursorStateChanged(r){return this._selections=r.selections,this._readFromSelections()}onFlushed(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollWidthChanged||r.scrollTopChanged}onZonesChanged(r){return!0}onFocusChanged(r){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=r.isFocused,!0)}prepareRender(r){if(!this._shouldRenderThis())return void(this._renderData=null);const c=this._renderOne(r),_=r.visibleRange.startLineNumber,T=r.visibleRange.endLineNumber,V=this._cursorLineNumbers.length;let ie=0;const he=[];for(let ye=_;ye<=T;ye++){const De=ye-_;for(;ie<V&&this._cursorLineNumbers[ie]<ye;)ie++;he[De]=ie<V&&this._cursorLineNumbers[ie]===ye?c:""}this._renderData=he}render(r,c){if(!this._renderData)return"";const _=c-r;return _>=this._renderData.length?"":this._renderData[_]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class ds extends zs{_renderOne(r){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(r.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class qo extends zs{_renderOne(r){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,En.Ic)((ge,r)=>{const c=ge.getColor(ln.Kh);if(c&&(r.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${c}; }`),r.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${c}; border: none; }`)),!c||c.isTransparent()||ge.defines(ln.Mm)){const _=ge.getColor(ln.Mm);_&&(r.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${_}; }`),r.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${_}; }`),"hc"===ge.type&&(r.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),r.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}),m(91233);class Ps extends vn{constructor(r){super(),this._context=r;const c=this._context.configuration.options;this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options;return this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged||r.scrollWidthChanged}onZonesChanged(r){return!0}prepareRender(r){const c=r.getDecorationsInViewport();let _=[],T=0;for(let ye=0,De=c.length;ye<De;ye++){const Pe=c[ye];Pe.options.className&&(_[T++]=Pe)}_=_.sort((ye,De)=>{if(ye.options.zIndex<De.options.zIndex)return-1;if(ye.options.zIndex>De.options.zIndex)return 1;const Pe=ye.options.className,ze=De.options.className;return Pe<ze?-1:Pe>ze?1:Mt.e.compareRangesUsingStarts(ye.range,De.range)});const V=r.visibleRange.startLineNumber,ie=r.visibleRange.endLineNumber,he=[];for(let ye=V;ye<=ie;ye++)he[ye-V]="";this._renderWholeLineDecorations(r,_,he),this._renderNormalDecorations(r,_,he),this._renderResult=he}_renderWholeLineDecorations(r,c,_){const T=String(this._lineHeight),V=r.visibleRange.startLineNumber,ie=r.visibleRange.endLineNumber;for(let he=0,ye=c.length;he<ye;he++){const De=c[he];if(!De.options.isWholeLine)continue;const Pe='<div class="cdr '+De.options.className+'" style="left:0;width:100%;height:'+T+'px;"></div>',ze=Math.max(De.range.startLineNumber,V),qe=Math.min(De.range.endLineNumber,ie);for(let ot=ze;ot<=qe;ot++)_[ot-V]+=Pe}}_renderNormalDecorations(r,c,_){const T=String(this._lineHeight),V=r.visibleRange.startLineNumber;let ie=null,he=!1,ye=null;for(let De=0,Pe=c.length;De<Pe;De++){const ze=c[De];if(ze.options.isWholeLine)continue;const qe=ze.options.className,ot=Boolean(ze.options.showIfCollapsed);let Ct=ze.range;ot&&1===Ct.endColumn&&Ct.endLineNumber!==Ct.startLineNumber&&(Ct=new Mt.e(Ct.startLineNumber,Ct.startColumn,Ct.endLineNumber-1,this._context.viewModel.getLineMaxColumn(Ct.endLineNumber-1))),ie===qe&&he===ot&&Mt.e.areIntersectingOrTouching(ye,Ct)?ye=Mt.e.plusRange(ye,Ct):(null!==ie&&this._renderNormalDecoration(r,ye,ie,he,T,V,_),ie=qe,he=ot,ye=Ct)}null!==ie&&this._renderNormalDecoration(r,ye,ie,he,T,V,_)}_renderNormalDecoration(r,c,_,T,V,ie,he){const ye=r.linesVisibleRangesForRange(c,"findMatch"===_);if(ye)for(let De=0,Pe=ye.length;De<Pe;De++){const ze=ye[De];if(ze.outsideRenderedLine)continue;const qe=ze.lineNumber-ie;if(T&&1===ze.ranges.length){const ot=ze.ranges[0];if(ot.width<this._typicalHalfwidthCharacterWidth){const Ct=Math.round(ot.left+ot.width/2),mt=Math.max(0,Math.round(Ct-this._typicalHalfwidthCharacterWidth/2));ze.ranges[0]=new rt(mt,this._typicalHalfwidthCharacterWidth)}}for(let ot=0,Ct=ze.ranges.length;ot<Ct;ot++){const mt=ze.ranges[ot],It='<div class="cdr '+_+'" style="left:'+String(mt.left)+"px;width:"+String(mt.width)+"px;height:"+V+'px;"></div>';he[qe]+=It}}}render(r,c){if(!this._renderResult)return"";const _=c-r;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}var es=m(6491),to=m(98275);class Pr extends Ce{constructor(r,c,_,T){super(r);const V=this._context.configuration.options,ie=V.get(92),he=V.get(67),ye=V.get(34),De=V.get(95),Pe={listenOnDomNode:_.domNode,className:"editor-scrollable "+(0,En.m6)(r.theme.type),useShadows:!1,lazyRender:!0,vertical:ie.vertical,horizontal:ie.horizontal,verticalHasArrows:ie.verticalHasArrows,horizontalHasArrows:ie.horizontalHasArrows,verticalScrollbarSize:ie.verticalScrollbarSize,verticalSliderSize:ie.verticalSliderSize,horizontalScrollbarSize:ie.horizontalScrollbarSize,horizontalSliderSize:ie.horizontalSliderSize,handleMouseWheel:ie.handleMouseWheel,alwaysConsumeMouseWheel:ie.alwaysConsumeMouseWheel,arrowSize:ie.arrowSize,mouseWheelScrollSensitivity:he,fastScrollSensitivity:ye,scrollPredominantAxis:De,scrollByPage:ie.scrollByPage};this.scrollbar=this._register(new es.$Z(c.domNode,Pe,this._context.viewLayout.getScrollable())),Ae.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,ce.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const ze=(qe,ot,Ct)=>{const mt={};if(ot){const It=qe.scrollTop;It&&(mt.scrollTop=this._context.viewLayout.getCurrentScrollTop()+It,qe.scrollTop=0)}if(Ct){const It=qe.scrollLeft;It&&(mt.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+It,qe.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(mt,1)};this._register(F.nm(_.domNode,"scroll",qe=>ze(_.domNode,!0,!0))),this._register(F.nm(c.domNode,"scroll",qe=>ze(c.domNode,!0,!1))),this._register(F.nm(T.domNode,"scroll",qe=>ze(T.domNode,!0,!1))),this._register(F.nm(this.scrollbarDomNode.domNode,"scroll",qe=>ze(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const r=this._context.configuration.options,c=r.get(131);this.scrollbarDomNode.setLeft(c.contentLeft),"right"===r.get(65).side?this.scrollbarDomNode.setWidth(c.contentWidth+c.minimap.minimapWidth):this.scrollbarDomNode.setWidth(c.contentWidth),this.scrollbarDomNode.setHeight(c.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(r){this.scrollbar.delegateVerticalScrollbarMouseDown(r)}onConfigurationChanged(r){if(r.hasChanged(92)||r.hasChanged(67)||r.hasChanged(34)){const c=this._context.configuration.options,_=c.get(92),T=c.get(67),V=c.get(34),ie=c.get(95);this.scrollbar.updateOptions({vertical:_.vertical,horizontal:_.horizontal,verticalScrollbarSize:_.verticalScrollbarSize,horizontalScrollbarSize:_.horizontalScrollbarSize,scrollByPage:_.scrollByPage,handleMouseWheel:_.handleMouseWheel,mouseWheelScrollSensitivity:T,fastScrollSensitivity:V,scrollPredominantAxis:ie})}return r.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(r){return!0}onThemeChanged(r){return this.scrollbar.updateClassName("editor-scrollable "+(0,En.m6)(this._context.theme.type)),!0}prepareRender(r){}render(r){this.scrollbar.renderNow()}}(0,En.Ic)((ge,r)=>{const c=ge.getColor(to._wn);c&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${c} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${c} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${c} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const _=ge.getColor(to.etL);_&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${_};\n\t\t\t}\n\t\t`);const T=ge.getColor(to.ABB);T&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${T};\n\t\t\t}\n\t\t`);const V=ge.getColor(to.ynu);V&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${V};\n\t\t\t}\n\t\t`)}),m(61050);class Ro{constructor(r,c,_){this._decorationToRenderBrand=void 0,this.startLineNumber=+r,this.endLineNumber=+c,this.className=String(_)}}class Lo extends vn{_render(r,c,_){const T=[];for(let he=r;he<=c;he++)T[he-r]=[];if(0===_.length)return T;_.sort((he,ye)=>he.className===ye.className?he.startLineNumber===ye.startLineNumber?he.endLineNumber-ye.endLineNumber:he.startLineNumber-ye.startLineNumber:he.className<ye.className?-1:1);let V=null,ie=0;for(let he=0,ye=_.length;he<ye;he++){const De=_[he],Pe=De.className;let ze=Math.max(De.startLineNumber,r)-r;const qe=Math.min(De.endLineNumber,c)-r;V===Pe?(ze=Math.max(ie+1,ze),ie=Math.max(ie,qe)):(V=Pe,ie=qe);for(let ot=ze;ot<=ie;ot++)T[ot].push(V)}return T}}class rs extends Lo{constructor(r){super(),this._context=r;const c=this._context.configuration.options,_=c.get(131);this._lineHeight=c.get(59),this._glyphMargin=c.get(50),this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(131);return this._lineHeight=c.get(59),this._glyphMargin=c.get(50),this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const c=r.getDecorationsInViewport(),_=[];let T=0;for(let V=0,ie=c.length;V<ie;V++){const he=c[V],ye=he.options.glyphMarginClassName;ye&&(_[T++]=new Ro(he.range.startLineNumber,he.range.endLineNumber,ye))}return _}prepareRender(r){if(!this._glyphMargin)return void(this._renderResult=null);const c=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber,T=this._render(c,_,this._getDecorations(r)),V=this._lineHeight.toString(),ye='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+V+'px;"></div>',De=[];for(let Pe=c;Pe<=_;Pe++){const ze=Pe-c,qe=T[ze];De[ze]=0===qe.length?"":'<div class="cgmr codicon '+qe.join(" ")+ye}this._renderResult=De}render(r,c){if(!this._renderResult)return"";const _=c-r;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}m(19269);var sr=m(99770),Or=m(21872),Wo=m(13151);class xs extends vn{constructor(r){super(),this._context=r,this._primaryPosition=null;const c=this._context.configuration.options,_=c.get(132),T=c.get(44);this._lineHeight=c.get(59),this._spaceWidth=T.spaceWidth,this._maxIndentLeft=-1===_.wrappingColumn?-1:_.wrappingColumn*T.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(132),T=c.get(44);return this._lineHeight=c.get(59),this._spaceWidth=T.spaceWidth,this._maxIndentLeft=-1===_.wrappingColumn?-1:_.wrappingColumn*T.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),!0}onCursorStateChanged(r){var c;const T=r.selections[0].getPosition();return!(null===(c=this._primaryPosition)||void 0===c?void 0:c.equals(T))&&(this._primaryPosition=T,!0)}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}onLanguageConfigurationChanged(r){return!0}prepareRender(r){var c,_,T,V;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const ie=r.visibleRange.startLineNumber,he=r.visibleRange.endLineNumber,ye=r.scrollWidth,De=this._lineHeight,ze=this.getGuidesByLine(ie,he,this._primaryPosition),qe=[];for(let ot=ie;ot<=he;ot++){const Ct=ot-ie,mt=ze[Ct];let It="";const Zt=null!==(_=null===(c=r.visibleRangeForPosition(new Rt.L(ot,1)))||void 0===c?void 0:c.left)&&void 0!==_?_:0;for(const cn of mt){const dn=Zt+(cn.visibleColumn-1)*this._spaceWidth;if(dn>ye||this._maxIndentLeft>0&&dn>this._maxIndentLeft)break;const kn=cn.horizontalLine?cn.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Vn=cn.horizontalLine?(null!==(V=null===(T=r.visibleRangeForPosition(new Rt.L(ot,cn.horizontalLine.endColumn)))||void 0===T?void 0:T.left)&&void 0!==V?V:dn+this._spaceWidth)-dn:this._spaceWidth;It+=`<div class="core-guide ${cn.className} ${kn}" style="left:${dn}px;height:${De}px;width:${Vn}px"></div>`}qe[Ct]=It}this._renderResult=qe}getGuidesByLine(r,c,_){const T=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(r,c,_,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?Wo.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?Wo.s6.EnabledForActive:Wo.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,V=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(r,c):null;let ie=0,he=0,ye=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&_){const ze=this._context.viewModel.getActiveIndentGuide(_.lineNumber,r,c);ie=ze.startLineNumber,he=ze.endLineNumber,ye=ze.indent}const{indentSize:De}=this._context.viewModel.model.getOptions(),Pe=[];for(let ze=r;ze<=c;ze++){const qe=new Array;Pe.push(qe);const ot=T?T[ze-r]:[],Ct=new f.H9(ot),mt=V?V[ze-r]:[];for(let It=1;It<=mt;It++){const Zt=(It-1)*De+1,cn=0===ot.length&&ie<=ze&&ze<=he&&It===ye;qe.push(...Ct.takeWhile(kn=>kn.visibleColumn<Zt)||[]);const dn=Ct.peek();(!dn||dn.visibleColumn!==Zt||dn.horizontalLine)&&qe.push(new Wo.UO(Zt,cn?"core-guide-indent-active":"core-guide-indent",null))}qe.push(...Ct.takeWhile(It=>!0)||[])}return Pe}render(r,c){if(!this._renderResult)return"";const _=c-r;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}function rr(ge){if(!ge||!ge.isTransparent())return ge}(0,En.Ic)((ge,r)=>{const c=ge.getColor(ln.tR);c&&r.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${c} inset; }`);const _=ge.getColor(ln.Ym)||c;_&&r.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${_} inset; }`);const T=[{bracketColor:ln.zJ,guideColor:ln.oV,guideColorActive:ln.Qb},{bracketColor:ln.Vs,guideColor:ln.m$,guideColorActive:ln.m3},{bracketColor:ln.CE,guideColor:ln.DS,guideColorActive:ln.To},{bracketColor:ln.UP,guideColor:ln.lS,guideColorActive:ln.L7},{bracketColor:ln.r0,guideColor:ln.Jn,guideColorActive:ln.HV},{bracketColor:ln.m1,guideColor:ln.YF,guideColorActive:ln.f9}],V=new Or.W,ie=T.map(he=>{var ye,De;const Pe=ge.getColor(he.bracketColor),ze=ge.getColor(he.guideColor),qe=ge.getColor(he.guideColorActive),ot=rr(null!==(ye=rr(ze))&&void 0!==ye?ye:null==Pe?void 0:Pe.transparent(.3)),Ct=rr(null!==(De=rr(qe))&&void 0!==De?De:Pe);if(ot&&Ct)return{guideColor:ot,guideColorActive:Ct}}).filter(sr.$K);if(ie.length>0){for(let he=0;he<30;he++){const ye=ie[he%ie.length];r.addRule(`.monaco-editor .${V.getInlineClassNameOfLevel(he).replace(/ /g,".")} { --guide-color: ${ye.guideColor}; --guide-color-active: ${ye.guideColorActive}; }`)}r.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),r.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),r.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),r.addRule(`.monaco-editor .vertical.${V.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),r.addRule(`.monaco-editor .horizontal-top.${V.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),r.addRule(`.monaco-editor .horizontal-bottom.${V.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}),m(97227);class Ki{constructor(){this._currentVisibleRange=new Mt.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(r){this._currentVisibleRange=r}}class Do{constructor(r,c,_,T,V,ie,he){this.minimalReveal=r,this.lineNumber=c,this.startColumn=_,this.endColumn=T,this.startScrollTop=V,this.stopScrollTop=ie,this.scrollType=he,this.type="range",this.minLineNumber=c,this.maxLineNumber=c}}class Os{constructor(r,c,_,T,V){this.minimalReveal=r,this.selections=c,this.startScrollTop=_,this.stopScrollTop=T,this.scrollType=V,this.type="selections";let ie=c[0].startLineNumber,he=c[0].endLineNumber;for(let ye=1,De=c.length;ye<De;ye++){const Pe=c[ye];ie=Math.min(ie,Pe.startLineNumber),he=Math.max(he,Pe.endLineNumber)}this.minLineNumber=ie,this.maxLineNumber=he}}let fs=(()=>{class ge extends Ce{constructor(c,_){super(c),this._linesContent=_,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new co(this),this.domNode=this._visibleLines.domNode;const T=this._context.configuration,V=this._context.configuration.options,ie=V.get(44),he=V.get(132),ye=V.get(131);this._lineHeight=V.get(59),this._typicalHalfwidthCharacterWidth=ie.typicalHalfwidthCharacterWidth,this._isViewportWrapping=he.isViewportWrapping,this._revealHorizontalRightPadding=V.get(89),this._horizontalScrollbarHeight=ye.horizontalScrollbarHeight,this._cursorSurroundingLines=V.get(25),this._cursorSurroundingLinesStyle=V.get(26),this._canUseLayerHinting=!V.get(28),this._viewLineOptions=new Vt(T,this._context.theme.type),Ae.write(this.domNode,7),this.domNode.setClassName(`view-lines ${_i.S}`),(0,_n.N)(this.domNode,ie),this._maxLineWidth=0,this._asyncUpdateLineWidths=new We.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new We.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Ki,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new zt(this._viewLineOptions)}onConfigurationChanged(c){this._visibleLines.onConfigurationChanged(c),c.hasChanged(132)&&(this._maxLineWidth=0);const _=this._context.configuration.options,T=_.get(44),V=_.get(132),ie=_.get(131);return this._lineHeight=_.get(59),this._typicalHalfwidthCharacterWidth=T.typicalHalfwidthCharacterWidth,this._isViewportWrapping=V.isViewportWrapping,this._revealHorizontalRightPadding=_.get(89),this._horizontalScrollbarHeight=ie.horizontalScrollbarHeight,this._cursorSurroundingLines=_.get(25),this._cursorSurroundingLinesStyle=_.get(26),this._canUseLayerHinting=!_.get(28),(0,_n.N)(this.domNode,T),this._onOptionsMaybeChanged(),c.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const _=new Vt(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(_)){this._viewLineOptions=_;const T=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let ie=T;ie<=V;ie++)this._visibleLines.getVisibleLine(ie).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(c){const _=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();let V=!1;for(let ie=_;ie<=T;ie++)V=this._visibleLines.getVisibleLine(ie).onSelectionChanged()||V;return V}onDecorationsChanged(c){{const _=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();for(let V=_;V<=T;V++)this._visibleLines.getVisibleLine(V).onDecorationsChanged()}return!0}onFlushed(c){const _=this._visibleLines.onFlushed(c);return this._maxLineWidth=0,_}onLinesChanged(c){return this._visibleLines.onLinesChanged(c)}onLinesDeleted(c){return this._visibleLines.onLinesDeleted(c)}onLinesInserted(c){return this._visibleLines.onLinesInserted(c)}onRevealRangeRequest(c){const _=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),c.source,c.minimalReveal,c.range,c.selections,c.verticalType);if(-1===_)return!1;let T=this._context.viewLayout.validateScrollPosition({scrollTop:_});c.revealHorizontal?c.range&&c.range.startLineNumber!==c.range.endLineNumber?T={scrollTop:T.scrollTop,scrollLeft:0}:c.range?this._horizontalRevealRequest=new Do(c.minimalReveal,c.range.startLineNumber,c.range.startColumn,c.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),T.scrollTop,c.scrollType):c.selections&&c.selections.length>0&&(this._horizontalRevealRequest=new Os(c.minimalReveal,c.selections,this._context.viewLayout.getCurrentScrollTop(),T.scrollTop,c.scrollType)):this._horizontalRevealRequest=null;const ie=Math.abs(this._context.viewLayout.getCurrentScrollTop()-T.scrollTop)<=this._lineHeight?1:c.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(T,ie),!0}onScrollChanged(c){if(this._horizontalRevealRequest&&c.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&c.scrollTopChanged){const _=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),T=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(c.scrollTop<_||c.scrollTop>T)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(c.scrollWidth),this._visibleLines.onScrollChanged(c)||!0}onTokensChanged(c){return this._visibleLines.onTokensChanged(c)}onZonesChanged(c){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(c)}onThemeChanged(c){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(c,_){const T=this._getViewLineDomNode(c);if(null===T)return null;const V=this._getLineNumberFor(T);if(-1===V||V<1||V>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(V))return new Rt.L(V,1);const ie=this._visibleLines.getStartLineNumber(),he=this._visibleLines.getEndLineNumber();if(V<ie||V>he)return null;let ye=this._visibleLines.getVisibleLine(V).getColumnOfNodeOffset(V,c,_);const De=this._context.viewModel.getLineMinColumn(V);return ye<De&&(ye=De),new Rt.L(V,ye)}_getViewLineDomNode(c){for(;c&&1===c.nodeType;){if(c.className===zt.CLASS_NAME)return c;c=c.parentElement}return null}_getLineNumberFor(c){const _=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();for(let V=_;V<=T;V++)if(c===this._visibleLines.getVisibleLine(V).getDomNode())return V;return-1}getLineWidth(c){const _=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();return c<_||c>T?-1:this._visibleLines.getVisibleLine(c).getWidth()}linesVisibleRangesForRange(c,_){if(this.shouldRender())return null;const T=c.endLineNumber,V=Mt.e.intersectRanges(c,this._lastRenderedData.getCurrentVisibleRange());if(!V)return null;let ie=[],he=0;const ye=new Bt(this.domNode.domNode,this._textRangeRestingSpot);let De=0;_&&(De=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Rt.L(V.startLineNumber,1)).lineNumber);const Pe=this._visibleLines.getStartLineNumber(),ze=this._visibleLines.getEndLineNumber();for(let qe=V.startLineNumber;qe<=V.endLineNumber;qe++){if(qe<Pe||qe>ze)continue;const ot=qe===V.startLineNumber?V.startColumn:1,Ct=qe===V.endLineNumber?V.endColumn:this._context.viewModel.getLineMaxColumn(qe),mt=this._visibleLines.getVisibleLine(qe).getVisibleRangesForRange(qe,ot,Ct,ye);if(mt){if(_&&qe<T){const It=De;De=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Rt.L(qe+1,1)).lineNumber,It!==De&&(mt.ranges[mt.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}ie[he++]=new Te(mt.outsideRenderedLine,qe,rt.from(mt.ranges))}}return 0===he?null:ie}_visibleRangesForLineRange(c,_,T){return this.shouldRender()||c<this._visibleLines.getStartLineNumber()||c>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(c,_,T,new Bt(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(c){const _=this._visibleRangesForLineRange(c.lineNumber,c.column,c.column);return _?new nt(_.outsideRenderedLine,_.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(c){const _=this._visibleLines.getStartLineNumber(),T=this._visibleLines.getEndLineNumber();let V=1,ie=!0;for(let he=_;he<=T;he++){const ye=this._visibleLines.getVisibleLine(he);!c||ye.getWidthIsFast()?V=Math.max(V,ye.getWidth()):ie=!1}return ie&&1===_&&T===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(V),ie}_checkMonospaceFontAssumptions(){let c=-1,_=-1;const T=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let ie=T;ie<=V;ie++){const he=this._visibleLines.getVisibleLine(ie);if(he.needsMonospaceFontCheck()){const ye=he.getWidth();ye>_&&(_=ye,c=ie)}}if(-1!==c&&!this._visibleLines.getVisibleLine(c).monospaceAssumptionsAreValid())for(let ie=T;ie<=V;ie++)this._visibleLines.getVisibleLine(ie).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(c){if(this._visibleLines.renderLines(c),this._lastRenderedData.setCurrentVisibleRange(c.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const T=this._horizontalRevealRequest;if(c.startLineNumber<=T.minLineNumber&&T.maxLineNumber<=c.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const V=this._computeScrollLeftToReveal(T);V&&(this._isViewportWrapping||this._ensureMaxLineWidth(V.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:V.scrollLeft},T.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),H.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const T=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let ie=T;ie<=V;ie++)if(this._visibleLines.getVisibleLine(ie).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const _=this._context.viewLayout.getCurrentScrollTop()-c.bigNumbersDelta;this._linesContent.setTop(-_),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(c){const _=Math.ceil(c);this._maxLineWidth<_&&(this._maxLineWidth=_,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(c,_,T,V,ie,he){const ye=c.top,De=c.height,Pe=ye+De;let ze,qe,ot,mt;if(ie&&ie.length>0){let It=ie[0].startLineNumber,Zt=ie[0].endLineNumber;for(let cn=1,dn=ie.length;cn<dn;cn++){const kn=ie[cn];It=Math.min(It,kn.startLineNumber),Zt=Math.max(Zt,kn.endLineNumber)}ze=!1,qe=this._context.viewLayout.getVerticalOffsetForLineNumber(It),ot=this._context.viewLayout.getVerticalOffsetForLineNumber(Zt)+this._lineHeight}else{if(!V)return-1;ze=!0,qe=this._context.viewLayout.getVerticalOffsetForLineNumber(V.startLineNumber),ot=this._context.viewLayout.getVerticalOffsetForLineNumber(V.endLineNumber)+this._lineHeight}if("mouse"!==_&&!T||"default"!==this._cursorSurroundingLinesStyle){const It=Math.min(De/this._lineHeight/2,this._cursorSurroundingLines);qe-=It*this._lineHeight,ot+=Math.max(0,It-1)*this._lineHeight}else T||(qe-=this._lineHeight);if((0===he||4===he)&&(ot+=T?this._horizontalScrollbarHeight:this._lineHeight),ot-qe>De){if(!ze)return-1;mt=qe}else if(5===he||6===he)if(6===he&&ye<=qe&&ot<=Pe)mt=ye;else{const It=Math.max(5*this._lineHeight,.2*De);mt=Math.max(ot-De,qe-It)}else mt=1===he||2===he?2===he&&ye<=qe&&ot<=Pe?ye:Math.max(0,(qe+ot)/2-De/2):this._computeMinimumScrolling(ye,Pe,qe,ot,3===he,4===he);return mt}_computeScrollLeftToReveal(c){const _=this._context.viewLayout.getCurrentViewport(),T=_.left,V=T+_.width;let ie=1073741824,he=0;if("range"===c.type){const De=this._visibleRangesForLineRange(c.lineNumber,c.startColumn,c.endColumn);if(!De)return null;for(const Pe of De.ranges)ie=Math.min(ie,Math.round(Pe.left)),he=Math.max(he,Math.round(Pe.left+Pe.width))}else for(const De of c.selections){if(De.startLineNumber!==De.endLineNumber)return null;const Pe=this._visibleRangesForLineRange(De.startLineNumber,De.startColumn,De.endColumn);if(!Pe)return null;for(const ze of Pe.ranges)ie=Math.min(ie,Math.round(ze.left)),he=Math.max(he,Math.round(ze.left+ze.width))}return c.minimalReveal||(ie=Math.max(0,ie-ge.HORIZONTAL_EXTRA_PX),he+=this._revealHorizontalRightPadding),"selections"===c.type&&he-ie>_.width?null:{scrollLeft:this._computeMinimumScrolling(T,V,ie,he),maxHorizontalOffset:he}}_computeMinimumScrolling(c,_,T,V,ie,he){ie=!!ie,he=!!he;const ye=(_|=0)-(c|=0);return(V|=0)-(T|=0)<ye?ie?T:he?Math.max(0,V-ye):T<c?T:V>_?Math.max(0,V-ye):c:T}}return ge.HORIZONTAL_EXTRA_PX=30,ge})();m(38586);class yt extends Lo{constructor(r){super(),this._context=r;const _=this._context.configuration.options.get(131);this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const _=this._context.configuration.options.get(131);return this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const c=r.getDecorationsInViewport(),_=[];let T=0;for(let V=0,ie=c.length;V<ie;V++){const he=c[V],ye=he.options.linesDecorationsClassName;ye&&(_[T++]=new Ro(he.range.startLineNumber,he.range.endLineNumber,ye));const De=he.options.firstLineDecorationClassName;De&&(_[T++]=new Ro(he.range.startLineNumber,he.range.startLineNumber,De))}return _}prepareRender(r){const c=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber,T=this._render(c,_,this._getDecorations(r)),he='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',ye=[];for(let De=c;De<=_;De++){const Pe=De-c,ze=T[Pe];let qe="";for(let ot=0,Ct=ze.length;ot<Ct;ot++)qe+='<div class="cldr '+ze[ot]+he;ye[Pe]=qe}this._renderResult=ye}render(r,c){return this._renderResult?this._renderResult[c-r]:""}}m(6728);class h extends Lo{constructor(r){super(),this._context=r,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){return!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const c=r.getDecorationsInViewport(),_=[];let T=0;for(let V=0,ie=c.length;V<ie;V++){const he=c[V],ye=he.options.marginClassName;ye&&(_[T++]=new Ro(he.range.startLineNumber,he.range.endLineNumber,ye))}return _}prepareRender(r){const c=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber,T=this._render(c,_,this._getDecorations(r)),V=[];for(let ie=c;ie<=_;ie++){const he=ie-c,ye=T[he];let De="";for(let Pe=0,ze=ye.length;Pe<ze;Pe++)De+='<div class="cmdr '+ye[Pe]+'" style=""></div>';V[he]=De}this._renderResult=V}render(r,c){return this._renderResult?this._renderResult[c-r]:""}}m(39319);var W=m(8535);class te{constructor(r,c,_,T){this._rgba8Brand=void 0,this.r=te._clamp(r),this.g=te._clamp(c),this.b=te._clamp(_),this.a=te._clamp(T)}equals(r){return this.r===r.r&&this.g===r.g&&this.b===r.b&&this.a===r.a}static _clamp(r){return r<0?0:r>255?255:0|r}}te.Empty=new te(0,0,0,0);let ae=(()=>{class ge extends C.JT{constructor(){super(),this._onDidChange=new y.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Di.RW.onDidChange(c=>{c.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,C.dk)(new ge)),this._INSTANCE}_updateColorMap(){const c=Di.RW.getColorMap();if(!c)return this._colors=[te.Empty],void(this._backgroundIsLight=!0);this._colors=[te.Empty];for(let T=1;T<c.length;T++){const V=c[T].rgba;this._colors[T]=new te(V.r,V.g,V.b,Math.round(255*V.a))}const _=c[2].getRelativeLuminance();this._backgroundIsLight=_>=.5,this._onDidChange.fire(void 0)}getColor(c){return(c<1||c>=this._colors.length)&&(c=2),this._colors[c]}backgroundIsLight(){return this._backgroundIsLight}}return ge._INSTANCE=null,ge})();var be=m(42483);const Oe=(()=>{const ge=[];for(let r=32;r<=126;r++)ge.push(r);return ge.push(65533),ge})();var Ze=m(68733);class Je{constructor(r,c){this.scale=c,this._minimapCharRendererBrand=void 0,this.charDataNormal=Je.soften(r,.8),this.charDataLight=Je.soften(r,50/60)}static soften(r,c){const _=new Uint8ClampedArray(r.length);for(let T=0,V=r.length;T<V;T++)_[T]=(0,Ze.K)(r[T]*c);return _}renderChar(r,c,_,T,V,ie,he,ye,De,Pe,ze){const qe=1*this.scale,ot=2*this.scale,Ct=ze?1:ot;if(c+qe>r.width||_+Ct>r.height)return void console.warn("bad render request outside image data");const mt=Pe?this.charDataLight:this.charDataNormal,It=((ge,r)=>(ge-=32)<0||ge>96?r<=2?(ge+96)%96:95:ge)(T,De),Zt=4*r.width,cn=he.r,dn=he.g,kn=he.b,Vn=V.r-cn,Fn=V.g-dn,On=V.b-kn,Ln=Math.max(ie,ye),pn=r.data;let Ni=It*qe*ot,ni=_*Zt+4*c;for(let Eo=0;Eo<Ct;Eo++){let bo=ni;for(let ti=0;ti<qe;ti++){const io=mt[Ni++]/255*(ie/255);pn[bo++]=cn+Vn*io,pn[bo++]=dn+Fn*io,pn[bo++]=kn+On*io,pn[bo++]=Ln}ni+=Zt}}blockRenderChar(r,c,_,T,V,ie,he,ye){const De=1*this.scale,ze=ye?1:2*this.scale;if(c+De>r.width||_+ze>r.height)return void console.warn("bad render request outside image data");const qe=4*r.width,ot=V/255*.5,Ct=ie.r,mt=ie.g,It=ie.b,kn=Ct+(T.r-Ct)*ot,Vn=mt+(T.g-mt)*ot,Fn=It+(T.b-It)*ot,On=Math.max(V,he),Ln=r.data;let pn=_*qe+4*c;for(let Ni=0;Ni<ze;Ni++){let ni=pn;for(let Eo=0;Eo<De;Eo++)Ln[ni++]=kn,Ln[ni++]=Vn,Ln[ni++]=Fn,Ln[ni++]=On;pn+=qe}}}var it=m(16811);const ft={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},gt=ge=>{const r=new Uint8ClampedArray(ge.length/2);for(let c=0;c<ge.length;c+=2)r[c>>1]=ft[ge[c]]<<4|15&ft[ge[c+1]];return r},Nt={1:(0,it.I)(()=>gt("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,it.I)(()=>gt("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Wt{static create(r,c){if(this.lastCreated&&r===this.lastCreated.scale&&c===this.lastFontFamily)return this.lastCreated;let _;return _=Nt[r]?new Je(Nt[r](),r):Wt.createFromSampleData(Wt.createSampleData(c).data,r),this.lastFontFamily=c,this.lastCreated=_,_}static createSampleData(r){const c=document.createElement("canvas"),_=c.getContext("2d");c.style.height="16px",c.height=16,c.width=960,c.style.width="960px",_.fillStyle="#ffffff",_.font=`bold 16px ${r}`,_.textBaseline="middle";let T=0;for(const V of Oe)_.fillText(String.fromCharCode(V),T,8),T+=10;return _.getImageData(0,0,960,16)}static createFromSampleData(r,c){if(61440!==r.length)throw new Error("Unexpected source in MinimapCharRenderer");const T=Wt._downsample(r,c);return new Je(T,c)}static _downsampleChar(r,c,_,T,V){const ie=1*V,he=2*V;let ye=T,De=0;for(let Pe=0;Pe<he;Pe++){const ze=Pe/he*16,qe=(Pe+1)/he*16;for(let ot=0;ot<ie;ot++){const Ct=ot/ie*10,mt=(ot+1)/ie*10;let It=0,Zt=0;for(let dn=ze;dn<qe;dn++){const kn=c+3840*Math.floor(dn),Vn=1-(dn-Math.floor(dn));for(let Fn=Ct;Fn<mt;Fn++){const On=1-(Fn-Math.floor(Fn)),Ln=kn+4*Math.floor(Fn),pn=On*Vn;Zt+=pn,It+=r[Ln]*r[Ln+3]/255*pn}}const cn=It/Zt;De=Math.max(De,cn),_[ye++]=(0,Ze.K)(cn)}}return De}static _downsample(r,c){const _=2*c*1*c,T=96*_,V=new Uint8ClampedArray(T);let ie=0,he=0,ye=0;for(let De=0;De<96;De++)ye=Math.max(ye,this._downsampleChar(r,he,V,ie,c)),ie+=_,he+=40;if(ye>0){const De=255/ye;for(let Pe=0;Pe<T;Pe++)V[Pe]*=De}return V}}var Gt=m(80067);class di{constructor(r,c,_){const T=r.options,V=T.get(129),ie=T.get(131),he=ie.minimap,ye=T.get(44),De=T.get(65);this.renderMinimap=he.renderMinimap,this.size=De.size,this.minimapHeightIsEditorHeight=he.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=T.get(94),this.showSlider=De.showSlider,this.pixelRatio=V,this.typicalHalfwidthCharacterWidth=ye.typicalHalfwidthCharacterWidth,this.lineHeight=T.get(59),this.minimapLeft=he.minimapLeft,this.minimapWidth=he.minimapWidth,this.minimapHeight=ie.height,this.canvasInnerWidth=he.minimapCanvasInnerWidth,this.canvasInnerHeight=he.minimapCanvasInnerHeight,this.canvasOuterWidth=he.minimapCanvasOuterWidth,this.canvasOuterHeight=he.minimapCanvasOuterHeight,this.isSampling=he.minimapIsSampling,this.editorHeight=ie.height,this.fontScale=he.minimapScale,this.minimapLineHeight=he.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,it.I)(()=>Wt.create(this.fontScale,ye.fontFamily)),this.defaultBackgroundColor=_.getColor(2),this.backgroundColor=di._getMinimapBackground(c,this.defaultBackgroundColor),this.foregroundAlpha=di._getMinimapForegroundOpacity(c)}static _getMinimapBackground(r,c){const _=r.getColor(to.kVY);return _?new te(_.rgba.r,_.rgba.g,_.rgba.b,Math.round(255*_.rgba.a)):c}static _getMinimapForegroundOpacity(r){const c=r.getColor(to.Itd);return c?te._clamp(Math.round(255*c.rgba.a)):255}equals(r){return this.renderMinimap===r.renderMinimap&&this.size===r.size&&this.minimapHeightIsEditorHeight===r.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===r.scrollBeyondLastLine&&this.showSlider===r.showSlider&&this.pixelRatio===r.pixelRatio&&this.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&this.lineHeight===r.lineHeight&&this.minimapLeft===r.minimapLeft&&this.minimapWidth===r.minimapWidth&&this.minimapHeight===r.minimapHeight&&this.canvasInnerWidth===r.canvasInnerWidth&&this.canvasInnerHeight===r.canvasInnerHeight&&this.canvasOuterWidth===r.canvasOuterWidth&&this.canvasOuterHeight===r.canvasOuterHeight&&this.isSampling===r.isSampling&&this.editorHeight===r.editorHeight&&this.fontScale===r.fontScale&&this.minimapLineHeight===r.minimapLineHeight&&this.minimapCharWidth===r.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(r.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(r.backgroundColor)&&this.foregroundAlpha===r.foregroundAlpha}}class _t{constructor(r,c,_,T,V,ie,he,ye){this.scrollTop=r,this.scrollHeight=c,this.sliderNeeded=_,this._computedSliderRatio=T,this.sliderTop=V,this.sliderHeight=ie,this.startLineNumber=he,this.endLineNumber=ye}getDesiredScrollTopFromDelta(r){return Math.round(this.scrollTop+r/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(r){return Math.round((r-this.sliderHeight/2)/this._computedSliderRatio)}static create(r,c,_,T,V,ie,he,ye,De,Pe,ze){const qe=r.pixelRatio,ot=r.minimapLineHeight,Ct=Math.floor(r.canvasInnerHeight/ot),mt=r.lineHeight;if(r.minimapHeightIsEditorHeight){const Fn=Math.max(1,Math.floor(V*V/(ye*r.lineHeight+(r.scrollBeyondLastLine?V-r.lineHeight:0)))),On=Math.max(0,r.minimapHeight-Fn),Ln=On/(Pe-V),pn=De*Ln,Ni=On>0,ni=Math.floor(r.canvasInnerHeight/r.minimapLineHeight);return new _t(De,Pe,Ni,Ln,pn,Fn,1,Math.min(he,ni))}let It,Zt;It=ie&&_!==he?Math.floor((_-c+1)*ot/qe):Math.floor(V/mt*ot/qe),Zt=r.scrollBeyondLastLine?(he-1)*ot/qe:Math.max(0,he*ot/qe-It),Zt=Math.min(r.minimapHeight-It,Zt);const cn=Zt/(Pe-V),dn=De*cn;let kn=0;if(r.scrollBeyondLastLine&&(kn=V/mt-1),Ct>=he+kn)return new _t(De,Pe,Zt>0,cn,dn,It,1,he);{let Vn=Math.max(1,Math.floor(c-dn*qe/ot));ze&&ze.scrollHeight===Pe&&(ze.scrollTop>De&&(Vn=Math.min(Vn,ze.startLineNumber)),ze.scrollTop<De&&(Vn=Math.max(Vn,ze.startLineNumber)));const Fn=Math.min(he,Vn+Ct-1);return new _t(De,Pe,!0,cn,(c-Vn+(De-T)/mt)*ot/qe,It,Vn,Fn)}}}class Pi{constructor(r){this.dy=r}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Pi.INVALID=new Pi(-1);class ci{constructor(r,c,_){this.renderedLayout=r,this._imageData=c,this._renderedLines=new ji(()=>Pi.INVALID),this._renderedLines._set(r.startLineNumber,_)}linesEquals(r){if(!this.scrollEquals(r))return!1;const _=this._renderedLines._get().lines;for(let T=0,V=_.length;T<V;T++)if(-1===_[T].dy)return!1;return!0}scrollEquals(r){return this.renderedLayout.startLineNumber===r.startLineNumber&&this.renderedLayout.endLineNumber===r.endLineNumber}_get(){const r=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:r.rendLineNumberStart,lines:r.lines}}onLinesChanged(r,c){return this._renderedLines.onLinesChanged(r,c)}onLinesDeleted(r,c){this._renderedLines.onLinesDeleted(r,c)}onLinesInserted(r,c){this._renderedLines.onLinesInserted(r,c)}onTokensChanged(r){return this._renderedLines.onTokensChanged(r)}}class mo{constructor(r,c,_,T){this._backgroundFillData=mo._createBackgroundFillData(c,_,T),this._buffers=[r.createImageData(c,_),r.createImageData(c,_)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const r=this._buffers[this._lastUsedBuffer];return r.data.set(this._backgroundFillData),r}static _createBackgroundFillData(r,c,_){const T=_.r,V=_.g,ie=_.b,he=_.a,ye=new Uint8ClampedArray(r*c*4);let De=0;for(let Pe=0;Pe<c;Pe++)for(let ze=0;ze<r;ze++)ye[De]=T,ye[De+1]=V,ye[De+2]=ie,ye[De+3]=he,De+=4;return ye}}class As{constructor(r,c){this.samplingRatio=r,this.minimapLines=c}static compute(r,c,_){if(0===r.renderMinimap||!r.isSampling)return[null,[]];const T=r.pixelRatio,V=r.lineHeight,ie=r.scrollBeyondLastLine,{minimapLineCount:he}=$.gk.computeContainedMinimapLineCount({viewLineCount:c,scrollBeyondLastLine:ie,height:r.editorHeight,lineHeight:V,pixelRatio:T}),ye=c/he,De=ye/2;if(!_||0===_.minimapLines.length){const dn=[];if(dn[0]=1,he>1){for(let kn=0,Vn=he-1;kn<Vn;kn++)dn[kn]=Math.round(kn*ye+De);dn[he-1]=c}return[new As(ye,dn),[]]}const Pe=_.minimapLines,ze=Pe.length,qe=[];let ot=0,Ct=0,mt=1,Zt=[],cn=null;for(let dn=0;dn<he;dn++){const kn=Math.max(mt,Math.round(dn*ye)),Vn=Math.max(kn,Math.round((dn+1)*ye));for(;ot<ze&&Pe[ot]<kn;){if(Zt.length<10){const On=ot+1+Ct;cn&&"deleted"===cn.type&&cn._oldIndex===ot-1?cn.deleteToLineNumber++:(cn={type:"deleted",_oldIndex:ot,deleteFromLineNumber:On,deleteToLineNumber:On},Zt.push(cn)),Ct--}ot++}let Fn;if(ot<ze&&Pe[ot]<=Vn)Fn=Pe[ot],ot++;else if(Fn=0===dn?1:dn+1===he?c:Math.round(dn*ye+De),Zt.length<10){const On=ot+1+Ct;cn&&"inserted"===cn.type&&cn._i===dn-1?cn.insertToLineNumber++:(cn={type:"inserted",_i:dn,insertFromLineNumber:On,insertToLineNumber:On},Zt.push(cn)),Ct++}qe[dn]=Fn,mt=Fn}if(Zt.length<10)for(;ot<ze;){const dn=ot+1+Ct;cn&&"deleted"===cn.type&&cn._oldIndex===ot-1?cn.deleteToLineNumber++:(cn={type:"deleted",_oldIndex:ot,deleteFromLineNumber:dn,deleteToLineNumber:dn},Zt.push(cn)),Ct--,ot++}else Zt=[{type:"flush"}];return[new As(ye,qe),Zt]}modelLineToMinimapLine(r){return Math.min(this.minimapLines.length,Math.max(1,Math.round(r/this.samplingRatio)))}modelLineRangeToMinimapLineRange(r,c){let _=this.modelLineToMinimapLine(r)-1;for(;_>0&&this.minimapLines[_-1]>=r;)_--;let T=this.modelLineToMinimapLine(c)-1;for(;T+1<this.minimapLines.length&&this.minimapLines[T+1]<=c;)T++;if(_===T){const V=this.minimapLines[_];if(V<r||V>c)return null}return[_+1,T+1]}decorationLineRangeToMinimapLineRange(r,c){let _=this.modelLineToMinimapLine(r),T=this.modelLineToMinimapLine(c);return r!==c&&T===_&&(T===this.minimapLines.length?_>1&&_--:T++),[_,T]}onLinesDeleted(r){const c=r.toLineNumber-r.fromLineNumber+1;let _=this.minimapLines.length,T=0;for(let V=this.minimapLines.length-1;V>=0&&!(this.minimapLines[V]<r.fromLineNumber);V--)this.minimapLines[V]<=r.toLineNumber?(this.minimapLines[V]=Math.max(1,r.fromLineNumber-1),_=Math.min(_,V),T=Math.max(T,V)):this.minimapLines[V]-=c;return[_,T]}onLinesInserted(r){const c=r.toLineNumber-r.fromLineNumber+1;for(let _=this.minimapLines.length-1;_>=0&&!(this.minimapLines[_]<r.fromLineNumber);_--)this.minimapLines[_]+=c}}class ps extends Ce{constructor(r){super(r),this.tokensColorTracker=ae.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new di(this._context.configuration,this._context.theme,this.tokensColorTracker);const[c]=As.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=c,this._shouldCheckSampling=!1,this._actual=new $r(r.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const r=new di(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(r)&&(this.options=r,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(r){return this._onOptionsMaybeChanged()}onCursorStateChanged(r){return this._selections=r.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(r){return!!r.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(r){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(r){if(this._samplingState){const c=this._samplingState.modelLineRangeToMinimapLineRange(r.fromLineNumber,r.toLineNumber);return!!c&&this._actual.onLinesChanged(c[0],c[1])}return this._actual.onLinesChanged(r.fromLineNumber,r.toLineNumber)}onLinesDeleted(r){if(this._samplingState){const[c,_]=this._samplingState.onLinesDeleted(r);return c<=_&&this._actual.onLinesChanged(c+1,_+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(r.fromLineNumber,r.toLineNumber)}onLinesInserted(r){return this._samplingState?(this._samplingState.onLinesInserted(r),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(r.fromLineNumber,r.toLineNumber)}onScrollChanged(r){return this._actual.onScrollChanged()}onThemeChanged(r){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(r){if(this._samplingState){const c=[];for(const _ of r.ranges){const T=this._samplingState.modelLineRangeToMinimapLineRange(_.fromLineNumber,_.toLineNumber);T&&c.push({fromLineNumber:T[0],toLineNumber:T[1]})}return!!c.length&&this._actual.onTokensChanged(c)}return this._actual.onTokensChanged(r.ranges)}onTokensColorsChanged(r){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(r){return this._actual.onZonesChanged()}prepareRender(r){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(r){let c=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber;this._samplingState&&(c=this._samplingState.modelLineToMinimapLine(c),_=this._samplingState.modelLineToMinimapLine(_));const T={viewportContainsWhitespaceGaps:r.viewportData.whitespaceViewportData.length>0,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight,viewportStartLineNumber:c,viewportEndLineNumber:_,viewportStartLineNumberVerticalOffset:r.getVerticalOffsetForLineNumber(c),scrollTop:r.scrollTop,scrollLeft:r.scrollLeft,viewportWidth:r.viewportWidth,viewportHeight:r.viewportHeight};this._actual.render(T)}_recreateLineSampling(){this._minimapSelections=null;const r=Boolean(this._samplingState),[c,_]=As.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=c,r&&this._samplingState)for(const T of _)switch(T.type){case"deleted":this._actual.onLinesDeleted(T.deleteFromLineNumber,T.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(T.insertFromLineNumber,T.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(r){return this._context.viewModel.getLineContent(this._samplingState?this._samplingState.minimapLines[r-1]:r)}getLineMaxColumn(r){return this._context.viewModel.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[r-1]:r)}getMinimapLinesRenderingData(r,c,_){if(this._samplingState){const T=[];for(let V=0,ie=c-r+1;V<ie;V++)T[V]=_[V]?this._context.viewModel.getViewLineData(this._samplingState.minimapLines[r+V-1]):null;return T}return this._context.viewModel.getMinimapLinesRenderingData(r,c,_).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const r of this._selections){const[c,_]=this._samplingState.decorationLineRangeToMinimapLineRange(r.startLineNumber,r.endLineNumber);this._minimapSelections.push(new re.Y(c,r.startColumn,_,r.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(r,c){let _;if(this._samplingState){const ie=this._samplingState.minimapLines[c-1];_=new Mt.e(this._samplingState.minimapLines[r-1],1,ie,this._context.viewModel.getLineMaxColumn(ie))}else _=new Mt.e(r,1,c,this._context.viewModel.getLineMaxColumn(c));const T=this._context.viewModel.getDecorationsInViewport(_);if(this._samplingState){const V=[];for(const ie of T){if(!ie.options.minimap)continue;const he=ie.range,ye=this._samplingState.modelLineToMinimapLine(he.startLineNumber),De=this._samplingState.modelLineToMinimapLine(he.endLineNumber);V.push(new be.$l(new Mt.e(ye,he.startColumn,De,he.endColumn),ie.options))}return V}return T}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(r){this._samplingState&&(r=this._samplingState.minimapLines[r-1]),this._context.viewModel.revealRange("mouse",!1,new Mt.e(r,1,r,1),1,0)}setScrollTop(r){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:r},1)}}class $r extends C.JT{constructor(r,c){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=r,this._model=c,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(to.ov3),this._domNode=(0,ce.X)(document.createElement("div")),Ae.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,ce.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,ce.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,ce.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,ce.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,ce.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=F.mu(this._domNode.domNode,"mousedown",_=>{if(_.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(_.leftButton&&this._lastRenderData){const De=F.i(this._slider.domNode);this._startSliderDragging(_.buttons,_.posx,De.top+De.height/2,_.posy,this._lastRenderData.renderedLayout)}return}let ye=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*_.browserEvent.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;ye=Math.min(ye,this._model.getLineCount()),this._model.revealLineNumber(ye)}),this._sliderMouseMoveMonitor=new W.Z,this._sliderMouseDownListener=F.mu(this._slider.domNode,"mousedown",_=>{_.preventDefault(),_.stopPropagation(),_.leftButton&&this._lastRenderData&&this._startSliderDragging(_.buttons,_.posx,_.posy,_.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=ve.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=F.nm(this._domNode.domNode,ve.t.Start,_=>{_.preventDefault(),_.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(_))},{passive:!1}),this._sliderTouchMoveListener=F.nm(this._domNode.domNode,ve.t.Change,_=>{_.preventDefault(),_.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(_)},{passive:!1}),this._sliderTouchEndListener=F.mu(this._domNode.domNode,ve.t.End,_=>{_.preventDefault(),_.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(r,c,_,T,V){this._slider.toggleClassName("active",!0);const ie=(he,ye)=>{const De=Math.abs(ye-c);this._model.setScrollTop(H.ED&&De>140?V.scrollTop:V.getDesiredScrollTopFromDelta(he-_))};T!==_&&ie(T,c),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,r,W.e,he=>ie(he.posy,he.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(r){const c=this._domNode.domNode.getBoundingClientRect().top,_=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(r.pageY-c);this._model.setScrollTop(_)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new mo(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(r,c){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(r,c)}onLinesDeleted(r,c){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(r,c),!0}onLinesInserted(r,c){return this._lastRenderData&&this._lastRenderData.onLinesInserted(r,c),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(to.ov3),this._renderDecorations=!0,!0}onTokensChanged(r){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(r)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(r){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(r.scrollLeft+r.viewportWidth>=r.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const _=_t.create(this._model.options,r.viewportStartLineNumber,r.viewportEndLineNumber,r.viewportStartLineNumberVerticalOffset,r.viewportHeight,r.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),r.scrollTop,r.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(_.sliderNeeded?"block":"none"),this._slider.setTop(_.sliderTop),this._slider.setHeight(_.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(_.sliderHeight),this.renderDecorations(_),this._lastRenderData=this.renderLines(_)}renderDecorations(r){if(this._renderDecorations){this._renderDecorations=!1;const c=this._model.getSelections();c.sort(Mt.e.compareRangesUsingStarts);const _=this._model.getMinimapDecorationsInViewport(r.startLineNumber,r.endLineNumber);_.sort((qe,ot)=>(qe.options.zIndex||0)-(ot.options.zIndex||0));const{canvasInnerWidth:T,canvasInnerHeight:V}=this._model.options,ie=this._model.options.minimapLineHeight,he=this._model.options.minimapCharWidth,ye=this._model.getOptions().tabSize,De=this._decorationsCanvas.domNode.getContext("2d");De.clearRect(0,0,T,V);const Pe=new Co(r.startLineNumber,r.endLineNumber,!1);this._renderSelectionLineHighlights(De,c,Pe,r,ie),this._renderDecorationsLineHighlights(De,_,Pe,r,ie);const ze=new Co(r.startLineNumber,r.endLineNumber,null);this._renderSelectionsHighlights(De,c,ze,r,ie,ye,he,T),this._renderDecorationsHighlights(De,_,ze,r,ie,ye,he,T)}}_renderSelectionLineHighlights(r,c,_,T,V){if(!this._selectionColor||this._selectionColor.isTransparent())return;r.fillStyle=this._selectionColor.transparent(.5).toString();let ie=0,he=0;for(const ye of c){const De=Math.max(T.startLineNumber,ye.startLineNumber),Pe=Math.min(T.endLineNumber,ye.endLineNumber);if(De>Pe)continue;for(let ot=De;ot<=Pe;ot++)_.set(ot,!0);const ze=(De-T.startLineNumber)*V,qe=(Pe-T.startLineNumber)*V+V;he>=ze||(he>ie&&r.fillRect($.y0,ie,r.canvas.width,he-ie),ie=ze),he=qe}he>ie&&r.fillRect($.y0,ie,r.canvas.width,he-ie)}_renderDecorationsLineHighlights(r,c,_,T,V){const ie=new Map;for(let he=c.length-1;he>=0;he--){const ye=c[he],De=ye.options.minimap;if(!De||De.position!==Gt.F5.Inline)continue;const Pe=Math.max(T.startLineNumber,ye.range.startLineNumber),ze=Math.min(T.endLineNumber,ye.range.endLineNumber);if(Pe>ze)continue;const qe=De.getColor(this._theme.value);if(!qe||qe.isTransparent())continue;let ot=ie.get(qe.toString());ot||(ot=qe.transparent(.5).toString(),ie.set(qe.toString(),ot)),r.fillStyle=ot;for(let Ct=Pe;Ct<=ze;Ct++)_.has(Ct)||(_.set(Ct,!0),r.fillRect($.y0,(Pe-T.startLineNumber)*V,r.canvas.width,V))}}_renderSelectionsHighlights(r,c,_,T,V,ie,he,ye){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const De of c){const Pe=Math.max(T.startLineNumber,De.startLineNumber),ze=Math.min(T.endLineNumber,De.endLineNumber);if(!(Pe>ze))for(let qe=Pe;qe<=ze;qe++)this.renderDecorationOnLine(r,_,De,this._selectionColor,T,qe,V,V,ie,he,ye)}}_renderDecorationsHighlights(r,c,_,T,V,ie,he,ye){for(const De of c){const Pe=De.options.minimap;if(!Pe)continue;const ze=Math.max(T.startLineNumber,De.range.startLineNumber),qe=Math.min(T.endLineNumber,De.range.endLineNumber);if(ze>qe)continue;const ot=Pe.getColor(this._theme.value);if(ot&&!ot.isTransparent())for(let Ct=ze;Ct<=qe;Ct++)switch(Pe.position){case Gt.F5.Inline:this.renderDecorationOnLine(r,_,De.range,ot,T,Ct,V,V,ie,he,ye);continue;case Gt.F5.Gutter:this.renderDecoration(r,ot,2,(Ct-T.startLineNumber)*V,2,V);continue}}}renderDecorationOnLine(r,c,_,T,V,ie,he,ye,De,Pe,ze){const qe=(ie-V.startLineNumber)*ye;if(qe+he<0||qe>this._model.options.canvasInnerHeight)return;const{startLineNumber:ot,endLineNumber:Ct}=_,mt=ot===ie?_.startColumn:1,It=Ct===ie?_.endColumn:this._model.getLineMaxColumn(ie),Zt=this.getXOffsetForPosition(c,ie,mt,De,Pe,ze),cn=this.getXOffsetForPosition(c,ie,It,De,Pe,ze);this.renderDecoration(r,T,Zt,qe,cn-Zt,he)}getXOffsetForPosition(r,c,_,T,V,ie){if(1===_)return $.y0;if((_-1)*V>=ie)return ie;let ye=r.get(c);if(!ye){const De=this._model.getLineContent(c);ye=[$.y0];let Pe=$.y0;for(let ze=1;ze<De.length+1;ze++){const qe=De.charCodeAt(ze-1),Ct=Pe+(9===qe?T*V:yn.K7(qe)?2*V:V);if(Ct>=ie){ye[ze]=ie;break}ye[ze]=Ct,Pe=Ct}r.set(c,ye)}return _-1<ye.length?ye[_-1]:ie}renderDecoration(r,c,_,T,V,ie){r.fillStyle=c&&c.toString()||"",r.fillRect(_,T,V,ie)}renderLines(r){const c=r.startLineNumber,_=r.endLineNumber,T=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(r)){const io=this._lastRenderData._get();return new ci(r,io.imageData,io.lines)}const V=this._getBuffer();if(!V)return null;const[ie,he,ye]=$r._renderUntouchedLines(V,c,_,T,this._lastRenderData),De=this._model.getMinimapLinesRenderingData(c,_,ye),Pe=this._model.getOptions().tabSize,ze=this._model.options.defaultBackgroundColor,qe=this._model.options.backgroundColor,ot=this._model.options.foregroundAlpha,Ct=this._model.tokensColorTracker,mt=Ct.backgroundIsLight(),It=this._model.options.renderMinimap,Zt=this._model.options.charRenderer(),cn=this._model.options.fontScale,dn=this._model.options.minimapCharWidth,Vn=(1===It?2:3)*cn,Fn=T>Vn?Math.floor((T-Vn)/2):0,On=qe.a/255,Ln=new te(Math.round((qe.r-ze.r)*On+ze.r),Math.round((qe.g-ze.g)*On+ze.g),Math.round((qe.b-ze.b)*On+ze.b),255);let pn=0;const Ni=[];for(let io=0,An=_-c+1;io<An;io++)ye[io]&&$r._renderLine(V,Ln,qe.a,mt,It,dn,Ct,ot,Zt,pn,Fn,Pe,De[io],cn,T),Ni[io]=new Pi(pn),pn+=T;const ni=-1===ie?0:ie,bo=(-1===he?V.height:he)-ni;return this._canvas.domNode.getContext("2d").putImageData(V,0,0,0,ni,V.width,bo),new ci(r,V,Ni)}static _renderUntouchedLines(r,c,_,T,V){const ie=[];if(!V){for(let Ln=0,pn=_-c+1;Ln<pn;Ln++)ie[Ln]=!0;return[-1,-1,ie]}const he=V._get(),ye=he.imageData.data,De=he.rendLineNumberStart,Pe=he.lines,ze=Pe.length,qe=r.width,ot=r.data,Ct=(_-c+1)*T*qe*4;let mt=-1,It=-1,Zt=-1,cn=-1,dn=-1,kn=-1,Vn=0;for(let Ln=c;Ln<=_;Ln++){const pn=Ln-c,Ni=Ln-De,ni=Ni>=0&&Ni<ze?Pe[Ni].dy:-1;if(-1===ni){ie[pn]=!0,Vn+=T;continue}const Eo=ni*qe*4,bo=(ni+T)*qe*4,ti=Vn*qe*4,io=(Vn+T)*qe*4;cn===Eo&&kn===ti?(cn=bo,kn=io):(-1!==Zt&&(ot.set(ye.subarray(Zt,cn),dn),-1===mt&&0===Zt&&Zt===dn&&(mt=cn),-1===It&&cn===Ct&&Zt===dn&&(It=Zt)),Zt=Eo,cn=bo,dn=ti,kn=io),ie[pn]=!1,Vn+=T}return-1!==Zt&&(ot.set(ye.subarray(Zt,cn),dn),-1===mt&&0===Zt&&Zt===dn&&(mt=cn),-1===It&&cn===Ct&&Zt===dn&&(It=Zt)),[-1===mt?-1:mt/(4*qe),-1===It?-1:It/(4*qe),ie]}static _renderLine(r,c,_,T,V,ie,he,ye,De,Pe,ze,qe,ot,Ct,mt){const It=ot.content,Zt=ot.tokens,cn=r.width-ie,dn=1===mt;let kn=$.y0,Vn=0,Fn=0;for(let On=0,Ln=Zt.getCount();On<Ln;On++){const pn=Zt.getEndOffset(On),Ni=Zt.getForeground(On),ni=he.getColor(Ni);for(;Vn<pn;Vn++){if(kn>cn)return;const Eo=It.charCodeAt(Vn);if(9===Eo){const bo=qe-(Vn+Fn)%qe;Fn+=bo-1,kn+=bo*ie}else if(32===Eo)kn+=ie;else{const bo=yn.K7(Eo)?2:1;for(let ti=0;ti<bo;ti++)if(2===V?De.blockRenderChar(r,kn,Pe+ze,ni,ye,c,_,dn):De.renderChar(r,kn,Pe+ze,Eo,ni,ye,c,_,Ct,T,dn),kn+=ie,kn>cn)return}}}}}class Co{constructor(r,c,_){this._startLineNumber=r,this._endLineNumber=c,this._defaultValue=_,this._values=[];for(let T=0,V=this._endLineNumber-this._startLineNumber+1;T<V;T++)this._values[T]=_}has(r){return this.get(r)!==this._defaultValue}set(r,c){r<this._startLineNumber||r>this._endLineNumber||(this._values[r-this._startLineNumber]=c)}get(r){return r<this._startLineNumber||r>this._endLineNumber?this._defaultValue:this._values[r-this._startLineNumber]}}(0,En.Ic)((ge,r)=>{const c=ge.getColor(to.CA6);c&&r.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${c}; }`);const _=ge.getColor(to.Xy4);_&&r.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${_}; }`);const T=ge.getColor(to.brw);T&&r.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${T}; }`);const V=ge.getColor(to._wn);V&&r.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${V} -6px 0 6px -6px inset; }`)}),m(3180);class Zr extends Ce{constructor(r){super(r);const _=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,this._domNode=(0,ce.X)(document.createElement("div")),Ae.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(r){const _=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,!0}addWidget(r){const c=(0,ce.X)(r.getDomNode());this._widgets[r.getId()]={widget:r,preference:null,domNode:c},c.setPosition("absolute"),c.setAttribute("widgetId",r.getId()),this._domNode.appendChild(c),this.setShouldRender()}setWidgetPosition(r,c){const _=this._widgets[r.getId()];return _.preference!==c&&(_.preference=c,this.setShouldRender(),!0)}removeWidget(r){const c=r.getId();if(this._widgets.hasOwnProperty(c)){const T=this._widgets[c].domNode.domNode;delete this._widgets[c],T.parentNode.removeChild(T),this.setShouldRender()}}_renderWidget(r){const c=r.domNode;null!==r.preference?0===r.preference?(c.setTop(0),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===r.preference?(c.setTop(this._editorHeight-c.domNode.clientHeight-2*this._horizontalScrollbarHeight),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===r.preference&&(c.setTop(0),c.domNode.style.right="50%"):c.unsetTop()}prepareRender(r){}render(r){this._domNode.setWidth(this._editorWidth);const c=Object.keys(this._widgets);for(let _=0,T=c.length;_<T;_++)this._renderWidget(this._widgets[c[_]])}}class qa{constructor(r,c){const _=r.options;this.lineHeight=_.get(59),this.pixelRatio=_.get(129),this.overviewRulerLanes=_.get(74),this.renderBorder=_.get(73);const T=c.getColor(ln.zw);this.borderColor=T?T.toString():null,this.hideCursor=_.get(52);const V=c.getColor(ln.n0);this.cursorColor=V?V.transparent(.7).toString():null,this.themeType=c.type;const ie=_.get(65),ye=ie.side,De=ie.enabled?c.getColor(ln.e_)||Di.RW.getDefaultBackground():null;this.backgroundColor=null===De||"left"===ye?null:xn.Il.Format.CSS.formatHex(De);const ze=_.get(131).overviewRuler;this.top=ze.top,this.right=ze.right,this.domWidth=ze.width,this.domHeight=ze.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[qe,ot]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=qe,this.w=ot}_initLanes(r,c,_){const T=c-r;if(_>=3){const V=Math.floor(T/3),ie=Math.floor(T/3),he=T-V-ie,De=r+V;return[[0,r,De,r,r+V+he,r,De,r],[0,V,he,V+he,ie,V+he+ie,he+ie,V+he+ie]]}if(2===_){const V=Math.floor(T/2),ie=T-V;return[[0,r,r,r,r+V,r,r,r],[0,V,V,V,ie,V+ie,V+ie,V+ie]]}return[[0,r,r,r,r,r,r,r],[0,T,T,T,T,T,T,T]]}equals(r){return this.lineHeight===r.lineHeight&&this.pixelRatio===r.pixelRatio&&this.overviewRulerLanes===r.overviewRulerLanes&&this.renderBorder===r.renderBorder&&this.borderColor===r.borderColor&&this.hideCursor===r.hideCursor&&this.cursorColor===r.cursorColor&&this.themeType===r.themeType&&this.backgroundColor===r.backgroundColor&&this.top===r.top&&this.right===r.right&&this.domWidth===r.domWidth&&this.domHeight===r.domHeight&&this.canvasWidth===r.canvasWidth&&this.canvasHeight===r.canvasHeight}}class vr extends Ce{constructor(r){super(r),this._domNode=(0,ce.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Di.RW.onDidChange(c=>{c.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(r){const c=new qa(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(c)||(this._settings=c,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,r&&this._render(),0))}onConfigurationChanged(r){return this._updateSettings(!1)}onCursorStateChanged(r){this._cursorPositions=[];for(let c=0,_=r.selections.length;c<_;c++)this._cursorPositions[c]=r.selections[c].getPosition();return this._cursorPositions.sort(Rt.L.compare),!0}onDecorationsChanged(r){return!!r.affectsOverviewRuler}onFlushed(r){return!0}onScrollChanged(r){return r.scrollHeightChanged}onZonesChanged(r){return!0}onThemeChanged(r){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(r){}render(r){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const r=this._settings.canvasWidth,c=this._settings.canvasHeight,_=this._settings.lineHeight,T=this._context.viewLayout,ie=c/this._context.viewLayout.getScrollHeight(),he=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),ye=6*this._settings.pixelRatio|0,De=ye/2|0,Pe=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?Pe.clearRect(0,0,r,c):(Pe.fillStyle=this._settings.backgroundColor,Pe.fillRect(0,0,r,c));const ze=this._settings.x,qe=this._settings.w;he.sort(be.SQ.cmp);for(const ot of he){const mt=ot.data;Pe.fillStyle=ot.color;let It=0,Zt=0,cn=0;for(let dn=0,kn=mt.length/3;dn<kn;dn++){const Vn=mt[3*dn],On=mt[3*dn+2];let Ln=T.getVerticalOffsetForLineNumber(mt[3*dn+1])*ie|0,pn=(T.getVerticalOffsetForLineNumber(On)+_)*ie|0;if(pn-Ln<ye){let ni=(Ln+pn)/2|0;ni<De?ni=De:ni+De>c&&(ni=c-De),Ln=ni-De,pn=ni+De}Ln>cn+1||Vn!==It?(0!==dn&&Pe.fillRect(ze[It],Zt,qe[It],cn-Zt),It=Vn,Zt=Ln,cn=pn):pn>cn&&(cn=pn)}Pe.fillRect(ze[It],Zt,qe[It],cn-Zt)}if(!this._settings.hideCursor&&this._settings.cursorColor){const ot=2*this._settings.pixelRatio|0,Ct=ot/2|0,mt=this._settings.x[7],It=this._settings.w[7];Pe.fillStyle=this._settings.cursorColor;let Zt=-100,cn=-100;for(let dn=0,kn=this._cursorPositions.length;dn<kn;dn++){let Fn=T.getVerticalOffsetForLineNumber(this._cursorPositions[dn].lineNumber)*ie|0;Fn<Ct?Fn=Ct:Fn+Ct>c&&(Fn=c-Ct);const On=Fn-Ct,Ln=On+ot;On>cn+1?(0!==dn&&Pe.fillRect(mt,Zt,It,cn-Zt),Zt=On,cn=Ln):Ln>cn&&(cn=Ln)}Pe.fillRect(mt,Zt,It,cn-Zt)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Pe.beginPath(),Pe.lineWidth=1,Pe.strokeStyle=this._settings.borderColor,Pe.moveTo(0,0),Pe.lineTo(0,c),Pe.stroke(),Pe.moveTo(0,0),Pe.lineTo(r,0),Pe.stroke())}}var ts=m(31321);class ar extends ue{constructor(r,c){super(),this._context=r;const _=this._context.configuration.options;this._domNode=(0,ce.X)(document.createElement("canvas")),this._domNode.setClassName(c),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new ts.Tj(T=>this._context.viewLayout.getVerticalOffsetForLineNumber(T)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(_.get(59)),this._zoneManager.setPixelRatio(_.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options;return r.hasChanged(59)&&(this._zoneManager.setLineHeight(c.get(59)),this._render()),r.hasChanged(129)&&(this._zoneManager.setPixelRatio(c.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(r){return this._render(),!0}onScrollChanged(r){return r.scrollHeightChanged&&(this._zoneManager.setOuterHeight(r.scrollHeight),this._render()),!0}onZonesChanged(r){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(r){this._domNode.setTop(r.top),this._domNode.setRight(r.right);let c=!1;c=this._zoneManager.setDOMWidth(r.width)||c,c=this._zoneManager.setDOMHeight(r.height)||c,c&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(r){this._zoneManager.setZones(r),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const r=this._zoneManager.getCanvasWidth(),c=this._zoneManager.getCanvasHeight(),_=this._zoneManager.resolveColorZones(),T=this._zoneManager.getId2Color(),V=this._domNode.domNode.getContext("2d");return V.clearRect(0,0,r,c),_.length>0&&this._renderOneLane(V,_,T,r),!0}_renderOneLane(r,c,_,T){let V=0,ie=0,he=0;for(const ye of c){const De=ye.colorId,Pe=ye.from,ze=ye.to;De!==V?(r.fillRect(0,ie,T,he-ie),V=De,r.fillStyle=_[V],ie=Pe,he=ze):he>=Pe?he=Math.max(he,ze):(r.fillRect(0,ie,T,he-ie),ie=Pe,he=ze)}r.fillRect(0,ie,T,he-ie)}}m(42835);class yl extends Ce{constructor(r){super(r),this.domNode=(0,ce.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const c=this._context.configuration.options;this._rulers=c.get(91),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(r){const c=this._context.configuration.options;return this._rulers=c.get(91),this._typicalHalfwidthCharacterWidth=c.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(r){return r.scrollHeightChanged}prepareRender(r){}_ensureRulersCount(){const r=this._renderedRulers.length,c=this._rulers.length;if(r===c)return;if(r<c){const{tabSize:T}=this._context.viewModel.model.getOptions(),V=T;let ie=c-r;for(;ie>0;){const he=(0,ce.X)(document.createElement("div"));he.setClassName("view-ruler"),he.setWidth(V),this.domNode.appendChild(he),this._renderedRulers.push(he),ie--}return}let _=r-c;for(;_>0;){const T=this._renderedRulers.pop();this.domNode.removeChild(T),_--}}render(r){this._ensureRulersCount();for(let c=0,_=this._rulers.length;c<_;c++){const T=this._renderedRulers[c],V=this._rulers[c];T.setBoxShadow(V.color?`1px 0 0 0 ${V.color} inset`:""),T.setHeight(Math.min(r.scrollHeight,1e6)),T.setLeft(V.column*this._typicalHalfwidthCharacterWidth)}}}(0,En.Ic)((ge,r)=>{const c=ge.getColor(ln.zk);c&&r.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${c} inset; }`)}),m(78432);class Gr extends Ce{constructor(r){super(r),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const _=this._context.configuration.options.get(92);this._useShadows=_.useShadows,this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const r=this._useShadows&&this._scrollTop>0;return this._shouldShow!==r&&(this._shouldShow=r,!0)}getDomNode(){return this._domNode}_updateWidth(){const c=this._context.configuration.options.get(131);this._width=0===c.minimap.renderMinimap||c.minimap.minimapWidth>0&&0===c.minimap.minimapLeft?c.width:c.width-c.minimap.minimapWidth-c.verticalScrollbarWidth}onConfigurationChanged(r){const _=this._context.configuration.options.get(92);return this._useShadows=_.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(r){return this._scrollTop=r.scrollTop,this._updateShouldShow()}prepareRender(r){}render(r){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,En.Ic)((ge,r)=>{const c=ge.getColor(to._wn);c&&r.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${c} 0 6px 6px -6px inset; }`)}),m(48761);class Xn{constructor(r){this.left=r.left,this.width=r.width,this.startStyle=null,this.endStyle=null}}class ca{constructor(r,c){this.lineNumber=r,this.ranges=c}}function Ar(ge){return new Xn(ge)}function Rs(ge){return new ca(ge.lineNumber,ge.ranges.map(Ar))}let pu=(()=>{class ge extends vn{constructor(c){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=c;const _=this._context.configuration.options;this._lineHeight=_.get(59),this._roundedSelection=_.get(90),this._typicalHalfwidthCharacterWidth=_.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(c){const _=this._context.configuration.options;return this._lineHeight=_.get(59),this._roundedSelection=_.get(90),this._typicalHalfwidthCharacterWidth=_.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(c){return this._selections=c.selections.slice(0),!0}onDecorationsChanged(c){return!0}onFlushed(c){return!0}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return c.scrollTopChanged}onZonesChanged(c){return!0}_visibleRangesHaveGaps(c){for(let _=0,T=c.length;_<T;_++)if(c[_].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(c,_,T){const V=this._typicalHalfwidthCharacterWidth/4;let ie=null,he=null;if(T&&T.length>0&&_.length>0){const ye=_[0].lineNumber;if(ye===c.startLineNumber)for(let Pe=0;!ie&&Pe<T.length;Pe++)T[Pe].lineNumber===ye&&(ie=T[Pe].ranges[0]);const De=_[_.length-1].lineNumber;if(De===c.endLineNumber)for(let Pe=T.length-1;!he&&Pe>=0;Pe--)T[Pe].lineNumber===De&&(he=T[Pe].ranges[0]);ie&&!ie.startStyle&&(ie=null),he&&!he.startStyle&&(he=null)}for(let ye=0,De=_.length;ye<De;ye++){const Pe=_[ye].ranges[0],ze=Pe.left,qe=Pe.left+Pe.width,ot={top:0,bottom:0},Ct={top:0,bottom:0};if(ye>0){const mt=_[ye-1].ranges[0].left,It=_[ye-1].ranges[0].left+_[ye-1].ranges[0].width;Qr(ze-mt)<V?ot.top=2:ze>mt&&(ot.top=1),Qr(qe-It)<V?Ct.top=2:mt<qe&&qe<It&&(Ct.top=1)}else ie&&(ot.top=ie.startStyle.top,Ct.top=ie.endStyle.top);if(ye+1<De){const mt=_[ye+1].ranges[0].left,It=_[ye+1].ranges[0].left+_[ye+1].ranges[0].width;Qr(ze-mt)<V?ot.bottom=2:mt<ze&&ze<It&&(ot.bottom=1),Qr(qe-It)<V?Ct.bottom=2:qe<It&&(Ct.bottom=1)}else he&&(ot.bottom=he.startStyle.bottom,Ct.bottom=he.endStyle.bottom);Pe.startStyle=ot,Pe.endStyle=Ct}}_getVisibleRangesWithStyle(c,_,T){const ie=(_.linesVisibleRangesForRange(c,!0)||[]).map(Rs);return!this._visibleRangesHaveGaps(ie)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(_.visibleRange,ie,T),ie}_createSelectionPiece(c,_,T,V,ie){return'<div class="cslr '+T+'" style="top:'+c.toString()+"px;left:"+V.toString()+"px;width:"+ie.toString()+"px;height:"+_+'px;"></div>'}_actualRenderOneSelection(c,_,T,V){if(0===V.length)return;const ie=!!V[0].ranges[0].startStyle,he=this._lineHeight.toString(),ye=(this._lineHeight-1).toString(),De=V[0].lineNumber,Pe=V[V.length-1].lineNumber;for(let ze=0,qe=V.length;ze<qe;ze++){const ot=V[ze],Ct=ot.lineNumber,mt=Ct-_,It=!T||Ct!==Pe&&Ct!==De?he:ye,Zt=T&&Ct===De?1:0;let cn="",dn="";for(let kn=0,Vn=ot.ranges.length;kn<Vn;kn++){const Fn=ot.ranges[kn];if(ie){const Ln=Fn.startStyle,pn=Fn.endStyle;if(1===Ln.top||1===Ln.bottom){cn+=this._createSelectionPiece(Zt,It,ge.SELECTION_CLASS_NAME,Fn.left-ge.ROUNDED_PIECE_WIDTH,ge.ROUNDED_PIECE_WIDTH);let Ni=ge.EDITOR_BACKGROUND_CLASS_NAME;1===Ln.top&&(Ni+=" "+ge.SELECTION_TOP_RIGHT),1===Ln.bottom&&(Ni+=" "+ge.SELECTION_BOTTOM_RIGHT),cn+=this._createSelectionPiece(Zt,It,Ni,Fn.left-ge.ROUNDED_PIECE_WIDTH,ge.ROUNDED_PIECE_WIDTH)}if(1===pn.top||1===pn.bottom){cn+=this._createSelectionPiece(Zt,It,ge.SELECTION_CLASS_NAME,Fn.left+Fn.width,ge.ROUNDED_PIECE_WIDTH);let Ni=ge.EDITOR_BACKGROUND_CLASS_NAME;1===pn.top&&(Ni+=" "+ge.SELECTION_TOP_LEFT),1===pn.bottom&&(Ni+=" "+ge.SELECTION_BOTTOM_LEFT),cn+=this._createSelectionPiece(Zt,It,Ni,Fn.left+Fn.width,ge.ROUNDED_PIECE_WIDTH)}}let On=ge.SELECTION_CLASS_NAME;if(ie){const Ln=Fn.startStyle,pn=Fn.endStyle;0===Ln.top&&(On+=" "+ge.SELECTION_TOP_LEFT),0===Ln.bottom&&(On+=" "+ge.SELECTION_BOTTOM_LEFT),0===pn.top&&(On+=" "+ge.SELECTION_TOP_RIGHT),0===pn.bottom&&(On+=" "+ge.SELECTION_BOTTOM_RIGHT)}dn+=this._createSelectionPiece(Zt,It,On,Fn.left,Fn.width)}c[mt][0]+=cn,c[mt][1]+=dn}}prepareRender(c){const _=[],T=c.visibleRange.startLineNumber,V=c.visibleRange.endLineNumber;for(let he=T;he<=V;he++)_[he-T]=["",""];const ie=[];for(let he=0,ye=this._selections.length;he<ye;he++){const De=this._selections[he];if(De.isEmpty()){ie[he]=null;continue}const Pe=this._getVisibleRangesWithStyle(De,c,this._previousFrameVisibleRangesWithStyle[he]);ie[he]=Pe,this._actualRenderOneSelection(_,T,this._selections.length>1,Pe)}this._previousFrameVisibleRangesWithStyle=ie,this._renderResult=_.map(([he,ye])=>he+ye)}render(c,_){if(!this._renderResult)return"";const T=_-c;return T<0||T>=this._renderResult.length?"":this._renderResult[T]}}return ge.SELECTION_CLASS_NAME="selected-text",ge.SELECTION_TOP_LEFT="top-left-radius",ge.SELECTION_BOTTOM_LEFT="bottom-left-radius",ge.SELECTION_TOP_RIGHT="top-right-radius",ge.SELECTION_BOTTOM_RIGHT="bottom-right-radius",ge.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",ge.ROUNDED_PIECE_WIDTH=10,ge})();function Qr(ge){return ge<0?-ge:ge}(0,En.Ic)((ge,r)=>{const c=ge.getColor(to.hEj);c&&r.addRule(`.monaco-editor .focused .selected-text { background-color: ${c}; }`);const _=ge.getColor(to.ES4);_&&r.addRule(`.monaco-editor .selected-text { background-color: ${_}; }`);const T=ge.getColor(to.yb5);T&&!T.isTransparent()&&r.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${T}; }`)}),m(9442);class da{constructor(r,c,_,T,V,ie){this.top=r,this.left=c,this.width=_,this.height=T,this.textContent=V,this.textContentClassName=ie}}class el{constructor(r){this._context=r;const c=this._context.configuration.options,_=c.get(44);this._cursorStyle=c.get(24),this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${_i.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,_n.N)(this._domNode,_),this._domNode.setDisplay("none"),this._position=new Rt.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(44);return this._cursorStyle=c.get(24),this._lineHeight=c.get(59),this._typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),(0,_n.N)(this._domNode,_),!0}onCursorPositionChanged(r){return this._position=r,!0}_getGraphemeAwarePosition(){const{lineNumber:r,column:c}=this._position,_=this._context.viewModel.getLineContent(r),[T,V]=yn.J_(_,c-1);return[new Rt.L(r,T+1),_.substring(T,V)]}_prepareRender(r){let c="";const[_,T]=this._getGraphemeAwarePosition();if(this._cursorStyle===$.d2.Line||this._cursorStyle===$.d2.LineThin){const qe=r.visibleRangeForPosition(_);if(!qe||qe.outsideRenderedLine)return null;let ot;this._cursorStyle===$.d2.Line?(ot=F.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),ot>2&&(c=T)):ot=F.Uh(1);let Ct=qe.left;ot>=2&&Ct>=1&&(Ct-=1);const mt=r.getVerticalOffsetForLineNumber(_.lineNumber)-r.bigNumbersDelta;return new da(mt,Ct,ot,this._lineHeight,c,"")}const V=r.linesVisibleRangesForRange(new Mt.e(_.lineNumber,_.column,_.lineNumber,_.column+T.length),!1);if(!V||0===V.length)return null;const ie=V[0];if(ie.outsideRenderedLine||0===ie.ranges.length)return null;const he=ie.ranges[0],ye=he.width<1?this._typicalHalfwidthCharacterWidth:he.width;let De="";if(this._cursorStyle===$.d2.Block){const qe=this._context.viewModel.getViewLineData(_.lineNumber);c=T;const ot=qe.tokens.findTokenIndexAtOffset(_.column-1);De=qe.tokens.getClassName(ot)}let Pe=r.getVerticalOffsetForLineNumber(_.lineNumber)-r.bigNumbersDelta,ze=this._lineHeight;return(this._cursorStyle===$.d2.Underline||this._cursorStyle===$.d2.UnderlineThin)&&(Pe+=this._lineHeight-2,ze=2),new da(Pe,he.left,ye,ze,c,De)}prepareRender(r){this._renderData=this._prepareRender(r)}render(r){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${_i.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let rc=(()=>{class ge extends Ce{constructor(c){super(c);const _=this._context.configuration.options;this._readOnly=_.get(81),this._cursorBlinking=_.get(22),this._cursorStyle=_.get(24),this._cursorSmoothCaretAnimation=_.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new el(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new We._F,this._cursorFlatBlinkInterval=new We.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(c){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(c){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(c){const _=this._context.configuration.options;this._readOnly=_.get(81),this._cursorBlinking=_.get(22),this._cursorStyle=_.get(24),this._cursorSmoothCaretAnimation=_.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(c);for(let T=0,V=this._secondaryCursors.length;T<V;T++)this._secondaryCursors[T].onConfigurationChanged(c);return!0}_onCursorPositionChanged(c,_){if(this._primaryCursor.onCursorPositionChanged(c),this._updateBlinking(),this._secondaryCursors.length<_.length){const T=_.length-this._secondaryCursors.length;for(let V=0;V<T;V++){const ie=new el(this._context);this._domNode.domNode.insertBefore(ie.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(ie)}}else if(this._secondaryCursors.length>_.length){const T=this._secondaryCursors.length-_.length;for(let V=0;V<T;V++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let T=0;T<_.length;T++)this._secondaryCursors[T].onCursorPositionChanged(_[T])}onCursorStateChanged(c){const _=[];for(let V=0,ie=c.selections.length;V<ie;V++)_[V]=c.selections[V].getPosition();this._onCursorPositionChanged(_[0],_.slice(1));const T=c.selections[0].isEmpty();return this._selectionIsEmpty!==T&&(this._selectionIsEmpty=T,this._updateDomClassName()),!0}onDecorationsChanged(c){return!0}onFlushed(c){return!0}onFocusChanged(c){return this._editorHasFocus=c.isFocused,this._updateBlinking(),!1}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return!0}onTokensChanged(c){const _=T=>{for(let V=0,ie=c.ranges.length;V<ie;V++)if(c.ranges[V].fromLineNumber<=T.lineNumber&&T.lineNumber<=c.ranges[V].toLineNumber)return!0;return!1};if(_(this._primaryCursor.getPosition()))return!0;for(const T of this._secondaryCursors)if(_(T.getPosition()))return!0;return!1}onZonesChanged(c){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const c=this._getCursorBlinking(),_=0===c,T=5===c;_?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!_&&!T&&(1===c?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},ge.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},ge.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let c="cursors-layer";switch(this._selectionIsEmpty||(c+=" has-selection"),this._cursorStyle){default:c+=" cursor-line-style";break;case $.d2.Block:c+=" cursor-block-style";break;case $.d2.Underline:c+=" cursor-underline-style";break;case $.d2.LineThin:c+=" cursor-line-thin-style";break;case $.d2.BlockOutline:c+=" cursor-block-outline-style";break;case $.d2.UnderlineThin:c+=" cursor-underline-thin-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:c+=" cursor-blink";break;case 2:c+=" cursor-smooth";break;case 3:c+=" cursor-phase";break;case 4:c+=" cursor-expand";break;default:c+=" cursor-solid"}else c+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(c+=" cursor-smooth-caret-animation"),c}_show(){this._primaryCursor.show();for(let c=0,_=this._secondaryCursors.length;c<_;c++)this._secondaryCursors[c].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let c=0,_=this._secondaryCursors.length;c<_;c++)this._secondaryCursors[c].hide();this._isVisible=!1}prepareRender(c){this._primaryCursor.prepareRender(c);for(let _=0,T=this._secondaryCursors.length;_<T;_++)this._secondaryCursors[_].prepareRender(c)}render(c){const _=[];let T=0;const V=this._primaryCursor.render(c);V&&(_[T++]=V);for(let ie=0,he=this._secondaryCursors.length;ie<he;ie++){const ye=this._secondaryCursors[ie].render(c);ye&&(_[T++]=ye)}this._renderData=_}getLastRenderData(){return this._renderData}}return ge.BLINK_INTERVAL=500,ge})();(0,En.Ic)((ge,r)=>{const c=ge.getColor(ln.n0);if(c){let _=ge.getColor(ln.fY);_||(_=c.opposite()),r.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${c}; }`),r.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${c}; border-color: ${c}; color: ${_}; }`),"hc"===ge.type&&r.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${_}; border-right: 1px solid ${_}; }`)}});const ua=()=>{throw new Error("Invalid change accessor")};class Ma extends Ce{constructor(r){super(r);const c=this._context.configuration.options,_=c.get(131);this._lineHeight=c.get(59),this._contentWidth=_.contentWidth,this._contentLeft=_.contentLeft,this.domNode=(0,ce.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,ce.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const r=this._context.viewLayout.getWhitespaces(),c=new Map;for(const T of r)c.set(T.id,T);let _=!1;return this._context.viewModel.changeWhitespace(T=>{const V=Object.keys(this._zones);for(let ie=0,he=V.length;ie<he;ie++){const ye=V[ie],De=this._zones[ye],Pe=this._computeWhitespaceProps(De.delegate);De.isInHiddenArea=Pe.isInHiddenArea;const ze=c.get(ye);ze&&(ze.afterLineNumber!==Pe.afterViewLineNumber||ze.height!==Pe.heightInPx)&&(T.changeOneWhitespace(ye,Pe.afterViewLineNumber,Pe.heightInPx),this._safeCallOnComputedHeight(De.delegate,Pe.heightInPx),_=!0)}}),_}onConfigurationChanged(r){const c=this._context.configuration.options,_=c.get(131);return this._lineHeight=c.get(59),this._contentWidth=_.contentWidth,this._contentLeft=_.contentLeft,r.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(r){return this._recomputeWhitespacesProps()}onLinesDeleted(r){return!0}onScrollChanged(r){return r.scrollTopChanged||r.scrollWidthChanged}onZonesChanged(r){return!0}onLinesInserted(r){return!0}_getZoneOrdinal(r){return void 0!==r.afterColumn?r.afterColumn:1e4}_computeWhitespaceProps(r){if(0===r.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(r),minWidthInPx:this._minWidthInPixels(r)};let c,_;if(void 0!==r.afterColumn)c=this._context.viewModel.model.validatePosition({lineNumber:r.afterLineNumber,column:r.afterColumn});else{const ie=this._context.viewModel.model.validatePosition({lineNumber:r.afterLineNumber,column:1}).lineNumber;c=new Rt.L(ie,this._context.viewModel.model.getLineMaxColumn(ie))}_=c.column===this._context.viewModel.model.getLineMaxColumn(c.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber,column:c.column+1});const T=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c,r.afterColumnAffinity),V=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(_);return{isInHiddenArea:!V,afterViewLineNumber:T.lineNumber,heightInPx:V?this._heightInPixels(r):0,minWidthInPx:this._minWidthInPixels(r)}}changeViewZones(r){let c=!1;return this._context.viewModel.changeWhitespace(_=>{const T={addZone:V=>(c=!0,this._addZone(_,V)),removeZone:V=>{!V||(c=this._removeZone(_,V)||c)},layoutZone:V=>{!V||(c=this._layoutZone(_,V)||c)}};(function(ge,r){try{ge(r)}catch(c){(0,k.dL)(c)}})(r,T),T.addZone=ua,T.removeZone=ua,T.layoutZone=ua}),c}_addZone(r,c){const _=this._computeWhitespaceProps(c),V={whitespaceId:r.insertWhitespace(_.afterViewLineNumber,this._getZoneOrdinal(c),_.heightInPx,_.minWidthInPx),delegate:c,isInHiddenArea:_.isInHiddenArea,isVisible:!1,domNode:(0,ce.X)(c.domNode),marginDomNode:c.marginDomNode?(0,ce.X)(c.marginDomNode):null};return this._safeCallOnComputedHeight(V.delegate,_.heightInPx),V.domNode.setPosition("absolute"),V.domNode.domNode.style.width="100%",V.domNode.setDisplay("none"),V.domNode.setAttribute("monaco-view-zone",V.whitespaceId),this.domNode.appendChild(V.domNode),V.marginDomNode&&(V.marginDomNode.setPosition("absolute"),V.marginDomNode.domNode.style.width="100%",V.marginDomNode.setDisplay("none"),V.marginDomNode.setAttribute("monaco-view-zone",V.whitespaceId),this.marginDomNode.appendChild(V.marginDomNode)),this._zones[V.whitespaceId]=V,this.setShouldRender(),V.whitespaceId}_removeZone(r,c){if(this._zones.hasOwnProperty(c)){const _=this._zones[c];return delete this._zones[c],r.removeWhitespace(_.whitespaceId),_.domNode.removeAttribute("monaco-visible-view-zone"),_.domNode.removeAttribute("monaco-view-zone"),_.domNode.domNode.parentNode.removeChild(_.domNode.domNode),_.marginDomNode&&(_.marginDomNode.removeAttribute("monaco-visible-view-zone"),_.marginDomNode.removeAttribute("monaco-view-zone"),_.marginDomNode.domNode.parentNode.removeChild(_.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(r,c){if(this._zones.hasOwnProperty(c)){const _=this._zones[c],T=this._computeWhitespaceProps(_.delegate);return _.isInHiddenArea=T.isInHiddenArea,r.changeOneWhitespace(_.whitespaceId,T.afterViewLineNumber,T.heightInPx),this._safeCallOnComputedHeight(_.delegate,T.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(r){return!!this._zones.hasOwnProperty(r)&&Boolean(this._zones[r].delegate.suppressMouseDown)}_heightInPixels(r){return"number"==typeof r.heightInPx?r.heightInPx:"number"==typeof r.heightInLines?this._lineHeight*r.heightInLines:this._lineHeight}_minWidthInPixels(r){return"number"==typeof r.minWidthInPx?r.minWidthInPx:0}_safeCallOnComputedHeight(r,c){if("function"==typeof r.onComputedHeight)try{r.onComputedHeight(c)}catch(_){(0,k.dL)(_)}}_safeCallOnDomNodeTop(r,c){if("function"==typeof r.onDomNodeTop)try{r.onDomNodeTop(c)}catch(_){(0,k.dL)(_)}}prepareRender(r){}render(r){const c=r.viewportData.whitespaceViewportData,_={};let T=!1;for(const ie of c)this._zones[ie.id].isInHiddenArea||(_[ie.id]=ie,T=!0);const V=Object.keys(this._zones);for(let ie=0,he=V.length;ie<he;ie++){const ye=V[ie],De=this._zones[ye];let Pe=0,ze=0,qe="none";_.hasOwnProperty(ye)?(Pe=_[ye].verticalOffset-r.bigNumbersDelta,ze=_[ye].height,qe="block",De.isVisible||(De.domNode.setAttribute("monaco-visible-view-zone","true"),De.isVisible=!0),this._safeCallOnDomNodeTop(De.delegate,r.getScrolledTopFromAbsoluteTop(_[ye].verticalOffset))):(De.isVisible&&(De.domNode.removeAttribute("monaco-visible-view-zone"),De.isVisible=!1),this._safeCallOnDomNodeTop(De.delegate,r.getScrolledTopFromAbsoluteTop(-1e6))),De.domNode.setTop(Pe),De.domNode.setHeight(ze),De.domNode.setDisplay(qe),De.marginDomNode&&(De.marginDomNode.setTop(Pe),De.marginDomNode.setHeight(ze),De.marginDomNode.setDisplay(qe))}T&&(this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class od{constructor(r){this._theme=r}get type(){return this._theme.type}get value(){return this._theme}update(r){this._theme=r}getColor(r){return this._theme.getColor(r)}}class lc{constructor(r,c,_){this.configuration=r,this.theme=new od(c),this.viewModel=_,this.viewLayout=_.viewLayout}addEventHandler(r){this.viewModel.addViewEventHandler(r)}removeEventHandler(r){this.viewModel.removeViewEventHandler(r)}}class Sl{constructor(r,c,_,T){this.selections=r,this.startLineNumber=0|c.startLineNumber,this.endLineNumber=0|c.endLineNumber,this.relativeVerticalOffset=c.relativeVerticalOffset,this.bigNumbersDelta=0|c.bigNumbersDelta,this.whitespaceViewportData=_,this._model=T,this.visibleRange=new Mt.e(c.startLineNumber,this._model.getLineMinColumn(c.startLineNumber),c.endLineNumber,this._model.getLineMaxColumn(c.endLineNumber))}getViewLineRenderingData(r){return this._model.getViewLineRenderingData(this.visibleRange,r)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class cc extends ue{constructor(r,c,_,T,V,ie){super(),this._selections=[new re.Y(1,1,1,1)],this._renderAnimationFrame=null;const he=new Ti(c,T,V,r);this._context=new lc(c,_,T),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new pi(this._context,he,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,ce.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,ce.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,ce.X)(document.createElement("div")),Ae.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Pr(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new fs(this._context,this._linesContent),this._viewZones=new Ma(this._context),this._viewParts.push(this._viewZones);const ye=new vr(this._context);this._viewParts.push(ye);const De=new Gr(this._context);this._viewParts.push(De);const Pe=new ko(this._context);this._viewParts.push(Pe),Pe.addDynamicOverlay(new ds(this._context)),Pe.addDynamicOverlay(new pu(this._context)),Pe.addDynamicOverlay(new xs(this._context)),Pe.addDynamicOverlay(new Ps(this._context));const ze=new yo(this._context);this._viewParts.push(ze),ze.addDynamicOverlay(new qo(this._context)),ze.addDynamicOverlay(new rs(this._context)),ze.addDynamicOverlay(new h(this._context)),ze.addDynamicOverlay(new yt(this._context)),ze.addDynamicOverlay(new In(this._context));const qe=new Kn(this._context);qe.getDomNode().appendChild(this._viewZones.marginDomNode),qe.getDomNode().appendChild(ze.getDomNode()),this._viewParts.push(qe),this._contentWidgets=new To(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new rc(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Zr(this._context),this._viewParts.push(this._overlayWidgets);const ot=new yl(this._context);this._viewParts.push(ot);const Ct=new ps(this._context);if(this._viewParts.push(Ct),ye){const mt=this._scrollbar.getOverviewRulerLayoutInfo();mt.parent.insertBefore(ye.getDomNode(),mt.insertBefore)}this._linesContent.appendChild(Pe.getDomNode()),this._linesContent.appendChild(ot.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(qe.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(De.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(Ct.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),ie?ie.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new en(this._context,he,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:r=>{this._textAreaHandler.textArea.domNode.dispatchEvent(r)},getLastRenderData:()=>{const r=this._viewCursors.getLastRenderData()||[],c=this._textAreaHandler.getLastRenderData();return new He(r,c)},shouldSuppressMouseDownOnViewZone:r=>this._viewZones.shouldSuppressMouseDownOnViewZone(r),shouldSuppressMouseDownOnWidget:r=>this._contentWidgets.shouldSuppressMouseDownOnWidget(r),getPositionFromDOMInfo:(r,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(r,c)),visibleRangeForPosition:(r,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Rt.L(r,c))),getLineWidth:r=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(r))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:r=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(r))}}_applyLayout(){const c=this._context.configuration.options.get(131);this.domNode.setWidth(c.width),this.domNode.setHeight(c.height),this._overflowGuardContainer.setWidth(c.width),this._overflowGuardContainer.setHeight(c.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const r=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+(0,En.m6)(this._context.theme.type)+r}handleEvents(r){super.handleEvents(r),this._scheduleRender()}onConfigurationChanged(r){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(r){return this._selections=r.selections,!1}onFocusChanged(r){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(r){return this._context.theme.update(r.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const r of this._viewParts)r.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=F.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(ge){try{ge()}catch(r){(0,k.dL)(r)}}(()=>this._actualRender())}_getViewPartsToRender(){const r=[];let c=0;for(const _ of this._viewParts)_.shouldRender()&&(r[c++]=_);return r}_actualRender(){if(!F.Uw(this.domNode.domNode))return;let r=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===r.length)return;const c=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(c.startLineNumber,c.endLineNumber,c.centeredLineNumber);const _=new Sl(this._selections,c,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(_),this._viewLines.shouldRender()&&(this._viewLines.renderText(_),this._viewLines.onDidRender(),r=this._getViewPartsToRender());const T=new $e(this._context.viewLayout,_,this._viewLines);for(const V of r)V.prepareRender(T);for(const V of r)V.render(T),V.onDidRender()}delegateVerticalScrollbarMouseDown(r){this._scrollbar.delegateVerticalScrollbarMouseDown(r)}restoreState(r){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:r.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:r.scrollLeft},1)}getOffsetForColumn(r,c){const _=this._context.viewModel.model.validatePosition({lineNumber:r,column:c}),T=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(_);this._flushAccumulatedAndRenderNow();const V=this._viewLines.visibleRangeForPosition(new Rt.L(T.lineNumber,T.column));return V?V.left:-1}getTargetAtClientPoint(r,c){const _=this._pointerHandler.getTargetAtClientPoint(r,c);return _?ei.convertViewToModelMouseTarget(_,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(r){return new ar(this._context,r)}change(r){this._viewZones.changeViewZones(r),this._scheduleRender()}render(r,c){if(c){this._viewLines.forceShouldRender();for(const _ of this._viewParts)_.forceShouldRender()}r?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(r){this._textAreaHandler.setAriaOptions(r)}addContentWidget(r){this._contentWidgets.addWidget(r.widget),this.layoutContentWidget(r),this._scheduleRender()}layoutContentWidget(r){let c=r.position&&r.position.range||null;if(null===c){const T=r.position?r.position.position:null;null!==T&&(c=new Mt.e(T.lineNumber,T.column,T.lineNumber,T.column))}this._contentWidgets.setWidgetPosition(r.widget,c,r.position?r.position.preference:null),this._scheduleRender()}removeContentWidget(r){this._contentWidgets.removeWidget(r.widget),this._scheduleRender()}addOverlayWidget(r){this._overlayWidgets.addWidget(r.widget),this.layoutOverlayWidget(r),this._scheduleRender()}layoutOverlayWidget(r){this._overlayWidgets.setWidgetPosition(r.widget,r.position?r.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(r){this._overlayWidgets.removeWidget(r.widget),this._scheduleRender()}}var Po=m(35590);class Ll{constructor(r){this._selTrackedRange=null,this._trackSelection=!0,this._setState(r,new Po.rS(new Mt.e(1,1,1,1),0,new Rt.L(1,1),0),new Po.rS(new Mt.e(1,1,1,1),0,new Rt.L(1,1),0))}dispose(r){this._removeTrackedRange(r)}startTrackingSelection(r){this._trackSelection=!0,this._updateTrackedRange(r)}stopTrackingSelection(r){this._trackSelection=!1,this._removeTrackedRange(r)}_updateTrackedRange(r){!this._trackSelection||(this._selTrackedRange=r.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(r){this._selTrackedRange=r.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Po.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(r){const c=r.model._getTrackedRange(this._selTrackedRange);return re.Y.fromRange(c,this.modelState.selection.getDirection())}ensureValidState(r){this._setState(r,this.modelState,this.viewState)}setState(r,c,_){this._setState(r,c,_)}static _validatePositionWithCache(r,c,_,T){return c.equals(_)?T:r.normalizePosition(c,2)}static _validateViewState(r,c){const _=c.position,T=c.selectionStart.getStartPosition(),V=c.selectionStart.getEndPosition(),ie=r.normalizePosition(_,2),he=this._validatePositionWithCache(r,T,_,ie),ye=this._validatePositionWithCache(r,V,T,he);return _.equals(ie)&&T.equals(he)&&V.equals(ye)?c:new Po.rS(Mt.e.fromPositions(he,ye),c.selectionStartLeftoverVisibleColumns+T.column-he.column,ie,c.leftoverVisibleColumns+_.column-ie.column)}_setState(r,c,_){if(_&&(_=Ll._validateViewState(r.viewModel,_)),c){const T=r.model.validateRange(c.selectionStart),V=c.selectionStart.equalsRange(T)?c.selectionStartLeftoverVisibleColumns:0,ie=r.model.validatePosition(c.position),he=c.position.equals(ie)?c.leftoverVisibleColumns:0;c=new Po.rS(T,V,ie,he)}else{if(!_)return;const T=r.model.validateRange(r.coordinatesConverter.convertViewRangeToModelRange(_.selectionStart)),V=r.model.validatePosition(r.coordinatesConverter.convertViewPositionToModelPosition(_.position));c=new Po.rS(T,_.selectionStartLeftoverVisibleColumns,V,_.leftoverVisibleColumns)}if(_){const T=r.coordinatesConverter.validateViewRange(_.selectionStart,c.selectionStart),V=r.coordinatesConverter.validateViewPosition(_.position,c.position);_=new Po.rS(T,c.selectionStartLeftoverVisibleColumns,V,c.leftoverVisibleColumns)}else{const T=r.coordinatesConverter.convertModelPositionToViewPosition(new Rt.L(c.selectionStart.startLineNumber,c.selectionStart.startColumn)),V=r.coordinatesConverter.convertModelPositionToViewPosition(new Rt.L(c.selectionStart.endLineNumber,c.selectionStart.endColumn)),ie=new Mt.e(T.lineNumber,T.column,V.lineNumber,V.column),he=r.coordinatesConverter.convertModelPositionToViewPosition(c.position);_=new Po.rS(ie,c.selectionStartLeftoverVisibleColumns,he,c.leftoverVisibleColumns)}this.modelState=c,this.viewState=_,this._updateTrackedRange(r)}}class Ls{constructor(r){this.context=r,this.cursors=[new Ll(r)],this.lastAddedCursorIndex=0}dispose(){for(const r of this.cursors)r.dispose(this.context)}startTrackingSelections(){for(const r of this.cursors)r.startTrackingSelection(this.context)}stopTrackingSelections(){for(const r of this.cursors)r.stopTrackingSelection(this.context)}updateContext(r){this.context=r}ensureValidState(){for(const r of this.cursors)r.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(r=>r.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(r=>r.asCursorState())}getViewPositions(){return this.cursors.map(r=>r.viewState.position)}getTopMostViewPosition(){return(0,f.VJ)(this.cursors,(0,f.tT)(r=>r.viewState.position,Rt.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,f.jV)(this.cursors,(0,f.tT)(r=>r.viewState.position,Rt.L.compare)).viewState.position}getSelections(){return this.cursors.map(r=>r.modelState.selection)}getViewSelections(){return this.cursors.map(r=>r.viewState.selection)}setSelections(r){this.setStates(Po.Vi.fromModelSelections(r))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(r){null!==r&&(this.cursors[0].setState(this.context,r[0].modelState,r[0].viewState),this._setSecondaryStates(r.slice(1)))}_setSecondaryStates(r){const c=this.cursors.length-1,_=r.length;if(c<_){const T=_-c;for(let V=0;V<T;V++)this._addSecondaryCursor()}else if(c>_){const T=c-_;for(let V=0;V<T;V++)this._removeSecondaryCursor(this.cursors.length-2)}for(let T=0;T<_;T++)this.cursors[T+1].setState(this.context,r[T].modelState,r[T].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Ll(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(r){this.lastAddedCursorIndex>=r+1&&this.lastAddedCursorIndex--,this.cursors[r+1].dispose(this.context),this.cursors.splice(r+1,1)}normalize(){if(1===this.cursors.length)return;const r=this.cursors.slice(0),c=[];for(let _=0,T=r.length;_<T;_++)c.push({index:_,selection:r[_].modelState.selection});c.sort((0,f.tT)(_=>_.selection,Mt.e.compareRangesUsingStarts));for(let _=0;_<c.length-1;_++){const T=c[_],V=c[_+1],ie=T.selection,he=V.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let ye;if(ye=he.isEmpty()||ie.isEmpty()?he.getStartPosition().isBeforeOrEqual(ie.getEndPosition()):he.getStartPosition().isBefore(ie.getEndPosition()),ye){const De=T.index<V.index?_:_+1,Pe=T.index<V.index?_+1:_,ze=c[Pe].index,qe=c[De].index,ot=c[Pe].selection,Ct=c[De].selection;if(!ot.equalsSelection(Ct)){const mt=ot.plusRange(Ct),It=ot.selectionStartLineNumber===ot.startLineNumber&&ot.selectionStartColumn===ot.startColumn,Zt=Ct.selectionStartLineNumber===Ct.startLineNumber&&Ct.selectionStartColumn===Ct.startColumn;let cn,dn;ze===this.lastAddedCursorIndex?(cn=It,this.lastAddedCursorIndex=qe):cn=Zt,dn=cn?new re.Y(mt.startLineNumber,mt.startColumn,mt.endLineNumber,mt.endColumn):new re.Y(mt.endLineNumber,mt.endColumn,mt.startLineNumber,mt.startColumn),c[De].selection=dn;const kn=Po.Vi.fromModelSelection(dn);r[qe].setState(this.context,kn.modelState,kn.viewState)}for(const mt of c)mt.index>ze&&mt.index--;r.splice(ze,1),c.splice(Pe,1),this._removeSecondaryCursor(ze-1),_--}}}}class Rr{constructor(r,c,_,T){this._cursorContextBrand=void 0,this.model=r,this.viewModel=c,this.coordinatesConverter=_,this.cursorConfig=T}}var dc=m(17666),cr=m(8418),Ys=m(87604);class Na{constructor(){this.type=0}}class _u{constructor(){this.type=1}}class Dl{constructor(r){this.type=2,this._source=r}hasChanged(r){return this._source.hasChanged(r)}}class Cu{constructor(r,c){this.type=3,this.selections=r,this.modelSelections=c}}class Fr{constructor(r){this.type=4,r?(this.affectsMinimap=r.affectsMinimap,this.affectsOverviewRuler=r.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class tl{constructor(){this.type=5}}class bu{constructor(r){this.type=6,this.isFocused=r}}class sd{constructor(){this.type=7}}class Br{constructor(){this.type=8}}class wr{constructor(r,c){this.type=9,this.fromLineNumber=r,this.toLineNumber=c}}class gi{constructor(r,c){this.type=10,this.fromLineNumber=r,this.toLineNumber=c}}class ns{constructor(r,c){this.type=11,this.fromLineNumber=r,this.toLineNumber=c}}class us{constructor(r,c,_,T,V,ie,he){this.source=r,this.minimalReveal=c,this.range=_,this.selections=T,this.verticalType=V,this.revealHorizontal=ie,this.scrollType=he,this.type=12}}class Ds{constructor(r){this.type=13,this.scrollWidth=r.scrollWidth,this.scrollLeft=r.scrollLeft,this.scrollHeight=r.scrollHeight,this.scrollTop=r.scrollTop,this.scrollWidthChanged=r.scrollWidthChanged,this.scrollLeftChanged=r.scrollLeftChanged,this.scrollHeightChanged=r.scrollHeightChanged,this.scrollTopChanged=r.scrollTopChanged}}class Zo{constructor(r){this.theme=r,this.type=14}}class Es{constructor(r){this.type=15,this.ranges=r}}class uc{constructor(){this.type=16}}class Ia{constructor(){this.type=17}}class Oi extends C.JT{constructor(){super(),this._onEvent=this._register(new y.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(r){this._addOutgoingEvent(r),this._emitOutgoingEvents()}_addOutgoingEvent(r){for(let c=0,_=this._outgoingEvents.length;c<_;c++)if(this._outgoingEvents[c].kind===r.kind)return void(this._outgoingEvents[c]=this._outgoingEvents[c].merge(r));this._outgoingEvents.push(r)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const r=this._outgoingEvents.shift();r.isNoOp()||this._onEvent.fire(r)}}addViewEventHandler(r){for(let c=0,_=this._eventHandlers.length;c<_;c++)this._eventHandlers[c]===r&&console.warn("Detected duplicate listener in ViewEventDispatcher",r);this._eventHandlers.push(r)}removeViewEventHandler(r){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===r){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new $i),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const r=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const _ of r)this._addOutgoingEvent(_);c.length>0&&this._emitMany(c)}this._emitOutgoingEvents()}emitSingleViewEvent(r){try{this.beginEmitViewEvents().emitViewEvent(r)}finally{this.endEmitViewEvents()}}_emitMany(r){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(r):r,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const r=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const _ of c)_.handleEvents(r)}}}class $i{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(r){this.viewEvents.push(r)}emitOutgoingEvent(r){this.outgoingEvents.push(r)}}class Vo{constructor(r,c,_,T){this.kind=0,this._oldContentWidth=r,this._oldContentHeight=c,this.contentWidth=_,this.contentHeight=T,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(r){return 0!==r.kind?this:new Vo(this._oldContentWidth,this._oldContentHeight,r.contentWidth,r.contentHeight)}}class Ji{constructor(r,c){this.kind=1,this.oldHasFocus=r,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(r){return 1!==r.kind?this:new Ji(this.oldHasFocus,r.hasFocus)}}class Go{constructor(r,c,_,T,V,ie,he,ye){this.kind=2,this._oldScrollWidth=r,this._oldScrollLeft=c,this._oldScrollHeight=_,this._oldScrollTop=T,this.scrollWidth=V,this.scrollLeft=ie,this.scrollHeight=he,this.scrollTop=ye,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(r){return 2!==r.kind?this:new Go(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,r.scrollWidth,r.scrollLeft,r.scrollHeight,r.scrollTop)}}class is{constructor(){this.kind=3}isNoOp(){return!1}merge(r){return this}}class ha{constructor(r,c,_,T,V,ie,he){this.kind=6,this.oldSelections=r,this.selections=c,this.oldModelVersionId=_,this.modelVersionId=T,this.source=V,this.reason=ie,this.reachedMaxCursorCount=he}static _selectionsAreEqual(r,c){if(!r&&!c)return!0;if(!r||!c)return!1;const _=r.length;if(_!==c.length)return!1;for(let V=0;V<_;V++)if(!r[V].equalsSelection(c[V]))return!1;return!0}isNoOp(){return ha._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(r){return 6!==r.kind?this:new ha(this.oldSelections,r.selections,this.oldModelVersionId,r.modelVersionId,r.source,r.reason,this.reachedMaxCursorCount||r.reachedMaxCursorCount)}}class Bh{constructor(){this.kind=5}isNoOp(){return!1}merge(r){return this}}let rd=(()=>{class ge extends C.JT{constructor(c,_,T,V){super(),this._model=c,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=_,this._coordinatesConverter=T,this.context=new Rr(this._model,this._viewModel,this._coordinatesConverter,V),this._cursors=new Ls(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,C.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(c){this.context=new Rr(this._model,this._viewModel,this._coordinatesConverter,c),this._cursors.updateContext(this.context)}onLineMappingChanged(c){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(c,"viewModel",0,this.getCursorStates())}setHasFocus(c){this._hasFocus=c}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const c=this._cursors.getSelections();for(let _=0;_<this._autoClosedActions.length;_++){const T=this._autoClosedActions[_];T.isValid(c)||(T.dispose(),this._autoClosedActions.splice(_,1),_--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(c,_,T,V){let ie=!1;null!==V&&V.length>ge.MAX_CURSOR_COUNT&&(V=V.slice(0,ge.MAX_CURSOR_COUNT),ie=!0);const he=dr.from(this._model,this);return this._cursors.setStates(V),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,_,T,he,ie)}setCursorColumnSelectData(c){this._columnSelectData=c}revealPrimary(c,_,T,V,ie,he){const ye=this._cursors.getViewPositions();let De=null,Pe=null;ye.length>1?Pe=this._cursors.getViewSelections():De=Mt.e.fromPositions(ye[0],ye[0]),c.emitViewEvent(new us(_,T,De,Pe,V,ie,he))}saveState(){const c=[],_=this._cursors.getSelections();for(let T=0,V=_.length;T<V;T++){const ie=_[T];c.push({inSelectionMode:!ie.isEmpty(),selectionStart:{lineNumber:ie.selectionStartLineNumber,column:ie.selectionStartColumn},position:{lineNumber:ie.positionLineNumber,column:ie.positionColumn}})}return c}restoreState(c,_){const T=[];for(let V=0,ie=_.length;V<ie;V++){const he=_[V];let ye=1,De=1;he.position&&he.position.lineNumber&&(ye=he.position.lineNumber),he.position&&he.position.column&&(De=he.position.column);let Pe=ye,ze=De;he.selectionStart&&he.selectionStart.lineNumber&&(Pe=he.selectionStart.lineNumber),he.selectionStart&&he.selectionStart.column&&(ze=he.selectionStart.column),T.push({selectionStartLineNumber:Pe,selectionStartColumn:ze,positionLineNumber:ye,positionColumn:De})}this.setStates(c,"restoreState",0,Po.Vi.fromModelSelections(T)),this.revealPrimary(c,"restoreState",!1,0,!0,1)}onModelContentChanged(c,_){if(_ instanceof Ys.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(c,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=_.versionId,this._isHandling)return;const T=_.containsEvent(1);if(this._prevEditOperationType=0,T)this._cursors.dispose(),this._cursors=new Ls(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,"model",1,null,!1);else if(this._hasFocus&&_.resultingSelection&&_.resultingSelection.length>0){const V=Po.Vi.fromModelSelections(_.resultingSelection);this.setStates(c,"modelChange",_.isUndoing?5:_.isRedoing?6:2,V)&&this.revealPrimary(c,"modelChange",!1,0,!0,0)}else{const V=this._cursors.readSelectionFromMarkers();this.setStates(c,"modelChange",2,Po.Vi.fromModelSelections(V))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const c=this._cursors.getPrimaryCursor(),_=c.viewState.selectionStart.getStartPosition(),T=c.viewState.position;return{isReal:!1,fromViewLineNumber:_.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,_),toViewLineNumber:T.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,T)}}getSelections(){return this._cursors.getSelections()}setSelections(c,_,T,V){this.setStates(c,_,V,Po.Vi.fromModelSelections(T))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(c){this._prevEditOperationType=c}_pushAutoClosedAction(c,_){const T=[],V=[];for(let ye=0,De=c.length;ye<De;ye++)T.push({range:c[ye],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),V.push({range:_[ye],options:{description:"auto-closed-enclosing",stickiness:1}});const ie=this._model.deltaDecorations([],T),he=this._model.deltaDecorations([],V);this._autoClosedActions.push(new nl(this._model,ie,he))}_executeEditOperation(c){if(!c)return;c.shouldPushStackElementBefore&&this._model.pushStackElement();const _=class{static executeCommands(r,c,_){const T={model:r,selectionsBefore:c,trackedRanges:[],trackedRangesDirection:[]},V=this._innerExecuteCommands(T,_);for(let ie=0,he=T.trackedRanges.length;ie<he;ie++)T.model._setTrackedRange(T.trackedRanges[ie],null,0);return V}static _innerExecuteCommands(r,c){if(this._arrayIsEmpty(c))return null;const _=this._getEditOperations(r,c);if(0===_.operations.length)return null;const T=_.operations,V=this._getLoserCursorMap(T);if(V.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const ie=[];for(let De=0,Pe=T.length;De<Pe;De++)V.hasOwnProperty(T[De].identifier.major.toString())||ie.push(T[De]);_.hadTrackedEditOperation&&ie.length>0&&(ie[0]._isTracked=!0);let he=r.model.pushEditOperations(r.selectionsBefore,ie,De=>{const Pe=[];for(let ot=0;ot<r.selectionsBefore.length;ot++)Pe[ot]=[];for(const ot of De)!ot.identifier||Pe[ot.identifier.major].push(ot);const ze=(ot,Ct)=>ot.identifier.minor-Ct.identifier.minor,qe=[];for(let ot=0;ot<r.selectionsBefore.length;ot++)Pe[ot].length>0?(Pe[ot].sort(ze),qe[ot]=c[ot].computeCursorState(r.model,{getInverseEditOperations:()=>Pe[ot],getTrackedSelection:Ct=>{const mt=parseInt(Ct,10),It=r.model._getTrackedRange(r.trackedRanges[mt]);return 0===r.trackedRangesDirection[mt]?new re.Y(It.startLineNumber,It.startColumn,It.endLineNumber,It.endColumn):new re.Y(It.endLineNumber,It.endColumn,It.startLineNumber,It.startColumn)}})):qe[ot]=r.selectionsBefore[ot];return qe});he||(he=r.selectionsBefore);const ye=[];for(let De in V)V.hasOwnProperty(De)&&ye.push(parseInt(De,10));ye.sort((De,Pe)=>Pe-De);for(const De of ye)he.splice(De,1);return he}static _arrayIsEmpty(r){for(let c=0,_=r.length;c<_;c++)if(r[c])return!1;return!0}static _getEditOperations(r,c){let _=[],T=!1;for(let V=0,ie=c.length;V<ie;V++){const he=c[V];if(he){const ye=this._getEditOperationsFromCommand(r,V,he);_=_.concat(ye.operations),T=T||ye.hadTrackedEditOperation}}return{operations:_,hadTrackedEditOperation:T}}static _getEditOperationsFromCommand(r,c,_){const T=[];let V=0;const ie=(ze,qe,ot=!1)=>{Mt.e.isEmpty(ze)&&""===qe||T.push({identifier:{major:c,minor:V++},range:ze,text:qe,forceMoveMarkers:ot,isAutoWhitespaceEdit:_.insertsAutoWhitespace})};let he=!1;const Pe={addEditOperation:ie,addTrackedEditOperation:(ze,qe,ot)=>{he=!0,ie(ze,qe,ot)},trackSelection:(ze,qe)=>{const ot=re.Y.liftSelection(ze);let Ct;if(ot.isEmpty())if("boolean"==typeof qe)Ct=qe?2:3;else{const Zt=r.model.getLineMaxColumn(ot.startLineNumber);Ct=ot.startColumn===Zt?2:3}else Ct=1;const mt=r.trackedRanges.length,It=r.model._setTrackedRange(null,ot,Ct);return r.trackedRanges[mt]=It,r.trackedRangesDirection[mt]=ot.getDirection(),mt.toString()}};try{_.getEditOperations(r.model,Pe)}catch(ze){return(0,k.dL)(ze),{operations:[],hadTrackedEditOperation:!1}}return{operations:T,hadTrackedEditOperation:he}}static _getLoserCursorMap(r){(r=r.slice(0)).sort((_,T)=>-Mt.e.compareRangesUsingEnds(_.range,T.range));const c={};for(let _=1;_<r.length;_++){const T=r[_-1],V=r[_];if(Mt.e.getStartPosition(T.range).isBefore(Mt.e.getEndPosition(V.range))){let ie;ie=T.identifier.major>V.identifier.major?T.identifier.major:V.identifier.major,c[ie.toString()]=!0;for(let he=0;he<r.length;he++)r[he].identifier.major===ie&&(r.splice(he,1),he<_&&_--,he--);_>0&&_--}}return c}}.executeCommands(this._model,this._cursors.getSelections(),c.commands);if(_){this._interpretCommandResult(_);const T=[],V=[];for(let ie=0;ie<c.commands.length;ie++){const he=c.commands[ie];he instanceof cr.g&&he.enclosingRange&&he.closeCharacterRange&&(T.push(he.closeCharacterRange),V.push(he.enclosingRange))}T.length>0&&this._pushAutoClosedAction(T,V),this._prevEditOperationType=c.type}c.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(c){(!c||0===c.length)&&(c=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(c),this._cursors.normalize()}_emitStateChangedIfNecessary(c,_,T,V,ie){const he=dr.from(this._model,this);if(he.equals(V))return!1;const ye=this._cursors.getSelections(),De=this._cursors.getViewSelections();if(c.emitViewEvent(new Cu(De,ye)),!V||V.cursorState.length!==he.cursorState.length||he.cursorState.some((Pe,ze)=>!Pe.modelState.equals(V.cursorState[ze].modelState))){const Pe=V?V.cursorState.map(qe=>qe.modelState.selection):null;c.emitOutgoingEvent(new ha(Pe,ye,V?V.modelVersionId:0,he.modelVersionId,_||"keyboard",T,ie))}return!0}_findAutoClosingPairs(c){if(!c.length)return null;const _=[];for(let T=0,V=c.length;T<V;T++){const ie=c[T];if(!ie.text||ie.text.indexOf("\n")>=0)return null;const he=ie.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!he)return null;const De=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(he[1]);if(!De||1!==De.length)return null;const ze=ie.text.length-he[2].length-1,qe=ie.text.lastIndexOf(De[0].open,ze-1);if(-1===qe)return null;_.push([qe,ze])}return _}executeEdits(c,_,T,V){let ie=null;"snippet"===_&&(ie=this._findAutoClosingPairs(T)),ie&&(T[0]._isTracked=!0);const he=[],ye=[],De=this._model.pushEditOperations(this.getSelections(),T,Pe=>{if(ie)for(let qe=0,ot=ie.length;qe<ot;qe++){const[Ct,mt]=ie[qe],It=Pe[qe],Zt=It.range.startLineNumber,cn=It.range.startColumn-1+Ct,dn=It.range.startColumn-1+mt;he.push(new Mt.e(Zt,dn+1,Zt,dn+2)),ye.push(new Mt.e(Zt,cn+1,Zt,dn+2))}const ze=V(Pe);return ze&&(this._isHandling=!0),ze});De&&(this._isHandling=!1,this.setSelections(c,_,De,0)),he.length>0&&this._pushAutoClosedAction(he,ye)}_executeEdit(c,_,T,V=0){if(this.context.cursorConfig.readOnly)return;const ie=dr.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),c()}catch(he){(0,k.dL)(he)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(_,T,V,ie,!1)&&this.revealPrimary(_,T,!1,0,!0,0)}setIsDoingComposition(c){this._isDoingComposition=c}getAutoClosedCharacters(){return nl.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(c){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(c,_){this._executeEdit(()=>{"keyboard"===_&&(this._executeEditOperation(cr.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},c,_)}type(c,_,T){this._executeEdit(()=>{if("keyboard"===T){const V=_.length;let ie=0;for(;ie<V;){const he=yn.vH(_,ie),ye=_.substr(ie,he);this._executeEditOperation(cr.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),ye)),ie+=he}}else this._executeEditOperation(cr.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),_))},c,T)}compositionType(c,_,T,V,ie,he){if(0!==_.length||0!==T||0!==V)this._executeEdit(()=>{this._executeEditOperation(cr.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),_,T,V,ie))},c,he);else if(0!==ie){const ye=this.getSelections().map(De=>{const Pe=De.getPosition();return new re.Y(Pe.lineNumber,Pe.column+ie,Pe.lineNumber,Pe.column+ie)});this.setSelections(c,he,ye,0)}}paste(c,_,T,V,ie){this._executeEdit(()=>{this._executeEditOperation(cr.u.paste(this.context.cursorConfig,this._model,this.getSelections(),_,T,V||[]))},c,ie,4)}cut(c,_){this._executeEdit(()=>{this._executeEditOperation(dc.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},c,_)}executeCommand(c,_,T){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Po.Tp(0,[_],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},c,T)}executeCommands(c,_,T){this._executeEdit(()=>{this._executeEditOperation(new Po.Tp(0,_,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},c,T)}}return ge.MAX_CURSOR_COUNT=1e4,ge})();class dr{constructor(r,c){this.modelVersionId=r,this.cursorState=c}static from(r,c){return new dr(r.getVersionId(),c.getCursorStates())}equals(r){if(!r||this.modelVersionId!==r.modelVersionId||this.cursorState.length!==r.cursorState.length)return!1;for(let c=0,_=this.cursorState.length;c<_;c++)if(!this.cursorState[c].equals(r.cursorState[c]))return!1;return!0}}class nl{constructor(r,c,_){this._model=r,this._autoClosedCharactersDecorations=c,this._autoClosedEnclosingDecorations=_}static getAllAutoClosedCharacters(r){let c=[];for(const _ of r)c=c.concat(_.getAutoClosedCharactersRanges());return c}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const r=[];for(let c=0;c<this._autoClosedCharactersDecorations.length;c++){const _=this._model.getDecorationRange(this._autoClosedCharactersDecorations[c]);_&&r.push(_)}return r}isValid(r){const c=[];for(let _=0;_<this._autoClosedEnclosingDecorations.length;_++){const T=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[_]);if(T&&(c.push(T),T.startLineNumber!==T.endLineNumber))return!1}c.sort(Mt.e.compareRangesUsingStarts),r.sort(Mt.e.compareRangesUsingStarts);for(let _=0;_<r.length;_++)if(_>=c.length||!c[_].strictContainsRange(r[_]))return!1;return!0}}var ka=m(47804),Dg=m(3760),uo=m(20296),Pn=m(12282),vu=m(42137),ld=m(90443);class Wh{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(r){this._hasPending=!0,this._inserts.push(r)}change(r){this._hasPending=!0,this._changes.push(r)}remove(r){this._hasPending=!0,this._removes.push(r)}mustCommit(){return this._hasPending}commit(r){if(!this._hasPending)return;const c=this._inserts,_=this._changes,T=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],r._commitPendingChanges(c,_,T)}}class El{constructor(r,c,_,T,V){this.id=r,this.afterLineNumber=c,this.ordinal=_,this.height=T,this.minWidth=V,this.prefixSum=0}}let Vh=(()=>{class ge{constructor(c,_,T,V){this._instanceId=yn.PJ(++ge.INSTANCE_COUNT),this._pendingChanges=new Wh,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=c,this._lineHeight=_,this._paddingTop=T,this._paddingBottom=V}static findInsertionIndex(c,_,T){let V=0,ie=c.length;for(;V<ie;){const he=V+ie>>>1;_===c[he].afterLineNumber?T<c[he].ordinal?ie=he:V=he+1:_<c[he].afterLineNumber?ie=he:V=he+1}return V}setLineHeight(c){this._checkPendingChanges(),this._lineHeight=c}setPadding(c,_){this._paddingTop=c,this._paddingBottom=_}onFlushed(c){this._checkPendingChanges(),this._lineCount=c}changeWhitespace(c){let _=!1;try{c({insertWhitespace:(V,ie,he,ye)=>{_=!0,V|=0,ie|=0,he|=0,ye|=0;const De=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new El(De,V,ie,he,ye)),De},changeOneWhitespace:(V,ie,he)=>{_=!0,this._pendingChanges.change({id:V,newAfterLineNumber:ie|=0,newHeight:he|=0})},removeWhitespace:V=>{_=!0,this._pendingChanges.remove({id:V})}})}finally{this._pendingChanges.commit(this)}return _}_commitPendingChanges(c,_,T){if((c.length>0||T.length>0)&&(this._minWidth=-1),c.length+_.length+T.length<=1){for(const De of c)this._insertWhitespace(De);for(const De of _)this._changeOneWhitespace(De.id,De.newAfterLineNumber,De.newHeight);for(const De of T){const Pe=this._findWhitespaceIndex(De.id);-1!==Pe&&this._removeWhitespace(Pe)}return}const V=new Set;for(const De of T)V.add(De.id);const ie=new Map;for(const De of _)ie.set(De.id,De);const he=De=>{const Pe=[];for(const ze of De)if(!V.has(ze.id)){if(ie.has(ze.id)){const qe=ie.get(ze.id);ze.afterLineNumber=qe.newAfterLineNumber,ze.height=qe.newHeight}Pe.push(ze)}return Pe},ye=he(this._arr).concat(he(c));ye.sort((De,Pe)=>De.afterLineNumber===Pe.afterLineNumber?De.ordinal-Pe.ordinal:De.afterLineNumber-Pe.afterLineNumber),this._arr=ye,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(c){const _=ge.findInsertionIndex(this._arr,c.afterLineNumber,c.ordinal);this._arr.splice(_,0,c),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}_findWhitespaceIndex(c){const _=this._arr;for(let T=0,V=_.length;T<V;T++)if(_[T].id===c)return T;return-1}_changeOneWhitespace(c,_,T){const V=this._findWhitespaceIndex(c);if(-1!==V&&(this._arr[V].height!==T&&(this._arr[V].height=T,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,V-1)),this._arr[V].afterLineNumber!==_)){const ie=this._arr[V];this._removeWhitespace(V),ie.afterLineNumber=_,this._insertWhitespace(ie)}}_removeWhitespace(c){this._arr.splice(c,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,c-1)}onLinesDeleted(c,_){this._checkPendingChanges(),this._lineCount-=(_|=0)-(c|=0)+1;for(let T=0,V=this._arr.length;T<V;T++){const ie=this._arr[T].afterLineNumber;c<=ie&&ie<=_?this._arr[T].afterLineNumber=c-1:ie>_&&(this._arr[T].afterLineNumber-=_-c+1)}}onLinesInserted(c,_){this._checkPendingChanges(),this._lineCount+=(_|=0)-(c|=0)+1;for(let T=0,V=this._arr.length;T<V;T++)c<=this._arr[T].afterLineNumber&&(this._arr[T].afterLineNumber+=_-c+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(c){this._checkPendingChanges(),c|=0;let _=Math.max(0,this._prefixSumValidIndex+1);0===_&&(this._arr[0].prefixSum=this._arr[0].height,_++);for(let T=_;T<=c;T++)this._arr[T].prefixSum=this._arr[T-1].prefixSum+this._arr[T].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,c),this._arr[c].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(c){this._checkPendingChanges();const _=this._findLastWhitespaceBeforeLineNumber(c|=0);return-1===_?0:this.getWhitespacesAccumulatedHeight(_)}_findLastWhitespaceBeforeLineNumber(c){c|=0;const _=this._arr;let T=0,V=_.length-1;for(;T<=V;){const ye=T+((V-T|0)/2|0)|0;if(_[ye].afterLineNumber<c){if(ye+1>=_.length||_[ye+1].afterLineNumber>=c)return ye;T=ye+1|0}else V=ye-1|0}return-1}_findFirstWhitespaceAfterLineNumber(c){const T=this._findLastWhitespaceBeforeLineNumber(c|=0)+1;return T<this._arr.length?T:-1}getFirstWhitespaceIndexAfterLineNumber(c){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(c|=0)}getVerticalOffsetForLineNumber(c){let _;return this._checkPendingChanges(),_=(c|=0)>1?this._lineHeight*(c-1):0,_+this.getWhitespaceAccumulatedHeightBeforeLineNumber(c)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let c=0;for(let _=0,T=this._arr.length;_<T;_++)c=Math.max(c,this._arr[_].minWidth);this._minWidth=c}return this._minWidth}isAfterLines(c){return this._checkPendingChanges(),c>this.getLinesTotalHeight()}isInTopPadding(c){return 0!==this._paddingTop&&(this._checkPendingChanges(),c<this._paddingTop)}isInBottomPadding(c){return 0!==this._paddingBottom&&(this._checkPendingChanges(),c>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(c){if(this._checkPendingChanges(),(c|=0)<0)return 1;const _=0|this._lineCount,T=this._lineHeight;let V=1,ie=_;for(;V<ie;){const he=(V+ie)/2|0,ye=0|this.getVerticalOffsetForLineNumber(he);if(c>=ye+T)V=he+1;else{if(c>=ye)return he;ie=he}}return V>_?_:V}getLinesViewportData(c,_){this._checkPendingChanges(),_|=0;const T=this._lineHeight,V=0|this.getLineNumberAtOrAfterVerticalOffset(c|=0),ie=0|this.getVerticalOffsetForLineNumber(V);let he=0|this._lineCount,ye=0|this.getFirstWhitespaceIndexAfterLineNumber(V);const De=0|this.getWhitespacesCount();let Pe,ze;-1===ye?(ye=De,ze=he+1,Pe=0):(ze=0|this.getAfterLineNumberForWhitespaceIndex(ye),Pe=0|this.getHeightForWhitespaceIndex(ye));let qe=ie,ot=qe;const Ct=5e5;let mt=0;ie>=Ct&&(mt=Math.floor(ie/Ct)*Ct,mt=Math.floor(mt/T)*T,ot-=mt);const It=[],Zt=c+(_-c)/2;let cn=-1;for(let Fn=V;Fn<=he;Fn++){if(-1===cn){const On=qe,Ln=qe+T;(On<=Zt&&Zt<Ln||On>Zt)&&(cn=Fn)}for(qe+=T,It[Fn-V]=ot,ot+=T;ze===Fn;)ot+=Pe,qe+=Pe,ye++,ye>=De?ze=he+1:(ze=0|this.getAfterLineNumberForWhitespaceIndex(ye),Pe=0|this.getHeightForWhitespaceIndex(ye));if(qe>=_){he=Fn;break}}-1===cn&&(cn=he);const dn=0|this.getVerticalOffsetForLineNumber(he);let kn=V,Vn=he;return kn<Vn&&ie<c&&kn++,kn<Vn&&dn+T>_&&Vn--,{bigNumbersDelta:mt,startLineNumber:V,endLineNumber:he,relativeVerticalOffset:It,centeredLineNumber:cn,completelyVisibleStartLineNumber:kn,completelyVisibleEndLineNumber:Vn}}getVerticalOffsetForWhitespaceIndex(c){this._checkPendingChanges();const _=this.getAfterLineNumberForWhitespaceIndex(c|=0);let T,V;return T=_>=1?this._lineHeight*_:0,V=c>0?this.getWhitespacesAccumulatedHeight(c-1):0,T+V+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(c){this._checkPendingChanges(),c|=0;let _=0,T=this.getWhitespacesCount()-1;if(T<0)return-1;if(c>=this.getVerticalOffsetForWhitespaceIndex(T)+this.getHeightForWhitespaceIndex(T))return-1;for(;_<T;){const he=Math.floor((_+T)/2),ye=this.getVerticalOffsetForWhitespaceIndex(he);if(c>=ye+this.getHeightForWhitespaceIndex(he))_=he+1;else{if(c>=ye)return he;T=he}}return _}getWhitespaceAtVerticalOffset(c){this._checkPendingChanges();const _=this.getWhitespaceIndexAtOrAfterVerticallOffset(c|=0);if(_<0||_>=this.getWhitespacesCount())return null;const T=this.getVerticalOffsetForWhitespaceIndex(_);if(T>c)return null;const V=this.getHeightForWhitespaceIndex(_);return{id:this.getIdForWhitespaceIndex(_),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(_),verticalOffset:T,height:V}}getWhitespaceViewportData(c,_){this._checkPendingChanges(),_|=0;const T=this.getWhitespaceIndexAtOrAfterVerticallOffset(c|=0),V=this.getWhitespacesCount()-1;if(T<0)return[];const ie=[];for(let he=T;he<=V;he++){const ye=this.getVerticalOffsetForWhitespaceIndex(he),De=this.getHeightForWhitespaceIndex(he);if(ye>=_)break;ie.push({id:this.getIdForWhitespaceIndex(he),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(he),verticalOffset:ye,height:De})}return ie}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].id}getAfterLineNumberForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].afterLineNumber}getHeightForWhitespaceIndex(c){return this._checkPendingChanges(),this._arr[c|=0].height}}return ge.INSTANCE_COUNT=0,ge})();class il{constructor(r,c,_,T){(r|=0)<0&&(r=0),(c|=0)<0&&(c=0),(_|=0)<0&&(_=0),(T|=0)<0&&(T=0),this.width=r,this.contentWidth=c,this.scrollWidth=Math.max(r,c),this.height=_,this.contentHeight=T,this.scrollHeight=Math.max(_,T)}equals(r){return this.width===r.width&&this.contentWidth===r.contentWidth&&this.height===r.height&&this.contentHeight===r.contentHeight}}class Sr extends C.JT{constructor(r,c){super(),this._onDidContentSizeChange=this._register(new y.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new il(0,0,0,0),this._scrollable=this._register(new ld.Rm({forceIntegerValues:!0,smoothScrollDuration:r,scheduleAtNextAnimationFrame:c})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(r){this._scrollable.setSmoothScrollDuration(r)}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}getScrollDimensions(){return this._dimensions}setScrollDimensions(r){if(this._dimensions.equals(r))return;const c=this._dimensions;this._dimensions=r,this._scrollable.setScrollDimensions({width:r.width,scrollWidth:r.scrollWidth,height:r.height,scrollHeight:r.scrollHeight},!0),(c.contentWidth!==r.contentWidth||c.contentHeight!==r.contentHeight)&&this._onDidContentSizeChange.fire(new Vo(c.contentWidth,c.contentHeight,r.contentWidth,r.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(r){this._scrollable.setScrollPositionNow(r)}setScrollPositionSmooth(r){this._scrollable.setScrollPositionSmooth(r)}}class fa extends C.JT{constructor(r,c,_){super(),this._configuration=r;const T=this._configuration.options,V=T.get(131),ie=T.get(75);this._linesLayout=new Vh(c,T.get(59),ie.top,ie.bottom),this._scrollable=this._register(new Sr(0,_)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new il(V.contentWidth,0,V.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?125:0)}onConfigurationChanged(r){const c=this._configuration.options;if(r.hasChanged(59)&&this._linesLayout.setLineHeight(c.get(59)),r.hasChanged(75)){const _=c.get(75);this._linesLayout.setPadding(_.top,_.bottom)}if(r.hasChanged(131)){const _=c.get(131),T=_.contentWidth,V=_.height,ie=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new il(T,ie.contentWidth,V,this._getContentHeight(T,V,ie.contentWidth)))}else this._updateHeight();r.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(r){this._linesLayout.onFlushed(r)}onLinesDeleted(r,c){this._linesLayout.onLinesDeleted(r,c)}onLinesInserted(r,c){this._linesLayout.onLinesInserted(r,c)}_getHorizontalScrollbarHeight(r,c){const T=this._configuration.options.get(92);return 2===T.horizontal||r>=c?0:T.horizontalScrollbarSize}_getContentHeight(r,c,_){const T=this._configuration.options;let V=this._linesLayout.getLinesTotalHeight();return T.get(94)?V+=Math.max(0,c-T.get(59)-T.get(75).bottom):V+=this._getHorizontalScrollbarHeight(r,_),V}_updateHeight(){const r=this._scrollable.getScrollDimensions(),c=r.width,_=r.height;this._scrollable.setScrollDimensions(new il(c,r.contentWidth,_,this._getContentHeight(c,_,r.contentWidth)))}getCurrentViewport(){const r=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new be.l_(c.scrollTop,c.scrollLeft,r.width,r.height)}getFutureViewport(){const r=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new be.l_(c.scrollTop,c.scrollLeft,r.width,r.height)}_computeContentWidth(r){const c=this._configuration.options,_=c.get(132),T=c.get(44);if(_.isViewportWrapping){const V=c.get(131),ie=c.get(65);return r>V.contentWidth+T.typicalHalfwidthCharacterWidth&&ie.enabled&&"right"===ie.side?r+V.verticalScrollbarWidth:r}{const V=c.get(93)*T.typicalHalfwidthCharacterWidth,ie=this._linesLayout.getWhitespaceMinWidth();return Math.max(r+V,ie)}}setMaxLineWidth(r){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new il(c.width,this._computeContentWidth(r),c.height,c.contentHeight)),this._updateHeight()}saveState(){const r=this._scrollable.getFutureScrollPosition(),c=r.scrollTop,_=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c);return{scrollTop:c,scrollTopWithoutViewZones:c-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(_),scrollLeft:r.scrollLeft}}changeWhitespace(r){const c=this._linesLayout.changeWhitespace(r);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(r){return this._linesLayout.getVerticalOffsetForLineNumber(r)}isAfterLines(r){return this._linesLayout.isAfterLines(r)}isInTopPadding(r){return this._linesLayout.isInTopPadding(r)}isInBottomPadding(r){return this._linesLayout.isInBottomPadding(r)}getLineNumberAtVerticalOffset(r){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r)}getWhitespaceAtVerticalOffset(r){return this._linesLayout.getWhitespaceAtVerticalOffset(r)}getLinesViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(r.top,r.top+r.height)}getLinesViewportDataAtScrollTop(r){const c=this._scrollable.getScrollDimensions();return r+c.height>c.scrollHeight&&(r=c.scrollHeight-c.height),r<0&&(r=0),this._linesLayout.getLinesViewportData(r,r+c.height)}getWhitespaceViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(r.top,r.top+r.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}setScrollPosition(r,c){1===c?this._scrollable.setScrollPositionNow(r):this._scrollable.setScrollPositionSmooth(r)}deltaScrollNow(r,c){const _=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:_.scrollLeft+r,scrollTop:_.scrollTop+c})}}var wu=m(18066),yu=m(45023),Su=m(5928);function Ml(ge,r){return null===ge?r?hc.INSTANCE:Js.INSTANCE:new cd(ge,r)}class cd{constructor(r,c){this._projectionData=r,this._isVisible=c}isVisible(){return this._isVisible}setVisible(r){return this._isVisible=r,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(r,c,_){this._assertVisible();const T=_>0?this._projectionData.breakOffsets[_-1]:0,V=this._projectionData.breakOffsets[_];let ie;if(null!==this._projectionData.injectionOffsets){const he=this._projectionData.injectionOffsets.map((De,Pe)=>new Ys.gk(0,0,De+1,this._projectionData.injectionOptions[Pe],0));ie=Ys.gk.applyInjectedText(r.getLineContent(c),he).substring(T,V)}else ie=r.getValueInRange({startLineNumber:c,startColumn:T+1,endLineNumber:c,endColumn:V+1});return _>0&&(ie=dd(this._projectionData.wrappedTextIndentLength)+ie),ie}getViewLineLength(r,c,_){return this._assertVisible(),this._projectionData.getLineLength(_)}getViewLineMinColumn(r,c,_){return this._assertVisible(),this._projectionData.getMinOutputOffset(_)+1}getViewLineMaxColumn(r,c,_){return this._assertVisible(),this._projectionData.getMaxOutputOffset(_)+1}getViewLineData(r,c,_){const T=new Array;return this.getViewLinesData(r,c,_,1,0,[!0],T),T[0]}getViewLinesData(r,c,_,T,V,ie,he){this._assertVisible();const ye=this._projectionData,De=ye.injectionOffsets,Pe=ye.injectionOptions;let qe,ze=null;if(De){ze=[];let ot=0,Ct=0;for(let mt=0;mt<ye.getOutputLineCount();mt++){const It=new Array;ze[mt]=It;const Zt=mt>0?ye.breakOffsets[mt-1]:0,cn=ye.breakOffsets[mt];for(;Ct<De.length;){const dn=Pe[Ct].content.length,kn=De[Ct]+ot,Vn=kn+dn;if(kn>cn)break;if(Zt<Vn){const Fn=Pe[Ct];if(Fn.inlineClassName){const On=mt>0?ye.wrappedTextIndentLength:0,Ln=On+Math.max(kn-Zt,0),pn=On+Math.min(Vn-Zt,cn);Ln!==pn&&It.push(new be.Wx(Ln,pn,Fn.inlineClassName,Fn.inlineClassNameAffectsLetterSpacing))}}if(!(Vn<=cn))break;ot+=dn,Ct++}}}qe=De?r.getLineTokens(c).withInserted(De.map((ot,Ct)=>({offset:ot,text:Pe[Ct].content,tokenMetadata:Su.A.defaultTokenMetadata}))):r.getLineTokens(c);for(let ot=_;ot<_+T;ot++){const Ct=V+ot-_;he[Ct]=ie[Ct]?this._getViewLineData(qe,ze?ze[ot]:null,ot):null}}_getViewLineData(r,c,_){this._assertVisible();const T=this._projectionData,ye=r.sliceAndInflate(_>0?T.breakOffsets[_-1]:0,T.breakOffsets[_],_>0?T.wrappedTextIndentLength:0);let De=ye.getLineContent();_>0&&(De=dd(T.wrappedTextIndentLength)+De);const Pe=this._projectionData.getMinOutputOffset(_)+1,ze=De.length+1,qe=_+1<this.getViewLineCount();return new be.IP(De,qe,Pe,ze,0===_?0:T.breakOffsetsVisibleColumn[_-1],ye,c)}getModelColumnOfViewPosition(r,c){return this._assertVisible(),this._projectionData.translateToInputOffset(r,c-1)+1}getViewPositionOfModelPosition(r,c,_=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(c-1,_).toPosition(r)}getViewLineNumberOfModelPosition(r,c){return this._assertVisible(),r+this._projectionData.translateToOutputPosition(c-1).outputLineIndex}normalizePosition(r,c,_){const T=c.lineNumber-r;return this._projectionData.normalizeOutputPosition(r,c.column-1,_).toPosition(T)}getInjectedTextAt(r,c){return this._projectionData.getInjectedText(r,c-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class hc{constructor(){}isVisible(){return!0}setVisible(r){return r?this:Js.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(r,c,_){return r.getLineContent(c)}getViewLineLength(r,c,_){return r.getLineLength(c)}getViewLineMinColumn(r,c,_){return r.getLineMinColumn(c)}getViewLineMaxColumn(r,c,_){return r.getLineMaxColumn(c)}getViewLineData(r,c,_){const T=r.getLineTokens(c),V=T.getLineContent();return new be.IP(V,!1,1,V.length+1,0,T.inflate(),null)}getViewLinesData(r,c,_,T,V,ie,he){he[V]=ie[V]?this.getViewLineData(r,c,0):null}getModelColumnOfViewPosition(r,c){return c}getViewPositionOfModelPosition(r,c){return new Rt.L(r,c)}getViewLineNumberOfModelPosition(r,c){return r}normalizePosition(r,c,_){return c}getInjectedTextAt(r,c){return null}}hc.INSTANCE=new hc;class Js{constructor(){}isVisible(){return!1}setVisible(r){return r?hc.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(r,c,_){throw new Error("Not supported")}getViewLineLength(r,c,_){throw new Error("Not supported")}getViewLineMinColumn(r,c,_){throw new Error("Not supported")}getViewLineMaxColumn(r,c,_){throw new Error("Not supported")}getViewLineData(r,c,_){throw new Error("Not supported")}getViewLinesData(r,c,_,T,V,ie,he){throw new Error("Not supported")}getModelColumnOfViewPosition(r,c){throw new Error("Not supported")}getViewPositionOfModelPosition(r,c){throw new Error("Not supported")}getViewLineNumberOfModelPosition(r,c){throw new Error("Not supported")}normalizePosition(r,c,_){throw new Error("Not supported")}getInjectedTextAt(r,c){throw new Error("Not supported")}}Js.INSTANCE=new Js;let Nl=[""];function dd(ge){if(ge>=Nl.length)for(let r=1;r<=ge;r++)Nl[r]=Pa(r);return Nl[ge]}function Pa(ge){return new Array(ge+1).join(" ")}var fc=m(69798);class Hh{constructor(r,c,_,T,V,ie,he,ye,De){this._editorId=r,this.model=c,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=_,this._monospaceLineBreaksComputerFactory=T,this.fontInfo=V,this.tabSize=ie,this.wrappingStrategy=he,this.wrappingColumn=ye,this.wrappingIndent=De,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new xu(this)}_constructLines(r,c){this.modelLineProjections=[],r&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const _=this.model.getLinesContent(),T=this.model.getInjectedTextDecorations(this._editorId),V=_.length,ie=this.createLineBreaksComputer(),he=new f.H9(Ys.gk.fromDecorations(T));for(let mt=0;mt<V;mt++){const It=he.takeWhile(Zt=>Zt.lineNumber===mt+1);ie.addRequest(_[mt],It,c?c[mt]:null)}const ye=ie.finalize(),De=[],Pe=this.hiddenAreasDecorationIds.map(mt=>this.model.getDecorationRange(mt)).sort(Mt.e.compareRangesUsingStarts);let ze=1,qe=0,ot=-1,Ct=ot+1<Pe.length?qe+1:V+2;for(let mt=0;mt<V;mt++){const It=mt+1;It===Ct&&(ot++,ze=Pe[ot].startLineNumber,qe=Pe[ot].endLineNumber,Ct=ot+1<Pe.length?qe+1:V+2);const cn=Ml(ye[mt],!(It>=ze&&It<=qe));De[mt]=cn.getViewLineCount(),this.modelLineProjections[mt]=cn}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new fc.Ck(De)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(r=>this.model.getDecorationRange(r))}setHiddenAreas(r){const _=function(ge){if(0===ge.length)return[];const r=ge.slice();r.sort(Mt.e.compareRangesUsingStarts);const c=[];let _=r[0].startLineNumber,T=r[0].endLineNumber;for(let V=1,ie=r.length;V<ie;V++){const he=r[V];he.startLineNumber>T+1?(c.push(new Mt.e(_,1,T,1)),_=he.startLineNumber,T=he.endLineNumber):he.endLineNumber>T&&(T=he.endLineNumber)}return c.push(new Mt.e(_,1,T,1)),c}(r.map(qe=>this.model.validateRange(qe))),T=this.hiddenAreasDecorationIds.map(qe=>this.model.getDecorationRange(qe)).sort(Mt.e.compareRangesUsingStarts);if(_.length===T.length){let qe=!1;for(let ot=0;ot<_.length;ot++)if(!_[ot].equalsRange(T[ot])){qe=!0;break}if(!qe)return!1}const V=_.map(qe=>({range:qe,options:yu.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,V);const ie=_;let he=1,ye=0,De=-1,Pe=De+1<ie.length?ye+1:this.modelLineProjections.length+2,ze=!1;for(let qe=0;qe<this.modelLineProjections.length;qe++){const ot=qe+1;ot===Pe&&(De++,he=ie[De].startLineNumber,ye=ie[De].endLineNumber,Pe=De+1<ie.length?ye+1:this.modelLineProjections.length+2);let Ct=!1;if(ot>=he&&ot<=ye?this.modelLineProjections[qe].isVisible()&&(this.modelLineProjections[qe]=this.modelLineProjections[qe].setVisible(!1),Ct=!0):(ze=!0,this.modelLineProjections[qe].isVisible()||(this.modelLineProjections[qe]=this.modelLineProjections[qe].setVisible(!0),Ct=!0)),Ct){const mt=this.modelLineProjections[qe].getViewLineCount();this.projectedModelLineLineCounts.setValue(qe,mt)}}return ze||this.setHiddenAreas([]),!0}modelPositionIsVisible(r,c){return!(r<1||r>this.modelLineProjections.length)&&this.modelLineProjections[r-1].isVisible()}getModelLineViewLineCount(r){return r<1||r>this.modelLineProjections.length?1:this.modelLineProjections[r-1].getViewLineCount()}setTabSize(r){return this.tabSize!==r&&(this.tabSize=r,this._constructLines(!1,null),!0)}setWrappingSettings(r,c,_,T){const V=this.fontInfo.equals(r),ie=this.wrappingStrategy===c,he=this.wrappingColumn===_,ye=this.wrappingIndent===T;if(V&&ie&&he&&ye)return!1;const De=V&&ie&&!he&&ye;this.fontInfo=r,this.wrappingStrategy=c,this.wrappingColumn=_,this.wrappingIndent=T;let Pe=null;if(De){Pe=[];for(let ze=0,qe=this.modelLineProjections.length;ze<qe;ze++)Pe[ze]=this.modelLineProjections[ze].getProjectionData()}return this._constructLines(!1,Pe),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(r,c,_){if(!r||r<=this._validModelVersionId)return null;const T=1===c?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,V=this.projectedModelLineLineCounts.getPrefixSum(_);return this.modelLineProjections.splice(c-1,_-c+1),this.projectedModelLineLineCounts.removeValues(c-1,_-c+1),new gi(T,V)}onModelLinesInserted(r,c,_,T){if(!r||r<=this._validModelVersionId)return null;const V=c>2&&!this.modelLineProjections[c-2].isVisible(),ie=1===c?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1;let he=0;const ye=[],De=[];for(let Pe=0,ze=T.length;Pe<ze;Pe++){const qe=Ml(T[Pe],!V);ye.push(qe);const ot=qe.getViewLineCount();he+=ot,De[Pe]=ot}return this.modelLineProjections=this.modelLineProjections.slice(0,c-1).concat(ye).concat(this.modelLineProjections.slice(c-1)),this.projectedModelLineLineCounts.insertValues(c-1,De),new ns(ie,ie+he-1)}onModelLineChanged(r,c,_){if(null!==r&&r<=this._validModelVersionId)return[!1,null,null,null];const T=c-1,V=this.modelLineProjections[T].getViewLineCount(),he=Ml(_,this.modelLineProjections[T].isVisible());this.modelLineProjections[T]=he;const ye=this.modelLineProjections[T].getViewLineCount();let De=!1,Pe=0,ze=-1,qe=0,ot=-1,Ct=0,mt=-1;return V>ye?(Pe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,ze=Pe+ye-1,Ct=ze+1,mt=Ct+(V-ye)-1,De=!0):V<ye?(Pe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,ze=Pe+V-1,qe=ze+1,ot=qe+(ye-V)-1,De=!0):(Pe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,ze=Pe+ye-1),this.projectedModelLineLineCounts.setValue(T,ye),[De,Pe<=ze?new wr(Pe,ze):null,qe<=ot?new ns(qe,ot):null,Ct<=mt?new gi(Ct,mt):null]}acceptVersionId(r){this._validModelVersionId=r,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(r){if(r<1)return 1;const c=this.getViewLineCount();return r>c?c:0|r}getActiveIndentGuide(r,c,_){r=this._toValidViewLineNumber(r),c=this._toValidViewLineNumber(c),_=this._toValidViewLineNumber(_);const T=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),V=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),ie=this.convertViewPositionToModelPosition(_,this.getViewLineMinColumn(_)),he=this.model.guides.getActiveIndentGuide(T.lineNumber,V.lineNumber,ie.lineNumber),ye=this.convertModelPositionToViewPosition(he.startLineNumber,1),De=this.convertModelPositionToViewPosition(he.endLineNumber,this.model.getLineMaxColumn(he.endLineNumber));return{startLineNumber:ye.lineNumber,endLineNumber:De.lineNumber,indent:he.indent}}getViewLineInfo(r){r=this._toValidViewLineNumber(r);const c=this.projectedModelLineLineCounts.getIndexOf(r-1);return new ol(c.index+1,c.remainder)}getMinColumnOfViewLine(r){return this.modelLineProjections[r.modelLineNumber-1].getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(r){const c=this.modelLineProjections[r.modelLineNumber-1],_=c.getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),T=c.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,_);return new Rt.L(r.modelLineNumber,T)}getModelEndPositionOfViewLine(r){const c=this.modelLineProjections[r.modelLineNumber-1],_=c.getViewLineMaxColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),T=c.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,_);return new Rt.L(r.modelLineNumber,T)}getViewLineInfosGroupedByModelRanges(r,c){const _=this.getViewLineInfo(r),T=this.getViewLineInfo(c),V=new Array;let ie=this.getModelStartPositionOfViewLine(_),he=new Array;for(let ye=_.modelLineNumber;ye<=T.modelLineNumber;ye++){const De=this.modelLineProjections[ye-1];if(De.isVisible()){const Pe=ye===_.modelLineNumber?_.modelLineWrappedLineIdx:0,ze=ye===T.modelLineNumber?T.modelLineWrappedLineIdx+1:De.getViewLineCount();for(let qe=Pe;qe<ze;qe++)he.push(new ol(ye,qe))}if(!De.isVisible()&&ie){const Pe=new Rt.L(ye-1,this.model.getLineMaxColumn(ye-1)+1),ze=Mt.e.fromPositions(ie,Pe);V.push(new Oa(ze,he)),he=[],ie=null}else De.isVisible()&&!ie&&(ie=new Rt.L(ye,1))}if(ie){const ye=Mt.e.fromPositions(ie,this.getModelEndPositionOfViewLine(T));V.push(new Oa(ye,he))}return V}getViewLinesBracketGuides(r,c,_,T){const V=_?this.convertViewPositionToModelPosition(_.lineNumber,_.column):null,ie=[];for(const he of this.getViewLineInfosGroupedByModelRanges(r,c)){const ye=he.modelRange.startLineNumber,De=this.model.guides.getLinesBracketGuides(ye,he.modelRange.endLineNumber,V,T);for(const Pe of he.viewLines)if(Pe.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(Pe))ie.push([]);else{let ze=De[Pe.modelLineNumber-ye];ze=ze.map(qe=>qe.horizontalLine?new Wo.UO(qe.visibleColumn,qe.className,new Wo.vW(qe.horizontalLine.top,this.convertModelPositionToViewPosition(Pe.modelLineNumber,qe.horizontalLine.endColumn).column)):qe),ie.push(ze)}}return ie}getViewLinesIndentGuides(r,c){r=this._toValidViewLineNumber(r),c=this._toValidViewLineNumber(c);const _=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),T=this.convertViewPositionToModelPosition(c,this.getViewLineMaxColumn(c));let V=[];const ie=[],he=[],ye=_.lineNumber-1,De=T.lineNumber-1;let Pe=null;for(let Ct=ye;Ct<=De;Ct++){const mt=this.modelLineProjections[Ct];if(mt.isVisible()){const It=mt.getViewLineNumberOfModelPosition(0,Ct===ye?_.column:1),Zt=mt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Ct+1)),cn=Zt-It+1;let dn=0;cn>1&&1===mt.getViewLineMinColumn(this.model,Ct+1,Zt)&&(dn=0===It?1:2),ie.push(cn),he.push(dn),null===Pe&&(Pe=new Rt.L(Ct+1,0))}else null!==Pe&&(V=V.concat(this.model.guides.getLinesIndentGuides(Pe.lineNumber,Ct)),Pe=null)}null!==Pe&&(V=V.concat(this.model.guides.getLinesIndentGuides(Pe.lineNumber,T.lineNumber)),Pe=null);const ze=c-r+1,qe=new Array(ze);let ot=0;for(let Ct=0,mt=V.length;Ct<mt;Ct++){let It=V[Ct];const Zt=Math.min(ze-ot,ie[Ct]),cn=he[Ct];let dn;dn=2===cn?0:1===cn?1:Zt;for(let kn=0;kn<Zt;kn++)kn===dn&&(It=0),qe[ot++]=It}return qe}getViewLineContent(r){const c=this.getViewLineInfo(r);return this.modelLineProjections[c.modelLineNumber-1].getViewLineContent(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineLength(r){const c=this.getViewLineInfo(r);return this.modelLineProjections[c.modelLineNumber-1].getViewLineLength(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMinColumn(r){const c=this.getViewLineInfo(r);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMaxColumn(r){const c=this.getViewLineInfo(r);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineData(r){const c=this.getViewLineInfo(r);return this.modelLineProjections[c.modelLineNumber-1].getViewLineData(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLinesData(r,c,_){r=this._toValidViewLineNumber(r),c=this._toValidViewLineNumber(c);const T=this.projectedModelLineLineCounts.getIndexOf(r-1);let V=r;const ie=T.index,he=T.remainder,ye=[];for(let De=ie,Pe=this.model.getLineCount();De<Pe;De++){const ze=this.modelLineProjections[De];if(!ze.isVisible())continue;const qe=De===ie?he:0;let ot=ze.getViewLineCount()-qe,Ct=!1;if(V+ot>c&&(Ct=!0,ot=c-V+1),ze.getViewLinesData(this.model,De+1,qe,ot,V-r,_,ye),V+=ot,Ct)break}return ye}validateViewPosition(r,c,_){r=this._toValidViewLineNumber(r);const T=this.projectedModelLineLineCounts.getIndexOf(r-1),V=T.index,ie=T.remainder,he=this.modelLineProjections[V],ye=he.getViewLineMinColumn(this.model,V+1,ie),De=he.getViewLineMaxColumn(this.model,V+1,ie);c<ye&&(c=ye),c>De&&(c=De);const Pe=he.getModelColumnOfViewPosition(ie,c);return this.model.validatePosition(new Rt.L(V+1,Pe)).equals(_)?new Rt.L(r,c):this.convertModelPositionToViewPosition(_.lineNumber,_.column)}validateViewRange(r,c){const _=this.validateViewPosition(r.startLineNumber,r.startColumn,c.getStartPosition()),T=this.validateViewPosition(r.endLineNumber,r.endColumn,c.getEndPosition());return new Mt.e(_.lineNumber,_.column,T.lineNumber,T.column)}convertViewPositionToModelPosition(r,c){const _=this.getViewLineInfo(r),T=this.modelLineProjections[_.modelLineNumber-1].getModelColumnOfViewPosition(_.modelLineWrappedLineIdx,c);return this.model.validatePosition(new Rt.L(_.modelLineNumber,T))}convertViewRangeToModelRange(r){const c=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),_=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);return new Mt.e(c.lineNumber,c.column,_.lineNumber,_.column)}convertModelPositionToViewPosition(r,c,_=2){const T=this.model.validatePosition(new Rt.L(r,c)),V=T.lineNumber,ie=T.column;let he=V-1,ye=!1;for(;he>0&&!this.modelLineProjections[he].isVisible();)he--,ye=!0;if(0===he&&!this.modelLineProjections[he].isVisible())return new Rt.L(1,1);const De=1+this.projectedModelLineLineCounts.getPrefixSum(he);let Pe;return Pe=ye?this.modelLineProjections[he].getViewPositionOfModelPosition(De,this.model.getLineMaxColumn(he+1),_):this.modelLineProjections[V-1].getViewPositionOfModelPosition(De,ie,_),Pe}convertModelRangeToViewRange(r,c=0){if(r.isEmpty()){const _=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,c);return Mt.e.fromPositions(_)}{const _=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,1),T=this.convertModelPositionToViewPosition(r.endLineNumber,r.endColumn,0);return new Mt.e(_.lineNumber,_.column,T.lineNumber,T.column)}}getViewLineNumberOfModelPosition(r,c){let _=r-1;if(this.modelLineProjections[_].isVisible()){const V=1+this.projectedModelLineLineCounts.getPrefixSum(_);return this.modelLineProjections[_].getViewLineNumberOfModelPosition(V,c)}for(;_>0&&!this.modelLineProjections[_].isVisible();)_--;if(0===_&&!this.modelLineProjections[_].isVisible())return 1;const T=1+this.projectedModelLineLineCounts.getPrefixSum(_);return this.modelLineProjections[_].getViewLineNumberOfModelPosition(T,this.model.getLineMaxColumn(_+1))}getDecorationsInRange(r,c,_){const T=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),V=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);if(V.lineNumber-T.lineNumber<=r.endLineNumber-r.startLineNumber)return this.model.getDecorationsInRange(new Mt.e(T.lineNumber,1,V.lineNumber,V.column),c,_);let ie=[];const he=T.lineNumber-1,ye=V.lineNumber-1;let De=null;for(let ot=he;ot<=ye;ot++)if(this.modelLineProjections[ot].isVisible())null===De&&(De=new Rt.L(ot+1,ot===he?T.column:1));else if(null!==De){const mt=this.model.getLineMaxColumn(ot);ie=ie.concat(this.model.getDecorationsInRange(new Mt.e(De.lineNumber,De.column,ot,mt),c,_)),De=null}null!==De&&(ie=ie.concat(this.model.getDecorationsInRange(new Mt.e(De.lineNumber,De.column,V.lineNumber,V.column),c,_)),De=null),ie.sort((ot,Ct)=>{const mt=Mt.e.compareRangesUsingStarts(ot.range,Ct.range);return 0===mt?ot.id<Ct.id?-1:ot.id>Ct.id?1:0:mt});let Pe=[],ze=0,qe=null;for(const ot of ie){const Ct=ot.id;qe!==Ct&&(qe=Ct,Pe[ze++]=ot)}return Pe}getInjectedTextAt(r){const c=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[c.modelLineNumber-1].getInjectedTextAt(c.modelLineWrappedLineIdx,r.column)}normalizePosition(r,c){const _=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[_.modelLineNumber-1].normalizePosition(_.modelLineWrappedLineIdx,r,c)}getLineIndentColumn(r){const c=this.getViewLineInfo(r);return 0===c.modelLineWrappedLineIdx?this.model.getLineIndentColumn(c.modelLineNumber):0}}class ol{constructor(r,c){this.modelLineNumber=r,this.modelLineWrappedLineIdx=c}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class Oa{constructor(r,c){this.modelRange=r,this.viewLines=c}}class xu{constructor(r){this._lines=r}convertViewPositionToModelPosition(r){return this._lines.convertViewPositionToModelPosition(r.lineNumber,r.column)}convertViewRangeToModelRange(r){return this._lines.convertViewRangeToModelRange(r)}validateViewPosition(r,c){return this._lines.validateViewPosition(r.lineNumber,r.column,c)}validateViewRange(r,c){return this._lines.validateViewRange(r,c)}convertModelPositionToViewPosition(r,c){return this._lines.convertModelPositionToViewPosition(r.lineNumber,r.column,c)}convertModelRangeToViewRange(r,c){return this._lines.convertModelRangeToViewRange(r,c)}modelPositionIsVisible(r){return this._lines.modelPositionIsVisible(r.lineNumber,r.column)}getModelLineViewLineCount(r){return this._lines.getModelLineViewLineCount(r)}getViewLineNumberOfModelPosition(r,c){return this._lines.getViewLineNumberOfModelPosition(r,c)}}class Lu{constructor(r){this.model=r}dispose(){}createCoordinatesConverter(){return new Du(this)}getHiddenAreas(){return[]}setHiddenAreas(r){return!1}setTabSize(r){return!1}setWrappingSettings(r,c,_,T){return!1}createLineBreaksComputer(){const r=[];return{addRequest:(c,_,T)=>{r.push(null)},finalize:()=>r}}onModelFlushed(){}onModelLinesDeleted(r,c,_){return new gi(c,_)}onModelLinesInserted(r,c,_,T){return new ns(c,_)}onModelLineChanged(r,c,_){return[!1,new wr(c,c),null,null]}acceptVersionId(r){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(r,c,_){return{startLineNumber:r,endLineNumber:r,indent:0}}getViewLinesBracketGuides(r,c,_){return new Array(c-r+1).fill([])}getViewLinesIndentGuides(r,c){const _=c-r+1,T=new Array(_);for(let V=0;V<_;V++)T[V]=0;return T}getViewLineContent(r){return this.model.getLineContent(r)}getViewLineLength(r){return this.model.getLineLength(r)}getViewLineMinColumn(r){return this.model.getLineMinColumn(r)}getViewLineMaxColumn(r){return this.model.getLineMaxColumn(r)}getViewLineData(r){const c=this.model.getLineTokens(r),_=c.getLineContent();return new be.IP(_,!1,1,_.length+1,0,c.inflate(),null)}getViewLinesData(r,c,_){const T=this.model.getLineCount();r=Math.min(Math.max(1,r),T),c=Math.min(Math.max(1,c),T);const V=[];for(let ie=r;ie<=c;ie++){const he=ie-r;V[he]=_[he]?this.getViewLineData(ie):null}return V}getDecorationsInRange(r,c,_){return this.model.getDecorationsInRange(r,c,_)}normalizePosition(r,c){return this.model.normalizePosition(r,c)}getLineIndentColumn(r){return this.model.getLineIndentColumn(r)}getInjectedTextAt(r){return null}}class Du{constructor(r){this._lines=r}_validPosition(r){return this._lines.model.validatePosition(r)}_validRange(r){return this._lines.model.validateRange(r)}convertViewPositionToModelPosition(r){return this._validPosition(r)}convertViewRangeToModelRange(r){return this._validRange(r)}validateViewPosition(r,c){return this._validPosition(c)}validateViewRange(r,c){return this._validRange(c)}convertModelPositionToViewPosition(r){return this._validPosition(r)}convertModelRangeToViewRange(r){return this._validRange(r)}modelPositionIsVisible(r){const c=this._lines.model.getLineCount();return!(r.lineNumber<1||r.lineNumber>c)}getModelLineViewLineCount(r){return 1}getViewLineNumberOfModelPosition(r,c){return r}}class Eu extends C.JT{constructor(r,c,_,T,V,ie,he,ye){if(super(),this.languageConfigurationService=he,this._themeService=ye,this._editorId=r,this._configuration=c,this.model=_,this._eventDispatcher=new Oi,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Po.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new We.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new We.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new Lu(this.model);else{const De=this._configuration.options,Pe=De.get(44),ze=De.get(125),qe=De.get(132),ot=De.get(124);this._lines=new Hh(this._editorId,this.model,T,V,Pe,this.model.getOptions().tabSize,ze,qe.wrappingColumn,ot)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new rd(_,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new fa(this._configuration,this.getLineCount(),ie)),this._register(this.viewLayout.onDidScroll(De=>{De.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Ds(De)),this._eventDispatcher.emitOutgoingEvent(new Go(De.oldScrollWidth,De.oldScrollLeft,De.oldScrollHeight,De.oldScrollTop,De.scrollWidth,De.scrollLeft,De.scrollHeight,De.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(De=>{this._eventDispatcher.emitOutgoingEvent(De)})),this._decorations=new wu.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(De=>{try{const Pe=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Pe,De)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(ae.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new uc)})),this._register(this._themeService.onDidColorThemeChange(De=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Zo(De))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(r){this._eventDispatcher.addViewEventHandler(r)}removeViewEventHandler(r){this._eventDispatcher.removeViewEventHandler(r)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const r=this.viewLayout.getLinesViewportData(),c=new Mt.e(r.startLineNumber,this.getLineMinColumn(r.startLineNumber),r.endLineNumber,this.getLineMaxColumn(r.endLineNumber)),_=this._toModelVisibleRanges(c);for(const T of _)this.model.tokenizeViewport(T.startLineNumber,T.endLineNumber)}setHasFocus(r){this._hasFocus=r,this._cursor.setHasFocus(r),this._eventDispatcher.emitSingleViewEvent(new bu(r)),this._eventDispatcher.emitOutgoingEvent(new Ji(!r,r))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Na)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new _u)}_onConfigurationChanged(r,c){let _=null;if(-1!==this._viewportStartLine){const Pe=new Rt.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));_=this.coordinatesConverter.convertViewPositionToModelPosition(Pe)}let T=!1;const V=this._configuration.options,ie=V.get(44),he=V.get(125),ye=V.get(132),De=V.get(124);if(this._lines.setWrappingSettings(ie,he,ye.wrappingColumn,De)&&(r.emitViewEvent(new tl),r.emitViewEvent(new Br),r.emitViewEvent(new Fr(null)),this._cursor.onLineMappingChanged(r),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(T=!0),this._updateConfigurationViewLineCount.schedule()),c.hasChanged(81)&&(this._decorations.reset(),r.emitViewEvent(new Fr(null))),r.emitViewEvent(new Dl(c)),this.viewLayout.onConfigurationChanged(c),T&&_){const Pe=this.coordinatesConverter.convertModelPositionToViewPosition(_),ze=this.viewLayout.getVerticalOffsetForLineNumber(Pe.lineNumber);this.viewLayout.setScrollPosition({scrollTop:ze+this._viewportStartLineDelta},1)}Po.LM.shouldRecreate(c)&&(this.cursorConfig=new Po.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(r=>{try{const c=this._eventDispatcher.beginEmitViewEvents();let _=!1,T=!1;const V=r.changes,ie=r instanceof Ys.dQ?r.versionId:null,he=this._lines.createLineBreaksComputer();for(const Pe of V)switch(Pe.changeType){case 4:for(let ze=0;ze<Pe.detail.length;ze++){const qe=Pe.detail[ze];let ot=Pe.injectedTexts[ze];ot&&(ot=ot.filter(Ct=>!Ct.ownerId||Ct.ownerId===this._editorId)),he.addRequest(qe,ot,null)}break;case 2:{let ze=null;Pe.injectedText&&(ze=Pe.injectedText.filter(qe=>!qe.ownerId||qe.ownerId===this._editorId)),he.addRequest(Pe.detail,ze,null);break}}const ye=he.finalize(),De=new f.H9(ye);for(const Pe of V)switch(Pe.changeType){case 1:this._lines.onModelFlushed(),c.emitViewEvent(new tl),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),_=!0;break;case 3:{const ze=this._lines.onModelLinesDeleted(ie,Pe.fromLineNumber,Pe.toLineNumber);null!==ze&&(c.emitViewEvent(ze),this.viewLayout.onLinesDeleted(ze.fromLineNumber,ze.toLineNumber)),_=!0;break}case 4:{const ze=De.takeCount(Pe.detail.length),qe=this._lines.onModelLinesInserted(ie,Pe.fromLineNumber,Pe.toLineNumber,ze);null!==qe&&(c.emitViewEvent(qe),this.viewLayout.onLinesInserted(qe.fromLineNumber,qe.toLineNumber)),_=!0;break}case 2:{const ze=De.dequeue(),[qe,ot,Ct,mt]=this._lines.onModelLineChanged(ie,Pe.lineNumber,ze);T=qe,ot&&c.emitViewEvent(ot),Ct&&(c.emitViewEvent(Ct),this.viewLayout.onLinesInserted(Ct.fromLineNumber,Ct.toLineNumber)),mt&&(c.emitViewEvent(mt),this.viewLayout.onLinesDeleted(mt.fromLineNumber,mt.toLineNumber));break}}null!==ie&&this._lines.acceptVersionId(ie),this.viewLayout.onHeightMaybeChanged(),!_&&T&&(c.emitViewEvent(new Br),c.emitViewEvent(new Fr(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const c=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(c){const _=this.coordinatesConverter.convertModelPositionToViewPosition(c.getStartPosition()),T=this.viewLayout.getVerticalOffsetForLineNumber(_.lineNumber);this.viewLayout.setScrollPosition({scrollTop:T+this._viewportStartLineDelta},1)}}try{const c=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(c,r)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(r=>{const c=[];for(let _=0,T=r.ranges.length;_<T;_++){const V=r.ranges[_],ie=this.coordinatesConverter.convertModelPositionToViewPosition(new Rt.L(V.fromLineNumber,1)).lineNumber,he=this.coordinatesConverter.convertModelPositionToViewPosition(new Rt.L(V.toLineNumber,this.model.getLineMaxColumn(V.toLineNumber))).lineNumber;c[_]={fromLineNumber:ie,toLineNumber:he}}this._eventDispatcher.emitSingleViewEvent(new Es(c)),r.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(r=>{this._eventDispatcher.emitSingleViewEvent(new sd),this.cursorConfig=new Po.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(r=>{this.cursorConfig=new Po.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(r=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const c=this._eventDispatcher.beginEmitViewEvents();c.emitViewEvent(new tl),c.emitViewEvent(new Br),c.emitViewEvent(new Fr(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Po.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(r=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Fr(r))}))}setHiddenAreas(r){let c=!1;try{const _=this._eventDispatcher.beginEmitViewEvents();c=this._lines.setHiddenAreas(r),c&&(_.emitViewEvent(new tl),_.emitViewEvent(new Br),_.emitViewEvent(new Fr(null)),this._cursor.onLineMappingChanged(_),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),c&&this._eventDispatcher.emitOutgoingEvent(new is)}getVisibleRangesPlusViewportAboveBelow(){const r=this._configuration.options.get(131),c=this._configuration.options.get(59),_=Math.max(20,Math.round(r.height/c)),T=this.viewLayout.getLinesViewportData(),V=Math.max(1,T.completelyVisibleStartLineNumber-_),ie=Math.min(this.getLineCount(),T.completelyVisibleEndLineNumber+_);return this._toModelVisibleRanges(new Mt.e(V,this.getLineMinColumn(V),ie,this.getLineMaxColumn(ie)))}getVisibleRanges(){const r=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(r)}_toModelVisibleRanges(r){const c=this.coordinatesConverter.convertViewRangeToModelRange(r),_=this._lines.getHiddenAreas();if(0===_.length)return[c];const T=[];let V=0,ie=c.startLineNumber,he=c.startColumn;const ye=c.endLineNumber,De=c.endColumn;for(let Pe=0,ze=_.length;Pe<ze;Pe++){const qe=_[Pe].startLineNumber,ot=_[Pe].endLineNumber;ot<ie||qe>ye||(ie<qe&&(T[V++]=new Mt.e(ie,he,qe-1,this.model.getLineMaxColumn(qe-1))),ie=ot+1,he=1)}return(ie<ye||ie===ye&&he<De)&&(T[V++]=new Mt.e(ie,he,ye,De)),T}getCompletelyVisibleViewRange(){const r=this.viewLayout.getLinesViewportData(),c=r.completelyVisibleStartLineNumber,_=r.completelyVisibleEndLineNumber;return new Mt.e(c,this.getLineMinColumn(c),_,this.getLineMaxColumn(_))}getCompletelyVisibleViewRangeAtScrollTop(r){const c=this.viewLayout.getLinesViewportDataAtScrollTop(r),_=c.completelyVisibleStartLineNumber,T=c.completelyVisibleEndLineNumber;return new Mt.e(_,this.getLineMinColumn(_),T,this.getLineMaxColumn(T))}saveState(){const r=this.viewLayout.saveState(),c=r.scrollTop,_=this.viewLayout.getLineNumberAtVerticalOffset(c),T=this.coordinatesConverter.convertViewPositionToModelPosition(new Rt.L(_,this.getLineMinColumn(_))),V=this.viewLayout.getVerticalOffsetForLineNumber(_)-c;return{scrollLeft:r.scrollLeft,firstPosition:T,firstPositionDeltaTop:V}}reduceRestoreState(r){if(void 0===r.firstPosition)return this._reduceRestoreStateCompatibility(r);const c=this.model.validatePosition(r.firstPosition),_=this.coordinatesConverter.convertModelPositionToViewPosition(c),T=this.viewLayout.getVerticalOffsetForLineNumber(_.lineNumber)-r.firstPositionDeltaTop;return{scrollLeft:r.scrollLeft,scrollTop:T}}_reduceRestoreStateCompatibility(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(r,c,_){this._viewportStartLine=r;const T=this.coordinatesConverter.convertViewPositionToModelPosition(new Rt.L(r,this.getLineMinColumn(r)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Mt.e(T.lineNumber,T.column,T.lineNumber,T.column),1);const V=this.viewLayout.getVerticalOffsetForLineNumber(r),ie=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=ie-V}getActiveIndentGuide(r,c,_){return this._lines.getActiveIndentGuide(r,c,_)}getLinesIndentGuides(r,c){return this._lines.getViewLinesIndentGuides(r,c)}getBracketGuidesInRangeByLine(r,c,_,T){return this._lines.getViewLinesBracketGuides(r,c,_,T)}getLineContent(r){return this._lines.getViewLineContent(r)}getLineLength(r){return this._lines.getViewLineLength(r)}getLineMinColumn(r){return this._lines.getViewLineMinColumn(r)}getLineMaxColumn(r){return this._lines.getViewLineMaxColumn(r)}getLineFirstNonWhitespaceColumn(r){const c=yn.LC(this.getLineContent(r));return-1===c?0:c+1}getLineLastNonWhitespaceColumn(r){const c=yn.ow(this.getLineContent(r));return-1===c?0:c+2}getDecorationsInViewport(r){return this._decorations.getDecorationsViewportData(r).decorations}getInjectedTextAt(r){return this._lines.getInjectedTextAt(r)}getViewLineRenderingData(r,c){const _=this.model.mightContainRTL(),T=this.model.mightContainNonBasicASCII(),V=this.getTabSize(),ie=this._lines.getViewLineData(c);let ye=this._decorations.getDecorationsViewportData(r).inlineDecorations[c-r.startLineNumber];return ie.inlineDecorations&&(ye=[...ye,...ie.inlineDecorations.map(De=>De.toInlineDecoration(c))]),new be.wA(ie.minColumn,ie.maxColumn,ie.content,ie.continuesWithWrappedLine,_,T,ie.tokens,ye,V,ie.startVisibleColumn)}getViewLineData(r){return this._lines.getViewLineData(r)}getMinimapLinesRenderingData(r,c,_){const T=this._lines.getViewLinesData(r,c,_);return new be.ud(this.getTabSize(),T)}getAllOverviewRulerDecorations(r){const c=this.model.getOverviewRulerDecorations(this._editorId,(0,$.$J)(this._configuration.options)),_=new Uh;for(const T of c){const V=T.options,ie=V.overviewRuler;if(!ie)continue;const he=ie.position;if(0===he)continue;const ye=ie.getColor(r.value),De=this.coordinatesConverter.getViewLineNumberOfModelPosition(T.range.startLineNumber,T.range.startColumn),Pe=this.coordinatesConverter.getViewLineNumberOfModelPosition(T.range.endLineNumber,T.range.endColumn);_.accept(ye,V.zIndex,De,Pe,he)}return _.asArray}_invalidateDecorationsColorCache(){const r=this.model.getOverviewRulerDecorations();for(const c of r){const _=c.options.overviewRuler;_&&_.invalidateCachedColor();const T=c.options.minimap;T&&T.invalidateCachedColor()}}getValueInRange(r,c){const _=this.coordinatesConverter.convertViewRangeToModelRange(r);return this.model.getValueInRange(_,c)}deduceModelPositionRelativeToViewPosition(r,c,_){const T=this.coordinatesConverter.convertViewPositionToModelPosition(r);2===this.model.getEOL().length&&(c<0?c-=_:c+=_);const ie=this.model.getOffsetAt(T)+c;return this.model.getPositionAt(ie)}getPlainTextToCopy(r,c,_){const T=_?"\r\n":this.model.getEOL();(r=r.slice(0)).sort(Mt.e.compareRangesUsingStarts);let V=!1,ie=!1;for(const ye of r)ye.isEmpty()?V=!0:ie=!0;if(!ie){if(!c)return"";const ye=r.map(Pe=>Pe.startLineNumber);let De="";for(let Pe=0;Pe<ye.length;Pe++)Pe>0&&ye[Pe-1]===ye[Pe]||(De+=this.model.getLineContent(ye[Pe])+T);return De}if(V&&c){const ye=[];let De=0;for(const Pe of r){const ze=Pe.startLineNumber;Pe.isEmpty()?ze!==De&&ye.push(this.model.getLineContent(ze)):ye.push(this.model.getValueInRange(Pe,_?2:0)),De=ze}return 1===ye.length?ye[0]:ye}const he=[];for(const ye of r)ye.isEmpty()||he.push(this.model.getValueInRange(ye,_?2:0));return 1===he.length?he[0]:he}getRichTextToCopy(r,c){const _=this.model.getLanguageId();if(_===Pn.bd||1!==r.length)return null;let T=r[0];if(T.isEmpty()){if(!c)return null;const Pe=T.startLineNumber;T=new Mt.e(Pe,this.model.getLineMinColumn(Pe),Pe,this.model.getLineMaxColumn(Pe))}const V=this._configuration.options.get(44),ie=this._getColorMap();let De;return/[:;\\\/<>]/.test(V.fontFamily)||V.fontFamily===$.hL.fontFamily?De=$.hL.fontFamily:(De=V.fontFamily,De=De.replace(/"/g,"'"),/[,']/.test(De)||/[+ ]/.test(De)&&(De=`'${De}'`),De=`${De}, ${$.hL.fontFamily}`),{mode:_,html:`<div style="color: ${ie[1]};background-color: ${ie[2]};font-family: ${De};font-weight: ${V.fontWeight};font-size: ${V.fontSize}px;line-height: ${V.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(T,ie)+"</div>"}}_getHTMLToCopy(r,c){const _=r.startLineNumber,T=r.startColumn,V=r.endLineNumber,ie=r.endColumn,he=this.getTabSize();let ye="";for(let De=_;De<=V;De++){const Pe=this.model.getLineTokens(De),ze=Pe.getLineContent(),qe=De===_?T-1:0,ot=De===V?ie-1:ze.length;ye+=""===ze?"<br>":(0,vu.Fq)(ze,Pe.inflate(),c,qe,ot,he,H.ED)}return ye}_getColorMap(){const r=Di.RW.getColorMap(),c=["#000000"];if(r)for(let _=1,T=r.length;_<T;_++)c[_]=xn.Il.Format.CSS.formatHex(r[_]);return c}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(r,c,_){return this._withViewEventsCollector(T=>this._cursor.setStates(T,r,c,_))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(r){this._cursor.setCursorColumnSelectData(r)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(r){this._cursor.setPrevEditOperationType(r)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(r,c,_=0){this._withViewEventsCollector(T=>this._cursor.setSelections(T,r,c,_))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(r){this._withViewEventsCollector(c=>this._cursor.restoreState(c,r))}_executeCursorEdit(r){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new Bh):this._withViewEventsCollector(r)}executeEdits(r,c,_){this._executeCursorEdit(T=>this._cursor.executeEdits(T,r,c,_))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(r=>this._cursor.startComposition(r))}endComposition(r){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(c=>this._cursor.endComposition(c,r))}type(r,c){this._executeCursorEdit(_=>this._cursor.type(_,r,c))}compositionType(r,c,_,T,V){this._executeCursorEdit(ie=>this._cursor.compositionType(ie,r,c,_,T,V))}paste(r,c,_,T){this._executeCursorEdit(V=>this._cursor.paste(V,r,c,_,T))}cut(r){this._executeCursorEdit(c=>this._cursor.cut(c,r))}executeCommand(r,c){this._executeCursorEdit(_=>this._cursor.executeCommand(_,r,c))}executeCommands(r,c){this._executeCursorEdit(_=>this._cursor.executeCommands(_,r,c))}revealPrimaryCursor(r,c,_=!1){this._withViewEventsCollector(T=>this._cursor.revealPrimary(T,r,_,0,c,0))}revealTopMostCursor(r){const c=this._cursor.getTopMostViewPosition(),_=new Mt.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(T=>T.emitViewEvent(new us(r,!1,_,null,0,!0,0)))}revealBottomMostCursor(r){const c=this._cursor.getBottomMostViewPosition(),_=new Mt.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(T=>T.emitViewEvent(new us(r,!1,_,null,0,!0,0)))}revealRange(r,c,_,T,V){this._withViewEventsCollector(ie=>ie.emitViewEvent(new us(r,!1,_,null,T,c,V)))}changeWhitespace(r){this.viewLayout.changeWhitespace(r)&&(this._eventDispatcher.emitSingleViewEvent(new Ia),this._eventDispatcher.emitOutgoingEvent(new is))}_withViewEventsCollector(r){try{return r(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(r,c){return this._lines.normalizePosition(r,c)}getLineIndentColumn(r){return this._lines.getLineIndentColumn(r)}}class Uh{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(r,c,_,T,V){const ie=this._asMap[r];if(ie){const he=ie.data,De=he[he.length-1];if(he[he.length-3]===V&&De+1>=_)return void(T>De&&(he[he.length-1]=T));he.push(V,_,T)}else{const he=new be.SQ(r,c,[V,_,T]);this._asMap[r]=he,this.asArray.push(he)}}}var ud=m(10467),hd=m(6461),Wr=m(43569),sl=m(9771),Mu=m(8135),fd=m(59242);class kl{constructor(r,c,_,T,V){this.injectionOffsets=r,this.injectionOptions=c,this.breakOffsets=_,this.breakOffsetsVisibleColumn=T,this.wrappedTextIndentLength=V}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(r){return r>0?this.wrappedTextIndentLength:0}getLineLength(r){let T=this.breakOffsets[r]-(r>0?this.breakOffsets[r-1]:0);return r>0&&(T+=this.wrappedTextIndentLength),T}getMaxOutputOffset(r){return this.getLineLength(r)}translateToInputOffset(r,c){r>0&&(c=Math.max(0,c-this.wrappedTextIndentLength));let T=0===r?c:this.breakOffsets[r-1]+c;if(null!==this.injectionOffsets)for(let V=0;V<this.injectionOffsets.length&&T>this.injectionOffsets[V];V++)T<this.injectionOffsets[V]+this.injectionOptions[V].content.length?T=this.injectionOffsets[V]:T-=this.injectionOptions[V].content.length;return T}translateToOutputPosition(r,c=2){let _=r;if(null!==this.injectionOffsets)for(let T=0;T<this.injectionOffsets.length&&!(r<this.injectionOffsets[T]||1!==c&&r===this.injectionOffsets[T]);T++)_+=this.injectionOptions[T].content.length;return this.offsetInInputWithInjectionsToOutputPosition(_,c)}offsetInInputWithInjectionsToOutputPosition(r,c=2){let _=0,T=this.breakOffsets.length-1,V=0,ie=0;for(;_<=T;){V=_+(T-_)/2|0;const ye=this.breakOffsets[V];if(ie=V>0?this.breakOffsets[V-1]:0,0===c)if(r<=ie)T=V-1;else{if(!(r>ye))break;_=V+1}else if(r<ie)T=V-1;else{if(!(r>=ye))break;_=V+1}}let he=r-ie;return V>0&&(he+=this.wrappedTextIndentLength),new mc(V,he)}normalizeOutputPosition(r,c,_){if(null!==this.injectionOffsets){const T=this.outputPositionToOffsetInInputWithInjections(r,c),V=this.normalizeOffsetInInputWithInjectionsAroundInjections(T,_);if(V!==T)return this.offsetInInputWithInjectionsToOutputPosition(V,_)}if(0===_){if(r>0&&c===this.getMinOutputOffset(r))return new mc(r-1,this.getMaxOutputOffset(r-1))}else if(1===_&&r<this.getOutputLineCount()-1&&c===this.getMaxOutputOffset(r))return new mc(r+1,this.getMinOutputOffset(r+1));return new mc(r,c)}outputPositionToOffsetInInputWithInjections(r,c){return r>0&&(c=Math.max(0,c-this.wrappedTextIndentLength)),(r>0?this.breakOffsets[r-1]:0)+c}normalizeOffsetInInputWithInjectionsAroundInjections(r,c){const _=this.getInjectedTextAtOffset(r);if(!_)return r;if(2===c){if(r===_.offsetInInputWithInjections+_.length&&Nu(this.injectionOptions[_.injectedTextIndex].cursorStops))return _.offsetInInputWithInjections+_.length;{let T=_.offsetInInputWithInjections;if(gd(this.injectionOptions[_.injectedTextIndex].cursorStops))return T;let V=_.injectedTextIndex-1;for(;V>=0&&this.injectionOffsets[V]===this.injectionOffsets[_.injectedTextIndex]&&!Nu(this.injectionOptions[V].cursorStops)&&(T-=this.injectionOptions[V].content.length,!gd(this.injectionOptions[V].cursorStops));)V--;return T}}if(1===c){let T=_.offsetInInputWithInjections+_.length,V=_.injectedTextIndex;for(;V+1<this.injectionOffsets.length&&this.injectionOffsets[V+1]===this.injectionOffsets[V];)T+=this.injectionOptions[V+1].content.length,V++;return T}if(0===c){let T=_.offsetInInputWithInjections,V=_.injectedTextIndex;for(;V-1>=0&&this.injectionOffsets[V-1]===this.injectionOffsets[V];)T-=this.injectionOptions[V-1].content.length,V--;return T}(0,sr.vE)(c)}getInjectedText(r,c){const _=this.outputPositionToOffsetInInputWithInjections(r,c),T=this.getInjectedTextAtOffset(_);return T?{options:this.injectionOptions[T.injectedTextIndex]}:null}getInjectedTextAtOffset(r){const c=this.injectionOffsets,_=this.injectionOptions;if(null!==c){let T=0;for(let V=0;V<c.length;V++){const ie=_[V].content.length,he=c[V]+T,ye=c[V]+T+ie;if(he>r)break;if(r<=ye)return{injectedTextIndex:V,offsetInInputWithInjections:he,length:ie};T+=ie}}}}function Nu(ge){return null==ge||ge===Gt.RM.Right||ge===Gt.RM.Both}function gd(ge){return null==ge||ge===Gt.RM.Left||ge===Gt.RM.Both}class mc{constructor(r,c){this.outputLineIndex=r,this.outputOffset=c}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(r){return new Rt.L(r+this.outputLineIndex,this.outputOffset+1)}}class pc{constructor(r,c){this.classifier=new jh(r,c)}static create(r){return new pc(r.get(120),r.get(119))}createLineBreaksComputer(r,c,_,T){const V=[],ie=[],he=[];return{addRequest:(ye,De,Pe)=>{V.push(ye),ie.push(De),he.push(Pe)},finalize:()=>{const ye=r.typicalFullwidthCharacterWidth/r.typicalHalfwidthCharacterWidth,De=[];for(let Pe=0,ze=V.length;Pe<ze;Pe++){const qe=ie[Pe],ot=he[Pe];De[Pe]=!ot||ot.injectionOptions||qe?ga(this.classifier,V[Pe],qe,c,_,ye,T):Kh(this.classifier,ot,V[Pe],c,_,ye,T)}return _c.length=0,md.length=0,De}}}}class jh extends fd.N{constructor(r,c){super(0);for(let _=0;_<r.length;_++)this.set(r.charCodeAt(_),1);for(let _=0;_<c.length;_++)this.set(c.charCodeAt(_),2)}get(r){return r>=0&&r<256?this._asciiMap[r]:r>=12352&&r<=12543||r>=13312&&r<=19903||r>=19968&&r<=40959?3:this._map.get(r)||this._defaultValue}}let _c=[],md=[];function Kh(ge,r,c,_,T,V,ie){if(-1===T)return null;const he=c.length;if(he<=1)return null;const ye=r.breakOffsets,De=r.breakOffsetsVisibleColumn,Pe=Ms(c,_,T,V,ie),ze=T-Pe,qe=_c,ot=md;let Ct=0,mt=0,It=0,Zt=T;const cn=ye.length;let dn=0;if(dn>=0){let kn=Math.abs(De[dn]-Zt);for(;dn+1<cn;){const Vn=Math.abs(De[dn+1]-Zt);if(Vn>=kn)break;kn=Vn,dn++}}for(;dn<cn;){let kn=dn<0?0:ye[dn],Vn=dn<0?0:De[dn];mt>kn&&(kn=mt,Vn=It);let Fn=0,On=0,Ln=0,pn=0;if(Vn<=Zt){let ni=Vn,Eo=0===kn?0:c.charCodeAt(kn-1),bo=0===kn?0:ge.get(Eo),ti=!0;for(let io=kn;io<he;io++){const An=io,Ho=c.charCodeAt(io);let $n,Wi;if(yn.ZG(Ho)?(io++,$n=0,Wi=2):($n=ge.get(Ho),Wi=Aa(Ho,ni,_,V)),An>mt&&Cc(0,bo,Ho,$n)&&(Fn=An,On=ni),ni+=Wi,ni>Zt){An>mt?(Ln=An,pn=ni-Wi):(Ln=io+1,pn=ni),ni-On>ze&&(Fn=0),ti=!1;break}Eo=Ho,bo=$n}if(ti){Ct>0&&(qe[Ct]=ye[ye.length-1],ot[Ct]=De[ye.length-1],Ct++);break}}if(0===Fn){let ni=Vn,Eo=c.charCodeAt(kn),bo=ge.get(Eo),ti=!1;for(let io=kn-1;io>=mt;io--){const An=io+1,Ho=c.charCodeAt(io);if(9===Ho){ti=!0;break}let $n,Wi;if(yn.YK(Ho)?(io--,$n=0,Wi=2):($n=ge.get(Ho),Wi=yn.K7(Ho)?V:1),ni<=Zt){if(0===Ln&&(Ln=An,pn=ni),ni<=Zt-ze)break;if(Cc(0,$n,Eo,bo)){Fn=An,On=ni;break}}ni-=Wi,Eo=Ho,bo=$n}if(0!==Fn){const io=ze-(pn-On);if(io<=_){const An=c.charCodeAt(Ln);let Ho;Ho=yn.ZG(An)?2:Aa(An,pn,_,V),io-Ho<0&&(Fn=0)}}if(ti){dn--;continue}}if(0===Fn&&(Fn=Ln,On=pn),Fn<=mt){const ni=c.charCodeAt(mt);yn.ZG(ni)?(Fn=mt+2,On=It+2):(Fn=mt+1,On=It+Aa(ni,It,_,V))}for(mt=Fn,qe[Ct]=Fn,It=On,ot[Ct]=On,Ct++,Zt=On+ze;dn<0||dn<cn&&De[dn]<On;)dn++;let Ni=Math.abs(De[dn]-Zt);for(;dn+1<cn;){const ni=Math.abs(De[dn+1]-Zt);if(ni>=Ni)break;Ni=ni,dn++}}return 0===Ct?null:(qe.length=Ct,ot.length=Ct,_c=r.breakOffsets,md=r.breakOffsetsVisibleColumn,r.breakOffsets=qe,r.breakOffsetsVisibleColumn=ot,r.wrappedTextIndentLength=Pe,r)}function ga(ge,r,c,_,T,V,ie){const he=Ys.gk.applyInjectedText(r,c);let ye,De;if(c&&c.length>0?(ye=c.map(On=>On.options),De=c.map(On=>On.column-1)):(ye=null,De=null),-1===T)return ye?new kl(De,ye,[he.length],[],0):null;const Pe=he.length;if(Pe<=1)return ye?new kl(De,ye,[he.length],[],0):null;const ze=Ms(he,_,T,V,ie),qe=T-ze,ot=[],Ct=[];let mt=0,It=0,Zt=0,cn=T,dn=he.charCodeAt(0),kn=ge.get(dn),Vn=Aa(dn,0,_,V),Fn=1;yn.ZG(dn)&&(Vn+=1,dn=he.charCodeAt(1),kn=ge.get(dn),Fn++);for(let On=Fn;On<Pe;On++){const Ln=On,pn=he.charCodeAt(On);let Ni,ni;yn.ZG(pn)?(On++,Ni=0,ni=2):(Ni=ge.get(pn),ni=Aa(pn,Vn,_,V)),Cc(0,kn,pn,Ni)&&(It=Ln,Zt=Vn),Vn+=ni,Vn>cn&&((0===It||Vn-Zt>qe)&&(It=Ln,Zt=Vn-ni),ot[mt]=It,Ct[mt]=Zt,mt++,cn=Zt+qe,It=0),dn=pn,kn=Ni}return 0!==mt||c&&0!==c.length?(ot[mt]=Pe,Ct[mt]=Vn,new kl(De,ye,ot,Ct,ze)):null}function Aa(ge,r,c,_){return 9===ge?c-r%c:yn.K7(ge)||ge<32?_:1}function rl(ge,r){return r-ge%r}function Cc(ge,r,c,_){return 32!==c&&(2===r||3===r&&2!==_||1===_||3===_&&1!==r)}function Ms(ge,r,c,_,T){let V=0;if(0!==T){const ie=yn.LC(ge);if(-1!==ie){for(let ye=0;ye<ie;ye++)V+=9===ge.charCodeAt(ye)?rl(V,r):1;const he=3===T?2:2===T?1:0;for(let ye=0;ye<he;ye++)V+=rl(V,r);V+_>c&&(V=0)}}return V}var Oo;const Ko=null===(Oo=window.trustedTypes)||void 0===Oo?void 0:Oo.createPolicy("domLineBreaksComputer",{createHTML:ge=>ge});class Iu{static create(){return new Iu}constructor(){}createLineBreaksComputer(r,c,_,T){const V=[],ie=[];return{addRequest:(he,ye,De)=>{V.push(he),ie.push(ye)},finalize:()=>function(ge,r,c,_,T,V){var ie;function he(Ln){const pn=V[Ln];if(pn){const Ni=Ys.gk.applyInjectedText(ge[Ln],pn),ni=pn.map(bo=>bo.options),Eo=pn.map(bo=>bo.column-1);return new kl(Eo,ni,[Ni.length],[],0)}return null}if(-1===_){const Ln=[];for(let pn=0,Ni=ge.length;pn<Ni;pn++)Ln[pn]=he(pn);return Ln}const ye=Math.round(_*r.typicalHalfwidthCharacterWidth),Pe=Math.round(c*(3===T?2:2===T?1:0)),ze=Math.ceil(r.spaceWidth*Pe),qe=document.createElement("div");(0,_n.N)(qe,r);const ot=(0,ao.l$)(1e4),Ct=[],mt=[],It=[],Zt=[],cn=[];for(let Ln=0;Ln<ge.length;Ln++){const pn=Ys.gk.applyInjectedText(ge[Ln],V[Ln]);let Ni=0,ni=0,Eo=ye;if(0!==T)if(Ni=yn.LC(pn),-1===Ni)Ni=0;else{for(let An=0;An<Ni;An++)ni+=9===pn.charCodeAt(An)?c-ni%c:1;const io=Math.ceil(r.spaceWidth*ni);io+r.typicalFullwidthCharacterWidth>ye?(Ni=0,ni=0):Eo=ye-io}const bo=pn.substr(Ni),ti=mi(bo,ni,c,Eo,ot,ze);Ct[Ln]=Ni,mt[Ln]=ni,It[Ln]=bo,Zt[Ln]=ti[0],cn[Ln]=ti[1]}const dn=ot.build(),kn=null!==(ie=null==Ko?void 0:Ko.createHTML(dn))&&void 0!==ie?ie:dn;qe.innerHTML=kn,qe.style.position="absolute",qe.style.top="10000",qe.style.wordWrap="break-word",document.body.appendChild(qe);const Vn=document.createRange(),Fn=Array.prototype.slice.call(qe.children,0),On=[];for(let Ln=0;Ln<ge.length;Ln++){const Ni=vt(Vn,Fn[Ln],It[Ln],Zt[Ln]);if(null===Ni){On[Ln]=he(Ln);continue}const ni=Ct[Ln],Eo=mt[Ln]+Pe,bo=cn[Ln],ti=[];for(let $n=0,Wi=Ni.length;$n<Wi;$n++)ti[$n]=bo[Ni[$n]];if(0!==ni)for(let $n=0,Wi=Ni.length;$n<Wi;$n++)Ni[$n]+=ni;let io,An;const Ho=V[Ln];Ho?(io=Ho.map($n=>$n.options),An=Ho.map($n=>$n.column-1)):(io=null,An=null),On[Ln]=new kl(An,io,Ni,ti,Eo)}return document.body.removeChild(qe),On}(V,r,c,_,T,ie)}}}function mi(ge,r,c,_,T,V){if(0!==V){const qe=String(V);T.appendASCIIString('<div style="text-indent: -'),T.appendASCIIString(qe),T.appendASCIIString("px; padding-left: "),T.appendASCIIString(qe),T.appendASCIIString("px; box-sizing: border-box; width:")}else T.appendASCIIString('<div style="width:');T.appendASCIIString(String(_)),T.appendASCIIString('px;">');const ie=ge.length;let he=r,ye=0;const De=[],Pe=[];let ze=0<ie?ge.charCodeAt(0):0;T.appendASCIIString("<span>");for(let qe=0;qe<ie;qe++){0!==qe&&qe%16384==0&&T.appendASCIIString("</span><span>"),De[qe]=ye,Pe[qe]=he;const ot=ze;ze=qe+1<ie?ge.charCodeAt(qe+1):0;let Ct=1,mt=1;switch(ot){case 9:Ct=c-he%c,mt=Ct;for(let It=1;It<=Ct;It++)It<Ct?T.write1(160):T.appendASCII(32);break;case 32:32===ze?T.write1(160):T.appendASCII(32);break;case 60:T.appendASCIIString("&lt;");break;case 62:T.appendASCIIString("&gt;");break;case 38:T.appendASCIIString("&amp;");break;case 0:T.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:T.write1(65533);break;default:yn.K7(ot)&&mt++,T.write1(ot<32?9216+ot:ot)}ye+=Ct,he+=mt}return T.appendASCIIString("</span>"),De[ge.length]=ye,Pe[ge.length]=he,T.appendASCIIString("</div>"),[De,Pe]}function vt(ge,r,c,_){if(c.length<=1)return null;const T=Array.prototype.slice.call(r.children,0),V=[];try{Ee(ge,T,_,0,null,c.length-1,null,V)}catch(ie){return console.log(ie),null}return 0===V.length?null:(V.push(c.length),V)}function Ee(ge,r,c,_,T,V,ie,he){if(_===V||(T=T||$t(ge,r,c[_],c[_+1]),ie=ie||$t(ge,r,c[V],c[V+1]),Math.abs(T[0].top-ie[0].top)<=.1))return;if(_+1===V)return void he.push(V);const ye=_+(V-_)/2|0,De=$t(ge,r,c[ye],c[ye+1]);Ee(ge,r,c,_,T,ye,De,he),Ee(ge,r,c,ye,De,V,ie,he)}function $t(ge,r,c,_){return ge.setStart(r[c/16384|0].firstChild,c%16384),ge.setEnd(r[_/16384|0].firstChild,_%16384),ge.getClientRects()}var bc=m(34397),pd=m(92119),vc=m(3494),_s=function(ge,r){return function(c,_){r(c,_,ge)}};let ku=0;class _d{constructor(r,c,_,T,V){this.model=r,this.viewModel=c,this.view=_,this.hasRealView=T,this.listenersToRemove=V}dispose(){(0,C.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Tl=class Mp extends C.JT{constructor(r,c,_,T,V,ie,he,ye,De,Pe,ze,qe){super(),this.languageConfigurationService=ze,this._onDidDispose=this._register(new y.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new y.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new y.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new y.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new y.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new y.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new y.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new y.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new y.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new y.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new y.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new y.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Ra),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Ra),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new y.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new y.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new y.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new y.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new y.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new y.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new y.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new y.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new y.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new y.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new y.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new y.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new y.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new y.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new y.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new y.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new y.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new y.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new y.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new y.Q5),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const ot=Object.assign({},c);let Ct;this._domElement=r,this._overflowWidgetsDomNode=ot.overflowWidgetsDomNode,delete ot.overflowWidgetsDomNode,this._id=++ku,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=_.telemetryData,this._configuration=this._register(this._createConfiguration(_.isSimpleWidget||!1,ot,Pe)),this._register(this._configuration.onDidChange(mt=>{this._onDidChangeConfiguration.fire(mt);const It=this._configuration.options;if(mt.hasChanged(131)){const Zt=It.get(131);this._onDidLayoutChange.fire(Zt)}})),this._contextKeyService=this._register(he.createScoped(this._domElement)),this._notificationService=De,this._codeEditorService=V,this._commandService=ie,this._themeService=ye,this._register(new Wn(this,this._contextKeyService)),this._register(new Pt(this,this._contextKeyService,qe)),this._instantiationService=T.createChild(new sl.y([hd.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new $h(r),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},Ct=Array.isArray(_.contributions)?_.contributions:g.Uc.getEditorContributions();for(const mt of Ct)if(this._contributions[mt.id])(0,k.dL)(new Error(`Cannot have two contributions with the same id ${mt.id}`));else try{const It=this._instantiationService.createInstance(mt.ctor,this);this._contributions[mt.id]=It}catch(It){(0,k.dL)(It)}g.Uc.getEditorActions().forEach(mt=>{if(this._actions[mt.id])return void(0,k.dL)(new Error(`Cannot have two actions with the same id ${mt.id}`));const It=new ka.p(mt.id,mt.label,mt.alias,(0,sr.f6)(mt.precondition),()=>this._instantiationService.invokeFunction(Zt=>Promise.resolve(mt.runEditorCommand(Zt,this,null))),this._contextKeyService);this._actions[It.id]=It}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(r,c,_){return new _e(r,c,this._domElement,_)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Dg.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const r=Object.keys(this._contributions);for(let c=0,_=r.length;c<_;c++)this._contributions[r[c]].dispose();this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(r){return this._instantiationService.invokeFunction(r)}updateOptions(r){this._configuration.updateOptions(r||{})}getOptions(){return this._configuration.options}getOption(r){return this._configuration.options.get(r)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(r){return this._modelData?bc.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),r):null}getValue(r=null){if(!this._modelData)return"";let _=0;return r&&r.lineEnding&&"\n"===r.lineEnding?_=1:r&&r.lineEnding&&"\r\n"===r.lineEnding&&(_=2),this._modelData.model.getValue(_,!(!r||!r.preserveBOM))}setValue(r){!this._modelData||this._modelData.model.setValue(r)}getModel(){return this._modelData?this._modelData.model:null}setModel(r=null){const c=r;if(null===this._modelData&&null===c||this._modelData&&this._modelData.model===c)return;const _=this.hasTextFocus(),T=this._detachModel();this._attachModel(c),_&&this.hasModel()&&this.focus();const V={oldModelUrl:T?T.uri:null,newModelUrl:c?c.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(V),this._postDetachModelCleanup(T)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let r in this._decorationTypeSubtypes){const c=this._decorationTypeSubtypes[r];for(let _ in c)this._removeDecorationType(r+"-"+_)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(r,c,_){const T=r.model.validatePosition({lineNumber:c,column:_}),V=r.viewModel.coordinatesConverter.convertModelPositionToViewPosition(T);return r.viewModel.viewLayout.getVerticalOffsetForLineNumber(V.lineNumber)}getTopForLineNumber(r){return this._modelData?Mp._getVerticalOffsetForPosition(this._modelData,r,1):-1}getTopForPosition(r,c){return this._modelData?Mp._getVerticalOffsetForPosition(this._modelData,r,c):-1}setHiddenAreas(r){this._modelData&&this._modelData.viewModel.setHiddenAreas(r.map(c=>Mt.e.lift(c)))}getVisibleColumnFromPosition(r){if(!this._modelData)return r.column;const c=this._modelData.model.validatePosition(r),_=this._modelData.model.getOptions().tabSize;return Yn.i.visibleColumnFromColumn(this._modelData.model.getLineContent(c.lineNumber),c.column,_)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(r,c="api"){if(this._modelData){if(!Rt.L.isIPosition(r))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,[{selectionStartLineNumber:r.lineNumber,selectionStartColumn:r.column,positionLineNumber:r.lineNumber,positionColumn:r.column}])}}_sendRevealRange(r,c,_,T){if(!this._modelData)return;if(!Mt.e.isIRange(r))throw new Error("Invalid arguments");const V=this._modelData.model.validateRange(r),ie=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(V);this._modelData.viewModel.revealRange("api",_,ie,c,T)}revealLine(r,c=0){this._revealLine(r,0,c)}revealLineInCenter(r,c=0){this._revealLine(r,1,c)}revealLineInCenterIfOutsideViewport(r,c=0){this._revealLine(r,2,c)}revealLineNearTop(r,c=0){this._revealLine(r,5,c)}_revealLine(r,c,_){if("number"!=typeof r)throw new Error("Invalid arguments");this._sendRevealRange(new Mt.e(r,1,r,1),c,!1,_)}revealPosition(r,c=0){this._revealPosition(r,0,!0,c)}revealPositionInCenter(r,c=0){this._revealPosition(r,1,!0,c)}revealPositionInCenterIfOutsideViewport(r,c=0){this._revealPosition(r,2,!0,c)}revealPositionNearTop(r,c=0){this._revealPosition(r,5,!0,c)}_revealPosition(r,c,_,T){if(!Rt.L.isIPosition(r))throw new Error("Invalid arguments");this._sendRevealRange(new Mt.e(r.lineNumber,r.column,r.lineNumber,r.column),c,_,T)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(r,c="api"){const _=re.Y.isISelection(r),T=Mt.e.isIRange(r);if(!_&&!T)throw new Error("Invalid arguments");_?this._setSelectionImpl(r,c):T&&this._setSelectionImpl({selectionStartLineNumber:r.startLineNumber,selectionStartColumn:r.startColumn,positionLineNumber:r.endLineNumber,positionColumn:r.endColumn},c)}_setSelectionImpl(r,c){if(!this._modelData)return;const _=new re.Y(r.selectionStartLineNumber,r.selectionStartColumn,r.positionLineNumber,r.positionColumn);this._modelData.viewModel.setSelections(c,[_])}revealLines(r,c,_=0){this._revealLines(r,c,0,_)}revealLinesInCenter(r,c,_=0){this._revealLines(r,c,1,_)}revealLinesInCenterIfOutsideViewport(r,c,_=0){this._revealLines(r,c,2,_)}revealLinesNearTop(r,c,_=0){this._revealLines(r,c,5,_)}_revealLines(r,c,_,T){if("number"!=typeof r||"number"!=typeof c)throw new Error("Invalid arguments");this._sendRevealRange(new Mt.e(r,1,c,1),_,!1,T)}revealRange(r,c=0,_=!1,T=!0){this._revealRange(r,_?1:0,T,c)}revealRangeInCenter(r,c=0){this._revealRange(r,1,!0,c)}revealRangeInCenterIfOutsideViewport(r,c=0){this._revealRange(r,2,!0,c)}revealRangeNearTop(r,c=0){this._revealRange(r,5,!0,c)}revealRangeNearTopIfOutsideViewport(r,c=0){this._revealRange(r,6,!0,c)}revealRangeAtTop(r,c=0){this._revealRange(r,3,!0,c)}_revealRange(r,c,_,T){if(!Mt.e.isIRange(r))throw new Error("Invalid arguments");this._sendRevealRange(Mt.e.lift(r),c,_,T)}setSelections(r,c="api",_=0){if(this._modelData){if(!r||0===r.length)throw new Error("Invalid arguments");for(let T=0,V=r.length;T<V;T++)if(!re.Y.isISelection(r[T]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,r,_)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(r,c=1){if(this._modelData){if("number"!=typeof r)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:r},c)}}setScrollTop(r,c=1){if(this._modelData){if("number"!=typeof r)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:r},c)}}setScrollPosition(r,c=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(r,c)}saveViewState(){if(!this._modelData)return null;const r={},c=Object.keys(this._contributions);for(const V of c){const ie=this._contributions[V];"function"==typeof ie.saveViewState&&(r[V]=ie.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:r}}restoreViewState(r){if(!this._modelData||!this._modelData.hasRealView)return;const c=r;if(c&&c.cursorState&&c.viewState){const _=c.cursorState;Array.isArray(_)?_.length>0&&this._modelData.viewModel.restoreCursorState(_):this._modelData.viewModel.restoreCursorState([_]);const T=c.contributionsState||{},V=Object.keys(this._contributions);for(let he=0,ye=V.length;he<ye;he++){const De=V[he],Pe=this._contributions[De];"function"==typeof Pe.restoreViewState&&Pe.restoreViewState(T[De])}const ie=this._modelData.viewModel.reduceRestoreState(c.viewState);this._modelData.view.restoreState(ie)}}getContribution(r){return this._contributions[r]||null}getActions(){const r=[],c=Object.keys(this._actions);for(let _=0,T=c.length;_<T;_++)r.push(this._actions[c[_]]);return r}getSupportedActions(){let r=this.getActions();return r=r.filter(c=>c.isSupported()),r}getAction(r){return this._actions[r]||null}trigger(r,c,_){switch(_=_||{},c){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(r);case"type":return void this._type(r,_.text||"");case"replacePreviousChar":return void this._compositionType(r,_.text||"",_.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(r,_.text||"",_.replacePrevCharCnt||0,_.replaceNextCharCnt||0,_.positionDelta||0);case"paste":return void this._paste(r,_.text||"",_.pasteOnNewLine||!1,_.multicursorText||null,_.mode||null);case"cut":return void this._cut(r)}const T=this.getAction(c);T?Promise.resolve(T.run()).then(void 0,k.dL):!this._modelData||this._triggerEditorCommand(r,c,_)||this._triggerCommand(c,_)}_triggerCommand(r,c){this._commandService.executeCommand(r,c)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(r){!this._modelData||(this._modelData.viewModel.endComposition(r),this._onDidCompositionEnd.fire())}_type(r,c){!this._modelData||0===c.length||("keyboard"===r&&this._onWillType.fire(c),this._modelData.viewModel.type(c,r),"keyboard"===r&&this._onDidType.fire(c))}_compositionType(r,c,_,T,V){!this._modelData||this._modelData.viewModel.compositionType(c,_,T,V,r)}_paste(r,c,_,T,V){if(!this._modelData||0===c.length)return;const ie=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(c,_,T,r);const he=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===r&&this._onDidPaste.fire({range:new Mt.e(ie.lineNumber,ie.column,he.lineNumber,he.column),languageId:V})}_cut(r){!this._modelData||this._modelData.viewModel.cut(r)}_triggerEditorCommand(r,c,_){const T=g.Uc.getEditorCommand(c);return!!T&&((_=_||{}).source=r,this._instantiationService.invokeFunction(V=>{Promise.resolve(T.runEditorCommand(V,this,_)).then(void 0,k.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(81)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(81)||(this._modelData.model.popStackElement(),0))}executeEdits(r,c,_){if(!this._modelData||this._configuration.options.get(81))return!1;let T;return T=_?Array.isArray(_)?()=>_:_:()=>null,this._modelData.viewModel.executeEdits(r,c,T),!0}executeCommand(r,c){!this._modelData||this._modelData.viewModel.executeCommand(c,r)}executeCommands(r,c){!this._modelData||this._modelData.viewModel.executeCommands(c,r)}changeDecorations(r){return this._modelData?this._modelData.model.changeDecorations(r,this._id):null}getLineDecorations(r){return this._modelData?this._modelData.model.getLineDecorations(r,this._id,(0,$.$J)(this._configuration.options)):null}getDecorationsInRange(r){return this._modelData?this._modelData.model.getDecorationsInRange(r,this._id,(0,$.$J)(this._configuration.options)):null}deltaDecorations(r,c){return this._modelData?0===r.length&&0===c.length?r:this._modelData.model.deltaDecorations(r,c,this._id):[]}removeDecorations(r){const c=this._decorationTypeKeysToIds[r];c&&this.deltaDecorations(c,[]),this._decorationTypeKeysToIds.hasOwnProperty(r)&&delete this._decorationTypeKeysToIds[r],this._decorationTypeSubtypes.hasOwnProperty(r)&&delete this._decorationTypeSubtypes[r]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(r){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(r):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(r)}layout(r){this._configuration.observeContainer(r),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(r){const c={widget:r,position:r.getPosition()};this._contentWidgets.hasOwnProperty(r.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[r.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(c)}layoutContentWidget(r){const c=r.getId();if(this._contentWidgets.hasOwnProperty(c)){const _=this._contentWidgets[c];_.position=r.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(_)}}removeContentWidget(r){const c=r.getId();if(this._contentWidgets.hasOwnProperty(c)){const _=this._contentWidgets[c];delete this._contentWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(_)}}addOverlayWidget(r){const c={widget:r,position:r.getPosition()};this._overlayWidgets.hasOwnProperty(r.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[r.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(c)}layoutOverlayWidget(r){const c=r.getId();if(this._overlayWidgets.hasOwnProperty(c)){const _=this._overlayWidgets[c];_.position=r.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(_)}}removeOverlayWidget(r){const c=r.getId();if(this._overlayWidgets.hasOwnProperty(c)){const _=this._overlayWidgets[c];delete this._overlayWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(_)}}changeViewZones(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(r)}getTargetAtClientPoint(r,c){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(r,c):null}getScrolledVisiblePosition(r){if(!this._modelData||!this._modelData.hasRealView)return null;const c=this._modelData.model.validatePosition(r),_=this._configuration.options,T=_.get(131);return{top:Mp._getVerticalOffsetForPosition(this._modelData,c.lineNumber,c.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(c.lineNumber,c.column)+T.glyphMarginWidth+T.lineNumbersWidth+T.decorationsWidth-this.getScrollLeft(),height:_.get(59)}}getOffsetForColumn(r,c){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(r,c):-1}render(r=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,r)}setAriaOptions(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(r)}applyFontInfo(r){(0,_n.N)(r,this._configuration.options.get(44))}setBanner(r,c){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=r,this._configuration.setReservedHeight(r?c:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(r){if(!r)return void(this._modelData=null);const c=[];this._domElement.setAttribute("data-mode-id",r.getLanguageId()),this._configuration.setIsDominatedByLongLines(r.isDominatedByLongLines()),this._configuration.setModelLineCount(r.getLineCount()),r.onBeforeAttached();const _=new Eu(this._id,this._configuration,r,Iu.create(),pc.create(this._configuration.options),ie=>F.jL(ie),this.languageConfigurationService,this._themeService);c.push(r.onDidChangeDecorations(ie=>this._onDidChangeModelDecorations.fire(ie))),c.push(r.onDidChangeLanguage(ie=>{this._domElement.setAttribute("data-mode-id",r.getLanguageId()),this._onDidChangeModelLanguage.fire(ie)})),c.push(r.onDidChangeLanguageConfiguration(ie=>this._onDidChangeModelLanguageConfiguration.fire(ie))),c.push(r.onDidChangeContent(ie=>this._onDidChangeModelContent.fire(ie))),c.push(r.onDidChangeOptions(ie=>this._onDidChangeModelOptions.fire(ie))),c.push(r.onWillDispose(()=>this.setModel(null))),c.push(_.onEvent(ie=>{switch(ie.kind){case 0:this._onDidContentSizeChange.fire(ie);break;case 1:this._editorTextFocus.setValue(ie.hasFocus);break;case 2:this._onDidScrollChange.fire(ie);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ie.reachedMaxCursorCount&&this._notificationService.warn(O.N("cursors.maximum","The number of cursors has been limited to {0}.",rd.MAX_CURSOR_COUNT));const he=[];for(let Pe=0,ze=ie.selections.length;Pe<ze;Pe++)he[Pe]=ie.selections[Pe].getPosition();const ye={position:he[0],secondaryPositions:he.slice(1),reason:ie.reason,source:ie.source};this._onDidChangeCursorPosition.fire(ye);const De={selection:ie.selections[0],secondarySelections:ie.selections.slice(1),modelVersionId:ie.modelVersionId,oldSelections:ie.oldSelections,oldModelVersionId:ie.oldModelVersionId,source:ie.source,reason:ie.reason};this._onDidChangeCursorSelection.fire(De);break}}}));const[T,V]=this._createView(_);if(V){this._domElement.appendChild(T.domNode.domNode);let ie=Object.keys(this._contentWidgets);for(let he=0,ye=ie.length;he<ye;he++)T.addContentWidget(this._contentWidgets[ie[he]]);ie=Object.keys(this._overlayWidgets);for(let he=0,ye=ie.length;he<ye;he++)T.addOverlayWidget(this._overlayWidgets[ie[he]]);T.render(!1,!0),T.domNode.domNode.setAttribute("data-uri",r.uri.toString())}this._modelData=new _d(r,_,T,V,c)}_createView(r){let c;c=this.isSimpleWidget?{paste:(V,ie,he,ye)=>{this._paste("keyboard",V,ie,he,ye)},type:V=>{this._type("keyboard",V)},compositionType:(V,ie,he,ye)=>{this._compositionType("keyboard",V,ie,he,ye)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(V,ie,he,ye)=>{this._commandService.executeCommand("paste",{text:V,pasteOnNewLine:ie,multicursorText:he,mode:ye})},type:V=>{this._commandService.executeCommand("type",{text:V})},compositionType:(V,ie,he,ye)=>{he||ye?this._commandService.executeCommand("compositionType",{text:V,replacePrevCharCnt:ie,replaceNextCharCnt:he,positionDelta:ye}):this._commandService.executeCommand("replacePreviousChar",{text:V,replaceCharCnt:ie})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const _=new ei(r.coordinatesConverter);return _.onKeyDown=V=>this._onKeyDown.fire(V),_.onKeyUp=V=>this._onKeyUp.fire(V),_.onContextMenu=V=>this._onContextMenu.fire(V),_.onMouseMove=V=>this._onMouseMove.fire(V),_.onMouseLeave=V=>this._onMouseLeave.fire(V),_.onMouseDown=V=>this._onMouseDown.fire(V),_.onMouseUp=V=>this._onMouseUp.fire(V),_.onMouseDrag=V=>this._onMouseDrag.fire(V),_.onMouseDrop=V=>this._onMouseDrop.fire(V),_.onMouseDropCanceled=V=>this._onMouseDropCanceled.fire(V),_.onMouseWheel=V=>this._onMouseWheel.fire(V),[new cc(c,this._configuration,this._themeService.getColorTheme(),r,_,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(r){r&&r.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const r=this._modelData.model,c=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),c&&this._domElement.contains(c)&&this._domElement.removeChild(c),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),r}_removeDecorationType(r){this._codeEditorService.removeDecorationType(r)}hasModel(){return null!==this._modelData}};Tl=function(ge,r,c,_){var ie,T=arguments.length,V=T<3?r:null===_?_=Object.getOwnPropertyDescriptor(r,c):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)V=Reflect.decorate(ge,r,c,_);else for(var he=ge.length-1;he>=0;he--)(ie=ge[he])&&(V=(T<3?ie(V):T>3?ie(r,c,V):ie(r,c))||V);return T>3&&V&&Object.defineProperty(r,c,V),V}([_s(3,Wr.TG),_s(4,J.$),_s(5,ud.Hy),_s(6,hd.i6),_s(7,En.XE),_s(8,Mu.lT),_s(9,oe.F),_s(10,pd.c_),_s(11,vc.p)],Tl);class Ra extends C.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new y.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new y.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(r){const c=r?2:1;this._value!==c&&(this._value=c,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class Wn extends C.JT{constructor(r,c){super(),this._editor=r,c.createKey("editorId",r.getId()),this._editorSimpleInput=uo.u.editorSimpleInput.bindTo(c),this._editorFocus=uo.u.focus.bindTo(c),this._textInputFocus=uo.u.textInputFocus.bindTo(c),this._editorTextFocus=uo.u.editorTextFocus.bindTo(c),this._editorTabMovesFocus=uo.u.tabMovesFocus.bindTo(c),this._editorReadonly=uo.u.readOnly.bindTo(c),this._inDiffEditor=uo.u.inDiffEditor.bindTo(c),this._editorColumnSelection=uo.u.columnSelection.bindTo(c),this._hasMultipleSelections=uo.u.hasMultipleSelections.bindTo(c),this._hasNonEmptySelection=uo.u.hasNonEmptySelection.bindTo(c),this._canUndo=uo.u.canUndo.bindTo(c),this._canRedo=uo.u.canRedo.bindTo(c),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const r=this._editor.getOptions();this._editorTabMovesFocus.set(r.get(130)),this._editorReadonly.set(r.get(81)),this._inDiffEditor.set(r.get(54)),this._editorColumnSelection.set(r.get(18))}_updateFromSelection(){const r=this._editor.getSelections();r?(this._hasMultipleSelections.set(r.length>1),this._hasNonEmptySelection.set(r.some(c=>!c.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const r=this._editor.getModel();this._canUndo.set(Boolean(r&&r.canUndo())),this._canRedo.set(Boolean(r&&r.canRedo()))}}class Pt extends C.JT{constructor(r,c,_){super(),this._editor=r,this._contextKeyService=c,this._languageFeaturesService=_,this._langId=uo.u.languageId.bindTo(c),this._hasCompletionItemProvider=uo.u.hasCompletionItemProvider.bindTo(c),this._hasCodeActionsProvider=uo.u.hasCodeActionsProvider.bindTo(c),this._hasCodeLensProvider=uo.u.hasCodeLensProvider.bindTo(c),this._hasDefinitionProvider=uo.u.hasDefinitionProvider.bindTo(c),this._hasDeclarationProvider=uo.u.hasDeclarationProvider.bindTo(c),this._hasImplementationProvider=uo.u.hasImplementationProvider.bindTo(c),this._hasTypeDefinitionProvider=uo.u.hasTypeDefinitionProvider.bindTo(c),this._hasHoverProvider=uo.u.hasHoverProvider.bindTo(c),this._hasDocumentHighlightProvider=uo.u.hasDocumentHighlightProvider.bindTo(c),this._hasDocumentSymbolProvider=uo.u.hasDocumentSymbolProvider.bindTo(c),this._hasReferenceProvider=uo.u.hasReferenceProvider.bindTo(c),this._hasRenameProvider=uo.u.hasRenameProvider.bindTo(c),this._hasSignatureHelpProvider=uo.u.hasSignatureHelpProvider.bindTo(c),this._hasInlayHintsProvider=uo.u.hasInlayHintsProvider.bindTo(c),this._hasDocumentFormattingProvider=uo.u.hasDocumentFormattingProvider.bindTo(c),this._hasDocumentSelectionFormattingProvider=uo.u.hasDocumentSelectionFormattingProvider.bindTo(c),this._hasMultipleDocumentFormattingProvider=uo.u.hasMultipleDocumentFormattingProvider.bindTo(c),this._hasMultipleDocumentSelectionFormattingProvider=uo.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(c),this._isInWalkThrough=uo.u.isInWalkThroughSnippet.bindTo(c);const T=()=>this._update();this._register(r.onDidChangeModel(T)),this._register(r.onDidChangeModelLanguage(T)),this._register(_.completionProvider.onDidChange(T)),this._register(_.codeActionProvider.onDidChange(T)),this._register(_.codeLensProvider.onDidChange(T)),this._register(_.definitionProvider.onDidChange(T)),this._register(_.declarationProvider.onDidChange(T)),this._register(_.implementationProvider.onDidChange(T)),this._register(_.typeDefinitionProvider.onDidChange(T)),this._register(_.hoverProvider.onDidChange(T)),this._register(_.documentHighlightProvider.onDidChange(T)),this._register(_.documentSymbolProvider.onDidChange(T)),this._register(_.referenceProvider.onDidChange(T)),this._register(_.renameProvider.onDidChange(T)),this._register(_.documentFormattingEditProvider.onDidChange(T)),this._register(_.documentRangeFormattingEditProvider.onDidChange(T)),this._register(_.signatureHelpProvider.onDidChange(T)),this._register(_.inlayHintsProvider.onDidChange(T)),T()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const r=this._editor.getModel();r?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(r.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(r)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(r)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(r)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(r)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(r)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(r)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(r)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(r)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(r)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(r)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(r)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(r)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(r)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(r)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(r)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(r)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(r)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(r).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(r).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(r).length>1),this._isInWalkThrough.set(r.uri.scheme===b.lg.walkThroughSnippet)}):this.reset()}}class $h extends C.JT{constructor(r){super(),this._onChange=this._register(new y.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(F.go(r)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const hi=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),kt=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Fo(ge){return hi+encodeURIComponent(ge.toString())+kt}const Zi=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Yr=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,En.Ic)((ge,r)=>{const c=ge.getColor(to.b6y);c&&r.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${c}; }`);const _=ge.getColor(to.lXJ);_&&r.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Fo(_)}") repeat-x bottom left; }`);const T=ge.getColor(to.L_H);T&&r.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${T}; }`);const V=ge.getColor(to.pW3);V&&r.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${V}; }`);const ie=ge.getColor(to.uoC);ie&&r.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Fo(ie)}") repeat-x bottom left; }`);const he=ge.getColor(to.gpD);he&&r.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${he}; }`);const ye=ge.getColor(to.T83);ye&&r.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${ye}; }`);const De=ge.getColor(to.c63);De&&r.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Fo(De)}") repeat-x bottom left; }`);const Pe=ge.getColor(to.few);Pe&&r.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Pe}; }`);const ze=ge.getColor(to.fEB);ze&&r.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${ze}; }`);const qe=ge.getColor(to.Dut);qe&&r.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function(ge){return Zi+encodeURIComponent(ge.toString())+Yr}(qe)}") no-repeat bottom left; }`);const ot=ge.getColor(ln.zu);ot&&r.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${ot.rgba.a}; }`);const Ct=ge.getColor(ln.kp);Ct&&r.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Ct}; }`);const mt=ge.getColor(to.NOs)||"inherit";r.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${mt}}`)})},87155:(Fe,Ne,m)=>{m.d(Ne,{p:()=>xi}),m(13401);var le,g=m(12918),Y=m(86678),B=m(81718),D=m(54789),i=m(89983),O=m(71040),F=m(40189),k=m(6809),y=m(78622),C=m(57623),b=m(17703),f=(m(58964),m(60291)),M=m(6491),H=m(50955),L=m(44346),N=m(52925),Z=m(5928),P=m(67947),I=m(79695),$=m(19362),U=m(42483),G=m(6461),oe=m(98275),de=m(53323),fe=m(78968),_e=m(80974),we=m(80810);class J{constructor(Ve,Qe,ct,xt){this.originalLineStart=Ve,this.originalLineEnd=Qe,this.modifiedLineStart=ct,this.modifiedLineEnd=xt}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class re{constructor(Ve){this.entries=Ve}}const ce=(0,_e.q5)("diff-review-insert",fe.lA.add,g.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),ve=(0,_e.q5)("diff-review-remove",fe.lA.remove,g.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),ke=(0,_e.q5)("diff-review-close",fe.lA.close,g.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));let We=class fu extends F.JT{constructor(Ve,Qe){super(),this._languageService=Qe,this._width=0,this._diffEditor=Ve,this._isVisible=!1,this.shadow=(0,B.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,B.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new f.o(this.actionBarContainer.domNode)),this._actionBar.push(new H.aU("diffreview.close",g.N("label.close","Close"),"close-diff-review "+de.kS.asClassName(ke),!0,()=>function(Kt,Ve,Qe,ct){return new(Qe||(Qe=Promise))(function(Ht,en){function hn(wn){try{_n(ct.next(wn))}catch(rn){en(rn)}}function yn(wn){try{_n(ct.throw(wn))}catch(rn){en(rn)}}function _n(wn){wn.done?Ht(wn.value):function(Ht){return Ht instanceof Qe?Ht:new Qe(function(en){en(Ht)})}(wn.value).then(hn,yn)}_n((ct=ct.apply(Kt,Ve||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,B.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,B.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new M.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(Ve.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(Ve.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Y.mu(this.domNode.domNode,"click",ct=>{ct.preventDefault();const xt=Y.Fx(ct.target,"diff-review-row");xt&&this._goToRow(xt)})),this._register(Y.mu(this.domNode.domNode,"keydown",ct=>{(ct.equals(18)||ct.equals(2066)||ct.equals(530))&&(ct.preventDefault(),this._goToRow(this._getNextRow())),(ct.equals(16)||ct.equals(2064)||ct.equals(528))&&(ct.preventDefault(),this._goToRow(this._getPrevRow())),(ct.equals(9)||ct.equals(2057)||ct.equals(521)||ct.equals(1033))&&(ct.preventDefault(),this.hide()),(ct.equals(10)||ct.equals(3))&&(ct.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let Ve=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let ct=-1;for(let xt=0,Ht=this._diffs.length;xt<Ht;xt++)if(this._diffs[xt]===this._currentDiff){ct=xt;break}Ve=this._diffs.length+ct-1}else Ve=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;Ve%=this._diffs.length;const Qe=this._diffs[Ve].entries;this._diffEditor.setPosition(new P.L(Qe[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Qe[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Qe[Qe.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let Ve=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let ct=-1;for(let xt=0,Ht=this._diffs.length;xt<Ht;xt++)if(this._diffs[xt]===this._currentDiff){ct=xt;break}Ve=ct+1}else Ve=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;Ve%=this._diffs.length;const Qe=this._diffs[Ve].entries;this._diffEditor.setPosition(new P.L(Qe[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Qe[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Qe[Qe.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let Ve=-1;const Qe=this._getCurrentFocusedRow();if(Qe){const ct=parseInt(Qe.getAttribute("data-line"),10);isNaN(ct)||(Ve=ct)}this.hide(),-1!==Ve&&(this._diffEditor.setPosition(new P.L(Ve,1)),this._diffEditor.revealPosition(new P.L(Ve,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const Ve=this._getCurrentFocusedRow();return Ve?Ve.previousElementSibling?Ve.previousElementSibling:Ve:this._getFirstRow()}_getNextRow(){const Ve=this._getCurrentFocusedRow();return Ve?Ve.nextElementSibling?Ve.nextElementSibling:Ve:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const Ve=document.activeElement;return Ve&&/diff-review-row/.test(Ve.className)?Ve:null}_goToRow(Ve){const Qe=this._getCurrentFocusedRow();Ve.tabIndex=0,Ve.focus(),Qe&&Qe!==Ve&&(Qe.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(Ve,Qe,ct){this._width=Qe,this.shadow.setTop(Ve-6),this.shadow.setWidth(Qe),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(Ve),this.domNode.setWidth(Qe),this.domNode.setHeight(ct),this._content.setHeight(ct),this._content.setWidth(Qe),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const Ve=this._diffEditor.getLineChanges();if(!Ve||0===Ve.length)return[];const Qe=this._diffEditor.getOriginalEditor().getModel(),ct=this._diffEditor.getModifiedEditor().getModel();return Qe&&ct?fu._mergeAdjacent(Ve,Qe.getLineCount(),ct.getLineCount()):[]}static _mergeAdjacent(Ve,Qe,ct){if(!Ve||0===Ve.length)return[];const xt=[];let Ht=0;for(let _n=0,wn=Ve.length;_n<wn;_n++){const rn=Ve[_n],vn=rn.originalStartLineNumber,ln=rn.originalEndLineNumber,En=rn.modifiedStartLineNumber,In=rn.modifiedEndLineNumber,Kn=[];let Jn=0;{const _i=0===ln?vn:vn-1,Di=0===In?En:En-1;let xn=1,Mi=1;if(_n>0){const Mn=Ve[_n-1];xn=0===Mn.originalEndLineNumber?Mn.originalStartLineNumber+1:Mn.originalEndLineNumber+1,Mi=0===Mn.modifiedEndLineNumber?Mn.modifiedStartLineNumber+1:Mn.modifiedEndLineNumber+1}let li=_i-3+1,pi=Di-3+1;if(li<xn){const Mn=xn-li;li+=Mn,pi+=Mn}if(pi<Mi){const Mn=Mi-pi;li+=Mn,pi+=Mn}Kn[Jn++]=new J(li,_i,pi,Di)}0!==ln&&(Kn[Jn++]=new J(vn,ln,0,0)),0!==In&&(Kn[Jn++]=new J(0,0,En,In));{const _i=0===ln?vn+1:ln+1,Di=0===In?En+1:In+1;let xn=Qe,Mi=ct;if(_n+1<wn){const Mn=Ve[_n+1];xn=0===Mn.originalEndLineNumber?Mn.originalStartLineNumber:Mn.originalStartLineNumber-1,Mi=0===Mn.modifiedEndLineNumber?Mn.modifiedStartLineNumber:Mn.modifiedStartLineNumber-1}let li=_i+3-1,pi=Di+3-1;if(li>xn){const Mn=xn-li;li+=Mn,pi+=Mn}if(pi>Mi){const Mn=Mi-pi;li+=Mn,pi+=Mn}Kn[Jn++]=new J(_i,li,Di,pi)}xt[Ht++]=new re(Kn)}let en=xt[0].entries;const hn=[];let yn=0;for(let _n=1,wn=xt.length;_n<wn;_n++){const rn=xt[_n].entries,vn=en[en.length-1],ln=rn[0];0===vn.getType()&&0===ln.getType()&&ln.originalLineStart<=vn.originalLineEnd?(en[en.length-1]=new J(vn.originalLineStart,ln.originalLineEnd,vn.modifiedLineStart,ln.modifiedLineEnd),en=en.concat(rn.slice(1))):(hn[yn++]=new re(en),en=rn)}return hn[yn++]=new re(en),hn}_findDiffIndex(Ve){const Qe=Ve.lineNumber;for(let ct=0,xt=this._diffs.length;ct<xt;ct++){const Ht=this._diffs[ct].entries;if(Qe<=Ht[Ht.length-1].modifiedLineEnd)return ct}return 0}_render(){const Ve=this._diffEditor.getOriginalEditor().getOptions(),Qe=this._diffEditor.getModifiedEditor().getOptions(),ct=this._diffEditor.getOriginalEditor().getModel(),xt=this._diffEditor.getModifiedEditor().getModel(),Ht=ct.getOptions(),en=xt.getOptions();if(!this._isVisible||!ct||!xt)return Y.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const hn=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[hn]===this._currentDiff)return;this._currentDiff=this._diffs[hn];const yn=this._diffs[hn].entries,_n=document.createElement("div");_n.className="diff-review-table",_n.setAttribute("role","list"),_n.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,k.N)(_n,Qe.get(44));let wn=0,rn=0,vn=0,ln=0;for(let pi=0,Mn=yn.length;pi<Mn;pi++){const Ci=yn[pi],Ti=Ci.originalLineStart,ei=Ci.originalLineEnd,ao=Ci.modifiedLineStart,zn=Ci.modifiedLineEnd;0!==Ti&&(0===wn||Ti<wn)&&(wn=Ti),0!==ei&&(0===rn||ei>rn)&&(rn=ei),0!==ao&&(0===vn||ao<vn)&&(vn=ao),0!==zn&&(0===ln||zn>ln)&&(ln=zn)}const En=document.createElement("div");En.className="diff-review-row";const In=document.createElement("div");In.className="diff-review-cell diff-review-summary";const Kn=rn-wn+1,Jn=ln-vn+1;In.appendChild(document.createTextNode(`${hn+1}/${this._diffs.length}: @@ -${wn},${Kn} +${vn},${Jn} @@`)),En.setAttribute("data-line",String(vn));const _i=pi=>0===pi?g.N("no_lines_changed","no lines changed"):1===pi?g.N("one_line_changed","1 line changed"):g.N("more_lines_changed","{0} lines changed",pi),Di=_i(Kn),xn=_i(Jn);En.setAttribute("aria-label",g.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",hn+1,this._diffs.length,wn,Di,vn,xn)),En.appendChild(In),En.setAttribute("role","listitem"),_n.appendChild(En);const Mi=Qe.get(59);let li=vn;for(let pi=0,Mn=yn.length;pi<Mn;pi++){const Ci=yn[pi];fu._renderSection(_n,Ci,li,Mi,this._width,Ve,ct,Ht,Qe,xt,en,this._languageService.languageIdCodec),0!==Ci.modifiedLineStart&&(li=Ci.modifiedLineEnd)}Y.PO(this._content.domNode),this._content.domNode.appendChild(_n),this.scrollbar.scanDomNode()}static _renderSection(Ve,Qe,ct,xt,Ht,en,hn,yn,_n,wn,rn,vn){const ln=Qe.getType();let En="diff-review-row",In="",Jn=null;switch(ln){case 1:En="diff-review-row line-insert",In=" char-insert",Jn=ce;break;case 2:En="diff-review-row line-delete",In=" char-delete",Jn=ve}const _i=Qe.originalLineStart,xn=Qe.modifiedLineStart,li=Math.max(Qe.modifiedLineEnd-xn,Qe.originalLineEnd-_i),pi=en.get(131),Mn=pi.glyphMarginWidth+pi.lineNumbersWidth,Ci=_n.get(131),Ti=10+Ci.glyphMarginWidth+Ci.lineNumbersWidth;for(let ei=0;ei<=li;ei++){const ao=0===_i?0:_i+ei,zn=0===xn?0:xn+ei,ji=document.createElement("div");ji.style.minWidth=Ht+"px",ji.className=En,ji.setAttribute("role","listitem"),0!==zn&&(ct=zn),ji.setAttribute("data-line",String(ct));const co=document.createElement("div");co.className="diff-review-cell",co.style.height=`${xt}px`,ji.appendChild(co);const oi=document.createElement("span");oi.style.width=Mn+"px",oi.style.minWidth=Mn+"px",oi.className="diff-review-line-number"+In,0!==ao?oi.appendChild(document.createTextNode(String(ao))):oi.innerText="\xa0",co.appendChild(oi);const _o=document.createElement("span");_o.style.width=Ti+"px",_o.style.minWidth=Ti+"px",_o.style.paddingRight="10px",_o.className="diff-review-line-number"+In,0!==zn?_o.appendChild(document.createTextNode(String(zn))):_o.innerText="\xa0",co.appendChild(_o);const Ei=document.createElement("span");if(Ei.className="diff-review-spacer",Jn){const Yi=document.createElement("span");Yi.className=de.kS.asClassName(Jn),Yi.innerText="\xa0\xa0",Ei.appendChild(Yi)}else Ei.innerText="\xa0\xa0";let ko;if(co.appendChild(Ei),0!==zn){let Yi=this._renderLine(wn,_n,rn.tabSize,zn,vn);fu._ttPolicy&&(Yi=fu._ttPolicy.createHTML(Yi)),co.insertAdjacentHTML("beforeend",Yi),ko=wn.getLineContent(zn)}else{let Yi=this._renderLine(hn,en,yn.tabSize,ao,vn);fu._ttPolicy&&(Yi=fu._ttPolicy.createHTML(Yi)),co.insertAdjacentHTML("beforeend",Yi),ko=hn.getLineContent(ao)}0===ko.length&&(ko=g.N("blankLine","blank"));let yo="";switch(ln){case 0:yo=ao===zn?g.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",ko,ao):g.N("equalLine","{0} original line {1} modified line {2}",ko,ao,zn);break;case 1:yo=g.N("insertLine","+ {0} modified line {1}",ko,zn);break;case 2:yo=g.N("deleteLine","- {0} original line {1}",ko,ao)}ji.setAttribute("aria-label",yo),Ve.appendChild(ji)}}static _renderLine(Ve,Qe,ct,xt,Ht){const en=Ve.getLineContent(xt),hn=Qe.get(44),yn=Z.A.createEmpty(en,Ht),_n=U.wA.isBasicASCII(en,Ve.mightContainNonBasicASCII()),wn=U.wA.containsRTL(en,_n,Ve.mightContainRTL());return(0,$.tF)(new $.IJ(hn.isMonospace&&!Qe.get(29),hn.canUseHalfwidthRightwardsArrow,en,!1,_n,wn,0,yn,[],ct,0,hn.spaceWidth,hn.middotWidth,hn.wsmiddotWidth,Qe.get(105),Qe.get(88),Qe.get(83),Qe.get(45)!==N.n0.OFF,null)).html}};var Ve;function Ce(Kt){const Ve=Kt.get(C.$),Qe=Ve.listDiffEditors(),ct=Ve.getActiveCodeEditor();if(!ct)return null;for(let xt=0,Ht=Qe.length;xt<Ht;xt++){const en=Qe[xt];if(en.getModifiedEditor().getId()===ct.getId()||en.getOriginalEditor().getId()===ct.getId())return en}return null}We._ttPolicy=null===(le=window.trustedTypes)||void 0===le?void 0:le.createPolicy("diffReview",{createHTML:Kt=>Kt}),We=function(Kt,Ve,Qe,ct){var en,xt=arguments.length,Ht=xt<3?Ve:null===ct?ct=Object.getOwnPropertyDescriptor(Ve,Qe):ct;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ht=Reflect.decorate(Kt,Ve,Qe,ct);else for(var hn=Kt.length-1;hn>=0;hn--)(en=Kt[hn])&&(Ht=(xt<3?en(Ht):xt>3?en(Ve,Qe,Ht):en(Ve,Qe))||Ht);return xt>3&&Ht&&Object.defineProperty(Ve,Qe,Ht),Ht}([(1,Ve=we.O,function(Qe,ct){Ve(Qe,ct,1)})],We),(0,de.Ic)((Kt,Ve)=>{const Qe=Kt.getColor(I.hw);Qe&&Ve.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Qe}; }`);const ct=Kt.getColor(oe._wn);ct&&Ve.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${ct} 0 -6px 6px -6px inset; }`)}),(0,L.Qr)(class extends L.R6{constructor(){super({id:"editor.action.diffReview.next",label:g.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:G.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(Ve,Qe){const ct=Ce(Ve);ct&&ct.diffReviewNext()}}),(0,L.Qr)(class extends L.R6{constructor(){super({id:"editor.action.diffReview.prev",label:g.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:G.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(Ve,Qe){const ct=Ce(Ve);ct&&ct.diffReviewPrev()}});var Ae=m(1873),et=m(53269),$e=m(3760),Te=m(45023),rt=m(78339),ht=m(31321),nt=m(82287),xe=m(43569),Ie=m(9771),at=m(8135),bt=m(9719),Ut=function(Kt,Ve,Qe,ct){return new(Qe||(Qe=Promise))(function(Ht,en){function hn(wn){try{_n(ct.next(wn))}catch(rn){en(rn)}}function yn(wn){try{_n(ct.throw(wn))}catch(rn){en(rn)}}function _n(wn){wn.done?Ht(wn.value):function(Ht){return Ht instanceof Qe?Ht:new Qe(function(en){en(Ht)})}(wn.value).then(hn,yn)}_n((ct=ct.apply(Kt,Ve||[])).next())})};class mn extends F.JT{constructor(Ve,Qe,ct,xt,Ht,en){super(),this._viewZoneId=Ve,this._marginDomNode=Qe,this.editor=ct,this.diff=xt,this._contextMenuService=Ht,this._clipboardService=en,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=fe.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const hn=ct.getOption(59),yn=ct.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${hn}px`,this._diffActions.style.lineHeight=`${hn}px`,this._marginDomNode.appendChild(this._diffActions);const _n=[],wn=0===xt.modifiedEndLineNumber;_n.push(new H.aU("diff.clipboard.copyDeletedContent",wn?xt.originalEndLineNumber>xt.modifiedStartLineNumber?g.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):g.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):xt.originalEndLineNumber>xt.modifiedStartLineNumber?g.N("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):g.N("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Ut(this,void 0,void 0,function*(){const In=new Ae.e(xt.originalStartLineNumber,1,xt.originalEndLineNumber+1,1),Kn=xt.originalModel.getValueInRange(In);yield this._clipboardService.writeText(Kn)})));let vn,rn=0;xt.originalEndLineNumber>xt.modifiedStartLineNumber&&(vn=new H.aU("diff.clipboard.copyDeletedLineContent",wn?g.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",xt.originalStartLineNumber):g.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",xt.originalStartLineNumber),void 0,!0,()=>Ut(this,void 0,void 0,function*(){const In=xt.originalModel.getLineContent(xt.originalStartLineNumber+rn);if(""===In){const Kn=xt.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===Kn?"\n":"\r\n")}else yield this._clipboardService.writeText(In)})),_n.push(vn)),ct.getOption(81)||_n.push(new H.aU("diff.inline.revertChange",g.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Ut(this,void 0,void 0,function*(){const In=new Ae.e(xt.originalStartLineNumber,1,xt.originalEndLineNumber,xt.originalModel.getLineMaxColumn(xt.originalEndLineNumber)),Kn=xt.originalModel.getValueInRange(In);if(0===xt.modifiedEndLineNumber){const Jn=ct.getModel().getLineMaxColumn(xt.modifiedStartLineNumber);ct.executeEdits("diffEditor",[{range:new Ae.e(xt.modifiedStartLineNumber,Jn,xt.modifiedStartLineNumber,Jn),text:yn+Kn}])}else{const Jn=ct.getModel().getLineMaxColumn(xt.modifiedEndLineNumber);ct.executeEdits("diffEditor",[{range:new Ae.e(xt.modifiedStartLineNumber,1,xt.modifiedEndLineNumber,Jn),text:Kn}])}})));const En=(In,Kn)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:In,y:Kn}),getActions:()=>(vn&&(vn.label=wn?g.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",xt.originalStartLineNumber+rn):g.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",xt.originalStartLineNumber+rn)),_n),autoSelectFirstItem:!0})};this._register(Y.mu(this._diffActions,"mousedown",In=>{const{top:Kn,height:Jn}=Y.i(this._diffActions),_i=Math.floor(hn/3);In.preventDefault(),En(In.posx,Kn+Jn+_i)})),this._register(ct.onMouseMove(In=>{8!==In.target.type&&5!==In.target.type||In.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,rn=this._updateLightBulbPosition(this._marginDomNode,In.event.browserEvent.y,hn))})),this._register(ct.onMouseDown(In=>{!In.event.rightButton||(8===In.target.type||5===In.target.type)&&In.target.detail.viewZoneId===this._viewZoneId&&(In.event.preventDefault(),rn=this._updateLightBulbPosition(this._marginDomNode,In.event.browserEvent.y,hn),En(In.event.posx,In.event.posy+hn))}))}get visibility(){return this._visibility}set visibility(Ve){this._visibility!==Ve&&(this._visibility=Ve,this._diffActions.style.visibility=Ve?"visible":"hidden")}_updateLightBulbPosition(Ve,Qe,ct){const{top:xt}=Y.i(Ve),en=Math.floor((Qe-xt)/ct);if(this._diffActions.style.top=en*ct+"px",this.diff.viewLineCounts){let yn=0;for(let _n=0;_n<this.diff.viewLineCounts.length;_n++)if(yn+=this.diff.viewLineCounts[_n],en<yn)return _n}return en}}var St,pt=m(37323),Bt=m(13226),Vt=m(24763),zt=m(1607),fn=m(2450),Et=function(Kt,Ve){return function(Qe,ct){Ve(Qe,ct,Kt)}};class sn{constructor(Ve,Qe){this._contextMenuService=Ve,this._clipboardService=Qe,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Ve){return Ve.filter(Qe=>!this._zonesMap[String(Qe.id)])}clean(Ve){this._zones.length>0&&Ve.changeViewZones(Qe=>{for(const ct of this._zones)Qe.removeZone(ct)}),this._zones=[],this._zonesMap={},this._decorations=Ve.deltaDecorations(this._decorations,[])}apply(Ve,Qe,ct,xt){const Ht=xt?y.Z.capture(Ve):null;Ve.changeViewZones(en=>{var hn;for(const yn of this._zones)en.removeZone(yn);for(const yn of this._inlineDiffMargins)yn.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let yn=0,_n=ct.zones.length;yn<_n;yn++){const wn=ct.zones[yn];wn.suppressMouseDown=!0;const rn=en.addZone(wn);this._zones.push(rn),this._zonesMap[String(rn)]=!0,ct.zones[yn].diff&&wn.marginDomNode&&(wn.suppressMouseDown=!1,0!==(null===(hn=ct.zones[yn].diff)||void 0===hn?void 0:hn.originalModel.getValueLength())&&this._inlineDiffMargins.push(new mn(rn,wn.marginDomNode,Ve,ct.zones[yn].diff,this._contextMenuService,this._clipboardService)))}}),Ht&&Ht.restore(Ve),this._decorations=Ve.deltaDecorations(this._decorations,ct.decorations),Qe&&Qe.setZones(ct.overviewZones)}}let Dn=0;const Rt=(0,_e.q5)("diff-insert",fe.lA.add,g.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),Mt=(0,_e.q5)("diff-remove",fe.lA.remove,g.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),Yn=null===(St=window.trustedTypes)||void 0===St?void 0:St.createPolicy("diffEditorWidget",{createHTML:Kt=>Kt});let xi=class Vs extends F.JT{constructor(Ve,Qe,ct,xt,Ht,en,hn,yn,_n,wn,rn,vn){super(),this._editorProgressService=vn,this._onDidDispose=this._register(new O.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new O.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new O.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Ht,this._codeEditorService=yn,this._contextKeyService=this._register(en.createScoped(Ve)),this._instantiationService=hn.createChild(new Ie.y([G.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=_n,this._notificationService=wn,this._id=++Dn,this._state=0,this._updatingDiffProgress=null,this._domElement=Ve,this._options=Yt(Qe=Qe||{},{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),this._contextKeyService.createKey("isInEmbeddedDiffEditor",void 0!==Qe.isInEmbeddedEditor&&Qe.isInEmbeddedEditor),this._updateDecorationsRunner=this._register(new i.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Vs._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,B.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Y.mu(this._overviewDomElement,"mousedown",En=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(En)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new sn(rn,xt),this._modifiedEditorState=new sn(rn,xt),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new zt.I(this._containerDomElement,Qe.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Qe.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Qe,ct.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Qe,ct.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=hn.createInstance(We,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._setStrategy(this._options.renderSideBySide?new on(this._createDataSource(),this._options.enableSplitViewResizing):new ai(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(_n.onDidColorThemeChange(En=>{this._strategy&&this._strategy.applyColors(En)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Vs._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const ln=L.Uc.getDiffEditorContributions();for(const En of ln)try{this._register(hn.createInstance(En.ctor,this))}catch(In){(0,Bt.dL)(In)}this._codeEditorService.addDiffEditor(this)}_setState(Ve){this._state!==Ve&&(this._state=Ve,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Ve,Qe){let ct="monaco-diff-editor monaco-editor-background ";return Qe&&(ct+="side-by-side "),ct+=(0,de.m6)(Ve.type),ct}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Ve,Qe){const ct=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Ve),Qe);this._register(ct.onDidScrollChange(Ht=>{this._isHandlingScrollEvent||!Ht.scrollTopChanged&&!Ht.scrollLeftChanged&&!Ht.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Ht.scrollLeft,scrollTop:Ht.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ct.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ct.onDidChangeConfiguration(Ht=>{!ct.getModel()||(Ht.hasChanged(44)&&this._updateDecorationsRunner.schedule(),Ht.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ct.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ct.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const xt=this._contextKeyService.createKey("isInDiffLeftEditor",ct.hasWidgetFocus());return this._register(ct.onDidFocusEditorWidget(()=>xt.set(!0))),this._register(ct.onDidBlurEditorWidget(()=>xt.set(!1))),this._register(ct.onDidContentSizeChange(Ht=>{const en=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Vs.ONE_OVERVIEW_WIDTH,hn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:hn,contentWidth:en,contentHeightChanged:Ht.contentHeightChanged,contentWidthChanged:Ht.contentWidthChanged})})),ct}_createRightHandSideEditor(Ve,Qe){const ct=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Ve),Qe);this._register(ct.onDidScrollChange(Ht=>{this._isHandlingScrollEvent||!Ht.scrollTopChanged&&!Ht.scrollLeftChanged&&!Ht.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Ht.scrollLeft,scrollTop:Ht.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(ct.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(ct.onDidChangeConfiguration(Ht=>{!ct.getModel()||(Ht.hasChanged(44)&&this._updateDecorationsRunner.schedule(),Ht.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(ct.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(ct.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(ct.onDidChangeModelOptions(Ht=>{Ht.tabSize&&this._updateDecorationsRunner.schedule()}));const xt=this._contextKeyService.createKey("isInDiffRightEditor",ct.hasWidgetFocus());return this._register(ct.onDidFocusEditorWidget(()=>xt.set(!0))),this._register(ct.onDidBlurEditorWidget(()=>xt.set(!1))),this._register(ct.onDidContentSizeChange(Ht=>{const en=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Vs.ONE_OVERVIEW_WIDTH,hn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:hn,contentWidth:en,contentHeightChanged:Ht.contentHeightChanged,contentWidthChanged:Ht.contentWidthChanged})})),ct}_createInnerEditor(Ve,Qe,ct,xt){return Ve.createInstance(b.Gm,Qe,ct,xt)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return $e.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Ve){const Qe=Yt(Ve,this._options),ct=function(Kt,Ve){return{enableSplitViewResizing:Kt.enableSplitViewResizing!==Ve.enableSplitViewResizing,renderSideBySide:Kt.renderSideBySide!==Ve.renderSideBySide,maxComputationTime:Kt.maxComputationTime!==Ve.maxComputationTime,maxFileSize:Kt.maxFileSize!==Ve.maxFileSize,ignoreTrimWhitespace:Kt.ignoreTrimWhitespace!==Ve.ignoreTrimWhitespace,renderIndicators:Kt.renderIndicators!==Ve.renderIndicators,originalEditable:Kt.originalEditable!==Ve.originalEditable,diffCodeLens:Kt.diffCodeLens!==Ve.diffCodeLens,renderOverviewRuler:Kt.renderOverviewRuler!==Ve.renderOverviewRuler,diffWordWrap:Kt.diffWordWrap!==Ve.diffWordWrap}}(this._options,Qe);this._options=Qe;const Ht=this._isVisible&&(ct.maxComputationTime||ct.maxFileSize);ct.ignoreTrimWhitespace||ct.renderIndicators?this._beginUpdateDecorations():Ht&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Ve)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Ve)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),ct.renderSideBySide&&(this._setStrategy(this._options.renderSideBySide?new on(this._createDataSource(),this._options.enableSplitViewResizing):new ai(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Vs._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),ct.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Ve){if(Ve&&(!Ve.original||!Ve.modified))throw new Error(Ve.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(Ve?Ve.original:null),this._modifiedEditor.setModel(Ve?Ve.modified:null),this._updateDecorationsRunner.cancel(),Ve&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Ve&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(Ve){return this._modifiedEditor.getVisibleColumnFromPosition(Ve)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Ve,Qe="api"){this._modifiedEditor.setPosition(Ve,Qe)}revealLine(Ve,Qe=0){this._modifiedEditor.revealLine(Ve,Qe)}revealLineInCenter(Ve,Qe=0){this._modifiedEditor.revealLineInCenter(Ve,Qe)}revealLineInCenterIfOutsideViewport(Ve,Qe=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Ve,Qe)}revealLineNearTop(Ve,Qe=0){this._modifiedEditor.revealLineNearTop(Ve,Qe)}revealPosition(Ve,Qe=0){this._modifiedEditor.revealPosition(Ve,Qe)}revealPositionInCenter(Ve,Qe=0){this._modifiedEditor.revealPositionInCenter(Ve,Qe)}revealPositionInCenterIfOutsideViewport(Ve,Qe=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Ve,Qe)}revealPositionNearTop(Ve,Qe=0){this._modifiedEditor.revealPositionNearTop(Ve,Qe)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Ve,Qe="api"){this._modifiedEditor.setSelection(Ve,Qe)}setSelections(Ve,Qe="api"){this._modifiedEditor.setSelections(Ve,Qe)}revealLines(Ve,Qe,ct=0){this._modifiedEditor.revealLines(Ve,Qe,ct)}revealLinesInCenter(Ve,Qe,ct=0){this._modifiedEditor.revealLinesInCenter(Ve,Qe,ct)}revealLinesInCenterIfOutsideViewport(Ve,Qe,ct=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Ve,Qe,ct)}revealLinesNearTop(Ve,Qe,ct=0){this._modifiedEditor.revealLinesNearTop(Ve,Qe,ct)}revealRange(Ve,Qe=0,ct=!1,xt=!0){this._modifiedEditor.revealRange(Ve,Qe,ct,xt)}revealRangeInCenter(Ve,Qe=0){this._modifiedEditor.revealRangeInCenter(Ve,Qe)}revealRangeInCenterIfOutsideViewport(Ve,Qe=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Ve,Qe)}revealRangeNearTop(Ve,Qe=0){this._modifiedEditor.revealRangeNearTop(Ve,Qe)}revealRangeNearTopIfOutsideViewport(Ve,Qe=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Ve,Qe)}revealRangeAtTop(Ve,Qe=0){this._modifiedEditor.revealRangeAtTop(Ve,Qe)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(Ve){if(Ve&&Ve.original&&Ve.modified){const Qe=Ve;this._originalEditor.restoreViewState(Qe.original),this._modifiedEditor.restoreViewState(Qe.modified)}}layout(Ve){this._elementSizeObserver.observe(Ve)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Ve,Qe,ct){this._modifiedEditor.trigger(Ve,Qe,ct)}changeDecorations(Ve){return this._modifiedEditor.changeDecorations(Ve)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Ve=this._elementSizeObserver.getHeight(),Qe=this._getReviewHeight(),ct=Vs.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Vs.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Vs.ONE_OVERVIEW_WIDTH,right:ct+Vs.ONE_OVERVIEW_WIDTH,height:Ve-Qe}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Vs.ONE_OVERVIEW_WIDTH,height:Ve-Qe}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Vs.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Ve,Qe){return!Ve&&!Qe||!(!Ve||!Qe)&&Ve.toString()===Qe.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Ve=this._originalEditor.getModel(),Qe=this._modifiedEditor.getModel();if(!Ve||!Qe)return;this._diffComputationToken++;const ct=this._diffComputationToken,xt=1024*this._options.maxFileSize*1024,Ht=en=>{const hn=en.getValueLength();return 0===xt||hn<=xt};Ht(Ve)&&Ht(Qe)?(this._setState(1),this._editorWorkerService.computeDiff(Ve.uri,Qe.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(en=>{ct===this._diffComputationToken&&Ve===this._originalEditor.getModel()&&Qe===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=en,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},en=>{ct===this._diffComputationToken&&Ve===this._originalEditor.getModel()&&Qe===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):(!Vs._equals(Ve.uri,this._lastOriginalWarning)||!Vs._equals(Qe.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Ve.uri,this._lastModifiedWarning=Qe.uri,this._notificationService.warn(g.N("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Ve=this._diffComputationResult?this._diffComputationResult.changes:[],Qe=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),ct=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),xt=this._strategy.getEditorsDiffDecorations(Ve,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Qe,ct);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,xt.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,xt.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Ve){const Qe=Object.assign({},Ve);return Qe.inDiffEditor=!0,Qe.automaticLayout=!1,Qe.scrollbar=Object.assign({},Qe.scrollbar||{}),Qe.scrollbar.vertical="visible",Qe.folding=!1,Qe.codeLens=this._options.diffCodeLens,Qe.fixedOverflowWidgets=!0,Qe.minimap=Object.assign({},Qe.minimap||{}),Qe.minimap.enabled=!1,Qe}_adjustOptionsForLeftHandSide(Ve){const Qe=this._adjustOptionsForSubEditor(Ve);return this._options.renderSideBySide?Qe.wordWrapOverride1=this._options.diffWordWrap:(Qe.wordWrapOverride1="off",Qe.wordWrapOverride2="off"),Ve.originalAriaLabel&&(Qe.ariaLabel=Ve.originalAriaLabel),Qe.readOnly=!this._options.originalEditable,Qe.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Qe),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Ve){const Qe=this._adjustOptionsForSubEditor(Ve);return Ve.modifiedAriaLabel&&(Qe.ariaLabel=Ve.modifiedAriaLabel),Qe.wordWrapOverride1=this._options.diffWordWrap,Qe.revealHorizontalRightPadding=N.BH.revealHorizontalRightPadding.defaultValue+Vs.ENTIRE_DIFF_OVERVIEW_WIDTH,Qe.scrollbar.verticalHasArrows=!1,Qe.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Qe),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Ve=this._elementSizeObserver.getWidth(),Qe=this._elementSizeObserver.getHeight(),ct=this._getReviewHeight(),xt=this._strategy.layout();this._originalDomNode.style.width=xt+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Ve-xt+"px",this._modifiedDomNode.style.left=xt+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Qe-ct+"px",this._overviewDomElement.style.width=Vs.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Ve-Vs.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Vs.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:xt,height:Qe-ct}),this._modifiedEditor.layout({width:Ve-xt-(this._options.renderOverviewRuler?Vs.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Qe-ct}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Qe-ct,Ve,ct),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Ve=this._computeOverviewViewport();Ve?(this._overviewViewportDomElement.setTop(Ve.top),this._overviewViewportDomElement.setHeight(Ve.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Ve=this._modifiedEditor.getLayoutInfo();if(!Ve)return null;const Qe=this._modifiedEditor.getScrollTop(),ct=this._modifiedEditor.getScrollHeight(),xt=Math.max(0,Ve.height),Ht=Math.max(0,xt-0),en=ct>0?Ht/ct:0;return{height:Math.max(0,Math.floor(Ve.height*en)),top:Math.floor(Qe*en)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Ve){this._strategy&&this._strategy.dispose(),this._strategy=Ve,Ve.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Ve,Qe){const ct=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===ct.length||Ve<Qe(ct[0]))return null;let xt=0,Ht=ct.length-1;for(;xt<Ht;){const en=Math.floor((xt+Ht)/2),hn=Qe(ct[en]),yn=en+1<=Ht?Qe(ct[en+1]):1073741824;Ve<hn?Ht=en-1:Ve>=yn?xt=en+1:(xt=en,Ht=en)}return ct[xt]}_getEquivalentLineForOriginalLineNumber(Ve){const Qe=this._getLineChangeAtOrBeforeLineNumber(Ve,yn=>yn.originalStartLineNumber);if(!Qe)return Ve;const xt=Qe.modifiedStartLineNumber+(Qe.modifiedEndLineNumber>0?-1:0),Ht=Qe.originalEndLineNumber>0?Qe.originalEndLineNumber-Qe.originalStartLineNumber+1:0,en=Qe.modifiedEndLineNumber>0?Qe.modifiedEndLineNumber-Qe.modifiedStartLineNumber+1:0,hn=Ve-(Qe.originalStartLineNumber+(Qe.originalEndLineNumber>0?-1:0));return hn<=Ht?xt+Math.min(hn,en):xt+en-Ht+hn}_getEquivalentLineForModifiedLineNumber(Ve){const Qe=this._getLineChangeAtOrBeforeLineNumber(Ve,yn=>yn.modifiedStartLineNumber);if(!Qe)return Ve;const ct=Qe.originalStartLineNumber+(Qe.originalEndLineNumber>0?-1:0),Ht=Qe.originalEndLineNumber>0?Qe.originalEndLineNumber-Qe.originalStartLineNumber+1:0,en=Qe.modifiedEndLineNumber>0?Qe.modifiedEndLineNumber-Qe.modifiedStartLineNumber+1:0,hn=Ve-(Qe.modifiedStartLineNumber+(Qe.modifiedEndLineNumber>0?-1:0));return hn<=en?ct+Math.min(hn,Ht):ct+Ht-en+hn}getDiffLineInformationForOriginal(Ve){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Ve)}:null}getDiffLineInformationForModified(Ve){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Ve)}:null}};xi.ONE_OVERVIEW_WIDTH=15,xi.ENTIRE_DIFF_OVERVIEW_WIDTH=30,xi.UPDATE_DIFF_DECORATIONS_DELAY=200,xi=function(Kt,Ve,Qe,ct){var en,xt=arguments.length,Ht=xt<3?Ve:null===ct?ct=Object.getOwnPropertyDescriptor(Ve,Qe):ct;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ht=Reflect.decorate(Kt,Ve,Qe,ct);else for(var hn=Kt.length-1;hn>=0;hn--)(en=Kt[hn])&&(Ht=(xt<3?en(Ht):xt>3?en(Ve,Qe,Ht):en(Ve,Qe))||Ht);return xt>3&&Ht&&Object.defineProperty(Ve,Qe,Ht),Ht}([Et(3,pt.p),Et(4,rt.p),Et(5,G.i6),Et(6,xe.TG),Et(7,C.$),Et(8,de.XE),Et(9,at.lT),Et(10,bt.i),Et(11,Vt.ek)],xi);class At extends F.JT{constructor(Ve){super(),this._dataSource=Ve,this._insertColor=null,this._removeColor=null}applyColors(Ve){const Qe=Ve.getColor(oe.P6Y)||(Ve.getColor(oe.ypS)||oe.CzK).transparent(2),ct=Ve.getColor(oe.F9q)||(Ve.getColor(oe.P4M)||oe.keg).transparent(2),xt=!Qe.equals(this._insertColor)||!ct.equals(this._removeColor);return this._insertColor=Qe,this._removeColor=ct,xt}getEditorsDiffDecorations(Ve,Qe,ct,xt,Ht){Ht=Ht.sort((_n,wn)=>_n.afterLineNumber-wn.afterLineNumber),xt=xt.sort((_n,wn)=>_n.afterLineNumber-wn.afterLineNumber);const en=this._getViewZones(Ve,xt,Ht,ct),hn=this._getOriginalEditorDecorations(en,Ve,Qe,ct),yn=this._getModifiedEditorDecorations(en,Ve,Qe,ct);return{original:{decorations:hn.decorations,overviewZones:hn.overviewZones,zones:en.original},modified:{decorations:yn.decorations,overviewZones:yn.overviewZones,zones:en.modified}}}}class Bi{constructor(Ve){this._source=Ve,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class Xt{constructor(Ve,Qe,ct,xt,Ht){this._lineChanges=Ve,this._originalForeignVZ=Qe,this._modifiedForeignVZ=ct,this._originalEditor=xt,this._modifiedEditor=Ht}static _getViewLineCount(Ve,Qe,ct){const xt=Ve.getModel(),Ht=Ve._getViewModel();if(xt&&Ht){const en=Lt(xt,Ht,Qe,ct);return en.endLineNumber-en.startLineNumber+1}return ct-Qe+1}getViewZones(){const Ve=this._originalEditor.getOption(59),Qe=this._modifiedEditor.getOption(59),ct=-1!==this._originalEditor.getOption(132).wrappingColumn,xt=-1!==this._modifiedEditor.getOption(132).wrappingColumn,Ht=ct||xt,en=this._originalEditor.getModel(),hn=this._originalEditor._getViewModel().coordinatesConverter,yn=this._modifiedEditor._getViewModel().coordinatesConverter,_n_original=[],_n_modified=[];let wn=0,rn=0,vn=0,ln=0,En=0,In=0;const Kn=(li,pi)=>li.afterLineNumber-pi.afterLineNumber,Jn=(li,pi)=>{if(null===pi.domNode&&li.length>0){const Mn=li[li.length-1];if(Mn.afterLineNumber===pi.afterLineNumber&&null===Mn.domNode)return void(Mn.heightInLines+=pi.heightInLines)}li.push(pi)},_i=new Bi(this._modifiedForeignVZ),Di=new Bi(this._originalForeignVZ);let xn=1,Mi=1;for(let li=0,pi=this._lineChanges.length;li<=pi;li++){const Mn=li<pi?this._lineChanges[li]:null;null!==Mn?(vn=Mn.originalStartLineNumber+(Mn.originalEndLineNumber>0?-1:0),ln=Mn.modifiedStartLineNumber+(Mn.modifiedEndLineNumber>0?-1:0),rn=Mn.originalEndLineNumber>0?Xt._getViewLineCount(this._originalEditor,Mn.originalStartLineNumber,Mn.originalEndLineNumber):0,wn=Mn.modifiedEndLineNumber>0?Xt._getViewLineCount(this._modifiedEditor,Mn.modifiedStartLineNumber,Mn.modifiedEndLineNumber):0,En=Math.max(Mn.originalStartLineNumber,Mn.originalEndLineNumber),In=Math.max(Mn.modifiedStartLineNumber,Mn.modifiedEndLineNumber)):(vn+=1e7+rn,ln+=1e7+wn,En=vn,In=ln);let Ci=[],Ti=[];if(Ht){let zn;zn=Mn?Mn.originalEndLineNumber>0?Mn.originalStartLineNumber-xn:Mn.modifiedStartLineNumber-Mi:en.getLineCount()-xn+1;for(let ji=0;ji<zn;ji++){const co=xn+ji,oi=Mi+ji,_o=hn.getModelLineViewLineCount(co),Ei=yn.getModelLineViewLineCount(oi);_o<Ei?Ci.push({afterLineNumber:co,heightInLines:Ei-_o,domNode:null,marginDomNode:null}):_o>Ei&&Ti.push({afterLineNumber:oi,heightInLines:_o-Ei,domNode:null,marginDomNode:null})}Mn&&(xn=(Mn.originalEndLineNumber>0?Mn.originalEndLineNumber:Mn.originalStartLineNumber)+1,Mi=(Mn.modifiedEndLineNumber>0?Mn.modifiedEndLineNumber:Mn.modifiedStartLineNumber)+1)}for(;_i.current&&_i.current.afterLineNumber<=In;){let zn;zn=_i.current.afterLineNumber<=ln?vn-ln+_i.current.afterLineNumber:En;let ji=null;Mn&&Mn.modifiedStartLineNumber<=_i.current.afterLineNumber&&_i.current.afterLineNumber<=Mn.modifiedEndLineNumber&&(ji=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Ci.push({afterLineNumber:zn,heightInLines:_i.current.height/Qe,domNode:null,marginDomNode:ji}),_i.advance()}for(;Di.current&&Di.current.afterLineNumber<=En;){let zn;zn=Di.current.afterLineNumber<=vn?ln-vn+Di.current.afterLineNumber:In,Ti.push({afterLineNumber:zn,heightInLines:Di.current.height/Ve,domNode:null}),Di.advance()}if(null!==Mn&&Li(Mn)){const zn=this._produceOriginalFromDiff(Mn,rn,wn);zn&&Ci.push(zn)}if(null!==Mn&&wi(Mn)){const zn=this._produceModifiedFromDiff(Mn,rn,wn);zn&&Ti.push(zn)}let ei=0,ao=0;for(Ci=Ci.sort(Kn),Ti=Ti.sort(Kn);ei<Ci.length&&ao<Ti.length;){const zn=Ci[ei],ji=Ti[ao],co=zn.afterLineNumber-vn,oi=ji.afterLineNumber-ln;co<oi?(Jn(_n_original,zn),ei++):oi<co?(Jn(_n_modified,ji),ao++):zn.shouldNotShrink?(Jn(_n_original,zn),ei++):ji.shouldNotShrink?(Jn(_n_modified,ji),ao++):zn.heightInLines>=ji.heightInLines?(zn.heightInLines-=ji.heightInLines,ao++):(ji.heightInLines-=zn.heightInLines,ei++)}for(;ei<Ci.length;)Jn(_n_original,Ci[ei]),ei++;for(;ao<Ti.length;)Jn(_n_modified,Ti[ao]),ao++}return{original:Xt._ensureDomNodes(_n_original),modified:Xt._ensureDomNodes(_n_modified)}}static _ensureDomNodes(Ve){return Ve.map(Qe=>(Qe.domNode||(Qe.domNode=Dt()),Qe))}}function He(Kt,Ve,Qe,ct,xt){return{range:new Ae.e(Kt,Ve,Qe,ct),options:xt}}const Ue={charDelete:Te.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Te.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Te.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Te.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Te.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Te.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+de.kS.asClassName(Rt),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Te.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Te.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+de.kS.asClassName(Mt),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Te.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};let on=(()=>{class Kt extends At{constructor(Qe,ct){super(Qe),this._disableSash=!1===ct,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new D.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(xt=>this._onSashDrag(xt)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Qe){const ct=!1===Qe;this._disableSash!==ct&&(this._disableSash=ct,this._sash.state=this._disableSash?0:3)}layout(Qe=this._sashRatio){const xt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?xi.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let Ht=Math.floor((Qe||.5)*xt);const en=Math.floor(.5*xt);return Ht=this._disableSash?en:Ht||en,xt>2*Kt.MINIMUM_EDITOR_WIDTH?(Ht<Kt.MINIMUM_EDITOR_WIDTH&&(Ht=Kt.MINIMUM_EDITOR_WIDTH),Ht>xt-Kt.MINIMUM_EDITOR_WIDTH&&(Ht=xt-Kt.MINIMUM_EDITOR_WIDTH)):Ht=en,this._sashPosition!==Ht&&(this._sashPosition=Ht),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Qe){const xt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?xi.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Ht=this.layout((this._startSashPosition+(Qe.currentX-Qe.startX))/xt);this._sashRatio=Ht/xt,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Qe){return 0}getVerticalSashLeft(Qe){return this._sashPosition}getVerticalSashHeight(Qe){return this._dataSource.getHeight()}_getViewZones(Qe,ct,xt){const Ht=this._dataSource.getOriginalEditor(),en=this._dataSource.getModifiedEditor();return new Sn(Qe,ct,xt,Ht,en).getViewZones()}_getOriginalEditorDecorations(Qe,ct,xt,Ht){const en=this._dataSource.getOriginalEditor(),hn=String(this._removeColor),yn={decorations:[],overviewZones:[]},_n=en.getModel(),wn=en._getViewModel();for(const rn of ct)if(wi(rn)){yn.decorations.push({range:new Ae.e(rn.originalStartLineNumber,1,rn.originalEndLineNumber,1073741824),options:Ht?Ue.lineDeleteWithSign:Ue.lineDelete}),(!Li(rn)||!rn.charChanges)&&yn.decorations.push(He(rn.originalStartLineNumber,1,rn.originalEndLineNumber,1073741824,Ue.charDeleteWholeLine));const vn=Lt(_n,wn,rn.originalStartLineNumber,rn.originalEndLineNumber);if(yn.overviewZones.push(new ht.EY(vn.startLineNumber,vn.endLineNumber,0,hn)),rn.charChanges)for(const ln of rn.charChanges)if(wi(ln))if(xt)for(let En=ln.originalStartLineNumber;En<=ln.originalEndLineNumber;En++){let In,Kn;In=En===ln.originalStartLineNumber?ln.originalStartColumn:_n.getLineFirstNonWhitespaceColumn(En),Kn=En===ln.originalEndLineNumber?ln.originalEndColumn:_n.getLineLastNonWhitespaceColumn(En),yn.decorations.push(He(En,In,En,Kn,Ue.charDelete))}else yn.decorations.push(He(ln.originalStartLineNumber,ln.originalStartColumn,ln.originalEndLineNumber,ln.originalEndColumn,Ue.charDelete))}return yn}_getModifiedEditorDecorations(Qe,ct,xt,Ht){const en=this._dataSource.getModifiedEditor(),hn=String(this._insertColor),yn={decorations:[],overviewZones:[]},_n=en.getModel(),wn=en._getViewModel();for(const rn of ct)if(Li(rn)){yn.decorations.push({range:new Ae.e(rn.modifiedStartLineNumber,1,rn.modifiedEndLineNumber,1073741824),options:Ht?Ue.lineInsertWithSign:Ue.lineInsert}),(!wi(rn)||!rn.charChanges)&&yn.decorations.push(He(rn.modifiedStartLineNumber,1,rn.modifiedEndLineNumber,1073741824,Ue.charInsertWholeLine));const vn=Lt(_n,wn,rn.modifiedStartLineNumber,rn.modifiedEndLineNumber);if(yn.overviewZones.push(new ht.EY(vn.startLineNumber,vn.endLineNumber,0,hn)),rn.charChanges)for(const ln of rn.charChanges)if(Li(ln))if(xt)for(let En=ln.modifiedStartLineNumber;En<=ln.modifiedEndLineNumber;En++){let In,Kn;In=En===ln.modifiedStartLineNumber?ln.modifiedStartColumn:_n.getLineFirstNonWhitespaceColumn(En),Kn=En===ln.modifiedEndLineNumber?ln.modifiedEndColumn:_n.getLineLastNonWhitespaceColumn(En),yn.decorations.push(He(En,In,En,Kn,Ue.charInsert))}else yn.decorations.push(He(ln.modifiedStartLineNumber,ln.modifiedStartColumn,ln.modifiedEndLineNumber,ln.modifiedEndColumn,Ue.charInsert))}return yn}}return Kt.MINIMUM_EDITOR_WIDTH=100,Kt})();class Sn extends Xt{constructor(Ve,Qe,ct,xt,Ht){super(Ve,Qe,ct,xt,Ht)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Ve,Qe,ct){return ct>Qe?{afterLineNumber:Math.max(Ve.originalStartLineNumber,Ve.originalEndLineNumber),heightInLines:ct-Qe,domNode:null}:null}_produceModifiedFromDiff(Ve,Qe,ct){return Qe>ct?{afterLineNumber:Math.max(Ve.modifiedStartLineNumber,Ve.modifiedEndLineNumber),heightInLines:Qe-ct,domNode:null}:null}}class ai extends At{constructor(Ve,Qe){super(Ve),this._decorationsLeft=Ve.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Ve.getOriginalEditor().onDidLayoutChange(ct=>{this._decorationsLeft!==ct.decorationsLeft&&(this._decorationsLeft=ct.decorationsLeft,Ve.relayoutEditors())}))}setEnableSplitViewResizing(Ve){}_getViewZones(Ve,Qe,ct,xt){const Ht=this._dataSource.getOriginalEditor(),en=this._dataSource.getModifiedEditor();return new bi(Ve,Qe,ct,Ht,en,xt).getViewZones()}_getOriginalEditorDecorations(Ve,Qe,ct,xt){const Ht=String(this._removeColor),en={decorations:[],overviewZones:[]},hn=this._dataSource.getOriginalEditor(),yn=hn.getModel(),_n=hn._getViewModel();let wn=0;for(const rn of Qe)if(wi(rn)){for(en.decorations.push({range:new Ae.e(rn.originalStartLineNumber,1,rn.originalEndLineNumber,1073741824),options:Ue.lineDeleteMargin});wn<Ve.modified.length;){const En=Ve.modified[wn];if(En.diff&&En.diff.originalStartLineNumber>=rn.originalStartLineNumber)break;wn++}let vn=0;if(wn<Ve.modified.length){const En=Ve.modified[wn];En.diff&&En.diff.originalStartLineNumber===rn.originalStartLineNumber&&En.diff.originalEndLineNumber===rn.originalEndLineNumber&&En.diff.modifiedStartLineNumber===rn.modifiedStartLineNumber&&En.diff.modifiedEndLineNumber===rn.modifiedEndLineNumber&&(vn=En.heightInLines)}const ln=Lt(yn,_n,rn.originalStartLineNumber,rn.originalEndLineNumber);en.overviewZones.push(new ht.EY(ln.startLineNumber,ln.endLineNumber,vn,Ht))}return en}_getModifiedEditorDecorations(Ve,Qe,ct,xt){const Ht=this._dataSource.getModifiedEditor(),en=String(this._insertColor),hn={decorations:[],overviewZones:[]},yn=Ht.getModel(),_n=Ht._getViewModel();for(const wn of Qe)if(Li(wn)){hn.decorations.push({range:new Ae.e(wn.modifiedStartLineNumber,1,wn.modifiedEndLineNumber,1073741824),options:xt?Ue.lineInsertWithSign:Ue.lineInsert});const rn=Lt(yn,_n,wn.modifiedStartLineNumber,wn.modifiedEndLineNumber);if(hn.overviewZones.push(new ht.EY(rn.startLineNumber,rn.endLineNumber,0,en)),wn.charChanges){for(const vn of wn.charChanges)if(Li(vn))if(ct)for(let ln=vn.modifiedStartLineNumber;ln<=vn.modifiedEndLineNumber;ln++){let En,In;En=ln===vn.modifiedStartLineNumber?vn.modifiedStartColumn:yn.getLineFirstNonWhitespaceColumn(ln),In=ln===vn.modifiedEndLineNumber?vn.modifiedEndColumn:yn.getLineLastNonWhitespaceColumn(ln),hn.decorations.push(He(ln,En,ln,In,Ue.charInsert))}else hn.decorations.push(He(vn.modifiedStartLineNumber,vn.modifiedStartColumn,vn.modifiedEndLineNumber,vn.modifiedEndColumn,Ue.charInsert))}else hn.decorations.push(He(wn.modifiedStartLineNumber,1,wn.modifiedEndLineNumber,1073741824,Ue.charInsertWholeLine))}return hn}layout(){return Math.max(5,this._decorationsLeft)}}class bi extends Xt{constructor(Ve,Qe,ct,xt,Ht,en){super(Ve,Qe,ct,xt,Ht),this._originalModel=xt.getModel(),this._renderIndicators=en,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Ve=super.getViewZones();return this._finalize(Ve),Ve}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Ve=document.createElement("div");return Ve.className="inline-added-margin-view-zone",Ve}_produceOriginalFromDiff(Ve,Qe,ct){const xt=document.createElement("div");return xt.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Ve.originalStartLineNumber,Ve.originalEndLineNumber),heightInLines:ct,domNode:document.createElement("div"),marginDomNode:xt}}_produceModifiedFromDiff(Ve,Qe,ct){const xt=document.createElement("div");xt.className=`view-lines line-delete ${fn.S}`;const Ht=document.createElement("div");Ht.className="inline-deleted-margin-view-zone";const en={shouldNotShrink:!0,afterLineNumber:0===Ve.modifiedEndLineNumber?Ve.modifiedStartLineNumber:Ve.modifiedStartLineNumber-1,heightInLines:Qe,minWidthInPx:0,domNode:xt,marginDomNode:Ht,diff:{originalStartLineNumber:Ve.originalStartLineNumber,originalEndLineNumber:Ve.originalEndLineNumber,modifiedStartLineNumber:Ve.modifiedStartLineNumber,modifiedEndLineNumber:Ve.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let hn=Ve.originalStartLineNumber;hn<=Ve.originalEndLineNumber;hn++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(hn),null,null);return this._pendingLineChange.push(Ve),this._pendingViewZones.push(en),en}_finalize(Ve){const Qe=this._modifiedEditor.getOptions(),ct=this._modifiedEditor.getModel().getOptions().tabSize,xt=Qe.get(44),Ht=Qe.get(29),en=xt.typicalHalfwidthCharacterWidth,hn=Qe.get(93),yn=this._originalModel.mightContainNonBasicASCII(),_n=this._originalModel.mightContainRTL(),wn=Qe.get(59),vn=Qe.get(131).decorationsWidth,ln=Qe.get(105),En=Qe.get(88),In=Qe.get(83),Kn=Qe.get(45),Jn=this._lineBreaksComputer.finalize();let _i=0;for(let Di=0;Di<this._pendingLineChange.length;Di++){const xn=this._pendingLineChange[Di],Mi=this._pendingViewZones[Di],li=Mi.domNode;(0,k.N)(li,xt);const pi=Mi.marginDomNode;(0,k.N)(pi,xt);const Mn=[];if(xn.charChanges)for(const oi of xn.charChanges)wi(oi)&&Mn.push(new U.$t(new Ae.e(oi.originalStartLineNumber,oi.originalStartColumn,oi.originalEndLineNumber,oi.originalEndColumn),"char-delete",0));const Ci=Mn.length>0,Ti=(0,et.l$)(1e4);let ei=0,ao=0,zn=null;for(let oi=xn.originalStartLineNumber;oi<=xn.originalEndLineNumber;oi++){const _o=oi-xn.originalStartLineNumber,Ei=this._originalModel.getLineTokens(oi),ko=Ei.getLineContent(),yo=Jn[_i++],Yi=nt.Kp.filter(Mn,oi,1,ko.length+1);if(yo){let To=0;for(const go of yo.breakOffsets){const Hs=Ei.sliceAndInflate(To,go,0),zs=ko.substring(To,go);ei=Math.max(ei,this._renderOriginalLine(ao++,zs,Hs,nt.Kp.extractWrapped(Yi,To,go),Ci,yn,_n,xt,Ht,wn,vn,ln,En,In,Kn,ct,Ti,pi)),To=go}for(zn||(zn=[]);zn.length<_o;)zn[zn.length]=1;zn[_o]=yo.breakOffsets.length,Mi.heightInLines+=yo.breakOffsets.length-1;const ys=document.createElement("div");ys.className="gutter-delete",Ve.original.push({afterLineNumber:oi,afterColumn:0,heightInLines:yo.breakOffsets.length-1,domNode:Dt(),marginDomNode:ys})}else ei=Math.max(ei,this._renderOriginalLine(ao++,ko,Ei,Yi,Ci,yn,_n,xt,Ht,wn,vn,ln,En,In,Kn,ct,Ti,pi))}ei+=hn;const ji=Ti.build(),co=Yn?Yn.createHTML(ji):ji;if(li.innerHTML=co,Mi.minWidthInPx=ei*en,zn){const oi=xn.originalEndLineNumber-xn.originalStartLineNumber;for(;zn.length<=oi;)zn[zn.length]=1}Mi.diff.viewLineCounts=zn}Ve.original.sort((Di,xn)=>Di.afterLineNumber-xn.afterLineNumber)}_renderOriginalLine(Ve,Qe,ct,xt,Ht,en,hn,yn,_n,wn,rn,vn,ln,En,In,Kn,Jn,_i){Jn.appendASCIIString('<div class="view-line'),Ht||Jn.appendASCIIString(" char-delete"),Jn.appendASCIIString('" style="top:'),Jn.appendASCIIString(String(Ve*wn)),Jn.appendASCIIString('px;width:1000000px;">');const Di=U.wA.isBasicASCII(Qe,en),xn=U.wA.containsRTL(Qe,Di,hn),Mi=(0,$.d1)(new $.IJ(yn.isMonospace&&!_n,yn.canUseHalfwidthRightwardsArrow,Qe,!1,Di,xn,0,ct,xt,Kn,0,yn.spaceWidth,yn.middotWidth,yn.wsmiddotWidth,vn,ln,En,In!==N.n0.OFF,null),Jn);if(Jn.appendASCIIString("</div>"),this._renderIndicators){const li=document.createElement("div");li.className=`delete-sign ${de.kS.asClassName(Mt)}`,li.setAttribute("style",`position:absolute;top:${Ve*wn}px;width:${rn}px;height:${wn}px;right:0;`),_i.appendChild(li)}return Mi.characterMapping.getAbsoluteOffset(Mi.characterMapping.length)}}function ki(Kt,Ve){return(0,N.NY)(Kt,Ve,["off","on","inherit"])}function Li(Kt){return Kt.modifiedEndLineNumber>0}function wi(Kt){return Kt.originalEndLineNumber>0}function Dt(){const Kt=document.createElement("div");return Kt.className="diagonal-fill",Kt}function Lt(Kt,Ve,Qe,ct){const xt=Kt.getLineCount();return Qe=Math.min(xt,Math.max(1,Qe)),ct=Math.min(xt,Math.max(1,ct)),Ve.coordinatesConverter.convertModelRangeToViewRange(new Ae.e(Qe,Kt.getLineMinColumn(Qe),ct,Kt.getLineMaxColumn(ct)))}function Yt(Kt,Ve){return{enableSplitViewResizing:(0,N.O7)(Kt.enableSplitViewResizing,Ve.enableSplitViewResizing),renderSideBySide:(0,N.O7)(Kt.renderSideBySide,Ve.renderSideBySide),maxComputationTime:(0,N.Zc)(Kt.maxComputationTime,Ve.maxComputationTime,0,1073741824),maxFileSize:(0,N.Zc)(Kt.maxFileSize,Ve.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,N.O7)(Kt.ignoreTrimWhitespace,Ve.ignoreTrimWhitespace),renderIndicators:(0,N.O7)(Kt.renderIndicators,Ve.renderIndicators),originalEditable:(0,N.O7)(Kt.originalEditable,Ve.originalEditable),diffCodeLens:(0,N.O7)(Kt.diffCodeLens,Ve.diffCodeLens),renderOverviewRuler:(0,N.O7)(Kt.renderOverviewRuler,Ve.renderOverviewRuler),diffWordWrap:ki(Kt.diffWordWrap,Ve.diffWordWrap)}}(0,de.Ic)((Kt,Ve)=>{const Qe=Kt.getColor(oe.ypS);Qe&&Ve.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Qe}; }`);const ct=Kt.getColor(oe.hzo)||Qe;ct&&Ve.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${ct}; }`);const xt=Kt.getColor(oe.j51)||ct;xt&&(Ve.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${xt}; }`),Ve.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${xt}; }`));const Ht=Kt.getColor(oe.P4M);Ht&&Ve.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${Ht}; }`);const en=Kt.getColor(oe.xi6)||Ht;en&&Ve.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${en}; }`);const hn=Kt.getColor(oe.zOm)||en;hn&&(Ve.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${hn}; }`),Ve.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${hn}; }`));const yn=Kt.getColor(oe.XL$);yn&&Ve.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===Kt.type?"dashed":"solid"} ${yn}; }`);const _n=Kt.getColor(oe.mHy);_n&&Ve.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===Kt.type?"dashed":"solid"} ${_n}; }`);const wn=Kt.getColor(oe._wn);wn&&Ve.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${wn}; }`);const rn=Kt.getColor(oe.LLc);rn&&Ve.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${rn}; }`);const vn=Kt.getColor(oe.etL);vn&&Ve.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${vn};\n\t\t\t}\n\t\t`);const ln=Kt.getColor(oe.ABB);ln&&Ve.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${ln};\n\t\t\t}\n\t\t`);const En=Kt.getColor(oe.ynu);En&&Ve.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${En};\n\t\t\t}\n\t\t`);const In=Kt.getColor(oe.L_t);Ve.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${In} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${In} 50%, ${In} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)})},37313:(Fe,Ne,m)=>{m.d(Ne,{F:()=>O});var E=m(59126),g=m(71040),Y=m(40189),B=m(60842),D=m(1873);const i={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class O extends Y.JT{constructor(k,y={}){super(),this._onDidUpdate=this._register(new g.Q5),this._editor=k,this._options=B.jB(y,i,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(C=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(C=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(k){this.ranges=[],k&&k.forEach(y=>{!this._options.ignoreCharChanges&&y.charChanges?y.charChanges.forEach(C=>{this.ranges.push({rhs:!0,range:new D.e(C.modifiedStartLineNumber,C.modifiedStartColumn,C.modifiedEndLineNumber,C.modifiedEndColumn)})}):this.ranges.push(0===y.modifiedEndLineNumber?{rhs:!0,range:new D.e(y.modifiedStartLineNumber,1,y.modifiedStartLineNumber+1,1)}:{rhs:!0,range:new D.e(y.modifiedStartLineNumber,1,y.modifiedEndLineNumber+1,1)})}),this.ranges.sort((y,C)=>D.e.compareRangesUsingStarts(y.range,C.range)),this._onDidUpdate.fire(this)}_initIdx(k){let y=!1;const C=this._editor.getPosition();if(C){for(let b=0,x=this.ranges.length;b<x&&!y;b++)C.isBeforeOrEqual(this.ranges[b].range.getStartPosition())&&(this.nextIdx=b+(k?0:-1),y=!0);y||(this.nextIdx=k?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(k,y){if(E.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(k):k?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const C=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const b=C.range.getStartPosition();this._editor.setPosition(b),this._editor.revealRangeInCenter(C.range,y)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(k=0){this._move(!0,k)}previous(k=0){this._move(!1,k)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},49317:(Fe,Ne,m)=>{m.d(Ne,{T4:()=>g,OY:()=>Y,Sj:()=>B,Uo:()=>D,hP:()=>i});var E=m(60745);class g{constructor(F,k,y=!1){this._range=F,this._text=k,this.insertsAutoWhitespace=y}getEditOperations(F,k){k.addTrackedEditOperation(this._range,this._text)}computeCursorState(F,k){const C=k.getInverseEditOperations()[0].range;return E.Y.fromPositions(C.getEndPosition())}}class Y{constructor(F,k){this._range=F,this._text=k}getEditOperations(F,k){k.addTrackedEditOperation(this._range,this._text)}computeCursorState(F,k){const C=k.getInverseEditOperations()[0].range;return E.Y.fromRange(C,0)}}class B{constructor(F,k,y=!1){this._range=F,this._text=k,this.insertsAutoWhitespace=y}getEditOperations(F,k){k.addTrackedEditOperation(this._range,this._text)}computeCursorState(F,k){const C=k.getInverseEditOperations()[0].range;return E.Y.fromPositions(C.getStartPosition())}}class D{constructor(F,k,y,C,b=!1){this._range=F,this._text=k,this._columnDeltaOffset=C,this._lineNumberDeltaOffset=y,this.insertsAutoWhitespace=b}getEditOperations(F,k){k.addTrackedEditOperation(this._range,this._text)}computeCursorState(F,k){const C=k.getInverseEditOperations()[0].range;return E.Y.fromPositions(C.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class i{constructor(F,k,y,C=!1){this._range=F,this._text=k,this._initialSelection=y,this._forceMoveMarkers=C,this._selectionId=null}getEditOperations(F,k){k.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=k.trackSelection(this._initialSelection)}computeCursorState(F,k){return k.getTrackedSelection(this._selectionId)}}},51788:(Fe,Ne,m)=>{m.d(Ne,{U:()=>F});var E=m(74243),g=m(90784),Y=m(1873),B=m(60745),D=m(92119);const i=Object.create(null);function O(k,y){if(y<=0)return"";i[k]||(i[k]=["",k]);const C=i[k];for(let b=C.length;b<=y;b++)C[b]=C[b-1]+k;return C[y]}class F{constructor(y,C){this._opts=C,this._selection=y,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(y,C,b,x,f){const M=g.i.visibleColumnFromColumn(y,C,b);if(f){const H=O(" ",x);return O(H,g.i.prevIndentTabStop(M,x)/x)}return O("\t",g.i.prevRenderTabStop(M,b)/b)}static shiftIndent(y,C,b,x,f){const M=g.i.visibleColumnFromColumn(y,C,b);if(f){const H=O(" ",x);return O(H,g.i.nextIndentTabStop(M,x)/x)}return O("\t",g.i.nextRenderTabStop(M,b)/b)}_addEditOperation(y,C,b){this._useLastEditRangeForCursorEndPosition?y.addTrackedEditOperation(C,b):y.addEditOperation(C,b)}getEditOperations(y,C){const b=this._selection.startLineNumber;let x=this._selection.endLineNumber;1===this._selection.endColumn&&b!==x&&(x-=1);const{tabSize:f,indentSize:M,insertSpaces:H}=this._opts,L=b===x;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(y.getLineContent(b))&&(this._useLastEditRangeForCursorEndPosition=!0);let N=0,Z=0;for(let P=b;P<=x;P++,N=Z){Z=0;const I=y.getLineContent(P);let U,$=E.LC(I);if((!this._opts.isUnshift||0!==I.length&&0!==$)&&(L||this._opts.isUnshift||0!==I.length)){if(-1===$&&($=I.length),P>1&&g.i.visibleColumnFromColumn(I,$+1,f)%M!=0&&y.isCheapToTokenize(P-1)){const oe=D.zu.getEnterAction(this._opts.autoIndent,y,new Y.e(P-1,y.getLineMaxColumn(P-1),P-1,y.getLineMaxColumn(P-1)));if(oe){if(Z=N,oe.appendText)for(let de=0,fe=oe.appendText.length;de<fe&&Z<M&&32===oe.appendText.charCodeAt(de);de++)Z++;oe.removeText&&(Z=Math.max(0,Z-oe.removeText));for(let de=0;de<Z&&0!==$&&32===I.charCodeAt($-1);de++)$--}}this._opts.isUnshift&&0===$||(U=this._opts.isUnshift?F.unshiftIndent(I,$+1,f,M,H):F.shiftIndent(I,$+1,f,M,H),this._addEditOperation(C,new Y.e(P,1,P,$+1),U),P===b&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=$+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===y.getLineLength(b)&&(this._useLastEditRangeForCursorEndPosition=!0);const N=H?O(" ",M):"\t";for(let Z=b;Z<=x;Z++){const P=y.getLineContent(Z);let I=E.LC(P);if((!this._opts.isUnshift||0!==P.length&&0!==I)&&(L||this._opts.isUnshift||0!==P.length)&&(-1===I&&(I=P.length),!this._opts.isUnshift||0!==I))if(this._opts.isUnshift){I=Math.min(I,M);for(let $=0;$<I;$++)if(9===P.charCodeAt($)){I=$+1;break}this._addEditOperation(C,new Y.e(Z,1,Z,I+1),"")}else this._addEditOperation(C,new Y.e(Z,1,Z,1),N),Z===b&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=C.trackSelection(this._selection)}computeCursorState(y,C){if(this._useLastEditRangeForCursorEndPosition){const x=C.getInverseEditOperations()[0];return new B.Y(x.range.endLineNumber,x.range.endColumn,x.range.endLineNumber,x.range.endColumn)}const b=C.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const x=this._selection.startColumn;return b.startColumn<=x?b:0===b.getDirection()?new B.Y(b.startLineNumber,x,b.endLineNumber,b.endColumn):new B.Y(b.endLineNumber,b.endColumn,b.startLineNumber,x)}return b}}},52925:(Fe,Ne,m)=>{m.d(Ne,{y0:()=>O,Bb:()=>F,LJ:()=>k,rk:()=>C,O7:()=>M,Zc:()=>L,NY:()=>I,d2:()=>_e,n0:()=>le,gk:()=>ke,$J:()=>nt,Av:()=>bt,qt:()=>Ut,hL:()=>Yn,Bc:()=>xi,BH:()=>Bi});var E=m(12918),g=m(70700),Y=m(54745),B=m(89822),D=m(60842),i=m(27870);const O=8;class F{constructor(He){this._values=He}hasChanged(He){return this._values[He]}}class k{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class y{constructor(He,Ue,on,Sn){this.id=He,this.name=Ue,this.defaultValue=on,this.schema=Sn}applyUpdate(He,Ue){return b(He,Ue)}compute(He,Ue,on){return on}}class C{constructor(He,Ue){this.newValue=He,this.didChange=Ue}}function b(Xt,He){if("object"!=typeof Xt||"object"!=typeof He||!Xt||!He)return new C(He,Xt!==He);if(Array.isArray(Xt)||Array.isArray(He)){const on=Array.isArray(Xt)&&Array.isArray(He)&&B.fS(Xt,He);return new C(He,on)}let Ue=!1;for(const on in He)if(He.hasOwnProperty(on)){const Sn=b(Xt[on],He[on]);Sn.didChange&&(Xt[on]=Sn.newValue,Ue=!0)}return new C(Xt,Ue)}class x{constructor(He){this.schema=void 0,this.id=He,this.name="_never_",this.defaultValue=void 0}applyUpdate(He,Ue){return b(He,Ue)}validate(He){return this.defaultValue}}class f{constructor(He,Ue,on,Sn){this.id=He,this.name=Ue,this.defaultValue=on,this.schema=Sn}applyUpdate(He,Ue){return b(He,Ue)}validate(He){return void 0===He?this.defaultValue:He}compute(He,Ue,on){return on}}function M(Xt,He){return void 0===Xt?He:"false"!==Xt&&Boolean(Xt)}class H extends f{constructor(He,Ue,on,Sn){void 0!==Sn&&(Sn.type="boolean",Sn.default=on),super(He,Ue,on,Sn)}validate(He){return M(He,this.defaultValue)}}function L(Xt,He,Ue,on){if(void 0===Xt)return He;let Sn=parseInt(Xt,10);return isNaN(Sn)?He:(Sn=Math.max(Ue,Sn),Sn=Math.min(on,Sn),0|Sn)}class N extends f{constructor(He,Ue,on,Sn,ai,bi){void 0!==bi&&(bi.type="integer",bi.default=on,bi.minimum=Sn,bi.maximum=ai),super(He,Ue,on,bi),this.minimum=Sn,this.maximum=ai}static clampedInt(He,Ue,on,Sn){return L(He,Ue,on,Sn)}validate(He){return N.clampedInt(He,this.defaultValue,this.minimum,this.maximum)}}class Z extends f{constructor(He,Ue,on,Sn,ai){void 0!==ai&&(ai.type="number",ai.default=on),super(He,Ue,on,ai),this.validationFn=Sn}static clamp(He,Ue,on){return He<Ue?Ue:He>on?on:He}static float(He,Ue){if("number"==typeof He)return He;if(void 0===He)return Ue;const on=parseFloat(He);return isNaN(on)?Ue:on}validate(He){return this.validationFn(Z.float(He,this.defaultValue))}}class P extends f{static string(He,Ue){return"string"!=typeof He?Ue:He}constructor(He,Ue,on,Sn){void 0!==Sn&&(Sn.type="string",Sn.default=on),super(He,Ue,on,Sn)}validate(He){return P.string(He,this.defaultValue)}}function I(Xt,He,Ue){return"string"!=typeof Xt||-1===Ue.indexOf(Xt)?He:Xt}class $ extends f{constructor(He,Ue,on,Sn,ai){void 0!==ai&&(ai.type="string",ai.enum=Sn,ai.default=on),super(He,Ue,on,ai),this._allowedValues=Sn}validate(He){return I(He,this.defaultValue,this._allowedValues)}}class U extends y{constructor(He,Ue,on,Sn,ai,bi,ki){void 0!==ki&&(ki.type="string",ki.enum=ai,ki.default=Sn),super(He,Ue,on,ki),this._allowedValues=ai,this._convert=bi}validate(He){return"string"!=typeof He||-1===this._allowedValues.indexOf(He)?this.defaultValue:this._convert(He)}}var _e=(()=>{return(Xt=_e||(_e={}))[Xt.Line=1]="Line",Xt[Xt.Block=2]="Block",Xt[Xt.Underline=3]="Underline",Xt[Xt.LineThin=4]="LineThin",Xt[Xt.BlockOutline=5]="BlockOutline",Xt[Xt.UnderlineThin=6]="UnderlineThin",_e;var Xt})();let le=(()=>{class Xt extends y{constructor(){super(45,"fontLigatures",Xt.OFF,{anyOf:[{type:"boolean",description:E.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:E.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:E.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Ue){return void 0===Ue?this.defaultValue:"string"==typeof Ue?"false"===Ue?Xt.OFF:"true"===Ue?Xt.ON:Ue:Boolean(Ue)?Xt.ON:Xt.OFF}}return Xt.OFF='"liga" off, "calt" off',Xt.ON='"liga" on, "calt" on',Xt})(),re=(()=>{class Xt extends y{constructor(){super(47,"fontWeight",Yn.fontWeight,{anyOf:[{type:"number",minimum:Xt.MINIMUM_VALUE,maximum:Xt.MAXIMUM_VALUE,errorMessage:E.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Xt.SUGGESTION_VALUES}],default:Yn.fontWeight,description:E.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Ue){return"normal"===Ue||"bold"===Ue?Ue:String(N.clampedInt(Ue,Yn.fontWeight,Xt.MINIMUM_VALUE,Xt.MAXIMUM_VALUE))}}return Xt.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Xt.MINIMUM_VALUE=1,Xt.MAXIMUM_VALUE=1e3,Xt})();class ke extends x{constructor(){super(131)}compute(He,Ue,on){return ke.computeLayout(Ue,{memory:He.memory,outerWidth:He.outerWidth,outerHeight:He.outerHeight,isDominatedByLongLines:He.isDominatedByLongLines,lineHeight:He.fontInfo.lineHeight,viewLineCount:He.viewLineCount,lineNumbersDigitCount:He.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:He.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:He.fontInfo.maxDigitWidth,pixelRatio:He.pixelRatio})}static computeContainedMinimapLineCount(He){const Ue=He.height/He.lineHeight,on=He.scrollBeyondLastLine?Ue-1:0,Sn=(He.viewLineCount+on)/(He.pixelRatio*He.height);return{typicalViewportLineCount:Ue,extraLinesBeyondLastLine:on,desiredRatio:Sn,minimapLineCount:Math.floor(He.viewLineCount/Sn)}}static _computeMinimapLayout(He,Ue){const on=He.outerWidth,Sn=He.outerHeight,ai=He.pixelRatio;if(!He.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ai*Sn),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Sn};const bi=Ue.stableMinimapLayoutInput,ki=bi&&He.outerHeight===bi.outerHeight&&He.lineHeight===bi.lineHeight&&He.typicalHalfwidthCharacterWidth===bi.typicalHalfwidthCharacterWidth&&He.pixelRatio===bi.pixelRatio&&He.scrollBeyondLastLine===bi.scrollBeyondLastLine&&He.minimap.enabled===bi.minimap.enabled&&He.minimap.side===bi.minimap.side&&He.minimap.size===bi.minimap.size&&He.minimap.showSlider===bi.minimap.showSlider&&He.minimap.renderCharacters===bi.minimap.renderCharacters&&He.minimap.maxColumn===bi.minimap.maxColumn&&He.minimap.scale===bi.minimap.scale&&He.verticalScrollbarWidth===bi.verticalScrollbarWidth&&He.isViewportWrapping===bi.isViewportWrapping,Li=He.lineHeight,wi=He.typicalHalfwidthCharacterWidth,Dt=He.scrollBeyondLastLine,Lt=He.minimap.renderCharacters;let Yt=ai>=2?Math.round(2*He.minimap.scale):He.minimap.scale;const bn=He.minimap.maxColumn,Kt=He.minimap.size,Ve=He.minimap.side,Qe=He.verticalScrollbarWidth,ct=He.viewLineCount,xt=He.remainingWidth,Ht=He.isViewportWrapping,en=Lt?2:3;let hn=Math.floor(ai*Sn);const yn=hn/ai;let _n=!1,wn=!1,rn=en*Yt,vn=Yt/ai,ln=1;if("fill"===Kt||"fit"===Kt){const{typicalViewportLineCount:xn,extraLinesBeyondLastLine:Mi,desiredRatio:li,minimapLineCount:pi}=ke.computeContainedMinimapLineCount({viewLineCount:ct,scrollBeyondLastLine:Dt,height:Sn,lineHeight:Li,pixelRatio:ai});if(ct/pi>1)_n=!0,wn=!0,Yt=1,rn=1,vn=Yt/ai;else{let Ci=!1,Ti=Yt+1;if("fit"===Kt){const ei=Math.ceil((ct+Mi)*rn);Ht&&ki&&xt<=Ue.stableFitRemainingWidth?(Ci=!0,Ti=Ue.stableFitMaxMinimapScale):Ci=ei>hn}if("fill"===Kt||Ci){_n=!0;const ei=Yt;rn=Math.min(Li*ai,Math.max(1,Math.floor(1/li))),Ht&&ki&&xt<=Ue.stableFitRemainingWidth&&(Ti=Ue.stableFitMaxMinimapScale),Yt=Math.min(Ti,Math.max(1,Math.floor(rn/en))),Yt>ei&&(ln=Math.min(2,Yt/ei)),vn=Yt/ai/ln,hn=Math.ceil(Math.max(xn,ct+Mi)*rn),Ht?(Ue.stableMinimapLayoutInput=He,Ue.stableFitRemainingWidth=xt,Ue.stableFitMaxMinimapScale=Yt):(Ue.stableMinimapLayoutInput=null,Ue.stableFitRemainingWidth=0)}}}const En=Math.floor(bn*vn),In=Math.min(En,Math.max(0,Math.floor((xt-Qe-2)*vn/(wi+vn)))+O);let Kn=Math.floor(ai*In);const Jn=Kn/ai;return Kn=Math.floor(Kn*ln),{renderMinimap:Lt?1:2,minimapLeft:"left"===Ve?0:on-In-Qe,minimapWidth:In,minimapHeightIsEditorHeight:_n,minimapIsSampling:wn,minimapScale:Yt,minimapLineHeight:rn,minimapCanvasInnerWidth:Kn,minimapCanvasInnerHeight:hn,minimapCanvasOuterWidth:Jn,minimapCanvasOuterHeight:yn}}static computeLayout(He,Ue){const on=0|Ue.outerWidth,Sn=0|Ue.outerHeight,ai=0|Ue.lineHeight,bi=0|Ue.lineNumbersDigitCount,ki=Ue.typicalHalfwidthCharacterWidth,Li=Ue.maxDigitWidth,wi=Ue.pixelRatio,Dt=Ue.viewLineCount,Lt=He.get(123),Yt="inherit"===Lt?He.get(122):Lt,bn="inherit"===Yt?He.get(118):Yt,Kt=He.get(121),Ve=He.get(2),Qe=Ue.isDominatedByLongLines,ct=He.get(50),xt=0!==He.get(60).renderType,Ht=He.get(61),en=He.get(94),hn=He.get(65),yn=He.get(92),_n=yn.verticalScrollbarSize,wn=yn.verticalHasArrows,rn=yn.arrowSize,vn=yn.horizontalScrollbarSize,ln=He.get(58),En=He.get(37);let In;if("string"==typeof ln&&/^\d+(\.\d+)?ch$/.test(ln)){const ji=parseFloat(ln.substr(0,ln.length-2));In=N.clampedInt(ji*ki,0,0,1e3)}else In=N.clampedInt(ln,0,0,1e3);En&&(In+=16);let Kn=0;if(xt){const ji=Math.max(bi,Ht);Kn=Math.round(ji*Li)}let Jn=0;ct&&(Jn=ai);let _i=0,Di=_i+Jn,xn=Di+Kn,Mi=xn+In;const li=on-Jn-Kn-In;let pi=!1,Mn=!1,Ci=-1;2!==Ve&&("inherit"===Yt&&Qe?(pi=!0,Mn=!0):"on"===bn||"bounded"===bn?Mn=!0:"wordWrapColumn"===bn&&(Ci=Kt));const Ti=ke._computeMinimapLayout({outerWidth:on,outerHeight:Sn,lineHeight:ai,typicalHalfwidthCharacterWidth:ki,pixelRatio:wi,scrollBeyondLastLine:en,minimap:hn,verticalScrollbarWidth:_n,viewLineCount:Dt,remainingWidth:li,isViewportWrapping:Mn},Ue.memory||new k);0!==Ti.renderMinimap&&0===Ti.minimapLeft&&(_i+=Ti.minimapWidth,Di+=Ti.minimapWidth,xn+=Ti.minimapWidth,Mi+=Ti.minimapWidth);const ei=li-Ti.minimapWidth,ao=Math.max(1,Math.floor((ei-_n-2)/ki)),zn=wn?rn:0;return Mn&&(Ci=Math.max(1,ao),"bounded"===bn&&(Ci=Math.min(Ci,Kt))),{width:on,height:Sn,glyphMarginLeft:_i,glyphMarginWidth:Jn,lineNumbersLeft:Di,lineNumbersWidth:Kn,decorationsLeft:xn,decorationsWidth:In,contentLeft:Mi,contentWidth:ei,minimap:Ti,viewportColumn:ao,isWordWrapMinified:pi,isViewportWrapping:Mn,wrappingColumn:Ci,verticalScrollbarWidth:_n,horizontalScrollbarHeight:vn,overviewRuler:{top:zn,width:_n,height:Sn-2*zn,right:0}}}}function nt(Xt){const He=Xt.get(87);return"editable"===He?Xt.get(81):"on"!==He}function Ie(Xt,He){if("string"!=typeof Xt)return He;switch(Xt){case"hidden":return 2;case"visible":return 3;default:return 1}}const bt="inUntrustedWorkspace",Ut={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function zt(Xt,He,Ue){const on=Ue.indexOf(Xt);return-1===on?He:Ue[on]}const Yn={fontFamily:g.dz?"Menlo, Monaco, 'Courier New', monospace":g.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:g.dz?12:14,lineHeight:0,letterSpacing:0},xi=[];function At(Xt){return xi[Xt.id]=Xt,Xt}const Bi={acceptSuggestionOnCommitCharacter:At(new H(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:E.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:At(new $(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",E.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:E.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:At(new class extends y{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[E.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),E.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),E.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:E.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(He){switch(He){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(He,Ue,on){return 0===on?He.accessibilitySupport:on}}),accessibilityPageSize:At(new N(3,"accessibilityPageSize",10,1,1073741824,{description:E.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:At(new P(4,"ariaLabel",E.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:At(new $(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),E.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:E.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:At(new $(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",E.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:E.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:At(new $(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",E.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:E.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:At(new $(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),E.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:E.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:At(new U(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function(Xt){switch(Xt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[E.N("editor.autoIndent.none","The editor will not insert indentation automatically."),E.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),E.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),E.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),E.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:E.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:At(new H(10,"automaticLayout",!1)),autoSurround:At(new $(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[E.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),E.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),E.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:E.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:At(new class extends y{constructor(){const He={enabled:i.D.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",He,{"editor.bracketPairColorization.enabled":{type:"boolean",default:He.enabled,description:E.N("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(He){return He&&"object"==typeof He?{enabled:M(He.enabled,this.defaultValue.enabled)}:this.defaultValue}}),bracketPairGuides:At(new class extends y{constructor(){const He={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",He,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[E.N("editor.guides.bracketPairs.true","Enables bracket pair guides."),E.N("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),E.N("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:He.bracketPairs,description:E.N("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[E.N("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),E.N("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),E.N("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:He.bracketPairsHorizontal,description:E.N("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:He.highlightActiveBracketPair,description:E.N("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:He.indentation,description:E.N("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:He.highlightActiveIndentation,description:E.N("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{bracketPairs:zt(Ue.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:zt(Ue.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:M(Ue.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:M(Ue.indentation,this.defaultValue.indentation),highlightActiveIndentation:M(Ue.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}),stickyTabStops:At(new H(104,"stickyTabStops",!1,{description:E.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:At(new H(14,"codeLens",!0,{description:E.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:At(new P(15,"codeLensFontFamily","",{description:E.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:At(new N(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:E.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:At(new H(17,"colorDecorators",!0,{description:E.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:At(new H(18,"columnSelection",!1,{description:E.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:At(new class extends y{constructor(){const He={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",He,{"editor.comments.insertSpace":{type:"boolean",default:He.insertSpace,description:E.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:He.ignoreEmptyLines,description:E.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{insertSpace:M(Ue.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:M(Ue.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:At(new H(20,"contextmenu",!0)),copyWithSyntaxHighlighting:At(new H(21,"copyWithSyntaxHighlighting",!0,{description:E.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:At(new U(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function(Xt){switch(Xt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:E.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:At(new H(23,"cursorSmoothCaretAnimation",!1,{description:E.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:At(new U(24,"cursorStyle",_e.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function(Xt){switch(Xt){case"line":return _e.Line;case"block":return _e.Block;case"underline":return _e.Underline;case"line-thin":return _e.LineThin;case"block-outline":return _e.BlockOutline;case"underline-thin":return _e.UnderlineThin}},{description:E.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:At(new N(25,"cursorSurroundingLines",0,0,1073741824,{description:E.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:At(new $(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[E.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),E.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:E.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:At(new N(27,"cursorWidth",0,0,1073741824,{markdownDescription:E.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:At(new H(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:At(new H(29,"disableMonospaceOptimizations",!1)),domReadOnly:At(new H(30,"domReadOnly",!1)),dragAndDrop:At(new H(31,"dragAndDrop",!0,{description:E.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:At(new class extends H{constructor(){super(32,"emptySelectionClipboard",!0,{description:E.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(He,Ue,on){return on&&He.emptySelectionClipboard}}),extraEditorClassName:At(new P(33,"extraEditorClassName","")),fastScrollSensitivity:At(new Z(34,"fastScrollSensitivity",5,Xt=>Xt<=0?5:Xt,{markdownDescription:E.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:At(new class extends y{constructor(){const He={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",He,{"editor.find.cursorMoveOnType":{type:"boolean",default:He.cursorMoveOnType,description:E.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:He.seedSearchStringFromSelection,enumDescriptions:[E.N("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),E.N("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),E.N("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:E.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:He.autoFindInSelection,enumDescriptions:[E.N("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),E.N("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),E.N("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:E.N("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:He.globalFindClipboard,description:E.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:g.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:He.addExtraSpaceOnTop,description:E.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:He.loop,description:E.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{cursorMoveOnType:M(Ue.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof He.seedSearchStringFromSelection?He.seedSearchStringFromSelection?"always":"never":I(Ue.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof He.autoFindInSelection?He.autoFindInSelection?"always":"never":I(Ue.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:M(Ue.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:M(Ue.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:M(Ue.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:At(new H(36,"fixedOverflowWidgets",!1)),folding:At(new H(37,"folding",!0,{description:E.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:At(new $(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[E.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),E.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:E.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:At(new H(39,"foldingHighlight",!0,{description:E.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:At(new H(40,"foldingImportsByDefault",!1,{description:E.N("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:At(new N(41,"foldingMaximumRegions",5e3,10,65e3,{description:E.N("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:At(new H(42,"unfoldOnClickAfterEndOfLine",!1,{description:E.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:At(new P(43,"fontFamily",Yn.fontFamily,{description:E.N("fontFamily","Controls the font family.")})),fontInfo:At(new class extends x{constructor(){super(44)}compute(He,Ue,on){return He.fontInfo}}),fontLigatures2:At(new le),fontSize:At(new class extends f{constructor(){super(46,"fontSize",Yn.fontSize,{type:"number",minimum:6,maximum:100,default:Yn.fontSize,description:E.N("fontSize","Controls the font size in pixels.")})}validate(He){const Ue=Z.float(He,this.defaultValue);return 0===Ue?Yn.fontSize:Z.clamp(Ue,6,100)}compute(He,Ue,on){return He.fontInfo.fontSize}}),fontWeight:At(new re),formatOnPaste:At(new H(48,"formatOnPaste",!1,{description:E.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:At(new H(49,"formatOnType",!1,{description:E.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:At(new H(50,"glyphMargin",!0,{description:E.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:At(new class extends y{constructor(){const He={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Ue={type:"string",enum:["peek","gotoAndPeek","goto"],default:He.multiple,enumDescriptions:[E.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),E.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),E.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},on=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",He,{"editor.gotoLocation.multiple":{deprecationMessage:E.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:E.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Ue),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:E.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Ue),"editor.gotoLocation.multipleDeclarations":Object.assign({description:E.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Ue),"editor.gotoLocation.multipleImplementations":Object.assign({description:E.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Ue),"editor.gotoLocation.multipleReferences":Object.assign({description:E.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Ue),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:He.alternativeDefinitionCommand,enum:on,description:E.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:He.alternativeTypeDefinitionCommand,enum:on,description:E.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:He.alternativeDeclarationCommand,enum:on,description:E.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:He.alternativeImplementationCommand,enum:on,description:E.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:He.alternativeReferenceCommand,enum:on,description:E.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(He){var Ue,on,Sn,ai,bi;if(!He||"object"!=typeof He)return this.defaultValue;const ki=He;return{multiple:I(ki.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(Ue=ki.multipleDefinitions)&&void 0!==Ue?Ue:I(ki.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(on=ki.multipleTypeDefinitions)&&void 0!==on?on:I(ki.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(Sn=ki.multipleDeclarations)&&void 0!==Sn?Sn:I(ki.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(ai=ki.multipleImplementations)&&void 0!==ai?ai:I(ki.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(bi=ki.multipleReferences)&&void 0!==bi?bi:I(ki.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:P.string(ki.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:P.string(ki.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:P.string(ki.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:P.string(ki.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:P.string(ki.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:At(new H(52,"hideCursorInOverviewRuler",!1,{description:E.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:At(new class extends y{constructor(){const He={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",He,{"editor.hover.enabled":{type:"boolean",default:He.enabled,description:E.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:He.delay,minimum:0,maximum:1e4,description:E.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:He.sticky,description:E.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:He.above,description:E.N("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{enabled:M(Ue.enabled,this.defaultValue.enabled),delay:N.clampedInt(Ue.delay,this.defaultValue.delay,0,1e4),sticky:M(Ue.sticky,this.defaultValue.sticky),above:M(Ue.above,this.defaultValue.above)}}}),inDiffEditor:At(new H(54,"inDiffEditor",!1)),letterSpacing:At(new Z(56,"letterSpacing",Yn.letterSpacing,Xt=>Z.clamp(Xt,-5,20),{description:E.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:At(new class extends y{constructor(){const He={enabled:!0};super(57,"lightbulb",He,{"editor.lightbulb.enabled":{type:"boolean",default:He.enabled,description:E.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate(He){return He&&"object"==typeof He?{enabled:M(He.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:At(new f(58,"lineDecorationsWidth",10)),lineHeight:At(new class extends Z{constructor(){super(59,"lineHeight",Yn.lineHeight,He=>Z.clamp(He,0,150),{markdownDescription:E.N("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(He,Ue,on){return He.fontInfo.lineHeight}}),lineNumbers:At(new class extends y{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[E.N("lineNumbers.off","Line numbers are not rendered."),E.N("lineNumbers.on","Line numbers are rendered as absolute number."),E.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),E.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:E.N("lineNumbers","Controls the display of line numbers.")})}validate(He){let Ue=this.defaultValue.renderType,on=this.defaultValue.renderFn;return void 0!==He&&("function"==typeof He?(Ue=4,on=He):Ue="interval"===He?3:"relative"===He?2:"on"===He?1:0),{renderType:Ue,renderFn:on}}}),lineNumbersMinChars:At(new N(61,"lineNumbersMinChars",5,1,300)),linkedEditing:At(new H(62,"linkedEditing",!1,{description:E.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:At(new H(63,"links",!0,{description:E.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:At(new $(64,"matchBrackets","always",["always","near","never"],{description:E.N("matchBrackets","Highlight matching brackets.")})),minimap:At(new class extends y{constructor(){const He={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",He,{"editor.minimap.enabled":{type:"boolean",default:He.enabled,description:E.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[E.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),E.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),E.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:He.size,description:E.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:He.side,description:E.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:He.showSlider,description:E.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:He.scale,minimum:1,maximum:3,enum:[1,2,3],description:E.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:He.renderCharacters,description:E.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:He.maxColumn,description:E.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{enabled:M(Ue.enabled,this.defaultValue.enabled),size:I(Ue.size,this.defaultValue.size,["proportional","fill","fit"]),side:I(Ue.side,this.defaultValue.side,["right","left"]),showSlider:I(Ue.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:M(Ue.renderCharacters,this.defaultValue.renderCharacters),scale:N.clampedInt(Ue.scale,1,1,3),maxColumn:N.clampedInt(Ue.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:At(new $(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:At(new Z(67,"mouseWheelScrollSensitivity",1,Xt=>0===Xt?1:Xt,{markdownDescription:E.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:At(new H(68,"mouseWheelZoom",!1,{markdownDescription:E.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:At(new H(69,"multiCursorMergeOverlapping",!0,{description:E.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:At(new U(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function(Xt){return"ctrlCmd"===Xt?g.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[E.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),E.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:E.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:At(new $(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[E.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),E.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:E.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:At(new H(72,"occurrencesHighlight",!0,{description:E.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:At(new H(73,"overviewRulerBorder",!0,{description:E.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:At(new N(74,"overviewRulerLanes",3,0,3)),padding:At(new class extends y{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:E.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:E.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{top:N.clampedInt(Ue.top,0,0,1e3),bottom:N.clampedInt(Ue.bottom,0,0,1e3)}}}),parameterHints:At(new class extends y{constructor(){const He={enabled:!0,cycle:!1};super(76,"parameterHints",He,{"editor.parameterHints.enabled":{type:"boolean",default:He.enabled,description:E.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:He.cycle,description:E.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{enabled:M(Ue.enabled,this.defaultValue.enabled),cycle:M(Ue.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:At(new $(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[E.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),E.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:E.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:At(new H(78,"definitionLinkOpensInPeek",!1,{description:E.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:At(new class extends y{constructor(){const He={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",He,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:He.strings,description:E.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:He.comments,description:E.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:He.other,description:E.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:He,description:E.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=He}validate(He){if("boolean"==typeof He)return He;if(He&&"object"==typeof He){const Ue=He,on={other:M(Ue.other,this.defaultValue.other),comments:M(Ue.comments,this.defaultValue.comments),strings:M(Ue.strings,this.defaultValue.strings)};return!!(on.other&&on.comments&&on.strings)||!!(on.other||on.comments||on.strings)&&on}return this.defaultValue}}),quickSuggestionsDelay:At(new N(80,"quickSuggestionsDelay",10,0,1073741824,{description:E.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:At(new H(81,"readOnly",!1)),renameOnType:At(new H(82,"renameOnType",!1,{description:E.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:E.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:At(new H(83,"renderControlCharacters",!0,{description:E.N("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:At(new H(84,"renderFinalNewline",!0,{description:E.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:At(new $(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",E.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:E.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:At(new H(86,"renderLineHighlightOnlyWhenFocus",!1,{description:E.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:At(new $(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:At(new $(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",E.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),E.N("renderWhitespace.selection","Render whitespace characters only on selected text."),E.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:E.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:At(new N(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:At(new H(90,"roundedSelection",!0,{description:E.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:At(new class extends y{constructor(){const He=[],Ue={type:"number",description:E.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(91,"rulers",He,{type:"array",items:{anyOf:[Ue,{type:["object"],properties:{column:Ue,color:{type:"string",description:E.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:He,description:E.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(He){if(Array.isArray(He)){const Ue=[];for(let on of He)if("number"==typeof on)Ue.push({column:N.clampedInt(on,0,0,1e4),color:null});else if(on&&"object"==typeof on){const Sn=on;Ue.push({column:N.clampedInt(Sn.column,0,0,1e4),color:Sn.color})}return Ue.sort((on,Sn)=>on.column-Sn.column),Ue}return this.defaultValue}}),scrollbar:At(new class extends y{constructor(){const He={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",He,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),E.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),E.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:E.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),E.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),E.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:E.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:He.verticalScrollbarSize,description:E.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:He.horizontalScrollbarSize,description:E.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:He.scrollByPage,description:E.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He,on=N.clampedInt(Ue.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Sn=N.clampedInt(Ue.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:N.clampedInt(Ue.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Ie(Ue.vertical,this.defaultValue.vertical),horizontal:Ie(Ue.horizontal,this.defaultValue.horizontal),useShadows:M(Ue.useShadows,this.defaultValue.useShadows),verticalHasArrows:M(Ue.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:M(Ue.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:M(Ue.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:M(Ue.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:on,horizontalSliderSize:N.clampedInt(Ue.horizontalSliderSize,on,0,1e3),verticalScrollbarSize:Sn,verticalSliderSize:N.clampedInt(Ue.verticalSliderSize,Sn,0,1e3),scrollByPage:M(Ue.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:At(new N(93,"scrollBeyondLastColumn",5,0,1073741824,{description:E.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:At(new H(94,"scrollBeyondLastLine",!0,{description:E.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:At(new H(95,"scrollPredominantAxis",!0,{description:E.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:At(new H(96,"selectionClipboard",!0,{description:E.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:g.IJ})),selectionHighlight:At(new H(97,"selectionHighlight",!0,{description:E.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:At(new H(98,"selectOnLineNumbers",!0)),showFoldingControls:At(new $(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[E.N("showFoldingControls.always","Always show the folding controls."),E.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:E.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:At(new H(100,"showUnused",!0,{description:E.N("showUnused","Controls fading out of unused code.")})),showDeprecated:At(new H(126,"showDeprecated",!0,{description:E.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:At(new class extends y{constructor(){const He={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",He,{"editor.inlayHints.enabled":{type:"boolean",default:He.enabled,description:E.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:He.fontSize,markdownDescription:E.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:He.fontFamily,markdownDescription:E.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{enabled:M(Ue.enabled,this.defaultValue.enabled),fontSize:N.clampedInt(Ue.fontSize,this.defaultValue.fontSize,0,100),fontFamily:P.string(Ue.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:At(new $(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[E.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),E.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),E.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),E.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:E.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:At(new class extends y{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:E.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(He){return He&&"object"==typeof He?{selectLeadingAndTrailingWhitespace:M(He.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:At(new H(103,"smoothScrolling",!1,{description:E.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:At(new N(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:At(new class extends y{constructor(){const He={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",He,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[E.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),E.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:He.insertMode,description:E.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:He.filterGraceful,description:E.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:He.localityBonus,description:E.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:He.shareSuggestSelections,markdownDescription:E.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:He.snippetsPreventQuickSuggestions,description:E.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:He.showIcons,description:E.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:He.showStatusBar,description:E.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:He.preview,description:E.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:He.showInlineDetails,description:E.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:E.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:E.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:E.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{insertMode:I(Ue.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:M(Ue.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:M(Ue.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:M(Ue.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:M(Ue.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:M(Ue.showIcons,this.defaultValue.showIcons),showStatusBar:M(Ue.showStatusBar,this.defaultValue.showStatusBar),preview:M(Ue.preview,this.defaultValue.preview),previewMode:I(Ue.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:M(Ue.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:M(Ue.showMethods,this.defaultValue.showMethods),showFunctions:M(Ue.showFunctions,this.defaultValue.showFunctions),showConstructors:M(Ue.showConstructors,this.defaultValue.showConstructors),showDeprecated:M(Ue.showDeprecated,this.defaultValue.showDeprecated),showFields:M(Ue.showFields,this.defaultValue.showFields),showVariables:M(Ue.showVariables,this.defaultValue.showVariables),showClasses:M(Ue.showClasses,this.defaultValue.showClasses),showStructs:M(Ue.showStructs,this.defaultValue.showStructs),showInterfaces:M(Ue.showInterfaces,this.defaultValue.showInterfaces),showModules:M(Ue.showModules,this.defaultValue.showModules),showProperties:M(Ue.showProperties,this.defaultValue.showProperties),showEvents:M(Ue.showEvents,this.defaultValue.showEvents),showOperators:M(Ue.showOperators,this.defaultValue.showOperators),showUnits:M(Ue.showUnits,this.defaultValue.showUnits),showValues:M(Ue.showValues,this.defaultValue.showValues),showConstants:M(Ue.showConstants,this.defaultValue.showConstants),showEnums:M(Ue.showEnums,this.defaultValue.showEnums),showEnumMembers:M(Ue.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:M(Ue.showKeywords,this.defaultValue.showKeywords),showWords:M(Ue.showWords,this.defaultValue.showWords),showColors:M(Ue.showColors,this.defaultValue.showColors),showFiles:M(Ue.showFiles,this.defaultValue.showFiles),showReferences:M(Ue.showReferences,this.defaultValue.showReferences),showFolders:M(Ue.showFolders,this.defaultValue.showFolders),showTypeParameters:M(Ue.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:M(Ue.showSnippets,this.defaultValue.showSnippets),showUsers:M(Ue.showUsers,this.defaultValue.showUsers),showIssues:M(Ue.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:At(new class extends y{constructor(){const He={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",He,{"editor.inlineSuggest.enabled":{type:"boolean",default:He.enabled,description:E.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{enabled:M(Ue.enabled,this.defaultValue.enabled),mode:I(Ue.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:At(new N(107,"suggestFontSize",0,0,1e3,{markdownDescription:E.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:At(new N(108,"suggestLineHeight",0,0,1e3,{markdownDescription:E.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:At(new H(109,"suggestOnTriggerCharacters",!0,{description:E.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:At(new $(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[E.N("suggestSelection.first","Always select the first suggestion."),E.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),E.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:E.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:At(new $(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[E.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),E.N("tabCompletion.off","Disable tab completions."),E.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:E.N("tabCompletion","Enables tab completions.")})),tabIndex:At(new N(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:At(new class extends y{constructor(){const He={nonBasicASCII:bt,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:bt,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",He,{[Ut.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,bt],default:He.nonBasicASCII,description:E.N("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Ut.invisibleCharacters]:{restricted:!0,type:"boolean",default:He.invisibleCharacters,description:E.N("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Ut.ambiguousCharacters]:{restricted:!0,type:"boolean",default:He.ambiguousCharacters,description:E.N("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Ut.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,bt],default:He.includeComments,description:E.N("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Ut.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,bt],default:He.includeStrings,description:E.N("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[Ut.allowedCharacters]:{restricted:!0,type:"object",default:He.allowedCharacters,description:E.N("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Ut.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:He.allowedLocales,description:E.N("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(He,Ue){let on=!1;Ue.allowedCharacters&&(D.fS(He.allowedCharacters,Ue.allowedCharacters)||(He=Object.assign(Object.assign({},He),{allowedCharacters:Ue.allowedCharacters}),on=!0)),Ue.allowedLocales&&(D.fS(He.allowedLocales,Ue.allowedLocales)||(He=Object.assign(Object.assign({},He),{allowedLocales:Ue.allowedLocales}),on=!0));const Sn=super.applyUpdate(He,Ue);return on?new C(Sn.newValue,!0):Sn}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const Ue=He;return{nonBasicASCII:zt(Ue.nonBasicASCII,bt,[!0,!1,bt]),invisibleCharacters:M(Ue.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:M(Ue.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:zt(Ue.includeComments,bt,[!0,!1,bt]),includeStrings:zt(Ue.includeStrings,bt,[!0,!1,bt]),allowedCharacters:this.validateBooleanMap(He.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(He.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(He,Ue){if("object"!=typeof He||!He)return Ue;const on={};for(const[Sn,ai]of Object.entries(He))!0===ai&&(on[Sn]=!0);return on}}),unusualLineTerminators:At(new $(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[E.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),E.N("unusualLineTerminators.off","Unusual line terminators are ignored."),E.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:E.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:At(new H(115,"useShadowDOM",!0)),useTabStops:At(new H(116,"useTabStops",!0,{description:E.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:At(new P(117,"wordSeparators",Y.vu,{description:E.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:At(new $(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[E.N("wordWrap.off","Lines will never wrap."),E.N("wordWrap.on","Lines will wrap at the viewport width."),E.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),E.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:E.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:At(new P(119,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:At(new P(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:At(new N(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:E.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:At(new $(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:At(new $(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:At(new U(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function(Xt){switch(Xt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[E.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),E.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),E.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),E.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:E.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:At(new $(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[E.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),E.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:E.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:At(new class extends x{constructor(){super(128)}compute(He,Ue,on){const Sn=["monaco-editor"];return Ue.get(33)&&Sn.push(Ue.get(33)),He.extraEditorClassName&&Sn.push(He.extraEditorClassName),"default"===Ue.get(66)?Sn.push("mouse-default"):"copy"===Ue.get(66)&&Sn.push("mouse-copy"),Ue.get(100)&&Sn.push("showUnused"),Ue.get(126)&&Sn.push("showDeprecated"),Sn.join(" ")}}),pixelRatio:At(new class extends x{constructor(){super(129)}compute(He,Ue,on){return He.pixelRatio}}),tabFocusMode:At(new class extends x{constructor(){super(130)}compute(He,Ue,on){return!!Ue.get(81)||He.tabFocusMode}}),layoutInfo:At(new ke),wrappingInfo:At(new class extends x{constructor(){super(132)}compute(He,Ue,on){const Sn=Ue.get(131);return{isDominatedByLongLines:He.isDominatedByLongLines,isWordWrapMinified:Sn.isWordWrapMinified,isViewportWrapping:Sn.isViewportWrapping,wrappingColumn:Sn.wrappingColumn}}})}},86627:(Fe,Ne,m)=>{m.d(Ne,{C:()=>g});var E=m(71040);const g=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new E.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(Y){Y=Math.min(Math.max(-5,Y),20),this._zoomLevel!==Y&&(this._zoomLevel=Y,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},11358:(Fe,Ne,m)=>{m.d(Ne,{E4:()=>D,pR:()=>O});var E=m(70700),g=m(86627);const Y=E.dz?1.5:1.35;class D{constructor(k){this._bareFontInfoBrand=void 0,this.pixelRatio=k.pixelRatio,this.fontFamily=String(k.fontFamily),this.fontWeight=String(k.fontWeight),this.fontSize=k.fontSize,this.fontFeatureSettings=k.fontFeatureSettings,this.lineHeight=0|k.lineHeight,this.letterSpacing=k.letterSpacing}static createFromValidatedSettings(k,y,C){const b=k.get(43),x=k.get(47),f=k.get(46),M=k.get(45),H=k.get(59),L=k.get(56);return D._create(b,x,f,M,H,L,y,C)}static _create(k,y,C,b,x,f,M,H){0===x?x=Y*C:x<8&&(x*=C),(x=Math.round(x))<8&&(x=8);const L=1+(H?0:.1*g.C.getZoomLevel());return new D({pixelRatio:M,fontFamily:k,fontWeight:y,fontSize:C*=L,fontFeatureSettings:b,lineHeight:x*=L,letterSpacing:f})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(k){const y=D._wrapInQuotes(this.fontFamily);return k&&this.fontFamily!==k?`${y}, ${k}`:y}static _wrapInQuotes(k){return/[,"']/.test(k)?k:/[+ ]/.test(k)?`"${k}"`:k}}class O extends D{constructor(k,y){super(k),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=y,this.isMonospace=k.isMonospace,this.typicalHalfwidthCharacterWidth=k.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=k.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=k.canUseHalfwidthRightwardsArrow,this.spaceWidth=k.spaceWidth,this.middotWidth=k.middotWidth,this.wsmiddotWidth=k.wsmiddotWidth,this.maxDigitWidth=k.maxDigitWidth}equals(k){return this.fontFamily===k.fontFamily&&this.fontWeight===k.fontWeight&&this.fontSize===k.fontSize&&this.fontFeatureSettings===k.fontFeatureSettings&&this.lineHeight===k.lineHeight&&this.letterSpacing===k.letterSpacing&&this.typicalHalfwidthCharacterWidth===k.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===k.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===k.canUseHalfwidthRightwardsArrow&&this.spaceWidth===k.spaceWidth&&this.middotWidth===k.middotWidth&&this.wsmiddotWidth===k.wsmiddotWidth&&this.maxDigitWidth===k.maxDigitWidth}}},59242:(Fe,Ne,m)=>{m.d(Ne,{N:()=>g,q:()=>Y});var E=m(68733);class g{constructor(D){const i=(0,E.K)(D);this._defaultValue=i,this._asciiMap=g._createAsciiMap(i),this._map=new Map}static _createAsciiMap(D){const i=new Uint8Array(256);for(let O=0;O<256;O++)i[O]=D;return i}set(D,i){const O=(0,E.K)(i);D>=0&&D<256?this._asciiMap[D]=O:this._map.set(D,O)}get(D){return D>=0&&D<256?this._asciiMap[D]:this._map.get(D)||this._defaultValue}}class Y{constructor(){this._actual=new g(0)}add(D){this._actual.set(D,1)}has(D){return 1===this._actual.get(D)}}},90784:(Fe,Ne,m)=>{m.d(Ne,{i:()=>g});var E=m(74243);class g{static _nextVisibleColumn(B,D,i){return 9===B?g.nextRenderTabStop(D,i):E.K7(B)||E.C8(B)?D+2:D+1}static visibleColumnFromColumn(B,D,i){const O=Math.min(D-1,B.length),F=B.substring(0,O),k=new E.W1(F);let y=0;for(;!k.eol();){const C=E.ZH(F,O,k.offset);k.nextGraphemeLength(),y=this._nextVisibleColumn(C,y,i)}return y}static columnFromVisibleColumn(B,D,i){if(D<=0)return 1;const O=B.length,F=new E.W1(B);let k=0,y=1;for(;!F.eol();){const C=E.ZH(B,O,F.offset);F.nextGraphemeLength();const b=this._nextVisibleColumn(C,k,i),x=F.offset+1;if(b>=D)return b-D<D-k?x:y;k=b,y=x}return O+1}static nextRenderTabStop(B,D){return B+D-B%D}static nextIndentTabStop(B,D){return B+D-B%D}static prevRenderTabStop(B,D){return Math.max(0,B-1-(B-1)%D)}static prevIndentTabStop(B,D){return Math.max(0,B-1-(B-1)%D)}}},19420:(Fe,Ne,m)=>{m.d(Ne,{h:()=>g});var E=m(1873);class g{static insert(B,D){return{range:new E.e(B.lineNumber,B.column,B.lineNumber,B.column),text:D,forceMoveMarkers:!0}}static delete(B){return{range:B,text:null}}static replace(B,D){return{range:B,text:D}}static replaceMove(B,D){return{range:B,text:D,forceMoveMarkers:!0}}}},79695:(Fe,Ne,m)=>{m.d(Ne,{Kh:()=>D,Mm:()=>i,n0:()=>C,fY:()=>b,tR:()=>f,Ym:()=>M,hw:()=>H,DD:()=>N,zk:()=>Z,TC:()=>I,Dl:()=>$,zw:()=>U,e_:()=>G,kp:()=>de,zu:()=>fe,x3:()=>_e,N5:()=>we,IO:()=>me,m9:()=>q,lK:()=>le,Re:()=>ee,eS:()=>J,zJ:()=>re,Vs:()=>ce,CE:()=>ve,UP:()=>ke,r0:()=>We,m1:()=>je,ts:()=>ue,oV:()=>Ce,m$:()=>Ae,DS:()=>et,lS:()=>$e,Jn:()=>Te,YF:()=>rt,Qb:()=>ht,m3:()=>nt,To:()=>xe,L7:()=>Ie,HV:()=>at,f9:()=>bt});var E=m(12918),g=m(81897),Y=m(98275),B=m(53323);const D=(0,Y.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},E.N("lineHighlight","Background color for the highlight of line at the cursor position.")),i=(0,Y.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},E.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),O=(0,Y.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},E.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),F=(0,Y.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hc:Y.xL1},E.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),k=(0,Y.P6G)("editor.symbolHighlightBackground",{dark:Y.MUv,light:Y.MUv,hc:null},E.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),y=(0,Y.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hc:Y.xL1},E.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),C=(0,Y.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:g.Il.black,hc:g.Il.white},E.N("caret","Color of the editor cursor.")),b=(0,Y.P6G)("editorCursor.background",null,E.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),x=(0,Y.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},E.N("editorWhitespaces","Color of whitespace characters in the editor.")),f=(0,Y.P6G)("editorIndentGuide.background",{dark:x,light:x,hc:x},E.N("editorIndentGuides","Color of the editor indentation guides.")),M=(0,Y.P6G)("editorIndentGuide.activeBackground",{dark:x,light:x,hc:x},E.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),H=(0,Y.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:g.Il.white},E.N("editorLineNumbers","Color of editor line numbers.")),L=(0,Y.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Y.xL1},E.N("editorActiveLineNumber","Color of editor active line number"),!1,E.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),N=(0,Y.P6G)("editorLineNumber.activeForeground",{dark:L,light:L,hc:L},E.N("editorActiveLineNumber","Color of editor active line number")),Z=(0,Y.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:g.Il.lightgrey,hc:g.Il.white},E.N("editorRuler","Color of the editor rulers.")),I=((0,Y.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},E.N("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,Y.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},E.N("editorBracketMatchBackground","Background color behind matching brackets"))),$=(0,Y.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Y.lRK},E.N("editorBracketMatchBorder","Color for matching brackets boxes")),U=(0,Y.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},E.N("editorOverviewRulerBorder","Color of the overview ruler border.")),G=(0,Y.P6G)("editorOverviewRuler.background",null,E.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),oe=(0,Y.P6G)("editorGutter.background",{dark:Y.cvW,light:Y.cvW,hc:Y.cvW},E.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),de=(0,Y.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hc:g.Il.fromHex("#fff").transparent(.8)},E.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),fe=(0,Y.P6G)("editorUnnecessaryCode.opacity",{dark:g.Il.fromHex("#000a"),light:g.Il.fromHex("#0007"),hc:null},E.N("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),_e=(0,Y.P6G)("editorGhostText.border",{dark:null,light:null,hc:g.Il.fromHex("#fff").transparent(.8)},E.N("editorGhostTextBorder","Border color of ghost text in the editor.")),we=(0,Y.P6G)("editorGhostText.foreground",{dark:g.Il.fromHex("#ffffff56"),light:g.Il.fromHex("#0007"),hc:null},E.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),me=(0,Y.P6G)("editorGhostText.background",{dark:null,light:null,hc:null},E.N("editorGhostTextBackground","Background color of the ghost text in the editor.")),Q=new g.Il(new g.VS(0,122,204,.6)),q=(0,Y.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:Q,light:Q,hc:Q},E.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),le=(0,Y.P6G)("editorOverviewRuler.errorForeground",{dark:new g.Il(new g.VS(255,18,18,.7)),light:new g.Il(new g.VS(255,18,18,.7)),hc:new g.Il(new g.VS(255,50,50,1))},E.N("overviewRuleError","Overview ruler marker color for errors.")),ee=(0,Y.P6G)("editorOverviewRuler.warningForeground",{dark:Y.uoC,light:Y.uoC,hc:Y.pW3},E.N("overviewRuleWarning","Overview ruler marker color for warnings.")),J=(0,Y.P6G)("editorOverviewRuler.infoForeground",{dark:Y.c63,light:Y.c63,hc:Y.T83},E.N("overviewRuleInfo","Overview ruler marker color for infos.")),re=(0,Y.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},E.N("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),ce=(0,Y.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},E.N("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),ve=(0,Y.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},E.N("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),ke=(0,Y.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),We=(0,Y.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),je=(0,Y.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),ue=(0,Y.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new g.Il(new g.VS(255,18,18,.8)),light:new g.Il(new g.VS(255,18,18,.8)),hc:new g.Il(new g.VS(255,50,50,1))},E.N("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Ce=(0,Y.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Ae=(0,Y.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),et=(0,Y.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),$e=(0,Y.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Te=(0,Y.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),rt=(0,Y.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),ht=(0,Y.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),nt=(0,Y.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),xe=(0,Y.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Ie=(0,Y.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),at=(0,Y.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),bt=(0,Y.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},E.N("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,Y.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},E.N("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,B.Ic)((mn,pt)=>{const Bt=mn.getColor(Y.cvW);Bt&&pt.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${Bt}; }`);const Vt=mn.getColor(Y.NOs);Vt&&pt.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Vt}; }`);const zt=mn.getColor(oe);zt&&pt.addRule(`.monaco-editor .margin { background-color: ${zt}; }`);const fn=mn.getColor(O);fn&&pt.addRule(`.monaco-editor .rangeHighlight { background-color: ${fn}; }`);const Ye=mn.getColor(F);Ye&&pt.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===mn.type?"dotted":"solid"} ${Ye}; }`);const Et=mn.getColor(k);Et&&pt.addRule(`.monaco-editor .symbolHighlight { background-color: ${Et}; }`);const St=mn.getColor(y);St&&pt.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===mn.type?"dotted":"solid"} ${St}; }`);const sn=mn.getColor(x);sn&&(pt.addRule(`.monaco-editor .mtkw { color: ${sn} !important; }`),pt.addRule(`.monaco-editor .mtkz { color: ${sn} !important; }`))})},34048:(Fe,Ne,m)=>{function E(g){let Y=0,B=0,D=0,i=0;for(let O=0,F=g.length;O<F;O++){const k=g.charCodeAt(O);13===k?(0===Y&&(B=O),Y++,O+1<F&&10===g.charCodeAt(O+1)?(i|=2,O++):i|=3,D=O+1):10===k&&(i|=1,0===Y&&(B=O),Y++,D=O+1)}return 0===Y&&(B=g.length),[Y,B,g.length-D,i]}m.d(Ne,{Q:()=>E})},66200:(Fe,Ne,m)=>{m.d(Ne,{x:()=>Y});var E=m(74243);function Y(B,D,i){let O=E.LC(B);return-1===O&&(O=B.length),function(B,D,i){let O=0;for(let k=0;k<B.length;k++)"\t"===B.charAt(k)?O+=D:O++;let F="";if(!i){const k=Math.floor(O/D);O%=D;for(let y=0;y<k;y++)F+="\t"}for(let k=0;k<O;k++)F+=" ";return F}(B.substring(0,O),D,i)+B.substring(O)}},67947:(Fe,Ne,m)=>{m.d(Ne,{L:()=>E});class E{constructor(Y,B){this.lineNumber=Y,this.column=B}with(Y=this.lineNumber,B=this.column){return Y===this.lineNumber&&B===this.column?this:new E(Y,B)}delta(Y=0,B=0){return this.with(this.lineNumber+Y,this.column+B)}equals(Y){return E.equals(this,Y)}static equals(Y,B){return!Y&&!B||!!Y&&!!B&&Y.lineNumber===B.lineNumber&&Y.column===B.column}isBefore(Y){return E.isBefore(this,Y)}static isBefore(Y,B){return Y.lineNumber<B.lineNumber||!(B.lineNumber<Y.lineNumber)&&Y.column<B.column}isBeforeOrEqual(Y){return E.isBeforeOrEqual(this,Y)}static isBeforeOrEqual(Y,B){return Y.lineNumber<B.lineNumber||!(B.lineNumber<Y.lineNumber)&&Y.column<=B.column}static compare(Y,B){const D=0|Y.lineNumber,i=0|B.lineNumber;return D===i?(0|Y.column)-(0|B.column):D-i}clone(){return new E(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(Y){return new E(Y.lineNumber,Y.column)}static isIPosition(Y){return Y&&"number"==typeof Y.lineNumber&&"number"==typeof Y.column}}},1873:(Fe,Ne,m)=>{m.d(Ne,{e:()=>g});var E=m(67947);class g{constructor(B,D,i,O){B>i||B===i&&D>O?(this.startLineNumber=i,this.startColumn=O,this.endLineNumber=B,this.endColumn=D):(this.startLineNumber=B,this.startColumn=D,this.endLineNumber=i,this.endColumn=O)}isEmpty(){return g.isEmpty(this)}static isEmpty(B){return B.startLineNumber===B.endLineNumber&&B.startColumn===B.endColumn}containsPosition(B){return g.containsPosition(this,B)}static containsPosition(B,D){return!(D.lineNumber<B.startLineNumber||D.lineNumber>B.endLineNumber||D.lineNumber===B.startLineNumber&&D.column<B.startColumn||D.lineNumber===B.endLineNumber&&D.column>B.endColumn)}static strictContainsPosition(B,D){return!(D.lineNumber<B.startLineNumber||D.lineNumber>B.endLineNumber||D.lineNumber===B.startLineNumber&&D.column<=B.startColumn||D.lineNumber===B.endLineNumber&&D.column>=B.endColumn)}containsRange(B){return g.containsRange(this,B)}static containsRange(B,D){return!(D.startLineNumber<B.startLineNumber||D.endLineNumber<B.startLineNumber||D.startLineNumber>B.endLineNumber||D.endLineNumber>B.endLineNumber||D.startLineNumber===B.startLineNumber&&D.startColumn<B.startColumn||D.endLineNumber===B.endLineNumber&&D.endColumn>B.endColumn)}strictContainsRange(B){return g.strictContainsRange(this,B)}static strictContainsRange(B,D){return!(D.startLineNumber<B.startLineNumber||D.endLineNumber<B.startLineNumber||D.startLineNumber>B.endLineNumber||D.endLineNumber>B.endLineNumber||D.startLineNumber===B.startLineNumber&&D.startColumn<=B.startColumn||D.endLineNumber===B.endLineNumber&&D.endColumn>=B.endColumn)}plusRange(B){return g.plusRange(this,B)}static plusRange(B,D){let i,O,F,k;return D.startLineNumber<B.startLineNumber?(i=D.startLineNumber,O=D.startColumn):D.startLineNumber===B.startLineNumber?(i=D.startLineNumber,O=Math.min(D.startColumn,B.startColumn)):(i=B.startLineNumber,O=B.startColumn),D.endLineNumber>B.endLineNumber?(F=D.endLineNumber,k=D.endColumn):D.endLineNumber===B.endLineNumber?(F=D.endLineNumber,k=Math.max(D.endColumn,B.endColumn)):(F=B.endLineNumber,k=B.endColumn),new g(i,O,F,k)}intersectRanges(B){return g.intersectRanges(this,B)}static intersectRanges(B,D){let i=B.startLineNumber,O=B.startColumn,F=B.endLineNumber,k=B.endColumn,y=D.startLineNumber,C=D.startColumn,b=D.endLineNumber,x=D.endColumn;return i<y?(i=y,O=C):i===y&&(O=Math.max(O,C)),F>b?(F=b,k=x):F===b&&(k=Math.min(k,x)),i>F||i===F&&O>k?null:new g(i,O,F,k)}equalsRange(B){return g.equalsRange(this,B)}static equalsRange(B,D){return!!B&&!!D&&B.startLineNumber===D.startLineNumber&&B.startColumn===D.startColumn&&B.endLineNumber===D.endLineNumber&&B.endColumn===D.endColumn}getEndPosition(){return g.getEndPosition(this)}static getEndPosition(B){return new E.L(B.endLineNumber,B.endColumn)}getStartPosition(){return g.getStartPosition(this)}static getStartPosition(B){return new E.L(B.startLineNumber,B.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(B,D){return new g(this.startLineNumber,this.startColumn,B,D)}setStartPosition(B,D){return new g(B,D,this.endLineNumber,this.endColumn)}collapseToStart(){return g.collapseToStart(this)}static collapseToStart(B){return new g(B.startLineNumber,B.startColumn,B.startLineNumber,B.startColumn)}static fromPositions(B,D=B){return new g(B.lineNumber,B.column,D.lineNumber,D.column)}static lift(B){return B?new g(B.startLineNumber,B.startColumn,B.endLineNumber,B.endColumn):null}static isIRange(B){return B&&"number"==typeof B.startLineNumber&&"number"==typeof B.startColumn&&"number"==typeof B.endLineNumber&&"number"==typeof B.endColumn}static areIntersectingOrTouching(B,D){return!(B.endLineNumber<D.startLineNumber||B.endLineNumber===D.startLineNumber&&B.endColumn<D.startColumn||D.endLineNumber<B.startLineNumber||D.endLineNumber===B.startLineNumber&&D.endColumn<B.startColumn)}static areIntersecting(B,D){return!(B.endLineNumber<D.startLineNumber||B.endLineNumber===D.startLineNumber&&B.endColumn<=D.startColumn||D.endLineNumber<B.startLineNumber||D.endLineNumber===B.startLineNumber&&D.endColumn<=B.startColumn)}static compareRangesUsingStarts(B,D){if(B&&D){const F=0|B.startLineNumber,k=0|D.startLineNumber;if(F===k){const y=0|B.startColumn,C=0|D.startColumn;if(y===C){const b=0|B.endLineNumber,x=0|D.endLineNumber;return b===x?(0|B.endColumn)-(0|D.endColumn):b-x}return y-C}return F-k}return(B?1:0)-(D?1:0)}static compareRangesUsingEnds(B,D){return B.endLineNumber===D.endLineNumber?B.endColumn===D.endColumn?B.startLineNumber===D.startLineNumber?B.startColumn-D.startColumn:B.startLineNumber-D.startLineNumber:B.endColumn-D.endColumn:B.endLineNumber-D.endLineNumber}static spansMultipleLines(B){return B.endLineNumber>B.startLineNumber}toJSON(){return this}}},60745:(Fe,Ne,m)=>{m.d(Ne,{Y:()=>Y});var E=m(67947),g=m(1873);class Y extends g.e{constructor(D,i,O,F){super(D,i,O,F),this.selectionStartLineNumber=D,this.selectionStartColumn=i,this.positionLineNumber=O,this.positionColumn=F}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(D){return Y.selectionsEqual(this,D)}static selectionsEqual(D,i){return D.selectionStartLineNumber===i.selectionStartLineNumber&&D.selectionStartColumn===i.selectionStartColumn&&D.positionLineNumber===i.positionLineNumber&&D.positionColumn===i.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(D,i){return 0===this.getDirection()?new Y(this.startLineNumber,this.startColumn,D,i):new Y(D,i,this.startLineNumber,this.startColumn)}getPosition(){return new E.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new E.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(D,i){return 0===this.getDirection()?new Y(D,i,this.endLineNumber,this.endColumn):new Y(this.endLineNumber,this.endColumn,D,i)}static fromPositions(D,i=D){return new Y(D.lineNumber,D.column,i.lineNumber,i.column)}static fromRange(D,i){return 0===i?new Y(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):new Y(D.endLineNumber,D.endColumn,D.startLineNumber,D.startColumn)}static liftSelection(D){return new Y(D.selectionStartLineNumber,D.selectionStartColumn,D.positionLineNumber,D.positionColumn)}static selectionsArrEqual(D,i){if(D&&!i||!D&&i)return!1;if(!D&&!i)return!0;if(D.length!==i.length)return!1;for(let O=0,F=D.length;O<F;O++)if(!this.selectionsEqual(D[O],i[O]))return!1;return!0}static isISelection(D){return D&&"number"==typeof D.selectionStartLineNumber&&"number"==typeof D.selectionStartColumn&&"number"==typeof D.positionLineNumber&&"number"==typeof D.positionColumn}static createWithDirection(D,i,O,F,k){return 0===k?new Y(D,i,O,F):new Y(O,F,D,i)}}},53269:(Fe,Ne,m)=>{m.d(Ne,{oe:()=>k,lZ:()=>y,l$:()=>C,kH:()=>b});var E=m(74243),g=m(70700),Y=m(90386);let B,i,F;function D(){return B||(B=new TextDecoder("UTF-16LE")),B}function k(){return F||(F=g.r()?D():(i||(i=new TextDecoder("UTF-16BE")),i)),F}const y="undefined"!=typeof TextDecoder;let C,b;function f(L,N,Z){const P=[];let I=0;for(let $=0;$<Z;$++){const U=Y.mP(L,N);N+=2,P[I++]=String.fromCharCode(U)}return P.join("")}y?(C=L=>new M(L),b=function(L,N,Z){const P=new Uint16Array(L.buffer,N,Z);return Z>0&&(65279===P[0]||65534===P[0])?f(L,N,Z):D().decode(P)}):(C=L=>new H,b=f);class M{constructor(N){this._capacity=0|N,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const N=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return k().decode(N)}_flushBuffer(){const N=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[N]:this._completedStrings[this._completedStrings.length]=N}write1(N){const Z=this._capacity-this._bufferLength;Z<=1&&(0===Z||E.ZG(N))&&this._flushBuffer(),this._buffer[this._bufferLength++]=N}appendASCII(N){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=N}appendASCIIString(N){const Z=N.length;if(this._bufferLength+Z>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=N);for(let P=0;P<Z;P++)this._buffer[this._bufferLength++]=N.charCodeAt(P)}}class H{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(N){this._pieces[this._piecesLen++]=String.fromCharCode(N)}appendASCII(N){this._pieces[this._piecesLen++]=String.fromCharCode(N)}appendASCIIString(N){this._pieces[this._piecesLen++]=N}}},64978:(Fe,Ne,m)=>{m.d(Ne,{q:()=>B,b:()=>D});var E=m(90386),g=m(53269);function Y(O){return O.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class B{constructor(F,k,y,C){this.oldPosition=F,this.oldText=k,this.newPosition=y,this.newText=C}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${Y(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${Y(this.oldText)}")`:`(replace@${this.oldPosition} "${Y(this.oldText)}" with "${Y(this.newText)}")`}static _writeStringSize(F){return 4+2*F.length}static _writeString(F,k,y){const C=k.length;E.T4(F,C,y),y+=4;for(let b=0;b<C;b++)E.oq(F,k.charCodeAt(b),y),y+=2;return y}static _readString(F,k){const y=E.Ag(F,k);return(0,g.kH)(F,k+=4,y)}writeSize(){return 8+B._writeStringSize(this.oldText)+B._writeStringSize(this.newText)}write(F,k){return E.T4(F,this.oldPosition,k),E.T4(F,this.newPosition,k+=4),k=B._writeString(F,this.oldText,k+=4),B._writeString(F,this.newText,k)}static read(F,k,y){const C=E.Ag(F,k),b=E.Ag(F,k+=4),x=B._readString(F,k+=4);k+=B._writeStringSize(x);const f=B._readString(F,k);return k+=B._writeStringSize(f),y.push(new B(C,x,b,f)),k}}function D(O,F){return null===O||0===O.length?F:new i(O,F).compress()}class i{constructor(F,k){this._prevEdits=F,this._currEdits=k,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let F=0,k=0,y=this._getPrev(F),C=this._getCurr(k);for(;F<this._prevLen||k<this._currLen;){if(null===y){this._acceptCurr(C),C=this._getCurr(++k);continue}if(null===C){this._acceptPrev(y),y=this._getPrev(++F);continue}if(C.oldEnd<=y.newPosition){this._acceptCurr(C),C=this._getCurr(++k);continue}if(y.newEnd<=C.oldPosition){this._acceptPrev(y),y=this._getPrev(++F);continue}if(C.oldPosition<y.newPosition){const[H,L]=i._splitCurr(C,y.newPosition-C.oldPosition);this._acceptCurr(H),C=L;continue}if(y.newPosition<C.oldPosition){const[H,L]=i._splitPrev(y,C.oldPosition-y.newPosition);this._acceptPrev(H),y=L;continue}let f,M;if(C.oldEnd===y.newEnd)f=y,M=C,y=this._getPrev(++F),C=this._getCurr(++k);else if(C.oldEnd<y.newEnd){const[H,L]=i._splitPrev(y,C.oldLength);f=H,M=C,y=L,C=this._getCurr(++k)}else{const[H,L]=i._splitCurr(C,y.newLength);f=y,M=H,y=this._getPrev(++F),C=L}this._result[this._resultLen++]=new B(f.oldPosition,f.oldText,M.newPosition,M.newText),this._prevDeltaOffset+=f.newLength-f.oldLength,this._currDeltaOffset+=M.newLength-M.oldLength}const b=i._merge(this._result);return i._removeNoOps(b)}_acceptCurr(F){this._result[this._resultLen++]=i._rebaseCurr(this._prevDeltaOffset,F),this._currDeltaOffset+=F.newLength-F.oldLength}_getCurr(F){return F<this._currLen?this._currEdits[F]:null}_acceptPrev(F){this._result[this._resultLen++]=i._rebasePrev(this._currDeltaOffset,F),this._prevDeltaOffset+=F.newLength-F.oldLength}_getPrev(F){return F<this._prevLen?this._prevEdits[F]:null}static _rebaseCurr(F,k){return new B(k.oldPosition-F,k.oldText,k.newPosition,k.newText)}static _rebasePrev(F,k){return new B(k.oldPosition,k.oldText,k.newPosition+F,k.newText)}static _splitPrev(F,k){const y=F.newText.substr(0,k),C=F.newText.substr(k);return[new B(F.oldPosition,F.oldText,F.newPosition,y),new B(F.oldEnd,"",F.newPosition+k,C)]}static _splitCurr(F,k){const y=F.oldText.substr(0,k),C=F.oldText.substr(k);return[new B(F.oldPosition,y,F.newPosition,F.newText),new B(F.oldPosition+k,C,F.newEnd,"")]}static _merge(F){if(0===F.length)return F;const k=[];let y=0,C=F[0];for(let b=1;b<F.length;b++){const x=F[b];C.oldEnd===x.oldPosition?C=new B(C.oldPosition,C.oldText+x.oldText,C.newPosition,C.newText+x.newText):(k[y++]=C,C=x)}return k[y++]=C,k}static _removeNoOps(F){if(0===F.length)return F;const k=[];let y=0;for(let C=0;C<F.length;C++){const b=F[C];b.oldText!==b.newText&&(k[y++]=b)}return k}}},27870:(Fe,Ne,m)=>{m.d(Ne,{D:()=>E});const E={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}}},81346:(Fe,Ne,m)=>{m.d(Ne,{u:()=>B});var E=m(59242);class g extends E.N{constructor(i){super(0);for(let O=0,F=i.length;O<F;O++)this.set(i.charCodeAt(O),2);this.set(32,1),this.set(9,1)}}const B=function(D){const i={};return O=>(i.hasOwnProperty(O)||(i[O]=(D=>new g(D))(O)),i[O])}()},54745:(Fe,Ne,m)=>{m.d(Ne,{vu:()=>E,Af:()=>Y,eq:()=>B,t2:()=>i});const E="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",Y=function(F=""){let k="(-?\\d*\\.\\d\\w*)|([^";for(const y of E)F.indexOf(y)>=0||(k+="\\"+y);return k+="\\s]+)",new RegExp(k,"g")}();function B(F){let k=Y;if(F&&F instanceof RegExp)if(F.global)k=F;else{let y="g";F.ignoreCase&&(y+="i"),F.multiline&&(y+="m"),F.unicode&&(y+="u"),k=new RegExp(F.source,y)}return k.lastIndex=0,k}const D={maxLen:1e3,windowSize:15,timeBudget:150};function i(F,k,y,C,b=D){if(y.length>b.maxLen){let L=F-b.maxLen/2;return L<0?L=0:C+=L,i(F,k,y=y.substring(L,F+b.maxLen/2),C,b)}const x=Date.now(),f=F-1-C;let M=-1,H=null;for(let L=1;!(Date.now()-x>=b.timeBudget);L++){const N=f-b.windowSize*L;k.lastIndex=Math.max(0,N);const Z=O(k,y,f,M);if(!Z&&H||(H=Z,N<=0))break;M=N}if(H){const L={word:H[0],startColumn:C+1+H.index,endColumn:C+1+H.index+H[0].length};return k.lastIndex=0,L}return null}function O(F,k,y,C){let b;for(;b=F.exec(k);){const x=b.index||0;if(x<=y&&F.lastIndex>=y)return b;if(C>0&&x>C)return null}return null}},35590:(Fe,Ne,m)=>{m.d(Ne,{LM:()=>y,Vi:()=>C,rS:()=>f,Tp:()=>M,LN:()=>H});var E=m(67947),g=m(1873),Y=m(60745),B=m(20595),D=m(90784),i=m(66200);const O=()=>!0,F=()=>!1,k=L=>" "===L||"\t"===L;class y{constructor(N,Z,P,I){this.languageConfigurationService=I,this._cursorMoveConfigurationBrand=void 0,this._languageId=N;const $=P.options,U=$.get(131);this.readOnly=$.get(81),this.tabSize=Z.tabSize,this.indentSize=Z.indentSize,this.insertSpaces=Z.insertSpaces,this.stickyTabStops=$.get(104),this.lineHeight=$.get(59),this.pageSize=Math.max(1,Math.floor(U.height/this.lineHeight)-2),this.useTabStops=$.get(116),this.wordSeparators=$.get(117),this.emptySelectionClipboard=$.get(32),this.copyWithSyntaxHighlighting=$.get(21),this.multiCursorMergeOverlapping=$.get(69),this.multiCursorPaste=$.get(71),this.autoClosingBrackets=$.get(5),this.autoClosingQuotes=$.get(8),this.autoClosingDelete=$.get(6),this.autoClosingOvertype=$.get(7),this.autoSurround=$.get(11),this.autoIndent=$.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(N,this.autoClosingQuotes),bracket:this._getShouldAutoClose(N,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(N).getAutoClosingPairs();const G=this.languageConfigurationService.getLanguageConfiguration(N).getSurroundingPairs();if(G)for(const oe of G)this.surroundingPairs[oe.open]=oe.close}static shouldRecreate(N){return N.hasChanged(131)||N.hasChanged(117)||N.hasChanged(32)||N.hasChanged(69)||N.hasChanged(71)||N.hasChanged(5)||N.hasChanged(8)||N.hasChanged(6)||N.hasChanged(7)||N.hasChanged(11)||N.hasChanged(116)||N.hasChanged(59)||N.hasChanged(81)}get electricChars(){var N;if(!this._electricChars){this._electricChars={};const Z=null===(N=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===N?void 0:N.getElectricCharacters();if(Z)for(const P of Z)this._electricChars[P]=!0}return this._electricChars}onElectricCharacter(N,Z,P){const I=(0,B.wH)(Z,P-1),$=this.languageConfigurationService.getLanguageConfiguration(I.languageId).electricCharacter;return $?$.onElectricCharacter(N,I,P-I.firstCharOffset):null}normalizeIndentation(N){return(0,i.x)(N,this.indentSize,this.insertSpaces)}_getShouldAutoClose(N,Z){switch(Z){case"beforeWhitespace":return k;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(N);case"always":return O;case"never":return F}}_getLanguageDefinedShouldAutoClose(N){const Z=this.languageConfigurationService.getLanguageConfiguration(N).getAutoCloseBeforeSet();return P=>-1!==Z.indexOf(P)}visibleColumnFromColumn(N,Z){return D.i.visibleColumnFromColumn(N.getLineContent(Z.lineNumber),Z.column,this.tabSize)}columnFromVisibleColumn(N,Z,P){const I=D.i.columnFromVisibleColumn(N.getLineContent(Z),P,this.tabSize),$=N.getLineMinColumn(Z);if(I<$)return $;const U=N.getLineMaxColumn(Z);return I>U?U:I}}class C{constructor(N,Z){this._cursorStateBrand=void 0,this.modelState=N,this.viewState=Z}static fromModelState(N){return new b(N)}static fromViewState(N){return new x(N)}static fromModelSelection(N){const Z=Y.Y.liftSelection(N),P=new f(g.e.fromPositions(Z.getSelectionStart()),0,Z.getPosition(),0);return C.fromModelState(P)}static fromModelSelections(N){const Z=[];for(let P=0,I=N.length;P<I;P++)Z[P]=this.fromModelSelection(N[P]);return Z}equals(N){return this.viewState.equals(N.viewState)&&this.modelState.equals(N.modelState)}}class b{constructor(N){this.modelState=N,this.viewState=null}}class x{constructor(N){this.modelState=null,this.viewState=N}}class f{constructor(N,Z,P,I){this._singleCursorStateBrand=void 0,this.selectionStart=N,this.selectionStartLeftoverVisibleColumns=Z,this.position=P,this.leftoverVisibleColumns=I,this.selection=f._computeSelection(this.selectionStart,this.position)}equals(N){return this.selectionStartLeftoverVisibleColumns===N.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===N.leftoverVisibleColumns&&this.position.equals(N.position)&&this.selectionStart.equalsRange(N.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(N,Z,P,I){return N?new f(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new E.L(Z,P),I):new f(new g.e(Z,P,Z,P),I,new E.L(Z,P),I)}static _computeSelection(N,Z){return N.isEmpty()||!Z.isBeforeOrEqual(N.getStartPosition())?Y.Y.fromPositions(N.getStartPosition(),Z):Y.Y.fromPositions(N.getEndPosition(),Z)}}class M{constructor(N,Z,P){this._editOperationResultBrand=void 0,this.type=N,this.commands=Z,this.shouldPushStackElementBefore=P.shouldPushStackElementBefore,this.shouldPushStackElementAfter=P.shouldPushStackElementAfter}}function H(L){return"'"===L||'"'===L||"`"===L}},56660:(Fe,Ne,m)=>{m.d(Ne,{l:()=>g});var E=m(90784);class g{static whitespaceVisibleColumn(B,D,i){const O=B.length;let F=0,k=-1,y=-1;for(let C=0;C<O;C++){if(C===D)return[k,y,F];switch(F%i==0&&(k=C,y=F),B.charCodeAt(C)){case 32:F+=1;break;case 9:F=E.i.nextRenderTabStop(F,i);break;default:return[-1,-1,-1]}}return D===O?[k,y,F]:[-1,-1,-1]}static atomicPosition(B,D,i,O){const F=B.length,[k,y,C]=g.whitespaceVisibleColumn(B,D,i);if(-1===C)return-1;let b;switch(O){case 0:b=!0;break;case 1:b=!1;break;case 2:if(C%i==0)return D;b=C%i<=i/2}if(b){if(-1===k)return-1;let M=y;for(let H=k;H<F;++H){if(M===y+i)return k;switch(B.charCodeAt(H)){case 32:M+=1;break;case 9:M=E.i.nextRenderTabStop(M,i);break;default:return-1}}return M===y+i?k:-1}const x=E.i.nextRenderTabStop(C,i);let f=C;for(let M=D;M<F;M++){if(f===x)return M;switch(B.charCodeAt(M)){case 32:f+=1;break;case 9:f=E.i.nextRenderTabStop(f,i);break;default:return-1}}return f===x?F:-1}}},17666:(Fe,Ne,m)=>{m.d(Ne,{A:()=>F});var E=m(74243),g=m(49317),Y=m(35590),B=m(90784),D=m(98596),i=m(1873),O=m(67947);class F{static deleteRight(y,C,b,x){const f=[];let M=3!==y;for(let H=0,L=x.length;H<L;H++){const N=x[H];let Z=N;if(Z.isEmpty()){const P=N.getPosition(),I=D.o.right(C,b,P);Z=new i.e(I.lineNumber,I.column,P.lineNumber,P.column)}Z.isEmpty()?f[H]=null:(Z.startLineNumber!==Z.endLineNumber&&(M=!0),f[H]=new g.T4(Z,""))}return[M,f]}static isAutoClosingPairDelete(y,C,b,x,f,M,H){if("never"===C&&"never"===b||"never"===y)return!1;for(let L=0,N=M.length;L<N;L++){const Z=M[L],P=Z.getPosition();if(!Z.isEmpty())return!1;const I=f.getLineContent(P.lineNumber);if(P.column<2||P.column>=I.length+1)return!1;const $=I.charAt(P.column-2),U=x.get($);if(!U)return!1;if((0,Y.LN)($)){if("never"===b)return!1}else if("never"===C)return!1;const G=I.charAt(P.column-1);let oe=!1;for(const de of U)de.open===$&&de.close===G&&(oe=!0);if(!oe)return!1;if("auto"===y){let de=!1;for(let fe=0,_e=H.length;fe<_e;fe++){const we=H[fe];if(P.lineNumber===we.startLineNumber&&P.column===we.startColumn){de=!0;break}}if(!de)return!1}}return!0}static _runAutoClosingPairDelete(y,C,b){const x=[];for(let f=0,M=b.length;f<M;f++){const H=b[f].getPosition(),L=new i.e(H.lineNumber,H.column-1,H.lineNumber,H.column+1);x[f]=new g.T4(L,"")}return[!0,x]}static deleteLeft(y,C,b,x,f){if(this.isAutoClosingPairDelete(C.autoClosingDelete,C.autoClosingBrackets,C.autoClosingQuotes,C.autoClosingPairs.autoClosingPairsOpenByEnd,b,x,f))return this._runAutoClosingPairDelete(C,b,x);const M=[];let H=2!==y;for(let L=0,N=x.length;L<N;L++){const Z=F.getDeleteRange(x[L],b,C);Z.isEmpty()?M[L]=null:(Z.startLineNumber!==Z.endLineNumber&&(H=!0),M[L]=new g.T4(Z,""))}return[H,M]}static getDeleteRange(y,C,b){if(!y.isEmpty())return y;const x=y.getPosition();if(b.useTabStops&&x.column>1){const f=C.getLineContent(x.lineNumber),M=E.LC(f);if(x.column<=(-1===M?f.length+1:M+1)){const L=b.visibleColumnFromColumn(C,x),N=B.i.prevIndentTabStop(L,b.indentSize),Z=b.columnFromVisibleColumn(C,x.lineNumber,N);return new i.e(x.lineNumber,Z,x.lineNumber,x.column)}}return i.e.fromPositions(F.getPositionAfterDeleteLeft(x,C),x)}static getPositionAfterDeleteLeft(y,C){if(y.column>1){const b=E.oH(y.column-1,C.getLineContent(y.lineNumber));return y.with(void 0,b+1)}if(y.lineNumber>1){const b=y.lineNumber-1;return new O.L(b,C.getLineMaxColumn(b))}return y}static cut(y,C,b){const x=[];let f=null;b.sort((M,H)=>O.L.compare(M.getStartPosition(),H.getEndPosition()));for(let M=0,H=b.length;M<H;M++){const L=b[M];if(L.isEmpty())if(y.emptySelectionClipboard){const N=L.getPosition();let Z,P,I,$;N.lineNumber<C.getLineCount()?(Z=N.lineNumber,P=1,I=N.lineNumber+1,$=1):N.lineNumber>1&&(null==f?void 0:f.endLineNumber)!==N.lineNumber?(Z=N.lineNumber-1,P=C.getLineMaxColumn(N.lineNumber-1),I=N.lineNumber,$=C.getLineMaxColumn(N.lineNumber)):(Z=N.lineNumber,P=1,I=N.lineNumber,$=C.getLineMaxColumn(N.lineNumber));const U=new i.e(Z,P,I,$);f=U,x[M]=U.isEmpty()?null:new g.T4(U,"")}else x[M]=null;else x[M]=new g.T4(L,"")}return new Y.Tp(0,x,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},71015:(Fe,Ne,m)=>{m.d(Ne,{P:()=>O,N:()=>F});var F,k,E=m(99770),g=m(35590),Y=m(98596),B=m(34397),D=m(67947),i=m(1873);class O{static addCursorDown(y,C,b){const x=[];let f=0;for(let M=0,H=C.length;M<H;M++){const L=C[M];x[f++]=new g.Vi(L.modelState,L.viewState),x[f++]=b?g.Vi.fromModelState(Y.o.translateDown(y.cursorConfig,y.model,L.modelState)):g.Vi.fromViewState(Y.o.translateDown(y.cursorConfig,y,L.viewState))}return x}static addCursorUp(y,C,b){const x=[];let f=0;for(let M=0,H=C.length;M<H;M++){const L=C[M];x[f++]=new g.Vi(L.modelState,L.viewState),x[f++]=b?g.Vi.fromModelState(Y.o.translateUp(y.cursorConfig,y.model,L.modelState)):g.Vi.fromViewState(Y.o.translateUp(y.cursorConfig,y,L.viewState))}return x}static moveToBeginningOfLine(y,C,b){let x=[];for(let f=0,M=C.length;f<M;f++)x[f]=this._moveToLineStart(y,C[f],b);return x}static _moveToLineStart(y,C,b){const x=C.viewState.position.column,M=x===C.modelState.position.column,L=y.getLineFirstNonWhitespaceColumn(C.viewState.position.lineNumber);return M||x===L?this._moveToLineStartByModel(y,C,b):this._moveToLineStartByView(y,C,b)}static _moveToLineStartByView(y,C,b){return g.Vi.fromViewState(Y.o.moveToBeginningOfLine(y.cursorConfig,y,C.viewState,b))}static _moveToLineStartByModel(y,C,b){return g.Vi.fromModelState(Y.o.moveToBeginningOfLine(y.cursorConfig,y.model,C.modelState,b))}static moveToEndOfLine(y,C,b,x){const f=[];for(let M=0,H=C.length;M<H;M++)f[M]=this._moveToLineEnd(y,C[M],b,x);return f}static _moveToLineEnd(y,C,b,x){const f=C.viewState.position,M=y.getLineMaxColumn(f.lineNumber),H=f.column===M,L=C.modelState.position,N=y.model.getLineMaxColumn(L.lineNumber);return H||M-f.column==N-L.column?this._moveToLineEndByModel(y,C,b,x):this._moveToLineEndByView(y,C,b,x)}static _moveToLineEndByView(y,C,b,x){return g.Vi.fromViewState(Y.o.moveToEndOfLine(y.cursorConfig,y,C.viewState,b,x))}static _moveToLineEndByModel(y,C,b,x){return g.Vi.fromModelState(Y.o.moveToEndOfLine(y.cursorConfig,y.model,C.modelState,b,x))}static expandLineSelection(y,C){const b=[];for(let x=0,f=C.length;x<f;x++){const M=C[x],H=M.modelState.selection.startLineNumber,L=y.model.getLineCount();let Z,N=M.modelState.selection.endLineNumber;N===L?Z=y.model.getLineMaxColumn(L):(N++,Z=1),b[x]=g.Vi.fromModelState(new g.rS(new i.e(H,1,H,1),0,new D.L(N,Z),0))}return b}static moveToBeginningOfBuffer(y,C,b){const x=[];for(let f=0,M=C.length;f<M;f++)x[f]=g.Vi.fromModelState(Y.o.moveToBeginningOfBuffer(y.cursorConfig,y.model,C[f].modelState,b));return x}static moveToEndOfBuffer(y,C,b){const x=[];for(let f=0,M=C.length;f<M;f++)x[f]=g.Vi.fromModelState(Y.o.moveToEndOfBuffer(y.cursorConfig,y.model,C[f].modelState,b));return x}static selectAll(y,C){const b=y.model.getLineCount(),x=y.model.getLineMaxColumn(b);return g.Vi.fromModelState(new g.rS(new i.e(1,1,1,1),0,new D.L(b,x),0))}static line(y,C,b,x,f){const M=y.model.validatePosition(x),H=f?y.coordinatesConverter.validateViewPosition(new D.L(f.lineNumber,f.column),M):y.coordinatesConverter.convertModelPositionToViewPosition(M);if(!b||!C.modelState.hasSelection()){const N=y.model.getLineCount();let Z=M.lineNumber+1,P=1;return Z>N&&(Z=N,P=y.model.getLineMaxColumn(Z)),g.Vi.fromModelState(new g.rS(new i.e(M.lineNumber,1,Z,P),0,new D.L(Z,P),0))}const L=C.modelState.selectionStart.getStartPosition().lineNumber;if(M.lineNumber<L)return g.Vi.fromViewState(C.viewState.move(C.modelState.hasSelection(),H.lineNumber,1,0));if(M.lineNumber>L){const N=y.getLineCount();let Z=H.lineNumber+1,P=1;return Z>N&&(Z=N,P=y.getLineMaxColumn(Z)),g.Vi.fromViewState(C.viewState.move(C.modelState.hasSelection(),Z,P,0))}{const N=C.modelState.selectionStart.getEndPosition();return g.Vi.fromModelState(C.modelState.move(C.modelState.hasSelection(),N.lineNumber,N.column,0))}}static word(y,C,b,x){const f=y.model.validatePosition(x);return g.Vi.fromModelState(B.w.word(y.cursorConfig,y.model,C.modelState,b,f))}static cancelSelection(y,C){if(!C.modelState.hasSelection())return new g.Vi(C.modelState,C.viewState);const b=C.viewState.position.lineNumber,x=C.viewState.position.column;return g.Vi.fromViewState(new g.rS(new i.e(b,x,b,x),0,new D.L(b,x),0))}static moveTo(y,C,b,x,f){const M=y.model.validatePosition(x),H=f?y.coordinatesConverter.validateViewPosition(new D.L(f.lineNumber,f.column),M):y.coordinatesConverter.convertModelPositionToViewPosition(M);return g.Vi.fromViewState(C.viewState.move(b,H.lineNumber,H.column,0))}static simpleMove(y,C,b,x,f,M){switch(b){case 0:return 4===M?this._moveHalfLineLeft(y,C,x):this._moveLeft(y,C,x,f);case 1:return 4===M?this._moveHalfLineRight(y,C,x):this._moveRight(y,C,x,f);case 2:return 2===M?this._moveUpByViewLines(y,C,x,f):this._moveUpByModelLines(y,C,x,f);case 3:return 2===M?this._moveDownByViewLines(y,C,x,f):this._moveDownByModelLines(y,C,x,f);case 4:return C.map(2===M?H=>g.Vi.fromViewState(Y.o.moveToPrevBlankLine(y.cursorConfig,y,H.viewState,x)):H=>g.Vi.fromModelState(Y.o.moveToPrevBlankLine(y.cursorConfig,y.model,H.modelState,x)));case 5:return C.map(2===M?H=>g.Vi.fromViewState(Y.o.moveToNextBlankLine(y.cursorConfig,y,H.viewState,x)):H=>g.Vi.fromModelState(Y.o.moveToNextBlankLine(y.cursorConfig,y.model,H.modelState,x)));case 6:return this._moveToViewMinColumn(y,C,x);case 7:return this._moveToViewFirstNonWhitespaceColumn(y,C,x);case 8:return this._moveToViewCenterColumn(y,C,x);case 9:return this._moveToViewMaxColumn(y,C,x);case 10:return this._moveToViewLastNonWhitespaceColumn(y,C,x);default:return null}}static viewportMove(y,C,b,x,f){const M=y.getCompletelyVisibleViewRange(),H=y.coordinatesConverter.convertViewRangeToModelRange(M);switch(b){case 11:{const L=this._firstLineNumberInRange(y.model,H,f),N=y.model.getLineFirstNonWhitespaceColumn(L);return[this._moveToModelPosition(y,C[0],x,L,N)]}case 13:{const L=this._lastLineNumberInRange(y.model,H,f),N=y.model.getLineFirstNonWhitespaceColumn(L);return[this._moveToModelPosition(y,C[0],x,L,N)]}case 12:{const L=Math.round((H.startLineNumber+H.endLineNumber)/2),N=y.model.getLineFirstNonWhitespaceColumn(L);return[this._moveToModelPosition(y,C[0],x,L,N)]}case 14:{const L=[];for(let N=0,Z=C.length;N<Z;N++)L[N]=this.findPositionInViewportIfOutside(y,C[N],M,x);return L}default:return null}}static findPositionInViewportIfOutside(y,C,b,x){const f=C.viewState.position.lineNumber;if(b.startLineNumber<=f&&f<=b.endLineNumber-1)return new g.Vi(C.modelState,C.viewState);{let M;M=f>b.endLineNumber-1?b.endLineNumber-1:f<b.startLineNumber?b.startLineNumber:f;const H=Y.o.vertical(y.cursorConfig,y,f,C.viewState.position.column,C.viewState.leftoverVisibleColumns,M,!1);return g.Vi.fromViewState(C.viewState.move(x,H.lineNumber,H.column,H.leftoverVisibleColumns))}}static _firstLineNumberInRange(y,C,b){let x=C.startLineNumber;return C.startColumn!==y.getLineMinColumn(x)&&x++,Math.min(C.endLineNumber,x+b-1)}static _lastLineNumberInRange(y,C,b){let x=C.startLineNumber;return C.startColumn!==y.getLineMinColumn(x)&&x++,Math.max(x,C.endLineNumber-b+1)}static _moveLeft(y,C,b,x){return C.map(f=>g.Vi.fromViewState(Y.o.moveLeft(y.cursorConfig,y,f.viewState,b,x)))}static _moveHalfLineLeft(y,C,b){const x=[];for(let f=0,M=C.length;f<M;f++){const H=C[f],N=Math.round(y.getLineContent(H.viewState.position.lineNumber).length/2);x[f]=g.Vi.fromViewState(Y.o.moveLeft(y.cursorConfig,y,H.viewState,b,N))}return x}static _moveRight(y,C,b,x){return C.map(f=>g.Vi.fromViewState(Y.o.moveRight(y.cursorConfig,y,f.viewState,b,x)))}static _moveHalfLineRight(y,C,b){const x=[];for(let f=0,M=C.length;f<M;f++){const H=C[f],N=Math.round(y.getLineContent(H.viewState.position.lineNumber).length/2);x[f]=g.Vi.fromViewState(Y.o.moveRight(y.cursorConfig,y,H.viewState,b,N))}return x}static _moveDownByViewLines(y,C,b,x){const f=[];for(let M=0,H=C.length;M<H;M++)f[M]=g.Vi.fromViewState(Y.o.moveDown(y.cursorConfig,y,C[M].viewState,b,x));return f}static _moveDownByModelLines(y,C,b,x){const f=[];for(let M=0,H=C.length;M<H;M++)f[M]=g.Vi.fromModelState(Y.o.moveDown(y.cursorConfig,y.model,C[M].modelState,b,x));return f}static _moveUpByViewLines(y,C,b,x){const f=[];for(let M=0,H=C.length;M<H;M++)f[M]=g.Vi.fromViewState(Y.o.moveUp(y.cursorConfig,y,C[M].viewState,b,x));return f}static _moveUpByModelLines(y,C,b,x){const f=[];for(let M=0,H=C.length;M<H;M++)f[M]=g.Vi.fromModelState(Y.o.moveUp(y.cursorConfig,y.model,C[M].modelState,b,x));return f}static _moveToViewPosition(y,C,b,x,f){return g.Vi.fromViewState(C.viewState.move(b,x,f,0))}static _moveToModelPosition(y,C,b,x,f){return g.Vi.fromModelState(C.modelState.move(b,x,f,0))}static _moveToViewMinColumn(y,C,b){const x=[];for(let f=0,M=C.length;f<M;f++){const H=C[f],L=H.viewState.position.lineNumber,N=y.getLineMinColumn(L);x[f]=this._moveToViewPosition(y,H,b,L,N)}return x}static _moveToViewFirstNonWhitespaceColumn(y,C,b){const x=[];for(let f=0,M=C.length;f<M;f++){const H=C[f],L=H.viewState.position.lineNumber,N=y.getLineFirstNonWhitespaceColumn(L);x[f]=this._moveToViewPosition(y,H,b,L,N)}return x}static _moveToViewCenterColumn(y,C,b){const x=[];for(let f=0,M=C.length;f<M;f++){const H=C[f],L=H.viewState.position.lineNumber,N=Math.round((y.getLineMaxColumn(L)+y.getLineMinColumn(L))/2);x[f]=this._moveToViewPosition(y,H,b,L,N)}return x}static _moveToViewMaxColumn(y,C,b){const x=[];for(let f=0,M=C.length;f<M;f++){const H=C[f],L=H.viewState.position.lineNumber,N=y.getLineMaxColumn(L);x[f]=this._moveToViewPosition(y,H,b,L,N)}return x}static _moveToViewLastNonWhitespaceColumn(y,C,b){const x=[];for(let f=0,M=C.length;f<M;f++){const H=C[f],L=H.viewState.position.lineNumber,N=y.getLineLastNonWhitespaceColumn(L);x[f]=this._moveToViewPosition(y,H,b,L,N)}return x}}(k=F||(F={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(b){if(!E.Kn(b))return!1;const x=b;return!(!E.HD(x.to)||!E.o8(x.select)&&!E.jn(x.select)||!E.o8(x.by)&&!E.HD(x.by)||!E.o8(x.value)&&!E.hj(x.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},k.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},k.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},k.parse=function(b){if(!b.to)return null;let x;switch(b.to){case k.RawDirection.Left:x=0;break;case k.RawDirection.Right:x=1;break;case k.RawDirection.Up:x=2;break;case k.RawDirection.Down:x=3;break;case k.RawDirection.PrevBlankLine:x=4;break;case k.RawDirection.NextBlankLine:x=5;break;case k.RawDirection.WrappedLineStart:x=6;break;case k.RawDirection.WrappedLineFirstNonWhitespaceCharacter:x=7;break;case k.RawDirection.WrappedLineColumnCenter:x=8;break;case k.RawDirection.WrappedLineEnd:x=9;break;case k.RawDirection.WrappedLineLastNonWhitespaceCharacter:x=10;break;case k.RawDirection.ViewPortTop:x=11;break;case k.RawDirection.ViewPortBottom:x=13;break;case k.RawDirection.ViewPortCenter:x=12;break;case k.RawDirection.ViewPortIfOutside:x=14;break;default:return null}let f=0;switch(b.by){case k.RawUnit.Line:f=1;break;case k.RawUnit.WrappedLine:f=2;break;case k.RawUnit.Character:f=3;break;case k.RawUnit.HalfLine:f=4}return{direction:x,unit:f,select:!!b.select,value:b.value||1}}},98596:(Fe,Ne,m)=>{m.d(Ne,{o:()=>F});var E=m(35590),g=m(90784),Y=m(67947),B=m(1873),D=m(74243),i=m(56660);class O{constructor(y,C,b){this._cursorPositionBrand=void 0,this.lineNumber=y,this.column=C,this.leftoverVisibleColumns=b}}class F{static leftPosition(y,C){if(C.column>y.getLineMinColumn(C.lineNumber))return C.delta(void 0,-D.HO(y.getLineContent(C.lineNumber),C.column-1));if(C.lineNumber>1){const b=C.lineNumber-1;return new Y.L(b,y.getLineMaxColumn(b))}return C}static leftPositionAtomicSoftTabs(y,C,b){if(C.column<=y.getLineIndentColumn(C.lineNumber)){const x=y.getLineMinColumn(C.lineNumber),f=y.getLineContent(C.lineNumber),M=i.l.atomicPosition(f,C.column-1,b,0);if(-1!==M&&M+1>=x)return new Y.L(C.lineNumber,M+1)}return this.leftPosition(y,C)}static left(y,C,b){const x=y.stickyTabStops?F.leftPositionAtomicSoftTabs(C,b,y.tabSize):F.leftPosition(C,b);return new O(x.lineNumber,x.column,0)}static moveLeft(y,C,b,x,f){let M,H;if(b.hasSelection()&&!x)M=b.selection.startLineNumber,H=b.selection.startColumn;else{const L=b.position.delta(void 0,-(f-1)),N=C.normalizePosition(F.clipPositionColumn(L,C),0),Z=F.left(y,C,N);M=Z.lineNumber,H=Z.column}return b.move(x,M,H,0)}static clipPositionColumn(y,C){return new Y.L(y.lineNumber,F.clipRange(y.column,C.getLineMinColumn(y.lineNumber),C.getLineMaxColumn(y.lineNumber)))}static clipRange(y,C,b){return y<C?C:y>b?b:y}static rightPosition(y,C,b){return b<y.getLineMaxColumn(C)?b+=D.vH(y.getLineContent(C),b-1):C<y.getLineCount()&&(b=y.getLineMinColumn(C+=1)),new Y.L(C,b)}static rightPositionAtomicSoftTabs(y,C,b,x,f){if(b<y.getLineIndentColumn(C)){const M=y.getLineContent(C),H=i.l.atomicPosition(M,b-1,x,1);if(-1!==H)return new Y.L(C,H+1)}return this.rightPosition(y,C,b)}static right(y,C,b){const x=y.stickyTabStops?F.rightPositionAtomicSoftTabs(C,b.lineNumber,b.column,y.tabSize,y.indentSize):F.rightPosition(C,b.lineNumber,b.column);return new O(x.lineNumber,x.column,0)}static moveRight(y,C,b,x,f){let M,H;if(b.hasSelection()&&!x)M=b.selection.endLineNumber,H=b.selection.endColumn;else{const L=b.position.delta(void 0,f-1),N=C.normalizePosition(F.clipPositionColumn(L,C),1),Z=F.right(y,C,N);M=Z.lineNumber,H=Z.column}return b.move(x,M,H,0)}static vertical(y,C,b,x,f,M,H,L){const N=g.i.visibleColumnFromColumn(C.getLineContent(b),x,y.tabSize)+f,Z=C.getLineCount(),P=1===b&&1===x,I=b===Z&&x===C.getLineMaxColumn(b),$=M<b?P:I;if((b=M)<1?(b=1,x=H?C.getLineMinColumn(b):Math.min(C.getLineMaxColumn(b),x)):b>Z?(b=Z,x=H?C.getLineMaxColumn(b):Math.min(C.getLineMaxColumn(b),x)):x=y.columnFromVisibleColumn(C,b,N),f=$?0:N-g.i.visibleColumnFromColumn(C.getLineContent(b),x,y.tabSize),void 0!==L){const U=new Y.L(b,x),G=C.normalizePosition(U,L);f+=x-G.column,b=G.lineNumber,x=G.column}return new O(b,x,f)}static down(y,C,b,x,f,M,H){return this.vertical(y,C,b,x,f,b+M,H,1)}static moveDown(y,C,b,x,f){let M,H;b.hasSelection()&&!x?(M=b.selection.endLineNumber,H=b.selection.endColumn):(M=b.position.lineNumber,H=b.position.column);const L=F.down(y,C,M,H,b.leftoverVisibleColumns,f,!0);return b.move(x,L.lineNumber,L.column,L.leftoverVisibleColumns)}static translateDown(y,C,b){const x=b.selection,f=F.down(y,C,x.selectionStartLineNumber,x.selectionStartColumn,b.selectionStartLeftoverVisibleColumns,1,!1),M=F.down(y,C,x.positionLineNumber,x.positionColumn,b.leftoverVisibleColumns,1,!1);return new E.rS(new B.e(f.lineNumber,f.column,f.lineNumber,f.column),f.leftoverVisibleColumns,new Y.L(M.lineNumber,M.column),M.leftoverVisibleColumns)}static up(y,C,b,x,f,M,H){return this.vertical(y,C,b,x,f,b-M,H,0)}static moveUp(y,C,b,x,f){let M,H;b.hasSelection()&&!x?(M=b.selection.startLineNumber,H=b.selection.startColumn):(M=b.position.lineNumber,H=b.position.column);const L=F.up(y,C,M,H,b.leftoverVisibleColumns,f,!0);return b.move(x,L.lineNumber,L.column,L.leftoverVisibleColumns)}static translateUp(y,C,b){const x=b.selection,f=F.up(y,C,x.selectionStartLineNumber,x.selectionStartColumn,b.selectionStartLeftoverVisibleColumns,1,!1),M=F.up(y,C,x.positionLineNumber,x.positionColumn,b.leftoverVisibleColumns,1,!1);return new E.rS(new B.e(f.lineNumber,f.column,f.lineNumber,f.column),f.leftoverVisibleColumns,new Y.L(M.lineNumber,M.column),M.leftoverVisibleColumns)}static _isBlankLine(y,C){return 0===y.getLineFirstNonWhitespaceColumn(C)}static moveToPrevBlankLine(y,C,b,x){let f=b.position.lineNumber;for(;f>1&&this._isBlankLine(C,f);)f--;for(;f>1&&!this._isBlankLine(C,f);)f--;return b.move(x,f,C.getLineMinColumn(f),0)}static moveToNextBlankLine(y,C,b,x){const f=C.getLineCount();let M=b.position.lineNumber;for(;M<f&&this._isBlankLine(C,M);)M++;for(;M<f&&!this._isBlankLine(C,M);)M++;return b.move(x,M,C.getLineMinColumn(M),0)}static moveToBeginningOfLine(y,C,b,x){const f=b.position.lineNumber,M=C.getLineMinColumn(f),H=C.getLineFirstNonWhitespaceColumn(f)||M;let L;return L=b.position.column===H?M:H,b.move(x,f,L,0)}static moveToEndOfLine(y,C,b,x,f){const M=b.position.lineNumber,H=C.getLineMaxColumn(M);return b.move(x,M,H,f?1073741824-H:0)}static moveToBeginningOfBuffer(y,C,b,x){return b.move(x,1,1,0)}static moveToEndOfBuffer(y,C,b,x){const f=C.getLineCount(),M=C.getLineMaxColumn(f);return b.move(x,f,M,0)}}},8418:(Fe,Ne,m)=>{m.d(Ne,{u:()=>f,g:()=>M});var E=m(13226),g=m(74243),Y=m(49317),B=m(51788),D=m(1873),i=m(60745);class O{constructor(I,$,U){this._range=I,this._charBeforeSelection=$,this._charAfterSelection=U}getEditOperations(I,$){$.addTrackedEditOperation(new D.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),$.addTrackedEditOperation(new D.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(I,$){const U=$.getInverseEditOperations(),G=U[0].range,oe=U[1].range;return new i.Y(G.endLineNumber,G.endColumn,oe.endLineNumber,oe.endColumn-this._charAfterSelection.length)}}var F=m(35590),k=m(81346),y=m(67947),C=m(70950),b=m(92119),x=m(20595);class f{static indent(I,$,U){if(null===$||null===U)return[];const G=[];for(let oe=0,de=U.length;oe<de;oe++)G[oe]=new B.U(U[oe],{isUnshift:!1,tabSize:I.tabSize,indentSize:I.indentSize,insertSpaces:I.insertSpaces,useTabStops:I.useTabStops,autoIndent:I.autoIndent});return G}static outdent(I,$,U){const G=[];for(let oe=0,de=U.length;oe<de;oe++)G[oe]=new B.U(U[oe],{isUnshift:!0,tabSize:I.tabSize,indentSize:I.indentSize,insertSpaces:I.insertSpaces,useTabStops:I.useTabStops,autoIndent:I.autoIndent});return G}static shiftIndent(I,$,U){return B.U.shiftIndent($,$.length+(U=U||1),I.tabSize,I.indentSize,I.insertSpaces)}static unshiftIndent(I,$,U){return B.U.unshiftIndent($,$.length+(U=U||1),I.tabSize,I.indentSize,I.insertSpaces)}static _distributedPaste(I,$,U,G){const oe=[];for(let de=0,fe=U.length;de<fe;de++)oe[de]=new Y.T4(U[de],G[de]);return new F.Tp(0,oe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(I,$,U,G,oe){const de=[];for(let fe=0,_e=U.length;fe<_e;fe++){const we=U[fe],me=we.getPosition();if(oe&&!we.isEmpty()&&(oe=!1),oe&&G.indexOf("\n")!==G.length-1&&(oe=!1),oe){const Q=new D.e(me.lineNumber,1,me.lineNumber,1);de[fe]=new Y.hP(Q,G,we,!0)}else de[fe]=new Y.T4(we,G)}return new F.Tp(0,de,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(I,$,U,G,oe){if(G||1===$.length)return null;if(oe&&oe.length===$.length)return oe;if("spread"===I.multiCursorPaste){10===U.charCodeAt(U.length-1)&&(U=U.substr(0,U.length-1)),13===U.charCodeAt(U.length-1)&&(U=U.substr(0,U.length-1));const de=g.uq(U);if(de.length===$.length)return de}return null}static paste(I,$,U,G,oe,de){const fe=this._distributePasteToCursors(I,U,G,oe,de);return fe?(U=U.sort(D.e.compareRangesUsingStarts),this._distributedPaste(I,$,U,fe)):this._simplePaste(I,$,U,G,oe)}static _goodIndentForLine(I,$,U){let G=null,oe="";const de=b.zu.getInheritIndentForLine(I.autoIndent,$,U,!1);if(de)G=de.action,oe=de.indentation;else if(U>1){let fe;for(fe=U-1;fe>=1;fe--){const me=$.getLineContent(fe);if(g.ow(me)>=0)break}if(fe<1)return null;const _e=$.getLineMaxColumn(fe),we=b.zu.getEnterAction(I.autoIndent,$,new D.e(fe,_e,fe,_e));we&&(oe=we.indentation+we.appendText)}return G&&(G===C.wU.Indent&&(oe=f.shiftIndent(I,oe)),G===C.wU.Outdent&&(oe=f.unshiftIndent(I,oe)),oe=I.normalizeIndentation(oe)),oe||null}static _replaceJumpToNextIndent(I,$,U,G){let oe="";const de=U.getStartPosition();if(I.insertSpaces){const fe=I.visibleColumnFromColumn($,de),_e=I.indentSize,we=_e-fe%_e;for(let me=0;me<we;me++)oe+=" "}else oe="\t";return new Y.T4(U,oe,G)}static tab(I,$,U){const G=[];for(let oe=0,de=U.length;oe<de;oe++){const fe=U[oe];if(fe.isEmpty()){const _e=$.getLineContent(fe.startLineNumber);if(/^\s*$/.test(_e)&&$.isCheapToTokenize(fe.startLineNumber)){let we=this._goodIndentForLine(I,$,fe.startLineNumber);we=we||"\t";const me=I.normalizeIndentation(we);if(!_e.startsWith(me)){G[oe]=new Y.T4(new D.e(fe.startLineNumber,1,fe.startLineNumber,_e.length+1),me,!0);continue}}G[oe]=this._replaceJumpToNextIndent(I,$,fe,!0)}else{if(fe.startLineNumber===fe.endLineNumber){const _e=$.getLineMaxColumn(fe.startLineNumber);if(1!==fe.startColumn||fe.endColumn!==_e){G[oe]=this._replaceJumpToNextIndent(I,$,fe,!1);continue}}G[oe]=new B.U(fe,{isUnshift:!1,tabSize:I.tabSize,indentSize:I.indentSize,insertSpaces:I.insertSpaces,useTabStops:I.useTabStops,autoIndent:I.autoIndent})}}return G}static compositionType(I,$,U,G,oe,de,fe,_e){const we=G.map(me=>this._compositionType(U,me,oe,de,fe,_e));return new F.Tp(4,we,{shouldPushStackElementBefore:L(I,4),shouldPushStackElementAfter:!1})}static _compositionType(I,$,U,G,oe,de){if(!$.isEmpty())return null;const fe=$.getPosition(),_e=Math.max(1,fe.column-G),we=Math.min(I.getLineMaxColumn(fe.lineNumber),fe.column+oe),me=new D.e(fe.lineNumber,_e,fe.lineNumber,we);return I.getValueInRange(me)===U&&0===de?null:new Y.Uo(me,U,0,de)}static _typeCommand(I,$,U){return U?new Y.Sj(I,$,!0):new Y.T4(I,$,!0)}static _enter(I,$,U,G){if(0===I.autoIndent)return f._typeCommand(G,"\n",U);if(!$.isCheapToTokenize(G.getStartPosition().lineNumber)||1===I.autoIndent){const _e=$.getLineContent(G.startLineNumber),we=g.V8(_e).substring(0,G.startColumn-1);return f._typeCommand(G,"\n"+I.normalizeIndentation(we),U)}const oe=b.zu.getEnterAction(I.autoIndent,$,G);if(oe){if(oe.indentAction===C.wU.None)return f._typeCommand(G,"\n"+I.normalizeIndentation(oe.indentation+oe.appendText),U);if(oe.indentAction===C.wU.Indent)return f._typeCommand(G,"\n"+I.normalizeIndentation(oe.indentation+oe.appendText),U);if(oe.indentAction===C.wU.IndentOutdent){const _e=I.normalizeIndentation(oe.indentation),we=I.normalizeIndentation(oe.indentation+oe.appendText),me="\n"+we+"\n"+_e;return U?new Y.Sj(G,me,!0):new Y.Uo(G,me,-1,we.length-_e.length,!0)}if(oe.indentAction===C.wU.Outdent){const _e=f.unshiftIndent(I,oe.indentation);return f._typeCommand(G,"\n"+I.normalizeIndentation(_e+oe.appendText),U)}}const de=$.getLineContent(G.startLineNumber),fe=g.V8(de).substring(0,G.startColumn-1);if(I.autoIndent>=4){const _e=b.zu.getIndentForEnter(I.autoIndent,$,G,{unshiftIndent:we=>f.unshiftIndent(I,we),shiftIndent:we=>f.shiftIndent(I,we),normalizeIndentation:we=>I.normalizeIndentation(we)});if(_e){let we=I.visibleColumnFromColumn($,G.getEndPosition());const me=G.endColumn,Q=$.getLineContent(G.endLineNumber),q=g.LC(Q);if(G=G.setEndPosition(G.endLineNumber,q>=0?Math.max(G.endColumn,q+1):$.getLineMaxColumn(G.endLineNumber)),U)return new Y.Sj(G,"\n"+I.normalizeIndentation(_e.afterEnter),!0);{let le=0;return me<=q+1&&(I.insertSpaces||(we=Math.ceil(we/I.indentSize)),le=Math.min(we+1-I.normalizeIndentation(_e.afterEnter).length-1,0)),new Y.Uo(G,"\n"+I.normalizeIndentation(_e.afterEnter),0,le,!0)}}}return f._typeCommand(G,"\n"+I.normalizeIndentation(fe),U)}static _isAutoIndentType(I,$,U){if(I.autoIndent<4)return!1;for(let G=0,oe=U.length;G<oe;G++)if(!$.isCheapToTokenize(U[G].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(I,$,U,G){const oe=b.zu.getIndentationAtPosition($,U.startLineNumber,U.startColumn),de=b.zu.getIndentActionForType(I.autoIndent,$,U,G,{shiftIndent:fe=>f.shiftIndent(I,fe),unshiftIndent:fe=>f.unshiftIndent(I,fe)});if(null===de)return null;if(de!==I.normalizeIndentation(oe)){const fe=$.getLineFirstNonWhitespaceColumn(U.startLineNumber);return f._typeCommand(new D.e(U.startLineNumber,1,U.endLineNumber,U.endColumn),0===fe?I.normalizeIndentation(de)+G:I.normalizeIndentation(de)+$.getLineContent(U.startLineNumber).substring(fe-1,U.startColumn-1)+G,!1)}return null}static _isAutoClosingOvertype(I,$,U,G,oe){if("never"===I.autoClosingOvertype||!I.autoClosingPairs.autoClosingPairsCloseSingleChar.has(oe))return!1;for(let de=0,fe=U.length;de<fe;de++){const _e=U[de];if(!_e.isEmpty())return!1;const we=_e.getPosition(),me=$.getLineContent(we.lineNumber);if(me.charAt(we.column-1)!==oe)return!1;const q=(0,F.LN)(oe);if(92===(we.column>2?me.charCodeAt(we.column-2):0)&&q)return!1;if("auto"===I.autoClosingOvertype){let ee=!1;for(let J=0,re=G.length;J<re;J++){const ce=G[J];if(we.lineNumber===ce.startLineNumber&&we.column===ce.startColumn){ee=!0;break}}if(!ee)return!1}}return!0}static _runAutoClosingOvertype(I,$,U,G,oe){const de=[];for(let fe=0,_e=G.length;fe<_e;fe++){const me=G[fe].getPosition(),Q=new D.e(me.lineNumber,me.column,me.lineNumber,me.column+1);de[fe]=new Y.T4(Q,oe)}return new F.Tp(4,de,{shouldPushStackElementBefore:L(I,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(I,$){const U=$.charAt(0),G=I.autoClosingPairs.autoClosingPairsOpenByStart.get(U)||[],oe=I.autoClosingPairs.autoClosingPairsCloseByStart.get(U)||[],de=G.some(_e=>$.startsWith(_e.open)),fe=oe.some(_e=>$.startsWith(_e.close));return!de&&fe}static _findAutoClosingPairOpen(I,$,U,G){const oe=I.autoClosingPairs.autoClosingPairsOpenByEnd.get(G);if(!oe)return null;let de=null;for(const fe of oe)if(null===de||fe.open.length>de.open.length){let _e=!0;for(const we of U)if($.getValueInRange(new D.e(we.lineNumber,we.column-fe.open.length+1,we.lineNumber,we.column))+G!==fe.open){_e=!1;break}_e&&(de=fe)}return de}static _findContainedAutoClosingPair(I,$){if($.open.length<=1)return null;const U=$.close.charAt($.close.length-1),G=I.autoClosingPairs.autoClosingPairsCloseByEnd.get(U)||[];let oe=null;for(const de of G)de.open!==$.open&&$.open.includes(de.open)&&$.close.endsWith(de.close)&&(!oe||de.open.length>oe.open.length)&&(oe=de);return oe}static _getAutoClosingPairClose(I,$,U,G,oe){const de=(0,F.LN)(G),fe=de?I.autoClosingQuotes:I.autoClosingBrackets,_e=de?I.shouldAutoCloseBefore.quote:I.shouldAutoCloseBefore.bracket;if("never"===fe)return null;for(const ee of U)if(!ee.isEmpty())return null;const we=U.map(ee=>{const J=ee.getPosition();return oe?{lineNumber:J.lineNumber,beforeColumn:J.column-G.length,afterColumn:J.column}:{lineNumber:J.lineNumber,beforeColumn:J.column,afterColumn:J.column}}),me=this._findAutoClosingPairOpen(I,$,we.map(ee=>new y.L(ee.lineNumber,ee.beforeColumn)),G);if(!me)return null;const Q=this._findContainedAutoClosingPair(I,me),q=Q?Q.close:"";let le=!0;for(const ee of we){const{lineNumber:J,beforeColumn:re,afterColumn:ce}=ee,ve=$.getLineContent(J),ke=ve.substring(0,re-1),We=ve.substring(ce-1);if(We.startsWith(q)||(le=!1),We.length>0){const Ae=We.charAt(0);if(!f._isBeforeClosingBrace(I,We)&&!_e(Ae))return null}if(1===me.open.length&&("'"===G||'"'===G)&&"always"!==fe){const Ae=(0,k.u)(I.wordSeparators);if(ke.length>0){const et=ke.charCodeAt(ke.length-1);if(0===Ae.get(et))return null}}if(!$.isCheapToTokenize(J))return null;$.forceTokenization(J);const je=$.getLineTokens(J),ue=(0,x.wH)(je,re-1);if(!me.shouldAutoClose(ue,re-ue.firstCharOffset))return null;const Ce=me.findNeutralCharacter();if(Ce){const Ae=$.getTokenTypeIfInsertingCharacter(J,re,Ce);if(!me.isOK(Ae))return null}}return le?me.close.substring(0,me.close.length-q.length):me.close}static _runAutoClosingOpenCharType(I,$,U,G,oe,de,fe){const _e=[];for(let we=0,me=G.length;we<me;we++)_e[we]=new M(G[we],oe,!de,fe);return new F.Tp(4,_e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(I,$){return(0,F.LN)($)?"quotes"===I.autoSurround||"languageDefined"===I.autoSurround:"brackets"===I.autoSurround||"languageDefined"===I.autoSurround}static _isSurroundSelectionType(I,$,U,G){if(!f._shouldSurroundChar(I,G)||!I.surroundingPairs.hasOwnProperty(G))return!1;const oe=(0,F.LN)(G);for(let de=0,fe=U.length;de<fe;de++){const _e=U[de];if(_e.isEmpty())return!1;let we=!0;for(let me=_e.startLineNumber;me<=_e.endLineNumber;me++){const Q=$.getLineContent(me),ee=Q.substring(me===_e.startLineNumber?_e.startColumn-1:0,me===_e.endLineNumber?_e.endColumn-1:Q.length);if(/[^ \t]/.test(ee)){we=!1;break}}if(we)return!1;if(oe&&_e.startLineNumber===_e.endLineNumber&&_e.startColumn+1===_e.endColumn){const me=$.getValueInRange(_e);if((0,F.LN)(me))return!1}}return!0}static _runSurroundSelectionType(I,$,U,G,oe){const de=[];for(let fe=0,_e=G.length;fe<_e;fe++)de[fe]=new O(G[fe],oe,$.surroundingPairs[oe]);return new F.Tp(0,de,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(I,$,U){return!(1!==U.length||!$.isCheapToTokenize(U[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(I,$,U,G,oe){if(!$.electricChars.hasOwnProperty(oe)||!G.isEmpty())return null;const de=G.getPosition();U.forceTokenization(de.lineNumber);const fe=U.getLineTokens(de.lineNumber);let _e;try{_e=$.onElectricCharacter(oe,fe,de.column)}catch(we){return(0,E.dL)(we),null}if(!_e)return null;if(_e.matchOpenBracket){const we=(fe.getLineContent()+oe).lastIndexOf(_e.matchOpenBracket)+1,me=U.bracketPairs.findMatchingBracketUp(_e.matchOpenBracket,{lineNumber:de.lineNumber,column:we},500);if(me){if(me.startLineNumber===de.lineNumber)return null;const Q=U.getLineContent(me.startLineNumber),q=g.V8(Q),le=$.normalizeIndentation(q),ee=U.getLineContent(de.lineNumber),J=U.getLineFirstNonWhitespaceColumn(de.lineNumber)||de.column,ce=le+ee.substring(J-1,de.column-1)+oe,ve=new D.e(de.lineNumber,1,de.lineNumber,de.column),ke=new Y.T4(ve,ce);return new F.Tp(H(ce,I),[ke],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(I,$,U,G,oe,de){if(!G||i.Y.selectionsArrEqual(G,oe))return null;let fe=null;for(const we of oe){if(!we.isEmpty())return null;const me=we.getPosition(),Q=U.getValueInRange(new D.e(me.lineNumber,me.column-1,me.lineNumber,me.column));if(null===fe)fe=Q;else if(fe!==Q)return null}if(!fe)return null;if(this._isAutoClosingOvertype($,U,oe,de,fe)){const we=oe.map(me=>new Y.T4(new D.e(me.positionLineNumber,me.positionColumn,me.positionLineNumber,me.positionColumn+1),"",!1));return new F.Tp(4,we,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const _e=this._getAutoClosingPairClose($,U,oe,fe,!0);return null!==_e?this._runAutoClosingOpenCharType(I,$,U,oe,fe,!0,_e):null}static typeWithInterceptors(I,$,U,G,oe,de,fe){if(!I&&"\n"===fe){const me=[];for(let Q=0,q=oe.length;Q<q;Q++)me[Q]=f._enter(U,G,!1,oe[Q]);return new F.Tp(4,me,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!I&&this._isAutoIndentType(U,G,oe)){const me=[];let Q=!1;for(let q=0,le=oe.length;q<le;q++)if(me[q]=this._runAutoIndentType(U,G,oe[q],fe),!me[q]){Q=!0;break}if(!Q)return new F.Tp(4,me,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!I&&this._isAutoClosingOvertype(U,G,oe,de,fe))return this._runAutoClosingOvertype($,U,G,oe,fe);if(!I){const me=this._getAutoClosingPairClose(U,G,oe,fe,!1);if(me)return this._runAutoClosingOpenCharType($,U,G,oe,fe,!1,me)}if(this._isSurroundSelectionType(U,G,oe,fe))return this._runSurroundSelectionType($,U,G,oe,fe);if(!I&&this._isTypeInterceptorElectricChar(U,G,oe)){const me=this._typeInterceptorElectricChar($,U,G,oe[0],fe);if(me)return me}const _e=[];for(let me=0,Q=oe.length;me<Q;me++)_e[me]=new Y.T4(oe[me],fe);const we=H(fe,$);return new F.Tp(we,_e,{shouldPushStackElementBefore:L($,we),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(I,$,U,G,oe){const de=[];for(let _e=0,we=G.length;_e<we;_e++)de[_e]=new Y.T4(G[_e],oe);const fe=H(oe,I);return new F.Tp(fe,de,{shouldPushStackElementBefore:L(I,fe),shouldPushStackElementAfter:!1})}static lineInsertBefore(I,$,U){if(null===$||null===U)return[];const G=[];for(let oe=0,de=U.length;oe<de;oe++){let fe=U[oe].positionLineNumber;if(1===fe)G[oe]=new Y.Sj(new D.e(1,1,1,1),"\n");else{fe--;const _e=$.getLineMaxColumn(fe);G[oe]=this._enter(I,$,!1,new D.e(fe,_e,fe,_e))}}return G}static lineInsertAfter(I,$,U){if(null===$||null===U)return[];const G=[];for(let oe=0,de=U.length;oe<de;oe++){const fe=U[oe].positionLineNumber,_e=$.getLineMaxColumn(fe);G[oe]=this._enter(I,$,!1,new D.e(fe,_e,fe,_e))}return G}static lineBreakInsert(I,$,U){const G=[];for(let oe=0,de=U.length;oe<de;oe++)G[oe]=this._enter(I,$,!0,U[oe]);return G}}class M extends Y.Uo{constructor(I,$,U,G){super(I,(U?$:"")+G,0,-G.length),this._openCharacter=$,this._closeCharacter=G,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(I,$){const G=$.getInverseEditOperations()[0].range;return this.closeCharacterRange=new D.e(G.startLineNumber,G.endColumn-this._closeCharacter.length,G.endLineNumber,G.endColumn),this.enclosingRange=new D.e(G.startLineNumber,G.endColumn-this._openCharacter.length-this._closeCharacter.length,G.endLineNumber,G.endColumn),super.computeCursorState(I,$)}}function H(P,I){return" "===P?5===I||6===I?6:5:4}function L(P,I){return!(!Z(P)||Z(I))||5!==P&&N(P)!==N(I)}function N(P){return 6===P||5===P?"space":P}function Z(P){return 4===P||5===P||6===P}},34397:(Fe,Ne,m)=>{m.d(Ne,{w:()=>O,L:()=>F});var E=m(74243),g=m(35590),Y=m(17666),B=m(81346),D=m(67947),i=m(1873);class O{static _createWord(C,b,x,f,M){return{start:f,end:M,wordType:b,nextCharClass:x}}static _findPreviousWordOnLine(C,b,x){const f=b.getLineContent(x.lineNumber);return this._doFindPreviousWordOnLine(f,C,x)}static _doFindPreviousWordOnLine(C,b,x){let f=0;for(let M=x.column-2;M>=0;M--){const H=C.charCodeAt(M),L=b.get(H);if(0===L){if(2===f)return this._createWord(C,f,L,M+1,this._findEndOfWord(C,b,f,M+1));f=1}else if(2===L){if(1===f)return this._createWord(C,f,L,M+1,this._findEndOfWord(C,b,f,M+1));f=2}else if(1===L&&0!==f)return this._createWord(C,f,L,M+1,this._findEndOfWord(C,b,f,M+1))}return 0!==f?this._createWord(C,f,1,0,this._findEndOfWord(C,b,f,0)):null}static _findEndOfWord(C,b,x,f){const M=C.length;for(let H=f;H<M;H++){const L=C.charCodeAt(H),N=b.get(L);if(1===N||1===x&&2===N||2===x&&0===N)return H}return M}static _findNextWordOnLine(C,b,x){const f=b.getLineContent(x.lineNumber);return this._doFindNextWordOnLine(f,C,x)}static _doFindNextWordOnLine(C,b,x){let f=0;const M=C.length;for(let H=x.column-1;H<M;H++){const L=C.charCodeAt(H),N=b.get(L);if(0===N){if(2===f)return this._createWord(C,f,N,this._findStartOfWord(C,b,f,H-1),H);f=1}else if(2===N){if(1===f)return this._createWord(C,f,N,this._findStartOfWord(C,b,f,H-1),H);f=2}else if(1===N&&0!==f)return this._createWord(C,f,N,this._findStartOfWord(C,b,f,H-1),H)}return 0!==f?this._createWord(C,f,1,this._findStartOfWord(C,b,f,M-1),M):null}static _findStartOfWord(C,b,x,f){for(let M=f;M>=0;M--){const H=C.charCodeAt(M),L=b.get(H);if(1===L||1===x&&2===L||2===x&&0===L)return M+1}return 0}static moveWordLeft(C,b,x,f){let M=x.lineNumber,H=x.column;1===H&&M>1&&(M-=1,H=b.getLineMaxColumn(M));let L=O._findPreviousWordOnLine(C,b,new D.L(M,H));if(0===f)return new D.L(M,L?L.start+1:1);if(1===f)return L&&2===L.wordType&&L.end-L.start==1&&0===L.nextCharClass&&(L=O._findPreviousWordOnLine(C,b,new D.L(M,L.start+1))),new D.L(M,L?L.start+1:1);if(3===f){for(;L&&2===L.wordType;)L=O._findPreviousWordOnLine(C,b,new D.L(M,L.start+1));return new D.L(M,L?L.start+1:1)}return L&&H<=L.end+1&&(L=O._findPreviousWordOnLine(C,b,new D.L(M,L.start+1))),new D.L(M,L?L.end+1:1)}static _moveWordPartLeft(C,b){const x=b.lineNumber,f=C.getLineMaxColumn(x);if(1===b.column)return x>1?new D.L(x-1,C.getLineMaxColumn(x-1)):b;const M=C.getLineContent(x);for(let H=b.column-1;H>1;H--){const L=M.charCodeAt(H-2),N=M.charCodeAt(H-1);if(95===L&&95!==N)return new D.L(x,H);if(E.mK(L)&&E.df(N))return new D.L(x,H);if(E.df(L)&&E.df(N)&&H+1<f){const Z=M.charCodeAt(H);if(E.mK(Z))return new D.L(x,H)}}return new D.L(x,1)}static moveWordRight(C,b,x,f){let M=x.lineNumber,H=x.column,L=!1;H===b.getLineMaxColumn(M)&&M<b.getLineCount()&&(L=!0,M+=1,H=1);let N=O._findNextWordOnLine(C,b,new D.L(M,H));if(2===f)N&&2===N.wordType&&N.end-N.start==1&&0===N.nextCharClass&&(N=O._findNextWordOnLine(C,b,new D.L(M,N.end+1))),H=N?N.end+1:b.getLineMaxColumn(M);else if(3===f){for(L&&(H=0);N&&(2===N.wordType||N.start+1<=H);)N=O._findNextWordOnLine(C,b,new D.L(M,N.end+1));H=N?N.start+1:b.getLineMaxColumn(M)}else N&&!L&&H>=N.start+1&&(N=O._findNextWordOnLine(C,b,new D.L(M,N.end+1))),H=N?N.start+1:b.getLineMaxColumn(M);return new D.L(M,H)}static _moveWordPartRight(C,b){const x=b.lineNumber,f=C.getLineMaxColumn(x);if(b.column===f)return x<C.getLineCount()?new D.L(x+1,1):b;const M=C.getLineContent(x);for(let H=b.column+1;H<f;H++){const L=M.charCodeAt(H-2),N=M.charCodeAt(H-1);if(95!==L&&95===N)return new D.L(x,H);if(E.mK(L)&&E.df(N))return new D.L(x,H);if(E.df(L)&&E.df(N)&&H+1<f){const Z=M.charCodeAt(H);if(E.mK(Z))return new D.L(x,H)}}return new D.L(x,f)}static _deleteWordLeftWhitespace(C,b){const x=C.getLineContent(b.lineNumber),f=b.column-2,M=E.ow(x,f);return M+1<f?new i.e(b.lineNumber,M+2,b.lineNumber,b.column):null}static deleteWordLeft(C,b){const x=C.wordSeparators,f=C.model,M=C.selection,H=C.whitespaceHeuristics;if(!M.isEmpty())return M;if(Y.A.isAutoClosingPairDelete(C.autoClosingDelete,C.autoClosingBrackets,C.autoClosingQuotes,C.autoClosingPairs.autoClosingPairsOpenByEnd,C.model,[C.selection],C.autoClosedCharacters)){const I=C.selection.getPosition();return new i.e(I.lineNumber,I.column-1,I.lineNumber,I.column+1)}const L=new D.L(M.positionLineNumber,M.positionColumn);let N=L.lineNumber,Z=L.column;if(1===N&&1===Z)return null;if(H){const I=this._deleteWordLeftWhitespace(f,L);if(I)return I}let P=O._findPreviousWordOnLine(x,f,L);return 0===b?P?Z=P.start+1:Z>1?Z=1:(N--,Z=f.getLineMaxColumn(N)):(P&&Z<=P.end+1&&(P=O._findPreviousWordOnLine(x,f,new D.L(N,P.start+1))),P?Z=P.end+1:Z>1?Z=1:(N--,Z=f.getLineMaxColumn(N))),new i.e(N,Z,L.lineNumber,L.column)}static deleteInsideWord(C,b,x){if(!x.isEmpty())return x;const f=new D.L(x.positionLineNumber,x.positionColumn);return this._deleteInsideWordWhitespace(b,f)||this._deleteInsideWordDetermineDeleteRange(C,b,f)}static _charAtIsWhitespace(C,b){const x=C.charCodeAt(b);return 32===x||9===x}static _deleteInsideWordWhitespace(C,b){const x=C.getLineContent(b.lineNumber),f=x.length;if(0===f)return null;let M=Math.max(b.column-2,0);if(!this._charAtIsWhitespace(x,M))return null;let H=Math.min(b.column-1,f-1);if(!this._charAtIsWhitespace(x,H))return null;for(;M>0&&this._charAtIsWhitespace(x,M-1);)M--;for(;H+1<f&&this._charAtIsWhitespace(x,H+1);)H++;return new i.e(b.lineNumber,M+1,b.lineNumber,H+2)}static _deleteInsideWordDetermineDeleteRange(C,b,x){const f=b.getLineContent(x.lineNumber),M=f.length;if(0===M)return x.lineNumber>1?new i.e(x.lineNumber-1,b.getLineMaxColumn(x.lineNumber-1),x.lineNumber,1):x.lineNumber<b.getLineCount()?new i.e(x.lineNumber,1,x.lineNumber+1,1):new i.e(x.lineNumber,1,x.lineNumber,1);const H=I=>I.start+1<=x.column&&x.column<=I.end+1,L=(I,$)=>(I=Math.min(I,x.column),$=Math.max($,x.column),new i.e(x.lineNumber,I,x.lineNumber,$)),N=I=>{let $=I.start+1,U=I.end+1,G=!1;for(;U-1<M&&this._charAtIsWhitespace(f,U-1);)G=!0,U++;if(!G)for(;$>1&&this._charAtIsWhitespace(f,$-2);)$--;return L($,U)},Z=O._findPreviousWordOnLine(C,b,x);if(Z&&H(Z))return N(Z);const P=O._findNextWordOnLine(C,b,x);return P&&H(P)?N(P):Z&&P?L(Z.end+1,P.start+1):Z?L(Z.start+1,Z.end+1):P?L(P.start+1,P.end+1):L(1,M+1)}static _deleteWordPartLeft(C,b){if(!b.isEmpty())return b;const x=b.getPosition(),f=O._moveWordPartLeft(C,x);return new i.e(x.lineNumber,x.column,f.lineNumber,f.column)}static _findFirstNonWhitespaceChar(C,b){const x=C.length;for(let f=b;f<x;f++){const M=C.charAt(f);if(" "!==M&&"\t"!==M)return f}return x}static _deleteWordRightWhitespace(C,b){const x=C.getLineContent(b.lineNumber),f=b.column-1,M=this._findFirstNonWhitespaceChar(x,f);return f+1<M?new i.e(b.lineNumber,b.column,b.lineNumber,M+1):null}static deleteWordRight(C,b){const x=C.wordSeparators,f=C.model,M=C.selection,H=C.whitespaceHeuristics;if(!M.isEmpty())return M;const L=new D.L(M.positionLineNumber,M.positionColumn);let N=L.lineNumber,Z=L.column;const P=f.getLineCount(),I=f.getLineMaxColumn(N);if(N===P&&Z===I)return null;if(H){const U=this._deleteWordRightWhitespace(f,L);if(U)return U}let $=O._findNextWordOnLine(x,f,L);return 2===b?$?Z=$.end+1:Z<I||N===P?Z=I:(N++,$=O._findNextWordOnLine(x,f,new D.L(N,1)),Z=$?$.start+1:f.getLineMaxColumn(N)):($&&Z>=$.start+1&&($=O._findNextWordOnLine(x,f,new D.L(N,$.end+1))),$?Z=$.start+1:Z<I||N===P?Z=I:(N++,$=O._findNextWordOnLine(x,f,new D.L(N,1)),Z=$?$.start+1:f.getLineMaxColumn(N))),new i.e(N,Z,L.lineNumber,L.column)}static _deleteWordPartRight(C,b){if(!b.isEmpty())return b;const x=b.getPosition(),f=O._moveWordPartRight(C,x);return new i.e(x.lineNumber,x.column,f.lineNumber,f.column)}static _createWordAtPosition(C,b,x){const f=new i.e(b,x.start+1,b,x.end+1);return{word:C.getValueInRange(f),startColumn:f.startColumn,endColumn:f.endColumn}}static getWordAtPosition(C,b,x){const f=(0,B.u)(b),M=O._findPreviousWordOnLine(f,C,x);if(M&&1===M.wordType&&M.start<=x.column-1&&x.column-1<=M.end)return O._createWordAtPosition(C,x.lineNumber,M);const H=O._findNextWordOnLine(f,C,x);return H&&1===H.wordType&&H.start<=x.column-1&&x.column-1<=H.end?O._createWordAtPosition(C,x.lineNumber,H):null}static word(C,b,x,f,M){const H=(0,B.u)(C.wordSeparators),L=O._findPreviousWordOnLine(H,b,M),N=O._findNextWordOnLine(H,b,M);if(!f){let U,G;return L&&1===L.wordType&&L.start<=M.column-1&&M.column-1<=L.end?(U=L.start+1,G=L.end+1):N&&1===N.wordType&&N.start<=M.column-1&&M.column-1<=N.end?(U=N.start+1,G=N.end+1):(U=L?L.end+1:1,G=N?N.start+1:b.getLineMaxColumn(M.lineNumber)),new g.rS(new i.e(M.lineNumber,U,M.lineNumber,G),0,new D.L(M.lineNumber,G),0)}let Z,P;L&&1===L.wordType&&L.start<M.column-1&&M.column-1<L.end?(Z=L.start+1,P=L.end+1):N&&1===N.wordType&&N.start<M.column-1&&M.column-1<N.end?(Z=N.start+1,P=N.end+1):(Z=M.column,P=M.column);const I=M.lineNumber;let $;if(x.selectionStart.containsPosition(M))$=x.selectionStart.endColumn;else if(M.isBeforeOrEqual(x.selectionStart.getStartPosition())){$=Z;const U=new D.L(I,$);x.selectionStart.containsPosition(U)&&($=x.selectionStart.endColumn)}else{$=P;const U=new D.L(I,$);x.selectionStart.containsPosition(U)&&($=x.selectionStart.startColumn)}return x.move(!0,I,$,0)}}class F extends O{static deleteWordPartLeft(C){const b=k([O.deleteWordLeft(C,0),O.deleteWordLeft(C,2),O._deleteWordPartLeft(C.model,C.selection)]);return b.sort(i.e.compareRangesUsingEnds),b[2]}static deleteWordPartRight(C){const b=k([O.deleteWordRight(C,0),O.deleteWordRight(C,2),O._deleteWordPartRight(C.model,C.selection)]);return b.sort(i.e.compareRangesUsingStarts),b[0]}static moveWordPartLeft(C,b,x){const f=k([O.moveWordLeft(C,b,x,0),O.moveWordLeft(C,b,x,2),O._moveWordPartLeft(b,x)]);return f.sort(D.L.compare),f[2]}static moveWordPartRight(C,b,x){const f=k([O.moveWordRight(C,b,x,0),O.moveWordRight(C,b,x,2),O._moveWordPartRight(b,x)]);return f.sort(D.L.compare),f[0]}}function k(y){return y.filter(C=>Boolean(C))}},47804:(Fe,Ne,m)=>{m.d(Ne,{p:()=>E});class E{constructor(Y,B,D,i,O,F){this.id=Y,this.label=B,this.alias=D,this._precondition=i,this._run=O,this._contextKeyService=F}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},3760:(Fe,Ne,m)=>{m.d(Ne,{g:()=>E});const E={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},20296:(Fe,Ne,m)=>{m.d(Ne,{u:()=>Y});var Y,B,E=m(12918),g=m(6461);(B=Y||(Y={})).editorSimpleInput=new g.uy("editorSimpleInput",!1,!0),B.editorTextFocus=new g.uy("editorTextFocus",!1,E.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),B.focus=new g.uy("editorFocus",!1,E.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),B.textInputFocus=new g.uy("textInputFocus",!1,E.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),B.readOnly=new g.uy("editorReadonly",!1,E.N("editorReadonly","Whether the editor is read only")),B.inDiffEditor=new g.uy("inDiffEditor",!1,E.N("inDiffEditor","Whether the context is a diff editor")),B.columnSelection=new g.uy("editorColumnSelection",!1,E.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),B.writable=B.readOnly.toNegated(),B.hasNonEmptySelection=new g.uy("editorHasSelection",!1,E.N("editorHasSelection","Whether the editor has text selected")),B.hasOnlyEmptySelection=B.hasNonEmptySelection.toNegated(),B.hasMultipleSelections=new g.uy("editorHasMultipleSelections",!1,E.N("editorHasMultipleSelections","Whether the editor has multiple selections")),B.hasSingleSelection=B.hasMultipleSelections.toNegated(),B.tabMovesFocus=new g.uy("editorTabMovesFocus",!1,E.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),B.tabDoesNotMoveFocus=B.tabMovesFocus.toNegated(),B.isInWalkThroughSnippet=new g.uy("isInEmbeddedEditor",!1,!0),B.canUndo=new g.uy("canUndo",!1,!0),B.canRedo=new g.uy("canRedo",!1,!0),B.hoverVisible=new g.uy("editorHoverVisible",!1,E.N("editorHoverVisible","Whether the editor hover is visible")),B.inCompositeEditor=new g.uy("inCompositeEditor",void 0,E.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),B.notInCompositeEditor=B.inCompositeEditor.toNegated(),B.languageId=new g.uy("editorLangId","",E.N("editorLangId","The language identifier of the editor")),B.hasCompletionItemProvider=new g.uy("editorHasCompletionItemProvider",!1,E.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),B.hasCodeActionsProvider=new g.uy("editorHasCodeActionsProvider",!1,E.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),B.hasCodeLensProvider=new g.uy("editorHasCodeLensProvider",!1,E.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),B.hasDefinitionProvider=new g.uy("editorHasDefinitionProvider",!1,E.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),B.hasDeclarationProvider=new g.uy("editorHasDeclarationProvider",!1,E.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),B.hasImplementationProvider=new g.uy("editorHasImplementationProvider",!1,E.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),B.hasTypeDefinitionProvider=new g.uy("editorHasTypeDefinitionProvider",!1,E.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),B.hasHoverProvider=new g.uy("editorHasHoverProvider",!1,E.N("editorHasHoverProvider","Whether the editor has a hover provider")),B.hasDocumentHighlightProvider=new g.uy("editorHasDocumentHighlightProvider",!1,E.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),B.hasDocumentSymbolProvider=new g.uy("editorHasDocumentSymbolProvider",!1,E.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),B.hasReferenceProvider=new g.uy("editorHasReferenceProvider",!1,E.N("editorHasReferenceProvider","Whether the editor has a reference provider")),B.hasRenameProvider=new g.uy("editorHasRenameProvider",!1,E.N("editorHasRenameProvider","Whether the editor has a rename provider")),B.hasSignatureHelpProvider=new g.uy("editorHasSignatureHelpProvider",!1,E.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),B.hasInlayHintsProvider=new g.uy("editorHasInlayHintsProvider",!1,E.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),B.hasDocumentFormattingProvider=new g.uy("editorHasDocumentFormattingProvider",!1,E.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),B.hasDocumentSelectionFormattingProvider=new g.uy("editorHasDocumentSelectionFormattingProvider",!1,E.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),B.hasMultipleDocumentFormattingProvider=new g.uy("editorHasMultipleDocumentFormattingProvider",!1,E.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),B.hasMultipleDocumentSelectionFormattingProvider=new g.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,E.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},33979:(Fe,Ne,m)=>{m.d(Ne,{mY:()=>P,gX:()=>x,MY:()=>H,DI:()=>b,AD:()=>Z,gl:()=>I,bw:()=>f,WW:()=>M,uZ:()=>N,WU:()=>y,NX:()=>k,RW:()=>$,hG:()=>C,vx:()=>L});var E=m(85459),g=m(1873),Y=m(71040),B=m(40189),D=function(U,G,oe,de){return new(oe||(oe=Promise))(function(_e,we){function me(le){try{q(de.next(le))}catch(ee){we(ee)}}function Q(le){try{q(de.throw(le))}catch(ee){we(ee)}}function q(le){le.done?_e(le.value):function(_e){return _e instanceof oe?_e:new oe(function(we){we(_e)})}(le.value).then(me,Q)}q((de=de.apply(U,G||[])).next())})};class O extends B.JT{constructor(G,oe,de){super(),this._registry=G,this._languageId=oe,this._factory=de,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return D(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return D(this,void 0,void 0,function*(){const G=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,G&&!this._isDisposed&&this._register(this._registry.register(this._languageId,G))})}}var x,F=m(78968);class k{static getLanguageId(G){return(255&G)>>>0}static getTokenType(G){return(768&G)>>>8}static getFontStyle(G){return(15360&G)>>>10}static getForeground(G){return(8372224&G)>>>14}static getBackground(G){return(4286578688&G)>>>23}static getClassNameFromMetadata(G){let de="mtk"+this.getForeground(G);const fe=this.getFontStyle(G);return 1&fe&&(de+=" mtki"),2&fe&&(de+=" mtkb"),4&fe&&(de+=" mtku"),8&fe&&(de+=" mtks"),de}static getInlineStyleFromMetadata(G,oe){const de=this.getForeground(G),fe=this.getFontStyle(G);let _e=`color: ${oe[de]};`;1&fe&&(_e+="font-style: italic;"),2&fe&&(_e+="font-weight: bold;");let we="";return 4&fe&&(we+=" underline"),8&fe&&(we+=" line-through"),we&&(_e+=`text-decoration:${we};`),_e}static getPresentationFromMetadata(G){const oe=this.getForeground(G),de=this.getFontStyle(G);return{foreground:oe,italic:Boolean(1&de),bold:Boolean(2&de),underline:Boolean(4&de),strikethrough:Boolean(8&de)}}}class y{constructor(G,oe,de){this._tokenBrand=void 0,this.offset=G,this.type=oe,this.language=de}toString(){return"("+this.offset+", "+this.type+")"}}class C{constructor(G,oe){this._tokenizationResultBrand=void 0,this.tokens=G,this.endState=oe}}class b{constructor(G,oe){this._encodedTokenizationResultBrand=void 0,this.tokens=G,this.endState=oe}}!function(U){const G=new Map;G.set(0,F.lA.symbolMethod),G.set(1,F.lA.symbolFunction),G.set(2,F.lA.symbolConstructor),G.set(3,F.lA.symbolField),G.set(4,F.lA.symbolVariable),G.set(5,F.lA.symbolClass),G.set(6,F.lA.symbolStruct),G.set(7,F.lA.symbolInterface),G.set(8,F.lA.symbolModule),G.set(9,F.lA.symbolProperty),G.set(10,F.lA.symbolEvent),G.set(11,F.lA.symbolOperator),G.set(12,F.lA.symbolUnit),G.set(13,F.lA.symbolValue),G.set(15,F.lA.symbolEnum),G.set(14,F.lA.symbolConstant),G.set(15,F.lA.symbolEnum),G.set(16,F.lA.symbolEnumMember),G.set(17,F.lA.symbolKeyword),G.set(27,F.lA.symbolSnippet),G.set(18,F.lA.symbolText),G.set(19,F.lA.symbolColor),G.set(20,F.lA.symbolFile),G.set(21,F.lA.symbolReference),G.set(22,F.lA.symbolCustomColor),G.set(23,F.lA.symbolFolder),G.set(24,F.lA.symbolTypeParameter),G.set(25,F.lA.account),G.set(26,F.lA.issues),U.toIcon=function(_e){let we=G.get(_e);return we||(console.info("No codicon found for CompletionItemKind "+_e),we=F.lA.symbolProperty),we};const de=new Map;de.set("method",0),de.set("function",1),de.set("constructor",2),de.set("field",3),de.set("variable",4),de.set("class",5),de.set("struct",6),de.set("interface",7),de.set("module",8),de.set("property",9),de.set("event",10),de.set("operator",11),de.set("unit",12),de.set("value",13),de.set("constant",14),de.set("enum",15),de.set("enum-member",16),de.set("enumMember",16),de.set("keyword",17),de.set("snippet",27),de.set("text",18),de.set("color",19),de.set("file",20),de.set("reference",21),de.set("customcolor",22),de.set("folder",23),de.set("type-parameter",24),de.set("typeParameter",24),de.set("account",25),de.set("issue",26),U.fromString=function(_e,we){let me=de.get(_e);return void 0===me&&!we&&(me=9),me}}(x||(x={}));var N,P,f=(()=>{return(U=f||(f={}))[U.Automatic=0]="Automatic",U[U.Explicit=1]="Explicit",f;var U})(),M=(()=>{return(U=M||(M={}))[U.Invoke=1]="Invoke",U[U.TriggerCharacter=2]="TriggerCharacter",U[U.ContentChange=3]="ContentChange",M;var U})(),H=(()=>{return(U=H||(H={}))[U.Text=0]="Text",U[U.Read=1]="Read",U[U.Write=2]="Write",H;var U})();function L(U){return U&&E.o.isUri(U.uri)&&g.e.isIRange(U.range)&&(g.e.isIRange(U.originSelectionRange)||g.e.isIRange(U.targetSelectionRange))}!function(U){const G=new Map;G.set(0,F.lA.symbolFile),G.set(1,F.lA.symbolModule),G.set(2,F.lA.symbolNamespace),G.set(3,F.lA.symbolPackage),G.set(4,F.lA.symbolClass),G.set(5,F.lA.symbolMethod),G.set(6,F.lA.symbolProperty),G.set(7,F.lA.symbolField),G.set(8,F.lA.symbolConstructor),G.set(9,F.lA.symbolEnum),G.set(10,F.lA.symbolInterface),G.set(11,F.lA.symbolFunction),G.set(12,F.lA.symbolVariable),G.set(13,F.lA.symbolConstant),G.set(14,F.lA.symbolString),G.set(15,F.lA.symbolNumber),G.set(16,F.lA.symbolBoolean),G.set(17,F.lA.symbolArray),G.set(18,F.lA.symbolObject),G.set(19,F.lA.symbolKey),G.set(20,F.lA.symbolNull),G.set(21,F.lA.symbolEnumMember),G.set(22,F.lA.symbolStruct),G.set(23,F.lA.symbolEvent),G.set(24,F.lA.symbolOperator),G.set(25,F.lA.symbolTypeParameter),U.toIcon=function(de){let fe=G.get(de);return fe||(console.info("No codicon found for SymbolKind "+de),fe=F.lA.symbolProperty),fe}}(N||(N={}));class Z{constructor(G){this.value=G}}Z.Comment=new Z("comment"),Z.Imports=new Z("imports"),Z.Region=new Z("region"),(P||(P={})).is=function(oe){return!(!oe||"object"!=typeof oe)&&"string"==typeof oe.id&&"string"==typeof oe.title};var I=(()=>{return(U=I||(I={}))[U.Type=1]="Type",U[U.Parameter=2]="Parameter",I;var U})();const $=new class{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new Y.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(G){this._onDidChange.fire({changedLanguages:G,changedColorMap:!1})}register(G,oe){return this._map.set(G,oe),this.fire([G]),(0,B.OF)(()=>{this._map.get(G)===oe&&(this._map.delete(G),this.fire([G]))})}registerFactory(G,oe){var de;null===(de=this._factories.get(G))||void 0===de||de.dispose();const fe=new O(this,G,oe);return this._factories.set(G,fe),(0,B.OF)(()=>{const _e=this._factories.get(G);!_e||_e!==fe||(this._factories.delete(G),_e.dispose())})}getOrCreate(G){return D(this,void 0,void 0,function*(){const oe=this.get(G);if(oe)return oe;const de=this._factories.get(G);return!de||de.isResolved?null:(yield de.resolve(),this.get(G))})}get(G){return this._map.get(G)||null}isResolved(G){if(this.get(G))return!0;const de=this._factories.get(G);return!(de&&!de.isResolved)}setColorMap(G){this._colorMap=G,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},80810:(Fe,Ne,m)=>{m.d(Ne,{O:()=>g});const g=(0,m(43569).yh)("languageService")},70950:(Fe,Ne,m)=>{m.d(Ne,{wU:()=>E,V6:()=>g,c$:()=>Y});var E=(()=>{return(D=E||(E={}))[D.None=0]="None",D[D.Indent=1]="Indent",D[D.IndentOutdent=2]="IndentOutdent",D[D.Outdent=3]="Outdent",E;var D})();class g{constructor(i){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=i.open,this.close=i.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(i.notIn))for(let O=0,F=i.notIn.length;O<F;O++)switch(i.notIn[O]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(i){switch(i){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(i,O){if(0===i.getTokenCount())return!0;const F=i.findTokenIndexAtOffset(O-2),k=i.getStandardTokenType(F);return this.isOK(k)}_findNeutralCharacterInRange(i,O){for(let F=i;F<=O;F++){const k=String.fromCharCode(F);if(!this.open.includes(k)&&!this.close.includes(k))return k}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class Y{constructor(i){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const O of i)B(this.autoClosingPairsOpenByStart,O.open.charAt(0),O),B(this.autoClosingPairsOpenByEnd,O.open.charAt(O.open.length-1),O),B(this.autoClosingPairsCloseByStart,O.close.charAt(0),O),B(this.autoClosingPairsCloseByEnd,O.close.charAt(O.close.length-1),O),1===O.close.length&&1===O.open.length&&B(this.autoClosingPairsCloseSingleChar,O.close,O)}}function B(D,i,O){D.has(i)?D.get(i).push(O):D.set(i,[O])}},92119:(Fe,Ne,m)=>{m.d(Ne,{c_:()=>U,zu:()=>Q});var E=m(71040),g=m(40189),Y=m(74243),B=m(54745),D=m(70950),i=m(20595);let O=(()=>{class re{constructor(ve){if(this._autoClosingPairs=ve.autoClosingPairs?ve.autoClosingPairs.map(ke=>new D.V6(ke)):ve.brackets?ve.brackets.map(ke=>new D.V6({open:ke[0],close:ke[1]})):[],this._colorizedBracketPairs=ve.colorizedBracketPairs?F(ve.colorizedBracketPairs.map(ke=>[ke[0],ke[1]])):ve.brackets?F(ve.brackets.map(ke=>[ke[0],ke[1]]).filter(ke=>!("<"===ke[0]&&">"===ke[1]))):[],ve.__electricCharacterSupport&&ve.__electricCharacterSupport.docComment){const ke=ve.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new D.V6({open:ke.open,close:ke.close||""}))}this._autoCloseBefore="string"==typeof ve.autoCloseBefore?ve.autoCloseBefore:re.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=ve.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}return re.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",re})();function F(re){return re.filter(([ce,ve])=>""!==ce&&""!==ve)}var k=m(89822),y=m(29675);class C{constructor(ce){this._richEditBrackets=ce}getElectricCharacters(){const ce=[];if(this._richEditBrackets)for(const ve of this._richEditBrackets.brackets)for(const ke of ve.close){const We=ke.charAt(ke.length-1);ce.push(We)}return(0,k.EB)(ce)}onElectricCharacter(ce,ve,ke){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const We=ve.findTokenIndexAtOffset(ke-1);if((0,i.Bu)(ve.getStandardTokenType(We)))return null;const je=this._richEditBrackets.reversedRegex,ue=ve.getLineContent().substring(0,ke-1)+ce,Ce=y.Vr.findPrevBracketInRange(je,1,ue,0,ue.length);if(!Ce)return null;const Ae=ue.substring(Ce.startColumn-1,Ce.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Ae])return null;const $e=ve.getActualLineContentBefore(Ce.startColumn-1);return/^\s*$/.test($e)?{matchOpenBracket:Ae}:null}}function b(re){return re.global&&(re.lastIndex=0),!0}class x{constructor(ce){this._indentationRules=ce}shouldIncrease(ce){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&b(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(ce))}shouldDecrease(ce){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&b(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(ce))}shouldIndentNextLine(ce){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&b(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(ce))}shouldIgnore(ce){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&b(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(ce))}getIndentMetadata(ce){let ve=0;return this.shouldIncrease(ce)&&(ve+=1),this.shouldDecrease(ce)&&(ve+=2),this.shouldIndentNextLine(ce)&&(ve+=4),this.shouldIgnore(ce)&&(ve+=8),ve}}var f=m(13226);class M{constructor(ce){(ce=ce||{}).brackets=ce.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],ce.brackets.forEach(ve=>{const ke=M._createOpenBracketRegExp(ve[0]),We=M._createCloseBracketRegExp(ve[1]);ke&&We&&this._brackets.push({open:ve[0],openRegExp:ke,close:ve[1],closeRegExp:We})}),this._regExpRules=ce.onEnterRules||[]}onEnter(ce,ve,ke,We){if(ce>=3)for(let je=0,ue=this._regExpRules.length;je<ue;je++){const Ce=this._regExpRules[je];if([{reg:Ce.beforeText,text:ke},{reg:Ce.afterText,text:We},{reg:Ce.previousLineText,text:ve}].every(et=>!et.reg||(et.reg.lastIndex=0,et.reg.test(et.text))))return Ce.action}if(ce>=2&&ke.length>0&&We.length>0)for(let je=0,ue=this._brackets.length;je<ue;je++){const Ce=this._brackets[je];if(Ce.openRegExp.test(ke)&&Ce.closeRegExp.test(We))return{indentAction:D.wU.IndentOutdent}}if(ce>=2&&ke.length>0)for(let je=0,ue=this._brackets.length;je<ue;je++)if(this._brackets[je].openRegExp.test(ke))return{indentAction:D.wU.Indent};return null}static _createOpenBracketRegExp(ce){let ve=Y.ec(ce);return/\B/.test(ve.charAt(0))||(ve="\\b"+ve),ve+="\\s*$",M._safeRegExp(ve)}static _createCloseBracketRegExp(ce){let ve=Y.ec(ce);return/\B/.test(ve.charAt(ve.length-1))||(ve+="\\b"),ve="^\\s*"+ve,M._safeRegExp(ve)}static _safeRegExp(ce){try{return new RegExp(ce)}catch(ve){return(0,f.dL)(ve),null}}}var H=m(43569),L=m(13011),N=m(80810),Z=m(26033),I=function(re,ce){return function(ve,ke){ce(ve,ke,re)}};class ${constructor(ce){this.languageId=ce}affects(ce){return!this.languageId||this.languageId===ce}}const U=(0,H.yh)("languageConfigurationService");let G=class extends g.JT{constructor(ce,ve){super(),this.configurationService=ce,this.languageService=ve,this.onDidChangeEmitter=this._register(new E.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const ke=new Set(Object.values(de));this._register(this.configurationService.onDidChangeConfiguration(We=>{const je=We.change.keys.some(Ce=>ke.has(Ce)),ue=We.change.overrides.filter(([Ce,Ae])=>Ae.some(et=>ke.has(et))).map(([Ce])=>Ce);if(je)this.configurations.clear(),this.onDidChangeEmitter.fire(new $(void 0));else for(const Ce of ue)this.languageService.isRegisteredLanguageId(Ce)&&(this.configurations.delete(Ce),this.onDidChangeEmitter.fire(new $(Ce)))})),this._register(Q.onDidChange(We=>{this.configurations.delete(We.languageId),this.onDidChangeEmitter.fire(new $(We.languageId))}))}getLanguageConfiguration(ce){let ve=this.configurations.get(ce);return ve||(ve=function(re,ce,ve){let ke=Q.getLanguageConfiguration(re);if(!ke){if(!ve.isRegisteredLanguageId(re))throw new Error(`Language id "${re}" is not configured nor known`);ke=new J(re,{})}const We=function(re,ce){const ve=ce.getValue(de.brackets,{overrideIdentifier:re}),ke=ce.getValue(de.colorizedBracketPairs,{overrideIdentifier:re});return{brackets:_e(ve),colorizedBracketPairs:_e(ke)}}(ke.languageId,ce),je=le([ke.underlyingConfig,We]);return new J(ke.languageId,je)}(ce,this.configurationService,this.languageService),this.configurations.set(ce,ve)),ve}};G=function(re,ce,ve,ke){var ue,We=arguments.length,je=We<3?ce:null===ke?ke=Object.getOwnPropertyDescriptor(ce,ve):ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)je=Reflect.decorate(re,ce,ve,ke);else for(var Ce=re.length-1;Ce>=0;Ce--)(ue=re[Ce])&&(je=(We<3?ue(je):We>3?ue(ce,ve,je):ue(ce,ve))||je);return We>3&&je&&Object.defineProperty(ce,ve,je),je}([I(0,L.Ui),I(1,N.O)],G);const de={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function _e(re){if(Array.isArray(re))return re.map(ce=>{if(Array.isArray(ce)&&2===ce.length)return[ce[0],ce[1]]}).filter(ce=>!!ce)}class we{constructor(ce){this.languageId=ce}}const Q=new class{constructor(){this._entries=new Map,this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event}register(ce,ve,ke=0){let We=this._entries.get(ce);We||(We=new q(ce),this._entries.set(ce,We));const je=We.register(ve,ke);return this._onDidChange.fire(new we(ce)),(0,g.OF)(()=>{je.dispose(),this._onDidChange.fire(new we(ce))})}getLanguageConfiguration(ce){const ve=this._entries.get(ce);return(null==ve?void 0:ve.getResolvedConfiguration())||null}getComments(ce){const ve=this.getLanguageConfiguration(ce);return ve&&ve.comments||null}getIndentRulesSupport(ce){const ve=this.getLanguageConfiguration(ce);return ve&&ve.indentRulesSupport||null}getPrecedingValidLine(ce,ve,ke){const We=ce.getLanguageIdAtPosition(ve,0);if(ve>1){let je,ue=-1;for(je=ve-1;je>=1;je--){if(ce.getLanguageIdAtPosition(je,0)!==We)return ue;const Ce=ce.getLineContent(je);if(!ke.shouldIgnore(Ce)&&!/^\s+$/.test(Ce)&&""!==Ce)return je;ue=je}}return-1}getInheritIndentForLine(ce,ve,ke,We=!0){if(ce<4)return null;const je=this.getIndentRulesSupport(ve.getLanguageId());if(!je)return null;if(ke<=1)return{indentation:"",action:null};const ue=this.getPrecedingValidLine(ve,ke,je);if(ue<0)return null;if(ue<1)return{indentation:"",action:null};const Ce=ve.getLineContent(ue);if(je.shouldIncrease(Ce)||je.shouldIndentNextLine(Ce))return{indentation:Y.V8(Ce),action:D.wU.Indent,line:ue};if(je.shouldDecrease(Ce))return{indentation:Y.V8(Ce),action:null,line:ue};{if(1===ue)return{indentation:Y.V8(ve.getLineContent(ue)),action:null,line:ue};const Ae=ue-1,et=je.getIndentMetadata(ve.getLineContent(Ae));if(!(3&et)&&4&et){let $e=0;for(let Te=Ae-1;Te>0;Te--)if(!je.shouldIndentNextLine(ve.getLineContent(Te))){$e=Te;break}return{indentation:Y.V8(ve.getLineContent($e+1)),action:null,line:$e+1}}if(We)return{indentation:Y.V8(ve.getLineContent(ue)),action:null,line:ue};for(let $e=ue;$e>0;$e--){const Te=ve.getLineContent($e);if(je.shouldIncrease(Te))return{indentation:Y.V8(Te),action:D.wU.Indent,line:$e};if(je.shouldIndentNextLine(Te)){let rt=0;for(let ht=$e-1;ht>0;ht--)if(!je.shouldIndentNextLine(ve.getLineContent($e))){rt=ht;break}return{indentation:Y.V8(ve.getLineContent(rt+1)),action:null,line:rt+1}}if(je.shouldDecrease(Te))return{indentation:Y.V8(Te),action:null,line:$e}}return{indentation:Y.V8(ve.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(ce,ve,ke,We,je){if(ce<4)return null;const ue=this.getLanguageConfiguration(ke);if(!ue)return null;const Ce=this.getIndentRulesSupport(ke);if(!Ce)return null;const Ae=this.getInheritIndentForLine(ce,ve,We),et=ve.getLineContent(We);if(Ae){const $e=Ae.line;if(void 0!==$e){const Te=ue.onEnter(ce,"",ve.getLineContent($e),"");if(Te){let rt=Y.V8(ve.getLineContent($e));return Te.removeText&&(rt=rt.substring(0,rt.length-Te.removeText)),Te.indentAction===D.wU.Indent||Te.indentAction===D.wU.IndentOutdent?rt=je.shiftIndent(rt):Te.indentAction===D.wU.Outdent&&(rt=je.unshiftIndent(rt)),Ce.shouldDecrease(et)&&(rt=je.unshiftIndent(rt)),Te.appendText&&(rt+=Te.appendText),Y.V8(rt)}}return Ce.shouldDecrease(et)?Ae.action===D.wU.Indent?Ae.indentation:je.unshiftIndent(Ae.indentation):Ae.action===D.wU.Indent?je.shiftIndent(Ae.indentation):Ae.indentation}return null}getIndentForEnter(ce,ve,ke,We){if(ce<4)return null;ve.forceTokenization(ke.startLineNumber);const je=ve.getLineTokens(ke.startLineNumber),ue=(0,i.wH)(je,ke.startColumn-1),Ce=ue.getLineContent();let et,$e,Ae=!1;ue.firstCharOffset>0&&je.getLanguageId(0)!==ue.languageId?(Ae=!0,et=Ce.substr(0,ke.startColumn-1-ue.firstCharOffset)):et=je.getLineContent().substring(0,ke.startColumn-1),$e=ke.isEmpty()?Ce.substr(ke.startColumn-1-ue.firstCharOffset):this.getScopedLineTokens(ve,ke.endLineNumber,ke.endColumn).getLineContent().substr(ke.endColumn-1-ue.firstCharOffset);const Te=this.getIndentRulesSupport(ue.languageId);if(!Te)return null;const rt=et,ht=Y.V8(et),nt={getLineTokens:bt=>ve.getLineTokens(bt),getLanguageId:()=>ve.getLanguageId(),getLanguageIdAtPosition:(bt,Ut)=>ve.getLanguageIdAtPosition(bt,Ut),getLineContent:bt=>bt===ke.startLineNumber?rt:ve.getLineContent(bt)},xe=Y.V8(je.getLineContent()),Ie=this.getInheritIndentForLine(ce,nt,ke.startLineNumber+1);if(!Ie){const bt=Ae?xe:ht;return{beforeEnter:bt,afterEnter:bt}}let at=Ae?xe:Ie.indentation;return Ie.action===D.wU.Indent&&(at=We.shiftIndent(at)),Te.shouldDecrease($e)&&(at=We.unshiftIndent(at)),{beforeEnter:Ae?xe:ht,afterEnter:at}}getIndentActionForType(ce,ve,ke,We,je){if(ce<4)return null;const ue=this.getScopedLineTokens(ve,ke.startLineNumber,ke.startColumn);if(ue.firstCharOffset)return null;const Ce=this.getIndentRulesSupport(ue.languageId);if(!Ce)return null;const Ae=ue.getLineContent(),et=Ae.substr(0,ke.startColumn-1-ue.firstCharOffset);let $e;if($e=ke.isEmpty()?Ae.substr(ke.startColumn-1-ue.firstCharOffset):this.getScopedLineTokens(ve,ke.endLineNumber,ke.endColumn).getLineContent().substr(ke.endColumn-1-ue.firstCharOffset),!Ce.shouldDecrease(et+$e)&&Ce.shouldDecrease(et+We+$e)){const Te=this.getInheritIndentForLine(ce,ve,ke.startLineNumber,!1);if(!Te)return null;let rt=Te.indentation;return Te.action!==D.wU.Indent&&(rt=je.unshiftIndent(rt)),rt}return null}getIndentMetadata(ce,ve){const ke=this.getIndentRulesSupport(ce.getLanguageId());return!ke||ve<1||ve>ce.getLineCount()?null:ke.getIndentMetadata(ce.getLineContent(ve))}getEnterAction(ce,ve,ke){const We=this.getScopedLineTokens(ve,ke.startLineNumber,ke.startColumn),je=this.getLanguageConfiguration(We.languageId);if(!je)return null;const ue=We.getLineContent(),Ce=ue.substr(0,ke.startColumn-1-We.firstCharOffset);let Ae;Ae=ke.isEmpty()?ue.substr(ke.startColumn-1-We.firstCharOffset):this.getScopedLineTokens(ve,ke.endLineNumber,ke.endColumn).getLineContent().substr(ke.endColumn-1-We.firstCharOffset);let et="";if(ke.startLineNumber>1&&0===We.firstCharOffset){const xe=this.getScopedLineTokens(ve,ke.startLineNumber-1);xe.languageId===We.languageId&&(et=xe.getLineContent())}const $e=je.onEnter(ce,et,Ce,Ae);if(!$e)return null;const Te=$e.indentAction;let rt=$e.appendText;const ht=$e.removeText||0;rt?Te===D.wU.Indent&&(rt="\t"+rt):rt=Te===D.wU.Indent||Te===D.wU.IndentOutdent?"\t":"";let nt=this.getIndentationAtPosition(ve,ke.startLineNumber,ke.startColumn);return ht&&(nt=nt.substring(0,nt.length-ht)),{indentAction:Te,appendText:rt,removeText:ht,indentation:nt}}getIndentationAtPosition(ce,ve,ke){const We=ce.getLineContent(ve);let je=Y.V8(We);return je.length>ke-1&&(je=je.substring(0,ke-1)),je}getScopedLineTokens(ce,ve,ke){ce.forceTokenization(ve);const We=ce.getLineTokens(ve),je=void 0===ke?ce.getLineMaxColumn(ve)-1:ke-1;return(0,i.wH)(We,je)}};class q{constructor(ce){this.languageId=ce,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(ce,ve){const ke=new ee(ce,ve,++this._order);return this._entries.push(ke),this._resolved=null,(0,g.OF)(()=>{for(let We=0;We<this._entries.length;We++)if(this._entries[We]===ke){this._entries.splice(We,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const ce=this._resolve();ce&&(this._resolved=new J(this.languageId,ce))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(ee.cmp),le(this._entries.map(ce=>ce.configuration)))}}function le(re){let ce={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const ve of re)ce={comments:ve.comments||ce.comments,brackets:ve.brackets||ce.brackets,wordPattern:ve.wordPattern||ce.wordPattern,indentationRules:ve.indentationRules||ce.indentationRules,onEnterRules:ve.onEnterRules||ce.onEnterRules,autoClosingPairs:ve.autoClosingPairs||ce.autoClosingPairs,surroundingPairs:ve.surroundingPairs||ce.surroundingPairs,autoCloseBefore:ve.autoCloseBefore||ce.autoCloseBefore,folding:ve.folding||ce.folding,colorizedBracketPairs:ve.colorizedBracketPairs||ce.colorizedBracketPairs,__electricCharacterSupport:ve.__electricCharacterSupport||ce.__electricCharacterSupport};return ce}class ee{constructor(ce,ve,ke){this.configuration=ce,this.priority=ve,this.order=ke}static cmp(ce,ve){return ce.priority===ve.priority?ce.order-ve.order:ce.priority-ve.priority}}class J{constructor(ce,ve){this.languageId=ce,this.underlyingConfig=ve,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new M(this.underlyingConfig):null,this.comments=J._handleComments(this.underlyingConfig),this.characterPair=new O(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||B.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new x(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,B.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new y.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new C(this.brackets)),this._electricCharacter}onEnter(ce,ve,ke,We){return this._onEnterSupport?this._onEnterSupport.onEnter(ce,ve,ke,We):null}getAutoClosingPairs(){return new D.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(ce){const ve=ce.comments;if(!ve)return null;const ke={};if(ve.lineComment&&(ke.lineCommentToken=ve.lineComment),ve.blockComment){const[We,je]=ve.blockComment;ke.blockCommentStartToken=We,ke.blockCommentEndToken=je}return ke}}(0,Z.z)(U,G)},12282:(Fe,Ne,m)=>{m.d(Ne,{dQ:()=>k,bd:()=>y});var E=m(12918),g=m(71040),Y=m(92119),B=m(63779),D=m(48343),i=m(92778);const k=new class{constructor(){this._onDidChangeLanguages=new g.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(x){return this._languages.push(x),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let f=0,M=this._languages.length;f<M;f++)if(this._languages[f]===x)return void this._languages.splice(f,1)}}}getLanguages(){return this._languages}};B.B.add("editor.modesRegistry",k);const y="plaintext";k.registerLanguage({id:y,extensions:[".txt"],aliases:[E.N("plainText.alias","Plain Text"),"text"],mimetypes:[D.v.text]}),Y.zu.register(y,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),B.B.as(i.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},88057:(Fe,Ne,m)=>{m.d(Ne,{TJ:()=>g,Ri:()=>Y,Dy:()=>B});var E=m(33979);const g=new class{clone(){return this}equals(D){return this===D}};function Y(D,i){return new E.hG([new E.WU(0,"",D)],i)}function B(D,i){const O=new Uint32Array(2);return O[0]=0,O[1]=(16384|D<<0|2<<23)>>>0,new E.DI(O,null===i?g:i)}},20595:(Fe,Ne,m)=>{function E(B,D){const i=B.getCount(),O=B.findTokenIndexAtOffset(D),F=B.getLanguageId(O);let k=O;for(;k+1<i&&B.getLanguageId(k+1)===F;)k++;let y=O;for(;y>0&&B.getLanguageId(y-1)===F;)y--;return new g(B,F,y,k+1,B.getStartOffset(y),B.getEndOffset(k))}m.d(Ne,{wH:()=>E,Bu:()=>Y});class g{constructor(D,i,O,F,k,y){this._scopedLineTokensBrand=void 0,this._actual=D,this.languageId=i,this._firstTokenIndex=O,this._lastTokenIndex=F,this.firstCharOffset=k,this._lastCharOffset=y}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(D){return this._actual.getLineContent().substring(0,this.firstCharOffset+D)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(D){return this._actual.findTokenIndexAtOffset(D+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(D){return this._actual.getStandardTokenType(D+this._firstTokenIndex)}}function Y(B){return 0!=(3&B)}},29675:(Fe,Ne,m)=>{m.d(Ne,{EA:()=>i,Vr:()=>L});var E=m(74243),g=m(53269),Y=m(1873);class B{constructor(Z,P,I,$,U,G){this._richEditBracketBrand=void 0,this.languageId=Z,this.index=P,this.open=I,this.close=$,this.forwardRegex=U,this.reversedRegex=G,this._openSet=B._toSet(this.open),this._closeSet=B._toSet(this.close)}isOpen(Z){return this._openSet.has(Z)}isClose(Z){return this._closeSet.has(Z)}static _toSet(Z){const P=new Set;for(const I of Z)P.add(I);return P}}class i{constructor(Z,P){this._richEditBracketsBrand=void 0;const I=function(N){const Z=N.length;N=N.map(G=>[G[0].toLowerCase(),G[1].toLowerCase()]);const P=[];for(let G=0;G<Z;G++)P[G]=G;const I=(G,oe)=>{const[de,fe]=G,[_e,we]=oe;return de===_e||de===we||fe===_e||fe===we},$=(G,oe)=>{const de=Math.min(G,oe),fe=Math.max(G,oe);for(let _e=0;_e<Z;_e++)P[_e]===fe&&(P[_e]=de)};for(let G=0;G<Z;G++){const oe=N[G];for(let de=G+1;de<Z;de++)I(oe,N[de])&&$(P[G],P[de])}const U=[];for(let G=0;G<Z;G++){const oe=[],de=[];for(let fe=0;fe<Z;fe++)if(P[fe]===G){const[_e,we]=N[fe];oe.push(_e),de.push(we)}oe.length>0&&U.push({open:oe,close:de})}return U}(P);this.brackets=I.map(($,U)=>new B(Z,U,$.open,$.close,function(N,Z,P,I){let $=[];$=$.concat(N),$=$.concat(Z);for(let U=0,G=$.length;U<G;U++)O($[U],P,I,$);return $=k($),$.sort(F),$.reverse(),M($)}($.open,$.close,I,U),function(N,Z,P,I){let $=[];$=$.concat(N),$=$.concat(Z);for(let U=0,G=$.length;U<G;U++)O($[U],P,I,$);return $=k($),$.sort(F),$.reverse(),M($.map(H))}($.open,$.close,I,U))),this.forwardRegex=function(N){let Z=[];for(const P of N){for(const I of P.open)Z.push(I);for(const I of P.close)Z.push(I)}return Z=k(Z),M(Z)}(this.brackets),this.reversedRegex=function(N){let Z=[];for(const P of N){for(const I of P.open)Z.push(I);for(const I of P.close)Z.push(I)}return Z=k(Z),M(Z.map(H))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const $ of this.brackets){for(const U of $.open)this.textIsBracket[U]=$,this.textIsOpenBracket[U]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,U.length);for(const U of $.close)this.textIsBracket[U]=$,this.textIsOpenBracket[U]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,U.length)}}}function O(N,Z,P,I){for(let $=0,U=Z.length;$<U;$++){if($===P)continue;const G=Z[$];for(const oe of G.open)oe.indexOf(N)>=0&&I.push(oe);for(const oe of G.close)oe.indexOf(N)>=0&&I.push(oe)}}function F(N,Z){return N.length-Z.length}function k(N){if(N.length<=1)return N;const Z=[],P=new Set;for(const I of N)P.has(I)||(Z.push(I),P.add(I));return Z}function f(N){const Z=/^[\w ]+$/.test(N);return N=E.ec(N),Z?`\\b${N}\\b`:N}function M(N){const Z=`(${N.map(f).join(")|(")})`;return E.GF(Z,!0)}const H=function(){let Z=null,P=null;return function($){return Z!==$&&(Z=$,P=function(I){if(g.lZ){const $=new Uint16Array(I.length);let U=0;for(let G=I.length-1;G>=0;G--)$[U++]=I.charCodeAt(G);return g.oe().decode($)}{const $=[];let U=0;for(let G=I.length-1;G>=0;G--)$[U++]=I.charAt(G);return $.join("")}}(Z)),P}}();class L{static _findPrevBracketInText(Z,P,I,$){const U=I.match(Z);if(!U)return null;const de=$+(I.length-(U.index||0));return new Y.e(P,de-U[0].length+1,P,de+1)}static findPrevBracketInRange(Z,P,I,$,U){const oe=H(I).substring(I.length-U,I.length-$);return this._findPrevBracketInText(Z,P,oe,$)}static findNextBracketInText(Z,P,I,$){const U=I.match(Z);if(!U)return null;const oe=U[0].length;if(0===oe)return null;const de=$+(U.index||0);return new Y.e(P,de+1,P,de+1+oe)}static findNextBracketInRange(Z,P,I,$,U){const G=I.substring($,U);return this.findNextBracketInText(Z,P,G,$)}}},42137:(Fe,Ne,m)=>{m.d(Ne,{C2:()=>O,Fq:()=>F});var E=m(74243),g=m(5928),Y=m(33979),B=m(88057);const i={getInitialState:()=>B.TJ,tokenizeEncoded:(y,C,b)=>(0,B.Dy)(0,b)};function O(y,C,b){return function(y,C,b,x){return new(b||(b=Promise))(function(M,H){function L(P){try{Z(x.next(P))}catch(I){H(I)}}function N(P){try{Z(x.throw(P))}catch(I){H(I)}}function Z(P){P.done?M(P.value):function(M){return M instanceof b?M:new b(function(H){H(M)})}(P.value).then(L,N)}Z((x=x.apply(y,C||[])).next())})}(this,void 0,void 0,function*(){if(!b)return k(C,y.languageIdCodec,i);const x=yield Y.RW.getOrCreate(b);return k(C,y.languageIdCodec,x||i)})}function F(y,C,b,x,f,M,H){let L="<div>",N=x,Z=0,P=!0;for(let I=0,$=C.getCount();I<$;I++){const U=C.getEndOffset(I);if(U<=x)continue;let G="";for(;N<U&&N<f;N++){const oe=y.charCodeAt(N);switch(oe){case 9:{let de=M-(N+Z)%M;for(Z+=de-1;de>0;)H&&P?(G+="&#160;",P=!1):(G+=" ",P=!0),de--;break}case 60:G+="&lt;",P=!1;break;case 62:G+="&gt;",P=!1;break;case 38:G+="&amp;",P=!1;break;case 0:G+="&#00;",P=!1;break;case 65279:case 8232:case 8233:case 133:G+="\ufffd",P=!1;break;case 13:G+="&#8203",P=!1;break;case 32:H&&P?(G+="&#160;",P=!1):(G+=" ",P=!0);break;default:G+=String.fromCharCode(oe),P=!1}}if(L+=`<span style="${C.getInlineStyle(I,b)}">${G}</span>`,U>f||N>=f)break}return L+="</div>",L}function k(y,C,b){let x='<div class="monaco-tokenized-source">';const f=E.uq(y);let M=b.getInitialState();for(let H=0,L=f.length;H<L;H++){const N=f[H];H>0&&(x+="<br/>");const Z=b.tokenizeEncoded(N,!0,M);g.A.convertToEndOffset(Z.tokens,N.length);const I=new g.A(Z.tokens,N,C).inflate();let $=0;for(let U=0,G=I.getCount();U<G;U++){const oe=I.getClassName(U),de=I.getEndOffset(U);x+=`<span class="${oe}">${E.YU(N.substring($,de))}</span>`,$=de}M=Z.endState}return x+="</div>",x}},80067:(Fe,Ne,m)=>{m.d(Ne,{sh:()=>g,F5:()=>Y,RM:()=>B,dJ:()=>D,tk:()=>i,Qi:()=>O,Tx:()=>F,je:()=>k,pt:()=>y});var E=m(60842),g=(()=>{return(C=g||(g={}))[C.Left=1]="Left",C[C.Center=2]="Center",C[C.Right=4]="Right",C[C.Full=7]="Full",g;var C})(),Y=(()=>{return(C=Y||(Y={}))[C.Inline=1]="Inline",C[C.Gutter=2]="Gutter",Y;var C})(),B=(()=>{return(C=B||(B={}))[C.Both=0]="Both",C[C.Right=1]="Right",C[C.Left=2]="Left",C[C.None=3]="None",B;var C})();class D{constructor(b){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|b.tabSize),this.indentSize=0|b.tabSize,this.insertSpaces=Boolean(b.insertSpaces),this.defaultEOL=0|b.defaultEOL,this.trimAutoWhitespace=Boolean(b.trimAutoWhitespace),this.bracketPairColorizationOptions=b.bracketPairColorizationOptions}equals(b){return this.tabSize===b.tabSize&&this.indentSize===b.indentSize&&this.insertSpaces===b.insertSpaces&&this.defaultEOL===b.defaultEOL&&this.trimAutoWhitespace===b.trimAutoWhitespace&&(0,E.fS)(this.bracketPairColorizationOptions,b.bracketPairColorizationOptions)}createChangeEvent(b){return{tabSize:this.tabSize!==b.tabSize,indentSize:this.indentSize!==b.indentSize,insertSpaces:this.insertSpaces!==b.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==b.trimAutoWhitespace}}}class i{constructor(b,x){this._findMatchBrand=void 0,this.range=b,this.matches=x}}class O{constructor(b,x,f,M,H,L){this.identifier=b,this.range=x,this.text=f,this.forceMoveMarkers=M,this.isAutoWhitespaceEdit=H,this._isTracked=L}}class F{constructor(b,x,f){this.regex=b,this.wordSeparators=x,this.simpleSearch=f}}class k{constructor(b,x,f){this.reverseEdits=b,this.changes=x,this.trimAutoWhitespaceLineNumbers=f}}function y(C){return!C.isTooLargeForSyncing()&&!C.isForSimpleWidget}},45612:(Fe,Ne,m)=>{m.d(Ne,{Kd:()=>D,Y0:()=>i,BH:()=>x,n2:()=>f,Dm:()=>M});var E=m(90784),g=m(79615),Y=m(25453);class B{constructor(L){this._length=L}get length(){return this._length}}class D extends B{constructor(L,N,Z,P,I){super(L),this.openingBracket=N,this.child=Z,this.closingBracket=P,this.missingOpeningBracketIds=I}static create(L,N,Z){let P=L.length;return N&&(P=(0,g.Ii)(P,N.length)),Z&&(P=(0,g.Ii)(P,Z.length)),new D(P,L,N,Z,N?N.missingOpeningBracketIds:Y.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(L){switch(L){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const L=new Array;return L.push(this.openingBracket),this.child&&L.push(this.child),this.closingBracket&&L.push(this.closingBracket),L}canBeReused(L){return!(null===this.closingBracket||L.intersects(this.missingOpeningBracketIds))}deepClone(){return new D(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(L,N){return this.child?this.child.computeMinIndentation((0,g.Ii)(L,this.openingBracket.length),N):Number.MAX_SAFE_INTEGER}}class i extends B{constructor(L,N,Z){super(L),this.listHeight=N,this._missingOpeningBracketIds=Z,this.cachedMinIndentation=-1}static create23(L,N,Z,P=!1){let I=L.length,$=L.missingOpeningBracketIds;if(L.listHeight!==N.listHeight)throw new Error("Invalid list heights");if(I=(0,g.Ii)(I,N.length),$=$.merge(N.missingOpeningBracketIds),Z){if(L.listHeight!==Z.listHeight)throw new Error("Invalid list heights");I=(0,g.Ii)(I,Z.length),$=$.merge(Z.missingOpeningBracketIds)}return P?new F(I,L.listHeight+1,L,N,Z,$):new O(I,L.listHeight+1,L,N,Z,$)}static getEmpty(){return new y(g.xl,0,[],Y.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const L=this.childrenLength;if(0===L)return;const N=this.getChild(L-1),Z=4===N.kind?N.toMutable():N;return N!==Z&&this.setChild(L-1,Z),Z}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const N=this.getChild(0),Z=4===N.kind?N.toMutable():N;return N!==Z&&this.setChild(0,Z),Z}canBeReused(L){if(L.intersects(this.missingOpeningBracketIds))return!1;let Z,N=this;for(;4===N.kind&&(Z=N.childrenLength)>0;)N=N.getChild(Z-1);return N.canBeReused(L)}handleChildrenChanged(){this.throwIfImmutable();const L=this.childrenLength;let N=this.getChild(0).length,Z=this.getChild(0).missingOpeningBracketIds;for(let P=1;P<L;P++){const I=this.getChild(P);N=(0,g.Ii)(N,I.length),Z=Z.merge(I.missingOpeningBracketIds)}this._length=N,this._missingOpeningBracketIds=Z,this.cachedMinIndentation=-1}computeMinIndentation(L,N){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let Z=Number.MAX_SAFE_INTEGER,P=L;for(let I=0;I<this.childrenLength;I++){const $=this.getChild(I);$&&(Z=Math.min(Z,$.computeMinIndentation(P,N)),P=(0,g.Ii)(P,$.length))}return this.cachedMinIndentation=Z,Z}}class O extends i{constructor(L,N,Z,P,I,$){super(L,N,$),this._item1=Z,this._item2=P,this._item3=I}get childrenLength(){return null!==this._item3?3:2}getChild(L){switch(L){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(L,N){switch(L){case 0:return void(this._item1=N);case 1:return void(this._item2=N);case 2:return void(this._item3=N)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new O(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(L){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=L,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const L=this._item3;return this._item3=null,this.handleChildrenChanged(),L}prependChildOfSameHeight(L){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=L,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const L=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),L}toMutable(){return this}}class F extends O{toMutable(){return new O(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class k extends i{constructor(L,N,Z,P){super(L,N,P),this._children=Z}get childrenLength(){return this._children.length}getChild(L){return this._children[L]}setChild(L,N){this._children[L]=N}get children(){return this._children}deepClone(){const L=new Array(this._children.length);for(let N=0;N<this._children.length;N++)L[N]=this._children[N].deepClone();return new k(this.length,this.listHeight,L,this.missingOpeningBracketIds)}appendChildOfSameHeight(L){this.throwIfImmutable(),this._children.push(L),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const L=this._children.pop();return this.handleChildrenChanged(),L}prependChildOfSameHeight(L){this.throwIfImmutable(),this._children.unshift(L),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const L=this._children.shift();return this.handleChildrenChanged(),L}toMutable(){return this}}class y extends k{toMutable(){return new k(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const C=[];class b extends B{get listHeight(){return 0}get childrenLength(){return 0}getChild(L){return null}get children(){return C}deepClone(){return this}}class x extends b{get kind(){return 0}get missingOpeningBracketIds(){return Y.tS.getEmpty()}canBeReused(L){return!0}computeMinIndentation(L,N){const Z=(0,g.Hw)(L),P=(0===Z.columnCount?Z.lineCount:Z.lineCount+1)+1,I=(0,g.W9)((0,g.Ii)(L,this.length))+1;let $=Number.MAX_SAFE_INTEGER;for(let U=P;U<=I;U++){const G=N.getLineFirstNonWhitespaceColumn(U),oe=N.getLineContent(U);if(0===G)continue;const de=E.i.visibleColumnFromColumn(oe,G,N.getOptions().tabSize);$=Math.min($,de)}return $}}class f extends b{constructor(L,N,Z){super(L),this.languageId=N,this.bracketIds=Z}static create(L,N,Z){return new f(L,N,Z)}get kind(){return 1}get missingOpeningBracketIds(){return Y.tS.getEmpty()}canBeReused(L){return!1}computeMinIndentation(L,N){return Number.MAX_SAFE_INTEGER}}class M extends b{constructor(L,N){super(N),this.missingOpeningBracketIds=L}get kind(){return 3}canBeReused(L){return!L.intersects(this.missingOpeningBracketIds)}computeMinIndentation(L,N){return Number.MAX_SAFE_INTEGER}}},91500:(Fe,Ne,m)=>{m.d(Ne,{Q:()=>g,Y:()=>Y});var E=m(79615);class g{constructor(i,O,F){this.startOffset=i,this.endOffset=O,this.newLength=F}}class Y{constructor(i,O){this.documentLength=O,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=i.map(F=>B.from(F))}getOffsetBeforeChange(i){return this.adjustNextEdit(i),this.translateCurToOld(i)}getDistanceToNextChange(i){this.adjustNextEdit(i);const O=this.edits[this.nextEditIdx],F=O?this.translateOldToCur(O.offsetObj):this.documentLength;return(0,E.BE)(i,F)}translateOldToCur(i){return(0,E.Hg)(i.lineCount+this.deltaOldToNewLineCount,i.lineCount===this.deltaLineIdxInOld?i.columnCount+this.deltaOldToNewColumnCount:i.columnCount)}translateCurToOld(i){const O=(0,E.Hw)(i);return(0,E.Hg)(O.lineCount-this.deltaOldToNewLineCount,O.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?O.columnCount-this.deltaOldToNewColumnCount:O.columnCount)}adjustNextEdit(i){for(;this.nextEditIdx<this.edits.length;){const O=this.edits[this.nextEditIdx],F=this.translateOldToCur(O.endOffsetAfterObj);if(!(0,E.By)(F,i))break;{this.nextEditIdx++;const k=(0,E.Hw)(F),y=(0,E.Hw)(this.translateOldToCur(O.endOffsetBeforeObj));this.deltaOldToNewLineCount+=k.lineCount-y.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===O.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(k.columnCount-y.columnCount),this.deltaLineIdxInOld=O.endOffsetBeforeObj.lineCount}}}}class B{constructor(i,O,F){this.endOffsetBeforeObj=(0,E.Hw)(O),this.endOffsetAfterObj=(0,E.Hw)((0,E.Ii)(i,F)),this.offsetObj=(0,E.Hw)(i)}static from(i){return new B(i.startOffset,i.endOffset,i.newLength)}}},67875:(Fe,Ne,m)=>{m.d(Ne,{Z:()=>F});var E=m(74243),g=m(45612),Y=m(79615),B=m(25453),D=m(21944);class i{constructor(y){this.map=y,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(y,C){function b(L,N){return C.getKey(`${L}:::${N}`)}const x=y.characterPair.getColorizedBrackets(),f=new Map,M=new Set;for(const[L,N]of x){M.add(L);let Z=f.get(N);const P=b(y.languageId,L);Z||(Z={openingBrackets:B.tS.getEmpty(),first:P},f.set(N,Z)),Z.openingBrackets=Z.openingBrackets.add(P,B.Qw)}const H=new Map;for(const[L,N]of f){const Z=(0,Y.Hg)(0,L.length);H.set(L,new D.WU(Z,2,N.first,N.openingBrackets,g.n2.create(Z,y.languageId,N.openingBrackets)))}for(const L of M){const N=(0,Y.Hg)(0,L.length),Z=b(y.languageId,L),P=B.tS.getEmpty().add(Z,B.Qw);H.set(L,new D.WU(N,1,Z,P,g.n2.create(N,y.languageId,P)))}return new i(H)}getRegExpStr(){if(this.isEmpty)return null;{const y=[...this.map.keys()];return y.sort(),y.reverse(),y.map(C=>function(k){const y=(0,E.ec)(k);return/^[\w ]+$/.test(k)?`\\b${y}\\b`:y}(C)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const y=this.getRegExpStr();this._regExpGlobal=y?new RegExp(y,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(y){return this.map.get(y)}findClosingTokenText(y){for(const[C,b]of this.map)if(b.bracketIds.intersects(y))return C}get isEmpty(){return 0===this.map.size}}class F{constructor(y,C){this.denseKeyProvider=y,this.getLanguageConfiguration=C,this.languageIdToBracketTokens=new Map}didLanguageChange(y){const C=this.languageIdToBracketTokens.get(y);if(!C)return!1;const b=i.createFromLanguage(this.getLanguageConfiguration(y),this.denseKeyProvider).getRegExpStr();return C.getRegExpStr()!==b}getSingleLanguageBracketTokens(y){let C=this.languageIdToBracketTokens.get(y);return C||(C=i.createFromLanguage(this.getLanguageConfiguration(y),this.denseKeyProvider),this.languageIdToBracketTokens.set(y,C)),C}}},79615:(Fe,Ne,m)=>{m.d(Ne,{av:()=>B,xl:()=>D,xd:()=>i,Hg:()=>F,Hw:()=>k,W9:()=>y,F_:()=>C,Ii:()=>b,BE:()=>x,VR:()=>f,By:()=>M,Zq:()=>H,PZ:()=>L,Qw:()=>N,oR:()=>Z});var E=m(74243),g=m(1873);class Y{constructor(I,$){this.lineCount=I,this.columnCount=$}toString(){return`${this.lineCount},${this.columnCount}`}}function B(P,I,$,U){return P!==$?F($-P,U):F(0,U-I)}Y.zero=new Y(0,0);const D=0;function i(P){return 0===P}const O=Math.pow(2,26);function F(P,I){return P*O+I}function k(P){const I=P,$=Math.floor(I/O);return new Y($,I-$*O)}function y(P){return Math.floor(P/O)}function C(P){return P}function b(P,I){return I<O?P+I:P-P%O+I}function x(P,I){const $=P,U=I;if(U-$<=0)return D;const oe=Math.floor($/O),de=Math.floor(U/O),fe=U-de*O;return oe===de?F(0,fe-($-oe*O)):F(de-oe,fe)}function f(P,I){return P<I}function M(P,I){return P<=I}function H(P,I){return P>=I}function L(P){return F(P.lineNumber-1,P.column-1)}function N(P,I){const $=P,U=Math.floor($/O),G=$-U*O,oe=I,de=Math.floor(oe/O);return new g.e(U+1,G+1,de+1,oe-de*O+1)}function Z(P){const I=(0,E.uq)(P);return F(I.length-1,I[I.length-1].length)}},95818:(Fe,Ne,m)=>{m.d(Ne,{w:()=>f});var E=m(45612),g=m(91500),Y=m(25453),B=m(79615);function i(H,L=!1){if(0===H.length)return null;if(1===H.length)return H[0];let N=H.length;for(;N>3;){const Z=N>>1;for(let P=0;P<Z;P++){const I=P<<1;H[P]=E.Y0.create23(H[I],H[I+1],I+3===N?H[I+2]:null,L)}N=Z}return E.Y0.create23(H[0],H[1],N>=3?H[2]:null,L)}function O(H,L){return Math.abs(H.listHeight-L.listHeight)}function F(H,L){return H.listHeight===L.listHeight?E.Y0.create23(H,L,null,!1):H.listHeight>L.listHeight?function(H,L){let N=H=H.toMutable();const Z=new Array;let P;for(;;){if(L.listHeight===N.listHeight){P=L;break}if(4!==N.kind)throw new Error("unexpected");Z.push(N),N=N.makeLastElementMutable()}for(let I=Z.length-1;I>=0;I--){const $=Z[I];P?$.childrenLength>=3?P=E.Y0.create23($.unappendChild(),P,null,!1):($.appendChildOfSameHeight(P),P=void 0):$.handleChildrenChanged()}return P?E.Y0.create23(H,P,null,!1):H}(H,L):function(H,L){let N=H=H.toMutable();const Z=new Array;for(;L.listHeight!==N.listHeight;){if(4!==N.kind)throw new Error("unexpected");Z.push(N),N=N.makeFirstElementMutable()}let P=L;for(let I=Z.length-1;I>=0;I--){const $=Z[I];P?$.childrenLength>=3?P=E.Y0.create23(P,$.unprependChild(),null,!1):($.prependChildOfSameHeight(P),P=void 0):$.handleChildrenChanged()}return P?E.Y0.create23(P,H,null,!1):H}(L,H)}class C{constructor(L){this.lastOffset=B.xl,this.nextNodes=[L],this.offsets=[B.xl],this.idxs=[]}readLongestNodeAt(L,N){if((0,B.VR)(L,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=L;;){const Z=x(this.nextNodes);if(!Z)return;const P=x(this.offsets);if((0,B.VR)(L,P))return;if((0,B.VR)(P,L))if((0,B.Ii)(P,Z.length)<=L)this.nextNodeAfterCurrent();else{const I=b(Z);-1!==I?(this.nextNodes.push(Z.getChild(I)),this.offsets.push(P),this.idxs.push(I)):this.nextNodeAfterCurrent()}else{if(N(Z))return this.nextNodeAfterCurrent(),Z;{const I=b(Z);if(-1===I)return void this.nextNodeAfterCurrent();this.nextNodes.push(Z.getChild(I)),this.offsets.push(P),this.idxs.push(I)}}}}nextNodeAfterCurrent(){for(;;){const L=x(this.offsets),N=x(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const Z=x(this.nextNodes),P=b(Z,this.idxs[this.idxs.length-1]);if(-1!==P){this.nextNodes.push(Z.getChild(P)),this.offsets.push((0,B.Ii)(L,N.length)),this.idxs[this.idxs.length-1]=P;break}this.idxs.pop()}}}function b(H,L=-1){for(;;){if(++L>=H.childrenLength)return-1;if(H.getChild(L))return L}}function x(H){return H.length>0?H[H.length-1]:void 0}function f(H,L,N,Z){return new M(H,L,N,Z).parseDocument()}class M{constructor(L,N,Z,P){if(this.tokenizer=L,this.createImmutableLists=P,this._itemsConstructed=0,this._itemsFromCache=0,Z&&P)throw new Error("Not supported");this.oldNodeReader=Z?new C(Z):void 0,this.positionMapper=new g.Y(N,L.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let L=this.parseList(Y.tS.getEmpty());return L||(L=E.Y0.getEmpty()),L}parseList(L){const N=new Array;for(;;){const P=this.tokenizer.peek();if(!P||2===P.kind&&P.bracketIds.intersects(L))break;const I=this.parseChild(L);4===I.kind&&0===I.childrenLength||N.push(I)}return this.oldNodeReader?function(H){if(0===H.length)return null;if(1===H.length)return H[0];let L=0;function N(){if(L>=H.length)return null;const $=L,U=H[$].listHeight;for(L++;L<H.length&&H[L].listHeight===U;)L++;return L-$>=2?i(0===$&&L===H.length?H:H.slice($,L),!1):H[$]}let Z=N(),P=N();if(!P)return Z;for(let $=N();$;$=N())O(Z,P)<=O(P,$)?(Z=F(Z,P),P=$):P=F(P,$);return F(Z,P)}(N):i(N,this.createImmutableLists)}parseChild(L){if(this.oldNodeReader){const Z=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,B.xd)(Z)){const P=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),I=>!!(0,B.VR)(I.length,Z)&&I.canBeReused(L));if(P)return this._itemsFromCache++,this.tokenizer.skip(P.length),P}}this._itemsConstructed++;const N=this.tokenizer.read();switch(N.kind){case 2:return new E.Dm(N.bracketIds,N.length);case 0:return N.astNode;case 1:{const Z=L.merge(N.bracketIds),P=this.parseList(Z),I=this.tokenizer.peek();return I&&2===I.kind&&(I.bracketId===N.bracketId||I.bracketIds.intersects(N.bracketIds))?(this.tokenizer.read(),E.Kd.create(N.astNode,P,I.astNode)):E.Kd.create(N.astNode,P,null)}default:throw new Error("unexpected")}}}},25453:(Fe,Ne,m)=>{m.d(Ne,{tS:()=>g,Qw:()=>Y,FE:()=>B});const E=new Array;class g{constructor(i,O){this.items=i,this.additionalItems=O}static create(i,O){if(i<=128&&0===O.length){let F=g.cache[i];return F||(F=new g(i,O),g.cache[i]=F),F}return new g(i,O)}static getEmpty(){return this.empty}add(i,O){const F=O.getKey(i);let k=F>>5;if(0===k){const C=1<<F|this.items;return C===this.items?this:g.create(C,this.additionalItems)}k--;const y=this.additionalItems.slice(0);for(;y.length<k;)y.push(0);return y[k]|=1<<(31&F),g.create(this.items,y)}merge(i){const O=this.items|i.items;if(this.additionalItems===E&&i.additionalItems===E)return O===this.items?this:O===i.items?i:g.create(O,E);const F=new Array;for(let k=0;k<Math.max(this.additionalItems.length,i.additionalItems.length);k++)F.push((this.additionalItems[k]||0)|(i.additionalItems[k]||0));return g.create(O,F)}intersects(i){if(0!=(this.items&i.items))return!0;for(let O=0;O<Math.min(this.additionalItems.length,i.additionalItems.length);O++)if(0!=(this.additionalItems[O]&i.additionalItems[O]))return!0;return!1}}g.cache=new Array(129),g.empty=g.create(0,E);const Y={getKey:D=>D};class B{constructor(){this.items=new Map}getKey(i){let O=this.items.get(i);return void 0===O&&(O=this.items.size,this.items.set(i,O)),O}}},21944:(Fe,Ne,m)=>{m.d(Ne,{WU:()=>i,xH:()=>O,g:()=>k});var E=m(13226),g=m(33979),Y=m(45612),B=m(79615),D=m(25453);class i{constructor(C,b,x,f,M){this.length=C,this.kind=b,this.bracketId=x,this.bracketIds=f,this.astNode=M}}class O{constructor(C,b){this.textModel=C,this.bracketTokens=b,this.reader=new F(this.textModel,this.bracketTokens),this._offset=B.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=C.getLineCount(),this.textBufferLastLineLength=C.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,B.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(C){this.didPeek=!1,this._offset=(0,B.Ii)(this._offset,C);const b=(0,B.Hw)(this._offset);this.reader.setPosition(b.lineCount,b.columnCount)}read(){let C;return this.peeked?(this.didPeek=!1,C=this.peeked):C=this.reader.read(),C&&(this._offset=(0,B.Ii)(this._offset,C.length)),C}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class F{constructor(C,b){this.textModel=C,this.bracketTokens=b,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=C.getLineCount(),this.textBufferLastLineLength=C.getLineLength(this.textBufferLineCount)}setPosition(C,b){C===this.lineIdx?(this.lineCharOffset=b,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=C,this.lineCharOffset=b,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const M=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,B.F_)(M.length),M}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const C=this.lineIdx,b=this.lineCharOffset;let x=0;for(;;){const M=this.lineTokens,H=M.getCount();let L=null;if(this.lineTokenOffset<H){const N=M.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<H&&N===M.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const Z=0===g.NX.getTokenType(N),P=M.getEndOffset(this.lineTokenOffset);if(Z&&P!==this.lineCharOffset){const I=M.getLanguageId(this.lineTokenOffset),$=this.line.substring(this.lineCharOffset,P),U=this.bracketTokens.getSingleLanguageBracketTokens(I),G=U.regExpGlobal;if(G){G.lastIndex=0;const oe=G.exec($);oe&&(L=U.getToken(oe[0]),L&&(this.lineCharOffset+=oe.index))}}if(x+=P-this.lineCharOffset,L){if(C!==this.lineIdx||b!==this.lineCharOffset){this.peekedToken=L;break}return this.lineCharOffset+=(0,B.F_)(L.length),L}this.lineTokenOffset++,this.lineCharOffset=P}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,x+=33,x>1e3))break;if(x>1500)break}const f=(0,B.av)(C,b,this.lineIdx,this.lineCharOffset);return new i(f,0,-1,D.tS.getEmpty(),new Y.BH(f))}}class k{constructor(C,b){this.text=C,this._offset=B.xl,this.idx=0;const f=b.getRegExpStr()?new RegExp(b.getRegExpStr()+"|\n","g"):null,M=[];let H,L=0,N=0,Z=0,P=0;const I=new Array;for(let G=0;G<60;G++)I.push(new i((0,B.Hg)(0,G),0,-1,D.tS.getEmpty(),new Y.BH((0,B.Hg)(0,G))));const $=new Array;for(let G=0;G<60;G++)$.push(new i((0,B.Hg)(1,G),0,-1,D.tS.getEmpty(),new Y.BH((0,B.Hg)(1,G))));if(f)for(f.lastIndex=0;null!==(H=f.exec(C));){const G=H.index,oe=H[0];if("\n"===oe)L++,N=G+1;else{if(Z!==G){let de;if(P===L){const fe=G-Z;if(fe<I.length)de=I[fe];else{const _e=(0,B.Hg)(0,fe);de=new i(_e,0,-1,D.tS.getEmpty(),new Y.BH(_e))}}else{const fe=L-P,_e=G-N;if(1===fe&&_e<$.length)de=$[_e];else{const we=(0,B.Hg)(fe,_e);de=new i(we,0,-1,D.tS.getEmpty(),new Y.BH(we))}}M.push(de)}M.push(b.getToken(oe)),Z=G+oe.length,P=L}}const U=C.length;if(Z!==U){const G=P===L?(0,B.Hg)(0,U-Z):(0,B.Hg)(L-P,U-N);M.push(new i(G,0,-1,D.tS.getEmpty(),new Y.BH(G)))}this.length=(0,B.Hg)(L,U-N),this.tokens=M}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(C){throw new E.B8}}},40822:(Fe,Ne,m)=>{m.d(Ne,{e9:()=>x,NL:()=>f});var E=m(12918),g=m(13226),Y=m(60745),B=m(85459),D=m(64978),i=m(90386),O=m(6228);function F(M){return M.toString()}class k{constructor(H,L,N,Z,P,I,$){this.beforeVersionId=H,this.afterVersionId=L,this.beforeEOL=N,this.afterEOL=Z,this.beforeCursorState=P,this.afterCursorState=I,this.changes=$}static create(H,L){const N=H.getAlternativeVersionId(),Z=b(H);return new k(N,N,Z,Z,L,L,[])}append(H,L,N,Z,P){L.length>0&&(this.changes=(0,D.b)(this.changes,L)),this.afterEOL=N,this.afterVersionId=Z,this.afterCursorState=P}static _writeSelectionsSize(H){return 4+16*(H?H.length:0)}static _writeSelections(H,L,N){if(i.T4(H,L?L.length:0,N),N+=4,L)for(const Z of L)i.T4(H,Z.selectionStartLineNumber,N),i.T4(H,Z.selectionStartColumn,N+=4),i.T4(H,Z.positionLineNumber,N+=4),i.T4(H,Z.positionColumn,N+=4),N+=4;return N}static _readSelections(H,L,N){const Z=i.Ag(H,L);L+=4;for(let P=0;P<Z;P++){const I=i.Ag(H,L),$=i.Ag(H,L+=4),U=i.Ag(H,L+=4),G=i.Ag(H,L+=4);L+=4,N.push(new Y.Y(I,$,U,G))}return L}serialize(){let H=10+k._writeSelectionsSize(this.beforeCursorState)+k._writeSelectionsSize(this.afterCursorState)+4;for(const Z of this.changes)H+=Z.writeSize();const L=new Uint8Array(H);let N=0;i.T4(L,this.beforeVersionId,N),N+=4,i.T4(L,this.afterVersionId,N),N+=4,i.Cg(L,this.beforeEOL,N),N+=1,i.Cg(L,this.afterEOL,N),N+=1,N=k._writeSelections(L,this.beforeCursorState,N),N=k._writeSelections(L,this.afterCursorState,N),i.T4(L,this.changes.length,N),N+=4;for(const Z of this.changes)N=Z.write(L,N);return L.buffer}static deserialize(H){const L=new Uint8Array(H);let N=0;const Z=i.Ag(L,N);N+=4;const P=i.Ag(L,N);N+=4;const I=i.Q$(L,N);N+=1;const $=i.Q$(L,N);N+=1;const U=[];N=k._readSelections(L,N,U);const G=[];N=k._readSelections(L,N,G);const oe=i.Ag(L,N);N+=4;const de=[];for(let fe=0;fe<oe;fe++)N=D.q.read(L,N,de);return new k(Z,P,I,$,U,G,de)}}class y{constructor(H,L){this.model=H,this._data=k.create(H,L)}get type(){return 0}get resource(){return B.o.isUri(this.model)?this.model:this.model.uri}get label(){return E.N("edit","Typing")}toString(){return(this._data instanceof k?this._data:k.deserialize(this._data)).changes.map(L=>L.toString()).join(", ")}matchesResource(H){return(B.o.isUri(this.model)?this.model:this.model.uri).toString()===H.toString()}setModel(H){this.model=H}canAppend(H){return this.model===H&&this._data instanceof k}append(H,L,N,Z,P){this._data instanceof k&&this._data.append(H,L,N,Z,P)}close(){this._data instanceof k&&(this._data=this._data.serialize())}open(){this._data instanceof k||(this._data=k.deserialize(this._data))}undo(){if(B.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof k&&(this._data=this._data.serialize());const H=k.deserialize(this._data);this.model._applyUndo(H.changes,H.beforeEOL,H.beforeVersionId,H.beforeCursorState)}redo(){if(B.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof k&&(this._data=this._data.serialize());const H=k.deserialize(this._data);this.model._applyRedo(H.changes,H.afterEOL,H.afterVersionId,H.afterCursorState)}heapSize(){return this._data instanceof k&&(this._data=this._data.serialize()),this._data.byteLength+168}}function b(M){return"\n"===M.getEOL()?0:1}function x(M){return!!M&&(M instanceof y||M instanceof class{constructor(H,L){this.type=1,this.label=H,this._isOpen=!0,this._editStackElementsArr=L.slice(0),this._editStackElementsMap=new Map;for(const N of this._editStackElementsArr){const Z=F(N.resource);this._editStackElementsMap.set(Z,N)}this._delegate=null}get resources(){return this._editStackElementsArr.map(H=>H.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(H){const L=F(H);return this._editStackElementsMap.has(L)}setModel(H){const L=F(B.o.isUri(H)?H:H.uri);this._editStackElementsMap.has(L)&&this._editStackElementsMap.get(L).setModel(H)}canAppend(H){if(!this._isOpen)return!1;const L=F(H.uri);return!!this._editStackElementsMap.has(L)&&this._editStackElementsMap.get(L).canAppend(H)}append(H,L,N,Z,P){const I=F(H.uri);this._editStackElementsMap.get(I).append(H,L,N,Z,P)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const H of this._editStackElementsArr)H.undo()}redo(){for(const H of this._editStackElementsArr)H.redo()}heapSize(H){const L=F(H);return this._editStackElementsMap.has(L)?this._editStackElementsMap.get(L).heapSize():0}split(){return this._editStackElementsArr}toString(){let H=[];for(const L of this._editStackElementsArr)H.push(`${(0,O.EZ)(L.resource)}: ${L}`);return`{${H.join(", ")}}`}})}class f{constructor(H,L){this._model=H,this._undoRedoService=L}pushStackElement(){const H=this._undoRedoService.getLastElement(this._model.uri);x(H)&&H.close()}popStackElement(){const H=this._undoRedoService.getLastElement(this._model.uri);x(H)&&H.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(H){const L=this._undoRedoService.getLastElement(this._model.uri);if(x(L)&&L.canAppend(this._model))return L;const N=new y(this._model,H);return this._undoRedoService.pushElement(N),N}pushEOL(H){const L=this._getOrCreateEditStackElement(null);this._model.setEOL(H),L.append(this._model,[],b(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(H,L,N){const Z=this._getOrCreateEditStackElement(H),P=this._model.applyEdits(L,!0),I=f._computeCursorState(N,P),$=P.map((U,G)=>({index:G,textChange:U.textChange}));return $.sort((U,G)=>U.textChange.oldPosition===G.textChange.oldPosition?U.index-G.index:U.textChange.oldPosition-G.textChange.oldPosition),Z.append(this._model,$.map(U=>U.textChange),b(this._model),this._model.getAlternativeVersionId(),I),I}static _computeCursorState(H,L){try{return H?H(L):null}catch(N){return(0,g.dL)(N),null}}}},21872:(Fe,Ne,m)=>{m.d(Ne,{W:()=>k,l:()=>F});var E=m(89822),g=m(74243),Y=m(90784),B=m(1873),i=m(50817),O=m(13151);class F extends class{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}{constructor(C,b){super(),this.textModel=C,this.languageConfigurationService=b}getLanguageConfiguration(C){return this.languageConfigurationService.getLanguageConfiguration(C)}_computeIndentLevel(C){return(0,i.q)(this.textModel.getLineContent(C+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(C,b,x){this.assertNotDisposed();const f=this.textModel.getLineCount();if(C<1||C>f)throw new Error("Illegal value for lineNumber");const M=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,H=Boolean(M&&M.offSide);let L=-2,N=-1,Z=-2,P=-1;const I=le=>{if(-1!==L&&(-2===L||L>le-1)){L=-1,N=-1;for(let ee=le-2;ee>=0;ee--){const J=this._computeIndentLevel(ee);if(J>=0){L=ee,N=J;break}}}if(-2===Z){Z=-1,P=-1;for(let ee=le;ee<f;ee++){const J=this._computeIndentLevel(ee);if(J>=0){Z=ee,P=J;break}}}};let $=-2,U=-1,G=-2,oe=-1;const de=le=>{if(-2===$){$=-1,U=-1;for(let ee=le-2;ee>=0;ee--){const J=this._computeIndentLevel(ee);if(J>=0){$=ee,U=J;break}}}if(-1!==G&&(-2===G||G<le-1)){G=-1,oe=-1;for(let ee=le;ee<f;ee++){const J=this._computeIndentLevel(ee);if(J>=0){G=ee,oe=J;break}}}};let fe=0,_e=!0,we=0,me=!0,Q=0,q=0;for(let le=0;_e||me;le++){const ee=C-le,J=C+le;le>1&&(ee<1||ee<b)&&(_e=!1),le>1&&(J>f||J>x)&&(me=!1),le>5e4&&(_e=!1,me=!1);let re=-1;if(_e&&ee>=1){const ve=this._computeIndentLevel(ee-1);ve>=0?(Z=ee-1,P=ve,re=Math.ceil(ve/this.textModel.getOptions().indentSize)):(I(ee),re=this._getIndentLevelForWhitespaceLine(H,N,P))}let ce=-1;if(me&&J<=f){const ve=this._computeIndentLevel(J-1);ve>=0?($=J-1,U=ve,ce=Math.ceil(ve/this.textModel.getOptions().indentSize)):(de(J),ce=this._getIndentLevelForWhitespaceLine(H,U,oe))}if(0!==le){if(1===le){if(J<=f&&ce>=0&&q+1===ce){_e=!1,fe=J,we=J,Q=ce;continue}if(ee>=1&&re>=0&&re-1===q){me=!1,fe=ee,we=ee,Q=re;continue}if(fe=C,we=C,Q=q,0===Q)return{startLineNumber:fe,endLineNumber:we,indent:Q}}_e&&(re>=Q?fe=ee:_e=!1),me&&(ce>=Q?we=J:me=!1)}else q=re}return{startLineNumber:fe,endLineNumber:we,indent:Q}}getLinesBracketGuides(C,b,x,f){var M,H,L,N,Z;const P=[],I=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new B.e(C,1,b,this.textModel.getLineMaxColumn(b)));let $;if(x&&I.length>0){const fe=C<=x.lineNumber&&x.lineNumber<=b?I.filter(_e=>B.e.strictContainsPosition(_e.range,x)):this.textModel.bracketPairs.getBracketPairsInRange(B.e.fromPositions(x));$=null===(M=(0,E.dF)(fe,_e=>_e.range.startLineNumber!==_e.range.endLineNumber))||void 0===M?void 0:M.range}const U=new E.H9(I),G=new Array,oe=new Array,de=new k;for(let fe=C;fe<=b;fe++){let _e=new Array;oe.length>0&&(_e=_e.concat(oe),oe.length=0),P.push(_e);for(const me of U.takeWhile(Q=>Q.openingBracketRange.startLineNumber<=fe)||[]){if(me.range.startLineNumber===me.range.endLineNumber)continue;const Q=Math.min(this.getVisibleColumnFromPosition(me.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition(null!==(L=null===(H=me.closingBracketRange)||void 0===H?void 0:H.getStartPosition())&&void 0!==L?L:me.range.getEndPosition()),me.minVisibleColumnIndentation+1);let q=!1;me.closingBracketRange&&g.LC(this.textModel.getLineContent(me.closingBracketRange.startLineNumber))<me.closingBracketRange.startColumn-1&&(q=!0);const le=me.openingBracketRange.getStartPosition(),ee=null!==(Z=null===(N=me.closingBracketRange)||void 0===N?void 0:N.getStartPosition())&&void 0!==Z?Z:me.range.getEndPosition();G[me.nestingLevel]=void 0===me.closingBracketRange?null:{nestingLevel:me.nestingLevel,guideVisibleColumn:Q,start:le,visibleStartColumn:this.getVisibleColumnFromPosition(le),end:ee,visibleEndColumn:this.getVisibleColumnFromPosition(ee),bracketPair:me,renderHorizontalEndLineAtTheBottom:q}}for(const me of G){if(!me)continue;const Q=$&&me.bracketPair.range.equalsRange($),q=de.getInlineClassNameOfLevel(me.nestingLevel)+(f.highlightActive&&Q?" "+de.activeClassName:"");(Q&&f.horizontalGuides!==O.s6.Disabled||f.includeInactive&&f.horizontalGuides===O.s6.Enabled)&&(me.start.lineNumber===fe&&me.guideVisibleColumn<me.visibleStartColumn&&_e.push(new O.UO(me.guideVisibleColumn,q,new O.vW(!1,me.start.column))),me.end.lineNumber===fe+1&&me.guideVisibleColumn<me.visibleEndColumn&&oe.push(new O.UO(me.guideVisibleColumn,q,new O.vW(!me.renderHorizontalEndLineAtTheBottom,me.end.column))))}let we=Number.MAX_SAFE_INTEGER;for(let me=G.length-1;me>=0;me--){const Q=G[me];if(!Q)continue;const q=f.highlightActive&&$&&Q.bracketPair.range.equalsRange($),le=de.getInlineClassNameOfLevel(Q.nestingLevel)+(q?" "+de.activeClassName:"");(q||f.includeInactive)&&Q.renderHorizontalEndLineAtTheBottom&&Q.end.lineNumber===fe+1&&oe.push(new O.UO(Q.guideVisibleColumn,le,null)),!(Q.end.lineNumber<=fe||Q.start.lineNumber>=fe)&&(Q.guideVisibleColumn>=we&&!q||(we=Q.guideVisibleColumn,(q||f.includeInactive)&&_e.push(new O.UO(Q.guideVisibleColumn,le,null))))}_e.sort((me,Q)=>me.visibleColumn-Q.visibleColumn)}return P}getVisibleColumnFromPosition(C){return Y.i.visibleColumnFromColumn(this.textModel.getLineContent(C.lineNumber),C.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(C,b){this.assertNotDisposed();const x=this.textModel.getLineCount();if(C<1||C>x)throw new Error("Illegal value for startLineNumber");if(b<1||b>x)throw new Error("Illegal value for endLineNumber");const f=this.textModel.getOptions(),M=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,H=Boolean(M&&M.offSide),L=new Array(b-C+1);let N=-2,Z=-1,P=-2,I=-1;for(let $=C;$<=b;$++){const U=$-C,G=this._computeIndentLevel($-1);if(G>=0)N=$-1,Z=G,L[U]=Math.ceil(G/f.indentSize);else{if(-2===N){N=-1,Z=-1;for(let oe=$-2;oe>=0;oe--){const de=this._computeIndentLevel(oe);if(de>=0){N=oe,Z=de;break}}}if(-1!==P&&(-2===P||P<$-1)){P=-1,I=-1;for(let oe=$;oe<x;oe++){const de=this._computeIndentLevel(oe);if(de>=0){P=oe,I=de;break}}}L[U]=this._getIndentLevelForWhitespaceLine(H,Z,I)}}return L}_getIndentLevelForWhitespaceLine(C,b,x){const f=this.textModel.getOptions();return-1===b||-1===x?0:b<x?1+Math.floor(b/f.indentSize):b===x||C?Math.ceil(x/f.indentSize):1+Math.floor(x/f.indentSize)}}class k{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(C){return"bracket-indent-guide lvl-"+C%30}}},69798:(Fe,Ne,m)=>{m.d(Ne,{oQ:()=>Y,Ck:()=>B});var E=m(89822),g=m(68733);class Y{constructor(O){this.values=O,this.prefixSum=new Uint32Array(O.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(O,F){O=(0,g.A)(O);const k=this.values,y=this.prefixSum,C=F.length;return 0!==C&&(this.values=new Uint32Array(k.length+C),this.values.set(k.subarray(0,O),0),this.values.set(k.subarray(O),O+C),this.values.set(F,O),O-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=O-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(y.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(O,F){return O=(0,g.A)(O),F=(0,g.A)(F),this.values[O]!==F&&(this.values[O]=F,O-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=O-1),!0)}removeValues(O,F){O=(0,g.A)(O),F=(0,g.A)(F);const k=this.values,y=this.prefixSum;if(O>=k.length)return!1;const C=k.length-O;return F>=C&&(F=C),0!==F&&(this.values=new Uint32Array(k.length-F),this.values.set(k.subarray(0,O),0),this.values.set(k.subarray(O+F),O),this.prefixSum=new Uint32Array(this.values.length),O-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=O-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(y.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(O){return O<0?0:(O=(0,g.A)(O),this._getPrefixSum(O))}_getPrefixSum(O){if(O<=this.prefixSumValidIndex[0])return this.prefixSum[O];let F=this.prefixSumValidIndex[0]+1;0===F&&(this.prefixSum[0]=this.values[0],F++),O>=this.values.length&&(O=this.values.length-1);for(let k=F;k<=O;k++)this.prefixSum[k]=this.prefixSum[k-1]+this.values[k];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],O),this.prefixSum[O]}getIndexOf(O){O=Math.floor(O),this.getTotalSum();let F=0,k=this.values.length-1,y=0,C=0,b=0;for(;F<=k;)if(y=F+(k-F)/2|0,C=this.prefixSum[y],b=C-this.values[y],O<b)k=y-1;else{if(!(O>=C))break;F=y+1}return new D(y,O-b)}}class B{constructor(O){this._values=O,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(O){return this._ensureValid(),0===O?0:this._prefixSum[O-1]}getIndexOf(O){this._ensureValid();const F=this._indexBySum[O];return new D(F,O-(F>0?this._prefixSum[F-1]:0))}removeValues(O,F){this._values.splice(O,F),this._invalidate(O)}insertValues(O,F){this._values=(0,E.Zv)(this._values,O,F),this._invalidate(O)}_invalidate(O){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,O-1)}_ensureValid(){if(!this._isValid){for(let O=this._validEndIndex+1,F=this._values.length;O<F;O++){const k=this._values[O],y=O>0?this._prefixSum[O-1]:0;this._prefixSum[O]=y+k;for(let C=0;C<k;C++)this._indexBySum[y+C]=O}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(O,F){this._values[O]!==F&&(this._values[O]=F,this._invalidate(O))}}class D{constructor(O,F){this.index=O,this.remainder=F,this._prefixSumIndexOfResultBrand=void 0,this.index=O,this.remainder=F}}},45023:(Fe,Ne,m)=>{m.d(Ne,{HS:()=>Ki,qx:()=>Do,yO:()=>Lo});var E=m(89822),g=m(81897),Y=m(13226),B=m(71040),D=m(40189),i=m(74243),O=m(85459),F=m(67947),k=m(1873),y=m(60745),C=m(80067);class b{constructor(h,S,W){this.range=h,this.nestingLevel=S,this.isInvalid=W}}class f extends class{constructor(h,S,W,te){this.range=h,this.openingBracketRange=S,this.closingBracketRange=W,this.nestingLevel=te}}{constructor(h,S,W,te,ae){super(h,S,W,te),this.minVisibleColumnIndentation=ae}}var M=m(91500),H=m(67875),L=m(79615),N=m(95818),Z=m(25453),P=m(21944);class I extends D.JT{constructor(h,S){if(super(),this.textModel=h,this.getLanguageConfiguration=S,this.didChangeEmitter=new B.Q5,this.denseKeyProvider=new Z.FE,this.brackets=new H.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,0===h.backgroundTokenizationState){const W=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),te=new P.g(this.textModel.getValue(),W);this.initialAstWithoutTokens=(0,N.w)(te,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===h.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===h.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(h){return this.brackets.didLanguageChange(h)}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.backgroundTokenizationState){const h=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,h||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:h}){const S=h.map(W=>new M.Q((0,L.Hg)(W.fromLineNumber-1,0),(0,L.Hg)(W.toLineNumber,0),(0,L.Hg)(W.toLineNumber-W.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(S,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(h){const S=h.changes.map(W=>{const te=k.e.lift(W.range);return new M.Q((0,L.PZ)(te.getStartPosition()),(0,L.PZ)(te.getEndPosition()),(0,L.oR)(W.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(S,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(S,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(h,S,W){const ae=S,be=new P.xH(this.textModel,this.brackets);return(0,N.w)(be,h,ae,W)}getBracketsInRange(h){const S=(0,L.Hg)(h.startLineNumber-1,h.startColumn-1),W=(0,L.Hg)(h.endLineNumber-1,h.endColumn-1),te=new Array,ae=this.initialAstWithoutTokens||this.astWithTokens;return $(ae,L.xl,ae.length,S,W,te),te}getBracketPairsInRange(h,S){const W=new Array,te=(0,L.PZ)(h.getStartPosition()),ae=(0,L.PZ)(h.getEndPosition()),be=this.initialAstWithoutTokens||this.astWithTokens,Oe=new U(W,S,this.textModel);return G(be,L.xl,be.length,te,ae,Oe),W}}function $(A,h,S,W,te,ae,be=0){if(4===A.kind)for(const Oe of A.children)S=(0,L.Ii)(h,Oe.length),(0,L.By)(h,te)&&(0,L.Zq)(S,W)&&$(Oe,h,S,W,te,ae,be),h=S;else if(2===A.kind){if(be++,S=(0,L.Ii)(h,A.openingBracket.length),(0,L.By)(h,te)&&(0,L.Zq)(S,W)){const Re=(0,L.Qw)(h,S);ae.push(new b(Re,be-1,!A.closingBracket))}if(h=S,A.child){const Oe=A.child;S=(0,L.Ii)(h,Oe.length),(0,L.By)(h,te)&&(0,L.Zq)(S,W)&&$(Oe,h,S,W,te,ae,be),h=S}if(A.closingBracket){if(S=(0,L.Ii)(h,A.closingBracket.length),(0,L.By)(h,te)&&(0,L.Zq)(S,W)){const Re=(0,L.Qw)(h,S);ae.push(new b(Re,be-1,!1))}h=S}}else if(3===A.kind){const Oe=(0,L.Qw)(h,S);ae.push(new b(Oe,be-1,!0))}else if(1===A.kind){const Oe=(0,L.Qw)(h,S);ae.push(new b(Oe,be-1,!1))}}class U{constructor(h,S,W){this.result=h,this.includeMinIndentation=S,this.textModel=W}}function G(A,h,S,W,te,ae,be=0){var Oe;if(2===A.kind){const Ze=(0,L.Ii)(h,A.openingBracket.length);let Je=-1;ae.includeMinIndentation&&(Je=A.computeMinIndentation(h,ae.textModel)),ae.result.push(new f((0,L.Qw)(h,S),(0,L.Qw)(h,Ze),A.closingBracket?(0,L.Qw)((0,L.Ii)(Ze,(null===(Oe=A.child)||void 0===Oe?void 0:Oe.length)||L.xl),S):void 0,be,Je)),be++}let Re=h;for(const Ze of A.children){const Je=Re;Re=(0,L.Ii)(Re,Ze.length),(0,L.By)(Je,te)&&(0,L.By)(W,Re)&&G(Ze,Je,Re,W,te,ae,be)}}var oe=m(20595),de=m(29675);class fe extends D.JT{constructor(h,S){super(),this.textModel=h,this.languageConfigurationService=S,this.bracketPairsTree=this._register(new D.XK),this.onDidChangeEmitter=new B.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(W=>{var te;(!W.languageId||(null===(te=this.bracketPairsTree.value)||void 0===te?void 0:te.object.didLanguageChange(W.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(h){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(h){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(h){var S;null===(S=this.bracketPairsTree.value)||void 0===S||S.object.handleContentChanged(h)}handleDidChangeBackgroundTokenizationState(){var h;null===(h=this.bracketPairsTree.value)||void 0===h||h.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(h){var S;null===(S=this.bracketPairsTree.value)||void 0===S||S.object.handleDidChangeTokens(h)}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const h=new D.SL;this.bracketPairsTree.value=function(A,h){return{object:A,dispose:()=>null==h?void 0:h.dispose()}}(h.add(new I(this.textModel,S=>this.languageConfigurationService.getLanguageConfiguration(S))),h),h.add(this.bracketPairsTree.value.object.onDidChange(S=>this.onDidChangeEmitter.fire(S))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(h){var S;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(S=this.bracketPairsTree.value)||void 0===S?void 0:S.object.getBracketPairsInRange(h,!1))||[]}getBracketPairsInRangeWithMinIndentation(h){var S;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(S=this.bracketPairsTree.value)||void 0===S?void 0:S.object.getBracketPairsInRange(h,!0))||[]}getBracketsInRange(h){var S;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(S=this.bracketPairsTree.value)||void 0===S?void 0:S.object.getBracketsInRange(h))||[]}findMatchingBracketUp(h,S,W){const te=h.toLowerCase(),ae=this.textModel.validatePosition(S),be=this.textModel.getLanguageIdAtPosition(ae.lineNumber,ae.column),Oe=this.languageConfigurationService.getLanguageConfiguration(be).brackets;if(!Oe)return null;const Re=Oe.textIsBracket[te];return Re?Q(this._findMatchingBracketUp(Re,ae,we(W))):null}matchBracket(h,S){const W=we(S);return this._matchBracket(this.textModel.validatePosition(h),W)}_establishBracketSearchOffsets(h,S,W,te){const ae=S.getCount(),be=S.getLanguageId(te);let Oe=Math.max(0,h.column-1-W.maxBracketLength);for(let Ze=te-1;Ze>=0;Ze--){const Je=S.getEndOffset(Ze);if(Je<=Oe)break;if((0,oe.Bu)(S.getStandardTokenType(Ze))||S.getLanguageId(Ze)!==be){Oe=Je;break}}let Re=Math.min(S.getLineContent().length,h.column-1+W.maxBracketLength);for(let Ze=te+1;Ze<ae;Ze++){const Je=S.getStartOffset(Ze);if(Je>=Re)break;if((0,oe.Bu)(S.getStandardTokenType(Ze))||S.getLanguageId(Ze)!==be){Re=Je;break}}return{searchStartOffset:Oe,searchEndOffset:Re}}_matchBracket(h,S){const W=h.lineNumber,te=this.textModel.getLineTokens(W),ae=this.textModel.getLineContent(W),be=te.findTokenIndexAtOffset(h.column-1);if(be<0)return null;const Oe=this.languageConfigurationService.getLanguageConfiguration(te.getLanguageId(be)).brackets;if(Oe&&!(0,oe.Bu)(te.getStandardTokenType(be))){let{searchStartOffset:Re,searchEndOffset:Ze}=this._establishBracketSearchOffsets(h,te,Oe,be),Je=null;for(;;){const it=de.Vr.findNextBracketInRange(Oe.forwardRegex,W,ae,Re,Ze);if(!it)break;if(it.startColumn<=h.column&&h.column<=it.endColumn){const ft=ae.substring(it.startColumn-1,it.endColumn-1).toLowerCase(),gt=this._matchFoundBracket(it,Oe.textIsBracket[ft],Oe.textIsOpenBracket[ft],S);if(gt){if(gt instanceof me)return null;Je=gt}}Re=it.endColumn-1}if(Je)return Je}if(be>0&&te.getStartOffset(be)===h.column-1){const Re=be-1,Ze=this.languageConfigurationService.getLanguageConfiguration(te.getLanguageId(Re)).brackets;if(Ze&&!(0,oe.Bu)(te.getStandardTokenType(Re))){const{searchStartOffset:Je,searchEndOffset:it}=this._establishBracketSearchOffsets(h,te,Ze,Re),ft=de.Vr.findPrevBracketInRange(Ze.reversedRegex,W,ae,Je,it);if(ft&&ft.startColumn<=h.column&&h.column<=ft.endColumn){const gt=ae.substring(ft.startColumn-1,ft.endColumn-1).toLowerCase(),Nt=this._matchFoundBracket(ft,Ze.textIsBracket[gt],Ze.textIsOpenBracket[gt],S);if(Nt)return Nt instanceof me?null:Nt}}}return null}_matchFoundBracket(h,S,W,te){if(!S)return null;const ae=W?this._findMatchingBracketDown(S,h.getEndPosition(),te):this._findMatchingBracketUp(S,h.getStartPosition(),te);return ae?ae instanceof me?ae:[h,ae]:null}_findMatchingBracketUp(h,S,W){const te=h.languageId,ae=h.reversedRegex;let be=-1,Oe=0;const Re=(Ze,Je,it,ft)=>{for(;;){if(W&&++Oe%100==0&&!W())return me.INSTANCE;const gt=de.Vr.findPrevBracketInRange(ae,Ze,Je,it,ft);if(!gt)break;const Nt=Je.substring(gt.startColumn-1,gt.endColumn-1).toLowerCase();if(h.isOpen(Nt)?be++:h.isClose(Nt)&&be--,0===be)return gt;ft=gt.startColumn-1}return null};for(let Ze=S.lineNumber;Ze>=1;Ze--){const Je=this.textModel.getLineTokens(Ze),it=Je.getCount(),ft=this.textModel.getLineContent(Ze);let gt=it-1,Nt=ft.length,Wt=ft.length;Ze===S.lineNumber&&(gt=Je.findTokenIndexAtOffset(S.column-1),Nt=S.column-1,Wt=S.column-1);let Gt=!0;for(;gt>=0;gt--){const Nn=Je.getLanguageId(gt)===te&&!(0,oe.Bu)(Je.getStandardTokenType(gt));if(Nn)Gt?Nt=Je.getStartOffset(gt):(Nt=Je.getStartOffset(gt),Wt=Je.getEndOffset(gt));else if(Gt&&Nt!==Wt){const qn=Re(Ze,ft,Nt,Wt);if(qn)return qn}Gt=Nn}if(Gt&&Nt!==Wt){const Nn=Re(Ze,ft,Nt,Wt);if(Nn)return Nn}}return null}_findMatchingBracketDown(h,S,W){const te=h.languageId,ae=h.forwardRegex;let be=1,Oe=0;const Re=(Je,it,ft,gt)=>{for(;;){if(W&&++Oe%100==0&&!W())return me.INSTANCE;const Nt=de.Vr.findNextBracketInRange(ae,Je,it,ft,gt);if(!Nt)break;const Wt=it.substring(Nt.startColumn-1,Nt.endColumn-1).toLowerCase();if(h.isOpen(Wt)?be++:h.isClose(Wt)&&be--,0===be)return Nt;ft=Nt.endColumn-1}return null},Ze=this.textModel.getLineCount();for(let Je=S.lineNumber;Je<=Ze;Je++){const it=this.textModel.getLineTokens(Je),ft=it.getCount(),gt=this.textModel.getLineContent(Je);let Nt=0,Wt=0,Gt=0;Je===S.lineNumber&&(Nt=it.findTokenIndexAtOffset(S.column-1),Wt=S.column-1,Gt=S.column-1);let Nn=!0;for(;Nt<ft;Nt++){const qn=it.getLanguageId(Nt)===te&&!(0,oe.Bu)(it.getStandardTokenType(Nt));if(qn)Nn||(Wt=it.getStartOffset(Nt)),Gt=it.getEndOffset(Nt);else if(Nn&&Wt!==Gt){const di=Re(Je,gt,Wt,Gt);if(di)return di}Nn=qn}if(Nn&&Wt!==Gt){const qn=Re(Je,gt,Wt,Gt);if(qn)return qn}}return null}findPrevBracket(h){const S=this.textModel.validatePosition(h);let W=null,te=null;for(let ae=S.lineNumber;ae>=1;ae--){const be=this.textModel.getLineTokens(ae),Oe=be.getCount(),Re=this.textModel.getLineContent(ae);let Ze=Oe-1,Je=Re.length,it=Re.length;if(ae===S.lineNumber){Ze=be.findTokenIndexAtOffset(S.column-1),Je=S.column-1,it=S.column-1;const gt=be.getLanguageId(Ze);W!==gt&&(W=gt,te=this.languageConfigurationService.getLanguageConfiguration(W).brackets)}let ft=!0;for(;Ze>=0;Ze--){const gt=be.getLanguageId(Ze);if(W!==gt){if(te&&ft&&Je!==it){const Wt=de.Vr.findPrevBracketInRange(te.reversedRegex,ae,Re,Je,it);if(Wt)return this._toFoundBracket(te,Wt);ft=!1}W=gt,te=this.languageConfigurationService.getLanguageConfiguration(W).brackets}const Nt=!!te&&!(0,oe.Bu)(be.getStandardTokenType(Ze));if(Nt)ft?Je=be.getStartOffset(Ze):(Je=be.getStartOffset(Ze),it=be.getEndOffset(Ze));else if(te&&ft&&Je!==it){const Wt=de.Vr.findPrevBracketInRange(te.reversedRegex,ae,Re,Je,it);if(Wt)return this._toFoundBracket(te,Wt)}ft=Nt}if(te&&ft&&Je!==it){const gt=de.Vr.findPrevBracketInRange(te.reversedRegex,ae,Re,Je,it);if(gt)return this._toFoundBracket(te,gt)}}return null}findNextBracket(h){const S=this.textModel.validatePosition(h),W=this.textModel.getLineCount();let te=null,ae=null;for(let be=S.lineNumber;be<=W;be++){const Oe=this.textModel.getLineTokens(be),Re=Oe.getCount(),Ze=this.textModel.getLineContent(be);let Je=0,it=0,ft=0;if(be===S.lineNumber){Je=Oe.findTokenIndexAtOffset(S.column-1),it=S.column-1,ft=S.column-1;const Nt=Oe.getLanguageId(Je);te!==Nt&&(te=Nt,ae=this.languageConfigurationService.getLanguageConfiguration(te).brackets)}let gt=!0;for(;Je<Re;Je++){const Nt=Oe.getLanguageId(Je);if(te!==Nt){if(ae&&gt&&it!==ft){const Gt=de.Vr.findNextBracketInRange(ae.forwardRegex,be,Ze,it,ft);if(Gt)return this._toFoundBracket(ae,Gt);gt=!1}te=Nt,ae=this.languageConfigurationService.getLanguageConfiguration(te).brackets}const Wt=!!ae&&!(0,oe.Bu)(Oe.getStandardTokenType(Je));if(Wt)gt||(it=Oe.getStartOffset(Je)),ft=Oe.getEndOffset(Je);else if(ae&&gt&&it!==ft){const Gt=de.Vr.findNextBracketInRange(ae.forwardRegex,be,Ze,it,ft);if(Gt)return this._toFoundBracket(ae,Gt)}gt=Wt}if(ae&&gt&&it!==ft){const Nt=de.Vr.findNextBracketInRange(ae.forwardRegex,be,Ze,it,ft);if(Nt)return this._toFoundBracket(ae,Nt)}}return null}findEnclosingBrackets(h,S){const W=we(S),te=this.textModel.validatePosition(h),ae=this.textModel.getLineCount(),be=new Map;let Oe=[];const Re=(gt,Nt)=>{if(!be.has(gt)){const Wt=[];for(let Gt=0,Nn=Nt?Nt.brackets.length:0;Gt<Nn;Gt++)Wt[Gt]=0;be.set(gt,Wt)}Oe=be.get(gt)};let Ze=0;const Je=(gt,Nt,Wt,Gt,Nn)=>{for(;;){if(W&&++Ze%100==0&&!W())return me.INSTANCE;const qn=de.Vr.findNextBracketInRange(gt.forwardRegex,Nt,Wt,Gt,Nn);if(!qn)break;const di=Wt.substring(qn.startColumn-1,qn.endColumn-1).toLowerCase(),_t=gt.textIsBracket[di];if(_t&&(_t.isOpen(di)?Oe[_t.index]++:_t.isClose(di)&&Oe[_t.index]--,-1===Oe[_t.index]))return this._matchFoundBracket(qn,_t,!1,W);Gt=qn.endColumn-1}return null};let it=null,ft=null;for(let gt=te.lineNumber;gt<=ae;gt++){const Nt=this.textModel.getLineTokens(gt),Wt=Nt.getCount(),Gt=this.textModel.getLineContent(gt);let Nn=0,qn=0,di=0;if(gt===te.lineNumber){Nn=Nt.findTokenIndexAtOffset(te.column-1),qn=te.column-1,di=te.column-1;const Pi=Nt.getLanguageId(Nn);it!==Pi&&(it=Pi,ft=this.languageConfigurationService.getLanguageConfiguration(it).brackets,Re(it,ft))}let _t=!0;for(;Nn<Wt;Nn++){const Pi=Nt.getLanguageId(Nn);if(it!==Pi){if(ft&&_t&&qn!==di){const mo=Je(ft,gt,Gt,qn,di);if(mo)return Q(mo);_t=!1}it=Pi,ft=this.languageConfigurationService.getLanguageConfiguration(it).brackets,Re(it,ft)}const ci=!!ft&&!(0,oe.Bu)(Nt.getStandardTokenType(Nn));if(ci)_t||(qn=Nt.getStartOffset(Nn)),di=Nt.getEndOffset(Nn);else if(ft&&_t&&qn!==di){const mo=Je(ft,gt,Gt,qn,di);if(mo)return Q(mo)}_t=ci}if(ft&&_t&&qn!==di){const Pi=Je(ft,gt,Gt,qn,di);if(Pi)return Q(Pi)}}return null}_toFoundBracket(h,S){if(!S)return null;let W=this.textModel.getValueInRange(S);W=W.toLowerCase();const te=h.textIsBracket[W];return te?{range:S,open:te.open,close:te.close,isOpen:h.textIsOpenBracket[W]}:null}}function we(A){if(void 0===A)return()=>!0;{const h=Date.now();return()=>Date.now()-h<=A}}class me{constructor(){this._searchCanceledBrand=void 0}}function Q(A){return A instanceof me?null:A}me.INSTANCE=new me;var q=m(79695),le=m(53323);class ee extends D.JT{constructor(h){super(),this.textModel=h,this.colorProvider=new J,this.onDidChangeEmitter=new B.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=h.getOptions().bracketPairColorizationOptions,this._register(h.bracketPairs.onDidChange(S=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(h){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(h,S,W){if(void 0===S)return[];if(!this.colorizationOptions.enabled)return[];const te=new Array,ae=this.textModel.bracketPairs.getBracketsInRange(h);for(const be of ae)te.push({id:`bracket${be.range.toString()}-${be.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(be)},ownerId:0,range:be.range});return te}getAllDecorations(h,S){return void 0===h?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new k.e(1,1,this.textModel.getLineCount(),1),h,S):[]}}class J{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(h){return h.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(h.nestingLevel)}getInlineClassNameOfLevel(h){return"bracket-highlighting-"+h%30}}(0,le.Ic)((A,h)=>{const S=[q.zJ,q.Vs,q.CE,q.UP,q.r0,q.m1],W=new J;h.addRule(`.monaco-editor .${W.unexpectedClosingBracketClassName} { color: ${A.getColor(q.ts)}; }`);const te=S.map(ae=>A.getColor(ae)).filter(ae=>!!ae).filter(ae=>!ae.isTransparent());for(let ae=0;ae<30;ae++){const be=te[ae%te.length];h.addRule(`.monaco-editor .${W.getInlineClassNameOfLevel(ae)} { color: ${be}; }`)}});var re=m(40822),ce=m(21872);class ve{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function ke(A,h,S,W,te){let ae;for(te.spacesDiff=0,te.looksLikeAlignment=!1,ae=0;ae<h&&ae<W&&A.charCodeAt(ae)===S.charCodeAt(ae);ae++);let be=0,Oe=0;for(let ft=ae;ft<h;ft++)32===A.charCodeAt(ft)?be++:Oe++;let Re=0,Ze=0;for(let ft=ae;ft<W;ft++)32===S.charCodeAt(ft)?Re++:Ze++;if(be>0&&Oe>0||Re>0&&Ze>0)return;const Je=Math.abs(Oe-Ze),it=Math.abs(be-Re);if(0===Je)return te.spacesDiff=it,void(it>0&&0<=Re-1&&Re-1<A.length&&Re<S.length&&32!==S.charCodeAt(Re)&&32===A.charCodeAt(Re-1)&&44===A.charCodeAt(A.length-1)&&(te.looksLikeAlignment=!0));it%Je!=0||(te.spacesDiff=it/Je)}function We(A,h,S){const W=Math.min(A.getLineCount(),1e4);let te=0,ae=0,be="",Oe=0;const Re=[2,4,6,8,3,5,7],Je=[0,0,0,0,0,0,0,0,0],it=new ve;for(let Nt=1;Nt<=W;Nt++){const Wt=A.getLineLength(Nt),Gt=A.getLineContent(Nt),Nn=Wt<=65536;let qn=!1,di=0,_t=0,Pi=0;for(let mo=0,As=Wt;mo<As;mo++){const ps=Nn?Gt.charCodeAt(mo):A.getLineCharCode(Nt,mo);if(9===ps)Pi++;else{if(32!==ps){qn=!0,di=mo;break}_t++}}if(!qn||(Pi>0?te++:_t>1&&ae++,ke(be,Oe,Gt,di,it),it.looksLikeAlignment&&(!S||h!==it.spacesDiff)))continue;const ci=it.spacesDiff;ci<=8&&Je[ci]++,be=Gt,Oe=di}let ft=S;te!==ae&&(ft=te<ae);let gt=h;if(ft){let Nt=ft?0:.1*W;Re.forEach(Wt=>{const Gt=Je[Wt];Gt>Nt&&(Nt=Gt,gt=Wt)}),4===gt&&Je[4]>0&&Je[2]>0&&Je[2]>=Je[4]/2&&(gt=2)}return{insertSpaces:ft,tabSize:gt}}function je(A){return(1&A.metadata)>>>0}function ue(A,h){A.metadata=254&A.metadata|h<<0}function Ce(A){return(2&A.metadata)>>>1==1}function Ae(A,h){A.metadata=253&A.metadata|(h?1:0)<<1}function et(A){return(4&A.metadata)>>>2==1}function $e(A,h){A.metadata=251&A.metadata|(h?1:0)<<2}function rt(A,h){A.metadata=231&A.metadata|h<<3}function nt(A,h){A.metadata=223&A.metadata|(h?1:0)<<5}class xe{constructor(h,S,W){this.metadata=0,this.parent=this,this.left=this,this.right=this,ue(this,1),this.start=S,this.end=W,this.delta=0,this.maxEnd=W,this.id=h,this.ownerId=0,this.options=null,$e(this,!1),rt(this,1),nt(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=S,this.cachedAbsoluteEnd=W,this.range=null,Ae(this,!1)}reset(h,S,W,te){this.start=S,this.end=W,this.maxEnd=W,this.cachedVersionId=h,this.cachedAbsoluteStart=S,this.cachedAbsoluteEnd=W,this.range=te}setOptions(h){this.options=h;const S=this.options.className;$e(this,"squiggly-error"===S||"squiggly-warning"===S||"squiggly-info"===S),rt(this,this.options.stickiness),nt(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(h,S,W){this.cachedVersionId!==W&&(this.range=null),this.cachedVersionId=W,this.cachedAbsoluteStart=h,this.cachedAbsoluteEnd=S}detach(){this.parent=null,this.left=null,this.right=null}}const Ie=new xe(null,0,0);Ie.parent=Ie,Ie.left=Ie,Ie.right=Ie,ue(Ie,0);class at{constructor(){this.root=Ie,this.requestNormalizeDelta=!1}intervalSearch(h,S,W,te,ae){return this.root===Ie?[]:function(A,h,S,W,te,ae){let be=A.root,Oe=0,Re=0,Ze=0,Je=0;const it=[];let ft=0;for(;be!==Ie;)if(Ce(be))Ae(be.left,!1),Ae(be.right,!1),be===be.parent.right&&(Oe-=be.parent.delta),be=be.parent;else{if(!Ce(be.left)){if(Re=Oe+be.maxEnd,Re<h){Ae(be,!0);continue}if(be.left!==Ie){be=be.left;continue}}if(Ze=Oe+be.start,Ze>S)Ae(be,!0);else{if(Je=Oe+be.end,Je>=h){be.setCachedOffsets(Ze,Je,ae);let gt=!0;W&&be.ownerId&&be.ownerId!==W&&(gt=!1),te&&et(be)&&(gt=!1),gt&&(it[ft++]=be)}Ae(be,!0),be.right===Ie||Ce(be.right)||(Oe+=be.delta,be=be.right)}}return Ae(A.root,!1),it}(this,h,S,W,te,ae)}search(h,S,W){return this.root===Ie?[]:function(A,h,S,W){let te=A.root,ae=0,be=0,Oe=0;const Re=[];let Ze=0;for(;te!==Ie;){if(Ce(te)){Ae(te.left,!1),Ae(te.right,!1),te===te.parent.right&&(ae-=te.parent.delta),te=te.parent;continue}if(te.left!==Ie&&!Ce(te.left)){te=te.left;continue}be=ae+te.start,Oe=ae+te.end,te.setCachedOffsets(be,Oe,W);let Je=!0;h&&te.ownerId&&te.ownerId!==h&&(Je=!1),S&&et(te)&&(Je=!1),Je&&(Re[Ze++]=te),Ae(te,!0),te.right===Ie||Ce(te.right)||(ae+=te.delta,te=te.right)}return Ae(A.root,!1),Re}(this,h,S,W)}collectNodesFromOwner(h){return function(A,h){let S=A.root;const W=[];let te=0;for(;S!==Ie;)Ce(S)?(Ae(S.left,!1),Ae(S.right,!1),S=S.parent):S.left===Ie||Ce(S.left)?(S.ownerId===h&&(W[te++]=S),Ae(S,!0),S.right===Ie||Ce(S.right)||(S=S.right)):S=S.left;return Ae(A.root,!1),W}(this,h)}collectNodesPostOrder(){return function(A){let h=A.root;const S=[];let W=0;for(;h!==Ie;)Ce(h)?(Ae(h.left,!1),Ae(h.right,!1),h=h.parent):h.left===Ie||Ce(h.left)?h.right===Ie||Ce(h.right)?(S[W++]=h,Ae(h,!0)):h=h.right:h=h.left;return Ae(A.root,!1),S}(this)}insert(h){Et(this,h),this._normalizeDeltaIfNecessary()}delete(h){sn(this,h),this._normalizeDeltaIfNecessary()}resolveNode(h,S){const W=h;let te=0;for(;h!==this.root;)h===h.parent.right&&(te+=h.parent.delta),h=h.parent;W.setCachedOffsets(W.start+te,W.end+te,S)}acceptReplace(h,S,W,te){const ae=function(A,h,S){let W=A.root,te=0,ae=0,be=0,Oe=0;const Re=[];let Ze=0;for(;W!==Ie;)if(Ce(W))Ae(W.left,!1),Ae(W.right,!1),W===W.parent.right&&(te-=W.parent.delta),W=W.parent;else{if(!Ce(W.left)){if(ae=te+W.maxEnd,ae<h){Ae(W,!0);continue}if(W.left!==Ie){W=W.left;continue}}be=te+W.start,be>S?Ae(W,!0):(Oe=te+W.end,Oe>=h&&(W.setCachedOffsets(be,Oe,0),Re[Ze++]=W),Ae(W,!0),W.right===Ie||Ce(W.right)||(te+=W.delta,W=W.right))}return Ae(A.root,!1),Re}(this,h,h+S);for(let be=0,Oe=ae.length;be<Oe;be++)sn(this,ae[be]);this._normalizeDeltaIfNecessary(),function(A,h,S,W){let te=A.root,ae=0,be=0,Oe=0;const Re=W-(S-h);for(;te!==Ie;)if(Ce(te))Ae(te.left,!1),Ae(te.right,!1),te===te.parent.right&&(ae-=te.parent.delta),At(te),te=te.parent;else{if(!Ce(te.left)){if(be=ae+te.maxEnd,be<h){Ae(te,!0);continue}if(te.left!==Ie){te=te.left;continue}}Oe=ae+te.start,Oe>S?(te.start+=Re,te.end+=Re,te.delta+=Re,(te.delta<-1073741824||te.delta>1073741824)&&(A.requestNormalizeDelta=!0),Ae(te,!0)):(Ae(te,!0),te.right===Ie||Ce(te.right)||(ae+=te.delta,te=te.right))}Ae(A.root,!1)}(this,h,h+S,W),this._normalizeDeltaIfNecessary();for(let be=0,Oe=ae.length;be<Oe;be++){const Re=ae[be];Re.start=Re.cachedAbsoluteStart,Re.end=Re.cachedAbsoluteEnd,mn(Re,h,h+S,W,te),Re.maxEnd=Re.end,Et(this,Re)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,function(A){let h=A.root,S=0;for(;h!==Ie;)h.left===Ie||Ce(h.left)?h.right===Ie||Ce(h.right)?(h.start=S+h.start,h.end=S+h.end,h.delta=0,At(h),Ae(h,!0),Ae(h.left,!1),Ae(h.right,!1),h===h.parent.right&&(S-=h.parent.delta),h=h.parent):(S+=h.delta,h=h.right):h=h.left;Ae(A.root,!1)}(this))}}function Ut(A,h,S,W){return A<S||!(A>S||1===W)&&(2===W||h)}function mn(A,h,S,W,te){const ae=function(A){return(24&A.metadata)>>>3}(A),be=0===ae||2===ae,Oe=1===ae||2===ae,Re=S-h,Ze=W,Je=Math.min(Re,Ze),it=A.start;let ft=!1;const gt=A.end;let Nt=!1;h<=it&&gt<=S&&function(A){return(32&A.metadata)>>>5==1}(A)&&(A.start=h,ft=!0,A.end=h,Nt=!0);{const Gt=te?1:Re>0?2:0;!ft&&Ut(it,be,h,Gt)&&(ft=!0),!Nt&&Ut(gt,Oe,h,Gt)&&(Nt=!0)}if(Je>0&&!te){const Gt=Re>Ze?2:0;!ft&&Ut(it,be,h+Je,Gt)&&(ft=!0),!Nt&&Ut(gt,Oe,h+Je,Gt)&&(Nt=!0)}{const Gt=te?1:0;!ft&&Ut(it,be,S,Gt)&&(A.start=h+Ze,ft=!0),!Nt&&Ut(gt,Oe,S,Gt)&&(A.end=h+Ze,Nt=!0)}const Wt=Ze-Re;ft||(A.start=Math.max(0,it+Wt)),Nt||(A.end=Math.max(0,gt+Wt)),A.start>A.end&&(A.end=A.start)}function Et(A,h){if(A.root===Ie)return h.parent=Ie,h.left=Ie,h.right=Ie,ue(h,0),A.root=h,A.root;(function(A,h){let S=0,W=A.root;const te=h.start,ae=h.end;for(;;)if(Xt(te,ae,W.start+S,W.end+S)<0){if(W.left===Ie){h.start-=S,h.end-=S,h.maxEnd-=S,W.left=h;break}W=W.left}else{if(W.right===Ie){h.start-=S+W.delta,h.end-=S+W.delta,h.maxEnd-=S+W.delta,W.right=h;break}S+=W.delta,W=W.right}h.parent=W,h.left=Ie,h.right=Ie,ue(h,1)})(A,h),Bi(h.parent);let S=h;for(;S!==A.root&&1===je(S.parent);)if(S.parent===S.parent.parent.left){const W=S.parent.parent.right;1===je(W)?(ue(S.parent,0),ue(W,0),ue(S.parent.parent,1),S=S.parent.parent):(S===S.parent.right&&(S=S.parent,Mt(A,S)),ue(S.parent,0),ue(S.parent.parent,1),Yn(A,S.parent.parent))}else{const W=S.parent.parent.left;1===je(W)?(ue(S.parent,0),ue(W,0),ue(S.parent.parent,1),S=S.parent.parent):(S===S.parent.left&&(S=S.parent,Yn(A,S)),ue(S.parent,0),ue(S.parent.parent,1),Mt(A,S.parent.parent))}return ue(A.root,0),h}function sn(A,h){let S,W;if(h.left===Ie?(S=h.right,W=h,S.delta+=h.delta,(S.delta<-1073741824||S.delta>1073741824)&&(A.requestNormalizeDelta=!0),S.start+=h.delta,S.end+=h.delta):h.right===Ie?(S=h.left,W=h):(W=function(A){for(;A.left!==Ie;)A=A.left;return A}(h.right),S=W.right,S.start+=W.delta,S.end+=W.delta,S.delta+=W.delta,(S.delta<-1073741824||S.delta>1073741824)&&(A.requestNormalizeDelta=!0),W.start+=h.delta,W.end+=h.delta,W.delta=h.delta,(W.delta<-1073741824||W.delta>1073741824)&&(A.requestNormalizeDelta=!0)),W===A.root)return A.root=S,ue(S,0),h.detach(),Rt(),At(S),void(A.root.parent=Ie);const te=1===je(W);if(W===W.parent.left?W.parent.left=S:W.parent.right=S,W===h?S.parent=W.parent:(S.parent=W.parent===h?W:W.parent,W.left=h.left,W.right=h.right,W.parent=h.parent,ue(W,je(h)),h===A.root?A.root=W:h===h.parent.left?h.parent.left=W:h.parent.right=W,W.left!==Ie&&(W.left.parent=W),W.right!==Ie&&(W.right.parent=W)),h.detach(),te)return Bi(S.parent),W!==h&&(Bi(W),Bi(W.parent)),void Rt();let ae;for(Bi(S),Bi(S.parent),W!==h&&(Bi(W),Bi(W.parent));S!==A.root&&0===je(S);)S===S.parent.left?(ae=S.parent.right,1===je(ae)&&(ue(ae,0),ue(S.parent,1),Mt(A,S.parent),ae=S.parent.right),0===je(ae.left)&&0===je(ae.right)?(ue(ae,1),S=S.parent):(0===je(ae.right)&&(ue(ae.left,0),ue(ae,1),Yn(A,ae),ae=S.parent.right),ue(ae,je(S.parent)),ue(S.parent,0),ue(ae.right,0),Mt(A,S.parent),S=A.root)):(ae=S.parent.left,1===je(ae)&&(ue(ae,0),ue(S.parent,1),Yn(A,S.parent),ae=S.parent.left),0===je(ae.left)&&0===je(ae.right)?(ue(ae,1),S=S.parent):(0===je(ae.left)&&(ue(ae.right,0),ue(ae,1),Mt(A,ae),ae=S.parent.left),ue(ae,je(S.parent)),ue(S.parent,0),ue(ae.left,0),Yn(A,S.parent),S=A.root));ue(S,0),Rt()}function Rt(){Ie.parent=Ie,Ie.delta=0,Ie.start=0,Ie.end=0}function Mt(A,h){const S=h.right;S.delta+=h.delta,(S.delta<-1073741824||S.delta>1073741824)&&(A.requestNormalizeDelta=!0),S.start+=h.delta,S.end+=h.delta,h.right=S.left,S.left!==Ie&&(S.left.parent=h),S.parent=h.parent,h.parent===Ie?A.root=S:h===h.parent.left?h.parent.left=S:h.parent.right=S,S.left=h,h.parent=S,At(h),At(S)}function Yn(A,h){const S=h.left;h.delta-=S.delta,(h.delta<-1073741824||h.delta>1073741824)&&(A.requestNormalizeDelta=!0),h.start-=S.delta,h.end-=S.delta,h.left=S.right,S.right!==Ie&&(S.right.parent=h),S.parent=h.parent,h.parent===Ie?A.root=S:h===h.parent.right?h.parent.right=S:h.parent.left=S,S.right=h,h.parent=S,At(h),At(S)}function xi(A){let h=A.end;if(A.left!==Ie){const S=A.left.maxEnd;S>h&&(h=S)}if(A.right!==Ie){const S=A.right.maxEnd+A.delta;S>h&&(h=S)}return h}function At(A){A.maxEnd=xi(A)}function Bi(A){for(;A!==Ie;){const h=xi(A);if(A.maxEnd===h)return;A.maxEnd=h,A=A.parent}}function Xt(A,h,S,W){return A===S?h-W:A-S}class He{constructor(h,S){this.piece=h,this.color=S,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Ue)return on(this.right);let h=this;for(;h.parent!==Ue&&h.parent.left!==h;)h=h.parent;return h.parent===Ue?Ue:h.parent}prev(){if(this.left!==Ue)return Sn(this.left);let h=this;for(;h.parent!==Ue&&h.parent.right!==h;)h=h.parent;return h.parent===Ue?Ue:h.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Ue=new He(null,0);function on(A){for(;A.left!==Ue;)A=A.left;return A}function Sn(A){for(;A.right!==Ue;)A=A.right;return A}function ai(A){return A===Ue?0:A.size_left+A.piece.length+ai(A.right)}function bi(A){return A===Ue?0:A.lf_left+A.piece.lineFeedCnt+bi(A.right)}function ki(){Ue.parent=Ue}function Li(A,h){const S=h.right;S.size_left+=h.size_left+(h.piece?h.piece.length:0),S.lf_left+=h.lf_left+(h.piece?h.piece.lineFeedCnt:0),h.right=S.left,S.left!==Ue&&(S.left.parent=h),S.parent=h.parent,h.parent===Ue?A.root=S:h.parent.left===h?h.parent.left=S:h.parent.right=S,S.left=h,h.parent=S}function wi(A,h){const S=h.left;h.left=S.right,S.right!==Ue&&(S.right.parent=h),S.parent=h.parent,h.size_left-=S.size_left+(S.piece?S.piece.length:0),h.lf_left-=S.lf_left+(S.piece?S.piece.lineFeedCnt:0),h.parent===Ue?A.root=S:h===h.parent.right?h.parent.right=S:h.parent.left=S,S.right=h,h.parent=S}function Dt(A,h){let S,W;if(h.left===Ue?(W=h,S=W.right):h.right===Ue?(W=h,S=W.left):(W=on(h.right),S=W.right),W===A.root)return A.root=S,S.color=0,h.detach(),ki(),void(A.root.parent=Ue);const te=1===W.color;if(W===W.parent.left?W.parent.left=S:W.parent.right=S,W===h?(S.parent=W.parent,bn(A,S)):(S.parent=W.parent===h?W:W.parent,bn(A,S),W.left=h.left,W.right=h.right,W.parent=h.parent,W.color=h.color,h===A.root?A.root=W:h===h.parent.left?h.parent.left=W:h.parent.right=W,W.left!==Ue&&(W.left.parent=W),W.right!==Ue&&(W.right.parent=W),W.size_left=h.size_left,W.lf_left=h.lf_left,bn(A,W)),h.detach(),S.parent.left===S){const be=ai(S),Oe=bi(S);if(be!==S.parent.size_left||Oe!==S.parent.lf_left){const Re=be-S.parent.size_left,Ze=Oe-S.parent.lf_left;S.parent.size_left=be,S.parent.lf_left=Oe,Yt(A,S.parent,Re,Ze)}}if(bn(A,S.parent),te)return void ki();let ae;for(;S!==A.root&&0===S.color;)S===S.parent.left?(ae=S.parent.right,1===ae.color&&(ae.color=0,S.parent.color=1,Li(A,S.parent),ae=S.parent.right),0===ae.left.color&&0===ae.right.color?(ae.color=1,S=S.parent):(0===ae.right.color&&(ae.left.color=0,ae.color=1,wi(A,ae),ae=S.parent.right),ae.color=S.parent.color,S.parent.color=0,ae.right.color=0,Li(A,S.parent),S=A.root)):(ae=S.parent.left,1===ae.color&&(ae.color=0,S.parent.color=1,wi(A,S.parent),ae=S.parent.left),0===ae.left.color&&0===ae.right.color?(ae.color=1,S=S.parent):(0===ae.left.color&&(ae.right.color=0,ae.color=1,Li(A,ae),ae=S.parent.left),ae.color=S.parent.color,S.parent.color=0,ae.left.color=0,wi(A,S.parent),S=A.root));S.color=0,ki()}function Lt(A,h){for(bn(A,h);h!==A.root&&1===h.parent.color;)if(h.parent===h.parent.parent.left){const S=h.parent.parent.right;1===S.color?(h.parent.color=0,S.color=0,h.parent.parent.color=1,h=h.parent.parent):(h===h.parent.right&&Li(A,h=h.parent),h.parent.color=0,h.parent.parent.color=1,wi(A,h.parent.parent))}else{const S=h.parent.parent.left;1===S.color?(h.parent.color=0,S.color=0,h.parent.parent.color=1,h=h.parent.parent):(h===h.parent.left&&wi(A,h=h.parent),h.parent.color=0,h.parent.parent.color=1,Li(A,h.parent.parent))}A.root.color=0}function Yt(A,h,S,W){for(;h!==A.root&&h!==Ue;)h.parent.left===h&&(h.parent.size_left+=S,h.parent.lf_left+=W),h=h.parent}function bn(A,h){let S=0,W=0;if(h!==A.root){for(;h!==A.root&&h===h.parent.right;)h=h.parent;if(h!==A.root)for(S=ai((h=h.parent).left)-h.size_left,W=bi(h.left)-h.lf_left,h.size_left+=S,h.lf_left+=W;h!==A.root&&(0!==S||0!==W);)h.parent.left===h&&(h.parent.size_left+=S,h.parent.lf_left+=W),h=h.parent}}Ue.parent=Ue,Ue.left=Ue,Ue.right=Ue,Ue.color=0;var Kt=m(82711);const Ve=65535;function Qe(A){let h;return h=A[A.length-1]<65536?new Uint16Array(A.length):new Uint32Array(A.length),h.set(A,0),h}class ct{constructor(h,S,W,te,ae){this.lineStarts=h,this.cr=S,this.lf=W,this.crlf=te,this.isBasicASCII=ae}}function xt(A,h=!0){const S=[0];let W=1;for(let te=0,ae=A.length;te<ae;te++){const be=A.charCodeAt(te);13===be?te+1<ae&&10===A.charCodeAt(te+1)?(S[W++]=te+2,te++):S[W++]=te+1:10===be&&(S[W++]=te+1)}return h?Qe(S):S}class en{constructor(h,S,W,te,ae){this.bufferIndex=h,this.start=S,this.end=W,this.lineFeedCnt=te,this.length=ae}}class hn{constructor(h,S){this.buffer=h,this.lineStarts=S}}class yn{constructor(h,S){this._pieces=[],this._tree=h,this._BOM=S,this._index=0,h.root!==Ue&&h.iterate(h.root,W=>(W!==Ue&&this._pieces.push(W.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class _n{constructor(h){this._limit=h,this._cache=[]}get(h){for(let S=this._cache.length-1;S>=0;S--){const W=this._cache[S];if(W.nodeStartOffset<=h&&W.nodeStartOffset+W.node.piece.length>=h)return W}return null}get2(h){for(let S=this._cache.length-1;S>=0;S--){const W=this._cache[S];if(W.nodeStartLineNumber&&W.nodeStartLineNumber<h&&W.nodeStartLineNumber+W.node.piece.lineFeedCnt>=h)return W}return null}set(h){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(h)}validate(h){let S=!1;const W=this._cache;for(let te=0;te<W.length;te++){const ae=W[te];(null===ae.node.parent||ae.nodeStartOffset>=h)&&(W[te]=null,S=!0)}if(S){const te=[];for(const ae of W)null!==ae&&te.push(ae);this._cache=te}}}class wn{constructor(h,S,W){this.create(h,S,W)}create(h,S,W){this._buffers=[new hn("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Ue,this._lineCnt=1,this._length=0,this._EOL=S,this._EOLLength=S.length,this._EOLNormalized=W;let te=null;for(let ae=0,be=h.length;ae<be;ae++)if(h[ae].buffer.length>0){h[ae].lineStarts||(h[ae].lineStarts=xt(h[ae].buffer));const Oe=new en(ae+1,{line:0,column:0},{line:h[ae].lineStarts.length-1,column:h[ae].buffer.length-h[ae].lineStarts[h[ae].lineStarts.length-1]},h[ae].lineStarts.length-1,h[ae].buffer.length);this._buffers.push(h[ae]),te=this.rbInsertRight(te,Oe)}this._searchCache=new _n(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(h){const W=65535-Math.floor(21845),te=2*W;let ae="",be=0;const Oe=[];if(this.iterate(this.root,Re=>{const Ze=this.getNodeContent(Re),Je=Ze.length;if(be<=W||be+Je<te)return ae+=Ze,be+=Je,!0;const it=ae.replace(/\r\n|\r|\n/g,h);return Oe.push(new hn(it,xt(it))),ae=Ze,be=Je,!0}),be>0){const Re=ae.replace(/\r\n|\r|\n/g,h);Oe.push(new hn(Re,xt(Re)))}this.create(Oe,h,!0)}getEOL(){return this._EOL}setEOL(h){this._EOL=h,this._EOLLength=this._EOL.length,this.normalizeEOL(h)}createSnapshot(h){return new yn(this,h)}getOffsetAt(h,S){let W=0,te=this.root;for(;te!==Ue;)if(te.left!==Ue&&te.lf_left+1>=h)te=te.left;else{if(te.lf_left+te.piece.lineFeedCnt+1>=h)return W+=te.size_left,W+(this.getAccumulatedValue(te,h-te.lf_left-2)+S-1);h-=te.lf_left+te.piece.lineFeedCnt,W+=te.size_left+te.piece.length,te=te.right}return W}getPositionAt(h){h=Math.floor(h),h=Math.max(0,h);let S=this.root,W=0;const te=h;for(;S!==Ue;)if(0!==S.size_left&&S.size_left>=h)S=S.left;else{if(S.size_left+S.piece.length>=h){const ae=this.getIndexOf(S,h-S.size_left);if(W+=S.lf_left+ae.index,0===ae.index){const be=this.getOffsetAt(W+1,1);return new F.L(W+1,te-be+1)}return new F.L(W+1,ae.remainder+1)}if(h-=S.size_left+S.piece.length,W+=S.lf_left+S.piece.lineFeedCnt,S.right===Ue){const ae=this.getOffsetAt(W+1,1);return new F.L(W+1,te-h-ae+1)}S=S.right}return new F.L(1,1)}getValueInRange(h,S){if(h.startLineNumber===h.endLineNumber&&h.startColumn===h.endColumn)return"";const W=this.nodeAt2(h.startLineNumber,h.startColumn),te=this.nodeAt2(h.endLineNumber,h.endColumn),ae=this.getValueInRange2(W,te);return S?S===this._EOL&&this._EOLNormalized&&S===this.getEOL()&&this._EOLNormalized?ae:ae.replace(/\r\n|\r|\n/g,S):ae}getValueInRange2(h,S){if(h.node===S.node){const Oe=h.node,Re=this._buffers[Oe.piece.bufferIndex].buffer,Ze=this.offsetInBuffer(Oe.piece.bufferIndex,Oe.piece.start);return Re.substring(Ze+h.remainder,Ze+S.remainder)}let W=h.node;const te=this._buffers[W.piece.bufferIndex].buffer,ae=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);let be=te.substring(ae+h.remainder,ae+W.piece.length);for(W=W.next();W!==Ue;){const Oe=this._buffers[W.piece.bufferIndex].buffer,Re=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);if(W===S.node){be+=Oe.substring(Re,Re+S.remainder);break}be+=Oe.substr(Re,W.piece.length),W=W.next()}return be}getLinesContent(){const h=[];let S=0,W="",te=!1;return this.iterate(this.root,ae=>{if(ae===Ue)return!0;const be=ae.piece;let Oe=be.length;if(0===Oe)return!0;const Re=this._buffers[be.bufferIndex].buffer,Ze=this._buffers[be.bufferIndex].lineStarts,Je=be.start.line,it=be.end.line;let ft=Ze[Je]+be.start.column;if(te&&(10===Re.charCodeAt(ft)&&(ft++,Oe--),h[S++]=W,W="",te=!1,0===Oe))return!0;if(Je===it)return this._EOLNormalized||13!==Re.charCodeAt(ft+Oe-1)?W+=Re.substr(ft,Oe):(te=!0,W+=Re.substr(ft,Oe-1)),!0;W+=this._EOLNormalized?Re.substring(ft,Math.max(ft,Ze[Je+1]-this._EOLLength)):Re.substring(ft,Ze[Je+1]).replace(/(\r\n|\r|\n)$/,""),h[S++]=W;for(let gt=Je+1;gt<it;gt++)W=this._EOLNormalized?Re.substring(Ze[gt],Ze[gt+1]-this._EOLLength):Re.substring(Ze[gt],Ze[gt+1]).replace(/(\r\n|\r|\n)$/,""),h[S++]=W;return this._EOLNormalized||13!==Re.charCodeAt(Ze[it]+be.end.column-1)?W=Re.substr(Ze[it],be.end.column):(te=!0,0===be.end.column?S--:W=Re.substr(Ze[it],be.end.column-1)),!0}),te&&(h[S++]=W,W=""),h[S++]=W,h}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(h){return this._lastVisitedLine.lineNumber===h||(this._lastVisitedLine.lineNumber=h,this._lastVisitedLine.value=h===this._lineCnt?this.getLineRawContent(h):this._EOLNormalized?this.getLineRawContent(h,this._EOLLength):this.getLineRawContent(h).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(h){if(h.remainder===h.node.piece.length){const S=h.node.next();if(!S)return 0;const W=this._buffers[S.piece.bufferIndex],te=this.offsetInBuffer(S.piece.bufferIndex,S.piece.start);return W.buffer.charCodeAt(te)}{const S=this._buffers[h.node.piece.bufferIndex],te=this.offsetInBuffer(h.node.piece.bufferIndex,h.node.piece.start)+h.remainder;return S.buffer.charCodeAt(te)}}getLineCharCode(h,S){const W=this.nodeAt2(h,S+1);return this._getCharCode(W)}getLineLength(h){if(h===this.getLineCount()){const S=this.getOffsetAt(h,1);return this.getLength()-S}return this.getOffsetAt(h+1,1)-this.getOffsetAt(h,1)-this._EOLLength}findMatchesInNode(h,S,W,te,ae,be,Oe,Re,Ze,Je,it){const ft=this._buffers[h.piece.bufferIndex],gt=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start),Nt=this.offsetInBuffer(h.piece.bufferIndex,ae),Wt=this.offsetInBuffer(h.piece.bufferIndex,be);let Gt;const Nn={line:0,column:0};let qn,di;S._wordSeparators?(qn=ft.buffer.substring(Nt,Wt),di=_t=>_t+Nt,S.reset(0)):(qn=ft.buffer,di=_t=>_t,S.reset(Nt));do{if(Gt=S.next(qn),Gt){if(di(Gt.index)>=Wt)return Je;this.positionInBuffer(h,di(Gt.index)-gt,Nn);const _t=this.getLineFeedCnt(h.piece.bufferIndex,ae,Nn),Pi=Nn.line===ae.line?Nn.column-ae.column+te:Nn.column+1;if(it[Je++]=(0,Kt.iE)(new k.e(W+_t,Pi,W+_t,Pi+Gt[0].length),Gt,Re),di(Gt.index)+Gt[0].length>=Wt||Je>=Ze)return Je}}while(Gt);return Je}findMatchesLineByLine(h,S,W,te){const ae=[];let be=0;const Oe=new Kt.sz(S.wordSeparators,S.regex);let Re=this.nodeAt2(h.startLineNumber,h.startColumn);if(null===Re)return[];const Ze=this.nodeAt2(h.endLineNumber,h.endColumn);if(null===Ze)return[];let Je=this.positionInBuffer(Re.node,Re.remainder);const it=this.positionInBuffer(Ze.node,Ze.remainder);if(Re.node===Ze.node)return this.findMatchesInNode(Re.node,Oe,h.startLineNumber,h.startColumn,Je,it,S,W,te,be,ae),ae;let ft=h.startLineNumber,gt=Re.node;for(;gt!==Ze.node;){const Wt=this.getLineFeedCnt(gt.piece.bufferIndex,Je,gt.piece.end);if(Wt>=1){const Nn=this._buffers[gt.piece.bufferIndex].lineStarts,qn=this.offsetInBuffer(gt.piece.bufferIndex,gt.piece.start);if(be=this.findMatchesInNode(gt,Oe,ft,ft===h.startLineNumber?h.startColumn:1,Je,this.positionInBuffer(gt,Nn[Je.line+Wt]-qn),S,W,te,be,ae),be>=te)return ae;ft+=Wt}const Gt=ft===h.startLineNumber?h.startColumn-1:0;if(ft===h.endLineNumber){const Nn=this.getLineContent(ft).substring(Gt,h.endColumn-1);return be=this._findMatchesInLine(S,Oe,Nn,h.endLineNumber,Gt,be,ae,W,te),ae}if(be=this._findMatchesInLine(S,Oe,this.getLineContent(ft).substr(Gt),ft,Gt,be,ae,W,te),be>=te)return ae;ft++,Re=this.nodeAt2(ft,1),gt=Re.node,Je=this.positionInBuffer(Re.node,Re.remainder)}if(ft===h.endLineNumber){const Wt=ft===h.startLineNumber?h.startColumn-1:0,Gt=this.getLineContent(ft).substring(Wt,h.endColumn-1);return be=this._findMatchesInLine(S,Oe,Gt,h.endLineNumber,Wt,be,ae,W,te),ae}return be=this.findMatchesInNode(Ze.node,Oe,ft,ft===h.startLineNumber?h.startColumn:1,Je,it,S,W,te,be,ae),ae}_findMatchesInLine(h,S,W,te,ae,be,Oe,Re,Ze){const Je=h.wordSeparators;if(!Re&&h.simpleSearch){const ft=h.simpleSearch,gt=ft.length,Nt=W.length;let Wt=-gt;for(;-1!==(Wt=W.indexOf(ft,Wt+gt));)if((!Je||(0,Kt.cM)(Je,W,Nt,Wt,gt))&&(Oe[be++]=new C.tk(new k.e(te,Wt+1+ae,te,Wt+1+gt+ae),null),be>=Ze))return be;return be}let it;S.reset(0);do{if(it=S.next(W),it&&(Oe[be++]=(0,Kt.iE)(new k.e(te,it.index+1+ae,te,it.index+1+it[0].length+ae),it,Re),be>=Ze))return be}while(it);return be}insert(h,S,W=!1){if(this._EOLNormalized=this._EOLNormalized&&W,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Ue){const{node:te,remainder:ae,nodeStartOffset:be}=this.nodeAt(h),Oe=te.piece,Re=Oe.bufferIndex,Ze=this.positionInBuffer(te,ae);if(0===te.piece.bufferIndex&&Oe.end.line===this._lastChangeBufferPos.line&&Oe.end.column===this._lastChangeBufferPos.column&&be+Oe.length===h&&S.length<Ve)return this.appendToNode(te,S),void this.computeBufferMetadata();if(be===h)this.insertContentToNodeLeft(S,te),this._searchCache.validate(h);else if(be+te.piece.length>h){const Je=[];let it=new en(Oe.bufferIndex,Ze,Oe.end,this.getLineFeedCnt(Oe.bufferIndex,Ze,Oe.end),this.offsetInBuffer(Re,Oe.end)-this.offsetInBuffer(Re,Ze));if(this.shouldCheckCRLF()&&this.endWithCR(S)&&10===this.nodeCharCodeAt(te,ae)){const Wt={line:it.start.line+1,column:0};it=new en(it.bufferIndex,Wt,it.end,this.getLineFeedCnt(it.bufferIndex,Wt,it.end),it.length-1),S+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(S))if(13===this.nodeCharCodeAt(te,ae-1)){const Wt=this.positionInBuffer(te,ae-1);this.deleteNodeTail(te,Wt),S="\r"+S,0===te.piece.length&&Je.push(te)}else this.deleteNodeTail(te,Ze);else this.deleteNodeTail(te,Ze);const ft=this.createNewPieces(S);it.length>0&&this.rbInsertRight(te,it);let gt=te;for(let Nt=0;Nt<ft.length;Nt++)gt=this.rbInsertRight(gt,ft[Nt]);this.deleteNodes(Je)}else this.insertContentToNodeRight(S,te)}else{const te=this.createNewPieces(S);let ae=this.rbInsertLeft(null,te[0]);for(let be=1;be<te.length;be++)ae=this.rbInsertRight(ae,te[be])}this.computeBufferMetadata()}delete(h,S){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",S<=0||this.root===Ue)return;const W=this.nodeAt(h),te=this.nodeAt(h+S),ae=W.node,be=te.node;if(ae===be){const ft=this.positionInBuffer(ae,W.remainder),gt=this.positionInBuffer(ae,te.remainder);if(W.nodeStartOffset===h){if(S===ae.piece.length){const Nt=ae.next();return Dt(this,ae),this.validateCRLFWithPrevNode(Nt),void this.computeBufferMetadata()}return this.deleteNodeHead(ae,gt),this._searchCache.validate(h),this.validateCRLFWithPrevNode(ae),void this.computeBufferMetadata()}return W.nodeStartOffset+ae.piece.length===h+S?(this.deleteNodeTail(ae,ft),this.validateCRLFWithNextNode(ae),void this.computeBufferMetadata()):(this.shrinkNode(ae,ft,gt),void this.computeBufferMetadata())}const Oe=[],Re=this.positionInBuffer(ae,W.remainder);this.deleteNodeTail(ae,Re),this._searchCache.validate(h),0===ae.piece.length&&Oe.push(ae);const Ze=this.positionInBuffer(be,te.remainder);this.deleteNodeHead(be,Ze),0===be.piece.length&&Oe.push(be);for(let ft=ae.next();ft!==Ue&&ft!==be;ft=ft.next())Oe.push(ft);const it=0===ae.piece.length?ae.prev():ae;this.deleteNodes(Oe),this.validateCRLFWithNextNode(it),this.computeBufferMetadata()}insertContentToNodeLeft(h,S){const W=[];if(this.shouldCheckCRLF()&&this.endWithCR(h)&&this.startWithLF(S)){const be=S.piece,Oe={line:be.start.line+1,column:0},Re=new en(be.bufferIndex,Oe,be.end,this.getLineFeedCnt(be.bufferIndex,Oe,be.end),be.length-1);S.piece=Re,h+="\n",Yt(this,S,-1,-1),0===S.piece.length&&W.push(S)}const te=this.createNewPieces(h);let ae=this.rbInsertLeft(S,te[te.length-1]);for(let be=te.length-2;be>=0;be--)ae=this.rbInsertLeft(ae,te[be]);this.validateCRLFWithPrevNode(ae),this.deleteNodes(W)}insertContentToNodeRight(h,S){this.adjustCarriageReturnFromNext(h,S)&&(h+="\n");const W=this.createNewPieces(h),te=this.rbInsertRight(S,W[0]);let ae=te;for(let be=1;be<W.length;be++)ae=this.rbInsertRight(ae,W[be]);this.validateCRLFWithPrevNode(te)}positionInBuffer(h,S,W){const te=h.piece,be=this._buffers[h.piece.bufferIndex].lineStarts,Re=be[te.start.line]+te.start.column+S;let Ze=te.start.line,Je=te.end.line,it=0,ft=0,gt=0;for(;Ze<=Je&&(it=Ze+(Je-Ze)/2|0,gt=be[it],it!==Je);)if(ft=be[it+1],Re<gt)Je=it-1;else{if(!(Re>=ft))break;Ze=it+1}return W?(W.line=it,W.column=Re-gt,null):{line:it,column:Re-gt}}getLineFeedCnt(h,S,W){if(0===W.column)return W.line-S.line;const te=this._buffers[h].lineStarts;if(W.line===te.length-1)return W.line-S.line;const be=te[W.line]+W.column;return te[W.line+1]>be+1?W.line-S.line:13===this._buffers[h].buffer.charCodeAt(be-1)?W.line-S.line+1:W.line-S.line}offsetInBuffer(h,S){return this._buffers[h].lineStarts[S.line]+S.column}deleteNodes(h){for(let S=0;S<h.length;S++)Dt(this,h[S])}createNewPieces(h){if(h.length>Ve){const Je=[];for(;h.length>Ve;){const ft=h.charCodeAt(Ve-1);let gt;13===ft||ft>=55296&&ft<=56319?(gt=h.substring(0,Ve-1),h=h.substring(Ve-1)):(gt=h.substring(0,Ve),h=h.substring(Ve));const Nt=xt(gt);Je.push(new en(this._buffers.length,{line:0,column:0},{line:Nt.length-1,column:gt.length-Nt[Nt.length-1]},Nt.length-1,gt.length)),this._buffers.push(new hn(gt,Nt))}const it=xt(h);return Je.push(new en(this._buffers.length,{line:0,column:0},{line:it.length-1,column:h.length-it[it.length-1]},it.length-1,h.length)),this._buffers.push(new hn(h,it)),Je}let S=this._buffers[0].buffer.length;const W=xt(h,!1);let te=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===S&&0!==S&&this.startWithLF(h)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},te=this._lastChangeBufferPos;for(let Je=0;Je<W.length;Je++)W[Je]+=S+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(W.slice(1)),this._buffers[0].buffer+="_"+h,S+=1}else{if(0!==S)for(let Je=0;Je<W.length;Je++)W[Je]+=S;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(W.slice(1)),this._buffers[0].buffer+=h}const ae=this._buffers[0].buffer.length,be=this._buffers[0].lineStarts.length-1,Re={line:be,column:ae-this._buffers[0].lineStarts[be]},Ze=new en(0,te,Re,this.getLineFeedCnt(0,te,Re),ae-S);return this._lastChangeBufferPos=Re,[Ze]}getLineRawContent(h,S=0){let W=this.root,te="";const ae=this._searchCache.get2(h);if(ae){W=ae.node;const be=this.getAccumulatedValue(W,h-ae.nodeStartLineNumber-1),Oe=this._buffers[W.piece.bufferIndex].buffer,Re=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);if(ae.nodeStartLineNumber+W.piece.lineFeedCnt!==h){const Ze=this.getAccumulatedValue(W,h-ae.nodeStartLineNumber);return Oe.substring(Re+be,Re+Ze-S)}te=Oe.substring(Re+be,Re+W.piece.length)}else{let be=0;const Oe=h;for(;W!==Ue;)if(W.left!==Ue&&W.lf_left>=h-1)W=W.left;else{if(W.lf_left+W.piece.lineFeedCnt>h-1){const Re=this.getAccumulatedValue(W,h-W.lf_left-2),Ze=this.getAccumulatedValue(W,h-W.lf_left-1),Je=this._buffers[W.piece.bufferIndex].buffer,it=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);return be+=W.size_left,this._searchCache.set({node:W,nodeStartOffset:be,nodeStartLineNumber:Oe-(h-1-W.lf_left)}),Je.substring(it+Re,it+Ze-S)}if(W.lf_left+W.piece.lineFeedCnt===h-1){const Re=this.getAccumulatedValue(W,h-W.lf_left-2),Ze=this._buffers[W.piece.bufferIndex].buffer,Je=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);te=Ze.substring(Je+Re,Je+W.piece.length);break}h-=W.lf_left+W.piece.lineFeedCnt,be+=W.size_left+W.piece.length,W=W.right}}for(W=W.next();W!==Ue;){const be=this._buffers[W.piece.bufferIndex].buffer;if(W.piece.lineFeedCnt>0){const Oe=this.getAccumulatedValue(W,0),Re=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);return te+=be.substring(Re,Re+Oe-S),te}{const Oe=this.offsetInBuffer(W.piece.bufferIndex,W.piece.start);te+=be.substr(Oe,W.piece.length)}W=W.next()}return te}computeBufferMetadata(){let h=this.root,S=1,W=0;for(;h!==Ue;)S+=h.lf_left+h.piece.lineFeedCnt,W+=h.size_left+h.piece.length,h=h.right;this._lineCnt=S,this._length=W,this._searchCache.validate(this._length)}getIndexOf(h,S){const W=h.piece,te=this.positionInBuffer(h,S),ae=te.line-W.start.line;if(this.offsetInBuffer(W.bufferIndex,W.end)-this.offsetInBuffer(W.bufferIndex,W.start)===S){const be=this.getLineFeedCnt(h.piece.bufferIndex,W.start,te);if(be!==ae)return{index:be,remainder:0}}return{index:ae,remainder:te.column}}getAccumulatedValue(h,S){if(S<0)return 0;const W=h.piece,te=this._buffers[W.bufferIndex].lineStarts,ae=W.start.line+S+1;return ae>W.end.line?te[W.end.line]+W.end.column-te[W.start.line]-W.start.column:te[ae]-te[W.start.line]-W.start.column}deleteNodeTail(h,S){const W=h.piece,te=W.lineFeedCnt,ae=this.offsetInBuffer(W.bufferIndex,W.end),be=S,Oe=this.offsetInBuffer(W.bufferIndex,be),Re=this.getLineFeedCnt(W.bufferIndex,W.start,be),Ze=Re-te,Je=Oe-ae;h.piece=new en(W.bufferIndex,W.start,be,Re,W.length+Je),Yt(this,h,Je,Ze)}deleteNodeHead(h,S){const W=h.piece,te=W.lineFeedCnt,ae=this.offsetInBuffer(W.bufferIndex,W.start),be=S,Oe=this.getLineFeedCnt(W.bufferIndex,be,W.end),Ze=Oe-te,Je=ae-this.offsetInBuffer(W.bufferIndex,be);h.piece=new en(W.bufferIndex,be,W.end,Oe,W.length+Je),Yt(this,h,Je,Ze)}shrinkNode(h,S,W){const te=h.piece,ae=te.start,be=te.end,Oe=te.length,Re=te.lineFeedCnt,Ze=S,Je=this.getLineFeedCnt(te.bufferIndex,te.start,Ze),it=this.offsetInBuffer(te.bufferIndex,S)-this.offsetInBuffer(te.bufferIndex,ae);h.piece=new en(te.bufferIndex,te.start,Ze,Je,it),Yt(this,h,it-Oe,Je-Re);const ft=new en(te.bufferIndex,W,be,this.getLineFeedCnt(te.bufferIndex,W,be),this.offsetInBuffer(te.bufferIndex,be)-this.offsetInBuffer(te.bufferIndex,W)),gt=this.rbInsertRight(h,ft);this.validateCRLFWithPrevNode(gt)}appendToNode(h,S){this.adjustCarriageReturnFromNext(S,h)&&(S+="\n");const W=this.shouldCheckCRLF()&&this.startWithLF(S)&&this.endWithCR(h),te=this._buffers[0].buffer.length;this._buffers[0].buffer+=S;const ae=xt(S,!1);for(let gt=0;gt<ae.length;gt++)ae[gt]+=te;if(W){const gt=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:te-gt}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ae.slice(1));const be=this._buffers[0].lineStarts.length-1,Re={line:be,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[be]},Ze=h.piece.length+S.length,Je=h.piece.lineFeedCnt,it=this.getLineFeedCnt(0,h.piece.start,Re),ft=it-Je;h.piece=new en(h.piece.bufferIndex,h.piece.start,Re,it,Ze),this._lastChangeBufferPos=Re,Yt(this,h,S.length,ft)}nodeAt(h){let S=this.root;const W=this._searchCache.get(h);if(W)return{node:W.node,nodeStartOffset:W.nodeStartOffset,remainder:h-W.nodeStartOffset};let te=0;for(;S!==Ue;)if(S.size_left>h)S=S.left;else{if(S.size_left+S.piece.length>=h){te+=S.size_left;const ae={node:S,remainder:h-S.size_left,nodeStartOffset:te};return this._searchCache.set(ae),ae}h-=S.size_left+S.piece.length,te+=S.size_left+S.piece.length,S=S.right}return null}nodeAt2(h,S){let W=this.root,te=0;for(;W!==Ue;)if(W.left!==Ue&&W.lf_left>=h-1)W=W.left;else{if(W.lf_left+W.piece.lineFeedCnt>h-1){const ae=this.getAccumulatedValue(W,h-W.lf_left-2),be=this.getAccumulatedValue(W,h-W.lf_left-1);return te+=W.size_left,{node:W,remainder:Math.min(ae+S-1,be),nodeStartOffset:te}}if(W.lf_left+W.piece.lineFeedCnt===h-1){const ae=this.getAccumulatedValue(W,h-W.lf_left-2);if(ae+S-1<=W.piece.length)return{node:W,remainder:ae+S-1,nodeStartOffset:te};S-=W.piece.length-ae;break}h-=W.lf_left+W.piece.lineFeedCnt,te+=W.size_left+W.piece.length,W=W.right}for(W=W.next();W!==Ue;){if(W.piece.lineFeedCnt>0){const ae=this.getAccumulatedValue(W,0),be=this.offsetOfNode(W);return{node:W,remainder:Math.min(S-1,ae),nodeStartOffset:be}}if(W.piece.length>=S-1)return{node:W,remainder:S-1,nodeStartOffset:this.offsetOfNode(W)};S-=W.piece.length,W=W.next()}return null}nodeCharCodeAt(h,S){if(h.piece.lineFeedCnt<1)return-1;const W=this._buffers[h.piece.bufferIndex],te=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start)+S;return W.buffer.charCodeAt(te)}offsetOfNode(h){if(!h)return 0;let S=h.size_left;for(;h!==this.root;)h.parent.right===h&&(S+=h.parent.size_left+h.parent.piece.length),h=h.parent;return S}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(h){if("string"==typeof h)return 10===h.charCodeAt(0);if(h===Ue||0===h.piece.lineFeedCnt)return!1;const S=h.piece,W=this._buffers[S.bufferIndex].lineStarts,te=S.start.line,ae=W[te]+S.start.column;return!(te===W.length-1||W[te+1]>ae+1)&&10===this._buffers[S.bufferIndex].buffer.charCodeAt(ae)}endWithCR(h){return"string"==typeof h?13===h.charCodeAt(h.length-1):h!==Ue&&0!==h.piece.lineFeedCnt&&13===this.nodeCharCodeAt(h,h.piece.length-1)}validateCRLFWithPrevNode(h){if(this.shouldCheckCRLF()&&this.startWithLF(h)){const S=h.prev();this.endWithCR(S)&&this.fixCRLF(S,h)}}validateCRLFWithNextNode(h){if(this.shouldCheckCRLF()&&this.endWithCR(h)){const S=h.next();this.startWithLF(S)&&this.fixCRLF(h,S)}}fixCRLF(h,S){const W=[],te=this._buffers[h.piece.bufferIndex].lineStarts;let ae;ae=0===h.piece.end.column?{line:h.piece.end.line-1,column:te[h.piece.end.line]-te[h.piece.end.line-1]-1}:{line:h.piece.end.line,column:h.piece.end.column-1},h.piece=new en(h.piece.bufferIndex,h.piece.start,ae,h.piece.lineFeedCnt-1,h.piece.length-1),Yt(this,h,-1,-1),0===h.piece.length&&W.push(h);const Re={line:S.piece.start.line+1,column:0},Ze=S.piece.length-1,Je=this.getLineFeedCnt(S.piece.bufferIndex,Re,S.piece.end);S.piece=new en(S.piece.bufferIndex,Re,S.piece.end,Je,Ze),Yt(this,S,-1,-1),0===S.piece.length&&W.push(S);const it=this.createNewPieces("\r\n");this.rbInsertRight(h,it[0]);for(let ft=0;ft<W.length;ft++)Dt(this,W[ft])}adjustCarriageReturnFromNext(h,S){if(this.shouldCheckCRLF()&&this.endWithCR(h)){const W=S.next();if(this.startWithLF(W)){if(h+="\n",1===W.piece.length)Dt(this,W);else{const te=W.piece,ae={line:te.start.line+1,column:0},be=te.length-1,Oe=this.getLineFeedCnt(te.bufferIndex,ae,te.end);W.piece=new en(te.bufferIndex,ae,te.end,Oe,be),Yt(this,W,-1,-1)}return!0}}return!1}iterate(h,S){return h===Ue?S(Ue):this.iterate(h.left,S)&&S(h)&&this.iterate(h.right,S)}getNodeContent(h){if(h===Ue)return"";const S=this._buffers[h.piece.bufferIndex];let W;const te=h.piece,ae=this.offsetInBuffer(te.bufferIndex,te.start),be=this.offsetInBuffer(te.bufferIndex,te.end);return W=S.buffer.substring(ae,be),W}getPieceContent(h){const S=this._buffers[h.bufferIndex],W=this.offsetInBuffer(h.bufferIndex,h.start),te=this.offsetInBuffer(h.bufferIndex,h.end);return S.buffer.substring(W,te)}rbInsertRight(h,S){const W=new He(S,1);if(W.left=Ue,W.right=Ue,W.parent=Ue,W.size_left=0,W.lf_left=0,this.root===Ue)this.root=W,W.color=0;else if(h.right===Ue)h.right=W,W.parent=h;else{const ae=on(h.right);ae.left=W,W.parent=ae}return Lt(this,W),W}rbInsertLeft(h,S){const W=new He(S,1);if(W.left=Ue,W.right=Ue,W.parent=Ue,W.size_left=0,W.lf_left=0,this.root===Ue)this.root=W,W.color=0;else if(h.left===Ue)h.left=W,W.parent=h;else{const te=Sn(h.left);te.right=W,W.parent=te}return Lt(this,W),W}}var rn=m(34048),vn=m(64978);class ln extends D.JT{constructor(h,S,W,te,ae,be,Oe){super(),this._onDidChangeContent=this._register(new B.Q5),this._BOM=S,this._mightContainNonBasicASCII=!be,this._mightContainRTL=te,this._mightContainUnusualLineTerminators=ae,this._pieceTree=new wn(h,W,Oe)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(h){return this._pieceTree.createSnapshot(h?this._BOM:"")}getOffsetAt(h,S){return this._pieceTree.getOffsetAt(h,S)}getPositionAt(h){return this._pieceTree.getPositionAt(h)}getRangeAt(h,S){const W=h+S,te=this.getPositionAt(h),ae=this.getPositionAt(W);return new k.e(te.lineNumber,te.column,ae.lineNumber,ae.column)}getValueInRange(h,S=0){if(h.isEmpty())return"";const W=this._getEndOfLine(S);return this._pieceTree.getValueInRange(h,W)}getValueLengthInRange(h,S=0){if(h.isEmpty())return 0;if(h.startLineNumber===h.endLineNumber)return h.endColumn-h.startColumn;const W=this.getOffsetAt(h.startLineNumber,h.startColumn);return this.getOffsetAt(h.endLineNumber,h.endColumn)-W}getCharacterCountInRange(h,S=0){if(this._mightContainNonBasicASCII){let W=0;const te=h.startLineNumber,ae=h.endLineNumber;for(let be=te;be<=ae;be++){const Oe=this.getLineContent(be),Ze=be===ae?h.endColumn-1:Oe.length;for(let Je=be===te?h.startColumn-1:0;Je<Ze;Je++)i.ZG(Oe.charCodeAt(Je))?(W+=1,Je+=1):W+=1}return W+=this._getEndOfLine(S).length*(ae-te),W}return this.getValueLengthInRange(h,S)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(h){return this._pieceTree.getLineContent(h)}getLineCharCode(h,S){return this._pieceTree.getLineCharCode(h,S)}getLineLength(h){return this._pieceTree.getLineLength(h)}getLineFirstNonWhitespaceColumn(h){const S=i.LC(this.getLineContent(h));return-1===S?0:S+1}getLineLastNonWhitespaceColumn(h){const S=i.ow(this.getLineContent(h));return-1===S?0:S+2}_getEndOfLine(h){switch(h){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(h){this._pieceTree.setEOL(h)}applyEdits(h,S,W){let te=this._mightContainRTL,ae=this._mightContainUnusualLineTerminators,be=this._mightContainNonBasicASCII,Oe=!0,Re=[];for(let Wt=0;Wt<h.length;Wt++){const Gt=h[Wt];Oe&&Gt._isTracked&&(Oe=!1);const Nn=Gt.range;if(Gt.text){let ci=!0;be||(ci=!i.$i(Gt.text),be=ci),!te&&ci&&(te=i.Ut(Gt.text)),!ae&&ci&&(ae=i.ab(Gt.text))}let qn="",di=0,_t=0,Pi=0;if(Gt.text){let ci;[di,_t,Pi,ci]=(0,rn.Q)(Gt.text);const mo=this.getEOL();qn=0===ci||ci===("\r\n"===mo?2:1)?Gt.text:Gt.text.replace(/\r\n|\r|\n/g,mo)}Re[Wt]={sortIndex:Wt,identifier:Gt.identifier||null,range:Nn,rangeOffset:this.getOffsetAt(Nn.startLineNumber,Nn.startColumn),rangeLength:this.getValueLengthInRange(Nn),text:qn,eolCount:di,firstLineLength:_t,lastLineLength:Pi,forceMoveMarkers:Boolean(Gt.forceMoveMarkers),isAutoWhitespaceEdit:Gt.isAutoWhitespaceEdit||!1}}Re.sort(ln._sortOpsAscending);let Ze=!1;for(let Wt=0,Gt=Re.length-1;Wt<Gt;Wt++){const Nn=Re[Wt].range.getEndPosition(),qn=Re[Wt+1].range.getStartPosition();if(qn.isBeforeOrEqual(Nn)){if(qn.isBefore(Nn))throw new Error("Overlapping ranges are not allowed!");Ze=!0}}Oe&&(Re=this._reduceOperations(Re));const Je=W||S?ln._getInverseEditRanges(Re):[],it=[];if(S)for(let Wt=0;Wt<Re.length;Wt++){const Gt=Re[Wt],Nn=Je[Wt];if(Gt.isAutoWhitespaceEdit&&Gt.range.isEmpty())for(let qn=Nn.startLineNumber;qn<=Nn.endLineNumber;qn++){let di="";qn===Nn.startLineNumber&&(di=this.getLineContent(Gt.range.startLineNumber),-1!==i.LC(di))||it.push({lineNumber:qn,oldContent:di})}}let ft=null;if(W){let Wt=0;ft=[];for(let Gt=0;Gt<Re.length;Gt++){const Nn=Re[Gt],qn=Je[Gt],di=this.getValueInRange(Nn.range),_t=Nn.rangeOffset+Wt;Wt+=Nn.text.length-di.length,ft[Gt]={sortIndex:Nn.sortIndex,identifier:Nn.identifier,range:qn,text:di,textChange:new vn.q(Nn.rangeOffset,di,_t,Nn.text)}}Ze||ft.sort((Gt,Nn)=>Gt.sortIndex-Nn.sortIndex)}this._mightContainRTL=te,this._mightContainUnusualLineTerminators=ae,this._mightContainNonBasicASCII=be;const gt=this._doApplyEdits(Re);let Nt=null;if(S&&it.length>0){it.sort((Wt,Gt)=>Gt.lineNumber-Wt.lineNumber),Nt=[];for(let Wt=0,Gt=it.length;Wt<Gt;Wt++){const Nn=it[Wt].lineNumber;if(Wt>0&&it[Wt-1].lineNumber===Nn)continue;const qn=it[Wt].oldContent,di=this.getLineContent(Nn);0===di.length||di===qn||-1!==i.LC(di)||Nt.push(Nn)}}return this._onDidChangeContent.fire(),new C.je(ft,gt,Nt)}_reduceOperations(h){return h.length<1e3?h:[this._toSingleEditOperation(h)]}_toSingleEditOperation(h){let S=!1;const W=h[0].range,te=h[h.length-1].range,ae=new k.e(W.startLineNumber,W.startColumn,te.endLineNumber,te.endColumn);let be=W.startLineNumber,Oe=W.startColumn;const Re=[];for(let gt=0,Nt=h.length;gt<Nt;gt++){const Wt=h[gt],Gt=Wt.range;S=S||Wt.forceMoveMarkers,Re.push(this.getValueInRange(new k.e(be,Oe,Gt.startLineNumber,Gt.startColumn))),Wt.text.length>0&&Re.push(Wt.text),be=Gt.endLineNumber,Oe=Gt.endColumn}const Ze=Re.join(""),[Je,it,ft]=(0,rn.Q)(Ze);return{sortIndex:0,identifier:h[0].identifier,range:ae,rangeOffset:this.getOffsetAt(ae.startLineNumber,ae.startColumn),rangeLength:this.getValueLengthInRange(ae,0),text:Ze,eolCount:Je,firstLineLength:it,lastLineLength:ft,forceMoveMarkers:S,isAutoWhitespaceEdit:!1}}_doApplyEdits(h){h.sort(ln._sortOpsDescending);const S=[];for(let W=0;W<h.length;W++){const te=h[W],ae=te.range.startLineNumber,be=te.range.startColumn,Oe=te.range.endLineNumber,Re=te.range.endColumn;if(ae===Oe&&be===Re&&0===te.text.length)continue;te.text?(this._pieceTree.delete(te.rangeOffset,te.rangeLength),this._pieceTree.insert(te.rangeOffset,te.text,!0)):this._pieceTree.delete(te.rangeOffset,te.rangeLength);const Ze=new k.e(ae,be,Oe,Re);S.push({range:Ze,rangeLength:te.rangeLength,text:te.text,rangeOffset:te.rangeOffset,forceMoveMarkers:te.forceMoveMarkers})}return S}findMatchesLineByLine(h,S,W,te){return this._pieceTree.findMatchesLineByLine(h,S,W,te)}static _getInverseEditRanges(h){const S=[];let W=0,te=0,ae=null;for(let be=0,Oe=h.length;be<Oe;be++){const Re=h[be];let Ze,Je,it;if(ae?ae.range.endLineNumber===Re.range.startLineNumber?(Ze=W,Je=te+(Re.range.startColumn-ae.range.endColumn)):(Ze=W+(Re.range.startLineNumber-ae.range.endLineNumber),Je=Re.range.startColumn):(Ze=Re.range.startLineNumber,Je=Re.range.startColumn),Re.text.length>0){const ft=Re.eolCount+1;it=1===ft?new k.e(Ze,Je,Ze,Je+Re.firstLineLength):new k.e(Ze,Je,Ze+ft-1,Re.lastLineLength+1)}else it=new k.e(Ze,Je,Ze,Je);W=it.endLineNumber,te=it.endColumn,S.push(it),ae=Re}return S}static _sortOpsAscending(h,S){const W=k.e.compareRangesUsingEnds(h.range,S.range);return 0===W?h.sortIndex-S.sortIndex:W}static _sortOpsDescending(h,S){const W=k.e.compareRangesUsingEnds(h.range,S.range);return 0===W?S.sortIndex-h.sortIndex:-W}}class En{constructor(h,S,W,te,ae,be,Oe,Re,Ze){this._chunks=h,this._bom=S,this._cr=W,this._lf=te,this._crlf=ae,this._containsRTL=be,this._containsUnusualLineTerminators=Oe,this._isBasicASCII=Re,this._normalizeEOL=Ze}_getEOL(h){const S=this._cr+this._lf+this._crlf;return 0===S?1===h?"\n":"\r\n":this._cr+this._crlf>S/2?"\r\n":"\n"}create(h){const S=this._getEOL(h),W=this._chunks;if(this._normalizeEOL&&("\r\n"===S&&(this._cr>0||this._lf>0)||"\n"===S&&(this._cr>0||this._crlf>0)))for(let ae=0,be=W.length;ae<be;ae++){const Oe=W[ae].buffer.replace(/\r\n|\r|\n/g,S),Re=xt(Oe);W[ae]=new hn(Oe,Re)}const te=new ln(W,this._bom,S,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:te,disposable:te}}}class In{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(h){if(0===h.length)return;0===this.chunks.length&&i.uS(h)&&(this.BOM=i.c1,h=h.substr(1));const S=h.charCodeAt(h.length-1);13===S||S>=55296&&S<=56319?(this._acceptChunk1(h.substr(0,h.length-1),!1),this._hasPreviousChar=!0,this._previousChar=S):(this._acceptChunk1(h,!1),this._hasPreviousChar=!1,this._previousChar=S)}_acceptChunk1(h,S){!S&&0===h.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+h:h)}_acceptChunk2(h){const S=function(A,h){A.length=0,A[0]=0;let S=1,W=0,te=0,ae=0,be=!0;for(let Re=0,Ze=h.length;Re<Ze;Re++){const Je=h.charCodeAt(Re);13===Je?Re+1<Ze&&10===h.charCodeAt(Re+1)?(ae++,A[S++]=Re+2,Re++):(W++,A[S++]=Re+1):10===Je?(te++,A[S++]=Re+1):be&&9!==Je&&(Je<32||Je>126)&&(be=!1)}const Oe=new ct(Qe(A),W,te,ae,be);return A.length=0,Oe}(this._tmpLineStarts,h);this.chunks.push(new hn(h,S.lineStarts)),this.cr+=S.cr,this.lf+=S.lf,this.crlf+=S.crlf,this.isBasicASCII&&(this.isBasicASCII=S.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=i.Ut(h)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=i.ab(h))}finish(h=!0){return this._finish(),new En(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,h)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const h=this.chunks[this.chunks.length-1];h.buffer+=String.fromCharCode(this._previousChar);const S=xt(h.buffer);h.lineStarts=S,13===this._previousChar&&this.cr++}}}var Kn=m(87604),Jn=m(5928),_i=m(33979),Di=m(88057),xn=m(39932);class Mi{constructor(h,S){this._startLineNumber=h,this._tokens=S}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(h){return this._tokens[h-this._startLineNumber]}appendLineTokens(h){this._tokens.push(h)}}class li{constructor(){this._tokens=[]}add(h,S){if(this._tokens.length>0){const W=this._tokens[this._tokens.length-1];if(W.endLineNumber+1===h)return void W.appendLineTokens(S)}this._tokens.push(new Mi(h,[S]))}finalize(){return this._tokens}}var pi=m(89983),Mn=m(70700);class Ci{constructor(h){this._default=h,this._store=[]}get(h){return h<this._store.length?this._store[h]:this._default}set(h,S){for(;h>=this._store.length;)this._store[this._store.length]=this._default;this._store[h]=S}delete(h,S){0===S||h>=this._store.length||this._store.splice(h,S)}insert(h,S){if(0===S||h>=this._store.length)return;const W=[];for(let te=0;te<S;te++)W[te]=this._default;this._store=E.Zv(this._store,h,W)}}class Ti{constructor(h,S){this.tokenizationSupport=h,this.initialState=S,this._lineBeginState=new Ci(null),this._lineNeedsTokenization=new Ci(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(h){this._lineNeedsTokenization.set(h,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,h)}getBeginState(h){return this._lineBeginState.get(h)}setEndState(h,S,W){if(this._lineNeedsTokenization.set(S,!1),this._firstLineNeedsTokenization=S+1,S===h-1)return;const te=this._lineBeginState.get(S+1);if(null===te||!W.equals(te))return this._lineBeginState.set(S+1,W),void this.markMustBeTokenized(S+1);let ae=S+1;for(;ae<h&&!this._lineNeedsTokenization.get(ae);)ae++;this._firstLineNeedsTokenization=ae}applyEdits(h,S){this.markMustBeTokenized(h.startLineNumber-1),this._lineBeginState.delete(h.startLineNumber,h.endLineNumber-h.startLineNumber),this._lineNeedsTokenization.delete(h.startLineNumber,h.endLineNumber-h.startLineNumber),this._lineBeginState.insert(h.startLineNumber,S),this._lineNeedsTokenization.insert(h.startLineNumber,S)}}class ei extends D.JT{constructor(h,S){super(),this._textModel=h,this._languageIdCodec=S,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(_i.RW.onDidChange(W=>{const te=this._textModel.getLanguageId();-1!==W.changedLanguages.indexOf(te)&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(h){if(h.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let S=0,W=h.changes.length;S<W;S++){const te=h.changes[S],[ae]=(0,rn.Q)(te.text);this._tokenizationStateStore.applyEdits(te.range,ae)}this._beginBackgroundTokenization()}}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(h){this._resetTokenizationState(),this._textModel.clearTokens()}_resetTokenizationState(){const[h,S]=function(A){if(A.isTooLargeForTokenization())return[null,null];const h=_i.RW.get(A.getLanguageId());if(!h)return[null,null];let S;try{S=h.getInitialState()}catch(W){return(0,Y.dL)(W),[null,null]}return[h,S]}(this._textModel);this._tokenizationStateStore=h&&S?new Ti(h,S):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,pi.To)(h=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(h)}))}_backgroundTokenizeWithDeadline(h){const S=Date.now()+h.timeRemaining(),W=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<S?(0,Mn.fn)(W):this._beginBackgroundTokenization())};W()}_backgroundTokenizeForAtLeast1ms(){const h=this._textModel.getLineCount(),S=new li,W=xn.G.create(!1);do{if(W.elapsed()>1||this._tokenizeOneInvalidLine(S)>=h)break}while(this._hasLinesToTokenize());this._textModel.setTokens(S.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(h,S){const W=new li;this._tokenizeViewport(W,h,S),this._textModel.setTokens(W.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(h){const S=new li;this._updateTokensUntilLine(S,h),this._textModel.setTokens(S.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(h,S){if(!this._tokenizationStateStore)return 0;this.forceTokenization(h.lineNumber);const W=this._tokenizationStateStore.getBeginState(h.lineNumber-1);if(!W)return 0;const te=this._textModel.getLanguageId(),ae=this._textModel.getLineContent(h.lineNumber),be=ae.substring(0,h.column-1)+S+ae.substring(h.column-1),Oe=zn(this._languageIdCodec,te,this._tokenizationStateStore.tokenizationSupport,be,!0,W),Re=new Jn.A(Oe.tokens,be,this._languageIdCodec);if(0===Re.getCount())return 0;const Ze=Re.findTokenIndexAtOffset(h.column-1);return Re.getStandardTokenType(Ze)}tokenizeLineWithEdit(h,S,W){const te=h.lineNumber,ae=h.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(te);const be=this._tokenizationStateStore.getBeginState(te-1);if(!be)return null;const Oe=this._textModel.getLineContent(te),Re=Oe.substring(0,ae-1)+W+Oe.substring(ae-1+S),Ze=this._textModel.getLanguageIdAtPosition(te,0),Je=zn(this._languageIdCodec,Ze,this._tokenizationStateStore.tokenizationSupport,Re,!0,be);return new Jn.A(Je.tokens,Re,this._languageIdCodec)}isCheapToTokenize(h){if(!this._tokenizationStateStore)return!0;const S=this._tokenizationStateStore.invalidLineStartIndex+1;return!(h>S)&&(h<S||this._textModel.getLineLength(h)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(h){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const S=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(h,S),S}_updateTokensUntilLine(h,S){if(!this._tokenizationStateStore)return;const W=this._textModel.getLanguageId(),te=this._textModel.getLineCount(),ae=S-1;for(let be=this._tokenizationStateStore.invalidLineStartIndex;be<=ae;be++){const Oe=this._textModel.getLineContent(be+1),Re=this._tokenizationStateStore.getBeginState(be),Ze=zn(this._languageIdCodec,W,this._tokenizationStateStore.tokenizationSupport,Oe,!0,Re);h.add(be+1,Ze.tokens),this._tokenizationStateStore.setEndState(te,be,Ze.endState),be=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(h,S,W){if(!this._tokenizationStateStore||W<=this._tokenizationStateStore.invalidLineStartIndex)return;if(S<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(h,W);let te=this._textModel.getLineFirstNonWhitespaceColumn(S);const ae=[];let be=null;for(let Ze=S-1;te>1&&Ze>=1;Ze--){const Je=this._textModel.getLineFirstNonWhitespaceColumn(Ze);if(0!==Je&&Je<te){if(be=this._tokenizationStateStore.getBeginState(Ze-1),be)break;ae.push(this._textModel.getLineContent(Ze)),te=Je}}be||(be=this._tokenizationStateStore.initialState);const Oe=this._textModel.getLanguageId();let Re=be;for(let Ze=ae.length-1;Ze>=0;Ze--)Re=zn(this._languageIdCodec,Oe,this._tokenizationStateStore.tokenizationSupport,ae[Ze],!1,Re).endState;for(let Ze=S;Ze<=W;Ze++){const Je=this._textModel.getLineContent(Ze),it=zn(this._languageIdCodec,Oe,this._tokenizationStateStore.tokenizationSupport,Je,!0,Re);h.add(Ze,it.tokens),this._tokenizationStateStore.markMustBeTokenized(Ze-1),Re=it.endState}}}function zn(A,h,S,W,te,ae){let be=null;if(S)try{be=S.tokenizeEncoded(W,te,ae.clone())}catch(Oe){(0,Y.dL)(Oe)}return be||(be=(0,Di.Dy)(A.encodeLanguageId(h),ae)),Jn.A.convertToEndOffset(be.tokens,W.length),be}const ji=new Uint32Array(0).buffer;class co{static deleteBeginning(h,S){return null===h||h===ji?h:co.delete(h,0,S)}static deleteEnding(h,S){if(null===h||h===ji)return h;const W=oi(h);return co.delete(h,S,W[W.length-2])}static delete(h,S,W){if(null===h||h===ji||S===W)return h;const te=oi(h),ae=te.length>>>1;if(0===S&&te[te.length-2]===W)return ji;const be=Jn.A.findIndexInTokensArray(te,S),Oe=be>0?te[be-1<<1]:0;if(W<te[be<<1]){const gt=W-S;for(let Nt=be;Nt<ae;Nt++)te[Nt<<1]-=gt;return h}let Ze,Je;Oe!==S?(te[be<<1]=S,Ze=be+1<<1,Je=S):(Ze=be<<1,Je=Oe);const it=W-S;for(let gt=be+1;gt<ae;gt++){const Nt=te[gt<<1]-it;Nt>Je&&(te[Ze++]=Nt,te[Ze++]=te[1+(gt<<1)],Je=Nt)}if(Ze===te.length)return h;const ft=new Uint32Array(Ze);return ft.set(te.subarray(0,Ze),0),ft.buffer}static append(h,S){if(S===ji)return h;if(h===ji)return S;if(null===h)return h;if(null===S)return null;const W=oi(h),te=oi(S),ae=te.length>>>1,be=new Uint32Array(W.length+te.length);be.set(W,0);let Oe=W.length;const Re=W[W.length-2];for(let Ze=0;Ze<ae;Ze++)be[Oe++]=te[Ze<<1]+Re,be[Oe++]=te[1+(Ze<<1)];return be.buffer}static insert(h,S,W){if(null===h||h===ji)return h;const te=oi(h),ae=te.length>>>1;let be=Jn.A.findIndexInTokensArray(te,S);be>0&&te[be-1<<1]===S&&be--;for(let Oe=be;Oe<ae;Oe++)te[Oe<<1]+=W;return h}}function oi(A){return A instanceof Uint32Array?A:new Uint32Array(A)}class _o{constructor(h){this._lineTokens=[],this._len=0,this._languageIdCodec=h}flush(){this._lineTokens=[],this._len=0}getTokens(h,S,W){let te=null;if(S<this._len&&(te=this._lineTokens[S]),null!==te&&te!==ji)return new Jn.A(oi(te),W,this._languageIdCodec);const ae=new Uint32Array(2);return ae[0]=W.length,ae[1]=Ei(this._languageIdCodec.encodeLanguageId(h)),new Jn.A(ae,W,this._languageIdCodec)}static _massageTokens(h,S,W){const te=W?oi(W):null;if(0===S){let ae=!1;if(te&&te.length>1&&(ae=_i.NX.getLanguageId(te[1])!==h),!ae)return ji}if(!te||0===te.length){const ae=new Uint32Array(2);return ae[0]=S,ae[1]=Ei(h),ae.buffer}return te[te.length-2]=S,0===te.byteOffset&&te.byteLength===te.buffer.byteLength?te.buffer:te}_ensureLine(h){for(;h>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(h,S){0!==S&&(h+S>this._len&&(S=this._len-h),this._lineTokens.splice(h,S),this._len-=S)}_insertLines(h,S){if(0===S)return;const W=[];for(let te=0;te<S;te++)W[te]=null;this._lineTokens=E.Zv(this._lineTokens,h,W),this._len+=S}setTokens(h,S,W,te,ae){const be=_o._massageTokens(this._languageIdCodec.encodeLanguageId(h),W,te);this._ensureLine(S);const Oe=this._lineTokens[S];return this._lineTokens[S]=be,!!ae&&!_o._equals(Oe,be)}static _equals(h,S){if(!h||!S)return!h&&!S;const W=oi(h),te=oi(S);if(W.length!==te.length)return!1;for(let ae=0,be=W.length;ae<be;ae++)if(W[ae]!==te[ae])return!1;return!0}acceptEdit(h,S,W){this._acceptDeleteRange(h),this._acceptInsertText(new F.L(h.startLineNumber,h.startColumn),S,W)}_acceptDeleteRange(h){const S=h.startLineNumber-1;if(S>=this._len)return;if(h.startLineNumber===h.endLineNumber){if(h.startColumn===h.endColumn)return;return void(this._lineTokens[S]=co.delete(this._lineTokens[S],h.startColumn-1,h.endColumn-1))}this._lineTokens[S]=co.deleteEnding(this._lineTokens[S],h.startColumn-1);const W=h.endLineNumber-1;let te=null;W<this._len&&(te=co.deleteBeginning(this._lineTokens[W],h.endColumn-1)),this._lineTokens[S]=co.append(this._lineTokens[S],te),this._deleteLines(h.startLineNumber,h.endLineNumber-h.startLineNumber)}_acceptInsertText(h,S,W){if(0===S&&0===W)return;const te=h.lineNumber-1;if(!(te>=this._len)){if(0===S)return void(this._lineTokens[te]=co.insert(this._lineTokens[te],h.column-1,W));this._lineTokens[te]=co.deleteEnding(this._lineTokens[te],h.column-1),this._lineTokens[te]=co.insert(this._lineTokens[te],h.column-1,W),this._insertLines(h.lineNumber,S)}}}function Ei(A){return(16384|A<<0|2<<23)>>>0}class ko{constructor(h){this._pieces=[],this._isComplete=!1,this._languageIdCodec=h}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(h,S){this._pieces=h||[],this._isComplete=S}setPartial(h,S){let W=h;if(S.length>0){const ae=S[0].getRange(),be=S[S.length-1].getRange();if(!ae||!be)return h;W=h.plusRange(ae).plusRange(be)}let te=null;for(let ae=0,be=this._pieces.length;ae<be;ae++){const Oe=this._pieces[ae];if(Oe.endLineNumber<W.startLineNumber)continue;if(Oe.startLineNumber>W.endLineNumber){te=te||{index:ae};break}if(Oe.removeTokens(W),Oe.isEmpty()){this._pieces.splice(ae,1),ae--,be--;continue}if(Oe.endLineNumber<W.startLineNumber)continue;if(Oe.startLineNumber>W.endLineNumber){te=te||{index:ae};continue}const[Re,Ze]=Oe.split(W);Re.isEmpty()?te=te||{index:ae}:Ze.isEmpty()||(this._pieces.splice(ae,1,Re,Ze),ae++,be++,te=te||{index:ae})}return te=te||{index:this._pieces.length},S.length>0&&(this._pieces=E.Zv(this._pieces,te.index,S)),W}isComplete(){return this._isComplete}addSparseTokens(h,S){const W=this._pieces;if(0===W.length)return S;const ae=W[ko._findFirstPieceWithLine(W,h)].getLineTokens(h);if(!ae)return S;const be=S.getCount(),Oe=ae.getCount();let Re=0;const Ze=[];let Je=0,it=0;const ft=(gt,Nt)=>{gt!==it&&(it=gt,Ze[Je++]=gt,Ze[Je++]=Nt)};for(let gt=0;gt<Oe;gt++){const Nt=ae.getStartCharacter(gt),Wt=ae.getEndCharacter(gt),Gt=ae.getMetadata(gt),Nn=((1&Gt?1024:0)|(2&Gt?2048:0)|(4&Gt?4096:0)|(8&Gt?8192:0)|(16&Gt?8372224:0)|(32&Gt?4286578688:0))>>>0,qn=~Nn>>>0;for(;Re<be&&S.getEndOffset(Re)<=Nt;)ft(S.getEndOffset(Re),S.getMetadata(Re)),Re++;for(Re<be&&S.getStartOffset(Re)<Nt&&ft(Nt,S.getMetadata(Re));Re<be&&S.getEndOffset(Re)<Wt;)ft(S.getEndOffset(Re),S.getMetadata(Re)&qn|Gt&Nn),Re++;if(Re<be)ft(Wt,S.getMetadata(Re)&qn|Gt&Nn),S.getEndOffset(Re)===Wt&&Re++;else{const di=Math.min(Math.max(0,Re-1),be-1);ft(Wt,S.getMetadata(di)&qn|Gt&Nn)}}for(;Re<be;)ft(S.getEndOffset(Re),S.getMetadata(Re)),Re++;return new Jn.A(new Uint32Array(Ze),S.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(h,S){let W=0,te=h.length-1;for(;W<te;){let ae=W+Math.floor((te-W)/2);if(h[ae].endLineNumber<S)W=ae+1;else{if(!(h[ae].startLineNumber>S)){for(;ae>W&&h[ae-1].startLineNumber<=S&&S<=h[ae-1].endLineNumber;)ae--;return ae}te=ae-1}}return W}acceptEdit(h,S,W,te,ae){for(const be of this._pieces)be.acceptEdit(h,S,W,te,ae)}}var yo=m(54745),Yi=m(92119),To=m(80810),ys=m(10352),go=m(27870),Hs=m(66200),ds=function(A,h){return function(S,W){h(S,W,A)}};function Ps(A,h){return("string"==typeof A?function(A){const h=new In;return h.acceptChunk(A),h.finish()}(A):A).create(h)}let es=0;class or{constructor(h){this._source=h,this._eos=!1}read(){if(this._eos)return null;const h=[];let S=0,W=0;for(;;){const te=this._source.read();if(null===te)return this._eos=!0,0===S?null:h.join("");if(te.length>0&&(h[S++]=te,W+=te.length),W>=65536)return h.join("")}}}const Ro=()=>{throw new Error("Invalid change accessor")};let Lo=class gu extends D.JT{constructor(h,S,W,te=null,ae,be,Oe){super(),this._undoRedoService=ae,this._languageService=be,this._languageConfigurationService=Oe,this._onWillDispose=this._register(new B.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new wl(ft=>this.handleBeforeFireDecorationsChangedEvent(ft))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new B.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new B.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new B.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new B.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new B.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new B.Q5),this._eventEmitter=this._register(new yt),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new B.Q5),es++,this.id="$model"+es,this.isForSimpleWidget=W.isForSimpleWidget,this._associatedResource=te??O.o.parse("inmemory://model/"+es),this._attachedEditorCount=0;const{textBuffer:Re,disposable:Ze}=Ps(h,W.defaultEOL);this._buffer=Re,this._bufferDisposable=Ze,this._options=gu.resolveOptions(this._buffer,W);const Je=this._buffer.getLineCount(),it=this._buffer.getValueLengthInRange(new k.e(1,1,Je,this._buffer.getLineLength(Je)+1),0);this._isTooLargeForTokenization=!!W.largeFileOptimizations&&(it>gu.LARGE_FILE_SIZE_THRESHOLD||Je>gu.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=it>gu.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=S,this._languageRegistryListener=this._languageConfigurationService.onDidChange(ft=>{ft.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=i.PJ(es),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Or,this._commandManager=new re.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new _o(this._languageService.languageIdCodec),this._semanticTokens=new ko(this._languageService.languageIdCodec),this._tokenization=new ei(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new fe(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ce.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new ee(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(h,S){if(S.detectIndentation){const W=We(h,S.tabSize,S.insertSpaces);return new C.dJ({tabSize:W.tabSize,indentSize:W.tabSize,insertSpaces:W.insertSpaces,trimAutoWhitespace:S.trimAutoWhitespace,defaultEOL:S.defaultEOL,bracketPairColorizationOptions:S.bracketPairColorizationOptions})}return new C.dJ({tabSize:S.tabSize,indentSize:S.indentSize,insertSpaces:S.insertSpaces,trimAutoWhitespace:S.trimAutoWhitespace,defaultEOL:S.defaultEOL,bracketPairColorizationOptions:S.bracketPairColorizationOptions})}onDidChangeContent(h){return this._eventEmitter.slowEvent(S=>h(S.contentChangedEvent))}onDidChangeContentOrInjectedText(h){return(0,D.F8)(this._eventEmitter.fastEvent(S=>h(S.rawContentChangedEvent)),this._onDidChangeInjectedText.event(S=>h(S)))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(h){if(2===this._backgroundTokenizationState)return;const S=h?2:1;this._backgroundTokenizationState!==S&&(this._backgroundTokenizationState=S,this._bracketPairColorizer.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const h=new ln([],"","\n",!1,!1,!0,!0);h.dispose(),this._buffer=h,this._bufferDisposable=D.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(h,S){this._isDisposing||(this._bracketPairColorizer.handleDidChangeContent(S),this._tokenization.handleDidChangeContent(S),this._eventEmitter.fire(new Kn.fV(h,S)))}setValue(h){if(this._assertNotDisposed(),null===h)return;const{textBuffer:S,disposable:W}=Ps(h,this._options.defaultEOL);this._setValueFromTextBuffer(S,W)}_createContentChanged2(h,S,W,te,ae,be,Oe){return{changes:[{range:h,rangeOffset:S,rangeLength:W,text:te}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:ae,isRedoing:be,isFlush:Oe}}_setValueFromTextBuffer(h,S){this._assertNotDisposed();const W=this.getFullModelRange(),te=this.getValueLengthInRange(W),ae=this.getLineCount(),be=this.getLineMaxColumn(ae);this._buffer=h,this._bufferDisposable.dispose(),this._bufferDisposable=S,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new Or,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Kn.dQ([new Kn.Jx],this._versionId,!1,!1),this._createContentChanged2(new k.e(1,1,ae,be),0,te,this.getValue(),!1,!1,!0))}setEOL(h){this._assertNotDisposed();const S=1===h?"\r\n":"\n";if(this._buffer.getEOL()===S)return;const W=this.getFullModelRange(),te=this.getValueLengthInRange(W),ae=this.getLineCount(),be=this.getLineMaxColumn(ae);this._onBeforeEOLChange(),this._buffer.setEOL(S),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Kn.dQ([new Kn.CZ],this._versionId,!1,!1),this._createContentChanged2(new k.e(1,1,ae,be),0,te,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const h=this.getVersionId(),S=this._decorationsTree.collectNodesPostOrder();for(let W=0,te=S.length;W<te;W++){const ae=S[W],be=ae.range,Oe=ae.cachedAbsoluteStart-ae.start,Re=this._buffer.getOffsetAt(be.startLineNumber,be.startColumn),Ze=this._buffer.getOffsetAt(be.endLineNumber,be.endColumn);ae.cachedAbsoluteStart=Re,ae.cachedAbsoluteEnd=Ze,ae.cachedVersionId=h,ae.start=Re-Oe,ae.end=Ze-Oe,At(ae)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let h=0,S=0;const W=this._buffer.getLineCount();for(let te=1;te<=W;te++){const ae=this._buffer.getLineLength(te);ae>=1e4?S+=ae:h+=ae}return S>h}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(h){this._assertNotDisposed();const Oe=new C.dJ({tabSize:void 0!==h.tabSize?h.tabSize:this._options.tabSize,indentSize:void 0!==h.indentSize?h.indentSize:this._options.indentSize,insertSpaces:void 0!==h.insertSpaces?h.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:void 0!==h.trimAutoWhitespace?h.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:void 0!==h.bracketColorizationOptions?h.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(Oe))return;const Re=this._options.createChangeEvent(Oe);this._options=Oe,this._bracketPairColorizer.handleDidChangeOptions(Re),this._decorationProvider.handleDidChangeOptions(Re),this._onDidChangeOptions.fire(Re)}detectIndentation(h,S){this._assertNotDisposed();const W=We(this._buffer,S,h);this.updateOptions({insertSpaces:W.insertSpaces,tabSize:W.tabSize,indentSize:W.tabSize})}normalizeIndentation(h){return this._assertNotDisposed(),(0,Hs.x)(h,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(h=null){const S=this.findMatches(i.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(h,S.map(W=>({range:W.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(h){this._assertNotDisposed();const S=this._validatePosition(h.lineNumber,h.column,0);return this._buffer.getOffsetAt(S.lineNumber,S.column)}getPositionAt(h){this._assertNotDisposed();const S=Math.min(this._buffer.getLength(),Math.max(0,h));return this._buffer.getPositionAt(S)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(h){this._versionId=h}_overwriteAlternativeVersionId(h){this._alternativeVersionId=h}_overwriteInitialUndoRedoSnapshot(h){this._initialUndoRedoSnapshot=h}getValue(h,S=!1){this._assertNotDisposed();const W=this.getFullModelRange(),te=this.getValueInRange(W,h);return S?this._buffer.getBOM()+te:te}createSnapshot(h=!1){return new or(this._buffer.createSnapshot(h))}getValueLength(h,S=!1){this._assertNotDisposed();const W=this.getFullModelRange(),te=this.getValueLengthInRange(W,h);return S?this._buffer.getBOM().length+te:te}getValueInRange(h,S=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(h),S)}getValueLengthInRange(h,S=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(h),S)}getCharacterCountInRange(h,S=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(h),S)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(h)}getLineLength(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(h)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(h){return this._assertNotDisposed(),1}getLineMaxColumn(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(h)+1}getLineFirstNonWhitespaceColumn(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(h)}getLineLastNonWhitespaceColumn(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(h)}_validateRangeRelaxedNoAllocations(h){const S=this._buffer.getLineCount(),W=h.startLineNumber,te=h.startColumn;let ae=Math.floor("number"!=typeof W||isNaN(W)?1:W),be=Math.floor("number"!=typeof te||isNaN(te)?1:te);if(ae<1)ae=1,be=1;else if(ae>S)ae=S,be=this.getLineMaxColumn(ae);else if(be<=1)be=1;else{const it=this.getLineMaxColumn(ae);be>=it&&(be=it)}const Oe=h.endLineNumber,Re=h.endColumn;let Ze=Math.floor("number"!=typeof Oe||isNaN(Oe)?1:Oe),Je=Math.floor("number"!=typeof Re||isNaN(Re)?1:Re);if(Ze<1)Ze=1,Je=1;else if(Ze>S)Ze=S,Je=this.getLineMaxColumn(Ze);else if(Je<=1)Je=1;else{const it=this.getLineMaxColumn(Ze);Je>=it&&(Je=it)}return W===ae&&te===be&&Oe===Ze&&Re===Je&&h instanceof k.e&&!(h instanceof y.Y)?h:new k.e(ae,be,Ze,Je)}_isValidPosition(h,S,W){if("number"!=typeof h||"number"!=typeof S||isNaN(h)||isNaN(S)||h<1||S<1||(0|h)!==h||(0|S)!==S)return!1;if(h>this._buffer.getLineCount())return!1;if(1===S)return!0;if(S>this.getLineMaxColumn(h))return!1;if(1===W){const be=this._buffer.getLineCharCode(h,S-2);if(i.ZG(be))return!1}return!0}_validatePosition(h,S,W){const te=Math.floor("number"!=typeof h||isNaN(h)?1:h),ae=Math.floor("number"!=typeof S||isNaN(S)?1:S),be=this._buffer.getLineCount();if(te<1)return new F.L(1,1);if(te>be)return new F.L(be,this.getLineMaxColumn(be));if(ae<=1)return new F.L(te,1);const Oe=this.getLineMaxColumn(te);if(ae>=Oe)return new F.L(te,Oe);if(1===W){const Re=this._buffer.getLineCharCode(te,ae-2);if(i.ZG(Re))return new F.L(te,ae-1)}return new F.L(te,ae)}validatePosition(h){return this._assertNotDisposed(),h instanceof F.L&&this._isValidPosition(h.lineNumber,h.column,1)?h:this._validatePosition(h.lineNumber,h.column,1)}_isValidRange(h,S){const W=h.startLineNumber,te=h.startColumn,ae=h.endLineNumber,be=h.endColumn;if(!this._isValidPosition(W,te,0)||!this._isValidPosition(ae,be,0))return!1;if(1===S){const Oe=te>1?this._buffer.getLineCharCode(W,te-2):0,Re=be>1&&be<=this._buffer.getLineLength(ae)?this._buffer.getLineCharCode(ae,be-2):0,Ze=i.ZG(Oe),Je=i.ZG(Re);return!Ze&&!Je}return!0}validateRange(h){if(this._assertNotDisposed(),h instanceof k.e&&!(h instanceof y.Y)&&this._isValidRange(h,1))return h;const W=this._validatePosition(h.startLineNumber,h.startColumn,0),te=this._validatePosition(h.endLineNumber,h.endColumn,0),ae=W.lineNumber,be=W.column,Oe=te.lineNumber,Re=te.column;{const Ze=be>1?this._buffer.getLineCharCode(ae,be-2):0,Je=Re>1&&Re<=this._buffer.getLineLength(Oe)?this._buffer.getLineCharCode(Oe,Re-2):0,it=i.ZG(Ze),ft=i.ZG(Je);return it||ft?ae===Oe&&be===Re?new k.e(ae,be-1,Oe,Re-1):it&&ft?new k.e(ae,be-1,Oe,Re+1):it?new k.e(ae,be-1,Oe,Re):new k.e(ae,be,Oe,Re+1):new k.e(ae,be,Oe,Re)}}modifyPosition(h,S){this._assertNotDisposed();const W=this.getOffsetAt(h)+S;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,W)))}getFullModelRange(){this._assertNotDisposed();const h=this.getLineCount();return new k.e(1,1,h,this.getLineMaxColumn(h))}findMatchesLineByLine(h,S,W,te){return this._buffer.findMatchesLineByLine(h,S,W,te)}findMatches(h,S,W,te,ae,be,Oe=999){this._assertNotDisposed();let Re=null;null!==S&&(Array.isArray(S)||(S=[S]),S.every(it=>k.e.isIRange(it))&&(Re=S.map(it=>this.validateRange(it)))),null===Re&&(Re=[this.getFullModelRange()]),Re=Re.sort((it,ft)=>it.startLineNumber-ft.startLineNumber||it.startColumn-ft.startColumn);const Ze=[];let Je;if(Ze.push(Re.reduce((it,ft)=>k.e.areIntersecting(it,ft)?it.plusRange(ft):(Ze.push(it),ft))),!W&&h.indexOf("\n")<0){const ft=new Kt.bc(h,W,te,ae).parseSearchRequest();if(!ft)return[];Je=gt=>this.findMatchesLineByLine(gt,ft,be,Oe)}else Je=it=>Kt.pM.findMatches(this,new Kt.bc(h,W,te,ae),it,be,Oe);return Ze.map(Je).reduce((it,ft)=>it.concat(ft),[])}findNextMatch(h,S,W,te,ae,be){this._assertNotDisposed();const Oe=this.validatePosition(S);if(!W&&h.indexOf("\n")<0){const Ze=new Kt.bc(h,W,te,ae).parseSearchRequest();if(!Ze)return null;const Je=this.getLineCount();let it=new k.e(Oe.lineNumber,Oe.column,Je,this.getLineMaxColumn(Je)),ft=this.findMatchesLineByLine(it,Ze,be,1);return Kt.pM.findNextMatch(this,new Kt.bc(h,W,te,ae),Oe,be),ft.length>0||(it=new k.e(1,1,Oe.lineNumber,this.getLineMaxColumn(Oe.lineNumber)),ft=this.findMatchesLineByLine(it,Ze,be,1),ft.length>0)?ft[0]:null}return Kt.pM.findNextMatch(this,new Kt.bc(h,W,te,ae),Oe,be)}findPreviousMatch(h,S,W,te,ae,be){this._assertNotDisposed();const Oe=this.validatePosition(S);return Kt.pM.findPreviousMatch(this,new Kt.bc(h,W,te,ae),Oe,be)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(h){if(("\n"===this.getEOL()?0:1)!==h)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(h)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(h){return h instanceof C.Qi?h:new C.Qi(h.identifier||null,this.validateRange(h.range),h.text,h.forceMoveMarkers||!1,h.isAutoWhitespaceEdit||!1,h._isTracked||!1)}_validateEditOperations(h){const S=[];for(let W=0,te=h.length;W<te;W++)S[W]=this._validateEditOperation(h[W]);return S}pushEditOperations(h,S,W){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(h,this._validateEditOperations(S),W)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(h,S,W){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const te=S.map(be=>({range:this.validateRange(be.range),text:be.text}));let ae=!0;if(h)for(let be=0,Oe=h.length;be<Oe;be++){const Re=h[be];let Ze=!1;for(let Je=0,it=te.length;Je<it;Je++){const ft=te[Je].range,Nt=Re.startLineNumber>ft.endLineNumber;if(!(ft.startLineNumber>Re.endLineNumber||Nt)){Ze=!0;break}}if(!Ze){ae=!1;break}}if(ae)for(let be=0,Oe=this._trimAutoWhitespaceLines.length;be<Oe;be++){const Re=this._trimAutoWhitespaceLines[be],Ze=this.getLineMaxColumn(Re);let Je=!0;for(let it=0,ft=te.length;it<ft;it++){const gt=te[it].range,Nt=te[it].text;if(!(Re<gt.startLineNumber||Re>gt.endLineNumber||Re===gt.startLineNumber&&gt.startColumn===Ze&&gt.isEmpty()&&Nt&&Nt.length>0&&"\n"===Nt.charAt(0)||Re===gt.startLineNumber&&1===gt.startColumn&&gt.isEmpty()&&Nt&&Nt.length>0&&"\n"===Nt.charAt(Nt.length-1))){Je=!1;break}}if(Je){const it=new k.e(Re,1,Re,Ze);S.push(new C.Qi(null,it,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(h,S,W)}_applyUndo(h,S,W,te){const ae=h.map(be=>{const Oe=this.getPositionAt(be.newPosition),Re=this.getPositionAt(be.newEnd);return{range:new k.e(Oe.lineNumber,Oe.column,Re.lineNumber,Re.column),text:be.oldText}});this._applyUndoRedoEdits(ae,S,!0,!1,W,te)}_applyRedo(h,S,W,te){const ae=h.map(be=>{const Oe=this.getPositionAt(be.oldPosition),Re=this.getPositionAt(be.oldEnd);return{range:new k.e(Oe.lineNumber,Oe.column,Re.lineNumber,Re.column),text:be.newText}});this._applyUndoRedoEdits(ae,S,!1,!0,W,te)}_applyUndoRedoEdits(h,S,W,te,ae,be){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=W,this._isRedoing=te,this.applyEdits(h,!1),this.setEOL(S),this._overwriteAlternativeVersionId(ae)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(be),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(h,S=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const W=this._validateEditOperations(h);return this._doApplyEdits(W,S)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(h,S){const W=this._buffer.getLineCount(),te=this._buffer.applyEdits(h,this._options.trimAutoWhitespace,S),ae=this._buffer.getLineCount(),be=te.changes;if(this._trimAutoWhitespaceLines=te.trimAutoWhitespaceLineNumbers,0!==be.length){for(let Ze=0,Je=be.length;Ze<Je;Ze++){const it=be[Ze],[ft,gt,Nt]=(0,rn.Q)(it.text);this._tokens.acceptEdit(it.range,ft,gt),this._semanticTokens.acceptEdit(it.range,ft,gt,Nt,it.text.length>0?it.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(it.rangeOffset,it.rangeLength,it.text.length,it.forceMoveMarkers)}const Oe=[];this._increaseVersionId();let Re=W;for(let Ze=0,Je=be.length;Ze<Je;Ze++){const it=be[Ze],[ft]=(0,rn.Q)(it.text);this._onDidChangeDecorations.fire();const gt=it.range.startLineNumber,Nt=it.range.endLineNumber,Wt=Nt-gt,Gt=ft,Nn=Math.min(Wt,Gt),qn=Gt-Wt,di=ae-Re-qn+gt,Pi=di+Gt,ci=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new F.L(di,1)),this.getOffsetAt(new F.L(Pi,this.getLineMaxColumn(Pi))),0),mo=Kn.gk.fromDecorations(ci),As=new E.H9(mo);for(let ps=Nn;ps>=0;ps--){const $r=gt+ps,Co=di+ps;As.takeFromEndWhile(Zr=>Zr.lineNumber>Co);const no=As.takeFromEndWhile(Zr=>Zr.lineNumber===Co);Oe.push(new Kn.rU($r,this.getLineContent(Co),no))}if(Nn<Wt&&Oe.push(new Kn.lN(gt+Nn+1,Nt)),Nn<Gt){const ps=new E.H9(mo),$r=gt+Nn,Co=Gt-Nn,no=ae-Re-Co+$r+1,Zr=[],qa=[];for(let vr=0;vr<Co;vr++){const ts=no+vr;qa[vr]=this.getLineContent(ts),ps.takeWhile(ar=>ar.lineNumber<ts),Zr[vr]=ps.takeWhile(ar=>ar.lineNumber===ts)}Oe.push(new Kn.Tx($r+1,gt+Gt,qa,Zr))}Re+=qn}this._emitContentChangedEvent(new Kn.dQ(Oe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:be,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===te.reverseEdits?void 0:te.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(h){if(null===h||0===h.size)return;const W=[...h].map(te=>new Kn.rU(te,this.getLineContent(te),this._getInjectedTextInLine(te)));this._onDidChangeInjectedText.fire(new Kn.D8(W))}changeDecorations(h,S=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(S,h)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(h,S){const W={addDecoration:(ae,be)=>this._deltaDecorationsImpl(h,[],[{range:ae,options:be}])[0],changeDecoration:(ae,be)=>{this._changeDecorationImpl(ae,be)},changeDecorationOptions:(ae,be)=>{this._changeDecorationOptionsImpl(ae,fs(be))},removeDecoration:ae=>{this._deltaDecorationsImpl(h,[ae],[])},deltaDecorations:(ae,be)=>0===ae.length&&0===be.length?[]:this._deltaDecorationsImpl(h,ae,be)};let te=null;try{te=S(W)}catch(ae){(0,Y.dL)(ae)}return W.addDecoration=Ro,W.changeDecoration=Ro,W.changeDecorationOptions=Ro,W.removeDecoration=Ro,W.deltaDecorations=Ro,te}deltaDecorations(h,S,W=0){if(this._assertNotDisposed(),h||(h=[]),0===h.length&&0===S.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(W,h,S)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(h){return this.getDecorationRange(h)}_setTrackedRange(h,S,W){const te=h?this._decorations[h]:null;if(!te)return S?this._deltaDecorationsImpl(0,[],[{range:S,options:Os[W]}])[0]:null;if(!S)return this._decorationsTree.delete(te),delete this._decorations[te.id],null;const ae=this._validateRangeRelaxedNoAllocations(S),be=this._buffer.getOffsetAt(ae.startLineNumber,ae.startColumn),Oe=this._buffer.getOffsetAt(ae.endLineNumber,ae.endColumn);return this._decorationsTree.delete(te),te.reset(this.getVersionId(),be,Oe,ae),te.setOptions(Os[W]),this._decorationsTree.insert(te),te.id}removeAllDecorationsWithOwnerId(h){if(this._isDisposed)return;const S=this._decorationsTree.collectNodesFromOwner(h);for(let W=0,te=S.length;W<te;W++){const ae=S[W];this._decorationsTree.delete(ae),delete this._decorations[ae.id]}}getDecorationOptions(h){const S=this._decorations[h];return S?S.options:null}getDecorationRange(h){const S=this._decorations[h];return S?this._decorationsTree.getNodeRange(this,S):null}getLineDecorations(h,S=0,W=!1){return h<1||h>this.getLineCount()?[]:this.getLinesDecorations(h,h,S,W)}getLinesDecorations(h,S,W=0,te=!1){const ae=this.getLineCount(),be=Math.min(ae,Math.max(1,h)),Oe=Math.min(ae,Math.max(1,S)),Re=this.getLineMaxColumn(Oe),Ze=new k.e(be,1,Oe,Re),Je=this._getDecorationsInRange(Ze,W,te);return Je.push(...this._decorationProvider.getDecorationsInRange(Ze,W,te)),Je}getDecorationsInRange(h,S=0,W=!1){const te=this.validateRange(h),ae=this._getDecorationsInRange(te,S,W);return ae.push(...this._decorationProvider.getDecorationsInRange(te,S,W)),ae}getOverviewRulerDecorations(h=0,S=!1){return this._decorationsTree.getAll(this,h,S,!0)}getInjectedTextDecorations(h=0){return this._decorationsTree.getAllInjectedText(this,h)}_getInjectedTextInLine(h){const S=this._buffer.getOffsetAt(h,1),W=S+this._buffer.getLineLength(h),te=this._decorationsTree.getInjectedTextInInterval(this,S,W,0);return Kn.gk.fromDecorations(te).filter(ae=>ae.lineNumber===h)}getAllDecorations(h=0,S=!1){let W=this._decorationsTree.getAll(this,h,S,!1);return W=W.concat(this._decorationProvider.getAllDecorations(h,S)),W}_getDecorationsInRange(h,S,W){const te=this._buffer.getOffsetAt(h.startLineNumber,h.startColumn),ae=this._buffer.getOffsetAt(h.endLineNumber,h.endColumn);return this._decorationsTree.getAllInInterval(this,te,ae,S,W)}getRangeAt(h,S){return this._buffer.getRangeAt(h,S-h)}_changeDecorationImpl(h,S){const W=this._decorations[h];if(!W)return;if(W.options.after){const Oe=this.getDecorationRange(h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Oe.endLineNumber)}if(W.options.before){const Oe=this.getDecorationRange(h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Oe.startLineNumber)}const te=this._validateRangeRelaxedNoAllocations(S),ae=this._buffer.getOffsetAt(te.startLineNumber,te.startColumn),be=this._buffer.getOffsetAt(te.endLineNumber,te.endColumn);this._decorationsTree.delete(W),W.reset(this.getVersionId(),ae,be,te),this._decorationsTree.insert(W),this._onDidChangeDecorations.checkAffectedAndFire(W.options),W.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(te.endLineNumber),W.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(te.startLineNumber)}_changeDecorationOptionsImpl(h,S){const W=this._decorations[h];if(!W)return;const te=!(!W.options.overviewRuler||!W.options.overviewRuler.color),ae=!(!S.overviewRuler||!S.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(W.options),this._onDidChangeDecorations.checkAffectedAndFire(S),W.options.after||S.after){const be=this._decorationsTree.getNodeRange(this,W);this._onDidChangeDecorations.recordLineAffectedByInjectedText(be.endLineNumber)}if(W.options.before||S.before){const be=this._decorationsTree.getNodeRange(this,W);this._onDidChangeDecorations.recordLineAffectedByInjectedText(be.startLineNumber)}te!==ae?(this._decorationsTree.delete(W),W.setOptions(S),this._decorationsTree.insert(W)):W.setOptions(S)}_deltaDecorationsImpl(h,S,W){const te=this.getVersionId(),ae=S.length;let be=0;const Oe=W.length;let Re=0;const Ze=new Array(Oe);for(;be<ae||Re<Oe;){let Je=null;if(be<ae){do{Je=this._decorations[S[be++]]}while(!Je&&be<ae);if(Je){if(Je.options.after){const it=this._decorationsTree.getNodeRange(this,Je);this._onDidChangeDecorations.recordLineAffectedByInjectedText(it.endLineNumber)}if(Je.options.before){const it=this._decorationsTree.getNodeRange(this,Je);this._onDidChangeDecorations.recordLineAffectedByInjectedText(it.startLineNumber)}this._decorationsTree.delete(Je),this._onDidChangeDecorations.checkAffectedAndFire(Je.options)}}if(Re<Oe){if(!Je){const Gt=++this._lastDecorationId,Nn=`${this._instanceId};${Gt}`;Je=new xe(Nn,0,0),this._decorations[Nn]=Je}const it=W[Re],ft=this._validateRangeRelaxedNoAllocations(it.range),gt=fs(it.options),Nt=this._buffer.getOffsetAt(ft.startLineNumber,ft.startColumn),Wt=this._buffer.getOffsetAt(ft.endLineNumber,ft.endColumn);Je.ownerId=h,Je.reset(te,Nt,Wt,ft),Je.setOptions(gt),Je.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ft.endLineNumber),Je.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ft.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(gt),this._decorationsTree.insert(Je),Ze[Re]=Je.id,Re++}else Je&&delete this._decorations[Je.id]}return Ze}setTokens(h,S=!1){if(0!==h.length){const W=[];for(let te=0,ae=h.length;te<ae;te++){const be=h[te];let Oe=0,Re=0,Ze=!1;for(let Je=be.startLineNumber;Je<=be.endLineNumber;Je++)Ze?(this._tokens.setTokens(this._languageId,Je-1,this._buffer.getLineLength(Je),be.getLineTokens(Je),!1),Re=Je):this._tokens.setTokens(this._languageId,Je-1,this._buffer.getLineLength(Je),be.getLineTokens(Je),!0)&&(Ze=!0,Oe=Je,Re=Je);Ze&&W.push({fromLineNumber:Oe,toLineNumber:Re})}W.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:W})}this.handleTokenizationProgress(S)}setSemanticTokens(h,S){this._semanticTokens.set(h,S),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==h,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(h,S){if(this.hasCompleteSemanticTokens())return;const W=this.validateRange(this._semanticTokens.setPartial(h,S));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:W.startLineNumber,toLineNumber:W.endLineNumber}]})}tokenizeViewport(h,S){h=Math.max(1,h),S=Math.min(this._buffer.getLineCount(),S),this._tokenization.tokenizeViewport(h,S)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(h){this._isDisposing||(this._bracketPairColorizer.handleDidChangeTokens(h),this._onDidChangeTokens.fire(h))}resetTokenization(){this._tokenization.reset()}forceTokenization(h){if(h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(h)}isCheapToTokenize(h){return this._tokenization.isCheapToTokenize(h)}tokenizeIfCheap(h){this.isCheapToTokenize(h)&&this.forceTokenization(h)}getLineTokens(h){if(h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(h)}_getLineTokens(h){const S=this.getLineContent(h),W=this._tokens.getTokens(this._languageId,h-1,S);return this._semanticTokens.addSparseTokens(h,W)}getLanguageId(){return this._languageId}setMode(h){if(this._languageId===h)return;const S={oldLanguage:this._languageId,newLanguage:h};this._languageId=h,this._bracketPairColorizer.handleDidChangeLanguage(S),this._tokenization.handleDidChangeLanguage(S),this._onDidChangeLanguage.fire(S),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(h,S){const W=this.validatePosition(new F.L(h,S)),te=this.getLineTokens(W.lineNumber);return te.getLanguageId(te.findTokenIndexAtOffset(W.column-1))}getTokenTypeIfInsertingCharacter(h,S,W){const te=this.validatePosition(new F.L(h,S));return this._tokenization.getTokenTypeIfInsertingCharacter(te,W)}tokenizeLineWithEdit(h,S,W){const te=this.validatePosition(h);return this._tokenization.tokenizeLineWithEdit(te,S,W)}getLanguageConfiguration(h){return this._languageConfigurationService.getLanguageConfiguration(h)}getWordAtPosition(h){this._assertNotDisposed();const S=this.validatePosition(h),W=this.getLineContent(S.lineNumber),te=this._getLineTokens(S.lineNumber),ae=te.findTokenIndexAtOffset(S.column-1),[be,Oe]=gu._findLanguageBoundaries(te,ae),Re=(0,yo.t2)(S.column,this.getLanguageConfiguration(te.getLanguageId(ae)).getWordDefinition(),W.substring(be,Oe),be);if(Re&&Re.startColumn<=h.column&&h.column<=Re.endColumn)return Re;if(ae>0&&be===S.column-1){const[Ze,Je]=gu._findLanguageBoundaries(te,ae-1),it=(0,yo.t2)(S.column,this.getLanguageConfiguration(te.getLanguageId(ae-1)).getWordDefinition(),W.substring(Ze,Je),Ze);if(it&&it.startColumn<=h.column&&h.column<=it.endColumn)return it}return null}static _findLanguageBoundaries(h,S){const W=h.getLanguageId(S);let te=0;for(let be=S;be>=0&&h.getLanguageId(be)===W;be--)te=h.getStartOffset(be);let ae=h.getLineContent().length;for(let be=S,Oe=h.getCount();be<Oe&&h.getLanguageId(be)===W;be++)ae=h.getEndOffset(be);return[te,ae]}getWordUntilPosition(h){const S=this.getWordAtPosition(h);return S?{word:S.word.substr(0,h.column-S.startColumn),startColumn:S.startColumn,endColumn:h.column}:{word:"",startColumn:h.column,endColumn:h.column}}normalizePosition(h,S){return h}getLineIndentColumn(h){return function(A){let h=0;for(const S of A){if(" "!==S&&"\t"!==S)break;h++}return h}(this.getLineContent(h))+1}};function Qs(A){return!(!A.options.overviewRuler||!A.options.overviewRuler.color)}function sr(A){return!!A.options.after||!!A.options.before}Lo.MODEL_SYNC_LIMIT=52428800,Lo.LARGE_FILE_SIZE_THRESHOLD=20971520,Lo.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Lo.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:go.D.tabSize,indentSize:go.D.indentSize,insertSpaces:go.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:go.D.trimAutoWhitespace,largeFileOptimizations:go.D.largeFileOptimizations,bracketPairColorizationOptions:go.D.bracketPairColorizationOptions},Lo=function(A,h,S,W){var be,te=arguments.length,ae=te<3?h:null===W?W=Object.getOwnPropertyDescriptor(h,S):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(A,h,S,W);else for(var Oe=A.length-1;Oe>=0;Oe--)(be=A[Oe])&&(ae=(te<3?be(ae):te>3?be(h,S,ae):be(h,S))||ae);return te>3&&ae&&Object.defineProperty(h,S,ae),ae}([ds(4,ys.tJ),ds(5,To.O),ds(6,Yi.c_)],Lo);class Or{constructor(){this._decorationsTree0=new at,this._decorationsTree1=new at,this._injectedTextDecorationsTree=new at}ensureAllNodesHaveRanges(h){this.getAll(h,0,!1,!1)}_ensureNodesHaveRanges(h,S){for(const W of S)null===W.range&&(W.range=h.getRangeAt(W.cachedAbsoluteStart,W.cachedAbsoluteEnd));return S}getAllInInterval(h,S,W,te,ae){const be=h.getVersionId(),Oe=this._intervalSearch(S,W,te,ae,be);return this._ensureNodesHaveRanges(h,Oe)}_intervalSearch(h,S,W,te,ae){const be=this._decorationsTree0.intervalSearch(h,S,W,te,ae),Oe=this._decorationsTree1.intervalSearch(h,S,W,te,ae),Re=this._injectedTextDecorationsTree.intervalSearch(h,S,W,te,ae);return be.concat(Oe).concat(Re)}getInjectedTextInInterval(h,S,W,te){const ae=h.getVersionId(),be=this._injectedTextDecorationsTree.intervalSearch(S,W,te,!1,ae);return this._ensureNodesHaveRanges(h,be).filter(Oe=>Oe.options.showIfCollapsed||!Oe.range.isEmpty())}getAllInjectedText(h,S){const W=h.getVersionId(),te=this._injectedTextDecorationsTree.search(S,!1,W);return this._ensureNodesHaveRanges(h,te).filter(ae=>ae.options.showIfCollapsed||!ae.range.isEmpty())}getAll(h,S,W,te){const ae=h.getVersionId(),be=this._search(S,W,te,ae);return this._ensureNodesHaveRanges(h,be)}_search(h,S,W,te){if(W)return this._decorationsTree1.search(h,S,te);{const ae=this._decorationsTree0.search(h,S,te),be=this._decorationsTree1.search(h,S,te),Oe=this._injectedTextDecorationsTree.search(h,S,te);return ae.concat(be).concat(Oe)}}collectNodesFromOwner(h){const S=this._decorationsTree0.collectNodesFromOwner(h),W=this._decorationsTree1.collectNodesFromOwner(h),te=this._injectedTextDecorationsTree.collectNodesFromOwner(h);return S.concat(W).concat(te)}collectNodesPostOrder(){const h=this._decorationsTree0.collectNodesPostOrder(),S=this._decorationsTree1.collectNodesPostOrder(),W=this._injectedTextDecorationsTree.collectNodesPostOrder();return h.concat(S).concat(W)}insert(h){sr(h)?this._injectedTextDecorationsTree.insert(h):Qs(h)?this._decorationsTree1.insert(h):this._decorationsTree0.insert(h)}delete(h){sr(h)?this._injectedTextDecorationsTree.delete(h):Qs(h)?this._decorationsTree1.delete(h):this._decorationsTree0.delete(h)}getNodeRange(h,S){const W=h.getVersionId();return S.cachedVersionId!==W&&this._resolveNode(S,W),null===S.range&&(S.range=h.getRangeAt(S.cachedAbsoluteStart,S.cachedAbsoluteEnd)),S.range}_resolveNode(h,S){sr(h)?this._injectedTextDecorationsTree.resolveNode(h,S):Qs(h)?this._decorationsTree1.resolveNode(h,S):this._decorationsTree0.resolveNode(h,S)}acceptReplace(h,S,W,te){this._decorationsTree0.acceptReplace(h,S,W,te),this._decorationsTree1.acceptReplace(h,S,W,te),this._injectedTextDecorationsTree.acceptReplace(h,S,W,te)}}function Wo(A){return A.replace(/[^a-z0-9\-_]/gi," ")}class xs{constructor(h){this.color=h.color||"",this.darkColor=h.darkColor||""}}class rr extends xs{constructor(h){super(h),this._resolvedColor=null,this.position="number"==typeof h.position?h.position:C.sh.Center}getColor(h){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==h.type&&this.darkColor?this.darkColor:this.color,h)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(h,S){if("string"==typeof h)return h;const W=h?S.getColor(h.id):null;return W?W.toString():""}}class Ea extends xs{constructor(h){super(h),this.position=h.position}getColor(h){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==h.type&&this.darkColor?this.darkColor:this.color,h)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(h,S){return"string"==typeof h?g.Il.fromHex(h):S.getColor(h.id)}}class Ki{constructor(h){this.content=h.content||"",this.inlineClassName=h.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=h.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=h.attachedData||null,this.cursorStops=h.cursorStops||null}static from(h){return h instanceof Ki?h:new Ki(h)}}class Do{constructor(h){var S,W;this.description=h.description,this.stickiness=h.stickiness||0,this.zIndex=h.zIndex||0,this.className=h.className?Wo(h.className):null,this.hoverMessage=h.hoverMessage||null,this.glyphMarginHoverMessage=h.glyphMarginHoverMessage||null,this.isWholeLine=h.isWholeLine||!1,this.showIfCollapsed=h.showIfCollapsed||!1,this.collapseOnReplaceEdit=h.collapseOnReplaceEdit||!1,this.overviewRuler=h.overviewRuler?new rr(h.overviewRuler):null,this.minimap=h.minimap?new Ea(h.minimap):null,this.glyphMarginClassName=h.glyphMarginClassName?Wo(h.glyphMarginClassName):null,this.linesDecorationsClassName=h.linesDecorationsClassName?Wo(h.linesDecorationsClassName):null,this.firstLineDecorationClassName=h.firstLineDecorationClassName?Wo(h.firstLineDecorationClassName):null,this.marginClassName=h.marginClassName?Wo(h.marginClassName):null,this.inlineClassName=h.inlineClassName?Wo(h.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=h.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=h.beforeContentClassName?Wo(h.beforeContentClassName):null,this.afterContentClassName=h.afterContentClassName?Wo(h.afterContentClassName):null,this.after=h.after?Ki.from(h.after):null,this.before=h.before?Ki.from(h.before):null,this.hideInCommentTokens=null!==(S=h.hideInCommentTokens)&&void 0!==S&&S,this.hideInStringTokens=null!==(W=h.hideInStringTokens)&&void 0!==W&&W}static register(h){return new Do(h)}static createDynamic(h){return new Do(h)}}Do.EMPTY=Do.register({description:"empty"});const Os=[Do.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Do.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Do.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Do.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function fs(A){return A instanceof Do?A:Do.createDynamic(A)}class wl extends D.JT{constructor(h){super(),this.handleBeforeFire=h,this._actual=this._register(new B.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var h;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const S={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(S)}null===(h=this._affectedInjectedTextLines)||void 0===h||h.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(h){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(h)}checkAffectedAndFire(h){this._affectsMinimap||(this._affectsMinimap=!(!h.minimap||!h.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!h.overviewRuler||!h.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class yt extends D.JT{constructor(){super(),this._fastEmitter=this._register(new B.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new B.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(h=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=h;const S=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(S),this._slowEmitter.fire(S)}}fire(h){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(h):h:(this._fastEmitter.fire(h),this._slowEmitter.fire(h))}}},82711:(Fe,Ne,m)=>{m.d(Ne,{bc:()=>O,iE:()=>k,pM:()=>C,cM:()=>f,sz:()=>M});var E=m(74243),g=m(81346),Y=m(67947),B=m(1873),D=m(80067);class O{constructor(L,N,Z,P){this.searchString=L,this.isRegex=N,this.matchCase=Z,this.wordSeparators=P}parseSearchRequest(){if(""===this.searchString)return null;let L;L=this.isRegex?function(H){if(!H||0===H.length)return!1;for(let L=0,N=H.length;L<N;L++)if(92===H.charCodeAt(L)){if(L++,L>=N)break;const P=H.charCodeAt(L);if(110===P||114===P||87===P)return!0}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let N=null;try{N=E.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:L,global:!0,unicode:!0})}catch{return null}if(!N)return null;let Z=!this.isRegex&&!L;return Z&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(Z=this.matchCase),new D.Tx(N,this.wordSeparators?(0,g.u)(this.wordSeparators):null,Z?this.searchString:null)}}function k(H,L,N){if(!N)return new D.tk(H,null);const Z=[];for(let P=0,I=L.length;P<I;P++)Z[P]=L[P];return new D.tk(H,Z)}class y{constructor(L){const N=[];let Z=0;for(let P=0,I=L.length;P<I;P++)10===L.charCodeAt(P)&&(N[Z++]=P);this._lineFeedsOffsets=N}findLineFeedCountBeforeOffset(L){const N=this._lineFeedsOffsets;let Z=0,P=N.length-1;if(-1===P||L<=N[0])return 0;for(;Z<P;){const I=Z+((P-Z)/2>>0);N[I]>=L?P=I-1:N[I+1]>=L?(Z=I,P=I):Z=I+1}return Z+1}}class C{static findMatches(L,N,Z,P,I){const $=N.parseSearchRequest();return $?$.regex.multiline?this._doFindMatchesMultiline(L,Z,new M($.wordSeparators,$.regex),P,I):this._doFindMatchesLineByLine(L,Z,$,P,I):[]}static _getMultilineMatchRange(L,N,Z,P,I,$){let U,oe,G=0;if(P?(G=P.findLineFeedCountBeforeOffset(I),U=N+I+G):U=N+I,P){const we=P.findLineFeedCountBeforeOffset(I+$.length)-G;oe=U+$.length+we}else oe=U+$.length;const de=L.getPositionAt(U),fe=L.getPositionAt(oe);return new B.e(de.lineNumber,de.column,fe.lineNumber,fe.column)}static _doFindMatchesMultiline(L,N,Z,P,I){const $=L.getOffsetAt(N.getStartPosition()),U=L.getValueInRange(N,1),G="\r\n"===L.getEOL()?new y(U):null,oe=[];let fe,de=0;for(Z.reset(0);fe=Z.next(U);)if(oe[de++]=k(this._getMultilineMatchRange(L,$,U,G,fe.index,fe[0]),fe,P),de>=I)return oe;return oe}static _doFindMatchesLineByLine(L,N,Z,P,I){const $=[];let U=0;if(N.startLineNumber===N.endLineNumber){const oe=L.getLineContent(N.startLineNumber).substring(N.startColumn-1,N.endColumn-1);return U=this._findMatchesInLine(Z,oe,N.startLineNumber,N.startColumn-1,U,$,P,I),$}const G=L.getLineContent(N.startLineNumber).substring(N.startColumn-1);U=this._findMatchesInLine(Z,G,N.startLineNumber,N.startColumn-1,U,$,P,I);for(let oe=N.startLineNumber+1;oe<N.endLineNumber&&U<I;oe++)U=this._findMatchesInLine(Z,L.getLineContent(oe),oe,0,U,$,P,I);if(U<I){const oe=L.getLineContent(N.endLineNumber).substring(0,N.endColumn-1);U=this._findMatchesInLine(Z,oe,N.endLineNumber,0,U,$,P,I)}return $}static _findMatchesInLine(L,N,Z,P,I,$,U,G){const oe=L.wordSeparators;if(!U&&L.simpleSearch){const _e=L.simpleSearch,we=_e.length,me=N.length;let Q=-we;for(;-1!==(Q=N.indexOf(_e,Q+we));)if((!oe||f(oe,N,me,Q,we))&&($[I++]=new D.tk(new B.e(Z,Q+1+P,Z,Q+1+we+P),null),I>=G))return I;return I}const de=new M(L.wordSeparators,L.regex);let fe;de.reset(0);do{if(fe=de.next(N),fe&&($[I++]=k(new B.e(Z,fe.index+1+P,Z,fe.index+1+fe[0].length+P),fe,U),I>=G))return I}while(fe);return I}static findNextMatch(L,N,Z,P){const I=N.parseSearchRequest();if(!I)return null;const $=new M(I.wordSeparators,I.regex);return I.regex.multiline?this._doFindNextMatchMultiline(L,Z,$,P):this._doFindNextMatchLineByLine(L,Z,$,P)}static _doFindNextMatchMultiline(L,N,Z,P){const I=new Y.L(N.lineNumber,1),$=L.getOffsetAt(I),U=L.getLineCount(),G=L.getValueInRange(new B.e(I.lineNumber,I.column,U,L.getLineMaxColumn(U)),1),oe="\r\n"===L.getEOL()?new y(G):null;Z.reset(N.column-1);let de=Z.next(G);return de?k(this._getMultilineMatchRange(L,$,G,oe,de.index,de[0]),de,P):1!==N.lineNumber||1!==N.column?this._doFindNextMatchMultiline(L,new Y.L(1,1),Z,P):null}static _doFindNextMatchLineByLine(L,N,Z,P){const I=L.getLineCount(),$=N.lineNumber,U=L.getLineContent($),G=this._findFirstMatchInLine(Z,U,$,N.column,P);if(G)return G;for(let oe=1;oe<=I;oe++){const de=($+oe-1)%I,fe=L.getLineContent(de+1),_e=this._findFirstMatchInLine(Z,fe,de+1,1,P);if(_e)return _e}return null}static _findFirstMatchInLine(L,N,Z,P,I){L.reset(P-1);const $=L.next(N);return $?k(new B.e(Z,$.index+1,Z,$.index+1+$[0].length),$,I):null}static findPreviousMatch(L,N,Z,P){const I=N.parseSearchRequest();if(!I)return null;const $=new M(I.wordSeparators,I.regex);return I.regex.multiline?this._doFindPreviousMatchMultiline(L,Z,$,P):this._doFindPreviousMatchLineByLine(L,Z,$,P)}static _doFindPreviousMatchMultiline(L,N,Z,P){const I=this._doFindMatchesMultiline(L,new B.e(1,1,N.lineNumber,N.column),Z,P,9990);if(I.length>0)return I[I.length-1];const $=L.getLineCount();return N.lineNumber!==$||N.column!==L.getLineMaxColumn($)?this._doFindPreviousMatchMultiline(L,new Y.L($,L.getLineMaxColumn($)),Z,P):null}static _doFindPreviousMatchLineByLine(L,N,Z,P){const I=L.getLineCount(),$=N.lineNumber,U=L.getLineContent($).substring(0,N.column-1),G=this._findLastMatchInLine(Z,U,$,P);if(G)return G;for(let oe=1;oe<=I;oe++){const de=(I+$-oe-1)%I,fe=L.getLineContent(de+1),_e=this._findLastMatchInLine(Z,fe,de+1,P);if(_e)return _e}return null}static _findLastMatchInLine(L,N,Z,P){let $,I=null;for(L.reset(0);$=L.next(N);)I=k(new B.e(Z,$.index+1,Z,$.index+1+$[0].length),$,P);return I}}function f(H,L,N,Z,P){return function(H,L,N,Z,P){if(0===Z)return!0;const I=L.charCodeAt(Z-1);if(0!==H.get(I)||13===I||10===I)return!0;if(P>0){const $=L.charCodeAt(Z);if(0!==H.get($))return!0}return!1}(H,L,0,Z,P)&&function(H,L,N,Z,P){if(Z+P===N)return!0;const I=L.charCodeAt(Z+P);if(0!==H.get(I)||13===I||10===I)return!0;if(P>0){const $=L.charCodeAt(Z+P-1);if(0!==H.get($))return!0}return!1}(H,L,N,Z,P)}class M{constructor(L,N){this._wordSeparators=L,this._searchRegex=N,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(L){this._searchRegex.lastIndex=L,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(L){const N=L.length;let Z;do{if(this._prevMatchStartIndex+this._prevMatchLength===N||(Z=this._searchRegex.exec(L),!Z))return null;const P=Z.index,I=Z[0].length;if(P===this._prevMatchStartIndex&&I===this._prevMatchLength){if(0===I){E.ZH(L,N,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=P,this._prevMatchLength=I,!this._wordSeparators||f(this._wordSeparators,L,N,P,I))return Z}while(Z);return null}}},50817:(Fe,Ne,m)=>{function E(g,Y){let B=0,D=0;const i=g.length;for(;D<i;){const O=g.charCodeAt(D);if(32===O)B++;else{if(9!==O)break;B=B-B%Y+Y}D++}return D===i?-1:B}m.d(Ne,{q:()=>E})},78339:(Fe,Ne,m)=>{m.d(Ne,{p:()=>Y});const Y=(0,m(43569).yh)("editorWorkerService")},82437:(Fe,Ne,m)=>{m.d(Ne,{OG:()=>de,ML:()=>I,KO:()=>G,Jc:()=>Z,Vl:()=>H,Vj:()=>L});var E=m(66607),g=m(13226),Y=m(85459),B=m(39067),D=m(10467),i=m(99770),O=m(90386),F=m(70700);function C(fe){const _e=new Uint32Array(function(fe){let _e=0;if(_e+=2,"full"===fe.type)_e+=1+fe.data.length;else{_e+=1,_e+=3*fe.deltas.length;for(const we of fe.deltas)we.data&&(_e+=we.data.length)}return _e}(fe));let we=0;if(_e[we++]=fe.id,"full"===fe.type)_e[we++]=1,_e[we++]=fe.data.length,_e.set(fe.data,we),we+=fe.data.length;else{_e[we++]=2,_e[we++]=fe.deltas.length;for(const me of fe.deltas)_e[we++]=me.start,_e[we++]=me.deleteCount,me.data?(_e[we++]=me.data.length,_e.set(me.data,we),we+=me.data.length):_e[we++]=0}return function(fe){const _e=new Uint8Array(fe.buffer,fe.byteOffset,4*fe.length);return F.r()||function(fe){for(let _e=0,we=fe.length;_e<we;_e+=4){const me=fe[_e+0],Q=fe[_e+1],q=fe[_e+2];fe[_e+0]=fe[_e+3],fe[_e+1]=q,fe[_e+2]=Q,fe[_e+3]=me}}(_e),O.KN.wrap(_e)}(_e)}var x=m(1873),f=m(3494),M=function(fe,_e,we,me){return new(we||(we=Promise))(function(q,le){function ee(ce){try{re(me.next(ce))}catch(ve){le(ve)}}function J(ce){try{re(me.throw(ce))}catch(ve){le(ve)}}function re(ce){ce.done?q(ce.value):function(q){return q instanceof we?q:new we(function(le){le(q)})}(ce.value).then(ee,J)}re((me=me.apply(fe,_e||[])).next())})};function H(fe){return fe&&!!fe.data}function L(fe){return fe&&Array.isArray(fe.edits)}class N{constructor(_e,we,me){this.provider=_e,this.tokens=we,this.error=me}}function Z(fe,_e){return fe.has(_e)}function I(fe,_e,we,me,Q){return M(this,void 0,void 0,function*(){const q=function(fe,_e){const we=fe.orderedGroups(_e);return we.length>0?we[0]:[]}(fe,_e),le=yield Promise.all(q.map(ee=>M(this,void 0,void 0,function*(){let J,re=null;try{J=yield ee.provideDocumentSemanticTokens(_e,ee===we?me:null,Q)}catch(ce){re=ce,J=null}return(!J||!H(J)&&!L(J))&&(J=null),new N(ee,J,re)})));for(const ee of le){if(ee.error)throw ee.error;if(ee.tokens)return ee}return le.length>0?le[0]:null})}class U{constructor(_e,we){this.provider=_e,this.tokens=we}}function G(fe,_e){return fe.has(_e)}function oe(fe,_e){const we=fe.orderedGroups(_e);return we.length>0?we[0]:[]}function de(fe,_e,we,me){return M(this,void 0,void 0,function*(){const Q=oe(fe,_e),q=yield Promise.all(Q.map(le=>M(this,void 0,void 0,function*(){let ee;try{ee=yield le.provideDocumentRangeSemanticTokens(_e,we,me)}catch(J){(0,g.Cp)(J),ee=null}return(!ee||!H(ee))&&(ee=null),new U(le,ee)})));for(const le of q)if(le.tokens)return le;return q.length>0?q[0]:null})}D.P0.registerCommand("_provideDocumentSemanticTokensLegend",(fe,..._e)=>M(void 0,void 0,void 0,function*(){const[we]=_e;(0,i.p_)(we instanceof Y.o);const me=fe.get(B.q).getModel(we);if(!me)return;const{documentSemanticTokensProvider:Q}=fe.get(f.p),q=function(fe,_e){const we=fe.orderedGroups(_e);return we.length>0?we[0]:null}(Q,me);return q?q[0].getLegend():fe.get(D.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",we)})),D.P0.registerCommand("_provideDocumentSemanticTokens",(fe,..._e)=>M(void 0,void 0,void 0,function*(){const[we]=_e;(0,i.p_)(we instanceof Y.o);const me=fe.get(B.q).getModel(we);if(!me)return;const{documentSemanticTokensProvider:Q}=fe.get(f.p);if(!Z(Q,me))return fe.get(D.Hy).executeCommand("_provideDocumentRangeSemanticTokens",we,me.getFullModelRange());const q=yield I(Q,me,null,null,E.T.None);if(!q)return;const{provider:le,tokens:ee}=q;if(!ee||!H(ee))return;const J=C({id:0,type:"full",data:ee.data});return ee.resultId&&le.releaseDocumentSemanticTokens(ee.resultId),J})),D.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(fe,..._e)=>M(void 0,void 0,void 0,function*(){const[we,me]=_e;(0,i.p_)(we instanceof Y.o);const Q=fe.get(B.q).getModel(we);if(!Q)return;const{documentRangeSemanticTokensProvider:q}=fe.get(f.p),le=oe(q,Q);if(0===le.length)return;if(1===le.length)return le[0].getLegend();if(!me||!x.e.isIRange(me))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),le[0].getLegend();const ee=yield de(q,Q,x.e.lift(me),E.T.None);return ee?ee.provider.getLegend():void 0})),D.P0.registerCommand("_provideDocumentRangeSemanticTokens",(fe,..._e)=>M(void 0,void 0,void 0,function*(){const[we,me]=_e;(0,i.p_)(we instanceof Y.o),(0,i.p_)(x.e.isIRange(me));const Q=fe.get(B.q).getModel(we);if(!Q)return;const{documentRangeSemanticTokensProvider:q}=fe.get(f.p),le=yield de(q,Q,x.e.lift(me),E.T.None);return le&&le.tokens?C({id:0,type:"full",data:le.tokens.data}):void 0}))},85034:(Fe,Ne,m)=>{m.d(Ne,{A:()=>k});var E=m(11791),g=m(33439),Y=m(31096),B=m(26033),D=m(43569),i=m(2646);const k=(0,D.yh)("ILanguageFeatureDebounceService");var y;!function(x){const f=new WeakMap;let M=0;x.of=function(L){let N=f.get(L);return void 0===N&&(N=++M,f.set(L,N)),N}}(y||(y={}));class C{constructor(f,M,H,L,N,Z){this._logService=f,this._name=M,this._registry=H,this._default=L,this._min=N,this._max=Z,this._cache=new g.z6(50,.7)}_key(f){return f.id+this._registry.all(f).reduce((M,H)=>(0,E.SP)(y.of(H),M),0)}get(f){const M=this._key(f),H=this._cache.get(M);return H?(0,Y.uZ)(H.value,this._min,this._max):this.default()}update(f,M){const H=this._key(f);let L=this._cache.get(H);L||(L=new Y.N(6),this._cache.set(H,L));const N=(0,Y.uZ)(L.update(M),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${f.uri.toString()} is ${N}ms`),N}_overall(){const f=new Y.nM;for(const[,M]of this._cache)f.update(M.value);return f.value}default(){const f=0|this._overall()||this._default;return(0,Y.uZ)(f,this._min,this._max)}}let b=class{constructor(f){this._logService=f,this._data=new Map}for(f,M,H){var L,N,Z;const P=null!==(L=null==H?void 0:H.min)&&void 0!==L?L:50,I=null!==(N=null==H?void 0:H.max)&&void 0!==N?N:Math.pow(P,2),$=null!==(Z=null==H?void 0:H.key)&&void 0!==Z?Z:void 0,U=`${y.of(f)},${P}${$?","+$:""}`;let G=this._data.get(U);return G||(G=new C(this._logService,M,f,0|this._overallAverage()||1.5*P,P,I),this._data.set(U,G)),G}_overallAverage(){let f=new Y.nM;for(let M of this._data.values())f.update(M.default());return f.value}};var f;b=function(x,f,M,H){var Z,L=arguments.length,N=L<3?f:null===H?H=Object.getOwnPropertyDescriptor(f,M):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(x,f,M,H);else for(var P=x.length-1;P>=0;P--)(Z=x[P])&&(N=(L<3?Z(N):L>3?Z(f,M,N):Z(f,M))||N);return L>3&&N&&Object.defineProperty(f,M,N),N}([(0,f=i.VZ,function(M,H){f(M,H,0)})],b),(0,B.z)(k,b,!0)},3494:(Fe,Ne,m)=>{m.d(Ne,{p:()=>g});const g=(0,m(43569).yh)("ILanguageFeaturesService")},64757:(Fe,Ne,m)=>{m.d(Ne,{i:()=>g});const g=(0,m(43569).yh)("markerDecorationsService")},39067:(Fe,Ne,m)=>{m.d(Ne,{q:()=>g});const g=(0,m(43569).yh)("modelService")},18548:(Fe,Ne,m)=>{m.d(Ne,{b$:()=>ee,e3:()=>J,tw:()=>re});var E=m(71040),g=m(40189),Y=m(70700),B=m(13226),D=m(45023),i=m(27870),O=m(12282),F=m(80810),k=m(39067),y=m(34276),C=m(13011),b=m(89983),x=m(66607),f=m(53323),M=m(2646),H=m(10352),L=m(11791),N=m(40822),Z=m(98318),P=m(31128),I=m(82437),$=m(60842),U=m(92119),G=m(85034),oe=m(39932),de=m(3494),fe=function(je,ue,Ce,Ae){var Te,et=arguments.length,$e=et<3?ue:null===Ae?Ae=Object.getOwnPropertyDescriptor(ue,Ce):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(je,ue,Ce,Ae);else for(var rt=je.length-1;rt>=0;rt--)(Te=je[rt])&&($e=(et<3?Te($e):et>3?Te(ue,Ce,$e):Te(ue,Ce))||$e);return et>3&&$e&&Object.defineProperty(ue,Ce,$e),$e},_e=function(je,ue){return function(Ce,Ae){ue(Ce,Ae,je)}};function we(je){return je.toString()}function me(je){const ue=new L.yP,Ce=je.createSnapshot();let Ae;for(;Ae=Ce.read();)ue.update(Ae);return ue.digest()}class Q{constructor(ue,Ce,Ae){this._modelEventListeners=new g.SL,this.model=ue,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(ue.onWillDispose(()=>Ce(ue))),this._modelEventListeners.add(ue.onDidChangeLanguage(et=>Ae(ue,et)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(ue){this._disposeLanguageSelection(),this._languageSelection=ue,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(ue.languageId)),this.model.setMode(ue.languageId)}}const q=Y.IJ||Y.dz?1:2;class le{constructor(ue,Ce,Ae,et,$e,Te,rt,ht){this.uri=ue,this.initialUndoRedoSnapshot=Ce,this.time=Ae,this.sharesUndoRedoStack=et,this.heapSize=$e,this.sha1=Te,this.versionId=rt,this.alternativeVersionId=ht}}let ee=class Sg extends g.JT{constructor(ue,Ce,Ae,et,$e,Te,rt,ht,nt){super(),this._configurationService=ue,this._resourcePropertiesService=Ce,this._themeService=Ae,this._logService=et,this._undoRedoService=$e,this._languageService=Te,this._languageConfigurationService=rt,this._languageFeatureDebounceService=ht,this._onModelAdded=this._register(new E.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new E.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new E.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new ve(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new ce(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,nt))}static _readModelOptions(ue,Ce){var Ae;let et=i.D.tabSize;if(ue.editor&&void 0!==ue.editor.tabSize){const bt=parseInt(ue.editor.tabSize,10);isNaN(bt)||(et=bt),et<1&&(et=1)}let $e=et;if(ue.editor&&void 0!==ue.editor.indentSize&&"tabSize"!==ue.editor.indentSize){const bt=parseInt(ue.editor.indentSize,10);isNaN(bt)||($e=bt),$e<1&&($e=1)}let Te=i.D.insertSpaces;ue.editor&&void 0!==ue.editor.insertSpaces&&(Te="false"!==ue.editor.insertSpaces&&Boolean(ue.editor.insertSpaces));let rt=q;const ht=ue.eol;"\r\n"===ht?rt=2:"\n"===ht&&(rt=1);let nt=i.D.trimAutoWhitespace;ue.editor&&void 0!==ue.editor.trimAutoWhitespace&&(nt="false"!==ue.editor.trimAutoWhitespace&&Boolean(ue.editor.trimAutoWhitespace));let xe=i.D.detectIndentation;ue.editor&&void 0!==ue.editor.detectIndentation&&(xe="false"!==ue.editor.detectIndentation&&Boolean(ue.editor.detectIndentation));let Ie=i.D.largeFileOptimizations;ue.editor&&void 0!==ue.editor.largeFileOptimizations&&(Ie="false"!==ue.editor.largeFileOptimizations&&Boolean(ue.editor.largeFileOptimizations));let at=i.D.bracketPairColorizationOptions;return(null===(Ae=ue.editor)||void 0===Ae?void 0:Ae.bracketPairColorization)&&"object"==typeof ue.editor.bracketPairColorization&&(at={enabled:!!ue.editor.bracketPairColorization.enabled}),{isForSimpleWidget:Ce,tabSize:et,indentSize:$e,insertSpaces:Te,detectIndentation:xe,defaultEOL:rt,trimAutoWhitespace:nt,largeFileOptimizations:Ie,bracketPairColorizationOptions:at}}_getEOL(ue,Ce){if(ue)return this._resourcePropertiesService.getEOL(ue,Ce);const Ae=this._configurationService.getValue("files.eol",{overrideIdentifier:Ce});return Ae&&"string"==typeof Ae&&"auto"!==Ae?Ae:3===Y.OS||2===Y.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const ue=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof ue||ue}getCreationOptions(ue,Ce,Ae){let et=this._modelCreationOptionsByLanguageAndResource[ue+Ce];if(!et){const $e=this._configurationService.getValue("editor",{overrideIdentifier:ue,resource:Ce}),Te=this._getEOL(Ce,ue);et=Sg._readModelOptions({editor:$e,eol:Te},Ae),this._modelCreationOptionsByLanguageAndResource[ue+Ce]=et}return et}_updateModelOptions(){const ue=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Ce=Object.keys(this._models);for(let Ae=0,et=Ce.length;Ae<et;Ae++){const Te=this._models[Ce[Ae]],rt=Te.model.getLanguageId(),ht=Te.model.uri,nt=ue[rt+ht],xe=this.getCreationOptions(rt,ht,Te.model.isForSimpleWidget);Sg._setModelOptionsForModel(Te.model,xe,nt)}}static _setModelOptionsForModel(ue,Ce,Ae){Ae&&Ae.defaultEOL!==Ce.defaultEOL&&1===ue.getLineCount()&&ue.setEOL(1===Ce.defaultEOL?0:1),(!Ae||Ae.detectIndentation!==Ce.detectIndentation||Ae.insertSpaces!==Ce.insertSpaces||Ae.tabSize!==Ce.tabSize||Ae.indentSize!==Ce.indentSize||Ae.trimAutoWhitespace!==Ce.trimAutoWhitespace||!(0,$.fS)(Ae.bracketPairColorizationOptions,Ce.bracketPairColorizationOptions))&&(Ce.detectIndentation?(ue.detectIndentation(Ce.insertSpaces,Ce.tabSize),ue.updateOptions({trimAutoWhitespace:Ce.trimAutoWhitespace,bracketColorizationOptions:Ce.bracketPairColorizationOptions})):ue.updateOptions({insertSpaces:Ce.insertSpaces,tabSize:Ce.tabSize,indentSize:Ce.indentSize,trimAutoWhitespace:Ce.trimAutoWhitespace,bracketColorizationOptions:Ce.bracketPairColorizationOptions}))}_insertDisposedModel(ue){this._disposedModels.set(we(ue.uri),ue),this._disposedModelsHeapSize+=ue.heapSize}_removeDisposedModel(ue){const Ce=this._disposedModels.get(we(ue));return Ce&&(this._disposedModelsHeapSize-=Ce.heapSize),this._disposedModels.delete(we(ue)),Ce}_ensureDisposedModelsHeapSize(ue){if(this._disposedModelsHeapSize>ue){const Ce=[];for(this._disposedModels.forEach(Ae=>{Ae.sharesUndoRedoStack||Ce.push(Ae)}),Ce.sort((Ae,et)=>Ae.time-et.time);Ce.length>0&&this._disposedModelsHeapSize>ue;){const Ae=Ce.shift();this._removeDisposedModel(Ae.uri),null!==Ae.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(Ae.initialUndoRedoSnapshot)}}}_createModelData(ue,Ce,Ae,et){const $e=this.getCreationOptions(Ce,Ae,et),Te=new D.yO(ue,Ce,$e,Ae,this._undoRedoService,this._languageService,this._languageConfigurationService);if(Ae&&this._disposedModels.has(we(Ae))){const nt=this._removeDisposedModel(Ae),xe=this._undoRedoService.getElements(Ae),Ie=me(Te)===nt.sha1;if(Ie||nt.sharesUndoRedoStack){for(const at of xe.past)(0,N.e9)(at)&&at.matchesResource(Ae)&&at.setModel(Te);for(const at of xe.future)(0,N.e9)(at)&&at.matchesResource(Ae)&&at.setModel(Te);this._undoRedoService.setElementsValidFlag(Ae,!0,at=>(0,N.e9)(at)&&at.matchesResource(Ae)),Ie&&(Te._overwriteVersionId(nt.versionId),Te._overwriteAlternativeVersionId(nt.alternativeVersionId),Te._overwriteInitialUndoRedoSnapshot(nt.initialUndoRedoSnapshot))}else null!==nt.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(nt.initialUndoRedoSnapshot)}const rt=we(Te.uri);if(this._models[rt])throw new Error("ModelService: Cannot add model because it already exists!");const ht=new Q(Te,nt=>this._onWillDispose(nt),(nt,xe)=>this._onDidChangeLanguage(nt,xe));return this._models[rt]=ht,ht}createModel(ue,Ce,Ae,et=!1){let $e;return Ce?($e=this._createModelData(ue,Ce.languageId,Ae,et),this.setMode($e.model,Ce)):$e=this._createModelData(ue,O.bd,Ae,et),this._onModelAdded.fire($e.model),$e.model}setMode(ue,Ce){if(!Ce)return;const Ae=this._models[we(ue.uri)];!Ae||Ae.setLanguage(Ce)}getModels(){const ue=[],Ce=Object.keys(this._models);for(let Ae=0,et=Ce.length;Ae<et;Ae++)ue.push(this._models[Ce[Ae]].model);return ue}getModel(ue){const Ce=we(ue),Ae=this._models[Ce];return Ae?Ae.model:null}getSemanticTokensProviderStyling(ue){return this._semanticStyling.get(ue)}_schemaShouldMaintainUndoRedoElements(ue){return ue.scheme===Z.lg.file||ue.scheme===Z.lg.vscodeRemote||ue.scheme===Z.lg.userData||ue.scheme===Z.lg.vscodeNotebookCell||"fake-fs"===ue.scheme}_onWillDispose(ue){const Ce=we(ue.uri),Ae=this._models[Ce],et=this._undoRedoService.getUriComparisonKey(ue.uri)!==ue.uri.toString();let $e=!1,Te=0;if(et||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(ue.uri)){const ht=this._undoRedoService.getElements(ue.uri);if(ht.past.length>0||ht.future.length>0){for(const nt of ht.past)(0,N.e9)(nt)&&nt.matchesResource(ue.uri)&&($e=!0,Te+=nt.heapSize(ue.uri),nt.setModel(ue.uri));for(const nt of ht.future)(0,N.e9)(nt)&&nt.matchesResource(ue.uri)&&($e=!0,Te+=nt.heapSize(ue.uri),nt.setModel(ue.uri))}}const rt=Sg.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if($e)if(!et&&Te>rt){const ht=Ae.model.getInitialUndoRedoSnapshot();null!==ht&&this._undoRedoService.restoreSnapshot(ht)}else this._ensureDisposedModelsHeapSize(rt-Te),this._undoRedoService.setElementsValidFlag(ue.uri,!1,ht=>(0,N.e9)(ht)&&ht.matchesResource(ue.uri)),this._insertDisposedModel(new le(ue.uri,Ae.model.getInitialUndoRedoSnapshot(),Date.now(),et,Te,me(ue),ue.getVersionId(),ue.getAlternativeVersionId()));else if(!et){const ht=Ae.model.getInitialUndoRedoSnapshot();null!==ht&&this._undoRedoService.restoreSnapshot(ht)}delete this._models[Ce],Ae.dispose(),delete this._modelCreationOptionsByLanguageAndResource[ue.getLanguageId()+ue.uri],this._onModelRemoved.fire(ue)}_onDidChangeLanguage(ue,Ce){const Ae=Ce.oldLanguage,et=ue.getLanguageId(),$e=this.getCreationOptions(Ae,ue.uri,ue.isForSimpleWidget),Te=this.getCreationOptions(et,ue.uri,ue.isForSimpleWidget);Sg._setModelOptionsForModel(ue,Te,$e),this._onModelModeChanged.fire({model:ue,oldLanguageId:Ae})}};ee.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,ee=fe([_e(0,C.Ui),_e(1,y.y),_e(2,f.XE),_e(3,M.VZ),_e(4,H.tJ),_e(5,F.O),_e(6,U.c_),_e(7,G.A),_e(8,de.p)],ee);const J="editor.semanticHighlighting";function re(je,ue,Ce){var Ae;const et=null===(Ae=Ce.getValue(J,{overrideIdentifier:je.getLanguageId(),resource:je.uri}))||void 0===Ae?void 0:Ae.enabled;return"boolean"==typeof et?et:ue.getColorTheme().semanticHighlighting}let ce=class extends g.JT{constructor(ue,Ce,Ae,et,$e,Te){super(),this._watchers=Object.create(null),this._semanticStyling=ue;const rt=xe=>{this._watchers[xe.uri.toString()]=new We(xe,this._semanticStyling,Ae,$e,Te)},ht=(xe,Ie)=>{Ie.dispose(),delete this._watchers[xe.uri.toString()]},nt=()=>{for(let xe of Ce.getModels()){const Ie=this._watchers[xe.uri.toString()];re(xe,Ae,et)?Ie||rt(xe):Ie&&ht(xe,Ie)}};this._register(Ce.onModelAdded(xe=>{re(xe,Ae,et)&&rt(xe)})),this._register(Ce.onModelRemoved(xe=>{const Ie=this._watchers[xe.uri.toString()];Ie&&ht(xe,Ie)})),this._register(et.onDidChangeConfiguration(xe=>{xe.affectsConfiguration(J)&&nt()})),this._register(Ae.onDidColorThemeChange(nt))}};ce=fe([_e(1,k.q),_e(2,f.XE),_e(3,C.Ui),_e(4,G.A),_e(5,de.p)],ce);class ve extends g.JT{constructor(ue,Ce,Ae){super(),this._themeService=ue,this._languageService=Ce,this._logService=Ae,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(ue){return this._caches.has(ue)||this._caches.set(ue,new P.$(ue.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(ue)}}class ke{constructor(ue,Ce,Ae){this.provider=ue,this.resultId=Ce,this.data=Ae}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let We=class mu extends g.JT{constructor(ue,Ce,Ae,et,$e){super(),this._isDisposed=!1,this._model=ue,this._semanticStyling=Ce,this._provider=$e.documentSemanticTokensProvider,this._debounceInformation=et.for(this._provider,"DocumentSemanticTokens",{min:mu.REQUEST_MIN_DELAY,max:mu.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new b.pY(()=>this._fetchDocumentSemanticTokensNow(),mu.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const Te=()=>{(0,g.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const rt of this._provider.all(ue))"function"==typeof rt.onDidChange&&this._documentProvidersChangeListeners.push(rt.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};Te(),this._register(this._provider.onDidChange(()=>{Te(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(Ae.onDidColorThemeChange(rt=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,I.Jc)(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const ue=new x.A,et=(0,I.ML)(this._provider,this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,ue.token);this._currentDocumentRequestCancellationTokenSource=ue;const $e=[],Te=this._model.onDidChangeContent(ht=>{$e.push(ht)}),rt=new oe.G(!1);et.then(ht=>{if(this._debounceInformation.update(this._model,rt.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,Te.dispose(),ht){const{provider:nt,tokens:xe}=ht,Ie=this._semanticStyling.get(nt);this._setDocumentSemanticTokens(nt,xe||null,Ie,$e)}else this._setDocumentSemanticTokens(null,null,null,$e)},ht=>{ht&&(B.n2(ht)||"string"==typeof ht.message&&-1!==ht.message.indexOf("busy"))||B.dL(ht),this._currentDocumentRequestCancellationTokenSource=null,Te.dispose(),$e.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(ue,Ce,Ae,et,$e){for(let Te=0;Te<$e;Te++)Ae[et+Te]=ue[Ce+Te]}_setDocumentSemanticTokens(ue,Ce,Ae,et){const $e=this._currentDocumentResponse,Te=()=>{et.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)ue&&Ce&&ue.releaseDocumentSemanticTokens(Ce.resultId);else if(ue&&Ae){if(!Ce)return this._model.setSemanticTokens(null,!0),void Te();if((0,I.Vj)(Ce)){if(!$e)return void this._model.setSemanticTokens(null,!0);if(0===Ce.edits.length)Ce={resultId:Ce.resultId,data:$e.data};else{let rt=0;for(const at of Ce.edits)rt+=(at.data?at.data.length:0)-at.deleteCount;const ht=$e.data,nt=new Uint32Array(ht.length+rt);let xe=ht.length,Ie=nt.length;for(let at=Ce.edits.length-1;at>=0;at--){const bt=Ce.edits[at],Ut=xe-(bt.start+bt.deleteCount);Ut>0&&(mu._copy(ht,xe-Ut,nt,Ie-Ut,Ut),Ie-=Ut),bt.data&&(mu._copy(bt.data,0,nt,Ie-bt.data.length,bt.data.length),Ie-=bt.data.length),xe=bt.start}xe>0&&mu._copy(ht,0,nt,0,xe),Ce={resultId:Ce.resultId,data:nt}}}if((0,I.Vl)(Ce)){this._currentDocumentResponse=new ke(ue,Ce.resultId,Ce.data);const rt=(0,P.h)(Ce,Ae,this._model.getLanguageId());if(et.length>0)for(const ht of et)for(const nt of rt)for(const xe of ht.changes)nt.applyEdit(xe.range,xe.text);this._model.setSemanticTokens(rt,!0)}else this._model.setSemanticTokens(null,!0);Te()}else this._model.setSemanticTokens(null,!1)}};We.REQUEST_MIN_DELAY=300,We.REQUEST_MAX_DELAY=2e3,We=fe([_e(2,f.XE),_e(3,G.A),_e(4,de.p)],We)},13591:(Fe,Ne,m)=>{m.d(Ne,{S:()=>g});const g=(0,m(43569).yh)("textModelService")},31128:(Fe,Ne,m)=>{m.d(Ne,{$:()=>x,h:()=>f});var E=m(33979),g=m(53323),Y=m(2646),B=m(67947),D=m(1873),i=m(34048);class O{constructor(N,Z){this._startLineNumber=N,this._tokens=Z,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(N,Z){return new O(N,new F(Z))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(N){return this._startLineNumber<=N&&N<=this._endLineNumber?this._tokens.getLineTokens(N-this._startLineNumber):null}getRange(){const N=this._tokens.getRange();return N&&new D.e(this._startLineNumber+N.startLineNumber,N.startColumn,this._startLineNumber+N.endLineNumber,N.endColumn)}removeTokens(N){this._startLineNumber+=this._tokens.removeTokens(N.startLineNumber-this._startLineNumber,N.startColumn-1,N.endLineNumber-this._startLineNumber,N.endColumn-1),this._updateEndLineNumber()}split(N){const Z=N.startLineNumber-this._startLineNumber,P=N.endLineNumber-this._startLineNumber,[I,$,U]=this._tokens.split(Z,N.startColumn-1,P,N.endColumn-1);return[new O(this._startLineNumber,I),new O(this._startLineNumber+U,$)]}applyEdit(N,Z){const[P,I,$]=(0,i.Q)(Z);this.acceptEdit(N,P,I,$,Z.length>0?Z.charCodeAt(0):0)}acceptEdit(N,Z,P,I,$){this._acceptDeleteRange(N),this._acceptInsertText(new B.L(N.startLineNumber,N.startColumn),Z,P,I,$),this._updateEndLineNumber()}_acceptDeleteRange(N){if(N.startLineNumber===N.endLineNumber&&N.startColumn===N.endColumn)return;const Z=N.startLineNumber-this._startLineNumber,P=N.endLineNumber-this._startLineNumber;if(P<0)return void(this._startLineNumber-=P-Z);const I=this._tokens.getMaxDeltaLine();if(!(Z>=I+1)){if(Z<0&&P>=I+1)return this._startLineNumber=0,void this._tokens.clear();Z<0?(this._startLineNumber-=-Z,this._tokens.acceptDeleteRange(N.startColumn-1,0,0,P,N.endColumn-1)):this._tokens.acceptDeleteRange(0,Z,N.startColumn-1,P,N.endColumn-1)}}_acceptInsertText(N,Z,P,I,$){if(0===Z&&0===P)return;const U=N.lineNumber-this._startLineNumber;U<0?this._startLineNumber+=Z:U>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(U,N.column-1,Z,P,I,$)}}class F{constructor(N){this._tokens=N,this._tokenCount=N.length/4}toString(N){const Z=[];for(let P=0;P<this._tokenCount;P++)Z.push(`(${this._getDeltaLine(P)+N},${this._getStartCharacter(P)}-${this._getEndCharacter(P)})`);return`[${Z.join(",")}]`}getMaxDeltaLine(){const N=this._getTokenCount();return 0===N?-1:this._getDeltaLine(N-1)}getRange(){const N=this._getTokenCount();if(0===N)return null;const Z=this._getStartCharacter(0),P=this._getDeltaLine(N-1),I=this._getEndCharacter(N-1);return new D.e(0,Z+1,P,I+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(N){return this._tokens[4*N]}_getStartCharacter(N){return this._tokens[4*N+1]}_getEndCharacter(N){return this._tokens[4*N+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(N){let Z=0,P=this._getTokenCount()-1;for(;Z<P;){const I=Z+Math.floor((P-Z)/2),$=this._getDeltaLine(I);if($<N)Z=I+1;else{if(!($>N)){let U=I;for(;U>Z&&this._getDeltaLine(U-1)===N;)U--;let G=I;for(;G<P&&this._getDeltaLine(G+1)===N;)G++;return new k(this._tokens.subarray(4*U,4*G+4))}P=I-1}}return this._getDeltaLine(Z)===N?new k(this._tokens.subarray(4*Z,4*Z+4)):null}clear(){this._tokenCount=0}removeTokens(N,Z,P,I){const $=this._tokens,U=this._tokenCount;let G=0,oe=!1,de=0;for(let fe=0;fe<U;fe++){const _e=4*fe,we=$[_e],me=$[_e+1],Q=$[_e+2],q=$[_e+3];if((we>N||we===N&&Q>=Z)&&(we<P||we===P&&me<=I))oe=!0;else{if(0===G&&(de=we),oe){const le=4*G;$[le]=we-de,$[le+1]=me,$[le+2]=Q,$[le+3]=q}G++}}return this._tokenCount=G,de}split(N,Z,P,I){const $=this._tokens,U=this._tokenCount,G=[],oe=[];let de=G,fe=0,_e=0;for(let we=0;we<U;we++){const me=4*we,Q=$[me],q=$[me+1],le=$[me+2],ee=$[me+3];if(Q>N||Q===N&&le>=Z){if(Q<P||Q===P&&q<=I)continue;de!==oe&&(de=oe,fe=0,_e=Q)}de[fe++]=Q-_e,de[fe++]=q,de[fe++]=le,de[fe++]=ee}return[new F(new Uint32Array(G)),new F(new Uint32Array(oe)),_e]}acceptDeleteRange(N,Z,P,I,$){const U=this._tokens,G=this._tokenCount,oe=I-Z;let de=0,fe=!1;for(let _e=0;_e<G;_e++){const we=4*_e;let me=U[we],Q=U[we+1],q=U[we+2];const le=U[we+3];if(me<Z||me===Z&&q<=P){de++;continue}if(me===Z&&Q<P)me===I&&q>$?q-=$-P:q=P;else if(me===Z&&Q===P){if(!(me===I&&q>$)){fe=!0;continue}q-=$-P}else if(me<I||me===I&&Q<$){if(!(me===I&&q>$)){fe=!0;continue}me===Z?(Q=P,q=Q+(q-$)):(Q=0,q=Q+(q-$))}else if(me>I){if(0===oe&&!fe){de=G;break}me-=oe}else{if(!(me===I&&Q>=$))throw new Error("Not possible!");N&&0===me&&(Q+=N,q+=N),me-=oe,Q-=$-P,q-=$-P}const ee=4*de;U[ee]=me,U[ee+1]=Q,U[ee+2]=q,U[ee+3]=le,de++}this._tokenCount=de}acceptInsertText(N,Z,P,I,$,U){const G=0===P&&1===I&&(U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122),oe=this._tokens,de=this._tokenCount;for(let fe=0;fe<de;fe++){const _e=4*fe;let we=oe[_e],me=oe[_e+1],Q=oe[_e+2];if(!(we<N||we===N&&Q<Z)){if(we===N&&Q===Z){if(!G)continue;Q+=1}else if(we===N&&me<Z&&Z<Q)0===P?Q+=I:Q=Z;else{if(we===N&&me===Z&&G)continue;if(we===N)if(we+=P,0===P)me+=I,Q+=I;else{const q=Q-me;me=$+(me-Z),Q=me+q}else we+=P}oe[_e]=we,oe[_e+1]=me,oe[_e+2]=Q}}}}class k{constructor(N){this._tokens=N}getCount(){return this._tokens.length/4}getStartCharacter(N){return this._tokens[4*N+1]}getEndCharacter(N){return this._tokens[4*N+2]}getMetadata(N){return this._tokens[4*N+3]}}var y=m(80810),b=function(L,N){return function(Z,P){N(Z,P,L)}};let x=class{constructor(N,Z,P,I){this._legend=N,this._themeService=Z,this._languageService=P,this._logService=I,this._hashTable=new H,this._hasWarnedOverlappingTokens=!1}getMetadata(N,Z,P){const I=this._languageService.languageIdCodec.encodeLanguageId(P),$=this._hashTable.get(N,Z,I);let U;if($)U=$.metadata,this._logService.getLevel()===Y.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${N} / ${Z}: foreground ${E.NX.getForeground(U)}, fontStyle ${E.NX.getFontStyle(U).toString(2)}`);else{let G=this._legend.tokenTypes[N];const oe=[];if(G){let de=Z;for(let _e=0;de>0&&_e<this._legend.tokenModifiers.length;_e++)1&de&&oe.push(this._legend.tokenModifiers[_e]),de>>=1;de>0&&this._logService.getLevel()===Y.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${Z.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),oe.push("not-in-legend"));const fe=this._themeService.getColorTheme().getTokenStyleMetadata(G,oe,P);void 0===fe?U=2147483647:(U=0,void 0!==fe.italic&&(U|=(fe.italic?1:0)<<10|1),void 0!==fe.bold&&(U|=(fe.bold?2:0)<<10|2),void 0!==fe.underline&&(U|=(fe.underline?4:0)<<10|4),void 0!==fe.strikethrough&&(U|=(fe.strikethrough?8:0)<<10|8),fe.foreground&&(U|=fe.foreground<<14|16),0===U&&(U=2147483647))}else this._logService.getLevel()===Y.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${N} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),U=2147483647,G="not-in-legend";this._hashTable.add(N,Z,I,U),this._logService.getLevel()===Y.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${N} (${G}) / ${Z} (${oe.join(" ")}): foreground ${E.NX.getForeground(U)}, fontStyle ${E.NX.getFontStyle(U).toString(2)}`)}return U}warnOverlappingSemanticTokens(N,Z){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${N}, column ${Z}`))}};function f(L,N,Z){const P=L.data,I=L.data.length/5|0,$=Math.max(Math.ceil(I/1024),400),U=[];let G=0,oe=1,de=0;for(;G<I;){const fe=G;let _e=Math.min(fe+$,I);if(_e<I){let re=_e;for(;re-1>fe&&0===P[5*re];)re--;if(re-1===fe){let ce=_e;for(;ce+1<I&&0===P[5*ce];)ce++;_e=ce}else _e=re}let we=new Uint32Array(4*(_e-fe)),me=0,Q=0,q=0,le=0,ee=0;for(;G<_e;){const re=5*G,ce=P[re],ve=P[re+1],ke=oe+ce|0,We=0===ce?de+ve|0:ve,je=P[re+2],Ae=N.getMetadata(P[re+3],P[re+4],Z);2147483647!==Ae&&(0===Q&&(Q=ke),q===ke&&ee>We&&(N.warnOverlappingSemanticTokens(ke,We+1),le<We?we[me-4+2]=We:me-=4),we[me]=ke-Q,we[me+1]=We,we[me+2]=We+je,we[me+3]=Ae,me+=4,q=ke,le=We,ee=We+je),oe=ke,de=We,G++}me!==we.length&&(we=we.subarray(0,me));const J=O.create(Q,we);U.push(J)}return U}x=function(L,N,Z,P){var U,I=arguments.length,$=I<3?N:null===P?P=Object.getOwnPropertyDescriptor(N,Z):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(L,N,Z,P);else for(var G=L.length-1;G>=0;G--)(U=L[G])&&($=(I<3?U($):I>3?U(N,Z,$):U(N,Z))||$);return I>3&&$&&Object.defineProperty(N,Z,$),$}([b(1,g.XE),b(2,y.O),b(3,Y.VZ)],x);class M{constructor(N,Z,P,I){this.tokenTypeIndex=N,this.tokenModifierSet=Z,this.languageId=P,this.metadata=I,this.next=null}}let H=(()=>{class L{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=L._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<L._SIZES.length?2/3*this._currentLength:0),this._elements=[],L._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(Z,P){for(let I=0;I<P;I++)Z[I]=null}_hash2(Z,P){return(Z<<5)-Z+P|0}_hashFunc(Z,P,I){return this._hash2(this._hash2(Z,P),I)%this._currentLength}get(Z,P,I){const $=this._hashFunc(Z,P,I);let U=this._elements[$];for(;U;){if(U.tokenTypeIndex===Z&&U.tokenModifierSet===P&&U.languageId===I)return U;U=U.next}return null}add(Z,P,I,$){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const U=this._elements;this._currentLengthIndex++,this._currentLength=L._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<L._SIZES.length?2/3*this._currentLength:0),this._elements=[],L._nullOutEntries(this._elements,this._currentLength);for(const G of U){let oe=G;for(;oe;){const de=oe.next;oe.next=null,this._add(oe),oe=de}}}this._add(new M(Z,P,I,$))}_add(Z){const P=this._hashFunc(Z.tokenTypeIndex,Z.tokenModifierSet,Z.languageId);Z.next=this._elements[P],this._elements[P]=Z}}return L._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],L})()},34276:(Fe,Ne,m)=>{m.d(Ne,{V:()=>g,y:()=>Y});var E=m(43569);const g=(0,E.yh)("textResourceConfigurationService"),Y=(0,E.yh)("textResourcePropertiesService")},4263:(Fe,Ne,m)=>{m.d(Ne,{a:()=>i});var E=m(1873),g=m(82711),Y=m(74243),B=m(99770),D=m(54745);class i{static computeUnicodeHighlights(C,b,x){const f=x?x.startLineNumber:1,M=x?x.endLineNumber:C.getLineCount(),H=new F(b),L=H.getCandidateCodePoints();let N;var y;N="allNonBasicAscii"===L?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp((y=Array.from(L),`[${Y.ec(y.map(x=>String.fromCodePoint(x)).join(""))}]`),"g");const Z=new g.sz(null,N),P=[];let $,I=!1,U=0,G=0,oe=0;e:for(let de=f,fe=M;de<=fe;de++){const _e=C.getLineContent(de),we=_e.length;Z.reset(0);do{if($=Z.next(_e),$){let me=$.index,Q=$.index+$[0].length;if(me>0){const J=_e.charCodeAt(me-1);Y.ZG(J)&&me--}if(Q+1<we){const J=_e.charCodeAt(Q-1);Y.ZG(J)&&Q++}const q=_e.substring(me,Q),le=(0,D.t2)(me+1,D.Af,_e,0),ee=H.shouldHighlightNonBasicASCII(q,le?le.word:null);if(0!==ee){if(3===ee?U++:2===ee?G++:1===ee?oe++:(0,B.vE)(ee),P.length>=1e3){I=!0;break e}P.push(new E.e(de,me+1,de,Q+1))}}}while($)}return{ranges:P,hasMore:I,ambiguousCharacterCount:U,invisibleCharacterCount:G,nonBasicAsciiCharacterCount:oe}}static computeUnicodeHighlightReason(C,b){const x=new F(b);switch(x.shouldHighlightNonBasicASCII(C,null)){case 0:return null;case 2:return{kind:1};case 3:{const M=C.codePointAt(0),H=x.ambiguousCharacters.getPrimaryConfusable(M),L=Y.ZK.getLocales().filter(N=>!Y.ZK.getInstance(new Set([...b.allowedLocales,N])).isAmbiguous(M));return{kind:0,confusableWith:String.fromCodePoint(H),notAmbiguousInLocales:L}}case 1:return{kind:2}}}}class F{constructor(C){this.options=C,this.allowedCodePoints=new Set(C.allowedCodePoints),this.ambiguousCharacters=Y.ZK.getInstance(new Set(C.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const C=new Set;if(this.options.invisibleCharacters)for(const b of Y.vU.codePoints)k(String.fromCodePoint(b))||C.add(b);if(this.options.ambiguousCharacters)for(const b of this.ambiguousCharacters.getConfusableCodePoints())C.add(b);for(const b of this.allowedCodePoints)C.delete(b);return C}shouldHighlightNonBasicASCII(C,b){const x=C.codePointAt(0);if(this.allowedCodePoints.has(x))return 0;if(this.options.nonBasicASCII)return 1;let f=!1,M=!1;if(b)for(let H of b){const L=H.codePointAt(0),N=Y.$i(H);f=f||N,!N&&!this.ambiguousCharacters.isAmbiguous(L)&&!Y.vU.isInvisibleCharacter(L)&&(M=!0)}return!f&&M?0:this.options.invisibleCharacters&&!k(C)&&Y.vU.isInvisibleCharacter(x)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(x)?3:0}}function k(y){return" "===y||"\n"===y||"\t"===y}},1598:(Fe,Ne,m)=>{m.d(Ne,{Oe:()=>g,ug:()=>Y,qq:()=>B,ld:()=>D,UX:()=>i,aq:()=>O,B8:()=>F,xi:()=>k,iN:()=>y});var g,C,Y,B,D,i,O,F,k,y,E=m(12918);(C=g||(g={})).noSelection=E.N("noSelection","No selection"),C.singleSelectionRange=E.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),C.singleSelection=E.N("singleSelection","Line {0}, Column {1}"),C.multiSelectionRange=E.N("multiSelectionRange","{0} selections ({1} characters selected)"),C.multiSelection=E.N("multiSelection","{0} selections"),C.emergencyConfOn=E.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),C.openingDocs=E.N("openingDocs","Now opening the Editor Accessibility documentation page."),C.readonlyDiffEditor=E.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),C.editableDiffEditor=E.N("editableDiffEditor"," in a pane of a diff editor."),C.readonlyEditor=E.N("readonlyEditor"," in a read-only code editor"),C.editableEditor=E.N("editableEditor"," in a code editor"),C.changeConfigToOnMac=E.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),C.changeConfigToOnWinLinux=E.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),C.auto_on=E.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),C.auto_off=E.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),C.tabFocusModeOnMsg=E.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),C.tabFocusModeOnMsgNoKb=E.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),C.tabFocusModeOffMsg=E.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),C.tabFocusModeOffMsgNoKb=E.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),C.openDocMac=E.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),C.openDocWinLinux=E.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),C.outroMsg=E.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),C.showAccessibilityHelpAction=E.N("showAccessibilityHelpAction","Show Accessibility Help"),function(C){C.inspectTokensAction=E.N("inspectTokens","Developer: Inspect Tokens")}(Y||(Y={})),function(C){C.gotoLineActionLabel=E.N("gotoLineActionLabel","Go to Line/Column...")}(B||(B={})),function(C){C.helpQuickAccessActionLabel=E.N("helpQuickAccess","Show all Quick Access Providers")}(D||(D={})),function(C){C.quickCommandActionLabel=E.N("quickCommandActionLabel","Command Palette"),C.quickCommandHelp=E.N("quickCommandActionHelp","Show And Run Commands")}(i||(i={})),function(C){C.quickOutlineActionLabel=E.N("quickOutlineActionLabel","Go to Symbol..."),C.quickOutlineByCategoryActionLabel=E.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(O||(O={})),function(C){C.editorViewAccessibleLabel=E.N("editorViewAccessibleLabel","Editor content"),C.accessibilityHelpMessage=E.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(F||(F={})),function(C){C.toggleHighContrast=E.N("toggleHighContrast","Toggle High Contrast Theme")}(k||(k={})),function(C){C.bulkEditServiceSummary=E.N("bulkEditServiceSummary","Made {0} edits in {1} files")}(y||(y={}))},87604:(Fe,Ne,m)=>{m.d(Ne,{Jx:()=>E,gk:()=>g,rU:()=>Y,lN:()=>B,Tx:()=>D,CZ:()=>i,dQ:()=>O,D8:()=>F,fV:()=>k});class E{constructor(){this.changeType=1}}class g{constructor(C,b,x,f,M){this.ownerId=C,this.lineNumber=b,this.column=x,this.options=f,this.order=M}static applyInjectedText(C,b){if(!b||0===b.length)return C;let x="",f=0;for(const M of b)x+=C.substring(f,M.column-1),f=M.column-1,x+=M.options.content;return x+=C.substring(f),x}static fromDecorations(C){const b=[];for(const x of C)x.options.before&&x.options.before.content.length>0&&b.push(new g(x.ownerId,x.range.startLineNumber,x.range.startColumn,x.options.before,0)),x.options.after&&x.options.after.content.length>0&&b.push(new g(x.ownerId,x.range.endLineNumber,x.range.endColumn,x.options.after,1));return b.sort((x,f)=>x.lineNumber===f.lineNumber?x.column===f.column?x.order-f.order:x.column-f.column:x.lineNumber-f.lineNumber),b}}class Y{constructor(C,b,x){this.changeType=2,this.lineNumber=C,this.detail=b,this.injectedText=x}}class B{constructor(C,b){this.changeType=3,this.fromLineNumber=C,this.toLineNumber=b}}class D{constructor(C,b,x,f){this.changeType=4,this.injectedTexts=f,this.fromLineNumber=C,this.toLineNumber=b,this.detail=x}}class i{constructor(){this.changeType=5}}class O{constructor(C,b,x,f){this.changes=C,this.versionId=b,this.isUndoing=x,this.isRedoing=f,this.resultingSelection=null}containsEvent(C){for(let b=0,x=this.changes.length;b<x;b++)if(this.changes[b].changeType===C)return!0;return!1}static merge(C,b){const x=[].concat(C.changes).concat(b.changes);return new O(x,b.versionId,C.isUndoing||b.isUndoing,C.isRedoing||b.isRedoing)}}class F{constructor(C){this.changes=C}}class k{constructor(C,b){this.rawContentChangedEvent=C,this.contentChangedEvent=b}merge(C){const b=O.merge(this.rawContentChangedEvent,C.rawContentChangedEvent),x=k._mergeChangeEvents(this.contentChangedEvent,C.contentChangedEvent);return new k(b,x)}static _mergeChangeEvents(C,b){return{changes:[].concat(C.changes).concat(b.changes),eol:b.eol,versionId:b.versionId,isUndoing:C.isUndoing||b.isUndoing,isRedoing:C.isRedoing||b.isRedoing,isFlush:C.isFlush||b.isFlush}}}},13151:(Fe,Ne,m)=>{m.d(Ne,{s6:()=>E,UO:()=>g,vW:()=>Y});var E=(()=>{return(B=E||(E={}))[B.Disabled=0]="Disabled",B[B.EnabledForActive=1]="EnabledForActive",B[B.Enabled=2]="Enabled",E;var B})();class g{constructor(D,i,O){this.visibleColumn=D,this.className=i,this.horizontalLine=O}}class Y{constructor(D,i){this.top=D,this.endColumn=i}}},5928:(Fe,Ne,m)=>{m.d(Ne,{A:()=>g});var E=m(33979);let g=(()=>{class B{constructor(i,O,F){this._lineTokensBrand=void 0,this._tokens=i,this._tokensCount=this._tokens.length>>>1,this._text=O,this._languageIdCodec=F}static createEmpty(i,O){const F=B.defaultTokenMetadata,k=new Uint32Array(2);return k[0]=i.length,k[1]=F,new B(k,i,O)}equals(i){return i instanceof B&&this.slicedEquals(i,0,this._tokensCount)}slicedEquals(i,O,F){if(this._text!==i._text||this._tokensCount!==i._tokensCount)return!1;const k=O<<1,y=k+(F<<1);for(let C=k;C<y;C++)if(this._tokens[C]!==i._tokens[C])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(i){return i>0?this._tokens[i-1<<1]:0}getMetadata(i){return this._tokens[1+(i<<1)]}getLanguageId(i){const F=E.NX.getLanguageId(this._tokens[1+(i<<1)]);return this._languageIdCodec.decodeLanguageId(F)}getStandardTokenType(i){return E.NX.getTokenType(this._tokens[1+(i<<1)])}getForeground(i){return E.NX.getForeground(this._tokens[1+(i<<1)])}getClassName(i){return E.NX.getClassNameFromMetadata(this._tokens[1+(i<<1)])}getInlineStyle(i,O){return E.NX.getInlineStyleFromMetadata(this._tokens[1+(i<<1)],O)}getPresentation(i){return E.NX.getPresentationFromMetadata(this._tokens[1+(i<<1)])}getEndOffset(i){return this._tokens[i<<1]}findTokenIndexAtOffset(i){return B.findIndexInTokensArray(this._tokens,i)}inflate(){return this}sliceAndInflate(i,O,F){return new Y(this,i,O,F)}static convertToEndOffset(i,O){const k=(i.length>>>1)-1;for(let y=0;y<k;y++)i[y<<1]=i[y+1<<1];i[k<<1]=O}static findIndexInTokensArray(i,O){if(i.length<=2)return 0;let F=0,k=(i.length>>>1)-1;for(;F<k;){const y=F+Math.floor((k-F)/2),C=i[y<<1];if(C===O)return y+1;C<O?F=y+1:C>O&&(k=y)}return F}withInserted(i){if(0===i.length)return this;let O=0,F=0,k="";const y=new Array;let C=0;for(;;){const b=O<this._tokensCount?this._tokens[O<<1]:-1,x=F<i.length?i[F]:null;if(-1!==b&&(null===x||b<=x.offset))k+=this._text.substring(C,b),y.push(k.length,this._tokens[1+(O<<1)]),O++,C=b;else{if(!x)break;x.offset>C&&(k+=this._text.substring(C,x.offset),y.push(k.length,this._tokens[1+(O<<1)]),C=x.offset),k+=x.text,y.push(k.length,x.tokenMetadata),F++}}return new B(new Uint32Array(y),k,this._languageIdCodec)}}return B.defaultTokenMetadata=16793600,B})();class Y{constructor(D,i,O,F){this._source=D,this._startOffset=i,this._endOffset=O,this._deltaOffset=F,this._firstTokenIndex=D.findTokenIndexAtOffset(i),this._tokensCount=0;for(let k=this._firstTokenIndex,y=D.getCount();k<y&&!(D.getStartOffset(k)>=O);k++)this._tokensCount++}getMetadata(D){return this._source.getMetadata(this._firstTokenIndex+D)}getLanguageId(D){return this._source.getLanguageId(this._firstTokenIndex+D)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(D){return D instanceof Y&&this._startOffset===D._startOffset&&this._endOffset===D._endOffset&&this._deltaOffset===D._deltaOffset&&this._source.slicedEquals(D._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(D){return this._source.getForeground(this._firstTokenIndex+D)}getEndOffset(D){const i=this._source.getEndOffset(this._firstTokenIndex+D);return Math.min(this._endOffset,i)-this._startOffset+this._deltaOffset}getClassName(D){return this._source.getClassName(this._firstTokenIndex+D)}getInlineStyle(D,i){return this._source.getInlineStyle(this._firstTokenIndex+D,i)}getPresentation(D){return this._source.getPresentation(this._firstTokenIndex+D)}findTokenIndexAtOffset(D){return this._source.findTokenIndexAtOffset(D+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},82287:(Fe,Ne,m)=>{m.d(Ne,{Kp:()=>g,k:()=>D});var E=m(74243);class g{constructor(O,F,k,y){this.startColumn=O,this.endColumn=F,this.className=k,this.type=y,this._lineDecorationBrand=void 0}static _equals(O,F){return O.startColumn===F.startColumn&&O.endColumn===F.endColumn&&O.className===F.className&&O.type===F.type}static equalsArr(O,F){const k=O.length;if(k!==F.length)return!1;for(let C=0;C<k;C++)if(!g._equals(O[C],F[C]))return!1;return!0}static extractWrapped(O,F,k){if(0===O.length)return O;const y=F+1,C=k+1,b=k-F,x=[];let f=0;for(const M of O)M.endColumn<=y||M.startColumn>=C||(x[f++]=new g(Math.max(1,M.startColumn-y+1),Math.min(b+1,M.endColumn-y+1),M.className,M.type));return x}static filter(O,F,k,y){if(0===O.length)return[];const C=[];let b=0;for(let x=0,f=O.length;x<f;x++){const M=O[x],H=M.range;H.endLineNumber<F||H.startLineNumber>F||H.isEmpty()&&(0===M.type||3===M.type)||(C[b++]=new g(H.startLineNumber===F?H.startColumn:k,H.endLineNumber===F?H.endColumn:y,M.inlineClassName,M.type))}return C}static _typeCompare(O,F){const k=[2,0,1,3];return k[O]-k[F]}static compare(O,F){if(O.startColumn!==F.startColumn)return O.startColumn-F.startColumn;if(O.endColumn!==F.endColumn)return O.endColumn-F.endColumn;const k=g._typeCompare(O.type,F.type);return 0!==k?k:O.className!==F.className?O.className<F.className?-1:1:0}}class Y{constructor(O,F,k,y){this.startOffset=O,this.endOffset=F,this.className=k,this.metadata=y}}class B{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(O){let F=0;for(let k=0,y=O.length;k<y;k++)F|=O[k];return F}consumeLowerThan(O,F,k){for(;this.count>0&&this.stopOffsets[0]<O;){let y=0;for(;y+1<this.count&&this.stopOffsets[y]===this.stopOffsets[y+1];)y++;k.push(new Y(F,this.stopOffsets[y],this.classNames.join(" "),B._metadata(this.metadata))),F=this.stopOffsets[y]+1,this.stopOffsets.splice(0,y+1),this.classNames.splice(0,y+1),this.metadata.splice(0,y+1),this.count-=y+1}return this.count>0&&F<O&&(k.push(new Y(F,O-1,this.classNames.join(" "),B._metadata(this.metadata))),F=O),F}insert(O,F,k){if(0===this.count||this.stopOffsets[this.count-1]<=O)this.stopOffsets.push(O),this.classNames.push(F),this.metadata.push(k);else for(let y=0;y<this.count;y++)if(this.stopOffsets[y]>=O){this.stopOffsets.splice(y,0,O),this.classNames.splice(y,0,F),this.metadata.splice(y,0,k);break}this.count++}}class D{static normalize(O,F){if(0===F.length)return[];const k=[],y=new B;let C=0;for(let b=0,x=F.length;b<x;b++){const f=F[b];let M=f.startColumn,H=f.endColumn;const L=f.className,N=1===f.type?2:2===f.type?4:0;if(M>1){const I=O.charCodeAt(M-2);E.ZG(I)&&M--}if(H>1){const I=O.charCodeAt(H-2);E.ZG(I)&&H--}const Z=M-1,P=H-2;C=y.consumeLowerThan(Z,C,k),0===y.count&&(C=Z),y.insert(P,L,N)}return y.consumeLowerThan(1073741824,C,k),k}}},19362:(Fe,Ne,m)=>{m.d(Ne,{zG:()=>D,IJ:()=>i,Nd:()=>O,d1:()=>y,tF:()=>b});var E=m(74243),g=m(53269),Y=m(82287);class B{constructor(G,oe,de){this._linePartBrand=void 0,this.endIndex=G,this.type=oe,this.metadata=de}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class D{constructor(G,oe){this.startOffset=G,this.endOffset=oe}equals(G){return this.startOffset===G.startOffset&&this.endOffset===G.endOffset}}class i{constructor(G,oe,de,fe,_e,we,me,Q,q,le,ee,J,re,ce,ve,ke,We,je,ue){this.useMonospaceOptimizations=G,this.canUseHalfwidthRightwardsArrow=oe,this.lineContent=de,this.continuesWithWrappedLine=fe,this.isBasicASCII=_e,this.containsRTL=we,this.fauxIndentLength=me,this.lineTokens=Q,this.lineDecorations=q.sort(Y.Kp.compare),this.tabSize=le,this.startVisibleColumn=ee,this.spaceWidth=J,this.stopRenderingLineAfter=ve,this.renderWhitespace="all"===ke?4:"boundary"===ke?1:"selection"===ke?2:"trailing"===ke?3:0,this.renderControlCharacters=We,this.fontLigatures=je,this.selectionsOnLine=ue&&ue.sort((et,$e)=>et.startOffset<$e.startOffset?-1:1),Math.abs(ce-J)<Math.abs(re-J)?(this.renderSpaceWidth=ce,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=re,this.renderSpaceCharCode=183)}sameSelection(G){if(null===this.selectionsOnLine)return null===G;if(null===G||G.length!==this.selectionsOnLine.length)return!1;for(let oe=0;oe<this.selectionsOnLine.length;oe++)if(!this.selectionsOnLine[oe].equals(G[oe]))return!1;return!0}equals(G){return this.useMonospaceOptimizations===G.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===G.canUseHalfwidthRightwardsArrow&&this.lineContent===G.lineContent&&this.continuesWithWrappedLine===G.continuesWithWrappedLine&&this.isBasicASCII===G.isBasicASCII&&this.containsRTL===G.containsRTL&&this.fauxIndentLength===G.fauxIndentLength&&this.tabSize===G.tabSize&&this.startVisibleColumn===G.startVisibleColumn&&this.spaceWidth===G.spaceWidth&&this.renderSpaceWidth===G.renderSpaceWidth&&this.renderSpaceCharCode===G.renderSpaceCharCode&&this.stopRenderingLineAfter===G.stopRenderingLineAfter&&this.renderWhitespace===G.renderWhitespace&&this.renderControlCharacters===G.renderControlCharacters&&this.fontLigatures===G.fontLigatures&&Y.Kp.equalsArr(this.lineDecorations,G.lineDecorations)&&this.lineTokens.equals(G.lineTokens)&&this.sameSelection(G.selectionsOnLine)}}class O{constructor(G,oe){this.partIndex=G,this.charIndex=oe}}class F{constructor(G,oe){this.length=G,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(G){return(4294901760&G)>>>16}static getCharIndex(G){return(65535&G)>>>0}setColumnInfo(G,oe,de,fe){this._data[G-1]=(oe<<16|de<<0)>>>0,this._absoluteOffsets[G-1]=fe+de}getAbsoluteOffset(G){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[G-1]}charOffsetToPartData(G){return 0===this.length?0:G<0?this._data[0]:G>=this.length?this._data[this.length-1]:this._data[G]}getDomPosition(G){const oe=this.charOffsetToPartData(G-1),de=F.getPartIndex(oe),fe=F.getCharIndex(oe);return new O(de,fe)}getColumn(G,oe){return this.partDataToCharOffset(G.partIndex,oe,G.charIndex)+1}partDataToCharOffset(G,oe,de){if(0===this.length)return 0;const fe=(G<<16|de<<0)>>>0;let _e=0,we=this.length-1;for(;_e+1<we;){const ve=_e+we>>>1,ke=this._data[ve];if(ke===fe)return ve;ke>fe?we=ve:_e=ve}if(_e===we)return _e;const me=this._data[_e],Q=this._data[we];if(me===fe)return _e;if(Q===fe)return we;const q=F.getPartIndex(me),le=F.getCharIndex(me);let J;return J=q!==F.getPartIndex(Q)?oe:F.getCharIndex(Q),de-le<=J-de?_e:we}}class k{constructor(G,oe,de){this._renderLineOutputBrand=void 0,this.characterMapping=G,this.containsRTL=oe,this.containsForeignElements=de}}function y(U,G){if(0===U.lineContent.length){if(U.lineDecorations.length>0){G.appendASCIIString("<span>");let oe=0,de=0,fe=0;for(const we of U.lineDecorations)(1===we.type||2===we.type)&&(G.appendASCIIString('<span class="'),G.appendASCIIString(we.className),G.appendASCIIString('"></span>'),1===we.type&&(fe|=1,oe++),2===we.type&&(fe|=2,de++));G.appendASCIIString("</span>");const _e=new F(1,oe+de);return _e.setColumnInfo(1,oe,0,0),new k(_e,!1,fe)}return G.appendASCIIString("<span><span></span></span>"),new k(new F(0,0),!1,0)}return function(U,G){const oe=U.fontIsMonospace,de=U.canUseHalfwidthRightwardsArrow,fe=U.containsForeignElements,_e=U.lineContent,we=U.len,me=U.isOverflowing,Q=U.parts,q=U.fauxIndentLength,le=U.tabSize,ee=U.startVisibleColumn,J=U.containsRTL,re=U.spaceWidth,ce=U.renderSpaceCharCode,ve=U.renderWhitespace,ke=U.renderControlCharacters,We=new F(we+1,Q.length);let je=!1,ue=0,Ce=ee,Ae=0,et=0,$e=0,Te=0;G.appendASCIIString(J?'<span dir="ltr">':"<span>");for(let rt=0,ht=Q.length;rt<ht;rt++){Te+=$e;const nt=Q[rt],xe=nt.endIndex,Ie=nt.type,at=0!==ve&&nt.isWhitespace(),bt=at&&!oe&&("mtkw"===Ie||!fe),Ut=ue===xe&&nt.isPseudoAfter();if(Ae=0,G.appendASCIIString('<span class="'),G.appendASCIIString(bt?"mtkz":Ie),G.appendASCII(34),at){let mn=0;{let pt=ue,Bt=Ce;for(;pt<xe;pt++){const zt=0|(9===_e.charCodeAt(pt)?le-Bt%le:1);mn+=zt,pt>=q&&(Bt+=zt)}}for(bt&&(G.appendASCIIString(' style="width:'),G.appendASCIIString(String(re*mn)),G.appendASCIIString('px"')),G.appendASCII(62);ue<xe;ue++){let Bt;if(We.setColumnInfo(ue+1,rt-et,Ae,Te),et=0,9===_e.charCodeAt(ue)){Bt=le-Ce%le|0,G.write1(!de||Bt>1?8594:65515);for(let Vt=2;Vt<=Bt;Vt++)G.write1(160)}else Bt=1,G.write1(ce);Ae+=Bt,ue>=q&&(Ce+=Bt)}$e=mn}else{let mn=0;for(G.appendASCII(62);ue<xe;ue++){We.setColumnInfo(ue+1,rt-et,Ae,Te),et=0;const pt=_e.charCodeAt(ue);let Bt=1,Vt=1;switch(pt){case 9:Bt=le-Ce%le,Vt=Bt;for(let zt=1;zt<=Bt;zt++)G.write1(160);break;case 32:G.write1(160);break;case 60:G.appendASCIIString("&lt;");break;case 62:G.appendASCIIString("&gt;");break;case 38:G.appendASCIIString("&amp;");break;case 0:ke?G.write1(9216):G.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:G.write1(65533);break;default:E.K7(pt)&&Vt++,ke&&pt<32?G.write1(9216+pt):ke&&127===pt?G.write1(9249):ke&&L(pt)?(G.appendASCIIString("[U+"),G.appendASCIIString($(pt)),G.appendASCIIString("]"),Bt=8):G.write1(pt)}Ae+=Bt,mn+=Bt,ue>=q&&(Ce+=Vt)}$e=mn}Ut?et++:et=0,ue>=we&&!je&&nt.isPseudoAfter()&&(je=!0,We.setColumnInfo(ue+1,rt,Ae,Te)),G.appendASCIIString("</span>")}return je||We.setColumnInfo(we+1,Q.length-1,Ae,Te),me&&G.appendASCIIString("<span>&hellip;</span>"),G.appendASCIIString("</span>"),new k(We,J,fe)}(function(U){const G=U.lineContent;let oe,de;-1!==U.stopRenderingLineAfter&&U.stopRenderingLineAfter<G.length?(oe=!0,de=U.stopRenderingLineAfter):(oe=!1,de=G.length);let fe=function(U,G,oe){const de=[];let fe=0;G>0&&(de[fe++]=new B(G,"",0));for(let _e=0,we=U.getCount();_e<we;_e++){const me=U.getEndOffset(_e);if(me<=G)continue;const Q=U.getClassName(_e);if(me>=oe){de[fe++]=new B(oe,Q,0);break}de[fe++]=new B(me,Q,0)}return de}(U.lineTokens,U.fauxIndentLength,de);U.renderControlCharacters&&!U.isBasicASCII&&(fe=function(U,G){const oe=[];let de=new B(0,"",0),fe=0;for(const _e of G){const we=_e.endIndex;for(;fe<we;fe++)L(U.charCodeAt(fe))&&(fe>de.endIndex&&(de=new B(fe,_e.type,_e.metadata),oe.push(de)),de=new B(fe+1,"mtkcontrol",_e.metadata),oe.push(de));fe>de.endIndex&&(de=new B(we,_e.type,_e.metadata),oe.push(de))}return oe}(G,fe)),(4===U.renderWhitespace||1===U.renderWhitespace||2===U.renderWhitespace&&U.selectionsOnLine||3===U.renderWhitespace)&&(fe=function(U,G,oe,de){const fe=U.continuesWithWrappedLine,_e=U.fauxIndentLength,we=U.tabSize,me=U.startVisibleColumn,Q=U.useMonospaceOptimizations,q=U.selectionsOnLine,le=1===U.renderWhitespace,ee=3===U.renderWhitespace,J=U.renderSpaceWidth!==U.spaceWidth,re=[];let ce=0,ve=0,ke=de[ve].type,We=de[ve].endIndex;const je=de.length;let Ae,ue=!1,Ce=E.LC(G);-1===Ce?(ue=!0,Ce=oe,Ae=oe):Ae=E.ow(G);let et=!1,$e=0,Te=q&&q[$e],rt=me%we;for(let nt=_e;nt<oe;nt++){const xe=G.charCodeAt(nt);let Ie;if(Te&&nt>=Te.endOffset&&($e++,Te=q&&q[$e]),nt<Ce||nt>Ae)Ie=!0;else if(9===xe)Ie=!0;else if(32===xe)if(le)if(et)Ie=!0;else{const at=nt+1<oe?G.charCodeAt(nt+1):0;Ie=32===at||9===at}else Ie=!0;else Ie=!1;if(Ie&&q&&(Ie=!!Te&&Te.startOffset<=nt&&Te.endOffset>nt),Ie&&ee&&(Ie=ue||nt>Ae),et){if(!Ie||!Q&&rt>=we){if(J)for(let bt=(ce>0?re[ce-1].endIndex:_e)+1;bt<=nt;bt++)re[ce++]=new B(bt,"mtkw",1);else re[ce++]=new B(nt,"mtkw",1);rt%=we}}else(nt===We||Ie&&nt>_e)&&(re[ce++]=new B(nt,ke,0),rt%=we);for(9===xe?rt=we:E.K7(xe)?rt+=2:rt++,et=Ie;nt===We&&(ve++,ve<je);)ke=de[ve].type,We=de[ve].endIndex}let ht=!1;if(et)if(fe&&le){const nt=oe>0?G.charCodeAt(oe-1):0,xe=oe>1?G.charCodeAt(oe-2):0;32===nt&&32!==xe&&9!==xe||(ht=!0)}else ht=!0;if(ht)if(J)for(let xe=(ce>0?re[ce-1].endIndex:_e)+1;xe<=oe;xe++)re[ce++]=new B(xe,"mtkw",1);else re[ce++]=new B(oe,"mtkw",1);else re[ce++]=new B(oe,ke,0);return re}(U,G,de,fe));let _e=0;if(U.lineDecorations.length>0){for(let we=0,me=U.lineDecorations.length;we<me;we++){const Q=U.lineDecorations[we];3===Q.type||1===Q.type?_e|=1:2===Q.type&&(_e|=2)}fe=function(U,G,oe,de){de.sort(Y.Kp.compare);const fe=Y.k.normalize(U,de),_e=fe.length;let we=0;const me=[];let Q=0,q=0;for(let ee=0,J=oe.length;ee<J;ee++){const re=oe[ee],ce=re.endIndex,ve=re.type,ke=re.metadata;for(;we<_e&&fe[we].startOffset<ce;){const We=fe[we];if(We.startOffset>q&&(q=We.startOffset,me[Q++]=new B(q,ve,ke)),!(We.endOffset+1<=ce)){q=ce,me[Q++]=new B(q,ve+" "+We.className,ke|We.metadata);break}q=We.endOffset+1,me[Q++]=new B(q,ve+" "+We.className,ke|We.metadata),we++}ce>q&&(q=ce,me[Q++]=new B(q,ve,ke))}const le=oe[oe.length-1].endIndex;if(we<_e&&fe[we].startOffset===le)for(;we<_e&&fe[we].startOffset===le;){const ee=fe[we];me[Q++]=new B(q,ee.className,ee.metadata),we++}return me}(G,0,fe,U.lineDecorations)}return U.containsRTL||(fe=function(U,G,oe){let de=0;const fe=[];let _e=0;if(oe)for(let we=0,me=G.length;we<me;we++){const Q=G[we],q=Q.endIndex;if(de+50<q){const le=Q.type,ee=Q.metadata;let J=-1,re=de;for(let ce=de;ce<q;ce++)32===U.charCodeAt(ce)&&(J=ce),-1!==J&&ce-re>=50&&(fe[_e++]=new B(J+1,le,ee),re=J+1,J=-1);re!==q&&(fe[_e++]=new B(q,le,ee))}else fe[_e++]=Q;de=q}else for(let we=0,me=G.length;we<me;we++){const Q=G[we],q=Q.endIndex,le=q-de;if(le>50){const ee=Q.type,J=Q.metadata,re=Math.ceil(le/50);for(let ce=1;ce<re;ce++)fe[_e++]=new B(de+50*ce,ee,J);fe[_e++]=new B(q,ee,J)}else fe[_e++]=Q;de=q}return fe}(G,fe,!U.isBasicASCII||U.fontLigatures)),new x(U.useMonospaceOptimizations,U.canUseHalfwidthRightwardsArrow,G,de,oe,fe,_e,U.fauxIndentLength,U.tabSize,U.startVisibleColumn,U.containsRTL,U.spaceWidth,U.renderSpaceCharCode,U.renderWhitespace,U.renderControlCharacters)}(U),G)}class C{constructor(G,oe,de,fe){this.characterMapping=G,this.html=oe,this.containsRTL=de,this.containsForeignElements=fe}}function b(U){const G=(0,g.l$)(1e4),oe=y(U,G);return new C(oe.characterMapping,G.build(),oe.containsRTL,oe.containsForeignElements)}class x{constructor(G,oe,de,fe,_e,we,me,Q,q,le,ee,J,re,ce,ve){this.fontIsMonospace=G,this.canUseHalfwidthRightwardsArrow=oe,this.lineContent=de,this.len=fe,this.isOverflowing=_e,this.parts=we,this.containsForeignElements=me,this.fauxIndentLength=Q,this.tabSize=q,this.startVisibleColumn=le,this.containsRTL=ee,this.spaceWidth=J,this.renderSpaceCharCode=re,this.renderWhitespace=ce,this.renderControlCharacters=ve}}function L(U){return U<32?9!==U:127===U||U>=8234&&U<=8238||U>=8294&&U<=8297||U>=8206&&U<=8207||1564===U}function $(U){return U.toString(16).toUpperCase().padStart(4,"0")}},42483:(Fe,Ne,m)=>{m.d(Ne,{l_:()=>Y,ud:()=>B,IP:()=>D,wA:()=>i,$t:()=>O,Wx:()=>F,$l:()=>k,SQ:()=>y});var E=m(74243),g=m(1873);class Y{constructor(b,x,f,M){this._viewportBrand=void 0,this.top=0|b,this.left=0|x,this.width=0|f,this.height=0|M}}class B{constructor(b,x){this.tabSize=b,this.data=x}}class D{constructor(b,x,f,M,H,L,N){this._viewLineDataBrand=void 0,this.content=b,this.continuesWithWrappedLine=x,this.minColumn=f,this.maxColumn=M,this.startVisibleColumn=H,this.tokens=L,this.inlineDecorations=N}}class i{constructor(b,x,f,M,H,L,N,Z,P,I){this.minColumn=b,this.maxColumn=x,this.content=f,this.continuesWithWrappedLine=M,this.isBasicASCII=i.isBasicASCII(f,L),this.containsRTL=i.containsRTL(f,this.isBasicASCII,H),this.tokens=N,this.inlineDecorations=Z,this.tabSize=P,this.startVisibleColumn=I}static isBasicASCII(b,x){return!x||E.$i(b)}static containsRTL(b,x,f){return!(x||!f)&&E.Ut(b)}}class O{constructor(b,x,f){this.range=b,this.inlineClassName=x,this.type=f}}class F{constructor(b,x,f,M){this.startOffset=b,this.endOffset=x,this.inlineClassName=f,this.inlineClassNameAffectsLetterSpacing=M}toInlineDecoration(b){return new O(new g.e(b,this.startOffset+1,b,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class k{constructor(b,x){this._viewModelDecorationBrand=void 0,this.range=b,this.options=x}}class y{constructor(b,x,f){this.color=b,this.zIndex=x,this.data=f}static cmp(b,x){return b.zIndex===x.zIndex?b.color<x.color?-1:b.color>x.color?1:0:b.zIndex-x.zIndex}}},31321:(Fe,Ne,m)=>{m.d(Ne,{EY:()=>g,Tj:()=>Y});class E{constructor(D,i,O){this._colorZoneBrand=void 0,this.from=0|D,this.to=0|i,this.colorId=0|O}static compare(D,i){return D.colorId===i.colorId?D.from===i.from?D.to-i.to:D.from-i.from:D.colorId-i.colorId}}class g{constructor(D,i,O,F){this._overviewRulerZoneBrand=void 0,this.startLineNumber=D,this.endLineNumber=i,this.heightInLines=O,this.color=F,this._colorZone=null}static compare(D,i){return D.color===i.color?D.startLineNumber===i.startLineNumber?D.heightInLines===i.heightInLines?D.endLineNumber-i.endLineNumber:D.heightInLines-i.heightInLines:D.startLineNumber-i.startLineNumber:D.color<i.color?-1:1}setColorZone(D){this._colorZone=D}getColorZones(){return this._colorZone}}class Y{constructor(D){this._getVerticalOffsetForLine=D,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(D){this._zones=D,this._zones.sort(g.compare)}setLineHeight(D){return this._lineHeight!==D&&(this._lineHeight=D,this._colorZonesInvalid=!0,!0)}setPixelRatio(D){this._pixelRatio=D,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(D){return this._domWidth!==D&&(this._domWidth=D,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(D){return this._domHeight!==D&&(this._domHeight=D,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(D){return this._outerHeight!==D&&(this._outerHeight=D,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const D=this._colorZonesInvalid,i=Math.floor(this._lineHeight),O=Math.floor(this.getCanvasHeight()),k=O/Math.floor(this._outerHeight),y=Math.floor(4*this._pixelRatio/2),C=[];for(let b=0,x=this._zones.length;b<x;b++){const f=this._zones[b];if(!D){const G=f.getColorZones();if(G){C.push(G);continue}}const M=this._getVerticalOffsetForLine(f.startLineNumber),H=0===f.heightInLines?this._getVerticalOffsetForLine(f.endLineNumber)+i:M+f.heightInLines*i,L=Math.floor(k*M),N=Math.floor(k*H);let Z=Math.floor((L+N)/2),P=N-Z;P<y&&(P=y),Z-P<0&&(Z=P),Z+P>O&&(Z=O-P);const I=f.color;let $=this._color2Id[I];$||($=++this._lastAssignedId,this._color2Id[I]=$,this._id2Color[$]=I);const U=new E(Z-P,Z+P,$);f.setColorZone(U),C.push(U)}return this._colorZonesInvalid=!1,C.sort(E.compare),C}}},18066:(Fe,Ne,m)=>{m.d(Ne,{CU:()=>D,Fd:()=>i,$t:()=>O,zg:()=>F});var E=m(67947),g=m(1873),Y=m(42483),B=m(52925);class D{constructor(C,b,x,f,M){this.editorId=C,this.model=b,this.configuration=x,this._linesCollection=f,this._coordinatesConverter=M,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(C){const b=C.id;let x=this._decorationsCache[b];if(!x){const f=C.range,M=C.options;let H;if(M.isWholeLine){const L=this._coordinatesConverter.convertModelPositionToViewPosition(new E.L(f.startLineNumber,1),0),N=this._coordinatesConverter.convertModelPositionToViewPosition(new E.L(f.endLineNumber,this.model.getLineMaxColumn(f.endLineNumber)),1);H=new g.e(L.lineNumber,L.column,N.lineNumber,N.column)}else H=this._coordinatesConverter.convertModelRangeToViewRange(f,1);x=new Y.$l(H,M),this._decorationsCache[b]=x}return x}getDecorationsViewportData(C){let b=null!==this._cachedModelDecorationsResolver;return b=b&&C.equalsRange(this._cachedModelDecorationsResolverViewRange),b||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(C),this._cachedModelDecorationsResolverViewRange=C),this._cachedModelDecorationsResolver}_getDecorationsViewportData(C){const b=this._linesCollection.getDecorationsInRange(C,this.editorId,(0,B.$J)(this.configuration.options)),x=C.startLineNumber,f=C.endLineNumber,M=[];let H=0;const L=[];for(let N=x;N<=f;N++)L[N-x]=[];for(let N=0,Z=b.length;N<Z;N++){const P=b[N],I=P.options;if(!i(this.model,P))continue;const $=this._getOrCreateViewModelDecoration(P),U=$.range;if(M[H++]=$,I.inlineClassName){const G=new Y.$t(U,I.inlineClassName,I.inlineClassNameAffectsLetterSpacing?3:0),oe=Math.max(x,U.startLineNumber),de=Math.min(f,U.endLineNumber);for(let fe=oe;fe<=de;fe++)L[fe-x].push(G)}if(I.beforeContentClassName&&x<=U.startLineNumber&&U.startLineNumber<=f){const G=new Y.$t(new g.e(U.startLineNumber,U.startColumn,U.startLineNumber,U.startColumn),I.beforeContentClassName,1);L[U.startLineNumber-x].push(G)}if(I.afterContentClassName&&x<=U.endLineNumber&&U.endLineNumber<=f){const G=new Y.$t(new g.e(U.endLineNumber,U.endColumn,U.endLineNumber,U.endColumn),I.afterContentClassName,2);L[U.endLineNumber-x].push(G)}}return{decorations:M,inlineDecorations:L}}}function i(y,C){return!(C.options.hideInCommentTokens&&O(y,C)||C.options.hideInStringTokens&&F(y,C))}function O(y,C){return k(y,C.range,b=>1===b)}function F(y,C){return k(y,C.range,b=>2===b)}function k(y,C,b){for(let x=C.startLineNumber;x<=C.endLineNumber;x++){const f=y.getLineTokens(x),H=x===C.endLineNumber;let L=x===C.startLineNumber?f.findTokenIndexAtOffset(C.startColumn-1):0;for(;L<f.getCount()&&!(H&&f.getStartOffset(L)>C.endColumn-1);){if(!b(f.getStandardTokenType(L)))return!1;L++}}return!0}},55550:(Fe,Ne,m)=>{m.d(Ne,{yy:()=>f,Dl:()=>M,YQ:()=>H});var E=m(74243),g=m(1873),Y=m(66607),B=m(40189),D=m(44346),i=m(6461),O=m(62253),F=m(43569),k=m(26033),y=m(12918);const C=(0,F.yh)("IEditorCancelService"),b=new i.uy("cancellableOperation",!1,(0,y.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,k.z)(C,class{constructor(){this._tokens=new WeakMap}add(L,N){let P,Z=this._tokens.get(L);return Z||(Z=L.invokeWithinContext(I=>({key:b.bindTo(I.get(i.i6)),tokens:new O.S})),this._tokens.set(L,Z)),Z.key.set(!0),P=Z.tokens.push(N),()=>{P&&(P(),Z.key.set(!Z.tokens.isEmpty()),P=void 0)}}cancel(L){const N=this._tokens.get(L);if(!N)return;const Z=N.tokens.pop();Z&&(Z.cancel(),N.key.set(!N.tokens.isEmpty()))}},!0);class x extends Y.A{constructor(N,Z){super(Z),this.editor=N,this._unregister=N.invokeWithinContext(P=>P.get(C).add(N,this))}dispose(){this._unregister(),super.dispose()}}(0,D.fK)(new class extends D._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:b})}runEditorCommand(L,N){L.get(C).cancel(N)}});class f{constructor(N,Z){if(this.flags=Z,0!=(1&this.flags)){const P=N.getModel();this.modelVersionId=P?E.WU("{0}#{1}",P.uri.toString(),P.getVersionId()):null}else this.modelVersionId=null;this.position=0!=(4&this.flags)?N.getPosition():null,this.selection=0!=(2&this.flags)?N.getSelection():null,0!=(8&this.flags)?(this.scrollLeft=N.getScrollLeft(),this.scrollTop=N.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(N){if(!(N instanceof f))return!1;const Z=N;return!(this.modelVersionId!==Z.modelVersionId||this.scrollLeft!==Z.scrollLeft||this.scrollTop!==Z.scrollTop||!this.position&&Z.position||this.position&&!Z.position||this.position&&Z.position&&!this.position.equals(Z.position)||!this.selection&&Z.selection||this.selection&&!Z.selection||this.selection&&Z.selection&&!this.selection.equalsRange(Z.selection))}validate(N){return this._equals(new f(N,this.flags))}}class M extends x{constructor(N,Z,P,I){super(N,I),this._listener=new B.SL,4&Z&&this._listener.add(N.onDidChangeCursorPosition($=>{(!P||!g.e.containsPosition(P,$.position))&&this.cancel()})),2&Z&&this._listener.add(N.onDidChangeCursorSelection($=>{(!P||!g.e.containsRange(P,$.selection))&&this.cancel()})),8&Z&&this._listener.add(N.onDidScrollChange($=>this.cancel())),1&Z&&(this._listener.add(N.onDidChangeModel($=>this.cancel())),this._listener.add(N.onDidChangeModelContent($=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class H extends Y.A{constructor(N,Z){super(Z),this._listener=N.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},86349:(Fe,Ne,m)=>{m.d(Ne,{xC:()=>oe,Zg:()=>U,x$:()=>de,Qq:()=>_e,Qs:()=>q});var E=m(99034),g=m(89822),Y=m(66607),B=m(13226),D=m(58151),i=m(62253),O=m(99770),F=m(85459),k=m(55550),y=m(79837),C=m(67947),b=m(1873),x=m(60745),f=m(78339),M=m(13591),H=m(38696),L=m(12918),N=m(10467);class Z{constructor(ee){this.value=ee,this._lower=ee.toLowerCase()}static toKey(ee){return"string"==typeof ee?ee.toLowerCase():ee._lower}}var P=m(43569),I=m(3494),$=function(le,ee,J,re){return new(J||(J=Promise))(function(ve,ke){function We(Ce){try{ue(re.next(Ce))}catch(Ae){ke(Ae)}}function je(Ce){try{ue(re.throw(Ce))}catch(Ae){ke(Ae)}}function ue(Ce){Ce.done?ve(Ce.value):function(ve){return ve instanceof J?ve:new J(function(ke){ke(ve)})}(Ce.value).then(We,je)}ue((re=re.apply(le,ee||[])).next())})};function U(le){if(!(le=le.filter(ce=>ce.range)).length)return;let{range:ee}=le[0];for(let ce=1;ce<le.length;ce++)ee=b.e.plusRange(ee,le[ce].range);const{startLineNumber:J,endLineNumber:re}=ee;(0,E.Z9)(J===re?1===le.length?L.N("hint11","Made 1 formatting edit on line {0}",J):L.N("hintn1","Made {0} formatting edits on line {1}",le.length,J):1===le.length?L.N("hint1n","Made 1 formatting edit between lines {0} and {1}",J,re):L.N("hintnn","Made {0} formatting edits between lines {1} and {2}",le.length,J,re))}function G(le,ee,J){const re=[],ce=new Set,ve=le.ordered(J);for(const We of ve)re.push(We),We.extensionId&&ce.add(Z.toKey(We.extensionId));const ke=ee.ordered(J);for(const We of ke){if(We.extensionId){if(ce.has(Z.toKey(We.extensionId)))continue;ce.add(Z.toKey(We.extensionId))}re.push({displayName:We.displayName,extensionId:We.extensionId,provideDocumentFormattingEdits:(je,ue,Ce)=>We.provideDocumentRangeFormattingEdits(je,je.getFullModelRange(),ue,Ce)})}return re}class oe{static setFormatterSelector(ee){return{dispose:oe._selectors.unshift(ee)}}static select(ee,J,re){return $(this,void 0,void 0,function*(){if(0===ee.length)return;const ce=D.$.first(oe._selectors);return ce?yield ce(ee,J,re):void 0})}}function de(le,ee,J,re,ce,ve){return $(this,void 0,void 0,function*(){const ke=le.get(P.TG),{documentRangeFormattingEditProvider:We}=le.get(I.p),je=(0,y.CL)(ee)?ee.getModel():ee,ue=We.ordered(je),Ce=yield oe.select(ue,je,re);Ce&&(ce.report(Ce),yield ke.invokeFunction(fe,Ce,ee,J,ve))})}function fe(le,ee,J,re,ce){return $(this,void 0,void 0,function*(){const ve=le.get(f.p);let ke,We;(0,y.CL)(J)?(ke=J.getModel(),We=new k.Dl(J,5,void 0,ce)):(ke=J,We=new k.YQ(J,ce));let je=[],ue=0;for(let Te of(0,g._2)(re).sort(b.e.compareRangesUsingStarts))ue>0&&b.e.areIntersectingOrTouching(je[ue-1],Te)?je[ue-1]=b.e.fromPositions(je[ue-1].getStartPosition(),Te.getEndPosition()):ue=je.push(Te);const Ce=Te=>$(this,void 0,void 0,function*(){return(yield ee.provideDocumentRangeFormattingEdits(ke,Te,ke.getFormattingOptions(),We.token))||[]}),Ae=(Te,rt)=>{if(!Te.length||!rt.length)return!1;const ht=Te.reduce((nt,xe)=>b.e.plusRange(nt,xe.range),Te[0].range);if(!rt.some(nt=>b.e.intersectRanges(ht,nt.range)))return!1;for(let nt of Te)for(let xe of rt)if(b.e.intersectRanges(nt.range,xe.range))return!0;return!1},et=[],$e=[];try{for(let Te of je){if(We.token.isCancellationRequested)return!0;$e.push(yield Ce(Te))}for(let Te=0;Te<je.length;++Te)for(let rt=Te+1;rt<je.length;++rt){if(We.token.isCancellationRequested)return!0;if(Ae($e[Te],$e[rt])){const ht=b.e.plusRange(je[Te],je[rt]),nt=yield Ce(ht);je.splice(rt,1),je.splice(Te,1),je.push(ht),$e.splice(rt,1),$e.splice(Te,1),$e.push(nt),Te=0,rt=0}}for(let Te of $e){if(We.token.isCancellationRequested)return!0;const rt=yield ve.computeMoreMinimalEdits(ke.uri,Te);rt&&et.push(...rt)}}finally{We.dispose()}if(0===et.length)return!1;if((0,y.CL)(J))H.V.execute(J,et,!0),U(et),J.revealPositionInCenterIfOutsideViewport(J.getPosition(),1);else{const[{range:Te}]=et,rt=new x.Y(Te.startLineNumber,Te.startColumn,Te.endLineNumber,Te.endColumn);ke.pushEditOperations([rt],et.map(ht=>({text:ht.text,range:b.e.lift(ht.range),forceMoveMarkers:!0})),ht=>{for(const{range:nt}of ht)if(b.e.areIntersectingOrTouching(nt,rt))return[new x.Y(nt.startLineNumber,nt.startColumn,nt.endLineNumber,nt.endColumn)];return null})}return!0})}function _e(le,ee,J,re,ce){return $(this,void 0,void 0,function*(){const ve=le.get(P.TG),ke=le.get(I.p),We=(0,y.CL)(ee)?ee.getModel():ee,je=G(ke.documentFormattingEditProvider,ke.documentRangeFormattingEditProvider,We),ue=yield oe.select(je,We,J);ue&&(re.report(ue),yield ve.invokeFunction(we,ue,ee,J,ce))})}function we(le,ee,J,re,ce){return $(this,void 0,void 0,function*(){const ve=le.get(f.p);let ke,We,je;(0,y.CL)(J)?(ke=J.getModel(),We=new k.Dl(J,5,void 0,ce)):(ke=J,We=new k.YQ(J,ce));try{const ue=yield ee.provideDocumentFormattingEdits(ke,ke.getFormattingOptions(),We.token);if(je=yield ve.computeMoreMinimalEdits(ke.uri,ue),We.token.isCancellationRequested)return!0}finally{We.dispose()}if(!je||0===je.length)return!1;if((0,y.CL)(J))H.V.execute(J,je,2!==re),2!==re&&(U(je),J.revealPositionInCenterIfOutsideViewport(J.getPosition(),1));else{const[{range:ue}]=je,Ce=new x.Y(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn);ke.pushEditOperations([Ce],je.map(Ae=>({text:Ae.text,range:b.e.lift(Ae.range),forceMoveMarkers:!0})),Ae=>{for(const{range:et}of Ae)if(b.e.areIntersectingOrTouching(et,Ce))return[new x.Y(et.startLineNumber,et.startColumn,et.endLineNumber,et.endColumn)];return null})}return!0})}function q(le,ee,J,re,ce,ve,ke){const We=ee.onTypeFormattingEditProvider.ordered(J);return 0===We.length||We[0].autoFormatTriggerCharacters.indexOf(ce)<0?Promise.resolve(void 0):Promise.resolve(We[0].provideOnTypeFormattingEdits(J,re,ce,ve,ke)).catch(B.Cp).then(je=>le.computeMoreMinimalEdits(J.uri,je))}oe._selectors=new i.S,N.P0.registerCommand("_executeFormatRangeProvider",function(le,...ee){return $(this,void 0,void 0,function*(){const[J,re,ce]=ee;(0,O.p_)(F.o.isUri(J)),(0,O.p_)(b.e.isIRange(re));const ve=le.get(M.S),ke=le.get(f.p),We=le.get(I.p),je=yield ve.createModelReference(J);try{return function(le,ee,J,re,ce,ve){return $(this,void 0,void 0,function*(){const ke=ee.documentRangeFormattingEditProvider.ordered(J);for(const We of ke){let je=yield Promise.resolve(We.provideDocumentRangeFormattingEdits(J,re,ce,ve)).catch(B.Cp);if((0,g.Of)(je))return yield le.computeMoreMinimalEdits(J.uri,je)}})}(ke,We,je.object.textEditorModel,b.e.lift(re),ce,Y.T.None)}finally{je.dispose()}})}),N.P0.registerCommand("_executeFormatDocumentProvider",function(le,...ee){return $(this,void 0,void 0,function*(){const[J,re]=ee;(0,O.p_)(F.o.isUri(J));const ce=le.get(M.S),ve=le.get(f.p),ke=le.get(I.p),We=yield ce.createModelReference(J);try{return function(le,ee,J,re,ce){return $(this,void 0,void 0,function*(){const ve=G(ee.documentFormattingEditProvider,ee.documentRangeFormattingEditProvider,J);for(const ke of ve){let We=yield Promise.resolve(ke.provideDocumentFormattingEdits(J,re,ce)).catch(B.Cp);if((0,g.Of)(We))return yield le.computeMoreMinimalEdits(J.uri,We)}})}(ve,ke,We.object.textEditorModel,re,Y.T.None)}finally{We.dispose()}})}),N.P0.registerCommand("_executeFormatOnTypeProvider",function(le,...ee){return $(this,void 0,void 0,function*(){const[J,re,ce,ve]=ee;(0,O.p_)(F.o.isUri(J)),(0,O.p_)(C.L.isIPosition(re)),(0,O.p_)("string"==typeof ce);const ke=le.get(M.S),We=le.get(f.p),je=le.get(I.p),ue=yield ke.createModelReference(J);try{return q(We,je,ue.object.textEditorModel,C.L.lift(re),ce,ve,Y.T.None)}finally{ue.dispose()}})})},38696:(Fe,Ne,m)=>{m.d(Ne,{V:()=>Y});var E=m(19420),g=m(1873);class Y{static _handleEolEdits(D,i){let O,F=[];for(let k of i)"number"==typeof k.eol&&(O=k.eol),k.range&&"string"==typeof k.text&&F.push(k);return"number"==typeof O&&D.hasModel()&&D.getModel().pushEOL(O),F}static _isFullModelReplaceEdit(D,i){if(!D.hasModel())return!1;const O=D.getModel(),F=O.validateRange(i.range);return O.getFullModelRange().equalsRange(F)}static execute(D,i,O){O&&D.pushUndoStop();const F=Y._handleEolEdits(D,i);1===F.length&&Y._isFullModelReplaceEdit(D,F[0])?D.executeEdits("formatEditsCommand",F.map(k=>E.h.replace(g.e.lift(k.range),k.text))):D.executeEdits("formatEditsCommand",F.map(k=>E.h.replaceMove(g.e.lift(k.range),k.text))),O&&D.pushUndoStop()}}},70031:(Fe,Ne,m)=>{m.r(Ne),m.d(Ne,{CancellationTokenSource:()=>Kl,Emitter:()=>pm,KeyCode:()=>Bd,KeyMod:()=>Nf,MarkerSeverity:()=>Wd,MarkerTag:()=>Tf,Position:()=>Yu,Range:()=>If,Selection:()=>kf,SelectionDirection:()=>_m,Token:()=>bm,Uri:()=>Cm,editor:()=>vm,languages:()=>Ju});var E=m(52925),g=m(66607),Y=m(71040),B=m(64073),D=m(85459),i=m(67947),O=m(1873),F=m(60745),k=m(33979),y=(()=>{return(w=y||(y={}))[w.Unknown=0]="Unknown",w[w.Disabled=1]="Disabled",w[w.Enabled=2]="Enabled",y;var w})(),C=(()=>{return(w=C||(C={}))[w.KeepWhitespace=1]="KeepWhitespace",w[w.InsertAsSnippet=4]="InsertAsSnippet",C;var w})(),b=(()=>{return(w=b||(b={}))[w.Method=0]="Method",w[w.Function=1]="Function",w[w.Constructor=2]="Constructor",w[w.Field=3]="Field",w[w.Variable=4]="Variable",w[w.Class=5]="Class",w[w.Struct=6]="Struct",w[w.Interface=7]="Interface",w[w.Module=8]="Module",w[w.Property=9]="Property",w[w.Event=10]="Event",w[w.Operator=11]="Operator",w[w.Unit=12]="Unit",w[w.Value=13]="Value",w[w.Constant=14]="Constant",w[w.Enum=15]="Enum",w[w.EnumMember=16]="EnumMember",w[w.Keyword=17]="Keyword",w[w.Text=18]="Text",w[w.Color=19]="Color",w[w.File=20]="File",w[w.Reference=21]="Reference",w[w.Customcolor=22]="Customcolor",w[w.Folder=23]="Folder",w[w.TypeParameter=24]="TypeParameter",w[w.User=25]="User",w[w.Issue=26]="Issue",w[w.Snippet=27]="Snippet",b;var w})(),x=(()=>{return(w=x||(x={}))[w.Deprecated=1]="Deprecated",x;var w})(),f=(()=>{return(w=f||(f={}))[w.Invoke=0]="Invoke",w[w.TriggerCharacter=1]="TriggerCharacter",w[w.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",f;var w})(),M=(()=>{return(w=M||(M={}))[w.EXACT=0]="EXACT",w[w.ABOVE=1]="ABOVE",w[w.BELOW=2]="BELOW",M;var w})(),H=(()=>{return(w=H||(H={}))[w.NotSet=0]="NotSet",w[w.ContentFlush=1]="ContentFlush",w[w.RecoverFromMarkers=2]="RecoverFromMarkers",w[w.Explicit=3]="Explicit",w[w.Paste=4]="Paste",w[w.Undo=5]="Undo",w[w.Redo=6]="Redo",H;var w})(),L=(()=>{return(w=L||(L={}))[w.LF=1]="LF",w[w.CRLF=2]="CRLF",L;var w})(),N=(()=>{return(w=N||(N={}))[w.Text=0]="Text",w[w.Read=1]="Read",w[w.Write=2]="Write",N;var w})(),Z=(()=>{return(w=Z||(Z={}))[w.None=0]="None",w[w.Keep=1]="Keep",w[w.Brackets=2]="Brackets",w[w.Advanced=3]="Advanced",w[w.Full=4]="Full",Z;var w})(),P=(()=>{return(w=P||(P={}))[w.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",w[w.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",w[w.accessibilitySupport=2]="accessibilitySupport",w[w.accessibilityPageSize=3]="accessibilityPageSize",w[w.ariaLabel=4]="ariaLabel",w[w.autoClosingBrackets=5]="autoClosingBrackets",w[w.autoClosingDelete=6]="autoClosingDelete",w[w.autoClosingOvertype=7]="autoClosingOvertype",w[w.autoClosingQuotes=8]="autoClosingQuotes",w[w.autoIndent=9]="autoIndent",w[w.automaticLayout=10]="automaticLayout",w[w.autoSurround=11]="autoSurround",w[w.bracketPairColorization=12]="bracketPairColorization",w[w.guides=13]="guides",w[w.codeLens=14]="codeLens",w[w.codeLensFontFamily=15]="codeLensFontFamily",w[w.codeLensFontSize=16]="codeLensFontSize",w[w.colorDecorators=17]="colorDecorators",w[w.columnSelection=18]="columnSelection",w[w.comments=19]="comments",w[w.contextmenu=20]="contextmenu",w[w.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",w[w.cursorBlinking=22]="cursorBlinking",w[w.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",w[w.cursorStyle=24]="cursorStyle",w[w.cursorSurroundingLines=25]="cursorSurroundingLines",w[w.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",w[w.cursorWidth=27]="cursorWidth",w[w.disableLayerHinting=28]="disableLayerHinting",w[w.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",w[w.domReadOnly=30]="domReadOnly",w[w.dragAndDrop=31]="dragAndDrop",w[w.emptySelectionClipboard=32]="emptySelectionClipboard",w[w.extraEditorClassName=33]="extraEditorClassName",w[w.fastScrollSensitivity=34]="fastScrollSensitivity",w[w.find=35]="find",w[w.fixedOverflowWidgets=36]="fixedOverflowWidgets",w[w.folding=37]="folding",w[w.foldingStrategy=38]="foldingStrategy",w[w.foldingHighlight=39]="foldingHighlight",w[w.foldingImportsByDefault=40]="foldingImportsByDefault",w[w.foldingMaximumRegions=41]="foldingMaximumRegions",w[w.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",w[w.fontFamily=43]="fontFamily",w[w.fontInfo=44]="fontInfo",w[w.fontLigatures=45]="fontLigatures",w[w.fontSize=46]="fontSize",w[w.fontWeight=47]="fontWeight",w[w.formatOnPaste=48]="formatOnPaste",w[w.formatOnType=49]="formatOnType",w[w.glyphMargin=50]="glyphMargin",w[w.gotoLocation=51]="gotoLocation",w[w.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",w[w.hover=53]="hover",w[w.inDiffEditor=54]="inDiffEditor",w[w.inlineSuggest=55]="inlineSuggest",w[w.letterSpacing=56]="letterSpacing",w[w.lightbulb=57]="lightbulb",w[w.lineDecorationsWidth=58]="lineDecorationsWidth",w[w.lineHeight=59]="lineHeight",w[w.lineNumbers=60]="lineNumbers",w[w.lineNumbersMinChars=61]="lineNumbersMinChars",w[w.linkedEditing=62]="linkedEditing",w[w.links=63]="links",w[w.matchBrackets=64]="matchBrackets",w[w.minimap=65]="minimap",w[w.mouseStyle=66]="mouseStyle",w[w.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",w[w.mouseWheelZoom=68]="mouseWheelZoom",w[w.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",w[w.multiCursorModifier=70]="multiCursorModifier",w[w.multiCursorPaste=71]="multiCursorPaste",w[w.occurrencesHighlight=72]="occurrencesHighlight",w[w.overviewRulerBorder=73]="overviewRulerBorder",w[w.overviewRulerLanes=74]="overviewRulerLanes",w[w.padding=75]="padding",w[w.parameterHints=76]="parameterHints",w[w.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",w[w.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",w[w.quickSuggestions=79]="quickSuggestions",w[w.quickSuggestionsDelay=80]="quickSuggestionsDelay",w[w.readOnly=81]="readOnly",w[w.renameOnType=82]="renameOnType",w[w.renderControlCharacters=83]="renderControlCharacters",w[w.renderFinalNewline=84]="renderFinalNewline",w[w.renderLineHighlight=85]="renderLineHighlight",w[w.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",w[w.renderValidationDecorations=87]="renderValidationDecorations",w[w.renderWhitespace=88]="renderWhitespace",w[w.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",w[w.roundedSelection=90]="roundedSelection",w[w.rulers=91]="rulers",w[w.scrollbar=92]="scrollbar",w[w.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",w[w.scrollBeyondLastLine=94]="scrollBeyondLastLine",w[w.scrollPredominantAxis=95]="scrollPredominantAxis",w[w.selectionClipboard=96]="selectionClipboard",w[w.selectionHighlight=97]="selectionHighlight",w[w.selectOnLineNumbers=98]="selectOnLineNumbers",w[w.showFoldingControls=99]="showFoldingControls",w[w.showUnused=100]="showUnused",w[w.snippetSuggestions=101]="snippetSuggestions",w[w.smartSelect=102]="smartSelect",w[w.smoothScrolling=103]="smoothScrolling",w[w.stickyTabStops=104]="stickyTabStops",w[w.stopRenderingLineAfter=105]="stopRenderingLineAfter",w[w.suggest=106]="suggest",w[w.suggestFontSize=107]="suggestFontSize",w[w.suggestLineHeight=108]="suggestLineHeight",w[w.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",w[w.suggestSelection=110]="suggestSelection",w[w.tabCompletion=111]="tabCompletion",w[w.tabIndex=112]="tabIndex",w[w.unicodeHighlighting=113]="unicodeHighlighting",w[w.unusualLineTerminators=114]="unusualLineTerminators",w[w.useShadowDOM=115]="useShadowDOM",w[w.useTabStops=116]="useTabStops",w[w.wordSeparators=117]="wordSeparators",w[w.wordWrap=118]="wordWrap",w[w.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",w[w.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",w[w.wordWrapColumn=121]="wordWrapColumn",w[w.wordWrapOverride1=122]="wordWrapOverride1",w[w.wordWrapOverride2=123]="wordWrapOverride2",w[w.wrappingIndent=124]="wrappingIndent",w[w.wrappingStrategy=125]="wrappingStrategy",w[w.showDeprecated=126]="showDeprecated",w[w.inlayHints=127]="inlayHints",w[w.editorClassName=128]="editorClassName",w[w.pixelRatio=129]="pixelRatio",w[w.tabFocusMode=130]="tabFocusMode",w[w.layoutInfo=131]="layoutInfo",w[w.wrappingInfo=132]="wrappingInfo",P;var w})(),I=(()=>{return(w=I||(I={}))[w.TextDefined=0]="TextDefined",w[w.LF=1]="LF",w[w.CRLF=2]="CRLF",I;var w})(),$=(()=>{return(w=$||($={}))[w.LF=0]="LF",w[w.CRLF=1]="CRLF",$;var w})(),U=(()=>{return(w=U||(U={}))[w.None=0]="None",w[w.Indent=1]="Indent",w[w.IndentOutdent=2]="IndentOutdent",w[w.Outdent=3]="Outdent",U;var w})(),G=(()=>{return(w=G||(G={}))[w.Both=0]="Both",w[w.Right=1]="Right",w[w.Left=2]="Left",w[w.None=3]="None",G;var w})(),oe=(()=>{return(w=oe||(oe={}))[w.Type=1]="Type",w[w.Parameter=2]="Parameter",oe;var w})(),de=(()=>{return(w=de||(de={}))[w.Automatic=0]="Automatic",w[w.Explicit=1]="Explicit",de;var w})(),fe=(()=>{return(w=fe||(fe={}))[w.DependsOnKbLayout=-1]="DependsOnKbLayout",w[w.Unknown=0]="Unknown",w[w.Backspace=1]="Backspace",w[w.Tab=2]="Tab",w[w.Enter=3]="Enter",w[w.Shift=4]="Shift",w[w.Ctrl=5]="Ctrl",w[w.Alt=6]="Alt",w[w.PauseBreak=7]="PauseBreak",w[w.CapsLock=8]="CapsLock",w[w.Escape=9]="Escape",w[w.Space=10]="Space",w[w.PageUp=11]="PageUp",w[w.PageDown=12]="PageDown",w[w.End=13]="End",w[w.Home=14]="Home",w[w.LeftArrow=15]="LeftArrow",w[w.UpArrow=16]="UpArrow",w[w.RightArrow=17]="RightArrow",w[w.DownArrow=18]="DownArrow",w[w.Insert=19]="Insert",w[w.Delete=20]="Delete",w[w.Digit0=21]="Digit0",w[w.Digit1=22]="Digit1",w[w.Digit2=23]="Digit2",w[w.Digit3=24]="Digit3",w[w.Digit4=25]="Digit4",w[w.Digit5=26]="Digit5",w[w.Digit6=27]="Digit6",w[w.Digit7=28]="Digit7",w[w.Digit8=29]="Digit8",w[w.Digit9=30]="Digit9",w[w.KeyA=31]="KeyA",w[w.KeyB=32]="KeyB",w[w.KeyC=33]="KeyC",w[w.KeyD=34]="KeyD",w[w.KeyE=35]="KeyE",w[w.KeyF=36]="KeyF",w[w.KeyG=37]="KeyG",w[w.KeyH=38]="KeyH",w[w.KeyI=39]="KeyI",w[w.KeyJ=40]="KeyJ",w[w.KeyK=41]="KeyK",w[w.KeyL=42]="KeyL",w[w.KeyM=43]="KeyM",w[w.KeyN=44]="KeyN",w[w.KeyO=45]="KeyO",w[w.KeyP=46]="KeyP",w[w.KeyQ=47]="KeyQ",w[w.KeyR=48]="KeyR",w[w.KeyS=49]="KeyS",w[w.KeyT=50]="KeyT",w[w.KeyU=51]="KeyU",w[w.KeyV=52]="KeyV",w[w.KeyW=53]="KeyW",w[w.KeyX=54]="KeyX",w[w.KeyY=55]="KeyY",w[w.KeyZ=56]="KeyZ",w[w.Meta=57]="Meta",w[w.ContextMenu=58]="ContextMenu",w[w.F1=59]="F1",w[w.F2=60]="F2",w[w.F3=61]="F3",w[w.F4=62]="F4",w[w.F5=63]="F5",w[w.F6=64]="F6",w[w.F7=65]="F7",w[w.F8=66]="F8",w[w.F9=67]="F9",w[w.F10=68]="F10",w[w.F11=69]="F11",w[w.F12=70]="F12",w[w.F13=71]="F13",w[w.F14=72]="F14",w[w.F15=73]="F15",w[w.F16=74]="F16",w[w.F17=75]="F17",w[w.F18=76]="F18",w[w.F19=77]="F19",w[w.NumLock=78]="NumLock",w[w.ScrollLock=79]="ScrollLock",w[w.Semicolon=80]="Semicolon",w[w.Equal=81]="Equal",w[w.Comma=82]="Comma",w[w.Minus=83]="Minus",w[w.Period=84]="Period",w[w.Slash=85]="Slash",w[w.Backquote=86]="Backquote",w[w.BracketLeft=87]="BracketLeft",w[w.Backslash=88]="Backslash",w[w.BracketRight=89]="BracketRight",w[w.Quote=90]="Quote",w[w.OEM_8=91]="OEM_8",w[w.IntlBackslash=92]="IntlBackslash",w[w.Numpad0=93]="Numpad0",w[w.Numpad1=94]="Numpad1",w[w.Numpad2=95]="Numpad2",w[w.Numpad3=96]="Numpad3",w[w.Numpad4=97]="Numpad4",w[w.Numpad5=98]="Numpad5",w[w.Numpad6=99]="Numpad6",w[w.Numpad7=100]="Numpad7",w[w.Numpad8=101]="Numpad8",w[w.Numpad9=102]="Numpad9",w[w.NumpadMultiply=103]="NumpadMultiply",w[w.NumpadAdd=104]="NumpadAdd",w[w.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",w[w.NumpadSubtract=106]="NumpadSubtract",w[w.NumpadDecimal=107]="NumpadDecimal",w[w.NumpadDivide=108]="NumpadDivide",w[w.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",w[w.ABNT_C1=110]="ABNT_C1",w[w.ABNT_C2=111]="ABNT_C2",w[w.AudioVolumeMute=112]="AudioVolumeMute",w[w.AudioVolumeUp=113]="AudioVolumeUp",w[w.AudioVolumeDown=114]="AudioVolumeDown",w[w.BrowserSearch=115]="BrowserSearch",w[w.BrowserHome=116]="BrowserHome",w[w.BrowserBack=117]="BrowserBack",w[w.BrowserForward=118]="BrowserForward",w[w.MediaTrackNext=119]="MediaTrackNext",w[w.MediaTrackPrevious=120]="MediaTrackPrevious",w[w.MediaStop=121]="MediaStop",w[w.MediaPlayPause=122]="MediaPlayPause",w[w.LaunchMediaPlayer=123]="LaunchMediaPlayer",w[w.LaunchMail=124]="LaunchMail",w[w.LaunchApp2=125]="LaunchApp2",w[w.Clear=126]="Clear",w[w.MAX_VALUE=127]="MAX_VALUE",fe;var w})(),_e=(()=>{return(w=_e||(_e={}))[w.Hint=1]="Hint",w[w.Info=2]="Info",w[w.Warning=4]="Warning",w[w.Error=8]="Error",_e;var w})(),we=(()=>{return(w=we||(we={}))[w.Unnecessary=1]="Unnecessary",w[w.Deprecated=2]="Deprecated",we;var w})(),me=(()=>{return(w=me||(me={}))[w.Inline=1]="Inline",w[w.Gutter=2]="Gutter",me;var w})(),Q=(()=>{return(w=Q||(Q={}))[w.UNKNOWN=0]="UNKNOWN",w[w.TEXTAREA=1]="TEXTAREA",w[w.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",w[w.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",w[w.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",w[w.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",w[w.CONTENT_TEXT=6]="CONTENT_TEXT",w[w.CONTENT_EMPTY=7]="CONTENT_EMPTY",w[w.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",w[w.CONTENT_WIDGET=9]="CONTENT_WIDGET",w[w.OVERVIEW_RULER=10]="OVERVIEW_RULER",w[w.SCROLLBAR=11]="SCROLLBAR",w[w.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",w[w.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",Q;var w})(),q=(()=>{return(w=q||(q={}))[w.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",w[w.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",w[w.TOP_CENTER=2]="TOP_CENTER",q;var w})(),le=(()=>{return(w=le||(le={}))[w.Left=1]="Left",w[w.Center=2]="Center",w[w.Right=4]="Right",w[w.Full=7]="Full",le;var w})(),ee=(()=>{return(w=ee||(ee={}))[w.Left=0]="Left",w[w.Right=1]="Right",w[w.None=2]="None",ee;var w})(),J=(()=>{return(w=J||(J={}))[w.Off=0]="Off",w[w.On=1]="On",w[w.Relative=2]="Relative",w[w.Interval=3]="Interval",w[w.Custom=4]="Custom",J;var w})(),re=(()=>{return(w=re||(re={}))[w.None=0]="None",w[w.Text=1]="Text",w[w.Blocks=2]="Blocks",re;var w})(),ce=(()=>{return(w=ce||(ce={}))[w.Smooth=0]="Smooth",w[w.Immediate=1]="Immediate",ce;var w})(),ve=(()=>{return(w=ve||(ve={}))[w.Auto=1]="Auto",w[w.Hidden=2]="Hidden",w[w.Visible=3]="Visible",ve;var w})(),ke=(()=>{return(w=ke||(ke={}))[w.LTR=0]="LTR",w[w.RTL=1]="RTL",ke;var w})(),We=(()=>{return(w=We||(We={}))[w.Invoke=1]="Invoke",w[w.TriggerCharacter=2]="TriggerCharacter",w[w.ContentChange=3]="ContentChange",We;var w})(),je=(()=>{return(w=je||(je={}))[w.File=0]="File",w[w.Module=1]="Module",w[w.Namespace=2]="Namespace",w[w.Package=3]="Package",w[w.Class=4]="Class",w[w.Method=5]="Method",w[w.Property=6]="Property",w[w.Field=7]="Field",w[w.Constructor=8]="Constructor",w[w.Enum=9]="Enum",w[w.Interface=10]="Interface",w[w.Function=11]="Function",w[w.Variable=12]="Variable",w[w.Constant=13]="Constant",w[w.String=14]="String",w[w.Number=15]="Number",w[w.Boolean=16]="Boolean",w[w.Array=17]="Array",w[w.Object=18]="Object",w[w.Key=19]="Key",w[w.Null=20]="Null",w[w.EnumMember=21]="EnumMember",w[w.Struct=22]="Struct",w[w.Event=23]="Event",w[w.Operator=24]="Operator",w[w.TypeParameter=25]="TypeParameter",je;var w})(),ue=(()=>{return(w=ue||(ue={}))[w.Deprecated=1]="Deprecated",ue;var w})(),Ce=(()=>{return(w=Ce||(Ce={}))[w.Hidden=0]="Hidden",w[w.Blink=1]="Blink",w[w.Smooth=2]="Smooth",w[w.Phase=3]="Phase",w[w.Expand=4]="Expand",w[w.Solid=5]="Solid",Ce;var w})(),Ae=(()=>{return(w=Ae||(Ae={}))[w.Line=1]="Line",w[w.Block=2]="Block",w[w.Underline=3]="Underline",w[w.LineThin=4]="LineThin",w[w.BlockOutline=5]="BlockOutline",w[w.UnderlineThin=6]="UnderlineThin",Ae;var w})(),et=(()=>{return(w=et||(et={}))[w.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",w[w.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",w[w.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",w[w.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",et;var w})(),$e=(()=>{return(w=$e||($e={}))[w.None=0]="None",w[w.Same=1]="Same",w[w.Indent=2]="Indent",w[w.DeepIndent=3]="DeepIndent",$e;var w})();let Te=(()=>{class w{static chord(u,v){return(0,B.gx)(u,v)}}return w.CtrlCmd=2048,w.Shift=1024,w.Alt=512,w.WinCtrl=256,w})();function rt(){return{editor:void 0,languages:void 0,CancellationTokenSource:g.A,Emitter:Y.Q5,KeyCode:fe,KeyMod:Te,Position:i.L,Range:O.e,Selection:F.Y,SelectionDirection:ke,MarkerSeverity:_e,MarkerTag:we,Uri:D.o,Token:k.WU}}m(63317);var nt=m(74243),xe=m(12710),Ie=m(57623),at=m(37313),bt=m(11358),Ut=m(3760),mn=m(80067),pt=m(92119),Bt=m(88057),Vt=m(80810),zt=m(39067),fn=m(89983),Ye=m(40189),Et=m(13226),St=m(70700),sn=m(99770);let Rt=!1;function Mt(w){!St.$L||(Rt||(Rt=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(w.message))}class Yn{constructor(l,u,v,K){this.vsWorker=l,this.req=u,this.method=v,this.args=K,this.type=0}}class xi{constructor(l,u,v,K){this.vsWorker=l,this.seq=u,this.res=v,this.err=K,this.type=1}}class At{constructor(l,u,v,K){this.vsWorker=l,this.req=u,this.eventName=v,this.arg=K,this.type=2}}class Bi{constructor(l,u,v){this.vsWorker=l,this.req=u,this.event=v,this.type=3}}class Xt{constructor(l,u){this.vsWorker=l,this.req=u,this.type=4}}class He{constructor(l){this._workerId=-1,this._handler=l,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(l){this._workerId=l}sendMessage(l,u){const v=String(++this._lastSentReq);return new Promise((K,X)=>{this._pendingReplies[v]={resolve:K,reject:X},this._send(new Yn(this._workerId,v,l,u))})}listen(l,u){let v=null;const K=new Y.Q5({onFirstListenerAdd:()=>{v=String(++this._lastSentReq),this._pendingEmitters.set(v,K),this._send(new At(this._workerId,v,l,u))},onLastListenerRemove:()=>{this._pendingEmitters.delete(v),this._send(new Xt(this._workerId,v)),v=null}});return K.event}handleMessage(l){!l||!l.vsWorker||-1!==this._workerId&&l.vsWorker!==this._workerId||this._handleMessage(l)}_handleMessage(l){switch(l.type){case 1:return this._handleReplyMessage(l);case 0:return this._handleRequestMessage(l);case 2:return this._handleSubscribeEventMessage(l);case 3:return this._handleEventMessage(l);case 4:return this._handleUnsubscribeEventMessage(l)}}_handleReplyMessage(l){if(!this._pendingReplies[l.seq])return void console.warn("Got reply to unknown seq");let u=this._pendingReplies[l.seq];if(delete this._pendingReplies[l.seq],l.err){let v=l.err;return l.err.$isError&&(v=new Error,v.name=l.err.name,v.message=l.err.message,v.stack=l.err.stack),void u.reject(v)}u.resolve(l.res)}_handleRequestMessage(l){let u=l.req;this._handler.handleMessage(l.method,l.args).then(K=>{this._send(new xi(this._workerId,u,K,void 0))},K=>{K.detail instanceof Error&&(K.detail=(0,Et.ri)(K.detail)),this._send(new xi(this._workerId,u,void 0,(0,Et.ri)(K)))})}_handleSubscribeEventMessage(l){const u=l.req,v=this._handler.handleEvent(l.eventName,l.arg)(K=>{this._send(new Bi(this._workerId,u,K))});this._pendingEvents.set(u,v)}_handleEventMessage(l){this._pendingEmitters.has(l.req)?this._pendingEmitters.get(l.req).fire(l.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(l){this._pendingEvents.has(l.req)?(this._pendingEvents.get(l.req).dispose(),this._pendingEvents.delete(l.req)):console.warn("Got unsubscribe for unknown req")}_send(l){let u=[];if(0===l.type)for(let v=0;v<l.args.length;v++)l.args[v]instanceof ArrayBuffer&&u.push(l.args[v]);else 1===l.type&&l.res instanceof ArrayBuffer&&u.push(l.res);this._handler.sendMessage(l,u)}}class Ue extends Ye.JT{constructor(l,u,v){super();let K=null;this._worker=this._register(l.create("vs/base/common/worker/simpleWorker",Be=>{this._protocol.handleMessage(Be)},Be=>{K&&K(Be)})),this._protocol=new He({sendMessage:(Be,Ke)=>{this._worker.postMessage(Be,Ke)},handleMessage:(Be,Ke)=>{if("function"!=typeof v[Be])return Promise.reject(new Error("Missing method "+Be+" on main thread host."));try{return Promise.resolve(v[Be].apply(v,Ke))}catch(ut){return Promise.reject(ut)}},handleEvent:(Be,Ke)=>{if(Sn(Be)){const ut=v[Be].call(v,Ke);if("function"!=typeof ut)throw new Error(`Missing dynamic event ${Be} on main thread host.`);return ut}if(on(Be)){const ut=v[Be];if("function"!=typeof ut)throw new Error(`Missing event ${Be} on main thread host.`);return ut}throw new Error(`Malformed event name ${Be}`)}}),this._protocol.setWorkerId(this._worker.getId());let X=null;void 0!==St.li.require&&"function"==typeof St.li.require.getConfig?X=St.li.require.getConfig():void 0!==St.li.requirejs&&(X=St.li.requirejs.s.contexts._.config);const se=sn.$E(v);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(X)),u,se]);const pe=(Be,Ke)=>this._request(Be,Ke),Le=(Be,Ke)=>this._protocol.listen(Be,Ke);this._lazyProxy=new Promise((Be,Ke)=>{K=Ke,this._onModuleLoaded.then(ut=>{Be(function(w,l,u){const v=se=>function(){const pe=Array.prototype.slice.call(arguments,0);return l(se,pe)},K=se=>function(pe){return u(se,pe)};let X={};for(const se of w)X[se]=Sn(se)?K(se):on(se)?u(se,void 0):v(se);return X}(ut,pe,Le))},ut=>{Ke(ut),this._onError("Worker failed to load "+u,ut)})})}getProxyObject(){return this._lazyProxy}_request(l,u){return new Promise((v,K)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(l,u).then(v,K)},K)})}_onError(l,u){console.error(l),console.info(u)}}function on(w){return"o"===w[0]&&"n"===w[1]&&nt.df(w.charCodeAt(2))}function Sn(w){return/^onDynamic/.test(w)&&nt.df(w.charCodeAt(9))}var Li;const wi=null===(Li=window.trustedTypes)||void 0===Li?void 0:Li.createPolicy("defaultWorkerFactory",{createScriptURL:w=>w});class Yt{constructor(l,u,v,K,X){this.id=u;const se=function(w){if(St.li.MonacoEnvironment){if("function"==typeof St.li.MonacoEnvironment.getWorker)return St.li.MonacoEnvironment.getWorker("workerMain.js",w);if("function"==typeof St.li.MonacoEnvironment.getWorkerUrl){const l=St.li.MonacoEnvironment.getWorkerUrl("workerMain.js",w);return new Worker(wi?wi.createScriptURL(l):l,{name:w})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(v);this.worker="function"==typeof se.then?se:Promise.resolve(se),this.postMessage(l,[]),this.worker.then(pe=>{pe.onmessage=function(Le){K(Le.data)},pe.onmessageerror=X,"function"==typeof pe.addEventListener&&pe.addEventListener("error",X)})}getId(){return this.id}postMessage(l,u){this.worker&&this.worker.then(v=>v.postMessage(l,u))}dispose(){this.worker&&this.worker.then(l=>l.terminate()),this.worker=null}}let bn=(()=>{class w{constructor(u){this._label=u,this._webWorkerFailedBeforeError=!1}create(u,v,K){let X=++w.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new Yt(u,X,this._label||"anonymous"+X,v,se=>{Mt(se),this._webWorkerFailedBeforeError=se,K(se)})}}return w.LAST_WORKER_ID=0,w})();var Kt=m(87481);function Qe(w,l,u,v){return new Kt.Hs(w,l,u).ComputeDiff(v)}class ct{constructor(l){const u=[],v=[];for(let K=0,X=l.length;K<X;K++)u[K]=_n(l[K],1),v[K]=wn(l[K],1);this.lines=l,this._startColumns=u,this._endColumns=v}getElements(){const l=[];for(let u=0,v=this.lines.length;u<v;u++)l[u]=this.lines[u].substring(this._startColumns[u]-1,this._endColumns[u]-1);return l}getStrictElement(l){return this.lines[l]}getStartLineNumber(l){return l+1}getEndLineNumber(l){return l+1}createCharSequence(l,u,v){const K=[],X=[],se=[];let pe=0;for(let Le=u;Le<=v;Le++){const Be=this.lines[Le],ut=l?this._endColumns[Le]:Be.length+1;for(let Jt=l?this._startColumns[Le]:1;Jt<ut;Jt++)K[pe]=Be.charCodeAt(Jt-1),X[pe]=Le+1,se[pe]=Jt,pe++}return new xt(K,X,se)}}class xt{constructor(l,u,v){this._charCodes=l,this._lineNumbers=u,this._columns=v}getElements(){return this._charCodes}getStartLineNumber(l){return this._lineNumbers[l]}getStartColumn(l){return this._columns[l]}getEndLineNumber(l){return this._lineNumbers[l]}getEndColumn(l){return this._columns[l]+1}}class Ht{constructor(l,u,v,K,X,se,pe,Le){this.originalStartLineNumber=l,this.originalStartColumn=u,this.originalEndLineNumber=v,this.originalEndColumn=K,this.modifiedStartLineNumber=X,this.modifiedStartColumn=se,this.modifiedEndLineNumber=pe,this.modifiedEndColumn=Le}static createFromDiffChange(l,u,v){let K,X,se,pe,Le,Be,Ke,ut;return 0===l.originalLength?(K=0,X=0,se=0,pe=0):(K=u.getStartLineNumber(l.originalStart),X=u.getStartColumn(l.originalStart),se=u.getEndLineNumber(l.originalStart+l.originalLength-1),pe=u.getEndColumn(l.originalStart+l.originalLength-1)),0===l.modifiedLength?(Le=0,Be=0,Ke=0,ut=0):(Le=v.getStartLineNumber(l.modifiedStart),Be=v.getStartColumn(l.modifiedStart),Ke=v.getEndLineNumber(l.modifiedStart+l.modifiedLength-1),ut=v.getEndColumn(l.modifiedStart+l.modifiedLength-1)),new Ht(K,X,se,pe,Le,Be,Ke,ut)}}class hn{constructor(l,u,v,K,X){this.originalStartLineNumber=l,this.originalEndLineNumber=u,this.modifiedStartLineNumber=v,this.modifiedEndLineNumber=K,this.charChanges=X}static createFromDiffResult(l,u,v,K,X,se,pe){let Le,Be,Ke,ut,Jt;if(0===u.originalLength?(Le=v.getStartLineNumber(u.originalStart)-1,Be=0):(Le=v.getStartLineNumber(u.originalStart),Be=v.getEndLineNumber(u.originalStart+u.originalLength-1)),0===u.modifiedLength?(Ke=K.getStartLineNumber(u.modifiedStart)-1,ut=0):(Ke=K.getStartLineNumber(u.modifiedStart),ut=K.getEndLineNumber(u.modifiedStart+u.modifiedLength-1)),se&&u.originalLength>0&&u.originalLength<20&&u.modifiedLength>0&&u.modifiedLength<20&&X()){const gn=v.createCharSequence(l,u.originalStart,u.originalStart+u.originalLength-1),Zn=K.createCharSequence(l,u.modifiedStart,u.modifiedStart+u.modifiedLength-1);let Hi=Qe(gn,Zn,X,!0).changes;pe&&(Hi=function(w){if(w.length<=1)return w;const l=[w[0]];let u=l[0];for(let v=1,K=w.length;v<K;v++){const X=w[v];Math.min(X.originalStart-(u.originalStart+u.originalLength),X.modifiedStart-(u.modifiedStart+u.modifiedLength))<3?(u.originalLength=X.originalStart+X.originalLength-u.originalStart,u.modifiedLength=X.modifiedStart+X.modifiedLength-u.modifiedStart):(l.push(X),u=X)}return l}(Hi)),Jt=[];for(let vi=0,po=Hi.length;vi<po;vi++)Jt.push(Ht.createFromDiffChange(Hi[vi],gn,Zn))}return new hn(Le,Be,Ke,ut,Jt)}}class yn{constructor(l,u,v){this.shouldComputeCharChanges=v.shouldComputeCharChanges,this.shouldPostProcessCharChanges=v.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=v.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=v.shouldMakePrettyDiff,this.originalLines=l,this.modifiedLines=u,this.original=new ct(l),this.modified=new ct(u),this.continueLineDiff=rn(v.maxComputationTime),this.continueCharDiff=rn(0===v.maxComputationTime?0:Math.min(v.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const l=Qe(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),u=l.changes,v=l.quitEarly;if(this.shouldIgnoreTrimWhitespace){const pe=[];for(let Le=0,Be=u.length;Le<Be;Le++)pe.push(hn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u[Le],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:v,changes:pe}}const K=[];let X=0,se=0;for(let pe=-1,Le=u.length;pe<Le;pe++){const Be=pe+1<Le?u[pe+1]:null,Ke=Be?Be.originalStart:this.originalLines.length,ut=Be?Be.modifiedStart:this.modifiedLines.length;for(;X<Ke&&se<ut;){const Jt=this.originalLines[X],gn=this.modifiedLines[se];if(Jt!==gn){{let Zn=_n(Jt,1),Hi=_n(gn,1);for(;Zn>1&&Hi>1&&Jt.charCodeAt(Zn-2)===gn.charCodeAt(Hi-2);)Zn--,Hi--;(Zn>1||Hi>1)&&this._pushTrimWhitespaceCharChange(K,X+1,1,Zn,se+1,1,Hi)}{let Zn=wn(Jt,1),Hi=wn(gn,1);const vi=Jt.length+1,po=gn.length+1;for(;Zn<vi&&Hi<po&&Jt.charCodeAt(Zn-1)===Jt.charCodeAt(Hi-1);)Zn++,Hi++;(Zn<vi||Hi<po)&&this._pushTrimWhitespaceCharChange(K,X+1,Zn,vi,se+1,Hi,po)}}X++,se++}Be&&(K.push(hn.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Be,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),X+=Be.originalLength,se+=Be.modifiedLength)}return{quitEarly:v,changes:K}}_pushTrimWhitespaceCharChange(l,u,v,K,X,se,pe){if(this._mergeTrimWhitespaceCharChange(l,u,v,K,X,se,pe))return;let Le;this.shouldComputeCharChanges&&(Le=[new Ht(u,v,u,K,X,se,X,pe)]),l.push(new hn(u,u,X,X,Le))}_mergeTrimWhitespaceCharChange(l,u,v,K,X,se,pe){const Le=l.length;if(0===Le)return!1;const Be=l[Le-1];return 0!==Be.originalEndLineNumber&&0!==Be.modifiedEndLineNumber&&Be.originalEndLineNumber+1===u&&Be.modifiedEndLineNumber+1===X&&(Be.originalEndLineNumber=u,Be.modifiedEndLineNumber=X,this.shouldComputeCharChanges&&Be.charChanges&&Be.charChanges.push(new Ht(u,v,u,K,X,se,X,pe)),!0)}}function _n(w,l){const u=nt.LC(w);return-1===u?l:u+1}function wn(w,l){const u=nt.ow(w);return-1===u?l:u+2}function rn(w){if(0===w)return()=>!0;const l=Date.now();return()=>Date.now()-l<w}var vn=m(69798),En=m(54745),In=m(59242);class Kn{constructor(l,u,v){const K=new Uint8Array(l*u);for(let X=0,se=l*u;X<se;X++)K[X]=v;this._data=K,this.rows=l,this.cols=u}get(l,u){return this._data[l*this.cols+u]}set(l,u,v){this._data[l*this.cols+u]=v}}class Jn{constructor(l){let u=0,v=0;for(let X=0,se=l.length;X<se;X++){const[pe,Le,Be]=l[X];Le>u&&(u=Le),pe>v&&(v=pe),Be>v&&(v=Be)}u++,v++;const K=new Kn(v,u,0);for(let X=0,se=l.length;X<se;X++){const[pe,Le,Be]=l[X];K.set(pe,Le,Be)}this._states=K,this._maxCharCode=u}nextState(l,u){return u<0||u>=this._maxCharCode?0:this._states.get(l,u)}}let _i=null,xn=null;class li{static _createLink(l,u,v,K,X){let se=X-1;do{const pe=u.charCodeAt(se);if(2!==l.get(pe))break;se--}while(se>K);if(K>0){const pe=u.charCodeAt(K-1),Le=u.charCodeAt(se);(40===pe&&41===Le||91===pe&&93===Le||123===pe&&125===Le)&&se--}return{range:{startLineNumber:v,startColumn:K+1,endLineNumber:v,endColumn:se+2},url:u.substring(K,se+1)}}static computeLinks(l,u=function(){return null===_i&&(_i=new Jn([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),_i}()){const v=function(){if(null===xn){xn=new In.N(0);const w=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let u=0;u<w.length;u++)xn.set(w.charCodeAt(u),1);const l=".,;";for(let u=0;u<l.length;u++)xn.set(l.charCodeAt(u),2)}return xn}(),K=[];for(let X=1,se=l.getLineCount();X<=se;X++){const pe=l.getLineContent(X),Le=pe.length;let Be=0,Ke=0,ut=0,Jt=1,gn=!1,Zn=!1,Hi=!1,vi=!1;for(;Be<Le;){let po=!1;const ho=pe.charCodeAt(Be);if(13===Jt){let zi;switch(ho){case 40:gn=!0,zi=0;break;case 41:zi=gn?0:1;break;case 91:Hi=!0,Zn=!0,zi=0;break;case 93:Hi=!1,zi=Zn?0:1;break;case 123:vi=!0,zi=0;break;case 125:zi=vi?0:1;break;case 39:zi=34===ut||96===ut?0:1;break;case 34:zi=39===ut||96===ut?0:1;break;case 96:zi=39===ut||34===ut?0:1;break;case 42:zi=42===ut?1:0;break;case 124:zi=124===ut?1:0;break;case 32:zi=Hi?0:1;break;default:zi=v.get(ho)}1===zi&&(K.push(li._createLink(v,pe,X,Ke,Be)),po=!0)}else if(12===Jt){let zi;91===ho?(Zn=!0,zi=0):zi=v.get(ho),1===zi?po=!0:Jt=13}else Jt=u.nextState(Jt,ho),0===Jt&&(po=!0);po&&(Jt=1,gn=!1,Zn=!1,vi=!1,Ke=Be+1,ut=ho),Be++}13===Jt&&K.push(li._createLink(v,pe,X,Ke,Le))}return K}}class Mn{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(l,u,v,K,X){if(l&&u){const se=this.doNavigateValueSet(u,X);if(se)return{range:l,value:se}}if(v&&K){const se=this.doNavigateValueSet(K,X);if(se)return{range:v,value:se}}return null}doNavigateValueSet(l,u){const v=this.numberReplace(l,u);return null!==v?v:this.textReplace(l,u)}numberReplace(l,u){const v=Math.pow(10,l.length-(l.lastIndexOf(".")+1));let K=Number(l),X=parseFloat(l);return isNaN(K)||isNaN(X)||K!==X?null:0!==K||u?(K=Math.floor(K*v),K+=u?v:-v,String(K/v)):null}textReplace(l,u){return this.valueSetsReplace(this._defaultValueSet,l,u)}valueSetsReplace(l,u,v){let K=null;for(let X=0,se=l.length;null===K&&X<se;X++)K=this.valueSetReplace(l[X],u,v);return K}valueSetReplace(l,u,v){let K=l.indexOf(u);return K>=0?(K+=v?1:-1,K<0?K=l.length-1:K%=l.length,l[K]):null}}Mn.INSTANCE=new Mn;var Ci=m(39932),Ti=m(4263),ei=function(w,l,u,v){return new(u||(u=Promise))(function(X,se){function pe(Ke){try{Be(v.next(Ke))}catch(ut){se(ut)}}function Le(Ke){try{Be(v.throw(Ke))}catch(ut){se(ut)}}function Be(Ke){Ke.done?X(Ke.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(Ke.value).then(pe,Le)}Be((v=v.apply(w,l||[])).next())})};class ao extends class{constructor(l,u,v,K){this._uri=l,this._lines=u,this._eol=v,this._versionId=K,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(l){l.eol&&l.eol!==this._eol&&(this._eol=l.eol,this._lineStarts=null);const u=l.changes;for(const v of u)this._acceptDeleteRange(v.range),this._acceptInsertText(new i.L(v.range.startLineNumber,v.range.startColumn),v.text);this._versionId=l.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const l=this._eol.length,u=this._lines.length,v=new Uint32Array(u);for(let K=0;K<u;K++)v[K]=this._lines[K].length+l;this._lineStarts=new vn.oQ(v)}}_setLineText(l,u){this._lines[l]=u,this._lineStarts&&this._lineStarts.setValue(l,this._lines[l].length+this._eol.length)}_acceptDeleteRange(l){if(l.startLineNumber!==l.endLineNumber)this._setLineText(l.startLineNumber-1,this._lines[l.startLineNumber-1].substring(0,l.startColumn-1)+this._lines[l.endLineNumber-1].substring(l.endColumn-1)),this._lines.splice(l.startLineNumber,l.endLineNumber-l.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(l.startLineNumber,l.endLineNumber-l.startLineNumber);else{if(l.startColumn===l.endColumn)return;this._setLineText(l.startLineNumber-1,this._lines[l.startLineNumber-1].substring(0,l.startColumn-1)+this._lines[l.startLineNumber-1].substring(l.endColumn-1))}}_acceptInsertText(l,u){if(0===u.length)return;const v=(0,nt.uq)(u);if(1===v.length)return void this._setLineText(l.lineNumber-1,this._lines[l.lineNumber-1].substring(0,l.column-1)+v[0]+this._lines[l.lineNumber-1].substring(l.column-1));v[v.length-1]+=this._lines[l.lineNumber-1].substring(l.column-1),this._setLineText(l.lineNumber-1,this._lines[l.lineNumber-1].substring(0,l.column-1)+v[0]);const K=new Uint32Array(v.length-1);for(let X=1;X<v.length;X++)this._lines.splice(l.lineNumber+X-1,0,v[X]),K[X-1]=v[X].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(l.lineNumber,K)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(l){return this._lines[l-1]}getWordAtPosition(l,u){const v=(0,En.t2)(l.column,(0,En.eq)(u),this._lines[l.lineNumber-1],0);return v?new O.e(l.lineNumber,v.startColumn,l.lineNumber,v.endColumn):null}words(l){const u=this._lines,v=this._wordenize.bind(this);let K=0,X="",se=0,pe=[];return{*[Symbol.iterator](){for(;;)if(se<pe.length){const Le=X.substring(pe[se].start,pe[se].end);se+=1,yield Le}else{if(!(K<u.length))break;X=u[K],pe=v(X,l),se=0,K+=1}}}}getLineWords(l,u){const v=this._lines[l-1],K=this._wordenize(v,u),X=[];for(const se of K)X.push({word:v.substring(se.start,se.end),startColumn:se.start+1,endColumn:se.end+1});return X}_wordenize(l,u){const v=[];let K;for(u.lastIndex=0;(K=u.exec(l))&&0!==K[0].length;)v.push({start:K.index,end:K.index+K[0].length});return v}getValueInRange(l){if((l=this._validateRange(l)).startLineNumber===l.endLineNumber)return this._lines[l.startLineNumber-1].substring(l.startColumn-1,l.endColumn-1);const u=this._eol,v=l.startLineNumber-1,K=l.endLineNumber-1,X=[];X.push(this._lines[v].substring(l.startColumn-1));for(let se=v+1;se<K;se++)X.push(this._lines[se]);return X.push(this._lines[K].substring(0,l.endColumn-1)),X.join(u)}offsetAt(l){return l=this._validatePosition(l),this._ensureLineStarts(),this._lineStarts.getPrefixSum(l.lineNumber-2)+(l.column-1)}positionAt(l){l=Math.floor(l),l=Math.max(0,l),this._ensureLineStarts();const u=this._lineStarts.getIndexOf(l);return{lineNumber:1+u.index,column:1+Math.min(u.remainder,this._lines[u.index].length)}}_validateRange(l){const u=this._validatePosition({lineNumber:l.startLineNumber,column:l.startColumn}),v=this._validatePosition({lineNumber:l.endLineNumber,column:l.endColumn});return u.lineNumber!==l.startLineNumber||u.column!==l.startColumn||v.lineNumber!==l.endLineNumber||v.column!==l.endColumn?{startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:v.lineNumber,endColumn:v.column}:l}_validatePosition(l){if(!i.L.isIPosition(l))throw new Error("bad position");let{lineNumber:u,column:v}=l,K=!1;if(u<1)u=1,v=1,K=!0;else if(u>this._lines.length)u=this._lines.length,v=this._lines[u-1].length+1,K=!0;else{const X=this._lines[u-1].length+1;v<1?(v=1,K=!0):v>X&&(v=X,K=!0)}return K?{lineNumber:u,column:v}:l}}let zn=(()=>{class w{constructor(u,v){this._host=u,this._models=Object.create(null),this._foreignModuleFactory=v,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(u){return this._models[u]}_getModels(){const u=[];return Object.keys(this._models).forEach(v=>u.push(this._models[v])),u}acceptNewModel(u){this._models[u.url]=new ao(D.o.parse(u.url),u.lines,u.EOL,u.versionId)}acceptModelChanged(u,v){this._models[u]&&this._models[u].onEvents(v)}acceptRemovedModel(u){!this._models[u]||delete this._models[u]}computeUnicodeHighlights(u,v,K){return ei(this,void 0,void 0,function*(){const X=this._getModel(u);return X?Ti.a.computeUnicodeHighlights(X,v,K):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(u,v,K,X){return ei(this,void 0,void 0,function*(){const se=this._getModel(u),pe=this._getModel(v);if(!se||!pe)return null;const Le=se.getLinesContent(),Be=pe.getLinesContent(),ut=new yn(Le,Be,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:K,shouldMakePrettyDiff:!0,maxComputationTime:X}).computeDiff(),Jt=!(ut.changes.length>0)&&this._modelsAreIdentical(se,pe);return{quitEarly:ut.quitEarly,identical:Jt,changes:ut.changes}})}_modelsAreIdentical(u,v){const K=u.getLineCount();if(K!==v.getLineCount())return!1;for(let se=1;se<=K;se++)if(u.getLineContent(se)!==v.getLineContent(se))return!1;return!0}computeMoreMinimalEdits(u,v){return ei(this,void 0,void 0,function*(){const K=this._getModel(u);if(!K)return v;const X=[];let se;v=v.slice(0).sort((pe,Le)=>pe.range&&Le.range?O.e.compareRangesUsingStarts(pe.range,Le.range):(pe.range?0:1)-(Le.range?0:1));for(let{range:pe,text:Le,eol:Be}of v){if("number"==typeof Be&&(se=Be),O.e.isEmpty(pe)&&!Le)continue;const Ke=K.getValueInRange(pe);if(Le=Le.replace(/\r\n|\n|\r/g,K.eol),Ke===Le)continue;if(Math.max(Le.length,Ke.length)>w._diffLimit){X.push({range:pe,text:Le});continue}const ut=(0,Kt.a$)(Ke,Le,!1),Jt=K.offsetAt(O.e.lift(pe).getStartPosition());for(const gn of ut){const Zn=K.positionAt(Jt+gn.originalStart),Hi=K.positionAt(Jt+gn.originalStart+gn.originalLength),vi={text:Le.substr(gn.modifiedStart,gn.modifiedLength),range:{startLineNumber:Zn.lineNumber,startColumn:Zn.column,endLineNumber:Hi.lineNumber,endColumn:Hi.column}};K.getValueInRange(vi.range)!==vi.text&&X.push(vi)}}return"number"==typeof se&&X.push({eol:se,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),X})}computeLinks(u){return ei(this,void 0,void 0,function*(){const v=this._getModel(u);return v?function(w){return w&&"function"==typeof w.getLineCount&&"function"==typeof w.getLineContent?li.computeLinks(w):[]}(v):null})}textualSuggest(u,v,K,X){return ei(this,void 0,void 0,function*(){const se=new Ci.G(!0),pe=new RegExp(K,X),Le=new Set;e:for(let Be of u){const Ke=this._getModel(Be);if(Ke)for(let ut of Ke.words(pe))if(ut!==v&&isNaN(Number(ut))&&(Le.add(ut),Le.size>w._suggestionsLimit))break e}return{words:Array.from(Le),duration:se.elapsed()}})}computeWordRanges(u,v,K,X){return ei(this,void 0,void 0,function*(){const se=this._getModel(u);if(!se)return Object.create(null);const pe=new RegExp(K,X),Le=Object.create(null);for(let Be=v.startLineNumber;Be<v.endLineNumber;Be++){const Ke=se.getLineWords(Be,pe);for(const ut of Ke){if(!isNaN(Number(ut.word)))continue;let Jt=Le[ut.word];Jt||(Jt=[],Le[ut.word]=Jt),Jt.push({startLineNumber:Be,startColumn:ut.startColumn,endLineNumber:Be,endColumn:ut.endColumn})}}return Le})}navigateValueSet(u,v,K,X,se){return ei(this,void 0,void 0,function*(){const pe=this._getModel(u);if(!pe)return null;const Le=new RegExp(X,se);v.startColumn===v.endColumn&&(v={startLineNumber:v.startLineNumber,startColumn:v.startColumn,endLineNumber:v.endLineNumber,endColumn:v.endColumn+1});const Be=pe.getValueInRange(v),Ke=pe.getWordAtPosition({lineNumber:v.startLineNumber,column:v.startColumn},Le);if(!Ke)return null;const ut=pe.getValueInRange(Ke);return Mn.INSTANCE.navigateValueSet(v,Be,Ke,ut,K)})}loadForeignModule(u,v,K){const pe={host:sn.IU(K,(Le,Be)=>this._host.fhr(Le,Be)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(pe,v),Promise.resolve(sn.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(u,v){if(!this._foreignModule||"function"!=typeof this._foreignModule[u])return Promise.reject(new Error("Missing requestHandler or method: "+u));try{return Promise.resolve(this._foreignModule[u].apply(this._foreignModule,v))}catch(K){return Promise.reject(K)}}}return w._diffLimit=1e5,w._suggestionsLimit=1e4,w})();"function"==typeof importScripts&&(St.li.monaco=rt());var co=m(34276),oi=m(89822),_o=m(2646),Ei=m(3494),yo=function(w,l){return function(u,v){l(u,v,w)}},Yi=function(w,l,u,v){return new(u||(u=Promise))(function(X,se){function pe(Ke){try{Be(v.next(Ke))}catch(ut){se(ut)}}function Le(Ke){try{Be(v.throw(Ke))}catch(ut){se(ut)}}function Be(Ke){Ke.done?X(Ke.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(Ke.value).then(pe,Le)}Be((v=v.apply(w,l||[])).next())})};function go(w,l){const u=w.getModel(l);return!(!u||u.isTooLargeForSyncing())}let Hs=class extends Ye.JT{constructor(l,u,v,K,X){super(),this._modelService=l,this._workerManager=this._register(new ds(this._modelService,K)),this._logService=v,this._register(X.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(se,pe)=>go(this._modelService,se.uri)?this._workerManager.withWorker().then(Le=>Le.computeLinks(se.uri)).then(Le=>Le&&{links:Le}):Promise.resolve({links:[]})})),this._register(X.completionProvider.register("*",new zs(this._workerManager,u,this._modelService,K)))}dispose(){super.dispose()}canComputeUnicodeHighlights(l){return go(this._modelService,l)}computedUnicodeHighlights(l,u,v){return this._workerManager.withWorker().then(K=>K.computedUnicodeHighlights(l,u,v))}computeDiff(l,u,v,K){return this._workerManager.withWorker().then(X=>X.computeDiff(l,u,v,K))}computeMoreMinimalEdits(l,u){if((0,oi.Of)(u)){if(!go(this._modelService,l))return Promise.resolve(u);const v=Ci.G.create(!0),K=this._workerManager.withWorker().then(X=>X.computeMoreMinimalEdits(l,u));return K.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",l.toString(!0),v.elapsed())),Promise.race([K,(0,fn.Vs)(1e3).then(()=>u)])}return Promise.resolve(void 0)}canNavigateValueSet(l){return go(this._modelService,l)}navigateValueSet(l,u,v){return this._workerManager.withWorker().then(K=>K.navigateValueSet(l,u,v))}canComputeWordRanges(l){return go(this._modelService,l)}computeWordRanges(l,u){return this._workerManager.withWorker().then(v=>v.computeWordRanges(l,u))}};Hs=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([yo(0,zt.q),yo(1,co.V),yo(2,_o.VZ),yo(3,pt.c_),yo(4,Ei.p)],Hs);class zs{constructor(l,u,v,K){this.languageConfigurationService=K,this._debugDisplayName="wordbasedCompletions",this._workerManager=l,this._configurationService=u,this._modelService=v}provideCompletionItems(l,u){return Yi(this,void 0,void 0,function*(){const v=this._configurationService.getValue(l.uri,u,"editor");if(!v.wordBasedSuggestions)return;const K=[];if("currentDocument"===v.wordBasedSuggestionsMode)go(this._modelService,l.uri)&&K.push(l.uri);else for(const ut of this._modelService.getModels())!go(this._modelService,ut.uri)||(ut===l?K.unshift(ut.uri):("allDocuments"===v.wordBasedSuggestionsMode||ut.getLanguageId()===l.getLanguageId())&&K.push(ut.uri));if(0===K.length)return;const X=this.languageConfigurationService.getLanguageConfiguration(l.getLanguageId()).getWordDefinition(),se=l.getWordAtPosition(u),pe=se?new O.e(u.lineNumber,se.startColumn,u.lineNumber,se.endColumn):O.e.fromPositions(u),Le=pe.setEndPosition(u.lineNumber,u.column),Ke=yield(yield this._workerManager.withWorker()).textualSuggest(K,null==se?void 0:se.word,X);return Ke?{duration:Ke.duration,suggestions:Ke.words.map(ut=>({kind:18,label:ut,insertText:ut,range:{insert:Le,replace:pe}}))}:void 0})}}class ds extends Ye.JT{constructor(l,u){super(),this.languageConfigurationService=u,this._modelService=l,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new fn.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(K=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new es(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class qo extends Ye.JT{constructor(l,u,v){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=l,this._modelService=u,!v){const K=new fn.zh;K.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(K)}}dispose(){for(let l in this._syncedModels)(0,Ye.B9)(this._syncedModels[l]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(l,u){for(const v of l){const K=v.toString();this._syncedModels[K]||this._beginModelSync(v,u),this._syncedModels[K]&&(this._syncedModelsLastUsedTime[K]=(new Date).getTime())}}_checkStopModelSync(){const l=(new Date).getTime(),u=[];for(let v in this._syncedModelsLastUsedTime)l-this._syncedModelsLastUsedTime[v]>6e4&&u.push(v);for(const v of u)this._stopModelSync(v)}_beginModelSync(l,u){const v=this._modelService.getModel(l);if(!v||!u&&v.isTooLargeForSyncing())return;const K=l.toString();this._proxy.acceptNewModel({url:v.uri.toString(),lines:v.getLinesContent(),EOL:v.getEOL(),versionId:v.getVersionId()});const X=new Ye.SL;X.add(v.onDidChangeContent(se=>{this._proxy.acceptModelChanged(K.toString(),se)})),X.add(v.onWillDispose(()=>{this._stopModelSync(K)})),X.add((0,Ye.OF)(()=>{this._proxy.acceptRemovedModel(K)})),this._syncedModels[K]=X}_stopModelSync(l){const u=this._syncedModels[l];delete this._syncedModels[l],delete this._syncedModelsLastUsedTime[l],(0,Ye.B9)(u)}}class Ss{constructor(l){this._instance=l,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Ps{constructor(l){this._workerClient=l}fhr(l,u){return this._workerClient.fhr(l,u)}}class es extends Ye.JT{constructor(l,u,v,K){super(),this.languageConfigurationService=K,this._disposed=!1,this._modelService=l,this._keepIdleModels=u,this._workerFactory=new bn(v),this._worker=null,this._modelManager=null}fhr(l,u){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Ue(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Ps(this)))}catch(l){Mt(l),this._worker=new Ss(new zn(new Ps(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,l=>(Mt(l),this._worker=new Ss(new zn(new Ps(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(l){return this._modelManager||(this._modelManager=this._register(new qo(l,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(l,u=!1){return Yi(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,Et.F0)()):this._getProxy().then(v=>(this._getOrCreateModelManager(v).ensureSyncedResources(l,u),v))})}computedUnicodeHighlights(l,u,v){return this._withSyncedResources([l]).then(K=>K.computeUnicodeHighlights(l.toString(),u,v))}computeDiff(l,u,v,K){return this._withSyncedResources([l,u],!0).then(X=>X.computeDiff(l.toString(),u.toString(),v,K))}computeMoreMinimalEdits(l,u){return this._withSyncedResources([l]).then(v=>v.computeMoreMinimalEdits(l.toString(),u))}computeLinks(l){return this._withSyncedResources([l]).then(u=>u.computeLinks(l.toString()))}textualSuggest(l,u,v){return Yi(this,void 0,void 0,function*(){const K=yield this._withSyncedResources(l),X=v.source,se=(0,nt.mr)(v);return K.textualSuggest(l.map(pe=>pe.toString()),u,X,se)})}computeWordRanges(l,u){return this._withSyncedResources([l]).then(v=>{const K=this._modelService.getModel(l);if(!K)return Promise.resolve(null);const X=this.languageConfigurationService.getLanguageConfiguration(K.getLanguageId()).getWordDefinition(),se=X.source,pe=(0,nt.mr)(X);return v.computeWordRanges(l.toString(),u,se,pe)})}navigateValueSet(l,u,v){return this._withSyncedResources([l]).then(K=>{const X=this._modelService.getModel(l);if(!X)return null;const se=this.languageConfigurationService.getLanguageConfiguration(X.getLanguageId()).getWordDefinition(),pe=se.source,Le=(0,nt.mr)(se);return K.navigateValueSet(l.toString(),u,v,pe,Le)})}dispose(){super.dispose(),this._disposed=!0}}class Pr extends es{constructor(l,u,v){super(l,v.keepIdleModels||!1,v.label,u),this._foreignModuleId=v.moduleId,this._foreignModuleCreateData=v.createData||null,this._foreignModuleHost=v.host||null,this._foreignProxy=null}fhr(l,u){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[l])return Promise.reject(new Error("Missing method "+l+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[l].apply(this._foreignModuleHost,u))}catch(v){return Promise.reject(v)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(l=>{const u=this._foreignModuleHost?sn.$E(this._foreignModuleHost):[];return l.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,u).then(v=>{this._foreignModuleCreateData=null;const K=(pe,Le)=>l.fmr(pe,Le),X=(pe,Le)=>function(){const Be=Array.prototype.slice.call(arguments,0);return Le(pe,Be)},se={};for(const pe of v)se[pe]=X(pe,K);return se})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(l){return this._withSyncedResources(l).then(u=>this.getProxy())}}var or=m(5928),Ro=m(19362),Lo=m(42483);function Qs(w){return!function(w){return Array.isArray(w)}(w)}function sr(w){return"string"==typeof w}function Or(w){return!sr(w)}function Wo(w){return!w}function xs(w,l){return w.ignoreCase&&l?l.toLowerCase():l}function rr(w){return w.replace(/[&<>'"_]/g,"-")}function Ea(w,l){console.log(`${w.languageId}: ${l}`)}function Ki(w,l){return new Error(`${w.languageId}: ${l}`)}function Do(w,l,u,v,K){let se=null;return l.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(pe,Le,Be,Ke,ut,Jt,gn,Zn,Hi){return Wo(Be)?Wo(Ke)?!Wo(ut)&&ut<v.length?xs(w,v[ut]):!Wo(gn)&&w&&"string"==typeof w[gn]?w[gn]:(null===se&&(se=K.split("."),se.unshift(K)),!Wo(Jt)&&Jt<se.length?xs(w,se[Jt]):""):xs(w,u):"$"})}function Os(w,l){let u=l;for(;u&&u.length>0;){const v=w.tokenizer[u];if(v)return v;const K=u.lastIndexOf(".");u=K<0?null:u.substr(0,K)}return null}class yt{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,u){return this._INSTANCE.create(l,u)}create(l,u){if(null!==l&&l.depth>=this._maxCacheDepth)return new A(l,u);let v=A.getStackElementId(l);v.length>0&&(v+="|"),v+=u;let K=this._entries[v];return K||(K=new A(l,u),this._entries[v]=K,K)}}yt._INSTANCE=new yt(5);class A{constructor(l,u){this.parent=l,this.state=u,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(l){let u="";for(;null!==l;)u.length>0&&(u+="|"),u+=l.state,l=l.parent;return u}static _equals(l,u){for(;null!==l&&null!==u;){if(l===u)return!0;if(l.state!==u.state)return!1;l=l.parent,u=u.parent}return null===l&&null===u}equals(l){return A._equals(this,l)}push(l){return yt.create(this,l)}pop(){return this.parent}popall(){let l=this;for(;l.parent;)l=l.parent;return l}switchTo(l){return yt.create(this.parent,l)}}class h{constructor(l,u){this.languageId=l,this.state=u}equals(l){return this.languageId===l.languageId&&this.state.equals(l.state)}clone(){return this.state.clone()===this.state?this:new h(this.languageId,this.state)}}class S{constructor(l){this._maxCacheDepth=l,this._entries=Object.create(null)}static create(l,u){return this._INSTANCE.create(l,u)}create(l,u){if(null!==u)return new W(l,u);if(null!==l&&l.depth>=this._maxCacheDepth)return new W(l,u);const v=A.getStackElementId(l);let K=this._entries[v];return K||(K=new W(l,null),this._entries[v]=K,K)}}S._INSTANCE=new S(5);class W{constructor(l,u){this.stack=l,this.embeddedLanguageData=u}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:S.create(this.stack,this.embeddedLanguageData)}equals(l){return!!(l instanceof W&&this.stack.equals(l.stack))&&(null===this.embeddedLanguageData&&null===l.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==l.embeddedLanguageData&&this.embeddedLanguageData.equals(l.embeddedLanguageData))}}class te{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(l){this._languageId=l}emit(l,u){this._lastTokenType===u&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=u,this._lastTokenLanguage=this._languageId,this._tokens.push(new k.WU(l,u,this._languageId)))}nestedLanguageTokenize(l,u,v,K){const X=v.languageId,se=v.state,pe=k.RW.get(X);if(!pe)return this.enterLanguage(X),this.emit(K,""),se;const Le=pe.tokenize(l,u,se);if(0!==K)for(const Be of Le.tokens)this._tokens.push(new k.WU(Be.offset+K,Be.type,Be.language));else this._tokens=this._tokens.concat(Le.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Le.endState}finalize(l){return new k.hG(this._tokens,l)}}class ae{constructor(l,u){this._languageService=l,this._theme=u,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(l){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(l)}emit(l,u){const v=this._theme.match(this._currentLanguageId,u);this._lastTokenMetadata!==v&&(this._lastTokenMetadata=v,this._tokens.push(l),this._tokens.push(v))}static _merge(l,u,v){const K=null!==l?l.length:0,X=u.length,se=null!==v?v.length:0;if(0===K&&0===X&&0===se)return new Uint32Array(0);if(0===K&&0===X)return v;if(0===X&&0===se)return l;const pe=new Uint32Array(K+X+se);null!==l&&pe.set(l);for(let Le=0;Le<X;Le++)pe[K+Le]=u[Le];return null!==v&&pe.set(v,K+X),pe}nestedLanguageTokenize(l,u,v,K){const X=v.languageId,se=v.state,pe=k.RW.get(X);if(!pe)return this.enterLanguage(X),this.emit(K,""),se;const Le=pe.tokenizeEncoded(l,u,se);if(0!==K)for(let Be=0,Ke=Le.tokens.length;Be<Ke;Be+=2)Le.tokens[Be]+=K;return this._prependTokens=ae._merge(this._prependTokens,this._tokens,Le.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Le.endState}finalize(l){return new k.DI(ae._merge(this._prependTokens,this._tokens,null),l)}}class be{constructor(l,u,v,K){this._languageService=l,this._standaloneThemeService=u,this._languageId=v,this._lexer=K,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let X=!1;this._tokenizationRegistryListener=k.RW.onDidChange(se=>{if(X)return;let pe=!1;for(let Le=0,Be=se.changedLanguages.length;Le<Be;Le++)if(this._embeddedLanguages[se.changedLanguages[Le]]){pe=!0;break}pe&&(X=!0,k.RW.fire([this._languageId]),X=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const l=[];for(let u in this._embeddedLanguages){const v=k.RW.get(u);if(v){if(v instanceof be){const K=v.getLoadStatus();!1===K.loaded&&l.push(K.promise)}}else k.RW.isResolved(u)||l.push(k.RW.getOrCreate(u))}return 0===l.length?{loaded:!0}:{loaded:!1,promise:Promise.all(l).then(u=>{})}}getInitialState(){const l=yt.create(null,this._lexer.start);return S.create(l,null)}tokenize(l,u,v){const K=new te,X=this._tokenize(l,u,v,K);return K.finalize(X)}tokenizeEncoded(l,u,v){const K=new ae(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),X=this._tokenize(l,u,v,K);return K.finalize(X)}_tokenize(l,u,v,K){return v.embeddedLanguageData?this._nestedTokenize(l,u,v,0,K):this._myTokenize(l,u,v,0,K)}_findLeavingNestedLanguageOffset(l,u){let v=this._lexer.tokenizer[u.stack.state];if(!v&&(v=Os(this._lexer,u.stack.state),!v))throw Ki(this._lexer,"tokenizer state is not defined: "+u.stack.state);let K=-1,X=!1;for(const se of v){if(!Or(se.action)||"@pop"!==se.action.nextEmbedded)continue;X=!0;let pe=se.regex;const Le=se.regex.source;if("^(?:"===Le.substr(0,4)&&")"===Le.substr(Le.length-1,1)){const Ke=(pe.ignoreCase?"i":"")+(pe.unicode?"u":"");pe=new RegExp(Le.substr(4,Le.length-5),Ke)}const Be=l.search(pe);-1===Be||0!==Be&&se.matchOnlyAtLineStart||(-1===K||Be<K)&&(K=Be)}if(!X)throw Ki(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+u.stack.state);return K}_nestedTokenize(l,u,v,K,X){const se=this._findLeavingNestedLanguageOffset(l,v);if(-1===se){const Be=X.nestedLanguageTokenize(l,u,v.embeddedLanguageData,K);return S.create(v.stack,new h(v.embeddedLanguageData.languageId,Be))}const pe=l.substring(0,se);pe.length>0&&X.nestedLanguageTokenize(pe,!1,v.embeddedLanguageData,K);const Le=l.substring(se);return this._myTokenize(Le,u,v,K+se,X)}_safeRuleName(l){return l?l.name:"(unknown)"}_myTokenize(l,u,v,K,X){X.enterLanguage(this._languageId);const se=l.length,pe=u&&this._lexer.includeLF?l+"\n":l,Le=pe.length;let Be=v.embeddedLanguageData,Ke=v.stack,ut=0,Jt=null,gn=!0;for(;gn||ut<Le;){const Zn=ut,Hi=Ke.depth,vi=Jt?Jt.groups.length:0,po=Ke.state;let ho=null,zi=null,Xi=null,Er=null,ia=null;if(Jt){ho=Jt.matches;const vo=Jt.groups.shift();zi=vo.matched,Xi=vo.action,Er=Jt.rule,0===Jt.groups.length&&(Jt=null)}else{if(!gn&&ut>=Le)break;gn=!1;let vo=this._lexer.tokenizer[po];if(!vo&&(vo=Os(this._lexer,po),!vo))throw Ki(this._lexer,"tokenizer state is not defined: "+po);let os=pe.substr(ut);for(const so of vo)if((0===ut||!so.matchOnlyAtLineStart)&&(ho=os.match(so.regex),ho)){zi=ho[0],Xi=so.action;break}}if(ho||(ho=[""],zi=""),Xi||(ut<Le&&(ho=[pe.charAt(ut)],zi=ho[0]),Xi=this._lexer.defaultToken),null===zi)break;for(ut+=zi.length;Qs(Xi)&&Or(Xi)&&Xi.test;)Xi=Xi.test(zi,ho,po,ut===Le);let Xo=null;if("string"==typeof Xi||Array.isArray(Xi))Xo=Xi;else if(Xi.group)Xo=Xi.group;else if(null!=Xi.token){if(Xo=Xi.tokenSubst?Do(this._lexer,Xi.token,zi,ho,po):Xi.token,Xi.nextEmbedded)if("@pop"===Xi.nextEmbedded){if(!Be)throw Ki(this._lexer,"cannot pop embedded language if not inside one");Be=null}else{if(Be)throw Ki(this._lexer,"cannot enter embedded language from within an embedded language");ia=Do(this._lexer,Xi.nextEmbedded,zi,ho,po)}if(Xi.goBack&&(ut=Math.max(0,ut-Xi.goBack)),Xi.switchTo&&"string"==typeof Xi.switchTo){let vo=Do(this._lexer,Xi.switchTo,zi,ho,po);if("@"===vo[0]&&(vo=vo.substr(1)),!Os(this._lexer,vo))throw Ki(this._lexer,"trying to switch to a state '"+vo+"' that is undefined in rule: "+this._safeRuleName(Er));Ke=Ke.switchTo(vo)}else{if(Xi.transform&&"function"==typeof Xi.transform)throw Ki(this._lexer,"action.transform not supported");if(Xi.next)if("@push"===Xi.next){if(Ke.depth>=this._lexer.maxStack)throw Ki(this._lexer,"maximum tokenizer stack size reached: ["+Ke.state+","+Ke.parent.state+",...]");Ke=Ke.push(po)}else if("@pop"===Xi.next){if(Ke.depth<=1)throw Ki(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Er));Ke=Ke.pop()}else if("@popall"===Xi.next)Ke=Ke.popall();else{let vo=Do(this._lexer,Xi.next,zi,ho,po);if("@"===vo[0]&&(vo=vo.substr(1)),!Os(this._lexer,vo))throw Ki(this._lexer,"trying to set a next state '"+vo+"' that is undefined in rule: "+this._safeRuleName(Er));Ke=Ke.push(vo)}}Xi.log&&"string"==typeof Xi.log&&Ea(this._lexer,this._lexer.languageId+": "+Do(this._lexer,Xi.log,zi,ho,po))}if(null===Xo)throw Ki(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Er));const fr=vo=>{const os=this._languageService.getLanguageIdByLanguageName(vo)||this._languageService.getLanguageIdByMimeType(vo)||vo,so=this._getNestedEmbeddedLanguageData(os);if(ut<Le){const gr=l.substr(ut);return this._nestedTokenize(gr,u,S.create(Ke,so),K+ut,X)}return S.create(Ke,so)};if(Array.isArray(Xo)){if(Jt&&Jt.groups.length>0)throw Ki(this._lexer,"groups cannot be nested: "+this._safeRuleName(Er));if(ho.length!==Xo.length+1)throw Ki(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Er));let vo=0;for(let os=1;os<ho.length;os++)vo+=ho[os].length;if(vo!==zi.length)throw Ki(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Er));Jt={rule:Er,matches:ho,groups:[]};for(let os=0;os<Xo.length;os++)Jt.groups[os]={action:Xo[os],matched:ho[os+1]};ut-=zi.length}else{{if("@rematch"===Xo&&(ut-=zi.length,zi="",ho=null,Xo="",null!==ia))return fr(ia);if(0===zi.length){if(0===Le||Hi!==Ke.depth||po!==Ke.state||(Jt?Jt.groups.length:0)!==vi)continue;throw Ki(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Er))}let vo=null;if(sr(Xo)&&0===Xo.indexOf("@brackets")){const os=Xo.substr("@brackets".length),so=Oe(this._lexer,zi);if(!so)throw Ki(this._lexer,"@brackets token returned but no bracket defined as: "+zi);vo=rr(so.token+os)}else vo=rr(""===Xo?"":Xo+this._lexer.tokenPostfix);Zn<se&&X.emit(Zn+K,vo)}if(null!==ia)return fr(ia)}}return S.create(Ke,Be)}_getNestedEmbeddedLanguageData(l){if(!this._languageService.isRegisteredLanguageId(l))return new h(l,Bt.TJ);l!==this._languageId&&(k.RW.getOrCreate(l),this._embeddedLanguages[l]=!0);const u=k.RW.get(l);return new h(l,u?u.getInitialState():Bt.TJ)}}function Oe(w,l){if(!l)return null;l=xs(w,l);const u=w.brackets;for(const v of u){if(v.open===l)return{token:v.token,bracketType:1};if(v.close===l)return{token:v.token,bracketType:-1}}return null}var Ze;const Je=null===(Ze=window.trustedTypes)||void 0===Ze?void 0:Ze.createPolicy("standaloneColorizer",{createHTML:w=>w});class it{static colorizeElement(l,u,v,K){const X=(K=K||{}).theme||"vs",se=K.mimeType||v.getAttribute("lang")||v.getAttribute("data-lang");if(!se)return console.error("Mode not detected"),Promise.resolve();const pe=u.getLanguageIdByMimeType(se)||se;l.setTheme(X);const Le=v.firstChild?v.firstChild.nodeValue:"";return v.className+=" "+X,this.colorize(u,Le||"",pe,K).then(Ke=>{var ut;const Jt=null!==(ut=null==Je?void 0:Je.createHTML(Ke))&&void 0!==ut?ut:Ke;v.innerHTML=Jt},Ke=>console.error(Ke))}static colorize(l,u,v,K){return function(w,l,u,v){return new(u||(u=Promise))(function(X,se){function pe(Ke){try{Be(v.next(Ke))}catch(ut){se(ut)}}function Le(Ke){try{Be(v.throw(Ke))}catch(ut){se(ut)}}function Be(Ke){Ke.done?X(Ke.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(Ke.value).then(pe,Le)}Be((v=v.apply(w,l||[])).next())})}(this,void 0,void 0,function*(){const X=l.languageIdCodec;let se=4;K&&"number"==typeof K.tabSize&&(se=K.tabSize),nt.uS(u)&&(u=u.substr(1));const pe=nt.uq(u);if(!l.isRegisteredLanguageId(v))return gt(pe,se,X);const Le=yield k.RW.getOrCreate(v);return Le?function(w,l,u,v){return new Promise((K,X)=>{const se=()=>{const pe=function(w,l,u,v){let K=[],X=u.getInitialState();for(let se=0,pe=w.length;se<pe;se++){const Le=w[se],Be=u.tokenizeEncoded(Le,!0,X);or.A.convertToEndOffset(Be.tokens,Le.length);const Ke=new or.A(Be.tokens,Le,v),ut=Lo.wA.isBasicASCII(Le,!0),Jt=Lo.wA.containsRTL(Le,ut,!0),gn=(0,Ro.tF)(new Ro.IJ(!1,!0,Le,!1,ut,Jt,0,Ke.inflate(),[],l,0,0,0,0,-1,"none",!1,!1,null));K=K.concat(gn.html),K.push("<br/>"),X=Be.endState}return K.join("")}(w,l,u,v);if(u instanceof be){const Le=u.getLoadStatus();if(!1===Le.loaded)return void Le.promise.then(se,X)}K(pe)};se()})}(pe,se,Le,X):gt(pe,se,X)})}static colorizeLine(l,u,v,K,X=4){const se=Lo.wA.isBasicASCII(l,u),pe=Lo.wA.containsRTL(l,se,v);return(0,Ro.tF)(new Ro.IJ(!1,!0,l,!1,se,pe,0,K,[],X,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(l,u,v=4){const K=l.getLineContent(u);l.forceTokenization(u);const se=l.getLineTokens(u).inflate();return this.colorizeLine(K,l.mightContainNonBasicASCII(),l.mightContainRTL(),se,v)}}function gt(w,l,u){let v=[];const X=new Uint32Array(2);X[0]=0,X[1]=16793600;for(let se=0,pe=w.length;se<pe;se++){const Le=w[se];X[0]=Le.length;const Be=new or.A(X,Le,u),Ke=Lo.wA.isBasicASCII(Le,!0),ut=Lo.wA.containsRTL(Le,Ke,!0),Jt=(0,Ro.tF)(new Ro.IJ(!1,!0,Le,!1,Ke,ut,0,Be,[],l,0,0,0,0,-1,"none",!1,!1,null));v=v.concat(Jt.html),v.push("<br/>")}return v.join("")}var Wt=m(99034),Gt=m(17703),Nn=m(87155),qn=m(47804),di=m(78339),_t=m(86678),Pi=m(98318),ci=m(53323);let ps=class extends Ye.JT{constructor(l){super(),this._themeService=l,this._onCodeEditorAdd=this._register(new Y.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Y.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Y.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new Y.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(l){this._codeEditors[l.getId()]=l,this._onCodeEditorAdd.fire(l)}removeCodeEditor(l){delete this._codeEditors[l.getId()]&&this._onCodeEditorRemove.fire(l)}listCodeEditors(){return Object.keys(this._codeEditors).map(l=>this._codeEditors[l])}addDiffEditor(l){this._diffEditors[l.getId()]=l,this._onDiffEditorAdd.fire(l)}removeDiffEditor(l){delete this._diffEditors[l.getId()]&&this._onDiffEditorRemove.fire(l)}listDiffEditors(){return Object.keys(this._diffEditors).map(l=>this._diffEditors[l])}getFocusedCodeEditor(){let l=null;const u=this.listCodeEditors();for(const v of u){if(v.hasTextFocus())return v;v.hasWidgetFocus()&&(l=v)}return l}removeDecorationType(l){const u=this._decorationOptionProviders.get(l);u&&(u.refCount--,u.refCount<=0&&(this._decorationOptionProviders.delete(l),u.dispose(),this.listCodeEditors().forEach(v=>v.removeDecorations(l))))}setModelProperty(l,u,v){const K=l.toString();let X;this._modelProperties.has(K)?X=this._modelProperties.get(K):(X=new Map,this._modelProperties.set(K,X)),X.set(u,v)}getModelProperty(l,u){const v=l.toString();if(this._modelProperties.has(v))return this._modelProperties.get(v).get(u)}};var l;ps=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([(0,l=ci.XE,function(u,v){l(u,v,0)})],ps);var Co=m(6461),no=m(26033),qa=function(w,l){return function(u,v){l(u,v,w)}};let vr=class extends ps{constructor(l,u){super(u),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=l.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let l=!1;for(const u of this.listCodeEditors())if(!u.isSimpleWidget){l=!0;break}this._editorIsOpen.set(l)}setActiveCodeEditor(l){this._activeCodeEditor=l}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(l,u,v){return Promise.resolve(u?this.doOpenEditor(u,l):null)}doOpenEditor(l,u){if(!this.findModel(l,u.resource)){if(u.resource){const X=u.resource.scheme;if(X===Pi.lg.http||X===Pi.lg.https)return(0,_t.V3)(u.resource.toString()),l}return null}const K=u.options?u.options.selection:null;if(K)if("number"==typeof K.endLineNumber&&"number"==typeof K.endColumn)l.setSelection(K),l.revealRangeInCenter(K,1);else{const X={lineNumber:K.startLineNumber,column:K.startColumn};l.setPosition(X),l.revealPositionInCenter(X,1)}return l}findModel(l,u){const v=l.getModel();return v&&v.uri.toString()!==u.toString()?null:v}};vr=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([qa(0,Co.i6),qa(1,ci.XE)],vr),(0,no.z)(Ie.$,vr);var ts=m(43569);const ar=(0,ts.yh)("layoutService");var oc=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X},yl=function(w,l){return function(u,v){l(u,v,w)}};let lr=class{constructor(l){this._codeEditorService=l,this.onDidLayout=Y.ju.None}get dimension(){return this._dimension||(this._dimension=_t.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var l;null===(l=this._codeEditorService.getFocusedCodeEditor())||void 0===l||l.focus()}};lr=oc([yl(0,Ie.$)],lr);let Gr=class extends lr{constructor(l,u){super(u),this._container=l}get hasContainer(){return!1}get container(){return this._container}};Gr=oc([yl(1,Ie.$)],Gr),(0,no.z)(ar,lr);var as=m(13310),Xn=m(12918),ca=m(4890),Ar=m(8135),Rs=m(10352),Qr=function(w,l){return function(u,v){l(u,v,w)}},sc=function(w,l,u,v){return new(u||(u=Promise))(function(X,se){function pe(Ke){try{Be(v.next(Ke))}catch(ut){se(ut)}}function Le(Ke){try{Be(v.throw(Ke))}catch(ut){se(ut)}}function Be(Ke){Ke.done?X(Ke.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(Ke.value).then(pe,Le)}Be((v=v.apply(w,l||[])).next())})};function el(w){return w.scheme===Pi.lg.file?w.fsPath:w.path}let rc=0;class ua{constructor(l,u,v,K,X,se,pe){this.id=++rc,this.type=0,this.actual=l,this.label=l.label,this.confirmBeforeUndo=l.confirmBeforeUndo||!1,this.resourceLabel=u,this.strResource=v,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=K,this.groupOrder=X,this.sourceId=se,this.sourceOrder=pe,this.isValid=!0}setValid(l){this.isValid=l}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Ma{constructor(l,u){this.resourceLabel=l,this.reason=u}}class ac{constructor(){this.elements=new Map}createMessage(){const l=[],u=[];for(const[,K]of this.elements)(0===K.reason?l:u).push(K.resourceLabel);let v=[];return l.length>0&&v.push(Xn.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",l.join(", "))),u.length>0&&v.push(Xn.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",u.join(", "))),v.join("\n")}get size(){return this.elements.size}has(l){return this.elements.has(l)}set(l,u){this.elements.set(l,u)}delete(l){return this.elements.delete(l)}}class od{constructor(l,u,v,K,X,se,pe){this.id=++rc,this.type=1,this.actual=l,this.label=l.label,this.confirmBeforeUndo=l.confirmBeforeUndo||!1,this.resourceLabels=u,this.strResources=v,this.groupId=K,this.groupOrder=X,this.sourceId=se,this.sourceOrder=pe,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(l,u,v){this.removedResources||(this.removedResources=new ac),this.removedResources.has(u)||this.removedResources.set(u,new Ma(l,v))}setValid(l,u,v){v?this.invalidatedResources&&(this.invalidatedResources.delete(u),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new ac),this.invalidatedResources.has(u)||this.invalidatedResources.set(u,new Ma(l,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class lc{constructor(l,u){this.resourceLabel=l,this.strResource=u,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const l of this._past)1===l.type&&l.removeResource(this.resourceLabel,this.strResource,0);for(const l of this._future)1===l.type&&l.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let l=[];l.push(`* ${this.strResource}:`);for(let u=0;u<this._past.length;u++)l.push(`   * [UNDO] ${this._past[u]}`);for(let u=this._future.length-1;u>=0;u--)l.push(`   * [REDO] ${this._future[u]}`);return l.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(l,u){1===l.type?l.setValid(this.resourceLabel,this.strResource,u):l.setValid(u)}setElementsValidFlag(l,u){for(const v of this._past)u(v.actual)&&this._setElementValidFlag(v,l);for(const v of this._future)u(v.actual)&&this._setElementValidFlag(v,l)}pushElement(l){for(const u of this._future)1===u.type&&u.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(l),this.versionId++}createSnapshot(l){const u=[];for(let v=0,K=this._past.length;v<K;v++)u.push(this._past[v].id);for(let v=this._future.length-1;v>=0;v--)u.push(this._future[v].id);return new Rs.YO(l,u)}restoreSnapshot(l){const u=l.elements.length;let v=!0,K=0,X=-1;for(let pe=0,Le=this._past.length;pe<Le;pe++,K++){const Be=this._past[pe];v&&(K>=u||Be.id!==l.elements[K])&&(v=!1,X=0),!v&&1===Be.type&&Be.removeResource(this.resourceLabel,this.strResource,0)}let se=-1;for(let pe=this._future.length-1;pe>=0;pe--,K++){const Le=this._future[pe];v&&(K>=u||Le.id!==l.elements[K])&&(v=!1,se=pe),!v&&1===Le.type&&Le.removeResource(this.resourceLabel,this.strResource,0)}-1!==X&&(this._past=this._past.slice(0,X)),-1!==se&&(this._future=this._future.slice(se+1)),this.versionId++}getElements(){const l=[],u=[];for(const v of this._past)l.push(v.actual);for(const v of this._future)u.push(v.actual);return{past:l,future:u}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(l,u){for(let v=this._past.length-1;v>=0;v--)if(this._past[v]===l){u.has(this.strResource)?this._past[v]=u.get(this.strResource):this._past.splice(v,1);break}this.versionId++}splitFutureWorkspaceElement(l,u){for(let v=this._future.length-1;v>=0;v--)if(this._future[v]===l){u.has(this.strResource)?this._future[v]=u.get(this.strResource):this._future.splice(v,1);break}this.versionId++}moveBackward(l){this._past.pop(),this._future.push(l),this.versionId++}moveForward(l){this._future.pop(),this._past.push(l),this.versionId++}}class Sl{constructor(l){this.editStacks=l,this._versionIds=[];for(let u=0,v=this.editStacks.length;u<v;u++)this._versionIds[u]=this.editStacks[u].versionId}isValid(){for(let l=0,u=this.editStacks.length;l<u;l++)if(this._versionIds[l]!==this.editStacks[l].versionId)return!1;return!0}}const cc=new lc("","");cc.locked=!0;let xl=class{constructor(l,u){this._dialogService=l,this._notificationService=u,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(l){for(const u of this._uriComparisonKeyComputers)if(u[0]===l.scheme)return u[1].getComparisonKey(l);return l.toString()}_print(l){console.log("------------------------------------"),console.log(`AFTER ${l}: `);let u=[];for(const v of this._editStacks)u.push(v[1].toString());console.log(u.join("\n"))}pushElement(l,u=Rs.Xt.None,v=Rs.gJ.None){if(0===l.type){const K=el(l.resource),X=this.getUriComparisonKey(l.resource);this._pushElement(new ua(l,K,X,u.id,u.nextOrder(),v.id,v.nextOrder()))}else{const K=new Set,X=[],se=[];for(const pe of l.resources){const Le=el(pe),Be=this.getUriComparisonKey(pe);K.has(Be)||(K.add(Be),X.push(Le),se.push(Be))}this._pushElement(1===X.length?new ua(l,X[0],se[0],u.id,u.nextOrder(),v.id,v.nextOrder()):new od(l,X,se,u.id,u.nextOrder(),v.id,v.nextOrder()))}}_pushElement(l){for(let u=0,v=l.strResources.length;u<v;u++){const K=l.resourceLabels[u],X=l.strResources[u];let se;this._editStacks.has(X)?se=this._editStacks.get(X):(se=new lc(K,X),this._editStacks.set(X,se)),se.pushElement(l)}}getLastElement(l){const u=this.getUriComparisonKey(l);if(this._editStacks.has(u)){const v=this._editStacks.get(u);if(v.hasFutureElements())return null;const K=v.getClosestPastElement();return K?K.actual:null}return null}_splitPastWorkspaceElement(l,u){const v=l.actual.split(),K=new Map;for(const X of v){const se=el(X.resource),pe=this.getUriComparisonKey(X.resource),Le=new ua(X,se,pe,0,0,0,0);K.set(Le.strResource,Le)}for(const X of l.strResources)u&&u.has(X)||this._editStacks.get(X).splitPastWorkspaceElement(l,K)}_splitFutureWorkspaceElement(l,u){const v=l.actual.split(),K=new Map;for(const X of v){const se=el(X.resource),pe=this.getUriComparisonKey(X.resource),Le=new ua(X,se,pe,0,0,0,0);K.set(Le.strResource,Le)}for(const X of l.strResources)u&&u.has(X)||this._editStacks.get(X).splitFutureWorkspaceElement(l,K)}removeElements(l){const u="string"==typeof l?l:this.getUriComparisonKey(l);this._editStacks.has(u)&&(this._editStacks.get(u).dispose(),this._editStacks.delete(u))}setElementsValidFlag(l,u,v){const K=this.getUriComparisonKey(l);this._editStacks.has(K)&&this._editStacks.get(K).setElementsValidFlag(u,v)}createSnapshot(l){const u=this.getUriComparisonKey(l);return this._editStacks.has(u)?this._editStacks.get(u).createSnapshot(l):new Rs.YO(l,[])}restoreSnapshot(l){const u=this.getUriComparisonKey(l.resource);if(this._editStacks.has(u)){const v=this._editStacks.get(u);v.restoreSnapshot(l),!v.hasPastElements()&&!v.hasFutureElements()&&(v.dispose(),this._editStacks.delete(u))}}getElements(l){const u=this.getUriComparisonKey(l);return this._editStacks.has(u)?this._editStacks.get(u).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(l){if(!l)return[null,null];let u=null,v=null;for(const[K,X]of this._editStacks){const se=X.getClosestPastElement();!se||se.sourceId===l&&(!u||se.sourceOrder>u.sourceOrder)&&(u=se,v=K)}return[u,v]}canUndo(l){if(l instanceof Rs.gJ){const[,v]=this._findClosestUndoElementWithSource(l.id);return!!v}const u=this.getUriComparisonKey(l);return!!this._editStacks.has(u)&&this._editStacks.get(u).hasPastElements()}_onError(l,u){(0,Et.dL)(l);for(const v of u.strResources)this.removeElements(v);this._notificationService.error(l)}_acquireLocks(l){for(const u of l.editStacks)if(u.locked)throw new Error("Cannot acquire edit stack lock");for(const u of l.editStacks)u.locked=!0;return()=>{for(const u of l.editStacks)u.locked=!1}}_safeInvokeWithLocks(l,u,v,K,X){const se=this._acquireLocks(v);let pe;try{pe=u()}catch(Le){return se(),K.dispose(),this._onError(Le,l)}return pe?pe.then(()=>(se(),K.dispose(),X()),Le=>(se(),K.dispose(),this._onError(Le,l))):(se(),K.dispose(),X())}_invokeWorkspacePrepare(l){return sc(this,void 0,void 0,function*(){if(void 0===l.actual.prepareUndoRedo)return Ye.JT.None;const u=l.actual.prepareUndoRedo();return void 0===u?Ye.JT.None:u})}_invokeResourcePrepare(l,u){if(1!==l.actual.type||void 0===l.actual.prepareUndoRedo)return u(Ye.JT.None);const v=l.actual.prepareUndoRedo();return v?(0,Ye.Wf)(v)?u(v):v.then(K=>u(K)):u(Ye.JT.None)}_getAffectedEditStacks(l){const u=[];for(const v of l.strResources)u.push(this._editStacks.get(v)||cc);return new Sl(u)}_tryToSplitAndUndo(l,u,v,K){if(u.canSplit())return this._splitPastWorkspaceElement(u,v),this._notificationService.warn(K),new Po(this._undo(l,0,!0));for(const X of u.strResources)this.removeElements(X);return this._notificationService.warn(K),new Po}_checkWorkspaceUndo(l,u,v,K){if(u.removedResources)return this._tryToSplitAndUndo(l,u,u.removedResources,Xn.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",u.label,u.removedResources.createMessage()));if(K&&u.invalidatedResources)return this._tryToSplitAndUndo(l,u,u.invalidatedResources,Xn.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",u.label,u.invalidatedResources.createMessage()));const X=[];for(const pe of v.editStacks)pe.getClosestPastElement()!==u&&X.push(pe.resourceLabel);if(X.length>0)return this._tryToSplitAndUndo(l,u,null,Xn.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",u.label,X.join(", ")));const se=[];for(const pe of v.editStacks)pe.locked&&se.push(pe.resourceLabel);return se.length>0?this._tryToSplitAndUndo(l,u,null,Xn.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",u.label,se.join(", "))):v.isValid()?null:this._tryToSplitAndUndo(l,u,null,Xn.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",u.label))}_workspaceUndo(l,u,v){const K=this._getAffectedEditStacks(u),X=this._checkWorkspaceUndo(l,u,K,!1);return X?X.returnValue:this._confirmAndExecuteWorkspaceUndo(l,u,K,v)}_isPartOfUndoGroup(l){if(!l.groupId)return!1;for(const[,u]of this._editStacks){const v=u.getClosestPastElement();if(v){if(v===l){const K=u.getSecondClosestPastElement();if(K&&K.groupId===l.groupId)return!0}if(v.groupId===l.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(l,u,v,K){return sc(this,void 0,void 0,function*(){if(u.canSplit()&&!this._isPartOfUndoGroup(u)){const pe=yield this._dialogService.show(as.Z.Info,Xn.N("confirmWorkspace","Would you like to undo '{0}' across all files?",u.label),[Xn.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",v.editStacks.length),Xn.N("nok","Undo this File"),Xn.N("cancel","Cancel")],{cancelId:2});if(2===pe.choice)return;if(1===pe.choice)return this._splitPastWorkspaceElement(u,null),this._undo(l,0,!0);const Le=this._checkWorkspaceUndo(l,u,v,!1);if(Le)return Le.returnValue;K=!0}let X;try{X=yield this._invokeWorkspacePrepare(u)}catch(pe){return this._onError(pe,u)}const se=this._checkWorkspaceUndo(l,u,v,!0);if(se)return X.dispose(),se.returnValue;for(const pe of v.editStacks)pe.moveBackward(u);return this._safeInvokeWithLocks(u,()=>u.actual.undo(),v,X,()=>this._continueUndoInGroup(u.groupId,K))})}_resourceUndo(l,u,v){if(u.isValid){if(!l.locked)return this._invokeResourcePrepare(u,K=>(l.moveBackward(u),this._safeInvokeWithLocks(u,()=>u.actual.undo(),new Sl([l]),K,()=>this._continueUndoInGroup(u.groupId,v))));{const K=Xn.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",u.label);this._notificationService.warn(K)}}else l.flushAllElements()}_findClosestUndoElementInGroup(l){if(!l)return[null,null];let u=null,v=null;for(const[K,X]of this._editStacks){const se=X.getClosestPastElement();!se||se.groupId===l&&(!u||se.groupOrder>u.groupOrder)&&(u=se,v=K)}return[u,v]}_continueUndoInGroup(l,u){if(!l)return;const[,v]=this._findClosestUndoElementInGroup(l);return v?this._undo(v,0,u):void 0}undo(l){if(l instanceof Rs.gJ){const[,u]=this._findClosestUndoElementWithSource(l.id);return u?this._undo(u,l.id,!1):void 0}return this._undo("string"==typeof l?l:this.getUriComparisonKey(l),0,!1)}_undo(l,u=0,v){if(!this._editStacks.has(l))return;const K=this._editStacks.get(l),X=K.getClosestPastElement();if(X){if(X.groupId){const[pe,Le]=this._findClosestUndoElementInGroup(X.groupId);if(X!==pe&&Le)return this._undo(Le,u,v)}if((X.sourceId!==u||X.confirmBeforeUndo)&&!v)return this._confirmAndContinueUndo(l,u,X);try{return 1===X.type?this._workspaceUndo(l,X,v):this._resourceUndo(K,X,v)}finally{}}}_confirmAndContinueUndo(l,u,v){return sc(this,void 0,void 0,function*(){if(1!==(yield this._dialogService.show(as.Z.Info,Xn.N("confirmDifferentSource","Would you like to undo '{0}'?",v.label),[Xn.N("confirmDifferentSource.yes","Yes"),Xn.N("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(l,u,!0)})}_findClosestRedoElementWithSource(l){if(!l)return[null,null];let u=null,v=null;for(const[K,X]of this._editStacks){const se=X.getClosestFutureElement();!se||se.sourceId===l&&(!u||se.sourceOrder<u.sourceOrder)&&(u=se,v=K)}return[u,v]}canRedo(l){if(l instanceof Rs.gJ){const[,v]=this._findClosestRedoElementWithSource(l.id);return!!v}const u=this.getUriComparisonKey(l);return!!this._editStacks.has(u)&&this._editStacks.get(u).hasFutureElements()}_tryToSplitAndRedo(l,u,v,K){if(u.canSplit())return this._splitFutureWorkspaceElement(u,v),this._notificationService.warn(K),new Po(this._redo(l));for(const X of u.strResources)this.removeElements(X);return this._notificationService.warn(K),new Po}_checkWorkspaceRedo(l,u,v,K){if(u.removedResources)return this._tryToSplitAndRedo(l,u,u.removedResources,Xn.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",u.label,u.removedResources.createMessage()));if(K&&u.invalidatedResources)return this._tryToSplitAndRedo(l,u,u.invalidatedResources,Xn.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",u.label,u.invalidatedResources.createMessage()));const X=[];for(const pe of v.editStacks)pe.getClosestFutureElement()!==u&&X.push(pe.resourceLabel);if(X.length>0)return this._tryToSplitAndRedo(l,u,null,Xn.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",u.label,X.join(", ")));const se=[];for(const pe of v.editStacks)pe.locked&&se.push(pe.resourceLabel);return se.length>0?this._tryToSplitAndRedo(l,u,null,Xn.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",u.label,se.join(", "))):v.isValid()?null:this._tryToSplitAndRedo(l,u,null,Xn.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",u.label))}_workspaceRedo(l,u){const v=this._getAffectedEditStacks(u),K=this._checkWorkspaceRedo(l,u,v,!1);return K?K.returnValue:this._executeWorkspaceRedo(l,u,v)}_executeWorkspaceRedo(l,u,v){return sc(this,void 0,void 0,function*(){let K;try{K=yield this._invokeWorkspacePrepare(u)}catch(se){return this._onError(se,u)}const X=this._checkWorkspaceRedo(l,u,v,!0);if(X)return K.dispose(),X.returnValue;for(const se of v.editStacks)se.moveForward(u);return this._safeInvokeWithLocks(u,()=>u.actual.redo(),v,K,()=>this._continueRedoInGroup(u.groupId))})}_resourceRedo(l,u){if(u.isValid){if(!l.locked)return this._invokeResourcePrepare(u,v=>(l.moveForward(u),this._safeInvokeWithLocks(u,()=>u.actual.redo(),new Sl([l]),v,()=>this._continueRedoInGroup(u.groupId))));{const v=Xn.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",u.label);this._notificationService.warn(v)}}else l.flushAllElements()}_findClosestRedoElementInGroup(l){if(!l)return[null,null];let u=null,v=null;for(const[K,X]of this._editStacks){const se=X.getClosestFutureElement();!se||se.groupId===l&&(!u||se.groupOrder<u.groupOrder)&&(u=se,v=K)}return[u,v]}_continueRedoInGroup(l){if(!l)return;const[,u]=this._findClosestRedoElementInGroup(l);return u?this._redo(u):void 0}redo(l){if(l instanceof Rs.gJ){const[,u]=this._findClosestRedoElementWithSource(l.id);return u?this._redo(u):void 0}return this._redo("string"==typeof l?l:this.getUriComparisonKey(l))}_redo(l){if(!this._editStacks.has(l))return;const u=this._editStacks.get(l),v=u.getClosestFutureElement();if(v){if(v.groupId){const[K,X]=this._findClosestRedoElementInGroup(v.groupId);if(v!==K&&X)return this._redo(X)}try{return 1===v.type?this._workspaceRedo(l,v):this._resourceRedo(u,v)}finally{}}}};xl=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([Qr(0,ca.S),Qr(1,Ar.lT)],xl);class Po{constructor(l){this.returnValue=l}}(0,no.z)(Rs.tJ,xl),m(85034);var Ls=m(714),Rr=m(99315),dc=m(48882),cr=m(27870),Ys=m(92778),Na=m(63779);const _u=Object.freeze({id:"editor",order:5,type:"object",title:Xn.N("editorConfigurationTitle","Editor"),scope:5}),Dl=Object.assign(Object.assign({},_u),{properties:{"editor.tabSize":{type:"number",default:cr.D.tabSize,minimum:1,markdownDescription:Xn.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:cr.D.insertSpaces,markdownDescription:Xn.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:cr.D.detectIndentation,markdownDescription:Xn.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:cr.D.trimAutoWhitespace,description:Xn.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:cr.D.largeFileOptimizations,description:Xn.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:Xn.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[Xn.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),Xn.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),Xn.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:Xn.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[Xn.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),Xn.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),Xn.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:Xn.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:Xn.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:Xn.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:Xn.N("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:Xn.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:Xn.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:Xn.N("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:Xn.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:Xn.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:Xn.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:Xn.N("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:Xn.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:Xn.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:Xn.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:Xn.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[Xn.N("wordWrap.off","Lines will never wrap."),Xn.N("wordWrap.on","Lines will wrap at the viewport width."),Xn.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function Cu(w){return void 0!==w.type||void 0!==w.anyOf}for(const w of E.Bc){const l=w.schema;if(void 0!==l)if(Cu(l))Dl.properties[`editor.${w.name}`]=l;else for(const u in l)Object.hasOwnProperty.call(l,u)&&(Dl.properties[u]=l[u])}let Fr=null;function tl(){return null===Fr&&(Fr=Object.create(null),Object.keys(Dl.properties).forEach(w=>{Fr[w]=!0})),Fr}Na.B.as(Ys.IP.Configuration).registerConfiguration(Dl);var wr=m(19420),gi=m(13591),ns=m(10467),us=m(13011),Ds=m(33439),Zo=m(60842);class Es{constructor(l={},u=[],v=[]){this._contents=l,this._keys=u,this._overrides=v,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(l){return l?(0,us.Mt)(this.contents,l):this.contents}getOverrideValue(l,u){const v=this.getContentsForOverrideIdentifer(u);return v?l?(0,us.Mt)(v,l):v:void 0}override(l){let u=this.overrideConfigurations.get(l);return u||(u=this.createOverrideConfigurationModel(l),this.overrideConfigurations.set(l,u)),u}merge(...l){const u=Zo.I8(this.contents),v=Zo.I8(this.overrides),K=[...this.keys];for(const X of l){this.mergeContents(u,X.contents);for(const se of X.overrides){const[pe]=v.filter(Le=>oi.fS(Le.identifiers,se.identifiers));pe?(this.mergeContents(pe.contents,se.contents),pe.keys.push(...se.keys),pe.keys=oi.EB(pe.keys)):v.push(Zo.I8(se))}for(const se of X.keys)-1===K.indexOf(se)&&K.push(se)}return new Es(u,K,v)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(l){const u=this.getContentsForOverrideIdentifer(l);if(!u||"object"!=typeof u||!Object.keys(u).length)return this;let v={};for(const K of oi.EB([...Object.keys(this.contents),...Object.keys(u)])){let X=this.contents[K],se=u[K];se&&("object"==typeof X&&"object"==typeof se?(X=Zo.I8(X),this.mergeContents(X,se)):X=se),v[K]=X}return new Es(v,this.keys,this.overrides)}mergeContents(l,u){for(const v of Object.keys(u))v in l&&sn.Kn(l[v])&&sn.Kn(u[v])?this.mergeContents(l[v],u[v]):l[v]=Zo.I8(u[v])}checkAndFreeze(l){return this.isFrozen&&!Object.isFrozen(l)?Zo._A(l):l}getContentsForOverrideIdentifer(l){let u=null,v=null;const K=X=>{X&&(v?this.mergeContents(v,X):v=Zo.I8(X))};for(const X of this.overrides)oi.fS(X.identifiers,[l])?u=X.contents:X.identifiers.includes(l)&&K(X.contents);return K(u),v}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(l,u){this.addKey(l),(0,us.KV)(this.contents,l,u,v=>{throw new Error(v)})}removeValue(l){this.removeKey(l)&&(0,us.xL)(this.contents,l)}addKey(l){let u=this.keys.length;for(let v=0;v<u;v++)0===l.indexOf(this.keys[v])&&(u=v);this.keys.splice(u,1,l)}removeKey(l){let u=this.keys.indexOf(l);return-1!==u&&(this.keys.splice(u,1),!0)}}class uc extends Es{constructor(l={}){const u=Na.B.as(Ys.IP.Configuration).getConfigurationProperties(),v=Object.keys(u),K=Object.create(null),X=[];for(const se in u){const pe=l[se];(0,us.KV)(K,se,void 0!==pe?pe:u[se].default,Be=>console.error(`Conflict in default settings: ${Be}`))}for(const se of Object.keys(K))Ys.eU.test(se)&&X.push({identifiers:(0,Ys.ny)(se),keys:Object.keys(K[se]),contents:(0,us.Od)(K[se],pe=>console.error(`Conflict in default settings file: ${pe}`))});super(K,v,X)}}class Ia{constructor(l,u,v=new Es,K=new Es,X=new Ds.Y9,se=new Es,pe=new Ds.Y9,Le=!0){this._defaultConfiguration=l,this._localUserConfiguration=u,this._remoteUserConfiguration=v,this._workspaceConfiguration=K,this._folderConfigurations=X,this._memoryConfiguration=se,this._memoryConfigurationByResource=pe,this._freeze=Le,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ds.Y9,this._userConfiguration=null}getValue(l,u,v){return this.getConsolidateConfigurationModel(u,v).getValue(l)}updateValue(l,u,v={}){let K;v.resource?(K=this._memoryConfigurationByResource.get(v.resource),K||(K=new Es,this._memoryConfigurationByResource.set(v.resource,K))):K=this._memoryConfiguration,void 0===u?K.removeValue(l):K.setValue(l,u),v.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(l,u,v){const K=this.getConsolidateConfigurationModel(u,v),X=this.getFolderConfigurationModelForResource(u.resource,v),se=u.resource&&this._memoryConfigurationByResource.get(u.resource)||this._memoryConfiguration,pe=u.overrideIdentifier?this._defaultConfiguration.freeze().override(u.overrideIdentifier).getValue(l):this._defaultConfiguration.freeze().getValue(l),Le=u.overrideIdentifier?this.userConfiguration.freeze().override(u.overrideIdentifier).getValue(l):this.userConfiguration.freeze().getValue(l),Be=u.overrideIdentifier?this.localUserConfiguration.freeze().override(u.overrideIdentifier).getValue(l):this.localUserConfiguration.freeze().getValue(l),Ke=u.overrideIdentifier?this.remoteUserConfiguration.freeze().override(u.overrideIdentifier).getValue(l):this.remoteUserConfiguration.freeze().getValue(l),ut=v?u.overrideIdentifier?this._workspaceConfiguration.freeze().override(u.overrideIdentifier).getValue(l):this._workspaceConfiguration.freeze().getValue(l):void 0,Jt=X?u.overrideIdentifier?X.freeze().override(u.overrideIdentifier).getValue(l):X.freeze().getValue(l):void 0,gn=u.overrideIdentifier?se.override(u.overrideIdentifier).getValue(l):se.getValue(l),Zn=K.getValue(l),Hi=oi.EB(oi.xH(K.overrides.map(vi=>vi.identifiers))).filter(vi=>void 0!==K.getOverrideValue(l,vi));return{defaultValue:pe,userValue:Le,userLocalValue:Be,userRemoteValue:Ke,workspaceValue:ut,workspaceFolderValue:Jt,memoryValue:gn,value:Zn,default:void 0!==pe?{value:this._defaultConfiguration.freeze().getValue(l),override:u.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,user:void 0!==Le?{value:this.userConfiguration.freeze().getValue(l),override:u.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,userLocal:void 0!==Be?{value:this.localUserConfiguration.freeze().getValue(l),override:u.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,userRemote:void 0!==Ke?{value:this.remoteUserConfiguration.freeze().getValue(l),override:u.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,workspace:void 0!==ut?{value:this._workspaceConfiguration.freeze().getValue(l),override:u.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==Jt?{value:null==X?void 0:X.freeze().getValue(l),override:u.overrideIdentifier?null==X?void 0:X.freeze().getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,memory:void 0!==gn?{value:se.getValue(l),override:u.overrideIdentifier?se.getOverrideValue(l,u.overrideIdentifier):void 0}:void 0,overrideIdentifiers:Hi.length?Hi:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(l,u){let v=this.getConsolidatedConfigurationModelForResource(l,u);return l.overrideIdentifier?v.override(l.overrideIdentifier):v}getConsolidatedConfigurationModelForResource({resource:l},u){let v=this.getWorkspaceConsolidatedConfiguration();if(u&&l){const K=u.getFolder(l);K&&(v=this.getFolderConsolidatedConfiguration(K.uri)||v);const X=this._memoryConfigurationByResource.get(l);X&&(v=v.merge(X))}return v}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(l){let u=this._foldersConsolidatedConfigurations.get(l);if(!u){const v=this.getWorkspaceConsolidatedConfiguration(),K=this._folderConfigurations.get(l);K?(u=v.merge(K),this._freeze&&(u=u.freeze()),this._foldersConsolidatedConfigurations.set(l,u)):u=v}return u}getFolderConfigurationModelForResource(l,u){if(u&&l){const v=u.getFolder(l);if(v)return this._folderConfigurations.get(v.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((l,u)=>{const{contents:v,overrides:K,keys:X}=this._folderConfigurations.get(u);return l.push([u,{contents:v,overrides:K,keys:X}]),l},[])}}static parse(l){const u=this.parseConfigurationModel(l.defaults),v=this.parseConfigurationModel(l.user),K=this.parseConfigurationModel(l.workspace),X=l.folders.reduce((se,pe)=>(se.set(D.o.revive(pe[0]),this.parseConfigurationModel(pe[1])),se),new Ds.Y9);return new Ia(u,v,new Es,K,X,new Es,new Ds.Y9,!1)}static parseConfigurationModel(l){return new Es(l.contents,l.keys,l.overrides).freeze()}}class Oi{constructor(l,u,v,K){this.change=l,this.previous=u,this.currentConfiguraiton=v,this.currentWorkspace=K,this._previousConfiguration=void 0;const X=new Set;l.keys.forEach(pe=>X.add(pe)),l.overrides.forEach(([,pe])=>pe.forEach(Le=>X.add(Le))),this.affectedKeys=[...X.values()];const se=new Es;this.affectedKeys.forEach(pe=>se.setValue(pe,{})),this.affectedKeysTree=se.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Ia.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(l,u){var v;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,l)){if(u){const K=this.previousConfiguration?this.previousConfiguration.getValue(l,u,null===(v=this.previous)||void 0===v?void 0:v.workspace):void 0,X=this.currentConfiguraiton.getValue(l,u,this.currentWorkspace);return!Zo.fS(K,X)}return!0}return!1}doesAffectedKeysTreeContains(l,u){let K,v=(0,us.Od)({[u]:!0},()=>{});for(;"object"==typeof v&&(K=Object.keys(v)[0]);){if(!(l=l[K]))return!1;v=v[K]}return!0}}const $i=/^(cursor|delete)/;class Vo extends Ye.JT{constructor(l,u,v,K,X){super(),this._contextKeyService=l,this._commandService=u,this._telemetryService=v,this._notificationService=K,this._logService=X,this._onDidUpdateKeybindings=this._register(new Y.Q5),this._currentChord=null,this._currentChordChecker=new fn.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Ji.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new fn._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Y.ju.None}dispose(){super.dispose()}_log(l){this._logging&&this._logService.info(`[KeybindingService]: ${l}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(l,u){const v=this._getResolver().lookupPrimaryKeybinding(l,u||this._contextKeyService);if(v)return v.resolvedKeybinding}dispatchEvent(l,u){return this._dispatch(l,u)}softDispatch(l,u){const v=this.resolveKeyboardEvent(l);if(v.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[K]=v.getDispatchParts();if(null===K)return null;const X=this._contextKeyService.getContext(u),se=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(X,se,K)}_enterChordMode(l,u){this._currentChord={keypress:l,label:u},this._currentChordStatusMessage=this._notificationService.status(Xn.N("first.chord","({0}) was pressed. Waiting for second key of chord...",u));const v=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-v>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(l,u){return this._doDispatch(this.resolveKeyboardEvent(l),u,!1)}_singleModifierDispatch(l,u){const v=this.resolveKeyboardEvent(l),[K]=v.getSingleModifierDispatchParts();if(K)return this._ignoreSingleModifiers.has(K)?(this._log(`+ Ignoring single modifier ${K} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Ji.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Ji.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${K}.`),this._currentSingleModifier=K,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):K===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${K} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(v,u,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[X]=v.getParts();return this._ignoreSingleModifiers=new Ji(X),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(l,u,v=!1){let K=!1;if(l.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let X=null,se=null;if(v){const[Ke]=l.getSingleModifierDispatchParts();X=Ke,se=Ke}else[X]=l.getDispatchParts(),se=this._currentChord?this._currentChord.keypress:null;if(null===X)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),K;const pe=this._contextKeyService.getContext(u),Le=l.getLabel(),Be=this._getResolver().resolve(pe,se,X);return this._logService.trace("KeybindingService#dispatch",Le,null==Be?void 0:Be.commandId),Be&&Be.enterChord?(K=!0,this._enterChordMode(X,Le),K):(this._currentChord&&(!Be||!Be.commandId)&&(this._notificationService.status(Xn.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,Le),{hideAfter:1e4}),K=!0),this._leaveChordMode(),Be&&Be.commandId&&(Be.bubble||(K=!0),void 0===Be.commandArgs?this._commandService.executeCommand(Be.commandId).then(void 0,Ke=>this._notificationService.warn(Ke)):this._commandService.executeCommand(Be.commandId,Be.commandArgs).then(void 0,Ke=>this._notificationService.warn(Ke)),$i.test(Be.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Be.commandId,from:"keybinding"})),K)}mightProducePrintableCharacter(l){return!l.ctrlKey&&!l.metaKey&&(l.keyCode>=31&&l.keyCode<=56||l.keyCode>=21&&l.keyCode<=30)}}class Ji{constructor(l){this._ctrlKey=!!l&&l.ctrlKey,this._shiftKey=!!l&&l.shiftKey,this._altKey=!!l&&l.altKey,this._metaKey=!!l&&l.metaKey}has(l){switch(l){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Ji.EMPTY=new Ji(null);var Go=m(96938);class is{constructor(l,u,v){this._log=v,this._defaultKeybindings=l,this._defaultBoundCommands=new Map;for(const K of l){const X=K.command;X&&"-"!==X.charAt(0)&&this._defaultBoundCommands.set(X,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=is.handleRemovals([].concat(l).concat(u));for(let K=0,X=this._keybindings.length;K<X;K++){let se=this._keybindings[K];0!==se.keypressParts.length&&(se.when&&0===se.when.type||this._addKeyPress(se.keypressParts[0],se))}}static _isTargetedForRemoval(l,u,v,K){return!(u&&l.keypressParts[0]!==u||v&&l.keypressParts[1]!==v||K&&(!l.when||!(0,Co.Fb)(K,l.when)))}static handleRemovals(l){const u=new Map;for(let K=0,X=l.length;K<X;K++){const se=l[K];if(se.command&&"-"===se.command.charAt(0)){const pe=se.command.substring(1);u.has(pe)?u.get(pe).push(se):u.set(pe,[se])}}if(0===u.size)return l;const v=[];for(let K=0,X=l.length;K<X;K++){const se=l[K];if(!se.command||0===se.command.length){v.push(se);continue}if("-"===se.command.charAt(0))continue;const pe=u.get(se.command);if(!pe||!se.isDefault){v.push(se);continue}let Le=!1;for(const Be of pe)if(this._isTargetedForRemoval(se,Be.keypressParts[0],Be.keypressParts[1],Be.when)){Le=!0;break}Le||v.push(se)}return v}_addKeyPress(l,u){const v=this._map.get(l);if(void 0===v)return this._map.set(l,[u]),void this._addToLookupMap(u);for(let K=v.length-1;K>=0;K--){let X=v[K];if(X.command===u.command)continue;const pe=u.keypressParts.length>1;X.keypressParts.length>1&&pe&&X.keypressParts[1]!==u.keypressParts[1]||is.whenIsEntirelyIncluded(X.when,u.when)&&this._removeFromLookupMap(X)}v.push(u),this._addToLookupMap(u)}_addToLookupMap(l){if(!l.command)return;let u=this._lookupMap.get(l.command);void 0===u?(u=[l],this._lookupMap.set(l.command,u)):u.push(l)}_removeFromLookupMap(l){if(!l.command)return;let u=this._lookupMap.get(l.command);if(void 0!==u)for(let v=0,K=u.length;v<K;v++)if(u[v]===l)return void u.splice(v,1)}static whenIsEntirelyIncluded(l,u){return!u||1===u.type||!(!l||1===l.type)&&(0,Co.K8)(l,u)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(l,u){const v=this._lookupMap.get(l);if(void 0===v||0===v.length)return null;if(1===v.length)return v[0];for(let K=v.length-1;K>=0;K--){const X=v[K];if(u.contextMatchesRules(X.when))return X}return v[v.length-1]}resolve(l,u,v){this._log(`| Resolving ${v}${u?` chorded from ${u}`:""}`);let K=null;if(null!==u){const se=this._map.get(u);if(void 0===se)return this._log("\\ No keybinding entries."),null;K=[];for(let pe=0,Le=se.length;pe<Le;pe++){let Be=se[pe];Be.keypressParts[1]===v&&K.push(Be)}}else{const se=this._map.get(v);if(void 0===se)return this._log("\\ No keybinding entries."),null;K=se}let X=this._findCommand(l,K);return X?null===u&&X.keypressParts.length>1&&null!==X.keypressParts[1]?(this._log(`\\ From ${K.length} keybinding entries, matched chord, when: ${yr(X.when)}, source: ${ha(X)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${K.length} keybinding entries, matched ${X.command}, when: ${yr(X.when)}, source: ${ha(X)}.`),{enterChord:!1,leaveChord:X.keypressParts.length>1,commandId:X.command,commandArgs:X.commandArgs,bubble:X.bubble}):(this._log(`\\ From ${K.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(l,u){for(let v=u.length-1;v>=0;v--){let K=u[v];if(is._contextMatchesRules(l,K.when))return K}return null}static _contextMatchesRules(l,u){return!u||u.evaluate(l)}}function yr(w){return w?`${w.serialize()}`:"no when condition"}function ha(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}var Bh=m(22115);class rd{constructor(l,u,v,K,X,se,pe){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=l,this.keypressParts=l?dr(l.getDispatchParts()):[],l&&0===this.keypressParts.length&&(this.keypressParts=dr(l.getSingleModifierDispatchParts())),this.bubble=!!u&&94===u.charCodeAt(0),this.command=this.bubble?u.substr(1):u,this.commandArgs=v,this.when=K,this.isDefault=X,this.extensionId=se,this.isBuiltinExtension=pe}}function dr(w){let l=[];for(let u=0,v=w.length;u<v;u++){const K=w[u];if(!K)return l;l.push(K)}return l}var nl=m(99802);class ad extends Rr.f1{constructor(l,u){if(super(),0===u.length)throw(0,Et.b1)("parts");this._os=l,this._parts=u}getLabel(){return nl.xo.toLabel(this._os,this._parts,l=>this._getLabel(l))}getAriaLabel(){return nl.X4.toLabel(this._os,this._parts,l=>this._getAriaLabel(l))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:nl.jC.toLabel(this._os,this._parts,l=>this._getElectronAccelerator(l))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(l=>this._getPart(l))}_getPart(l){return new Rr.BQ(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,this._getLabel(l),this._getAriaLabel(l))}getDispatchParts(){return this._parts.map(l=>this._getDispatchPart(l))}getSingleModifierDispatchParts(){return this._parts.map(l=>this._getSingleModifierDispatchPart(l))}}class ka extends ad{constructor(l,u){super(u,l.parts)}_keyCodeToUILabel(l){if(2===this._os)switch(l){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return B.kL.toString(l)}_getLabel(l){return l.isDuplicateModifierCase()?"":this._keyCodeToUILabel(l.keyCode)}_getAriaLabel(l){return l.isDuplicateModifierCase()?"":B.kL.toString(l.keyCode)}_getElectronAccelerator(l){return B.kL.toElectronAccelerator(l.keyCode)}_getDispatchPart(l){return ka.getDispatchStr(l)}static getDispatchStr(l){if(l.isModifierKey())return null;let u="";return l.ctrlKey&&(u+="ctrl+"),l.shiftKey&&(u+="shift+"),l.altKey&&(u+="alt+"),l.metaKey&&(u+="meta+"),u+=B.kL.toString(l.keyCode),u}_getSingleModifierDispatchPart(l){return 5!==l.keyCode||l.shiftKey||l.altKey||l.metaKey?4!==l.keyCode||l.ctrlKey||l.altKey||l.metaKey?6!==l.keyCode||l.ctrlKey||l.shiftKey||l.metaKey?57!==l.keyCode||l.ctrlKey||l.shiftKey||l.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(l){const u=B.Vd[l];if(-1!==u)return u;switch(l){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(l){if(!l)return null;if(l instanceof Rr.QC)return l;const u=this._scanCodeToKeyCode(l.scanCode);return 0===u?null:new Rr.QC(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,u)}static resolveUserBinding(l,u){const v=dr(l.map(K=>this._resolveSimpleUserBinding(K)));return v.length>0?[new ka(new Rr.X_(v),u)]:[]}}var Dg=m(7022),uo=m(24763),Pn=m(87493),vu=m(17184),ld=m(1598),Wh=m(73062),El=m(9719),Vh=m(96721),Ta=m(32975),Sr=(m(72874),(()=>(function(w){w[w.AVOID=0]="AVOID",w[w.ALIGN=1]="ALIGN"}(Sr||(Sr={})),Sr))());function fa(w,l,u){const v=u.mode===Sr.ALIGN?u.offset:u.offset+u.size,K=u.mode===Sr.ALIGN?u.offset+u.size:u.offset;return 0===u.position?l<=w-v?v:l<=K?K-l:Math.max(w-l,0):l<=K?K-l:l<=w-v?v:0}let wu=(()=>{class w extends Ye.JT{constructor(u,v){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Ye.JT.None,this.toDisposeOnSetContainer=Ye.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=_t.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,_t.Cp(this.view),this.setContainer(u,v),this._register((0,Ye.OF)(()=>this.setContainer(null,1)))}setContainer(u,v){var K;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(K=this.shadowRootHostElement)||void 0===K||K.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),u){if(this.container=u,this.useFixedPosition=1!==v,this.useShadowDOM=3===v,this.useShadowDOM){this.shadowRootHostElement=_t.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const se=document.createElement("style");se.textContent=yu,this.shadowRoot.appendChild(se),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(_t.$("slot"))}else this.container.appendChild(this.view);const X=new Ye.SL;w.BUBBLE_UP_EVENTS.forEach(se=>{X.add(_t.mu(this.container,se,pe=>{this.onDOMEvent(pe,!1)}))}),w.BUBBLE_DOWN_EVENTS.forEach(se=>{X.add(_t.mu(this.container,se,pe=>{this.onDOMEvent(pe,!0)},!0))}),this.toDisposeOnSetContainer=X}}show(u){this.isVisible()&&this.hide(),_t.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",_t.$Z(this.view),this.toDisposeOnClean=u.render(this.view)||Ye.JT.None,this.delegate=u,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||St.gn&&Vh.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let v,u=this.delegate.getAnchor();if(_t.Re(u)){let Jt=_t.i(u);v={top:Jt.top,left:Jt.left,width:Jt.width,height:Jt.height}}else v={top:u.y,left:u.x,width:u.width||1,height:u.height||2};const K=_t.w(this.view),X=_t.wn(this.view),se=this.delegate.anchorPosition||0,pe=this.delegate.anchorAlignment||0;let Be,Ke;if(0===(this.delegate.anchorAxisAlignment||0)){const Jt={offset:v.top-window.pageYOffset,size:v.height,position:0===se?0:1},gn={offset:v.left,size:v.width,position:0===pe?0:1,mode:Sr.ALIGN};Be=fa(window.innerHeight,X,Jt)+window.pageYOffset,Ta.e.intersects({start:Be,end:Be+X},{start:Jt.offset,end:Jt.offset+Jt.size})&&(gn.mode=Sr.AVOID),Ke=fa(window.innerWidth,K,gn)}else{const Jt={offset:v.left,size:v.width,position:0===pe?0:1},gn={offset:v.top,size:v.height,position:0===se?0:1,mode:Sr.ALIGN};Ke=fa(window.innerWidth,K,Jt),Ta.e.intersects({start:Ke,end:Ke+K},{start:Jt.offset,end:Jt.offset+Jt.size})&&(gn.mode=Sr.AVOID),Be=fa(window.innerHeight,X,gn)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===se?"bottom":"top"),this.view.classList.add(0===pe?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const ut=_t.i(this.container);this.view.style.top=Be-(this.useFixedPosition?_t.i(this.view).top:ut.top)+"px",this.view.style.left=Ke-(this.useFixedPosition?_t.i(this.view).left:ut.left)+"px",this.view.style.width="initial"}hide(u){const v=this.delegate;this.delegate=null,(null==v?void 0:v.onHide)&&v.onHide(u),this.toDisposeOnClean.dispose(),_t.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(u,v){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(u,document.activeElement):v&&!_t.jg(u.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return w.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],w.BUBBLE_DOWN_EVENTS=["click"],w})(),yu='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n',cd=class extends Ye.JT{constructor(l){super(),this.layoutService=l,this.currentViewDisposable=Ye.JT.None,this.container=l.hasContainer?l.container:null,this.contextView=this._register(new wu(this.container,1)),this.layout(),this._register(l.onDidLayout(()=>this.layout()))}setContainer(l,u){this.contextView.setContainer(l,u||1)}showContextView(l,u,v){u?u!==this.container&&(this.container=u,this.setContainer(u,v?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(l);const K=(0,Ye.OF)(()=>{this.currentViewDisposable===K&&this.hideContextView()});return this.currentViewDisposable=K,K}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(l){this.contextView.hide(l)}};cd=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([function(w,l){return function(u,v){l(u,v,0)}}(0,ar)],cd);var hc=m(46359),Js=m(84491);const fc="[^/\\\\]",Hh=/\//g;function Il(w){switch(w){case 0:return"";case 1:return`${fc}*?`;default:return`(?:[/\\\\]|${fc}+[/\\\\]|[/\\\\]${fc}+)*?`}}function ol(w,l){if(!w)return[];const u=[];let v=!1,K=!1,X="";for(const se of w){switch(se){case l:if(!v&&!K){u.push(X),X="";continue}break;case"{":v=!0;break;case"}":v=!1;break;case"[":K=!0;break;case"]":K=!1}X+=se}return X&&u.push(X),u}function Oa(w){if(!w)return"";let l="";const u=ol(w,"/");if(u.every(v=>"**"===v))l=".*";else{let v=!1;u.forEach((K,X)=>{if("**"===K)return void(v||(l+=Il(2),v=!0));let se=!1,pe="",Le=!1,Be="";for(const Ke of K)if("}"!==Ke&&se)pe+=Ke;else if(!Le||"]"===Ke&&Be)switch(Ke){case"{":se=!0;continue;case"[":Le=!0;continue;case"}":l+=`(?:${ol(pe,",").map(gn=>Oa(gn)).join("|")})`,se=!1,pe="";break;case"]":l+="["+Be+"]",Le=!1,Be="";break;case"?":l+=fc;continue;case"*":l+=Il(1);continue;default:l+=(0,nt.ec)(Ke)}else{let ut;ut="-"===Ke?Ke:"^"!==Ke&&"!"!==Ke||Be?"/"===Ke?"":(0,nt.ec)(Ke):"^",Be+=ut}X<u.length-1&&("**"!==u[X+1]||X+2<u.length)&&(l+="[/\\\\]"),v=!1})}return l}const xu=/^\*\*\/\*\.[\w\.-]+$/,Lu=/^\*\*\/([\w\.-]+)\/?$/,Du=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,zh=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Eu=/^\*\*((\/[\w\.-]+)+)\/?$/,Uh=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,ud=new Ds.z6(1e4),hd=function(){return!1},Wr=function(){return null};function sl(w,l){if(!w)return Wr;let u;u="string"!=typeof w?w.pattern:w,u=u.trim();const v=`${u}_${!!l.trimForExclusions}`;let X,K=ud.get(v);if(K)return Mu(K,w);if(xu.test(u)){const se=u.substr(4);K=function(pe,Le){return"string"==typeof pe&&pe.endsWith(se)?u:null}}else K=(X=Lu.exec(fd(u,l)))?function(w,l){const u=`/${w}`,v=`\\${w}`,K=function(se,pe){return"string"!=typeof se?null:pe?pe===w?l:null:se===w||se.endsWith(u)||se.endsWith(v)?l:null},X=[w];return K.basenames=X,K.patterns=[l],K.allBasenames=X,K}(X[1],u):(l.trimForExclusions?zh:Du).test(u)?function(w,l){const u=Kh(w.slice(1,-1).split(",").map(pe=>sl(pe,l)).filter(pe=>pe!==Wr),w),v=u.length;if(!v)return Wr;if(1===v)return u[0];const K=function(pe,Le){for(let Be=0,Ke=u.length;Be<Ke;Be++)if(u[Be](pe,Le))return w;return null},X=u.find(pe=>!!pe.allBasenames);X&&(K.allBasenames=X.allBasenames);const se=u.reduce((pe,Le)=>Le.allPaths?pe.concat(Le.allPaths):pe,[]);return se.length&&(K.allPaths=se),K}(u,l):(X=Eu.exec(fd(u,l)))?gd(X[1].substr(1),u,!0):(X=Uh.exec(fd(u,l)))?gd(X[1],u,!1):function(w){try{const l=new RegExp(`^${Oa(w)}$`);return function(u){return l.lastIndex=0,"string"==typeof u&&l.test(u)?w:null}}catch{return Wr}}(u);return ud.set(v,K),Mu(K,w)}function Mu(w,l){return"string"==typeof l?w:function(u,v){return(0,hc.KM)(u,l.base,!St.IJ)?w(u.substr(l.base.length+1),v):null}}function fd(w,l){return l.trimForExclusions&&w.endsWith("/**")?w.substr(0,w.length-2):w}function gd(w,l,u){const v=Js.ir===Js.KR.sep,K=v?w:w.replace(Hh,Js.ir),X=Js.ir+K,se=Js.KR.sep+w,pe=u?function(Le,Be){return"string"!=typeof Le||Le!==K&&!Le.endsWith(X)&&(v||Le!==w&&!Le.endsWith(se))?null:l}:function(Le,Be){return"string"!=typeof Le||Le!==K&&(v||Le!==w)?null:l};return pe.allPaths=[(u?"*/":"./")+w],pe}function pc(w,l={}){if(!w)return hd;if("string"==typeof w||function(w){return!!w&&"string"==typeof w.base&&"string"==typeof w.pattern}(w)){const u=sl(w,l);if(u===Wr)return hd;const v=function(K,X){return!!u(K,X)};return u.allBasenames&&(v.allBasenames=u.allBasenames),u.allPaths&&(v.allPaths=u.allPaths),v}return function(w,l){const u=Kh(Object.getOwnPropertyNames(w).map(pe=>function(w,l,u){if(!1===l)return Wr;const v=sl(w,u);if(v===Wr)return Wr;if("boolean"==typeof l)return v;if(l){const K=l.when;if("string"==typeof K){const X=(se,pe,Le,Be)=>{if(!Be||!v(se,pe))return null;const ut=Be(K.replace("$(basename)",Le));return(0,fn.J8)(ut)?ut.then(Jt=>Jt?w:null):ut?w:null};return X.requiresSiblings=!0,X}}return v}(pe,w[pe],l)).filter(pe=>pe!==Wr)),v=u.length;if(!v)return Wr;if(!u.some(pe=>!!pe.requiresSiblings)){if(1===v)return u[0];const pe=function(Ke,ut){for(let Jt=0,gn=u.length;Jt<gn;Jt++){const Zn=u[Jt](Ke,ut);if(Zn)return Zn}return null},Le=u.find(Ke=>!!Ke.allBasenames);Le&&(pe.allBasenames=Le.allBasenames);const Be=u.reduce((Ke,ut)=>ut.allPaths?Ke.concat(ut.allPaths):Ke,[]);return Be.length&&(pe.allPaths=Be),pe}const K=function(pe,Le,Be){let Ke;for(let ut=0,Jt=u.length;ut<Jt;ut++){const gn=u[ut];gn.requiresSiblings&&Be&&(Le||(Le=(0,Js.EZ)(pe)),Ke||(Ke=Le.substr(0,Le.length-(0,Js.DZ)(pe).length)));const Zn=gn(pe,Le,Ke,Be);if(Zn)return Zn}return null},X=u.find(pe=>!!pe.allBasenames);X&&(K.allBasenames=X.allBasenames);const se=u.reduce((pe,Le)=>Le.allPaths?pe.concat(Le.allPaths):pe,[]);return se.length&&(K.allPaths=se),K}(w,l)}function Kh(w,l){const u=w.filter(pe=>!!pe.basenames);if(u.length<2)return w;const v=u.reduce((pe,Le)=>{const Be=Le.basenames;return Be?pe.concat(Be):pe},[]);let K;if(l){K=[];for(let pe=0,Le=v.length;pe<Le;pe++)K.push(l)}else K=u.reduce((pe,Le)=>{const Be=Le.patterns;return Be?pe.concat(Be):pe},[]);const X=function(pe,Le){if("string"!=typeof pe)return null;if(!Le){let Ke;for(Ke=pe.length;Ke>0;Ke--){const ut=pe.charCodeAt(Ke-1);if(47===ut||92===ut)break}Le=pe.substr(Ke)}const Be=v.indexOf(Le);return-1!==Be?K[Be]:null};X.basenames=v,X.patterns=K,X.allBasenames=v;const se=w.filter(pe=>!pe.basenames);return se.push(X),se}var ga=m(48343),Aa=m(6228);let rl=[],Cc=[],Ms=[];function Oo(w,l=!1){!function(w,l,u){const v=function(w,l){return{id:w.id,mime:w.mime,filename:w.filename,extension:w.extension,filepattern:w.filepattern,firstline:w.firstline,userConfigured:false,filenameLowercase:w.filename?w.filename.toLowerCase():void 0,extensionLowercase:w.extension?w.extension.toLowerCase():void 0,filepatternLowercase:w.filepattern?pc(w.filepattern.toLowerCase()):void 0,filepatternOnPath:!!w.filepattern&&w.filepattern.indexOf(Js.KR.sep)>=0}}(w);rl.push(v),v.userConfigured?Ms.push(v):Cc.push(v),u&&!v.userConfigured&&rl.forEach(K=>{K.mime===v.mime||K.userConfigured||(v.extension&&K.extension===v.extension&&console.warn(`Overwriting extension <<${v.extension}>> to now point to mime <<${v.mime}>>`),v.filename&&K.filename===v.filename&&console.warn(`Overwriting filename <<${v.filename}>> to now point to mime <<${v.mime}>>`),v.filepattern&&K.filepattern===v.filepattern&&console.warn(`Overwriting filepattern <<${v.filepattern}>> to now point to mime <<${v.mime}>>`),v.firstline&&K.firstline===v.firstline&&console.warn(`Overwriting firstline <<${v.firstline}>> to now point to mime <<${v.mime}>>`))})}(w,0,l)}function vt(w,l,u){var v;let K,X,se;for(let pe=u.length-1;pe>=0;pe--){const Le=u[pe];if(l===Le.filenameLowercase){K=Le;break}if(Le.filepattern&&(!X||Le.filepattern.length>X.filepattern.length)){const Be=Le.filepatternOnPath?w:l;(null===(v=Le.filepatternLowercase)||void 0===v?void 0:v.call(Le,Be))&&(X=Le)}Le.extension&&(!se||Le.extension.length>se.extension.length)&&l.endsWith(Le.extensionLowercase)&&(se=Le)}return K?K.mime:X?X.mime:se?se.mime:void 0}var $t=m(12282);const bc=Object.prototype.hasOwnProperty,pd="vs.editor.nullLanguage";pt.zu.register(pd,{});class vc{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(pd,0),this._register($t.bd,1),this._nextLanguageId=2}_register(l,u){this._languageIdToLanguage[u]=l,this._languageToLanguageId.set(l,u)}register(l){if(this._languageToLanguageId.has(l))return;const u=this._nextLanguageId++;this._register(l,u)}encodeLanguageId(l){return this._languageToLanguageId.get(l)||0}decodeLanguageId(l){return this._languageIdToLanguage[l]||pd}}let wc=(()=>{class w extends Ye.JT{constructor(u=!0,v=!1){super(),this._onDidChange=this._register(new Y.Q5),this.onDidChange=this._onDidChange.event,w.instanceCount++,this._warnOnOverwrite=v,this.languageIdCodec=new vc,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},u&&(this._initializeFromRegistry(),this._register($t.dQ.onDidChangeLanguages(K=>{this._initializeFromRegistry()})))}dispose(){w.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},rl=rl.filter(w=>w.userConfigured),Cc=[];const u=[].concat($t.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(u)}_registerLanguages(u){for(const v of u)this._registerLanguage(v);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(v=>{const K=this._languages[v];K.name&&(this._nameMap[K.name]=K.identifier),K.aliases.forEach(X=>{this._lowercaseNameMap[X.toLowerCase()]=K.identifier}),K.mimetypes.forEach(X=>{this._mimeTypesMap[X]=K.identifier})}),Na.B.as(Ys.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(u){const v=u.id;let K;bc.call(this._languages,v)?K=this._languages[v]:(this.languageIdCodec.register(v),K={identifier:v,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[v]=K),this._mergeLanguage(K,u)}_mergeLanguage(u,v){const K=v.id;let X=null;if(Array.isArray(v.mimetypes)&&v.mimetypes.length>0&&(u.mimetypes.push(...v.mimetypes),X=v.mimetypes[0]),X||(X=`text/x-${K}`,u.mimetypes.push(X)),Array.isArray(v.extensions)){u.extensions=v.configuration?v.extensions.concat(u.extensions):u.extensions.concat(v.extensions);for(let Le of v.extensions)Oo({id:K,mime:X,extension:Le},this._warnOnOverwrite)}if(Array.isArray(v.filenames))for(let Le of v.filenames)Oo({id:K,mime:X,filename:Le},this._warnOnOverwrite),u.filenames.push(Le);if(Array.isArray(v.filenamePatterns))for(let Le of v.filenamePatterns)Oo({id:K,mime:X,filepattern:Le},this._warnOnOverwrite);if("string"==typeof v.firstLine&&v.firstLine.length>0){let Le=v.firstLine;"^"!==Le.charAt(0)&&(Le="^"+Le);try{const Be=new RegExp(Le);(0,nt.IO)(Be)||Oo({id:K,mime:X,firstline:Be},this._warnOnOverwrite)}catch(Be){(0,Et.dL)(Be)}}u.aliases.push(K);let se=null;if(void 0!==v.aliases&&Array.isArray(v.aliases)&&(se=0===v.aliases.length?[null]:v.aliases),null!==se)for(const Le of se)!Le||0===Le.length||u.aliases.push(Le);const pe=null!==se&&se.length>0;if(!pe||null!==se[0]){const Le=(pe?se[0]:null)||K;(pe||!u.name)&&(u.name=Le)}v.configuration&&u.configurationFiles.push(v.configuration),v.icon&&u.icons.push(v.icon)}isRegisteredLanguageId(u){return!!u&&bc.call(this._languages,u)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(u){const v=u.toLowerCase();return bc.call(this._lowercaseNameMap,v)?this._lowercaseNameMap[v]:null}getLanguageIdByMimeType(u){return u&&bc.call(this._mimeTypesMap,u)?this._mimeTypesMap[u]:null}guessLanguageIdByFilepathOrFirstLine(u,v){if(!u&&!v)return[];const K=function(w,l){let u;if(w)switch(w.scheme){case Pi.lg.file:u=w.fsPath;break;case Pi.lg.data:u=Aa.Vb.parseMetaData(w).get(Aa.Vb.META_DATA_LABEL);break;default:u=w.path}if(!u)return[ga.v.unknown];u=u.toLowerCase();const v=(0,Js.EZ)(u),K=vt(u,v,Ms);if(K)return[K,ga.v.text];const X=vt(u,v,Cc);if(X)return[X,ga.v.text];if(l){const se=function(w){if((0,nt.uS)(w)&&(w=w.substr(1)),w.length>0)for(let l=rl.length-1;l>=0;l--){const u=rl[l];if(!u.firstline)continue;const v=w.match(u.firstline);if(v&&v.length>0)return u.mime}}(l);if(se)return[se,ga.v.text]}return[ga.v.unknown]}(u,v);return(0,oi.kX)(K.map(X=>this.getLanguageIdByMimeType(X)))}}return w.instanceCount=0,w})(),_s=(()=>{class w extends Ye.JT{constructor(u=!1){super(),this._onDidEncounterLanguage=this._register(new Y.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new Y.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,w.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new wc(!0,u)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){w.instanceCount--,super.dispose()}isRegisteredLanguageId(u){return this._registry.isRegisteredLanguageId(u)}getLanguageIdByLanguageName(u){return this._registry.getLanguageIdByLanguageName(u)}getLanguageIdByMimeType(u){return this._registry.getLanguageIdByMimeType(u)}guessLanguageIdByFilepathOrFirstLine(u,v){const K=this._registry.guessLanguageIdByFilepathOrFirstLine(u,v);return(0,oi.Xh)(K,null)}createById(u){return new ku(this.onDidChange,()=>this._createAndGetLanguageIdentifier(u))}createByFilepathOrFirstLine(u,v){return new ku(this.onDidChange,()=>{const K=this.guessLanguageIdByFilepathOrFirstLine(u,v);return this._createAndGetLanguageIdentifier(K)})}_createAndGetLanguageIdentifier(u){return(!u||!this.isRegisteredLanguageId(u))&&(u=$t.bd),this._encounteredLanguages.has(u)||(this._encounteredLanguages.add(u),k.RW.getOrCreate(u),this._onDidEncounterLanguage.fire(u)),u}}return w.instanceCount=0,w})();class ku{constructor(l,u){this._onDidChangeLanguages=l,this._selector=u,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new Y.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const l=this._selector();l!==this.languageId&&(this.languageId=l,this._emitter&&this._emitter.fire(this.languageId))}}var _d=m(2886),Tl=m(47306),Ra=m(23945),Wn=m(60291),Pt=m(48727),$h=m(19226),hi=m(6491),kt=m(50955),Fo=m(78968),Zi=m(42623);const Yr=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Hn=/(&amp;)?(&amp;)([^\s&])/g;var ge=(()=>(function(w){w[w.Right=0]="Right",w[w.Left=1]="Left"}(ge||(ge={})),ge))();class r extends Wn.o{constructor(l,u,v={}){l.classList.add("monaco-menu-container"),l.setAttribute("role","presentation");const K=document.createElement("div");K.classList.add("monaco-menu"),K.setAttribute("role","presentation"),super(K,{orientation:1,actionViewItemProvider:pe=>this.doGetActionViewItem(pe,v,X),context:v.context,actionRunner:v.actionRunner,ariaLabel:v.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...St.dz||St.IJ?[10]:[]],keyDown:!0}}),this.menuElement=K,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Ye.SL),this.initializeOrUpdateStyleSheet(l,{}),this._register(Ra.o.addTarget(K)),(0,_t.nm)(K,_t.tw.KEY_DOWN,pe=>{new Ls.y(pe).equals(2)&&pe.preventDefault()}),v.enableMnemonics&&this.menuDisposables.add((0,_t.nm)(K,_t.tw.KEY_DOWN,pe=>{const Le=pe.key.toLocaleLowerCase();if(this.mnemonics.has(Le)){_t.zB.stop(pe,!0);const Be=this.mnemonics.get(Le);if(1===Be.length&&(Be[0]instanceof _&&Be[0].container&&this.focusItemByElement(Be[0].container),Be[0].onClick(pe)),Be.length>1){const Ke=Be.shift();Ke&&Ke.container&&(this.focusItemByElement(Ke.container),Be.push(Ke)),this.mnemonics.set(Le,Be)}}})),St.IJ&&this._register((0,_t.nm)(K,_t.tw.KEY_DOWN,pe=>{const Le=new Ls.y(pe);Le.equals(14)||Le.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),_t.zB.stop(pe,!0)):(Le.equals(13)||Le.equals(12))&&(this.focusedItem=0,this.focusPrevious(),_t.zB.stop(pe,!0))})),this._register((0,_t.nm)(this.domNode,_t.tw.MOUSE_OUT,pe=>{(0,_t.jg)(pe.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),pe.stopPropagation())})),this._register((0,_t.nm)(this.actionsList,_t.tw.MOUSE_OVER,pe=>{let Le=pe.target;if(Le&&(0,_t.jg)(Le,this.actionsList)&&Le!==this.actionsList){for(;Le.parentElement!==this.actionsList&&null!==Le.parentElement;)Le=Le.parentElement;if(Le.classList.contains("action-item")){const Be=this.focusedItem;this.setFocusedItem(Le),Be!==this.focusedItem&&this.updateFocus()}}})),this._register(Ra.o.addTarget(this.actionsList)),this._register((0,_t.nm)(this.actionsList,Ra.t.Tap,pe=>{let Le=pe.initialTarget;if(Le&&(0,_t.jg)(Le,this.actionsList)&&Le!==this.actionsList){for(;Le.parentElement!==this.actionsList&&null!==Le.parentElement;)Le=Le.parentElement;if(Le.classList.contains("action-item")){const Be=this.focusedItem;this.setFocusedItem(Le),Be!==this.focusedItem&&this.updateFocus()}}}));let X={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new hi.s$(K,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const se=this.scrollableElement.getDomNode();se.style.position="",this._register((0,_t.nm)(K,Ra.t.Change,pe=>{_t.zB.stop(pe,!0);const Le=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Le-pe.translationY})})),this._register((0,_t.nm)(se,_t.tw.MOUSE_UP,pe=>{pe.preventDefault()})),K.style.maxHeight=`${Math.max(10,window.innerHeight-l.getBoundingClientRect().top-35)}px`,u=u.filter(pe=>{var Le;return!(null===(Le=v.submenuIds)||void 0===Le?void 0:Le.has(pe.id))||(console.warn(`Found submenu cycle: ${pe.id}`),!1)}),this.push(u,{icon:!0,label:!0,isMenu:!0}),l.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(pe=>!(pe instanceof T)).forEach((pe,Le,Be)=>{pe.updatePositionInSet(Le+1,Be.length)})}initializeOrUpdateStyleSheet(l,u){this.styleSheet||((0,_t.OO)(l)?this.styleSheet=(0,_t.dS)(l):(r.globalStyleSheet||(r.globalStyleSheet=(0,_t.dS)()),this.styleSheet=r.globalStyleSheet)),this.styleSheet.textContent=function(w,l){let u=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${(0,$h.a)(Fo.lA.menuSelection)}\n${(0,$h.a)(Fo.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(l){u+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const v=w.scrollbarShadow;v&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${v} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${v} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${v} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const K=w.scrollbarSliderBackground;K&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${K};\n\t\t\t\t}\n\t\t\t`);const X=w.scrollbarSliderHoverBackground;X&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${X};\n\t\t\t\t}\n\t\t\t`);const se=w.scrollbarSliderActiveBackground;se&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${se};\n\t\t\t\t}\n\t\t\t`)}return u}(u,(0,_t.OO)(l))}style(l){const u=this.getContainer();this.initializeOrUpdateStyleSheet(u,l);const v=l.foregroundColor?`${l.foregroundColor}`:"",K=l.backgroundColor?`${l.backgroundColor}`:"",se=l.shadowColor?`0 2px 4px ${l.shadowColor}`:"";u.style.border=l.borderColor?`1px solid ${l.borderColor}`:"",this.domNode.style.color=v,this.domNode.style.backgroundColor=K,u.style.boxShadow=se,this.viewItems&&this.viewItems.forEach(pe=>{(pe instanceof c||pe instanceof T)&&pe.style(l)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(l){const u=this.focusedItem;this.setFocusedItem(l),u!==this.focusedItem&&this.updateFocus()}setFocusedItem(l){for(let u=0;u<this.actionsList.children.length;u++)if(l===this.actionsList.children[u]){this.focusedItem=u;break}}updateFocus(l){super.updateFocus(l,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(l,u,v){if(l instanceof kt.Z0)return new T(u.context,l,{icon:!0});if(l instanceof kt.wY){const K=new _(l,l.actions,v,Object.assign(Object.assign({},u),{submenuIds:new Set([...u.submenuIds||[],l.id])}));if(u.enableMnemonics){const X=K.getMnemonic();if(X&&K.isEnabled()){let se=[];this.mnemonics.has(X)&&(se=this.mnemonics.get(X)),se.push(K),this.mnemonics.set(X,se)}}return K}{const K={enableMnemonics:u.enableMnemonics,useEventAsContext:u.useEventAsContext};if(u.getKeyBinding){const se=u.getKeyBinding(l);if(se){const pe=se.getLabel();pe&&(K.keybinding=pe)}}const X=new c(u.context,l,K);if(u.enableMnemonics){const se=X.getMnemonic();if(se&&X.isEnabled()){let pe=[];this.mnemonics.has(se)&&(pe=this.mnemonics.get(se)),pe.push(X),this.mnemonics.set(se,pe)}}return X}}}class c extends Pt.Y{constructor(l,u,v={}){if(v.isMenu=!0,super(u,u,v),this.options=v,this.options.icon=void 0!==v.icon&&v.icon,this.options.label=void 0===v.label||v.label,this.cssClass="",this.options.label&&v.enableMnemonics){let K=this.getAction().label;if(K){let X=Yr.exec(K);X&&(this.mnemonic=(X[1]?X[1]:X[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new fn.pY(()=>{!this.element||(this._register((0,_t.nm)(this.element,_t.tw.MOUSE_UP,K=>{if(_t.zB.stop(K,!0),Tl.isFirefox){if(new _d.n(K).rightButton)return;this.onClick(K)}else setTimeout(()=>{this.onClick(K)},0)})),this._register((0,_t.nm)(this.element,_t.tw.CONTEXT_MENU,K=>{_t.zB.stop(K,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(l){super.render(l),this.element&&(this.container=l,this.item=(0,_t.R3)(this.element,(0,_t.$)("a.action-menu-item")),this._action.id===kt.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,_t.R3)(this.item,(0,_t.$)("span.menu-item-check"+Fo.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,_t.R3)(this.item,(0,_t.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,_t.R3)(this.item,(0,_t.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(l,u){this.item&&(this.item.setAttribute("aria-posinset",`${l}`),this.item.setAttribute("aria-setsize",`${u}`))}updateLabel(){if(this.label&&this.options.label){(0,_t.PO)(this.label);let l=(0,Zi.x$)(this.getAction().label);if(l){const u=function(w){const l=Yr,u=l.exec(w);return u?w.replace(l,u[1]?"":"$2$3").trim():w}(l);this.options.enableMnemonics||(l=u),this.label.setAttribute("aria-label",u.replace(/&&/g,"&"));const v=Yr.exec(l);if(v){l=nt.YU(l),Hn.lastIndex=0;let K=Hn.exec(l);for(;K&&K[1];)K=Hn.exec(l);const X=se=>se.replace(/&amp;&amp;/g,"&amp;");K?this.label.append(nt.j3(X(l.substr(0,K.index))," "),(0,_t.$)("u",{"aria-hidden":"true"},K[3]),nt.oL(X(l.substr(K.index+K[0].length))," ")):this.label.innerText=X(l).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(v[1]?v[1]:v[3]).toLocaleLowerCase())}else this.label.innerText=l.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const l=this.getAction().checked;this.item.classList.toggle("checked",!!l),void 0!==l?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",l?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const l=this.element&&this.element.classList.contains("focused"),u=l&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,v=l&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,K=l&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=u?u.toString():"",this.item.style.backgroundColor=v?v.toString():""),this.check&&(this.check.style.color=u?u.toString():""),this.container&&(this.container.style.border=K)}style(l){this.menuStyle=l,this.applyStyle()}}class _ extends c{constructor(l,u,v,K){super(l,l,K),this.submenuActions=u,this.parentData=v,this.submenuOptions=K,this.mysubmenu=null,this.submenuDisposables=this._register(new Ye.SL),this.mouseOver=!1,this.expandDirection=K&&void 0!==K.expandDirection?K.expandDirection:ge.Right,this.showScheduler=new fn.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new fn.pY(()=>{this.element&&!(0,_t.jg)((0,_t.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(l){super.render(l),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,_t.R3)(this.item,(0,_t.$)("span.submenu-indicator"+Fo.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,_t.nm)(this.element,_t.tw.KEY_UP,u=>{let v=new Ls.y(u);(v.equals(17)||v.equals(3))&&(_t.zB.stop(u,!0),this.createSubmenu(!0))})),this._register((0,_t.nm)(this.element,_t.tw.KEY_DOWN,u=>{let v=new Ls.y(u);(0,_t.vY)()===this.item&&(v.equals(17)||v.equals(3))&&_t.zB.stop(u,!0)})),this._register((0,_t.nm)(this.element,_t.tw.MOUSE_OVER,u=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,_t.nm)(this.element,_t.tw.MOUSE_LEAVE,u=>{this.mouseOver=!1})),this._register((0,_t.nm)(this.element,_t.tw.FOCUS_OUT,u=>{this.element&&!(0,_t.jg)((0,_t.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(l){_t.zB.stop(l,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(l){if(this.parentData.submenu&&(l||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(l,u,v,K){const X={top:0,left:0};return X.left=fa(l.width,u.width,{position:K===ge.Right?0:1,offset:v.left,size:v.width}),X.left>=v.left&&X.left<v.left+v.width&&(v.left+10+u.width<=l.width&&(X.left=v.left+10),v.top+=10,v.height=0),X.top=fa(l.height,u.height,{position:0,offset:v.top,size:0}),X.top+u.height===v.top&&X.top+v.height+u.height<=l.height&&(X.top+=v.height),X}createSubmenu(l=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,_t.R3)(this.element,(0,_t.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const u=getComputedStyle(this.parentData.parent.domNode),v=parseFloat(u.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new r(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new kt.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const K=this.element.getBoundingClientRect(),X={top:K.top-v,left:K.left,height:K.height+2*v,width:K.width},se=this.submenuContainer.getBoundingClientRect(),{top:pe,left:Le}=this.calculateSubmenuMenuLayout(new _t.Ro(window.innerWidth,window.innerHeight),_t.Ro.lift(se),X,this.expandDirection);this.submenuContainer.style.left=Le-se.left+"px",this.submenuContainer.style.top=pe-se.top+"px",this.submenuDisposables.add((0,_t.nm)(this.submenuContainer,_t.tw.KEY_UP,Be=>{new Ls.y(Be).equals(15)&&(_t.zB.stop(Be,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,_t.nm)(this.submenuContainer,_t.tw.KEY_DOWN,Be=>{new Ls.y(Be).equals(15)&&_t.zB.stop(Be,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(l),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(l){var u;this.item&&(null===(u=this.item)||void 0===u||u.setAttribute("aria-expanded",l))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const u=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=u?`${u}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class T extends Pt.g{style(l){this.label&&(this.label.style.borderBottomColor=l.separatorColor?`${l.separatorColor}`:"")}}m(94321);var ye=m(905);class De{constructor(l,u,v,K,X){this.contextViewService=l,this.telemetryService=u,this.notificationService=v,this.keybindingService=K,this.themeService=X,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(l){this.options=l}showContextMenu(l){const u=l.getActions();if(!u.length)return;this.focusToReturn=document.activeElement;let v,K=(0,_t.Re)(l.domForShadowRoot)?l.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>l.getAnchor(),canRelayout:!1,anchorAlignment:l.anchorAlignment,anchorAxisAlignment:l.anchorAxisAlignment,render:X=>{let se=l.getMenuClassName?l.getMenuClassName():"";se&&(X.className+=" "+se),this.options.blockMouse&&(this.block=X.appendChild((0,_t.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,_t.nm)(this.block,_t.tw.MOUSE_DOWN,Be=>Be.stopPropagation()));const pe=new Ye.SL,Le=l.actionRunner||new kt.Wi;return Le.onBeforeRun(this.onActionRun,this,pe),Le.onDidRun(this.onDidActionRun,this,pe),v=new r(X,u,{actionViewItemProvider:l.getActionViewItem,context:l.getActionsContext?l.getActionsContext():null,actionRunner:Le,getKeyBinding:l.getKeyBinding?l.getKeyBinding:Be=>this.keybindingService.lookupKeybinding(Be.id)}),pe.add((0,ye.tj)(v,this.themeService)),v.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,pe),v.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,pe),pe.add((0,_t.nm)(window,_t.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),pe.add((0,_t.nm)(window,_t.tw.MOUSE_DOWN,Be=>{if(Be.defaultPrevented)return;let Ke=new _d.n(Be),ut=Ke.target;if(!Ke.rightButton){for(;ut;){if(ut===X)return;ut=ut.parentElement}this.contextViewService.hideContextView(!0)}})),(0,Ye.F8)(pe,v)},focus:()=>{v&&v.focus(!!l.autoSelectFirstItem)},onHide:X=>{l.onHide&&l.onHide(!!X),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},K,!!K)}onActionRun(l){this.telemetryService.publicLog2("workbenchActionExecuted",{id:l.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(l){l.error&&!(0,Et.n2)(l.error)&&this.notificationService.error(l.error)}}var ze=function(w,l){return function(u,v){l(u,v,w)}};let qe=class extends Ye.JT{constructor(l,u,v,K,X){super(),this._onDidShowContextMenu=new Y.Q5,this._onDidHideContextMenu=new Y.Q5,this.contextMenuHandler=new De(v,l,u,K,X)}configure(l){this.contextMenuHandler.configure(l)}showContextMenu(l){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},l),{onHide:u=>{l.onHide&&l.onHide(u),this._onDidHideContextMenu.fire()}})),_t._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};qe=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([ze(0,Pn.b),ze(1,Ar.lT),ze(2,El.u),ze(3,Go.d),ze(4,ci.XE)],qe);var ot=m(62253),Ct=m(7272),mt=(()=>(function(w){w[w.API=0]="API",w[w.USER=1]="USER"}(mt||(mt={})),mt))(),It=m(23813),Zt=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X},cn=function(w,l){return function(u,v){l(u,v,w)}},dn=function(w,l,u,v){return new(u||(u=Promise))(function(X,se){function pe(Ke){try{Be(v.next(Ke))}catch(ut){se(ut)}}function Le(Ke){try{Be(v.throw(Ke))}catch(ut){se(ut)}}function Be(Ke){Ke.done?X(Ke.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(Ke.value).then(pe,Le)}Be((v=v.apply(w,l||[])).next())})};let kn=class{constructor(l){this._commandService=l}open(l,u){return dn(this,void 0,void 0,function*(){if(!(0,It.xn)(l,Pi.lg.command))return!1;if(!(null==u?void 0:u.allowCommands))return!0;"string"==typeof l&&(l=D.o.parse(l));let v=[];try{v=(0,Ct.Q)(decodeURIComponent(l.query))}catch{try{v=(0,Ct.Q)(l.query)}catch{}}return Array.isArray(v)||(v=[v]),yield this._commandService.executeCommand(l.path,...v),!0})}};kn=Zt([cn(0,ns.Hy)],kn);let Vn=class{constructor(l){this._editorService=l}open(l,u){return dn(this,void 0,void 0,function*(){"string"==typeof l&&(l=D.o.parse(l));const{selection:v,uri:K}=(0,It.xI)(l);return(l=K).scheme===Pi.lg.file&&(l=(0,Aa.AH)(l)),yield this._editorService.openCodeEditor({resource:l,options:Object.assign({selection:v,source:(null==u?void 0:u.fromUserGesture)?mt.USER:mt.API},null==u?void 0:u.editorOptions)},this._editorService.getFocusedCodeEditor(),null==u?void 0:u.openToSide),!0})}};Vn=Zt([cn(0,Ie.$)],Vn);let Fn=class{constructor(l,u){this._openers=new ot.S,this._validators=new ot.S,this._resolvers=new ot.S,this._resolvedUriTargets=new Ds.Y9(v=>v.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new ot.S,this._defaultExternalOpener={openExternal:v=>dn(this,void 0,void 0,function*(){return(0,It.Gs)(v,Pi.lg.http,Pi.lg.https)?_t.V3(v):window.location.href=v,!0})},this._openers.push({open:(v,K)=>dn(this,void 0,void 0,function*(){return!(!(null==K?void 0:K.openExternal)&&!(0,It.Gs)(v,Pi.lg.mailto,Pi.lg.http,Pi.lg.https,Pi.lg.vsls)||(yield this._doOpenExternal(v,K),0))})}),this._openers.push(new kn(u)),this._openers.push(new Vn(l))}registerOpener(l){return{dispose:this._openers.unshift(l)}}registerValidator(l){return{dispose:this._validators.push(l)}}registerExternalUriResolver(l){return{dispose:this._resolvers.push(l)}}setDefaultExternalOpener(l){this._defaultExternalOpener=l}registerExternalOpener(l){return{dispose:this._externalOpeners.push(l)}}open(l,u){var v;return dn(this,void 0,void 0,function*(){const K="string"==typeof l?D.o.parse(l):l,X=null!==(v=this._resolvedUriTargets.get(K))&&void 0!==v?v:l;for(const se of this._validators)if(!(yield se.shouldOpen(X)))return!1;for(const se of this._openers)if(yield se.open(l,u))return!0;return!1})}resolveExternalUri(l,u){return dn(this,void 0,void 0,function*(){for(const v of this._resolvers)try{const K=yield v.resolveExternalUri(l,u);if(K)return this._resolvedUriTargets.has(K.resolved)||this._resolvedUriTargets.set(K.resolved,l),K}catch{}throw new Error("Could not resolve external URI: "+l.toString())})}_doOpenExternal(l,u){return dn(this,void 0,void 0,function*(){const v="string"==typeof l?D.o.parse(l):l;let K,X;try{K=(yield this.resolveExternalUri(v,u)).resolved}catch{K=v}if(X="string"==typeof l&&v.toString()===K.toString()?l:encodeURI(K.toString(!0)),null==u?void 0:u.allowContributedOpeners){const se="string"==typeof(null==u?void 0:u.allowContributedOpeners)?null==u?void 0:u.allowContributedOpeners:void 0;for(const pe of this._externalOpeners)if(yield pe.openExternal(X,{sourceUri:v,preferredOpenerId:se},g.T.None))return!0}return this._defaultExternalOpener.openExternal(X,{sourceUri:v},g.T.None)})}dispose(){this._validators.clear()}};Fn=Zt([cn(0,Ie.$),cn(1,ns.Hy)],Fn);var On=m(81622),Ln=m(79695),pn=m(98275),ni=function(w,l){return function(u,v){l(u,v,w)}};class Eo extends Ye.JT{constructor(l){super(),this.model=l,this._markersData=new Map,this._register((0,Ye.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(l,u){const v=[...this._markersData.keys()];this._markersData.clear();const K=this.model.deltaDecorations(v,u);for(let X=0;X<K.length;X++)this._markersData.set(K[X],l[X]);return 0!==v.length||0!==K.length}getMarker(l){return this._markersData.get(l.id)}}let bo=class extends Ye.JT{constructor(l,u){super(),this._markerService=u,this._onDidChangeMarker=this._register(new Y.Q5),this._markerDecorations=new Ds.Y9,l.getModels().forEach(v=>this._onModelAdded(v)),this._register(l.onModelAdded(this._onModelAdded,this)),this._register(l.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(l=>l.dispose()),this._markerDecorations.clear()}getMarker(l,u){const v=this._markerDecorations.get(l);return v&&v.getMarker(u)||null}_handleMarkerChange(l){l.forEach(u=>{const v=this._markerDecorations.get(u);v&&this._updateDecorations(v)})}_onModelAdded(l){const u=new Eo(l);this._markerDecorations.set(l.uri,u),this._updateDecorations(u)}_onModelRemoved(l){const u=this._markerDecorations.get(l.uri);u&&(u.dispose(),this._markerDecorations.delete(l.uri)),(l.uri.scheme===Pi.lg.inMemory||l.uri.scheme===Pi.lg.internal||l.uri.scheme===Pi.lg.vscode)&&this._markerService&&this._markerService.read({resource:l.uri}).map(v=>v.owner).forEach(v=>this._markerService.remove(v,[l.uri]))}_updateDecorations(l){const u=this._markerService.read({resource:l.model.uri,take:500}),v=u.map(K=>({range:this._createDecorationRange(l.model,K),options:this._createDecorationOption(K)}));l.update(u,v)&&this._onDidChangeMarker.fire(l.model)}_createDecorationRange(l,u){let v=O.e.lift(u);if(u.severity===On.ZL.Hint&&!this._hasMarkerTag(u,1)&&!this._hasMarkerTag(u,2)&&(v=v.setEndPosition(v.startLineNumber,v.startColumn+2)),v=l.validateRange(v),v.isEmpty()){const K=l.getLineLastNonWhitespaceColumn(v.startLineNumber)||l.getLineMaxColumn(v.startLineNumber);if(1===K||v.endColumn>=K)return v;const X=l.getWordAtPosition(v.getStartPosition());X&&(v=new O.e(v.startLineNumber,X.startColumn,v.endLineNumber,X.endColumn))}else if(u.endColumn===Number.MAX_VALUE&&1===u.startColumn&&v.startLineNumber===v.endLineNumber){let K=l.getLineFirstNonWhitespaceColumn(u.startLineNumber);K<v.endColumn&&(v=new O.e(v.startLineNumber,K,v.endLineNumber,v.endColumn),u.startColumn=K)}return v}_createDecorationOption(l){let u,v,K,X,se;switch(l.severity){case On.ZL.Hint:u=this._hasMarkerTag(l,2)?void 0:this._hasMarkerTag(l,1)?"squiggly-unnecessary":"squiggly-hint",K=0;break;case On.ZL.Warning:u="squiggly-warning",v=(0,ci.EN)(Ln.Re),K=20,se={color:(0,ci.EN)(pn.Ivo),position:mn.F5.Inline};break;case On.ZL.Info:u="squiggly-info",v=(0,ci.EN)(Ln.eS),K=10;break;default:u="squiggly-error",v=(0,ci.EN)(Ln.lK),K=30,se={color:(0,ci.EN)(pn.Gj_),position:mn.F5.Inline}}return l.tags&&(-1!==l.tags.indexOf(1)&&(X="squiggly-inline-unnecessary"),-1!==l.tags.indexOf(2)&&(X="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:u,showIfCollapsed:!0,overviewRuler:{color:v,position:mn.sh.Right},minimap:se,zIndex:K,inlineClassName:X}}_hasMarkerTag(l,u){return!!l.tags&&l.tags.indexOf(u)>=0}};bo=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([ni(0,zt.q),ni(1,On.lT)],bo);var ti=m(64757),io=m(18548),Ho=(m(33050),m(44346)),$n=m(13976),Wi=m(44339),Un=m(81897);m(27943);const yc={buttonBackground:Un.Il.fromHex("#0E639C"),buttonHoverBackground:Un.Il.fromHex("#006BB3"),buttonForeground:Un.Il.white};class Jr extends Ye.JT{constructor(l,u){super(),this._onDidClick=this._register(new Y.Q5),this.options=u||Object.create(null),(0,Zo.jB)(this.options,yc,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),l.appendChild(this._element),this._register(Ra.o.addTarget(this._element)),[_t.tw.CLICK,Ra.t.Tap].forEach(v=>{this._register((0,_t.nm)(this._element,v,K=>{this.enabled?this._onDidClick.fire(K):_t.zB.stop(K)}))}),this._register((0,_t.nm)(this._element,_t.tw.KEY_DOWN,v=>{const K=new Ls.y(v);let X=!1;this.enabled&&(K.equals(3)||K.equals(10))?(this._onDidClick.fire(v),X=!0):K.equals(9)&&(this._element.blur(),X=!0),X&&_t.zB.stop(K,!0)})),this._register((0,_t.nm)(this._element,_t.tw.MOUSE_OVER,v=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,_t.nm)(this._element,_t.tw.MOUSE_OUT,v=>{this.applyStyles()})),this.focusTracker=this._register((0,_t.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let l;l=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,l&&(this._element.style.backgroundColor=l)}style(l){this.buttonForeground=l.buttonForeground,this.buttonBackground=l.buttonBackground,this.buttonHoverBackground=l.buttonHoverBackground,this.buttonSecondaryForeground=l.buttonSecondaryForeground,this.buttonSecondaryBackground=l.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=l.buttonSecondaryHoverBackground,this.buttonBorder=l.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let l,u;this.options.secondary?(u=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",l=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(u=this.buttonForeground?this.buttonForeground.toString():"",l=this.buttonBackground?this.buttonBackground.toString():"");const v=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=u,this._element.style.backgroundColor=l,this._element.style.borderWidth=v?"1px":"",this._element.style.borderStyle=v?"solid":"",this._element.style.borderColor=v}}get element(){return this._element}set label(l){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,_t.mc)(this._element,...(0,Wi.T)(l)):this._element.textContent=l,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=l)}set enabled(l){l?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var ro=m(24061);m(38744);const Zh="infinite",Tu="infinite-long-running",Xr="discrete",Gh={progressBarBackground:Un.Il.fromHex("#0E70C0")};let Mg=(()=>{class w extends Ye.JT{constructor(u,v){super(),this.options=v||Object.create(null),(0,Zo.jB)(this.options,Gh,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new fn.pY(()=>(0,_t.$Z)(this.element),0)),this.longRunningScheduler=this._register(new fn.pY(()=>this.infiniteLongRunning(),w.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(u)}create(u){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),u.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active",Zh,Tu,Xr),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(u){return this.element.classList.add("done"),this.element.classList.contains(Zh)?(this.bit.style.opacity="0",u?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",u?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Xr,"done",Tu),this.element.classList.add("active",Zh),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Tu)}getContainer(){return this.element}style(u){this.progressBarBackground=u.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const u=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=u}}}return w.LONG_RUNNING_INFINITE_THRESHOLD=1e4,w})();var Ng=m(90546);m(51684);const Cd={},Qh=new Ng.R("quick-input-button-icon-");function Pu(w){if(!w)return;let l;const u=w.dark.toString();return Cd[u]?l=Cd[u]:(l=Qh.nextId(),_t.fk(`.${l}`,`background-image: ${_t.wY(w.light||w.dark)}`),_t.fk(`.vs-dark .${l}, .hc-black .${l}`,`background-image: ${_t.wY(w.dark)}`),Cd[u]=l),l}var ur=m(55552),Ig=m(39402);const Yh=_t.$;class Bp extends Ye.JT{constructor(l){super(),this.parent=l,this.onKeyDown=u=>_t.nm(this.inputBox.inputElement,_t.tw.KEY_DOWN,v=>{u(new Ls.y(v))}),this.onMouseDown=u=>_t.nm(this.inputBox.inputElement,_t.tw.MOUSE_DOWN,v=>{u(new _d.n(v))}),this.onDidChange=u=>this.inputBox.onDidChange(u),this.container=_t.R3(this.parent,Yh(".quick-input-box")),this.inputBox=this._register(new Ig.W(this.container,void 0))}get value(){return this.inputBox.value}set value(l){this.inputBox.value=l}select(l=null){this.inputBox.select(l)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(l){this.inputBox.setPlaceHolder(l)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(l){this.inputBox.setAriaLabel(l)}get password(){return"password"===this.inputBox.inputElement.type}set password(l){this.inputBox.inputElement.type=l?"password":"text"}setAttribute(l,u){this.inputBox.inputElement.setAttribute(l,u)}removeAttribute(l){this.inputBox.inputElement.removeAttribute(l)}showDecoration(l){l===as.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:l===as.Z.Info?1:l===as.Z.Warning?2:3,content:""})}stylesForType(l){return this.inputBox.stylesForType(l===as.Z.Info?1:l===as.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(l){this.inputBox.style(l)}}var kg=m(25601);m(97348);const Ou=_t.$;class Jh{constructor(l,u,v){this.os=u,this.keyElements=new Set,this.options=v||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=_t.R3(l,Ou(".monaco-keybinding")),this.didEverRender=!1,l.appendChild(this.domNode)}get element(){return this.domNode}set(l,u){this.didEverRender&&this.keybinding===l&&Jh.areSame(this.matches,u)||(this.keybinding=l,this.matches=u,this.render())}render(){if(this.clear(),this.keybinding){let[l,u]=this.keybinding.getParts();l&&this.renderPart(this.domNode,l,this.matches?this.matches.firstPart:null),u&&(_t.R3(this.domNode,Ou("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,u,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){_t.PO(this.domNode),this.keyElements.clear()}renderPart(l,u,v){const K=nl.xo.modifierLabels[this.os];u.ctrlKey&&this.renderKey(l,K.ctrlKey,Boolean(null==v?void 0:v.ctrlKey),K.separator),u.shiftKey&&this.renderKey(l,K.shiftKey,Boolean(null==v?void 0:v.shiftKey),K.separator),u.altKey&&this.renderKey(l,K.altKey,Boolean(null==v?void 0:v.altKey),K.separator),u.metaKey&&this.renderKey(l,K.metaKey,Boolean(null==v?void 0:v.metaKey),K.separator);const X=u.keyLabel;X&&this.renderKey(l,X,Boolean(null==v?void 0:v.keyCode),"")}renderKey(l,u,v,K){_t.R3(l,this.createKeyElement(u,v?".highlight":"")),K&&_t.R3(l,Ou("span.monaco-keybinding-key-separator",void 0,K))}renderUnbound(l){_t.R3(l,this.createKeyElement((0,Xn.N)("unbound","Unbound")))}createKeyElement(l,u=""){const v=Ou("span.monaco-keybinding-key"+u,void 0,l);return this.keyElements.add(v),v}style(l){this.labelBackground=l.keybindingLabelBackground,this.labelForeground=l.keybindingLabelForeground,this.labelBorder=l.keybindingLabelBorder,this.labelBottomBorder=l.keybindingLabelBottomBorder,this.labelShadow=l.keybindingLabelShadow,this.applyStyles()}applyStyles(){var l;if(this.element){for(const u of this.keyElements)this.labelBackground&&(u.style.backgroundColor=null===(l=this.labelBackground)||void 0===l?void 0:l.toString()),this.labelBorder&&(u.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(u.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(u.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(l,u){return l===u||!l&&!u||!!l&&!!u&&(0,Zo.fS)(l.firstPart,u.firstPart)&&(0,Zo.fS)(l.chordPart,u.chordPart)}}const Xs=new fn.Ue(()=>{const w=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:w,collatorIsNumeric:w.resolvedOptions().numeric}});new fn.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new fn.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var al=m(94456),js=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X};const Vr=_t.$;class Hp{constructor(l){this.hidden=!1,this._onChecked=new Y.Q5,this.onChecked=this._onChecked.event,Object.assign(this,l)}get checked(){return!!this._checked}set checked(l){l!==this._checked&&(this._checked=l,this._onChecked.fire(l))}dispose(){this._onChecked.dispose()}}let Xh=(()=>{class w{get templateId(){return w.ID}renderTemplate(u){const v=Object.create(null);v.toDisposeElement=[],v.toDisposeTemplate=[],v.entry=_t.R3(u,Vr(".quick-input-list-entry"));const K=_t.R3(v.entry,Vr("label.quick-input-list-label"));v.toDisposeTemplate.push(_t.mu(K,_t.tw.CLICK,Ke=>{v.checkbox.offsetParent||Ke.preventDefault()})),v.checkbox=_t.R3(K,Vr("input.quick-input-list-checkbox")),v.checkbox.type="checkbox",v.toDisposeTemplate.push(_t.mu(v.checkbox,_t.tw.CHANGE,Ke=>{v.element.checked=v.checkbox.checked}));const X=_t.R3(K,Vr(".quick-input-list-rows")),se=_t.R3(X,Vr(".quick-input-list-row")),pe=_t.R3(X,Vr(".quick-input-list-row"));v.label=new kg.g(se,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const Le=_t.R3(se,Vr(".quick-input-list-entry-keybinding"));v.keybinding=new Jh(Le,St.OS);const Be=_t.R3(pe,Vr(".quick-input-list-label-meta"));return v.detail=new kg.g(Be,{supportHighlights:!0,supportIcons:!0}),v.separator=_t.R3(v.entry,Vr(".quick-input-list-separator")),v.actionBar=new Wn.o(v.entry),v.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),v.toDisposeTemplate.push(v.actionBar),v}renderElement(u,v,K){K.toDisposeElement=(0,Ye.B9)(K.toDisposeElement),K.element=u,K.checkbox.checked=u.checked,K.toDisposeElement.push(u.onChecked(Ke=>K.checkbox.checked=Ke));const{labelHighlights:X,descriptionHighlights:se,detailHighlights:pe}=u,Le=Object.create(null);Le.matches=X||[],Le.descriptionTitle=u.saneDescription,Le.descriptionMatches=se||[],Le.extraClasses=u.item.iconClasses,Le.italic=u.item.italic,Le.strikethrough=u.item.strikethrough,K.label.setLabel(u.saneLabel,u.saneDescription,Le),K.keybinding.set(u.item.keybinding),u.saneDetail&&K.detail.setLabel(u.saneDetail,void 0,{matches:pe,title:u.saneDetail}),u.separator&&u.separator.label?(K.separator.textContent=u.separator.label,K.separator.style.display=""):K.separator.style.display="none",K.entry.classList.toggle("quick-input-list-separator-border",!!u.separator),K.actionBar.clear();const Be=u.item.buttons;Be&&Be.length?(K.actionBar.push(Be.map((Ke,ut)=>{let Jt=Ke.iconClass||(Ke.iconPath?Pu(Ke.iconPath):void 0);Ke.alwaysVisible&&(Jt=Jt?`${Jt} always-visible`:"always-visible");const gn=new kt.aU(`id-${ut}`,"",Jt,!0,()=>function(w,l,u,v){return new(u||(u=Promise))(function(X,se){function pe(Ke){try{Be(v.next(Ke))}catch(ut){se(ut)}}function Le(Ke){try{Be(v.throw(Ke))}catch(ut){se(ut)}}function Be(Ke){Ke.done?X(Ke.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(Ke.value).then(pe,Le)}Be((v=v.apply(w,l||[])).next())})}(this,void 0,void 0,function*(){u.fireButtonTriggered({button:Ke,item:u.item})}));return gn.tooltip=Ke.tooltip||"",gn}),{icon:!0,label:!1}),K.entry.classList.add("has-actions")):K.entry.classList.remove("has-actions")}disposeElement(u,v,K){K.toDisposeElement=(0,Ye.B9)(K.toDisposeElement)}disposeTemplate(u){u.toDisposeElement=(0,Ye.B9)(u.toDisposeElement),u.toDisposeTemplate=(0,Ye.B9)(u.toDisposeTemplate)}}return w.ID="listelement",w})();class zp{getHeight(l){return l.saneDetail?44:22}getTemplateId(l){return Xh.ID}}var Ao=(()=>(function(w){w[w.First=1]="First",w[w.Second=2]="Second",w[w.Last=3]="Last",w[w.Next=4]="Next",w[w.Previous=5]="Previous",w[w.NextPage=6]="NextPage",w[w.PreviousPage=7]="PreviousPage"}(Ao||(Ao={})),Ao))();class qh{constructor(l,u,v){this.parent=l,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Y.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Y.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Y.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Y.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Y.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Y.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Y.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=u,this.container=_t.R3(this.parent,Vr(".quick-input-list"));const K=new zp,X=new xc;this.list=v.createList("QuickInput",this.container,K,[new Xh],{identityProvider:{getId:se=>se.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:X}),this.list.getHTMLElement().id=u,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(se=>{const pe=new Ls.y(se);switch(pe.keyCode){case 10:this.toggleCheckbox();break;case 31:(St.dz?se.metaKey:se.ctrlKey)&&this.list.setFocus((0,oi.w6)(this.list.length));break;case 16:{const Le=this.list.getFocus();1===Le.length&&0===Le[0]&&this._onLeave.fire();break}case 18:{const Le=this.list.getFocus();1===Le.length&&Le[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(pe)})),this.disposables.push(this.list.onMouseDown(se=>{2!==se.browserEvent.button&&se.browserEvent.preventDefault()})),this.disposables.push(_t.nm(this.container,_t.tw.CLICK,se=>{(se.x||se.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(se=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(se=>{"number"==typeof se.index&&(se.browserEvent.preventDefault(),this.list.setSelection([se.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Y.ju.map(this.list.onDidChangeFocus,l=>l.elements.map(u=>u.item))}get onDidChangeSelection(){return Y.ju.map(this.list.onDidChangeSelection,l=>({items:l.elements.map(u=>u.item),event:l.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(l){this.list.scrollTop=l}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(l,u=!0){for(let v=0,K=l.length;v<K;v++){const X=l[v];if(!X.hidden){if(!X.checked)return!1;u=!0}}return u}getCheckedCount(){let l=0;const u=this.elements;for(let v=0,K=u.length;v<K;v++)u[v].checked&&l++;return l}getVisibleCount(){let l=0;const u=this.elements;for(let v=0,K=u.length;v<K;v++)u[v].hidden||l++;return l}setAllVisibleChecked(l){try{this._fireCheckedEvents=!1,this.elements.forEach(u=>{u.hidden||(u.checked=l)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(l){this.elementDisposables=(0,Ye.B9)(this.elementDisposables);const u=v=>this.fireButtonTriggered(v);this.inputElements=l,this.elements=l.reduce((v,K,X)=>{var se,pe,Le;if("separator"!==K.type){const Be=X&&l[X-1],Ke=K.label&&K.label.replace(/\r?\n/g," "),ut=K.meta&&K.meta.replace(/\r?\n/g," "),Jt=K.description&&K.description.replace(/\r?\n/g," "),gn=K.detail&&K.detail.replace(/\r?\n/g," "),Zn=K.ariaLabel||[Ke,Jt,gn].map(vi=>(0,Fo.JL)(vi)).filter(vi=>!!vi).join(", "),Hi=this.parent.classList.contains("show-checkboxes");v.push(new Hp({hasCheckbox:Hi,index:X,item:K,saneLabel:Ke,saneMeta:ut,saneAriaLabel:Zn,saneDescription:Jt,saneDetail:gn,labelHighlights:null===(se=K.highlights)||void 0===se?void 0:se.label,descriptionHighlights:null===(pe=K.highlights)||void 0===pe?void 0:pe.description,detailHighlights:null===(Le=K.highlights)||void 0===Le?void 0:Le.detail,checked:!1,separator:Be&&"separator"===Be.type?Be:void 0,fireButtonTriggered:u}))}return v},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(v=>v.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((v,K,X)=>(v.set(K.item,X),v),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(l=>l.item)}setFocusedElements(l){if(this.list.setFocus(l.filter(u=>this.elementsToIndexes.has(u)).map(u=>this.elementsToIndexes.get(u))),l.length>0){const u=this.list.getFocus()[0];"number"==typeof u&&this.list.reveal(u)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(l){this.list.setSelection(l.filter(u=>this.elementsToIndexes.has(u)).map(u=>this.elementsToIndexes.get(u)))}getCheckedElements(){return this.elements.filter(l=>l.checked).map(l=>l.item)}setCheckedElements(l){try{this._fireCheckedEvents=!1;const u=new Set;for(const v of l)u.add(v);for(const v of this.elements)v.checked=u.has(v.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(l){this.list.getHTMLElement().style.pointerEvents=l?"":"none"}focus(l){if(!this.list.length)return;switch(l===Ao.Next&&this.list.getFocus()[0]===this.list.length-1&&(l=Ao.First),l===Ao.Previous&&0===this.list.getFocus()[0]&&(l=Ao.Last),l===Ao.Second&&this.list.length<2&&(l=Ao.First),l){case Ao.First:this.list.focusFirst();break;case Ao.Second:this.list.focusNth(1);break;case Ao.Last:this.list.focusLast();break;case Ao.Next:this.list.focusNext();break;case Ao.Previous:this.list.focusPrevious();break;case Ao.NextPage:this.list.focusNextPage();break;case Ao.PreviousPage:this.list.focusPreviousPage()}const u=this.list.getFocus()[0];"number"==typeof u&&this.list.reveal(u)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(l){this.list.getHTMLElement().style.maxHeight=l?`calc(${44*Math.floor(l/44)}px)`:"",this.list.layout()}filter(l){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((l=l.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let v;this.elements.forEach(K=>{const X=this.matchOnLabel?(0,sn.f6)((0,Zi.Gt)(l,(0,Zi.Ho)(K.saneLabel))):void 0,se=this.matchOnDescription?(0,sn.f6)((0,Zi.Gt)(l,(0,Zi.Ho)(K.saneDescription||""))):void 0,pe=this.matchOnDetail?(0,sn.f6)((0,Zi.Gt)(l,(0,Zi.Ho)(K.saneDetail||""))):void 0,Le=this.matchOnMeta?(0,sn.f6)((0,Zi.Gt)(l,(0,Zi.Ho)(K.saneMeta||""))):void 0;if(X||se||pe||Le?(K.labelHighlights=X,K.descriptionHighlights=se,K.detailHighlights=pe,K.hidden=!1):(K.labelHighlights=void 0,K.descriptionHighlights=void 0,K.detailHighlights=void 0,K.hidden=!K.item.alwaysShow),K.separator=void 0,!this.sortByLabel){const Be=K.index&&this.inputElements[K.index-1];v=Be&&"separator"===Be.type?Be:v,v&&!K.hidden&&(K.separator=v,v=void 0)}})}else this.elements.forEach(v=>{v.labelHighlights=void 0,v.descriptionHighlights=void 0,v.detailHighlights=void 0,v.hidden=!1;const K=v.index&&this.inputElements[v.index-1];v.separator=K&&"separator"===K.type?K:void 0});const u=this.elements.filter(v=>!v.hidden);if(this.sortByLabel&&l){const v=l.toLowerCase();u.sort((K,X)=>function(w,l,u){const v=w.labelHighlights||[],K=l.labelHighlights||[];return v.length&&!K.length?-1:!v.length&&K.length?1:0===v.length&&0===K.length?0:function(w,l,u){const v=w.toLowerCase(),K=l.toLowerCase(),X=function(w,l,u){const v=w.toLowerCase(),K=l.toLowerCase(),X=v.startsWith(u),se=K.startsWith(u);if(X!==se)return X?-1:1;if(X&&se){if(v.length<K.length)return-1;if(v.length>K.length)return 1}return 0}(w,l,u);if(X)return X;const se=v.endsWith(u);if(se!==K.endsWith(u))return se?-1:1;const Le=function(w,l,u=!1){const v=w||"",K=l||"",X=Xs.value.collator.compare(v,K);return Xs.value.collatorIsNumeric&&0===X&&v!==K?v<K?-1:1:X}(v,K);return 0!==Le?Le:v.localeCompare(K)}(w.saneLabel,l.saneLabel,u)}(K,X,v))}return this.elementsToIndexes=u.reduce((v,K,X)=>(v.set(K.item,X),v),new Map),this.list.splice(0,this.list.length,u),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(u.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const l=this.list.getFocusedElements(),u=this.allVisibleChecked(l);for(const v of l)v.checked=!u}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(l){this.container.style.display=l?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,Ye.B9)(this.elementDisposables),this.disposables=(0,Ye.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(l){this._onButtonTriggered.fire(l)}style(l){this.list.style(l)}}js([al.H],qh.prototype,"onDidChangeFocus",null),js([al.H],qh.prototype,"onDidChangeSelection",null);class xc{getWidgetAriaLabel(){return(0,Xn.N)("quickInput","Quick Input")}getAriaLabel(l){return l.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(l){return l.hasCheckbox?"checkbox":"option"}isChecked(l){if(l.hasCheckbox)return{value:l.checked,onDidChange:l.onChecked}}}var Qn=function(w,l,u,v){return new(u||(u=Promise))(function(X,se){function pe(Ke){try{Be(v.next(Ke))}catch(ut){se(ut)}}function Le(Ke){try{Be(v.throw(Ke))}catch(ut){se(ut)}}function Be(Ke){Ke.done?X(Ke.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(Ke.value).then(pe,Le)}Be((v=v.apply(w,l||[])).next())})};const Rn=_t.$,Tg={iconClass:Fo.lA.quickInputBack.classNames,tooltip:(0,Xn.N)("quickInput.back","Back"),handle:-1};class Lc extends Ye.JT{constructor(l){super(),this.ui=l,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=Lc.noPromptMessage,this._severity=as.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Y.Q5),this.onDidHideEmitter=this._register(new Y.Q5),this.onDisposeEmitter=this._register(new Y.Q5),this.visibleDisposables=this._register(new Ye.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(l){this._title=l,this.update()}get description(){return this._description}set description(l){this._description=l,this.update()}get step(){return this._steps}set step(l){this._steps=l,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(l){this._totalSteps=l,this.update()}get enabled(){return this._enabled}set enabled(l){this._enabled=l,this.update()}get contextKey(){return this._contextKey}set contextKey(l){this._contextKey=l,this.update()}get busy(){return this._busy}set busy(l){this._busy=l,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(l){const u=this._ignoreFocusOut!==l&&!St.gn;this._ignoreFocusOut=l&&!St.gn,u&&this.update()}get buttons(){return this._buttons}set buttons(l){this._buttons=l,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(l){this._validationMessage=l,this.update()}get severity(){return this._severity}set severity(l){this._severity=l,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(l=>{-1!==this.buttons.indexOf(l)&&this.onDidTriggerButtonEmitter.fire(l)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(l=ur.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:l})}update(){if(!this.visible)return;const l=this.getTitle();l&&this.ui.title.textContent!==l?this.ui.title.textContent=l:!l&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const u=this.getDescription();if(this.ui.description1.textContent!==u&&(this.ui.description1.textContent=u),this.ui.description2.textContent!==u&&(this.ui.description2.textContent=u),this.busy&&!this.busyDelay&&(this.busyDelay=new fn._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const K=this.buttons.filter(se=>se===Tg);this.ui.leftActionBar.push(K.map((se,pe)=>{const Le=new kt.aU(`id-${pe}`,"",se.iconClass||Pu(se.iconPath),!0,()=>Qn(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(se)}));return Le.tooltip=se.tooltip||"",Le}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const X=this.buttons.filter(se=>se!==Tg);this.ui.rightActionBar.push(X.map((se,pe)=>{const Le=new kt.aU(`id-${pe}`,"",se.iconClass||Pu(se.iconPath),!0,()=>Qn(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(se)}));return Le.tooltip=se.tooltip||"",Le}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const v=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==v&&(this._lastValidationMessage=v,_t.mc(this.ui.message,...(0,Wi.T)(v))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,Xn.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(l){if(this.ui.inputBox.showDecoration(l),l!==as.Z.Ignore){const u=this.ui.inputBox.stylesForType(l);this.ui.message.style.color=u.foreground?`${u.foreground}`:"",this.ui.message.style.backgroundColor=u.background?`${u.background}`:"",this.ui.message.style.border=u.border?`1px solid ${u.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Lc.noPromptMessage=(0,Xn.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class bd extends Lc{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Y.Q5),this.onWillAcceptEmitter=this._register(new Y.Q5),this.onDidAcceptEmitter=this._register(new Y.Q5),this.onDidCustomEmitter=this._register(new Y.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?ur.jG.NONE:ur.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Y.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Y.Q5),this.onDidTriggerItemButtonEmitter=this._register(new Y.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=l=>l,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(l){this._quickNavigate=l,this.update()}get value(){return this._value}set value(l){this.doSetValue(l)}doSetValue(l,u){this._value!==l&&(this._value=l,u||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(l){this._ariaLabel=l,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(l){this._placeholder=l,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(l){this.ui.list.scrollTop=l}set items(l){this._items=l,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(l){this._canSelectMany=l,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(l){this._canAcceptInBackground=l}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(l){this._matchOnDescription=l,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(l){this._matchOnDetail=l,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(l){this._matchOnLabel=l,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(l){this._sortByLabel=l,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(l){this._autoFocusOnList=l,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(l){this._keepScrollPosition=l}get itemActivation(){return this._itemActivation}set itemActivation(l){this._itemActivation=l}get activeItems(){return this._activeItems}set activeItems(l){this._activeItems=l,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(l){this._selectedItems=l,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?ur.X5:this.ui.keyMods}set valueSelection(l){this._valueSelection=l,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(l){this._customButton=l,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(l){this._customButtonLabel=l,this.update()}get customHover(){return this._customButtonHover}set customHover(l){this._customButtonHover=l,this.update()}get ok(){return this._ok}set ok(l){this._ok=l,this.update()}get hideInput(){return!!this._hideInput}set hideInput(l){this._hideInput=l,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Ao.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(l=>{this.doSetValue(l,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(l=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(l=>{switch(l.keyCode){case 18:this.ui.list.focus(Ao.Next),this.canSelectMany&&this.ui.list.domFocus(),_t.zB.stop(l,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Ao.Previous):this.ui.list.focus(Ao.Last),this.canSelectMany&&this.ui.list.domFocus(),_t.zB.stop(l,!0);break;case 12:this.ui.list.focus(Ao.NextPage),this.canSelectMany&&this.ui.list.domFocus(),_t.zB.stop(l,!0);break;case 11:this.ui.list.focus(Ao.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),_t.zB.stop(l,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(l.ctrlKey||l.metaKey)&&!l.shiftKey&&!l.altKey&&(this.ui.list.focus(Ao.First),_t.zB.stop(l,!0));break;case 13:(l.ctrlKey||l.metaKey)&&!l.shiftKey&&!l.altKey&&(this.ui.list.focus(Ao.Last),_t.zB.stop(l,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(l=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,oi.fS)(l,this._activeItems,(u,v)=>u===v)||(this._activeItems=l,this.onDidChangeActiveEmitter.fire(l))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:l,event:u})=>{this.canSelectMany?l.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,oi.fS)(l,this._selectedItems,(v,K)=>v===K)||(this._selectedItems=l,this.onDidChangeSelectionEmitter.fire(l),l.length&&this.handleAccept(u instanceof MouseEvent&&1===u.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(l=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,oi.fS)(l,this._selectedItems,(u,v)=>u===v)||(this._selectedItems=l,this.onDidChangeSelectionEmitter.fire(l))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(l=>this.onDidTriggerItemButtonEmitter.fire(l))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(l){let u=!1;this.onWillAcceptEmitter.fire({veto:()=>u=!0}),u||this.onDidAcceptEmitter.fire({inBackground:l})}registerQuickNavigation(){return _t.nm(this.ui.container,_t.tw.KEY_UP,l=>{if(this.canSelectMany||!this._quickNavigate)return;const u=new Ls.y(l),v=u.keyCode;this._quickNavigate.keybindings.some(se=>{const[pe,Le]=se.getParts();return!(Le||(pe.shiftKey&&4===v?u.ctrlKey||u.altKey||u.metaKey:!(pe.altKey&&6===v||pe.ctrlKey&&5===v||pe.metaKey&&57===v)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const l=this.keepScrollPosition?this.scrollTop:0,u=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",u&&!this.description);const v={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!u,progressBar:!u,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(v),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const K=this.ariaLabel||this.placeholder||bd.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==K&&(this.ui.inputBox.ariaLabel=K),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case ur.jG.NONE:this._itemActivation=ur.jG.FIRST;break;case ur.jG.SECOND:this.ui.list.focus(Ao.Second),this._itemActivation=ur.jG.FIRST;break;case ur.jG.LAST:this.ui.list.focus(Ao.Last),this._itemActivation=ur.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),v.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Ao.First)),this.keepScrollPosition&&(this.scrollTop=l)}}bd.DEFAULT_ARIA_LABEL=(0,Xn.N)("quickInputBox.ariaLabel","Type to narrow down results.");let Up=(()=>{class w extends Ye.JT{constructor(u){super(),this.options=u,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Y.Q5),this.onDidCustomEmitter=this._register(new Y.Q5),this.onDidTriggerButtonEmitter=this._register(new Y.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Y.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Y.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=u.idPrefix,this.parentElement=u.container,this.styles=u.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const u=v=>{this.keyMods.ctrlCmd=v.ctrlKey||v.metaKey,this.keyMods.alt=v.altKey};this._register(_t.nm(window,_t.tw.KEY_DOWN,u,!0)),this._register(_t.nm(window,_t.tw.KEY_UP,u,!0)),this._register(_t.nm(window,_t.tw.MOUSE_DOWN,u,!0))}getUI(){if(this.ui)return this.ui;const u=_t.R3(this.parentElement,Rn(".quick-input-widget.show-file-icons"));u.tabIndex=-1,u.style.display="none";const v=_t.dS(u),K=_t.R3(u,Rn(".quick-input-titlebar")),X=this._register(new Wn.o(K));X.domNode.classList.add("quick-input-left-action-bar");const se=_t.R3(K,Rn(".quick-input-title")),pe=this._register(new Wn.o(K));pe.domNode.classList.add("quick-input-right-action-bar");const Le=_t.R3(u,Rn(".quick-input-description")),Be=_t.R3(u,Rn(".quick-input-header")),Ke=_t.R3(Be,Rn("input.quick-input-check-all"));Ke.type="checkbox",this._register(_t.mu(Ke,_t.tw.CHANGE,so=>{fr.setAllVisibleChecked(Ke.checked)})),this._register(_t.nm(Ke,_t.tw.CLICK,so=>{(so.x||so.y)&&Zn.setFocus()}));const ut=_t.R3(Be,Rn(".quick-input-description")),Jt=_t.R3(Be,Rn(".quick-input-and-message")),gn=_t.R3(Jt,Rn(".quick-input-filter")),Zn=this._register(new Bp(gn));Zn.setAttribute("aria-describedby",`${this.idPrefix}message`);const Hi=_t.R3(gn,Rn(".quick-input-visible-count"));Hi.setAttribute("aria-live","polite"),Hi.setAttribute("aria-atomic","true");const vi=new ro.Z(Hi,{countFormat:(0,Xn.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),po=_t.R3(gn,Rn(".quick-input-count"));po.setAttribute("aria-live","polite");const ho=new ro.Z(po,{countFormat:(0,Xn.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),zi=_t.R3(Be,Rn(".quick-input-action")),Xi=new Jr(zi);Xi.label=(0,Xn.N)("ok","OK"),this._register(Xi.onDidClick(so=>{this.onDidAcceptEmitter.fire()}));const Er=_t.R3(Be,Rn(".quick-input-action")),ia=new Jr(Er);ia.label=(0,Xn.N)("custom","Custom"),this._register(ia.onDidClick(so=>{this.onDidCustomEmitter.fire()}));const Xo=_t.R3(Jt,Rn(`#${this.idPrefix}message.quick-input-message`)),fr=this._register(new qh(u,this.idPrefix+"list",this.options));this._register(fr.onChangedAllVisibleChecked(so=>{Ke.checked=so})),this._register(fr.onChangedVisibleCount(so=>{vi.setCount(so)})),this._register(fr.onChangedCheckedCount(so=>{ho.setCount(so)})),this._register(fr.onLeave(()=>{setTimeout(()=>{Zn.setFocus(),this.controller instanceof bd&&this.controller.canSelectMany&&fr.clearFocus()},0)})),this._register(fr.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const vo=new Mg(u);vo.getContainer().classList.add("quick-input-progress");const os=_t.go(u);return this._register(os),this._register(_t.nm(u,_t.tw.FOCUS,so=>{this.previousFocusElement=so.relatedTarget instanceof HTMLElement?so.relatedTarget:void 0},!0)),this._register(os.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(ur.Jq.Blur),this.previousFocusElement=void 0})),this._register(_t.nm(u,_t.tw.FOCUS,so=>{Zn.setFocus()})),this._register(_t.nm(u,_t.tw.KEY_DOWN,so=>{const gr=new Ls.y(so);switch(gr.keyCode){case 3:_t.zB.stop(so,!0),this.onDidAcceptEmitter.fire();break;case 9:_t.zB.stop(so,!0),this.hide(ur.Jq.Gesture);break;case 2:if(!gr.altKey&&!gr.ctrlKey&&!gr.metaKey){const Xu=[".action-label.codicon"];u.classList.contains("show-checkboxes")?Xu.push("input"):Xu.push("input[type=text]"),this.getUI().list.isDisplayed()&&Xu.push(".monaco-list");const Pc=u.querySelectorAll(Xu.join(", "));gr.shiftKey&&gr.target===Pc[0]?(_t.zB.stop(so,!0),Pc[Pc.length-1].focus()):!gr.shiftKey&&gr.target===Pc[Pc.length-1]&&(_t.zB.stop(so,!0),Pc[0].focus())}}})),this.ui={container:u,styleSheet:v,leftActionBar:X,titleBar:K,title:se,description1:Le,description2:ut,rightActionBar:pe,checkAll:Ke,filterContainer:gn,inputBox:Zn,visibleCountContainer:Hi,visibleCount:vi,countContainer:po,count:ho,okContainer:zi,ok:Xi,message:Xo,customButtonContainer:Er,customButton:ia,list:fr,progressBar:vo,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:so=>this.show(so),hide:()=>this.hide(),setVisibilities:so=>this.setVisibilities(so),setComboboxAccessibility:so=>this.setComboboxAccessibility(so),setEnabled:so=>this.setEnabled(so),setContextKey:so=>this.options.setContextKey(so)},this.updateStyles(),this.ui}pick(u,v={},K=g.T.None){return new Promise((X,se)=>{let pe=ut=>{pe=X,v.onKeyMods&&v.onKeyMods(Le.keyMods),X(ut)};if(K.isCancellationRequested)return void pe(void 0);const Le=this.createQuickPick();let Be;const Ke=[Le,Le.onDidAccept(()=>{if(Le.canSelectMany)pe(Le.selectedItems.slice()),Le.hide();else{const ut=Le.activeItems[0];ut&&(pe(ut),Le.hide())}}),Le.onDidChangeActive(ut=>{const Jt=ut[0];Jt&&v.onDidFocus&&v.onDidFocus(Jt)}),Le.onDidChangeSelection(ut=>{if(!Le.canSelectMany){const Jt=ut[0];Jt&&(pe(Jt),Le.hide())}}),Le.onDidTriggerItemButton(ut=>v.onDidTriggerItemButton&&v.onDidTriggerItemButton(Object.assign(Object.assign({},ut),{removeItem:()=>{const Jt=Le.items.indexOf(ut.item);if(-1!==Jt){const gn=Le.items.slice(),Zn=gn.splice(Jt,1),Hi=Le.activeItems.filter(po=>po!==Zn[0]),vi=Le.keepScrollPosition;Le.keepScrollPosition=!0,Le.items=gn,Hi&&(Le.activeItems=Hi),Le.keepScrollPosition=vi}}}))),Le.onDidChangeValue(ut=>{Be&&!ut&&(1!==Le.activeItems.length||Le.activeItems[0]!==Be)&&(Le.activeItems=[Be])}),K.onCancellationRequested(()=>{Le.hide()}),Le.onDidHide(()=>{(0,Ye.B9)(Ke),pe(void 0)})];Le.title=v.title,Le.canSelectMany=!!v.canPickMany,Le.placeholder=v.placeHolder,Le.ignoreFocusOut=!!v.ignoreFocusLost,Le.matchOnDescription=!!v.matchOnDescription,Le.matchOnDetail=!!v.matchOnDetail,Le.matchOnLabel=void 0===v.matchOnLabel||v.matchOnLabel,Le.autoFocusOnList=void 0===v.autoFocusOnList||v.autoFocusOnList,Le.quickNavigate=v.quickNavigate,Le.contextKey=v.contextKey,Le.busy=!0,Promise.all([u,v.activeItem]).then(([ut,Jt])=>{Be=Jt,Le.busy=!1,Le.items=ut,Le.canSelectMany&&(Le.selectedItems=ut.filter(gn=>"separator"!==gn.type&&gn.picked)),Be&&(Le.activeItems=[Be])}),Le.show(),Promise.resolve(u).then(void 0,ut=>{se(ut),Le.hide()})})}createQuickPick(){const u=this.getUI();return new bd(u)}show(u){const v=this.getUI();this.onShowEmitter.fire();const K=this.controller;this.controller=u,K&&K.didHide(),this.setEnabled(!0),v.leftActionBar.clear(),v.title.textContent="",v.description1.textContent="",v.description2.textContent="",v.rightActionBar.clear(),v.checkAll.checked=!1,v.inputBox.placeholder="",v.inputBox.password=!1,v.inputBox.showDecoration(as.Z.Ignore),v.visibleCount.setCount(0),v.count.setCount(0),_t.mc(v.message),v.progressBar.stop(),v.list.setElements([]),v.list.matchOnDescription=!1,v.list.matchOnDetail=!1,v.list.matchOnLabel=!0,v.list.sortByLabel=!0,v.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),v.inputBox.ariaLabel="";const X=this.options.backKeybindingLabel();Tg.tooltip=X?(0,Xn.N)("quickInput.backWithKeybinding","Back ({0})",X):(0,Xn.N)("quickInput.back","Back"),v.container.style.display="",this.updateLayout(),v.inputBox.setFocus()}setVisibilities(u){const v=this.getUI();v.title.style.display=u.title?"":"none",v.description1.style.display=u.description&&(u.inputBox||u.checkAll)?"":"none",v.description2.style.display=!u.description||u.inputBox||u.checkAll?"none":"",v.checkAll.style.display=u.checkAll?"":"none",v.filterContainer.style.display=u.inputBox?"":"none",v.visibleCountContainer.style.display=u.visibleCount?"":"none",v.countContainer.style.display=u.count?"":"none",v.okContainer.style.display=u.ok?"":"none",v.customButtonContainer.style.display=u.customButton?"":"none",v.message.style.display=u.message?"":"none",v.progressBar.getContainer().style.display=u.progressBar?"":"none",v.list.display(!!u.list),v.container.classList[u.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(u){if(u!==this.comboboxAccessibility){const v=this.getUI();this.comboboxAccessibility=u,this.comboboxAccessibility?(v.inputBox.setAttribute("role","combobox"),v.inputBox.setAttribute("aria-haspopup","true"),v.inputBox.setAttribute("aria-autocomplete","list"),v.inputBox.setAttribute("aria-activedescendant",v.list.getActiveDescendant()||"")):(v.inputBox.removeAttribute("role"),v.inputBox.removeAttribute("aria-haspopup"),v.inputBox.removeAttribute("aria-autocomplete"),v.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(u){if(u!==this.enabled){this.enabled=u;for(const v of this.getUI().leftActionBar.viewItems)v.getAction().enabled=u;for(const v of this.getUI().rightActionBar.viewItems)v.getAction().enabled=u;this.getUI().checkAll.disabled=!u,this.getUI().ok.enabled=u,this.getUI().list.enabled=u}}hide(u){var v;const K=this.controller;if(K){const X=!(null===(v=this.ui)||void 0===v?void 0:v.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!X){let se=this.previousFocusElement;for(;se&&!se.offsetParent;)se=(0,sn.f6)(se.parentElement);(null==se?void 0:se.offsetParent)?(se.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}K.didHide(u)}}layout(u,v){this.dimension=u,this.titleBarOffset=v,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const u=this.ui.container.style,v=Math.min(.62*this.dimension.width,w.MAX_WIDTH);u.width=v+"px",u.marginLeft="-"+v/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(u){this.styles=u,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:u,quickInputBackground:v,quickInputForeground:K,contrastBorder:X,widgetShadow:se}=this.styles.widget;this.ui.titleBar.style.backgroundColor=u?u.toString():"",this.ui.container.style.backgroundColor=v?v.toString():"",this.ui.container.style.color=K?K.toString():"",this.ui.container.style.border=X?`1px solid ${X}`:"",this.ui.container.style.boxShadow=se?`0 0 8px 2px ${se}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const pe=[];this.styles.list.pickerGroupBorder&&pe.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&pe.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(pe.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&pe.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&pe.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&pe.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&pe.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&pe.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),pe.push("}"));const Le=pe.join("\n");Le!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=Le)}}}return w.MAX_WIDTH=600,w})();var Pl=m(68526),Dc=m(16811),Pg=m(76183),ef=m(43413),Og=function(w,l){return function(u,v){l(u,v,w)}};let nf=class extends Ye.JT{constructor(l,u){super(),this.quickInputService=l,this.instantiationService=u,this.registry=Na.B.as(Pg.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(l="",u){this.doShowOrPick(l,!1,u)}doShowOrPick(l,u,v){var K;const[X,se]=this.getOrInstantiateProvider(l),pe=this.visibleQuickAccess,Le=null==pe?void 0:pe.descriptor;if(pe&&se&&Le===se)return l!==se.prefix&&!(null==v?void 0:v.preserveValue)&&(pe.picker.value=l),void this.adjustValueSelection(pe.picker,se,v);if(se&&!(null==v?void 0:v.preserveValue)){let gn;if(pe&&Le&&Le!==se){const Zn=pe.value.substr(Le.prefix.length);Zn&&(gn=`${se.prefix}${Zn}`)}if(!gn){const Zn=null==X?void 0:X.defaultFilterValue;Zn===Pg.Ry.LAST?gn=this.lastAcceptedPickerValues.get(se):"string"==typeof Zn&&(gn=`${se.prefix}${Zn}`)}"string"==typeof gn&&(l=gn)}const Be=new Ye.SL,Ke=Be.add(this.quickInputService.createQuickPick());let ut;Ke.value=l,this.adjustValueSelection(Ke,se,v),Ke.placeholder=null==se?void 0:se.placeholder,Ke.quickNavigate=null==v?void 0:v.quickNavigateConfiguration,Ke.hideInput=!!Ke.quickNavigate&&!pe,("number"==typeof(null==v?void 0:v.itemActivation)||(null==v?void 0:v.quickNavigateConfiguration))&&(Ke.itemActivation=null!==(K=null==v?void 0:v.itemActivation)&&void 0!==K?K:ef.jG.SECOND),Ke.contextKey=null==se?void 0:se.contextKey,Ke.filterValue=gn=>gn.substring(se?se.prefix.length:0),(null==se?void 0:se.placeholder)&&(Ke.ariaLabel=null==se?void 0:se.placeholder),u&&(ut=new fn.CR,Be.add((0,Dc.I)(Ke.onWillAccept)(gn=>{gn.veto(),Ke.hide()}))),Be.add(this.registerPickerListeners(Ke,X,se,l));const Jt=Be.add(new g.A);return X&&Be.add(X.provide(Ke,Jt.token)),(0,Dc.I)(Ke.onDidHide)(()=>{0===Ke.selectedItems.length&&Jt.cancel(),Be.dispose(),null==ut||ut.complete(Ke.selectedItems.slice(0))}),Ke.show(),u?null==ut?void 0:ut.p:void 0}adjustValueSelection(l,u,v){var K;let X;X=(null==v?void 0:v.preserveValue)?[l.value.length,l.value.length]:[null!==(K=null==u?void 0:u.prefix.length)&&void 0!==K?K:0,l.value.length],l.valueSelection=X}registerPickerListeners(l,u,v,K){const X=new Ye.SL,se=this.visibleQuickAccess={picker:l,descriptor:v,value:K};return X.add((0,Ye.OF)(()=>{se===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),X.add(l.onDidChangeValue(pe=>{const[Le]=this.getOrInstantiateProvider(pe);Le!==u?this.show(pe,{preserveValue:!0}):se.value=pe})),v&&X.add(l.onDidAccept(()=>{this.lastAcceptedPickerValues.set(v,l.value)})),X}getOrInstantiateProvider(l){const u=this.registry.getQuickAccessProvider(l);if(!u)return[void 0,void 0];let v=this.mapProviderToDescriptor.get(u);return v||(v=this.instantiationService.createInstance(u.ctor),this.mapProviderToDescriptor.set(u,v)),[v,u]}};nf=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([Og(0,ef.eJ),Og(1,ts.TG)],nf);var Ol=function(w,l){return function(u,v){l(u,v,w)}};let Qo=class extends ci.bB{constructor(l,u,v,K,X){super(v),this.instantiationService=l,this.contextKeyService=u,this.accessibilityService=K,this.layoutService=X,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(nf))),this._quickAccess}createController(l=this.layoutService,u){var v,K;const X={idPrefix:"quickInput_",container:l.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:pe=>this.setContextKey(pe),returnFocus:()=>l.focus(),createList:(pe,Le,Be,Ke,ut)=>this.instantiationService.createInstance(Pl.ev,pe,Le,Be,Ke,ut),styles:this.computeStyles()},se=this._register(new Up(Object.assign(Object.assign({},X),u)));return se.layout(l.dimension,null!==(K=null===(v=l.offset)||void 0===v?void 0:v.top)&&void 0!==K?K:0),this._register(l.onDidLayout(pe=>{var Le,Be;return se.layout(pe,null!==(Be=null===(Le=l.offset)||void 0===Le?void 0:Le.top)&&void 0!==Be?Be:0)})),this._register(se.onShow(()=>this.resetContextKeys())),this._register(se.onHide(()=>this.resetContextKeys())),se}setContextKey(l){let u;l&&(u=this.contexts.get(l),u||(u=new Co.uy(l,!1).bindTo(this.contextKeyService),this.contexts.set(l,u))),(!u||!u.get())&&(this.resetContextKeys(),u&&u.set(!0))}resetContextKeys(){this.contexts.forEach(l=>{l.get()&&l.reset()})}pick(l,u={},v=g.T.None){return this.controller.pick(l,u,v)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,ye.o)(this.theme,{quickInputBackground:pn.zKr,quickInputForeground:pn.tZ6,quickInputTitleBackground:pn.loF,contrastBorder:pn.lRK,widgetShadow:pn.rh})),inputBox:(0,ye.o)(this.theme,{inputForeground:pn.zJb,inputBackground:pn.sEe,inputBorder:pn.dt_,inputValidationInfoBackground:pn._lC,inputValidationInfoForeground:pn.YI3,inputValidationInfoBorder:pn.EPQ,inputValidationWarningBackground:pn.RV_,inputValidationWarningForeground:pn.SUG,inputValidationWarningBorder:pn.C3g,inputValidationErrorBackground:pn.paE,inputValidationErrorForeground:pn._t9,inputValidationErrorBorder:pn.OZR}),countBadge:(0,ye.o)(this.theme,{badgeBackground:pn.g8u,badgeForeground:pn.qeD,badgeBorder:pn.lRK}),button:(0,ye.o)(this.theme,{buttonForeground:pn.j5u,buttonBackground:pn.b7$,buttonHoverBackground:pn.GO4,buttonBorder:pn.lRK}),progressBar:(0,ye.o)(this.theme,{progressBarBackground:pn.zRJ}),keybindingLabel:(0,ye.o)(this.theme,{keybindingLabelBackground:pn.oQ$,keybindingLabelForeground:pn.lWp,keybindingLabelBorder:pn.AWI,keybindingLabelBottomBorder:pn.K19,keybindingLabelShadow:pn.rh}),list:(0,ye.o)(this.theme,{listBackground:pn.zKr,listInactiveFocusForeground:pn.NPS,listInactiveSelectionIconForeground:pn.cbQ,listInactiveFocusBackground:pn.Vqd,listFocusOutline:pn.xL1,listInactiveFocusOutline:pn.xL1,pickerGroupBorder:pn.opG,pickerGroupForeground:pn.kJk})}}};Qo=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([Ol(0,ts.TG),Ol(1,Co.i6),Ol(2,ci.XE),Ol(3,$n.F),Ol(4,ar)],Qo);var Cs=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X},qr=function(w,l){return function(u,v){l(u,v,w)}};let Mo=class extends Qo{constructor(l,u,v,K,X,se){super(u,v,K,X,new Gr(l.getContainerDomNode(),se)),this.host=void 0;const pe=of.get(l);if(pe){const Le=pe.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return Le.getDomNode()},get dimension(){return l.getLayoutInfo()},get onDidLayout(){return l.onDidLayoutChange},focus:()=>l.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};Mo=Cs([qr(1,ts.TG),qr(2,Co.i6),qr(3,ci.XE),qr(4,$n.F),qr(5,Ie.$)],Mo);let vd=class{constructor(l,u){this.instantiationService=l,this.codeEditorService=u,this.mapEditorToService=new Map}get activeService(){const l=this.codeEditorService.getFocusedCodeEditor();if(!l)throw new Error("Quick input service needs a focused editor to work.");let u=this.mapEditorToService.get(l);if(!u){const v=u=this.instantiationService.createInstance(Mo,l);this.mapEditorToService.set(l,u),(0,Dc.I)(l.onDidDispose)(()=>{v.dispose(),this.mapEditorToService.delete(l)})}return u}get quickAccess(){return this.activeService.quickAccess}pick(l,u={},v=g.T.None){return this.activeService.pick(l,u,v)}createQuickPick(){return this.activeService.createQuickPick()}};vd=Cs([qr(0,ts.TG),qr(1,Ie.$)],vd);let of=(()=>{class w{constructor(u){this.editor=u,this.widget=new Ec(this.editor)}static get(u){return u.getContribution(w.ID)}dispose(){this.widget.dispose()}}return w.ID="editor.controller.quickInput",w})(),Ec=(()=>{class w{constructor(u){this.codeEditor=u,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return w.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return w.ID="editor.contrib.quickInputWidget",w})();(0,Ho._K)(of.ID,of);class Ag{constructor(l,u,v,K,X){this._parsedThemeRuleBrand=void 0,this.token=l,this.index=u,this.fontStyle=v,this.foreground=K,this.background=X}}const Kp=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class $p{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(l){if(null===l)return 0;const u=l.match(Kp);if(!u)throw new Error("Illegal value for token color: "+l);l=u[1].toUpperCase();let v=this._color2id.get(l);return v||(v=++this._lastColorId,this._color2id.set(l,v),this._id2color[v]=Un.Il.fromHex("#"+l),v)}getColorMap(){return this._id2color.slice(0)}}class Rg{constructor(l,u){this._colorMap=l,this._root=u,this._cache=new Map}static createFromRawTokenTheme(l,u){return this.createFromParsedTokenTheme(function(w){if(!w||!Array.isArray(w))return[];const l=[];let u=0;for(let v=0,K=w.length;v<K;v++){const X=w[v];let se=-1;if("string"==typeof X.fontStyle){se=0;const Be=X.fontStyle.split(" ");for(let Ke=0,ut=Be.length;Ke<ut;Ke++)switch(Be[Ke]){case"italic":se|=1;break;case"bold":se|=2;break;case"underline":se|=4;break;case"strikethrough":se|=8}}let pe=null;"string"==typeof X.foreground&&(pe=X.foreground);let Le=null;"string"==typeof X.background&&(Le=X.background),l[u++]=new Ag(X.token||"",v,se,pe,Le)}return l}(l),u)}static createFromParsedTokenTheme(l,u){return function(w,l){w.sort((Ke,ut)=>{const Jt=function(w,l){return w<l?-1:w>l?1:0}(Ke.token,ut.token);return 0!==Jt?Jt:Ke.index-ut.index});let u=0,v="000000",K="ffffff";for(;w.length>=1&&""===w[0].token;){const Ke=w.shift();-1!==Ke.fontStyle&&(u=Ke.fontStyle),null!==Ke.foreground&&(v=Ke.foreground),null!==Ke.background&&(K=Ke.background)}const X=new $p;for(let Ke of l)X.getId(Ke);const se=X.getId(v),pe=X.getId(K),Le=new Sd(u,se,pe),Be=new Fa(Le);for(let Ke=0,ut=w.length;Ke<ut;Ke++){const Jt=w[Ke];Be.insert(Jt.token,Jt.fontStyle,X.getId(Jt.foreground),X.getId(Jt.background))}return new Rg(X,Be)}(l,u)}getColorMap(){return this._colorMap.getColorMap()}_match(l){return this._root.match(l)}match(l,u){let v=this._cache.get(u);if(void 0===v){const K=this._match(u),X=function(w){const l=w.match(wd);if(!l)return 0;switch(l[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(u);v=(K.metadata|X<<8)>>>0,this._cache.set(u,v)}return(v|l<<0)>>>0}}const wd=/\b(comment|string|regex|regexp)\b/;class Sd{constructor(l,u,v){this._themeTrieElementRuleBrand=void 0,this._fontStyle=l,this._foreground=u,this._background=v,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new Sd(this._fontStyle,this._foreground,this._background)}acceptOverwrite(l,u,v){-1!==l&&(this._fontStyle=l),0!==u&&(this._foreground=u),0!==v&&(this._background=v),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}class Fa{constructor(l){this._themeTrieElementBrand=void 0,this._mainRule=l,this._children=new Map}match(l){if(""===l)return this._mainRule;const u=l.indexOf(".");let v,K;-1===u?(v=l,K=""):(v=l.substring(0,u),K=l.substring(u+1));const X=this._children.get(v);return void 0!==X?X.match(K):this._mainRule}insert(l,u,v,K){if(""===l)return void this._mainRule.acceptOverwrite(u,v,K);const X=l.indexOf(".");let se,pe;-1===X?(se=l,pe=""):(se=l.substring(0,X),pe=l.substring(X+1));let Le=this._children.get(se);void 0===Le&&(Le=new Fa(this._mainRule.clone()),this._children.set(se,Le)),Le.insert(pe,u,v,K)}}const Gp={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[pn.cvW]:"#FFFFFE",[pn.NOs]:"#000000",[pn.ES4]:"#E5EBF1",[Ln.tR]:"#D3D3D3",[Ln.Ym]:"#939393",[pn.Rzx]:"#ADD6FF4D"}},Rl={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[pn.cvW]:"#1E1E1E",[pn.NOs]:"#D4D4D4",[pn.ES4]:"#3A3D41",[Ln.tR]:"#404040",[Ln.Ym]:"#707070",[pn.Rzx]:"#ADD6FF26"}},sf={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[pn.cvW]:"#000000",[pn.NOs]:"#FFFFFF",[Ln.tR]:"#FFFFFF",[Ln.Ym]:"#FFFFFF"}};var rf=m(76804),Bg=m(80974);class Wg{getIcon(l){const u=(0,Bg.Ks)();let v=l.defaults;for(;ci.kS.isThemeIcon(v);){const K=u.getIcon(v.id);if(!K)return;v=K.defaults}return v}}const Fl="vs",xd="vs-dark",Bl="hc-black",Mc=Na.B.as(pn.IPX.ColorContribution),hs=Na.B.as(ci.IP.ThemingContribution);class Gi{constructor(l,u){this.semanticHighlighting=!1,this.themeData=u;const v=u.base;l.length>0?(this.id=Ld(l)?l:v+" "+l,this.themeName=l):(this.id=v,this.themeName=v),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const l=new Map;for(let u in this.themeData.colors)l.set(u,Un.Il.fromHex(this.themeData.colors[u]));if(this.themeData.inherit){const u=Dd(this.themeData.base);for(let v in u.colors)l.has(v)||l.set(v,Un.Il.fromHex(u.colors[v]))}this.colors=l}return this.colors}getColor(l,u){return this.getColors().get(l)||(!1!==u?this.getDefault(l):void 0)}getDefault(l){let u=this.defaultColors[l];return u||(u=Mc.resolveDefaultColor(l,this),this.defaultColors[l]=u,u)}defines(l){return Object.prototype.hasOwnProperty.call(this.getColors(),l)}get type(){switch(this.base){case Fl:return rf.e.LIGHT;case Bl:return rf.e.HIGH_CONTRAST;default:return rf.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let l=[],u=[];if(this.themeData.inherit){const X=Dd(this.themeData.base);l=X.rules,X.encodedTokensColors&&(u=X.encodedTokensColors)}const v=this.themeData.colors["editor.foreground"],K=this.themeData.colors["editor.background"];if(v||K){const X={token:""};v&&(X.foreground=v),K&&(X.background=K),l.push(X)}l=l.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(u=this.themeData.encodedTokensColors),this._tokenTheme=Rg.createFromRawTokenTheme(l,u)}return this._tokenTheme}getTokenStyleMetadata(l,u,v){const X=this.tokenTheme._match([l].concat(u).join(".")).metadata,se=k.NX.getForeground(X),pe=k.NX.getFontStyle(X);return{foreground:se,italic:Boolean(1&pe),bold:Boolean(2&pe),underline:Boolean(4&pe),strikethrough:Boolean(8&pe)}}}function Ld(w){return w===Fl||w===xd||w===Bl}function Dd(w){switch(w){case Fl:return Gp;case xd:return Rl;case Bl:return sf}}function Ru(w){const l=Dd(w);return new Gi(w,l)}var Ns=m(92094),Hr=function(w,l){return function(u,v){l(u,v,w)}};let af=class extends Ye.JT{constructor(l,u){super(),this._contextKeyService=l,this._configurationService=u,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Y.Q5,this._accessibilityModeEnabledContext=$n.U.bindTo(this._contextKeyService);const v=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(K=>{K.affectsConfiguration("editor.accessibilitySupport")&&(v(),this._onDidChangeScreenReaderOptimized.fire())})),v(),this.onDidChangeScreenReaderOptimized(()=>v())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const l=this._configurationService.getValue("editor.accessibilitySupport");return"on"===l||"auto"===l&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};af=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([Hr(0,Co.i6),Hr(1,us.Ui)],af);var xr=m(46842),lf=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X},Ed=function(w,l){return function(u,v){l(u,v,w)}};let Md=class{constructor(l){this._commandService=l}createMenu(l,u,v){return new Fu(l,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},v),this._commandService,u,this)}};Md=lf([Ed(0,ns.Hy)],Md);let Fu=class Fh{constructor(l,u,v,K,X){this._id=l,this._options=u,this._commandService=v,this._contextKeyService=K,this._menuService=X,this._disposables=new Ye.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const se=new fn.pY(()=>{this._build(),this._onDidChange.fire(this)},u.eventDebounceDelay);this._disposables.add(se),this._disposables.add(xr.BH.onDidChangeMenu(Be=>{Be.has(l)&&se.schedule()}));const pe=this._disposables.add(new Ye.SL);this._onDidChange=new Y.Q5({onFirstListenerAdd:()=>{const Be=new fn.pY(()=>this._onDidChange.fire(this),u.eventDebounceDelay);pe.add(Be),pe.add(K.onDidChangeContext(Ke=>{Ke.affectsSome(this._contextKeys)&&Be.schedule()}))},onLastListenerRemove:pe.clear.bind(pe)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const l=xr.BH.getMenuItems(this._id);let u;l.sort(Fh._compareMenuItems);for(const v of l){const K=v.group||"";(!u||u[0]!==K)&&(u=[K,[]],this._menuGroups.push(u)),u[1].push(v),this._collectContextKeys(v)}}_collectContextKeys(l){Fh._fillInKbExprKeys(l.when,this._contextKeys),(0,xr.vr)(l)?(l.command.precondition&&Fh._fillInKbExprKeys(l.command.precondition,this._contextKeys),l.command.toggled&&Fh._fillInKbExprKeys(l.command.toggled.condition||l.command.toggled,this._contextKeys)):this._options.emitEventsForSubmenuChanges&&xr.BH.getMenuItems(l.submenu).forEach(this._collectContextKeys,this)}getActions(l){const u=[];for(let v of this._menuGroups){const[K,X]=v,se=[];for(const pe of X)if(this._contextKeyService.contextMatchesRules(pe.when)){const Le=(0,xr.vr)(pe)?new xr.U8(pe.command,pe.alt,l,this._contextKeyService,this._commandService):new xr.NZ(pe,this._menuService,this._contextKeyService,l);se.push(Le)}se.length>0&&u.push([K,se])}return u}static _fillInKbExprKeys(l,u){if(l)for(let v of l.keys())u.add(v)}static _compareMenuItems(l,u){let v=l.group,K=u.group;if(v!==K){if(!v)return 1;if(!K)return-1;if("navigation"===v)return-1;if("navigation"===K)return 1;let pe=v.localeCompare(K);if(0!==pe)return pe}let X=l.order||0,se=u.order||0;return X<se?-1:X>se?1:Fh._compareTitles((0,xr.vr)(l)?l.command.title:l.title,(0,xr.vr)(u)?u.command.title:u.title)}static _compareTitles(l,u){return("string"==typeof l?l:l.original).localeCompare("string"==typeof u?u:u.original)}};Fu=lf([Ed(2,ns.Hy),Ed(3,Co.i6),Ed(4,xr.co)],Fu);var Hg=function(w,l){return function(u,v){l(u,v,w)}},Nd=function(w,l,u,v){return new(u||(u=Promise))(function(X,se){function pe(Ke){try{Be(v.next(Ke))}catch(ut){se(ut)}}function Le(Ke){try{Be(v.throw(Ke))}catch(ut){se(ut)}}function Be(Ke){Ke.done?X(Ke.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(Ke.value).then(pe,Le)}Be((v=v.apply(w,l||[])).next())})};let Id=class extends Ye.JT{constructor(l,u){super(),this.layoutService=l,this.logService=u,this.mapTextToType=new Map,this.findText="",(Tl.isSafari||Tl.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const l=()=>{const u=new fn.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=u,navigator.clipboard.write([new ClipboardItem({"text/plain":u.p})]).catch(v=>Nd(this,void 0,void 0,function*(){(!(v instanceof Error)||"NotAllowedError"!==v.name||!u.isRejected)&&this.logService.error(v)}))};this.layoutService.hasContainer&&(this._register((0,_t.nm)(this.layoutService.container,"click",l)),this._register((0,_t.nm)(this.layoutService.container,"keydown",l)))}writeText(l,u){return Nd(this,void 0,void 0,function*(){if(u)return void this.mapTextToType.set(u,l);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(l);try{return yield navigator.clipboard.writeText(l)}catch(X){console.error(X)}const v=document.activeElement,K=document.body.appendChild((0,_t.$)("textarea",{"aria-hidden":!0}));K.style.height="1px",K.style.width="1px",K.style.position="absolute",K.value=l,K.focus(),K.select(),document.execCommand("copy"),v instanceof HTMLElement&&v.focus(),document.body.removeChild(K)})}readText(l){return Nd(this,void 0,void 0,function*(){if(l)return this.mapTextToType.get(l)||"";try{return yield navigator.clipboard.readText()}catch(u){return console.error(u),""}})}readFindText(){return Nd(this,void 0,void 0,function*(){return this.findText})}writeFindText(l){return Nd(this,void 0,void 0,function*(){this.findText=l})}};Id=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([Hg(0,ar),Hg(1,_o.VZ)],Id);var cf=m(37323),zr=m(58151);const Wa="data-keybinding-context";class df{constructor(l,u){this._id=l,this._parent=u,this._value=Object.create(null),this._value._contextId=l}setValue(l,u){return this._value[l]!==u&&(this._value[l]=u,!0)}removeValue(l){return l in this._value&&(delete this._value[l],!0)}getValue(l){const u=this._value[l];return void 0===u&&this._parent?this._parent.getValue(l):u}}class ea extends df{constructor(){super(-1,null)}setValue(l,u){return!1}removeValue(l){return!1}getValue(l){}}ea.INSTANCE=new ea;let Qi=(()=>{class w extends df{constructor(u,v,K){super(u,null),this._configurationService=v,this._values=Ds.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(X=>{if(6===X.source){const se=Array.from(zr.$.map(this._values,([pe])=>pe));this._values.clear(),K.fire(new zg(se))}else{const se=[];for(const pe of X.affectedKeys){const Le=`config.${pe}`,Be=this._values.findSuperstr(Le);void 0!==Be&&(se.push(...zr.$.map(Be,([Ke])=>Ke)),this._values.deleteSuperstr(Le)),this._values.has(Le)&&(se.push(Le),this._values.delete(Le))}K.fire(new zg(se))}})}dispose(){this._listener.dispose()}getValue(u){if(0!==u.indexOf(w._keyPrefix))return super.getValue(u);if(this._values.has(u))return this._values.get(u);const v=u.substr(w._keyPrefix.length),K=this._configurationService.getValue(v);let X;switch(typeof K){case"number":case"boolean":case"string":X=K;break;default:X=Array.isArray(K)?JSON.stringify(K):K}return this._values.set(u,X),X}setValue(u,v){return super.setValue(u,v)}removeValue(u){return super.removeValue(u)}}return w._keyPrefix="config.",w})();class pa{constructor(l,u,v){this._service=l,this._key=u,this._defaultValue=v,this.reset()}set(l){this._service.setContext(this._key,l)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class uf{constructor(l){this.key=l}affectsSome(l){return l.has(this.key)}}class zg{constructor(l){this.keys=l}affectsSome(l){for(const u of this.keys)if(l.has(u))return!0;return!1}}class Ug{constructor(l){this.events=l}affectsSome(l){for(const u of this.events)if(u.affectsSome(l))return!0;return!1}}class Is{constructor(l){this._onDidChangeContext=new Y.K3({merge:u=>new Ug(u)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=l}createKey(l,u){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new pa(this,l,u)}bufferChangeEvents(l){this._onDidChangeContext.pause();try{l()}finally{this._onDidChangeContext.resume()}}createScoped(l){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new ff(this,l)}contextMatchesRules(l){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const u=this.getContextValuesContainer(this._myContextId);return!l||l.evaluate(u)}getContextKeyValue(l){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(l)}setContext(l,u){if(this._isDisposed)return;const v=this.getContextValuesContainer(this._myContextId);!v||v.setValue(l,u)&&this._onDidChangeContext.fire(new uf(l))}removeContext(l){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(l)&&this._onDidChangeContext.fire(new uf(l))}getContext(l){return this._isDisposed?ea.INSTANCE:this.getContextValuesContainer(function(w){for(;w;){if(w.hasAttribute(Wa)){const l=w.getAttribute(Wa);return l?parseInt(l,10):NaN}w=w.parentElement}return 0}(l))}}let hf=class extends Is{constructor(l){super(0),this._contexts=new Map,this._toDispose=new Ye.SL,this._lastContextId=0;const u=new Qi(this._myContextId,l,this._onDidChangeContext);this._contexts.set(this._myContextId,u),this._toDispose.add(u)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(l){return this._isDisposed?ea.INSTANCE:this._contexts.get(l)||ea.INSTANCE}createChildContext(l=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let u=++this._lastContextId;return this._contexts.set(u,new df(u,this.getContextValuesContainer(l))),u}disposeContext(l){this._isDisposed||this._contexts.delete(l)}};hf=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X}([function(w,l){return function(u,v){l(u,v,0)}}(0,us.Ui)],hf);class ff extends Is{constructor(l,u){if(super(l.createChildContext()),this._parentChangeListener=new Ye.XK,this._parent=l,this._updateParentChangeListener(),this._domNode=u,this._domNode.hasAttribute(Wa)){let v="";this._domNode.classList&&(v=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(v?": "+v:""))}this._domNode.setAttribute(Wa,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(Wa),this._isDisposed=!0)}getContextValuesContainer(l){return this._isDisposed?ea.INSTANCE:this._parent.getContextValuesContainer(l)}createChildContext(l=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(l)}disposeContext(l){this._isDisposed||this._parent.disposeContext(l)}}ns.P0.registerCommand(Co.Eq,function(w,l,u){w.get(Co.i6).createKey(String(l),u)}),ns.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...Co.uy.all()].sort((w,l)=>w.key.localeCompare(l.key)),description:{description:(0,Xn.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),ns.P0.registerCommand("_generateContextKeyInfo",function(){const w=[],l=new Set;for(let u of Co.uy.all())l.has(u.key)||(l.add(u.key),w.push(u));w.sort((u,v)=>u.key.localeCompare(v.key)),console.log(JSON.stringify(w,void 0,2))});var Va=m(24286);class Xp{constructor(l){this.incoming=new Map,this.outgoing=new Map,this.data=l}}class Vl{constructor(l){this._hashFn=l,this._nodes=new Map}roots(){const l=[];for(let u of this._nodes.values())0===u.outgoing.size&&l.push(u);return l}insertEdge(l,u){const v=this.lookupOrInsertNode(l),K=this.lookupOrInsertNode(u);v.outgoing.set(this._hashFn(u),K),K.incoming.set(this._hashFn(l),v)}removeNode(l){const u=this._hashFn(l);this._nodes.delete(u);for(let v of this._nodes.values())v.outgoing.delete(u),v.incoming.delete(u)}lookupOrInsertNode(l){const u=this._hashFn(l);let v=this._nodes.get(u);return v||(v=new Xp(l),this._nodes.set(u,v)),v}isEmpty(){return 0===this._nodes.size}toString(){let l=[];for(let[u,v]of this._nodes)l.push(`${u}, (incoming)[${[...v.incoming.keys()].join(", ")}], (outgoing)[${[...v.outgoing.keys()].join(",")}]`);return l.join("\n")}findCycleSlow(){for(let[l,u]of this._nodes){const v=new Set([l]),K=this._findCycle(u,v);if(K)return K}}_findCycle(l,u){for(let[v,K]of l.outgoing){if(u.has(v))return[...u,v].join(" -> ");u.add(v);const X=this._findCycle(K,u);if(X)return X;u.delete(v)}}}var jg=m(9771);class qp extends Error{constructor(l){var u;super("cyclic dependency between services"),this.message=null!==(u=l.findCycleSlow())&&void 0!==u?u:`UNABLE to detect cycle, dumping graph: \n${l.toString()}`}}class Lr{constructor(l=new jg.y,u=!1,v){this._activeInstantiations=new Set,this._services=l,this._strict=u,this._parent=v,this._services.set(ts.TG,this)}createChild(l){return new Lr(l,this._strict,this)}invokeFunction(l,...u){let v=hr.traceInvocation(l),K=!1;try{return l({get:se=>{if(K)throw(0,Et.L6)("service accessor is only valid during the invocation of its target method");const pe=this._getOrCreateServiceInstance(se,v);if(!pe)throw new Error(`[invokeFunction] unknown service '${se}'`);return pe}},...u)}finally{K=!0,v.stop()}}createInstance(l,...u){let v,K;return l instanceof Va.M?(v=hr.traceCreation(l.ctor),K=this._createInstance(l.ctor,l.staticArguments.concat(u),v)):(v=hr.traceCreation(l),K=this._createInstance(l,u,v)),v.stop(),K}_createInstance(l,u=[],v){let K=ts.I8.getServiceDependencies(l).sort((pe,Le)=>pe.index-Le.index),X=[];for(const pe of K){let Le=this._getOrCreateServiceInstance(pe.id,v);Le||this._throwIfStrict(`[createInstance] ${l.name} depends on UNKNOWN service ${pe.id}.`,!1),X.push(Le)}let se=K.length>0?K[0].index:u.length;if(u.length!==se){console.warn(`[createInstance] First service dependency of ${l.name} at position ${se+1} conflicts with ${u.length} static arguments`);let pe=se-u.length;u=pe>0?u.concat(new Array(pe)):u.slice(0,se)}return new l(...[...u,...X])}_setServiceInstance(l,u){if(this._services.get(l)instanceof Va.M)this._services.set(l,u);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(l,u)}}_getServiceInstanceOrDescriptor(l){let u=this._services.get(l);return!u&&this._parent?this._parent._getServiceInstanceOrDescriptor(l):u}_getOrCreateServiceInstance(l,u){let v=this._getServiceInstanceOrDescriptor(l);return v instanceof Va.M?this._safeCreateAndCacheServiceInstance(l,v,u.branch(l,!0)):(u.branch(l,!1),v)}_safeCreateAndCacheServiceInstance(l,u,v){if(this._activeInstantiations.has(l))throw new Error(`illegal state - RECURSIVELY instantiating service '${l}'`);this._activeInstantiations.add(l);try{return this._createAndCacheServiceInstance(l,u,v)}finally{this._activeInstantiations.delete(l)}}_createAndCacheServiceInstance(l,u,v){const K=new Vl(pe=>pe.id.toString());let X=0;const se=[{id:l,desc:u,_trace:v}];for(;se.length;){const pe=se.pop();if(K.lookupOrInsertNode(pe),X++>1e3)throw new qp(K);for(let Le of ts.I8.getServiceDependencies(pe.desc.ctor)){let Be=this._getServiceInstanceOrDescriptor(Le.id);if(Be||this._throwIfStrict(`[createInstance] ${l} depends on ${Le.id} which is NOT registered.`,!0),Be instanceof Va.M){const Ke={id:Le.id,desc:Be,_trace:pe._trace.branch(Le.id,!0)};K.insertEdge(pe,Ke),se.push(Ke)}}}for(;;){const pe=K.roots();if(0===pe.length){if(!K.isEmpty())throw new qp(K);break}for(const{data:Le}of pe){if(this._getServiceInstanceOrDescriptor(Le.id)instanceof Va.M){const Ke=this._createServiceInstanceWithOwner(Le.id,Le.desc.ctor,Le.desc.staticArguments,Le.desc.supportsDelayedInstantiation,Le._trace);this._setServiceInstance(Le.id,Ke)}K.removeNode(Le)}}return this._getServiceInstanceOrDescriptor(l)}_createServiceInstanceWithOwner(l,u,v=[],K,X){if(this._services.get(l)instanceof Va.M)return this._createServiceInstance(u,v,K,X);if(this._parent)return this._parent._createServiceInstanceWithOwner(l,u,v,K,X);throw new Error(`illegalState - creating UNKNOWN service instance ${u.name}`)}_createServiceInstance(l,u=[],v,K){if(v){const X=new fn.Ue(()=>this._createInstance(l,u,K));return new Proxy(Object.create(null),{get(se,pe){if(pe in se)return se[pe];let Le=X.value,Be=Le[pe];return"function"!=typeof Be||(Be=Be.bind(Le),se[pe]=Be),Be},set:(se,pe,Le)=>(X.value[pe]=Le,!0)})}return this._createInstance(l,u,K)}_throwIfStrict(l,u){if(u&&console.warn(u),this._strict)throw new Error(l)}}class hr{constructor(l,u){this.type=l,this.name=u,this._start=Date.now(),this._dep=[]}static traceInvocation(l){return hr._None}static traceCreation(l){return hr._None}branch(l,u){let v=new hr(2,l.toString());return this._dep.push([l,u,v]),v}stop(){let l=Date.now()-this._start;hr._totals+=l;let u=!1,K=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function v(X,se){let pe=[],Le=new Array(X+1).join("\t");for(const[Be,Ke,ut]of se._dep)if(Ke&&ut){u=!0,pe.push(`${Le}CREATES -> ${Be}`);let Jt=v(X+1,ut);Jt&&pe.push(Jt)}else pe.push(`${Le}uses -> ${Be}`);return pe.join("\n")}(1,this)}`,`DONE, took ${l.toFixed(2)}ms (grand total ${hr._totals.toFixed(2)}ms)`];(l>2||u)&&console.log(K.join("\n"))}}hr._None=new class extends hr{constructor(){super(-1,null)}stop(){}branch(){return this}},hr._totals=0;class e0{constructor(){this._byResource=new Ds.Y9,this._byOwner=new Map}set(l,u,v){let K=this._byResource.get(l);K||(K=new Map,this._byResource.set(l,K)),K.set(u,v);let X=this._byOwner.get(u);X||(X=new Ds.Y9,this._byOwner.set(u,X)),X.set(l,v)}get(l,u){let v=this._byResource.get(l);return null==v?void 0:v.get(u)}delete(l,u){let v=!1,K=!1,X=this._byResource.get(l);X&&(v=X.delete(u));let se=this._byOwner.get(u);if(se&&(K=se.delete(l)),v!==K)throw new Error("illegal state");return v&&K}values(l){var u,v,K,X;return"string"==typeof l?null!==(v=null===(u=this._byOwner.get(l))||void 0===u?void 0:u.values())&&void 0!==v?v:zr.$.empty():D.o.isUri(l)?null!==(X=null===(K=this._byResource.get(l))||void 0===K?void 0:K.values())&&void 0!==X?X:zr.$.empty():zr.$.map(zr.$.concat(...this._byOwner.values()),se=>se[1])}}class t0{constructor(l){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ds.Y9,this._service=l,this._subscription=l.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(l){for(const u of l){const v=this._data.get(u);v&&this._substract(v);const K=this._resourceStats(u);this._add(K),this._data.set(u,K)}}_resourceStats(l){const u={errors:0,warnings:0,infos:0,unknowns:0};if(l.scheme===Pi.lg.inMemory||l.scheme===Pi.lg.walkThrough||l.scheme===Pi.lg.walkThroughSnippet)return u;for(const{severity:v}of this._service.read({resource:l}))v===On.ZL.Error?u.errors+=1:v===On.ZL.Warning?u.warnings+=1:v===On.ZL.Info?u.infos+=1:u.unknowns+=1;return u}_substract(l){this.errors-=l.errors,this.warnings-=l.warnings,this.infos-=l.infos,this.unknowns-=l.unknowns}_add(l){this.errors+=l.errors,this.warnings+=l.warnings,this.infos+=l.infos,this.unknowns+=l.unknowns}}class ll{constructor(){this._onMarkerChanged=new Y.D0({delay:0,merge:ll._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new e0,this._stats=new t0(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(l,u){for(const v of u||[])this.changeOne(l,v,[])}changeOne(l,u,v){if((0,oi.XY)(v))this._data.delete(u,l)&&this._onMarkerChanged.fire([u]);else{const K=[];for(const X of v){const se=ll._toMarker(l,u,X);se&&K.push(se)}this._data.set(u,l,K),this._onMarkerChanged.fire([u])}}static _toMarker(l,u,v){let{code:K,severity:X,message:se,source:pe,startLineNumber:Le,startColumn:Be,endLineNumber:Ke,endColumn:ut,relatedInformation:Jt,tags:gn}=v;if(se)return Le=Le>0?Le:1,Be=Be>0?Be:1,Ke=Ke>=Le?Ke:Le,ut=ut>0?ut:Be,{resource:u,owner:l,code:K,severity:X,message:se,source:pe,startLineNumber:Le,startColumn:Be,endLineNumber:Ke,endColumn:ut,relatedInformation:Jt,tags:gn}}read(l=Object.create(null)){let{owner:u,resource:v,severities:K,take:X}=l;if((!X||X<0)&&(X=-1),u&&v){const se=this._data.get(v,u);if(se){const pe=[];for(const Le of se)if(ll._accept(Le,K)){const Be=pe.push(Le);if(X>0&&Be===X)break}return pe}return[]}if(u||v){const se=this._data.values(v??u),pe=[];for(const Le of se)for(const Be of Le)if(ll._accept(Be,K)){const Ke=pe.push(Be);if(X>0&&Ke===X)return pe}return pe}{const se=[];for(let pe of this._data.values())for(let Le of pe)if(ll._accept(Le,K)){const Be=se.push(Le);if(X>0&&Be===X)return se}return se}}static _accept(l,u){return void 0===u||(u&l.severity)===l.severity}static _merge(l){const u=new Ds.Y9;for(let v of l)for(let K of v)u.set(K,!0);return Array.from(u.keys())}}var Kg=m(58070);function $g(w,l,u,v,K){if(Array.isArray(w)){let X=0;for(const se of w){const pe=$g(se,l,u,v,K);if(10===pe)return pe;pe>X&&(X=pe)}return X}if("string"==typeof w)return v?"*"===w?5:w===u?10:0:0;if(w){const{language:X,pattern:se,scheme:pe,hasAccessToAllModels:Le,notebookType:Be}=w;if(!v&&!Le)return 0;let Ke=0;if(pe)if(pe===l.scheme)Ke=10;else{if("*"!==pe)return 0;Ke=5}if(X)if(X===u)Ke=10;else{if("*"!==X)return 0;Ke=Math.max(Ke,5)}if(Be)if(Be===K)Ke=10;else{if("*"!==Be)return 0;Ke=Math.max(Ke,5)}if(se){let ut;if(ut="string"==typeof se?se:Object.assign(Object.assign({},se),{base:(0,Js.Fv)(se.base)}),ut!==l.fsPath&&!function(w,l,u){return!(!w||"string"!=typeof l)&&pc(w)(l,void 0,void 0)}(ut,l.fsPath))return 0;Ke=10}return Ke}return 0}function Zg(w){return"string"!=typeof w&&(Array.isArray(w)?w.every(Zg):!!w.exclusive)}class Bo{constructor(l){this._notebookTypeResolver=l,this._clock=0,this._entries=[],this._onDidChange=new Y.Q5,this.onDidChange=this._onDidChange.event}register(l,u){let v={selector:l,provider:u,_score:-1,_time:this._clock++};return this._entries.push(v),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,Ye.OF)(()=>{if(v){const K=this._entries.indexOf(v);K>=0&&(this._entries.splice(K,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),v=void 0)}})}has(l){return this.all(l).length>0}all(l){if(!l)return[];this._updateScores(l);const u=[];for(let v of this._entries)v._score>0&&u.push(v.provider);return u}ordered(l){const u=[];return this._orderedForEach(l,v=>u.push(v.provider)),u}orderedGroups(l){const u=[];let v,K;return this._orderedForEach(l,X=>{v&&K===X._score?v.push(X.provider):(K=X._score,v=[X.provider],u.push(v))}),u}_orderedForEach(l,u){if(l){this._updateScores(l);for(const v of this._entries)v._score>0&&u(v)}}_updateScores(l){var u;const v=null===(u=this._notebookTypeResolver)||void 0===u?void 0:u.call(this,l.uri),K={uri:l.uri.toString(),language:l.getLanguageId(),notebookType:v};if(!this._lastCandidate||this._lastCandidate.language!==K.language||this._lastCandidate.uri!==K.uri||this._lastCandidate.notebookType!==K.notebookType){this._lastCandidate=K;for(let X of this._entries)if(X._score=$g(X.selector,l.uri,l.getLanguageId(),(0,mn.pt)(l),v),Zg(X.selector)&&X._score>0){for(let se of this._entries)se._score=0;X._score=1e3;break}this._entries.sort(Bo._compareByScoreAndTime)}}static _compareByScoreAndTime(l,u){return l._score<u._score?1:l._score>u._score?-1:l._time<u._time?1:l._time>u._time?-1:0}}(0,no.z)(Ei.p,class{constructor(){this.referenceProvider=new Bo(this._score.bind(this)),this.renameProvider=new Bo(this._score.bind(this)),this.codeActionProvider=new Bo(this._score.bind(this)),this.definitionProvider=new Bo(this._score.bind(this)),this.typeDefinitionProvider=new Bo(this._score.bind(this)),this.declarationProvider=new Bo(this._score.bind(this)),this.implementationProvider=new Bo(this._score.bind(this)),this.documentSymbolProvider=new Bo(this._score.bind(this)),this.inlayHintsProvider=new Bo(this._score.bind(this)),this.colorProvider=new Bo(this._score.bind(this)),this.codeLensProvider=new Bo(this._score.bind(this)),this.documentFormattingEditProvider=new Bo(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Bo(this._score.bind(this)),this.onTypeFormattingEditProvider=new Bo(this._score.bind(this)),this.signatureHelpProvider=new Bo(this._score.bind(this)),this.hoverProvider=new Bo(this._score.bind(this)),this.documentHighlightProvider=new Bo(this._score.bind(this)),this.selectionRangeProvider=new Bo(this._score.bind(this)),this.foldingRangeProvider=new Bo(this._score.bind(this)),this.linkProvider=new Bo(this._score.bind(this)),this.inlineCompletionsProvider=new Bo(this._score.bind(this)),this.completionProvider=new Bo(this._score.bind(this)),this.linkedEditingRangeProvider=new Bo(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Bo(this._score.bind(this)),this.documentSemanticTokensProvider=new Bo(this._score.bind(this))}_score(l){var u;return null===(u=this._notebookTypeResolver)||void 0===u?void 0:u.call(this,l)}},!0);var za=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X},ks=function(w,l){return function(u,v){l(u,v,w)}},Bu=function(w,l,u,v){return new(u||(u=Promise))(function(X,se){function pe(Ke){try{Be(v.next(Ke))}catch(ut){se(ut)}}function Le(Ke){try{Be(v.throw(Ke))}catch(ut){se(ut)}}function Be(Ke){Ke.done?X(Ke.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(Ke.value).then(pe,Le)}Be((v=v.apply(w,l||[])).next())})};class Ur{constructor(l){this.disposed=!1,this.model=l,this._onWillDispose=new Y.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Gg=class{constructor(l){this.modelService=l}createModelReference(l){const u=this.modelService.getModel(l);return u?Promise.resolve(new Ye.Jz(new Ur(u))):Promise.reject(new Error("Model not found"))}};Gg=za([ks(0,zt.q)],Gg);let ta=(()=>{class w{show(){return w.NULL_PROGRESS_RUNNER}showWhile(u,v){return Bu(this,void 0,void 0,function*(){yield u})}}return w.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},w})();class Nc{info(l){return this.notify({severity:as.Z.Info,message:l})}warn(l){return this.notify({severity:as.Z.Warning,message:l})}error(l){return this.notify({severity:as.Z.Error,message:l})}notify(l){switch(l.severity){case as.Z.Error:console.error(l.message);break;case as.Z.Warning:console.warn(l.message);break;default:console.log(l.message)}return Nc.NO_OP}status(l,u){return Ye.JT.None}}Nc.NO_OP=new Ar.EO;let Wu=class{constructor(l){this._onWillExecuteCommand=new Y.Q5,this._onDidExecuteCommand=new Y.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=l}executeCommand(l,...u){const v=ns.P0.getCommand(l);if(!v)return Promise.reject(new Error(`command '${l}' not found`));try{this._onWillExecuteCommand.fire({commandId:l,args:u});const K=this._instantiationService.invokeFunction.apply(this._instantiationService,[v.handler,...u]);return this._onDidExecuteCommand.fire({commandId:l,args:u}),Promise.resolve(K)}catch(K){return Promise.reject(K)}}};Wu=za([ks(0,ts.TG)],Wu);let Hl=class extends Vo{constructor(l,u,v,K,X,se){super(l,u,v,K,X),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const pe=gn=>{const Zn=new Ye.SL;Zn.add(_t.nm(gn,_t.tw.KEY_DOWN,Hi=>{const vi=new Ls.y(Hi);this._dispatch(vi,vi.target)&&(vi.preventDefault(),vi.stopPropagation())})),Zn.add(_t.nm(gn,_t.tw.KEY_UP,Hi=>{const vi=new Ls.y(Hi);this._singleModifierDispatch(vi,vi.target)&&vi.preventDefault()})),this._domNodeListeners.push(new Qg(gn,Zn))},Le=gn=>{for(let Zn=0;Zn<this._domNodeListeners.length;Zn++){const Hi=this._domNodeListeners[Zn];Hi.domNode===gn&&(this._domNodeListeners.splice(Zn,1),Hi.dispose())}},Be=gn=>{gn.getOption(54)||pe(gn.getContainerDomNode())};this._register(se.onCodeEditorAdd(Be)),this._register(se.onCodeEditorRemove(gn=>{gn.getOption(54)||Le(gn.getContainerDomNode())})),se.listCodeEditors().forEach(Be);const ut=gn=>{pe(gn.getContainerDomNode())};this._register(se.onDiffEditorAdd(ut)),this._register(se.onDiffEditorRemove(gn=>{Le(gn.getContainerDomNode())})),se.listDiffEditors().forEach(ut)}addDynamicKeybinding(l,u,v,K){const X=(0,Rr.gm)(u,St.OS),se=new Ye.SL;return X&&(this._dynamicKeybindings.push({keybinding:X.parts,command:l,when:K,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),se.add((0,Ye.OF)(()=>{for(let pe=0;pe<this._dynamicKeybindings.length;pe++)if(this._dynamicKeybindings[pe].command===l)return this._dynamicKeybindings.splice(pe,1),void this.updateResolver({source:1})}))),se.add(ns.P0.registerCommand(l,v)),this.updateResolver({source:1}),se}updateResolver(l){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(l)}_getResolver(){if(!this._cachedResolver){const l=this._toNormalizedKeybindingItems(Bh.W.getDefaultKeybindings(),!0),u=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new is(l,u,v=>this._log(v))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(l,u){const v=[];let K=0;for(const X of l){const se=X.when||void 0,pe=X.keybinding;if(pe){const Le=ka.resolveUserBinding(pe,St.OS);for(const Be of Le)v[K++]=new rd(Be,X.command,X.commandArgs,se,u,null,!1)}else v[K++]=new rd(void 0,X.command,X.commandArgs,se,u,null,!1)}return v}resolveKeyboardEvent(l){const u=new Rr.QC(l.ctrlKey,l.shiftKey,l.altKey,l.metaKey,l.keyCode).toChord();return new ka(u,St.OS)}};Hl=za([ks(0,Co.i6),ks(1,ns.Hy),ks(2,Pn.b),ks(3,Ar.lT),ks(4,_o.VZ),ks(5,Ie.$)],Hl);class Qg extends Ye.JT{constructor(l,u){super(),this.domNode=l,this._register(u)}}function Vu(w){return w&&"object"==typeof w&&(!w.overrideIdentifier||"string"==typeof w.overrideIdentifier)&&(!w.resource||w.resource instanceof D.o)}class kd{constructor(){this._onDidChangeConfiguration=new Y.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Ia(new uc,new Es)}getValue(l,u){const v="string"==typeof l?l:void 0,K=Vu(l)?l:Vu(u)?u:{};return this._configuration.getValue(v,K,void 0)}updateValues(l){const u={data:this._configuration.toData()},v=[];for(const K of l){const[X,se]=K;this.getValue(X)!==se&&(this._configuration.updateValue(X,se),v.push(X))}if(v.length>0){const K=new Oi({keys:v,overrides:[]},u,this._configuration);K.source=7,K.sourceConfig=null,this._onDidChangeConfiguration.fire(K)}return Promise.resolve()}updateValue(l,u,v,K){return this.updateValues([[l,u]])}inspect(l,u={}){return this._configuration.inspect(l,u,void 0)}}let zl=class{constructor(l){this.configurationService=l,this._onDidChangeConfiguration=new Y.Q5,this.configurationService.onDidChangeConfiguration(u=>{this._onDidChangeConfiguration.fire({affectedKeys:u.affectedKeys,affectsConfiguration:(v,K)=>u.affectsConfiguration(K)})})}getValue(l,u,v){const X=i.L.isIPosition(u)&&u?"string"==typeof v?v:void 0:"string"==typeof u?u:void 0;return void 0===X?this.configurationService.getValue():this.configurationService.getValue(X)}};zl=za([ks(0,us.Ui)],zl);let Yg=class{constructor(l){this.configurationService=l}getEOL(l,u){const v=this.configurationService.getValue("files.eol",{overrideIdentifier:u,resource:l});return v&&"string"==typeof v&&"auto"!==v?v:St.IJ||St.dz?"\n":"\r\n"}};Yg=za([ks(0,us.Ui)],Yg);let Yo=(()=>{class w{constructor(){const u=D.o.from({scheme:w.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new vu.md({uri:u,name:"",index:0})]}}getWorkspace(){return this.workspace}}return w.SCHEME="inmemory",w})();function Hu(w,l,u){if(!(l&&w instanceof kd))return;const v=[];Object.keys(l).forEach(K=>{(function(w){return tl()[`editor.${w}`]||!1})(K)&&v.push([`editor.${K}`,l[K]]),u&&function(w){return tl()[`diffEditor.${w}`]||!1}(K)&&v.push([`diffEditor.${K}`,l[K]])}),v.length>0&&w.updateValues(v)}let na=class{constructor(l){this._modelService=l}hasPreviewHandler(){return!1}apply(l,u){return Bu(this,void 0,void 0,function*(){const v=new Map;for(let se of l){if(!(se instanceof dc.Gl))throw new Error("bad edit - only text edits are supported");const pe=this._modelService.getModel(se.resource);if(!pe)throw new Error("bad edit - model not found");if("number"==typeof se.versionId&&pe.getVersionId()!==se.versionId)throw new Error("bad state - model changed in the meantime");let Le=v.get(pe);Le||(Le=[],v.set(pe,Le)),Le.push(wr.h.replaceMove(O.e.lift(se.textEdit.range),se.textEdit.text))}let K=0,X=0;for(const[se,pe]of v)se.pushStackElement(),se.pushEditOperations([],pe,()=>[]),se.pushStackElement(),X+=1,K+=pe.length;return{ariaSummary:nt.WU(ld.iN.bulkEditServiceSummary,K,X)}})}};na=za([ks(0,zt.q)],na);let _a=class extends cd{constructor(l,u){super(l),this._codeEditorService=u}showContextView(l,u,v){if(!u){const K=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();K&&(u=K.getContainerDomNode())}return super.showContextView(l,u,v)}};_a=za([ks(0,ar),ks(1,Ie.$)],_a);let pf=class extends qe{constructor(l,u,v,K,X){super(l,u,v,K,X),this.configure({blockMouse:!1})}};var fi;pf=za([ks(0,Pn.b),ks(1,Ar.lT),ks(2,El.u),ks(3,Go.d),ks(4,ci.XE)],pf),(0,no.z)(us.Ui,kd),(0,no.z)(co.V,zl),(0,no.z)(co.y,Yg),(0,no.z)(vu.ec,Yo),(0,no.z)(Dg.e,class{getUriLabel(l,u){return"file"===l.scheme?l.fsPath:l.path}}),(0,no.z)(Pn.b,class{publicLog(l,u){return Promise.resolve(void 0)}publicLog2(l,u){return this.publicLog(l,u)}}),(0,no.z)(ca.S,class{confirm(l){return this.doConfirm(l).then(u=>({confirmed:u,checkboxChecked:!1}))}doConfirm(l){let u=l.message;return l.detail&&(u=u+"\n\n"+l.detail),Promise.resolve(window.confirm(u))}show(l,u,v,K){return Promise.resolve({choice:0})}}),(0,no.z)(Ar.lT,Nc),(0,no.z)(On.lT,ll),(0,no.z)(Vt.O,class extends _s{constructor(){super()}}),(0,no.z)(Ns.Z,class extends Ye.JT{constructor(){super(),this._onColorThemeChange=this._register(new Y.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new Y.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new Wg,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Fl,Ru(Fl)),this._knownThemes.set(xd,Ru(xd)),this._knownThemes.set(Bl,Ru(Bl));const l=function(w){const l=new Y.Q5,u=(0,Bg.Ks)();return u.onDidChange(()=>l.fire()),null==w||w.onDidProductIconThemeChange(()=>l.fire()),{onDidChange:l.event,getCSS(){const v=w?w.getProductIconTheme():new Wg,K={},X=pe=>{const Le=v.getIcon(pe);if(!Le)return;const Be=Le.font;return Be?(K[Be.id]=Be.definition,`.codicon-${pe.id}:before { content: '${Le.fontCharacter}'; font-family: ${(0,_t._h)(Be.id)}; }`):`.codicon-${pe.id}:before { content: '${Le.fontCharacter}'; }`},se=[];for(let pe of u.getIcons()){const Le=X(pe);Le&&se.push(Le)}for(let pe in K){const Le=K[pe],Be=Le.weight?`font-weight: ${Le.weight};`:"",Ke=Le.style?`font-style: ${Le.style};`:"",ut=Le.src.map(Jt=>`${(0,_t.wY)(Jt.location)} format('${Jt.format}')`).join(", ");se.push(`@font-face { src: ${ut}; font-family: ${(0,_t._h)(pe)};${Be}${Ke} font-display: block; }`)}return se.join("\n")}}}(this);this._codiconCSS=l.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Fl),l.onDidChange(()=>{this._codiconCSS=l.getCSS(),this._updateCSS()}),_t.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(l){return _t.OO(l)?this._registerShadowDomContainer(l):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=_t.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Ye.JT.None}_registerShadowDomContainer(l){const u=_t.dS(l);return u.className="monaco-colors",u.textContent=this._allCSS,this._styleElements.push(u),{dispose:()=>{for(let v=0;v<this._styleElements.length;v++)if(this._styleElements[v]===u)return void this._styleElements.splice(v,1)}}}defineTheme(l,u){if(!/^[a-z0-9\-]+$/i.test(l))throw new Error("Illegal theme name!");if(!Ld(u.base)&&!Ld(l))throw new Error("Illegal theme base!");this._knownThemes.set(l,new Gi(l,u)),Ld(l)&&this._knownThemes.forEach(v=>{v.base===l&&v.notifyBaseUpdated()}),this._theme.themeName===l&&this.setTheme(l)}getColorTheme(){return this._theme}setColorMapOverride(l){this._colorMapOverride=l,this._updateThemeOrColorMap()}setTheme(l){let u;u=this._knownThemes.has(l)?this._knownThemes.get(l):this._knownThemes.get(Fl),this._desiredTheme=u,this._updateActualTheme()}_updateActualTheme(){const l=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(Bl):this._desiredTheme;this._theme!==l&&(this._theme=l,this._updateThemeOrColorMap())}setAutoDetectHighContrast(l){this._autoDetectHighContrast=l,this._updateActualTheme()}_updateThemeOrColorMap(){const l=[],u={},v={addRule:se=>{u[se]||(l.push(se),u[se]=!0)}};hs.getThemingParticipants().forEach(se=>se(this._theme,v,this._environment));const K=[];for(const se of Mc.getColors()){const pe=this._theme.getColor(se.id,!0);pe&&K.push(`${(0,pn.QO2)(se.id)}: ${pe.toString()};`)}v.addRule(`.monaco-editor { ${K.join("\n")} }`);const X=this._colorMapOverride||this._theme.tokenTheme.getColorMap();v.addRule(function(w){const l=[];for(let u=1,v=w.length;u<v;u++)l[u]=`.mtk${u} { color: ${w[u]}; }`;return l.push(".mtki { font-style: italic; }"),l.push(".mtkb { font-weight: bold; }"),l.push(".mtku { text-decoration: underline; text-underline-position: under; }"),l.push(".mtks { text-decoration: line-through; }"),l.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),l.join("\n")}(X)),this._themeCSS=l.join("\n"),this._updateCSS(),k.RW.setColorMap(X),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(l=>l.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}),(0,no.z)(_o.VZ,class extends _o.$V{constructor(){super(new _o.kw)}}),(0,no.z)(zt.q,io.b$),(0,no.z)(ti.i,bo),(0,no.z)(Co.i6,hf),(0,no.z)(uo.ek,ta),(0,no.z)(Kg.Uy,Kg.vm),(0,no.z)(di.p,Hs),(0,no.z)(dc.vu,na),(0,no.z)(Wh.Y,class{constructor(){this._neverEmitter=new Y.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,no.z)(gi.S,Gg),(0,no.z)($n.F,af),(0,no.z)(Pl.Lw,Pl.XN),(0,no.z)(ns.Hy,Wu),(0,no.z)(Go.d,Hl),(0,no.z)(ef.eJ,vd),(0,no.z)(El.u,_a),(0,no.z)(It.v4,Fn),(0,no.z)(cf.p,Id),(0,no.z)(El.i,pf),(0,no.z)(xr.co,Md),function(w){const l=new jg.y;for(const[se,pe]of(0,no.d)())l.set(se,pe);const u=new Lr(l,!0);l.set(ts.TG,u),w.get=function(se){const pe=l.get(se);if(!pe)throw new Error("Missing service "+se);return pe instanceof Va.M?u.invokeFunction(Le=>Le.get(se)):pe};let K=!1;w.initialize=function(se){if(K)return u;K=!0;for(const[pe,Le]of(0,no.d)())l.get(pe)||l.set(pe,Le);for(const pe in se)if(se.hasOwnProperty(pe)){const Le=(0,ts.yh)(pe);l.get(Le)instanceof Va.M&&l.set(Le,se[pe])}return u}}(fi||(fi={}));var _f=function(w,l,u,v){var se,K=arguments.length,X=K<3?l:null===v?v=Object.getOwnPropertyDescriptor(l,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,l,u,v);else for(var pe=w.length-1;pe>=0;pe--)(se=w[pe])&&(X=(K<3?se(X):K>3?se(l,u,X):se(l,u))||X);return K>3&&X&&Object.defineProperty(l,u,X),X},wo=function(w,l){return function(u,v){l(u,v,w)}};let zu=0,Xg=!1,cl=class extends Gt.Gm{constructor(l,u,v,K,X,se,pe,Le,Be,Ke,ut,Jt){const gn=Object.assign({},u);gn.ariaLabel=gn.ariaLabel||ld.B8.editorViewAccessibleLabel,gn.ariaLabel=gn.ariaLabel+";"+ld.B8.accessibilityHelpMessage,super(l,gn,{},v,K,X,se,Le,Be,Ke,ut,Jt),this._standaloneKeybindingService=pe instanceof Hl?pe:null,function(w){if(!w){if(Xg)return;Xg=!0}Wt.wW(w||document.body)}(gn.ariaContainerElement)}addCommand(l,u,v){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const K="DYNAMIC_"+ ++zu,X=Co.Ao.deserialize(v);return this._standaloneKeybindingService.addDynamicKeybinding(K,l,u,X),K}createContextKey(l,u){return this._contextKeyService.createKey(l,u)}addAction(l){if("string"!=typeof l.id||"string"!=typeof l.label||"function"!=typeof l.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Ye.JT.None;const u=l.id,v=l.label,K=Co.Ao.and(Co.Ao.equals("editorId",this.getId()),Co.Ao.deserialize(l.precondition)),X=l.keybindings,se=Co.Ao.and(K,Co.Ao.deserialize(l.keybindingContext)),pe=l.contextMenuGroupId||null,Le=l.contextMenuOrder||0,Be=(gn,...Zn)=>Promise.resolve(l.run(this,...Zn)),Ke=new Ye.SL,ut=this.getId()+":"+u;if(Ke.add(ns.P0.registerCommand(ut,Be)),pe&&Ke.add(xr.BH.appendMenuItem(xr.eH.EditorContext,{command:{id:ut,title:v},when:K,group:pe,order:Le})),Array.isArray(X))for(const gn of X)Ke.add(this._standaloneKeybindingService.addDynamicKeybinding(ut,gn,Be,se));const Jt=new qn.p(ut,v,v,K,Be,this._contextKeyService);return this._actions[u]=Jt,Ke.add((0,Ye.OF)(()=>{delete this._actions[u]})),Ke}_triggerCommand(l,u){if(this._codeEditorService instanceof vr)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(l,u)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(l,u)}};cl=_f([wo(2,ts.TG),wo(3,Ie.$),wo(4,ns.Hy),wo(5,Co.i6),wo(6,Go.d),wo(7,ci.XE),wo(8,Ar.lT),wo(9,$n.F),wo(10,pt.c_),wo(11,Ei.p)],cl);let qg=class extends cl{constructor(l,u,v,K,X,se,pe,Le,Be,Ke,ut,Jt,gn,Zn,Hi){const vi=Object.assign({},u);Hu(Ke,vi,!1);const po=Le.registerEditorContainer(l);"string"==typeof vi.theme&&Le.setTheme(vi.theme),void 0!==vi.autoDetectHighContrast&&Le.setAutoDetectHighContrast(Boolean(vi.autoDetectHighContrast));const ho=vi.model;let zi;if(delete vi.model,super(l,vi,v,K,X,se,pe,Le,Be,ut,Zn,Hi),this._configurationService=Ke,this._standaloneThemeService=Le,this._register(po),void 0===ho){const Xi=gn.getLanguageIdByMimeType(vi.language)||vi.language||$t.bd;zi=em(Jt,gn,vi.value||"",Xi,void 0),this._ownsModel=!0}else zi=ho,this._ownsModel=!1;this._attachModel(zi),zi&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:zi.uri})}dispose(){super.dispose()}updateOptions(l){Hu(this._configurationService,l,!1),"string"==typeof l.theme&&this._standaloneThemeService.setTheme(l.theme),void 0!==l.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(l.autoDetectHighContrast)),super.updateOptions(l)}_postDetachModelCleanup(l){super._postDetachModelCleanup(l),l&&this._ownsModel&&(l.dispose(),this._ownsModel=!1)}};qg=_f([wo(2,ts.TG),wo(3,Ie.$),wo(4,ns.Hy),wo(5,Co.i6),wo(6,Go.d),wo(7,Ns.Z),wo(8,Ar.lT),wo(9,us.Ui),wo(10,$n.F),wo(11,zt.q),wo(12,Vt.O),wo(13,pt.c_),wo(14,Ei.p)],qg);let Cf=class extends Nn.p{constructor(l,u,v,K,X,se,pe,Le,Be,Ke,ut,Jt){const gn=Object.assign({},u);Hu(Be,gn,!0);const Zn=pe.registerEditorContainer(l);"string"==typeof gn.theme&&pe.setTheme(gn.theme),void 0!==gn.autoDetectHighContrast&&pe.setAutoDetectHighContrast(Boolean(gn.autoDetectHighContrast)),super(l,gn,{},Jt,X,K,v,se,pe,Le,Ke,ut),this._configurationService=Be,this._standaloneThemeService=pe,this._register(Zn)}dispose(){super.dispose()}updateOptions(l){Hu(this._configurationService,l,!0),"string"==typeof l.theme&&this._standaloneThemeService.setTheme(l.theme),void 0!==l.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(l.autoDetectHighContrast)),super.updateOptions(l)}_createInnerEditor(l,u,v){return l.createInstance(cl,u,v)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(l,u,v){return this.getModifiedEditor().addCommand(l,u,v)}createContextKey(l,u){return this.getModifiedEditor().createContextKey(l,u)}addAction(l){return this.getModifiedEditor().addAction(l)}};function em(w,l,u,v,K){if(u=u||"",!v){const X=u.indexOf("\n");let se=u;return-1!==X&&(se=u.substring(0,X)),bf(w,u,l.createByFilepathOrFirstLine(K||null,se),K)}return bf(w,u,l.createById(v),K)}function bf(w,l,u,v){return w.createModel(l,u,v)}function Sf(w,l){return"boolean"==typeof w?w:l}function f0(w,l){return"string"==typeof w?w:l}function ju(w,l=!1){l&&(w=w.map(function(v){return v.toLowerCase()}));const u=function(w){const l={};for(const u of w)l[u]=!0;return l}(w);return l?function(v){return void 0!==u[v.toLowerCase()]&&u.hasOwnProperty(v.toLowerCase())}:function(v){return void 0!==u[v]&&u.hasOwnProperty(v)}}function am(w,l){l=l.replace(/@@/g,"\x01");let v,u=0;do{v=!1,l=l.replace(/@(\w+)/g,function(X,se){v=!0;let pe="";if("string"==typeof w[se])pe=w[se];else{if(!(w[se]&&w[se]instanceof RegExp))throw Ki(w,void 0===w[se]?"language definition does not contain attribute '"+se+"', used at: "+l:"attribute reference '"+se+"' must be a string, used at: "+l);pe=w[se].source}return Wo(pe)?"":"(?:"+pe+")"}),u++}while(v&&u<5);return l=l.replace(/\x01/g,"@"),new RegExp(l,(w.ignoreCase?"i":"")+(w.unicode?"u":""))}function V1(w,l,u,v){let K=-1,X=u,se=u.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);se&&(se[3]&&(K=parseInt(se[3]),se[2]&&(K+=100)),X=se[4]);let Be,pe="~",Le=X;if(X&&0!==X.length?/^\w*$/.test(Le)?pe="==":(se=X.match(/^(@|!@|~|!~|==|!=)(.*)$/),se&&(pe=se[1],Le=se[2])):(pe="!=",Le=""),"~"!==pe&&"!~"!==pe||!/^(\w|\|)*$/.test(Le))if("@"===pe||"!@"===pe){const Ke=w[Le];if(!Ke)throw Ki(w,"the @ match target '"+Le+"' is not defined, in rule: "+l);if(!function(w,l){if(!l||!Array.isArray(l))return!1;for(const u of l)if("string"!=typeof u)return!1;return!0}(0,Ke))throw Ki(w,"the @ match target '"+Le+"' must be an array of strings, in rule: "+l);const ut=ju(Ke,w.ignoreCase);Be=function(Jt){return"@"===pe?ut(Jt):!ut(Jt)}}else if("~"===pe||"!~"===pe)if(Le.indexOf("$")<0){const Ke=am(w,"^"+Le+"$");Be=function(ut){return"~"===pe?Ke.test(ut):!Ke.test(ut)}}else Be=function(Ke,ut,Jt,gn){return am(w,"^"+Do(w,Le,ut,Jt,gn)+"$").test(Ke)};else if(Le.indexOf("$")<0){const Ke=xs(w,Le);Be=function(ut){return"=="===pe?ut===Ke:ut!==Ke}}else{const Ke=xs(w,Le);Be=function(ut,Jt,gn,Zn,Hi){const vi=Do(w,Ke,Jt,gn,Zn);return"=="===pe?ut===vi:ut!==vi}}else{const Ke=ju(Le.split("|"),w.ignoreCase);Be=function(ut){return"~"===pe?Ke(ut):!Ke(ut)}}return-1===K?{name:u,value:v,test:function(Ke,ut,Jt,gn){return Be(Ke,Ke,ut,Jt,gn)}}:{name:u,value:v,test:function(Ke,ut,Jt,gn){const Zn=function(w,l,u,v){if(v<0)return w;if(v<l.length)return l[v];if(v>=100){v-=100;const K=u.split(".");if(K.unshift(u),v<K.length)return K[v]}return null}(Ke,ut,Jt,K);return Be(Zn||"",Ke,ut,Jt,gn)}}}function lm(w,l,u){if(u){if("string"==typeof u)return u;if(u.token||""===u.token){if("string"!=typeof u.token)throw Ki(w,"a 'token' attribute must be of type string, in rule: "+l);{const v={token:u.token};if(u.token.indexOf("$")>=0&&(v.tokenSubst=!0),"string"==typeof u.bracket)if("@open"===u.bracket)v.bracket=1;else{if("@close"!==u.bracket)throw Ki(w,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+l);v.bracket=-1}if(u.next){if("string"!=typeof u.next)throw Ki(w,"the next state must be a string value in rule: "+l);{let K=u.next;if(!/^(@pop|@push|@popall)$/.test(K)&&("@"===K[0]&&(K=K.substr(1)),K.indexOf("$")<0&&!function(w,l){let u=l;for(;u&&u.length>0;){if(w.stateNames[u])return!0;const K=u.lastIndexOf(".");u=K<0?null:u.substr(0,K)}return!1}(w,Do(w,K,"",[],""))))throw Ki(w,"the next state '"+u.next+"' is not defined in rule: "+l);v.next=K}}return"number"==typeof u.goBack&&(v.goBack=u.goBack),"string"==typeof u.switchTo&&(v.switchTo=u.switchTo),"string"==typeof u.log&&(v.log=u.log),"string"==typeof u.nextEmbedded&&(v.nextEmbedded=u.nextEmbedded,w.usesEmbedded=!0),v}}if(Array.isArray(u)){const v=[];for(let K=0,X=u.length;K<X;K++)v[K]=lm(w,l,u[K]);return{group:v}}if(u.cases){const v=[];for(let X in u.cases)if(u.cases.hasOwnProperty(X)){const se=lm(w,l,u.cases[X]);v.push("@default"===X||"@"===X||""===X?{test:void 0,value:se,name:X}:"@eos"===X?{test:function(pe,Le,Be,Ke){return Ke},value:se,name:X}:V1(w,l,X,se))}const K=w.defaultToken;return{test:function(X,se,pe,Le){for(const Be of v)if(!Be.test||Be.test(X,se,pe,Le))return Be.value;return K}}}throw Ki(w,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+l)}return{token:""}}Cf=_f([wo(2,ts.TG),wo(3,Co.i6),wo(4,di.p),wo(5,Ie.$),wo(6,Ns.Z),wo(7,Ar.lT),wo(8,us.Ui),wo(9,El.i),wo(10,uo.ek),wo(11,cf.p)],Cf);class Od{constructor(l){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=l}setRegex(l,u){let v;if("string"==typeof u)v=u;else{if(!(u instanceof RegExp))throw Ki(l,"rules must start with a match string or regular expression: "+this.name);v=u.source}this.matchOnlyAtLineStart=v.length>0&&"^"===v[0],this.name=this.name+": "+v,this.regex=am(l,"^(?:"+(this.matchOnlyAtLineStart?v.substr(1):v)+")")}setAction(l,u){this.action=lm(l,this.name,u)}}function eo(w,l){if(!l||"object"!=typeof l)throw new Error("Monarch: expecting a language definition object");const u={};u.languageId=w,u.includeLF=Sf(l.includeLF,!1),u.noThrow=!1,u.maxStack=100,u.start="string"==typeof l.start?l.start:null,u.ignoreCase=Sf(l.ignoreCase,!1),u.unicode=Sf(l.unicode,!1),u.tokenPostfix=f0(l.tokenPostfix,"."+u.languageId),u.defaultToken=f0(l.defaultToken,"source"),u.usesEmbedded=!1;const v=l;function K(se,pe,Le){for(const Be of Le){let Ke=Be.include;if(Ke){if("string"!=typeof Ke)throw Ki(u,"an 'include' attribute must be a string at: "+se);if("@"===Ke[0]&&(Ke=Ke.substr(1)),!l.tokenizer[Ke])throw Ki(u,"include target '"+Ke+"' is not defined at: "+se);K(se+"."+Ke,pe,l.tokenizer[Ke])}else{const ut=new Od(se);if(Array.isArray(Be)&&Be.length>=1&&Be.length<=3)if(ut.setRegex(v,Be[0]),Be.length>=3)if("string"==typeof Be[1])ut.setAction(v,{token:Be[1],next:Be[2]});else{if("object"!=typeof Be[1])throw Ki(u,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+se);{const Jt=Be[1];Jt.next=Be[2],ut.setAction(v,Jt)}}else ut.setAction(v,Be[1]);else{if(!Be.regex)throw Ki(u,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+se);Be.name&&"string"==typeof Be.name&&(ut.name=Be.name),Be.matchOnlyAtStart&&(ut.matchOnlyAtLineStart=Sf(Be.matchOnlyAtLineStart,!1)),ut.setRegex(v,Be.regex),ut.setAction(v,Be.action)}pe.push(ut)}}}if(v.languageId=w,v.includeLF=u.includeLF,v.ignoreCase=u.ignoreCase,v.unicode=u.unicode,v.noThrow=u.noThrow,v.usesEmbedded=u.usesEmbedded,v.stateNames=l.tokenizer,v.defaultToken=u.defaultToken,!l.tokenizer||"object"!=typeof l.tokenizer)throw Ki(u,"a language definition must define the 'tokenizer' attribute as an object");u.tokenizer=[];for(let se in l.tokenizer)if(l.tokenizer.hasOwnProperty(se)){u.start||(u.start=se);const pe=l.tokenizer[se];u.tokenizer[se]=new Array,K("tokenizer."+se,u.tokenizer[se],pe)}if(u.usesEmbedded=v.usesEmbedded,l.brackets){if(!Array.isArray(l.brackets))throw Ki(u,"the 'brackets' attribute must be defined as an array")}else l.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const X=[];for(let se of l.brackets){let pe=se;if(pe&&Array.isArray(pe)&&3===pe.length&&(pe={token:pe[2],open:pe[0],close:pe[1]}),pe.open===pe.close)throw Ki(u,"open and close brackets in a 'brackets' attribute must be different: "+pe.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof pe.open||"string"!=typeof pe.token||"string"!=typeof pe.close)throw Ki(u,"every element in the 'brackets' array must be a '{open,close,token}' object or array");X.push({token:pe.token+u.tokenPostfix,open:xs(u,pe.open),close:xs(u,pe.close)})}return u.brackets=X,u.noThrow=!0,u}class qs{constructor(l,u){this._languageId=l,this._actual=u}getInitialState(){return this._actual.getInitialState()}tokenize(l,u,v){if("function"==typeof this._actual.tokenize)return jl.adaptTokenize(this._languageId,this._actual,l,v);throw new Error("Not supported!")}tokenizeEncoded(l,u,v){const K=this._actual.tokenizeEncoded(l,v);return new k.DI(K.tokens,K.endState)}}class jl{constructor(l,u,v,K){this._languageId=l,this._actual=u,this._languageService=v,this._standaloneThemeService=K}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(l,u){const v=[];let K=0;for(let X=0,se=l.length;X<se;X++){const pe=l[X];let Le=pe.startIndex;0===X?Le=0:Le<K&&(Le=K),v[X]=new k.WU(Le,pe.scopes,u),K=Le}return v}static adaptTokenize(l,u,v,K){const X=u.tokenize(v,K),se=jl._toClassicTokens(X.tokens,l);let pe;return pe=X.endState.equals(K)?K:X.endState,new k.hG(se,pe)}tokenize(l,u,v){return jl.adaptTokenize(this._languageId,this._actual,l,v)}_toBinaryTokens(l,u){const v=l.encodeLanguageId(this._languageId),K=this._standaloneThemeService.getColorTheme().tokenTheme,X=[];let se=0,pe=0;for(let Be=0,Ke=u.length;Be<Ke;Be++){const ut=u[Be],Jt=K.match(v,ut.scopes);if(se>0&&X[se-1]===Jt)continue;let gn=ut.startIndex;0===Be?gn=0:gn<pe&&(gn=pe),X[se++]=gn,X[se++]=Jt,pe=gn}const Le=new Uint32Array(se);for(let Be=0;Be<se;Be++)Le[Be]=X[Be];return Le}tokenizeEncoded(l,u,v){const K=this._actual.tokenize(l,v),X=this._toBinaryTokens(this._languageService.languageIdCodec,K.tokens);let se;return se=K.endState.equals(v)?v:K.endState,new k.DI(X,se)}}function Ku(w){return w&&"function"==typeof w.then}function cm(w,l){return function(w){return"tokenizeEncoded"in w}(l)?new qs(w,l):new jl(w,l,fi.get(Vt.O),fi.get(Ns.Z))}function $u(w,l){return k.RW.registerFactory(w,{createTokenizationSupport:()=>function(w,l,u,v){return new(u||(u=Promise))(function(X,se){function pe(Ke){try{Be(v.next(Ke))}catch(ut){se(ut)}}function Le(Ke){try{Be(v.throw(Ke))}catch(ut){se(ut)}}function Be(Ke){Ke.done?X(Ke.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(Ke.value).then(pe,Le)}Be((v=v.apply(w,l||[])).next())})}(this,void 0,void 0,function*(){const v=yield Promise.resolve(l.create());return v?function(w){return"function"==typeof w.getInitialState}(v)?cm(w,v):new be(fi.get(Vt.O),fi.get(Ns.Z),w,eo(w,v)):null})})}var ja,mm=m(86349);E.BH.wrappingIndent.defaultValue=0,E.BH.glyphMargin.defaultValue=!1,E.BH.autoIndent.defaultValue=3,E.BH.overviewRulerLanes.defaultValue=2,mm.xC.setFormatterSelector((w,l,u)=>Promise.resolve(w[0]));const Jo=rt();Jo.editor={create:function(w,l,u){return fi.initialize(u||{}).createInstance(qg,w,l)},onDidCreateEditor:function(w){return fi.get(Ie.$).onCodeEditorAdd(u=>{w(u)})},createDiffEditor:function(w,l,u){return fi.initialize(u||{}).createInstance(Cf,w,l)},createDiffNavigator:function(w,l){return new at.F(w,l)},createModel:function(w,l,u){const v=fi.get(Vt.O),K=v.getLanguageIdByMimeType(l)||l;return em(fi.get(zt.q),v,w,K,u)},setModelLanguage:function(w,l){const u=fi.get(Vt.O);fi.get(zt.q).setMode(w,u.createById(l))},setModelMarkers:function(w,l,u){w&&fi.get(On.lT).changeOne(l,w.uri,u)},getModelMarkers:function(w){return fi.get(On.lT).read(w)},onDidChangeMarkers:function(w){return fi.get(On.lT).onMarkerChanged(w)},getModels:function(){return fi.get(zt.q).getModels()},getModel:function(w){return fi.get(zt.q).getModel(w)},onDidCreateModel:function(w){return fi.get(zt.q).onModelAdded(w)},onWillDisposeModel:function(w){return fi.get(zt.q).onModelRemoved(w)},onDidChangeModelLanguage:function(w){return fi.get(zt.q).onModelLanguageChanged(u=>{w({model:u.model,oldLanguage:u.oldLanguageId})})},createWebWorker:function(w){return function(w,l,u){return new Pr(w,l,u)}(fi.get(zt.q),fi.get(pt.c_),w)},colorizeElement:function(w,l){const u=fi.get(Vt.O),v=fi.get(Ns.Z);return v.registerEditorContainer(w),it.colorizeElement(v,u,w,l)},colorize:function(w,l,u){const v=fi.get(Vt.O);return fi.get(Ns.Z).registerEditorContainer(document.body),it.colorize(v,w,l,u)},colorizeModelLine:function(w,l,u=4){return fi.get(Ns.Z).registerEditorContainer(document.body),it.colorizeModelLine(w,l,u)},tokenize:function(w,l){k.RW.getOrCreate(l);const u=function(w){return k.RW.get(w)||{getInitialState:()=>Bt.TJ,tokenize:(u,v,K)=>(0,Bt.Ri)(w,K)}}(l),v=(0,nt.uq)(w),K=[];let X=u.getInitialState();for(let se=0,pe=v.length;se<pe;se++){const Be=u.tokenize(v[se],!0,X);K[se]=Be.tokens,X=Be.endState}return K},defineTheme:function(w,l){fi.get(Ns.Z).defineTheme(w,l)},setTheme:function(w){fi.get(Ns.Z).setTheme(w)},remeasureFonts:function(){xe.g.clearAllFontInfos()},registerCommand:function(w,l){return ns.P0.registerCommand({id:w,handler:l})},AccessibilitySupport:y,ContentWidgetPositionPreference:M,CursorChangeReason:H,DefaultEndOfLine:L,EditorAutoIndentStrategy:Z,EditorOption:P,EndOfLinePreference:I,EndOfLineSequence:$,MinimapPosition:me,MouseTargetType:Q,OverlayWidgetPositionPreference:q,OverviewRulerLane:le,RenderLineNumbersType:J,RenderMinimap:re,ScrollbarVisibility:ve,ScrollType:ce,TextEditorCursorBlinkingStyle:Ce,TextEditorCursorStyle:Ae,TrackedRangeStickiness:et,WrappingIndent:$e,InjectedTextCursorStops:G,PositionAffinity:ee,ConfigurationChangedEvent:E.Bb,BareFontInfo:bt.E4,FontInfo:bt.pR,TextModelResolvedOptions:mn.dJ,FindMatch:mn.tk,ApplyUpdateResult:E.rk,EditorType:Ut.g,EditorOptions:E.BH},Jo.languages={register:function(w){$t.dQ.registerLanguage(w)},getLanguages:function(){let w=[];return w=w.concat($t.dQ.getLanguages()),w},onLanguage:function(w,l){const v=fi.get(Vt.O).onDidEncounterLanguage(K=>{K===w&&(v.dispose(),l())});return v},getEncodedLanguageId:function(w){return fi.get(Vt.O).languageIdCodec.encodeLanguageId(w)},setLanguageConfiguration:function(w,l){if(!fi.get(Vt.O).isRegisteredLanguageId(w))throw new Error(`Cannot set configuration for unknown language ${w}`);return pt.zu.register(w,l,100)},setColorMap:function(w){const l=fi.get(Ns.Z);if(w){const u=[null];for(let v=1,K=w.length;v<K;v++)u[v]=Un.Il.fromHex(w[v]);l.setColorMapOverride(u)}else l.setColorMapOverride(null)},registerTokensProviderFactory:$u,setTokensProvider:function(w,l){if(!fi.get(Vt.O).isRegisteredLanguageId(w))throw new Error(`Cannot set tokens provider for unknown language ${w}`);return Ku(l)?$u(w,{create:()=>l}):k.RW.register(w,cm(w,l))},setMonarchTokensProvider:function(w,l){return Ku(l)?$u(w,{create:()=>l}):k.RW.register(w,(v=l,new be(fi.get(Vt.O),fi.get(Ns.Z),w,eo(w,v))));var v},registerReferenceProvider:function(w,l){return fi.get(Ei.p).referenceProvider.register(w,l)},registerRenameProvider:function(w,l){return fi.get(Ei.p).renameProvider.register(w,l)},registerCompletionItemProvider:function(w,l){return fi.get(Ei.p).completionProvider.register(w,l)},registerSignatureHelpProvider:function(w,l){return fi.get(Ei.p).signatureHelpProvider.register(w,l)},registerHoverProvider:function(w,l){return fi.get(Ei.p).hoverProvider.register(w,{provideHover:(v,K,X)=>{const se=v.getWordAtPosition(K);return Promise.resolve(l.provideHover(v,K,X)).then(pe=>{if(pe)return!pe.range&&se&&(pe.range=new O.e(K.lineNumber,se.startColumn,K.lineNumber,se.endColumn)),pe.range||(pe.range=new O.e(K.lineNumber,K.column,K.lineNumber,K.column)),pe})}})},registerDocumentSymbolProvider:function(w,l){return fi.get(Ei.p).documentSymbolProvider.register(w,l)},registerDocumentHighlightProvider:function(w,l){return fi.get(Ei.p).documentHighlightProvider.register(w,l)},registerLinkedEditingRangeProvider:function(w,l){return fi.get(Ei.p).linkedEditingRangeProvider.register(w,l)},registerDefinitionProvider:function(w,l){return fi.get(Ei.p).definitionProvider.register(w,l)},registerImplementationProvider:function(w,l){return fi.get(Ei.p).implementationProvider.register(w,l)},registerTypeDefinitionProvider:function(w,l){return fi.get(Ei.p).typeDefinitionProvider.register(w,l)},registerCodeLensProvider:function(w,l){return fi.get(Ei.p).codeLensProvider.register(w,l)},registerCodeActionProvider:function(w,l,u){return fi.get(Ei.p).codeActionProvider.register(w,{providedCodeActionKinds:null==u?void 0:u.providedCodeActionKinds,provideCodeActions:(K,X,se,pe)=>{const Be=fi.get(On.lT).read({resource:K.uri}).filter(Ke=>O.e.areIntersectingOrTouching(Ke,X));return l.provideCodeActions(K,X,{markers:Be,only:se.only},pe)},resolveCodeAction:l.resolveCodeAction})},registerDocumentFormattingEditProvider:function(w,l){return fi.get(Ei.p).documentFormattingEditProvider.register(w,l)},registerDocumentRangeFormattingEditProvider:function(w,l){return fi.get(Ei.p).documentRangeFormattingEditProvider.register(w,l)},registerOnTypeFormattingEditProvider:function(w,l){return fi.get(Ei.p).onTypeFormattingEditProvider.register(w,l)},registerLinkProvider:function(w,l){return fi.get(Ei.p).linkProvider.register(w,l)},registerColorProvider:function(w,l){return fi.get(Ei.p).colorProvider.register(w,l)},registerFoldingRangeProvider:function(w,l){return fi.get(Ei.p).foldingRangeProvider.register(w,l)},registerDeclarationProvider:function(w,l){return fi.get(Ei.p).declarationProvider.register(w,l)},registerSelectionRangeProvider:function(w,l){return fi.get(Ei.p).selectionRangeProvider.register(w,l)},registerDocumentSemanticTokensProvider:function(w,l){return fi.get(Ei.p).documentSemanticTokensProvider.register(w,l)},registerDocumentRangeSemanticTokensProvider:function(w,l){return fi.get(Ei.p).documentRangeSemanticTokensProvider.register(w,l)},registerInlineCompletionsProvider:function(w,l){return fi.get(Ei.p).inlineCompletionsProvider.register(w,l)},registerInlayHintsProvider:function(w,l){return fi.get(Ei.p).inlayHintsProvider.register(w,l)},DocumentHighlightKind:N,CompletionItemKind:b,CompletionItemTag:x,CompletionItemInsertTextRule:C,SymbolKind:je,SymbolTag:ue,IndentAction:U,CompletionTriggerKind:f,SignatureHelpTriggerKind:We,InlayHintKind:oe,InlineCompletionTriggerKind:de,FoldingRangeKind:k.AD};const Kl=Jo.CancellationTokenSource,pm=Jo.Emitter,Bd=Jo.KeyCode,Nf=Jo.KeyMod,Yu=Jo.Position,If=Jo.Range,kf=Jo.Selection,_m=Jo.SelectionDirection,Wd=Jo.MarkerSeverity,Tf=Jo.MarkerTag,Cm=Jo.Uri,bm=Jo.Token,vm=Jo.editor,Ju=Jo.languages;((null===(ja=St.li.MonacoEnvironment)||void 0===ja?void 0:ja.globalAPI)||"function"==typeof define&&m.amdO)&&(self.monaco=Jo),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},92094:(Fe,Ne,m)=>{m.d(Ne,{Z:()=>g});const g=(0,m(43569).yh)("themeService")},99174:(Fe,Ne,m)=>{m.d(Ne,{TG:()=>H});var E=m(70031),g=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,B=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,F={};((I,$,U,G)=>{if($&&"object"==typeof $||"function"==typeof $)for(let oe of B($))!D.call(I,oe)&&"default"!==oe&&g(I,oe,{get:()=>$[oe],enumerable:!(G=Y($,oe))||G.enumerable})})(F,E);var k=(I=>(I[I.None=0]="None",I[I.CommonJS=1]="CommonJS",I[I.AMD=2]="AMD",I[I.UMD=3]="UMD",I[I.System=4]="System",I[I.ES2015=5]="ES2015",I[I.ESNext=99]="ESNext",I))(k||{}),y=(I=>(I[I.None=0]="None",I[I.Preserve=1]="Preserve",I[I.React=2]="React",I[I.ReactNative=3]="ReactNative",I[I.ReactJSX=4]="ReactJSX",I[I.ReactJSXDev=5]="ReactJSXDev",I))(y||{}),C=(I=>(I[I.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",I[I.LineFeed=1]="LineFeed",I))(C||{}),b=(I=>(I[I.ES3=0]="ES3",I[I.ES5=1]="ES5",I[I.ES2015=2]="ES2015",I[I.ES2016=3]="ES2016",I[I.ES2017=4]="ES2017",I[I.ES2018=5]="ES2018",I[I.ES2019=6]="ES2019",I[I.ES2020=7]="ES2020",I[I.ESNext=99]="ESNext",I[I.JSON=100]="JSON",I[I.Latest=99]="Latest",I))(b||{}),x=(I=>(I[I.Classic=1]="Classic",I[I.NodeJs=2]="NodeJs",I))(x||{}),f=class{constructor(I,$,U,G){jo(this,"_onDidChange",new F.Emitter),jo(this,"_onDidExtraLibsChange",new F.Emitter),jo(this,"_extraLibs"),jo(this,"_removedExtraLibs"),jo(this,"_eagerModelSync"),jo(this,"_compilerOptions"),jo(this,"_diagnosticsOptions"),jo(this,"_workerOptions"),jo(this,"_onDidExtraLibsChangeTimeout"),jo(this,"_inlayHintsOptions"),this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(I),this.setDiagnosticsOptions($),this.setWorkerOptions(U),this.setInlayHintsOptions(G),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(I,$){let U;if(U=void 0===$?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:$,this._extraLibs[U]&&this._extraLibs[U].content===I)return{dispose:()=>{}};let G=1;return this._removedExtraLibs[U]&&(G=this._removedExtraLibs[U]+1),this._extraLibs[U]&&(G=this._extraLibs[U].version+1),this._extraLibs[U]={content:I,version:G},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let oe=this._extraLibs[U];!oe||oe.version===G&&(delete this._extraLibs[U],this._removedExtraLibs[U]=G,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(I){for(const $ in this._extraLibs)this._removedExtraLibs[$]=this._extraLibs[$].version;if(this._extraLibs=Object.create(null),I&&I.length>0)for(const $ of I){const U=$.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let oe=1;this._removedExtraLibs[U]&&(oe=this._removedExtraLibs[U]+1),this._extraLibs[U]={content:$.content,version:oe}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(I){this._compilerOptions=I||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(I){this._diagnosticsOptions=I||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(I){this._workerOptions=I||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(I){this._inlayHintsOptions=I||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(I){}setEagerModelSync(I){this._eagerModelSync=I}getEagerModelSync(){return this._eagerModelSync}},H=new f({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),L=new f({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{});function P(){return m.e(8695).then(m.bind(m,48695))}F.languages.typescript={ModuleKind:k,JsxEmit:y,NewLineKind:C,ScriptTarget:b,ModuleResolutionKind:x,typescriptVersion:"4.5.5",typescriptDefaults:H,javascriptDefaults:L,getTypeScriptWorker:()=>P().then(I=>I.getTypeScriptWorker()),getJavaScriptWorker:()=>P().then(I=>I.getJavaScriptWorker())},F.languages.onLanguage("typescript",()=>P().then(I=>I.setupTypeScript(H))),F.languages.onLanguage("javascript",()=>P().then(I=>I.setupJavaScript(L)))},12918:(Fe,Ne,m)=>{function g(Y,B,...D){return function(Y,B){let D;return D=0===B.length?Y:Y.replace(/\{(\d+)\}/g,function(i,O){const F=O[0];return void 0!==B[F]?B[F]:i}),D}(B,D)}m.d(Ne,{N:()=>g})},13976:(Fe,Ne,m)=>{m.d(Ne,{F:()=>Y,U:()=>B});var E=m(6461);const Y=(0,m(43569).yh)("accessibilityService"),B=new E.uy("accessibilityModeEnabled",!1)},46842:(Fe,Ne,m)=>{m.d(Ne,{vr:()=>x,eH:()=>f,co:()=>M,BH:()=>H,NZ:()=>L,U8:()=>N});var E=m(50955),g=m(78968),Y=m(71040),B=m(58151),D=m(40189),i=m(62253),O=m(10467),F=m(6461),k=m(43569),y=m(53323),b=function(Z,P){return function(I,$){P(I,$,Z)}};function x(Z){return void 0!==Z.command}class f{constructor(P){this.id=f._idPool++,this._debugName=P}}f._idPool=0,f.CommandPalette=new f("CommandPalette"),f.DebugBreakpointsContext=new f("DebugBreakpointsContext"),f.DebugCallStackContext=new f("DebugCallStackContext"),f.DebugConsoleContext=new f("DebugConsoleContext"),f.DebugVariablesContext=new f("DebugVariablesContext"),f.DebugWatchContext=new f("DebugWatchContext"),f.DebugToolBar=new f("DebugToolBar"),f.EditorContext=new f("EditorContext"),f.SimpleEditorContext=new f("SimpleEditorContext"),f.EditorContextCopy=new f("EditorContextCopy"),f.EditorContextPeek=new f("EditorContextPeek"),f.EditorTitle=new f("EditorTitle"),f.EditorTitleRun=new f("EditorTitleRun"),f.EditorTitleContext=new f("EditorTitleContext"),f.EmptyEditorGroup=new f("EmptyEditorGroup"),f.EmptyEditorGroupContext=new f("EmptyEditorGroupContext"),f.ExplorerContext=new f("ExplorerContext"),f.ExtensionContext=new f("ExtensionContext"),f.GlobalActivity=new f("GlobalActivity"),f.LayoutControlMenuSubmenu=new f("LayoutControlMenuSubmenu"),f.LayoutControlMenu=new f("LayoutControlMenu"),f.MenubarMainMenu=new f("MenubarMainMenu"),f.MenubarAppearanceMenu=new f("MenubarAppearanceMenu"),f.MenubarDebugMenu=new f("MenubarDebugMenu"),f.MenubarEditMenu=new f("MenubarEditMenu"),f.MenubarCopy=new f("MenubarCopy"),f.MenubarFileMenu=new f("MenubarFileMenu"),f.MenubarGoMenu=new f("MenubarGoMenu"),f.MenubarHelpMenu=new f("MenubarHelpMenu"),f.MenubarLayoutMenu=new f("MenubarLayoutMenu"),f.MenubarNewBreakpointMenu=new f("MenubarNewBreakpointMenu"),f.MenubarPanelAlignmentMenu=new f("MenubarPanelAlignmentMenu"),f.MenubarPanelPositionMenu=new f("MenubarPanelPositionMenu"),f.MenubarPreferencesMenu=new f("MenubarPreferencesMenu"),f.MenubarRecentMenu=new f("MenubarRecentMenu"),f.MenubarSelectionMenu=new f("MenubarSelectionMenu"),f.MenubarSwitchEditorMenu=new f("MenubarSwitchEditorMenu"),f.MenubarSwitchGroupMenu=new f("MenubarSwitchGroupMenu"),f.MenubarTerminalMenu=new f("MenubarTerminalMenu"),f.MenubarViewMenu=new f("MenubarViewMenu"),f.MenubarHomeMenu=new f("MenubarHomeMenu"),f.OpenEditorsContext=new f("OpenEditorsContext"),f.ProblemsPanelContext=new f("ProblemsPanelContext"),f.SCMChangeContext=new f("SCMChangeContext"),f.SCMResourceContext=new f("SCMResourceContext"),f.SCMResourceFolderContext=new f("SCMResourceFolderContext"),f.SCMResourceGroupContext=new f("SCMResourceGroupContext"),f.SCMSourceControl=new f("SCMSourceControl"),f.SCMTitle=new f("SCMTitle"),f.SearchContext=new f("SearchContext"),f.StatusBarWindowIndicatorMenu=new f("StatusBarWindowIndicatorMenu"),f.StatusBarRemoteIndicatorMenu=new f("StatusBarRemoteIndicatorMenu"),f.TestItem=new f("TestItem"),f.TestItemGutter=new f("TestItemGutter"),f.TestPeekElement=new f("TestPeekElement"),f.TestPeekTitle=new f("TestPeekTitle"),f.TouchBarContext=new f("TouchBarContext"),f.TitleBarContext=new f("TitleBarContext"),f.TunnelContext=new f("TunnelContext"),f.TunnelPrivacy=new f("TunnelPrivacy"),f.TunnelProtocol=new f("TunnelProtocol"),f.TunnelPortInline=new f("TunnelInline"),f.TunnelTitle=new f("TunnelTitle"),f.TunnelLocalAddressInline=new f("TunnelLocalAddressInline"),f.TunnelOriginInline=new f("TunnelOriginInline"),f.ViewItemContext=new f("ViewItemContext"),f.ViewContainerTitle=new f("ViewContainerTitle"),f.ViewContainerTitleContext=new f("ViewContainerTitleContext"),f.ViewTitle=new f("ViewTitle"),f.ViewTitleContext=new f("ViewTitleContext"),f.CommentThreadTitle=new f("CommentThreadTitle"),f.CommentThreadActions=new f("CommentThreadActions"),f.CommentTitle=new f("CommentTitle"),f.CommentActions=new f("CommentActions"),f.InteractiveToolbar=new f("InteractiveToolbar"),f.InteractiveCellTitle=new f("InteractiveCellTitle"),f.InteractiveCellExecute=new f("InteractiveCellExecute"),f.InteractiveInputExecute=new f("InteractiveInputExecute"),f.NotebookToolbar=new f("NotebookToolbar"),f.NotebookCellTitle=new f("NotebookCellTitle"),f.NotebookCellInsert=new f("NotebookCellInsert"),f.NotebookCellBetween=new f("NotebookCellBetween"),f.NotebookCellListTop=new f("NotebookCellTop"),f.NotebookCellExecute=new f("NotebookCellExecute"),f.NotebookCellExecutePrimary=new f("NotebookCellExecutePrimary"),f.NotebookDiffCellInputTitle=new f("NotebookDiffCellInputTitle"),f.NotebookDiffCellMetadataTitle=new f("NotebookDiffCellMetadataTitle"),f.NotebookDiffCellOutputsTitle=new f("NotebookDiffCellOutputsTitle"),f.NotebookOutputToolbar=new f("NotebookOutputToolbar"),f.NotebookEditorLayoutConfigure=new f("NotebookEditorLayoutConfigure"),f.BulkEditTitle=new f("BulkEditTitle"),f.BulkEditContext=new f("BulkEditContext"),f.TimelineItemContext=new f("TimelineItemContext"),f.TimelineTitle=new f("TimelineTitle"),f.TimelineTitleContext=new f("TimelineTitleContext"),f.AccountsContext=new f("AccountsContext"),f.PanelTitle=new f("PanelTitle"),f.AuxiliaryBarTitle=new f("AuxiliaryBarTitle"),f.TerminalInstanceContext=new f("TerminalInstanceContext"),f.TerminalEditorInstanceContext=new f("TerminalEditorInstanceContext"),f.TerminalNewDropdownContext=new f("TerminalNewDropdownContext"),f.TerminalTabContext=new f("TerminalTabContext"),f.TerminalTabEmptyAreaContext=new f("TerminalTabEmptyAreaContext"),f.TerminalInlineTabContext=new f("TerminalInlineTabContext"),f.WebviewContext=new f("WebviewContext"),f.InlineCompletionsActions=new f("InlineCompletionsActions"),f.NewFile=new f("NewFile");const M=(0,k.yh)("menuService"),H=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Y.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:Z=>Z===f.CommandPalette}}addCommand(Z){return this.addCommands(B.$.single(Z))}addCommands(Z){for(const P of Z)this._commands.set(P.id,P);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,D.OF)(()=>{let P=!1;for(const I of Z)P=this._commands.delete(I.id)||P;P&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(Z){return this._commands.get(Z)}getCommands(){const Z=new Map;return this._commands.forEach((P,I)=>Z.set(I,P)),Z}appendMenuItem(Z,P){return this.appendMenuItems(B.$.single({id:Z,item:P}))}appendMenuItems(Z){const P=new Set,I=new i.S;for(const{id:$,item:U}of Z){let G=this._menuItems.get($);G||(G=new i.S,this._menuItems.set($,G)),I.push(G.push(U)),P.add($)}return this._onDidChangeMenu.fire(P),(0,D.OF)(()=>{if(I.size>0){for(let $ of I)$();this._onDidChangeMenu.fire(P),I.clear()}})}getMenuItems(Z){let P;return P=this._menuItems.has(Z)?[...this._menuItems.get(Z)]:[],Z===f.CommandPalette&&this._appendImplicitItems(P),P}_appendImplicitItems(Z){const P=new Set;for(const I of Z)x(I)&&(P.add(I.command.id),I.alt&&P.add(I.alt.id));this._commands.forEach((I,$)=>{P.has($)||Z.push({command:I})})}};class L extends E.wY{constructor(P,I,$,U){super(`submenuitem.${P.submenu.id}`,"string"==typeof P.title?P.title:P.title.value,[],"submenu"),this.item=P,this._menuService=I,this._contextKeyService=$,this._options=U}get actions(){const P=[],I=this._menuService.createMenu(this.item.submenu,this._contextKeyService),$=I.getActions(this._options);I.dispose();for(const[,U]of $)U.length>0&&(P.push(...U),P.push(new E.Z0));return P.length&&P.pop(),P}}let N=class Qv{constructor(P,I,$,U,G){var oe,de;if(this._commandService=G,this.id=P.id,this.label=(null==$?void 0:$.renderShortTitle)&&P.shortTitle?"string"==typeof P.shortTitle?P.shortTitle:P.shortTitle.value:"string"==typeof P.title?P.title:P.title.value,this.tooltip=null!==(de="string"==typeof P.tooltip?P.tooltip:null===(oe=P.tooltip)||void 0===oe?void 0:oe.value)&&void 0!==de?de:"",this.enabled=!P.precondition||U.contextMatchesRules(P.precondition),this.checked=void 0,P.toggled){const fe=P.toggled.condition?P.toggled:{condition:P.toggled};this.checked=U.contextMatchesRules(fe.condition),this.checked&&fe.tooltip&&(this.tooltip="string"==typeof fe.tooltip?fe.tooltip:fe.tooltip.value),fe.title&&(this.label="string"==typeof fe.title?fe.title:fe.title.value)}this.item=P,this.alt=I?new Qv(I,void 0,$,U,G):void 0,this._options=$,y.kS.isThemeIcon(P.icon)&&(this.class=g.dT.asClassName(P.icon))}dispose(){}run(...P){var I,$;let U=[];return(null===(I=this._options)||void 0===I?void 0:I.arg)&&(U=[...U,this._options.arg]),(null===($=this._options)||void 0===$?void 0:$.shouldForwardArgs)&&(U=[...U,...P]),this._commandService.executeCommand(this.id,...U)}};N=function(Z,P,I,$){var oe,U=arguments.length,G=U<3?P:null===$?$=Object.getOwnPropertyDescriptor(P,I):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(Z,P,I,$);else for(var de=Z.length-1;de>=0;de--)(oe=Z[de])&&(G=(U<3?oe(G):U>3?oe(P,I,G):oe(P,I))||G);return U>3&&G&&Object.defineProperty(P,I,G),G}([b(3,F.i6),b(4,O.Hy)],N)},37323:(Fe,Ne,m)=>{m.d(Ne,{p:()=>g});const g=(0,m(43569).yh)("clipboardService")},10467:(Fe,Ne,m)=>{m.d(Ne,{Hy:()=>O,P0:()=>F});var E=m(71040),g=m(58151),Y=m(40189),B=m(62253),D=m(99770);const O=(0,m(43569).yh)("commandService"),F=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new E.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(y,C){if(!y)throw new Error("invalid command");if("string"==typeof y){if(!C)throw new Error("invalid command");return this.registerCommand({id:y,handler:C})}if(y.description){const H=[];for(let N of y.description.args)H.push(N.constraint);const L=y.handler;y.handler=function(N,...Z){return(0,D.D8)(Z,H),L(N,...Z)}}const{id:b}=y;let x=this._commands.get(b);x||(x=new B.S,this._commands.set(b,x));let f=x.unshift(y),M=(0,Y.OF)(()=>{f();const H=this._commands.get(b);(null==H?void 0:H.isEmpty())&&this._commands.delete(b)});return this._onDidRegisterCommand.fire(b),M}registerCommandAlias(y,C){return F.registerCommand(y,(b,...x)=>b.get(O).executeCommand(C,...x))}getCommand(y){const C=this._commands.get(y);if(C&&!C.isEmpty())return g.$.first(C)}getCommands(){const y=new Map;for(const C of this._commands.keys()){const b=this.getCommand(C);b&&y.set(C,b)}return y}};F.registerCommand("noop",()=>{})},13011:(Fe,Ne,m)=>{m.d(Ne,{Ui:()=>g,Od:()=>Y,KV:()=>B,xL:()=>D,Mt:()=>O});const g=(0,m(43569).yh)("configurationService");function Y(F,k){const y=Object.create(null);for(let C in F)B(y,C,F[C],k);return y}function B(F,k,y,C){const b=k.split("."),x=b.pop();let f=F;for(let M=0;M<b.length;M++){let H=b[M],L=f[H];switch(typeof L){case"undefined":L=f[H]=Object.create(null);break;case"object":break;default:return void C(`Ignoring ${k} as ${b.slice(0,M+1).join(".")} is ${JSON.stringify(L)}`)}f=L}if("object"==typeof f&&null!==f)try{f[x]=y}catch{C(`Ignoring ${k} as ${b.join(".")} is ${JSON.stringify(f)}`)}else C(`Ignoring ${k} as ${b.join(".")} is ${JSON.stringify(f)}`)}function D(F,k){i(F,k.split("."))}function i(F,k){const y=k.shift();if(0!==k.length){if(-1!==Object.keys(F).indexOf(y)){const C=F[y];"object"==typeof C&&!Array.isArray(C)&&(i(C,k),0===Object.keys(C).length&&delete F[y])}}else delete F[y]}function O(F,k,y){const x=function(f,M){let H=f;for(const L of M){if("object"!=typeof H||null===H)return;H=H[L]}return H}(F,k.split("."));return void 0===x?y:x}},92778:(Fe,Ne,m)=>{m.d(Ne,{IP:()=>O,eU:()=>P,ny:()=>I});var E=m(89822),g=m(71040),Y=m(99770),B=m(12918),D=m(42620),i=m(63779);const O={Configuration:"base.contributions.configuration"},F={properties:{},patternProperties:{}},k={properties:{},patternProperties:{}},y={properties:{},patternProperties:{}},C={properties:{},patternProperties:{}},b={properties:{},patternProperties:{}},x={properties:{},patternProperties:{}},f="vscode://schemas/settings/resourceLanguage",M=i.B.as(D.I.JSONContribution),L="\\[([^\\]]+)\\]",N=new RegExp(L,"g"),Z=`^(${L})+$`,P=new RegExp(Z);function I(oe){const de=[];if(P.test(oe)){let fe=N.exec(oe);for(;null==fe?void 0:fe.length;){const _e=fe[1].trim();_e&&de.push(_e),fe=N.exec(oe)}}return(0,E.EB)(de)}const U=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new g.Q5,this._onDidUpdateConfiguration=new g.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:B.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},M.registerSchema(f,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(de,fe=!0){this.registerConfigurations([de],fe)}registerConfigurations(de,fe=!0){const _e=this.doRegisterConfigurations(de,fe);M.registerSchema(f,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:_e})}registerDefaultConfigurations(de){var fe;const _e=[],we=[];for(const{overrides:me,source:Q}of de)for(const q in me)if(_e.push(q),P.test(q)){const le=Object.assign(Object.assign({},(null===(fe=this.configurationDefaultsOverrides.get(q))||void 0===fe?void 0:fe.value)||{}),me[q]);this.configurationDefaultsOverrides.set(q,{source:Q,value:le});const ee={type:"object",default:le,description:B.N("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",q),$ref:f,defaultDefaultValue:le,source:Y.HD(Q)?void 0:Q};we.push(...I(q)),this.configurationProperties[q]=ee,this.defaultLanguageConfigurationOverridesNode.properties[q]=ee}else{this.configurationDefaultsOverrides.set(q,{value:me[q],source:Q});const le=this.configurationProperties[q];le&&(this.updatePropertyDefaultValue(q,le),this.updateSchema(q,le))}this.registerOverrideIdentifiers(we),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:_e,defaultsOverrides:!0})}registerOverrideIdentifiers(de){for(const fe of de)this.overrideIdentifiers.add(fe);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(de,fe){const _e=[];return de.forEach(we=>{_e.push(...this.validateAndRegisterProperties(we,fe,we.extensionInfo,we.restrictedProperties)),this.configurationContributors.push(we),this.registerJSONConfiguration(we)}),_e}validateAndRegisterProperties(de,fe=!0,_e,we,me=3){me=Y.Jp(de.scope)?me:de.scope;let Q=[],q=de.properties;if(q)for(let ee in q){if(fe&&((oe=ee).trim()?P.test(oe)?B.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",oe):void 0!==U.getConfigurationProperties()[oe]&&B.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",oe):B.N("config.property.empty","Cannot register an empty property"))){delete q[ee];continue}const J=q[ee];J.source=_e,J.defaultDefaultValue=q[ee].default,this.updatePropertyDefaultValue(ee,J),P.test(ee)?J.scope=void 0:(J.scope=Y.Jp(J.scope)?me:J.scope,J.restricted=Y.Jp(J.restricted)?!!(null==we?void 0:we.includes(ee)):J.restricted),!q[ee].hasOwnProperty("included")||q[ee].included?(this.configurationProperties[ee]=q[ee],!q[ee].deprecationMessage&&q[ee].markdownDeprecationMessage&&(q[ee].deprecationMessage=q[ee].markdownDeprecationMessage),Q.push(ee)):(this.excludedConfigurationProperties[ee]=q[ee],delete q[ee])}var oe;let le=de.allOf;if(le)for(let ee of le)Q.push(...this.validateAndRegisterProperties(ee,fe,_e,we,me));return Q}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(de){const fe=_e=>{let we=_e.properties;if(we)for(const Q in we)this.updateSchema(Q,we[Q]);let me=_e.allOf;me&&me.forEach(fe)};fe(de)}updateSchema(de,fe){switch(F.properties[de]=fe,fe.scope){case 1:k.properties[de]=fe;break;case 2:y.properties[de]=fe;break;case 6:C.properties[de]=fe;break;case 3:b.properties[de]=fe;break;case 4:x.properties[de]=fe;break;case 5:x.properties[de]=fe,this.resourceLanguageSettingsSchema.properties[de]=fe}}updateOverridePropertyPatternKey(){for(const de of this.overrideIdentifiers.values()){const fe=`[${de}]`,_e={type:"object",description:B.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:B.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:f};this.updatePropertyDefaultValue(fe,_e),F.properties[fe]=_e,k.properties[fe]=_e,y.properties[fe]=_e,C.properties[fe]=_e,b.properties[fe]=_e,x.properties[fe]=_e}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const de={type:"object",description:B.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:B.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:f};F.patternProperties[Z]=de,k.patternProperties[Z]=de,y.patternProperties[Z]=de,C.patternProperties[Z]=de,b.patternProperties[Z]=de,x.patternProperties[Z]=de,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(de,fe){const _e=this.configurationDefaultsOverrides.get(de);let we=null==_e?void 0:_e.value,me=null==_e?void 0:_e.source;Y.o8(we)&&(we=fe.defaultDefaultValue,me=void 0),Y.o8(we)&&(we=function(oe){switch(Array.isArray(oe)?oe[0]:oe){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(fe.type)),fe.default=we,fe.defaultValueSource=me}};i.B.add(O.Configuration,U)},6461:(Fe,Ne,m)=>{m.d(Ne,{Ao:()=>i,Fb:()=>O,uy:()=>fe,i6:()=>_e,Eq:()=>we,K8:()=>q});var E=m(70700),g=m(74243),Y=m(43569);const B=new Map;B.set("false",!1),B.set("true",!0),B.set("isMac",E.dz),B.set("isLinux",E.IJ),B.set("isWindows",E.ED),B.set("isWeb",E.$L),B.set("isMacNative",E.dz&&!E.$L),B.set("isEdge",E.un),B.set("isFirefox",E.vU),B.set("isChrome",E.i7),B.set("isSafari",E.G6);const D=Object.prototype.hasOwnProperty;class i{static has(J){return C.create(J)}static equals(J,re){return b.create(J,re)}static regex(J,re){return $.create(J,re)}static not(J){return H.create(J)}static and(...J){return oe.create(J,null)}static or(...J){return de.create(J,null,!0)}static deserialize(J,re=!1){if(J)return this._deserializeOrExpression(J,re)}static _deserializeOrExpression(J,re){let ce=J.split("||");return de.create(ce.map(ve=>this._deserializeAndExpression(ve,re)),null,!0)}static _deserializeAndExpression(J,re){let ce=J.split("&&");return oe.create(ce.map(ve=>this._deserializeOne(ve,re)),null)}static _deserializeOne(J,re){if((J=J.trim()).indexOf("!=")>=0){let ce=J.split("!=");return M.create(ce[0].trim(),this._deserializeValue(ce[1],re))}if(J.indexOf("==")>=0){let ce=J.split("==");return b.create(ce[0].trim(),this._deserializeValue(ce[1],re))}if(J.indexOf("=~")>=0){let ce=J.split("=~");return $.create(ce[0].trim(),this._deserializeRegexValue(ce[1],re))}if(J.indexOf(" in ")>=0){let ce=J.split(" in ");return x.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(J)){const ce=J.split(">=");return Z.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(J)){const ce=J.split(">");return N.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(J)){const ce=J.split("<=");return I.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(J)){const ce=J.split("<");return P.create(ce[0].trim(),ce[1].trim())}return/^\!\s*/.test(J)?H.create(J.substr(1).trim()):C.create(J)}static _deserializeValue(J,re){if("true"===(J=J.trim()))return!0;if("false"===J)return!1;let ce=/^'([^']*)'$/.exec(J);return ce?ce[1].trim():J}static _deserializeRegexValue(J,re){if((0,g.m5)(J)){if(re)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let ce=J.indexOf("/"),ve=J.lastIndexOf("/");if(ce===ve||ce<0){if(re)throw new Error(`bad regexp-value '${J}', missing /-enclosure`);return console.warn(`bad regexp-value '${J}', missing /-enclosure`),null}let ke=J.slice(ce+1,ve),We="i"===J[ve+1]?"i":"";try{return new RegExp(ke,We)}catch(je){if(re)throw new Error(`bad regexp-value '${J}', parse error: ${je}`);return console.warn(`bad regexp-value '${J}', parse error: ${je}`),null}}}function O(ee,J){const re=ee?ee.substituteConstants():void 0,ce=J?J.substituteConstants():void 0;return!re&&!ce||!(!re||!ce)&&re.equals(ce)}function F(ee,J){return ee.cmp(J)}class k{constructor(){this.type=0}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!1}serialize(){return"false"}keys(){return[]}negate(){return y.INSTANCE}}k.INSTANCE=new k;class y{constructor(){this.type=1}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!0}serialize(){return"true"}keys(){return[]}negate(){return k.INSTANCE}}y.INSTANCE=new y;class C{constructor(J,re){this.key=J,this.negated=re,this.type=2}static create(J,re=null){const ce=B.get(J);return"boolean"==typeof ce?ce?y.INSTANCE:k.INSTANCE:new C(J,re)}cmp(J){return J.type!==this.type?this.type-J.type:me(this.key,J.key)}equals(J){return J.type===this.type&&this.key===J.key}substituteConstants(){const J=B.get(this.key);return"boolean"==typeof J?J?y.INSTANCE:k.INSTANCE:this}evaluate(J){return!!J.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=H.create(this.key,this)),this.negated}}class b{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=4}static create(J,re,ce=null){if("boolean"==typeof re)return re?C.create(J,ce):H.create(J,ce);const ve=B.get(J);return"boolean"==typeof ve?re===(ve?"true":"false")?y.INSTANCE:k.INSTANCE:new b(J,re,ce)}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){const J=B.get(this.key);return"boolean"==typeof J?this.value===(J?"true":"false")?y.INSTANCE:k.INSTANCE:this}evaluate(J){return J.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}class x{constructor(J,re){this.key=J,this.valueKey=re,this.type=10,this.negated=null}static create(J,re){return new x(J,re)}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.valueKey,J.key,J.valueKey)}equals(J){return J.type===this.type&&this.key===J.key&&this.valueKey===J.valueKey}substituteConstants(){return this}evaluate(J){const re=J.getValue(this.valueKey),ce=J.getValue(this.key);return Array.isArray(re)?re.indexOf(ce)>=0:"string"==typeof ce&&"object"==typeof re&&null!==re&&D.call(re,ce)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=f.create(this)),this.negated}}class f{constructor(J){this._actual=J,this.type=11}static create(J){return new f(J)}cmp(J){return J.type!==this.type?this.type-J.type:this._actual.cmp(J._actual)}equals(J){return J.type===this.type&&this._actual.equals(J._actual)}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class M{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=5}static create(J,re,ce=null){if("boolean"==typeof re)return re?H.create(J,ce):C.create(J,ce);const ve=B.get(J);return"boolean"==typeof ve?re===(ve?"true":"false")?k.INSTANCE:y.INSTANCE:new M(J,re,ce)}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){const J=B.get(this.key);return"boolean"==typeof J?this.value===(J?"true":"false")?k.INSTANCE:y.INSTANCE:this}evaluate(J){return J.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class H{constructor(J,re){this.key=J,this.negated=re,this.type=3}static create(J,re=null){const ce=B.get(J);return"boolean"==typeof ce?ce?k.INSTANCE:y.INSTANCE:new H(J,re)}cmp(J){return J.type!==this.type?this.type-J.type:me(this.key,J.key)}equals(J){return J.type===this.type&&this.key===J.key}substituteConstants(){const J=B.get(this.key);return"boolean"==typeof J?J?k.INSTANCE:y.INSTANCE:this}evaluate(J){return!J.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this)),this.negated}}function L(ee,J){if("string"==typeof ee){const re=parseFloat(ee);isNaN(re)||(ee=re)}return"string"==typeof ee||"number"==typeof ee?J(ee):k.INSTANCE}class N{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=12}static create(J,re,ce=null){return L(re,ve=>new N(J,ve,ce))}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){return this}evaluate(J){return"string"!=typeof this.value&&parseFloat(J.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this.value,this)),this.negated}}class Z{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=13}static create(J,re,ce=null){return L(re,ve=>new Z(J,ve,ce))}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){return this}evaluate(J){return"string"!=typeof this.value&&parseFloat(J.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}class P{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=14}static create(J,re,ce=null){return L(re,ve=>new P(J,ve,ce))}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){return this}evaluate(J){return"string"!=typeof this.value&&parseFloat(J.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Z.create(this.key,this.value,this)),this.negated}}class I{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=15}static create(J,re,ce=null){return L(re,ve=>new I(J,ve,ce))}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){return this}evaluate(J){return"string"!=typeof this.value&&parseFloat(J.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}class ${constructor(J,re){this.key=J,this.regexp=re,this.type=7,this.negated=null}static create(J,re){return new $(J,re)}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.key<J.key)return-1;if(this.key>J.key)return 1;const re=this.regexp?this.regexp.source:"",ce=J.regexp?J.regexp.source:"";return re<ce?-1:re>ce?1:0}equals(J){if(J.type===this.type){const re=this.regexp?this.regexp.source:"",ce=J.regexp?J.regexp.source:"";return this.key===J.key&&re===ce}return!1}substituteConstants(){return this}evaluate(J){let re=J.getValue(this.key);return!!this.regexp&&this.regexp.test(re)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=U.create(this)),this.negated}}class U{constructor(J){this._actual=J,this.type=8}static create(J){return new U(J)}cmp(J){return J.type!==this.type?this.type-J.type:this._actual.cmp(J._actual)}equals(J){return J.type===this.type&&this._actual.equals(J._actual)}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function G(ee){let J=null;for(let re=0,ce=ee.length;re<ce;re++){const ve=ee[re].substituteConstants();if(ee[re]!==ve&&null===J){J=[];for(let ke=0;ke<re;ke++)J[ke]=ee[ke]}null!==J&&(J[re]=ve)}return null===J?ee:J}class oe{constructor(J,re){this.expr=J,this.negated=re,this.type=6}static create(J,re){return oe._normalizeArr(J,re)}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let re=0,ce=this.expr.length;re<ce;re++){const ve=F(this.expr[re],J.expr[re]);if(0!==ve)return ve}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let re=0,ce=this.expr.length;re<ce;re++)if(!this.expr[re].equals(J.expr[re]))return!1;return!0}return!1}substituteConstants(){const J=G(this.expr);return J===this.expr?this:oe.create(J,this.negated)}evaluate(J){for(let re=0,ce=this.expr.length;re<ce;re++)if(!this.expr[re].evaluate(J))return!1;return!0}static _normalizeArr(J,re){const ce=[];let ve=!1;for(const ke of J)if(ke){if(1===ke.type){ve=!0;continue}if(0===ke.type)return k.INSTANCE;if(6===ke.type){ce.push(...ke.expr);continue}ce.push(ke)}if(0===ce.length&&ve)return y.INSTANCE;if(0!==ce.length){if(1===ce.length)return ce[0];ce.sort(F);for(let ke=1;ke<ce.length;ke++)ce[ke-1].equals(ce[ke])&&(ce.splice(ke,1),ke--);if(1===ce.length)return ce[0];for(;ce.length>1;){const ke=ce[ce.length-1];if(9!==ke.type)break;ce.pop();const We=ce.pop(),je=0===ce.length,ue=de.create(ke.expr.map(Ce=>oe.create([Ce,We],null)),null,je);ue&&(ce.push(ue),ce.sort(F))}return 1===ce.length?ce[0]:new oe(ce,re)}}serialize(){return this.expr.map(J=>J.serialize()).join(" && ")}keys(){const J=[];for(let re of this.expr)J.push(...re.keys());return J}negate(){if(!this.negated){const J=[];for(let re of this.expr)J.push(re.negate());this.negated=de.create(J,this,!0)}return this.negated}}class de{constructor(J,re){this.expr=J,this.negated=re,this.type=9}static create(J,re,ce){return de._normalizeArr(J,re,ce)}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let re=0,ce=this.expr.length;re<ce;re++){const ve=F(this.expr[re],J.expr[re]);if(0!==ve)return ve}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let re=0,ce=this.expr.length;re<ce;re++)if(!this.expr[re].equals(J.expr[re]))return!1;return!0}return!1}substituteConstants(){const J=G(this.expr);return J===this.expr?this:de.create(J,this.negated,!1)}evaluate(J){for(let re=0,ce=this.expr.length;re<ce;re++)if(this.expr[re].evaluate(J))return!0;return!1}static _normalizeArr(J,re,ce){let ve=[],ke=!1;if(J){for(let We=0,je=J.length;We<je;We++){const ue=J[We];if(ue){if(0===ue.type){ke=!0;continue}if(1===ue.type)return y.INSTANCE;if(9===ue.type){ve=ve.concat(ue.expr);continue}ve.push(ue)}}if(0===ve.length&&ke)return k.INSTANCE;ve.sort(F)}if(0!==ve.length){if(1===ve.length)return ve[0];for(let We=1;We<ve.length;We++)ve[We-1].equals(ve[We])&&(ve.splice(We,1),We--);if(1===ve.length)return ve[0];if(ce){for(let We=0;We<ve.length;We++)for(let je=We+1;je<ve.length;je++)q(ve[We],ve[je])&&(ve.splice(je,1),je--);if(1===ve.length)return ve[0]}return new de(ve,re)}}serialize(){return this.expr.map(J=>J.serialize()).join(" || ")}keys(){const J=[];for(let re of this.expr)J.push(...re.keys());return J}negate(){if(!this.negated){let J=[];for(let re of this.expr)J.push(re.negate());for(;J.length>1;){const re=J.shift(),ce=J.shift(),ve=[];for(const We of le(re))for(const je of le(ce))ve.push(oe.create([We,je],null));J.unshift(de.create(ve,null,0===J.length))}this.negated=J[0]}return this.negated}}let fe=(()=>{class ee extends C{constructor(re,ce,ve){super(re,null),this._defaultValue=ce,"object"==typeof ve?ee._info.push(Object.assign(Object.assign({},ve),{key:re})):!0!==ve&&ee._info.push({key:re,description:ve,type:null!=ce?typeof ce:void 0})}static all(){return ee._info.values()}bindTo(re){return re.createKey(this.key,this._defaultValue)}getValue(re){return re.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(re){return b.create(this.key,re)}}return ee._info=[],ee})();const _e=(0,Y.yh)("contextKeyService"),we="setContext";function me(ee,J){return ee<J?-1:ee>J?1:0}function Q(ee,J,re,ce){return ee<re?-1:ee>re?1:J<ce?-1:J>ce?1:0}function q(ee,J){if(6===J.type&&9!==ee.type&&6!==ee.type)for(const ve of J.expr)if(ee.equals(ve))return!0;const ce=le(ee.negate()).concat(le(J));ce.sort(F);for(let ve=0;ve<ce.length;ve++){const We=ce[ve].negate();for(let je=ve+1;je<ce.length;je++)if(We.equals(ce[je]))return!0}return!1}function le(ee){return 9===ee.type?ee.expr:[ee]}},70114:(Fe,Ne,m)=>{m.d(Ne,{cv:()=>i,d0:()=>C});var E=m(70700),g=m(12918),Y=m(6461);new Y.uy("isMac",E.dz,(0,g.N)("isMac","Whether the operating system is macOS")),new Y.uy("isLinux",E.IJ,(0,g.N)("isLinux","Whether the operating system is Linux"));const i=new Y.uy("isWindows",E.ED,(0,g.N)("isWindows","Whether the operating system is Windows")),C=(new Y.uy("isWeb",E.$L,(0,g.N)("isWeb","Whether the platform is a web browser")),new Y.uy("isMacNative",E.dz&&!E.$L,(0,g.N)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new Y.uy("isIOS",E.gn,(0,g.N)("isIOS","Whether the operating system is iOS")),new Y.uy("isDevelopment",!1,!0),"inputFocus");new Y.uy(C,!1,(0,g.N)("inputFocus","Whether keyboard focus is inside an input box"))},9719:(Fe,Ne,m)=>{m.d(Ne,{u:()=>g,i:()=>Y});var E=m(43569);const g=(0,E.yh)("contextViewService"),Y=(0,E.yh)("contextMenuService")},4890:(Fe,Ne,m)=>{m.d(Ne,{S:()=>g});const g=(0,m(43569).yh)("dialogService")},24286:(Fe,Ne,m)=>{m.d(Ne,{M:()=>E});class E{constructor(Y,B=[],D=!1){this.ctor=Y,this.staticArguments=B,this.supportsDelayedInstantiation=D}}},26033:(Fe,Ne,m)=>{m.d(Ne,{z:()=>Y,d:()=>B});var E=m(24286);const g=[];function Y(D,i,O){i instanceof E.M||(i=new E.M(i,[],O)),g.push([D,i])}function B(){return g}},43569:(Fe,Ne,m)=>{var E,D;m.d(Ne,{I8:()=>E,TG:()=>g,yh:()=>B}),(D=E||(E={})).serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies",D.getServiceDependencies=function(O){return O[D.DI_DEPENDENCIES]||[]};const g=B("instantiationService");function Y(D,i,O){i[E.DI_TARGET]===i?i[E.DI_DEPENDENCIES].push({id:D,index:O}):(i[E.DI_DEPENDENCIES]=[{id:D,index:O}],i[E.DI_TARGET]=i)}function B(D){if(E.serviceIds.has(D))return E.serviceIds.get(D);const i=function(O,F,k){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Y(i,O,k)};return i.toString=()=>D,E.serviceIds.set(D,i),i}},9771:(Fe,Ne,m)=>{m.d(Ne,{y:()=>E});class E{constructor(...Y){this._entries=new Map;for(let[B,D]of Y)this.set(B,D)}set(Y,B){const D=this._entries.get(Y);return this._entries.set(Y,B),D}get(Y){return this._entries.get(Y)}}},42620:(Fe,Ne,m)=>{m.d(Ne,{I:()=>Y});var E=m(71040),g=m(63779);const Y={JSONContribution:"base.contributions.json"},i=new class{constructor(){this._onDidChangeSchema=new E.Q5,this.schemasById={}}registerSchema(F,k){var O;this.schemasById[(O=F,O.length>0&&"#"===O.charAt(O.length-1)?O.substring(0,O.length-1):O)]=k,this._onDidChangeSchema.fire(F)}notifySchemaChanged(F){this._onDidChangeSchema.fire(F)}};g.B.add(Y.JSONContribution,i)},96938:(Fe,Ne,m)=>{m.d(Ne,{d:()=>g});const g=(0,m(43569).yh)("keybindingService")},22115:(Fe,Ne,m)=>{m.d(Ne,{W:()=>i});var E=m(99315),g=m(70700),Y=m(10467),B=m(63779);class D{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(y){if(1===g.OS){if(y&&y.win)return y.win}else if(2===g.OS){if(y&&y.mac)return y.mac}else if(y&&y.linux)return y.linux;return y}registerKeybindingRule(y){const C=D.bindToCurrentPlatform(y);if(C&&C.primary){const b=(0,E.gm)(C.primary,g.OS);b&&this._registerDefaultKeybinding(b,y.id,y.args,y.weight,0,y.when)}if(C&&Array.isArray(C.secondary))for(let b=0,x=C.secondary.length;b<x;b++){const M=(0,E.gm)(C.secondary[b],g.OS);M&&this._registerDefaultKeybinding(M,y.id,y.args,y.weight,-b-1,y.when)}}registerCommandAndKeybindingRule(y){this.registerKeybindingRule(y),Y.P0.registerCommand(y)}static _mightProduceChar(y){return y>=21&&y<=30||y>=31&&y<=56||80===y||81===y||82===y||83===y||84===y||85===y||86===y||110===y||111===y||87===y||88===y||89===y||90===y||91===y||92===y}_assertNoCtrlAlt(y,C){y.ctrlKey&&y.altKey&&!y.metaKey&&D._mightProduceChar(y.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",y," for ",C)}_registerDefaultKeybinding(y,C,b,x,f,M){1===g.OS&&this._assertNoCtrlAlt(y.parts[0],C),this._coreKeybindings.push({keybinding:y.parts,command:C,commandArgs:b,when:M,weight1:x,weight2:f,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(F)),this._cachedMergedKeybindings.slice(0)}}const i=new D;function F(k,y){return k.weight1!==y.weight1?k.weight1-y.weight1:k.command<y.command?-1:k.command>y.command?1:k.weight2-y.weight2}B.B.add("platform.keybindingsRegistry",i)},7022:(Fe,Ne,m)=>{m.d(Ne,{e:()=>g});const g=(0,m(43569).yh)("labelService")},68526:(Fe,Ne,m)=>{m.d(Ne,{Lw:()=>Mi,XN:()=>li,ls:()=>Ki,ev:()=>or,CQ:()=>Ci,PS:()=>ji,uJ:()=>oi});var E=m(86678),g=m(89822),Y=m(66607),B=m(71040),D=m(40189),O=(m(72010),m(2393));class F{constructor(A,h){this.renderer=A,this.modelProvider=h}get templateId(){return this.renderer.templateId}renderTemplate(A){return{data:this.renderer.renderTemplate(A),disposable:D.JT.None}}renderElement(A,h,S,W){if(S.disposable&&S.disposable.dispose(),!S.data)return;const te=this.modelProvider();if(te.isResolved(A))return this.renderer.renderElement(te.get(A),A,S.data,W);const ae=new Y.A,be=te.resolve(A,ae.token);S.disposable={dispose:()=>ae.cancel()},this.renderer.renderPlaceholder(A,S.data),be.then(Oe=>this.renderer.renderElement(Oe,A,S.data,W))}disposeTemplate(A){A.disposable&&(A.disposable.dispose(),A.disposable=void 0),A.data&&(this.renderer.disposeTemplate(A.data),A.data=void 0)}}class k{constructor(A,h){this.modelProvider=A,this.accessibilityProvider=h}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(A){const h=this.modelProvider();return h.isResolved(A)?this.accessibilityProvider.getAriaLabel(h.get(A)):null}}var b=m(14410);m(75601);let f=(()=>{class yt{constructor(h,S,W){this.columns=h,this.getColumnSize=W,this.templateId=yt.TemplateId,this.renderedTemplates=new Set;const te=new Map(S.map(ae=>[ae.templateId,ae]));this.renderers=[];for(const ae of h){const be=te.get(ae.templateId);if(!be)throw new Error(`Table cell renderer for template id ${ae.templateId} not found.`);this.renderers.push(be)}}renderTemplate(h){const S=(0,E.R3)(h,(0,E.$)(".monaco-table-tr")),W=[],te=[];for(let be=0;be<this.columns.length;be++){const Oe=this.renderers[be],Re=(0,E.R3)(S,(0,E.$)(".monaco-table-td",{"data-col-index":be}));Re.style.width=`${this.getColumnSize(be)}px`,W.push(Re),te.push(Oe.renderTemplate(Re))}const ae={container:h,cellContainers:W,cellTemplateData:te};return this.renderedTemplates.add(ae),ae}renderElement(h,S,W,te){for(let ae=0;ae<this.columns.length;ae++){const Oe=this.columns[ae].project(h);this.renderers[ae].renderElement(Oe,S,W.cellTemplateData[ae],te)}}disposeElement(h,S,W,te){for(let ae=0;ae<this.columns.length;ae++){const be=this.renderers[ae];if(be.disposeElement){const Re=this.columns[ae].project(h);be.disposeElement(Re,S,W.cellTemplateData[ae],te)}}}disposeTemplate(h){for(let S=0;S<this.columns.length;S++)this.renderers[S].disposeTemplate(h.cellTemplateData[S]);(0,E.PO)(h.container),this.renderedTemplates.delete(h)}layoutColumn(h,S){for(const{cellContainers:W}of this.renderedTemplates)W[h].style.width=`${S}px`}}return yt.TemplateId="row",yt})();class H{constructor(A,h){this.column=A,this.index=h,this._onDidLayout=new B.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,E.$)(".monaco-table-th",{"data-col-index":h,title:A.tooltip},A.label)}get minimumSize(){var A;return null!==(A=this.column.minimumWidth)&&void 0!==A?A:120}get maximumSize(){var A;return null!==(A=this.column.maximumWidth)&&void 0!==A?A:Number.POSITIVE_INFINITY}get onDidChange(){var A;return null!==(A=this.column.onDidChangeWidthConstraints)&&void 0!==A?A:B.ju.None}layout(A){this._onDidLayout.fire([this.index,A])}}let L=(()=>{class yt{constructor(h,S,W,te,ae,be){this.virtualDelegate=W,this.domId="table_id_"+ ++yt.InstanceCount,this.disposables=new D.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,E.R3)(S,(0,E.$)(`.monaco-table.${this.domId}`));const Oe=te.map((Je,it)=>new H(Je,it)),Re={size:Oe.reduce((Je,it)=>Je+it.column.weight,0),views:Oe.map(Je=>({size:Je.column.weight,view:Je}))};this.splitview=this.disposables.add(new b.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Re})),this.splitview.el.style.height=`${W.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${W.headerRowHeight}px`;const Ze=new f(te,ae,Je=>this.splitview.getViewSize(Je));this.list=this.disposables.add(new O.aV(h,this.domNode,function(yt){return{getHeight:A=>yt.getHeight(A),getTemplateId:()=>f.TemplateId}}(W),[Ze],be)),B.ju.any(...Oe.map(Je=>Je.onDidLayout))(([Je,it])=>Ze.layoutColumn(Je,it),null,this.disposables),this.splitview.onDidSashReset(Je=>{const it=te.reduce((gt,Nt)=>gt+Nt.weight,0);this.splitview.resizeView(Je,te[Je].weight/it*this.cachedWidth)},null,this.disposables),this.styleElement=(0,E.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(h){this.list.updateOptions(h)}splice(h,S,W=[]){this.list.splice(h,S,W)}getHTMLElement(){return this.domNode}style(h){const S=[];S.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=S.join("\n"),this.list.style(h)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return yt.InstanceCount=0,yt})();var N=m(87136),Z=m(34122),P=m(71172),I=m(714),$=(()=>{return(yt=$||($={}))[yt.Unknown=0]="Unknown",yt[yt.Twistie=1]="Twistie",yt[yt.Element=2]="Element",$;var yt})();class U extends Error{constructor(A,h){super(`TreeError [${A}] ${h}`)}}class G{constructor(A){this.fn=A,this._map=new WeakMap}map(A){let h=this._map.get(A);return h||(h=this.fn(A),this._map.set(A,h)),h}}var oe=m(89983),de=m(87481),fe=m(58151);function _e(yt){return"object"==typeof yt&&"visibility"in yt&&"data"in yt}function we(yt){switch(yt){case!0:return 1;case!1:return 0;default:return yt}}function me(yt){return"boolean"==typeof yt.collapsible}class Q{constructor(A,h,S,W={}){this.user=A,this.list=h,this.rootRef=[],this.eventBufferer=new B.E7,this._onDidChangeCollapseState=new B.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new B.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new B.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new oe.vp(oe.ne),this.collapseByDefault=void 0!==W.collapseByDefault&&W.collapseByDefault,this.filter=W.filter,this.autoExpandSingleChildren=void 0!==W.autoExpandSingleChildren&&W.autoExpandSingleChildren,this.root={parent:void 0,element:S,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(A,h,S=fe.$.empty(),W={}){if(0===A.length)throw new U(this.user,"Invalid tree location");W.diffIdentityProvider?this.spliceSmart(W.diffIdentityProvider,A,h,S,W):this.spliceSimple(A,h,S,W)}spliceSmart(A,h,S,W,te,ae){var be;void 0===W&&(W=fe.$.empty()),void 0===ae&&(ae=null!==(be=te.diffDepth)&&void 0!==be?be:0);const{parentNode:Oe}=this.getParentNodeWithListIndex(h);if(!Oe.lastDiffIds)return this.spliceSimple(h,S,W,te);const Re=[...W],Ze=h[h.length-1],Je=new de.Hs({getElements:()=>Oe.lastDiffIds},{getElements:()=>[...Oe.children.slice(0,Ze),...Re,...Oe.children.slice(Ze+S)].map(Wt=>A.getId(Wt.element).toString())}).ComputeDiff(!1);if(Je.quitEarly)return Oe.lastDiffIds=void 0,this.spliceSimple(h,S,Re,te);const it=h.slice(0,-1),ft=(Wt,Gt,Nn)=>{if(ae>0)for(let qn=0;qn<Nn;qn++)Wt--,Gt--,this.spliceSmart(A,[...it,Wt,0],Number.MAX_SAFE_INTEGER,Re[Gt].children,te,ae-1)};let gt=Math.min(Oe.children.length,Ze+S),Nt=Re.length;for(const Wt of Je.changes.sort((Gt,Nn)=>Nn.originalStart-Gt.originalStart))ft(gt,Nt,gt-(Wt.originalStart+Wt.originalLength)),gt=Wt.originalStart,Nt=Wt.modifiedStart-Ze,this.spliceSimple([...it,gt],Wt.originalLength,fe.$.slice(Re,Nt,Nt+Wt.modifiedLength),te);ft(gt,Nt,gt)}spliceSimple(A,h,S=fe.$.empty(),{onDidCreateNode:W,onDidDeleteNode:te,diffIdentityProvider:ae}){const{parentNode:be,listIndex:Oe,revealed:Re,visible:Ze}=this.getParentNodeWithListIndex(A),Je=[],it=fe.$.map(S,ci=>this.createTreeNode(ci,be,be.visible?1:0,Re,Je,W)),ft=A[A.length-1],gt=be.children.length>0;let Nt=0;for(let ci=ft;ci>=0&&ci<be.children.length;ci--){const mo=be.children[ci];if(mo.visible){Nt=mo.visibleChildIndex;break}}const Wt=[];let Gt=0,Nn=0;for(const ci of it)Wt.push(ci),Nn+=ci.renderNodeCount,ci.visible&&(ci.visibleChildIndex=Nt+Gt++);const qn=(0,g.db)(be.children,ft,h,Wt);ae?be.lastDiffIds?(0,g.db)(be.lastDiffIds,ft,h,Wt.map(ci=>ae.getId(ci.element).toString())):be.lastDiffIds=be.children.map(ci=>ae.getId(ci.element).toString()):be.lastDiffIds=void 0;let di=0;for(const ci of qn)ci.visible&&di++;if(0!==di)for(let ci=ft+Wt.length;ci<be.children.length;ci++){const mo=be.children[ci];mo.visible&&(mo.visibleChildIndex-=di)}if(be.visibleChildrenCount+=Gt-di,Re&&Ze){const ci=qn.reduce((mo,As)=>mo+(As.visible?As.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(be,Nn-ci),this.list.splice(Oe,ci,Je)}if(qn.length>0&&te){const ci=mo=>{te(mo),mo.children.forEach(ci)};qn.forEach(ci)}this._onDidSplice.fire({insertedNodes:Wt,deletedNodes:qn});const _t=be.children.length>0;gt!==_t&&this.setCollapsible(A.slice(0,-1),_t);let Pi=be;for(;Pi;){if(2===Pi.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}Pi=Pi.parent}}rerender(A){if(0===A.length)throw new U(this.user,"Invalid tree location");const{node:h,listIndex:S,revealed:W}=this.getTreeNodeWithListIndex(A);h.visible&&W&&this.list.splice(S,1,[h])}has(A){return this.hasTreeNode(A)}getListIndex(A){const{listIndex:h,visible:S,revealed:W}=this.getTreeNodeWithListIndex(A);return S&&W?h:-1}getListRenderCount(A){return this.getTreeNode(A).renderNodeCount}isCollapsible(A){return this.getTreeNode(A).collapsible}setCollapsible(A,h){const S=this.getTreeNode(A);void 0===h&&(h=!S.collapsible);const W={collapsible:h};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(A,W))}isCollapsed(A){return this.getTreeNode(A).collapsed}setCollapsed(A,h,S){const W=this.getTreeNode(A);void 0===h&&(h=!W.collapsed);const te={collapsed:h,recursive:S||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(A,te))}_setCollapseState(A,h){const{node:S,listIndex:W,revealed:te}=this.getTreeNodeWithListIndex(A),ae=this._setListNodeCollapseState(S,W,te,h);if(S!==this.root&&this.autoExpandSingleChildren&&ae&&!me(h)&&S.collapsible&&!S.collapsed&&!h.recursive){let be=-1;for(let Oe=0;Oe<S.children.length;Oe++)if(S.children[Oe].visible){if(be>-1){be=-1;break}be=Oe}be>-1&&this._setCollapseState([...A,be],h)}return ae}_setListNodeCollapseState(A,h,S,W){const te=this._setNodeCollapseState(A,W,!1);if(!S||!A.visible||!te)return te;const ae=A.renderNodeCount,be=this.updateNodeAfterCollapseChange(A);return this.list.splice(h+1,ae-(-1===h?0:1),be.slice(1)),te}_setNodeCollapseState(A,h,S){let W;if(A===this.root?W=!1:(me(h)?(W=A.collapsible!==h.collapsible,A.collapsible=h.collapsible):A.collapsible?(W=A.collapsed!==h.collapsed,A.collapsed=h.collapsed):W=!1,W&&this._onDidChangeCollapseState.fire({node:A,deep:S})),!me(h)&&h.recursive)for(const te of A.children)W=this._setNodeCollapseState(te,h,!0)||W;return W}expandTo(A){this.eventBufferer.bufferEvents(()=>{let h=this.getTreeNode(A);for(;h.parent;)h=h.parent,A=A.slice(0,A.length-1),h.collapsed&&this._setCollapseState(A,{collapsed:!1,recursive:!1})})}refilter(){const A=this.root.renderNodeCount,h=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,A,h),this.refilterDelayer.cancel()}createTreeNode(A,h,S,W,te,ae){const be={parent:h,element:A.element,children:[],depth:h.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof A.collapsible?A.collapsible:void 0!==A.collapsed,collapsed:void 0===A.collapsed?this.collapseByDefault:A.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},Oe=this._filterNode(be,S);be.visibility=Oe,W&&te.push(be);const Re=A.children||fe.$.empty(),Ze=W&&0!==Oe&&!be.collapsed,Je=fe.$.map(Re,gt=>this.createTreeNode(gt,be,Oe,Ze,te,ae));let it=0,ft=1;for(const gt of Je)be.children.push(gt),ft+=gt.renderNodeCount,gt.visible&&(gt.visibleChildIndex=it++);return be.collapsible=be.collapsible||be.children.length>0,be.visibleChildrenCount=it,be.visible=2===Oe?it>0:1===Oe,be.visible?be.collapsed||(be.renderNodeCount=ft):(be.renderNodeCount=0,W&&te.pop()),ae&&ae(be),be}updateNodeAfterCollapseChange(A){const h=A.renderNodeCount,S=[];return this._updateNodeAfterCollapseChange(A,S),this._updateAncestorsRenderNodeCount(A.parent,S.length-h),S}_updateNodeAfterCollapseChange(A,h){if(!1===A.visible)return 0;if(h.push(A),A.renderNodeCount=1,!A.collapsed)for(const S of A.children)A.renderNodeCount+=this._updateNodeAfterCollapseChange(S,h);return this._onDidChangeRenderNodeCount.fire(A),A.renderNodeCount}updateNodeAfterFilterChange(A){const h=A.renderNodeCount,S=[];return this._updateNodeAfterFilterChange(A,A.visible?1:0,S),this._updateAncestorsRenderNodeCount(A.parent,S.length-h),S}_updateNodeAfterFilterChange(A,h,S,W=!0){let te;if(A!==this.root){if(te=this._filterNode(A,h),0===te)return A.visible=!1,A.renderNodeCount=0,!1;W&&S.push(A)}const ae=S.length;A.renderNodeCount=A===this.root?0:1;let be=!1;if(A.collapsed&&0===te)A.visibleChildrenCount=0;else{let Oe=0;for(const Re of A.children)be=this._updateNodeAfterFilterChange(Re,te,S,W&&!A.collapsed)||be,Re.visible&&(Re.visibleChildIndex=Oe++);A.visibleChildrenCount=Oe}return A!==this.root&&(A.visible=2===te?be:1===te,A.visibility=te),A.visible?A.collapsed||(A.renderNodeCount+=S.length-ae):(A.renderNodeCount=0,W&&S.pop()),this._onDidChangeRenderNodeCount.fire(A),A.visible}_updateAncestorsRenderNodeCount(A,h){if(0!==h)for(;A;)A.renderNodeCount+=h,this._onDidChangeRenderNodeCount.fire(A),A=A.parent}_filterNode(A,h){const S=this.filter?this.filter.filter(A.element,h):1;return"boolean"==typeof S?(A.filterData=void 0,S?1:0):_e(S)?(A.filterData=S.data,we(S.visibility)):(A.filterData=void 0,we(S))}hasTreeNode(A,h=this.root){if(!A||0===A.length)return!0;const[S,...W]=A;return!(S<0||S>h.children.length)&&this.hasTreeNode(W,h.children[S])}getTreeNode(A,h=this.root){if(!A||0===A.length)return h;const[S,...W]=A;if(S<0||S>h.children.length)throw new U(this.user,"Invalid tree location");return this.getTreeNode(W,h.children[S])}getTreeNodeWithListIndex(A){if(0===A.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:h,listIndex:S,revealed:W,visible:te}=this.getParentNodeWithListIndex(A),ae=A[A.length-1];if(ae<0||ae>h.children.length)throw new U(this.user,"Invalid tree location");const be=h.children[ae];return{node:be,listIndex:S,revealed:W,visible:te&&be.visible}}getParentNodeWithListIndex(A,h=this.root,S=0,W=!0,te=!0){const[ae,...be]=A;if(ae<0||ae>h.children.length)throw new U(this.user,"Invalid tree location");for(let Oe=0;Oe<ae;Oe++)S+=h.children[Oe].renderNodeCount;return W=W&&!h.collapsed,te=te&&h.visible,0===be.length?{parentNode:h,listIndex:S,revealed:W,visible:te}:this.getParentNodeWithListIndex(be,h.children[ae],S+1,W,te)}getNode(A=[]){return this.getTreeNode(A)}getNodeLocation(A){const h=[];let S=A;for(;S.parent;)h.push(S.parent.children.indexOf(S)),S=S.parent;return h.reverse()}getParentNodeLocation(A){if(0!==A.length)return 1===A.length?[]:(0,g.JH)(A)[0]}getFirstElementChild(A){const h=this.getTreeNode(A);if(0!==h.children.length)return h.children[0].element}}var q=m(78968),le=m(81530),ee=m(56260),J=m(31096),re=m(70700),ve=(m(79652),m(12918));class ke extends N.kX{constructor(A){super(A.elements.map(h=>h.element)),this.data=A}}function We(yt){return yt instanceof N.kX?new ke(yt):yt}class je{constructor(A,h){this.modelProvider=A,this.dnd=h,this.autoExpandDisposable=D.JT.None}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,h){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(S=>S.element),h)}onDragStart(A,h){this.dnd.onDragStart&&this.dnd.onDragStart(We(A),h)}onDragOver(A,h,S,W,te=!0){const ae=this.dnd.onDragOver(We(A),h&&h.element,S,W),be=this.autoExpandNode!==h;if(be&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=h),void 0===h)return ae;if(be&&"boolean"!=typeof ae&&ae.autoExpand&&(this.autoExpandDisposable=(0,oe.Vg)(()=>{const it=this.modelProvider(),ft=it.getNodeLocation(h);it.isCollapsed(ft)&&it.setCollapsed(ft,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof ae||!ae.accept||void 0===ae.bubble||ae.feedback)return te?ae:{accept:"boolean"==typeof ae?ae:ae.accept,effect:"boolean"==typeof ae?void 0:ae.effect,feedback:[S]};if(1===ae.bubble){const it=this.modelProvider(),ft=it.getNodeLocation(h),gt=it.getParentNodeLocation(ft),Nt=it.getNode(gt),Wt=gt&&it.getListIndex(gt);return this.onDragOver(A,Nt,Wt,W,!1)}const Oe=this.modelProvider(),Re=Oe.getNodeLocation(h),Ze=Oe.getListIndex(Re),Je=Oe.getListRenderCount(Re);return Object.assign(Object.assign({},ae),{feedback:(0,g.w6)(Ze,Ze+Je)})}drop(A,h,S,W){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(We(A),h&&h.element,S,W)}onDragEnd(A){this.dnd.onDragEnd&&this.dnd.onDragEnd(A)}}class Ce{constructor(A){this.delegate=A}getHeight(A){return this.delegate.getHeight(A.element)}getTemplateId(A){return this.delegate.getTemplateId(A.element)}hasDynamicHeight(A){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(A.element)}setDynamicHeight(A,h){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(A.element,h)}}var Ae=(()=>{return(yt=Ae||(Ae={})).None="none",yt.OnHover="onHover",yt.Always="always",Ae;var yt})();class et{constructor(A,h=[]){this._elements=h,this.onDidChange=B.ju.forEach(A,S=>this._elements=S)}get elements(){return this._elements}}let $e=(()=>{class yt{constructor(h,S,W,te,ae={}){this.renderer=h,this.modelProvider=S,this.activeNodes=te,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=yt.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new le.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=D.JT.None,this.disposables=new D.SL,this.templateId=h.templateId,this.updateOptions(ae),B.ju.map(W,be=>be.node)(this.onDidChangeNodeTwistieState,this,this.disposables),h.onDidChangeTwistieState&&h.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(h={}){if(void 0!==h.indent&&(this.indent=(0,J.uZ)(h.indent,0,40)),void 0!==h.renderIndentGuides){const S=h.renderIndentGuides!==Ae.None;if(S!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=S,this.indentGuidesDisposable.dispose(),S)){const W=new D.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,W),this.indentGuidesDisposable=W,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==h.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=h.hideTwistiesOfChildlessElements)}renderTemplate(h){const S=(0,E.R3)(h,(0,E.$)(".monaco-tl-row")),W=(0,E.R3)(S,(0,E.$)(".monaco-tl-indent")),te=(0,E.R3)(S,(0,E.$)(".monaco-tl-twistie")),ae=(0,E.R3)(S,(0,E.$)(".monaco-tl-contents")),be=this.renderer.renderTemplate(ae);return{container:h,indent:W,twistie:te,indentGuidesDisposable:D.JT.None,templateData:be}}renderElement(h,S,W,te){"number"==typeof te&&(this.renderedNodes.set(h,{templateData:W,height:te}),this.renderedElements.set(h.element,h));const ae=yt.DefaultIndent+(h.depth-1)*this.indent;W.twistie.style.paddingLeft=`${ae}px`,W.indent.style.width=ae+this.indent-16+"px",this.renderTwistie(h,W),"number"==typeof te&&this.renderIndentGuides(h,W),this.renderer.renderElement(h,S,W.templateData,te)}disposeElement(h,S,W,te){W.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(h,S,W.templateData,te),"number"==typeof te&&(this.renderedNodes.delete(h),this.renderedElements.delete(h.element))}disposeTemplate(h){this.renderer.disposeTemplate(h.templateData)}onDidChangeTwistieState(h){const S=this.renderedElements.get(h);!S||this.onDidChangeNodeTwistieState(S)}onDidChangeNodeTwistieState(h){const S=this.renderedNodes.get(h);!S||(this.renderTwistie(h,S.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(h,S.templateData))}renderTwistie(h,S){S.twistie.classList.remove(...q.lA.treeItemExpanded.classNamesArray);let W=!1;this.renderer.renderTwistie&&(W=this.renderer.renderTwistie(h.element,S.twistie)),h.collapsible&&(!this.hideTwistiesOfChildlessElements||h.visibleChildrenCount>0)?(W||S.twistie.classList.add(...q.lA.treeItemExpanded.classNamesArray),S.twistie.classList.add("collapsible"),S.twistie.classList.toggle("collapsed",h.collapsed)):S.twistie.classList.remove("collapsible","collapsed"),h.collapsible?S.container.setAttribute("aria-expanded",String(!h.collapsed)):S.container.removeAttribute("aria-expanded")}renderIndentGuides(h,S){if((0,E.PO)(S.indent),S.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const W=new D.SL,te=this.modelProvider();let ae=h;for(;;){const be=te.getNodeLocation(ae),Oe=te.getParentNodeLocation(be);if(!Oe)break;const Re=te.getNode(Oe),Ze=(0,E.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Re)&&Ze.classList.add("active"),0===S.indent.childElementCount?S.indent.appendChild(Ze):S.indent.insertBefore(Ze,S.indent.firstElementChild),this.renderedIndentGuides.add(Re,Ze),W.add((0,D.OF)(()=>this.renderedIndentGuides.delete(Re,Ze))),ae=Re}S.indentGuidesDisposable=W}_onDidChangeActiveNodes(h){if(!this.shouldRenderIndentGuides)return;const S=new Set,W=this.modelProvider();h.forEach(te=>{const ae=W.getNodeLocation(te);try{const be=W.getParentNodeLocation(ae);te.collapsible&&te.children.length>0&&!te.collapsed?S.add(te):be&&S.add(W.getNode(be))}catch{}}),this.activeIndentNodes.forEach(te=>{S.has(te)||this.renderedIndentGuides.forEach(te,ae=>ae.classList.remove("active"))}),S.forEach(te=>{this.activeIndentNodes.has(te)||this.renderedIndentGuides.forEach(te,ae=>ae.classList.add("active"))}),this.activeIndentNodes=S}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,D.B9)(this.disposables)}}return yt.DefaultIndent=8,yt})();class Te{constructor(A,h,S){this.tree=A,this.keyboardNavigationLabelProvider=h,this._filter=S,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new D.SL,A.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(A){this._pattern=A,this._lowercasePattern=A.toLowerCase()}filter(A,h){if(this._filter){const te=this._filter.filter(A,h);if(this.tree.options.simpleKeyboardNavigation)return te;let ae;if(ae="boolean"==typeof te?te?1:0:_e(te)?we(te.visibility):te,0===ae)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:ee.CL.Default,visibility:!0};const S=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A),W=Array.isArray(S)?S:[S];for(const te of W){const ae=te&&te.toString();if(void 0===ae)return{data:ee.CL.Default,visibility:!0};const be=(0,ee.EW)(this._pattern,this._lowercasePattern,0,ae,ae.toLowerCase(),0,!0);if(be)return this._matchCount++,1===W.length?{data:be,visibility:!0}:{data:{label:ae,score:be},visibility:!0}}return this.tree.options.filterOnType?2:{data:ee.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,D.B9)(this.disposables)}}class rt{constructor(A,h,S,W,te){this.tree=A,this.view=S,this.filter=W,this.keyboardNavigationDelegate=te,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new B.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new B.Q5,this.enabledDisposables=new D.SL,this.disposables=new D.SL,this.domNode=(0,E.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,E.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,E.R3)(S.getHTMLElement(),(0,E.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,E.R3)(this.domNode,(0,E.$)("span.label"));const ae=(0,E.R3)(this.domNode,(0,E.$)(".controls"));this._filterOnType=!!A.options.filterOnType,this.filterOnTypeDomNode=(0,E.R3)(ae,(0,E.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,E.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,E.R3)(ae,(0,E.$)("button.clear"+q.lA.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,ve.N)("clear","Clear"),this.keyboardNavigationEventFilter=A.options.keyboardNavigationEventFilter,h.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(A.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(A){A.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==A.filterOnType&&(this._filterOnType=!!A.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==A.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=A.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const A=this.enabledDisposables.add(new P.Y(this.view.getHTMLElement(),"keydown")),h=B.ju.chain(A.event).filter(W=>!(0,O.cK)(W.target)||W.target===this.filterOnTypeDomNode).filter(W=>"Dead"!==W.key&&!/^Media/.test(W.key)).map(W=>new I.y(W)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(W=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(W)&&!(18===W.keyCode||16===W.keyCode||15===W.keyCode||17===W.keyCode)||(this.pattern.length>0||this.triggered)&&(9===W.keyCode||1===W.keyCode)&&!W.altKey&&!W.ctrlKey&&!W.metaKey||1===W.keyCode&&(re.dz?W.altKey&&!W.metaKey:W.ctrlKey)&&!W.shiftKey).forEach(W=>{W.stopPropagation(),W.preventDefault()}).event,S=this.enabledDisposables.add(new P.Y(this.clearDomNode,"click"));B.ju.chain(B.ju.any(h,S.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(A){"string"==typeof A?this.onInput(A):A instanceof MouseEvent||9===A.keyCode||1===A.keyCode&&(re.dz?A.altKey:A.ctrlKey)?this.onInput(""):this.onInput(1===A.keyCode?0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1):this.pattern+A.browserEvent.key)}onInput(A){const h=this.view.getHTMLElement();A&&!this.domNode.parentElement?h.append(this.domNode):!A&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=A,this._onDidChangePattern.fire(A),this.filter.pattern=A,this.tree.refilter(),A&&this.tree.focusNext(0,!0,void 0,W=>!ee.CL.isDefault(W.filterData));const S=this.tree.getFocus();if(S.length>0){const W=S[0];null===this.tree.getRelativeTop(W)&&this.tree.reveal(W,.5)}this.render(),A||(this.triggered=!1)}onDragStart(){const A=this.view.getHTMLElement(),{left:h}=(0,E.i)(A),S=A.clientWidth,W=S/2,te=this.domNode.clientWidth,ae=new D.SL;let be=this.positionClassName;const Oe=()=>{switch(be){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=S-te-6+"px"}},Ze=()=>{this.positionClassName=be,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,D.B9)(ae)};Oe(),this.domNode.classList.remove(be),this.domNode.classList.add("dragging"),ae.add((0,D.OF)(()=>this.domNode.classList.remove("dragging"))),ae.add((0,E.nm)(document,"dragover",Je=>(Je=>{Je.preventDefault();const it=Je.clientX-h;Je.dataTransfer&&(Je.dataTransfer.dropEffect="none"),be=it<W?"nw":"ne",Oe()})(Je))),ae.add((0,E.nm)(this.domNode,"dragend",()=>Ze())),Z.P$.CurrentDragAndDropData=new Z.TN("vscode-ui"),ae.add((0,D.OF)(()=>Z.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||0===this.pattern.length||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...q.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...q.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,ve.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...q.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...q.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,ve.N)("enable filter on type","Enable Filter on Type"))}render(){const A=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&A?(this.messageDomNode.textContent=(0,ve.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",A),this.domNode.title=(0,ve.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(A){return!(this.enabled&&this.pattern&&!this.filterOnType&&!(this.filter.totalCount>0&&this.filter.matchCount<=1)&&ee.CL.isDefault(A.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,D.B9)(this.disposables)}}function ht(yt){let A=$.Unknown;return(0,E.uU)(yt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?A=$.Twistie:(0,E.uU)(yt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(A=$.Element),{browserEvent:yt.browserEvent,element:yt.element?yt.element.element:null,target:A}}function nt(yt,A){A(yt),yt.children.forEach(h=>nt(h,A))}class xe{constructor(A,h){this.getFirstViewElementWithTrait=A,this.identityProvider=h,this.nodes=[],this._onDidChange=new B.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(A,h){!(null==h?void 0:h.__forceEvent)&&(0,g.fS)(this.nodes,A)||this._set(A,!1,h)}_set(A,h,S){if(this.nodes=[...A],this.elements=void 0,this._nodeSet=void 0,!h){const W=this;this._onDidChange.fire({get elements(){return W.get()},browserEvent:S})}}get(){return this.elements||(this.elements=this.nodes.map(A=>A.element)),[...this.elements]}getNodes(){return this.nodes}has(A){return this.nodeSet.has(A)}onDidModelSplice({insertedNodes:A,deletedNodes:h}){if(!this.identityProvider){const Oe=this.createNodeSet(),Re=Ze=>Oe.delete(Ze);return h.forEach(Ze=>nt(Ze,Re)),void this.set([...Oe.values()])}const S=new Set,W=Oe=>S.add(this.identityProvider.getId(Oe.element).toString());h.forEach(Oe=>nt(Oe,W));const te=new Map,ae=Oe=>te.set(this.identityProvider.getId(Oe.element).toString(),Oe);A.forEach(Oe=>nt(Oe,ae));const be=[];for(const Oe of this.nodes){const Re=this.identityProvider.getId(Oe.element).toString();if(S.has(Re)){const Je=te.get(Re);Je&&be.push(Je)}else be.push(Oe)}if(this.nodes.length>0&&0===be.length){const Oe=this.getFirstViewElementWithTrait();Oe&&be.push(Oe)}this._set(be,!0)}createNodeSet(){const A=new Set;for(const h of this.nodes)A.add(h);return A}}class Ie extends O.sx{constructor(A,h){super(A),this.tree=h}onViewPointer(A){if((0,O.cK)(A.browserEvent.target)||(0,O.hD)(A.browserEvent.target))return;const h=A.element;if(!h)return super.onViewPointer(A);if(this.isSelectionRangeChangeEvent(A)||this.isSelectionSingleChangeEvent(A))return super.onViewPointer(A);const S=A.browserEvent.target,W=S.classList.contains("monaco-tl-twistie")||S.classList.contains("monaco-icon-label")&&S.classList.contains("folder-icon")&&A.browserEvent.offsetX<16;let te=!1;if(te="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(h.element):!!this.tree.expandOnlyOnTwistieClick,te&&!W&&2!==A.browserEvent.detail)return super.onViewPointer(A);if(!this.tree.expandOnDoubleClick&&2===A.browserEvent.detail)return super.onViewPointer(A);if(h.collapsible){const ae=this.tree.model,be=ae.getNodeLocation(h),Oe=A.browserEvent.altKey;if(this.tree.setFocus([be]),ae.setCollapsed(be,void 0,Oe),te&&W)return}super.onViewPointer(A)}onDoubleClick(A){A.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(A)}}class at extends O.aV{constructor(A,h,S,W,te,ae,be,Oe){super(A,h,S,W,Oe),this.focusTrait=te,this.selectionTrait=ae,this.anchorTrait=be}createMouseController(A){return new Ie(this,A.tree)}splice(A,h,S=[]){if(super.splice(A,h,S),0===S.length)return;const W=[],te=[];let ae;S.forEach((be,Oe)=>{this.focusTrait.has(be)&&W.push(A+Oe),this.selectionTrait.has(be)&&te.push(A+Oe),this.anchorTrait.has(be)&&(ae=A+Oe)}),W.length>0&&super.setFocus((0,g.EB)([...super.getFocus(),...W])),te.length>0&&super.setSelection((0,g.EB)([...super.getSelection(),...te])),"number"==typeof ae&&super.setAnchor(ae)}setFocus(A,h,S=!1){super.setFocus(A,h),S||this.focusTrait.set(A.map(W=>this.element(W)),h)}setSelection(A,h,S=!1){super.setSelection(A,h),S||this.selectionTrait.set(A.map(W=>this.element(W)),h)}setAnchor(A,h=!1){super.setAnchor(A),h||this.anchorTrait.set(void 0===A?[]:[this.element(A)])}}class bt{constructor(A,h,S,W,te={}){this._user=A,this._options=te,this.eventBufferer=new B.E7,this.disposables=new D.SL,this._onWillRefilter=new B.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new B.Q5;const ae=new Ce(S),be=new B.ZD,Oe=new B.ZD,Re=new et(Oe.event);this.renderers=W.map(it=>new $e(it,()=>this.model,be.event,Re,te));for(let it of this.renderers)this.disposables.add(it);let Ze;te.keyboardNavigationLabelProvider&&(Ze=new Te(this,te.keyboardNavigationLabelProvider,te.filter),te=Object.assign(Object.assign({},te),{filter:Ze}),this.disposables.add(Ze)),this.focus=new xe(()=>this.view.getFocusedElements()[0],te.identityProvider),this.selection=new xe(()=>this.view.getSelectedElements()[0],te.identityProvider),this.anchor=new xe(()=>this.view.getAnchorElement(),te.identityProvider),this.view=new at(A,h,ae,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function(yt,A){return A&&Object.assign(Object.assign({},A),{identityProvider:A.identityProvider&&{getId:h=>A.identityProvider.getId(h.element)},dnd:A.dnd&&new je(yt,A.dnd),multipleSelectionController:A.multipleSelectionController&&{isSelectionSingleChangeEvent:h=>A.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},h),{element:h.element})),isSelectionRangeChangeEvent:h=>A.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},h),{element:h.element}))},accessibilityProvider:A.accessibilityProvider&&Object.assign(Object.assign({},A.accessibilityProvider),{getSetSize(h){const S=yt(),W=S.getNodeLocation(h),te=S.getParentNodeLocation(W);return S.getNode(te).visibleChildrenCount},getPosInSet:h=>h.visibleChildIndex+1,isChecked:A.accessibilityProvider&&A.accessibilityProvider.isChecked?h=>A.accessibilityProvider.isChecked(h.element):void 0,getRole:A.accessibilityProvider&&A.accessibilityProvider.getRole?h=>A.accessibilityProvider.getRole(h.element):()=>"treeitem",getAriaLabel:h=>A.accessibilityProvider.getAriaLabel(h.element),getWidgetAriaLabel:()=>A.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:A.accessibilityProvider&&A.accessibilityProvider.getWidgetRole?()=>A.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:A.accessibilityProvider&&A.accessibilityProvider.getAriaLevel?h=>A.accessibilityProvider.getAriaLevel(h.element):h=>h.depth,getActiveDescendantId:A.accessibilityProvider.getActiveDescendantId&&(h=>A.accessibilityProvider.getActiveDescendantId(h.element))}),keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:h=>A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(h.element)}),enableKeyboardNavigation:A.simpleKeyboardNavigation})}(()=>this.model,te)),{tree:this})),this.model=this.createModel(A,this.view,te),be.input=this.model.onDidChangeCollapseState;const Je=B.ju.forEach(this.model.onDidSplice,it=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(it),this.selection.onDidModelSplice(it)})});if(Je(()=>null,null,this.disposables),Oe.input=B.ju.chain(B.ju.any(Je,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const it=new Set;for(const ft of this.focus.getNodes())it.add(ft);for(const ft of this.selection.getNodes())it.add(ft);return[...it.values()]}).event,!1!==te.keyboardSupport){const it=B.ju.chain(this.view.onKeyDown).filter(ft=>!(0,O.cK)(ft.target)).map(ft=>new I.y(ft));it.filter(ft=>15===ft.keyCode).on(this.onLeftArrow,this,this.disposables),it.filter(ft=>17===ft.keyCode).on(this.onRightArrow,this,this.disposables),it.filter(ft=>10===ft.keyCode).on(this.onSpace,this,this.disposables)}te.keyboardNavigationLabelProvider&&(this.typeFilterController=new rt(this,this.model,this.view,Ze,te.keyboardNavigationDelegate||O.WK),this.focusNavigationFilter=ft=>this.typeFilterController.shouldAllowFocus(ft),this.disposables.add(this.typeFilterController)),this.styleElement=(0,E.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ae.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return B.ju.map(this.view.onMouseDblClick,ht)}get onPointer(){return B.ju.map(this.view.onPointer,ht)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return B.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(A={}){this._options=Object.assign(Object.assign({},this._options),A);for(const h of this.renderers)h.updateOptions(A);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ae.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(A){this.view.scrollTop=A}domFocus(){this.view.domFocus()}layout(A,h){this.view.layout(A,h)}style(A){const h=`.${this.view.domId}`,S=[];A.treeIndentGuidesStroke&&(S.push(`.monaco-list${h}:hover .monaco-tl-indent > .indent-guide, .monaco-list${h}.always .monaco-tl-indent > .indent-guide  { border-color: ${A.treeIndentGuidesStroke.transparent(.4)}; }`),S.push(`.monaco-list${h} .monaco-tl-indent > .indent-guide.active { border-color: ${A.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=S.join("\n"),this.view.style(A)}getParentElement(A){const h=this.model.getParentNodeLocation(A);return this.model.getNode(h).element}getFirstElementChild(A){return this.model.getFirstElementChild(A)}getNode(A){return this.model.getNode(A)}collapse(A,h=!1){return this.model.setCollapsed(A,!0,h)}expand(A,h=!1){return this.model.setCollapsed(A,!1,h)}isCollapsible(A){return this.model.isCollapsible(A)}setCollapsible(A,h){return this.model.setCollapsible(A,h)}isCollapsed(A){return this.model.isCollapsed(A)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(A,h){const S=A.map(te=>this.model.getNode(te));this.selection.set(S,h);const W=A.map(te=>this.model.getListIndex(te)).filter(te=>te>-1);this.view.setSelection(W,h,!0)}getSelection(){return this.selection.get()}setFocus(A,h){const S=A.map(te=>this.model.getNode(te));this.focus.set(S,h);const W=A.map(te=>this.model.getListIndex(te)).filter(te=>te>-1);this.view.setFocus(W,h,!0)}focusNext(A=1,h=!1,S,W=this.focusNavigationFilter){this.view.focusNext(A,h,S,W)}getFocus(){return this.focus.get()}reveal(A,h){this.model.expandTo(A);const S=this.model.getListIndex(A);-1!==S&&this.view.reveal(S,h)}getRelativeTop(A){const h=this.model.getListIndex(A);return-1===h?null:this.view.getRelativeTop(h)}onLeftArrow(A){A.preventDefault(),A.stopPropagation();const h=this.view.getFocusedElements();if(0===h.length)return;const W=this.model.getNodeLocation(h[0]);if(!this.model.setCollapsed(W,!0)){const ae=this.model.getParentNodeLocation(W);if(!ae)return;const be=this.model.getListIndex(ae);this.view.reveal(be),this.view.setFocus([be])}}onRightArrow(A){A.preventDefault(),A.stopPropagation();const h=this.view.getFocusedElements();if(0===h.length)return;const S=h[0],W=this.model.getNodeLocation(S);if(!this.model.setCollapsed(W,!1)){if(!S.children.some(Oe=>Oe.visible))return;const[ae]=this.view.getFocus(),be=ae+1;this.view.reveal(be),this.view.setFocus([be])}}onSpace(A){A.preventDefault(),A.stopPropagation();const h=this.view.getFocusedElements();if(0===h.length)return;const W=this.model.getNodeLocation(h[0]);this.model.setCollapsed(W,void 0,A.browserEvent.altKey)}dispose(){(0,D.B9)(this.disposables),this.view.dispose()}}class Ut{constructor(A,h,S={}){this.user=A,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Q(A,h,null,S),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,S.sorter&&(this.sorter={compare:(W,te)=>S.sorter.compare(W.element,te.element)}),this.identityProvider=S.identityProvider}setChildren(A,h=fe.$.empty(),S={}){const W=this.getElementLocation(A);this._setChildren(W,this.preserveCollapseState(h),S)}_setChildren(A,h=fe.$.empty(),S){const W=new Set,te=new Set;this.model.splice([...A,0],Number.MAX_VALUE,h,Object.assign(Object.assign({},S),{onDidCreateNode:Oe=>{var Re;if(null===Oe.element)return;const Ze=Oe;if(W.add(Ze.element),this.nodes.set(Ze.element,Ze),this.identityProvider){const Je=this.identityProvider.getId(Ze.element).toString();te.add(Je),this.nodesByIdentity.set(Je,Ze)}null===(Re=S.onDidCreateNode)||void 0===Re||Re.call(S,Ze)},onDidDeleteNode:Oe=>{var Re;if(null===Oe.element)return;const Ze=Oe;if(W.has(Ze.element)||this.nodes.delete(Ze.element),this.identityProvider){const Je=this.identityProvider.getId(Ze.element).toString();te.has(Je)||this.nodesByIdentity.delete(Je)}null===(Re=S.onDidDeleteNode)||void 0===Re||Re.call(S,Ze)}}))}preserveCollapseState(A=fe.$.empty()){return this.sorter&&(A=[...A].sort(this.sorter.compare.bind(this.sorter))),fe.$.map(A,h=>{let S=this.nodes.get(h.element);if(!S&&this.identityProvider){const ae=this.identityProvider.getId(h.element).toString();S=this.nodesByIdentity.get(ae)}if(!S)return Object.assign(Object.assign({},h),{children:this.preserveCollapseState(h.children)});const W="boolean"==typeof h.collapsible?h.collapsible:S.collapsible,te=void 0!==h.collapsed?h.collapsed:S.collapsed;return Object.assign(Object.assign({},h),{collapsible:W,collapsed:te,children:this.preserveCollapseState(h.children)})})}rerender(A){const h=this.getElementLocation(A);this.model.rerender(h)}getFirstElementChild(A=null){const h=this.getElementLocation(A);return this.model.getFirstElementChild(h)}has(A){return this.nodes.has(A)}getListIndex(A){const h=this.getElementLocation(A);return this.model.getListIndex(h)}getListRenderCount(A){const h=this.getElementLocation(A);return this.model.getListRenderCount(h)}isCollapsible(A){const h=this.getElementLocation(A);return this.model.isCollapsible(h)}setCollapsible(A,h){const S=this.getElementLocation(A);return this.model.setCollapsible(S,h)}isCollapsed(A){const h=this.getElementLocation(A);return this.model.isCollapsed(h)}setCollapsed(A,h,S){const W=this.getElementLocation(A);return this.model.setCollapsed(W,h,S)}expandTo(A){const h=this.getElementLocation(A);this.model.expandTo(h)}refilter(){this.model.refilter()}getNode(A=null){if(null===A)return this.model.getNode(this.model.rootRef);const h=this.nodes.get(A);if(!h)throw new U(this.user,`Tree element not found: ${A}`);return h}getNodeLocation(A){return A.element}getParentNodeLocation(A){if(null===A)throw new U(this.user,"Invalid getParentNodeLocation call");const h=this.nodes.get(A);if(!h)throw new U(this.user,`Tree element not found: ${A}`);const S=this.model.getNodeLocation(h),W=this.model.getParentNodeLocation(S);return this.model.getNode(W).element}getElementLocation(A){if(null===A)return[];const h=this.nodes.get(A);if(!h)throw new U(this.user,`Tree element not found: ${A}`);return this.model.getNodeLocation(h)}}function mn(yt){return{element:{elements:[yt.element],incompressible:yt.incompressible||!1},children:fe.$.map(fe.$.from(yt.children),mn),collapsible:yt.collapsible,collapsed:yt.collapsed}}function pt(yt){const A=[yt.element],h=yt.incompressible||!1;let S,W;for(;[W,S]=fe.$.consume(fe.$.from(yt.children),2),1===W.length&&!W[0].incompressible;)A.push((yt=W[0]).element);return{element:{elements:A,incompressible:h},children:fe.$.map(fe.$.concat(W,S),pt),collapsible:yt.collapsible,collapsed:yt.collapsed}}function Bt(yt,A=0){let h;return h=A<yt.element.elements.length-1?[Bt(yt,A+1)]:fe.$.map(fe.$.from(yt.children),S=>Bt(S,0)),0===A&&yt.element.incompressible?{element:yt.element.elements[A],children:h,incompressible:!0,collapsible:yt.collapsible,collapsed:yt.collapsed}:{element:yt.element.elements[A],children:h,collapsible:yt.collapsible,collapsed:yt.collapsed}}function Vt(yt){return Bt(yt,0)}function zt(yt,A,h){return Object.assign(Object.assign({},yt),yt.element===A?{children:h}:{children:fe.$.map(fe.$.from(yt.children),S=>zt(S,A,h))})}class Ye{constructor(A,h,S={}){this.user=A,this.rootRef=null,this.nodes=new Map,this.model=new Ut(A,h,S),this.enabled=void 0===S.compressionEnabled||S.compressionEnabled,this.identityProvider=S.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(A,h=fe.$.empty(),S){const W=S.diffIdentityProvider&&(yt=S.diffIdentityProvider,{getId:A=>A.elements.map(h=>yt.getId(h).toString()).join("\0")});var yt;if(null===A){const ft=fe.$.map(h,this.enabled?pt:mn);return void this._setChildren(null,ft,{diffIdentityProvider:W,diffDepth:1/0})}const te=this.nodes.get(A);if(!te)throw new Error("Unknown compressed tree node");const ae=this.model.getNode(te),be=this.model.getParentNodeLocation(te),Oe=this.model.getNode(be),Ze=zt(Vt(ae),A,h),Je=(this.enabled?pt:mn)(Ze),it=Oe.children.map(ft=>ft===ae?Je:ft);this._setChildren(Oe.element,it,{diffIdentityProvider:W,diffDepth:ae.depth-Oe.depth})}setCompressionEnabled(A){if(A===this.enabled)return;this.enabled=A;const S=this.model.getNode().children,W=fe.$.map(S,Vt),te=fe.$.map(W,A?pt:mn);this._setChildren(null,te,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(A,h,S){const W=new Set;this.model.setChildren(A,h,Object.assign(Object.assign({},S),{onDidCreateNode:be=>{for(const Oe of be.element.elements)W.add(Oe),this.nodes.set(Oe,be.element)},onDidDeleteNode:be=>{for(const Oe of be.element.elements)W.has(Oe)||this.nodes.delete(Oe)}}))}has(A){return this.nodes.has(A)}getListIndex(A){const h=this.getCompressedNode(A);return this.model.getListIndex(h)}getListRenderCount(A){const h=this.getCompressedNode(A);return this.model.getListRenderCount(h)}getNode(A){if(void 0===A)return this.model.getNode();const h=this.getCompressedNode(A);return this.model.getNode(h)}getNodeLocation(A){const h=this.model.getNodeLocation(A);return null===h?null:h.elements[h.elements.length-1]}getParentNodeLocation(A){const h=this.getCompressedNode(A),S=this.model.getParentNodeLocation(h);return null===S?null:S.elements[S.elements.length-1]}getFirstElementChild(A){const h=this.getCompressedNode(A);return this.model.getFirstElementChild(h)}isCollapsible(A){const h=this.getCompressedNode(A);return this.model.isCollapsible(h)}setCollapsible(A,h){const S=this.getCompressedNode(A);return this.model.setCollapsible(S,h)}isCollapsed(A){const h=this.getCompressedNode(A);return this.model.isCollapsed(h)}setCollapsed(A,h,S){const W=this.getCompressedNode(A);return this.model.setCollapsed(W,h,S)}expandTo(A){const h=this.getCompressedNode(A);this.model.expandTo(h)}rerender(A){const h=this.getCompressedNode(A);this.model.rerender(h)}refilter(){this.model.refilter()}getCompressedNode(A){if(null===A)return null;const h=this.nodes.get(A);if(!h)throw new U(this.user,`Tree element not found: ${A}`);return h}}const Et=yt=>yt[yt.length-1];class St{constructor(A,h){this.unwrapper=A,this.node=h}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(A=>new St(this.unwrapper,A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Rt{constructor(A,h,S={}){this.rootRef=null,this.elementMapper=S.elementMapper||Et;const W=te=>this.elementMapper(te.elements);this.nodeMapper=new G(te=>new St(W,te)),this.model=new Ye(A,function(yt,A){return{splice(h,S,W){A.splice(h,S,W.map(te=>yt.map(te)))},updateElementHeight(h,S){A.updateElementHeight(h,S)}}}(this.nodeMapper,h),function(yt,A){return Object.assign(Object.assign({},A),{identityProvider:A.identityProvider&&{getId:h=>A.identityProvider.getId(yt(h))},sorter:A.sorter&&{compare:(h,S)=>A.sorter.compare(h.elements[0],S.elements[0])},filter:A.filter&&{filter:(h,S)=>A.filter.filter(yt(h),S)}})}(W,S))}get onDidSplice(){return B.ju.map(this.model.onDidSplice,({insertedNodes:A,deletedNodes:h})=>({insertedNodes:A.map(S=>this.nodeMapper.map(S)),deletedNodes:h.map(S=>this.nodeMapper.map(S))}))}get onDidChangeCollapseState(){return B.ju.map(this.model.onDidChangeCollapseState,({node:A,deep:h})=>({node:this.nodeMapper.map(A),deep:h}))}get onDidChangeRenderNodeCount(){return B.ju.map(this.model.onDidChangeRenderNodeCount,A=>this.nodeMapper.map(A))}setChildren(A,h=fe.$.empty(),S={}){this.model.setChildren(A,h,S)}setCompressionEnabled(A){this.model.setCompressionEnabled(A)}has(A){return this.model.has(A)}getListIndex(A){return this.model.getListIndex(A)}getListRenderCount(A){return this.model.getListRenderCount(A)}getNode(A){return this.nodeMapper.map(this.model.getNode(A))}getNodeLocation(A){return A.element}getParentNodeLocation(A){return this.model.getParentNodeLocation(A)}getFirstElementChild(A){const h=this.model.getFirstElementChild(A);return null==h?h:this.elementMapper(h.elements)}isCollapsible(A){return this.model.isCollapsible(A)}setCollapsible(A,h){return this.model.setCollapsible(A,h)}isCollapsed(A){return this.model.isCollapsed(A)}setCollapsed(A,h,S){return this.model.setCollapsed(A,h,S)}expandTo(A){return this.model.expandTo(A)}rerender(A){return this.model.rerender(A)}refilter(){return this.model.refilter()}getCompressedTreeNode(A=null){return this.model.getNode(A)}}var Mt=m(94456);class xi extends bt{constructor(A,h,S,W,te={}){super(A,h,S,W,te),this.user=A}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(A,h=fe.$.empty(),S){this.model.setChildren(A,h,S)}rerender(A){void 0!==A?this.model.rerender(A):this.view.rerender()}hasElement(A){return this.model.has(A)}createModel(A,h,S){return new Ut(A,h,S)}}class At{constructor(A,h){this._compressedTreeNodeProvider=A,this.renderer=h,this.templateId=h.templateId,h.onDidChangeTwistieState&&(this.onDidChangeTwistieState=h.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(A){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(A)}}renderElement(A,h,S,W){const te=this.compressedTreeNodeProvider.getCompressedTreeNode(A.element);1===te.element.elements.length?(S.compressedTreeNode=void 0,this.renderer.renderElement(A,h,S.data,W)):(S.compressedTreeNode=te,this.renderer.renderCompressedElements(te,h,S.data,W))}disposeElement(A,h,S,W){S.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(S.compressedTreeNode,h,S.data,W):this.renderer.disposeElement&&this.renderer.disposeElement(A,h,S.data,W)}disposeTemplate(A){this.renderer.disposeTemplate(A.data)}renderTwistie(A,h){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(A,h)}}!function(yt,A,h,S){var ae,W=arguments.length,te=W<3?A:null===S?S=Object.getOwnPropertyDescriptor(A,h):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(yt,A,h,S);else for(var be=yt.length-1;be>=0;be--)(ae=yt[be])&&(te=(W<3?ae(te):W>3?ae(A,h,te):ae(A,h))||te);W>3&&te&&Object.defineProperty(A,h,te)}([Mt.H],At.prototype,"compressedTreeNodeProvider",null);class Xt extends xi{constructor(A,h,S,W,te={}){const ae=()=>this;super(A,h,S,W.map(Oe=>new At(ae,Oe)),function(yt,A){return A&&Object.assign(Object.assign({},A),{keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(h){let S;try{S=yt().getCompressedTreeNode(h)}catch{return A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(h)}return 1===S.element.elements.length?A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(h):A.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(S.element.elements)}}})}(ae,te))}setChildren(A,h=fe.$.empty(),S){this.model.setChildren(A,h,S)}createModel(A,h,S){return new Rt(A,h,S)}updateOptions(A={}){super.updateOptions(A),void 0!==A.compressionEnabled&&this.model.setCompressionEnabled(A.compressionEnabled)}getCompressedTreeNode(A=null){return this.model.getCompressedTreeNode(A)}}var He=m(13226),Ue=m(99770),on=function(yt,A,h,S){return new(h||(h=Promise))(function(te,ae){function be(Ze){try{Re(S.next(Ze))}catch(Je){ae(Je)}}function Oe(Ze){try{Re(S.throw(Ze))}catch(Je){ae(Je)}}function Re(Ze){Ze.done?te(Ze.value):function(te){return te instanceof h?te:new h(function(ae){ae(te)})}(Ze.value).then(be,Oe)}Re((S=S.apply(yt,A||[])).next())})};function Sn(yt){return Object.assign(Object.assign({},yt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function ai(yt,A){return!!A.parent&&(A.parent===yt||ai(yt,A.parent))}class ki{constructor(A){this.node=A}get element(){return this.node.element.element}get children(){return this.node.children.map(A=>new ki(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Li{constructor(A,h,S){this.renderer=A,this.nodeMapper=h,this.onDidChangeTwistieState=S,this.renderedNodes=new Map,this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,h,S,W){this.renderer.renderElement(this.nodeMapper.map(A),h,S.templateData,W)}renderTwistie(A,h){return A.slow?(h.classList.add(...q.lA.treeItemLoading.classNamesArray),!0):(h.classList.remove(...q.lA.treeItemLoading.classNamesArray),!1)}disposeElement(A,h,S,W){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(A),h,S.templateData,W)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear()}}function wi(yt){return{browserEvent:yt.browserEvent,elements:yt.elements.map(A=>A.element)}}function Dt(yt){return{browserEvent:yt.browserEvent,element:yt.element&&yt.element.element,target:yt.target}}class Lt extends N.kX{constructor(A){super(A.elements.map(h=>h.element)),this.data=A}}function Yt(yt){return yt instanceof N.kX?new Lt(yt):yt}class bn{constructor(A){this.dnd=A}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,h){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(S=>S.element),h)}onDragStart(A,h){this.dnd.onDragStart&&this.dnd.onDragStart(Yt(A),h)}onDragOver(A,h,S,W,te=!0){return this.dnd.onDragOver(Yt(A),h&&h.element,S,W)}drop(A,h,S,W){this.dnd.drop(Yt(A),h&&h.element,S,W)}onDragEnd(A){this.dnd.onDragEnd&&this.dnd.onDragEnd(A)}}function Kt(yt){return yt&&Object.assign(Object.assign({},yt),{collapseByDefault:!0,identityProvider:yt.identityProvider&&{getId:A=>yt.identityProvider.getId(A.element)},dnd:yt.dnd&&new bn(yt.dnd),multipleSelectionController:yt.multipleSelectionController&&{isSelectionSingleChangeEvent:A=>yt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},A),{element:A.element})),isSelectionRangeChangeEvent:A=>yt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},A),{element:A.element}))},accessibilityProvider:yt.accessibilityProvider&&Object.assign(Object.assign({},yt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:yt.accessibilityProvider.getRole?A=>yt.accessibilityProvider.getRole(A.element):()=>"treeitem",isChecked:yt.accessibilityProvider.isChecked?A=>{var h;return!!(null===(h=yt.accessibilityProvider)||void 0===h?void 0:h.isChecked(A.element))}:void 0,getAriaLabel:A=>yt.accessibilityProvider.getAriaLabel(A.element),getWidgetAriaLabel:()=>yt.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:yt.accessibilityProvider.getWidgetRole?()=>yt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:yt.accessibilityProvider.getAriaLevel&&(A=>yt.accessibilityProvider.getAriaLevel(A.element)),getActiveDescendantId:yt.accessibilityProvider.getActiveDescendantId&&(A=>yt.accessibilityProvider.getActiveDescendantId(A.element))}),filter:yt.filter&&{filter:(A,h)=>yt.filter.filter(A.element,h)},keyboardNavigationLabelProvider:yt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},yt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:A=>yt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===yt.expandOnlyOnTwistieClick?void 0:"function"!=typeof yt.expandOnlyOnTwistieClick?yt.expandOnlyOnTwistieClick:A=>yt.expandOnlyOnTwistieClick(A.element),additionalScrollHeight:yt.additionalScrollHeight})}function Ve(yt,A){A(yt),yt.children.forEach(h=>Ve(h,A))}class Qe{constructor(A,h,S,W,te,ae={}){this.user=A,this.dataSource=te,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new B.Q5,this._onDidChangeNodeSlowState=new B.Q5,this.nodeMapper=new G(be=>new ki(be)),this.disposables=new D.SL,this.identityProvider=ae.identityProvider,this.autoExpandSingleChildren=void 0!==ae.autoExpandSingleChildren&&ae.autoExpandSingleChildren,this.sorter=ae.sorter,this.collapseByDefault=ae.collapseByDefault,this.tree=this.createTree(A,h,S,W,ae),this.root=Sn({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return B.ju.map(this.tree.onDidChangeFocus,wi)}get onDidChangeSelection(){return B.ju.map(this.tree.onDidChangeSelection,wi)}get onMouseDblClick(){return B.ju.map(this.tree.onMouseDblClick,Dt)}get onPointer(){return B.ju.map(this.tree.onPointer,Dt)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(A,h,S,W,te){const ae=new Ce(S),be=W.map(Re=>new Li(Re,this.nodeMapper,this._onDidChangeNodeSlowState.event)),Oe=Kt(te)||{};return new xi(A,h,ae,be,Oe)}updateOptions(A={}){this.tree.updateOptions(A)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(A){this.tree.scrollTop=A}domFocus(){this.tree.domFocus()}layout(A,h){this.tree.layout(A,h)}style(A){this.tree.style(A)}getInput(){return this.root.element}setInput(A,h){return on(this,void 0,void 0,function*(){this.refreshPromises.forEach(W=>W.cancel()),this.refreshPromises.clear(),this.root.element=A;const S=h&&{viewState:h,focus:[],selection:[]};yield this._updateChildren(A,!0,!1,S),S&&(this.tree.setFocus(S.focus),this.tree.setSelection(S.selection)),h&&"number"==typeof h.scrollTop&&(this.scrollTop=h.scrollTop)})}_updateChildren(A=this.root.element,h=!0,S=!1,W,te){return on(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new U(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield B.ju.toPromise(this._onDidRender.event));const ae=this.getDataNode(A);if(yield this.refreshAndRenderNode(ae,h,W,te),S)try{this.tree.rerender(ae)}catch{}})}rerender(A){if(void 0===A||A===this.root.element)return void this.tree.rerender();const h=this.getDataNode(A);this.tree.rerender(h)}getNode(A=this.root.element){const h=this.getDataNode(A),S=this.tree.getNode(h===this.root?null:h);return this.nodeMapper.map(S)}collapse(A,h=!1){const S=this.getDataNode(A);return this.tree.collapse(S===this.root?null:S,h)}expand(A,h=!1){return on(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new U(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield B.ju.toPromise(this._onDidRender.event));const S=this.getDataNode(A);if(this.tree.hasElement(S)&&!this.tree.isCollapsible(S)||(S.refreshPromise&&(yield this.root.refreshPromise,yield B.ju.toPromise(this._onDidRender.event)),S!==this.root&&!S.refreshPromise&&!this.tree.isCollapsed(S)))return!1;const W=this.tree.expand(S===this.root?null:S,h);return S.refreshPromise&&(yield this.root.refreshPromise,yield B.ju.toPromise(this._onDidRender.event)),W})}setSelection(A,h){const S=A.map(W=>this.getDataNode(W));this.tree.setSelection(S,h)}getSelection(){return this.tree.getSelection().map(h=>h.element)}setFocus(A,h){const S=A.map(W=>this.getDataNode(W));this.tree.setFocus(S,h)}getFocus(){return this.tree.getFocus().map(h=>h.element)}reveal(A,h){this.tree.reveal(this.getDataNode(A),h)}getParentElement(A){const h=this.tree.getParentElement(this.getDataNode(A));return h&&h.element}getFirstElementChild(A=this.root.element){const h=this.getDataNode(A),S=this.tree.getFirstElementChild(h===this.root?null:h);return S&&S.element}getDataNode(A){const h=this.nodes.get(A===this.root.element?null:A);if(!h)throw new U(this.user,`Data tree node not found: ${A}`);return h}refreshAndRenderNode(A,h,S,W){return on(this,void 0,void 0,function*(){yield this.refreshNode(A,h,S),this.render(A,S,W)})}refreshNode(A,h,S){return on(this,void 0,void 0,function*(){let W;return this.subTreeRefreshPromises.forEach((te,ae)=>{!W&&function(yt,A){return yt===A||ai(yt,A)||ai(A,yt)}(ae,A)&&(W=te.then(()=>this.refreshNode(A,h,S)))}),W||this.doRefreshSubTree(A,h,S)})}doRefreshSubTree(A,h,S){return on(this,void 0,void 0,function*(){let W;A.refreshPromise=new Promise(te=>W=te),this.subTreeRefreshPromises.set(A,A.refreshPromise),A.refreshPromise.finally(()=>{A.refreshPromise=void 0,this.subTreeRefreshPromises.delete(A)});try{const te=yield this.doRefreshNode(A,h,S);A.stale=!1,yield oe.jT.settled(te.map(ae=>this.doRefreshSubTree(ae,h,S)))}finally{W()}})}doRefreshNode(A,h,S){return on(this,void 0,void 0,function*(){let W;if(A.hasChildren=!!this.dataSource.hasChildren(A.element),A.hasChildren){const te=this.doGetChildren(A);if((0,Ue.TW)(te))W=Promise.resolve(te);else{const ae=(0,oe.Vs)(800);ae.then(()=>{A.slow=!0,this._onDidChangeNodeSlowState.fire(A)},be=>null),W=te.finally(()=>ae.cancel())}}else W=Promise.resolve(fe.$.empty());try{const te=yield W;return this.setChildren(A,te,h,S)}catch(te){if(A!==this.root&&this.tree.hasElement(A)&&this.tree.collapse(A),(0,He.n2)(te))return[];throw te}finally{A.slow&&(A.slow=!1,this._onDidChangeNodeSlowState.fire(A))}})}doGetChildren(A){let h=this.refreshPromises.get(A);if(h)return h;const S=this.dataSource.getChildren(A.element);return(0,Ue.TW)(S)?this.processChildren(S):(h=(0,oe.PG)(()=>on(this,void 0,void 0,function*(){return this.processChildren(yield S)})),this.refreshPromises.set(A,h),h.finally(()=>{this.refreshPromises.delete(A)}))}_onDidChangeCollapseState({node:A,deep:h}){null!==A.element&&!A.collapsed&&A.element.stale&&(h?this.collapse(A.element.element):this.refreshAndRenderNode(A.element,!1).catch(He.dL))}setChildren(A,h,S,W){const te=[...h];if(0===A.children.length&&0===te.length)return[];const ae=new Map,be=new Map;for(const Ze of A.children)if(ae.set(Ze.element,Ze),this.identityProvider){const Je=this.tree.isCollapsed(Ze);be.set(Ze.id,{node:Ze,collapsed:Je})}const Oe=[],Re=te.map(Ze=>{const Je=!!this.dataSource.hasChildren(Ze);if(!this.identityProvider){const Nt=Sn({element:Ze,parent:A,hasChildren:Je});return Je&&this.collapseByDefault&&!this.collapseByDefault(Ze)&&(Nt.collapsedByDefault=!1,Oe.push(Nt)),Nt}const it=this.identityProvider.getId(Ze).toString(),ft=be.get(it);if(ft){const Nt=ft.node;return ae.delete(Nt.element),this.nodes.delete(Nt.element),this.nodes.set(Ze,Nt),Nt.element=Ze,Nt.hasChildren=Je,S?ft.collapsed?(Nt.children.forEach(Wt=>Ve(Wt,Gt=>this.nodes.delete(Gt.element))),Nt.children.splice(0,Nt.children.length),Nt.stale=!0):Oe.push(Nt):Je&&this.collapseByDefault&&!this.collapseByDefault(Ze)&&(Nt.collapsedByDefault=!1,Oe.push(Nt)),Nt}const gt=Sn({element:Ze,parent:A,id:it,hasChildren:Je});return W&&W.viewState.focus&&W.viewState.focus.indexOf(it)>-1&&W.focus.push(gt),W&&W.viewState.selection&&W.viewState.selection.indexOf(it)>-1&&W.selection.push(gt),W&&W.viewState.expanded&&W.viewState.expanded.indexOf(it)>-1?Oe.push(gt):Je&&this.collapseByDefault&&!this.collapseByDefault(Ze)&&(gt.collapsedByDefault=!1,Oe.push(gt)),gt});for(const Ze of ae.values())Ve(Ze,Je=>this.nodes.delete(Je.element));for(const Ze of Re)this.nodes.set(Ze.element,Ze);return A.children.splice(0,A.children.length,...Re),A!==this.root&&this.autoExpandSingleChildren&&1===Re.length&&0===Oe.length&&(Re[0].collapsedByDefault=!1,Oe.push(Re[0])),Oe}render(A,h,S){const W=A.children.map(ae=>this.asTreeElement(ae,h)),te=S&&Object.assign(Object.assign({},S),{diffIdentityProvider:S.diffIdentityProvider&&{getId:ae=>S.diffIdentityProvider.getId(ae.element)}});this.tree.setChildren(A===this.root?null:A,W,te),A!==this.root&&this.tree.setCollapsible(A,A.hasChildren),this._onDidRender.fire()}asTreeElement(A,h){if(A.stale)return{element:A,collapsible:A.hasChildren,collapsed:!0};let S;return S=!(h&&h.viewState.expanded&&A.id&&h.viewState.expanded.indexOf(A.id)>-1)&&A.collapsedByDefault,A.collapsedByDefault=void 0,{element:A,children:A.hasChildren?fe.$.map(A.children,W=>this.asTreeElement(W,h)):[],collapsible:A.hasChildren,collapsed:S}}processChildren(A){return this.sorter&&(A=[...A].sort(this.sorter.compare.bind(this.sorter))),A}dispose(){this.disposables.dispose()}}class ct{constructor(A){this.node=A}get element(){return{elements:this.node.element.elements.map(A=>A.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(A=>new ct(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class xt{constructor(A,h,S,W){this.renderer=A,this.nodeMapper=h,this.compressibleNodeMapperProvider=S,this.onDidChangeTwistieState=W,this.renderedNodes=new Map,this.disposables=[],this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,h,S,W){this.renderer.renderElement(this.nodeMapper.map(A),h,S.templateData,W)}renderCompressedElements(A,h,S,W){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(A),h,S.templateData,W)}renderTwistie(A,h){return A.slow?(h.classList.add(...q.lA.treeItemLoading.classNamesArray),!0):(h.classList.remove(...q.lA.treeItemLoading.classNamesArray),!1)}disposeElement(A,h,S,W){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(A),h,S.templateData,W)}disposeCompressedElements(A,h,S,W){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(A),h,S.templateData,W)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,D.B9)(this.disposables)}}class en extends Qe{constructor(A,h,S,W,te,ae,be={}){super(A,h,S,te,ae,be),this.compressionDelegate=W,this.compressibleNodeMapper=new G(Oe=>new ct(Oe)),this.filter=be.filter}createTree(A,h,S,W,te){const ae=new Ce(S),be=W.map(Re=>new xt(Re,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),Oe=function(yt){const A=yt&&Kt(yt);return A&&Object.assign(Object.assign({},A),{keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:h=>yt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(h.map(S=>S.element))})})}(te)||{};return new Xt(A,h,ae,be,Oe)}asTreeElement(A,h){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(A.element)},super.asTreeElement(A,h))}updateOptions(A={}){this.tree.updateOptions(A)}render(A,h){if(!this.identityProvider)return super.render(A,h);const S=it=>this.identityProvider.getId(it).toString(),W=it=>{const ft=new Set;for(const gt of it){const Nt=this.tree.getCompressedTreeNode(gt===this.root?null:gt);if(Nt.element)for(const Wt of Nt.element.elements)ft.add(S(Wt.element))}return ft},te=W(this.tree.getSelection()),ae=W(this.tree.getFocus());super.render(A,h);const be=this.getSelection();let Oe=!1;const Re=this.getFocus();let Ze=!1;const Je=it=>{const ft=it.element;if(ft)for(let gt=0;gt<ft.elements.length;gt++){const Nt=S(ft.elements[gt].element),Wt=ft.elements[ft.elements.length-1].element;te.has(Nt)&&-1===be.indexOf(Wt)&&(be.push(Wt),Oe=!0),ae.has(Nt)&&-1===Re.indexOf(Wt)&&(Re.push(Wt),Ze=!0)}it.children.forEach(Je)};Je(this.tree.getCompressedTreeNode(A===this.root?null:A)),Oe&&this.setSelection(be),Ze&&this.setFocus(Re)}processChildren(A){return this.filter&&(A=fe.$.filter(A,h=>{const W="boolean"==typeof(yt=this.filter.filter(h,1))?yt?1:0:_e(yt)?we(yt.visibility):we(yt);var yt;if(2===W)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===W})),super.processChildren(A)}}class yn extends bt{constructor(A,h,S,W,te,ae={}){super(A,h,S,W,ae),this.user=A,this.dataSource=te,this.identityProvider=ae.identityProvider}createModel(A,h,S){return new Ut(A,h,S)}}var _n=m(13976),wn=m(13011),rn=m(92778),vn=m(6461),ln=m(70114),En=m(43569),In=m(96938),Kn=m(63779),Jn=m(905),_i=m(53323),Di=function(yt,A,h,S){var ae,W=arguments.length,te=W<3?A:null===S?S=Object.getOwnPropertyDescriptor(A,h):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(yt,A,h,S);else for(var be=yt.length-1;be>=0;be--)(ae=yt[be])&&(te=(W<3?ae(te):W>3?ae(A,h,te):ae(A,h))||te);return W>3&&te&&Object.defineProperty(A,h,te),te},xn=function(yt,A){return function(h,S){A(h,S,yt)}};const Mi=(0,En.yh)("listService");let li=class{constructor(A){this._themeService=A,this.disposables=new D.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(A){var h,S;A!==this._lastFocusedWidget&&(null===(h=this._lastFocusedWidget)||void 0===h||h.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=A,null===(S=this._lastFocusedWidget)||void 0===S||S.getHTMLElement().classList.add("last-focused"))}register(A,h){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const W=new O.wD((0,E.dS)(),"");this.disposables.add((0,Jn.Jl)(W,this._themeService))}if(this.lists.some(W=>W.widget===A))throw new Error("Cannot register the same widget multiple times");const S={widget:A,extraContextKeys:h};return this.lists.push(S),A.getHTMLElement()===document.activeElement&&this.setLastFocusedList(A),(0,D.F8)(A.onDidFocus(()=>this.setLastFocusedList(A)),(0,D.OF)(()=>this.lists.splice(this.lists.indexOf(S),1)),A.onDidDispose(()=>{this.lists=this.lists.filter(W=>W!==S),this._lastFocusedWidget===A&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};li=Di([xn(0,_i.XE)],li);const pi=new vn.uy("listFocus",!0),Mn=new vn.uy("listSupportsMultiselect",!0),Ci=vn.Ao.and(pi,vn.Ao.not(ln.d0)),Ti=new vn.uy("listHasSelectionOrFocus",!1),ei=new vn.uy("listDoubleSelection",!1),ao=new vn.uy("listMultiSelection",!1),zn=new vn.uy("listSelectionNavigation",!1),ji=new vn.uy("treeElementCanCollapse",!1),co=new vn.uy("treeElementHasParent",!1),oi=new vn.uy("treeElementCanExpand",!1),_o=new vn.uy("treeElementHasChild",!1),Ei="listAutomaticKeyboardNavigation";function ko(yt,A){const h=yt.createScoped(A.getHTMLElement());return pi.bindTo(h),h}const yo="workbench.list.multiSelectModifier",Yi="workbench.list.openMode",To="workbench.list.horizontalScrolling",ys="workbench.list.keyboardNavigation",go="workbench.list.automaticKeyboardNavigation",Hs="workbench.tree.indent",zs="workbench.tree.renderIndentGuides",ds="workbench.list.smoothScrolling",qo="workbench.list.mouseWheelScrollSensitivity",Ss="workbench.list.fastScrollSensitivity",Ps="workbench.tree.expandMode";function es(yt){return"alt"===yt.getValue(yo)}class to extends D.JT{constructor(A){super(),this.configurationService=A,this.useAltAsMultipleSelectionModifier=es(A),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(A=>{A.affectsConfiguration(yo)&&(this.useAltAsMultipleSelectionModifier=es(this.configurationService))}))}isSelectionSingleChangeEvent(A){return this.useAltAsMultipleSelectionModifier?A.browserEvent.altKey:(0,O.Zo)(A)}isSelectionRangeChangeEvent(A){return(0,O.wn)(A)}}function Pr(yt,A,h){var S;const W=new D.SL;return[Object.assign(Object.assign({},yt),{keyboardNavigationDelegate:{mightProducePrintableCharacter:ae=>h.mightProducePrintableCharacter(ae)},smoothScrolling:Boolean(A.getValue(ds)),mouseWheelScrollSensitivity:A.getValue(qo),fastScrollSensitivity:A.getValue(Ss),multipleSelectionController:null!==(S=yt.multipleSelectionController)&&void 0!==S?S:W.add(new to(A))}),W]}let or=class extends O.aV{constructor(A,h,S,W,te,ae,be,Oe,Re,Ze){const Je=void 0!==te.horizontalScrolling?te.horizontalScrolling:Boolean(Re.getValue(To)),[it,ft]=Pr(te,Re,Ze);super(A,h,S,W,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Jn.o)(Oe.getColorTheme(),Jn.O2)),it),{horizontalScrolling:Je})),this.disposables.add(ft),this.contextKeyService=ko(ae,this),this.themeService=Oe,this.listSupportsMultiSelect=Mn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==te.multipleSelectionSupport),zn.bindTo(this.contextKeyService).set(Boolean(te.selectionNavigation)),this.listHasSelectionOrFocus=Ti.bindTo(this.contextKeyService),this.listDoubleSelection=ei.bindTo(this.contextKeyService),this.listMultiSelection=ao.bindTo(this.contextKeyService),this.horizontalScrolling=te.horizontalScrolling,this._useAltAsMultipleSelectionModifier=es(Re),this.disposables.add(this.contextKeyService),this.disposables.add(be.register(this)),te.overrideStyles&&this.updateStyles(te.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Nt=this.getSelection(),Wt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Nt.length>0||Wt.length>0),this.listMultiSelection.set(Nt.length>1),this.listDoubleSelection.set(2===Nt.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Nt=this.getSelection(),Wt=this.getFocus();this.listHasSelectionOrFocus.set(Nt.length>0||Wt.length>0)})),this.disposables.add(Re.onDidChangeConfiguration(Nt=>{Nt.affectsConfiguration(yo)&&(this._useAltAsMultipleSelectionModifier=es(Re));let Wt={};if(Nt.affectsConfiguration(To)&&void 0===this.horizontalScrolling){const Gt=Boolean(Re.getValue(To));Wt=Object.assign(Object.assign({},Wt),{horizontalScrolling:Gt})}if(Nt.affectsConfiguration(ds)){const Gt=Boolean(Re.getValue(ds));Wt=Object.assign(Object.assign({},Wt),{smoothScrolling:Gt})}if(Nt.affectsConfiguration(qo)){const Gt=Re.getValue(qo);Wt=Object.assign(Object.assign({},Wt),{mouseWheelScrollSensitivity:Gt})}if(Nt.affectsConfiguration(Ss)){const Gt=Re.getValue(Ss);Wt=Object.assign(Object.assign({},Wt),{fastScrollSensitivity:Gt})}Object.keys(Wt).length>0&&this.updateOptions(Wt)})),this.navigator=new Qs(this,Object.assign({configurationService:Re},te)),this.disposables.add(this.navigator)}updateOptions(A){super.updateOptions(A),A.overrideStyles&&this.updateStyles(A.overrideStyles),void 0!==A.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyles(A){var h;null===(h=this._styler)||void 0===h||h.dispose(),this._styler=(0,Jn.Jl)(this,this.themeService,A)}dispose(){var A;null===(A=this._styler)||void 0===A||A.dispose(),super.dispose()}};or=Di([xn(5,vn.i6),xn(6,Mi),xn(7,_i.XE),xn(8,wn.Ui),xn(9,In.d)],or);let Ro=class extends class{constructor(A,h,S,W,te={}){const ae=()=>this.model,be=W.map(Oe=>new F(Oe,ae));this.list=new O.aV(A,h,S,be,function(yt,A){return Object.assign(Object.assign({},A),{accessibilityProvider:A.accessibilityProvider&&new k(yt,A.accessibilityProvider)})}(ae,te))}updateOptions(A){this.list.updateOptions(A)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return B.ju.map(this.list.onMouseDblClick,({element:A,index:h,browserEvent:S})=>({element:void 0===A?void 0:this._model.get(A),index:h,browserEvent:S}))}get onPointer(){return B.ju.map(this.list.onPointer,({element:A,index:h,browserEvent:S})=>({element:void 0===A?void 0:this._model.get(A),index:h,browserEvent:S}))}get onDidChangeSelection(){return B.ju.map(this.list.onDidChangeSelection,({elements:A,indexes:h,browserEvent:S})=>({elements:A.map(W=>this._model.get(W)),indexes:h,browserEvent:S}))}get model(){return this._model}set model(A){this._model=A,this.list.splice(0,this.list.length,(0,g.w6)(A.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(A=>this.model.get(A))}style(A){this.list.style(A)}dispose(){this.list.dispose()}}{constructor(A,h,S,W,te,ae,be,Oe,Re,Ze){const Je=void 0!==te.horizontalScrolling?te.horizontalScrolling:Boolean(Re.getValue(To)),[it,ft]=Pr(te,Re,Ze);super(A,h,S,W,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Jn.o)(Oe.getColorTheme(),Jn.O2)),it),{horizontalScrolling:Je})),this.disposables=new D.SL,this.disposables.add(ft),this.contextKeyService=ko(ae,this),this.themeService=Oe,this.horizontalScrolling=te.horizontalScrolling,this.listSupportsMultiSelect=Mn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==te.multipleSelectionSupport),zn.bindTo(this.contextKeyService).set(Boolean(te.selectionNavigation)),this._useAltAsMultipleSelectionModifier=es(Re),this.disposables.add(this.contextKeyService),this.disposables.add(be.register(this)),te.overrideStyles&&this.updateStyles(te.overrideStyles),te.overrideStyles&&this.disposables.add((0,Jn.Jl)(this,Oe,te.overrideStyles)),this.disposables.add(Re.onDidChangeConfiguration(Nt=>{Nt.affectsConfiguration(yo)&&(this._useAltAsMultipleSelectionModifier=es(Re));let Wt={};if(Nt.affectsConfiguration(To)&&void 0===this.horizontalScrolling){const Gt=Boolean(Re.getValue(To));Wt=Object.assign(Object.assign({},Wt),{horizontalScrolling:Gt})}if(Nt.affectsConfiguration(ds)){const Gt=Boolean(Re.getValue(ds));Wt=Object.assign(Object.assign({},Wt),{smoothScrolling:Gt})}if(Nt.affectsConfiguration(qo)){const Gt=Re.getValue(qo);Wt=Object.assign(Object.assign({},Wt),{mouseWheelScrollSensitivity:Gt})}if(Nt.affectsConfiguration(Ss)){const Gt=Re.getValue(Ss);Wt=Object.assign(Object.assign({},Wt),{fastScrollSensitivity:Gt})}Object.keys(Wt).length>0&&this.updateOptions(Wt)})),this.navigator=new Qs(this,Object.assign({configurationService:Re},te)),this.disposables.add(this.navigator)}updateOptions(A){super.updateOptions(A),A.overrideStyles&&this.updateStyles(A.overrideStyles),void 0!==A.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyles(A){var h;null===(h=this._styler)||void 0===h||h.dispose(),this._styler=(0,Jn.Jl)(this,this.themeService,A)}dispose(){var A;null===(A=this._styler)||void 0===A||A.dispose(),this.disposables.dispose(),super.dispose()}};Ro=Di([xn(5,vn.i6),xn(6,Mi),xn(7,_i.XE),xn(8,wn.Ui),xn(9,In.d)],Ro);let Lo=class extends L{constructor(A,h,S,W,te,ae,be,Oe,Re,Ze,Je){const it=void 0!==ae.horizontalScrolling?ae.horizontalScrolling:Boolean(Ze.getValue(To)),[ft,gt]=Pr(ae,Ze,Je);super(A,h,S,W,te,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Jn.o)(Re.getColorTheme(),Jn.O2)),ft),{horizontalScrolling:it})),this.disposables.add(gt),this.contextKeyService=ko(be,this),this.themeService=Re,this.listSupportsMultiSelect=Mn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==ae.multipleSelectionSupport),zn.bindTo(this.contextKeyService).set(Boolean(ae.selectionNavigation)),this.listHasSelectionOrFocus=Ti.bindTo(this.contextKeyService),this.listDoubleSelection=ei.bindTo(this.contextKeyService),this.listMultiSelection=ao.bindTo(this.contextKeyService),this.horizontalScrolling=ae.horizontalScrolling,this._useAltAsMultipleSelectionModifier=es(Ze),this.disposables.add(this.contextKeyService),this.disposables.add(Oe.register(this)),ae.overrideStyles&&this.updateStyles(ae.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Wt=this.getSelection(),Gt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Wt.length>0||Gt.length>0),this.listMultiSelection.set(Wt.length>1),this.listDoubleSelection.set(2===Wt.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Wt=this.getSelection(),Gt=this.getFocus();this.listHasSelectionOrFocus.set(Wt.length>0||Gt.length>0)})),this.disposables.add(Ze.onDidChangeConfiguration(Wt=>{Wt.affectsConfiguration(yo)&&(this._useAltAsMultipleSelectionModifier=es(Ze));let Gt={};if(Wt.affectsConfiguration(To)&&void 0===this.horizontalScrolling){const Nn=Boolean(Ze.getValue(To));Gt=Object.assign(Object.assign({},Gt),{horizontalScrolling:Nn})}if(Wt.affectsConfiguration(ds)){const Nn=Boolean(Ze.getValue(ds));Gt=Object.assign(Object.assign({},Gt),{smoothScrolling:Nn})}if(Wt.affectsConfiguration(qo)){const Nn=Ze.getValue(qo);Gt=Object.assign(Object.assign({},Gt),{mouseWheelScrollSensitivity:Nn})}if(Wt.affectsConfiguration(Ss)){const Nn=Ze.getValue(Ss);Gt=Object.assign(Object.assign({},Gt),{fastScrollSensitivity:Nn})}Object.keys(Gt).length>0&&this.updateOptions(Gt)})),this.navigator=new sr(this,Object.assign({configurationService:Ze},ae)),this.disposables.add(this.navigator)}updateOptions(A){super.updateOptions(A),A.overrideStyles&&this.updateStyles(A.overrideStyles),void 0!==A.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyles(A){var h;null===(h=this._styler)||void 0===h||h.dispose(),this._styler=(0,Jn.Jl)(this,this.themeService,A)}dispose(){var A;null===(A=this._styler)||void 0===A||A.dispose(),this.disposables.dispose(),super.dispose()}};Lo=Di([xn(6,vn.i6),xn(7,Mi),xn(8,_i.XE),xn(9,wn.Ui),xn(10,In.d)],Lo);class rs extends D.JT{constructor(A,h){var S;super(),this.widget=A,this._onDidOpen=this._register(new B.Q5),this.onDidOpen=this._onDidOpen.event,this._register(B.ju.filter(this.widget.onDidChangeSelection,W=>W.browserEvent instanceof KeyboardEvent)(W=>this.onSelectionFromKeyboard(W))),this._register(this.widget.onPointer(W=>this.onPointer(W.element,W.browserEvent))),this._register(this.widget.onMouseDblClick(W=>this.onMouseDblClick(W.element,W.browserEvent))),"boolean"!=typeof(null==h?void 0:h.openOnSingleClick)&&(null==h?void 0:h.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==h?void 0:h.configurationService.getValue(Yi)),this._register(null==h?void 0:h.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null==h?void 0:h.configurationService.getValue(Yi))}))):this.openOnSingleClick=null===(S=null==h?void 0:h.openOnSingleClick)||void 0===S||S}onSelectionFromKeyboard(A){if(1!==A.elements.length)return;const h=A.browserEvent,S="boolean"!=typeof h.preserveFocus||h.preserveFocus,W="boolean"==typeof h.pinned?h.pinned:!S;this._open(this.getSelectedElement(),S,W,!1,A.browserEvent)}onPointer(A,h){this.openOnSingleClick&&2!==h.detail&&this._open(A,!0,1===h.button,h.ctrlKey||h.metaKey||h.altKey,h)}onMouseDblClick(A,h){if(!h)return;const S=h.target;S.classList.contains("monaco-tl-twistie")||S.classList.contains("monaco-icon-label")&&S.classList.contains("folder-icon")&&h.offsetX<16||this._open(A,!1,!0,h.ctrlKey||h.metaKey||h.altKey,h)}_open(A,h,S,W,te){!A||this._onDidOpen.fire({editorOptions:{preserveFocus:h,pinned:S,revealIfVisible:!0},sideBySide:W,element:A,browserEvent:te})}}class Qs extends rs{constructor(A,h){super(A,h),this.widget=A}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class sr extends rs{constructor(A,h){super(A,h)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Or extends rs{constructor(A,h){super(A,h)}getSelectedElement(){var A;return null!==(A=this.widget.getSelection()[0])&&void 0!==A?A:void 0}}function Wo(yt,A){let h=!1;return S=>{if(S.toKeybinding().isModifierKey())return!1;if(h)return h=!1,!1;const W=A.softDispatch(S,yt);return W&&W.enterChord?(h=!0,!1):(h=!1,!0)}}let xs=class extends xi{constructor(A,h,S,W,te,ae,be,Oe,Re,Ze,Je){const{options:it,getAutomaticKeyboardNavigation:ft,disposable:gt}=Os(h,te,ae,Re,Ze,Je);super(A,h,S,W,it),this.disposables.add(gt),this.internals=new fs(this,te,ft,te.overrideStyles,ae,be,Oe,Re,Je),this.disposables.add(this.internals)}updateOptions(A){super.updateOptions(A),this.internals.updateOptions(A)}};xs=Di([xn(5,vn.i6),xn(6,Mi),xn(7,_i.XE),xn(8,wn.Ui),xn(9,In.d),xn(10,_n.F)],xs);let rr=class extends Xt{constructor(A,h,S,W,te,ae,be,Oe,Re,Ze,Je){const{options:it,getAutomaticKeyboardNavigation:ft,disposable:gt}=Os(h,te,ae,Re,Ze,Je);super(A,h,S,W,it),this.disposables.add(gt),this.internals=new fs(this,te,ft,te.overrideStyles,ae,be,Oe,Re,Je),this.disposables.add(this.internals)}updateOptions(A={}){super.updateOptions(A),A.overrideStyles&&this.internals.updateStyleOverrides(A.overrideStyles),this.internals.updateOptions(A)}};rr=Di([xn(5,vn.i6),xn(6,Mi),xn(7,_i.XE),xn(8,wn.Ui),xn(9,In.d),xn(10,_n.F)],rr);let Ea=class extends yn{constructor(A,h,S,W,te,ae,be,Oe,Re,Ze,Je,it){const{options:ft,getAutomaticKeyboardNavigation:gt,disposable:Nt}=Os(h,ae,be,Ze,Je,it);super(A,h,S,W,te,ft),this.disposables.add(Nt),this.internals=new fs(this,ae,gt,ae.overrideStyles,be,Oe,Re,Ze,it),this.disposables.add(this.internals)}updateOptions(A={}){super.updateOptions(A),A.overrideStyles&&this.internals.updateStyleOverrides(A.overrideStyles),this.internals.updateOptions(A)}};Ea=Di([xn(6,vn.i6),xn(7,Mi),xn(8,_i.XE),xn(9,wn.Ui),xn(10,In.d),xn(11,_n.F)],Ea);let Ki=class extends Qe{constructor(A,h,S,W,te,ae,be,Oe,Re,Ze,Je,it){const{options:ft,getAutomaticKeyboardNavigation:gt,disposable:Nt}=Os(h,ae,be,Ze,Je,it);super(A,h,S,W,te,ft),this.disposables.add(Nt),this.internals=new fs(this,ae,gt,ae.overrideStyles,be,Oe,Re,Ze,it),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(A={}){super.updateOptions(A),A.overrideStyles&&this.internals.updateStyleOverrides(A.overrideStyles),this.internals.updateOptions(A)}};Ki=Di([xn(6,vn.i6),xn(7,Mi),xn(8,_i.XE),xn(9,wn.Ui),xn(10,In.d),xn(11,_n.F)],Ki);let Do=class extends en{constructor(A,h,S,W,te,ae,be,Oe,Re,Ze,Je,it,ft){const{options:gt,getAutomaticKeyboardNavigation:Nt,disposable:Wt}=Os(h,be,Oe,Je,it,ft);super(A,h,S,W,te,ae,gt),this.disposables.add(Wt),this.internals=new fs(this,be,Nt,be.overrideStyles,Oe,Re,Ze,Je,ft),this.disposables.add(this.internals)}updateOptions(A){super.updateOptions(A),this.internals.updateOptions(A)}};function Os(yt,A,h,S,W,te){var ae;const be=()=>{let gt=Boolean(h.getContextKeyValue(Ei));return gt&&(gt=Boolean(S.getValue(go))),gt},Oe=te.isScreenReaderOptimized(),Re=A.simpleKeyboardNavigation||Oe?"simple":S.getValue(ys),Ze=void 0!==A.horizontalScrolling?A.horizontalScrolling:Boolean(S.getValue(To)),[Je,it]=Pr(A,S,W),ft=A.additionalScrollHeight;return{getAutomaticKeyboardNavigation:be,disposable:it,options:Object.assign(Object.assign({keyboardSupport:!1},Je),{indent:"number"==typeof S.getValue(Hs)?S.getValue(Hs):void 0,renderIndentGuides:S.getValue(zs),smoothScrolling:Boolean(S.getValue(ds)),automaticKeyboardNavigation:be(),simpleKeyboardNavigation:"simple"===Re,filterOnType:"filter"===Re,horizontalScrolling:Ze,keyboardNavigationEventFilter:Wo(yt,W),additionalScrollHeight:ft,hideTwistiesOfChildlessElements:A.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(ae=A.expandOnlyOnTwistieClick)&&void 0!==ae?ae:"doubleClick"===S.getValue(Ps)})}}Do=Di([xn(7,vn.i6),xn(8,Mi),xn(9,_i.XE),xn(10,wn.Ui),xn(11,In.d),xn(12,_n.F)],Do);let fs=class{constructor(A,h,S,W,te,ae,be,Oe,Re){this.tree=A,this.themeService=be,this.disposables=[],this.contextKeyService=ko(te,A),this.listSupportsMultiSelect=Mn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==h.multipleSelectionSupport),zn.bindTo(this.contextKeyService).set(Boolean(h.selectionNavigation)),this.hasSelectionOrFocus=Ti.bindTo(this.contextKeyService),this.hasDoubleSelection=ei.bindTo(this.contextKeyService),this.hasMultiSelection=ao.bindTo(this.contextKeyService),this.treeElementCanCollapse=ji.bindTo(this.contextKeyService),this.treeElementHasParent=co.bindTo(this.contextKeyService),this.treeElementCanExpand=oi.bindTo(this.contextKeyService),this.treeElementHasChild=_o.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=es(Oe);const Je=new Set;Je.add(Ei);const it=()=>{const Nt=Re.isScreenReaderOptimized()?"simple":Oe.getValue(ys);A.updateOptions({simpleKeyboardNavigation:"simple"===Nt,filterOnType:"filter"===Nt})};this.updateStyleOverrides(W);const ft=()=>{const gt=A.getFocus()[0];if(!gt)return;const Nt=A.getNode(gt);this.treeElementCanCollapse.set(Nt.collapsible&&!Nt.collapsed),this.treeElementHasParent.set(!!A.getParentElement(gt)),this.treeElementCanExpand.set(Nt.collapsible&&Nt.collapsed),this.treeElementHasChild.set(!!A.getFirstElementChild(gt))};this.disposables.push(this.contextKeyService,ae.register(A),A.onDidChangeSelection(()=>{const gt=A.getSelection(),Nt=A.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(gt.length>0||Nt.length>0),this.hasMultiSelection.set(gt.length>1),this.hasDoubleSelection.set(2===gt.length)})}),A.onDidChangeFocus(()=>{const gt=A.getSelection(),Nt=A.getFocus();this.hasSelectionOrFocus.set(gt.length>0||Nt.length>0),ft()}),A.onDidChangeCollapseState(ft),A.onDidChangeModel(ft),Oe.onDidChangeConfiguration(gt=>{let Nt={};if(gt.affectsConfiguration(yo)&&(this._useAltAsMultipleSelectionModifier=es(Oe)),gt.affectsConfiguration(Hs)){const Wt=Oe.getValue(Hs);Nt=Object.assign(Object.assign({},Nt),{indent:Wt})}if(gt.affectsConfiguration(zs)){const Wt=Oe.getValue(zs);Nt=Object.assign(Object.assign({},Nt),{renderIndentGuides:Wt})}if(gt.affectsConfiguration(ds)){const Wt=Boolean(Oe.getValue(ds));Nt=Object.assign(Object.assign({},Nt),{smoothScrolling:Wt})}if(gt.affectsConfiguration(ys)&&it(),gt.affectsConfiguration(go)&&(Nt=Object.assign(Object.assign({},Nt),{automaticKeyboardNavigation:S()})),gt.affectsConfiguration(To)&&void 0===h.horizontalScrolling){const Wt=Boolean(Oe.getValue(To));Nt=Object.assign(Object.assign({},Nt),{horizontalScrolling:Wt})}if(gt.affectsConfiguration(Ps)&&void 0===h.expandOnlyOnTwistieClick&&(Nt=Object.assign(Object.assign({},Nt),{expandOnlyOnTwistieClick:"doubleClick"===Oe.getValue(Ps)})),gt.affectsConfiguration(qo)){const Wt=Oe.getValue(qo);Nt=Object.assign(Object.assign({},Nt),{mouseWheelScrollSensitivity:Wt})}if(gt.affectsConfiguration(Ss)){const Wt=Oe.getValue(Ss);Nt=Object.assign(Object.assign({},Nt),{fastScrollSensitivity:Wt})}Object.keys(Nt).length>0&&A.updateOptions(Nt)}),this.contextKeyService.onDidChangeContext(gt=>{gt.affectsSome(Je)&&A.updateOptions({automaticKeyboardNavigation:S()})}),Re.onDidChangeScreenReaderOptimized(()=>it())),this.navigator=new Or(A,Object.assign({configurationService:Oe},h)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(A){void 0!==A.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyleOverrides(A){(0,D.B9)(this.styler),this.styler=A?(0,Jn.Jl)(this.tree,this.themeService,A):D.JT.None}dispose(){this.disposables=(0,D.B9)(this.disposables),(0,D.B9)(this.styler),this.styler=void 0}};fs=Di([xn(4,vn.i6),xn(5,Mi),xn(6,_i.XE),xn(7,wn.Ui),xn(8,_n.F)],fs),Kn.B.as(rn.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,ve.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[yo]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,ve.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,ve.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,ve.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Yi]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ve.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[To]:{type:"boolean",default:!1,description:(0,ve.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Hs]:{type:"number",default:8,minimum:4,maximum:40,description:(0,ve.N)("tree indent setting","Controls tree indentation in pixels.")},[zs]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,ve.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[ds]:{type:"boolean",default:!1,description:(0,ve.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[qo]:{type:"number",default:1,description:(0,ve.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Ss]:{type:"number",default:5,description:(0,ve.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[ys]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,ve.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,ve.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,ve.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,ve.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[go]:{type:"boolean",default:!0,markdownDescription:(0,ve.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[Ps]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ve.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},2646:(Fe,Ne,m)=>{m.d(Ne,{VZ:()=>B,in:()=>D,kw:()=>F,$V:()=>k});var E=m(71040),g=m(40189);const B=(0,m(43569).yh)("logService");var D=(()=>{return(y=D||(D={}))[y.Trace=0]="Trace",y[y.Debug=1]="Debug",y[y.Info=2]="Info",y[y.Warning=3]="Warning",y[y.Error=4]="Error",y[y.Critical=5]="Critical",y[y.Off=6]="Off",D;var y})();const i=D.Info;class O extends g.JT{constructor(){super(...arguments),this.level=i,this._onDidChangeLogLevel=this._register(new E.Q5)}setLevel(C){this.level!==C&&(this.level=C,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class F extends O{constructor(C=i){super(),this.setLevel(C)}trace(C,...b){this.getLevel()<=D.Trace&&console.log("%cTRACE","color: #888",C,...b)}debug(C,...b){this.getLevel()<=D.Debug&&console.log("%cDEBUG","background: #eee; color: #888",C,...b)}info(C,...b){this.getLevel()<=D.Info&&console.log("%c INFO","color: #33f",C,...b)}error(C,...b){this.getLevel()<=D.Error&&console.log("%c  ERR","color: #f33",C,...b)}dispose(){}}class k extends g.JT{constructor(C){super(),this.logger=C,this._register(C)}getLevel(){return this.logger.getLevel()}trace(C,...b){this.logger.trace(C,...b)}debug(C,...b){this.logger.debug(C,...b)}info(C,...b){this.logger.info(C,...b)}error(C,...b){this.logger.error(C,...b)}}},81622:(Fe,Ne,m)=>{m.d(Ne,{ZL:()=>B,H0:()=>D,lT:()=>i});var D,E=m(13310),g=m(12918),Y=m(43569),B=(()=>{return(O=B||(B={}))[O.Hint=1]="Hint",O[O.Info=2]="Info",O[O.Warning=4]="Warning",O[O.Error=8]="Error",B;var O})();!function(O){O.compare=function(x,f){return f-x};const k=Object.create(null);k[O.Error]=(0,g.N)("sev.error","Error"),k[O.Warning]=(0,g.N)("sev.warning","Warning"),k[O.Info]=(0,g.N)("sev.info","Info"),O.toString=function(x){return k[x]||""},O.fromSeverity=function(x){switch(x){case E.Z.Error:return O.Error;case E.Z.Warning:return O.Warning;case E.Z.Info:return O.Info;case E.Z.Ignore:return O.Hint}},O.toSeverity=function(x){switch(x){case O.Error:return E.Z.Error;case O.Warning:return E.Z.Warning;case O.Info:return E.Z.Info;case O.Hint:return E.Z.Ignore}}}(B||(B={})),function(O){const F="";function y(C,b){let x=[F];return x.push(C.source?C.source.replace("\xa6","\\\xa6"):F),x.push(C.code?"string"==typeof C.code?C.code.replace("\xa6","\\\xa6"):C.code.value.replace("\xa6","\\\xa6"):F),x.push(null!=C.severity?B.toString(C.severity):F),x.push(C.message&&b?C.message.replace("\xa6","\\\xa6"):F),x.push(null!=C.startLineNumber?C.startLineNumber.toString():F),x.push(null!=C.startColumn?C.startColumn.toString():F),x.push(null!=C.endLineNumber?C.endLineNumber.toString():F),x.push(null!=C.endColumn?C.endColumn.toString():F),x.push(F),x.join("\xa6")}O.makeKey=function(C){return y(C,!0)},O.makeKeyOptionalMessage=y}(D||(D={}));const i=(0,Y.yh)("markerService")},8135:(Fe,Ne,m)=>{m.d(Ne,{zb:()=>Y,lT:()=>B,EO:()=>D});var E=m(13310),g=m(43569),Y=E.Z;const B=(0,g.yh)("notificationService");class D{}},23813:(Fe,Ne,m)=>{m.d(Ne,{v4:()=>i,SW:()=>O,xn:()=>F,Gs:()=>k,xI:()=>y});var E=m(40189),g=m(74243),Y=m(85459),B=m(43569),D=function(C,b,x,f){return new(x||(x=Promise))(function(H,L){function N(I){try{P(f.next(I))}catch($){L($)}}function Z(I){try{P(f.throw(I))}catch($){L($)}}function P(I){I.done?H(I.value):function(H){return H instanceof x?H:new x(function(L){L(H)})}(I.value).then(N,Z)}P((f=f.apply(C,b||[])).next())})};const i=(0,B.yh)("openerService"),O=Object.freeze({_serviceBrand:void 0,registerOpener:()=>E.JT.None,registerValidator:()=>E.JT.None,registerExternalUriResolver:()=>E.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>E.JT.None,open(){return D(this,void 0,void 0,function*(){return!1})},resolveExternalUri(C){return D(this,void 0,void 0,function*(){return{resolved:C,dispose(){}}})}});function F(C,b){return Y.o.isUri(C)?(0,g.qq)(C.scheme,b):(0,g.ok)(C,b+":")}function k(C,...b){return b.some(x=>F(C,x))}function y(C){let b;const x=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(C.fragment);return x&&(b={startLineNumber:parseInt(x[1]),startColumn:x[2]?parseInt(x[2]):1,endLineNumber:x[4]?parseInt(x[4]):void 0,endColumn:x[4]?x[5]?parseInt(x[5]):1:void 0},C=C.with({fragment:""})),{selection:b,uri:C}}},24763:(Fe,Ne,m)=>{m.d(Ne,{Ex:()=>Y,ek:()=>B});var E=m(43569);Object.freeze({total(){},worked(){},done(){}});class Y{constructor(i){this.callback=i}report(i){this._value=i,this.callback(this._value)}}Y.None=Object.freeze({report(){}});const B=(0,E.yh)("editorProgressService")},76183:(Fe,Ne,m)=>{m.d(Ne,{Ry:()=>B,IP:()=>D});var E=m(89822),g=m(40189),Y=m(63779),B=(()=>{return(O=B||(B={}))[O.PRESERVE=0]="PRESERVE",O[O.LAST=1]="LAST",B;var O})();const D={Quickaccess:"workbench.contributions.quickaccess"};Y.B.add(D.Quickaccess,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(F){return 0===F.prefix.length?this.defaultProvider=F:this.providers.push(F),this.providers.sort((k,y)=>y.prefix.length-k.prefix.length),(0,g.OF)(()=>{this.providers.splice(this.providers.indexOf(F),1),this.defaultProvider===F&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,E.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(F){return F&&this.providers.find(y=>F.startsWith(y.prefix))||this.defaultProvider}})},43413:(Fe,Ne,m)=>{m.d(Ne,{jG:()=>g.jG,eJ:()=>Y});var E=m(43569),g=m(55552);const Y=(0,E.yh)("quickInputService")},63779:(Fe,Ne,m)=>{m.d(Ne,{B:()=>B});var E=m(59126),g=m(99770);const B=new class{constructor(){this.data=new Map}add(i,O){E.ok(g.HD(i)),E.ok(g.Kn(O)),E.ok(!this.data.has(i),"There is already an extension with this id"),this.data.set(i,O)}as(i){return this.data.get(i)||null}}},58070:(Fe,Ne,m)=>{m.d(Ne,{Uy:()=>C,vm:()=>f,fk:()=>b});var E=m(71040),g=m(40189),Y=m(99770),B=m(89983),D=function(M,H,L,N){return new(L||(L=Promise))(function(P,I){function $(oe){try{G(N.next(oe))}catch(de){I(de)}}function U(oe){try{G(N.throw(oe))}catch(de){I(de)}}function G(oe){oe.done?P(oe.value):function(P){return P instanceof L?P:new L(function(I){I(P)})}(oe.value).then($,U)}G((N=N.apply(M,H||[])).next())})},i=(()=>{return(M=i||(i={}))[M.None=0]="None",M[M.Initialized=1]="Initialized",M[M.Closed=2]="Closed",i;var M})();let O=(()=>{class M extends g.JT{constructor(L,N=Object.create(null)){super(),this.database=L,this.options=N,this._onDidChangeStorage=this._register(new E.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=i.None,this.cache=new Map,this.flushDelayer=new B.rH(M.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(L=>this.onDidChangeItemsExternal(L)))}onDidChangeItemsExternal(L){var N,Z;null===(N=L.changed)||void 0===N||N.forEach((P,I)=>this.accept(I,P)),null===(Z=L.deleted)||void 0===Z||Z.forEach(P=>this.accept(P,void 0))}accept(L,N){if(this.state===i.Closed)return;let Z=!1;(0,Y.Jp)(N)?Z=this.cache.delete(L):this.cache.get(L)!==N&&(this.cache.set(L,N),Z=!0),Z&&this._onDidChangeStorage.fire(L)}get(L,N){const Z=this.cache.get(L);return(0,Y.Jp)(Z)?N:Z}getBoolean(L,N){const Z=this.get(L);return(0,Y.Jp)(Z)?N:"true"===Z}getNumber(L,N){const Z=this.get(L);return(0,Y.Jp)(Z)?N:parseInt(Z,10)}set(L,N){return D(this,void 0,void 0,function*(){if(this.state===i.Closed)return;if((0,Y.Jp)(N))return this.delete(L);const Z=String(N);return this.cache.get(L)!==Z?(this.cache.set(L,Z),this.pendingInserts.set(L,Z),this.pendingDeletes.delete(L),this._onDidChangeStorage.fire(L),this.doFlush()):void 0})}delete(L){return D(this,void 0,void 0,function*(){if(this.state!==i.Closed&&this.cache.delete(L))return this.pendingDeletes.has(L)||this.pendingDeletes.add(L),this.pendingInserts.delete(L),this._onDidChangeStorage.fire(L),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return D(this,void 0,void 0,function*(){if(!this.hasPending)return;const L={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(L).finally(()=>{var N;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(N=this.whenFlushedCallbacks.pop())||void 0===N||N()})})}doFlush(L){return D(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),L)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return M.DEFAULT_FLUSH_DELAY=100,M})();class F{constructor(){this.onDidChangeItemsExternal=E.ju.None,this.items=new Map}updateItems(H){return D(this,void 0,void 0,function*(){H.insert&&H.insert.forEach((L,N)=>this.items.set(N,L)),H.delete&&H.delete.forEach(L=>this.items.delete(L))})}}var k=m(43569);const y="__$__targetStorageMarker",C=(0,k.yh)("storageService");var b=(()=>{return(M=b||(b={}))[M.NONE=0]="NONE",M[M.SHUTDOWN=1]="SHUTDOWN",b;var M})();let x=(()=>{class M extends g.JT{constructor(L={flushInterval:M.DEFAULT_FLUSH_INTERVAL}){super(),this.options=L,this._onDidChangeValue=this._register(new E.K3),this._onDidChangeTarget=this._register(new E.K3),this._onWillSaveState=this._register(new E.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(L,N){N===y?(0===L?this._globalKeyTargets=void 0:1===L&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:L})):this._onDidChangeValue.fire({scope:L,key:N,target:this.getKeyTargets(L)[N]})}get(L,N,Z){var P;return null===(P=this.getStorage(N))||void 0===P?void 0:P.get(L,Z)}getBoolean(L,N,Z){var P;return null===(P=this.getStorage(N))||void 0===P?void 0:P.getBoolean(L,Z)}getNumber(L,N,Z){var P;return null===(P=this.getStorage(N))||void 0===P?void 0:P.getNumber(L,Z)}store(L,N,Z,P){(0,Y.Jp)(N)?this.remove(L,Z):this.withPausedEmitters(()=>{var I;this.updateKeyTarget(L,Z,P),null===(I=this.getStorage(Z))||void 0===I||I.set(L,N)})}remove(L,N){this.withPausedEmitters(()=>{var Z;this.updateKeyTarget(L,N,void 0),null===(Z=this.getStorage(N))||void 0===Z||Z.delete(L)})}withPausedEmitters(L){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{L()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(L,N,Z){var P,I;const $=this.getKeyTargets(N);"number"==typeof Z?$[L]!==Z&&($[L]=Z,null===(P=this.getStorage(N))||void 0===P||P.set(y,JSON.stringify($))):"number"==typeof $[L]&&(delete $[L],null===(I=this.getStorage(N))||void 0===I||I.set(y,JSON.stringify($)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(L){return 0===L?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(L){const N=this.get(y,L);if(N)try{return JSON.parse(N)}catch{}return Object.create(null)}}return M.DEFAULT_FLUSH_INTERVAL=6e4,M})();class f extends x{constructor(){super(),this.globalStorage=this._register(new O(new F)),this.workspaceStorage=this._register(new O(new F)),this._register(this.workspaceStorage.onDidChangeStorage(H=>this.emitDidChangeValue(1,H))),this._register(this.globalStorage.onDidChangeStorage(H=>this.emitDidChangeValue(0,H)))}getStorage(H){return 0===H?this.globalStorage:this.workspaceStorage}}},87493:(Fe,Ne,m)=>{m.d(Ne,{b:()=>g});const g=(0,m(43569).yh)("telemetryService")},98275:(Fe,Ne,m)=>{m.d(Ne,{QO2:()=>F,IPX:()=>k,P6G:()=>b,dRz:()=>x,Ido:()=>f,XZx:()=>H,R80:()=>L,lRK:()=>N,xL1:()=>Z,url:()=>$,sgC:()=>U,SwI:()=>fe,rh:()=>_e,sEe:()=>we,zJb:()=>me,dt_:()=>Q,PRb:()=>q,XEs:()=>ee,Pvw:()=>J,_lC:()=>ce,YI3:()=>ve,EPQ:()=>ke,RV_:()=>We,SUG:()=>je,C3g:()=>ue,paE:()=>Ce,_t9:()=>Ae,OZR:()=>et,j5u:()=>at,b7$:()=>bt,GO4:()=>Ut,g8u:()=>zt,qeD:()=>fn,_wn:()=>Ye,etL:()=>Et,ABB:()=>St,ynu:()=>sn,zRJ:()=>Dn,L_H:()=>Rt,lXJ:()=>Mt,b6y:()=>Yn,gpD:()=>xi,uoC:()=>At,pW3:()=>Bi,few:()=>Xt,c63:()=>He,T83:()=>Ue,Dut:()=>on,fEB:()=>Sn,cvW:()=>bi,NOs:()=>ki,D0T:()=>Li,Hfx:()=>wi,D1_:()=>Dt,Ng6:()=>Lt,zKr:()=>Yt,tZ6:()=>bn,loF:()=>Kt,kJk:()=>Ve,opG:()=>Qe,oQ$:()=>ct,lWp:()=>xt,AWI:()=>Ht,K19:()=>en,hEj:()=>hn,yb5:()=>yn,ES4:()=>_n,Rzx:()=>wn,g_n:()=>rn,nyM:()=>vn,MUv:()=>ln,jUe:()=>En,pnM:()=>In,EiJ:()=>Kn,gkn:()=>Jn,ptc:()=>xn,yJx:()=>Mi,Sbf:()=>li,CNo:()=>pi,LoV:()=>Mn,_Yy:()=>Ci,VVv:()=>Ti,PpC:()=>ei,hX8:()=>ao,bKB:()=>zn,HCL:()=>ji,phM:()=>co,Fu1:()=>oi,sKV:()=>_o,CzK:()=>Ei,keg:()=>ko,ypS:()=>yo,P4M:()=>Yi,hzo:()=>To,xi6:()=>ys,j51:()=>go,zOm:()=>Hs,P6Y:()=>zs,F9q:()=>ds,XL$:()=>qo,mHy:()=>Ss,LLc:()=>Ps,L_t:()=>es,_bK:()=>to,_2n:()=>Pr,Oop:()=>or,dCr:()=>Ro,M6C:()=>Lo,Tnx:()=>rs,rg2:()=>Qs,ytC:()=>sr,kvU:()=>Or,s$:()=>Wo,F3d:()=>xs,mV1:()=>rr,$d5:()=>Ea,AS1:()=>Ki,Gwp:()=>Do,PX0:()=>Os,vGG:()=>A,oSI:()=>h,Saq:()=>S,UnT:()=>ae,uxu:()=>be,EQn:()=>Oe,NPS:()=>Je,cbQ:()=>it,Vqd:()=>ft,Cdg:()=>gt,DEr:()=>Nt,Hz8:()=>Wt,jbW:()=>Gt,$DX:()=>Nn,E3h:()=>qn,ZGJ:()=>di,lUq:()=>_t,Fm_:()=>rc,SPM:()=>ua,SUY:()=>Ma,IYc:()=>ac,ov3:()=>od,Gj_:()=>lc,Ivo:()=>Sl,kVY:()=>cc,Itd:()=>xl,CA6:()=>Po,Xy4:()=>Ll,brw:()=>Ls,JpG:()=>Rr,BOY:()=>dc,OLZ:()=>cr,ZnX:()=>gi,kwl:()=>ns,Snq:()=>Zo});var E=m(89983),g=m(81897),Y=m(71040),B=m(99770),D=m(12918),i=m(42620),O=m(63779);function F(Oi){return`--vscode-${Oi.replace(/\./g,"-")}`}const k={ColorContribution:"base.contributions.colors"},C=new class{constructor(){this._onDidChangeSchema=new Y.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor($i,Vo,Ji,Go=!1,is){this.colorsById[$i]={id:$i,description:Ji,defaults:Vo,needsTransparency:Go,deprecationMessage:is};let ha={type:"string",description:Ji,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return is&&(ha.deprecationMessage=is),this.colorSchema.properties[$i]=ha,this.colorReferenceSchema.enum.push($i),this.colorReferenceSchema.enumDescriptions.push(Ji),this._onDidChangeSchema.fire(),$i}getColors(){return Object.keys(this.colorsById).map($i=>this.colorsById[$i])}resolveDefaultColor($i,Vo){const Ji=this.colorsById[$i];if(Ji&&Ji.defaults)return Zo(Ji.defaults[Vo.type],Vo)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((Vo,Ji)=>{let Go=-1===Vo.indexOf(".")?0:1,is=-1===Ji.indexOf(".")?0:1;return Go!==is?Go-is:Vo.localeCompare(Ji)}).map(Vo=>`- \`${Vo}\`: ${this.colorsById[Vo].description}`).join("\n")}};function b(Oi,$i,Vo,Ji,Go){return C.registerColor(Oi,$i,Vo,Ji,Go)}O.B.add(k.ColorContribution,C);const x=b("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},D.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),f=b("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},D.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),H=(b("descriptionForeground",{light:"#717171",dark:gi(x,.7),hc:gi(x,.7)},D.N("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),b("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},D.N("iconForeground","The default color for icons in the workbench."))),L=b("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},D.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),N=b("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},D.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Z=b("contrastActiveBorder",{light:null,dark:null,hc:L},D.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),$=(b("selection.background",{light:null,dark:null,hc:null},D.N("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),b("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:g.Il.black},D.N("textSeparatorForeground","Color for text separators.")),b("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},D.N("textLinkForeground","Foreground color for links in text."))),U=b("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},D.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),fe=(b("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},D.N("textPreformatForeground","Foreground color for preformatted text segments.")),b("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},D.N("textBlockQuoteBackground","Background color for block quotes in text.")),b("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:g.Il.white},D.N("textBlockQuoteBorder","Border color for block quotes in text.")),b("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:g.Il.black},D.N("textCodeBlockBackground","Background color for code blocks in text."))),_e=b("widget.shadow",{dark:gi(g.Il.black,.36),light:gi(g.Il.black,.16),hc:null},D.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),we=b("input.background",{dark:"#3C3C3C",light:g.Il.white,hc:g.Il.black},D.N("inputBoxBackground","Input box background.")),me=b("input.foreground",{dark:x,light:x,hc:x},D.N("inputBoxForeground","Input box foreground.")),Q=b("input.border",{dark:null,light:null,hc:N},D.N("inputBoxBorder","Input box border.")),q=b("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:N},D.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),ee=(b("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},D.N("inputOption.hoverBackground","Background color of activated options in input fields.")),b("inputOption.activeBackground",{dark:gi(L,.4),light:gi(L,.2),hc:g.Il.transparent},D.N("inputOption.activeBackground","Background hover color of options in input fields."))),J=b("inputOption.activeForeground",{dark:g.Il.white,light:g.Il.black,hc:null},D.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),ce=(b("input.placeholderForeground",{light:gi(x,.5),dark:gi(x,.5),hc:gi(x,.7)},D.N("inputPlaceholderForeground","Input box foreground color for placeholder text.")),b("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:g.Il.black},D.N("inputValidationInfoBackground","Input validation background color for information severity."))),ve=b("inputValidation.infoForeground",{dark:null,light:null,hc:null},D.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),ke=b("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:N},D.N("inputValidationInfoBorder","Input validation border color for information severity.")),We=b("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:g.Il.black},D.N("inputValidationWarningBackground","Input validation background color for warning severity.")),je=b("inputValidation.warningForeground",{dark:null,light:null,hc:null},D.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),ue=b("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:N},D.N("inputValidationWarningBorder","Input validation border color for warning severity.")),Ce=b("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:g.Il.black},D.N("inputValidationErrorBackground","Input validation background color for error severity.")),Ae=b("inputValidation.errorForeground",{dark:null,light:null,hc:null},D.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),et=b("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:N},D.N("inputValidationErrorBorder","Input validation border color for error severity.")),$e=b("dropdown.background",{dark:"#3C3C3C",light:g.Il.white,hc:g.Il.black},D.N("dropdownBackground","Dropdown background.")),rt=(b("dropdown.listBackground",{dark:null,light:null,hc:g.Il.black},D.N("dropdownListBackground","Dropdown list background.")),b("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:g.Il.white},D.N("dropdownForeground","Dropdown foreground."))),ht=b("dropdown.border",{dark:$e,light:"#CECECE",hc:N},D.N("dropdownBorder","Dropdown border.")),at=(b("checkbox.background",{dark:$e,light:$e,hc:$e},D.N("checkbox.background","Background color of checkbox widget.")),b("checkbox.foreground",{dark:rt,light:rt,hc:rt},D.N("checkbox.foreground","Foreground color of checkbox widget.")),b("checkbox.border",{dark:ht,light:ht,hc:ht},D.N("checkbox.border","Border color of checkbox widget.")),b("button.foreground",{dark:g.Il.white,light:g.Il.white,hc:g.Il.white},D.N("buttonForeground","Button foreground color."))),bt=b("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},D.N("buttonBackground","Button background color.")),Ut=b("button.hoverBackground",{dark:wr(bt,.2),light:Br(bt,.2),hc:null},D.N("buttonHoverBackground","Button background color when hovering.")),Bt=(b("button.border",{dark:N,light:N,hc:N},D.N("buttonBorder","Button border color.")),b("button.secondaryForeground",{dark:g.Il.white,light:g.Il.white,hc:g.Il.white},D.N("buttonSecondaryForeground","Secondary button foreground color.")),b("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},D.N("buttonSecondaryBackground","Secondary button background color."))),zt=(b("button.secondaryHoverBackground",{dark:wr(Bt,.2),light:Br(Bt,.2),hc:null},D.N("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),b("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:g.Il.black},D.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),fn=b("badge.foreground",{dark:g.Il.white,light:"#333",hc:g.Il.white},D.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Ye=b("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},D.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Et=b("scrollbarSlider.background",{dark:g.Il.fromHex("#797979").transparent(.4),light:g.Il.fromHex("#646464").transparent(.4),hc:gi(N,.6)},D.N("scrollbarSliderBackground","Scrollbar slider background color.")),St=b("scrollbarSlider.hoverBackground",{dark:g.Il.fromHex("#646464").transparent(.7),light:g.Il.fromHex("#646464").transparent(.7),hc:gi(N,.8)},D.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),sn=b("scrollbarSlider.activeBackground",{dark:g.Il.fromHex("#BFBFBF").transparent(.4),light:g.Il.fromHex("#000000").transparent(.6),hc:N},D.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Dn=b("progressBar.background",{dark:g.Il.fromHex("#0E70C0"),light:g.Il.fromHex("#0E70C0"),hc:N},D.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Rt=b("editorError.background",{dark:null,light:null,hc:null},D.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Mt=b("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},D.N("editorError.foreground","Foreground color of error squigglies in the editor.")),Yn=b("editorError.border",{dark:null,light:null,hc:g.Il.fromHex("#E47777").transparent(.8)},D.N("errorBorder","Border color of error boxes in the editor.")),xi=b("editorWarning.background",{dark:null,light:null,hc:null},D.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),At=b("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},D.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Bi=b("editorWarning.border",{dark:null,light:null,hc:g.Il.fromHex("#FFCC00").transparent(.8)},D.N("warningBorder","Border color of warning boxes in the editor.")),Xt=b("editorInfo.background",{dark:null,light:null,hc:null},D.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),He=b("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},D.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Ue=b("editorInfo.border",{dark:null,light:null,hc:g.Il.fromHex("#3794FF").transparent(.8)},D.N("infoBorder","Border color of info boxes in the editor.")),on=b("editorHint.foreground",{dark:g.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},D.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Sn=b("editorHint.border",{dark:null,light:null,hc:g.Il.fromHex("#eeeeee").transparent(.8)},D.N("hintBorder","Border color of hint boxes in the editor.")),bi=(b("sash.hoverBorder",{dark:L,light:L,hc:L},D.N("sashActiveBorder","Border color of active sashes.")),b("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:g.Il.black},D.N("editorBackground","Editor background color."))),ki=b("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:g.Il.white},D.N("editorForeground","Editor default foreground color.")),Li=b("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},D.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),wi=b("editorWidget.foreground",{dark:x,light:x,hc:x},D.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Dt=b("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:N},D.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Lt=b("editorWidget.resizeBorder",{light:null,dark:null,hc:null},D.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Yt=b("quickInput.background",{dark:Li,light:Li,hc:Li},D.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),bn=b("quickInput.foreground",{dark:wi,light:wi,hc:wi},D.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Kt=b("quickInputTitle.background",{dark:new g.Il(new g.VS(255,255,255,.105)),light:new g.Il(new g.VS(0,0,0,.06)),hc:"#000000"},D.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Ve=b("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:g.Il.white},D.N("pickerGroupForeground","Quick picker color for grouping labels.")),Qe=b("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:g.Il.white},D.N("pickerGroupBorder","Quick picker color for grouping borders.")),ct=b("keybindingLabel.background",{dark:new g.Il(new g.VS(128,128,128,.17)),light:new g.Il(new g.VS(221,221,221,.4)),hc:g.Il.transparent},D.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),xt=b("keybindingLabel.foreground",{dark:g.Il.fromHex("#CCCCCC"),light:g.Il.fromHex("#555555"),hc:g.Il.white},D.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Ht=b("keybindingLabel.border",{dark:new g.Il(new g.VS(51,51,51,.6)),light:new g.Il(new g.VS(204,204,204,.4)),hc:new g.Il(new g.VS(111,195,223))},D.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),en=b("keybindingLabel.bottomBorder",{dark:new g.Il(new g.VS(68,68,68,.6)),light:new g.Il(new g.VS(187,187,187,.4)),hc:new g.Il(new g.VS(111,195,223))},D.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),hn=b("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},D.N("editorSelectionBackground","Color of the editor selection.")),yn=b("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},D.N("editorSelectionForeground","Color of the selected text for high contrast.")),_n=b("editor.inactiveSelectionBackground",{light:gi(hn,.5),dark:gi(hn,.5),hc:gi(hn,.5)},D.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),wn=b("editor.selectionHighlightBackground",{light:Ds(hn,bi,.3,.6),dark:Ds(hn,bi,.3,.6),hc:null},D.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),rn=b("editor.selectionHighlightBorder",{light:null,dark:null,hc:Z},D.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),vn=b("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},D.N("editorFindMatch","Color of the current search match.")),ln=b("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},D.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),En=b("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},D.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),In=b("editor.findMatchBorder",{light:null,dark:null,hc:Z},D.N("editorFindMatchBorder","Border color of the current search match.")),Kn=b("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Z},D.N("findMatchHighlightBorder","Border color of the other search matches.")),Jn=b("editor.findRangeHighlightBorder",{dark:null,light:null,hc:gi(Z,.4)},D.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),xn=(b("searchEditor.findMatchBackground",{light:gi(ln,.66),dark:gi(ln,.66),hc:ln},D.N("searchEditor.queryMatch","Color of the Search Editor query matches.")),b("searchEditor.findMatchBorder",{light:gi(Kn,.66),dark:gi(Kn,.66),hc:Kn},D.N("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),b("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},D.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0)),Mi=b("editorHoverWidget.background",{light:Li,dark:Li,hc:Li},D.N("hoverBackground","Background color of the editor hover.")),li=b("editorHoverWidget.foreground",{light:wi,dark:wi,hc:wi},D.N("hoverForeground","Foreground color of the editor hover.")),pi=b("editorHoverWidget.border",{light:Dt,dark:Dt,hc:Dt},D.N("hoverBorder","Border color of the editor hover.")),Mn=b("editorHoverWidget.statusBarBackground",{dark:wr(Mi,.2),light:Br(Mi,.05),hc:Li},D.N("statusBarBackground","Background color of the editor hover status bar.")),Ci=b("editorLink.activeForeground",{dark:"#4E94CE",light:g.Il.blue,hc:g.Il.cyan},D.N("activeLinkForeground","Color of active links.")),Ti=b("editorInlayHint.foreground",{dark:gi(fn,.8),light:gi(fn,.8),hc:fn},D.N("editorInlayHintForeground","Foreground color of inline hints")),ei=b("editorInlayHint.background",{dark:gi(zt,.6),light:gi(zt,.3),hc:zt},D.N("editorInlayHintBackground","Background color of inline hints")),ao=b("editorInlayHint.typeForeground",{dark:Ti,light:Ti,hc:Ti},D.N("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),zn=b("editorInlayHint.typeBackground",{dark:ei,light:ei,hc:ei},D.N("editorInlayHintBackgroundTypes","Background color of inline hints for types")),ji=b("editorInlayHint.parameterForeground",{dark:Ti,light:Ti,hc:Ti},D.N("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),co=b("editorInlayHint.parameterBackground",{dark:ei,light:ei,hc:ei},D.N("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),oi=b("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},D.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),_o=b("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},D.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Ei=new g.Il(new g.VS(155,185,85,.2)),ko=new g.Il(new g.VS(255,0,0,.2)),yo=b("diffEditor.insertedTextBackground",{dark:Ei,light:Ei,hc:null},D.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Yi=b("diffEditor.removedTextBackground",{dark:ko,light:ko,hc:null},D.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),To=b("diffEditor.insertedLineBackground",{dark:null,light:null,hc:null},D.N("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),ys=b("diffEditor.removedLineBackground",{dark:null,light:null,hc:null},D.N("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),go=b("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hc:null},D.N("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Hs=b("diffEditorGutter.removedLineBackground",{dark:null,light:null,hc:null},D.N("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),zs=b("diffEditorOverview.insertedForeground",{dark:null,light:null,hc:null},D.N("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),ds=b("diffEditorOverview.removedForeground",{dark:null,light:null,hc:null},D.N("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),qo=b("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},D.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),Ss=b("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},D.N("diffEditorRemovedOutline","Outline color for text that got removed.")),Ps=b("diffEditor.border",{dark:null,light:null,hc:N},D.N("diffEditorBorder","Border color between the two text editors.")),es=b("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},D.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),to=b("list.focusBackground",{dark:null,light:null,hc:null},D.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pr=b("list.focusForeground",{dark:null,light:null,hc:null},D.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),or=b("list.focusOutline",{dark:L,light:L,hc:Z},D.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ro=b("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},D.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Lo=b("list.activeSelectionForeground",{dark:g.Il.white,light:g.Il.white,hc:null},D.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),rs=b("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},D.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Qs=b("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},D.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),sr=b("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},D.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Or=b("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},D.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Wo=b("list.inactiveFocusBackground",{dark:null,light:null,hc:null},D.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),xs=b("list.inactiveFocusOutline",{dark:null,light:null,hc:null},D.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),rr=b("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},D.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Ea=b("list.hoverForeground",{dark:null,light:null,hc:null},D.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Ki=b("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},D.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Do=b("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:L},D.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Os=b("list.focusHighlightForeground",{dark:Do,light:(Oi=Ro,$i=Do,"#9DDDFF",{op:5,if:Oi,then:$i,else:"#9DDDFF"}),hc:Do},D.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),A=(b("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},D.N("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),b("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},D.N("listErrorForeground","Foreground color of list items containing errors.")),b("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},D.N("listWarningForeground","Foreground color of list items containing warnings.")),b("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:g.Il.black},D.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),h=b("listFilterWidget.outline",{dark:g.Il.transparent,light:g.Il.transparent,hc:"#f38518"},D.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),S=b("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:N},D.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),ae=(b("list.filterMatchBackground",{dark:ln,light:ln,hc:null},D.N("listFilterMatchHighlight","Background color of the filtered match.")),b("list.filterMatchBorder",{dark:Kn,light:Kn,hc:N},D.N("listFilterMatchHighlightBorder","Border color of the filtered match.")),b("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},D.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),be=b("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},D.N("tableColumnsBorder","Table border color between columns.")),Oe=b("tree.tableOddRowsBackground",{dark:gi(x,.04),light:gi(x,.04),hc:null},D.N("tableOddRowsBackgroundColor","Background color for odd table rows.")),Ze=(b("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},D.N("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),b("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,D.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),Je=b("quickInputList.focusForeground",{dark:Lo,light:Lo,hc:Lo},D.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),it=b("quickInputList.focusIconForeground",{dark:rs,light:rs,hc:rs},D.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),ft=b("quickInputList.focusBackground",{dark:ns(Ze,Ro),light:ns(Ze,Ro),hc:null},D.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),gt=b("menu.border",{dark:null,light:null,hc:N},D.N("menuBorder","Border color of menus.")),Nt=b("menu.foreground",{dark:rt,light:x,hc:rt},D.N("menuForeground","Foreground color of menu items.")),Wt=b("menu.background",{dark:$e,light:$e,hc:$e},D.N("menuBackground","Background color of menu items.")),Gt=b("menu.selectionForeground",{dark:Lo,light:Lo,hc:Lo},D.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Nn=b("menu.selectionBackground",{dark:Ro,light:Ro,hc:Ro},D.N("menuSelectionBackground","Background color of the selected menu item in menus.")),qn=b("menu.selectionBorder",{dark:null,light:null,hc:Z},D.N("menuSelectionBorder","Border color of the selected menu item in menus.")),di=b("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:N},D.N("menuSeparatorBackground","Color of a separator menu item in menus.")),_t=b("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},D.N("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),ar=(b("toolbar.hoverOutline",{dark:null,light:null,hc:Z},D.N("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),b("toolbar.activeBackground",{dark:wr(_t,.1),light:Br(_t,.1),hc:null},D.N("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),b("editor.snippetTabstopHighlightBackground",{dark:new g.Il(new g.VS(124,124,124,.3)),light:new g.Il(new g.VS(10,50,100,.2)),hc:new g.Il(new g.VS(124,124,124,.3))},D.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),b("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},D.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),b("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},D.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),b("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new g.Il(new g.VS(10,50,100,.5)),hc:"#525252"},D.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),b("breadcrumb.foreground",{light:gi(x,.8),dark:gi(x,.8),hc:gi(x,.8)},D.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),b("breadcrumb.background",{light:bi,dark:bi,hc:bi},D.N("breadcrumbsBackground","Background color of breadcrumb items.")),b("breadcrumb.focusForeground",{light:Br(x,.2),dark:wr(x,.1),hc:wr(x,.1)},D.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),b("breadcrumb.activeSelectionForeground",{light:Br(x,.2),dark:wr(x,.1),hc:wr(x,.1)},D.N("breadcrumbsSelectedForegound","Color of selected breadcrumb items.")),b("breadcrumbPicker.background",{light:Li,dark:Li,hc:Li},D.N("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),g.Il.fromHex("#40C8AE").transparent(.5)),oc=g.Il.fromHex("#40A6FF").transparent(.5),yl=g.Il.fromHex("#606060").transparent(.4),lr=.4,as=b("merge.currentHeaderBackground",{dark:ar,light:ar,hc:null},D.N("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ca=(b("merge.currentContentBackground",{dark:gi(as,lr),light:gi(as,lr),hc:gi(as,lr)},D.N("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.incomingHeaderBackground",{dark:oc,light:oc,hc:null},D.N("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Rs=(b("merge.incomingContentBackground",{dark:gi(ca,lr),light:gi(ca,lr),hc:gi(ca,lr)},D.N("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.commonHeaderBackground",{dark:yl,light:yl,hc:null},D.N("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Qr=(b("merge.commonContentBackground",{dark:gi(Rs,lr),light:gi(Rs,lr),hc:gi(Rs,lr)},D.N("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.border",{dark:null,light:null,hc:"#C3DF6F"},D.N("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),rc=(b("editorOverviewRuler.currentContentForeground",{dark:gi(as,1),light:gi(as,1),hc:Qr},D.N("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.incomingContentForeground",{dark:gi(ca,1),light:gi(ca,1),hc:Qr},D.N("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.commonContentForeground",{dark:gi(Rs,1),light:gi(Rs,1),hc:Qr},D.N("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},D.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),ua=b("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},D.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Ma=b("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},D.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),ac=b("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},D.N("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),od=b("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},D.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),lc=b("minimap.errorHighlight",{dark:new g.Il(new g.VS(255,18,18,.7)),light:new g.Il(new g.VS(255,18,18,.7)),hc:new g.Il(new g.VS(255,50,50,1))},D.N("minimapError","Minimap marker color for errors.")),Sl=b("minimap.warningHighlight",{dark:At,light:At,hc:Bi},D.N("overviewRuleWarning","Minimap marker color for warnings.")),cc=b("minimap.background",{dark:null,light:null,hc:null},D.N("minimapBackground","Minimap background color.")),xl=b("minimap.foregroundOpacity",{dark:g.Il.fromHex("#000f"),light:g.Il.fromHex("#000f"),hc:g.Il.fromHex("#000f")},D.N("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Po=b("minimapSlider.background",{light:gi(Et,.5),dark:gi(Et,.5),hc:gi(Et,.5)},D.N("minimapSliderBackground","Minimap slider background color.")),Ll=b("minimapSlider.hoverBackground",{light:gi(St,.5),dark:gi(St,.5),hc:gi(St,.5)},D.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Ls=b("minimapSlider.activeBackground",{light:gi(sn,.5),dark:gi(sn,.5),hc:gi(sn,.5)},D.N("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Rr=b("problemsErrorIcon.foreground",{dark:Mt,light:Mt,hc:Mt},D.N("problemsErrorIconForeground","The color used for the problems error icon.")),dc=b("problemsWarningIcon.foreground",{dark:At,light:At,hc:At},D.N("problemsWarningIconForeground","The color used for the problems warning icon.")),cr=b("problemsInfoIcon.foreground",{dark:He,light:He,hc:He},D.N("problemsInfoIconForeground","The color used for the problems info icon."));var Oi,$i;function Br(Oi,$i){return{op:0,value:Oi,factor:$i}}function wr(Oi,$i){return{op:1,value:Oi,factor:$i}}function gi(Oi,$i){return{op:2,value:Oi,factor:$i}}function ns(...Oi){return{op:3,values:Oi}}function Ds(Oi,$i,Vo,Ji){return{op:4,value:Oi,background:$i,factor:Vo,transparency:Ji}}function Zo(Oi,$i){if(null!==Oi){if("string"==typeof Oi)return"#"===Oi[0]?g.Il.fromHex(Oi):$i.getColor(Oi);if(Oi instanceof g.Il)return Oi;if("object"==typeof Oi)return function(Oi,$i){var Vo,Ji,Go;switch(Oi.op){case 0:return null===(Vo=Zo(Oi.value,$i))||void 0===Vo?void 0:Vo.darken(Oi.factor);case 1:return null===(Ji=Zo(Oi.value,$i))||void 0===Ji?void 0:Ji.lighten(Oi.factor);case 2:return null===(Go=Zo(Oi.value,$i))||void 0===Go?void 0:Go.transparent(Oi.factor);case 3:for(const is of Oi.values){const yr=Zo(is,$i);if(yr)return yr}return;case 5:return Zo($i.defines(Oi.if)?Oi.then:Oi.else,$i);case 4:{const is=Zo(Oi.value,$i);if(!is)return;const yr=Zo(Oi.background,$i);return yr?is.isDarkerThan(yr)?g.Il.getLighterColor(is,yr,Oi.factor).transparent(Oi.transparency):g.Il.getDarkerColor(is,yr,Oi.factor).transparent(Oi.transparency):is.transparent(Oi.factor*Oi.transparency)}default:throw(0,B.vE)(Oi)}}(Oi,$i)}}b("charts.foreground",{dark:x,light:x,hc:x},D.N("chartsForeground","The foreground color used in charts.")),b("charts.lines",{dark:gi(x,.5),light:gi(x,.5),hc:gi(x,.5)},D.N("chartsLines","The color used for horizontal lines in charts.")),b("charts.red",{dark:Mt,light:Mt,hc:Mt},D.N("chartsRed","The red color used in chart visualizations.")),b("charts.blue",{dark:He,light:He,hc:He},D.N("chartsBlue","The blue color used in chart visualizations.")),b("charts.yellow",{dark:At,light:At,hc:At},D.N("chartsYellow","The yellow color used in chart visualizations.")),b("charts.orange",{dark:Ma,light:Ma,hc:Ma},D.N("chartsOrange","The orange color used in chart visualizations.")),b("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},D.N("chartsGreen","The green color used in chart visualizations.")),b("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},D.N("chartsPurple","The purple color used in chart visualizations."));const Es="vscode://schemas/workbench-colors";let uc=O.B.as(i.I.JSONContribution);uc.registerSchema(Es,C.getColorSchema());const Ia=new E.pY(()=>uc.notifySchemaChanged(Es),200);C.onDidChangeSchema(()=>{Ia.isScheduled()||Ia.schedule()})},80974:(Fe,Ne,m)=>{m.d(Ne,{q5:()=>b,Ks:()=>x,s_:()=>N});var k,E=m(89983),g=m(78968),Y=m(71040),B=m(12918),D=m(42620),i=m(63779),O=m(53323);(k||(k={})).getDefinition=function(oe,de){let fe=oe.defaults;for(;O.kS.isThemeIcon(fe);){const _e=C.getIcon(fe.id);if(!_e)return;fe=_e.defaults}return fe};const C=new class{constructor(){this._onDidChange=new Y.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,B.N)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,B.N)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${g.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(G,oe,de,fe){const _e=this.iconsById[G];if(_e){if(de&&!_e.description){_e.description=de,this.iconSchema.properties[G].markdownDescription=`${de} $(${G})`;const Q=this.iconReferenceSchema.enum.indexOf(G);-1!==Q&&(this.iconReferenceSchema.enumDescriptions[Q]=de),this._onDidChange.fire()}return _e}this.iconsById[G]={id:G,description:de,defaults:oe,deprecationMessage:fe};let me={$ref:"#/definitions/icons"};return fe&&(me.deprecationMessage=fe),de&&(me.markdownDescription=`${de}: $(${G})`),this.iconSchema.properties[G]=me,this.iconReferenceSchema.enum.push(G),this.iconReferenceSchema.enumDescriptions.push(de||""),this._onDidChange.fire(),{id:G}}getIcons(){return Object.keys(this.iconsById).map(G=>this.iconsById[G])}getIcon(G){return this.iconsById[G]}getIconSchema(){return this.iconSchema}toString(){const G=(_e,we)=>_e.id.localeCompare(we.id),oe=_e=>{for(;O.kS.isThemeIcon(_e.defaults);)_e=this.iconsById[_e.defaults.id];return`codicon codicon-${_e?_e.id:""}`};let de=[];de.push("| preview     | identifier                        | default codicon ID                | description"),de.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const fe=Object.keys(this.iconsById).map(_e=>this.iconsById[_e]);for(const _e of fe.filter(we=>!!we.description).sort(G))de.push(`|<i class="${oe(_e)}"></i>|${_e.id}|${O.kS.isThemeIcon(_e.defaults)?_e.defaults.id:_e.id}|${_e.description||""}|`);de.push("| preview     | identifier                        "),de.push("| ----------- | --------------------------------- |");for(const _e of fe.filter(we=>!O.kS.isThemeIcon(we.defaults)).sort(G))de.push(`|<i class="${oe(_e)}"></i>|${_e.id}|`);return de.join("\n")}};function b(U,G,oe,de){return C.registerIcon(U,G,oe,de)}function x(){return C}i.B.add("base.contributions.icons",C),function(){for(const U of g.lA.getAll())C.registerIcon(U.id,U.definition,U.description)}();const M="vscode://schemas/icons";let H=i.B.as(D.I.JSONContribution);H.registerSchema(M,C.getIconSchema());const L=new E.pY(()=>H.notifySchemaChanged(M),200);C.onDidChange(()=>{L.isScheduled()||L.schedule()});const N=b("widget-close",g.lA.close,(0,B.N)("widgetClose","Icon for the close action in widgets."));b("goto-previous-location",g.lA.arrowUp,(0,B.N)("previousChangeIcon","Icon for goto previous editor location.")),b("goto-next-location",g.lA.arrowDown,(0,B.N)("nextChangeIcon","Icon for goto next editor location.")),O.kS.modify(g.lA.sync,"spin"),O.kS.modify(g.lA.loading,"spin")},905:(Fe,Ne,m)=>{m.d(Ne,{o:()=>g,WZ:()=>B,Jl:()=>D,O2:()=>i,tj:()=>F});var E=m(98275);function g(k,y){const C=Object.create(null);for(let b in y){const x=y[b];x&&(C[b]=(0,E.Snq)(x,k))}return C}function Y(k,y,C){function b(){const x=g(k.getColorTheme(),y);"function"==typeof C?C(x):C.style(x)}return b(),k.onDidColorThemeChange(b)}function B(k,y,C){return Y(y,{badgeBackground:(null==C?void 0:C.badgeBackground)||E.g8u,badgeForeground:(null==C?void 0:C.badgeForeground)||E.qeD,badgeBorder:E.lRK},k)}function D(k,y,C){return Y(y,Object.assign(Object.assign({},i),C||{}),k)}const i={listFocusBackground:E._bK,listFocusForeground:E._2n,listFocusOutline:E.Oop,listActiveSelectionBackground:E.dCr,listActiveSelectionForeground:E.M6C,listActiveSelectionIconForeground:E.Tnx,listFocusAndSelectionBackground:E.dCr,listFocusAndSelectionForeground:E.M6C,listInactiveSelectionBackground:E.rg2,listInactiveSelectionIconForeground:E.kvU,listInactiveSelectionForeground:E.ytC,listInactiveFocusBackground:E.s$,listInactiveFocusOutline:E.F3d,listHoverBackground:E.mV1,listHoverForeground:E.$d5,listDropBackground:E.AS1,listSelectionOutline:E.xL1,listHoverOutline:E.xL1,listFilterWidgetBackground:E.vGG,listFilterWidgetOutline:E.oSI,listFilterWidgetNoMatchesOutline:E.Saq,listMatchesShadow:E.rh,treeIndentGuidesStroke:E.UnT,tableColumnsBorder:E.uxu,tableOddRowsBackgroundColor:E.EQn},O={shadowColor:E.rh,borderColor:E.Cdg,foregroundColor:E.DEr,backgroundColor:E.Hz8,selectionForegroundColor:E.jbW,selectionBackgroundColor:E.$DX,selectionBorderColor:E.E3h,separatorColor:E.ZGJ,scrollbarShadow:E._wn,scrollbarSliderBackground:E.etL,scrollbarSliderHoverBackground:E.ABB,scrollbarSliderActiveBackground:E.ynu};function F(k,y,C){return Y(y,Object.assign(Object.assign({},O),C),k)}},76804:(Fe,Ne,m)=>{m.d(Ne,{e:()=>E});var E=(()=>{return(g=E||(E={})).DARK="dark",g.LIGHT="light",g.HIGH_CONTRAST="hc",E;var g})()},53323:(Fe,Ne,m)=>{m.d(Ne,{XE:()=>O,EN:()=>k,kS:()=>y,m6:()=>C,IP:()=>b,Ic:()=>M,bB:()=>H});var E=m(78968),g=m(71040),Y=m(40189),B=m(43569),D=m(63779),i=m(76804);const O=(0,B.yh)("themeService");var F,y;function k(L){return{id:L}}function C(L){switch(L){case i.e.DARK:return"vs-dark";case i.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(F||(F={})).isThemeColor=function(Z){return Z&&"object"==typeof Z&&"string"==typeof Z.id},function(L){L.isThemeIcon=function(de){return de&&"object"==typeof de&&"string"==typeof de.id&&(void 0===de.color||F.isThemeColor(de.color))};const Z=new RegExp(`^\\$\\((${E.dT.iconNameExpression}(?:${E.dT.iconModifierExpression})?)\\)$`);L.fromString=function(de){const fe=Z.exec(de);if(!fe)return;let[,_e]=fe;return{id:_e}},L.fromId=function(de){return{id:de}},L.modify=function(de,fe){let _e=de.id;const we=_e.lastIndexOf("~");return-1!==we&&(_e=_e.substring(0,we)),fe&&(_e=`${_e}~${fe}`),{id:_e}},L.getModifier=function(de){const fe=de.id.lastIndexOf("~");if(-1!==fe)return de.id.substring(fe+1)},L.isEqual=function(de,fe){var _e,we;return de.id===fe.id&&(null===(_e=de.color)||void 0===_e?void 0:_e.id)===(null===(we=fe.color)||void 0===we?void 0:we.id)},L.asThemeIcon=function(de,fe){return{id:de.id,color:fe?k(fe):void 0}},L.asClassNameArray=E.dT.asClassNameArray,L.asClassName=E.dT.asClassName,L.asCSSSelector=E.dT.asCSSSelector}(y||(y={}));const b={ThemingContribution:"base.contributions.theming"};let f=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new g.Q5}onColorThemeChange(N){return this.themingParticipants.push(N),this.onThemingParticipantAddedEmitter.fire(N),(0,Y.OF)(()=>{const Z=this.themingParticipants.indexOf(N);this.themingParticipants.splice(Z,1)})}getThemingParticipants(){return this.themingParticipants}};function M(L){return f.onColorThemeChange(L)}D.B.add(b.ThemingContribution,f);class H extends Y.JT{constructor(N){super(),this.themeService=N,this.theme=N.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(Z=>this.onThemeChange(Z)))}onThemeChange(N){this.theme=N,this.updateStyles()}updateStyles(){}}},10352:(Fe,Ne,m)=>{m.d(Ne,{tJ:()=>g,YO:()=>Y,Xt:()=>B,gJ:()=>D});const g=(0,m(43569).yh)("undoRedoService");class Y{constructor(O,F){this.resource=O,this.elements=F}}class B{constructor(){this.id=B._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}B._ID=0,B.None=new B;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}D._ID=0,D.None=new D},17184:(Fe,Ne,m)=>{m.d(Ne,{ec:()=>D,eb:()=>i,uT:()=>O,md:()=>k,A6:()=>y});var E=m(12918),Y=(m(33439),m(85459));const D=(0,m(43569).yh)("contextService");function i(b){return"string"==typeof(null==b?void 0:b.id)&&Y.o.isUri(b.uri)}function O(b){return b.configuration?{id:b.id,configPath:b.configuration}:1===b.folders.length?{id:b.id,uri:b.folders[0].uri}:void 0}class k{constructor(x,f){this.raw=f,this.uri=x.uri,this.index=x.index,this.name=x.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const y="code-workspace";(0,E.N)("codeWorkspace","Code Workspace")},73062:(Fe,Ne,m)=>{m.d(Ne,{Y:()=>g});const g=(0,m(43569).yh)("workspaceTrustManagementService")},33483:Fe=>{Fe.exports={mode:"lazy"}},66680:(Fe,Ne,m)=>{const E=m(33483),g=m(45381),Y=m(34038),B=new WeakMap;function F(_e){let we=B.get(_e);we||(we=function(_e){const we=Y.transform(_e,P);return new Y.TransformResult(we.getAST(),C)}(Y.parse(`/${_e.source}/${_e.flags}`)),B.set(_e,we));const me=we.getExtra();return{measurementRegExp:we.toRegExp(),groupInfos:me}}function k(_e,we){const me=_e.index,Q=me+_e[0].length,le=[],ee=_e.groups?Object.create(null):void 0;y(le,0,[me,Q]);for(const J of we){let re;if(void 0!==_e[J.newGroupNumber]){let ce=me;if(J.measurementGroups)for(const ke of J.measurementGroups)ce+=_e[ke].length;re=[ce,ce+_e[J.newGroupNumber].length]}y(le,J.oldGroupNumber,re),ee&&void 0!==J.groupName&&y(ee,J.groupName,re)}return y(le,"groups",ee),le}function y(_e,we,me){const Q=Object.getOwnPropertyDescriptor(_e,we);(Q?Q.configurable:Object.isExtensible(_e))&&Object.defineProperty(_e,we,{enumerable:!Q||Q.enumerable,configurable:!Q||Q.configurable,writable:!0,value:me})}let C,b=!1,x=new Set,f=[],M=!1,H=1,L=[],N=new Map,Z=new Map;const P={init(){b=!1,x.clear(),f.length=0,M=!1,H=1,L.length=0,N.clear(),Z.clear(),C=[]},RegExp:_e=>(Y.traverse(_e.node,$),x.size>0&&(Y.transform(_e.node,U),Y.transform(_e.node,G),b&&Y.transform(_e.node,oe)),!1)},I={pre(_e){f.push(M),M="Group"===_e.node.type&&_e.node.capturing},post(_e){M&&x.add(_e.node),M=f.pop()||M}},$={Alternative:I,Disjunction:I,Assertion:I,Group:I,Repetition:I,Backreference(_e){b=!0}},U={Alternative(_e){if(x.has(_e.node)){let we=0,me=[];const Q=[],q=[];for(let le=0;le<_e.node.expressions.length;le++){const ee=_e.node.expressions[le];if(x.has(ee)){if(le>we){const J={type:"Group",capturing:!0,number:-1,expression:me.length>1?{type:"Alternative",expressions:me}:1===me.length?me[0]:null};q.push(J),Q.push(J),we=le,me=[]}L.push(Q),Y.transform(ee,U),L.pop(),me.push(ee)}else me.push(ee)}_e.update({expressions:q.concat(me)})}return!1},Group(_e){!_e.node.capturing||N.set(_e.node,function(){const _e=[];for(const we of L)for(const me of we)_e.push(me);return _e}())}},G={Group(_e){if(!C)throw new Error("Not initialized.");if(!_e.node.capturing)return;const we=_e.node.number,me=H++,Q=N.get(_e.node);-1!==we&&(C.push({oldGroupNumber:we,newGroupNumber:me,measurementGroups:Q&&Q.map(q=>q.number),groupName:_e.node.name}),Z.set(we,me)),_e.update({number:me})}},oe={Backreference(_e){const we=Z.get(_e.node.number);we&&_e.update("number"===_e.node.kind?{number:we,reference:we}:{number:we})}};Fe.exports=function(_e){return"spec-compliant"===E.mode?function(_e,we){const{measurementRegExp:me,groupInfos:Q}=F(_e);me.lastIndex=_e.lastIndex;const q=g.call(me,we);if(null===q)return null;_e.lastIndex=me.lastIndex;const le=[];y(le,0,q[0]);for(const ee of Q)y(le,ee.oldGroupNumber,q[ee.newGroupNumber]);return y(le,"index",q.index),y(le,"input",q.input),y(le,"groups",q.groups),y(le,"indices",k(q,Q)),le}(this,_e):function(_e,we){const me=_e.lastIndex,Q=g.call(_e,we);if(null===Q)return null;let q;return Object.defineProperty(Q,"indices",{enumerable:!0,configurable:!0,get(){if(void 0===q){const{measurementRegExp:le,groupInfos:ee}=F(_e);le.lastIndex=me;const J=g.call(le,we);if(null===J)throw new TypeError;y(Q,"indices",q=k(J,ee))}return q},set(le){y(Q,"indices",le)}}),Q}(this,_e)}},52771:(Fe,Ne,m)=>{const E=m(66680),g=m(45381),Y=m(74010),B=m(44181),D=m(33483),i=Y();function O(F,k){return i.call(F,k)}O.implementation=E,O.native=g,O.getPolyfill=Y,O.shim=B,O.config=D,O||(O={}),Fe.exports=O},45381:Fe=>{const Ne=RegExp.prototype.exec;Fe.exports=Ne},74010:(Fe,Ne,m)=>{const E=m(45381),g=m(66680);Fe.exports=function(){const B=new RegExp("a");return E.call(B,"a").indices?E:g}},44181:(Fe,Ne,m)=>{const E=m(74010);Fe.exports=function(){const Y=E();RegExp.prototype.exec!==Y&&(RegExp.prototype.exec=Y)}},99833:(Fe,Ne,m)=>{var E=m(8316),g=m(86207);Fe.exports={transform:function(B){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=D.length>0?D:Object.keys(E),O=void 0,F={};return i.forEach(function(k){if(!E.hasOwnProperty(k))throw new Error("Unknown compat-transform: "+k+". Available transforms are: "+Object.keys(E).join(", "));var y=E[k];O=g.transform(B,y),B=O.getAST(),"function"==typeof y.getExtra&&(F[k]=y.getExtra())}),O.setExtra(F),O}}},69137:Fe=>{var Ne=function(){function g(Y,B){for(var D=0;D<B.length;D++){var i=B[D];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(Y,i.key,i)}}return function(Y,B,D){return B&&g(Y.prototype,B),D&&g(Y,D),Y}}(),E=function(){function g(Y,B){var D=B.flags,i=B.groups,O=B.source;(function(g,Y){if(!(g instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,g),this._re=Y,this._groups=i,this.flags=D,this.source=O||Y.source,this.dotAll=D.includes("s"),this.global=Y.global,this.ignoreCase=Y.ignoreCase,this.multiline=Y.multiline,this.sticky=Y.sticky,this.unicode=Y.unicode}return Ne(g,[{key:"test",value:function(B){return this._re.test(B)}},{key:"compile",value:function(B){return this._re.compile(B)}},{key:"toString",value:function(){return this._toStringResult||(this._toStringResult="/"+this.source+"/"+this.flags),this._toStringResult}},{key:"exec",value:function(B){var D=this._re.exec(B);if(!this._groups||!D)return D;for(var i in D.groups={},this._groups)D.groups[i]=D[this._groups[i]];return D}}]),g}();Fe.exports={RegExpTree:E}},21455:Fe=>{Fe.exports={_hasUFlag:!1,shouldRun:function(m){return!!m.flags.includes("s")&&(m.flags=m.flags.replace("s",""),this._hasUFlag=m.flags.includes("u"),!0)},Char:function(m){var E=m.node;if("meta"===E.kind&&"."===E.value){var g="\\uFFFF",Y="\uffff";this._hasUFlag&&(g="\\u{10FFFF}",Y="\u{10ffff}"),m.replace({type:"CharacterClass",expressions:[{type:"ClassRange",from:{type:"Char",value:"\\0",kind:"decimal",symbol:"\0"},to:{type:"Char",value:g,kind:"unicode",symbol:Y}}]})}}}},6597:Fe=>{Fe.exports={_groupNames:{},init:function(){this._groupNames={}},getExtra:function(){return this._groupNames},Group:function(m){var E=m.node;!E.name||(this._groupNames[E.name]=E.number,delete E.name,delete E.nameRaw)},Backreference:function(m){var E=m.node;"name"===E.kind&&(E.kind="number",E.reference=E.number,delete E.referenceRaw)}}},87124:Fe=>{Fe.exports={RegExp:function(m){var E=m.node;E.flags.includes("x")&&(E.flags=E.flags.replace("x",""))}}},8316:(Fe,Ne,m)=>{Fe.exports={dotAll:m(21455),namedCapturingGroups:m(6597),xFlag:m(87124)}},35123:Fe=>{function Ne(E){return E?m[E.type](E):""}var m={RegExp:function(g){return"/"+Ne(g.body)+"/"+g.flags},Alternative:function(g){return(g.expressions||[]).map(Ne).join("")},Disjunction:function(g){return Ne(g.left)+"|"+Ne(g.right)},Group:function(g){var Y=Ne(g.expression);return g.capturing?g.name?"(?<"+(g.nameRaw||g.name)+">"+Y+")":"("+Y+")":"(?:"+Y+")"},Backreference:function(g){switch(g.kind){case"number":return"\\"+g.reference;case"name":return"\\k<"+(g.referenceRaw||g.reference)+">";default:throw new TypeError("Unknown Backreference kind: "+g.kind)}},Assertion:function(g){switch(g.kind){case"^":case"$":case"\\b":case"\\B":return g.kind;case"Lookahead":var Y=Ne(g.assertion);return g.negative?"(?!"+Y+")":"(?="+Y+")";case"Lookbehind":var B=Ne(g.assertion);return g.negative?"(?<!"+B+")":"(?<="+B+")";default:throw new TypeError("Unknown Assertion kind: "+g.kind)}},CharacterClass:function(g){var Y=g.expressions.map(Ne).join("");return g.negative?"[^"+Y+"]":"["+Y+"]"},ClassRange:function(g){return Ne(g.from)+"-"+Ne(g.to)},Repetition:function(g){return""+Ne(g.expression)+Ne(g.quantifier)},Quantifier:function(g){var Y=void 0,B=g.greedy?"":"?";switch(g.kind){case"+":case"?":case"*":Y=g.kind;break;case"Range":Y=g.from===g.to?"{"+g.from+"}":g.to?"{"+g.from+","+g.to+"}":"{"+g.from+",}";break;default:throw new TypeError("Unknown Quantifier kind: "+g.kind)}return""+Y+B},Char:function(g){var Y=g.value;switch(g.kind){case"simple":return g.escaped?"\\"+Y:Y;case"hex":case"unicode":case"oct":case"decimal":case"control":case"meta":return Y;default:throw new TypeError("Unknown Char kind: "+g.kind)}},UnicodeProperty:function(g){return"\\"+(g.negative?"P":"p")+"{"+(g.shorthand||g.binary?"":g.name+"=")+g.value+"}"}};Fe.exports={generate:Ne}},10163:Fe=>{var Ne=function(F,k){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function(F,k){var y=[],C=!0,b=!1,x=void 0;try{for(var M,f=F[Symbol.iterator]();!(C=(M=f.next()).done)&&(y.push(M.value),!k||y.length!==k);C=!0);}catch(H){b=!0,x=H}finally{try{!C&&f.return&&f.return()}finally{if(b)throw x}}return y}(F,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function m(O){return Array.isArray(O)?O:Array.from(O)}function E(O){if(Array.isArray(O)){for(var F=0,k=Array(O.length);F<O.length;F++)k[F]=O[F];return k}return Array.from(O)}var g=null;function B(O,F){if(!F||O.length!==F.length)return!1;for(var k=0;k<O.length;k++){var y=O[k],C=F[k];if(y.size!==C.size||[].concat(E(y)).sort().join(",")!==[].concat(E(C)).sort().join(","))return!1}return!0}function D(O,F,k,y){var C=!0,b=!1,x=void 0;try{for(var M,f=y[Symbol.iterator]();!(C=(M=f.next()).done);C=!0)if(!i(O,F,k,M.value))return!1}catch(L){b=!0,x=L}finally{try{!C&&f.return&&f.return()}finally{if(b)throw x}}return!0}function i(O,F,k,y){if(!g[O]||!g[F])return!1;var C=k[O][y],b=k[F][y];return!C&&!b||g[O].has(C)&&g[F].has(b)}Fe.exports={minimize:function(O){var F=O.getTransitionTable(),k=Object.keys(F),y=O.getAlphabet(),C=O.getAcceptingStateNumbers();g={};var b=new Set;k.forEach(function(Ae){Ae=Number(Ae),C.has(Ae)?g[Ae]=C:(b.add(Ae),g[Ae]=b)});var x=[[b,C].filter(function(Ae){return Ae.size>0})],f=void 0,M=void 0;f=x[x.length-1],M=x[x.length-2];for(var H=function(){var et={},$e=!0,Te=!1,rt=void 0;try{for(var nt,ht=f[Symbol.iterator]();!($e=(nt=ht.next()).done);$e=!0){var Ie={},at=m(nt.value),bt=at[0],Ut=at.slice(1);Ie[bt]=new Set([bt]);var mn=!0,pt=!1,Bt=void 0;try{e:for(var zt,Vt=Ut[Symbol.iterator]();!(mn=(zt=Vt.next()).done);mn=!0){var fn=zt.value,Ye=!0,Et=!1,St=void 0;try{for(var Dn,sn=Object.keys(Ie)[Symbol.iterator]();!(Ye=(Dn=sn.next()).done);Ye=!0){var Rt=Dn.value;if(D(fn,Rt,F,y)){Ie[Rt].add(fn),Ie[fn]=Ie[Rt];continue e}}}catch(Yn){Et=!0,St=Yn}finally{try{!Ye&&sn.return&&sn.return()}finally{if(Et)throw St}}Ie[fn]=new Set([fn])}}catch(Yn){pt=!0,Bt=Yn}finally{try{!mn&&Vt.return&&Vt.return()}finally{if(pt)throw Bt}}Object.assign(et,Ie)}}catch(Yn){Te=!0,rt=Yn}finally{try{!$e&&ht.return&&ht.return()}finally{if(Te)throw rt}}g=et;var Mt=new Set(Object.keys(et).map(function(Yn){return et[Yn]}));x.push([].concat(E(Mt))),f=x[x.length-1],M=x[x.length-2]};!B(f,M);)H();var L=new Map,N=1;f.forEach(function(Ae){return L.set(Ae,N++)});var Z={},P=new Set,I=function(et,$e){var Te=!0,rt=!1,ht=void 0;try{for(var xe,nt=et[Symbol.iterator]();!(Te=(xe=nt.next()).done);Te=!0)C.has(xe.value)&&P.add($e)}catch(at){rt=!0,ht=at}finally{try{!Te&&nt.return&&nt.return()}finally{if(rt)throw ht}}},$=!0,U=!1,G=void 0;try{for(var de,oe=L.entries()[Symbol.iterator]();!($=(de=oe.next()).done);$=!0){var _e=Ne(de.value,2),we=_e[0],me=_e[1];Z[me]={};var Q=!0,q=!1,le=void 0;try{for(var J,ee=y[Symbol.iterator]();!(Q=(J=ee.next()).done);Q=!0){var re=J.value;I(we,me);var ce=void 0,ve=!0,ke=!1,We=void 0;try{for(var ue,je=we[Symbol.iterator]();!(ve=(ue=je.next()).done)&&!(ce=F[ue.value][re]);ve=!0);}catch(Ae){ke=!0,We=Ae}finally{try{!ve&&je.return&&je.return()}finally{if(ke)throw We}}ce&&(Z[me][re]=L.get(g[ce]))}}catch(Ae){q=!0,le=Ae}finally{try{!Q&&ee.return&&ee.return()}finally{if(q)throw le}}}}catch(Ae){U=!0,G=Ae}finally{try{!$&&oe.return&&oe.return()}finally{if(U)throw G}}return O.setTransitionTable(Z),O.setAcceptingStateNumbers(P),O}}},75216:(Fe,Ne,m)=>{var E=function(){function F(k,y){for(var C=0;C<y.length;C++){var b=y[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(k,b.key,b)}}return function(k,y,C){return y&&F(k.prototype,y),C&&F(k,C),k}}();function g(F){if(Array.isArray(F)){for(var k=0,y=Array(F.length);k<F.length;k++)y[k]=F[k];return y}return Array.from(F)}var B=m(10163),i=m(10458).EPSILON_CLOSURE,O=function(){function F(k){(function(F,k){if(!(F instanceof k))throw new TypeError("Cannot call a class as a function")})(this,F),this._nfa=k}return E(F,[{key:"minimize",value:function(){this.getTransitionTable(),this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._originalTransitionTable=this._transitionTable,B.minimize(this)}},{key:"getAlphabet",value:function(){return this._nfa.getAlphabet()}},{key:"getAcceptingStateNumbers",value:function(){return this._acceptingStateNumbers||this.getTransitionTable(),this._acceptingStateNumbers}},{key:"getOriginaAcceptingStateNumbers",value:function(){return this._originalAcceptingStateNumbers||this.getTransitionTable(),this._originalAcceptingStateNumbers}},{key:"setTransitionTable",value:function(y){this._transitionTable=y}},{key:"setAcceptingStateNumbers",value:function(y){this._acceptingStateNumbers=y}},{key:"getTransitionTable",value:function(){var y=this;if(this._transitionTable)return this._transitionTable;var C=this._nfa.getTransitionTable(),b=Object.keys(C);this._acceptingStateNumbers=new Set;for(var f=[C[b[0]][i]],M=this.getAlphabet(),H=this._nfa.getAcceptingStateNumbers(),L={},N=function(et){var $e=!0,Te=!1,rt=void 0;try{for(var nt,ht=H[Symbol.iterator]();!($e=(nt=ht.next()).done);$e=!0)if(-1!==et.indexOf(nt.value)){y._acceptingStateNumbers.add(et.join(","));break}}catch(Ie){Te=!0,rt=Ie}finally{try{!$e&&ht.return&&ht.return()}finally{if(Te)throw rt}}};f.length>0;){var Z=f.shift(),P=Z.join(",");L[P]={};var I=!0,$=!1,U=void 0;try{for(var oe,G=M[Symbol.iterator]();!(I=(oe=G.next()).done);I=!0){var de=oe.value,fe=[];N(Z);var _e=!0,we=!1,me=void 0;try{for(var q,Q=Z[Symbol.iterator]();!(_e=(q=Q.next()).done);_e=!0){var ee=C[q.value][de];if(ee){var J=!0,re=!1,ce=void 0;try{for(var ke,ve=ee[Symbol.iterator]();!(J=(ke=ve.next()).done);J=!0){var We=ke.value;!C[We]||fe.push.apply(fe,g(C[We][i]))}}catch(Ae){re=!0,ce=Ae}finally{try{!J&&ve.return&&ve.return()}finally{if(re)throw ce}}}}}catch(Ae){we=!0,me=Ae}finally{try{!_e&&Q.return&&Q.return()}finally{if(we)throw me}}var je=new Set(fe),ue=[].concat(g(je));if(ue.length>0){var Ce=ue.join(",");L[P][de]=Ce,L.hasOwnProperty(Ce)||f.unshift(ue)}}}catch(Ae){$=!0,U=Ae}finally{try{!I&&G.return&&G.return()}finally{if($)throw U}}}return this._transitionTable=this._remapStateNumbers(L)}},{key:"_remapStateNumbers",value:function(y){var C={};this._originalTransitionTable=y;var b={};for(var x in Object.keys(y).forEach(function(U,G){C[U]=G+1}),y){var f=y[x],M={};for(var H in f)M[H]=C[f[H]];b[C[x]]=M}this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._acceptingStateNumbers=new Set;var L=!0,N=!1,Z=void 0;try{for(var I,P=this._originalAcceptingStateNumbers[Symbol.iterator]();!(L=(I=P.next()).done);L=!0)this._acceptingStateNumbers.add(C[I.value])}catch(U){N=!0,Z=U}finally{try{!L&&P.return&&P.return()}finally{if(N)throw Z}}return b}},{key:"getOriginalTransitionTable",value:function(){return this._originalTransitionTable||this.getTransitionTable(),this._originalTransitionTable}},{key:"matches",value:function(y){for(var C=1,b=0,x=this.getTransitionTable();y[b];)if(!(C=x[C][y[b++]]))return!1;return!!this.getAcceptingStateNumbers().has(C)}}]),F}();Fe.exports=O},38327:(Fe,Ne,m)=>{var E=m(47884),g=m(75216),Y=m(30830),B=m(70394);Fe.exports={NFA:E,DFA:g,builders:B,toNFA:function(i){return Y.build(i)},toDFA:function(i){return new g(this.toNFA(i))},test:function(i,O){return this.toDFA(i).matches(O)}}},70394:(Fe,Ne,m)=>{var E=m(47884),g=m(46809),B=m(10458).EPSILON;function D(M){var H=new g,L=new g({accepting:!0});return new E(H.addTransition(M,L),L)}function O(M,H){return M.out.accepting=!1,H.out.accepting=!0,M.out.addTransition(B,H.in),new E(M.in,H.out)}function k(M,H){var L=new g,N=new g;return L.addTransition(B,M.in),L.addTransition(B,H.in),N.accepting=!0,M.out.accepting=!1,H.out.accepting=!1,M.out.addTransition(B,N),H.out.addTransition(B,N),new E(L,N)}Fe.exports={alt:function(M){for(var H=arguments.length,L=Array(H>1?H-1:0),N=1;N<H;N++)L[N-1]=arguments[N];var Z=!0,P=!1,I=void 0;try{for(var U,$=L[Symbol.iterator]();!(Z=(U=$.next()).done);Z=!0){var G=U.value;M=O(M,G)}}catch(oe){P=!0,I=oe}finally{try{!Z&&$.return&&$.return()}finally{if(P)throw I}}return M},char:D,e:function(){return D(B)},or:function(M){for(var H=arguments.length,L=Array(H>1?H-1:0),N=1;N<H;N++)L[N-1]=arguments[N];var Z=!0,P=!1,I=void 0;try{for(var U,$=L[Symbol.iterator]();!(Z=(U=$.next()).done);Z=!0){var G=U.value;M=k(M,G)}}catch(oe){P=!0,I=oe}finally{try{!Z&&$.return&&$.return()}finally{if(P)throw I}}return M},rep:function(M){return M.in.addTransition(B,M.out),M.out.addTransition(B,M.in),M},repExplicit:function(M){var H=new g,L=new g({accepting:!0});return H.addTransition(B,M.in),H.addTransition(B,L),M.out.accepting=!1,M.out.addTransition(B,L),L.addTransition(B,M.in),new E(H,L)},plusRep:function(M){return M.out.addTransition(B,M.in),M},questionRep:function(M){return M.in.addTransition(B,M.out),M}}},30830:(Fe,Ne,m)=>{var g=m(30525),Y=m(70394),B=Y.alt,D=Y.char,i=Y.or,O=Y.rep,F=Y.plusRep,k=Y.questionRep;function y(b){if(b&&!C[b.type])throw new Error(b.type+" is not supported in NFA/DFA interpreter.");return b?C[b.type](b):""}var C={RegExp:function(x){if(""!==x.flags)throw new Error("NFA/DFA: Flags are not supported yet.");return y(x.body)},Alternative:function(x){var f=(x.expressions||[]).map(y);return B.apply(void 0,function(b){if(Array.isArray(b)){for(var x=0,f=Array(b.length);x<b.length;x++)f[x]=b[x];return f}return Array.from(b)}(f))},Disjunction:function(x){return i(y(x.left),y(x.right))},Repetition:function(x){switch(x.quantifier.kind){case"*":return O(y(x.expression));case"+":return F(y(x.expression));case"?":return k(y(x.expression));default:throw new Error("Unknown repeatition: "+x.quantifier.kind+".")}},Char:function(x){if("simple"!==x.kind)throw new Error("NFA/DFA: Only simple chars are supported yet.");return D(x.value)},Group:function(x){return y(x.expression)}};Fe.exports={build:function(x){var f=x;return x instanceof RegExp&&(x=""+x),"string"==typeof x&&(f=g.parse(x,{captureLocations:!0})),y(f)}}},46809:(Fe,Ne,m)=>{var E=function(){function k(y,C){for(var b=0;b<C.length;b++){var x=C[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,C,b){return C&&k(y.prototype,C),b&&k(y,b),y}}();function g(k,y){if(!(k instanceof y))throw new TypeError("Cannot call a class as a function")}function Y(k,y){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?k:y}var D=m(26777),O=m(10458).EPSILON,F=function(k){function y(){return g(this,y),Y(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function(k,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);k.prototype=Object.create(y&&y.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(k,y):k.__proto__=y)}(y,k),E(y,[{key:"matches",value:function(b){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(x.has(this))return!1;if(x.add(this),0===b.length){if(this.accepting)return!0;var f=!0,M=!1,H=void 0;try{for(var N,L=this.getTransitionsOnSymbol(O)[Symbol.iterator]();!(f=(N=L.next()).done);f=!0){var Z=N.value;if(Z.matches("",x))return!0}}catch(J){M=!0,H=J}finally{try{!f&&L.return&&L.return()}finally{if(M)throw H}}return!1}var P=b[0],I=b.slice(1),$=this.getTransitionsOnSymbol(P),U=!0,G=!1,oe=void 0;try{for(var fe,de=$[Symbol.iterator]();!(U=(fe=de.next()).done);U=!0){var _e=fe.value;if(_e.matches(I))return!0}}catch(J){G=!0,oe=J}finally{try{!U&&de.return&&de.return()}finally{if(G)throw oe}}var we=!0,me=!1,Q=void 0;try{for(var le,q=this.getTransitionsOnSymbol(O)[Symbol.iterator]();!(we=(le=q.next()).done);we=!0){var ee=le.value;if(ee.matches(b,x))return!0}}catch(J){me=!0,Q=J}finally{try{!we&&q.return&&q.return()}finally{if(me)throw Q}}return!1}},{key:"getEpsilonClosure",value:function(){var b=this;return this._epsilonClosure||function(){var x=b.getTransitionsOnSymbol(O),f=b._epsilonClosure=new Set;f.add(b);var M=!0,H=!1,L=void 0;try{for(var Z,N=x[Symbol.iterator]();!(M=(Z=N.next()).done);M=!0){var P=Z.value;f.has(P)||(f.add(P),P.getEpsilonClosure().forEach(function($){return f.add($)}))}}catch($){H=!0,L=$}finally{try{!M&&N.return&&N.return()}finally{if(H)throw L}}}(),this._epsilonClosure}}]),y}(D);Fe.exports=F},47884:(Fe,Ne,m)=>{var E=function(y,C){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return function(y,C){var b=[],x=!0,f=!1,M=void 0;try{for(var L,H=y[Symbol.iterator]();!(x=(L=H.next()).done)&&(b.push(L.value),!C||b.length!==C);x=!0);}catch(N){f=!0,M=N}finally{try{!x&&H.return&&H.return()}finally{if(f)throw M}}return b}(y,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function(){function k(y,C){for(var b=0;b<C.length;b++){var x=C[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,C,b){return C&&k(y.prototype,C),b&&k(y,b),y}}(),D=m(10458),i=D.EPSILON,O=D.EPSILON_CLOSURE,F=function(){function k(y,C){(function(k,y){if(!(k instanceof y))throw new TypeError("Cannot call a class as a function")})(this,k),this.in=y,this.out=C}return g(k,[{key:"matches",value:function(C){return this.in.matches(C)}},{key:"getAlphabet",value:function(){if(!this._alphabet){this._alphabet=new Set;var C=this.getTransitionTable();for(var b in C){var x=C[b];for(var f in x)f!==O&&this._alphabet.add(f)}}return this._alphabet}},{key:"getAcceptingStates",value:function(){return this._acceptingStates||this.getTransitionTable(),this._acceptingStates}},{key:"getAcceptingStateNumbers",value:function(){if(!this._acceptingStateNumbers){this._acceptingStateNumbers=new Set;var C=!0,b=!1,x=void 0;try{for(var M,f=this.getAcceptingStates()[Symbol.iterator]();!(C=(M=f.next()).done);C=!0)this._acceptingStateNumbers.add(M.value.number)}catch(L){b=!0,x=L}finally{try{!C&&f.return&&f.return()}finally{if(b)throw x}}}return this._acceptingStateNumbers}},{key:"getTransitionTable",value:function(){var C=this;if(!this._transitionTable){this._transitionTable={},this._acceptingStates=new Set;var b=new Set,x=new Set;(function M(H){if(!b.has(H)){b.add(H),H.number=b.size,C._transitionTable[H.number]={},H.accepting&&C._acceptingStates.add(H);var L=H.getTransitions(),N=!0,Z=!1,P=void 0;try{for(var $,I=L[Symbol.iterator]();!(N=($=I.next()).done);N=!0){var G=E($.value,2),oe=G[0],de=G[1],fe=[];x.add(oe);var _e=!0,we=!1,me=void 0;try{for(var q,Q=de[Symbol.iterator]();!(_e=(q=Q.next()).done);_e=!0){var le=q.value;M(le),fe.push(le.number)}}catch(ee){we=!0,me=ee}finally{try{!_e&&Q.return&&Q.return()}finally{if(we)throw me}}C._transitionTable[H.number][oe]=fe}}catch(ee){Z=!0,P=ee}finally{try{!N&&I.return&&I.return()}finally{if(Z)throw P}}}})(this.in),b.forEach(function(M){delete C._transitionTable[M.number][i],C._transitionTable[M.number][O]=[].concat(function(k){if(Array.isArray(k)){for(var y=0,C=Array(k.length);y<k.length;y++)C[y]=k[y];return C}return Array.from(k)}(M.getEpsilonClosure())).map(function(H){return H.number})})}return this._transitionTable}}]),k}();Fe.exports=F},10458:Fe=>{Fe.exports={EPSILON:"\u03b5",EPSILON_CLOSURE:"\u03b5*"}},26777:Fe=>{var Ne=function(){function g(Y,B){for(var D=0;D<B.length;D++){var i=B[D];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(Y,i.key,i)}}return function(Y,B,D){return B&&g(Y.prototype,B),D&&g(Y,D),Y}}();function m(g,Y){if(!(g instanceof Y))throw new TypeError("Cannot call a class as a function")}var E=function(){function g(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},B=Y.accepting,D=void 0!==B&&B;m(this,g),this._transitions=new Map,this.accepting=D}return Ne(g,[{key:"getTransitions",value:function(){return this._transitions}},{key:"addTransition",value:function(B,D){return this.getTransitionsOnSymbol(B).add(D),this}},{key:"getTransitionsOnSymbol",value:function(B){var D=this._transitions.get(B);return D||(D=new Set,this._transitions.set(B,D)),D}}]),g}();Fe.exports=E},30489:(Fe,Ne,m)=>{var E=m(42082),g=m(30525),Y=m(86207),B=m(69472);Fe.exports={optimize:function(i){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},F=O.whitelist,k=void 0===F?[]:F,y=O.blacklist,C=void 0===y?[]:y,b=k.length>0?k:Array.from(B.keys()),x=b.filter(function(L){return!C.includes(L)}),f=i;i instanceof RegExp&&(i=""+i),"string"==typeof i&&(f=g.parse(i));var M=new Y.TransformResult(f),H=void 0;do{H=M.toString(),f=E(M.getAST()),x.forEach(function(L){if(!B.has(L))throw new Error("Unknown optimization-transform: "+L+". Available transforms are: "+Array.from(B.keys()).join(", "));var N=B.get(L),Z=Y.transform(f,N);Z.toString()!==M.toString()&&(Z.toString().length<=M.toString().length?M=Z:f=E(M.getAST()))})}while(M.toString()!==H);return M}}},75833:Fe=>{var Ne="A".codePointAt(0),m="Z".codePointAt(0);Fe.exports={_AZClassRanges:null,_hasUFlag:!1,init:function(D){this._AZClassRanges=new Set,this._hasUFlag=D.flags.includes("u")},shouldRun:function(D){return D.flags.includes("i")},Char:function(D){var i=D.node,O=D.parent;if(!isNaN(i.codePoint)&&(this._hasUFlag||!(i.codePoint>=4096))){if("ClassRange"===O.type){if(!this._AZClassRanges.has(O)&&!function(B){var D=B.from,i=B.to;return D.codePoint>=Ne&&D.codePoint<=m&&i.codePoint>=Ne&&i.codePoint<=m}(O))return;this._AZClassRanges.add(O)}var F=i.symbol.toLowerCase();F!==i.symbol&&(i.value=function(B,D){var i=B.codePointAt(0);if("decimal"===D.kind)return"\\"+i;if("oct"===D.kind)return"\\0"+i.toString(8);if("hex"===D.kind)return"\\x"+i.toString(16);if("unicode"===D.kind){if(D.isSurrogatePair){var O=function(B){var i=(B-65536)%1024+56320;return{lead:(Math.floor((B-65536)/1024)+55296).toString(16),trail:i.toString(16)}}(i),F=O.lead,k=O.trail;return"\\u"+"0".repeat(4-F.length)+F+"\\u"+"0".repeat(4-k.length)+k}if(D.value.includes("{"))return"\\u{"+i.toString(16)+"}";var y=i.toString(16);return"\\u"+"0".repeat(4-y.length)+y}return B}(F,i),i.symbol=F,i.codePoint=F.codePointAt(0))}}}},44140:Fe=>{function Ne(x,f){var M=m(x),H=m(f);if(M===H){if("ClassRange"===x.type&&"ClassRange"!==f.type)return-1;if("ClassRange"===f.type&&"ClassRange"!==x.type)return 1;if("ClassRange"===x.type&&"ClassRange"===f.type)return m(x.to)-m(f.to);if(E(x)&&E(f)||g(x)&&g(f))return x.value<f.value?-1:1}return M-H}function m(x){return"Char"===x.type?"-"===x.value||"control"===x.kind?1/0:"meta"===x.kind&&isNaN(x.codePoint)?-1:x.codePoint:x.from.codePoint}function E(x){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"Char"===x.type&&"meta"===x.kind&&(f?x.value===f:/^\\[dws]$/i.test(x.value))}function g(x){return"Char"===x.type&&"control"===x.kind}function Y(x,f,M){for(var H=0;H<f.length;H++)if(B(x,f[H],M))return!0;return!1}function B(x,f,M){return"ClassRange"===x.type?B(x.from,f,M)&&B(x.to,f,M):!!("\\S"===f&&(E(x,"\\w")||E(x,"\\d"))||"\\D"===f&&(E(x,"\\W")||E(x,"\\s"))||"\\w"===f&&E(x,"\\d")||"\\W"===f&&E(x,"\\s"))||"Char"===x.type&&!isNaN(x.codePoint)&&("\\s"===f?D(x):"\\S"===f?!D(x):"\\d"===f?i(x):"\\D"===f?!i(x):"\\w"===f?O(x,M):"\\W"===f&&!O(x,M))}function D(x){return 9===x.codePoint||10===x.codePoint||11===x.codePoint||12===x.codePoint||13===x.codePoint||32===x.codePoint||160===x.codePoint||5760===x.codePoint||x.codePoint>=8192&&x.codePoint<=8202||8232===x.codePoint||8233===x.codePoint||8239===x.codePoint||8287===x.codePoint||12288===x.codePoint||65279===x.codePoint}function i(x){return x.codePoint>=48&&x.codePoint<=57}function O(x,f){return i(x)||x.codePoint>=65&&x.codePoint<=90||x.codePoint>=97&&x.codePoint<=122||"_"===x.value||f&&(383===x.codePoint||8490===x.codePoint)}function F(x,f){if(f&&"ClassRange"===f.type){if(y(x,f))return!0;if(b(x)&&f.to.codePoint===x.codePoint-1)return f.to=x,!0;if("ClassRange"===x.type&&x.from.codePoint<=f.to.codePoint+1&&x.to.codePoint>=f.from.codePoint-1)return x.from.codePoint<f.from.codePoint&&(f.from=x.from),x.to.codePoint>f.to.codePoint&&(f.to=x.to),!0}return!1}function k(x,f){return!(!f||"ClassRange"!==f.type||!b(x)||f.from.codePoint!==x.codePoint+1||(f.from=x,0))}function y(x,f){return("Char"!==x.type||!isNaN(x.codePoint))&&("ClassRange"===x.type?y(x.from,f)&&y(x.to,f):x.codePoint>=f.from.codePoint&&x.codePoint<=f.to.codePoint)}function C(x,f,M){if(!b(x))return 0;for(var H=0;f>0;){var L=M[f],N=M[f-1];if(!b(N)||N.codePoint!==L.codePoint-1)break;H++,f--}return H>1?(M[f]={type:"ClassRange",from:M[f],to:x},H):0}function b(x){return x&&"Char"===x.type&&!isNaN(x.codePoint)&&(O(x,!1)||"unicode"===x.kind||"hex"===x.kind||"oct"===x.kind||"decimal"===x.kind)}Fe.exports={_hasIUFlags:!1,init:function(f){this._hasIUFlags=f.flags.includes("i")&&f.flags.includes("u")},CharacterClass:function(f){var H=f.node.expressions,L=[];H.forEach(function(I){E(I)&&L.push(I.value)}),H.sort(Ne);for(var N=0;N<H.length;N++){var Z=H[N];if(Y(Z,L,this._hasIUFlags)||F(Z,H[N-1])||k(Z,H[N+1]))H.splice(N,1),N--;else{var P=C(Z,N,H);H.splice(N-P+1,P),N-=P}}}}},95254:Fe=>{Fe.exports={ClassRange:function(m){var E=m.node;E.from.codePoint===E.to.codePoint?m.replace(E.from):E.from.codePoint===E.to.codePoint-1&&(m.getParent().insertChildAt(E.to,m.index+1),m.replace(E.from))}}},63574:Fe=>{Fe.exports={CharacterClass:function(m){for(var E=m.node,g={},Y=0;Y<E.expressions.length;Y++){var B=m.getChild(Y),D=B.jsonEncode();g.hasOwnProperty(D)&&(B.remove(),Y--),g[D]=!0}}}},8576:Fe=>{function Ne(C){if(Array.isArray(C)){for(var b=0,x=Array(C.length);b<C.length;b++)x[b]=C[b];return x}return Array.from(C)}Fe.exports={_hasIFlag:!1,_hasUFlag:!1,init:function(b){this._hasIFlag=b.flags.includes("i"),this._hasUFlag=b.flags.includes("u")},CharacterClass:function(b){var C;(C=b).node.expressions.forEach(function(x,f){(function(C){return"ClassRange"===C.type&&"0"===C.from.value&&"9"===C.to.value})(x)&&C.getChild(f).replace({type:"Char",value:"\\d",kind:"meta"})}),function(C,b,x){var M=null,H=null,L=null,N=null,Z=null,P=null;C.node.expressions.forEach(function(I,$){i(I,"\\d")?M=C.getChild($):function(C){return"ClassRange"===C.type&&"a"===C.from.value&&"z"===C.to.value}(I)?H=C.getChild($):function(C){return"ClassRange"===C.type&&"A"===C.from.value&&"Z"===C.to.value}(I)?L=C.getChild($):function(C){return"Char"===C.type&&"_"===C.value&&"simple"===C.kind}(I)?N=C.getChild($):b&&x&&y(I,383)?Z=C.getChild($):b&&x&&y(I,8490)&&(P=C.getChild($))}),M&&(H&&L||b&&(H||L))&&N&&(!x||!b||Z&&P)&&(M.replace({type:"Char",value:"\\w",kind:"meta"}),H&&H.remove(),L&&L.remove(),N.remove(),Z&&Z.remove(),P&&P.remove())}(b,this._hasIFlag,this._hasUFlag),function(C){var b=C.node;if(!(b.expressions.length<g.length)&&g.every(function(f){return b.expressions.some(function(M){return f(M)})})){var x=b.expressions.find(function(f){return i(f,"\\n")});x.value="\\s",x.symbol=void 0,x.codePoint=NaN,b.expressions.map(function(f,M){return g.some(function(H){return H(f)})?C.getChild(M):void 0}).filter(Boolean).forEach(function(f){return f.remove()})}}(b)}};var g=[function(C){return D(C," ")}].concat(Ne(["\\f","\\n","\\r","\\t","\\v"].map(function(C){return function(b){return i(b,C)}})),Ne([160,5760,8232,8233,8239,8287,12288,65279].map(function(C){return function(b){return y(b,C)}})),[function(C){return"ClassRange"===C.type&&y(C.from,8192)&&y(C.to,8202)}]);function D(C,b){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"simple";return"Char"===C.type&&C.value===b&&C.kind===x}function i(C,b){return D(C,b,"meta")}function y(C,b){return"Char"===C.type&&"unicode"===C.kind&&C.codePoint===b}},61861:Fe=>{function Y(B){return/[*[()+?$./{}|]/.test(B)}Fe.exports={CharacterClass:function(D){var B,i=D.node;if(1===i.expressions.length&&function(B){var D=B.parent;if("Alternative"!==D.type)return!0;var O=D.expressions[B.index-1];return null==O||!("Backreference"===O.type&&"number"===O.kind||"Char"===O.type&&"decimal"===O.kind)}(D)&&"Char"===(B=i.expressions[0]).type&&"\\b"!==B.value){var O=i.expressions[0],F=O.value,k=O.kind,y=O.escaped;if(i.negative){if(!function(B){return/^\\[dwsDWS]$/.test(B)}(F))return;F=function(B){return/[dws]/.test(B)?B.toUpperCase():B.toLowerCase()}(F)}D.replace({type:"Char",value:F,kind:k,escaped:y||Y(F)})}}}},77683:Fe=>{var Ne="A".codePointAt(0),m="Z".codePointAt(0),E="a".codePointAt(0),g="z".codePointAt(0),Y="0".codePointAt(0),B="9".codePointAt(0);Fe.exports={Char:function(k){var F,y=k.node,C=k.parent;if(!isNaN(y.codePoint)&&"simple"!==y.kind&&("ClassRange"!==C.type||function(F){var k=F.from,y=F.to;return k.codePoint>=Y&&k.codePoint<=B&&y.codePoint>=Y&&y.codePoint<=B||k.codePoint>=Ne&&k.codePoint<=m&&y.codePoint>=Ne&&y.codePoint<=m||k.codePoint>=E&&k.codePoint<=g&&y.codePoint>=E&&y.codePoint<=g}(C))&&(F=y.codePoint)>=32&&F<=126){var b=String.fromCodePoint(y.codePoint),x={type:"Char",kind:"simple",value:b,symbol:b,codePoint:y.codePoint};(function(F,k){return"ClassRange"===k||"CharacterClass"===k?/[\]\\^-]/.test(F):/[*[()+?^$./\\|{}]/.test(F)})(b,C.type)&&(x.escaped=!0),k.replace(x)}}}},60085:Fe=>{function g(i,O,F){for(var k=i,y=(F?k>=0:k<O.expressions.length)&&O.expressions[k];y&&"Char"===y.type&&"simple"===y.kind&&!y.escaped&&/\d/.test(y.value);)F?k--:k++,y=(F?k>=0:k<O.expressions.length)&&O.expressions[k];return Math.abs(i-k)}function Y(i,O){return i&&"Char"===i.type&&"simple"===i.kind&&!i.escaped&&i.value===O}Fe.exports={_hasXFlag:!1,init:function(O){this._hasXFlag=O.flags.includes("x")},Char:function(O){var F=O.node;!F.escaped||function(i,O){var F=i.node.value,k=i.index,y=i.parent;return"CharacterClass"!==y.type&&"ClassRange"!==y.type?!function(i,O,F,k){return"{"===i?function(i,O){if(null==i)return!1;var F=g(i+1,O),k=i+F+1,y=k<O.expressions.length&&O.expressions[k];if(F){if(Y(y,"}"))return!0;if(Y(y,","))return Y(y=(k=k+(F=g(k+1,O))+1)<O.expressions.length&&O.expressions[k],"}")}return!1}(O,F):"}"===i?function(i,O){if(null==i)return!1;var F=g(i-1,O,!0),k=i-F-1,y=k>=0&&O.expressions[k];return!(!F||!Y(y,"{"))||!!Y(y,",")&&(y=(k=k-(F=g(k-1,O,!0))-1)<O.expressions.length&&O.expressions[k],F&&Y(y,"{"))}(O,F):!(!k||!/[ #]/.test(i))||/[*[()+?^$./\\|]/.test(i)}(F,k,y,O):!function(i,O,F){return"^"===i?0===O&&!F.negative:"-"===i||/[\]\\]/.test(i)}(F,k,y)}(O,this._hasXFlag)&&delete F.escaped}}},92143:Fe=>{Fe.exports={shouldRun:function(m){return m.flags.includes("u")},Char:function(m){var E=m.node;"unicode"!==E.kind||!E.isSurrogatePair||isNaN(E.codePoint)||(E.value="\\u{"+E.codePoint.toString(16)+"}",delete E.isSurrogatePair)}}},19284:(Fe,Ne,m)=>{function E(F){if(Array.isArray(F)){for(var k=0,y=Array(F.length);k<F.length;k++)y[k]=F[k];return y}return Array.from(F)}var g=m(93027),B=m(63495).increaseQuantifierByOne;function D(F,k,y){for(var C=F.node,b=Math.ceil(y/2),x=0;x<b;){var f=y-2*x-1,M=void 0,H=void 0;if(0===x?(M=k,H=F.getChild(f)):(M=g.getForNode({type:"Alternative",expressions:[].concat(E(C.expressions.slice(y-x,y)),[k.node])}),H=g.getForNode({type:"Alternative",expressions:[].concat(E(C.expressions.slice(f,y-x)))})),M.hasEqualSource(H)){for(var L=0;L<2*x+1;L++)F.getChild(f).remove();return k.replace({type:"Repetition",expression:0===x&&"Repetition"!==M.node.type?M.node:{type:"Group",capturing:!1,expression:M.node},quantifier:{type:"Quantifier",kind:"Range",from:2,to:2,greedy:!0}}),f}x++}return y}function i(F,k,y){for(var C=F.node,b=0;b<y;){var x=F.getChild(b);if("Repetition"===x.node.type&&x.node.quantifier.greedy){var f=x.getChild(),M=void 0;if("Group"===f.node.type&&!f.node.capturing&&(f=f.getChild()),b+1===y?"Group"===(M=k).node.type&&!M.node.capturing&&(M=M.getChild()):M=g.getForNode({type:"Alternative",expressions:[].concat(E(C.expressions.slice(b+1,y+1)))}),f.hasEqualSource(M)){for(var H=b;H<y;H++)F.getChild(b+1).remove();return B(x.node.quantifier),b}}b++}return y}function O(F,k,y){var C=F.node;if("Repetition"===k.node.type&&k.node.quantifier.greedy){var b=k.getChild(),x=void 0;"Group"===b.node.type&&!b.node.capturing&&(b=b.getChild());var f=void 0;if("Alternative"===b.node.type?x=g.getForNode({type:"Alternative",expressions:[].concat(E(C.expressions.slice(y-(f=b.node.expressions.length),y)))}):(f=1,"Group"===(x=F.getChild(y-1)).node.type&&!x.node.capturing&&(x=x.getChild())),x.hasEqualSource(b)){for(var M=y-f;M<y;M++)F.getChild(y-f).remove();return B(k.node.quantifier),y-f}}return y}Fe.exports={Alternative:function(k){for(var y=k.node,C=1;C<y.expressions.length;){var b=k.getChild(C);if((C=Math.max(1,D(k,b,C)))>=y.expressions.length||(b=k.getChild(C),(C=Math.max(1,i(k,b,C)))>=y.expressions.length))break;b=k.getChild(C),C=Math.max(1,O(k,b,C)),C++}}}},82415:(Fe,Ne,m)=>{var E=m(93027),g=m(63495),Y=g.disjunctionToList,B=g.listToDisjunction;Fe.exports={Disjunction:function(i){var F={},k=Y(i.node).filter(function(y){var C=y?E.getForNode(y).jsonEncode():"null";return!F.hasOwnProperty(C)&&(F[C]=y,!0)});i.replace(B(k))}}},84465:Fe=>{Fe.exports={Disjunction:function(g){var Y=g.node,B=g.parent;if(Ne[B.type]){var D=new Map;if(m(Y,D)&&D.size){var i={type:"CharacterClass",expressions:Array.from(D.keys()).sort().map(function(O){return D.get(O)})};Ne[B.type](g.getParent(),i)}}}};var Ne={RegExp:function(g,Y){g.node.body=Y},Group:function(g,Y){var B=g.node;B.capturing?B.expression=Y:g.replace(Y)}};function m(E,g){if(!E)return!1;var Y=E.type;if("Disjunction"===Y){var D=E.right;return m(E.left,g)&&m(D,g)}return"Char"===Y?(g.set(E.value,E),!0):"CharacterClass"===Y&&!E.negative&&E.expressions.every(function(O){return m(O,g)})}},69472:(Fe,Ne,m)=>{Fe.exports=new Map([["charSurrogatePairToSingleUnicode",m(92143)],["charCodeToSimpleChar",m(77683)],["charCaseInsensitiveLowerCaseTransform",m(75833)],["charClassRemoveDuplicates",m(63574)],["quantifiersMerge",m(17180)],["quantifierRangeToSymbol",m(96229)],["charClassClassrangesToChars",m(95254)],["charClassToMeta",m(8576)],["charClassToSingleChar",m(61861)],["charEscapeUnescape",m(60085)],["charClassClassrangesMerge",m(44140)],["disjunctionRemoveDuplicates",m(82415)],["groupSingleCharsToCharClass",m(84465)],["removeEmptyGroup",m(39365)],["ungroup",m(97329)],["combineRepeatingPatterns",m(19284)]])},96229:Fe=>{Fe.exports={Quantifier:function(Y){"Range"===Y.node.kind&&(function(g){var Y=g.node;0!==Y.from||Y.to||(Y.kind="*",delete Y.from)}(Y),function(g){var Y=g.node;1!==Y.from||Y.to||(Y.kind="+",delete Y.from)}(Y),function(g){var Y=g.node;1!==Y.from||1!==Y.to||g.parentPath.replace(g.parentPath.node.expression)}(Y))}}},17180:(Fe,Ne,m)=>{var g=m(63495).increaseQuantifierByOne;function Y(D){return D.greedy&&("+"===D.kind||"*"===D.kind||"Range"===D.kind&&!D.to)}function B(D){var i=void 0,O=void 0;return"*"===D.kind?i=0:"+"===D.kind?i=1:"?"===D.kind?(i=0,O=1):(i=D.from,D.to&&(O=D.to)),{from:i,to:O}}Fe.exports={Repetition:function(i){var O=i.node;if("Alternative"===i.parent.type&&i.index){var k=i.getPreviousSibling();if(k)if("Repetition"===k.node.type){if(!k.getChild().hasEqualSource(i.getChild()))return;var y=B(k.node.quantifier),C=y.from,b=y.to,x=B(O.quantifier),f=x.from,M=x.to;if(k.node.quantifier.greedy!==O.quantifier.greedy&&!Y(k.node.quantifier)&&!Y(O.quantifier))return;O.quantifier.kind="Range",O.quantifier.from=C+f,b&&M?O.quantifier.to=b+M:delete O.quantifier.to,(Y(k.node.quantifier)||Y(O.quantifier))&&(O.quantifier.greedy=!0),k.remove()}else{if(!k.hasEqualSource(i.getChild()))return;g(O.quantifier),k.remove()}}}}},39365:Fe=>{Fe.exports={Group:function(m){var E=m.node,g=m.parent,Y=m.getChild();E.capturing||Y||("Repetition"===g.type?m.getParent().replace(E):"RegExp"!==g.type&&m.remove())}}},97329:Fe=>{function Ne(E){if(Array.isArray(E)){for(var g=0,Y=Array(E.length);g<E.length;g++)Y[g]=E[g];return Y}return Array.from(E)}Fe.exports={Group:function(g){var Y=g.node,B=g.parent,D=g.getChild();if(!Y.capturing&&D&&function(E){var g=E.parent;if("Alternative"!==g.type)return!0;var B=g.expressions[E.index-1];return null==B||!("Backreference"===B.type&&"number"===B.kind||"Char"===B.type&&"decimal"===B.kind)}(g)&&("Disjunction"!==D.node.type||"RegExp"===B.type)&&("Repetition"!==B.type||"Char"===D.node.type||"CharacterClass"===D.node.type))if("Alternative"===D.node.type){var i=g.getParent();"Alternative"===i.node.type&&i.replace({type:"Alternative",expressions:[].concat(Ne(B.expressions.slice(0,g.index)),Ne(D.node.expressions),Ne(B.expressions.slice(g.index+1)))})}else g.replace(D.node)}}},55776:(Fe,Ne,m)=>{function g(ue){if(Array.isArray(ue)){for(var Ce=0,Ae=Array(ue.length);Ce<ue.length;Ce++)Ae[Ce]=ue[Ce];return Ae}return Array.from(ue)}var Y=void 0,D={},i=void 0,O=void 0;function F(ue,Ce){return D.options.captureLocations?ue&&Ce?{startOffset:ue.startOffset,endOffset:Ce.endOffset,startLine:ue.startLine,endLine:Ce.endLine,startColumn:ue.startColumn,endColumn:Ce.endColumn}:ue||Ce:null}var y=[[-1,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[0,4,function(ue,Ce,Ae,et,$e,Te,rt,ht){O=F($e,ht),i=ce({type:"RegExp",body:Ce,flags:_e(et)},ve($e,ht||rt))}],[1,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[1,0,function(){O=null,i=""}],[2,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[2,2,function(ue,Ce,Ae,et){O=F(Ae,et),i=ue+Ce}],[3,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[4,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[4,3,function(ue,Ce,Ae,et,$e,Te){O=F(et,Te);var rt=null;$e&&(rt=ve(et||$e,Te||$e)),i=ce({type:"Disjunction",left:ue,right:Ae},rt)}],[5,1,function(ue,Ce){O=F(Ce,Ce),i=0!==ue.length?ce(1===ue.length?ue[0]:{type:"Alternative",expressions:ue},O):null}],[6,0,function(){O=null,i=[]}],[6,2,function(ue,Ce,Ae,et){O=F(Ae,et),i=ue.concat(Ce)}],[7,1,function(ue,Ce){O=F(Ce,Ce),i=ce(Object.assign({type:"Assertion"},ue),O)}],[7,2,function(ue,Ce,Ae,et){O=F(Ae,et),i=ue,Ce&&(i=ce({type:"Repetition",expression:ue,quantifier:Ce},O))}],[8,1,function(ue,Ce){O=F(Ce,Ce),i={kind:"^"}}],[8,1,function(ue,Ce){O=F(Ce,Ce),i={kind:"$"}}],[8,1,function(ue,Ce){O=F(Ce,Ce),i={kind:"\\b"}}],[8,1,function(ue,Ce){O=F(Ce,Ce),i={kind:"\\B"}}],[8,3,function(ue,Ce,Ae,et,$e,Te){O=F(et,Te),i={kind:"Lookahead",assertion:Ce}}],[8,3,function(ue,Ce,Ae,et,$e,Te){O=F(et,Te),i={kind:"Lookahead",negative:!0,assertion:Ce}}],[8,3,function(ue,Ce,Ae,et,$e,Te){O=F(et,Te),i={kind:"Lookbehind",assertion:Ce}}],[8,3,function(ue,Ce,Ae,et,$e,Te){O=F(et,Te),i={kind:"Lookbehind",negative:!0,assertion:Ce}}],[9,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[9,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[9,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[10,1,function(ue,Ce){O=F(Ce,Ce),i=de(ue,"simple",O)}],[10,1,function(ue,Ce){O=F(Ce,Ce),(i=de(ue.slice(1),"simple",O)).escaped=!0}],[10,1,function(ue,Ce){O=F(Ce,Ce),(i=de(ue,"unicode",O)).isSurrogatePair=!0}],[10,1,function(ue,Ce){O=F(Ce,Ce),i=de(ue,"unicode",O)}],[10,1,function(ue,Ce){O=F(Ce,Ce),i=function(ue,Ce){var Ae="P"===ue[1],et=ue.indexOf("="),$e=ue.slice(3,-1!==et?et:-1),Te=void 0,rt=-1===et&&G.isGeneralCategoryValue($e),ht=-1===et&&G.isBinaryPropertyName($e);if(rt)Te=$e,$e="General_Category";else if(ht)Te=$e;else{if(!G.isValidName($e))throw new SyntaxError("Invalid unicode property name: "+$e+".");if(Te=ue.slice(et+1,-1),!G.isValidValue($e,Te))throw new SyntaxError("Invalid "+$e+" unicode property value: "+Te+".")}return ce({type:"UnicodeProperty",name:$e,value:Te,negative:Ae,shorthand:rt,binary:ht,canonicalName:G.getCanonicalName($e)||$e,canonicalValue:G.getCanonicalValue(Te)||Te},Ce)}(ue,O)}],[10,1,function(ue,Ce){O=F(Ce,Ce),i=de(ue,"control",O)}],[10,1,function(ue,Ce){O=F(Ce,Ce),i=de(ue,"hex",O)}],[10,1,function(ue,Ce){O=F(Ce,Ce),i=de(ue,"oct",O)}],[10,1,function(ue,Ce){O=F(Ce,Ce),i=function(ue,Ce){var Ae=Number(ue.slice(1));return Ae>0&&Ae<=Z?ce({type:"Backreference",kind:"number",number:Ae,reference:Ae},Ce):de(ue,"decimal",Ce)}(ue,O)}],[10,1,function(ue,Ce){O=F(Ce,Ce),i=de(ue,"meta",O)}],[10,1,function(ue,Ce){O=F(Ce,Ce),i=de(ue,"meta",O)}],[10,1,function(ue,Ce){O=F(Ce,Ce),i=function(ue,Ce){var Ae=ue.slice(3,-1),et=J(Ae);if(P.hasOwnProperty(et))return ce({type:"Backreference",kind:"name",number:P[et],reference:et,referenceRaw:Ae},Ce);var $e=null,Te=null,rt=null,ht=null;Ce&&($e=Ce.startOffset,Te=Ce.startLine,rt=Ce.endLine,ht=Ce.startColumn);var nt=/^[\w$<>]/,xe=void 0,Ie=[de(ue.slice(1,2),"simple",$e?{startLine:Te,endLine:rt,startColumn:ht,startOffset:$e,endOffset:$e+=2,endColumn:ht+=2}:null)];for(Ie[0].escaped=!0,ue=ue.slice(2);ue.length>0;){var at=null;(at=ue.match(me))||(at=ue.match(Q))?($e&&(xe={startLine:Te,endLine:rt,startColumn:ht,startOffset:$e,endOffset:$e+=at[0].length,endColumn:ht+=at[0].length}),Ie.push(de(at[0],"unicode",xe)),ue=ue.slice(at[0].length)):(at=ue.match(nt))&&($e&&(xe={startLine:Te,endLine:rt,startColumn:ht,startOffset:$e,endOffset:++$e,endColumn:++ht}),Ie.push(de(at[0],"simple",xe)),ue=ue.slice(1))}return Ie}(ue,Ce)}],[11,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[11,0],[12,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[12,2,function(ue,Ce,Ae,et){O=F(Ae,et),ue.greedy=!1,i=ue}],[13,1,function(ue,Ce){O=F(Ce,Ce),i=ce({type:"Quantifier",kind:ue,greedy:!0},O)}],[13,1,function(ue,Ce){O=F(Ce,Ce),i=ce({type:"Quantifier",kind:ue,greedy:!0},O)}],[13,1,function(ue,Ce){O=F(Ce,Ce),i=ce({type:"Quantifier",kind:ue,greedy:!0},O)}],[13,1,function(ue,Ce){O=F(Ce,Ce);var Ae=$(ue);i=ce({type:"Quantifier",kind:"Range",from:Ae[0],to:Ae[0],greedy:!0},O)}],[13,1,function(ue,Ce){O=F(Ce,Ce),i=ce({type:"Quantifier",kind:"Range",from:$(ue)[0],greedy:!0},O)}],[13,1,function(ue,Ce){O=F(Ce,Ce);var Ae=$(ue);i=ce({type:"Quantifier",kind:"Range",from:Ae[0],to:Ae[1],greedy:!0},O)}],[14,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[14,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[15,3,function(ue,Ce,Ae,et,$e,Te){O=F(et,Te);var rt=String(ue),ht=J(rt);if(!D.options.allowGroupNameDuplicates&&P.hasOwnProperty(ht))throw new SyntaxError('Duplicate of the named group "'+ht+'".');P[ht]=ue.groupNumber,i=ce({type:"Group",capturing:!0,name:ht,nameRaw:rt,number:ue.groupNumber,expression:Ce},O)}],[15,3,function(ue,Ce,Ae,et,$e,Te){O=F(et,Te),i=ce({type:"Group",capturing:!0,number:ue.groupNumber,expression:Ce},O)}],[16,3,function(ue,Ce,Ae,et,$e,Te){O=F(et,Te),i=ce({type:"Group",capturing:!1,expression:Ce},O)}],[17,3,function(ue,Ce,Ae,et,$e,Te){O=F(et,Te),i=ce({type:"CharacterClass",negative:!0,expressions:Ce},O)}],[17,3,function(ue,Ce,Ae,et,$e,Te){O=F(et,Te),i=ce({type:"CharacterClass",expressions:Ce},O)}],[18,0,function(){O=null,i=[]}],[18,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[19,1,function(ue,Ce){O=F(Ce,Ce),i=[ue]}],[19,2,function(ue,Ce,Ae,et){O=F(Ae,et),i=[ue].concat(Ce)}],[19,4,function(ue,Ce,Ae,et,$e,Te,rt,ht){O=F($e,ht),U(ue,Ae),i=[ce({type:"ClassRange",from:ue,to:Ae},ve($e,rt))],et&&(i=i.concat(et))}],[20,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[20,2,function(ue,Ce,Ae,et){O=F(Ae,et),i=[ue].concat(Ce)}],[20,4,function(ue,Ce,Ae,et,$e,Te,rt,ht){O=F($e,ht),U(ue,Ae),i=[ce({type:"ClassRange",from:ue,to:Ae},ve($e,rt))],et&&(i=i.concat(et))}],[21,1,function(ue,Ce){O=F(Ce,Ce),i=de(ue,"simple",O)}],[21,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[22,1,function(ue,Ce){O=F(Ce,Ce),i=ue}],[22,1,function(ue,Ce){O=F(Ce,Ce),i=de(ue,"meta",O)}]],C={SLASH:"23",CHAR:"24",BAR:"25",BOS:"26",EOS:"27",ESC_b:"28",ESC_B:"29",POS_LA_ASSERT:"30",R_PAREN:"31",NEG_LA_ASSERT:"32",POS_LB_ASSERT:"33",NEG_LB_ASSERT:"34",ESC_CHAR:"35",U_CODE_SURROGATE:"36",U_CODE:"37",U_PROP_VALUE_EXP:"38",CTRL_CH:"39",HEX_CODE:"40",OCT_CODE:"41",DEC_CODE:"42",META_CHAR:"43",ANY:"44",NAMED_GROUP_REF:"45",Q_MARK:"46",STAR:"47",PLUS:"48",RANGE_EXACT:"49",RANGE_OPEN:"50",RANGE_CLOSED:"51",NAMED_CAPTURE_GROUP:"52",L_PAREN:"53",NON_CAPTURE_GROUP:"54",NEG_CLASS:"55",R_BRACKET:"56",L_BRACKET:"57",DASH:"58",$:"59"},b=[{0:1,23:"s2"},{59:"acc"},{3:3,4:4,5:5,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"s7"},{23:"r6",25:"s12"},{23:"r7",25:"r7",31:"r7"},{7:14,8:15,9:16,10:25,14:27,15:42,16:43,17:26,23:"r9",24:"s28",25:"r9",26:"s17",27:"s18",28:"s19",29:"s20",30:"s21",31:"r9",32:"s22",33:"s23",34:"s24",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",52:"s44",53:"s45",54:"s46",55:"s40",57:"s41"},{1:8,2:9,24:"s10",59:"r3"},{59:"r1"},{24:"s11",59:"r2"},{24:"r4",59:"r4"},{24:"r5",59:"r5"},{5:13,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r8",25:"r8",31:"r8"},{23:"r11",24:"r11",25:"r11",26:"r11",27:"r11",28:"r11",29:"r11",30:"r11",31:"r11",32:"r11",33:"r11",34:"r11",35:"r11",36:"r11",37:"r11",38:"r11",39:"r11",40:"r11",41:"r11",42:"r11",43:"r11",44:"r11",45:"r11",52:"r11",53:"r11",54:"r11",55:"r11",57:"r11"},{23:"r12",24:"r12",25:"r12",26:"r12",27:"r12",28:"r12",29:"r12",30:"r12",31:"r12",32:"r12",33:"r12",34:"r12",35:"r12",36:"r12",37:"r12",38:"r12",39:"r12",40:"r12",41:"r12",42:"r12",43:"r12",44:"r12",45:"r12",52:"r12",53:"r12",54:"r12",55:"r12",57:"r12"},{11:47,12:48,13:49,23:"r38",24:"r38",25:"r38",26:"r38",27:"r38",28:"r38",29:"r38",30:"r38",31:"r38",32:"r38",33:"r38",34:"r38",35:"r38",36:"r38",37:"r38",38:"r38",39:"r38",40:"r38",41:"r38",42:"r38",43:"r38",44:"r38",45:"r38",46:"s52",47:"s50",48:"s51",49:"s53",50:"s54",51:"s55",52:"r38",53:"r38",54:"r38",55:"r38",57:"r38"},{23:"r14",24:"r14",25:"r14",26:"r14",27:"r14",28:"r14",29:"r14",30:"r14",31:"r14",32:"r14",33:"r14",34:"r14",35:"r14",36:"r14",37:"r14",38:"r14",39:"r14",40:"r14",41:"r14",42:"r14",43:"r14",44:"r14",45:"r14",52:"r14",53:"r14",54:"r14",55:"r14",57:"r14"},{23:"r15",24:"r15",25:"r15",26:"r15",27:"r15",28:"r15",29:"r15",30:"r15",31:"r15",32:"r15",33:"r15",34:"r15",35:"r15",36:"r15",37:"r15",38:"r15",39:"r15",40:"r15",41:"r15",42:"r15",43:"r15",44:"r15",45:"r15",52:"r15",53:"r15",54:"r15",55:"r15",57:"r15"},{23:"r16",24:"r16",25:"r16",26:"r16",27:"r16",28:"r16",29:"r16",30:"r16",31:"r16",32:"r16",33:"r16",34:"r16",35:"r16",36:"r16",37:"r16",38:"r16",39:"r16",40:"r16",41:"r16",42:"r16",43:"r16",44:"r16",45:"r16",52:"r16",53:"r16",54:"r16",55:"r16",57:"r16"},{23:"r17",24:"r17",25:"r17",26:"r17",27:"r17",28:"r17",29:"r17",30:"r17",31:"r17",32:"r17",33:"r17",34:"r17",35:"r17",36:"r17",37:"r17",38:"r17",39:"r17",40:"r17",41:"r17",42:"r17",43:"r17",44:"r17",45:"r17",52:"r17",53:"r17",54:"r17",55:"r17",57:"r17"},{4:57,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:59,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:61,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:63,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r22",24:"r22",25:"r22",26:"r22",27:"r22",28:"r22",29:"r22",30:"r22",31:"r22",32:"r22",33:"r22",34:"r22",35:"r22",36:"r22",37:"r22",38:"r22",39:"r22",40:"r22",41:"r22",42:"r22",43:"r22",44:"r22",45:"r22",46:"r22",47:"r22",48:"r22",49:"r22",50:"r22",51:"r22",52:"r22",53:"r22",54:"r22",55:"r22",57:"r22"},{23:"r23",24:"r23",25:"r23",26:"r23",27:"r23",28:"r23",29:"r23",30:"r23",31:"r23",32:"r23",33:"r23",34:"r23",35:"r23",36:"r23",37:"r23",38:"r23",39:"r23",40:"r23",41:"r23",42:"r23",43:"r23",44:"r23",45:"r23",46:"r23",47:"r23",48:"r23",49:"r23",50:"r23",51:"r23",52:"r23",53:"r23",54:"r23",55:"r23",57:"r23"},{23:"r24",24:"r24",25:"r24",26:"r24",27:"r24",28:"r24",29:"r24",30:"r24",31:"r24",32:"r24",33:"r24",34:"r24",35:"r24",36:"r24",37:"r24",38:"r24",39:"r24",40:"r24",41:"r24",42:"r24",43:"r24",44:"r24",45:"r24",46:"r24",47:"r24",48:"r24",49:"r24",50:"r24",51:"r24",52:"r24",53:"r24",54:"r24",55:"r24",57:"r24"},{23:"r25",24:"r25",25:"r25",26:"r25",27:"r25",28:"r25",29:"r25",30:"r25",31:"r25",32:"r25",33:"r25",34:"r25",35:"r25",36:"r25",37:"r25",38:"r25",39:"r25",40:"r25",41:"r25",42:"r25",43:"r25",44:"r25",45:"r25",46:"r25",47:"r25",48:"r25",49:"r25",50:"r25",51:"r25",52:"r25",53:"r25",54:"r25",55:"r25",56:"r25",57:"r25",58:"r25"},{23:"r26",24:"r26",25:"r26",26:"r26",27:"r26",28:"r26",29:"r26",30:"r26",31:"r26",32:"r26",33:"r26",34:"r26",35:"r26",36:"r26",37:"r26",38:"r26",39:"r26",40:"r26",41:"r26",42:"r26",43:"r26",44:"r26",45:"r26",46:"r26",47:"r26",48:"r26",49:"r26",50:"r26",51:"r26",52:"r26",53:"r26",54:"r26",55:"r26",56:"r26",57:"r26",58:"r26"},{23:"r27",24:"r27",25:"r27",26:"r27",27:"r27",28:"r27",29:"r27",30:"r27",31:"r27",32:"r27",33:"r27",34:"r27",35:"r27",36:"r27",37:"r27",38:"r27",39:"r27",40:"r27",41:"r27",42:"r27",43:"r27",44:"r27",45:"r27",46:"r27",47:"r27",48:"r27",49:"r27",50:"r27",51:"r27",52:"r27",53:"r27",54:"r27",55:"r27",56:"r27",57:"r27",58:"r27"},{23:"r28",24:"r28",25:"r28",26:"r28",27:"r28",28:"r28",29:"r28",30:"r28",31:"r28",32:"r28",33:"r28",34:"r28",35:"r28",36:"r28",37:"r28",38:"r28",39:"r28",40:"r28",41:"r28",42:"r28",43:"r28",44:"r28",45:"r28",46:"r28",47:"r28",48:"r28",49:"r28",50:"r28",51:"r28",52:"r28",53:"r28",54:"r28",55:"r28",56:"r28",57:"r28",58:"r28"},{23:"r29",24:"r29",25:"r29",26:"r29",27:"r29",28:"r29",29:"r29",30:"r29",31:"r29",32:"r29",33:"r29",34:"r29",35:"r29",36:"r29",37:"r29",38:"r29",39:"r29",40:"r29",41:"r29",42:"r29",43:"r29",44:"r29",45:"r29",46:"r29",47:"r29",48:"r29",49:"r29",50:"r29",51:"r29",52:"r29",53:"r29",54:"r29",55:"r29",56:"r29",57:"r29",58:"r29"},{23:"r30",24:"r30",25:"r30",26:"r30",27:"r30",28:"r30",29:"r30",30:"r30",31:"r30",32:"r30",33:"r30",34:"r30",35:"r30",36:"r30",37:"r30",38:"r30",39:"r30",40:"r30",41:"r30",42:"r30",43:"r30",44:"r30",45:"r30",46:"r30",47:"r30",48:"r30",49:"r30",50:"r30",51:"r30",52:"r30",53:"r30",54:"r30",55:"r30",56:"r30",57:"r30",58:"r30"},{23:"r31",24:"r31",25:"r31",26:"r31",27:"r31",28:"r31",29:"r31",30:"r31",31:"r31",32:"r31",33:"r31",34:"r31",35:"r31",36:"r31",37:"r31",38:"r31",39:"r31",40:"r31",41:"r31",42:"r31",43:"r31",44:"r31",45:"r31",46:"r31",47:"r31",48:"r31",49:"r31",50:"r31",51:"r31",52:"r31",53:"r31",54:"r31",55:"r31",56:"r31",57:"r31",58:"r31"},{23:"r32",24:"r32",25:"r32",26:"r32",27:"r32",28:"r32",29:"r32",30:"r32",31:"r32",32:"r32",33:"r32",34:"r32",35:"r32",36:"r32",37:"r32",38:"r32",39:"r32",40:"r32",41:"r32",42:"r32",43:"r32",44:"r32",45:"r32",46:"r32",47:"r32",48:"r32",49:"r32",50:"r32",51:"r32",52:"r32",53:"r32",54:"r32",55:"r32",56:"r32",57:"r32",58:"r32"},{23:"r33",24:"r33",25:"r33",26:"r33",27:"r33",28:"r33",29:"r33",30:"r33",31:"r33",32:"r33",33:"r33",34:"r33",35:"r33",36:"r33",37:"r33",38:"r33",39:"r33",40:"r33",41:"r33",42:"r33",43:"r33",44:"r33",45:"r33",46:"r33",47:"r33",48:"r33",49:"r33",50:"r33",51:"r33",52:"r33",53:"r33",54:"r33",55:"r33",56:"r33",57:"r33",58:"r33"},{23:"r34",24:"r34",25:"r34",26:"r34",27:"r34",28:"r34",29:"r34",30:"r34",31:"r34",32:"r34",33:"r34",34:"r34",35:"r34",36:"r34",37:"r34",38:"r34",39:"r34",40:"r34",41:"r34",42:"r34",43:"r34",44:"r34",45:"r34",46:"r34",47:"r34",48:"r34",49:"r34",50:"r34",51:"r34",52:"r34",53:"r34",54:"r34",55:"r34",56:"r34",57:"r34",58:"r34"},{23:"r35",24:"r35",25:"r35",26:"r35",27:"r35",28:"r35",29:"r35",30:"r35",31:"r35",32:"r35",33:"r35",34:"r35",35:"r35",36:"r35",37:"r35",38:"r35",39:"r35",40:"r35",41:"r35",42:"r35",43:"r35",44:"r35",45:"r35",46:"r35",47:"r35",48:"r35",49:"r35",50:"r35",51:"r35",52:"r35",53:"r35",54:"r35",55:"r35",56:"r35",57:"r35",58:"r35"},{23:"r36",24:"r36",25:"r36",26:"r36",27:"r36",28:"r36",29:"r36",30:"r36",31:"r36",32:"r36",33:"r36",34:"r36",35:"r36",36:"r36",37:"r36",38:"r36",39:"r36",40:"r36",41:"r36",42:"r36",43:"r36",44:"r36",45:"r36",46:"r36",47:"r36",48:"r36",49:"r36",50:"r36",51:"r36",52:"r36",53:"r36",54:"r36",55:"r36",56:"r36",57:"r36",58:"r36"},{10:70,18:65,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{10:70,18:83,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{23:"r47",24:"r47",25:"r47",26:"r47",27:"r47",28:"r47",29:"r47",30:"r47",31:"r47",32:"r47",33:"r47",34:"r47",35:"r47",36:"r47",37:"r47",38:"r47",39:"r47",40:"r47",41:"r47",42:"r47",43:"r47",44:"r47",45:"r47",46:"r47",47:"r47",48:"r47",49:"r47",50:"r47",51:"r47",52:"r47",53:"r47",54:"r47",55:"r47",57:"r47"},{23:"r48",24:"r48",25:"r48",26:"r48",27:"r48",28:"r48",29:"r48",30:"r48",31:"r48",32:"r48",33:"r48",34:"r48",35:"r48",36:"r48",37:"r48",38:"r48",39:"r48",40:"r48",41:"r48",42:"r48",43:"r48",44:"r48",45:"r48",46:"r48",47:"r48",48:"r48",49:"r48",50:"r48",51:"r48",52:"r48",53:"r48",54:"r48",55:"r48",57:"r48"},{4:85,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:87,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:89,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r13",24:"r13",25:"r13",26:"r13",27:"r13",28:"r13",29:"r13",30:"r13",31:"r13",32:"r13",33:"r13",34:"r13",35:"r13",36:"r13",37:"r13",38:"r13",39:"r13",40:"r13",41:"r13",42:"r13",43:"r13",44:"r13",45:"r13",52:"r13",53:"r13",54:"r13",55:"r13",57:"r13"},{23:"r37",24:"r37",25:"r37",26:"r37",27:"r37",28:"r37",29:"r37",30:"r37",31:"r37",32:"r37",33:"r37",34:"r37",35:"r37",36:"r37",37:"r37",38:"r37",39:"r37",40:"r37",41:"r37",42:"r37",43:"r37",44:"r37",45:"r37",52:"r37",53:"r37",54:"r37",55:"r37",57:"r37"},{23:"r39",24:"r39",25:"r39",26:"r39",27:"r39",28:"r39",29:"r39",30:"r39",31:"r39",32:"r39",33:"r39",34:"r39",35:"r39",36:"r39",37:"r39",38:"r39",39:"r39",40:"r39",41:"r39",42:"r39",43:"r39",44:"r39",45:"r39",46:"s56",52:"r39",53:"r39",54:"r39",55:"r39",57:"r39"},{23:"r41",24:"r41",25:"r41",26:"r41",27:"r41",28:"r41",29:"r41",30:"r41",31:"r41",32:"r41",33:"r41",34:"r41",35:"r41",36:"r41",37:"r41",38:"r41",39:"r41",40:"r41",41:"r41",42:"r41",43:"r41",44:"r41",45:"r41",46:"r41",52:"r41",53:"r41",54:"r41",55:"r41",57:"r41"},{23:"r42",24:"r42",25:"r42",26:"r42",27:"r42",28:"r42",29:"r42",30:"r42",31:"r42",32:"r42",33:"r42",34:"r42",35:"r42",36:"r42",37:"r42",38:"r42",39:"r42",40:"r42",41:"r42",42:"r42",43:"r42",44:"r42",45:"r42",46:"r42",52:"r42",53:"r42",54:"r42",55:"r42",57:"r42"},{23:"r43",24:"r43",25:"r43",26:"r43",27:"r43",28:"r43",29:"r43",30:"r43",31:"r43",32:"r43",33:"r43",34:"r43",35:"r43",36:"r43",37:"r43",38:"r43",39:"r43",40:"r43",41:"r43",42:"r43",43:"r43",44:"r43",45:"r43",46:"r43",52:"r43",53:"r43",54:"r43",55:"r43",57:"r43"},{23:"r44",24:"r44",25:"r44",26:"r44",27:"r44",28:"r44",29:"r44",30:"r44",31:"r44",32:"r44",33:"r44",34:"r44",35:"r44",36:"r44",37:"r44",38:"r44",39:"r44",40:"r44",41:"r44",42:"r44",43:"r44",44:"r44",45:"r44",46:"r44",52:"r44",53:"r44",54:"r44",55:"r44",57:"r44"},{23:"r45",24:"r45",25:"r45",26:"r45",27:"r45",28:"r45",29:"r45",30:"r45",31:"r45",32:"r45",33:"r45",34:"r45",35:"r45",36:"r45",37:"r45",38:"r45",39:"r45",40:"r45",41:"r45",42:"r45",43:"r45",44:"r45",45:"r45",46:"r45",52:"r45",53:"r45",54:"r45",55:"r45",57:"r45"},{23:"r46",24:"r46",25:"r46",26:"r46",27:"r46",28:"r46",29:"r46",30:"r46",31:"r46",32:"r46",33:"r46",34:"r46",35:"r46",36:"r46",37:"r46",38:"r46",39:"r46",40:"r46",41:"r46",42:"r46",43:"r46",44:"r46",45:"r46",46:"r46",52:"r46",53:"r46",54:"r46",55:"r46",57:"r46"},{23:"r40",24:"r40",25:"r40",26:"r40",27:"r40",28:"r40",29:"r40",30:"r40",31:"r40",32:"r40",33:"r40",34:"r40",35:"r40",36:"r40",37:"r40",38:"r40",39:"r40",40:"r40",41:"r40",42:"r40",43:"r40",44:"r40",45:"r40",52:"r40",53:"r40",54:"r40",55:"r40",57:"r40"},{25:"s12",31:"s58"},{23:"r18",24:"r18",25:"r18",26:"r18",27:"r18",28:"r18",29:"r18",30:"r18",31:"r18",32:"r18",33:"r18",34:"r18",35:"r18",36:"r18",37:"r18",38:"r18",39:"r18",40:"r18",41:"r18",42:"r18",43:"r18",44:"r18",45:"r18",52:"r18",53:"r18",54:"r18",55:"r18",57:"r18"},{25:"s12",31:"s60"},{23:"r19",24:"r19",25:"r19",26:"r19",27:"r19",28:"r19",29:"r19",30:"r19",31:"r19",32:"r19",33:"r19",34:"r19",35:"r19",36:"r19",37:"r19",38:"r19",39:"r19",40:"r19",41:"r19",42:"r19",43:"r19",44:"r19",45:"r19",52:"r19",53:"r19",54:"r19",55:"r19",57:"r19"},{25:"s12",31:"s62"},{23:"r20",24:"r20",25:"r20",26:"r20",27:"r20",28:"r20",29:"r20",30:"r20",31:"r20",32:"r20",33:"r20",34:"r20",35:"r20",36:"r20",37:"r20",38:"r20",39:"r20",40:"r20",41:"r20",42:"r20",43:"r20",44:"r20",45:"r20",52:"r20",53:"r20",54:"r20",55:"r20",57:"r20"},{25:"s12",31:"s64"},{23:"r21",24:"r21",25:"r21",26:"r21",27:"r21",28:"r21",29:"r21",30:"r21",31:"r21",32:"r21",33:"r21",34:"r21",35:"r21",36:"r21",37:"r21",38:"r21",39:"r21",40:"r21",41:"r21",42:"r21",43:"r21",44:"r21",45:"r21",52:"r21",53:"r21",54:"r21",55:"r21",57:"r21"},{56:"s72"},{56:"r55"},{10:70,20:73,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r56",58:"s74"},{24:"r62",28:"r62",35:"r62",36:"r62",37:"r62",38:"r62",39:"r62",40:"r62",41:"r62",42:"r62",43:"r62",44:"r62",45:"r62",56:"r62",58:"r62"},{24:"r63",28:"r63",35:"r63",36:"r63",37:"r63",38:"r63",39:"r63",40:"r63",41:"r63",42:"r63",43:"r63",44:"r63",45:"r63",56:"r63",58:"r63"},{24:"r64",28:"r64",35:"r64",36:"r64",37:"r64",38:"r64",39:"r64",40:"r64",41:"r64",42:"r64",43:"r64",44:"r64",45:"r64",56:"r64",58:"r64"},{24:"r65",28:"r65",35:"r65",36:"r65",37:"r65",38:"r65",39:"r65",40:"r65",41:"r65",42:"r65",43:"r65",44:"r65",45:"r65",56:"r65",58:"r65"},{23:"r52",24:"r52",25:"r52",26:"r52",27:"r52",28:"r52",29:"r52",30:"r52",31:"r52",32:"r52",33:"r52",34:"r52",35:"r52",36:"r52",37:"r52",38:"r52",39:"r52",40:"r52",41:"r52",42:"r52",43:"r52",44:"r52",45:"r52",46:"r52",47:"r52",48:"r52",49:"r52",50:"r52",51:"r52",52:"r52",53:"r52",54:"r52",55:"r52",57:"r52"},{56:"r57"},{10:70,21:77,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{56:"r59"},{10:70,20:79,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r63",58:"s80"},{10:70,18:78,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r58"},{56:"r60"},{10:70,21:81,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{10:70,18:82,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r61"},{56:"s84"},{23:"r53",24:"r53",25:"r53",26:"r53",27:"r53",28:"r53",29:"r53",30:"r53",31:"r53",32:"r53",33:"r53",34:"r53",35:"r53",36:"r53",37:"r53",38:"r53",39:"r53",40:"r53",41:"r53",42:"r53",43:"r53",44:"r53",45:"r53",46:"r53",47:"r53",48:"r53",49:"r53",50:"r53",51:"r53",52:"r53",53:"r53",54:"r53",55:"r53",57:"r53"},{25:"s12",31:"s86"},{23:"r49",24:"r49",25:"r49",26:"r49",27:"r49",28:"r49",29:"r49",30:"r49",31:"r49",32:"r49",33:"r49",34:"r49",35:"r49",36:"r49",37:"r49",38:"r49",39:"r49",40:"r49",41:"r49",42:"r49",43:"r49",44:"r49",45:"r49",46:"r49",47:"r49",48:"r49",49:"r49",50:"r49",51:"r49",52:"r49",53:"r49",54:"r49",55:"r49",57:"r49"},{25:"s12",31:"s88"},{23:"r50",24:"r50",25:"r50",26:"r50",27:"r50",28:"r50",29:"r50",30:"r50",31:"r50",32:"r50",33:"r50",34:"r50",35:"r50",36:"r50",37:"r50",38:"r50",39:"r50",40:"r50",41:"r50",42:"r50",43:"r50",44:"r50",45:"r50",46:"r50",47:"r50",48:"r50",49:"r50",50:"r50",51:"r50",52:"r50",53:"r50",54:"r50",55:"r50",57:"r50"},{25:"s12",31:"s90"},{23:"r51",24:"r51",25:"r51",26:"r51",27:"r51",28:"r51",29:"r51",30:"r51",31:"r51",32:"r51",33:"r51",34:"r51",35:"r51",36:"r51",37:"r51",38:"r51",39:"r51",40:"r51",41:"r51",42:"r51",43:"r51",44:"r51",45:"r51",46:"r51",47:"r51",48:"r51",49:"r51",50:"r51",51:"r51",52:"r51",53:"r51",54:"r51",55:"r51",57:"r51"}],x=[],f=void 0,M=[[/^#[^\n]+/,function(){}],[/^\s+/,function(){}],[/^-/,function(){return"DASH"}],[/^\//,function(){return"CHAR"}],[/^#/,function(){return"CHAR"}],[/^\|/,function(){return"CHAR"}],[/^\./,function(){return"CHAR"}],[/^\{/,function(){return"CHAR"}],[/^\{\d+\}/,function(){return"RANGE_EXACT"}],[/^\{\d+,\}/,function(){return"RANGE_OPEN"}],[/^\{\d+,\d+\}/,function(){return"RANGE_CLOSED"}],[/^\\k<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return le(Y.slice(3,-1),this.getCurrentState()),"NAMED_GROUP_REF"}],[/^\\b/,function(){return"ESC_b"}],[/^\\B/,function(){return"ESC_B"}],[/^\\c[a-zA-Z]/,function(){return"CTRL_CH"}],[/^\\0\d{1,2}/,function(){return"OCT_CODE"}],[/^\\0/,function(){return"DEC_CODE"}],[/^\\\d{1,3}/,function(){return"DEC_CODE"}],[/^\\u[dD][89abAB][0-9a-fA-F]{2}\\u[dD][c-fC-F][0-9a-fA-F]{2}/,function(){return"U_CODE_SURROGATE"}],[/^\\u\{[0-9a-fA-F]{1,}\}/,function(){return"U_CODE"}],[/^\\u[0-9a-fA-F]{4}/,function(){return"U_CODE"}],[/^\\[pP]\{\w+(?:=\w+)?\}/,function(){return"U_PROP_VALUE_EXP"}],[/^\\x[0-9a-fA-F]{2}/,function(){return"HEX_CODE"}],[/^\\[tnrdDsSwWvf]/,function(){return"META_CHAR"}],[/^\\\//,function(){return"ESC_CHAR"}],[/^\\[ #]/,function(){return"ESC_CHAR"}],[/^\\[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/,function(){return"ESC_CHAR"}],[/^\\[^*?+\[()\\|]/,function(){var ue=this.getCurrentState();if("u_class"===ue&&"\\-"===Y)return"ESC_CHAR";if("u"===ue||"xu"===ue||"u_class"===ue)throw new SyntaxError("invalid Unicode escape "+Y);return"ESC_CHAR"}],[/^\(/,function(){return"CHAR"}],[/^\)/,function(){return"CHAR"}],[/^\(\?=/,function(){return"POS_LA_ASSERT"}],[/^\(\?!/,function(){return"NEG_LA_ASSERT"}],[/^\(\?<=/,function(){return"POS_LB_ASSERT"}],[/^\(\?<!/,function(){return"NEG_LB_ASSERT"}],[/^\(\?:/,function(){return"NON_CAPTURE_GROUP"}],[/^\(\?<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return le(Y=Y.slice(3,-1),this.getCurrentState()),"NAMED_CAPTURE_GROUP"}],[/^\(/,function(){return"L_PAREN"}],[/^\)/,function(){return"R_PAREN"}],[/^[*?+[^$]/,function(){return"CHAR"}],[/^\\\]/,function(){return"ESC_CHAR"}],[/^\]/,function(){return this.popState(),"R_BRACKET"}],[/^\^/,function(){return"BOS"}],[/^\$/,function(){return"EOS"}],[/^\*/,function(){return"STAR"}],[/^\?/,function(){return"Q_MARK"}],[/^\+/,function(){return"PLUS"}],[/^\|/,function(){return"BAR"}],[/^\./,function(){return"ANY"}],[/^\//,function(){return"SLASH"}],[/^[^*?+\[()\\|]/,function(){return"CHAR"}],[/^\[\^/,function(){var ue=this.getCurrentState();return this.pushState("u"===ue||"xu"===ue?"u_class":"class"),"NEG_CLASS"}],[/^\[/,function(){var ue=this.getCurrentState();return this.pushState("u"===ue||"xu"===ue?"u_class":"class"),"L_BRACKET"}]],H={INITIAL:[8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u:[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],xu:[0,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],x:[0,1,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u_class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]},L={type:"$",value:""};D.lexer=f={initString:function(Ce){return this._string=Ce,this._cursor=0,this._states=["INITIAL"],this._tokensQueue=[],this._currentLine=1,this._currentColumn=0,this._currentLineBeginOffset=0,this._tokenStartOffset=0,this._tokenEndOffset=0,this._tokenStartLine=1,this._tokenEndLine=1,this._tokenStartColumn=0,this._tokenEndColumn=0,this},getStates:function(){return this._states},getCurrentState:function(){return this._states[this._states.length-1]},pushState:function(Ce){this._states.push(Ce)},begin:function(Ce){this.pushState(Ce)},popState:function(){return this._states.length>1?this._states.pop():this._states[0]},getNextToken:function(){if(this._tokensQueue.length>0)return this.onToken(this._toToken(this._tokensQueue.shift()));if(!this.hasMoreTokens())return this.onToken(L);for(var Ce=this._string.slice(this._cursor),Ae=H[this.getCurrentState()],et=0;et<Ae.length;et++){var Te=M[Ae[et]],rt=this._match(Ce,Te[0]);if(""===Ce&&""===rt&&this._cursor++,null!==rt){Y=rt;var ht=Te[1].call(this);if(!ht)return this.getNextToken();if(Array.isArray(ht)){var xe,nt=ht.slice(1);ht=ht[0],nt.length>0&&(xe=this._tokensQueue).unshift.apply(xe,g(nt))}return this.onToken(this._toToken(ht,Y))}}if(this.isEOF())return this._cursor++,L;this.throwUnexpectedToken(Ce[0],this._currentLine,this._currentColumn)},throwUnexpectedToken:function(Ce,Ae,et){var $e=this._string.split("\n")[Ae-1],Te="";throw $e&&(Te="\n\n"+$e+"\n"+" ".repeat(et)+"^\n"),new SyntaxError(Te+'Unexpected token: "'+Ce+'" at '+Ae+":"+et+".")},getCursor:function(){return this._cursor},getCurrentLine:function(){return this._currentLine},getCurrentColumn:function(){return this._currentColumn},_captureLocation:function(Ce){var Ae=/\n/g;this._tokenStartOffset=this._cursor,this._tokenStartLine=this._currentLine,this._tokenStartColumn=this._tokenStartOffset-this._currentLineBeginOffset;for(var et=void 0;null!==(et=Ae.exec(Ce));)this._currentLine++,this._currentLineBeginOffset=this._tokenStartOffset+et.index+1;this._tokenEndOffset=this._cursor+Ce.length,this._tokenEndLine=this._currentLine,this._tokenEndColumn=this._currentColumn=this._tokenEndOffset-this._currentLineBeginOffset},_toToken:function(Ce){var Ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:Ce,value:Ae,startOffset:this._tokenStartOffset,endOffset:this._tokenEndOffset,startLine:this._tokenStartLine,endLine:this._tokenEndLine,startColumn:this._tokenStartColumn,endColumn:this._tokenEndColumn}},isEOF:function(){return this._cursor===this._string.length},hasMoreTokens:function(){return this._cursor<=this._string.length},_match:function(Ce,Ae){var et=Ce.match(Ae);return et?(this._captureLocation(et[0]),this._cursor+=et[0].length,et[0]):null},onToken:function(Ce){return Ce}},D.tokenizer=f,D.options={captureLocations:!0};var N={setOptions:function(Ce){return D.options=Ce,this},getOptions:function(){return D.options},parse:function(Ce,Ae){if(!f)throw new Error("Tokenizer instance wasn't specified.");f.initString(Ce);var et=D.options;Ae&&(D.options=Object.assign({},D.options,Ae)),N.onParseBegin(Ce,f,D.options),x.length=0,x.push(0);var $e=f.getNextToken(),Te=null;do{$e||(D.options=et,We());var rt=x[x.length-1],ht=C[$e.type];b[rt].hasOwnProperty(ht)||(D.options=et,ke($e));var nt=b[rt][ht];if("s"===nt[0]){var xe=null;D.options.captureLocations&&(xe={startOffset:$e.startOffset,endOffset:$e.endOffset,startLine:$e.startLine,endLine:$e.endLine,startColumn:$e.startColumn,endColumn:$e.endColumn}),Te=this.onShift($e),x.push({symbol:C[Te.type],semanticValue:Te.value,loc:xe},Number(nt.slice(1))),$e=f.getNextToken()}else if("r"===nt[0]){var Ie=nt.slice(1),at=y[Ie],bt="function"==typeof at[2],Ut=bt?[]:null,mn=bt&&D.options.captureLocations?[]:null;if(0!==at[1])for(var pt=at[1];pt-- >0;){x.pop();var Bt=x.pop();bt&&(Ut.unshift(Bt.semanticValue),mn&&mn.unshift(Bt.loc))}var Vt={symbol:at[0]};if(bt){Y=Te?Te.value:null;var zt=null!==mn?Ut.concat(mn):Ut;at[2].apply(at,g(zt)),Vt.semanticValue=i,mn&&(Vt.loc=O)}x.push(Vt,b[x[x.length-1]][at[0]])}else if("acc"===nt){x.pop();var Et=x.pop();return(1!==x.length||0!==x[0]||f.hasMoreTokens())&&(D.options=et,ke($e)),Et.hasOwnProperty("semanticValue")?(D.options=et,N.onParseEnd(Et.semanticValue),Et.semanticValue):(N.onParseEnd(),D.options=et,!0)}}while(f.hasMoreTokens()||x.length>1)},setTokenizer:function(Ce){return f=Ce,N},getTokenizer:function(){return f},onParseBegin:function(Ce,Ae,et){},onParseEnd:function(Ce){},onShift:function(Ce){return Ce}},Z=0,P={},I="";function $(ue){var Ce=ue.match(/\d+/g).map(Number);if(Number.isFinite(Ce[1])&&Ce[1]<Ce[0])throw new SyntaxError("Numbers out of order in "+ue+" quantifier");return Ce}function U(ue,Ce){if("control"===ue.kind||"control"===Ce.kind||!isNaN(ue.codePoint)&&!isNaN(Ce.codePoint)&&ue.codePoint>Ce.codePoint)throw new SyntaxError("Range "+ue.value+"-"+Ce.value+" out of order in character class")}N.onParseBegin=function(ue,Ce){I=ue,Z=0,P={};var Ae=ue.lastIndexOf("/"),et=ue.slice(Ae);et.includes("x")&&et.includes("u")?Ce.pushState("xu"):(et.includes("x")&&Ce.pushState("x"),et.includes("u")&&Ce.pushState("u"))},N.onShift=function(ue){return("L_PAREN"===ue.type||"NAMED_CAPTURE_GROUP"===ue.type)&&(ue.value=new String(ue.value),ue.value.groupNumber=++Z),ue};var G=m(46801);function de(ue,Ce,Ae){var et=void 0,$e=void 0;switch(Ce){case"decimal":$e=Number(ue.slice(1)),et=String.fromCodePoint($e);break;case"oct":$e=parseInt(ue.slice(1),8),et=String.fromCodePoint($e);break;case"hex":case"unicode":if(ue.lastIndexOf("\\u")>0){var rt=function(Ce,Ae){if(Array.isArray(Ce))return Ce;if(Symbol.iterator in Object(Ce))return function(Ce,Ae){var et=[],$e=!0,Te=!1,rt=void 0;try{for(var nt,ht=Ce[Symbol.iterator]();!($e=(nt=ht.next()).done)&&(et.push(nt.value),!Ae||et.length!==Ae);$e=!0);}catch(xe){Te=!0,rt=xe}finally{try{!$e&&ht.return&&ht.return()}finally{if(Te)throw rt}}return et}(Ce,Ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(ue.split("\\u").slice(1),2),ht=rt[0],nt=rt[1];$e=1024*((ht=parseInt(ht,16))-55296)+((nt=parseInt(nt,16))-56320)+65536,et=String.fromCodePoint($e)}else{var xe=ue.slice(2).replace("{","");if(($e=parseInt(xe,16))>1114111)throw new SyntaxError("Bad character escape sequence: "+ue);et=String.fromCodePoint($e)}break;case"meta":switch(ue){case"\\t":$e=(et="\t").codePointAt(0);break;case"\\n":$e=(et="\n").codePointAt(0);break;case"\\r":$e=(et="\r").codePointAt(0);break;case"\\v":$e=(et="\v").codePointAt(0);break;case"\\f":$e=(et="\f").codePointAt(0);break;case"\\b":$e=(et="\b").codePointAt(0);case"\\0":et="\0",$e=0;case".":et=".",$e=NaN;break;default:$e=NaN}break;case"simple":$e=(et=ue).codePointAt(0)}return ce({type:"Char",value:ue,kind:Ce,symbol:et,codePoint:$e},Ae)}function _e(ue){var Ce=new Set,Ae=!0,et=!1,$e=void 0;try{for(var rt,Te=ue[Symbol.iterator]();!(Ae=(rt=Te.next()).done);Ae=!0){var ht=rt.value;if(Ce.has(ht)||!"gimsuxy".includes(ht))throw new SyntaxError("Invalid flags: "+ue);Ce.add(ht)}}catch(nt){et=!0,$e=nt}finally{try{!Ae&&Te.return&&Te.return()}finally{if(et)throw $e}}return ue.split("").sort().join("")}var me=/^\\u[0-9a-fA-F]{4}/,Q=/^\\u\{[0-9a-fA-F]{1,}\}/,q=/\\u\{[0-9a-fA-F]{1,}\}/;function le(ue,Ce){if(q.test(ue)&&"u"!==Ce&&"xu"!==Ce&&"u_class"!==Ce)throw new SyntaxError('invalid group Unicode name "'+ue+'", use `u` flag.');return ue}var ee=/\\u(?:([dD][89aAbB][0-9a-fA-F]{2})\\u([dD][c-fC-F][0-9a-fA-F]{2})|([dD][89aAbB][0-9a-fA-F]{2})|([dD][c-fC-F][0-9a-fA-F]{2})|([0-9a-ce-fA-CE-F][0-9a-fA-F]{3}|[dD][0-7][0-9a-fA-F]{2})|\{(0*(?:[0-9a-fA-F]{1,5}|10[0-9a-fA-F]{4}))\})/;function J(ue){return ue.replace(new RegExp(ee,"g"),function(Ce,Ae,et,$e,Te,rt,ht){return Ae?String.fromCodePoint(parseInt(Ae,16),parseInt(et,16)):$e?String.fromCodePoint(parseInt($e,16)):Te?String.fromCodePoint(parseInt(Te,16)):rt?String.fromCodePoint(parseInt(rt,16)):ht?String.fromCodePoint(parseInt(ht,16)):Ce})}function ce(ue,Ce){return D.options.captureLocations&&(ue.loc={source:I.slice(Ce.startOffset,Ce.endOffset),start:{line:Ce.startLine,column:Ce.startColumn,offset:Ce.startOffset},end:{line:Ce.endLine,column:Ce.endColumn,offset:Ce.endOffset}}),ue}function ve(ue,Ce){return D.options.captureLocations?{startOffset:ue.startOffset,endOffset:Ce.endOffset,startLine:ue.startLine,endLine:Ce.endLine,startColumn:ue.startColumn,endColumn:Ce.endColumn}:null}function ke(ue){"$"===ue.type&&We(),f.throwUnexpectedToken(ue.value,ue.startLine,ue.startColumn)}function We(){!function(ue){throw new SyntaxError("Unexpected end of input.")}()}Fe.exports=N},30525:(Fe,Ne,m)=>{var E=m(55776),g=E.parse.bind(E);E.parse=function(Y,B){return g(""+Y,B)},E.setOptions({captureLocations:!1}),Fe.exports=E},46801:Fe=>{var Ne={General_Category:"gc",Script:"sc",Script_Extensions:"scx"},m=O(Ne),E={ASCII:"ASCII",ASCII_Hex_Digit:"AHex",Alphabetic:"Alpha",Any:"Any",Assigned:"Assigned",Bidi_Control:"Bidi_C",Bidi_Mirrored:"Bidi_M",Case_Ignorable:"CI",Cased:"Cased",Changes_When_Casefolded:"CWCF",Changes_When_Casemapped:"CWCM",Changes_When_Lowercased:"CWL",Changes_When_NFKC_Casefolded:"CWKCF",Changes_When_Titlecased:"CWT",Changes_When_Uppercased:"CWU",Dash:"Dash",Default_Ignorable_Code_Point:"DI",Deprecated:"Dep",Diacritic:"Dia",Emoji:"Emoji",Emoji_Component:"Emoji_Component",Emoji_Modifier:"Emoji_Modifier",Emoji_Modifier_Base:"Emoji_Modifier_Base",Emoji_Presentation:"Emoji_Presentation",Extended_Pictographic:"Extended_Pictographic",Extender:"Ext",Grapheme_Base:"Gr_Base",Grapheme_Extend:"Gr_Ext",Hex_Digit:"Hex",IDS_Binary_Operator:"IDSB",IDS_Trinary_Operator:"IDST",ID_Continue:"IDC",ID_Start:"IDS",Ideographic:"Ideo",Join_Control:"Join_C",Logical_Order_Exception:"LOE",Lowercase:"Lower",Math:"Math",Noncharacter_Code_Point:"NChar",Pattern_Syntax:"Pat_Syn",Pattern_White_Space:"Pat_WS",Quotation_Mark:"QMark",Radical:"Radical",Regional_Indicator:"RI",Sentence_Terminal:"STerm",Soft_Dotted:"SD",Terminal_Punctuation:"Term",Unified_Ideograph:"UIdeo",Uppercase:"Upper",Variation_Selector:"VS",White_Space:"space",XID_Continue:"XIDC",XID_Start:"XIDS"},g=O(E),Y={Cased_Letter:"LC",Close_Punctuation:"Pe",Connector_Punctuation:"Pc",Control:["Cc","cntrl"],Currency_Symbol:"Sc",Dash_Punctuation:"Pd",Decimal_Number:["Nd","digit"],Enclosing_Mark:"Me",Final_Punctuation:"Pf",Format:"Cf",Initial_Punctuation:"Pi",Letter:"L",Letter_Number:"Nl",Line_Separator:"Zl",Lowercase_Letter:"Ll",Mark:["M","Combining_Mark"],Math_Symbol:"Sm",Modifier_Letter:"Lm",Modifier_Symbol:"Sk",Nonspacing_Mark:"Mn",Number:"N",Open_Punctuation:"Ps",Other:"C",Other_Letter:"Lo",Other_Number:"No",Other_Punctuation:"Po",Other_Symbol:"So",Paragraph_Separator:"Zp",Private_Use:"Co",Punctuation:["P","punct"],Separator:"Z",Space_Separator:"Zs",Spacing_Mark:"Mc",Surrogate:"Cs",Symbol:"S",Titlecase_Letter:"Lt",Unassigned:"Cn",Uppercase_Letter:"Lu"},B=O(Y),D={Adlam:"Adlm",Ahom:"Ahom",Anatolian_Hieroglyphs:"Hluw",Arabic:"Arab",Armenian:"Armn",Avestan:"Avst",Balinese:"Bali",Bamum:"Bamu",Bassa_Vah:"Bass",Batak:"Batk",Bengali:"Beng",Bhaiksuki:"Bhks",Bopomofo:"Bopo",Brahmi:"Brah",Braille:"Brai",Buginese:"Bugi",Buhid:"Buhd",Canadian_Aboriginal:"Cans",Carian:"Cari",Caucasian_Albanian:"Aghb",Chakma:"Cakm",Cham:"Cham",Cherokee:"Cher",Common:"Zyyy",Coptic:["Copt","Qaac"],Cuneiform:"Xsux",Cypriot:"Cprt",Cyrillic:"Cyrl",Deseret:"Dsrt",Devanagari:"Deva",Dogra:"Dogr",Duployan:"Dupl",Egyptian_Hieroglyphs:"Egyp",Elbasan:"Elba",Ethiopic:"Ethi",Georgian:"Geor",Glagolitic:"Glag",Gothic:"Goth",Grantha:"Gran",Greek:"Grek",Gujarati:"Gujr",Gunjala_Gondi:"Gong",Gurmukhi:"Guru",Han:"Hani",Hangul:"Hang",Hanifi_Rohingya:"Rohg",Hanunoo:"Hano",Hatran:"Hatr",Hebrew:"Hebr",Hiragana:"Hira",Imperial_Aramaic:"Armi",Inherited:["Zinh","Qaai"],Inscriptional_Pahlavi:"Phli",Inscriptional_Parthian:"Prti",Javanese:"Java",Kaithi:"Kthi",Kannada:"Knda",Katakana:"Kana",Kayah_Li:"Kali",Kharoshthi:"Khar",Khmer:"Khmr",Khojki:"Khoj",Khudawadi:"Sind",Lao:"Laoo",Latin:"Latn",Lepcha:"Lepc",Limbu:"Limb",Linear_A:"Lina",Linear_B:"Linb",Lisu:"Lisu",Lycian:"Lyci",Lydian:"Lydi",Mahajani:"Mahj",Makasar:"Maka",Malayalam:"Mlym",Mandaic:"Mand",Manichaean:"Mani",Marchen:"Marc",Medefaidrin:"Medf",Masaram_Gondi:"Gonm",Meetei_Mayek:"Mtei",Mende_Kikakui:"Mend",Meroitic_Cursive:"Merc",Meroitic_Hieroglyphs:"Mero",Miao:"Plrd",Modi:"Modi",Mongolian:"Mong",Mro:"Mroo",Multani:"Mult",Myanmar:"Mymr",Nabataean:"Nbat",New_Tai_Lue:"Talu",Newa:"Newa",Nko:"Nkoo",Nushu:"Nshu",Ogham:"Ogam",Ol_Chiki:"Olck",Old_Hungarian:"Hung",Old_Italic:"Ital",Old_North_Arabian:"Narb",Old_Permic:"Perm",Old_Persian:"Xpeo",Old_Sogdian:"Sogo",Old_South_Arabian:"Sarb",Old_Turkic:"Orkh",Oriya:"Orya",Osage:"Osge",Osmanya:"Osma",Pahawh_Hmong:"Hmng",Palmyrene:"Palm",Pau_Cin_Hau:"Pauc",Phags_Pa:"Phag",Phoenician:"Phnx",Psalter_Pahlavi:"Phlp",Rejang:"Rjng",Runic:"Runr",Samaritan:"Samr",Saurashtra:"Saur",Sharada:"Shrd",Shavian:"Shaw",Siddham:"Sidd",SignWriting:"Sgnw",Sinhala:"Sinh",Sogdian:"Sogd",Sora_Sompeng:"Sora",Soyombo:"Soyo",Sundanese:"Sund",Syloti_Nagri:"Sylo",Syriac:"Syrc",Tagalog:"Tglg",Tagbanwa:"Tagb",Tai_Le:"Tale",Tai_Tham:"Lana",Tai_Viet:"Tavt",Takri:"Takr",Tamil:"Taml",Tangut:"Tang",Telugu:"Telu",Thaana:"Thaa",Thai:"Thai",Tibetan:"Tibt",Tifinagh:"Tfng",Tirhuta:"Tirh",Ugaritic:"Ugar",Vai:"Vaii",Warang_Citi:"Wara",Yi:"Yiii",Zanabazar_Square:"Zanb"},i=O(D);function O(N){var Z={};for(var P in N)if(N.hasOwnProperty(P)){var I=N[P];if(Array.isArray(I))for(var $=0;$<I.length;$++)Z[I[$]]=P;else Z[I]=P}return Z}function x(N){return Y.hasOwnProperty(N)||B.hasOwnProperty(N)}function f(N){return D.hasOwnProperty(N)||i.hasOwnProperty(N)}Fe.exports={isAlias:function(N){return m.hasOwnProperty(N)||g.hasOwnProperty(N)},isValidName:function(N){return Ne.hasOwnProperty(N)||m.hasOwnProperty(N)||E.hasOwnProperty(N)||g.hasOwnProperty(N)},isValidValue:function(N,Z){return function(N){return"General_Category"===N||"gc"==N}(N)?x(Z):!!function(N){return"Script"===N||"Script_Extensions"===N||"sc"===N||"scx"===N}(N)&&f(Z)},isGeneralCategoryValue:x,isScriptCategoryValue:f,isBinaryPropertyName:function(N){return E.hasOwnProperty(N)||g.hasOwnProperty(N)},getCanonicalName:function(N){return m.hasOwnProperty(N)?m[N]:g.hasOwnProperty(N)?g[N]:null},getCanonicalValue:function(N){return B.hasOwnProperty(N)?B[N]:i.hasOwnProperty(N)?i[N]:g.hasOwnProperty(N)?g[N]:null},NON_BINARY_PROP_NAMES_TO_ALIASES:Ne,NON_BINARY_ALIASES_TO_PROP_NAMES:m,BINARY_PROP_NAMES_TO_ALIASES:E,BINARY_ALIASES_TO_PROP_NAMES:g,GENERAL_CATEGORY_VALUE_TO_ALIASES:Y,GENERAL_CATEGORY_VALUE_ALIASES_TO_VALUES:B,SCRIPT_VALUE_TO_ALIASES:D,SCRIPT_VALUE_ALIASES_TO_VALUE:i}},17512:(Fe,Ne,m)=>{var E=m(99833),g=m(35123),Y=m(30489),B=m(30525),D=m(86207),i=m(9958),O=m(38327),k=m(69137).RegExpTree;Fe.exports={parser:B,fa:O,TransformResult:D.TransformResult,parse:function(b,x){return B.parse(""+b,x)},traverse:function(b,x,f){return i.traverse(b,x,f)},transform:function(b,x){return D.transform(b,x)},generate:function(b){return g.generate(b)},toRegExp:function(b){var x=this.compatTranspile(b);return new RegExp(x.getSource(),x.getFlags())},optimize:function(b,x){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},M=f.blacklist;return Y.optimize(b,{whitelist:x,blacklist:M})},compatTranspile:function(b,x){return E.transform(b,x)},exec:function(b,x){if("string"==typeof b){var f=this.compatTranspile(b),M=f.getExtra();b=M.namedCapturingGroups?new k(f.toRegExp(),{flags:f.getFlags(),source:f.getSource(),groups:M.namedCapturingGroups}):f.toRegExp()}return b.exec(x)}}},86207:(Fe,Ne,m)=>{var E=function(){function O(F,k){for(var y=0;y<k.length;y++){var C=k[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(F,C.key,C)}}return function(F,k,y){return k&&O(F.prototype,k),y&&O(F,y),F}}();function g(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}var Y=m(35123),B=m(30525),D=m(9958),i=function(){function O(F){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g(this,O),this._ast=F,this._source=null,this._string=null,this._regexp=null,this._extra=k}return E(O,[{key:"getAST",value:function(){return this._ast}},{key:"setExtra",value:function(k){this._extra=k}},{key:"getExtra",value:function(){return this._extra}},{key:"toRegExp",value:function(){return this._regexp||(this._regexp=new RegExp(this.getSource(),this._ast.flags)),this._regexp}},{key:"getSource",value:function(){return this._source||(this._source=Y.generate(this._ast.body)),this._source}},{key:"getFlags",value:function(){return this._ast.flags}},{key:"toString",value:function(){return this._string||(this._string=Y.generate(this._ast)),this._string}}]),O}();Fe.exports={TransformResult:i,transform:function(F,k){var y=F;return F instanceof RegExp&&(F=""+F),"string"==typeof F&&(y=B.parse(F,{captureLocations:!0})),D.traverse(y,k),new i(y)}}},63495:Fe=>{Fe.exports={disjunctionToList:function m(Y){if("Disjunction"!==Y.type)throw new TypeError('Expected "Disjunction" node, got "'+Y.type+'"');var B=[];return Y.left&&"Disjunction"===Y.left.type?B.push.apply(B,function(Y){if(Array.isArray(Y)){for(var B=0,D=Array(Y.length);B<Y.length;B++)D[B]=Y[B];return D}return Array.from(Y)}(m(Y.left)).concat([Y.right])):B.push(Y.left,Y.right),B},listToDisjunction:function(Y){return Y.reduce(function(B,D){return{type:"Disjunction",left:B,right:D}})},increaseQuantifierByOne:function(Y){"*"===Y.kind?Y.kind="+":"+"===Y.kind?(Y.kind="Range",Y.from=2,delete Y.to):"?"===Y.kind?(Y.kind="Range",Y.from=1,Y.to=2):"Range"===Y.kind&&(Y.from+=1,Y.to&&(Y.to+=1))}}},9958:(Fe,Ne,m)=>{var E=m(93027);function g(Y){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},D=B.pre,i=B.post,O=B.skipProperty;function F(k,y,C,b){if(k&&"string"==typeof k.type){var x=void 0;if(D&&(x=D(k,y,C,b)),!1!==x)for(var f in y&&y[C]&&(k=isNaN(b)?y[C]:y[C][b]),k)if(k.hasOwnProperty(f)){if(O?O(f,k):"$"===f[0])continue;var M=k[f];if(Array.isArray(M)){var H=0;for(E.traversingIndexStack.push(H);H<M.length;)F(M[H],k,f,H),H=E.updateTraversingIndex(1);E.traversingIndexStack.pop()}else F(M,k,f)}i&&i(k,y,C,b)}}F(Y,null)}Fe.exports={traverse:function(B,D){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{asNodes:!1};function O(F,k,y,C){var b=E.getForNode(k);return E.getForNode(F,b,y,C)}Array.isArray(D)||(D=[D]),D=D.filter(function(F){return"function"!=typeof F.shouldRun||F.shouldRun(B)}),E.initRegistry(),D.forEach(function(F){"function"==typeof F.init&&F.init(B)}),g(B,{pre:function(k,y,C,b){var x=void 0;i.asNodes||(x=O(k,y,C,b));var f=!0,M=!1,H=void 0;try{for(var N,L=D[Symbol.iterator]();!(f=(N=L.next()).done);f=!0){var Z=N.value;if("function"==typeof Z["*"])if(x){if(!x.isRemoved()&&!1===Z["*"](x))return!1}else Z["*"](k,y,C,b);var I=void 0;if("function"==typeof Z[k.type]?I=Z[k.type]:"object"==typeof Z[k.type]&&"function"==typeof Z[k.type].pre&&(I=Z[k.type].pre),I)if(x){if(!x.isRemoved()&&!1===I.call(Z,x))return!1}else I.call(Z,k,y,C,b)}}catch(U){M=!0,H=U}finally{try{!f&&L.return&&L.return()}finally{if(M)throw H}}},post:function(k,y,C,b){if(k){var x=void 0;i.asNodes||(x=O(k,y,C,b));var f=!0,M=!1,H=void 0;try{for(var N,L=D[Symbol.iterator]();!(f=(N=L.next()).done);f=!0){var Z=N.value,P=void 0;if("object"==typeof Z[k.type]&&"function"==typeof Z[k.type].post&&(P=Z[k.type].post),P)if(x){if(!x.isRemoved()&&!1===P.call(Z,x))return!1}else P.call(Z,k,y,C,b)}}catch($){M=!0,H=$}finally{try{!f&&L.return&&L.return()}finally{if(M)throw H}}}},skipProperty:function(k){return"loc"===k}})}}},93027:Fe=>{var Ne=function(){function D(i,O){for(var F=0;F<O.length;F++){var k=O[F];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(i,k.key,k)}}return function(i,O,F){return O&&D(i.prototype,O),F&&D(i,F),i}}();function m(D,i){if(!(D instanceof i))throw new TypeError("Cannot call a class as a function")}var E="expressions",g="expression",Y=function(){function D(i){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,k=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;m(this,D),this.node=i,this.parentPath=O,this.parent=O?O.node:null,this.property=F,this.index=k}return Ne(D,[{key:"_enforceProp",value:function(O){if(!this.node.hasOwnProperty(O))throw new Error("Node of type "+this.node.type+" doesn't have \""+O+'" collection.')}},{key:"setChild",value:function(O){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,y=void 0;return null!=F?(k||(k=E),this._enforceProp(k),this.node[k][F]=O,y=D.getForNode(O,this,k,F)):(k||(k=g),this._enforceProp(k),this.node[k]=O,y=D.getForNode(O,this,k,null)),y}},{key:"appendChild",value:function(O){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;F||(F=E),this._enforceProp(F);var k=this.node[F].length;return this.setChild(O,k,F)}},{key:"insertChildAt",value:function(O,F){var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;this._enforceProp(k),this.node[k].splice(F,0,O),F<=D.getTraversingIndex()&&D.updateTraversingIndex(1),this._rebuildIndex(this.node,k)}},{key:"remove",value:function(){if(!this.isRemoved()&&(D.registry.delete(this.node),this.node=null,this.parent)){if(null!==this.index)return this.parent[this.property].splice(this.index,1),this.index<=D.getTraversingIndex()&&D.updateTraversingIndex(-1),this._rebuildIndex(this.parent,this.property),this.index=null,void(this.property=null);delete this.parent[this.property],this.property=null}}},{key:"_rebuildIndex",value:function(O,F){for(var k=D.getForNode(O),y=0;y<O[F].length;y++)D.getForNode(O[F][y],k,F,y).index=y}},{key:"isRemoved",value:function(){return null===this.node}},{key:"replace",value:function(O){return D.registry.delete(this.node),this.node=O,this.parent?(null!==this.index?this.parent[this.property][this.index]=O:this.parent[this.property]=O,D.getForNode(O,this.parentPath,this.property,this.index)):null}},{key:"update",value:function(O){Object.assign(this.node,O)}},{key:"getParent",value:function(){return this.parentPath}},{key:"getChild",value:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.node.expressions?D.getForNode(this.node.expressions[O],this,E,O):this.node.expression&&0==O?D.getForNode(this.node.expression,this,g):null}},{key:"hasEqualSource",value:function(O){return JSON.stringify(this.node,B)===JSON.stringify(O.node,B)}},{key:"jsonEncode",value:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=O.format,k=O.useLoc;return JSON.stringify(this.node,k?null:B,F)}},{key:"getPreviousSibling",value:function(){return this.parent&&null!=this.index?D.getForNode(this.parent[this.property][this.index-1],D.getForNode(this.parent),this.property,this.index-1):null}},{key:"getNextSibling",value:function(){return this.parent&&null!=this.index?D.getForNode(this.parent[this.property][this.index+1],D.getForNode(this.parent),this.property,this.index+1):null}}],[{key:"getForNode",value:function(O){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(!O)return null;D.registry.has(O)||D.registry.set(O,new D(O,F,k,-1==y?null:y));var C=D.registry.get(O);return null!==F&&(C.parentPath=F,C.parent=C.parentPath.node),null!==k&&(C.property=k),y>=0&&(C.index=y),C}},{key:"initRegistry",value:function(){D.registry||(D.registry=new Map),D.registry.clear()}},{key:"updateTraversingIndex",value:function(O){return D.traversingIndexStack[D.traversingIndexStack.length-1]+=O}},{key:"getTraversingIndex",value:function(){return D.traversingIndexStack[D.traversingIndexStack.length-1]}}]),D}();function B(D,i){if("loc"!==D)return i}Y.initRegistry(),Y.traversingIndexStack=[],Fe.exports=Y},42082:Fe=>{Fe.exports=function Ne(m){if(null===m||"object"!=typeof m)return m;var E=void 0;for(var g in E=Array.isArray(m)?[]:{},m)E[g]=Ne(m[g]);return E}},34038:(Fe,Ne,m)=>{Fe.exports=m(17512)},85692:(Fe,Ne,m)=>{m.d(Ne,{l:()=>y});var E=m(5711),g=m(69301),Y=m(4998),B=m(63303),D=m(35634),i=m(53542),O=m(62879),F=m(83668),k=m(57219);let y=(()=>{class C extends((0,O.j)(i.A)){constructor(x,f){super(),this.overlay=x,this.viewContainerRef=f,this.overlayRef=null,this.closeMenu=()=>{this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)},this.openMenu=(M,H)=>{this.closeMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:M,y:H}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new E.UE(this.menuTemplate,this.viewContainerRef,{data:this.data})),(0,g.T)(this.overlayRef.backdropClick(),this.overlayRef.outsidePointerEvents(),(0,Y.R)(this.overlayRef.overlayElement,"click")).pipe((0,B.q)(1),(0,D.R)(this.destroyed$)).subscribe(this.closeMenu)},this.toggleMenu=(M,H)=>{this.overlayRef?this.closeMenu():this.openMenu(M,H)}}contextmenuListener(x){x.preventDefault(),x.stopPropagation(),this.openMenu(x.x,x.y)}ngOnDestroy(){super.ngOnDestroy(),this.closeMenu()}}return C.\u0275fac=function(x){return new(x||C)(F.Y36(k.aV),F.Y36(F.s_b))},C.\u0275dir=F.lG2({type:C,selectors:[["","appContextMenu",""]],hostBindings:function(x,f){1&x&&F.NdJ("contextmenu",function(H){return f.contextmenuListener(H)})},inputs:{menuTemplate:["appContextMenu","menuTemplate"],data:["appContextMenuData","data"]},exportAs:["appContextMenu"],features:[F.qOj]}),C})()},95909:(Fe,Ne,m)=>{m.r(Ne),m.d(Ne,{DefaultLayoutModule:()=>mI});var E=m(1869),g=m(15304),Y=m(53050),B=m(28167),D=m(10138),i=m(83668);let O=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[g.Is,Y.To,B.lN,D.c,E.I]]}),a})();var F=m(80888),k=m(76769);let y=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[E.I,F.QW,D.c,k.c]]}),a})();var C=m(41172),b=m(83530),x=m(16400);let f=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[g.Is,B.lN,D.c,x.LD,E.I]]}),a})(),M=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[E.I,b.Tx,f]]}),a})();var H=m(42663);let L=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[E.I,F.QW,D.c,H.ie]]}),a})();var N=m(67348),Z=m(44191);let P=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[N.vV,g.Is,Z.nm,E.I,C.m]]}),a})();var I=m(6731),$=m(47497),U=m(80348),G=m(45351),oe=m(49133),de=m(39555);const fe=["input"],_e=function(a){return{enterDuration:a}},we=["*"],me=new i.OlP("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let q=0;const le={provide:oe.JU,useExisting:(0,i.Gpc)(()=>ce),multi:!0};class ee{constructor(e,t){this.source=e,this.value=t}}const J=new i.OlP("MatRadioGroup");let re=(()=>{class a{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+q++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new i.vpe}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,U.Ig)(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=(0,U.Ig)(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new ee(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return a.\u0275fac=function(t){return new(t||a)(i.Y36(i.sBO))},a.\u0275dir=i.lG2({type:a,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),a})(),ce=(()=>{class a extends re{}return a.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(a)))(n||a)}}(),a.\u0275dir=i.lG2({type:a,selectors:[["mat-radio-group"]],contentQueries:function(t,n,o){if(1&t&&i.Suo(o,je,5),2&t){let s;i.iGM(s=i.CRH())&&(n._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[i._Bn([le,{provide:J,useExisting:a}]),i.qOj]}),a})();class ve{constructor(e){this._elementRef=e}}const ke=(0,I.Kr)((0,I.sb)(ve));let We=(()=>{class a extends ke{constructor(t,n,o,s,d,p,R,j){super(n),this._changeDetector=o,this._focusMonitor=s,this._radioDispatcher=d,this._providerOverride=R,this._uniqueId="mat-radio-"+ ++q,this.id=this._uniqueId,this.change=new i.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===p,j&&(this.tabIndex=(0,U.su)(j,0)),this._removeUniqueSelectionListener=d.listen((z,ne)=>{z!==this.id&&ne===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const n=(0,U.Ig)(t);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled((0,U.Ig)(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=(0,U.Ig)(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new ee(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}}return a.\u0275fac=function(t){i.$Z()},a.\u0275dir=i.lG2({type:a,viewQuery:function(t,n){if(1&t&&i.Gf(fe,5),2&t){let o;i.iGM(o=i.CRH())&&(n._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[i.qOj]}),a})(),je=(()=>{class a extends We{constructor(t,n,o,s,d,p,R,j){super(t,n,o,s,d,p,R,j)}}return a.\u0275fac=function(t){return new(t||a)(i.Y36(J,8),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36($.tE),i.Y36(G.A8),i.Y36(de.Qb,8),i.Y36(me,8),i.$8M("tabindex"))},a.\u0275cmp=i.Xpm({type:a,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,n){1&t&&i.NdJ("focus",function(){return n._inputElement.nativeElement.focus()}),2&t&&(i.uIk("tabindex",null)("id",n.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),i.ekj("mat-radio-checked",n.checked)("mat-radio-disabled",n.disabled)("_mat-animation-noopable",n._noopAnimations)("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[i.qOj],ngContentSelectors:we,decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,n){if(1&t&&(i.F$t(),i.TgZ(0,"label",0,1),i.TgZ(2,"span",2),i._UZ(3,"span",3),i._UZ(4,"span",4),i.TgZ(5,"input",5,6),i.NdJ("change",function(s){return n._onInputInteraction(s)})("click",function(s){return n._onInputClick(s)}),i.qZA(),i.TgZ(7,"span",7),i._UZ(8,"span",8),i.qZA(),i.qZA(),i.TgZ(9,"span",9),i.TgZ(10,"span",10),i._uU(11,"\xa0"),i.qZA(),i.Hsn(12),i.qZA(),i.qZA()),2&t){const o=i.MAs(1);i.uIk("for",n.inputId),i.xp6(5),i.Q6J("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("tabIndex",n.tabIndex)("required",n.required),i.uIk("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),i.xp6(2),i.Q6J("matRippleTrigger",o)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",i.VKq(18,_e,n._noopAnimations?0:150)),i.xp6(2),i.ekj("mat-radio-label-before","before"==n.labelPosition)}},directives:[I.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),a})(),ue=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[I.si,I.BQ],I.BQ]}),a})(),Ce=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[N.vV,g.Is,B.lN,D.c,b.Tx,ue,E.I,f]]}),a})();var Ae=m(31818),et=m(61855),$e=m(69814),Te=m(52324),rt=m(40452),ht=m(82429),nt=m(98771),xe=m(35634),Ie=m(7060),at=m(41510),bt=m(72007),Ut=m(59449);const mn={leading:!0,trailing:!1};class fn{constructor(e,t,n,o){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=o}call(e,t){return t.subscribe(new Ye(e,this.duration,this.scheduler,this.leading,this.trailing))}}class Ye extends bt.L{constructor(e,t,n,o,s){super(e),this.duration=t,this.scheduler=n,this.leading=o,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Et,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function Et(a){const{subscriber:e}=a;e.clearThrottle()}var St=m(63303),sn=m(50499),Dn=m(80032),Rt=m(83664),Mt=m(84475),Yn=m(60468),xi=m(42328),At=m(8537),Bi=m(5711),Xt=m(41152),He=m(44496),Ue=m(37810),on=m(69301),Sn=m(4998),ai=m(24778),bi=m(74314),ki=m(23653);function Li(...a){return e=>{let t;return"function"==typeof a[a.length-1]&&(t=a.pop()),e.lift(new wi(a,t))}}class wi{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new Dt(e,this.observables,this.project))}}class Dt extends bi.L{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const o=t.length;this.values=new Array(o);for(let s=0;s<o;s++)this.toRespond.push(s);for(let s=0;s<o;s++)this.add((0,ki.D)(this,t[s],void 0,s))}notifyNext(e,t,n){this.values[n]=t;const o=this.toRespond;if(o.length>0){const s=o.indexOf(n);-1!==s&&o.splice(s,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var Lt=m(30366),Yt=m(24305),bn=m(35956),Kt=m(28681),Ve=m(57219),Qe=m(5441),ct=m(43334),xt=m(67254),Ht=m(83912);let en=(()=>{class a extends Error{constructor(t){super(`Branch '${t}' is not tracking a remote branch.`),this.branchName=t,this.type=a.Type}}return a.Type="NoUpstreamBranchError",a.matches=e=>e.type===a.Type,a})(),hn=(()=>{class a extends Error{constructor(t){super(`Branch '${t}' already exists.`),this.branchName=t,this.type=a.Type}}return a.Type="BranchAlreadyExistsError",a.matches=e=>e.type===a.Type,a})(),yn=(()=>{class a extends Error{constructor(){super(...arguments),this.type=a.Type}}return a.Type="ReferenceExistsError",a.matches=e=>e.type===a.Type,a})(),_n=(()=>{class a extends Error{constructor(){super(...arguments),this.type=a.Type}}return a.Type="InvalidReferenceError",a.matches=e=>e.type===a.Type,a})(),wn=(()=>{class a{constructor(){this.colorsByCommitId=new Ue.X({}),this.commitDetailsByCommitId=new Ue.X({})}getColors(){return this.colorsByCommitId.asObservable()}setColors(t){this.colorsByCommitId.next(t)}getCommits(){return this.commitDetailsByCommitId.asObservable()}setCommits(t){this.commitDetailsByCommitId.next(t)}}return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var rn=m(86019),vn=m(59112),ln=m(90086),En=m(51552);function In(a,e){1&a&&(i.ynx(0),i._uU(1,"Loading..."),i.BQk())}function Kn(a,e){1&a&&(i.TgZ(0,"div",5),i.TgZ(1,"mat-icon",6),i._uU(2,"warning"),i.qZA(),i._uU(3," There are changes to the working copy that will be lost. "),i.qZA())}function Jn(a,e){if(1&a&&(i.TgZ(0,"li",9),i._uU(1),i.qZA()),2&a){const t=e.$implicit;i.Q6J("title",t.id),i.xp6(1),i.AsE(" ",t.message," - ",t.id," ")}}function _i(a,e){if(1&a&&(i.TgZ(0,"div",5),i.TgZ(1,"mat-icon",6),i._uU(2,"warning"),i.qZA(),i._uU(3," The following commits will no longer be reachable by any branch or tag and may be lost: "),i.TgZ(4,"ul",7),i.YNc(5,Jn,2,3,"li",8),i.ALo(6,"async"),i.qZA(),i.qZA()),2&a){const t=i.oxw(2);i.xp6(5),i.Q6J("ngForOf",i.lcZ(6,1,t.atRiskCommits))}}function Di(a,e){if(1&a&&(i.ynx(0),i.YNc(1,Kn,4,0,"div",4),i.ALo(2,"async"),i.YNc(3,_i,7,3,"div",4),i.ALo(4,"nullEmpty"),i.ALo(5,"async"),i.BQk()),2&a){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,2,t.workingCopyAtRisk)),i.xp6(2),i.Q6J("ngIf",i.lcZ(4,4,i.lcZ(5,6,t.atRiskCommits)))}}function xn(a,e){1&a&&(i.TgZ(0,"button",10),i._uU(1,"Cancel"),i.qZA()),2&a&&i.Q6J("mat-dialog-close",void 0)}function Mi(a,e){1&a&&(i.TgZ(0,"button",11),i._uU(1,"Confirm"),i.qZA()),2&a&&i.Q6J("mat-dialog-close",!0)}let li=(()=>{class a extends((0,sn.jB)(sn.Aw)){constructor(t,n,o){super(),this.data=t,this.dialogRef=n,this.graphSharedService=o,this.loading=!0,this.atRiskCommits=new Ue.X([]),this.workingCopyAtRisk=new Ue.X(!1)}ngOnInit(){this.graphSharedService.getCommits().pipe((0,xe.R)(this.destroyed$)).subscribe(t=>{const n=this.data.branchName.startsWith("refs/heads/")?this.data.branchName:`refs/heads/${this.data.branchName}`,o={...t},s=Object.values(t).filter(j=>j.commit.references.length>0&&j.commit.references.some(z=>z!==n)).map(j=>j.id);o.head&&delete o.head;const d=this.data.toCommitId?[...s,this.data.toCommitId]:s;let p=0;for(;p<d.length;){const j=d[p],z=o[j];z&&(delete o[j],d.push(...z.commit.parentIds)),p++}const R=Object.values(o).map(j=>j.commit);this.atRiskCommits.next(R),this.loading&&0===R.length&&!this.workingCopyAtRisk.value?setTimeout(()=>this.dialogRef.close(!0),0):this.loading=!1})}}return a.\u0275fac=function(t){return new(t||a)(i.Y36(g.WI),i.Y36(g.so),i.Y36(wn))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i.qOj],decls:8,vars:5,consts:[["mat-dialog-title",""],[4,"ngIf"],["type","button","mat-button","",3,"mat-dialog-close",4,"ngIf"],["type","button","mat-button","","color","warn",3,"mat-dialog-close",4,"ngIf"],["class","text-block",4,"ngIf"],[1,"text-block"],[1,"warning-icon"],[1,"commit-list"],[3,"title",4,"ngFor","ngForOf"],[3,"title"],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(t,n){1&t&&(i.TgZ(0,"h2",0),i._uU(1),i.qZA(),i.TgZ(2,"mat-dialog-content"),i.YNc(3,In,2,0,"ng-container",1),i.YNc(4,Di,6,8,"ng-container",1),i.qZA(),i.TgZ(5,"mat-dialog-actions"),i.YNc(6,xn,2,1,"button",2),i.YNc(7,Mi,2,1,"button",3),i.qZA()),2&t&&(i.xp6(1),i.Oqu(n.data.title),i.xp6(2),i.Q6J("ngIf",n.loading),i.xp6(1),i.Q6J("ngIf",!n.loading),i.xp6(2),i.Q6J("ngIf",!n.loading),i.xp6(1),i.Q6J("ngIf",!n.loading))},directives:[g.uh,g.xY,rn.O5,g.H8,vn.Hw,rn.sg,ln.lW,g.ZT],pipes:[rn.Ov,En.x],styles:[".text-block[_ngcontent-%COMP%]{margin-bottom:10px}",".warning-icon[_ngcontent-%COMP%]{margin-right:5px}",".commit-list[_ngcontent-%COMP%]{list-style:inside;padding-left:20px;margin-top:10px;overflow-x:hidden}",".commit-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{height:26px;line-height:26px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:16px}"],changeDetection:0}),a})();var pi=m(20373);let Mn=(()=>{class a{constructor(t){this.data=t,this.form=new He.CN({name:new He.rV(null,pi.Y$.required)})}}return a.\u0275fac=function(t){return new(t||a)(i.Y36(g.WI))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:13,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["type","text","matInput","","required","","formControlName","name"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close","disabled"]],template:function(t,n){1&t&&(i.TgZ(0,"h2",0),i._uU(1),i.qZA(),i.TgZ(2,"form",1),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"mat-form-field"),i.TgZ(5,"mat-label"),i._uU(6,"Name"),i.qZA(),i._UZ(7,"input",2),i.qZA(),i.qZA(),i.TgZ(8,"mat-dialog-actions"),i.TgZ(9,"button",3),i._uU(10,"Cancel"),i.qZA(),i.TgZ(11,"button",4),i._uU(12,"Save"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.hij("Create ",n.data.title,""),i.xp6(1),i.Q6J("formGroup",n.form.ng),i.xp6(7),i.Q6J("mat-dialog-close",void 0),i.xp6(2),i.Q6J("mat-dialog-close",n.form.value)("disabled",n.form.invalid))},directives:[g.uh,oe._Y,oe.JL,oe.sg,g.xY,B.KE,B.hX,D.Nt,oe.Fj,oe.Q7,oe.JJ,oe.u,g.H8,ln.lW,g.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"],changeDetection:0}),a})(),Ci=(()=>{class a{constructor(t){this.data=t,this.form=new He.CN({name:new He.rV(this.data.name,pi.Y$.required)})}}return a.\u0275fac=function(t){return new(t||a)(i.Y36(g.WI))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:13,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["type","text","matInput","","required","","formControlName","name"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close","disabled"]],template:function(t,n){1&t&&(i.TgZ(0,"h2",0),i._uU(1),i.qZA(),i.TgZ(2,"form",1),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"mat-form-field"),i.TgZ(5,"mat-label"),i._uU(6,"Name"),i.qZA(),i._UZ(7,"input",2),i.qZA(),i.qZA(),i.TgZ(8,"mat-dialog-actions"),i.TgZ(9,"button",3),i._uU(10,"Cancel"),i.qZA(),i.TgZ(11,"button",4),i._uU(12,"Save"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.hij("Rename ",n.data.title,""),i.xp6(1),i.Q6J("formGroup",n.form.ng),i.xp6(7),i.Q6J("mat-dialog-close",void 0),i.xp6(2),i.Q6J("mat-dialog-close",n.form.value.name)("disabled",n.form.invalid))},directives:[g.uh,oe._Y,oe.JL,oe.sg,g.xY,B.KE,B.hX,D.Nt,oe.Fj,oe.Q7,oe.JJ,oe.u,g.H8,ln.lW,g.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"],changeDetection:0}),a})();var Ti=m(95332);class ei{constructor(e,t,n,o,s){this.dialog=e,this.store=t,this.commitsApi=n,this.repositoriesApi=o,this.submodulesApi=s,this.fetchFromRemote=(d,p)=>this.repositoriesApi.fetchAll(d,p).pipe((0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d))),(0,xt.K)(R=>Ht.Ay.matches(R)||Ht.T0.matches(R)?this.store.dispatch(new bn.NN("error",R.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,R))):this.refreshAndThrow(d,R))),this.push=(d,p,R,j,z=!1)=>(p?this.repositoriesApi.push(d,R,p,j,z):this.repositoriesApi.pushToAllRemotes(d,R,j,z)).pipe((0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d))),(0,xt.K)(ne=>Ht.Ay.matches(ne)||Ht.a9.matches(ne)||Ht.T0.matches(ne)?this.store.dispatch(new bn.NN("error",ne.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,ne))):this.refreshAndThrow(d,ne))),this.pull=(d,p,R,j)=>(p?this.repositoriesApi.fetch(d,p,R):this.repositoriesApi.fetchAll(d,R)).pipe((0,Ie.w)(()=>this.commitsApi.getBranchUpstreamCommitId(d,`refs/heads/${j}`)),(0,Ie.w)(z=>{if(z)return this.updateBranch(d,`refs/heads/${j}`,z);throw new en(j)}),(0,xt.K)(z=>Ht.Ay.matches(z)||Ht.Nu.matches(z)||en.matches(z)||Ht.T0.matches(z)?this.store.dispatch(new bn.NN("error",z.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,z))):this.refreshAndThrow(d,z))),this.checkoutBranch=(d,p)=>this.repositoriesApi.checkoutBranch(d,p).pipe((0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d))),(0,xt.K)(R=>Ht.Nu.matches(R)?this.store.dispatch(new bn.NN("error",R.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,R))):this.refreshAndThrow(d,R))),this.createBranch=(d,p,R=!0)=>this.dialog.open(Mn,{data:{title:"Branch"}}).afterClosed().pipe((0,Ie.w)(z=>z?this.repositoriesApi.createBranch(d,p,z.name).pipe((0,Ie.w)(()=>R?this.repositoriesApi.checkoutBranch(d,z.name):Qe.E),(0,xt.K)(ne=>hn.matches(ne)?this.store.dispatch(new bn.NN("error",ne.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,ne))):Ht.Nu.matches(ne)?this.store.dispatch(new Rt.Vu(d)):_n.matches(ne)?this.store.dispatch(new bn.NN("error",ne.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,ne))):this.refreshAndThrow(d,ne)),(0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d)))):Qe.E)),this.createBranchWithDetails=(d,p,R,j=null,z=!0)=>this.repositoriesApi.createBranch(d,p,R).pipe((0,Ie.w)(()=>z?this.repositoriesApi.checkoutBranch(d,R):Qe.E),(0,xt.K)(ne=>hn.matches(ne)?this.store.dispatch(new bn.NN("error",ne.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,ne))):Ht.Nu.matches(ne)?this.store.dispatch(new Rt.Vu(d)):_n.matches(ne)?this.store.dispatch(new bn.NN("error",ne.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,ne))):this.refreshAndThrow(d,ne)),(0,Ie.w)(()=>j?this.repositoriesApi.setUpstreamBranch(d,R,j):Qe.E),(0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d)))),this.createTag=(d,p,R="")=>this.dialog.open(Mn,{data:{title:"Tag"}}).afterClosed().pipe((0,Ie.w)(z=>z?this.repositoriesApi.createTag(d,p,z.name,R).pipe((0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d))),(0,xt.K)(ne=>_n.matches(ne)?this.store.dispatch(new bn.NN("error",ne.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,ne))):this.refreshAndThrow(d,ne))):Qe.E)),this.renameBranch=(d,p)=>this.dialog.open(Ci,{data:{title:"Branch",name:p}}).afterClosed().pipe((0,Ie.w)(j=>j?this.repositoriesApi.renameBranch(d,p,`refs/heads/${j}`).pipe((0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d))),(0,xt.K)(z=>hn.matches(z)||_n.matches(z)?this.store.dispatch(new bn.NN("error",z.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,z))):this.refreshAndThrow(d,z))):Qe.E)),this.deleteBranch=(d,p)=>this.dialog.open(li,{data:{title:"Delete Branch",branchName:p,toCommitId:null}}).afterClosed().pipe((0,Ie.w)(j=>j?this.repositoriesApi.deleteBranch(d,p).pipe((0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d))),(0,xt.K)(z=>this.refreshAndThrow(d,z))):Qe.E)),this.deleteTag=(d,p)=>this.repositoriesApi.deleteTag(d,p).pipe((0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d))),(0,xt.K)(R=>this.refreshAndThrow(d,R))),this.createMerge=(d,p,R,j)=>{const z=this.store.selectSnapshot(xi.$.selectedProfile);return this.repositoriesApi.createMerge(d,R,j,z?.name??null,z?.email??null,`merge: ${p??R} into ${j}`).pipe((0,Ie.w)(ne=>this.store.dispatch([new Rt.Vu(d),"string"==typeof ne?new Rt.jQ(d,ne):new Yn.hb(d,ne.fromCommitId,ne.toCommitId)])),(0,xt.K)(ne=>Ht.Nu.matches(ne)?this.store.dispatch(new bn.NN("error",ne.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,ne))):this.refreshAndThrow(d,ne)))},this.commitMerge=(d,p,R,j,z)=>{const ne=this.store.selectSnapshot(xi.$.selectedProfile);return this.repositoriesApi.commitMerge(d,p,R,z,ne?.name??null,ne?.email??null,j).pipe((0,Ie.w)(Se=>this.store.dispatch([new Rt.Vu(d),new Rt.jQ(d,Se)])),(0,xt.K)(Se=>Ht.Nu.matches(Se)?this.store.dispatch(new bn.NN("error",Se.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,Se))):this.refreshAndThrow(d,Se)))},this.updateBranch=(d,p,R)=>this.dialog.open(li,{data:{title:"Move Branch",branchName:p,toCommitId:R}}).afterClosed().pipe((0,Ie.w)(z=>z?this.repositoriesApi.updateBranch(d,p,R).pipe((0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d))),(0,xt.K)(ne=>Ht.Nu.matches(ne)?this.store.dispatch(new bn.NN("error",ne.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,ne))):this.refreshAndThrow(d,ne))):Qe.E)),this.setUpstreamBranch=(d,p,R)=>this.repositoriesApi.setUpstreamBranch(d,p,R).pipe((0,Ie.w)(()=>this.store.dispatch(new Rt.Vu(d))),(0,xt.K)(j=>this.refreshAndThrow(d,j))),this.startEdit=(d,p)=>this.commitsApi.startCommitEditing(d,p).pipe((0,xt.K)(R=>Ht.Ao.matches(R)?this.store.dispatch(new bn.NN("error",`Tried to edit too many commits. ${R.message}`)).pipe((0,Ie.w)(()=>(0,ct._)(R))):yn.matches(R)?this.store.dispatch(new bn.NN("error",R.message)).pipe((0,Ie.w)(()=>(0,ct._)(R))):(0,ct._)(R))),this.discardEdit=d=>this.commitsApi.discardCommitEditing(d),this.revertCommit=(d,p)=>{const R=this.store.selectSnapshot(xi.$.selectedProfile);return this.commitsApi.revertCommit(d,p,R?.name??null,R?.email??null).pipe((0,Ie.w)(j=>{const z=[new Rt.Vu(d)];return j&&z.push(new Rt.jQ(d,j)),this.store.dispatch(z)}),(0,xt.K)(j=>this.refreshAndThrow(d,j)))},this.addSubmodule=(d,p,R,j)=>this.submodulesApi.addSubmodule(d,p,R,j).pipe((0,Ie.w)(z=>this.store.dispatch(new Rt.Vu(d)).pipe((0,nt.U)(()=>z)))),this.editSubmodule=(d,p,R)=>this.submodulesApi.editSubmodule(d,p,R).pipe((0,Ie.w)(j=>this.store.dispatch(new Rt.Vu(d)).pipe((0,nt.U)(()=>j))),(0,xt.K)(j=>Ht.vV.matches(j)?this.store.dispatch(new bn.NN("error",j.message)).pipe((0,Ie.w)(()=>this.refreshAndThrow(d,j))):(0,ct._)(j))),this.refreshAndThrow=(d,p)=>this.store.dispatch(new Rt.Vu(d)).pipe((0,Ie.w)(()=>(0,ct._)(p)))}}ei.\u0275fac=function(e){return new(e||ei)(i.LFG(g.uw),i.LFG(Te.yh),i.LFG(Ti.T),i.LFG(At.aM),i.LFG(At.NA))},ei.\u0275prov=i.Yz7({token:ei,factory:ei.\u0275fac,providedIn:f}),(0,et.gn)([(0,Te.Ph)(xi.$.selectedProfile)],ei.prototype,"selectedProfile",void 0);let ao=(()=>{class a extends i.SBq{constructor(t){super(t.nativeElement)}}return a.\u0275fac=function(t){return new(t||a)(i.Y36(i.SBq))},a.\u0275dir=i.lG2({type:a,selectors:[["","appElementRef",""]],exportAs:["appElementRef"],features:[i.qOj]}),a})();var zn=m(88784);function ji(a,e){if(1&a&&(i.TgZ(0,"mat-radio-button",34),i._uU(1),i.qZA()),2&a){const t=e.$implicit;i.Q6J("value",t.name),i.xp6(1),i.Oqu(t.name)}}function co(a,e){if(1&a&&(i.TgZ(0,"div",32),i.TgZ(1,"mat-radio-group",33),i.TgZ(2,"mat-radio-button",34),i._uU(3,"All remotes"),i.qZA(),i.YNc(4,ji,2,2,"mat-radio-button",35),i.qZA(),i.qZA()),2&a){const t=i.oxw(2).ngIf,n=i.oxw();i.xp6(1),i.Q6J("formControl",n.selectedRemoteControl.ng),i.xp6(1),i.Q6J("value",null),i.xp6(2),i.Q6J("ngForOf",t)}}function oi(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",26),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(3).pushBranch(s)}),i._uU(1),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(3);i.xp6(1),i.hij("Push ",n.getBranchName(t.name),"")}}function _o(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"div",23),i.YNc(1,co,5,3,"div",24),i.TgZ(2,"div",25),i.TgZ(3,"button",26),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).pushEverything()}),i.TgZ(4,"mat-icon"),i._uU(5,"public"),i.qZA(),i._uU(6,"Push everything"),i.qZA(),i.TgZ(7,"button",26),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).pushAllBranches()}),i._UZ(8,"mat-icon",27),i._uU(9,"Push all branches"),i.qZA(),i.TgZ(10,"button",26),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).pushAllTags()}),i.TgZ(11,"mat-icon"),i._uU(12,"label"),i.qZA(),i._uU(13,"Push all tags"),i.qZA(),i.TgZ(14,"button",28,29),i.NdJ("click",function(o){i.CHM(t);const s=i.MAs(15);i.oxw();const d=i.MAs(30);return i.oxw().openSubMenu(o,s,d)}),i.TgZ(16,"mat-icon"),i._uU(17,"warning_amber"),i.qZA(),i.TgZ(18,"span"),i._uU(19,"Force push"),i.qZA(),i.TgZ(20,"mat-icon",30),i._uU(21,"chevron_right"),i.qZA(),i.qZA(),i.YNc(22,oi,2,1,"button",31),i.ALo(23,"async"),i.qZA(),i.qZA()}if(2&a){const t=i.oxw().ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngIf",t.length>0),i.xp6(21),i.Q6J("ngForOf",i.lcZ(23,2,n.pushableBranches))}}function Ei(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",26),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(3).pushBranch(s,!0)}),i._uU(1),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(3);i.xp6(1),i.Oqu(n.getBranchName(t.name))}}function ko(a,e){if(1&a&&(i.TgZ(0,"div",36),i.YNc(1,Ei,2,1,"button",31),i.ALo(2,"async"),i.qZA()),2&a){const t=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,t.pushableBranches))}}function yo(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"div",4),i.TgZ(1,"button",5),i.NdJ("click",function(){return i.CHM(t),i.oxw().fetchFromRemote()}),i.ALo(2,"async"),i.ALo(3,"plural"),i.TgZ(4,"mat-icon",6),i._uU(5,"autorenew"),i.qZA(),i.qZA(),i.TgZ(6,"button",5),i.NdJ("click",function(){return i.CHM(t),i.oxw().pullFromRemote()}),i.ALo(7,"async"),i.ALo(8,"async"),i.ALo(9,"async"),i.ALo(10,"async"),i.ALo(11,"async"),i.ALo(12,"async"),i.TgZ(13,"mat-icon",7),i._uU(14,"arrow_downward"),i.qZA(),i.qZA(),i.TgZ(15,"div",8),i.TgZ(16,"button",9),i.NdJ("click",function(){return i.CHM(t),i.oxw().pushCurrentBranch()}),i.ALo(17,"async"),i.ALo(18,"async"),i.ALo(19,"async"),i.TgZ(20,"mat-icon",10),i._uU(21,"arrow_upward"),i.qZA(),i.qZA(),i.TgZ(22,"button",11,12),i.NdJ("click",function(o){i.CHM(t);const s=i.MAs(23),d=i.MAs(28);return i.oxw().openMenu(o,s,d)}),i.ALo(24,"async"),i.TgZ(25,"mat-icon"),i._uU(26,"keyboard_arrow_down"),i.qZA(),i.qZA(),i.qZA(),i.YNc(27,_o,24,4,"ng-template",null,13,i.W1O),i.YNc(29,ko,3,3,"ng-template",null,14,i.W1O),i.TgZ(31,"button",15),i.NdJ("click",function(){return i.CHM(t),i.oxw().openTagDialog()}),i.ALo(32,"async"),i.ALo(33,"async"),i.TgZ(34,"mat-icon",16),i._uU(35,"label"),i.qZA(),i.qZA(),i.TgZ(36,"button",15),i.NdJ("click",function(){return i.CHM(t),i.oxw().createBranch()}),i.ALo(37,"async"),i.ALo(38,"async"),i._UZ(39,"mat-icon",17),i.qZA(),i.TgZ(40,"button",15),i.NdJ("click",function(){return i.CHM(t),i.oxw().editCommits()}),i.ALo(41,"async"),i.ALo(42,"async"),i.TgZ(43,"mat-icon",18),i._uU(44,"create"),i.qZA(),i.qZA(),i.TgZ(45,"button",19),i.NdJ("click",function(){return i.CHM(t),i.oxw().openSearch()}),i.TgZ(46,"mat-icon",20),i._uU(47,"search"),i.qZA(),i.qZA(),i.TgZ(48,"button",21),i.NdJ("click",function(){return i.CHM(t),i.oxw().openSettings()}),i.TgZ(49,"mat-icon",22),i._uU(50,"miscellaneous_services"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const t=e.ngIf,n=i.oxw();i.xp6(1),i.Q6J("disabled",t.length<=0||i.lcZ(2,13,n.isLoading))("title",t.length<=0?"Cannot fetch when no remote is configured":i.xi3(3,15,"Fetch from remote",t.length)),i.xp6(5),i.Q6J("disabled",t.length<=0||i.lcZ(7,18,n.isLoading)||null===i.lcZ(8,20,n.currentUpstreamBranch))("title",t.length<=0?"Cannot pull when no remote is configured":null===i.lcZ(9,22,n.currentUpstreamBranch)?"Cannot pull when no upstream branch is configured for "+n.getBranchName(i.lcZ(10,24,n.currentBranch)):"Pull branch "+(n.getBranchName(i.lcZ(11,26,n.currentBranch))||"?")+" from "+n.getRemoteBranchName(i.lcZ(12,28,n.currentUpstreamBranch))),i.xp6(10),i.Q6J("disabled",t.length<=0||i.lcZ(17,30,n.isLoading))("title",t.length<=0?"Cannot push when no remote is configured":"Push "+(n.getBranchName(i.lcZ(18,32,n.currentBranch))||"?")+" to "+i.lcZ(19,34,n.selectedRemoteName)),i.xp6(6),i.Q6J("disabled",t.length<=0||i.lcZ(24,36,n.isLoading)),i.xp6(9),i.Q6J("title",i.lcZ(32,38,n.hideCreateButtons)?"Cannot create tag when no commit is selected":"Create Tag")("disabled",i.lcZ(33,40,n.hideCreateButtons)),i.xp6(5),i.Q6J("title",i.lcZ(37,42,n.hideCreateButtons)?"Cannot create branch when no commit is selected":"Create Branch")("disabled",i.lcZ(38,44,n.hideCreateButtons)),i.xp6(4),i.Q6J("title",i.lcZ(41,46,n.hideCreateButtons)?"Cannot edit commits when no commit is selected":"Rewrite the commit history from this point onwards")("disabled",i.lcZ(42,48,n.hideCreateButtons))}}class Yi extends((0,sn.jB)(sn.Aw)){constructor(e,t,n,o,s){super(),this.router=e,this.overlay=t,this.viewContainerRef=n,this.store=o,this.repositoryActionsService=s,this.menuOverlayRef=new Ue.X(null),this.subMenuOverlayRef=new Ue.X(null),this.hideCreateButtons=this.store.select(Mt.E.selectedCommitId).pipe((0,nt.U)(d=>!d||"head"===d)),this.selectedRemoteControl=new He.rV,this.selectedRemoteName=this.selectedRemote.pipe((0,nt.U)(d=>d??"all remotes"),(0,at.d)(1)),this.isLoading=new Ue.X(!1),this.getBranchName=d=>d?.replace(/^refs\/heads\//,""),this.getRemoteBranchName=d=>d?.replace(/^refs\/remotes\//,""),this.openMenu=(d,p,R)=>{d.preventDefault(),d.stopPropagation(),this.closeMenu();const j=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(p).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.menuOverlayRef.next(j),j.attach(new Bi.UE(R,this.viewContainerRef)),(0,on.T)(j.backdropClick(),j.outsidePointerEvents()).pipe((0,St.q)(1),(0,xe.R)(this.destroyed$)).subscribe(()=>this.closeMenu())},this.closeMenu=()=>{this.menuOverlayRef.value&&(this.menuOverlayRef.value.dispose(),this.menuOverlayRef.next(null))},this.openSubMenu=(d,p,R)=>{d.preventDefault(),d.stopPropagation(),this.closeSubMenu();const j=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(p).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(j),j.attach(new Bi.UE(R,this.viewContainerRef)),(0,on.T)(j.backdropClick(),j.outsidePointerEvents(),(0,Sn.R)(j.overlayElement,"click")).pipe((0,St.q)(1),(0,xe.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.toggleBranches=()=>{this.defaultLayoutSizes.pipe((0,St.q)(1)).subscribe(d=>{this.store.dispatch(new Kt.ct("default-layout",["0"===d[0]||"0px"===d[0]||"0%"===d[0]?Dn.q:"0px",...d.slice(1)]))})},this.fetchFromRemote=()=>{this.store.selectOnce(Mt.E.selectedRepositoryPath).pipe(Li(this.selectedRepositoryCredentials),(0,Ie.w)(([d,p])=>{if(!d)throw new Error("Cannot fetch when no repository is selected.");return this.isLoading.next(!0),this.repositoryActionsService.fetchFromRemote(d,p)}),(0,Lt.x)(()=>{this.isLoading.next(!1)}),(0,xe.R)(this.destroyed$)).subscribe()},this.pullFromRemote=()=>{const d=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!d)throw new Error("Cannot pull when no repository is selected.");const p=this.store.selectSnapshot(Mt.E.selectedRepositoryCredentials),R=this.store.selectSnapshot(Mt.E.selectedRepositoryCurrentBranch);if(!R)throw new Error("Cannot pull when no branch is checked out.");const j=this.selectedRemoteControl.value;if(!j)throw this.store.dispatch(new bn.NN("error","Cannot pull from all remotes.")),new Error("Cannot pull from all remotes.");this.isLoading.next(!0),this.repositoryActionsService.pull(d,j,p,R.replace(/^refs\/heads\//,"")).pipe((0,Lt.x)(()=>{this.isLoading.next(!1)})).subscribe()},this.pushBranch=(d,p=!1)=>{this.push([d.name],p).subscribe(),this.closeMenu()},this.pushCurrentBranch=()=>{this.currentBranch.pipe((0,St.q)(1)).subscribe(d=>{if(d){const p=this.selectedRemoteControl.value,R=this.store.selectSnapshot(Mt.E.selectedRepositoryCurrentBranchUpstreamBranch);this.push([d]).pipe((0,Yt.b)(()=>{if(!R&&p){const j=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!j)throw new Error("Cannot set upstream branch when no repository is selected.");const z=d.replace(/^refs\/heads\//,"");this.repositoryActionsService.setUpstreamBranch(j,z,`${p}/${z}`).subscribe()}})).subscribe()}else this.store.dispatch(new bn.NN("error","Cannot push current branch when not on a branch"))}),this.closeMenu()},this.pushEverything=(d=!1)=>{(0,rt.aj)([this.pushableBranches,this.tags]).pipe((0,St.q)(1)).subscribe(([p,R])=>{const j=[...p,...R??[]];0===j.length&&this.store.dispatch(new bn.NN("warn","There are no branches or tags to push")),this.push(j.map(z=>z.name),d).subscribe(),this.closeMenu()})},this.pushAllBranches=(d=!1)=>{this.pushableBranches.pipe((0,St.q)(1)).subscribe(p=>{0===p.length&&this.store.dispatch(new bn.NN("warn","There are no branches to push")),this.push(p.map(R=>R.name),d).subscribe(),this.closeMenu()})},this.pushAllTags=(d=!1)=>{this.tags.pipe((0,St.q)(1)).subscribe(p=>{p||this.store.dispatch(new bn.NN("warn","There are no tags to push")),this.push((p??[]).map(R=>R.name),d).subscribe(),this.closeMenu()})},this.push=(d,p=!1)=>this.store.selectOnce(Mt.E.selectedRepositoryPath).pipe(Li(this.selectedRepositoryCredentials),(0,Ie.w)(([R,j])=>{if(!R)throw new Error("Cannot push when no repository is selected.");return this.isLoading.next(!0),this.repositoryActionsService.push(R,this.selectedRemoteControl.value,j,d,p)}),(0,Lt.x)(()=>{this.isLoading.next(!1)}),(0,xe.R)(this.destroyed$)),this.openTagDialog=()=>{const d=this.store.selectSnapshot(Mt.E.selectedRepositoryPath),p=this.store.selectSnapshot(Mt.E.selectedCommitId);if(!d)throw new Error("Cannot create tag when no repository is selected.");if(!p)throw new Error("Cannot create tag when no commit is selected.");this.repositoryActionsService.createTag(d,p).subscribe()},this.createBranch=()=>{(0,ai.D)([this.store.selectOnce(Mt.E.selectedRepositoryPath),this.store.selectOnce(Mt.E.selectedCommitId)]).pipe((0,Ie.w)(([d,p])=>{if(!d)throw new Error("Cannot create branch when no repository is selected.");if(!p)throw new Error("Cannot create branch when no commit is selected.");return this.repositoryActionsService.createBranch(d,p)})).subscribe()},this.createMerge=()=>{},this.editCommits=()=>{(0,ai.D)([this.store.selectOnce(Mt.E.selectedRepositoryPath),this.store.selectOnce(Mt.E.selectedCommitId)]).pipe((0,Ie.w)(([d,p])=>{if(!d)throw new Error("Cannot edit commits when no repository is selected.");if(!p)throw new Error("Cannot edit commits when no commit is selected.");return this.repositoryActionsService.startEdit(d,p).pipe((0,Ie.w)(()=>this.router.navigate(["/standard/rebase"])))})).subscribe()},this.openSearch=()=>{this.router.navigate(["/standard/search"])},this.openSettings=()=>{this.store.selectOnce(Mt.E.selectedRepositoryPath).subscribe(d=>{this.router.navigate(["/settings/repositories"],{queryParams:{id:d}})})}}ngOnInit(){this.selectedRemote.pipe((0,xe.R)(this.destroyed$)).subscribe(e=>{this.selectedRemoteControl.setValue(e,{emitEvent:!1})}),this.branchesVisible=this.defaultLayoutSizes.pipe((0,nt.U)(e=>"0"!==e[0]&&"0px"!==e[0]&&"0%"!==e[0])),this.selectedRemoteControl.valueChanges.pipe(Li(this.store.select(Mt.E.selectedRepositoryPath)),(0,xe.R)(this.destroyed$)).subscribe(([e,t])=>{if(!t)throw new Error("Cannot change default remote when no repository is selected.");this.store.dispatch(new Rt.J2(t,e))}),this.pushableBranches=(0,rt.aj)([this.localBranches,this.remoteBranches,this.selectedRemote]).pipe((0,nt.U)(([e,t,n])=>{const o=n?(t??[]).filter(d=>d.name.startsWith(`refs/remotes/${n}/`)):t,s=(0,Xt.Z)(o,d=>d.name.replace(/^refs\/remotes\/[^\/]*\//,""));return(e??[]).filter(d=>{const p=/^refs\/heads\/(.*)$/.exec(d.name)?.[1];return p&&(!s[p]||s[p].some(R=>R.target!==d.target))})}),(0,at.d)(1))}}Yi.\u0275fac=function(e){return new(e||Yi)(i.Y36(Ae.F0),i.Y36(Ve.aV),i.Y36(i.s_b),i.Y36(Te.yh),i.Y36(ei))},Yi.\u0275cmp=i.Xpm({type:Yi,selectors:[["app-repository-action-view"]],features:[i.qOj],decls:8,vars:9,consts:[[1,"items","items-left"],["type","button","mat-stroked-button","",1,"item",3,"title","click"],[1,"branches-icon"],["class","items",4,"ngIf"],[1,"items"],["type","button","mat-stroked-button","",1,"item",3,"disabled","title","click"],[1,"fetch-icon"],[1,"pull-icon"],[1,"split-button","item"],["type","button","mat-stroked-button","",3,"disabled","title","click"],[1,"push-icon"],["type","button","mat-stroked-button","","appElementRef","",3,"disabled","click"],["pushMenuBtn","appElementRef"],["pushMenu",""],["forcePushMenu",""],["mat-stroked-button","",1,"item",3,"title","disabled","click"],[1,"tag-icon"],["svgIcon","source-branch",1,"branch-icon"],[1,"edit-icon"],["mat-stroked-button","","title","Search",1,"item",3,"click"],[1,"search-icon"],["mat-stroked-button","","title","Repository Settings",1,"item",3,"click"],[1,"settings-icon"],[1,"push-menu"],["class","remotes",4,"ngIf"],[1,"branches"],[1,"menu-item",3,"click"],["svgIcon","source-branch"],["title","Warning: this can cause commits on the remote to become lost","appElementRef","",1,"menu-item","warn",3,"click"],["forcePushMenuBtn","appElementRef"],[1,"expand-icon"],["class","menu-item",3,"click",4,"ngFor","ngForOf"],[1,"remotes"],[3,"formControl"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["title","Warning: this can cause commits on the remote to become lost",1,"force-push-menu"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"button",1),i.NdJ("click",function(){return t.toggleBranches()}),i.ALo(2,"async"),i.TgZ(3,"mat-icon",2),i._uU(4),i.ALo(5,"async"),i.qZA(),i.qZA(),i.qZA(),i.YNc(6,yo,51,50,"div",3),i.ALo(7,"async")),2&e&&(i.xp6(1),i.Q6J("title",i.lcZ(2,3,t.branchesVisible)?"Hide branches":"Show branches"),i.xp6(3),i.Oqu(i.lcZ(5,5,t.branchesVisible)?"unfold_less":"unfold_more"),i.xp6(2),i.Q6J("ngIf",i.lcZ(7,7,t.remotes)))},directives:[ln.lW,vn.Hw,rn.O5,ao,rn.sg,ce,oe.JJ,oe.oH,je],pipes:[rn.Ov,zn.r],styles:["[_nghost-%COMP%]{position:relative;display:block}.items-left[_ngcontent-%COMP%]{position:absolute;left:0;top:0;padding:0 10px}.items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.item[_ngcontent-%COMP%]{cursor:pointer;font-size:0;margin-right:5px;min-width:45px;padding:0 10px}.item[_ngcontent-%COMP%]:last-child{margin-right:0}.branches-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.split-button[_ngcontent-%COMP%]{padding:0}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-radius:0;font-size:0}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px;padding:0 2px;min-width:10px}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(:last-child){border-right:none;margin-right:0;min-width:45px;padding:0 10px}.push-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto;display:flex;max-width:400px}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.push-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.push-menu[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;overflow-x:hidden}.push-menu[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]   .warn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:not(.expand-icon){color:#f44336;margin-right:10px}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]{padding:15px}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-bottom:10px}.force-push-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.force-push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.force-push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.force-push-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}"],changeDetection:0}),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryCredentials)],Yi.prototype,"selectedRepositoryCredentials",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRemotes)],Yi.prototype,"remotes",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRemote)],Yi.prototype,"selectedRemote",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryLocalBranches)],Yi.prototype,"localBranches",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryRemoteBranches)],Yi.prototype,"remoteBranches",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryTags)],Yi.prototype,"tags",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryCurrentBranch)],Yi.prototype,"currentBranch",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryCurrentBranchUpstreamBranch)],Yi.prototype,"currentUpstreamBranch",void 0),(0,et.gn)([(0,Te.Ph)(xi.$.gridSizes("default-layout"))],Yi.prototype,"defaultLayoutSizes",void 0);var To=m(6939),ys=m(33116),go=m(60173),Hs=m(748),zs=m(7765);const qo=function(a,e,t,n){return null==a?[]:((0,zs.Z)(e)||(e=null==e?[]:[e]),(0,zs.Z)(t=n?void 0:t)||(t=null==t?[]:[t]),(0,Hs.Z)(a,e,t))};var Ss=m(27807),Ps=m(65944),es=m(10688),to=m(50439),Pr=m(54140),or=m(46656),Ro=m(21934),Lo=m(73967),rs=m(44915),Qs=m(13358),sr=m(16702),Or=m(85339);function Wo(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"mat-icon",9),i.NdJ("contextmenu",function(o){const d=i.CHM(t).$implicit,p=i.oxw().$implicit;return i.oxw(2).contextMenuClicked(o,p,d)})("dblclick",function(o){const d=i.CHM(t).$implicit,p=i.oxw().$implicit;return i.oxw(2).dblClicked(o,p,d)}),i._uU(1),i.qZA()}if(2&a){const t=e.$implicit;i.Q6J("title",t.name),i.xp6(1),i.Oqu(t.icon)}}function xs(a,e){1&a&&(i.TgZ(0,"span",10),i.TgZ(1,"mat-icon"),i._uU(2,"expand_more"),i.qZA(),i.qZA())}function rr(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",4),i.NdJ("contextmenu",function(o){const d=i.CHM(t).$implicit;return i.oxw(2).contextMenuClicked(o,d)})("dblclick",function(o){const d=i.CHM(t).$implicit;return i.oxw(2).dblClicked(o,d)}),i.TgZ(1,"span",5),i.YNc(2,Wo,2,2,"mat-icon",6),i.qZA(),i.TgZ(3,"span",7),i.ALo(4,"async"),i._uU(5),i.qZA(),i.YNc(6,xs,3,0,"span",8),i.qZA()}if(2&a){const t=e.$implicit,n=e.first,o=i.oxw(2);i.Q6J("ngClass","color-"+o.color),i.xp6(1),i.Q6J("ngClass","color-"+o.color),i.xp6(1),i.Q6J("ngForOf",t.sources)("ngForTrackBy",o.trackBranchSource),i.xp6(1),i.ekj("current",o.branchMatches(i.lcZ(4,9,o.currentBranch),t)),i.Q6J("title",t.name),i.xp6(2),i.Oqu(t.name),i.xp6(1),i.Q6J("ngIf",n&&(o.branches.length>1||o.branches[0].sources.length>2))}}function Ea(a,e){if(1&a&&(i.TgZ(0,"ul",2),i.YNc(1,rr,7,11,"li",3),i.qZA()),2&a){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.branches)("ngForTrackBy",t.trackBranch)}}function Ki(a,e){if(1&a&&(i.TgZ(0,"mat-icon"),i._uU(1),i.qZA()),2&a){const t=e.$implicit;i.xp6(1),i.Oqu(t.icon)}}function Do(a,e){1&a&&(i.TgZ(0,"span",10),i.TgZ(1,"mat-icon"),i._uU(2,"expand_more"),i.qZA(),i.qZA())}function Os(a,e){if(1&a&&(i.TgZ(0,"div",11),i.TgZ(1,"span",12),i.YNc(2,Ki,2,1,"mat-icon",13),i.qZA(),i.TgZ(3,"span",14),i._uU(4),i.qZA(),i.YNc(5,Do,3,0,"span",8),i.qZA()),2&a){const t=e.ngIf,n=i.oxw();i.xp6(2),i.Q6J("ngForOf",t.sources)("ngForTrackBy",n.trackBranchSource),i.xp6(2),i.Oqu(t.name),i.xp6(1),i.Q6J("ngIf",n.branches.length>1||n.branches[0].sources.length>2)}}class fs{constructor(e,t,n){this.cdr=e,this.store=t,this.repositoryActionsService=n,this.contextMenu=new i.vpe,this.branchMatches=(o,s)=>s.sources.some(d=>"local"===d.type)&&`refs/heads/${s.name}`===o,this.contextMenuClicked=(o,s,d)=>{this.contextMenu.next({event:o,branch:s,source:d})},this.dblClicked=(o,s,d)=>{o.preventDefault(),o.stopPropagation();const p=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(p)if("local"===d?.type||!d&&s.sources.some(R=>"local"===R.type))this.repositoryActionsService.checkoutBranch(p,`refs/heads/${s.name}`).subscribe();else if("remote"===d?.type||!d&&s.sources.some(R=>"remote"===R.type)){const R=d?.name??s.sources.find(ne=>"remote"===ne.type)?.name;if(this.store.selectSnapshot(Mt.E.selectedRepositoryLocalBranches)?.find(ne=>ne.name===`refs/heads/${s.name}`))this.repositoryActionsService.checkoutBranch(p,`refs/heads/${s.name}`).subscribe();else{const Se=this.store.selectSnapshot(Mt.E.selectedRepositoryRemoteBranches)?.find(Me=>Me.name===`refs/remotes/${R}/${s.name}`);Se&&this.repositoryActionsService.createBranchWithDetails(p,Se.target,s.name,`${R}/${s.name}`,!0).subscribe()}}},this.trackBranch=(o,s)=>s.name+s.sources.reduce((d,p,R)=>`${d},${this.trackBranchSource(R,p)}`,""),this.trackBranchSource=(o,s)=>`${s.type}:${s.name}`}ngOnChanges(e){!e.branches||!e.branches.currentValue||this.cdr.detectChanges()}}fs.\u0275fac=function(e){return new(e||fs)(i.Y36(i.sBO),i.Y36(Te.yh),i.Y36(ei))},fs.\u0275cmp=i.Xpm({type:fs,selectors:[["app-branches"]],inputs:{branches:"branches",color:"color"},outputs:{contextMenu:"contextMenu"},features:[i.TTD],decls:3,vars:4,consts:[["class","branches",4,"ngIf"],["class","spacer branch",4,"ngIf"],[1,"branches"],["class","branch",3,"ngClass","contextmenu","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"branch",3,"ngClass","contextmenu","dblclick"],[1,"icons",3,"ngClass"],[3,"title","contextmenu","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"name",3,"title"],["class","expandable",4,"ngIf"],[3,"title","contextmenu","dblclick"],[1,"expandable"],[1,"spacer","branch"],[1,"icons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"name"]],template:function(e,t){1&e&&(i.YNc(0,Ea,2,2,"ul",0),i.ALo(1,"nullEmpty"),i.YNc(2,Os,6,4,"div",1)),2&e&&(i.Q6J("ngIf",i.lcZ(1,2,t.branches)),i.xp6(2),i.Q6J("ngIf",t.branches.length>0&&t.branches[0]))},directives:[rn.O5,rn.sg,rn.mk,vn.Hw],pipes:[En.x,rn.Ov],styles:["[_nghost-%COMP%]{display:block;position:relative}.branches[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:auto;max-width:250px;border:1px solid #616161;border-radius:6px;background:#3c3c3c}.branches[_ngcontent-%COMP%]:hover{width:fit-content;max-width:max-content;z-index:100}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]{display:flex}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:none;border-radius:0}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:first-child   .icons[_ngcontent-%COMP%]{border-top-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:last-child   .icons[_ngcontent-%COMP%]{border-bottom-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{visibility:hidden}.branch[_ngcontent-%COMP%]{display:none;height:24px;line-height:24px}.branch[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:5px}.branch[_ngcontent-%COMP%]   .name.current[_ngcontent-%COMP%]{font-weight:600}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:67px;flex-shrink:0;overflow:hidden;padding:0 5px;border-radius:6px 0 0 6px;margin-right:5px}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{background:#4363d8}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%]{background:#469990}.branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{background:#fabed4}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{background:#e6194B}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%]{background:#42d4f4}.branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%]{background:#f58231}.branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%]{background:#ffe119}.branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{background:#3cb44b}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{background:#f032e6}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{background:#ffffff}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%]{background:#800000}.branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{background:#9A6324}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%]{background:#fffac8}.branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%]{background:#aaffc3}.branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{background:#dcbeff}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px;padding-left:1px;width:26px}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:first-child{margin-left:0}.branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{margin-right:5px}.branch[_ngcontent-%COMP%]:first-child{display:flex}.branch.spacer[_ngcontent-%COMP%]{display:flex;user-select:none;max-width:250px;visibility:hidden}"],changeDetection:0}),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryCurrentBranch)],fs.prototype,"currentBranch",void 0);const wl=["graphSvg"],yt=["graphWrapper"],A=["floatingDates"],h=["contextMenu"];function S(a,e){if(1&a&&(i.O4$(),i._UZ(0,"rect",17)),2&a){const t=e.ngIf,n=i.oxw();i.uIk("y",n.getYCoord(t.yIndex)-n.yOffset)("height",n.yUnit)}}function W(a,e){if(1&a&&(i.O4$(),i.TgZ(0,"g",18),i._UZ(1,"path",19),i.qZA()),2&a){const t=e.$implicit,n=i.oxw();i.xp6(1),i.ekj("dashed",t.isDashed),i.Q6J("ngClass","color-"+n.getTrailColorIndex(t.from.trail)),i.uIk("d",t.path)}}function te(a,e){if(1&a&&(i.O4$(),i.TgZ(0,"g",20),i._UZ(1,"path",19),i.qZA()),2&a){const t=e.$implicit,n=i.oxw();i.xp6(1),i.ekj("dashed",t.isDashed),i.Q6J("ngClass","color-"+n.getTrailColorIndex(t)),i.uIk("d",n.drawTrail(t))}}function ae(a,e){if(1&a&&(i.O4$(),i.TgZ(0,"g"),i._UZ(1,"circle",21),i.qZA()),2&a){const t=e.$implicit,n=i.oxw();i.xp6(1),i.ekj("dashed","head"===t.id||t.id.startsWith("merge:")),i.Q6J("ngClass","color-"+n.getTrailColorIndex(t.trail)),i.uIk("cx",n.getXCoord(t.trail.lane.xIndex))("cy",n.getYCoord(t.yIndex))}}function be(a,e){if(1&a&&(i._UZ(0,"app-avatar",29),i.ALo(1,"async")),2&a){const t=i.oxw().$implicit,n=i.oxw();i.Q6J("title",t.commit.authorName+" ("+t.commit.authorEmail+")")("remotes",i.lcZ(1,3,n.remotes))("email",t.commit.authorEmail)}}function Oe(a,e){1&a&&(i.TgZ(0,"mat-icon",30),i._uU(1,"unpublished"),i.qZA())}function Re(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"span",31),i.TgZ(1,"app-branches",32),i.NdJ("contextMenu",function(o){i.CHM(t);const s=i.oxw().$implicit;return i.oxw().openContextMenu(o.event,s,o.branch,o.source)}),i.qZA(),i.qZA()}if(2&a){const t=e.ngIf,n=i.oxw().$implicit,o=i.oxw();i.xp6(1),i.Q6J("branches",t)("color",o.getTrailColorIndex(n.trail))}}function Ze(a,e){if(1&a&&(i.TgZ(0,"span",33),i._uU(1),i.qZA()),2&a){const t=i.oxw().$implicit,n=i.oxw();i.xp6(1),i.hij(" ",n.getCommitSummary(t)," ")}}function Je(a,e){if(1&a&&(i.TgZ(0,"span",34),i._uU(1," You have "),i.TgZ(2,"strong"),i._uU(3),i.ALo(4,"async"),i.qZA(),i._uU(5),i.ALo(6,"plural"),i.ALo(7,"async"),i.qZA()),2&a){const t=i.oxw(2);i.xp6(3),i.Oqu(i.lcZ(4,2,t.uncommittedChangesCount)),i.xp6(2),i.hij(" ",i.xi3(6,4,"change",i.lcZ(7,7,t.uncommittedChangesCount))," in your working copy ")}}function it(a,e){if(1&a&&(i.TgZ(0,"span",35),i._uU(1),i.qZA()),2&a){const t=i.oxw().$implicit,n=i.oxw();i.xp6(1),i.hij(" ",n.getCommitSummary(t)," ")}}function ft(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",22),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw().changeCommit.next(s.id)})("dblclick",function(){const s=i.CHM(t).$implicit;return i.oxw().commitDblClicked(s)})("contextmenu",function(o){const d=i.CHM(t).$implicit;return i.oxw().openContextMenu(o,d)}),i.ALo(1,"async"),i.YNc(2,be,2,5,"app-avatar",23),i.YNc(3,Oe,2,0,"mat-icon",24),i.YNc(4,Re,2,2,"span",25),i.ALo(5,"nullEmpty"),i.ALo(6,"async"),i.YNc(7,Ze,2,1,"span",26),i.YNc(8,Je,8,9,"span",27),i.YNc(9,it,2,1,"span",28),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw();i.ekj("selected",t.id===i.lcZ(1,8,n.selectedCommitDetailId)),i.xp6(2),i.Q6J("ngIf","head"!==t.id&&!t.id.startsWith("merge:")),i.xp6(1),i.Q6J("ngIf","head"===t.id||t.id.startsWith("merge:")),i.xp6(1),i.Q6J("ngIf",i.lcZ(5,10,i.lcZ(6,12,n.getBranches(t)))),i.xp6(3),i.Q6J("ngIf","head"!==t.id&&!t.id.startsWith("merge:")),i.xp6(1),i.Q6J("ngIf","head"===t.id),i.xp6(1),i.Q6J("ngIf",t.id.startsWith("merge:"))}}function gt(a,e){if(1&a&&(i.TgZ(0,"div",36),i.ALo(1,"async"),i.ALo(2,"async"),i._uU(3),i.ALo(4,"date"),i.qZA()),2&a){const t=e.ngIf,n=i.oxw();i.ekj("scrolled-to-top",i.lcZ(1,5,n.scrolledToTop))("selected",i.lcZ(2,7,n.topCommitSelected)),i.xp6(3),i.hij(" ",i.xi3(4,9,t,"d MMM yyyy")," ")}}function Nt(a,e){if(1&a&&(i.TgZ(0,"li"),i.ALo(1,"async"),i._uU(2),i.ALo(3,"date"),i.qZA()),2&a){const t=e.$implicit,n=i.oxw();i.Udp("top",t[0]*n.yUnit,"px"),i.ekj("selected",t[1].id===i.lcZ(1,5,n.selectedCommitDetailId)),i.xp6(2),i.Oqu(i.xi3(3,7,t[1].time,"MMM yyyy"))}}function Wt(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2).data,s=i.oxw();return s.checkout(o.commit,o.ref),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"get_app"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const t=i.oxw(2).data;i.Q6J("title","Checkout "+t.ref.typeName+" "+t.ref.fullName),i.xp6(4),i.AsE("Checkout ",t.ref.typeName," ",t.ref.fullName,"")}}function Gt(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){const s=i.CHM(t).$implicit,d=i.oxw(5).data,p=i.oxw();return p.merge(d.ref.shortName,s.commitId,s.name),p.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(6);i.ekj("bold",t.name===i.lcZ(1,4,n.currentBranchName)),i.Q6J("title",t.name),i.xp6(2),i.Oqu(t.name)}}function Nn(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){const s=i.CHM(t).$implicit,d=i.oxw(5).data,p=i.oxw();return p.merge(d.ref.shortName,s.commitId,s.name),p.closeContextMenu()}),i._uU(1),i.qZA()}if(2&a){const t=e.$implicit;i.Q6J("title",t.name),i.xp6(1),i.Oqu(t.name)}}function qn(a,e){if(1&a&&(i.TgZ(0,"div",49),i.YNc(1,Gt,3,6,"button",50),i.YNc(2,Nn,2,2,"button",51),i.ALo(3,"async"),i.qZA()),2&a){const t=i.oxw().ngIf,n=i.oxw(3).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(t,n.commit.id)),i.xp6(1),i.Q6J("ngForOf",o.filterBranches(i.lcZ(3,2,o.remoteBranches),n.commit.id))}}function di(a,e){if(1&a){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",44,45),i.NdJ("click",function(o){i.CHM(t);const s=i.MAs(2),d=i.MAs(9);return i.oxw(4).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",46),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",47),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,qn,4,4,"ng-template",null,48,i.W1O),i.BQk()}if(2&a){const t=i.oxw(3).data;i.xp6(1),i.Q6J("title","Merge into "+t.ref.shortName+" from..."),i.xp6(4),i.hij("Merge into ",t.ref.shortName," from")}}function _t(a,e){if(1&a&&(i.ynx(0),i.YNc(1,di,10,2,"ng-container",38),i.ALo(2,"async"),i.BQk()),2&a){const t=i.oxw(3);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,t.localBranches))}}function Pi(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",55),i.NdJ("click",function(){const s=i.CHM(t).$implicit,d=i.oxw(5).data,p=i.oxw();return p.merge(s.name,d.commit.id,null==d.ref?null:d.ref.fullName),p.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(6);i.ekj("bold",t.name===i.lcZ(1,4,n.currentBranchName)),i.Q6J("title",t.name),i.xp6(2),i.Oqu(t.name)}}function ci(a,e){if(1&a&&(i.TgZ(0,"div",49),i.YNc(1,Pi,3,6,"button",54),i.qZA()),2&a){const t=i.oxw().ngIf,n=i.oxw(3).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(t,n.commit.id))}}function mo(a,e){if(1&a){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",44,52),i.NdJ("click",function(o){i.CHM(t);const s=i.MAs(2),d=i.MAs(9);return i.oxw(4).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",46),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",47),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,ci,2,1,"ng-template",null,53,i.W1O),i.BQk()}if(2&a){const t=i.oxw(3).data;let n,o;i.xp6(1),i.Q6J("title","Merge from "+(null!==(n="tag"!==(null==t.ref?null:t.ref.type)?null==t.ref?null:t.ref.fullName:null)&&void 0!==n?n:"this commit")+" into..."),i.xp6(4),i.hij("Merge from ",null!==(o="tag"!==(null==t.ref?null:t.ref.type)?null==t.ref?null:t.ref.fullName:null)&&void 0!==o?o:"this commit"," into")}}function As(a,e){if(1&a&&(i.ynx(0),i.YNc(1,mo,10,2,"ng-container",38),i.ALo(2,"async"),i.BQk()),2&a){const t=i.oxw(3);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,t.localBranches))}}function ps(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2).data;return i.oxw().pull(o.ref.fullName)}),i.TgZ(1,"mat-icon"),i._uU(2,"arrow_downward"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const t=i.oxw(2).data;i.Q6J("title","Pull from upstream branch "+t.upstreamName),i.xp6(4),i.hij("Pull from ",t.upstreamName,"")}}function $r(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",55),i.NdJ("click",function(){const s=i.CHM(t).$implicit,d=i.oxw(5).data,p=i.oxw();return p.moveBranchToCommit(s.name,d.commit.id),p.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(6);i.ekj("bold",t.name===i.lcZ(1,4,n.currentBranchName)),i.Q6J("title",t.name),i.xp6(2),i.Oqu(t.name)}}function Co(a,e){if(1&a&&(i.TgZ(0,"div",49),i.YNc(1,$r,3,6,"button",54),i.qZA()),2&a){const t=i.oxw().ngIf,n=i.oxw(3).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(t,n.commit.id))}}function no(a,e){if(1&a){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",56,57),i.NdJ("click",function(o){i.CHM(t);const s=i.MAs(2),d=i.MAs(10);return i.oxw(4).openSubMenu(o,s,d)}),i.TgZ(3,"mat-icon"),i._uU(4,"move_up"),i.qZA(),i.TgZ(5,"span"),i._uU(6,"Move branch to this commit"),i.qZA(),i.TgZ(7,"mat-icon",47),i._uU(8,"chevron_right"),i.qZA(),i.qZA(),i.YNc(9,Co,2,1,"ng-template",null,58,i.W1O),i.BQk()}}function Zr(a,e){if(1&a&&(i.ynx(0),i.YNc(1,no,11,0,"ng-container",38),i.ALo(2,"async"),i.BQk()),2&a){const t=i.oxw(3);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,t.localBranches))}}function qa(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",59),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2).data,s=i.oxw();return s.editCommits(o.commit.id),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"create"),i.qZA(),i.TgZ(3,"span"),i._uU(4,"Edit commits from here"),i.qZA(),i.qZA()}}function vr(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){i.CHM(t);const o=i.oxw(2).data,s=i.oxw();return s.deleteBranchOrTag(o.ref),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"delete"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const t=i.oxw(2).data;i.Q6J("title","Delete "+t.ref.typeName+" "+t.ref.fullName),i.xp6(4),i.AsE("Delete ",t.ref.typeName," ",t.ref.fullName,"")}}function ts(a,e){if(1&a){const t=i.EpF();i.ynx(0),i.YNc(1,Wt,5,3,"button",39),i.ALo(2,"async"),i.YNc(3,_t,3,3,"ng-container",38),i.YNc(4,As,3,3,"ng-container",38),i.YNc(5,ps,5,2,"button",39),i.YNc(6,Zr,3,3,"ng-container",38),i.YNc(7,qa,5,0,"button",40),i.TgZ(8,"button",41),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().data,s=i.oxw();return s.revertCommit(o.commit.id),s.closeContextMenu()}),i.TgZ(9,"mat-icon"),i._uU(10,"undo"),i.qZA(),i.TgZ(11,"span"),i._uU(12,"Revert commit"),i.qZA(),i.qZA(),i.TgZ(13,"button",42),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().data,s=i.oxw();return s.createBranch(o.commit.id),s.closeContextMenu()}),i._UZ(14,"mat-icon",43),i.TgZ(15,"span"),i._uU(16,"Create branch"),i.qZA(),i.qZA(),i.TgZ(17,"button",42),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().data,s=i.oxw();return s.createTag(o.commit.id),s.closeContextMenu()}),i.TgZ(18,"mat-icon"),i._uU(19,"label"),i.qZA(),i.TgZ(20,"span"),i._uU(21,"Create tag"),i.qZA(),i.qZA(),i.YNc(22,vr,5,3,"button",39),i.BQk()}if(2&a){const t=i.oxw().data,n=i.oxw();i.xp6(1),i.Q6J("ngIf",t.ref&&"tag"!==t.ref.type&&t.ref.shortName!==i.lcZ(2,7,n.currentBranchName)),i.xp6(2),i.Q6J("ngIf","local"===(null==t.ref?null:t.ref.type)),i.xp6(1),i.Q6J("ngIf","stash"!==(null==t.ref?null:t.ref.type)),i.xp6(1),i.Q6J("ngIf","local"===(null==t.ref?null:t.ref.type)&&t.upstreamName),i.xp6(1),i.Q6J("ngIf","stash"!==(null==t.ref?null:t.ref.type)),i.xp6(1),i.Q6J("ngIf","stash"!==(null==t.ref?null:t.ref.type)),i.xp6(15),i.Q6J("ngIf",t.ref&&"remote"!==t.ref.type)}}function ar(a,e){1&a&&(i.ynx(0),i.TgZ(1,"button",60),i._uU(2," No actions here "),i.qZA(),i.BQk())}function oc(a,e){if(1&a&&(i.TgZ(0,"div",37),i.YNc(1,ts,23,9,"ng-container",38),i.YNc(2,ar,3,0,"ng-container",38),i.qZA()),2&a){const t=e.data;i.xp6(1),i.Q6J("ngIf","head"!==t.commit.id),i.xp6(1),i.Q6J("ngIf","head"===t.commit.id)}}let yl=(()=>{class a extends((0,sn.jB)(sn.Aw)){constructor(t,n,o,s,d,p,R,j,z,ne){super(),this.element=t,this.router=n,this.overlay=o,this.viewContainerRef=s,this.store=d,this.repositoriesApi=p,this.repositoryActionsService=R,this.branchesService=j,this.graphCalculatorService=z,this.graphSharedService=ne,this.changeCommit=new i.vpe,this.commits=[],this.idToCommitDetail={},this.commitTrails=[],this.mergePaths=[],this.commitDetails=new Ue.X([]),this.visibleCommitDetails=new Ue.X([]),this.visibleCommitTrails=new Ue.X([]),this.visibleMergePaths=new Ue.X([]),this.visibleDates=new Ue.X([]),this.topDate=new Ue.X(null),this.scrolledToTop=new Ue.X(!1),this.topCommitSelected=new Ue.X(!1),this.xUnit=Qs.$.xUnit,this.yUnit=Qs.$.yUnit,this.xOffset=Qs.$.xOffset,this.yOffset=Qs.$.yOffset,this.totalColors=15,this.overlayRef=new Ue.X(null),this.subMenuOverlayRef=new Ue.X(null),this.getTrailColorIndex=Se=>Se.colorIndex%this.totalColors,this.getXCoord=Se=>this.xOffset+this.xUnit*Se,this.getYCoord=Se=>this.yOffset+this.yUnit*Se,this.getCommitSummary=Se=>Se.commit.message.split("\n")[0],this.getCommitTime=Se=>new Date(Se.time),this.openContextMenu=(Se,Me,Ge,dt)=>{Se.preventDefault(),Se.stopPropagation(),this.closeContextMenu();const Ft=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:Se.x,y:Se.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.getReferenceDetails(Me,Ge,dt).pipe((0,St.q)(1),(0,Ie.w)(Ot=>"local"===Ot?.type?this.repository.pipe((0,St.q)(1),(0,Ie.w)(qt=>qt?this.repositoriesApi.getUpstreamBranch(qt.path,Ot.fullName):(0,ht.of)(null)),(0,nt.U)(qt=>[Ot,qt?.replace(/^refs\/remotes\//,"")])):(0,ht.of)([Ot,null]))).subscribe(([Ot,qt])=>{this.overlayRef.next(Ft),Ft.attach(new Bi.UE(this.menuTemplate,this.viewContainerRef,{data:{commit:Me,ref:Ot,upstreamName:qt}})),(0,on.T)(Ft.backdropClick(),Ft.outsidePointerEvents(),(0,Sn.R)(Ft.overlayElement,"click")).pipe((0,St.q)(1),(0,xe.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())})},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null)),this.closeSubMenu()},this.openSubMenu=(Se,Me,Ge)=>{Se.preventDefault(),Se.stopPropagation(),this.closeSubMenu();const dt=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(Me).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(dt),dt.attach(new Bi.UE(Ge,this.viewContainerRef)),(0,on.T)(dt.backdropClick(),dt.outsidePointerEvents(),(0,Sn.R)(dt.overlayElement,"click")).pipe((0,St.q)(1),(0,xe.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.getBranches=Se=>this.currentBranch.pipe((0,nt.U)(Me=>this.branchesService.calculateBranches(Se.commit.references,Me))),this.getFirstBranch=Se=>this.getBranches(Se).pipe((0,nt.U)(Me=>Me.length>0?Me[0]:void 0)),this.getReferenceDetails=(Se,Me,Ge)=>("head"===Se.id?(0,ht.of)(void 0):Me?(0,ht.of)(Me):this.getFirstBranch(Se)).pipe((0,nt.U)(dt=>{if(!dt)return;const Ft=Ge??dt.sources[0];let Ot,qt;switch(Ft.type){case"local":Ot=dt.name,qt="branch";break;case"tag":Ot=dt.name,qt="tag";break;case"remote":Ot=`${Ft.name}/${dt.name}`,qt="branch";break;case"stash":Ot="",qt="stash";break;default:throw new Error(`Invalid branch source type: ${Ft.type}`)}return{shortName:dt.name,fullName:Ot,type:Ft.type,typeName:qt}})),this.filterBranches=(Se,Me)=>(Se??[]).filter(Ge=>Ge.commitId!==Me),this.checkout=(Se,Me)=>{if(Me)switch(Me.type){case"local":this.repository.pipe((0,St.q)(1)).subscribe(Ge=>{if(!Ge)throw new Error("Cannot checkout when no repository is selected");this.repositoryActionsService.checkoutBranch(Ge.path,Me.shortName).subscribe()});break;case"remote":this.repository.pipe((0,St.q)(1)).subscribe(Ge=>{if(!Ge)throw new Error("Cannot checkout branch when no repository is selected");Ge.references.filter(Ot=>"local"===Ot.type)?.find(Ot=>Ot.name===`refs/heads/${Me.shortName}`)?this.repositoryActionsService.checkoutBranch(Ge.path,Me.shortName).subscribe():this.repositoryActionsService.createBranchWithDetails(Ge.path,Se.id,Me.shortName,Me.fullName,!0).subscribe()});break;case"tag":this.store.dispatch(new bn.NN("error","Cannot checkout a tag!"));break;case"stash":this.store.dispatch(new bn.NN("info","Checkout stash functionality not yet implemented!"))}else this.store.dispatch(new bn.NN("info","Detach HEAD functionality not yet implemented!"))},this.editCommits=Se=>{this.repository.pipe((0,St.q)(1)).subscribe(Me=>{if(!Me)throw new Error("Cannot edit commits when no repository is selected");this.repositoryActionsService.startEdit(Me.path,Se).pipe((0,Ie.w)(()=>this.router.navigate(["/standard/rebase"]))).subscribe()})},this.revertCommit=Se=>{this.repository.pipe((0,St.q)(1)).subscribe(Me=>{if(!Me)throw new Error("Cannot revert commit when no repository is selected");this.repositoryActionsService.revertCommit(Me.path,Se).subscribe()})},this.createBranch=Se=>{this.repository.pipe((0,St.q)(1)).subscribe(Me=>{if(!Me)throw new Error("Cannot create branch when no repository is selected");this.repositoryActionsService.createBranch(Me.path,Se).subscribe()})},this.createTag=Se=>{this.repository.pipe((0,St.q)(1)).subscribe(Me=>{if(!Me)throw new Error("Cannot create tag when no repository is selected");this.repositoryActionsService.createTag(Me.path,Se).subscribe()})},this.deleteBranchOrTag=Se=>{this.repository.pipe((0,St.q)(1)).subscribe(Me=>{if(!Me)throw new Error("Cannot delete branch when no repository is selected");"local"===Se.type?this.repositoryActionsService.deleteBranch(Me.path,Se.fullName).subscribe():"tag"===Se.type?this.repositoryActionsService.deleteTag(Me.path,Se.fullName).subscribe():this.store.dispatch("stash"===Se.type?new bn.NN("info","Delete stash functionality not yet implemented!"):new bn.NN("error","Cannot delete remote branches"))})},this.merge=(Se,Me,Ge)=>{this.repository.pipe((0,St.q)(1)).subscribe(dt=>{if(!dt)throw new Error("Cannot merge when no repository is selected");this.repositoryActionsService.createMerge(dt.path,Ge??null,Me,Se).subscribe()})},this.pull=Se=>{this.repository.pipe((0,St.q)(1)).subscribe(Me=>{if(!Me)throw new Error("Cannot pull from upstream branch when no repository is selected");const Ge=this.store.selectSnapshot(xi.$.selectedProfileId),dt=Me.profiles.get(Ge)?.remotes,Ft=dt?Object.fromEntries(Object.entries(dt).map(([Ot,{credentialId:qt}])=>[Ot,null===qt?null:this.store.selectSnapshot(xi.$.credentials).get(qt)??null])):{};this.repositoryActionsService.pull(Me.path,Me.selectedRemote,Ft,Se).subscribe()})},this.moveBranchToCommit=(Se,Me)=>{this.repository.pipe((0,St.q)(1)).subscribe(Ge=>{if(!Ge)throw new Error("Cannot update current branch when no repository is selected");this.repositoryActionsService.updateBranch(Ge.path,Se,Me).subscribe()})}}ngOnInit(){this.localBranchReferences=this.repository.pipe((0,nt.U)(o=>o?.references.filter(s=>"local"===s.type)??null)),this.remoteBranchReferences=this.repository.pipe((0,nt.U)(o=>o?.references.filter(s=>"remote"===s.type)??null)),this.currentBranch=this.repository.pipe((0,nt.U)(o=>o?.currentBranch??null)),this.currentBranchCommitId=this.repository.pipe((0,nt.U)(o=>o?.currentBranchCommitId??null)),this.selectedStagedChanges=this.repository.pipe((0,nt.U)(o=>o?.stagedChanges??null)),this.selectedUnstagedChanges=this.repository.pipe((0,nt.U)(o=>o?.unstagedChanges??null)),this.mergeHeads=this.repository.pipe((0,nt.U)(o=>o?.mergeHeads??null)),this.remotes=this.repository.pipe((0,nt.U)(o=>o?.remotes??[])),this.localBranches=(0,rt.aj)([this.localBranchReferences,this.currentBranch]).pipe((0,nt.U)(([o,s])=>{const d=o?.find(p=>p.name===s);return[...d?[d]:[],...qo(o??[],p=>p.name).filter(p=>p.name!==s)]}),(0,nt.U)(o=>o.map(s=>({commitId:s.target,name:s.name.replace(/^refs\/heads\//,"")})))),this.remoteBranches=this.remoteBranchReferences.pipe((0,nt.U)(o=>qo(o??[],s=>s.name)),(0,nt.U)(o=>o.map(s=>({commitId:s.target,name:s.name.replace(/^refs\/remotes\//,"")})))),this.currentBranchName=this.currentBranch.pipe((0,nt.U)(o=>o?.replace(/^refs\/heads\//,"")??null)),this.uncommittedChangesCount=(0,rt.aj)([this.selectedStagedChanges,this.selectedUnstagedChanges]).pipe((0,nt.U)(([o,s])=>(o?.patches?.filter(d=>d.status!==Lo.v.Conflicted).length??0)+(s?.patches.length??0))),this.selectedCommitDetailId=(0,rt.aj)([this.commitId,this.selectedMerge]).pipe((0,nt.U)(([o,s])=>o??(s?`merge:${s?.fromCommitId}:${s?.toCommitId}`:null))),this.selectedCommitDetailId.pipe((0,xe.R)(this.destroyed$)).subscribe(o=>{this.topCommitSelected.next(o===this.commits[0]?.id)}),this.repository.pipe((0,Ps.x)((o,s)=>o?.path===s?.path&&o?.commits===s?.commits&&o?.headCommitId===s?.headCommitId&&(o?.stagedChanges||o?.unstagedChanges)===(s?.stagedChanges||s?.unstagedChanges)&&o?.merges===s?.merges),(0,Yt.b)(o=>{this.calculate(o?.commits??[],o?.headCommitId??null,o?.merges??[])}),(0,es.g)(0),(0,xe.R)(this.destroyed$)).subscribe(o=>{this.viewport.scrollToIndex(o?.scrollIndex??0)});const t=new Ue.X(!1);this.repository.pipe((0,nt.U)(o=>o?.scrollIndex),(0,to.h)(rs.$K),(0,Ps.x)(),(0,xe.R)(this.destroyed$)).subscribe(o=>{if(!t.value){const s=this.viewport.measureScrollOffset("top"),d=s+this.viewport.getViewportSize();this.scrolledToTop.next(s<=0),this.graphCalculatorService.isIndexInBounds(o,s,d)||this.viewport.scrollToIndex(o)}}),(0,Sn.R)(this.graphSvgElement.nativeElement,"wheel",{passive:!0}).pipe((0,xe.R)(this.destroyed$)).subscribe(o=>{this.viewport.scrollTo({top:this.viewport.measureScrollOffset("top")+o.deltaY})}),this.viewport.elementScrolled().pipe((0,Yt.b)(()=>{const o=this.viewport.measureScrollOffset("top"),s=`translateY(-${o}px)`;this.graphWrapperElement.nativeElement.style.transform=s,this.floatingDatesElement.nativeElement.style.transform=s,this.scrolledToTop.next(o<=0)}),(0,Pr.e)(20),(0,xe.R)(this.destroyed$)).subscribe(()=>{this.updateFloatingDates()});const n=new Ss.xQ;n.pipe((0,Ps.x)(),Li(this.repository),(0,xe.R)(this.destroyed$)).subscribe(([o,s])=>{o&&s&&this.store.dispatch(new Rt._o(s.path)).subscribe(()=>{n.next(!1)})}),this.viewport.scrolledIndexChange.pipe(Li(this.repository),(0,Yt.b)(([o,s])=>{this.updateVisibleCommits(),s&&!s.allCommitsLoaded&&o+Ro.W/2>s.commits.length&&n.next(!0)}),(0,or.b)(100),(0,Yt.b)(([o,s])=>{t.next(!0),null!==s&&this.store.dispatch(new Rt.AL(s.path,o))}),(0,es.g)(0),(0,Yt.b)(()=>t.next(!1)),(0,xe.R)(this.destroyed$)).subscribe()}ngAfterViewInit(){this.updateFloatingDates()}graphClicked(t){const n=this.getCommitFromPosition(t.offsetY);n&&this.changeCommit.next(n.id)}graphDblClicked(t){const n=this.getCommitFromPosition(t.offsetY);n&&this.commitDblClicked(this.idToCommitDetail[n.id])}graphContextMenu(t){const n=this.getCommitFromPosition(t.offsetY);n&&this.openContextMenu(t,this.idToCommitDetail[n.id])}commitDblClicked(t){(0,ai.D)([this.repository.pipe((0,St.q)(1)),this.getFirstBranch(t).pipe((0,St.q)(1))]).subscribe(([n,o])=>{n&&o&&this.repositoryActionsService.checkoutBranch(n.path,o.name).subscribe()})}keyPressed(t){t.preventDefault(),(0,rt.aj)([this.repository,this.selectedCommitDetailId]).pipe((0,St.q)(1),(0,xe.R)(this.destroyed$)).subscribe(([n,o])=>{if(!n)return;const s=this.commits.findIndex(p=>p.id===o);if(-1===s)return;let d=null;switch(t.key){case"ArrowUp":if(!t.ctrlKey){s>0&&(d=this.commits[s-1].id);break}case"Home":d=this.commits[0].id;break;case"ArrowDown":if(!t.ctrlKey){s<this.commits.length-1&&(d=this.commits[s+1].id);break}case"End":d=this.commits[this.commits.length-1].id}if(d)if(d.startsWith("merge:")){const p=d.match(/^merge:([^:]+):([^:]+)$/);p&&this.store.dispatch([new Yn.hb(n.path,p[1],p[2]),new Rt.BK(n.path,d)])}else this.store.dispatch([new Rt.jQ(n.path,d),new Rt.BK(n.path,d)])})}drawTrail(t){const n=t.isDashed?{x:0,y:.05}:{x:0,y:0};if(t.commits.length<1)return[`M ${this.getXCoord(t.lane.xIndex+n.x)} ${this.getYCoord(t.minYIndex+n.y)}`,`V ${this.getYCoord(t.maxYIndex-.5)}`,`L ${this.getXCoord(t.lane.xIndex)} ${this.getYCoord(t.maxYIndex)}`].join(" ");const o=t.commits[0],s=t.commits[t.commits.length-1],d=s.commit.parentIds.length>0?this.idToCommitDetail[s.commit.parentIds[0]]??s:s;return d||console.error(`Could not find parent ${s.commit.parentIds[0]}`,t),o.id===s.id&&s.id===d.id?"":[`M ${this.getXCoord(o.trail.lane.xIndex+n.x)} ${this.getYCoord(t.minYIndex+n.y)}`,`V ${this.getYCoord(t.maxYIndex-.5)}`,`L ${this.getXCoord(d.trail.lane.xIndex)} ${this.getYCoord(t.maxYIndex)}`].join(" ")}trackCommitDetail(t,n){return n.id}trackCommitTrail(t,n){return n.trailIndex}trackMergePath(t,n){return`${n.from.id}|${n.to.map(o=>o.id).join(";")}`}trackFloatingDate(t,n){return`${n[0]}:${n[1].id}`}updateFloatingDates(){if(this.selectedCommitDetailId.pipe((0,St.q)(1)).subscribe(z=>{this.topCommitSelected.next(z===this.commits[0]?.id)}),this.commits.length<=1)return this.visibleDates.next([]),this.topDate.next(null),void this.scrolledToTop.next(!0);const n=Math.ceil(this.element.nativeElement.clientHeight/this.yUnit),o=this.viewport.measureScrollOffset("top");let s=Math.floor(Math.max(0,o/this.yUnit));const d=Math.min(this.commits.length-1,s+n);for(;"head"===this.commits[s].id||this.commits[s].id.startsWith("merge:");)s++;const p=this.commits[s].time,R=[];let j=new Date(p);for(let z=s;z<d;z++){const ne=new Date(this.commits[z].time);(ne.getMonth()!==j.getMonth()||ne.getFullYear()!==j.getFullYear())&&(j=ne,R.push([z,this.commits[z]]))}this.visibleDates.next(R),this.topDate.next(p),this.scrolledToTop.next(o<=0)}updateVisibleCommits(){const o=Math.ceil((600+this.element.nativeElement.clientHeight)/this.yUnit),s=this.viewport.measureScrollOffset("top"),d=Math.floor(Math.max(0,(s-300)/this.yUnit)),p=this.graphCalculatorService.calculateVisible(this.commitDetails.value,this.commitTrails,this.mergePaths,d,d+o);this.visibleCommitDetails.next(p.commitDetails),this.visibleCommitTrails.next(p.commitTrails),this.visibleMergePaths.next(p.mergePaths),this.updateFloatingDates()}calculate(t,n,o){(0,rt.aj)([this.selectedStagedChanges,this.selectedUnstagedChanges,this.mergeHeads]).pipe((0,St.q)(1),(0,xe.R)(this.destroyed$)).subscribe(([s,d,p])=>{const j=this.graphCalculatorService.calculate(s?.patches?.length||d?.patches?.length||!t.length?{parentId:n,mergeHeads:p??[]}:null,o,t,this.getXCoord,this.getYCoord,this.totalColors);this.idToCommitDetail=j.commitDetails,this.commitTrails=j.commitTrails,this.mergePaths=j.mergePaths,this.commits=j.orderedCommits,this.commitDetails.next(this.commits.map(z=>j.commitDetails[z.id])),this.graphSharedService.setColors((0,rs.Tj)(j.commitDetails,(z,ne)=>this.getTrailColorIndex(ne.trail))),this.graphSharedService.setCommits(this.idToCommitDetail),this.updateVisibleCommits()})}getCommitFromPosition(t){const n=this.viewport.measureScrollOffset("top"),o=Math.floor((n+t)/this.yUnit);return this.commits[o]}}return a.\u0275fac=function(t){return new(t||a)(i.Y36(i.SBq),i.Y36(Ae.F0),i.Y36(Ve.aV),i.Y36(i.s_b),i.Y36(Te.yh),i.Y36(At.aM),i.Y36(ei),i.Y36(sr.p),i.Y36(Qs.$),i.Y36(wn))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-graph-view"]],viewQuery:function(t,n){if(1&t&&(i.Gf(go.N7,7),i.Gf(wl,7),i.Gf(yt,7),i.Gf(A,5),i.Gf(h,5)),2&t){let o;i.iGM(o=i.CRH())&&(n.viewport=o.first),i.iGM(o=i.CRH())&&(n.graphSvgElement=o.first),i.iGM(o=i.CRH())&&(n.graphWrapperElement=o.first),i.iGM(o=i.CRH())&&(n.floatingDatesElement=o.first),i.iGM(o=i.CRH())&&(n.menuTemplate=o.first)}},inputs:{repository:"repository",commitId:"commitId",selectedMerge:"selectedMerge",branchOrder:"branchOrder"},outputs:{changeCommit:"changeCommit"},features:[i.qOj],decls:27,vars:25,consts:[["id","graph-view","tabindex","0",3,"keydown"],[1,"graph",3,"click","dblclick","contextmenu"],["graphSvg",""],[1,"wrapper"],["graphWrapper",""],["class","selected-background","x","0","width","100%",4,"ngIf"],["class","merge-path",4,"ngFor","ngForOf","ngForTrackBy"],["class","commit-path",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"selected","click","dblclick","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"floating-dates"],["class","top-date",3,"scrolled-to-top","selected",4,"ngIf"],["floatingDates",""],[3,"selected","top",4,"ngFor","ngForOf","ngForTrackBy"],["contextMenu",""],["x","0","width","100%",1,"selected-background"],[1,"merge-path"],[3,"ngClass"],[1,"commit-path"],["r","5",1,"commit-circle",3,"ngClass"],[3,"click","dblclick","contextmenu"],[3,"title","remotes","email",4,"ngIf"],["class","uncommitted-icon","title","These changes have not yet been committed to the repository",4,"ngIf"],["class","branches",4,"ngIf"],["class","summary",4,"ngIf"],["class","summary dimmed",4,"ngIf"],["class","summary summary-merge dimmed",4,"ngIf"],[3,"title","remotes","email"],["title","These changes have not yet been committed to the repository",1,"uncommitted-icon"],[1,"branches"],[3,"branches","color","contextMenu"],[1,"summary"],[1,"summary","dimmed"],[1,"summary","summary-merge","dimmed"],[1,"top-date"],[1,"menu-panel"],[4,"ngIf"],["class","menu-item",3,"title","click",4,"ngIf"],["class","menu-item","title","Rewrite the commit history from this point onwards",3,"click",4,"ngIf"],["title","Create a new commit reverting the changes in this one",1,"menu-item",3,"click"],[1,"menu-item",3,"click"],["svgIcon","source-branch"],[1,"menu-item",3,"title","click"],["mergeToButton",""],["svgIcon","source-merge"],[1,"expand-icon"],["mergeTo",""],[1,"menu-panel","sub-menu-1"],["class","menu-item",3,"bold","title","click",4,"ngFor","ngForOf"],["class","menu-item",3,"title","click",4,"ngFor","ngForOf"],["mergeFromButton",""],["mergeFrom",""],["mat-menu-item","","class","menu-item",3,"bold","title","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"menu-item",3,"title","click"],["title","Move branch to this commit...",1,"menu-item",3,"click"],["moveBranchButton",""],["moveBranch",""],["title","Rewrite the commit history from this point onwards",1,"menu-item",3,"click"],[1,"menu-item"]],template:function(t,n){1&t&&(i.TgZ(0,"app-grid",0),i.NdJ("keydown",function(s){return n.keyPressed(s)}),i.TgZ(1,"app-grid-cell"),i.O4$(),i.TgZ(2,"svg",1,2),i.NdJ("click",function(s){return n.graphClicked(s)})("dblclick",function(s){return n.graphDblClicked(s)})("contextmenu",function(s){return n.graphContextMenu(s)}),i.TgZ(4,"g",3,4),i.YNc(6,S,1,2,"rect",5),i.ALo(7,"async"),i.YNc(8,W,2,4,"g",6),i.ALo(9,"async"),i.YNc(10,te,2,4,"g",7),i.ALo(11,"async"),i.YNc(12,ae,2,5,"g",8),i.ALo(13,"async"),i.qZA(),i.qZA(),i.qZA(),i.kcU(),i.TgZ(14,"app-grid-cell"),i.TgZ(15,"cdk-virtual-scroll-viewport",9),i.TgZ(16,"ul",10),i.YNc(17,ft,10,14,"li",11),i.qZA(),i.qZA(),i.TgZ(18,"div",12),i.YNc(19,gt,5,12,"div",13),i.ALo(20,"async"),i.TgZ(21,"ul",null,14),i.YNc(23,Nt,4,10,"li",15),i.ALo(24,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(25,oc,3,2,"ng-template",null,16,i.W1O)),2&t&&(i.xp6(6),i.Q6J("ngIf",n.idToCommitDetail[i.lcZ(7,13,n.selectedCommitDetailId)||""]),i.xp6(2),i.Q6J("ngForOf",i.lcZ(9,15,n.visibleMergePaths))("ngForTrackBy",n.trackMergePath),i.xp6(2),i.Q6J("ngForOf",i.lcZ(11,17,n.visibleCommitTrails))("ngForTrackBy",n.trackCommitTrail),i.xp6(2),i.Q6J("ngForOf",i.lcZ(13,19,n.visibleCommitDetails))("ngForTrackBy",n.trackCommitDetail),i.xp6(3),i.Q6J("itemSize",n.yUnit),i.xp6(2),i.Q6J("cdkVirtualForOf",n.commitDetails)("cdkVirtualForTrackBy",n.trackCommitDetail),i.xp6(2),i.Q6J("ngIf",i.lcZ(20,21,n.topDate)),i.xp6(4),i.Q6J("ngForOf",i.lcZ(24,23,n.visibleDates))("ngForTrackBy",n.trackFloatingDate))},directives:[To.M,ys.Y,rn.O5,rn.sg,go.N7,go.xd,go.x0,rn.mk,Or.A,vn.Hw,fs,b.OP],pipes:[rn.Ov,En.x,zn.r,rn.uU],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%}app-grid[_ngcontent-%COMP%]{outline:none}.graph[_ngcontent-%COMP%]{display:block;width:100%;height:100%;cursor:pointer}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:10}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:20}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .commit-circle[_ngcontent-%COMP%]{stroke:#000;stroke-width:1.5;z-index:30}.graph[_ngcontent-%COMP%]   .commit-circle.color-0[_ngcontent-%COMP%]{fill:#4363d8}.graph[_ngcontent-%COMP%]   .commit-circle.color-1[_ngcontent-%COMP%]{fill:#469990}.graph[_ngcontent-%COMP%]   .commit-circle.color-2[_ngcontent-%COMP%]{fill:#fabed4}.graph[_ngcontent-%COMP%]   .commit-circle.color-3[_ngcontent-%COMP%]{fill:#e6194b}.graph[_ngcontent-%COMP%]   .commit-circle.color-4[_ngcontent-%COMP%]{fill:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-circle.color-5[_ngcontent-%COMP%]{fill:#f58231}.graph[_ngcontent-%COMP%]   .commit-circle.color-6[_ngcontent-%COMP%]{fill:#ffe119}.graph[_ngcontent-%COMP%]   .commit-circle.color-7[_ngcontent-%COMP%]{fill:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-circle.color-8[_ngcontent-%COMP%]{fill:#f032e6}.graph[_ngcontent-%COMP%]   .commit-circle.color-9[_ngcontent-%COMP%]{fill:#fff}.graph[_ngcontent-%COMP%]   .commit-circle.color-10[_ngcontent-%COMP%]{fill:maroon}.graph[_ngcontent-%COMP%]   .commit-circle.color-11[_ngcontent-%COMP%]{fill:#9a6324}.graph[_ngcontent-%COMP%]   .commit-circle.color-12[_ngcontent-%COMP%]{fill:#fffac8}.graph[_ngcontent-%COMP%]   .commit-circle.color-13[_ngcontent-%COMP%]{fill:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-circle.color-14[_ngcontent-%COMP%]{fill:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-circle.dashed[_ngcontent-%COMP%]{fill:none;stroke:#ffffff80}.graph[_ngcontent-%COMP%]   .selected-background[_ngcontent-%COMP%]{fill:#424242}.viewport[_ngcontent-%COMP%]{height:100%}.messages-viewport[_ngcontent-%COMP%]  .cdk-virtual-scroll-content-wrapper{contain:layout}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:26px;line-height:26px;padding-left:5px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{display:inline-block;height:26px;vertical-align:middle;font-size:16px;margin-right:10px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:16px;vertical-align:middle}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary.dimmed[_ngcontent-%COMP%]{color:#ffffff80}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .uncommitted-icon[_ngcontent-%COMP%]{margin-right:5px;color:#ffffff80}@property --bgColor{syntax: "<color>"; initial-value: transparent; inherits: false;}.floating-dates[_ngcontent-%COMP%]{position:absolute;top:0;right:17px;font-size:16px;pointer-events:none;overflow:hidden;height:100%;width:50%}.floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;right:0;padding-left:30px;padding-right:10px;height:26px;line-height:26px;color:#607d8b;background:linear-gradient(to right,transparent,var(--bgColor) 25px,var(--bgColor));--bgColor: #1e1e1e}.floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%]{z-index:200}.floating-dates[_ngcontent-%COMP%]   .top-date.selected[_ngcontent-%COMP%]:not(.scrolled-to-top){transition:--bgColor .3s ease-in-out}.floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}'],changeDetection:0}),a})(),as=(()=>{class a extends Error{constructor(t,n,o){super(`The submodule '${n}' in repository '${t}' is already cloned.`),this.repositoryPath=t,this.submoduleName=n,this.submodulePath=o,this.type=a.Type}}return a.Type="SubmoduleAlreadyCloned",a.matches=e=>e.type===a.Type,a})();var Xn=m(85692);const ca=["branchContextMenu"],Ar=["addSubmoduleDialog"],Rs=["editSubmoduleDialog"],pu=["removeSubmoduleDialog"],Qr=["addSubmoduleDialogFormField1","addSubmoduleDialogFormField2"],sc=["editSubmoduleDialogFormField1"];function da(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",12),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw().jumpToCommit(s.commitId)})("dblclick",function(){const s=i.CHM(t).$implicit;return i.oxw().checkoutBranch(s.name)})("contextmenu",function(o){const d=i.CHM(t).$implicit;return i.oxw().openContextMenu(o,"local",d.name,d.commitId,d.upstreamName)}),i.ALo(1,"async"),i.TgZ(2,"span",13),i._uU(3),i.qZA(),i.TgZ(4,"button",14),i.NdJ("click",function(o){const d=i.CHM(t).$implicit;return i.oxw().toggleRefVisibility(o,d.refName)}),i.TgZ(5,"mat-icon"),i._uU(6),i.qZA(),i.qZA(),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw();i.ekj("selected",t.name===i.lcZ(1,8,n.currentBranch)),i.Q6J("title",t.refName),i.xp6(3),i.Oqu(t.name),i.xp6(1),i.ekj("show",null!==t.invisible),i.Q6J("title",n.visibilityTitle(t.invisible)),i.xp6(2),i.Oqu(t.invisible?"visibility_off":"visibility")}}function el(a,e){1&a&&(i.TgZ(0,"mat-icon",17),i._uU(1,"visibility_off"),i.qZA())}function rc(a,e){1&a&&(i.TgZ(0,"mat-icon"),i._uU(1,"visibility_off"),i.qZA())}function ua(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",12),i.NdJ("click",function(o){const d=i.CHM(t).$implicit;return i.oxw(4).jumpToCommit(d.commitId),o.stopPropagation()})("dblclick",function(){const s=i.CHM(t).$implicit,d=i.oxw(2).$implicit;return i.oxw(2).checkoutRemoteBranch(d.key,s.commitId,s.name)})("contextmenu",function(o){const d=i.CHM(t).$implicit,p=i.oxw(2).$implicit;return i.oxw(2).openContextMenu(o,"remote",p.key+"/"+d.name,d.commitId,null,p.key)}),i.TgZ(1,"span",13),i._uU(2),i.qZA(),i.TgZ(3,"button",14),i.NdJ("click",function(o){const d=i.CHM(t).$implicit;return i.oxw(4).toggleRefVisibility(o,d.refName)}),i.TgZ(4,"mat-icon"),i._uU(5),i.qZA(),i.qZA(),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(4);i.Q6J("title",t.refName),i.xp6(2),i.Oqu(t.name),i.xp6(1),i.ekj("show",null!==t.invisible),i.Q6J("title",n.visibilityTitle(t.invisible)),i.xp6(2),i.Oqu(t.invisible?"visibility_off":"visibility")}}function Ma(a,e){if(1&a&&(i.TgZ(0,"ul",22),i.YNc(1,ua,6,6,"li",23),i.qZA()),2&a){const t=i.oxw().$implicit,n=i.oxw(2);i.Q6J("@slide",void 0),i.xp6(1),i.Q6J("ngForOf",t.value.branches)("ngForTrackBy",n.branchTrackBy)}}function ac(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",18),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(2).expandRemote(s.key,!s.value.isExpanded)}),i.TgZ(1,"div",19),i.TgZ(2,"span",13),i._uU(3),i.qZA(),i.TgZ(4,"div",20),i.YNc(5,rc,2,0,"mat-icon",4),i.TgZ(6,"mat-icon"),i._uU(7),i.qZA(),i.qZA(),i.qZA(),i.YNc(8,Ma,2,3,"ul",21),i.qZA()}if(2&a){const t=e.$implicit;i.Q6J("title",t.key),i.xp6(3),i.Oqu(t.key),i.xp6(2),i.Q6J("ngIf",t.value.invisible),i.xp6(2),i.Oqu(t.value.isExpanded?"expand_less":"expand_more"),i.xp6(1),i.Q6J("ngIf",t.value.isExpanded)}}function od(a,e){if(1&a&&(i.TgZ(0,"mat-expansion-panel"),i.TgZ(1,"mat-expansion-panel-header"),i.TgZ(2,"mat-panel-title"),i.TgZ(3,"mat-icon",2),i._uU(4,"cloud_queue"),i.qZA(),i._uU(5," Remote "),i.YNc(6,el,2,0,"mat-icon",15),i.qZA(),i.qZA(),i.TgZ(7,"ul"),i.YNc(8,ac,9,5,"li",16),i.qZA(),i.qZA()),2&a){const t=e.ngIf,n=i.oxw();i.xp6(6),i.Q6J("ngIf",n.remotesInvisible(t)),i.xp6(2),i.Q6J("ngForOf",t)("ngForTrackBy",n.remoteTrackBy)}}function lc(a,e){1&a&&(i.TgZ(0,"mat-icon",17),i._uU(1,"visibility_off"),i.qZA())}function Sl(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",25),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(2).jumpToCommit(s.commitId)})("contextmenu",function(o){const d=i.CHM(t).$implicit;return i.oxw(2).openContextMenu(o,"tag",d.name,d.commitId)}),i.TgZ(1,"span",13),i._uU(2),i.qZA(),i.TgZ(3,"button",14),i.NdJ("click",function(o){const d=i.CHM(t).$implicit;return i.oxw(2).toggleRefVisibility(o,d.refName)}),i.TgZ(4,"mat-icon"),i._uU(5),i.qZA(),i.qZA(),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(2);i.Q6J("title",t.refName),i.xp6(2),i.Oqu(t.name),i.xp6(1),i.ekj("show",null!==t.invisible),i.Q6J("title",n.visibilityTitle(t.invisible)),i.xp6(2),i.Oqu(t.invisible?"visibility_off":"visibility")}}function cc(a,e){if(1&a&&(i.TgZ(0,"mat-expansion-panel"),i.TgZ(1,"mat-expansion-panel-header"),i.TgZ(2,"mat-panel-title"),i.TgZ(3,"mat-icon",2),i._uU(4,"label"),i.qZA(),i._uU(5," Tag "),i.YNc(6,lc,2,0,"mat-icon",15),i.qZA(),i.qZA(),i.TgZ(7,"ul"),i.YNc(8,Sl,6,6,"li",24),i.qZA(),i.qZA()),2&a){const t=e.ngIf,n=i.oxw();i.xp6(6),i.Q6J("ngIf",n.tagsInvisible(t)),i.xp6(2),i.Q6J("ngForOf",t)("ngForTrackBy",n.branchTrackBy)}}function xl(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().data,s=i.oxw();return s.checkoutBranch(o.name),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"get_app"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const t=i.oxw().data;i.Q6J("title","Checkout branch "+t.name),i.xp6(4),i.hij("Checkout branch ",t.name,"")}}function Po(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().data,s=i.oxw();return s.checkoutRemoteBranch(o.remoteName,o.commitId,s.removeRemoteFromName(o.name)),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"get_app"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const t=i.oxw().data,n=i.oxw();i.Q6J("title","Checkout branch "+n.removeRemoteFromName(t.name)),i.xp6(4),i.hij("Checkout branch ",n.removeRemoteFromName(t.name),"")}}function Ll(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().data,s=i.oxw();return s.checkoutRemoteBranch(o.remoteName,o.commitId,s.removeRemoteFromName(o.name)),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"arrow_downward"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const t=i.oxw().data;i.Q6J("title","Create local branch from "+t.name),i.xp6(4),i.hij("Create local branch from ",t.name,"")}}function Ls(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){const s=i.CHM(t).$implicit,d=i.oxw(4).data,p=i.oxw();return p.merge(d.name,s.commitId,s.name),p.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(5);i.ekj("bold",t.name===i.lcZ(1,4,n.currentBranch)),i.Q6J("title",t.name),i.xp6(2),i.Oqu(t.name)}}function Rr(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){const s=i.CHM(t).$implicit,d=i.oxw(4).data,p=i.oxw();return p.merge(d.name,s.commitId,s.name),p.closeContextMenu()}),i._uU(1),i.qZA()}if(2&a){const t=e.$implicit;i.Q6J("title",t.name),i.xp6(1),i.Oqu(t.name)}}function dc(a,e){if(1&a&&(i.TgZ(0,"div",34),i.YNc(1,Ls,3,6,"button",35),i.YNc(2,Rr,2,2,"button",36),i.ALo(3,"async"),i.qZA()),2&a){const t=i.oxw().ngIf,n=i.oxw(2).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(t,n.commitId)),i.xp6(1),i.Q6J("ngForOf",o.filterBranches(i.lcZ(3,2,o.remoteBranches),n.commitId))}}function cr(a,e){if(1&a){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",29,30),i.NdJ("click",function(o){i.CHM(t);const s=i.MAs(2),d=i.MAs(9);return i.oxw(3).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",31),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",32),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,dc,4,4,"ng-template",null,33,i.W1O),i.BQk()}if(2&a){const t=i.oxw(2).data;i.xp6(1),i.Q6J("title","Merge into "+t.name+" from..."),i.xp6(4),i.hij("Merge into ",t.name," from")}}function Ys(a,e){if(1&a&&(i.ynx(0),i.YNc(1,cr,10,2,"ng-container",4),i.ALo(2,"async"),i.BQk()),2&a){const t=i.oxw(2);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,t.local))}}function Na(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){const s=i.CHM(t).$implicit,d=i.oxw(3).data,p=i.oxw();return p.merge(s.name,d.commitId,d.name),p.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(4);i.ekj("bold",t.name===i.lcZ(1,4,n.currentBranch)),i.Q6J("title",t.name),i.xp6(2),i.Oqu(t.name)}}function _u(a,e){if(1&a&&(i.TgZ(0,"div",34),i.YNc(1,Na,3,6,"button",35),i.qZA()),2&a){const t=i.oxw().ngIf,n=i.oxw().data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(t,n.commitId))}}function Dl(a,e){if(1&a){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",29,37),i.NdJ("click",function(o){i.CHM(t);const s=i.MAs(2),d=i.MAs(9);return i.oxw(2).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",31),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",32),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,_u,2,1,"ng-template",null,38,i.W1O),i.BQk()}if(2&a){const t=i.oxw().data;let n,o;i.xp6(1),i.Q6J("title","Merge from "+(null!==(n="tag"!==t.type?t.name:null)&&void 0!==n?n:"this commit")+" into..."),i.xp6(4),i.hij("Merge from ",null!==(o="tag"!==t.type?t.name:null)&&void 0!==o?o:"this commit"," into")}}function Cu(a,e){if(1&a&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&a){const t=i.oxw(2).data,n=i.oxw();i.xp6(1),i.hij("Pull from ",n.formatUpstreamName(t.upstreamName),"")}}function Fr(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().data;return i.oxw().pull(o.name)}),i.TgZ(1,"mat-icon"),i._uU(2,"arrow_downward"),i.qZA(),i.YNc(3,Cu,2,1,"span",4),i.qZA()}if(2&a){const t=i.oxw().data,n=i.oxw();i.Q6J("title","Pull from upstream branch "+n.formatUpstreamName(t.upstreamName)),i.xp6(3),i.Q6J("ngIf",t.upstreamName)}}function tl(a,e){if(1&a&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&a){const t=i.oxw(2).data,n=i.oxw();i.xp6(1),i.hij("Change upstream branch from ",n.formatUpstreamName(t.upstreamName)," to")}}function bu(a,e){1&a&&(i.TgZ(0,"span"),i._uU(1,"Set upstream branch to"),i.qZA())}function sd(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29,39),i.NdJ("click",function(o){i.CHM(t);const s=i.MAs(1);i.oxw();const d=i.MAs(11);return i.oxw().openSubMenu(o,s,d)}),i.TgZ(2,"mat-icon"),i._uU(3,"keyboard_double_arrow_up"),i.qZA(),i.YNc(4,tl,2,1,"span",4),i.YNc(5,bu,2,0,"span",4),i.TgZ(6,"mat-icon",32),i._uU(7,"chevron_right"),i.qZA(),i.qZA()}if(2&a){const t=i.oxw().data,n=i.oxw();i.Q6J("title",t.upstreamName?"Change upstream branch from "+n.formatUpstreamName(t.upstreamName)+" to":"Set upstream branch to"),i.xp6(4),i.Q6J("ngIf",t.upstreamName),i.xp6(1),i.Q6J("ngIf",!t.upstreamName)}}function Br(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){const s=i.CHM(t).$implicit,d=i.oxw(2).data,p=i.oxw();return p.setUpstreamBranch(d.name,s.name),p.closeContextMenu()}),i._uU(1),i.qZA()}if(2&a){const t=e.$implicit;i.Q6J("title",t.name),i.xp6(1),i.Oqu(t.name)}}function wr(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"div",34),i.TgZ(1,"button",40),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().data,s=i.oxw();return s.setUpstreamBranch(o.name,null),s.closeContextMenu()}),i._uU(2,"None"),i.qZA(),i.YNc(3,Br,2,2,"button",36),i.ALo(4,"async"),i.qZA()}if(2&a){const t=i.oxw(2);i.xp6(3),i.Q6J("ngForOf",i.lcZ(4,1,t.remoteBranches))}}function gi(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().data,s=i.oxw();return s.renameBranch(o.name,o.type),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"edit"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const t=i.oxw().data;i.Q6J("title","Rename "+t.typeName+" "+t.name),i.xp6(4),i.AsE("Rename ",t.typeName," ",t.name,"")}}function ns(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().data,s=i.oxw();return s.deleteBranchOrTag(o.name,o.type),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"delete"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const t=i.oxw().data;i.Q6J("title","Delete "+t.typeName+" "+t.name),i.xp6(4),i.AsE("Delete ",t.typeName," ",t.name,"")}}function us(a,e){if(1&a&&(i.TgZ(0,"div",26),i.YNc(1,xl,5,2,"button",27),i.ALo(2,"async"),i.YNc(3,Po,5,2,"button",27),i.YNc(4,Ll,5,2,"button",27),i.YNc(5,Ys,3,3,"ng-container",4),i.YNc(6,Dl,10,2,"ng-container",4),i.ALo(7,"async"),i.YNc(8,Fr,4,2,"button",27),i.YNc(9,sd,8,3,"button",27),i.YNc(10,wr,5,3,"ng-template",null,28,i.W1O),i.YNc(12,gi,5,3,"button",27),i.YNc(13,ns,5,3,"button",27),i.qZA()),2&a){const t=e.data,n=i.oxw();i.xp6(1),i.Q6J("ngIf","local"===t.type&&t.name!==i.lcZ(2,9,n.currentBranch)),i.xp6(2),i.Q6J("ngIf","remote"===t.type&&n.localBranchExists(n.removeRemoteFromName(t.name))),i.xp6(1),i.Q6J("ngIf","remote"===t.type&&!n.localBranchExists(n.removeRemoteFromName(t.name))),i.xp6(1),i.Q6J("ngIf","local"===t.type),i.xp6(1),i.Q6J("ngIf",i.lcZ(7,11,n.local)),i.xp6(2),i.Q6J("ngIf","local"===t.type&&t.upstreamName),i.xp6(1),i.Q6J("ngIf","local"===t.type),i.xp6(3),i.Q6J("ngIf","local"===t.type),i.xp6(1),i.Q6J("ngIf","remote"!==t.type)}}function Ds(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",42),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(2).openSubmodule(s)}),i.TgZ(1,"span",13),i._uU(2),i.qZA(),i.qZA()}if(2&a){const t=e.$implicit;i.oxw(2);const n=i.MAs(33);i.Q6J("title",t)("appContextMenu",n)("appContextMenuData",t),i.xp6(2),i.Oqu(t)}}function Zo(a,e){if(1&a&&(i.TgZ(0,"ul"),i.YNc(1,Ds,3,4,"li",41),i.qZA()),2&a){const t=e.ngIf;i.xp6(1),i.Q6J("ngForOf",t)}}function Es(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"div",26),i.TgZ(1,"button",29),i.NdJ("click",function(){const s=i.CHM(t).data;return i.oxw().editSubmodule(s)}),i.TgZ(2,"mat-icon"),i._uU(3,"edit"),i.qZA(),i.TgZ(4,"span"),i._uU(5,"Edit"),i.qZA(),i.qZA(),i.TgZ(6,"button",29),i.NdJ("click",function(){const s=i.CHM(t).data;return i.oxw().deleteSubmodule(s)}),i.TgZ(7,"mat-icon"),i._uU(8,"delete"),i.qZA(),i.TgZ(9,"span"),i._uU(10,"Delete"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const t=e.data;i.xp6(1),i.Q6J("title",t.name),i.xp6(5),i.Q6J("title",t.name)}}function uc(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"h2",43),i._uU(1,"Add Submodule"),i.qZA(),i.TgZ(2,"form",44),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"div"),i.TgZ(5,"mat-form-field",45,46),i.TgZ(7,"mat-icon",47),i._uU(8,"public"),i.qZA(),i.TgZ(9,"mat-label"),i._uU(10,"URL"),i.qZA(),i._UZ(11,"input",48),i.qZA(),i.TgZ(12,"mat-form-field",49,50),i.TgZ(14,"mat-label"),i._uU(15,"Path to clone to"),i.qZA(),i.TgZ(16,"mat-icon",47),i._uU(17,"folder"),i.qZA(),i._UZ(18,"input",51),i.TgZ(19,"button",52),i.NdJ("click",function(){return i.CHM(t),i.oxw().browsePath()}),i._uU(20,"Browse"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(21,"mat-dialog-actions"),i.TgZ(22,"button",53),i._uU(23,"Cancel"),i.qZA(),i.TgZ(24,"button",54),i._uU(25,"Add"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const t=i.oxw();i.xp6(2),i.Q6J("formGroup",t.addSubmoduleForm.ng),i.xp6(20),i.Q6J("mat-dialog-close",null),i.xp6(2),i.Q6J("mat-dialog-close",t.addSubmoduleForm.value)("disabled",t.addSubmoduleForm.invalid)}}function Ia(a,e){if(1&a&&(i.TgZ(0,"h2",43),i._uU(1),i.qZA(),i.TgZ(2,"form",55),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"div"),i.TgZ(5,"mat-form-field",45,56),i.TgZ(7,"mat-icon",47),i._uU(8,"public"),i.qZA(),i.TgZ(9,"mat-label"),i._uU(10,"URL"),i.qZA(),i._UZ(11,"input",48),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"mat-dialog-actions"),i.TgZ(13,"button",53),i._uU(14,"Cancel"),i.qZA(),i.TgZ(15,"button",57),i._uU(16,"Confirm"),i.qZA(),i.qZA(),i.qZA()),2&a){const t=e.$implicit,n=i.oxw();i.xp6(1),i.hij("Edit Submodule ",t.name,""),i.xp6(1),i.Q6J("formGroup",n.editSubmoduleForm.ng),i.xp6(11),i.Q6J("mat-dialog-close",null),i.xp6(2),i.Q6J("mat-dialog-close",n.editSubmoduleForm.value)}}function Oi(a,e){if(1&a&&(i.TgZ(0,"h2",43),i._uU(1,"Remove Submodule"),i.qZA(),i.TgZ(2,"mat-dialog-content"),i._uU(3),i.qZA(),i.TgZ(4,"mat-dialog-actions"),i.TgZ(5,"button",53),i._uU(6,"Cancel"),i.qZA(),i.TgZ(7,"button",58),i._uU(8,"Confirm"),i.qZA(),i.qZA()),2&a){const t=e.$implicit;i.xp6(3),i.hij(" Submodule ",t.name," has uncommitted changes, are you sure you want to remove it? "),i.xp6(2),i.Q6J("mat-dialog-close",null),i.xp6(2),i.Q6J("mat-dialog-close",!0)}}class $i extends((0,sn.jB)(sn.Aw)){constructor(e,t,n,o,s,d,p){super(),this.overlay=e,this.viewContainerRef=t,this.dialog=n,this.store=o,this.filesApi=s,this.submodulesApi=d,this.repositoryActionsService=p,this.currentBranch=this.store.select(Mt.E.selectedRepositoryCurrentBranch).pipe((0,nt.U)(R=>R?.replace(/^refs\/heads\//,""))),this.hasSubmodules=this.selectedRepositorySubmodules.pipe((0,nt.U)(R=>R.length>0)),this.addSubmoduleForm=new He.CN({path:new He.rV,url:new He.rV}),this.editSubmoduleForm=new He.CN({url:new He.rV}),this.addSubmoduleDialogRef=null,this.editSubmoduleDialogRef=null,this.overlayRef=new Ue.X(null),this.subMenuOverlayRef=new Ue.X(null),this.openContextMenu=(R,j,z,ne,Se=null,Me=null)=>{R.preventDefault(),R.stopPropagation(),this.closeContextMenu();const Ge=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:R.x,y:R.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});let dt;switch(j){case"local":case"remote":dt="branch";break;case"tag":dt="tag";break;default:throw new Error(`Invalid branch type: ${j}`)}this.overlayRef.next(Ge),Ge.attach(new Bi.UE(this.branchMenuTemplate,this.viewContainerRef,{data:{type:j,typeName:dt,name:z,commitId:ne,upstreamName:Se,remoteName:Me}})),(0,on.T)(Ge.backdropClick(),Ge.outsidePointerEvents(),(0,Sn.R)(Ge.overlayElement,"click")).pipe((0,St.q)(1),(0,xe.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null)),this.closeSubMenu()},this.openSubMenu=(R,j,z)=>{R.preventDefault(),R.stopPropagation(),this.closeSubMenu();const ne=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(j).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(ne),ne.attach(new Bi.UE(z,this.viewContainerRef)),(0,on.T)(ne.backdropClick(),ne.outsidePointerEvents(),(0,Sn.R)(ne.overlayElement,"click")).pipe((0,St.q)(1),(0,xe.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.filterBranches=(R,j)=>(R??[]).filter(z=>z.commitId!==j),this.merge=(R,j,z)=>{const ne=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);ne&&this.repositoryActionsService.createMerge(ne,z??null,j,R).subscribe()},this.pull=R=>{const j=this.store.selectSnapshot(Mt.E.selectedRepository);if(!j)throw new Error("Cannot pull when no repository is selected");this.repositoryActionsService.pull(j.path,j.selectedRemote,this.store.selectSnapshot(Mt.E.selectedRepositoryCredentials),R).subscribe()},this.browsePath=()=>{const R=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!R)throw new Error("Cannot browse submodule path when no repository is selected");this.filesApi.openFolderDialog(R).pipe((0,to.h)(rs.$K),(0,Ie.w)(j=>this.filesApi.getRelativePath(R,j)),(0,xe.R)(this.destroyed$)).subscribe(j=>{this.addSubmoduleForm.controls.path.setValue(j)})},this.addSubmodule=()=>{this.addSubmoduleDialogRef&&this.addSubmoduleDialogRef.close(),this.addSubmoduleForm.reset(),this.addSubmoduleDialogRef=this.dialog.open(this.addSubmoduleDialog),this.addSubmoduleDialogRef.afterOpened().pipe((0,xe.R)(this.destroyed$)).subscribe(()=>{this.addSubmoduleDialogFormFields.forEach(R=>{R.updateOutlineGap()})}),this.addSubmoduleDialogRef.afterClosed().pipe((0,xe.R)(this.destroyed$)).subscribe(R=>{if(!R)return;if(!R.path)throw new Error("Cannot add a submodule with no path");if(!R.url)throw new Error("Cannot add a submodule with no url");const j=this.store.selectSnapshot(Mt.E.selectedRepository);if(!j)throw new Error("Cannot add a submodule with no repository selected");const z=this.store.selectSnapshot(Mt.E.selectedRepositoryCredentials),ne=j.selectedRemote;this.repositoryActionsService.addSubmodule(j.path,R.url,R.path,ne?z[ne]??void 0:void 0).subscribe(Me=>this.store.dispatch(new Rt.gz(Me.path,{profiles:j.profiles,selectedRemote:j.selectedRemote})))})},this.editSubmodule=R=>{this.editSubmoduleDialogRef&&this.editSubmoduleDialogRef.close();const j=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!j)throw new Error("Cannot edit a submodule with no repository selected");this.editSubmoduleForm.reset(),this.submodulesApi.getSubmodule(j,R).subscribe(z=>{this.editSubmoduleForm.controls.url.setValue(z.url,{emitEvent:!1})}),this.editSubmoduleDialogRef=this.dialog.open(this.editSubmoduleDialog,{data:{name:R}}),this.editSubmoduleDialogRef.afterOpened().pipe((0,xe.R)(this.destroyed$)).subscribe(()=>{this.editSubmoduleDialogFormFields.forEach(z=>{z.updateOutlineGap()})}),this.editSubmoduleDialogRef.afterClosed().pipe((0,xe.R)(this.destroyed$)).subscribe(z=>{if(z){if(!z.url)throw new Error("Cannot edit a submodule with no url");this.repositoryActionsService.editSubmodule(j,R,z.url).subscribe()}})},this.deleteSubmodule=R=>{const j=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!j)throw new Error("Cannot add a submodule with no repository selected");this.submodulesApi.deleteSubmodule(j,R,!1).pipe((0,xt.K)(z=>Ht.Nu.matches(z)?(this.dialog.open(this.removeSubmoduleDialog,{data:{name:R}}).afterClosed().pipe((0,xe.R)(this.destroyed$)).subscribe(Se=>{Se&&this.submodulesApi.deleteSubmodule(j,R,!0).subscribe()}),Qe.E):(0,ct._)(z))).subscribe()},this.deleteBranchOrTag=(R,j)=>{const z=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!z)throw new Error("Cannot delete branch when no repository is selected");if("local"===j)this.repositoryActionsService.deleteBranch(z,`refs/heads/${R}`).subscribe();else{if("tag"!==j)throw new Error(`Cannot delete remote branch '${R}'`);this.repositoryActionsService.deleteTag(z,R).subscribe()}},this.renameBranch=(R,j)=>{const z=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!z)throw new Error("Cannot rename branch when no repository is selected");if("local"!==j)throw new Error(`Can only rename local branches, '${R}' is not valid`);this.repositoryActionsService.renameBranch(z,R).subscribe()},this.mergeToCurrentBranch=(R,j,z,ne)=>{const Se=this.store.selectSnapshot(Mt.E.selectedRepositoryPath),Me=this.store.selectSnapshot(Mt.E.selectedRepositoryCurrentBranch);if(!Se)throw new Error("Cannot merge when no repository is selected");if(!Me)throw new Error("Cannot merge when no branch is checked out");if("local"!==z&&"remote"!==z&&"tag"!==z)throw new Error("Cannot merge from the stash");this.repositoryActionsService.createMerge(Se,"local"===z?j:"remote"===z?`${ne}/${j}`:"tag"===z?j:null,R,Me).subscribe()},this.getBranchName=(R,j,z)=>{switch(j){case"local":case"tag":return R;case"remote":return`${z}/${R}`;default:throw new Error(`Invalid branch type: ${j}`)}},this.getBranchType=R=>{switch(R){case"local":case"remote":return"branch";case"tag":return"tag";default:throw new Error(`Invalid branch type: ${R}`)}},this.toggleRefVisibility=(R,j)=>{R.preventDefault(),R.stopPropagation();const z=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!z)throw new Error("Cannot toggle reference visibility if no repository is selected.");let ne=this.store.selectSnapshot(Mt.E.selectedRepositoryVisibleReferences);ne?ne.findIndex(Me=>Me===j)>=0?(ne=ne.filter(Me=>Me!==j),ne.length<=0&&(ne=null)):ne=[...ne,j]:ne=[j],this.store.dispatch([new Yn.Dr(z,ne),new Rt.Vu(z)])},this.visibilityTitle=R=>R?"Show":null===R?"Show only this":"Hide",this.remotesInvisible=R=>R.every(j=>j.value.invisible),this.tagsInvisible=R=>R.every(j=>j.invisible),this.localBranchExists=R=>this.store.selectSnapshot(Mt.E.selectedRepositoryLocalBranches)?.some(z=>z.name===`refs/heads/${R}`)??!1,this.formatUpstreamName=R=>R?.replace(/^refs\/remotes\//,""),this.removeRemoteFromName=R=>R.replace(/^.*?\//,""),this.getLocalBranchName=R=>R.name.replace(/^refs\/heads\//,""),this.getRemoteName=R=>(/^refs\/remotes\/([^\/]+)\//.exec(R.name)??[])[1],this.getRemoteBranchName=R=>R.name.replace(/^refs\/remotes\/[^\/]+\//,""),this.getRemoteBranchFullName=R=>R.name.replace(/^refs\/remotes\//,""),this.getTagName=R=>R.name.replace(/^refs\/tags\//,""),this.sortTags=(R,j)=>{}}ngOnInit(){this.local=(0,rt.aj)([this.selectedRepositoryLocalBranches,this.store.select(Mt.E.selectedRepositoryCurrentBranch),this.store.select(Mt.E.selectedRepositoryVisibleReferences)]).pipe((0,nt.U)(([t,n,o])=>{const s=t?.find(p=>p.name===n);return[...s?[s]:[],...qo(t??[],p=>p.name).filter(p=>p.name!==n)].map(p=>({commitId:p.target,name:this.getLocalBranchName(p),refName:p.name,upstreamName:p.upstreamName,invisible:o?!o.includes(p.name):null}))})),this.remoteBranches=(0,rt.aj)([this.selectedRepositoryRemoteBranches,this.store.select(Mt.E.selectedRepositoryVisibleReferences)]).pipe((0,nt.U)(([t,n])=>qo(t??[],o=>o.name).map(o=>({commitId:o.target,name:this.getRemoteBranchFullName(o),refName:o.name,upstreamName:null,invisible:n?!n.includes(o.name):null})))),this.remotes=(0,rt.aj)([this.selectedRepositoryRemoteBranches,this.store.select(Mt.E.selectedRepositoryVisibleReferences)]).pipe(Li(this.remoteSettings),(0,nt.U)(([[t,n],o])=>Object.fromEntries(Object.entries((0,Xt.Z)(t,s=>this.getRemoteName(s))).map(([s,d])=>[s,{isExpanded:o?.get(s)?.isExpanded??!1,invisible:n?!n.some(p=>p.startsWith(`refs/remotes/${s}/`)):null,branches:qo(d.map(p=>({commitId:p.target,name:this.getRemoteBranchName(p),refName:p.name,upstreamName:null,invisible:n?!n.includes(p.name):null})),p=>p.name)}])))),this.tags=(0,rt.aj)([this.selectedRepositoryTags,this.store.select(Mt.E.selectedRepositoryVisibleReferences)]).pipe((0,nt.U)(([t,n])=>(t??[]).map(o=>({commitId:o.target,name:this.getTagName(o),refName:o.name,upstreamName:null,invisible:n?!n.includes(o.name):null}))),(0,nt.U)(t=>qo(t,n=>n.name)));const e=/\/([^/]*?)(?:\.git)?\/?$/;this.addSubmoduleForm.controls.url.valueChanges.pipe((0,xe.R)(this.destroyed$)).subscribe(t=>{if(this.addSubmoduleForm.controls.path.pristine){const n=e.exec(t);n&&this.addSubmoduleForm.controls.path.setValue(n[1])}})}jumpToCommit(e){this.store.selectOnce(Mt.E.selectedRepositoryPath).subscribe(t=>{if(!t)throw new Error("Cannot jump to commit when no repository is selected.");this.store.dispatch([new Rt.jQ(t,e),new Rt.BK(t,e)])})}checkoutBranch(e){const t=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);t&&this.repositoryActionsService.checkoutBranch(t,`refs/heads/${e}`).subscribe()}checkoutRemoteBranch(e,t,n){if(this.store.selectSnapshot(Mt.E.selectedRepositoryLocalBranches)?.find(d=>d.name===`refs/heads/${n}`))this.checkoutBranch(n);else{const d=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!d)throw new Error("Cannot checkout branch when no repository is selected");this.repositoryActionsService.createBranchWithDetails(d,t,n,`${e}/${n}`,!0).subscribe()}}openSubmodule(e){const t=this.store.selectSnapshot(Mt.E.selectedRepository);if(!t)throw new Error("Cannot open a submodule when no repository is selected");const n=t.selectedRemote,o=this.store.selectSnapshot(Mt.E.selectedRepositoryCredentials);this.submodulesApi.cloneSubmodule(t.path,e,n?o[n]??void 0:void 0).pipe((0,xt.K)(d=>as.matches(d)?(0,ht.of)(d.submodulePath):(0,ct._)(d)),(0,Ie.w)(d=>this.store.dispatch(new Rt.gz(d)).pipe((0,Ie.w)(()=>this.store.dispatch(new Rt.he(d))),(0,Ie.w)(()=>this.store.dispatch(new Rt.BZ(d)))))).subscribe()}expandRemote(e,t){const n=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);n&&this.store.dispatch(new Rt.Q7(n,e,{isExpanded:t}))}branchTrackBy(e,t){return`${t.commitId}:${t.refName}`}remoteTrackBy(e,t){return t.key}setUpstreamBranch(e,t){const n=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(!n)throw new Error("Cannot merge when no repository is selected");this.repositoryActionsService.setUpstreamBranch(n,e,t).subscribe()}}$i.\u0275fac=function(e){return new(e||$i)(i.Y36(Ve.aV),i.Y36(i.s_b),i.Y36(g.uw),i.Y36(Te.yh),i.Y36(At.kI),i.Y36(At.NA),i.Y36(ei))},$i.\u0275cmp=i.Xpm({type:$i,selectors:[["app-branches-view"]],viewQuery:function(e,t){if(1&e&&(i.Gf(ca,5),i.Gf(Ar,5),i.Gf(Rs,5),i.Gf(pu,5),i.Gf(Qr,5),i.Gf(sc,5)),2&e){let n;i.iGM(n=i.CRH())&&(t.branchMenuTemplate=n.first),i.iGM(n=i.CRH())&&(t.addSubmoduleDialog=n.first),i.iGM(n=i.CRH())&&(t.editSubmoduleDialog=n.first),i.iGM(n=i.CRH())&&(t.removeSubmoduleDialog=n.first),i.iGM(n=i.CRH())&&(t.addSubmoduleDialogFormFields=n),i.iGM(n=i.CRH())&&(t.editSubmoduleDialogFormFields=n)}},features:[i.qOj],decls:40,vars:24,consts:[["multi",""],["expanded",""],[1,"title-icon"],["class","item",3,"selected","title","click","dblclick","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["branchContextMenu",""],[3,"expanded"],["type","button","mat-stroked-button","","title","Add submodule",1,"add-submodule-button",3,"click"],["submoduleContextMenu",""],["addSubmoduleDialog",""],["editSubmoduleDialog",""],["removeSubmoduleDialog",""],[1,"item",3,"title","click","dblclick","contextmenu"],[1,"text"],["type","button","mat-icon-button","",3,"title","click"],["class","visible-icon",4,"ngIf"],["class","remote-item",3,"title","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"visible-icon"],[1,"remote-item",3,"title","click"],[1,"container"],[1,"icons"],["class","sub-list",4,"ngIf"],[1,"sub-list"],["class","item",3,"title","click","dblclick","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],["class","item",3,"title","click","contextmenu",4,"ngFor","ngForOf","ngForTrackBy"],[1,"item",3,"title","click","contextmenu"],[1,"menu-panel"],["class","menu-item",3,"title","click",4,"ngIf"],["upstream",""],[1,"menu-item",3,"title","click"],["mergeToButton",""],["svgIcon","source-merge"],[1,"expand-icon"],["mergeTo",""],[1,"menu-panel","sub-menu-1"],["class","menu-item",3,"bold","title","click",4,"ngFor","ngForOf"],["class","menu-item",3,"title","click",4,"ngFor","ngForOf"],["mergeFromButton",""],["mergeFrom",""],["upstreamButton",""],[1,"menu-item",3,"click"],["class","item",3,"title","appContextMenu","appContextMenuData","click",4,"ngFor","ngForOf"],[1,"item",3,"title","appContextMenu","appContextMenuData","click"],["mat-dialog-title",""],[1,"add-submodule-form",3,"formGroup"],[1,"url"],["addSubmoduleDialogFormField1",""],["matPrefix",""],["type","text","matInput","","required","","formControlName","url"],[1,"path"],["addSubmoduleDialogFormField2",""],["type","text","matInput","","required","","formControlName","path"],["type","button","matSuffix","","mat-button","",3,"click"],["type","button","mat-button","",3,"mat-dialog-close"],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close","disabled"],[1,"edit-submodule-form",3,"formGroup"],["editSubmoduleDialogFormField1",""],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close"],["type","submit","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-accordion",0),i.TgZ(1,"mat-expansion-panel",1),i.TgZ(2,"mat-expansion-panel-header"),i.TgZ(3,"mat-panel-title"),i.TgZ(4,"mat-icon",2),i._uU(5,"desktop_windows"),i.qZA(),i._uU(6," Local"),i.qZA(),i.qZA(),i.TgZ(7,"ul"),i.YNc(8,da,7,10,"li",3),i.ALo(9,"async"),i.qZA(),i.qZA(),i.YNc(10,od,9,3,"mat-expansion-panel",4),i.ALo(11,"nullEmpty"),i.ALo(12,"keyvalue"),i.ALo(13,"async"),i.YNc(14,cc,9,3,"mat-expansion-panel",4),i.ALo(15,"nullEmpty"),i.ALo(16,"async"),i.YNc(17,us,14,13,"ng-template",null,5,i.W1O),i.TgZ(19,"mat-expansion-panel",6),i.ALo(20,"async"),i.TgZ(21,"mat-expansion-panel-header"),i.TgZ(22,"mat-panel-title"),i.TgZ(23,"mat-icon",2),i._uU(24,"layers"),i.qZA(),i._uU(25," Submodule"),i.qZA(),i.qZA(),i.YNc(26,Zo,2,1,"ul",4),i.ALo(27,"nullEmpty"),i.ALo(28,"async"),i.TgZ(29,"button",7),i.NdJ("click",function(){return t.addSubmodule()}),i.TgZ(30,"mat-icon"),i._uU(31,"add"),i.qZA(),i.qZA(),i.YNc(32,Es,11,2,"ng-template",null,8,i.W1O),i.YNc(34,uc,26,4,"ng-template",null,9,i.W1O),i.YNc(36,Ia,17,4,"ng-template",null,10,i.W1O),i.YNc(38,Oi,9,3,"ng-template",null,11,i.W1O),i.qZA(),i.qZA()),2&e&&(i.xp6(8),i.Q6J("ngForOf",i.lcZ(9,6,t.local))("ngForTrackBy",t.branchTrackBy),i.xp6(2),i.Q6J("ngIf",i.lcZ(11,8,i.lcZ(12,10,i.lcZ(13,12,t.remotes)))),i.xp6(4),i.Q6J("ngIf",i.lcZ(15,14,i.lcZ(16,16,t.tags))),i.xp6(5),i.Q6J("expanded",i.lcZ(20,18,t.hasSubmodules)),i.xp6(7),i.Q6J("ngIf",i.lcZ(27,20,i.lcZ(28,22,t.selectedRepositorySubmodules))))},directives:[Y.pp,Y.ib,Y.yz,Y.yK,vn.Hw,rn.sg,rn.O5,ln.lW,Xn.l,g.uh,oe._Y,oe.JL,oe.sg,g.xY,B.KE,B.qo,B.hX,D.Nt,oe.Fj,oe.Q7,oe.JJ,oe.u,B.R9,g.H8,g.ZT],pipes:[rn.Ov,En.x,rn.Nd],styles:["[_nghost-%COMP%]{display:block;padding:0 10px 10px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:36px;padding:0 20px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{line-height:24px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{margin-right:10px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .visible-icon[_ngcontent-%COMP%]{position:absolute;right:42px}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0 20px 16px}.remote-item[_ngcontent-%COMP%]{cursor:pointer;line-height:28px}.remote-item[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.remote-item[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:1px}.remote-item[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > .icons[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{line-height:28px;margin-left:5px}.remote-item[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > .icons[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:last-child{margin-right:-7px}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;cursor:pointer;line-height:28px;user-select:none}.item.selected[_ngcontent-%COMP%]{font-weight:700}.item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:1px}.item[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px;font-size:0;margin-right:-9px;opacity:0;transition:opacity .3s ease-in-out}.item[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{opacity:1}.item[_ngcontent-%COMP%] > button.show[_ngcontent-%COMP%]{opacity:1}.sub-list[_ngcontent-%COMP%]{margin-left:10px}.add-submodule-button[_ngcontent-%COMP%]{margin-top:10px}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.add-submodule-form[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]{min-width:600px}.add-submodule-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.add-submodule-form[_ngcontent-%COMP%]     .mat-form-field-prefix, .edit-submodule-form[_ngcontent-%COMP%]     .mat-form-field-prefix{margin-right:10px}.add-submodule-form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]     .mat-form-field-suffix, .edit-submodule-form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]     .mat-form-field-suffix{top:-.25em}"],data:{animation:[(0,$e.X$)("slide",[(0,$e.eR)(":enter",[(0,$e.oB)({height:0}),(0,$e.jt)("225ms ease-in-out",(0,$e.oB)({height:"*"}))]),(0,$e.eR)(":leave",[(0,$e.oB)({height:"*"}),(0,$e.jt)("225ms ease-in-out",(0,$e.oB)({height:0}))])])]},changeDetection:0}),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryPath)],$i.prototype,"selectedRepositoryPath",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryLocalBranches)],$i.prototype,"selectedRepositoryLocalBranches",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryRemoteBranches)],$i.prototype,"selectedRepositoryRemoteBranches",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryTags)],$i.prototype,"selectedRepositoryTags",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositorySubmodules)],$i.prototype,"selectedRepositorySubmodules",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryRemoteSettings)],$i.prototype,"remoteSettings",void 0);var Vo=m(98798),Ji=m(70031),Go=m(14724),is=Object.defineProperty,yr=Object.getOwnPropertyDescriptor,ha=Object.getOwnPropertyNames,Bh=Object.prototype.hasOwnProperty,dr={};((a,e,t,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let o of ha(e))!Bh.call(a,o)&&"default"!==o&&is(a,o,{get:()=>e[o],enumerable:!(n=yr(e,o))||n.enumerable})})(dr,Ji);var nl={},ad={},ka=class{constructor(a){jo(this,"_languageId"),jo(this,"_loadingTriggered"),jo(this,"_lazyLoadPromise"),jo(this,"_lazyLoadPromiseResolve"),jo(this,"_lazyLoadPromiseReject"),this._languageId=a,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}static getOrCreate(a){return ad[a]||(ad[a]=new ka(a)),ad[a]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,nl[this._languageId].loader().then(a=>this._lazyLoadPromiseResolve(a),a=>this._lazyLoadPromiseReject(a))),this._lazyLoadPromise}};function Pn(a){const e=a.id;nl[e]=a,dr.languages.register(a);const t=ka.getOrCreate(e);var n;dr.languages.registerTokensProviderFactory(e,{create:(n=(0,Go.Z)(function*(){return(yield t.load()).language}),function(){return n.apply(this,arguments)})}),dr.languages.onLanguage(e,(0,Go.Z)(function*(){const n=yield t.load();dr.languages.setLanguageConfiguration(e,n.conf)}))}Pn({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>m.e(1537).then(m.bind(m,61537))}),Pn({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>m.e(1567).then(m.bind(m,11567))}),Pn({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>m.e(9815).then(m.bind(m,89815))}),Pn({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>m.e(929).then(m.bind(m,929))}),Pn({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>m.e(2925).then(m.bind(m,99307))}),Pn({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>m.e(1564).then(m.bind(m,41564))}),Pn({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>m.e(8948).then(m.bind(m,44689))}),Pn({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>m.e(9952).then(m.bind(m,79952))}),Pn({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>m.e(3902).then(m.bind(m,83902))}),Pn({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>m.e(3902).then(m.bind(m,83902))}),Pn({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>m.e(1695).then(m.bind(m,11695))}),Pn({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>m.e(3417).then(m.bind(m,43417))}),Pn({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>m.e(5344).then(m.bind(m,5344))}),Pn({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>m.e(8183).then(m.bind(m,48183))}),Pn({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>m.e(4387).then(m.bind(m,14387))}),Pn({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>m.e(8401).then(m.bind(m,48401))}),Pn({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>m.e(2503).then(m.bind(m,32503))}),Pn({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>m.e(5437).then(m.bind(m,95437))}),Pn({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>m.e(8248).then(m.bind(m,38248))}),Pn({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagAutoInterpolationDollar)}),Pn({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagAngleInterpolationDollar)}),Pn({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagBracketInterpolationDollar)}),Pn({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagAngleInterpolationBracket)}),Pn({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagBracketInterpolationBracket)}),Pn({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagAutoInterpolationDollar)}),Pn({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>m.e(3980).then(m.bind(m,13980)).then(a=>a.TagAutoInterpolationBracket)}),Pn({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>m.e(1842).then(m.bind(m,91842))}),Pn({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>m.e(2799).then(m.bind(m,32799))}),Pn({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>m.e(8379).then(m.bind(m,68379))}),Pn({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>m.e(2874).then(m.bind(m,82874))}),Pn({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>m.e(835).then(m.bind(m,80835))}),Pn({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>m.e(3531).then(m.bind(m,73531))}),Pn({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>m.e(9572).then(m.bind(m,19572))}),Pn({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([m.e(8592),m.e(6187)]).then(m.bind(m,26187))}),Pn({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>m.e(6863).then(m.bind(m,56863))}),Pn({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>m.e(9778).then(m.bind(m,79778))}),Pn({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>m.e(4374).then(m.bind(m,44374))}),Pn({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>m.e(8826).then(m.bind(m,68826))}),Pn({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>m.e(2741).then(m.bind(m,32741))}),Pn({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>m.e(409).then(m.bind(m,60409))}),Pn({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>m.e(7264).then(m.bind(m,57264))}),Pn({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>m.e(727).then(m.bind(m,80727))}),Pn({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>m.e(4624).then(m.bind(m,44624))}),Pn({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>m.e(7965).then(m.bind(m,27965))}),Pn({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>m.e(5984).then(m.bind(m,25984))}),Pn({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>m.e(5798).then(m.bind(m,75798))}),Pn({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>m.e(9626).then(m.bind(m,89626))}),Pn({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>m.e(12).then(m.bind(m,10012))}),Pn({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>m.e(247).then(m.bind(m,247))}),Pn({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>m.e(1343).then(m.bind(m,41343))}),Pn({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>m.e(2994).then(m.bind(m,52994))}),Pn({id:"pla",extensions:[".pla"],loader:()=>m.e(1823).then(m.bind(m,51823))}),Pn({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>m.e(3546).then(m.bind(m,23546))}),Pn({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>m.e(6419).then(m.bind(m,6419))}),Pn({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>m.e(3976).then(m.bind(m,33976))}),Pn({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>m.e(8142).then(m.bind(m,88142))}),Pn({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>m.e(1837).then(m.bind(m,41837))}),Pn({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>m.e(4677).then(m.bind(m,54677))}),Pn({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>m.e(2262).then(m.bind(m,32262))}),Pn({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>m.e(9526).then(m.bind(m,59526))}),Pn({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>m.e(3851).then(m.bind(m,33851))}),Pn({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>m.e(7498).then(m.bind(m,47498))}),Pn({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>m.e(7261).then(m.bind(m,87261))}),Pn({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>m.e(2469).then(m.bind(m,42469))}),Pn({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>m.e(2493).then(m.bind(m,52493))}),Pn({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>m.e(3432).then(m.bind(m,13432))}),Pn({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>m.e(603).then(m.bind(m,50603))}),Pn({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>m.e(1822).then(m.bind(m,1822))}),Pn({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>m.e(1533).then(m.bind(m,51533))}),Pn({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>m.e(3502).then(m.bind(m,33502))}),Pn({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>m.e(6010).then(m.bind(m,86010))}),Pn({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>m.e(8014).then(m.bind(m,78014))}),Pn({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>m.e(5271).then(m.bind(m,65271))}),Pn({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>m.e(5797).then(m.bind(m,75797))}),Pn({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>m.e(2792).then(m.bind(m,32792))}),Pn({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>m.e(2604).then(m.bind(m,2604))}),Pn({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>m.e(9110).then(m.bind(m,29110))}),Pn({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>m.e(4623).then(m.bind(m,94623))}),Pn({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>m.e(4623).then(m.bind(m,94623))}),Pn({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>m.e(2621).then(m.bind(m,2621))}),Pn({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>m.e(3648).then(m.bind(m,33648))}),Pn({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>m.e(8592).then(m.bind(m,41245))}),Pn({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>m.e(435).then(m.bind(m,20435))}),Pn({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>m.e(470).then(m.bind(m,50470))}),Pn({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>m.e(5462).then(m.bind(m,25462))});var vu=Object.defineProperty,ld=Object.getOwnPropertyDescriptor,Wh=Object.getOwnPropertyNames,El=Object.prototype.hasOwnProperty,Ta={};((a,e,t,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let o of Wh(e))!El.call(a,o)&&"default"!==o&&vu(a,o,{get:()=>e[o],enumerable:!(n=ld(e,o))||n.enumerable})})(Ta,Ji);var il=class{constructor(a,e,t){jo(this,"_onDidChange",new Ta.Emitter),jo(this,"_options"),jo(this,"_modeConfiguration"),jo(this,"_languageId"),this._languageId=a,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(a){this._options=a||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(a){this.setOptions(a)}setModeConfiguration(a){this._modeConfiguration=a||Object.create(null),this._onDidChange.fire(this)}},Sr={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},fa={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},wu=new il("css",Sr,fa),yu=new il("scss",Sr,fa),Su=new il("less",Sr,fa);function Ml(){return m.e(6765).then(m.bind(m,26765))}Ta.languages.css={cssDefaults:wu,lessDefaults:Su,scssDefaults:yu},Ta.languages.onLanguage("less",()=>{Ml().then(a=>a.setupMode(Su))}),Ta.languages.onLanguage("scss",()=>{Ml().then(a=>a.setupMode(yu))}),Ta.languages.onLanguage("css",()=>{Ml().then(a=>a.setupMode(wu))});var cd=Object.defineProperty,hc=Object.getOwnPropertyDescriptor,Js=Object.getOwnPropertyNames,Nl=Object.prototype.hasOwnProperty,Pa={};((a,e,t,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let o of Js(e))!Nl.call(a,o)&&"default"!==o&&cd(a,o,{get:()=>e[o],enumerable:!(n=hc(e,o))||n.enumerable})})(Pa,Ji);var Il={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function ol(a){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:a===Oa,documentFormattingEdits:a===Oa,documentRangeFormattingEdits:a===Oa}}var Oa="html",xu="handlebars",Du=sl(Oa,Il,ol(Oa)),zh=Du.defaults,Eu=sl(xu,Il,ol(xu)),Uh=Eu.defaults,ud=sl("razor",Il,ol("razor"));function sl(a,e=Il,t=ol(a)){const n=new class{constructor(a,e,t){jo(this,"_onDidChange",new Pa.Emitter),jo(this,"_options"),jo(this,"_modeConfiguration"),jo(this,"_languageId"),this._languageId=a,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(a){this._options=a||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(a){this._modeConfiguration=a||Object.create(null),this._onDidChange.fire(this)}}(a,e,t);let o;const s=Pa.languages.onLanguage(a,(0,Go.Z)(function*(){o=(yield m.e(9630).then(m.bind(m,49630))).setupMode(n)}));return{defaults:n,dispose(){s.dispose(),o?.dispose(),o=void 0}}}Pa.languages.html={htmlDefaults:zh,razorDefaults:ud.defaults,handlebarDefaults:Uh,htmlLanguageService:Du,handlebarLanguageService:Eu,razorLanguageService:ud,registerHTMLLanguageService:sl};var Mu=Object.defineProperty,fd=Object.getOwnPropertyDescriptor,kl=Object.getOwnPropertyNames,Nu=Object.prototype.hasOwnProperty,gc={};((a,e,t,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let o of kl(e))!Nu.call(a,o)&&"default"!==o&&Mu(a,o,{get:()=>e[o],enumerable:!(n=fd(e,o))||n.enumerable})})(gc,Ji);var _c=new class{constructor(a,e,t){jo(this,"_onDidChange",new gc.Emitter),jo(this,"_diagnosticsOptions"),jo(this,"_modeConfiguration"),jo(this,"_languageId"),this._languageId=a,this.setDiagnosticsOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(a){this._diagnosticsOptions=a||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(a){this._modeConfiguration=a||Object.create(null),this._onDidChange.fire(this)}}("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});gc.languages.json={jsonDefaults:_c},gc.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),gc.languages.onLanguage("json",()=>{m.e(8026).then(m.bind(m,28026)).then(a=>a.setupMode(_c))}),m(99174);var ga=m(20545),Aa=m(17703),Ms=(m(87155),m(37313),m(99034)),Oo=m(3102),Ko=m(64073),Xe=(m(75777),m(44346)),mi=m(60745),vt=m(20296),Ee=m(12918),$t=m(6461),vc=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};const wc=new $t.uy("selectionAnchorSet",!1);let _s=class Yv{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=wc.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(e){return e.getContribution(Yv.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),n=this.editor.deltaDecorations(this.decorationId?[this.decorationId]:[],[{range:mi.Y.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new Oo.W5).appendText((0,Ee.N)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,Ms.Z9)((0,Ee.N)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(mi.Y.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var e;_s.ID="editor.contrib.selectionAnchorController",_s=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([(1,e=$t.i6,function(t,n){e(t,n,1)})],_s),(0,Xe._K)(_s.ID,_s),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,Ee.N)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2080),weight:100}})}run(e,t){var n;return vc(this,void 0,void 0,function*(){null===(n=_s.get(t))||void 0===n||n.setSelectionAnchor()})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,Ee.N)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:wc})}run(e,t){var n;return vc(this,void 0,void 0,function*(){null===(n=_s.get(t))||void 0===n||n.goToSelectionAnchor()})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,Ee.N)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:wc,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2089),weight:100}})}run(e,t){var n;return vc(this,void 0,void 0,function*(){null===(n=_s.get(t))||void 0===n||n.selectFromAnchorToCursor()})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,Ee.N)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:wc,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:9,weight:100}})}run(e,t){var n;return vc(this,void 0,void 0,function*(){null===(n=_s.get(t))||void 0===n||n.cancelSelectionAnchor()})}});var Wn=m(89983),Pt=m(40189),hi=(m(11009),m(67947)),kt=m(1873),Fo=m(80067),Zi=m(45023),Yr=m(79695),Hn=m(46842),ge=m(98275),r=m(53323);const c=(0,ge.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},Ee.N("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class V{constructor(e,t,n){this.position=e,this.brackets=t,this.options=n}}class ie extends Pt.JT{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new Wn.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(ie.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(n=>{const o=n.getStartPosition(),s=e.bracketPairs.matchBracket(o);let d=null;if(s)s[0].containsPosition(o)?d=s[1].getStartPosition():s[1].containsPosition(o)&&(d=s[0].getStartPosition());else{const p=e.bracketPairs.findEnclosingBrackets(o);if(p)d=p[0].getStartPosition();else{const R=e.bracketPairs.findNextBracket(o);R&&R.range&&(d=R.range.getStartPosition())}}return d?new mi.Y(d.lineNumber,d.column,d.lineNumber,d.column):new mi.Y(o.lineNumber,o.column,o.lineNumber,o.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=[];this._editor.getSelections().forEach(o=>{const s=o.getStartPosition();let d=t.bracketPairs.matchBracket(s);if(!d&&(d=t.bracketPairs.findEnclosingBrackets(s),!d)){const j=t.bracketPairs.findNextBracket(s);j&&j.range&&(d=t.bracketPairs.matchBracket(j.range.getStartPosition()))}let p=null,R=null;if(d){d.sort(kt.e.compareRangesUsingStarts);const[j,z]=d;if(p=e?j.getStartPosition():j.getEndPosition(),R=e?z.getEndPosition():z.getStartPosition(),z.containsPosition(s)){const ne=p;p=R,R=ne}}p&&R&&n.push(new mi.Y(p.lineNumber,p.column,R.lineNumber,R.column))}),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(const n of this._lastBracketsData){let o=n.brackets;o&&(e[t++]={range:o[0],options:n.options},e[t++]={range:o[1],options:n.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),n=t.getVersionId();let o=[];this._lastVersionId===n&&(o=this._lastBracketsData);let s=[],d=0;for(let ne=0,Se=e.length;ne<Se;ne++){let Me=e[ne];Me.isEmpty()&&(s[d++]=Me.getStartPosition())}s.length>1&&s.sort(hi.L.compare);let p=[],R=0,j=0,z=o.length;for(let ne=0,Se=s.length;ne<Se;ne++){let Me=s[ne];for(;j<z&&o[j].position.isBefore(Me);)j++;if(j<z&&o[j].position.equals(Me))p[R++]=o[j];else{let Ge=t.bracketPairs.matchBracket(Me,20),dt=ie._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!Ge&&"always"===this._matchBrackets&&(Ge=t.bracketPairs.findEnclosingBrackets(Me,20),dt=ie._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),p[R++]=new V(Me,Ge,dt)}}this._lastBracketsData=p,this._lastVersionId=n}}ie.ID="editor.contrib.bracketMatchingController",ie._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Zi.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,r.EN)(c),position:Fo.sh.Center}}),ie._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Zi.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,Xe._K)(ie.ID,ie),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.selectToBracket",label:Ee.N("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,n){var o;let s=!0;n&&!1===n.selectBrackets&&(s=!1),null===(o=ie.get(t))||void 0===o||o.selectToBracket(s)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.jumpToBracket",label:Ee.N("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3160,weight:100}})}run(e,t){var n;null===(n=ie.get(t))||void 0===n||n.jumpToBracket()}}),(0,r.Ic)((a,e)=>{const t=a.getColor(Yr.TC);t&&e.addRule(`.monaco-editor .bracket-match { background-color: ${t}; }`);const n=a.getColor(Yr.Dl);n&&e.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)}),Hn.BH.appendMenuItem(Hn.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:Ee.N({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class he{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,o=this._selection.startColumn,s=this._selection.endColumn;if((!this._isMovingLeft||1!==o)&&(this._isMovingLeft||s!==e.getLineMaxColumn(n)))if(this._isMovingLeft){const d=new kt.e(n,o-1,n,o),p=e.getValueInRange(d);t.addEditOperation(d,null),t.addEditOperation(new kt.e(n,s,n,s),p)}else{const d=new kt.e(n,s,n,s+1),p=e.getValueInRange(d);t.addEditOperation(d,null),t.addEditOperation(new kt.e(n,o,n,o),p)}}computeCursorState(e,t){return this._isMovingLeft?new mi.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new mi.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class ye extends Xe.R6{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const n=[],o=t.getSelections();for(const s of o)n.push(new he(s,this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}(0,Xe.Qr)(class extends ye{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:Ee.N("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:vt.u.writable})}}),(0,Xe.Qr)(class extends ye{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:Ee.N("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:vt.u.writable})}});var ze=m(49317),qe=m(98596);(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.transposeLetters",label:Ee.N("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let n=t.getModel(),o=[],s=t.getSelections();for(let d of s){if(!d.isEmpty())continue;let p=d.startLineNumber,R=d.startColumn,j=n.getLineMaxColumn(p);if(1===p&&(1===R||2===R&&2===j))continue;let z=R===j?d.getPosition():qe.o.rightPosition(n,d.getPosition().lineNumber,d.getPosition().column),ne=qe.o.leftPosition(n,z),Se=qe.o.leftPosition(n,ne),Me=n.getValueInRange(kt.e.fromPositions(Se,ne)),Ge=n.getValueInRange(kt.e.fromPositions(ne,z)),dt=kt.e.fromPositions(Se,z);o.push(new ze.T4(dt,Ge+Me))}o.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop())}});var Ct=m(47306),mt=m(70700),It=m(78230),Zt=m(57623),cn=m(37323);const kn="9_cutcopypaste",Vn=mt.tY||document.queryCommandSupported("cut"),Fn=mt.tY||document.queryCommandSupported("copy"),On=void 0!==navigator.clipboard&&!Ct.isFirefox||document.queryCommandSupported("paste");function Ln(a){return a.register(),a}const pn=Vn?Ln(new Xe.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:mt.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:Hn.eH.MenubarEditMenu,group:"2_ccp",title:Ee.N({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:Hn.eH.EditorContext,group:kn,title:Ee.N("actions.clipboard.cutLabel","Cut"),when:vt.u.writable,order:1},{menuId:Hn.eH.CommandPalette,group:"",title:Ee.N("actions.clipboard.cutLabel","Cut"),order:1},{menuId:Hn.eH.SimpleEditorContext,group:kn,title:Ee.N("actions.clipboard.cutLabel","Cut"),when:vt.u.writable,order:1}]})):void 0,Ni=Fn?Ln(new Xe.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:mt.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:Hn.eH.MenubarEditMenu,group:"2_ccp",title:Ee.N({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:Hn.eH.EditorContext,group:kn,title:Ee.N("actions.clipboard.copyLabel","Copy"),order:2},{menuId:Hn.eH.CommandPalette,group:"",title:Ee.N("actions.clipboard.copyLabel","Copy"),order:1},{menuId:Hn.eH.SimpleEditorContext,group:kn,title:Ee.N("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Hn.BH.appendMenuItem(Hn.eH.MenubarEditMenu,{submenu:Hn.eH.MenubarCopy,title:{value:Ee.N("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),Hn.BH.appendMenuItem(Hn.eH.EditorContext,{submenu:Hn.eH.EditorContextCopy,title:{value:Ee.N("copy as","Copy As"),original:"Copy As"},group:kn,order:3});const ni=On?Ln(new Xe.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:mt.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:Hn.eH.MenubarEditMenu,group:"2_ccp",title:Ee.N({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:Hn.eH.EditorContext,group:kn,title:Ee.N("actions.clipboard.pasteLabel","Paste"),when:vt.u.writable,order:4},{menuId:Hn.eH.CommandPalette,group:"",title:Ee.N("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:Hn.eH.SimpleEditorContext,group:kn,title:Ee.N("actions.clipboard.pasteLabel","Paste"),when:vt.u.writable,order:4}]})):void 0;function bo(a,e){!a||(a.addImplementation(1e4,"code-editor",(t,n)=>{const o=t.get(Zt.$).getFocusedCodeEditor();if(o&&o.hasTextFocus()){const s=o.getOption(32),d=o.getSelection();return d&&d.isEmpty()&&!s||document.execCommand(e),!0}return!1}),a.addImplementation(0,"generic-dom",(t,n)=>(document.execCommand(e),!0)))}bo(pn,"cut"),bo(Ni,"copy"),ni&&(ni.addImplementation(1e4,"code-editor",(a,e)=>{const t=a.get(Zt.$),n=a.get(cn.p),o=t.getFocusedCodeEditor();return!(!o||!o.hasTextFocus())&&(!(!document.execCommand("paste")&&mt.$L)||function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(void 0,void 0,void 0,function*(){const d=yield n.readText();if(""!==d){const p=It.Nl.INSTANCE.get(d);let R=!1,j=null,z=null;p&&(R=o.getOption(32)&&!!p.isFromEmptySelection,j=void 0!==p.multicursorText?p.multicursorText:null,z=p.mode),o.trigger("keyboard","paste",{text:d,pasteOnNewLine:R,multicursorText:j,mode:z})}}))}),ni.addImplementation(0,"generic-dom",(a,e)=>(document.execCommand("paste"),!0))),Fn&&(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:Ee.N("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(32)&&t.getSelection().isEmpty()||(It.RA.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),It.RA.forceCopyWithSyntaxHighlighting=!1)}});var ti=m(66607),io=m(90341),An=m(74243),Ho=m(48882),$n=m(3494),Wi=m(89822),Un=m(13226),So=m(85459),yc=m(55550),Jr=m(39067),ro=m(10467),ma=m(24763);class Vi{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||e.value.startsWith(this.value+Vi.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new Vi(this.value+Vi.sep+e)}}function Tu(a,e,t){return!(!e.contains(a)||t&&e.contains(t))}Vi.sep=".",Vi.None=new Vi("@@none@@"),Vi.Empty=new Vi(""),Vi.QuickFix=new Vi("quickfix"),Vi.Refactor=new Vi("refactor"),Vi.Source=new Vi("source"),Vi.SourceOrganizeImports=Vi.Source.append("organizeImports"),Vi.SourceFixAll=Vi.Source.append("fixAll");class Xr{constructor(e,t,n){this.kind=e,this.apply=t,this.preferred=n}static fromUser(e,t){return e&&"object"==typeof e?new Xr(Xr.getKindFromUser(e,t.kind),Xr.getApplyFromUser(e,t.apply),Xr.getPreferredUser(e)):new Xr(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"==typeof e.kind?new Vi(e.kind):t}static getPreferredUser(e){return"boolean"==typeof e.preferred&&e.preferred}}var Gh=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};const Mg="editor.action.codeAction",Ng="editor.action.refactor",Fp="editor.action.sourceAction",Cd="editor.action.organizeImports",Qh="editor.action.fixAll";class Pu{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return Gh(this,void 0,void 0,function*(){if((null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,e)}catch(o){(0,Un.Cp)(o)}n&&(this.action.edit=n.edit)}return this})}}class ur extends Pt.JT{constructor(e,t,n){super(),this.documentation=t,this._register(n),this.allActions=[...e].sort(ur.codeActionsComparator),this.validActions=this.allActions.filter(({action:o})=>!o.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:(0,Wi.Of)(e.diagnostics)?(0,Wi.Of)(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:(0,Wi.Of)(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&Vi.QuickFix.contains(new Vi(e.kind))&&!!e.isPreferred)}}const Ig={actions:[],documentation:void 0};function Yh(a,e,t,n,o,s){var d;const p=n.filter||{},R={only:null===(d=p.include)||void 0===d?void 0:d.value,trigger:n.type},j=new yc.YQ(e,s),z=function(a,e,t){return a.all(e).filter(n=>!n.providedCodeActionKinds||n.providedCodeActionKinds.some(o=>function(a,e){return!(a.include&&!a.include.intersects(e)||a.excludes&&a.excludes.some(t=>Tu(e,t,a.include))||!a.includeSourceActions&&Vi.Source.contains(e))}(t,new Vi(o))))}(a,e,p),ne=new Pt.SL,Se=z.map(Ge=>Gh(this,void 0,void 0,function*(){try{o.report(Ge);const dt=yield Ge.provideCodeActions(e,t,R,j.token);if(dt&&ne.add(dt),j.token.isCancellationRequested)return Ig;const Ft=((null==dt?void 0:dt.actions)||[]).filter(qt=>qt&&function(a,e){const t=e.kind?new Vi(e.kind):void 0;return!(a.include&&(!t||!a.include.contains(t))||a.excludes&&t&&a.excludes.some(n=>Tu(t,n,a.include))||!a.includeSourceActions&&t&&Vi.Source.contains(t)||a.onlyIncludePreferredActions&&!e.isPreferred)}(p,qt)),Ot=function(a,e,t){if(!a.documentation)return;const n=a.documentation.map(o=>({kind:new Vi(o.kind),command:o.command}));if(t){let o;for(const s of n)s.kind.contains(t)&&(o?o.kind.contains(s.kind)&&(o=s):o=s);if(o)return null==o?void 0:o.command}for(const o of e)if(o.kind)for(const s of n)if(s.kind.contains(new Vi(o.kind)))return s.command}(Ge,Ft,p.include);return{actions:Ft.map(qt=>new Pu(qt,Ge)),documentation:Ot}}catch(dt){if((0,Un.n2)(dt))throw dt;return(0,Un.Cp)(dt),Ig}})),Me=a.onDidChange(()=>{const Ge=a.all(e);(0,Wi.fS)(Ge,z)||j.cancel()});return Promise.all(Se).then(Ge=>{const dt=(0,Wi.xH)(Ge.map(Ot=>Ot.actions)),Ft=(0,Wi.kX)(Ge.map(Ot=>Ot.documentation));return new ur(dt,Ft,ne)}).finally(()=>{Me.dispose(),j.dispose()})}ro.P0.registerCommand("_executeCodeActionProvider",function(a,e,t,n,o){return Gh(this,void 0,void 0,function*(){if(!(e instanceof So.o))throw(0,Un.b1)();const{codeActionProvider:s}=a.get($n.p),d=a.get(Jr.q).getModel(e);if(!d)throw(0,Un.b1)();const p=mi.Y.isISelection(t)?mi.Y.liftSelection(t):kt.e.isIRange(t)?d.validateRange(t):void 0;if(!p)throw(0,Un.b1)();const R="string"==typeof n?new Vi(n):void 0,j=yield Yh(s,d,p,{type:1,filter:{includeSourceActions:!0,include:R}},ma.Ex.None,ti.T.None),z=[],ne=Math.min(j.validActions.length,"number"==typeof o?o:0);for(let Se=0;Se<ne;Se++)z.push(j.validActions[Se].resolve(ti.T.None));try{return yield Promise.all(z),j.validActions.map(Se=>Se.action)}finally{setTimeout(()=>j.dispose(),100)}})}),m(8546);let Xs=class S1{constructor(e,t){this._messageWidget=new Pt.XK,this._messageListeners=new Pt.SL,this._editor=e,this._visible=S1.MESSAGE_VISIBLE.bindTo(t),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(e){return e.getContribution(S1.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let n;(0,Ms.Z9)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Wp(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new Wn._F(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(o=>{!o.target.position||(n?n.containsPosition(o.target.position)||this.closeMessage():n=new kt.e(t.lineNumber-3,1,o.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Wp.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(Ee.N("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};Xs.ID="editor.contrib.messageController",Xs.MESSAGE_VISIBLE=new $t.uy("messageVisible",!1,Ee.N("messageVisible","Whether the editor is currently showing an inline message")),Xs=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,1)}}(0,$t.i6)],Xs);const P1=Xe._l.bindToContribution(Xs.get);(0,Xe.fK)(new P1({id:"leaveEditorMessage",precondition:Xs.MESSAGE_VISIBLE,handler:a=>a.closeMessage(),kbOpts:{weight:130,primary:9}}));class Wp{constructor(e,{lineNumber:t,column:n},o){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);const d=document.createElement("div");d.classList.add("message"),d.textContent=o,this._domNode.appendChild(d);const p=document.createElement("div");p.classList.add("anchor","below"),this._domNode.appendChild(p),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const n=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),e.getDomNode().addEventListener("animationend",n),e.getDomNode().classList.add("fadeOut"),{dispose:n}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}(0,Xe._K)(Xs.ID,Xs);var oo=m(43569),st=m(86678),Us=m(50955),al=m(9719),js=m(96938),Vr=function(a,e){return function(t,n){e(t,n,a)}};class Xh extends Us.aU{constructor(e,t){super(e.command?e.command.id:e.title,function(a){return a.replace(/\r\n|\r|\n/g," ")}(e.title),void 0,!e.disabled,t),this.action=e}}let Ao=class extends Pt.JT{constructor(e,t,n,o,s){super(),this._editor=e,this._delegate=t,this._contextMenuService=n,this._languageFeaturesService=s,this._visible=!1,this._showingActions=this._register(new Pt.XK),this._keybindingResolver=new qh({getKeybindings:()=>o.getKeybindings()})}get isVisible(){return this._visible}show(e,t,n,o){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){const s=o.includeDisabledActions?t.allActions:t.validActions;if(!s.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,Un.F0)();this._visible=!0,this._showingActions.value=t;const d=this.getMenuActions(e,s,t.documentation),p=hi.L.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},R=this._keybindingResolver.getResolver(),j=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:j?this._editor.getDomNode():void 0,getAnchor:()=>p,getActions:()=>d,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:z=>z instanceof Xh?R(z.action):void 0})})}getMenuActions(e,t,n){var o,s;const d=z=>new Xh(z.action,()=>this._delegate.onSelectCodeAction(z)),p=t.map(d),R=[...n],j=this._editor.getModel();if(j&&p.length)for(const z of this._languageFeaturesService.codeActionProvider.all(j))z._getAdditionalMenuItems&&R.push(...z._getAdditionalMenuItems({trigger:e.type,only:null===(s=null===(o=e.filter)||void 0===o?void 0:o.include)||void 0===s?void 0:s.value},t.map(ne=>ne.action)));return R.length&&p.push(new Us.Z0,...R.map(z=>d(new Pu({title:z.title,command:z},void 0)))),p}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),n=(0,st.i)(this._editor.getDomNode());return{x:n.left+t.left,y:n.top+t.top+t.height}}};Ao=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Vr(2,al.i),Vr(3,js.d),Vr(4,$n.p)],Ao);let qh=(()=>{class a{constructor(t){this._keybindingProvider=t}getResolver(){const t=new io.o(()=>this._keybindingProvider.getKeybindings().filter(n=>a.codeActionCommands.indexOf(n.command)>=0).filter(n=>n.resolvedKeybinding).map(n=>{let o=n.commandArgs;return n.command===Cd?o={kind:Vi.SourceOrganizeImports.value}:n.command===Qh&&(o={kind:Vi.SourceFixAll.value}),Object.assign({resolvedKeybinding:n.resolvedKeybinding},Xr.fromUser(o,{kind:Vi.None,apply:"never"}))}));return n=>{if(n.kind){const o=this.bestKeybindingForCodeAction(n,t.getValue());return null==o?void 0:o.resolvedKeybinding}}}bestKeybindingForCodeAction(t,n){if(!t.kind)return;const o=new Vi(t.kind);return n.filter(s=>s.kind.contains(o)).filter(s=>!s.preferred||t.isPreferred).reduceRight((s,d)=>s?s.kind.contains(d.kind)?d:s:d,void 0)}}return a.codeActionCommands=[Ng,Mg,Fp,Cd,Qh],a})();var Pl,Sc=m(8535),xc=m(23945),Qn=m(78968),Rn=m(71040),Lc=(m(62803),m(50817));!function(a){a.Hidden={type:0},a.Showing=class{constructor(n,o,s,d){this.actions=n,this.trigger=o,this.editorPosition=s,this.widgetPosition=d,this.type=1}}}(Pl||(Pl={}));let Dc=class Jv extends Pt.JT{constructor(e,t,n,o){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=n,this._keybindingService=o,this._onClick=this._register(new Rn.Q5),this.onClick=this._onClick.event,this._state=Pl.Hidden,this._domNode=document.createElement("div"),this._domNode.className=Qn.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{const d=this._editor.getModel();(1!==this.state.type||!d||this.state.editorPosition.lineNumber>=d.getLineCount())&&this.hide()})),xc.o.ignoreTarget(this._domNode),this._register(st.GQ(this._domNode,s=>{if(1!==this.state.type)return;this._editor.focus(),s.preventDefault();const{top:d,height:p}=st.i(this._domNode),R=this._editor.getOption(59);let j=Math.floor(R/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(j+=R),this._onClick.fire({x:s.posx,y:d+p+j,actions:this.state.actions,trigger:this.state.trigger})})),this._register(st.nm(this._domNode,"mouseenter",s=>{if(1!=(1&s.buttons))return;this.hide();const d=new Sc.Z;d.startMonitoring(s.target,s.buttons,Sc.e,()=>{},()=>{d.dispose()})})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(e,t,n){if(e.validActions.length<=0)return this.hide();const o=this._editor.getOptions();if(!o.get(57).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:d,column:p}=s.validatePosition(n),R=s.getOptions().tabSize,j=o.get(44),z=s.getLineContent(d),ne=(0,Lc.q)(z,R),Me=dt=>dt>2&&this._editor.getTopForLineNumber(dt)===this._editor.getTopForLineNumber(dt-1);let Ge=d;if(!(j.spaceWidth*ne>22))if(d>1&&!Me(d-1))Ge-=1;else if(Me(d+1)){if(p*j.spaceWidth<22)return this.hide()}else Ge+=1;this.state=new Pl.Showing(e,t,n,{position:{lineNumber:Ge,column:1},preference:Jv._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Pl.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...Qn.lA.lightBulb.classNamesArray),this._domNode.classList.add(...Qn.lA.lightbulbAutofix.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t)return void(this.title=Ee.N("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel()))}this._domNode.classList.remove(...Qn.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...Qn.lA.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=e?Ee.N("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):Ee.N("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};Dc._posPref=[0],Dc=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,3)}}(0,js.d)],Dc),(0,r.Ic)((a,e)=>{var t;const n=null===(t=a.getColor(ge.cvW))||void 0===t?void 0:t.transparent(.7),o=a.getColor(ge.Fu1);o&&e.addRule(`\n\t\t.monaco-editor .contentWidgets ${Qn.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${o};\n\t\t\tbackground-color: ${n};\n\t\t}`);const s=a.getColor(ge.sKV);s&&e.addRule(`\n\t\t.monaco-editor .contentWidgets ${Qn.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${s};\n\t\t\tbackground-color: ${n};\n\t\t}`)});var Au,tf=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};let Ol=class extends Pt.JT{constructor(e,t,n,o,s){super(),this._editor=e,this.delegate=o,this._activeCodeActions=this._register(new Pt.XK),Au.set(this,!1),this._codeActionWidget=new io.o(()=>this._register(s.createInstance(Ao,this._editor,{onSelectCodeAction:d=>tf(this,void 0,void 0,function*(){this.delegate.applyCodeAction(d,!0)})}))),this._lightBulbWidget=new io.o(()=>{const d=this._register(s.createInstance(Dc,this._editor,t,n));return this._register(d.onClick(p=>this.showCodeActionList(p.trigger,p.actions,p,{includeDisabledActions:!1}))),d})}dispose(){(function(a,e,t,n,o){if("function"==typeof e||!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(a,t)})(this,Au,!0),super.dispose()}update(e){var t,n,o,s,d;return tf(this,void 0,void 0,function*(){if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let p;try{p=yield e.actions}catch(R){return void(0,Un.dL)(R)}if(!function(a,e,t,n){if("function"==typeof e||!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(a)}(this,Au))if(this._lightBulbWidget.getValue().update(p,e.trigger,e.position),1===e.trigger.type){if(null===(n=e.trigger.filter)||void 0===n?void 0:n.include){const j=this.tryGetValidActionToApply(e.trigger,p);if(j){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(j,!1)}finally{p.dispose()}return}if(e.trigger.context){const z=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,p);if(z&&z.action.disabled)return null===(o=Xs.get(this._editor))||void 0===o||o.showMessage(z.action.disabled,e.trigger.context.position),void p.dispose()}}const R=!!(null===(s=e.trigger.filter)||void 0===s?void 0:s.include);if(e.trigger.context&&(!p.allActions.length||!R&&!p.validActions.length))return null===(d=Xs.get(this._editor))||void 0===d||d.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=p,void p.dispose();this._activeCodeActions.value=p,this._codeActionWidget.getValue().show(e.trigger,p,e.position,{includeDisabledActions:R})}else this._codeActionWidget.getValue().isVisible?p.dispose():this._activeCodeActions.value=p})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length&&("first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length))return t.allActions.find(({action:n})=>n.disabled)}tryGetValidActionToApply(e,t){if(t.validActions.length&&("first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length))return t.validActions[0]}showCodeActionList(e,t,n,o){return tf(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(e,t,n,o)})}};Au=new WeakMap,Ol=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,4)}}(0,oo.TG)],Ol);var Ec,Qo=m(81622),Cs=m(8135),qr=m(87493),Mo=m(6228),vd=function(a,e,t,n){if("a"===t&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?a!==e||!n:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?n:"a"===t?n.call(a):n?n.value:e.get(a)};const Ag=new $t.uy("supportedCodeAction","");class jp extends Pt.JT{constructor(e,t,n,o=250){super(),this._editor=e,this._markerService=t,this._signalChange=n,this._delay=o,this._autoTriggerTimer=this._register(new Wn._F),this._register(this._markerService.onMarkerChanged(s=>this._onMarkerChanges(s))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();!t||e.some(n=>(0,Mo.Xy)(n,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const n of this._markerService.read({resource:t.uri})){const o=t.validateRange(n);if(kt.e.intersectRanges(o,e))return kt.e.lift(o)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&2===e.type){const{lineNumber:o,column:s}=n.getPosition(),d=t.getLineContent(o);if(0===d.length)return;if(1===s){if(/\s/.test(d[0]))return}else if(s===t.getLineMaxColumn(o)){if(/\s/.test(d[d.length-1]))return}else if(/\s/.test(d[s-2])&&/\s/.test(d[s-1]))return}return n}_createEventAndSignalChange(e,t){const n=this._editor.getModel();if(!t||!n)return void this._signalChange(void 0);const o=this._getRangeOfMarker(t),s=o?o.getStartPosition():t.getStartPosition(),d={trigger:e,selection:t,position:s};return this._signalChange(d),d}}var Al;!function(a){a.Empty={type:0},a.Triggered=class{constructor(n,o,s,d){this.trigger=n,this.rangeOrSelection=o,this.position=s,this._cancellablePromise=d,this.type=1,this.actions=d.catch(p=>{if((0,Un.n2)(p))return Kp;throw p})}cancel(){this._cancellablePromise.cancel()}}}(Al||(Al={}));const Kp={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class $p extends Pt.JT{constructor(e,t,n,o,s){super(),this._editor=e,this._registry=t,this._markerService=n,this._progressService=s,this._codeActionOracle=this._register(new Pt.XK),this._state=Al.Empty,this._onDidChangeState=this._register(new Rn.Q5),this.onDidChangeState=this._onDidChangeState.event,Ec.set(this,!1),this._supportedCodeActions=Ag.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){vd(this,Ec,"f")||(function(a,e,t,n,o){if("function"==typeof e||!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");e.set(a,t)}(this,Ec,!0),super.dispose(),this.setState(Al.Empty,!0))}_update(){if(vd(this,Ec,"f"))return;this._codeActionOracle.value=void 0,this.setState(Al.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(81)){const t=[];for(const n of this._registry.all(e))Array.isArray(n.providedCodeActionKinds)&&t.push(...n.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new jp(this._editor,this._markerService,n=>{var o;if(!n)return void this.setState(Al.Empty);const s=(0,Wn.PG)(d=>Yh(this._registry,e,n.selection,n.trigger,ma.Ex.None,d));1===n.trigger.type&&(null===(o=this._progressService)||void 0===o||o.showWhile(s,250)),this.setState(new Al.Triggered(n.trigger,n.selection,n.position,s))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,!t&&!vd(this,Ec,"f")&&this._onDidChangeState.fire(e))}}Ec=new WeakMap;var wd=function(a,e){return function(t,n){e(t,n,a)}},Fg=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};function yd(a){return $t.Ao.regex(Ag.keys()[0],new RegExp("(\\s|^)"+(0,An.ec)(a.value)+"\\b"))}const Sd={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:Ee.N("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:Ee.N("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[Ee.N("args.schema.apply.first","Always apply the first returned code action."),Ee.N("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),Ee.N("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:Ee.N("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Fa=class Xv extends Pt.JT{constructor(e,t,n,o,s,d){super(),this._instantiationService=s,this._editor=e,this._model=this._register(new $p(this._editor,d.codeActionProvider,t,n,o)),this._register(this._model.onDidChangeState(p=>this.update(p))),this._ui=new io.o(()=>this._register(new Ol(e,sf.Id,xd.Id,{applyCodeAction:(p,R)=>Fg(this,void 0,void 0,function*(){try{yield this._applyCodeAction(p)}finally{R&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(e){return e.getContribution(Xv.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,n){return this._ui.getValue().showCodeActionList(e,t,n,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,n){var o;if(!this._editor.hasModel())return;null===(o=Xs.get(this._editor))||void 0===o||o.closeMessage();const s=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:n,context:{notAvailableMessage:e,position:s}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(Zp,e,this._editor)}};function Zp(a,e,t){return Fg(this,void 0,void 0,function*(){const n=a.get(Ho.vu),o=a.get(ro.Hy),s=a.get(qr.b),d=a.get(Cs.lT);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred}),yield e.resolve(ti.T.None),e.action.edit&&(yield n.apply(Ho.fo.convert(e.action.edit),{editor:t,label:e.action.title})),e.action.command)try{yield o.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(p){const R=function(a){return"string"==typeof a?a:a instanceof Error&&"string"==typeof a.message?a.message:void 0}(p);d.error("string"==typeof R?R:Ee.N("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Rl(a,e,t,n){if(a.hasModel()){const o=Fa.get(a);o&&o.manualTriggerAtCurrentPosition(e,t,n)}}Fa.ID="editor.contrib.quickFixController",Fa=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([wd(1,Qo.lT),wd(2,$t.i6),wd(3,ma.ek),wd(4,oo.TG),wd(5,$n.p)],Fa);let sf=(()=>{class a extends Xe.R6{constructor(){super({id:a.Id,label:Ee.N("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:$t.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2132,weight:100}})}run(t,n){return Rl(n,Ee.N("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}return a.Id="editor.action.quickFix",a})(),xd=(()=>{class a extends Xe.R6{constructor(){super({id:a.Id,label:Ee.N("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:$t.Ao.and(vt.u.writable,yd(Vi.QuickFix)),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(t,n){return Rl(n,Ee.N("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Vi.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}return a.Id="editor.action.autoFix",a})();(0,Xe._K)(Fa.ID,Fa),(0,Xe.Qr)(sf),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:Ng,label:Ee.N("refactor.label","Refactor..."),alias:"Refactor...",precondition:$t.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:$t.Ao.and(vt.u.writable,yd(Vi.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Sd}]}})}run(e,t,n){const o=Xr.fromUser(n,{kind:Vi.Refactor,apply:"never"});return Rl(t,"string"==typeof(null==n?void 0:n.kind)?o.preferred?Ee.N("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):Ee.N("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):o.preferred?Ee.N("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):Ee.N("editor.action.refactor.noneMessage","No refactorings available"),{include:Vi.Refactor.contains(o.kind)?o.kind:Vi.None,onlyIncludePreferredActions:o.preferred},o.apply)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:Fp,label:Ee.N("source.label","Source Action..."),alias:"Source Action...",precondition:$t.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:$t.Ao.and(vt.u.writable,yd(Vi.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Sd}]}})}run(e,t,n){const o=Xr.fromUser(n,{kind:Vi.Source,apply:"never"});return Rl(t,"string"==typeof(null==n?void 0:n.kind)?o.preferred?Ee.N("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):Ee.N("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):o.preferred?Ee.N("editor.action.source.noneMessage.preferred","No preferred source actions available"):Ee.N("editor.action.source.noneMessage","No source actions available"),{include:Vi.Source.contains(o.kind)?o.kind:Vi.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:Cd,label:Ee.N("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:$t.Ao.and(vt.u.writable,yd(Vi.SourceOrganizeImports)),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1581,weight:100}})}run(e,t){return Rl(t,Ee.N("editor.action.organize.noneMessage","No organize imports action available"),{include:Vi.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}),(0,Xe.Qr)(xd),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:Qh,label:Ee.N("fixAll.label","Fix All"),alias:"Fix All",precondition:$t.Ao.and(vt.u.writable,yd(Vi.SourceFixAll))})}run(e,t){return Rl(t,Ee.N("fixAll.noneMessage","No fix all action available"),{include:Vi.SourceFixAll,includeSourceActions:!0},"ifSingle")}}),(0,Xe.fK)(new class extends Xe._l{constructor(){super({id:Mg,precondition:$t.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Sd}]}})}runEditorCommand(e,t,n){const o=Xr.fromUser(n,{kind:Vi.Empty,apply:"ifSingle"});return Rl(t,"string"==typeof(null==n?void 0:n.kind)?o.preferred?Ee.N("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):Ee.N("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):o.preferred?Ee.N("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):Ee.N("editor.action.codeAction.noneMessage","No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}});var Bl=m(11791),Mc=m(78622),hs=m(52925),Gi=m(99770),Ld=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};class Dd{constructor(){this.lenses=[],this._disposables=new Pt.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const n of e.lenses)this.lenses.push({symbol:n,provider:t})}}function Ru(a,e,t){return Ld(this,void 0,void 0,function*(){const n=a.ordered(e),o=new Map,s=new Dd,d=n.map((p,R)=>Ld(this,void 0,void 0,function*(){o.set(p,R);try{const j=yield Promise.resolve(p.provideCodeLenses(e,t));j&&s.add(j,p)}catch(j){(0,Un.Cp)(j)}}));return yield Promise.all(d),s.lenses=s.lenses.sort((p,R)=>p.symbol.range.startLineNumber<R.symbol.range.startLineNumber?-1:p.symbol.range.startLineNumber>R.symbol.range.startLineNumber?1:o.get(p.provider)<o.get(R.provider)?-1:o.get(p.provider)>o.get(R.provider)?1:p.symbol.range.startColumn<R.symbol.range.startColumn?-1:p.symbol.range.startColumn>R.symbol.range.startColumn?1:0),s})}ro.P0.registerCommand("_executeCodeLensProvider",function(a,...e){let[t,n]=e;(0,Gi.p_)(So.o.isUri(t)),(0,Gi.p_)("number"==typeof n||!n);const{codeLensProvider:o}=a.get($n.p),s=a.get(Jr.q).getModel(t);if(!s)throw(0,Un.b1)();const d=[],p=new Pt.SL;return Ru(o,s,ti.T.None).then(R=>{p.add(R);let j=[];for(const z of R.lenses)null==n||Boolean(z.symbol.command)?d.push(z.symbol):n-- >0&&z.provider.resolveCodeLens&&j.push(Promise.resolve(z.provider.resolveCodeLens(s,z.symbol,ti.T.None)).then(ne=>d.push(ne||z.symbol)));return Promise.all(j)}).then(()=>d).finally(()=>{setTimeout(()=>p.dispose(),100)})});var Vg=m(16811),Ns=m(33439),Wl=m(26033),Hr=m(58070);const lf=(0,oo.yh)("ICodeLensCache");class Ed{constructor(e,t){this.lineCount=e,this.data=t}}let Md=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Ns.z6(20,.75),(0,Wn.To)(()=>e.remove("codelens/cache",1));const n="codelens/cache2",o=e.get(n,1,"{}");this._deserialize(o),(0,Vg.I)(e.onWillSaveState)(s=>{s.reason===Hr.fk.SHUTDOWN&&e.store(n,this._serialize(),1,1)})}put(e,t){const n=t.lenses.map(d=>{var p;return{range:d.symbol.range,command:d.symbol.command&&{id:"",title:null===(p=d.symbol.command)||void 0===p?void 0:p.title}}}),o=new Dd;o.add({lenses:n,dispose:()=>{}},this._fakeProvider);const s=new Ed(e.getLineCount(),o);this._cache.set(e.uri.toString(),s)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,n]of this._cache){const o=new Set;for(const s of n.data.lenses)o.add(s.symbol.range.startLineNumber);e[t]={lineCount:n.lineCount,lines:[...o.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const n in t){const o=t[n],s=[];for(const p of o.lines)s.push({range:new kt.e(p,1,p,11)});const d=new Dd;d.add({lenses:s,dispose(){}},this._fakeProvider),this._cache.set(n,new Ed(o.lineCount,d))}}catch{}}};Md=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,0)}}(0,Hr.Uy)],Md),(0,Wl.z)(lf,Md);var Fu=m(44339);m(50269);class Hg{constructor(e,t,n){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}let Nd=(()=>{class a{constructor(t,n,o){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=t,this._id="codelens.widget-"+a._idPool++,this.updatePosition(o),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${n}`}withCommands(t,n){this._commands.clear();let o=[],s=!1;for(let d=0;d<t.length;d++){const p=t[d];if(p&&(s=!0,p.command)){const R=(0,Fu.T)(p.command.title.trim());p.command.id?(o.push(st.$("a",{id:String(d),title:p.command.tooltip},...R)),this._commands.set(String(d),p.command)):o.push(st.$("span",{title:p.command.tooltip},...R)),d+1<t.length&&o.push(st.$("span",void 0,"\xa0|\xa0"))}}s?(st.mc(this._domNode,...o),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):st.mc(this._domNode,st.$("span",void 0,"no commands"))}getCommand(t){return t.parentElement===this._domNode?this._commands.get(t.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(t){const n=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:n},preference:[1]}}getPosition(){return this._widgetPosition||null}}return a._idPool=0,a})();class Id{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,o=t.length;n<o;n++)this._addDecorationsCallbacks[n](t[n])}}class cf{constructor(e,t,n,o,s,d,p){this._isDisposed=!1,this._editor=t,this._className=n,this._data=e,this._decorationIds=[];let R,j=[];this._data.forEach((z,ne)=>{z.symbol.command&&j.push(z.symbol),o.addDecoration({range:z.symbol.range,options:Zi.qx.EMPTY},Se=>this._decorationIds[ne]=Se),R=R?kt.e.plusRange(R,z.symbol.range):kt.e.lift(z.symbol.range)}),this._viewZone=new Hg(R.startLineNumber-1,d,p),this._viewZoneId=s.addZone(this._viewZone),j.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(j,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Nd(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const n=this._editor.getModel().getDecorationRange(e);return!(!n||kt.e.isEmpty(this._data[t].symbol.range)!==n.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((n,o)=>{t.addDecoration({range:n.symbol.range,options:Zi.qx.EMPTY},s=>this._decorationIds[o]=s)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const n=e[t];if(n){const{symbol:o}=this._data[t];o.command=n.command||o.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var zr=m(43413),Ba=m(85034),Wa=function(a,e){return function(t,n){e(t,n,a)}};let ea=class{constructor(e,t,n,o,s,d){this._editor=e,this._languageFeaturesService=t,this._commandService=o,this._notificationService=s,this._codeLensCache=d,this._disposables=new Pt.SL,this._localToDispose=new Pt.SL,this._lenses=[],this._oldCodeLensModels=new Pt.SL,this._provideCodeLensDebounce=n.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=n.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new Wn.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(p=>{(p.hasChanged(44)||p.hasChanged(16)||p.hasChanged(15))&&this._updateLensStyle(),p.hasChanged(14)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,Bl.vp)(this._editor.getId()).toString(16),this._styleElement=st.dS(st.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let t,e=this._editor.getOption(16);return!e||e<5?(e=.9*this._editor.getOption(46)|0,t=this._editor.getOption(59)):t=e*Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46))|0,{codeLensHeight:t,fontSize:e}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),n=this._editor.getOption(15),o=this._editor.getOption(44),s=`--codelens-font-family${this._styleClassName}`,d=`--codelens-font-features${this._styleClassName}`;let p=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(.5*t)}px; font-feature-settings: var(${d}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }\n\t\t`;n&&(p+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${s}), ${hs.hL.fontFamily}}`),this._styleElement.textContent=p,this._editor.getContainerDomNode().style.setProperty(s,n??"inherit"),this._editor.getContainerDomNode().style.setProperty(d,o.fontFeatureSettings),this._editor.changeViewZones(R=>{for(let j of this._lenses)j.updateHeight(e,R)})}_localDispose(){var e,t,n;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(n=this._currentCodeLensModel)||void 0===n||n.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(14))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e))return void(t&&this._localToDispose.add((0,Wn.Vg)(()=>{const o=this._codeLensCache.get(e);t===o&&(this._codeLensCache.delete(e),this._onModelChange())},3e4)));for(const o of this._languageFeaturesService.codeLensProvider.all(e))if("function"==typeof o.onDidChange){let s=o.onDidChange(()=>n.schedule());this._localToDispose.add(s)}const n=new Wn.pY(()=>{var o;const s=Date.now();null===(o=this._getCodeLensModelPromise)||void 0===o||o.cancel(),this._getCodeLensModelPromise=(0,Wn.PG)(d=>Ru(this._languageFeaturesService.codeLensProvider,e,d)),this._getCodeLensModelPromise.then(d=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=d,this._codeLensCache.put(e,d);const p=this._provideCodeLensDebounce.update(e,Date.now()-s);n.delay=p,this._renderCodeLensSymbols(d),this._resolveCodeLensesInViewportSoon()},Un.dL)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(n),this._localToDispose.add((0,Pt.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(o=>{this._editor.changeViewZones(s=>{let d=[],p=-1;this._lenses.forEach(j=>{j.isValid()&&p!==j.getLineNumber()?(j.update(s),p=j.getLineNumber()):d.push(j)});let R=new Id;d.forEach(j=>{j.dispose(R,s),this._lenses.splice(this._lenses.indexOf(j),1)}),R.commit(o)})}),n.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{n.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(o=>{o.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,Pt.OF)(()=>{if(this._editor.getModel()){const o=Mc.Z.capture(this._editor);this._editor.changeDecorations(s=>{this._editor.changeViewZones(d=>{this._disposeAllLenses(s,d)})}),o.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(o=>{if(9!==o.target.type)return;let s=o.target.element;if("SPAN"===(null==s?void 0:s.tagName)&&(s=s.parentElement),"A"===(null==s?void 0:s.tagName))for(const d of this._lenses){let p=d.getCommand(s);if(p){this._commandService.executeCommand(p.id,...p.arguments||[]).catch(R=>this._notificationService.error(R));break}}})),n.schedule()}_disposeAllLenses(e,t){const n=new Id;for(const o of this._lenses)o.dispose(n,t);e&&n.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let o,t=this._editor.getModel().getLineCount(),n=[];for(let p of e.lenses){let R=p.symbol.range.startLineNumber;R<1||R>t||(o&&o[o.length-1].symbol.range.startLineNumber===R?o.push(p):(o=[p],n.push(o)))}const s=Mc.Z.capture(this._editor),d=this._getLayoutInfo();this._editor.changeDecorations(p=>{this._editor.changeViewZones(R=>{const j=new Id;let z=0,ne=0;for(;ne<n.length&&z<this._lenses.length;){let Se=n[ne][0].symbol.range.startLineNumber,Me=this._lenses[z].getLineNumber();Me<Se?(this._lenses[z].dispose(j,R),this._lenses.splice(z,1)):Me===Se?(this._lenses[z].updateCodeLensSymbols(n[ne],j),ne++,z++):(this._lenses.splice(z,0,new cf(n[ne],this._editor,this._styleClassName,j,R,d.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),z++,ne++)}for(;z<this._lenses.length;)this._lenses[z].dispose(j,R),this._lenses.splice(z,1);for(;ne<n.length;)this._lenses.push(new cf(n[ne],this._editor,this._styleClassName,j,R,d.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ne++;j.commit(p)})}),s.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const n=[],o=[];if(this._lenses.forEach(p=>{const R=p.computeIfNecessary(t);R&&(n.push(R),o.push(p))}),0===n.length)return;const s=Date.now(),d=(0,Wn.PG)(p=>{const R=n.map((j,z)=>{const ne=new Array(j.length),Se=j.map((Me,Ge)=>Me.symbol.command||"function"!=typeof Me.provider.resolveCodeLens?(ne[Ge]=Me.symbol,Promise.resolve(void 0)):Promise.resolve(Me.provider.resolveCodeLens(t,Me.symbol,p)).then(dt=>{ne[Ge]=dt},Un.Cp));return Promise.all(Se).then(()=>{!p.isCancellationRequested&&!o[z].isDisposed()&&o[z].updateCommands(ne)})});return Promise.all(R)});this._resolveCodeLensesPromise=d,this._resolveCodeLensesPromise.then(()=>{const p=this._resolveCodeLensesDebounce.update(t,Date.now()-s);this._resolveCodeLensesScheduler.delay=p,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),d===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},p=>{(0,Un.dL)(p),d===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};ea.ID="css.editor.codeLens",ea=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Wa(1,$n.p),Wa(2,Ba.A),Wa(3,ro.Hy),Wa(4,Cs.lT),Wa(5,lf)],ea),(0,Xe._K)(ea.ID,ea),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:vt.u.hasCodeLensProvider,label:(0,Ee.N)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){if(!t.hasModel())return;const n=e.get(zr.eJ),o=e.get(ro.Hy),s=e.get(Cs.lT),d=t.getSelection().positionLineNumber,p=t.getContribution(ea.ID);if(!p)return;const R=p.getModel();if(!R)return;const j=[];for(const ne of R.lenses)ne.symbol.command&&ne.symbol.range.startLineNumber===d&&j.push({label:ne.symbol.command.title,command:ne.symbol.command});if(0===j.length)return;const z=yield n.pick(j,{canPickMany:!1});if(z){if(R.isDisposed)return yield o.executeCommand(this.id);try{yield o.executeCommand(z.command.id,...z.command.arguments||[])}catch(ne){s.error(ne)}}})}});var Qi=m(81897),pa=m(39932),uf=m(96132);function Ug(a,e,t,n){return Promise.resolve(t.provideColorPresentations(a,e,n))}ro.P0.registerCommand("_executeDocumentColorProvider",function(a,...e){const[t]=e;if(!(t instanceof So.o))throw(0,Un.b1)();const{colorProvider:n}=a.get($n.p),o=a.get(Jr.q).getModel(t);if(!o)throw(0,Un.b1)();const s=[],p=n.ordered(o).reverse().map(R=>Promise.resolve(R.provideDocumentColors(o,ti.T.None)).then(j=>{if(Array.isArray(j))for(let z of j)s.push({range:z.range,color:[z.color.red,z.color.green,z.color.blue,z.color.alpha]})}));return Promise.all(p).then(()=>s)}),ro.P0.registerCommand("_executeColorPresentationProvider",function(a,...e){const[t,n]=e,{uri:o,range:s}=n;if(!(o instanceof So.o&&Array.isArray(t)&&4===t.length&&kt.e.isIRange(s)))throw(0,Un.b1)();const[d,p,R,j]=t,{colorProvider:z}=a.get($n.p),ne=a.get(Jr.q).getModel(o);if(!ne)throw(0,Un.b1)();const Se={range:s,color:{red:d,green:p,blue:R,alpha:j}},Me=[],dt=z.ordered(ne).reverse().map(Ft=>Promise.resolve(Ft.provideColorPresentations(ne,Se,ti.T.None)).then(Ot=>{Array.isArray(Ot)&&Me.push(...Ot)}));return Promise.all(dt).then(()=>Me)});var Is=m(13011),ff=function(a,e){return function(t,n){e(t,n,a)}};const Va=Object.create({});let Vl=class qv extends Pt.JT{constructor(e,t,n,o){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=n,this._localToDispose=this._register(new Pt.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new uf.t7(this._editor),this._colorDecorationClassRefs=this._register(new Pt.SL),this._debounceInformation=o.for(n.colorProvider,"Document Colors",{min:qv.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(n.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{let s=this._isEnabled;this._isEnabled=this.isEnabled(),s!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),n=this._configurationService.getValue(t);if(n&&"object"==typeof n){const o=n.colorDecorators;if(o&&void 0!==o.enable&&!o.enable)return o.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Wn._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,Wn.PG)(e=>function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){const t=this._editor.getModel();if(!t)return Promise.resolve([]);const n=new pa.G(!1),o=yield function(a,e,t){const n=[],s=a.ordered(e).reverse().map(d=>Promise.resolve(d.provideDocumentColors(e,t)).then(p=>{if(Array.isArray(p))for(let R of p)n.push({colorInfo:R,provider:d})}));return Promise.all(s).then(()=>n)}(this._languageFeaturesService.colorProvider,t,e);return this._debounceInformation.update(t,n.elapsed()),o})),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},Un.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(n=>({range:{startLineNumber:n.colorInfo.range.startLineNumber,startColumn:n.colorInfo.range.startColumn,endLineNumber:n.colorInfo.range.endLineNumber,endColumn:n.colorInfo.range.endColumn},options:Zi.qx.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((n,o)=>this._colorDatas.set(n,e[o]))}updateColorDecorators(e){this._colorDecorationClassRefs.clear();let t=[];for(let n=0;n<e.length&&t.length<500;n++){const{red:o,green:s,blue:d,alpha:p}=e[n].colorInfo.color,R=new Qi.VS(Math.round(255*o),Math.round(255*s),Math.round(255*d),p),z=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:`rgba(${R.r}, ${R.g}, ${R.b}, ${R.a})`}));t.push({range:{startLineNumber:e[n].colorInfo.range.startLineNumber,startColumn:e[n].colorInfo.range.startColumn,endLineNumber:e[n].colorInfo.range.endLineNumber,endColumn:e[n].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:An.B4,inlineClassName:`${z.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:Va}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],t))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const n=t.getDecorationsInRange(kt.e.fromPositions(e,e)).filter(o=>this._colorDatas.has(o.id));return 0===n.length?null:this._colorDatas.get(n[0].id)}isColorDecorationId(e){return this._colorDecoratorIds.has(e)}};Vl.ID="editor.contrib.colorDetector",Vl.RECOMPUTE_TIME=1e3,Vl=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([ff(1,Is.Ui),ff(2,$n.p),ff(3,Ba.A)],Vl),(0,Xe._K)(Vl.ID,Vl);class jg{constructor(e,t,n){this.presentationIndex=n,this._onColorFlushed=new Rn.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Rn.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Rn.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let n=0;n<this.colorPresentations.length;n++)if(t.toLowerCase()===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var Ha=m(37450);m(77725);const Lr=st.$;class hr extends Pt.JT{constructor(e,t,n){super(),this.model=t,this.domNode=Lr(".colorpicker-header"),st.R3(e,this.domNode),this.pickedColorNode=st.R3(this.domNode,Lr(".picked-color"));const o=(0,Ee.N)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",o);const s=st.R3(this.domNode,Lr(".original-color"));s.style.backgroundColor=Qi.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(ge.yJx)||Qi.Il.white,this._register((0,r.Ic)((d,p)=>{this.backgroundColor=d.getColor(ge.yJx)||Qi.Il.white})),this._register(st.nm(this.pickedColorNode,st.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(st.nm(s,st.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=Qi.Il.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=Qi.Il.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Lr(".codicon.codicon-color-mode"))}}class e0 extends Pt.JT{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this.domNode=Lr(".colorpicker-body"),st.R3(e,this.domNode),this.saturationBox=new t0(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new Kg(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new $g(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const n=this.model.color.hsva;this.model.color=new Qi.Il(new Qi.tx(n.h,e,t,n.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new Qi.Il(new Qi.tx(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,n=360*(1-e);this.model.color=new Qi.Il(new Qi.tx(360===n?0:n,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class t0 extends Pt.JT{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this._onDidChange=new Rn.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Rn.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Lr(".saturation-wrap"),st.R3(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",st.R3(this.domNode,this.canvas),this.selection=Lr(".saturation-selection"),st.R3(this.domNode,this.selection),this.layout(),this._register(st.u0(this.domNode,o=>this.onMouseDown(o))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new Sc.Z);const t=st.i(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,Sc.e,o=>this.onDidChangePosition(o.posx-t.left,o.posy-t.top),()=>null);const n=st.q6(document,()=>{this._onColorFlushed.fire(),n.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const n=Math.max(0,Math.min(1,e/this.width)),o=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,o),this._onDidChange.fire({s:n,v:o})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const t=new Qi.Il(new Qi.tx(this.model.color.hsva.h,1,1,1)),n=this.canvas.getContext("2d"),o=n.createLinearGradient(0,0,this.canvas.width,0);o.addColorStop(0,"rgba(255, 255, 255, 1)"),o.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),o.addColorStop(1,"rgba(255, 255, 255, 0)");const s=n.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=Qi.Il.Format.CSS.format(t),n.fill(),n.fillStyle=o,n.fill(),n.fillStyle=s,n.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class ll extends Pt.JT{constructor(e,t){super(),this.model=t,this._onDidChange=new Rn.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Rn.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=st.R3(e,Lr(".strip")),this.overlay=st.R3(this.domNode,Lr(".overlay")),this.slider=st.R3(this.domNode,Lr(".slider")),this.slider.style.top="0px",this._register(st.u0(this.domNode,n=>this.onMouseDown(n))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new Sc.Z),n=st.i(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,Sc.e,s=>this.onDidChangeTop(s.posy-n.top),()=>null);const o=st.q6(document,()=>{this._onColorFlushed.fire(),o.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class Kg extends ll{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:n,b:o}=e.rgba,s=new Qi.Il(new Qi.VS(t,n,o,1)),d=new Qi.Il(new Qi.VS(t,n,o,0));this.overlay.style.background=`linear-gradient(to bottom, ${s} 0%, ${d} 100%)`}getValue(e){return e.hsva.a}}class $g extends ll{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class Zg extends Ha.${constructor(e,t,n,o){super(),this.model=t,this.pixelRatio=n,this._register(Ct.PixelRatio.onDidChange(()=>this.layout()));const s=Lr(".colorpicker-widget");e.appendChild(s);const d=new hr(s,this.model,o);this.body=new e0(s,this.model,this.pixelRatio),this._register(d),this._register(this.body)}layout(){this.body.layout()}}var za=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};class ks{constructor(e,t,n,o){this.owner=e,this.range=t,this.model=n,this.provider=o,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let Bu=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=1}computeSync(e,t){return[]}computeAsync(e,t,n){return Wn.Aq.fromPromise(this._computeAsync(e,t,n))}_computeAsync(e,t,n){return za(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const o=Vl.get(this._editor);if(!o)return[];for(const s of t){if(!o.isColorDecorationId(s.id))continue;const d=o.getColorData(s.range.getStartPosition());if(d)return[yield this._createColorHover(this._editor.getModel(),d.colorInfo,d.provider)]}return[]})}_createColorHover(e,t,n){return za(this,void 0,void 0,function*(){const o=e.getValueInRange(t.range),{red:s,green:d,blue:p,alpha:R}=t.color,j=new Qi.VS(Math.round(255*s),Math.round(255*d),Math.round(255*p),R),z=new Qi.Il(j),ne=yield Ug(e,t,n,ti.T.None),Se=new jg(z,[],0);return Se.colorPresentations=ne||[],Se.guessColorPresentation(z,o),new ks(this,kt.e.lift(t.range),Se,n)})}renderHoverParts(e,t){if(0===t.length||!this._editor.hasModel())return Pt.JT.None;const n=new Pt.SL,o=t[0],s=this._editor.getModel(),d=o.model,p=n.add(new Zg(e.fragment,d,this._editor.getOption(129),this._themeService));e.setColorPicker(p);let R=new kt.e(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn);const j=()=>{let ne,Se;if(d.presentation.textEdit){ne=[d.presentation.textEdit],Se=new kt.e(d.presentation.textEdit.range.startLineNumber,d.presentation.textEdit.range.startColumn,d.presentation.textEdit.range.endLineNumber,d.presentation.textEdit.range.endColumn);const Me=this._editor.getModel()._setTrackedRange(null,Se,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",ne),Se=this._editor.getModel()._getTrackedRange(Me)||Se}else ne=[{range:R,text:d.presentation.label,forceMoveMarkers:!1}],Se=R.setEndPosition(R.endLineNumber,R.startColumn+d.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",ne);d.presentation.additionalTextEdits&&(ne=[...d.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",ne),e.hide()),this._editor.pushUndoStop(),R=Se},z=ne=>Ug(s,{range:R,color:{red:ne.rgba.r/255,green:ne.rgba.g/255,blue:ne.rgba.b/255,alpha:ne.rgba.a}},o.provider,ti.T.None).then(Se=>{d.colorPresentations=Se||[]});return n.add(d.onColorFlushed(ne=>{z(ne).then(j)})),n.add(d.onDidChangeColor(z)),n}};Bu=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,1)}}(0,r.XE)],Bu);var Ur=m(80810),ta=(m(55753),m(13591));function gf(a,e){return!!a[e]}class Nc{constructor(e,t){this.target=e.target,this.hasTriggerModifier=gf(e.event,t.triggerModifier),this.hasSideBySideModifier=gf(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class Wu{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=gf(e,t.triggerModifier)}}class Hl{constructor(e,t,n,o){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=o}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function Qg(a){return"altKey"===a?mt.dz?new Hl(57,"metaKey",6,"altKey"):new Hl(5,"ctrlKey",6,"altKey"):mt.dz?new Hl(6,"altKey",57,"metaKey"):new Hl(6,"altKey",5,"ctrlKey")}class Vu extends Pt.JT{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new Rn.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new Rn.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new Rn.Q5),this.onCancel=this._onCancel.event,this._editor=e,this._opts=Qg(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(70)){const n=Qg(this._editor.getOption(70));if(this._opts.equals(n))return;this._opts=n,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new Nc(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new Nc(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new Nc(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new Wu(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new Wu(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===(e.target.position?e.target.position.lineNumber:0)&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var kd=m(60291),zl=m(60842),Ic=(m(68819),m(13976)),Yo=m(92119),na=function(a,e){return function(t,n){e(t,n,a)}};let Ul=class extends Aa.Gm{constructor(e,t,n,o,s,d,p,R,j,z,ne,Se){super(e,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),{},o,s,d,p,R,j,z,ne,Se),this._parentEditor=n,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration(Me=>this._onParentConfigurationChanged(Me)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){zl.jB(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};Ul=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([na(3,oo.TG),na(4,Zt.$),na(5,ro.Hy),na(6,$t.i6),na(7,r.XE),na(8,Cs.lT),na(9,Ic.F),na(10,Yo.c_),na(11,$n.p)],Ul);var _a=m(54789),mf=m(90546);m(13911);const Jg=new Qi.Il(new Qi.VS(0,122,204)),pf={showArrow:!0,showFrame:!0,className:"",frameColor:Jg,arrowColor:Jg,keepEditorSelection:!1};class _f{constructor(e,t,n,o,s,d){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=o,this._onDomNodeTop=s,this._onComputedHeight=d}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class wo{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class zu{constructor(e){this._editor=e,this._ruleName=zu._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),st.uN(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){st.uN(this._ruleName),st.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){1===e.column&&(e={lineNumber:e.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:kt.e.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}zu._IdGenerator=new mf.R(".arrow-decoration-");var Td=m(714),cl=m(48727);m(98735);class Cf extends Us.Wi{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new Rn.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,st.R3)(e,(0,st.$)(".monaco-dropdown")),this._label=(0,st.R3)(this._element,(0,st.$)(".dropdown-label"));let n=t.labelRenderer;n||(n=s=>(s.textContent=t.label||"",null));for(const s of[st.tw.CLICK,st.tw.MOUSE_DOWN,xc.t.Tap])this._register((0,st.nm)(this.element,s,d=>st.zB.stop(d,!0)));for(const s of[st.tw.MOUSE_DOWN,xc.t.Tap])this._register((0,st.nm)(this._label,s,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register((0,st.nm)(this._label,st.tw.KEY_UP,s=>{const d=new Td.y(s);(d.equals(3)||d.equals(10))&&(st.zB.stop(s,!0),this.visible?this.hide():this.show())}));const o=n(this._label);o&&this._register(o),this._register(xc.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class em extends Cf{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class bf extends cl.Y{constructor(e,t,n,o=Object.create(null)){super(null,e,o),this.actionItem=null,this._onDidChangeVisibility=this._register(new Rn.Q5),this.menuActionsOrProvider=t,this.contextMenuProvider=n,this.options=o,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const n=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new em(e,{contextMenuProvider:this.contextMenuProvider,labelRenderer:s=>{this.element=(0,st.R3)(s,(0,st.$)("a.action-label"));let d=[];return"string"==typeof this.options.classNames?d=this.options.classNames.split(/\s+/g).filter(p=>!!p):this.options.classNames&&(d=this.options.classNames),d.find(p=>"icon"===p)||d.push("codicon"),this.element.classList.add(...d),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider})),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{var d;null===(d=this.element)||void 0===d||d.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const s=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return s.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const n=!this.getAction().enabled;null===(e=this.actionItem)||void 0===e||e.classList.toggle("disabled",n),null===(t=this.element)||void 0===t||t.classList.toggle("disabled",n)}}var i0=m(99802),vf=(m(62922),function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}),Ca=function(a,e){return function(t,n){e(t,n,a)}},tm=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};let kc=class extends cl.g{constructor(e,t,n,o,s){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==t?void 0:t.draggable}),this._keybindingService=n,this._notificationService=o,this._contextKeyService=s,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Pt.XK),this._altKey=st._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return tm(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,n=this._altKey.keyStatus.altKey||(mt.ED||mt.IJ)&&this._altKey.keyStatus.shiftKey;const o=()=>{const s=t&&n;s!==this._wantsAltCommand&&(this._wantsAltCommand=s,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(s=>{n=s.altKey||(mt.ED||mt.IJ)&&s.shiftKey,o()})),this._register((0,st.nm)(e,"mouseleave",s=>{t=!1,o()})),this._register((0,st.nm)(e,"mouseenter",s=>{t=!0,o()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let o=t?(0,Ee.N)("titleAndKb","{0} ({1})",n,t):n;if(!this._wantsAltCommand&&this._menuItemAction.alt){const s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,d=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),p=d&&d.getLabel(),R=p?(0,Ee.N)("titleAndKb","{0} ({1})",s,p):s;o+=`\n[${i0.xo.modifierLabels[mt.OS].altKey}] ${R}`}this.label.title=o}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:n,label:o}=this;if(!n||!o)return;const s=this._commandAction.checked&&(null===(t=e.toggled)||void 0===t?void 0:t.icon)?e.toggled.icon:e.icon;if(s)if(r.kS.isThemeIcon(s)){const d=r.kS.asClassNameArray(s);o.classList.add(...d),this._itemClassDispose.value=(0,Pt.OF)(()=>{o.classList.remove(...d)})}else s.light&&o.style.setProperty("--menu-entry-icon-light",(0,st.wY)(s.light)),s.dark&&o.style.setProperty("--menu-entry-icon-dark",(0,st.wY)(s.dark)),o.classList.add("icon"),this._itemClassDispose.value=(0,Pt.OF)(()=>{o.classList.remove("icon"),o.style.removeProperty("--menu-entry-icon-light"),o.style.removeProperty("--menu-entry-icon-dark")})}};kc=vf([Ca(2,js.d),Ca(3,Cs.lT),Ca(4,$t.i6)],kc);let wf=class extends bf{constructor(e,t,n){var o,s;const d=Object.assign({},t??Object.create(null),{menuAsChild:null!==(o=null==t?void 0:t.menuAsChild)&&void 0!==o&&o,classNames:null!==(s=null==t?void 0:t.classNames)&&void 0!==s?s:r.kS.isThemeIcon(e.item.icon)?r.kS.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},n,d)}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");const{icon:t}=this._action.item;t&&!r.kS.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,st.wY)(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,st.wY)(t.dark)))}}};wf=vf([Ca(2,al.i)],wf);let yf=class extends cl.Y{constructor(e,t,n,o,s,d,p,R){var j,z,ne;super(null,e),this._keybindingService=n,this._notificationService=o,this._contextMenuService=s,this._menuService=d,this._instaService=p,this._storageService=R,this._container=null,this._storageKey=`${e.item.submenu._debugName}_lastActionId`;let Se,Me=R.get(this._storageKey,1);Me&&(Se=e.actions.find(dt=>Me===dt.id)),Se||(Se=e.actions[0]),this._defaultAction=this._instaService.createInstance(kc,Se,void 0);const Ge=Object.assign({},t??Object.create(null),{menuAsChild:null===(j=null==t?void 0:t.menuAsChild)||void 0===j||j,classNames:null!==(z=null==t?void 0:t.classNames)&&void 0!==z?z:["codicon","codicon-chevron-down"],actionRunner:null!==(ne=null==t?void 0:t.actionRunner)&&void 0!==ne?ne:new Us.Wi});this._dropdown=new bf(e,e.actions,this._contextMenuService,Ge),this._dropdown.actionRunner.onDidRun(dt=>{dt.action instanceof Hn.U8&&this.update(dt.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(kc,e,void 0),this._defaultAction.actionRunner=new class extends Us.Wi{runAction(t,n){return tm(this,void 0,void 0,function*(){yield t.run(void 0)})}},this._container&&this._defaultAction.render((0,st.Ce)(this._container,(0,st.$)(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=(0,st.$)(".action-container");this._defaultAction.render((0,st.R3)(this._container,t)),this._register((0,st.nm)(t,st.tw.KEY_DOWN,o=>{const s=new Td.y(o);s.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),s.stopPropagation())}));const n=(0,st.$)(".dropdown-action-container");this._dropdown.render((0,st.R3)(this._container,n)),this._register((0,st.nm)(n,st.tw.KEY_DOWN,o=>{var s;const d=new Td.y(o);d.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(s=this._defaultAction.element)||void 0===s||s.focus(),d.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function a0(a,e,t){return e instanceof Hn.U8?a.createInstance(kc,e,void 0):e instanceof Hn.NZ?a.createInstance(e.item.rememberDefaultAction?yf:wf,e,t):void 0}yf=vf([Ca(2,js.d),Ca(3,Cs.lT),Ca(4,al.i),Ca(5,Hn.co),Ca(6,oo.TG),Ca(7,Hr.Uy)],yf);var nm=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},im=function(a,e){return function(t,n){e(t,n,a)}};const om=(0,oo.yh)("IPeekViewService");var Ks;(0,Wl.z)(om,class{constructor(){this._widgets=new Map}addExclusiveWidget(a,e){const t=this._widgets.get(a);t&&(t.listener.dispose(),t.widget.dispose()),this._widgets.set(a,{widget:e,listener:e.onDidClose(()=>{const o=this._widgets.get(a);o&&o.widget===e&&(o.listener.dispose(),this._widgets.delete(a))})})}}),function(a){a.inPeekEditor=new $t.uy("inReferenceSearchEditor",!0,Ee.N("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),a.notInPeekEditor=a.inPeekEditor.toNegated()}(Ks||(Ks={}));let Pd=class{constructor(e,t){e instanceof Ul&&Ks.inPeekEditor.bindTo(t)}dispose(){}};Pd.ID="editor.contrib.referenceController",Pd=nm([im(1,$t.i6)],Pd),(0,Xe._K)(Pd.ID,Pd);const c0={headerBackgroundColor:Qi.Il.white,primaryHeadingColor:Qi.Il.fromHex("#333333"),secondaryHeadingColor:Qi.Il.fromHex("#6c6c6cb3")};let Uu=class extends class{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Pt.SL,this.container=null,this._isShowing=!1,this.editor=e,this.options=zl.I8(t),zl.jB(this.options,pf,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(n=>{const o=this._getWidth(n);this.domNode.style.width=o+"px",this.domNode.style.left=this._getLeft(n)+"px",this._onWidth(o)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new zu(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}get position(){const[e]=this._positionMarkerId;if(!e)return;const t=this.editor.getModel();if(!t)return;const n=t.getDecorationRange(e);return n?n.getStartPosition():void 0}show(e,t){const n=kt.e.isIRange(e)?kt.e.lift(e):kt.e.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:Zi.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(59),t=0;return this.options.showArrow&&(t+=2*Math.round(e/3)),this.options.showFrame&&(t+=2*Math.round(e/9)),t}_showImpl(e,t){const n=e.getStartPosition(),o=this.editor.getLayoutInfo(),s=this._getWidth(o);this.domNode.style.width=`${s}px`,this.domNode.style.left=this._getLeft(o)+"px";const d=document.createElement("div");d.style.overflow="hidden";const p=this.editor.getOption(59),R=Math.max(12,this.editor.getLayoutInfo().height/p*.8);t=Math.min(t,R);let j=0,z=0;if(this._arrow&&this.options.showArrow&&(j=Math.round(p/3),this._arrow.height=j,this._arrow.show(n)),this.options.showFrame&&(z=Math.round(p/9)),this.editor.changeViewZones(Me=>{this._viewZone&&Me.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new _f(d,n.lineNumber,n.column,t,Ge=>this._onViewZoneTop(Ge),Ge=>this._onViewZoneHeight(Ge)),this._viewZone.id=Me.addZone(this._viewZone),this._overlayWidget=new wo("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Me=this.options.frameWidth?this.options.frameWidth:z;this.container.style.borderTopWidth=Me+"px",this.container.style.borderBottomWidth=Me+"px"}let ne=t*p-this._decoratingElementsHeight();this.container&&(this.container.style.top=j+"px",this.container.style.height=ne+"px",this.container.style.overflow="hidden"),this._doLayout(ne,s),this.options.keepEditorSelection||this.editor.setSelection(e);const Se=this.editor.getModel();if(Se){const Me=e.endLineNumber+1;Me<=Se.getLineCount()?this.revealLine(Me,!1):this.revealLine(Se.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new _a.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){let n=(t.currentY-e.startY)/this.editor.getOption(59),o=n<0?Math.ceil(n):Math.floor(n),s=e.heightInLines+o;s>5&&s<35&&this._relayout(s)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}{constructor(e,t,n){super(e,t),this.instantiationService=n,this._onDidClose=new Rn.Q5,this.onDidClose=this._onDidClose.event,zl.jB(this.options,c0,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=st.$(".head"),this._bodyElement=st.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const n=st.$(".peekview-title");this.options.supportOnTitleClick&&(n.classList.add("clickable"),st.mu(n,"click",d=>this._onTitleClick(d))),st.R3(this._headElement,n),this._fillTitleIcon(n),this._primaryHeading=st.$("span.filename"),this._secondaryHeading=st.$("span.dirname"),this._metaHeading=st.$("span.meta"),st.R3(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);const o=st.$(".peekview-actions");st.R3(this._headElement,o);const s=this._getActionBarOptions();this._actionbarWidget=new kd.o(o,s),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new Us.aU("peekview.close",Ee.N("label.close","Close"),Qn.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:a0.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:st.PO(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,st.$Z(this._metaHeading)):st.Cp(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const n=Math.ceil(1.2*this.editor.getOption(59)),o=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(o,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};Uu=nm([im(2,oo.TG)],Uu);const d0=(0,ge.P6G)("peekViewTitle.background",{dark:(0,ge.ZnX)(ge.c63,.1),light:(0,ge.ZnX)(ge.c63,.1),hc:null},Ee.N("peekViewTitleBackground","Background color of the peek view title area.")),sm=(0,ge.P6G)("peekViewTitleLabel.foreground",{dark:Qi.Il.white,light:Qi.Il.black,hc:Qi.Il.white},Ee.N("peekViewTitleForeground","Color of the peek view title.")),rm=(0,ge.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},Ee.N("peekViewTitleInfoForeground","Color of the peek view title info.")),u0=(0,ge.P6G)("peekView.border",{dark:ge.c63,light:ge.c63,hc:ge.lRK},Ee.N("peekViewBorder","Color of the peek view borders and arrow.")),h0=(0,ge.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:Qi.Il.black},Ee.N("peekViewResultsBackground","Background color of the peek view result list.")),ju=((0,ge.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:Qi.Il.white},Ee.N("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,ge.P6G)("peekViewResult.fileForeground",{dark:Qi.Il.white,light:"#1E1E1E",hc:Qi.Il.white},Ee.N("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,ge.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},Ee.N("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,ge.P6G)("peekViewResult.selectionForeground",{dark:Qi.Il.white,light:"#6C6C6C",hc:Qi.Il.white},Ee.N("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,ge.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:Qi.Il.black},Ee.N("peekViewEditorBackground","Background color of the peek view editor.")));(0,ge.P6G)("peekViewEditorGutter.background",{dark:ju,light:ju,hc:ju},Ee.N("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,ge.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},Ee.N("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,ge.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},Ee.N("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,ge.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:ge.xL1},Ee.N("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var Od=m(79837),eo=m(33979),Dr=m(22115),ba=m(68526);class dl{constructor(e,t,n,o){this.isProviderFirst=e,this.parent=t,this.link=n,this._rangeCallback=o,this.id=mf.a.nextId()}get uri(){return this.link.uri}get range(){var e,t;return null!==(t=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==t?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return t?(0,Ee.N)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,Mo.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):(0,Ee.N)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,Mo.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class m0{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:o,startColumn:s,endLineNumber:d,endColumn:p}=e,R=n.getWordUntilPosition({lineNumber:o,column:s-t}),j=new kt.e(o,R.startColumn,o,s),z=new kt.e(d,p,d,1073741824),ne=n.getValueInRange(j).replace(/^\s+/,""),Se=n.getValueInRange(e);return{value:ne+Se+n.getValueInRange(z).replace(/\s+$/,""),highlight:{start:ne.length,end:ne.length+Se.length}}}}class Ad{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new Ns.Y9}dispose(){(0,Pt.B9)(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return 1===e?(0,Ee.N)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,Mo.EZ)(this.uri),this.uri.fsPath):(0,Ee.N)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,(0,Mo.EZ)(this.uri),this.uri.fsPath)}resolve(e){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{const n=yield e.createModelReference(t.uri);this._previews.set(t.uri,new m0(n))}catch(n){(0,Un.dL)(n)}return this})}}class qs{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Rn.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[n]=e;let o;e.sort(qs._compareReferences);for(let s of e)if((!o||!Mo.SF.isEqual(o.uri,s.uri,!0))&&(o=new Ad(this,s.uri),this.groups.push(o)),0===o.children.length||0!==qs._compareReferences(s,o.children[o.children.length-1])){const d=new dl(n===s,o,s,p=>this._onDidChangeReferenceRange.fire(p));this.references.push(d),o.children.push(d)}}dispose(){(0,Pt.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new qs(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,Ee.N)("aria.result.0","No results found"):1===this.references.length?(0,Ee.N)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,Ee.N)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,Ee.N)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:n}=e,o=n.children.indexOf(e),s=n.children.length,d=n.parent.groups.length;return 1===d||t&&o+1<s||!t&&o>0?(o=t?(o+1)%s:(o+s-1)%s,n.children[o]):(o=n.parent.groups.indexOf(n),t?(o=(o+1)%d,n.parent.groups[o].children[0]):(o=(o+d-1)%d,n.parent.groups[o].children[n.parent.groups[o].children.length-1]))}nearestReference(e,t){const n=this.references.map((o,s)=>({idx:s,prefixLen:An.Mh(o.uri.toString(),e.toString()),offsetDist:100*Math.abs(o.range.startLineNumber-t.lineNumber)+Math.abs(o.range.startColumn-t.column)})).sort((o,s)=>o.prefixLen>s.prefixLen?-1:o.prefixLen<s.prefixLen?1:o.offsetDist<s.offsetDist?-1:o.offsetDist>s.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(e,t){for(const n of this.references)if(n.uri.toString()===e.toString()&&kt.e.containsPosition(n.range,t))return n}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return Mo.SF.compare(e.uri,t.uri)||kt.e.compareRangesUsingStarts(e.range,t.range)}}var jl=m(14410),bs=m(98318),Ku=(m(86414),m(12282)),p0=m(24061),cm=m(54708),$u=m(25601),$s=m(56260),dm=m(46359);function um(a){if(!a)return;"string"==typeof a&&(a=So.o.file(a));const e=(0,Mo.EZ)(a)||(a.scheme===bs.lg.file?a.fsPath:a.path);return mt.ED&&(0,dm.vY)(e)?xf(e):e}function xf(a,e){return(0,dm.oP)(a,e)?a.charAt(0).toUpperCase()+a.slice(1):a}Object.create(null);var Zu=m(7022),hm=m(905),Gu=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},Rd=function(a,e){return function(t,n){e(t,n,a)}};let Lf=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof qs||e instanceof Ad}getChildren(e){if(e instanceof qs)return e.groups;if(e instanceof Ad)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};Lf=Gu([Rd(0,ta.S)],Lf);class _0{getHeight(){return 23}getTemplateId(e){return e instanceof Ad?Fd.id:fm.id}}let Df=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof dl){const n=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(n)return n.value}return(0,Mo.EZ)(e.uri)}};Df=Gu([Rd(0,js.d)],Df);class C0{getId(e){return e instanceof dl?e.id:e.uri}}let Ef=class extends Pt.JT{constructor(e,t,n){super(),this._uriLabel=t;const o=document.createElement("div");o.classList.add("reference-file"),this.file=this._register(new $u.g(o,{supportHighlights:!0})),this.badge=new p0.Z(st.R3(o,st.$(".count"))),this._register((0,hm.WZ)(this.badge,n)),e.appendChild(o)}set(e,t){let n=(0,Mo.XX)(e.uri);this.file.setLabel(um(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});const o=e.children.length;this.badge.setCount(o),this.badge.setTitleFormat(o>1?(0,Ee.N)("referencesCount","{0} references",o):(0,Ee.N)("referenceCount","{0} reference",o))}};Ef=Gu([Rd(1,Zu.e),Rd(2,r.XE)],Ef);let Fd=class ew{constructor(e){this._instantiationService=e,this.templateId=ew.id}renderTemplate(e){return this._instantiationService.createInstance(Ef,e)}renderElement(e,t,n){n.set(e.element,(0,$s.mB)(e.filterData))}disposeTemplate(e){e.dispose()}};Fd.id="FileReferencesRenderer",Fd=Gu([Rd(0,oo.TG)],Fd);class b0{constructor(e){this.label=new cm.q(e)}set(e,t){var n;const o=null===(n=e.parent.getPreview(e))||void 0===n?void 0:n.preview(e.range);if(o&&o.value){const{value:s,highlight:d}=o;t&&!$s.CL.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(s,(0,$s.mB)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(s,[d]))}else this.label.set(`${(0,Mo.EZ)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}let fm=(()=>{class a{constructor(){this.templateId=a.id}renderTemplate(t){return new b0(t)}renderElement(t,n,o){o.set(t.element,t.filterData)}disposeTemplate(){}}return a.id="OneReferenceRenderer",a})();class v0{getWidgetAriaLabel(){return(0,Ee.N)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var w0=m(10352),Ua=function(a,e){return function(t,n){e(t,n,a)}},gm=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};class Qu{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Pt.SL,this._callOnModelChange=new Pt.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e)for(let t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],n=[];for(let s=0,d=e.children.length;s<d;s++){let p=e.children[s];this._decorationIgnoreSet.has(p.id)||p.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:p.range,options:Qu.DecorationOptions}),n.push(s))}const o=this._editor.deltaDecorations([],t);for(let s=0;s<o.length;s++)this._decorations.set(o[s],e.children[n[s]])}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(let[n,o]of this._decorations){const s=t.getDecorationRange(n);if(!s)continue;let d=!1;kt.e.equalsRange(s,o.range)||((kt.e.spansMultipleLines(s)||o.range.endColumn-o.range.startColumn!=s.endColumn-s.startColumn)&&(d=!0),d?(this._decorationIgnoreSet.add(o.id),e.push(n)):o.range=s)}for(let n=0,o=e.length;n<o;n++)this._decorations.delete(e[n]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}Qu.DecorationOptions=Zi.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class x0 extends ba.ls{}let Mf=class extends Uu{constructor(e,t,n,o,s,d,p,R,j,z,ne,Se){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},d),this._defaultTreeKeyboardSupport=t,this.layoutData=n,this._textModelResolverService=s,this._instantiationService=d,this._peekViewService=p,this._uriLabel=R,this._undoRedoService=j,this._keybindingService=z,this._languageService=ne,this._languageConfigurationService=Se,this._disposeOnNewModel=new Pt.SL,this._callOnDispose=new Pt.SL,this._onDidSelectReference=new Rn.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new st.Ro(0,0),this._applyTheme(o.getColorTheme()),this._callOnDispose.add(o.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,Pt.B9)(this._preview),(0,Pt.B9)(this._previewNotAvailableMessage),(0,Pt.B9)(this._tree),(0,Pt.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(u0)||Qi.Il.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(d0)||Qi.Il.transparent,primaryHeadingColor:e.getColor(sm),secondaryHeadingColor:e.getColor(rm)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=st.R3(e,st.$("div.messages")),st.Cp(this._messageContainer),this._splitView=new jl.z(e,{orientation:1}),this._previewContainer=st.R3(e,st.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(Ul,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),st.Cp(this._previewContainer),this._previewNotAvailableMessage=new Zi.yO(Ee.N("missingPreviewMessage","no preview available"),Ku.bd,Zi.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=st.R3(e,st.$("div.ref-tree.inline"));const n={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new v0,keyboardNavigationLabelProvider:this._instantiationService.createInstance(Df),identityProvider:new C0,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:h0}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(st.mu(this._treeContainer,"keydown",s=>{s.equals(9)&&(this._keybindingService.dispatchEvent(s,s.target),s.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(x0,"ReferencesWidget",this._treeContainer,new _0,[this._instantiationService.createInstance(Fd),this._instantiationService.createInstance(fm)],this._instantiationService.createInstance(Lf),n),this._splitView.addView({onDidChange:Rn.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:s=>{this._preview.layout({height:this._dim.height,width:s})}},jl.M.Distribute),this._splitView.addView({onDidChange:Rn.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:s=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${s}px`,this._tree.layout(this._dim.height,s)}},jl.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let o=(s,d)=>{s instanceof dl&&("show"===d&&this._revealReference(s,!1),this._onDidSelectReference.fire({element:s,kind:d,source:"tree"}))};this._tree.onDidOpen(s=>{o(s.element,s.sideBySide?"side":s.editorOptions.pinned?"goto":"show")}),st.Cp(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new st.Ro(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{!this._model||(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=Ee.N("noResults","No results"),st.$Z(this._messageContainer),Promise.resolve(void 0)):(st.Cp(this._messageContainer),this._decorationsManager=new Qu(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:n}=e;if(2!==t.detail)return;const o=this._getFocusedReference();!o||this._onDidSelectReference.fire({element:{uri:o.uri,range:n.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),st.$Z(this._treeContainer),st.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();return e instanceof dl?e:e instanceof Ad&&e.children.length>0?e.children[0]:void 0}revealReference(e){return gm(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return gm(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==bs.lg.inMemory?this.setTitle((0,Mo.Hx)(e.uri),this._uriLabel.getUriLabel((0,Mo.XX)(e.uri))):this.setTitle(Ee.N("peekView.alternateTitle","References"));const n=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent)),this._tree.reveal(e);const o=yield n;if(!this._model)return void o.dispose();(0,Pt.B9)(this._previewModelReference);const s=o.object;if(s){const d=this._preview.getModel()===s.textEditorModel?0:1,p=kt.e.lift(e.range).collapseToStart();this._previewModelReference=o,this._preview.setModel(s.textEditorModel),this._preview.setSelection(p),this._preview.revealRangeInCenter(p,d)}else this._preview.setModel(this._previewNotAvailableMessage),o.dispose()})}};Mf=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Ua(3,r.XE),Ua(4,ta.S),Ua(5,oo.TG),Ua(6,om),Ua(7,Zu.e),Ua(8,w0.tJ),Ua(9,js.d),Ua(10,Ur.O),Ua(11,Yo.c_)],Mf);var Tc=function(a,e){return function(t,n){e(t,n,a)}},mm=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};const ja=new $t.uy("referenceSearchVisible",!1,Ee.N("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Jo=class x1{constructor(e,t,n,o,s,d,p,R){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=o,this._notificationService=s,this._instantiationService=d,this._storageService=p,this._configurationService=R,this._disposables=new Pt.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ja.bindTo(n)}static get(e){return e.getContribution(x1.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,n){let o;if(this._widget&&(o=this._widget.position),this.closeWidget(),o&&e.containsPosition(o))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const s="peekViewLayout",d=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,n;try{const o=JSON.parse(e);t=o.ratio,n=o.heightInLines}catch{}return{ratio:t||.7,heightInLines:n||18}}}.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(Mf,this._editor,this._defaultTreeKeyboardSupport,d),this._widget.setTitle(Ee.N("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(R=>{let{element:j,kind:z}=R;if(j)switch(z){case"open":("editor"!==R.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(j,!1,!1);break;case"side":this.openReference(j,!0,!1);break;case"goto":n?this._gotoReference(j):this.openReference(j,!1,!0)}}));const p=++this._requestIdPool;t.then(R=>{var j;if(p===this._requestIdPool&&this._widget)return null===(j=this._model)||void 0===j||j.dispose(),this._model=R,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":Ee.N("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let z=this._editor.getModel().uri,ne=new hi.L(e.startLineNumber,e.startColumn),Se=this._model.nearestReference(z,ne);if(Se)return this._widget.setSelection(Se).then(()=>{this._widget&&"editor"===this._editor.getOption(77)&&this._widget.focusOnPreviewEditor()})}});R.dispose()},R=>{this._notificationService.error(R)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return mm(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const n=this._model.nearestReference(this._editor.getModel().uri,t);if(!n)return;const o=this._model.nextOrPreviousReference(n,e),s=this._editor.hasTextFocus(),d=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(o),yield this._gotoReference(o),s?this._editor.focus():this._widget&&d&&this._widget.focusOnPreviewEditor()})}revealReference(e){return mm(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,n;null===(t=this._widget)||void 0===t||t.dispose(),null===(n=this._model)||void 0===n||n.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const t=kt.e.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:t,selectionSource:"code.jump"}},this._editor).then(n=>{var o;if(this._ignoreModelChangeEvent=!1,n&&this._widget)if(this._editor===n)this._widget.show(t),this._widget.focusOnReferenceTree();else{const s=x1.get(n),d=this._model.clone();this.closeWidget(),n.focus(),null==s||s.toggleWidget(t,(0,Wn.PG)(p=>Promise.resolve(d)),null!==(o=this._peekMode)&&void 0!==o&&o)}else this.closeWidget()},n=>{this._ignoreModelChangeEvent=!1,(0,Un.dL)(n)})}openReference(e,t,n){t||this.closeWidget();const{uri:o,range:s}=e;this._editorService.openCodeEditor({resource:o,options:{selection:s,selectionSource:"code.jump",pinned:n}},this._editor,t)}};function Kl(a,e){const t=function(a){let e=a.get(Zt.$).getFocusedCodeEditor();return e instanceof Ul?e.getParentEditor():e}(a);if(!t)return;const n=Jo.get(t);n&&e(n)}Jo.ID="editor.contrib.referencesController",Jo=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Tc(2,$t.i6),Tc(3,Zt.$),Tc(4,Cs.lT),Tc(5,oo.TG),Tc(6,Hr.Uy),Tc(7,Is.Ui)],Jo),Dr.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,Ko.gx)(2089,60),when:$t.Ao.or(ja,Ks.inPeekEditor),handler(a){Kl(a,e=>{e.changeFocusBetweenPreviewAndReferences()})}}),Dr.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:$t.Ao.or(ja,Ks.inPeekEditor),handler(a){Kl(a,e=>{e.goToNextOrPreviousReference(!0)})}}),Dr.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:$t.Ao.or(ja,Ks.inPeekEditor),handler(a){Kl(a,e=>{e.goToNextOrPreviousReference(!1)})}}),ro.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),ro.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),ro.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),ro.P0.registerCommand("closeReferenceSearch",a=>Kl(a,e=>e.closeWidget())),Dr.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:$t.Ao.and(Ks.inPeekEditor,$t.Ao.not("config.editor.stablePeek"))}),Dr.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:$t.Ao.and(ja,$t.Ao.not("config.editor.stablePeek"))}),Dr.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:$t.Ao.and(ja,ba.CQ,ba.PS.negate(),ba.uJ.negate()),handler(a){var e;const n=null===(e=a.get(ba.Lw).lastFocusedList)||void 0===e?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof dl&&Kl(a,o=>o.revealReference(n[0]))}}),Dr.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:$t.Ao.and(ja,ba.CQ,ba.PS.negate(),ba.uJ.negate()),handler(a){var e;const n=null===(e=a.get(ba.Lw).lastFocusedList)||void 0===e?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof dl&&Kl(a,o=>o.openReference(n[0],!0,!0))}}),ro.P0.registerCommand("openReference",a=>{var e;const n=null===(e=a.get(ba.Lw).lastFocusedList)||void 0===e?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof dl&&Kl(a,o=>o.openReference(n[0],!1,!0))});var pm=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},Bd=function(a,e){return function(t,n){e(t,n,a)}};const Nf=new $t.uy("hasSymbols",!1,(0,Ee.N)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Yu=(0,oo.yh)("ISymbolNavigationService");let If=class{constructor(e,t,n,o){this._editorService=t,this._notificationService=n,this._keybindingService=o,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Nf.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const n=new kf(this._editorService),o=n.onDidChange(s=>{if(this._ignoreEditorChange)return;const d=this._editorService.getActiveCodeEditor();if(!d)return;const p=d.getModel(),R=d.getPosition();if(!p||!R)return;let j=!1,z=!1;for(const ne of t.references)if((0,Mo.Xy)(ne.uri,p.uri))j=!0,z=z||kt.e.containsPosition(ne.range,R);else if(j)break;(!j||!z)&&this.reset()});this._currentState=(0,Pt.F8)(n,o)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:kt.e.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=t?(0,Ee.N)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,Ee.N)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}};If=pm([Bd(0,$t.i6),Bd(1,Zt.$),Bd(2,Cs.lT),Bd(3,js.d)],If),(0,Wl.z)(Yu,If,!0),(0,Xe.fK)(new class extends Xe._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Nf,kbOpts:{weight:100,primary:70}})}runEditorCommand(a,e){return a.get(Yu).revealNext(e)}}),Dr.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Nf,primary:9,handler(a){a.get(Yu).reset()}});let kf=class{constructor(e){this._listener=new Map,this._disposables=new Pt.SL,this._onDidChange=new Rn.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,Pt.B9)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,(0,Pt.F8)(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}};kf=pm([Bd(0,Zt.$)],kf);var _m=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};function Wd(a,e,t,n){const s=t.ordered(a).map(d=>Promise.resolve(n(d,a,e)).then(void 0,p=>{(0,Un.Cp)(p)}));return Promise.all(s).then(d=>{const p=[];for(let R of d)Array.isArray(R)?p.push(...R):R&&p.push(R);return p})}function Tf(a,e,t,n){return Wd(e,t,a,(o,s,d)=>o.provideDefinition(s,d,n))}function Cm(a,e,t,n){return Wd(e,t,a,(o,s,d)=>o.provideDeclaration(s,d,n))}function bm(a,e,t,n){return Wd(e,t,a,(o,s,d)=>o.provideImplementation(s,d,n))}function vm(a,e,t,n){return Wd(e,t,a,(o,s,d)=>o.provideTypeDefinition(s,d,n))}function Ju(a,e,t,n,o){return Wd(e,t,a,(s,d,p)=>_m(this,void 0,void 0,function*(){const R=yield s.provideReferences(d,p,{includeDeclaration:!0},o);if(!n||!R||2!==R.length)return R;const j=yield s.provideReferences(d,p,{includeDeclaration:!1},o);return j&&1===j.length?j:R}))}function w(a){return _m(this,void 0,void 0,function*(){const e=yield a(),t=new qs(e,""),n=t.references.map(o=>o.link);return t.dispose(),n})}(0,Xe.sb)("_executeDefinitionProvider",(a,e,t)=>{const o=Tf(a.get($n.p).definitionProvider,e,t,ti.T.None);return w(()=>o)}),(0,Xe.sb)("_executeTypeDefinitionProvider",(a,e,t)=>{const o=vm(a.get($n.p).typeDefinitionProvider,e,t,ti.T.None);return w(()=>o)}),(0,Xe.sb)("_executeDeclarationProvider",(a,e,t)=>{const o=Cm(a.get($n.p).declarationProvider,e,t,ti.T.None);return w(()=>o)}),(0,Xe.sb)("_executeReferenceProvider",(a,e,t)=>{const o=Ju(a.get($n.p).referenceProvider,e,t,!1,ti.T.None);return w(()=>o)}),(0,Xe.sb)("_executeImplementationProvider",(a,e,t)=>{const o=bm(a.get($n.p).implementationProvider,e,t,ti.T.None);return w(()=>o)});var u,v,K,X,se,pe,Le,Be,l=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};Hn.BH.appendMenuItem(Hn.eH.EditorContext,{submenu:Hn.eH.EditorContextPeek,title:Ee.N("peek.submenu","Peek"),group:"navigation",order:100});const Ke=new Set;function ut(a){const e=new a;return(0,Xe.QG)(e),Ke.add(e.id),e}class Jt{constructor(e,t){this.model=e,this.position=t}static is(e){return!(!e||"object"!=typeof e||!(e instanceof Jt||hi.L.isIPosition(e.position)&&e.model))}}class gn extends Xe.R6{constructor(e,t){super(t),this.configuration=e}run(e,t,n){if(!t.hasModel())return Promise.resolve(void 0);const o=e.get(Cs.lT),s=e.get(Zt.$),d=e.get(ma.ek),p=e.get(Yu),R=e.get($n.p),j=t.getModel(),z=t.getPosition(),ne=Jt.is(n)?n:new Jt(j,z),Se=new yc.Dl(t,5),Me=(0,Wn.eP)(this._getLocationModel(R,ne.model,ne.position,Se.token),Se.token).then(Ge=>l(this,void 0,void 0,function*(){var dt;if(!Ge||Se.token.isCancellationRequested)return;let Ft;if((0,Ms.Z9)(Ge.ariaMessage),Ge.referenceAt(j.uri,z)){const qt=this._getAlternativeCommand(t);qt!==this.id&&Ke.has(qt)&&(Ft=t.getAction(qt))}const Ot=Ge.references.length;if(0===Ot){if(!this.configuration.muteMessage){const qt=j.getWordAtPosition(z);null===(dt=Xs.get(t))||void 0===dt||dt.showMessage(this._getNoResultFoundMessage(qt),z)}}else{if(1!==Ot||!Ft)return this._onResult(s,p,t,Ge);Ft.run()}}),Ge=>{o.error(Ge)}).finally(()=>{Se.dispose()});return d.showWhile(Me,250),Me}_onResult(e,t,n,o){return l(this,void 0,void 0,function*(){const s=this._getGoToPreference(n);if(n instanceof Ul||!(this.configuration.openInPeek||"peek"===s&&o.references.length>1)){const d=o.firstReference(),p=o.references.length>1&&"gotoAndPeek"===s,R=yield this._openReference(n,e,d,this.configuration.openToSide,!p);p&&R?this._openInPeek(R,o):o.dispose(),"goto"===s&&t.put(d)}else this._openInPeek(n,o)})}_openReference(e,t,n,o,s){return l(this,void 0,void 0,function*(){let d;if((0,eo.vx)(n)&&(d=n.targetSelectionRange),d||(d=n.range),!d)return;const p=yield t.openCodeEditor({resource:n.uri,options:{selection:kt.e.collapseToStart(d),selectionRevealType:3,selectionSource:"code.jump"}},e,o);if(p){if(s){const R=p.getModel(),j=p.deltaDecorations([],[{range:d,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{p.getModel()===R&&p.deltaDecorations(j,[])},350)}return p}})}_openInPeek(e,t){const n=Jo.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),(0,Wn.PG)(o=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}class Zn extends gn{_getLocationModel(e,t,n,o){return l(this,void 0,void 0,function*(){return new qs(yield Tf(e.definitionProvider,t,n,o),Ee.N("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?Ee.N("noResultWord","No definition found for '{0}'",e.word):Ee.N("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(51).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(51).multipleDefinitions}}const Hi=mt.$L&&!Ct.isStandalone?2118:70;ut(((u=class L1 extends Zn{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:L1.id,label:Ee.N("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:$t.Ao.and(vt.u.hasDefinitionProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:Hi,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),ro.P0.registerCommandAlias("editor.action.goToDeclaration",L1.id)}}).id="editor.action.revealDefinition",u)),ut(((v=class D1 extends Zn{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:D1.id,label:Ee.N("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:$t.Ao.and(vt.u.hasDefinitionProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,Hi),weight:100}}),ro.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",D1.id)}}).id="editor.action.revealDefinitionAside",v)),ut(((K=class E1 extends Zn{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:E1.id,label:Ee.N("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:$t.Ao.and(vt.u.hasDefinitionProvider,Ks.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Hn.eH.EditorContextPeek,group:"peek",order:2}}),ro.P0.registerCommandAlias("editor.action.previewDeclaration",E1.id)}}).id="editor.action.peekDefinition",K));class vi extends gn{_getLocationModel(e,t,n,o){return l(this,void 0,void 0,function*(){return new qs(yield Cm(e.declarationProvider,t,n,o),Ee.N("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?Ee.N("decl.noResultWord","No declaration found for '{0}'",e.word):Ee.N("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(51).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(51).multipleDeclarations}}ut((X=class tw extends vi{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:tw.id,label:Ee.N("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:$t.Ao.and(vt.u.hasDeclarationProvider,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?Ee.N("decl.noResultWord","No declaration found for '{0}'",e.word):Ee.N("decl.generic.noResults","No declaration found")}},X.id="editor.action.revealDeclaration",X)),ut(class extends vi{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:Ee.N("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:$t.Ao.and(vt.u.hasDeclarationProvider,Ks.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Hn.eH.EditorContextPeek,group:"peek",order:3}})}});class po extends gn{_getLocationModel(e,t,n,o){return l(this,void 0,void 0,function*(){return new qs(yield vm(e.typeDefinitionProvider,t,n,o),Ee.N("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?Ee.N("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):Ee.N("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(51).multipleTypeDefinitions}}ut(((se=class nw extends po{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:nw.ID,label:Ee.N("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:$t.Ao.and(vt.u.hasTypeDefinitionProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",se)),ut(((pe=class iw extends po{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:iw.ID,label:Ee.N("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:$t.Ao.and(vt.u.hasTypeDefinitionProvider,Ks.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Hn.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",pe));class ho extends gn{_getLocationModel(e,t,n,o){return l(this,void 0,void 0,function*(){return new qs(yield bm(e.implementationProvider,t,n,o),Ee.N("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?Ee.N("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):Ee.N("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(51).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(51).multipleImplementations}}ut(((Le=class ow extends ho{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ow.ID,label:Ee.N("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:$t.Ao.and(vt.u.hasImplementationProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",Le)),ut(((Be=class sw extends ho{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:sw.ID,label:Ee.N("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:$t.Ao.and(vt.u.hasImplementationProvider,Ks.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Hn.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",Be));class zi extends gn{_getNoResultFoundMessage(e){return e?Ee.N("references.no","No references found for '{0}'",e.word):Ee.N("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(51).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(51).multipleReferences}}ut(class extends zi{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:Ee.N("goToReferences.label","Go to References"),alias:"Go to References",precondition:$t.Ao.and(vt.u.hasReferenceProvider,Ks.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,n,o){return l(this,void 0,void 0,function*(){return new qs(yield Ju(e.referenceProvider,t,n,!0,o),Ee.N("ref.title","References"))})}}),ut(class extends zi{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:Ee.N("references.action.label","Peek References"),alias:"Peek References",precondition:$t.Ao.and(vt.u.hasReferenceProvider,Ks.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Hn.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,n,o){return l(this,void 0,void 0,function*(){return new qs(yield Ju(e.referenceProvider,t,n,!1,o),Ee.N("ref.title","References"))})}});class Xi extends gn{constructor(e,t,n){super(e,{id:"editor.action.goToLocation",label:Ee.N("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:$t.Ao.and(Ks.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=n}_getLocationModel(e,t,n,o){return l(this,void 0,void 0,function*(){return new qs(this._references,Ee.N("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&Ee.N("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}ro.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:So.o},{name:"position",description:"The position at which to start",constraint:hi.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(a,e,t,n,o,s,d)=>l(void 0,void 0,void 0,function*(){(0,Gi.p_)(So.o.isUri(e)),(0,Gi.p_)(hi.L.isIPosition(t)),(0,Gi.p_)(Array.isArray(n)),(0,Gi.p_)(void 0===o||"string"==typeof o),(0,Gi.p_)(void 0===d||"boolean"==typeof d);const p=a.get(Zt.$),R=yield p.openCodeEditor({resource:e},p.getFocusedCodeEditor());if((0,Od.CL)(R))return R.setPosition(t),R.revealPositionInCenterIfOutsideViewport(t,0),R.invokeWithinContext(j=>{const z=new class extends Xi{_getNoResultFoundMessage(ne){return s||super._getNoResultFoundMessage(ne)}}({muteMessage:!Boolean(s),openInPeek:Boolean(d),openToSide:!1},n,o);j.get(oo.TG).invokeFunction(z.run.bind(z),R)})})}),ro.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:So.o},{name:"position",description:"The position at which to start",constraint:hi.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(a,e,t,n,o)=>l(void 0,void 0,void 0,function*(){a.get(ro.Hy).executeCommand("editor.action.goToLocations",e,t,n,o,void 0,!0)})}),ro.P0.registerCommand({id:"editor.action.findReferences",handler:(a,e,t)=>{(0,Gi.p_)(So.o.isUri(e)),(0,Gi.p_)(hi.L.isIPosition(t));const n=a.get($n.p),o=a.get(Zt.$);return o.openCodeEditor({resource:e},o.getFocusedCodeEditor()).then(s=>{if(!(0,Od.CL)(s)||!s.hasModel())return;const d=Jo.get(s);if(!d)return;const p=(0,Wn.PG)(j=>Ju(n.referenceProvider,s.getModel(),hi.L.lift(t),!1,j).then(z=>new qs(z,Ee.N("ref.title","References")))),R=new kt.e(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(d.toggleWidget(R,p,!1))})}}),ro.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),Hn.BH.appendMenuItems([{id:Hn.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:Ee.N({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Hn.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:Ee.N({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Hn.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:Ee.N({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Hn.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:Ee.N({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Hn.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:Ee.N({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var ia=function(a,e){return function(t,n){e(t,n,a)}};let Xo=class xg{constructor(e,t,n,o){this.textModelResolverService=t,this.languageService=n,this.languageFeaturesService=o,this.toUnhook=new Pt.SL,this.toUnhookForKeyboard=new Pt.SL,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let s=new Vu(e);this.toUnhook.add(s),this.toUnhook.add(s.onMouseMoveOrRelevantKeyDown(([d,p])=>{this.startFindDefinitionFromMouse(d,(0,Gi.f6)(p))})),this.toUnhook.add(s.onExecute(d=>{this.isEnabled(d)&&this.gotoDefinition(d.target.position,d.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},p=>{this.removeLinkDecorations(),(0,Un.dL)(p)})})),this.toUnhook.add(s.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(xg.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(!(9===e.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(e,t)?void this.startFindDefinition(e.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const n=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!n)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return Promise.resolve(0);this.currentWordAtPosition=n;let o=new yc.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,Wn.PG)(s=>this.findDefinition(e,s)),this.previousPromise.then(s=>{if(s&&s.length&&o.validate(this.editor))if(s.length>1)this.addDecoration(new kt.e(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),(new Oo.W5).appendText(Ee.N("multipleResults","Click to show {0} definitions.",s.length)));else{let d=s[0];if(!d.uri)return;this.textModelResolverService.createModelReference(d.uri).then(p=>{if(!p.object||!p.object.textEditorModel)return void p.dispose();const{object:{textEditorModel:R}}=p,{startLineNumber:j}=d.range;if(j<1||j>R.getLineCount())return void p.dispose();const z=this.getPreviewValue(R,j,d);let ne;ne=d.originSelectionRange?kt.e.lift(d.originSelectionRange):new kt.e(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn);const Se=this.languageService.guessLanguageIdByFilepathOrFirstLine(R.uri);this.addDecoration(ne,(new Oo.W5).appendCodeblock(Se||"",z)),p.dispose()})}else this.removeLinkDecorations()}).then(void 0,Un.dL)}getPreviewValue(e,t,n){let o=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(e,t);return o.endLineNumber-o.startLineNumber>=xg.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,o)}stripIndentationFromPreviewRange(e,t,n){let s=e.getLineFirstNonWhitespaceColumn(t);for(let p=t+1;p<n.endLineNumber;p++){const R=e.getLineFirstNonWhitespaceColumn(p);s=Math.min(s,R)}return e.getValueInRange(n).replace(new RegExp(`^\\s{${s-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const n=e.getLineFirstNonWhitespaceColumn(t),o=Math.min(e.getLineCount(),t+xg.MAX_SOURCE_PREVIEW_LINES);let s=t+1;for(;s<o&&n!==e.getLineFirstNonWhitespaceColumn(s);s++);return new kt.e(t,1,s+1,1)}getPreviewRangeBasedOnBrackets(e,t){const n=Math.min(e.getLineCount(),t+xg.MAX_SOURCE_PREVIEW_LINES),o=[];let s=!0,d=e.bracketPairs.findNextBracket(new hi.L(t,1));for(;null!==d;){if(0===o.length)o.push(d);else{const z=o[o.length-1];if(z.open[0]===d.open[0]&&z.isOpen&&!d.isOpen?o.pop():o.push(d),0===o.length){if(!s)return new kt.e(t,1,d.range.endLineNumber+1,1);s=!1}}const p=e.getLineMaxColumn(t);let R=d.range.endLineNumber,j=d.range.endColumn;if(p===d.range.endColumn&&(R++,j=1),R>n)return new kt.e(t,1,n+1,1);d=e.bracketPairs.findNextBracket(new hi.L(R,j))}return new kt.e(t,1,n+1,1)}addDecoration(e,t){this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[{range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}}])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const n=this.editor.getModel();return n?Tf(this.languageFeaturesService.definitionProvider,n,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(n=>{const o=!t&&this.editor.getOption(78)&&!this.isInPeekEditor(n);return new Zn({openToSide:t,openInPeek:o,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(n,this.editor)})}isInPeekEditor(e){const t=e.get($t.i6);return Ks.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};Xo.ID="editor.contrib.gotodefinitionatposition",Xo.MAX_SOURCE_PREVIEW_LINES=8,Xo=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([ia(1,ta.S),ia(2,Ur.O),ia(3,$n.p)],Xo),(0,Xe._K)(Xo.ID,Xo),(0,r.Ic)((a,e)=>{const t=a.getColor(ge._Yy);t&&e.addRule(`.monaco-editor .goto-definition-link { color: ${t} !important; }`)});var fr=m(6491);m(97886);const os=st.$;class so extends Pt.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new fr.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class gr extends Pt.JT{constructor(e,t,n){super(),this.actionContainer=st.R3(e,os("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=st.R3(this.actionContainer,os("a.action")),this.action.setAttribute("role","button"),t.iconClass&&st.R3(this.action,os(`span.icon.${t.iconClass}`)),st.R3(this.action,os("span")).textContent=n?`${t.label} (${n})`:t.label,this._register(st.nm(this.actionContainer,st.tw.CLICK,s=>{s.stopPropagation(),s.preventDefault(),t.run(this.actionContainer)})),this._register(st.nm(this.actionContainer,st.tw.KEY_UP,s=>{new Td.y(s).equals(3)&&(s.stopPropagation(),s.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}static render(e,t,n){return new gr(e,t,n)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}class Ew{constructor(e,t,n){this.value=e,this.isComplete=t,this.hasLoadingMessage=n}}class U1 extends Pt.JT{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new Rn.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new Wn.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new Wn.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new Wn.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,Wn.zS)(e=>this._computer.computeAsync(e)),(()=>{!function(a,e,t,n){new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){var e,t;try{try{for(var o,n=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=a[Symbol.asyncIterator];return e?e.call(a):(a="function"==typeof __values?__values(a):a[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=a[s]&&function(d){return new Promise(function(p,R){!function(s,d,p,R){Promise.resolve(R).then(function(j){s({value:j,done:p})},d)}(p,R,(d=a[s](d)).done,d.value)})}}}(this._asyncIterable);!(o=yield n.next()).done;){const s=o.value;s&&(this._result.push(s),this._fireResult())}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=n.return)&&(yield t.call(n))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(s){(0,Un.dL)(s)}})})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const e=0===this._state,t=4===this._state;this._onResult.fire(new Ew(this._result.slice(0),e,t))}start(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class D0{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return 1===e.type&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}class wm{constructor(e,t,n){this.priority=e,this.owner=t,this.range=n,this.type=2}equals(e){return 2===e.type&&this.owner===e.owner}canAdoptVisibleHover(e,t){return 2===e.type&&this.owner===e.owner}}const Vd=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};let Mw=(()=>{class a{constructor(){this.value="",this.pos=0}static isDigitCharacter(t){return t>=48&&t<=57}static isVariableCharacter(t){return 95===t||t>=97&&t<=122||t>=65&&t<=90}text(t){this.value=t,this.pos=0}tokenText(t){return this.value.substr(t.pos,t.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let s,t=this.pos,n=0,o=this.value.charCodeAt(t);if(s=a._table[o],"number"==typeof s)return this.pos+=1,{type:s,pos:t,len:1};if(a.isDigitCharacter(o)){s=8;do{n+=1,o=this.value.charCodeAt(t+n)}while(a.isDigitCharacter(o));return this.pos+=n,{type:s,pos:t,len:n}}if(a.isVariableCharacter(o)){s=9;do{o=this.value.charCodeAt(t+ ++n)}while(a.isVariableCharacter(o)||a.isDigitCharacter(o));return this.pos+=n,{type:s,pos:t,len:n}}s=10;do{n+=1,o=this.value.charCodeAt(t+n)}while(!isNaN(o)&&void 0===a._table[o]&&!a.isDigitCharacter(o)&&!a.isVariableCharacter(o));return this.pos+=n,{type:s,pos:t,len:n}}}return a._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},a})();class qu{constructor(){this._children=[]}appendChild(e){return e instanceof Mr&&this._children[this._children.length-1]instanceof Mr?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:n}=e,o=n.children.indexOf(e),s=n.children.slice(0);s.splice(o,1,...t),n._children=s,function d(p,R){for(const j of p)j.parent=R,d(j.children,j)}(t,n)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof ym)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class Mr extends qu{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new Mr(this.value)}}class j1 extends qu{}class va extends j1{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof Pf?this._children[0]:void 0}clone(){let e=new va(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class Pf extends qu{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof Mr&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new Pf;return this.options.forEach(e.appendChild,e),e}}class E0 extends qu{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let n=!1,o=e.replace(this.regexp,function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(s=>s instanceof Ka&&Boolean(s.elseValue))&&(o=this._replace([])),o}_replace(e){let t="";for(const n of this._children)if(n instanceof Ka){let o=e[n.index]||"";o=n.resolve(o),t+=o}else t+=n.toString();return t}toString(){return""}clone(){let e=new E0;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class Ka extends qu{constructor(e,t,n,o){super(),this.index=e,this.shorthandName=t,this.ifValue=n,this.elseValue=o}resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((n,o)=>0===o?n.toLowerCase():n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):e}clone(){return new Ka(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class Of extends j1{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new Mr(t)],!0)}clone(){const e=new Of(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function K1(a,e){const t=[...a];for(;t.length>0;){const n=t.shift();if(!e(n))break;t.unshift(...n.children)}}class ym extends qu{get placeholderInfo(){if(!this._placeholders){let t,e=[];this.walk(function(n){return n instanceof va&&(e.push(n),t=!t||t.index<n.index?n:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,n=!1;return this.walk(o=>o===e?(n=!0,!1):(t+=o.len(),!0)),n?t:-1}fullLen(e){let t=0;return K1([e],n=>(t+=n.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:n}=e;for(;n;)n instanceof va&&t.push(n),n=n.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof Of&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new ym;return this._children=this.children.map(t=>t.clone()),e}walk(e){K1(this.children,e)}}class Sm{constructor(){this._scanner=new Mw,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,n){this._scanner.text(e),this._token=this._scanner.next();const o=new ym;for(;this._parse(o););const s=new Map,d=[];let p=0;o.walk(R=>(R instanceof va&&(p+=1,R.isFinalTabstop?s.set(0,void 0):!s.has(R.index)&&R.children.length>0?s.set(R.index,R.children):d.push(R)),!0));for(const R of d){const j=s.get(R.index);if(j){const z=new va(R.index);z.transform=R.transform;for(const ne of j)z.appendChild(ne.clone());o.replace(R,[z])}}return n||(n=p>0&&t),!s.has(0)&&n&&o.appendChild(new va(0)),o}_accept(e,t){if(void 0===e||this._token.type===e){let n=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){const o=this._scanner.next();if(0!==o.type&&4!==o.type&&5!==o.type)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Mr(t)),!0)}_parseTabstopOrVariableName(e){let t;const n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new va(Number(t)):new Of(t)),!0):this._backTo(n)}_parseComplexPlaceholder(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);const s=new va(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(s),!0;if(!this._parse(s))return e.appendChild(new Mr("${"+t+":")),s.children.forEach(e.appendChild,e),!0}else{if(!(s.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(s)?(e.appendChild(s),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(s),!0):this._backTo(n);{const d=new Pf;for(;;){if(this._parseChoiceElement(d)){if(this._accept(2))continue;if(this._accept(7)&&(s.appendChild(d),this._accept(4)))return e.appendChild(s),!0}return this._backTo(n),!1}}}}_parseChoiceElement(e){const t=this._token,n=[];for(;2!==this._token.type&&7!==this._token.type;){let o;if(o=(o=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||o:this._accept(void 0,!0),!o)return this._backTo(t),!1;n.push(o)}return 0===n.length?(this._backTo(t),!1):(e.appendChild(new Mr(n.join(""))),!0)}_parseComplexVariable(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);const s=new Of(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(s)?(e.appendChild(s),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(s),!0):this._backTo(n);for(;;){if(this._accept(4))return e.appendChild(s),!0;if(!this._parse(s))return e.appendChild(new Mr("${"+t+":")),s.children.forEach(e.appendChild,e),!0}}_parseTransform(e){let t=new E0,n="",o="";for(;!this._accept(6);){let s;if(s=this._accept(5,!0))s=this._accept(6,!0)||s,n+=s;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){let s;if(s=this._accept(5,!0))s=this._accept(5,!0)||this._accept(6,!0)||s,t.appendChild(new Mr(s));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;o+=this._accept(void 0,!0)}try{t.regexp=new RegExp(n,o)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let o=this._accept(8,!0);if(!o)return this._backTo(t),!1;if(!n)return e.appendChild(new Ka(Number(o))),!0;if(this._accept(4))return e.appendChild(new Ka(Number(o))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){let s=this._accept(9,!0);return s&&this._accept(4)?(e.appendChild(new Ka(Number(o),s)),!0):(this._backTo(t),!1)}if(this._accept(11)){let s=this._until(4);if(s)return e.appendChild(new Ka(Number(o),void 0,s,void 0)),!0}else if(this._accept(12)){let s=this._until(4);if(s)return e.appendChild(new Ka(Number(o),void 0,void 0,s)),!0}else if(this._accept(13)){let s=this._until(1);if(s){let d=this._until(4);if(d)return e.appendChild(new Ka(Number(o),void 0,s,d)),!0}}else{let s=this._until(4);if(s)return e.appendChild(new Ka(Number(o),void 0,void 0,s)),!0}return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new Mr(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}m(84570);const Nw={inputActiveOptionBorder:Qi.Il.fromHex("#007ACC00"),inputActiveOptionForeground:Qi.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:Qi.Il.fromHex("#0E639C50")};class Af extends Ha.${constructor(e){super(),this._onChange=this._register(new Rn.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new Rn.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},Nw),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...Qn.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,n=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),n.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,n=>{if(10===n.keyCode||3===n.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void n.preventDefault();this._onKeyDown.fire(n)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const Iw=Ee.N("caseDescription","Match Case"),kw=Ee.N("wordsDescription","Match Whole Word"),Tw=Ee.N("regexDescription","Use Regular Expression");class $1 extends Af{constructor(e){super({icon:Qn.lA.caseSensitive,title:Iw+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Z1 extends Af{constructor(e){super({icon:Qn.lA.wholeWord,title:kw+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class G1 extends Af{constructor(e){super({icon:Qn.lA.regex,title:Tw+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}var Q1=m(39402);m(80090);const Pw=Ee.N("defaultLabel","input");class Ow extends Ha.${constructor(e,t,n,o){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new Rn.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Rn.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Rn.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new Rn.Q5),this._onKeyUp=this._register(new Rn.Q5),this._onCaseSensitiveKeyDown=this._register(new Rn.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new Rn.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||Pw,this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground;const s=o.appendCaseSensitiveLabel||"",d=o.appendWholeWordsLabel||"",p=o.appendRegexLabel||"",R=o.history||[],j=!!o.flexibleHeight,z=!!o.flexibleWidth,ne=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Q1.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:R,showHistoryHint:o.showHistoryHint,flexibleHeight:j,flexibleWidth:z,flexibleMaxHeight:ne})),this.regex=this._register(new G1({appendTitle:p,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(Me=>{this._onDidOptionChange.fire(Me),!Me&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(Me=>{this._onRegexKeyDown.fire(Me)})),this.wholeWords=this._register(new Z1({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(Me=>{this._onDidOptionChange.fire(Me),!Me&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new $1({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(Me=>{this._onDidOptionChange.fire(Me),!Me&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(Me=>{this._onCaseSensitiveKeyDown.fire(Me)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let Se=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,Me=>{if(Me.equals(15)||Me.equals(17)||Me.equals(9)){let Ge=Se.indexOf(document.activeElement);if(Ge>=0){let dt=-1;Me.equals(17)?dt=(Ge+1)%Se.length:Me.equals(15)&&(dt=0===Ge?Se.length-1:Ge-1),Me.equals(9)?(Se[Ge].blur(),this.inputBox.focus()):dt>=0&&Se[dt].focus(),st.zB.stop(Me,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),e&&e.appendChild(this.domNode),this._register(st.nm(this.inputBox.inputElement,"compositionstart",Me=>{this.imeSessionInProgress=!0})),this._register(st.nm(this.inputBox.inputElement,"compositionend",Me=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,Me=>this._onKeyDown.fire(Me)),this.onkeyup(this.inputBox.inputElement,Me=>this._onKeyUp.fire(Me)),this.oninput(this.inputBox.inputElement,Me=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Me=>this._onMouseDown.fire(Me))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder})}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const Aw=Ee.N("defaultLabel","input"),Rw=Ee.N("label.preserveCaseCheckbox","Preserve Case");class Fw extends Af{constructor(e){super({icon:Qn.lA.preserveCase,title:Rw+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Bw extends Ha.${constructor(e,t,n,o){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new Rn.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Rn.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Rn.Q5),this._onInput=this._register(new Rn.Q5),this._onKeyUp=this._register(new Rn.Q5),this._onPreserveCaseKeyDown=this._register(new Rn.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||Aw,this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground;const s=o.appendPreserveCaseLabel||"",d=o.history||[],p=!!o.flexibleHeight,R=!!o.flexibleWidth,j=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Q1.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:d,showHistoryHint:o.showHistoryHint,flexibleHeight:p,flexibleWidth:R,flexibleMaxHeight:j})),this.preserveCase=this._register(new Fw({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(Se=>{this._onDidOptionChange.fire(Se),!Se&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(Se=>{this._onPreserveCaseKeyDown.fire(Se)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;let z=[this.preserveCase.domNode];this.onkeydown(this.domNode,Se=>{if(Se.equals(15)||Se.equals(17)||Se.equals(9)){let Me=z.indexOf(document.activeElement);if(Me>=0){let Ge=-1;Se.equals(17)?Ge=(Me+1)%z.length:Se.equals(15)&&(Ge=0===Me?z.length-1:Me-1),Se.equals(9)?(z[Me].blur(),this.inputBox.focus()):Ge>=0&&z[Ge].focus(),st.zB.stop(Se,!0)}}});let ne=document.createElement("div");ne.className="controls",ne.style.display=this._showOptionButtons?"block":"none",ne.appendChild(this.preserveCase.domNode),this.domNode.appendChild(ne),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,Se=>this._onKeyDown.fire(Se)),this.onkeyup(this.inputBox.inputElement,Se=>this._onKeyUp.fire(Se)),this.oninput(this.inputBox.inputElement,Se=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Se=>this._onMouseDown.fire(Se))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){this.domNode&&(this.preserveCase.style({inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground}),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder}))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var Y1=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},J1=function(a,e){return function(t,n){e(t,n,a)}};const M0=new $t.uy("suggestWidgetVisible",!1,(0,Ee.N)("suggestWidgetVisible","Whether suggestion are visible")),Rf="historyNavigationWidget",X1="historyNavigationForwardsEnabled",q1="historyNavigationBackwardsEnabled";function eC(a,e){return a.getContext(document.activeElement).getValue(e)}function tC(a,e){const t=function(a,e){return a.createScoped(e.target)}(a,e);return function(a,e,t){new $t.uy("historyNavigationWidget",e).bindTo(a)}(t,e),{scopedContextKeyService:t,historyNavigationForwardsEnablement:new $t.uy(X1,!0).bindTo(t),historyNavigationBackwardsEnablement:new $t.uy(q1,!0).bindTo(t)}}let N0=class extends Ow{constructor(e,t,n,o,s=!1){super(e,t,s,n),this._register(tC(o,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};N0=Y1([J1(3,$t.i6)],N0);let I0=class extends Bw{constructor(e,t,n,o,s=!1){super(e,t,s,n),this._register(tC(o,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};I0=Y1([J1(3,$t.i6)],I0),Dr.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:$t.Ao.and($t.Ao.has(Rf),$t.Ao.equals(q1,!0),M0.isEqualTo(!1)),primary:16,secondary:[528],handler:a=>{const e=eC(a.get($t.i6),Rf);e&&e.historyNavigator.showPreviousValue()}}),Dr.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:$t.Ao.and($t.Ao.has(Rf),$t.Ao.equals(X1,!0),M0.isEqualTo(!1)),primary:18,secondary:[530],handler:a=>{const e=eC(a.get($t.i6),Rf);e&&e.historyNavigator.showNextValue()}});var Ff=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};const qi={Visible:M0,DetailsVisible:new $t.uy("suggestWidgetDetailsVisible",!1,(0,Ee.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new $t.uy("suggestWidgetMultipleSuggestions",!1,(0,Ee.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new $t.uy("suggestionMakesTextEdit",!0,(0,Ee.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new $t.uy("acceptSuggestionOnEnter",!0,(0,Ee.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new $t.uy("suggestionHasInsertAndReplaceRange",!1,(0,Ee.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new $t.uy("suggestionInsertMode",void 0,{type:"string",description:(0,Ee.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new $t.uy("suggestionCanResolve",!1,(0,Ee.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},Oc=new Hn.eH("suggestWidgetStatusBar");class Hw{constructor(e,t,n,o){this.position=e,this.completion=t,this.container=n,this.provider=o,this.isInvalid=!1,this.score=$s.CL.Default,this.distance=0,this.textLabel="string"==typeof t.label?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),kt.e.isIRange(t.range)?(this.editStart=new hi.L(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new hi.L(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new hi.L(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||kt.e.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new hi.L(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new hi.L(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new hi.L(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||kt.e.spansMultipleLines(t.range.insert)||kt.e.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),"function"!=typeof o.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return Ff(this,void 0,void 0,function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(n=>{Object.assign(this.completion,n),this._isResolved=!0,t.dispose()},n=>{(0,Un.n2)(n)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class xm{constructor(e=2,t=new Set,n=new Set,o=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=n,this.showDeprecated=o}}xm.default=new xm;class Uw{constructor(e,t,n,o){this.items=e,this.needsClipboard=t,this.durations=n,this.disposable=o}}function nC(a,e,t,n=xm.default,o={triggerKind:0},s=ti.T.None){return Ff(this,void 0,void 0,function*(){const d=new pa.G(!0);t=t.clone();const p=e.getWordAtPosition(t),R=p?new kt.e(t.lineNumber,p.startColumn,t.lineNumber,p.endColumn):kt.e.fromPositions(t),j={replace:R,insert:R.setEndPosition(t.lineNumber,t.column)},z=[],ne=new Pt.SL,Se=[];let Me=!1;const Ge=(Ft,Ot,qt)=>{var nn,Bn,Tn;let Ai=!1;if(!Ot)return Ai;for(let yi of Ot.suggestions)if(!n.kindFilter.has(yi.kind)){if(!n.showDeprecated&&(null===(nn=null==yi?void 0:yi.tags)||void 0===nn?void 0:nn.includes(1)))continue;yi.range||(yi.range=j),yi.sortText||(yi.sortText="string"==typeof yi.label?yi.label:yi.label.label),!Me&&yi.insertTextRules&&4&yi.insertTextRules&&(Me=Sm.guessNeedsClipboard(yi.insertText)),z.push(new Hw(t,yi,Ot,Ft)),Ai=!0}return(0,Pt.Wf)(Ot)&&ne.add(Ot),Se.push({providerName:null!==(Bn=Ft._debugDisplayName)&&void 0!==Bn?Bn:"unknown_provider",elapsedProvider:null!==(Tn=Ot.duration)&&void 0!==Tn?Tn:-1,elapsedOverall:qt.elapsed()}),Ai},dt=(()=>Ff(this,void 0,void 0,function*(){}))();for(let Ft of a.orderedGroups(e)){let Ot=!1;if(yield Promise.all(Ft.map(qt=>Ff(this,void 0,void 0,function*(){if(!(n.providerFilter.size>0)||n.providerFilter.has(qt))try{const nn=new pa.G(!0),Bn=yield qt.provideCompletionItems(e,t,o,s);Ot=Ge(qt,Bn,nn)||Ot}catch(nn){(0,Un.Cp)(nn)}}))),Ot||s.isCancellationRequested)break}return yield dt,s.isCancellationRequested?(ne.dispose(),Promise.reject((0,Un.F0)())):new Uw(z.sort(iC(n.snippetSortOrder)),Me,{entries:Se,elapsed:d.elapsed()},ne)})}function k0(a,e){if(a.sortTextLow&&e.sortTextLow){if(a.sortTextLow<e.sortTextLow)return-1;if(a.sortTextLow>e.sortTextLow)return 1}return a.completion.label<e.completion.label?-1:a.completion.label>e.completion.label?1:a.completion.kind-e.completion.kind}const Lm=new Map;function iC(a){return Lm.get(a)}Lm.set(0,function(a,e){if(a.completion.kind!==e.completion.kind){if(27===a.completion.kind)return-1;if(27===e.completion.kind)return 1}return k0(a,e)}),Lm.set(2,function(a,e){if(a.completion.kind!==e.completion.kind){if(27===a.completion.kind)return 1;if(27===e.completion.kind)return-1}return k0(a,e)}),Lm.set(1,k0),ro.P0.registerCommand("_executeCompletionItemProvider",(a,...e)=>Ff(void 0,void 0,void 0,function*(){const[t,n,o,s]=e;(0,Gi.p_)(So.o.isUri(t)),(0,Gi.p_)(hi.L.isIPosition(n)),(0,Gi.p_)("string"==typeof o||!o),(0,Gi.p_)("number"==typeof s||!s);const{completionProvider:d}=a.get($n.p),p=yield a.get(ta.S).createModelReference(t);try{const R={incomplete:!1,suggestions:[]},j=[],z=yield nC(d,p.object.textEditorModel,hi.L.lift(n),void 0,{triggerCharacter:o,triggerKind:o?1:0});for(const ne of z.items)j.length<(s??0)&&j.push(ne.resolve(ti.T.None)),R.incomplete=R.incomplete||ne.container.incomplete,R.suggestions.push(ne.completion);try{return yield Promise.all(j),R}finally{setTimeout(()=>z.disposable.dispose(),100)}}finally{p.dispose()}}));let Dm,T0=[];function $w(a,e,t){const{completionProvider:n}=a.get($n.p);Dm||(Dm=new class{provideCompletionItems(){let s={suggestions:T0.slice(0)};return T0.length=0,s}},n.register("*",Dm)),setTimeout(()=>{var o;T0.push(...t),null===(o=e.getContribution("editor.contrib.suggestController"))||void 0===o||o.triggerSuggest((new Set).add(Dm))},0)}var P0=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},Em=function(a,e){return function(t,n){e(t,n,a)}};const oC=st.$;let Mm=class rw extends Pt.JT{constructor(e,t,n){super(),this._editor=e,this._instantiationService=t,this._keybindingService=n,this._widget=this._register(this._instantiationService.createInstance(Hd,this._editor)),this._decorationsChangerListener=this._register(new Zw(this._editor)),this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const o of Vd.getAll())this._participants.push(this._instantiationService.createInstance(o,this._editor));this._participants.sort((o,s)=>o.hoverOrdinal-s.hoverOrdinal),this._computer=new Nm(this._editor,this._participants),this._hoverOperation=this._register(new U1(this._editor,this._computer)),this._register(this._hoverOperation.onResult(o=>{this._withResult(o.value,o.isComplete,o.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(st.mu(this._widget.getDomNode(),"keydown",o=>{o.equals(9)&&this.hide()})),this._register(eo.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(e){const t=[];for(const o of this._participants)if(o.suggestHoverAnchor){const s=o.suggestHoverAnchor(e);s&&t.push(s)}const n=e.target;if(6===n.type&&t.push(new D0(0,n.range)),7===n.type){const o=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!n.detail.isAfterLines&&"number"==typeof n.detail.horizontalDistanceToText&&n.detail.horizontalDistanceToText<o&&t.push(new D0(0,n.range))}return 0!==t.length&&(t.sort((o,s)=>s.priority-o.priority),this._startShowingAt(t[0],0,!1),!0)}startShowingAtRange(e,t,n){this._startShowingAt(new D0(0,e),t,n)}_startShowingAt(e,t,n){if(!this._computer.anchor||!this._computer.anchor.equals(e)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&e.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){const o=this._messages.filter(s=>s.isValidForHoverAnchor(e));if(0===o.length)this.hide();else{if(o.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,o)}}else this.hide();this._computer.anchor=e,this._computer.shouldFocus=n,this._hoverOperation.start(t)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}_addLoadingMessage(e){if(this._computer.anchor)for(const t of this._participants)if(t.createLoadingMessage){const n=t.createLoadingMessage(this._computer.anchor);if(n)return e.slice(0).concat([n])}return e}_withResult(e,t,n){this._messages=n?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}_renderMessages(e,t){let n=1073741824,o=t[0].range,s=null;for(const ne of t)n=Math.min(n,ne.range.startColumn),o=kt.e.plusRange(o,ne.range),ne.forceShowAtRange&&(s=ne.range);const d=new Pt.SL,p=d.add(new O0(this._keybindingService)),R=document.createDocumentFragment();let j=null;const z={fragment:R,statusBar:p,setColorPicker:ne=>j=ne,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const ne of this._participants){const Se=t.filter(Me=>Me.owner===ne);Se.length>0&&d.add(ne.renderHoverParts(z,Se))}if(p.hasContent&&R.appendChild(p.hoverElement),R.hasChildNodes()){if(o){const ne=this._decorationsChangerListener.deltaDecorations([],[{range:o,options:rw._DECORATION_OPTIONS}]);d.add((0,Pt.OF)(()=>{this._decorationsChangerListener.deltaDecorations(ne,[])}))}this._widget.showAt(R,new Gw(j,s?s.getStartPosition():new hi.L(e.range.startLineNumber,n),s||o,this._editor.getOption(53).above,this._computer.shouldFocus,d))}else d.dispose()}};Mm._DECORATION_OPTIONS=Zi.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),Mm=P0([Em(1,oo.TG),Em(2,js.d)],Mm);class Zw extends Pt.JT{constructor(e){super(),this._editor=e,this._onDidChangeModelDecorations=this._register(new Rn.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(t=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(t)}))}deltaDecorations(e,t){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(e,t)}finally{this._isChangingDecorations=!1}}}class Gw{constructor(e,t,n,o,s,d){this.colorPicker=e,this.showAtPosition=t,this.showAtRange=n,this.preferAbove=o,this.stoleFocus=s,this.disposables=d}}let Hd=class aw extends Pt.JT{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this.allowEditorOverflow=!0,this._hoverVisibleKey=vt.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new so),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var e,t;return null!==(t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition)&&void 0!==t?t:null}get isColorPickerVisible(){var e;return Boolean(null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return aw.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(qi.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}_setVisibleData(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:n}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=""+n/t,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}showAt(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}hide(){if(this._visibleData){const e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){const n=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==n&&(this._hover.contentsDomNode.style.paddingBottom=n,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Hd.ID="editor.contrib.contentHoverWidget",Hd=P0([Em(1,$t.i6)],Hd);let O0=class extends Pt.JT{constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=oC("div.hover-row.status-bar"),this.actionsElement=st.R3(this.hoverElement,oC("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(gr.render(this.actionsElement,e,n))}append(e){const t=st.R3(this.actionsElement,e);return this._hasContent=!0,t}};O0=P0([Em(0,js.d)],O0);class Nm{constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}static _getLineDecorations(e,t){if(1!==t.type)return[];const n=e.getModel(),o=t.range.startLineNumber,s=n.getLineMaxColumn(o);return e.getLineDecorations(o).filter(d=>{if(d.options.isWholeLine)return!0;const p=d.range.startLineNumber===o?d.range.startColumn:1,R=d.range.endLineNumber===o?d.range.endColumn:s;if(d.options.showIfCollapsed){if(p>t.range.startColumn+1||t.range.endColumn-1>R)return!1}else if(p>t.range.startColumn||t.range.endColumn>R)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return Wn.Aq.EMPTY;const n=Nm._getLineDecorations(this._editor,t);return Wn.Aq.merge(this._participants.map(o=>o.computeAsync?o.computeAsync(t,n,e):Wn.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=Nm._getLineDecorations(this._editor,this._anchor);let t=[];for(const n of this._participants)t=t.concat(n.computeSync(this._anchor,e));return(0,Wi.kX)(t)}}var Yw=Object.hasOwnProperty,sC=Object.setPrototypeOf,Jw=Object.isFrozen,Xw=Object.getPrototypeOf,qw=Object.getOwnPropertyDescriptor,Nr=Object.freeze,$l=Object.seal,ey=Object.create,rC="undefined"!=typeof Reflect&&Reflect,Im=rC.apply,A0=rC.construct;Im||(Im=function(e,t,n){return e.apply(t,n)}),Nr||(Nr=function(e){return e}),$l||($l=function(e){return e}),A0||(A0=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(a){if(Array.isArray(a)){for(var e=0,t=Array(a.length);e<a.length;e++)t[e]=a[e];return t}return Array.from(a)}(t))))});var ty=$a(Array.prototype.forEach),aC=$a(Array.prototype.pop),Wf=$a(Array.prototype.push),zd=$a(String.prototype.toLowerCase),lC=$a(String.prototype.match),Ac=$a(String.prototype.replace),ny=$a(String.prototype.indexOf),iy=$a(String.prototype.trim),Zl=$a(RegExp.prototype.test),cC=function(a){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return A0(a,t)}}(TypeError);function $a(a){return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Im(a,e,n)}}function fo(a,e){sC&&sC(a,null);for(var t=e.length;t--;){var n=e[t];if("string"==typeof n){var o=zd(n);o!==n&&(Jw(e)||(e[t]=o),n=o)}a[n]=!0}return a}function Ud(a){var e=ey(null),t=void 0;for(t in a)Im(Yw,a,[t])&&(e[t]=a[t]);return e}function km(a,e){for(;null!==a;){var t=qw(a,e);if(t){if(t.get)return $a(t.get);if("function"==typeof t.value)return $a(t.value)}a=Xw(a)}return function(o){return console.warn("fallback value for",o),null}}var dC=Nr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R0=Nr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F0=Nr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),sy=Nr(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B0=Nr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ry=Nr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),uC=Nr(["#text"]),hC=Nr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),W0=Nr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),fC=Nr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tm=Nr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ay=$l(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ly=$l(/<%[\s\S]*|[\s\S]*%>/gm),cy=$l(/^data-[\-\w.\u00B7-\uFFFF]/),dy=$l(/^aria-[\-\w]+$/),uy=$l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hy=$l(/^(?:\w+script|data):/i),fy=$l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function ul(a){if(Array.isArray(a)){for(var e=0,t=Array(a.length);e<a.length;e++)t[e]=a[e];return t}return Array.from(a)}var gy=function(){return"undefined"==typeof window?null:window},my=function(e,t){if("object"!==(void 0===e?"undefined":Vf(e))||"function"!=typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o));var s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML:function(p){return p}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},hl=function gC(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gy(),e=function(tn){return gC(tn)};if(e.version="2.3.1",e.removed=[],!a||!a.document||9!==a.document.nodeType)return e.isSupported=!1,e;var t=a.document,n=a.document,o=a.DocumentFragment,s=a.HTMLTemplateElement,d=a.Node,p=a.Element,R=a.NodeFilter,j=a.NamedNodeMap,z=void 0===j?a.NamedNodeMap||a.MozNamedAttrMap:j,ne=a.Text,Se=a.Comment,Me=a.DOMParser,Ge=a.trustedTypes,dt=p.prototype,Ft=km(dt,"cloneNode"),Ot=km(dt,"nextSibling"),qt=km(dt,"childNodes"),nn=km(dt,"parentNode");if("function"==typeof s){var Bn=n.createElement("template");Bn.content&&Bn.content.ownerDocument&&(n=Bn.content.ownerDocument)}var Tn=my(Ge,t),Ai=Tn&&Ah?Tn.createHTML(""):"",yi=n,ls=yi.implementation,Bs=yi.createNodeIterator,Ws=yi.createDocumentFragment,Da=yi.getElementsByTagName,Ga=t.importNode,ir={};try{ir=Ud(n).documentMode?n.documentMode:{}}catch{}var pr={};e.isSupported="function"==typeof nn&&ls&&void 0!==ls.createHTMLDocument&&9!==ir;var Qa=ay,Jc=ly,cu=cy,du=dy,Sp=hy,xp=fy,Xc=uy,si=null,ri=fo({},[].concat(ul(dC),ul(R0),ul(F0),ul(B0),ul(uC))),Gs=null,Cg=fo({},[].concat(ul(hC),ul(W0),ul(fC),ul(Tm))),Ya=null,qc=null,Ph=!0,uu=!0,vl=!1,Ii=!1,ed=!1,bg=!1,vg=!1,td=!1,Oh=!1,Lp=!0,Ah=!1,Dp=!0,an=!0,jt=!1,Qt={},tt=null,lt=fo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Tt=null,wt=fo({},["audio","video","img","source","image","track"]),un=null,Cn=fo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ii="http://www.w3.org/1998/Math/MathML",Gn="http://www.w3.org/2000/svg",Ri="http://www.w3.org/1999/xhtml",Fi=Ri,Io=!1,lo=null,ui=n.createElement("form"),cs=function(tn){lo&&lo===tn||((!tn||"object"!==(void 0===tn?"undefined":Vf(tn)))&&(tn={}),tn=Ud(tn),si="ALLOWED_TAGS"in tn?fo({},tn.ALLOWED_TAGS):ri,Gs="ALLOWED_ATTR"in tn?fo({},tn.ALLOWED_ATTR):Cg,un="ADD_URI_SAFE_ATTR"in tn?fo(Ud(Cn),tn.ADD_URI_SAFE_ATTR):Cn,Tt="ADD_DATA_URI_TAGS"in tn?fo(Ud(wt),tn.ADD_DATA_URI_TAGS):wt,tt="FORBID_CONTENTS"in tn?fo({},tn.FORBID_CONTENTS):lt,Ya="FORBID_TAGS"in tn?fo({},tn.FORBID_TAGS):{},qc="FORBID_ATTR"in tn?fo({},tn.FORBID_ATTR):{},Ph=!1!==tn.ALLOW_ARIA_ATTR,uu=!1!==tn.ALLOW_DATA_ATTR,vl=tn.ALLOW_UNKNOWN_PROTOCOLS||!1,ed=tn.WHOLE_DOCUMENT||!1,td=tn.RETURN_DOM||!1,Lp=!1!==tn.RETURN_DOM_IMPORT,Ah=tn.RETURN_TRUSTED_TYPE||!1,vg=tn.FORCE_BODY||!1,Dp=!1!==tn.SANITIZE_DOM,an=!1!==tn.KEEP_CONTENT,jt=tn.IN_PLACE||!1,Xc=tn.ALLOWED_URI_REGEXP||Xc,Fi=tn.NAMESPACE||Ri,(Ii=tn.SAFE_FOR_TEMPLATES||!1)&&(uu=!1),(Oh=tn.RETURN_DOM_FRAGMENT||!1)&&(td=!0),(Qt="USE_PROFILES"in tn&&tn.USE_PROFILES)&&(si=fo({},[].concat(ul(uC))),Gs=[],!0===Qt.html&&(fo(si,dC),fo(Gs,hC)),!0===Qt.svg&&(fo(si,R0),fo(Gs,W0),fo(Gs,Tm)),!0===Qt.svgFilters&&(fo(si,F0),fo(Gs,W0),fo(Gs,Tm)),!0===Qt.mathMl&&(fo(si,B0),fo(Gs,fC),fo(Gs,Tm))),tn.ADD_TAGS&&(si===ri&&(si=Ud(si)),fo(si,tn.ADD_TAGS)),tn.ADD_ATTR&&(Gs===Cg&&(Gs=Ud(Gs)),fo(Gs,tn.ADD_ATTR)),tn.ADD_URI_SAFE_ATTR&&fo(un,tn.ADD_URI_SAFE_ATTR),tn.FORBID_CONTENTS&&(tt===lt&&(tt=Ud(tt)),fo(tt,tn.FORBID_CONTENTS)),an&&(si["#text"]=!0),ed&&fo(si,["html","head","body"]),si.table&&(fo(si,["tbody"]),delete Ya.tbody),Nr&&Nr(tn),lo=tn)},$o=fo({},["mi","mo","mn","ms","mtext"]),la=fo({},["foreignobject","desc","title","annotation-xml"]),zo=fo({},R0);fo(zo,F0),fo(zo,sy);var ws=fo({},B0);fo(ws,ry);var hu=function(tn){var jn=nn(tn);(!jn||!jn.tagName)&&(jn={namespaceURI:Ri,tagName:"template"});var Si=zd(tn.tagName),Uo=zd(jn.tagName);if(tn.namespaceURI===Gn)return jn.namespaceURI===Ri?"svg"===Si:jn.namespaceURI===ii?"svg"===Si&&("annotation-xml"===Uo||$o[Uo]):Boolean(zo[Si]);if(tn.namespaceURI===ii)return jn.namespaceURI===Ri?"math"===Si:jn.namespaceURI===Gn?"math"===Si&&la[Uo]:Boolean(ws[Si]);if(tn.namespaceURI===Ri){if(jn.namespaceURI===Gn&&!la[Uo]||jn.namespaceURI===ii&&!$o[Uo])return!1;var _r=fo({},["title","style","font","a","script"]);return!ws[Si]&&(_r[Si]||!zo[Si])}return!1},Kr=function(tn){Wf(e.removed,{element:tn});try{tn.parentNode.removeChild(tn)}catch{try{tn.outerHTML=Ai}catch{tn.remove()}}},Ja=function(tn,jn){try{Wf(e.removed,{attribute:jn.getAttributeNode(tn),from:jn})}catch{Wf(e.removed,{attribute:null,from:jn})}if(jn.removeAttribute(tn),"is"===tn&&!Gs[tn])if(td||Oh)try{Kr(jn)}catch{}else try{jn.setAttribute(tn,"")}catch{}},nd=function(tn){var jn=void 0,Si=void 0;if(vg)tn="<remove></remove>"+tn;else{var Uo=lC(tn,/^[\r\n\t ]+/);Si=Uo&&Uo[0]}var _r=Tn?Tn.createHTML(tn):tn;if(Fi===Ri)try{jn=(new Me).parseFromString(_r,"text/html")}catch{}if(!jn||!jn.documentElement){jn=ls.createDocument(Fi,"template",null);try{jn.documentElement.innerHTML=Io?"":_r}catch{}}var Cr=jn.body||jn.documentElement;return tn&&Si&&Cr.insertBefore(n.createTextNode(Si),Cr.childNodes[0]||null),Fi===Ri?Da.call(jn,ed?"html":"body")[0]:ed?jn.documentElement:Cr},nc=function(tn){return Bs.call(tn.ownerDocument||tn,tn,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,null,!1)},Rh=function(tn){return!(tn instanceof ne||tn instanceof Se||"string"==typeof tn.nodeName&&"string"==typeof tn.textContent&&"function"==typeof tn.removeChild&&tn.attributes instanceof z&&"function"==typeof tn.removeAttribute&&"function"==typeof tn.setAttribute&&"string"==typeof tn.namespaceURI&&"function"==typeof tn.insertBefore)},id=function(tn){return"object"===(void 0===d?"undefined":Vf(d))?tn instanceof d:tn&&"object"===(void 0===tn?"undefined":Vf(tn))&&"number"==typeof tn.nodeType&&"string"==typeof tn.nodeName},Xa=function(tn,jn,Si){!pr[tn]||ty(pr[tn],function(Uo){Uo.call(e,jn,Si,lo)})},wg=function(tn){var jn=void 0;if(Xa("beforeSanitizeElements",tn,null),Rh(tn)||lC(tn.nodeName,/[\u0080-\uFFFF]/))return Kr(tn),!0;var Si=zd(tn.nodeName);if(Xa("uponSanitizeElement",tn,{tagName:Si,allowedTags:si}),!id(tn.firstElementChild)&&(!id(tn.content)||!id(tn.content.firstElementChild))&&Zl(/<[/\w]/g,tn.innerHTML)&&Zl(/<[/\w]/g,tn.textContent)||"select"===Si&&Zl(/<template/i,tn.innerHTML))return Kr(tn),!0;if(!si[Si]||Ya[Si]){if(an&&!tt[Si]){var Uo=nn(tn)||tn.parentNode,_r=qt(tn)||tn.childNodes;if(_r&&Uo)for(var br=_r.length-1;br>=0;--br)Uo.insertBefore(Ft(_r[br],!0),Ot(tn))}return Kr(tn),!0}return tn instanceof p&&!hu(tn)||("noscript"===Si||"noembed"===Si)&&Zl(/<\/no(script|embed)/i,tn.innerHTML)?(Kr(tn),!0):(Ii&&3===tn.nodeType&&(jn=Ac(jn=tn.textContent,Qa," "),jn=Ac(jn,Jc," "),tn.textContent!==jn&&(Wf(e.removed,{element:tn.cloneNode()}),tn.textContent=jn)),Xa("afterSanitizeElements",tn,null),!1)},Ep=function(tn,jn,Si){if(Dp&&("id"===jn||"name"===jn)&&(Si in n||Si in ui))return!1;if((!uu||qc[jn]||!Zl(cu,jn))&&(!Ph||!Zl(du,jn))){if(!Gs[jn]||qc[jn])return!1;if(!un[jn]&&!Zl(Xc,Ac(Si,xp,""))&&("src"!==jn&&"xlink:href"!==jn&&"href"!==jn||"script"===tn||0!==ny(Si,"data:")||!Tt[tn])&&(!vl||Zl(Sp,Ac(Si,xp,"")))&&Si)return!1}return!0},Zv=function(tn){var jn=void 0,Si=void 0,Uo=void 0,_r=void 0;Xa("beforeSanitizeAttributes",tn,null);var Cr=tn.attributes;if(Cr){var br={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Gs};for(_r=Cr.length;_r--;){var yg=(jn=Cr[_r]).name,Gv=jn.namespaceURI;if(Si=iy(jn.value),Uo=zd(yg),br.attrName=Uo,br.attrValue=Si,br.keepAttr=!0,br.forceKeepAttr=void 0,Xa("uponSanitizeAttribute",tn,br),Si=br.attrValue,!br.forceKeepAttr&&(Ja(yg,tn),br.keepAttr)){if(Zl(/\/>/i,Si)){Ja(yg,tn);continue}Ii&&(Si=Ac(Si,Qa," "),Si=Ac(Si,Jc," "));var _I=tn.nodeName.toLowerCase();if(Ep(_I,Uo,Si))try{Gv?tn.setAttributeNS(Gv,yg,Si):tn.setAttribute(yg,Si),aC(e.removed)}catch{}}}Xa("afterSanitizeAttributes",tn,null)}},pI=function Ui(tn){var jn=void 0,Si=nc(tn);for(Xa("beforeSanitizeShadowDOM",tn,null);jn=Si.nextNode();)Xa("uponSanitizeShadowNode",jn,null),!wg(jn)&&(jn.content instanceof o&&Ui(jn.content),Zv(jn));Xa("afterSanitizeShadowDOM",tn,null)};return e.sanitize=function(Ui,tn){var jn=void 0,Si=void 0,Uo=void 0,_r=void 0,Cr=void 0;if((Io=!Ui)&&(Ui="\x3c!--\x3e"),"string"!=typeof Ui&&!id(Ui)){if("function"!=typeof Ui.toString)throw cC("toString is not a function");if("string"!=typeof(Ui=Ui.toString()))throw cC("dirty is not a string, aborting")}if(!e.isSupported){if("object"===Vf(a.toStaticHTML)||"function"==typeof a.toStaticHTML){if("string"==typeof Ui)return a.toStaticHTML(Ui);if(id(Ui))return a.toStaticHTML(Ui.outerHTML)}return Ui}if(bg||cs(tn),e.removed=[],"string"==typeof Ui&&(jt=!1),!jt)if(Ui instanceof d)1===(Si=(jn=nd("\x3c!----\x3e")).ownerDocument.importNode(Ui,!0)).nodeType&&"BODY"===Si.nodeName||"HTML"===Si.nodeName?jn=Si:jn.appendChild(Si);else{if(!td&&!Ii&&!ed&&-1===Ui.indexOf("<"))return Tn&&Ah?Tn.createHTML(Ui):Ui;if(!(jn=nd(Ui)))return td?null:Ai}jn&&vg&&Kr(jn.firstChild);for(var br=nc(jt?Ui:jn);Uo=br.nextNode();)3===Uo.nodeType&&Uo===_r||wg(Uo)||(Uo.content instanceof o&&pI(Uo.content),Zv(Uo),_r=Uo);if(_r=null,jt)return Ui;if(td){if(Oh)for(Cr=Ws.call(jn.ownerDocument);jn.firstChild;)Cr.appendChild(jn.firstChild);else Cr=jn;return Lp&&(Cr=Ga.call(t,Cr,!0)),Cr}var ic=ed?jn.outerHTML:jn.innerHTML;return Ii&&(ic=Ac(ic,Qa," "),ic=Ac(ic,Jc," ")),Tn&&Ah?Tn.createHTML(ic):ic},e.setConfig=function(Ui){cs(Ui),bg=!0},e.clearConfig=function(){lo=null,bg=!1},e.isValidAttribute=function(Ui,tn,jn){lo||cs({});var Si=zd(Ui),Uo=zd(tn);return Ep(Si,Uo,jn)},e.addHook=function(Ui,tn){"function"==typeof tn&&(pr[Ui]=pr[Ui]||[],Wf(pr[Ui],tn))},e.removeHook=function(Ui){pr[Ui]&&aC(pr[Ui])},e.removeHooks=function(Ui){pr[Ui]&&(pr[Ui]=[])},e.removeAllHooks=function(){pr={}},e}();const py=hl.sanitize,mC=hl.addHook,pC=hl.removeHook;var Hf=m(71172),_C=m(25662),_y=m(2886),CC=m(42623);let bC={};!function(){function a(e,t){t(bC)}a.amd=!0,function(e,t){"object"==typeof exports?t(exports):a.amd?a(0,t):t((e="undefined"!=typeof globalThis?globalThis:e||self).marked={})}(this,function(e){function t(an,jt){for(var Qt=0;Qt<jt.length;Qt++){var tt=jt[Qt];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(an,tt.key,tt)}}function s(an,jt){(null==jt||jt>an.length)&&(jt=an.length);for(var Qt=0,tt=new Array(jt);Qt<jt;Qt++)tt[Qt]=an[Qt];return tt}function d(an,jt){var Qt="undefined"!=typeof Symbol&&an[Symbol.iterator]||an["@@iterator"];if(Qt)return(Qt=Qt.call(an)).next.bind(Qt);if(Array.isArray(an)||(Qt=function(an,jt){if(an){if("string"==typeof an)return s(an,undefined);var Qt=Object.prototype.toString.call(an).slice(8,-1);if("Object"===Qt&&an.constructor&&(Qt=an.constructor.name),"Map"===Qt||"Set"===Qt)return Array.from(an);if("Arguments"===Qt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt))return s(an,undefined)}}(an))||jt&&an&&"number"==typeof an.length){Qt&&(an=Qt);var tt=0;return function(){return tt>=an.length?{done:!0}:{done:!1,value:an[tt++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var j=/[&<>"']/,z=/[&<>"']/g,ne=/[<>"']|&(?!#?\w+;)/,Se=/[<>"']|&(?!#?\w+;)/g,Me={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ge=function(jt){return Me[jt]};function dt(an,jt){if(jt){if(j.test(an))return an.replace(z,Ge)}else if(ne.test(an))return an.replace(Se,Ge);return an}var Ft=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Ot(an){return an.replace(Ft,function(jt,Qt){return"colon"===(Qt=Qt.toLowerCase())?":":"#"===Qt.charAt(0)?"x"===Qt.charAt(1)?String.fromCharCode(parseInt(Qt.substring(2),16)):String.fromCharCode(+Qt.substring(1)):""})}var qt=/(^|[^\[])\^/g;function nn(an,jt){an=an.source||an,jt=jt||"";var Qt={replace:function(lt,Tt){return Tt=(Tt=Tt.source||Tt).replace(qt,"$1"),an=an.replace(lt,Tt),Qt},getRegex:function(){return new RegExp(an,jt)}};return Qt}var Bn=/[^\w:]/g,Tn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ai(an,jt,Qt){if(an){var tt;try{tt=decodeURIComponent(Ot(Qt)).replace(Bn,"").toLowerCase()}catch{return null}if(0===tt.indexOf("javascript:")||0===tt.indexOf("vbscript:")||0===tt.indexOf("data:"))return null}jt&&!Tn.test(Qt)&&(Qt=function(an,jt){yi[" "+an]||(yi[" "+an]=ls.test(an)?an+"/":Qa(an,"/",!0));var Qt=-1===(an=yi[" "+an]).indexOf(":");return"//"===jt.substring(0,2)?Qt?jt:an.replace(Bs,"$1")+jt:"/"===jt.charAt(0)?Qt?jt:an.replace(Ws,"$1")+jt:an+jt}(jt,Qt));try{Qt=encodeURI(Qt).replace(/%25/g,"%")}catch{return null}return Qt}var yi={},ls=/^[^:]+:\/*[^/]*$/,Bs=/^([^:]+:)[\s\S]*$/,Ws=/^([^:]+:\/*[^/]*)[\s\S]*$/,Ga={exec:function(){}};function ir(an){for(var Qt,tt,jt=1;jt<arguments.length;jt++)for(tt in Qt=arguments[jt])Object.prototype.hasOwnProperty.call(Qt,tt)&&(an[tt]=Qt[tt]);return an}function pr(an,jt){var tt=an.replace(/\|/g,function(Tt,wt,un){for(var Cn=!1,ii=wt;--ii>=0&&"\\"===un[ii];)Cn=!Cn;return Cn?"|":" |"}).split(/ \|/),lt=0;if(tt[0].trim()||tt.shift(),tt[tt.length-1].trim()||tt.pop(),tt.length>jt)tt.splice(jt);else for(;tt.length<jt;)tt.push("");for(;lt<tt.length;lt++)tt[lt]=tt[lt].trim().replace(/\\\|/g,"|");return tt}function Qa(an,jt,Qt){var tt=an.length;if(0===tt)return"";for(var lt=0;lt<tt;){var Tt=an.charAt(tt-lt-1);if(Tt!==jt||Qt){if(Tt===jt||!Qt)break;lt++}else lt++}return an.substr(0,tt-lt)}function cu(an){an&&an.sanitize&&!an.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function du(an,jt){if(jt<1)return"";for(var Qt="";jt>1;)1&jt&&(Qt+=an),jt>>=1,an+=an;return Qt+an}function Sp(an,jt,Qt,tt){var lt=jt.href,Tt=jt.title?dt(jt.title):null,wt=an[1].replace(/\\([\[\]])/g,"$1");if("!"!==an[0].charAt(0)){tt.state.inLink=!0;var un={type:"link",raw:Qt,href:lt,title:Tt,text:wt,tokens:tt.inlineTokens(wt,[])};return tt.state.inLink=!1,un}return{type:"image",raw:Qt,href:lt,title:Tt,text:dt(wt)}}var Xc=function(){function an(Qt){this.options=Qt||e.defaults}var jt=an.prototype;return jt.space=function(tt){var lt=this.rules.block.newline.exec(tt);if(lt&&lt[0].length>0)return{type:"space",raw:lt[0]}},jt.code=function(tt){var lt=this.rules.block.code.exec(tt);if(lt){var Tt=lt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:lt[0],codeBlockStyle:"indented",text:this.options.pedantic?Tt:Qa(Tt,"\n")}}},jt.fences=function(tt){var lt=this.rules.block.fences.exec(tt);if(lt){var Tt=lt[0],wt=function(an,jt){var Qt=an.match(/^(\s+)(?:```)/);if(null===Qt)return jt;var tt=Qt[1];return jt.split("\n").map(function(lt){var Tt=lt.match(/^\s+/);return null===Tt?lt:Tt[0].length>=tt.length?lt.slice(tt.length):lt}).join("\n")}(Tt,lt[3]||"");return{type:"code",raw:Tt,lang:lt[2]?lt[2].trim():lt[2],text:wt}}},jt.heading=function(tt){var lt=this.rules.block.heading.exec(tt);if(lt){var Tt=lt[2].trim();if(/#$/.test(Tt)){var wt=Qa(Tt,"#");(this.options.pedantic||!wt||/ $/.test(wt))&&(Tt=wt.trim())}var un={type:"heading",raw:lt[0],depth:lt[1].length,text:Tt,tokens:[]};return this.lexer.inline(un.text,un.tokens),un}},jt.hr=function(tt){var lt=this.rules.block.hr.exec(tt);if(lt)return{type:"hr",raw:lt[0]}},jt.blockquote=function(tt){var lt=this.rules.block.blockquote.exec(tt);if(lt){var Tt=lt[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:lt[0],tokens:this.lexer.blockTokens(Tt,[]),text:Tt}}},jt.list=function(tt){var lt=this.rules.block.list.exec(tt);if(lt){var Tt,wt,un,Cn,ii,Gn,Ri,Fi,Io,lo,ui,cs,$o=lt[1].trim(),la=$o.length>1,zo={type:"list",raw:"",ordered:la,start:la?+$o.slice(0,-1):"",loose:!1,items:[]};$o=la?"\\d{1,9}\\"+$o.slice(-1):"\\"+$o,this.options.pedantic&&($o=la?$o:"[*+-]");for(var ws=new RegExp("^( {0,3}"+$o+")((?: [^\\n]*)?(?:\\n|$))");tt&&(cs=!1,(lt=ws.exec(tt))&&!this.rules.block.hr.test(tt));){if(tt=tt.substring((Tt=lt[0]).length),Fi=lt[2].split("\n",1)[0],Io=tt.split("\n",1)[0],this.options.pedantic?(Cn=2,ui=Fi.trimLeft()):(Cn=lt[2].search(/[^ ]/),ui=Fi.slice(Cn=Cn>4?1:Cn),Cn+=lt[1].length),Gn=!1,!Fi&&/^ *$/.test(Io)&&(Tt+=Io+"\n",tt=tt.substring(Io.length+1),cs=!0),!cs)for(var hu=new RegExp("^ {0,"+Math.min(3,Cn-1)+"}(?:[*+-]|\\d{1,9}[.)])");tt&&(Fi=lo=tt.split("\n",1)[0],this.options.pedantic&&(Fi=Fi.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!hu.test(Fi));){if(Fi.search(/[^ ]/)>=Cn||!Fi.trim())ui+="\n"+Fi.slice(Cn);else{if(Gn)break;ui+="\n"+Fi}!Gn&&!Fi.trim()&&(Gn=!0),Tt+=lo+"\n",tt=tt.substring(lo.length+1)}zo.loose||(Ri?zo.loose=!0:/\n *\n *$/.test(Tt)&&(Ri=!0)),this.options.gfm&&(wt=/^\[[ xX]\] /.exec(ui))&&(un="[ ] "!==wt[0],ui=ui.replace(/^\[[ xX]\] +/,"")),zo.items.push({type:"list_item",raw:Tt,task:!!wt,checked:un,loose:!1,text:ui}),zo.raw+=Tt}zo.items[zo.items.length-1].raw=Tt.trimRight(),zo.items[zo.items.length-1].text=ui.trimRight(),zo.raw=zo.raw.trimRight();var Kr=zo.items.length;for(ii=0;ii<Kr;ii++){this.lexer.state.top=!1,zo.items[ii].tokens=this.lexer.blockTokens(zo.items[ii].text,[]);var Ja=zo.items[ii].tokens.filter(function(nc){return"space"===nc.type}),nd=Ja.every(function(nc){for(var wg,id=0,Xa=d(nc.raw.split(""));!(wg=Xa()).done;)if("\n"===wg.value&&(id+=1),id>1)return!0;return!1});!zo.loose&&Ja.length&&nd&&(zo.loose=!0,zo.items[ii].loose=!0)}return zo}},jt.html=function(tt){var lt=this.rules.block.html.exec(tt);if(lt){var Tt={type:"html",raw:lt[0],pre:!this.options.sanitizer&&("pre"===lt[1]||"script"===lt[1]||"style"===lt[1]),text:lt[0]};return this.options.sanitize&&(Tt.type="paragraph",Tt.text=this.options.sanitizer?this.options.sanitizer(lt[0]):dt(lt[0]),Tt.tokens=[],this.lexer.inline(Tt.text,Tt.tokens)),Tt}},jt.def=function(tt){var lt=this.rules.block.def.exec(tt);if(lt)return lt[3]&&(lt[3]=lt[3].substring(1,lt[3].length-1)),{type:"def",tag:lt[1].toLowerCase().replace(/\s+/g," "),raw:lt[0],href:lt[2],title:lt[3]}},jt.table=function(tt){var lt=this.rules.block.table.exec(tt);if(lt){var Tt={type:"table",header:pr(lt[1]).map(function(Ri){return{text:Ri}}),align:lt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:lt[3]?lt[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(Tt.header.length===Tt.align.length){Tt.raw=lt[0];var un,Cn,ii,Gn,wt=Tt.align.length;for(un=0;un<wt;un++)Tt.align[un]=/^ *-+: *$/.test(Tt.align[un])?"right":/^ *:-+: *$/.test(Tt.align[un])?"center":/^ *:-+ *$/.test(Tt.align[un])?"left":null;for(wt=Tt.rows.length,un=0;un<wt;un++)Tt.rows[un]=pr(Tt.rows[un],Tt.header.length).map(function(Ri){return{text:Ri}});for(wt=Tt.header.length,Cn=0;Cn<wt;Cn++)Tt.header[Cn].tokens=[],this.lexer.inlineTokens(Tt.header[Cn].text,Tt.header[Cn].tokens);for(wt=Tt.rows.length,Cn=0;Cn<wt;Cn++)for(Gn=Tt.rows[Cn],ii=0;ii<Gn.length;ii++)Gn[ii].tokens=[],this.lexer.inlineTokens(Gn[ii].text,Gn[ii].tokens);return Tt}}},jt.lheading=function(tt){var lt=this.rules.block.lheading.exec(tt);if(lt){var Tt={type:"heading",raw:lt[0],depth:"="===lt[2].charAt(0)?1:2,text:lt[1],tokens:[]};return this.lexer.inline(Tt.text,Tt.tokens),Tt}},jt.paragraph=function(tt){var lt=this.rules.block.paragraph.exec(tt);if(lt){var Tt={type:"paragraph",raw:lt[0],text:"\n"===lt[1].charAt(lt[1].length-1)?lt[1].slice(0,-1):lt[1],tokens:[]};return this.lexer.inline(Tt.text,Tt.tokens),Tt}},jt.text=function(tt){var lt=this.rules.block.text.exec(tt);if(lt){var Tt={type:"text",raw:lt[0],text:lt[0],tokens:[]};return this.lexer.inline(Tt.text,Tt.tokens),Tt}},jt.escape=function(tt){var lt=this.rules.inline.escape.exec(tt);if(lt)return{type:"escape",raw:lt[0],text:dt(lt[1])}},jt.tag=function(tt){var lt=this.rules.inline.tag.exec(tt);if(lt)return!this.lexer.state.inLink&&/^<a /i.test(lt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(lt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(lt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(lt[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:lt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(lt[0]):dt(lt[0]):lt[0]}},jt.link=function(tt){var lt=this.rules.inline.link.exec(tt);if(lt){var Tt=lt[2].trim();if(!this.options.pedantic&&/^</.test(Tt)){if(!/>$/.test(Tt))return;var wt=Qa(Tt.slice(0,-1),"\\");if((Tt.length-wt.length)%2==0)return}else{var un=function(an,jt){if(-1===an.indexOf("()"[1]))return-1;for(var Qt=an.length,tt=0,lt=0;lt<Qt;lt++)if("\\"===an[lt])lt++;else if(an[lt]==="()"[0])tt++;else if(an[lt]==="()"[1]&&--tt<0)return lt;return-1}(lt[2]);if(un>-1){var ii=(0===lt[0].indexOf("!")?5:4)+lt[1].length+un;lt[2]=lt[2].substring(0,un),lt[0]=lt[0].substring(0,ii).trim(),lt[3]=""}}var Gn=lt[2],Ri="";if(this.options.pedantic){var Fi=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Gn);Fi&&(Gn=Fi[1],Ri=Fi[3])}else Ri=lt[3]?lt[3].slice(1,-1):"";return Gn=Gn.trim(),/^</.test(Gn)&&(Gn=this.options.pedantic&&!/>$/.test(Tt)?Gn.slice(1):Gn.slice(1,-1)),Sp(lt,{href:Gn&&Gn.replace(this.rules.inline._escapes,"$1"),title:Ri&&Ri.replace(this.rules.inline._escapes,"$1")},lt[0],this.lexer)}},jt.reflink=function(tt,lt){var Tt;if((Tt=this.rules.inline.reflink.exec(tt))||(Tt=this.rules.inline.nolink.exec(tt))){var wt=(Tt[2]||Tt[1]).replace(/\s+/g," ");if(!(wt=lt[wt.toLowerCase()])||!wt.href){var un=Tt[0].charAt(0);return{type:"text",raw:un,text:un}}return Sp(Tt,wt,Tt[0],this.lexer)}},jt.emStrong=function(tt,lt,Tt){void 0===Tt&&(Tt="");var wt=this.rules.inline.emStrong.lDelim.exec(tt);if(wt&&(!wt[3]||!Tt.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var un=wt[1]||wt[2]||"";if(!un||un&&(""===Tt||this.rules.inline.punctuation.exec(Tt))){var ii,Gn,Cn=wt[0].length-1,Ri=Cn,Fi=0,Io="*"===wt[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Io.lastIndex=0,lt=lt.slice(-1*tt.length+Cn);null!=(wt=Io.exec(lt));)if(ii=wt[1]||wt[2]||wt[3]||wt[4]||wt[5]||wt[6]){if(Gn=ii.length,wt[3]||wt[4]){Ri+=Gn;continue}if((wt[5]||wt[6])&&Cn%3&&!((Cn+Gn)%3)){Fi+=Gn;continue}if(!((Ri-=Gn)>0)){if(Gn=Math.min(Gn,Gn+Ri+Fi),Math.min(Cn,Gn)%2){var lo=tt.slice(1,Cn+wt.index+Gn);return{type:"em",raw:tt.slice(0,Cn+wt.index+Gn+1),text:lo,tokens:this.lexer.inlineTokens(lo,[])}}var ui=tt.slice(2,Cn+wt.index+Gn-1);return{type:"strong",raw:tt.slice(0,Cn+wt.index+Gn+1),text:ui,tokens:this.lexer.inlineTokens(ui,[])}}}}}},jt.codespan=function(tt){var lt=this.rules.inline.code.exec(tt);if(lt){var Tt=lt[2].replace(/\n/g," "),wt=/[^ ]/.test(Tt),un=/^ /.test(Tt)&&/ $/.test(Tt);return wt&&un&&(Tt=Tt.substring(1,Tt.length-1)),Tt=dt(Tt,!0),{type:"codespan",raw:lt[0],text:Tt}}},jt.br=function(tt){var lt=this.rules.inline.br.exec(tt);if(lt)return{type:"br",raw:lt[0]}},jt.del=function(tt){var lt=this.rules.inline.del.exec(tt);if(lt)return{type:"del",raw:lt[0],text:lt[2],tokens:this.lexer.inlineTokens(lt[2],[])}},jt.autolink=function(tt,lt){var wt,un,Tt=this.rules.inline.autolink.exec(tt);if(Tt)return un="@"===Tt[2]?"mailto:"+(wt=dt(this.options.mangle?lt(Tt[1]):Tt[1])):wt=dt(Tt[1]),{type:"link",raw:Tt[0],text:wt,href:un,tokens:[{type:"text",raw:wt,text:wt}]}},jt.url=function(tt,lt){var Tt;if(Tt=this.rules.inline.url.exec(tt)){var wt,un;if("@"===Tt[2])un="mailto:"+(wt=dt(this.options.mangle?lt(Tt[0]):Tt[0]));else{var Cn;do{Cn=Tt[0],Tt[0]=this.rules.inline._backpedal.exec(Tt[0])[0]}while(Cn!==Tt[0]);wt=dt(Tt[0]),un="www."===Tt[1]?"http://"+wt:wt}return{type:"link",raw:Tt[0],text:wt,href:un,tokens:[{type:"text",raw:wt,text:wt}]}}},jt.inlineText=function(tt,lt){var wt,Tt=this.rules.inline.text.exec(tt);if(Tt)return wt=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Tt[0]):dt(Tt[0]):Tt[0]:dt(this.options.smartypants?lt(Tt[0]):Tt[0]),{type:"text",raw:Tt[0],text:wt}},an}(),si={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ga,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};si.def=nn(si.def).replace("label",si._label).replace("title",si._title).getRegex(),si.bullet=/(?:[*+-]|\d{1,9}[.)])/,si.listItemStart=nn(/^( *)(bull) */).replace("bull",si.bullet).getRegex(),si.list=nn(si.list).replace(/bull/g,si.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+si.def.source+")").getRegex(),si._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",si._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,si.html=nn(si.html,"i").replace("comment",si._comment).replace("tag",si._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),si.paragraph=nn(si._paragraph).replace("hr",si.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",si._tag).getRegex(),si.blockquote=nn(si.blockquote).replace("paragraph",si.paragraph).getRegex(),si.normal=ir({},si),si.gfm=ir({},si.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),si.gfm.table=nn(si.gfm.table).replace("hr",si.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",si._tag).getRegex(),si.gfm.paragraph=nn(si._paragraph).replace("hr",si.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",si.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",si._tag).getRegex(),si.pedantic=ir({},si.normal,{html:nn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",si._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ga,paragraph:nn(si.normal._paragraph).replace("hr",si.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",si.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ri={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ga,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ga,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Gs(an){return an.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Cg(an){var Qt,tt,jt="",lt=an.length;for(Qt=0;Qt<lt;Qt++)tt=an.charCodeAt(Qt),Math.random()>.5&&(tt="x"+tt.toString(16)),jt+="&#"+tt+";";return jt}ri._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ri.punctuation=nn(ri.punctuation).replace(/punctuation/g,ri._punctuation).getRegex(),ri.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ri.escapedEmSt=/\\\*|\\_/g,ri._comment=nn(si._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ri.emStrong.lDelim=nn(ri.emStrong.lDelim).replace(/punct/g,ri._punctuation).getRegex(),ri.emStrong.rDelimAst=nn(ri.emStrong.rDelimAst,"g").replace(/punct/g,ri._punctuation).getRegex(),ri.emStrong.rDelimUnd=nn(ri.emStrong.rDelimUnd,"g").replace(/punct/g,ri._punctuation).getRegex(),ri._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ri._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ri._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ri.autolink=nn(ri.autolink).replace("scheme",ri._scheme).replace("email",ri._email).getRegex(),ri._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ri.tag=nn(ri.tag).replace("comment",ri._comment).replace("attribute",ri._attribute).getRegex(),ri._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ri._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ri._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ri.link=nn(ri.link).replace("label",ri._label).replace("href",ri._href).replace("title",ri._title).getRegex(),ri.reflink=nn(ri.reflink).replace("label",ri._label).replace("ref",si._label).getRegex(),ri.nolink=nn(ri.nolink).replace("ref",si._label).getRegex(),ri.reflinkSearch=nn(ri.reflinkSearch,"g").replace("reflink",ri.reflink).replace("nolink",ri.nolink).getRegex(),ri.normal=ir({},ri),ri.pedantic=ir({},ri.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:nn(/^!?\[(label)\]\((.*?)\)/).replace("label",ri._label).getRegex(),reflink:nn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ri._label).getRegex()}),ri.gfm=ir({},ri.normal,{escape:nn(ri.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ri.gfm.url=nn(ri.gfm.url,"i").replace("email",ri.gfm._extended_email).getRegex(),ri.breaks=ir({},ri.gfm,{br:nn(ri.br).replace("{2,}","*").getRegex(),text:nn(ri.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Ya=function(){function an(Qt){this.tokens=[],this.tokens.links=Object.create(null),this.options=Qt||e.defaults,this.options.tokenizer=this.options.tokenizer||new Xc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var tt={block:si.normal,inline:ri.normal};this.options.pedantic?(tt.block=si.pedantic,tt.inline=ri.pedantic):this.options.gfm&&(tt.block=si.gfm,tt.inline=this.options.breaks?ri.breaks:ri.gfm),this.tokenizer.rules=tt}an.lex=function(tt,lt){return new an(lt).lex(tt)},an.lexInline=function(tt,lt){return new an(lt).inlineTokens(tt)};var jt=an.prototype;return jt.lex=function(tt){tt=tt.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(tt,this.tokens);for(var lt;lt=this.inlineQueue.shift();)this.inlineTokens(lt.src,lt.tokens);return this.tokens},jt.blockTokens=function(tt,lt){var wt,un,Cn,ii,Tt=this;for(void 0===lt&&(lt=[]),this.options.pedantic&&(tt=tt.replace(/^ +$/gm,""));tt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ri){return!!(wt=Ri.call({lexer:Tt},tt,lt))&&(tt=tt.substring(wt.raw.length),lt.push(wt),!0)}))){if(wt=this.tokenizer.space(tt)){tt=tt.substring(wt.raw.length),1===wt.raw.length&&lt.length>0?lt[lt.length-1].raw+="\n":lt.push(wt);continue}if(wt=this.tokenizer.code(tt)){tt=tt.substring(wt.raw.length),!(un=lt[lt.length-1])||"paragraph"!==un.type&&"text"!==un.type?lt.push(wt):(un.raw+="\n"+wt.raw,un.text+="\n"+wt.text,this.inlineQueue[this.inlineQueue.length-1].src=un.text);continue}if(wt=this.tokenizer.fences(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.heading(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.hr(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.blockquote(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.list(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.html(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.def(tt)){tt=tt.substring(wt.raw.length),!(un=lt[lt.length-1])||"paragraph"!==un.type&&"text"!==un.type?this.tokens.links[wt.tag]||(this.tokens.links[wt.tag]={href:wt.href,title:wt.title}):(un.raw+="\n"+wt.raw,un.text+="\n"+wt.raw,this.inlineQueue[this.inlineQueue.length-1].src=un.text);continue}if(wt=this.tokenizer.table(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.lheading(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(Cn=tt,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ri=1/0,Fi=tt.slice(1),Io=void 0;Tt.options.extensions.startBlock.forEach(function(lo){"number"==typeof(Io=lo.call({lexer:this},Fi))&&Io>=0&&(Ri=Math.min(Ri,Io))}),Ri<1/0&&Ri>=0&&(Cn=tt.substring(0,Ri+1))}(),this.state.top&&(wt=this.tokenizer.paragraph(Cn))){un=lt[lt.length-1],ii&&"paragraph"===un.type?(un.raw+="\n"+wt.raw,un.text+="\n"+wt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=un.text):lt.push(wt),ii=Cn.length!==tt.length,tt=tt.substring(wt.raw.length);continue}if(wt=this.tokenizer.text(tt)){tt=tt.substring(wt.raw.length),(un=lt[lt.length-1])&&"text"===un.type?(un.raw+="\n"+wt.raw,un.text+="\n"+wt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=un.text):lt.push(wt);continue}if(tt){var Gn="Infinite loop on byte: "+tt.charCodeAt(0);if(this.options.silent){console.error(Gn);break}throw new Error(Gn)}}return this.state.top=!0,lt},jt.inline=function(tt,lt){this.inlineQueue.push({src:tt,tokens:lt})},jt.inlineTokens=function(tt,lt){var Tt=this;void 0===lt&&(lt=[]);var wt,un,Cn,Gn,Ri,Fi,ii=tt;if(this.tokens.links){var Io=Object.keys(this.tokens.links);if(Io.length>0)for(;null!=(Gn=this.tokenizer.rules.inline.reflinkSearch.exec(ii));)Io.includes(Gn[0].slice(Gn[0].lastIndexOf("[")+1,-1))&&(ii=ii.slice(0,Gn.index)+"["+du("a",Gn[0].length-2)+"]"+ii.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Gn=this.tokenizer.rules.inline.blockSkip.exec(ii));)ii=ii.slice(0,Gn.index)+"["+du("a",Gn[0].length-2)+"]"+ii.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Gn=this.tokenizer.rules.inline.escapedEmSt.exec(ii));)ii=ii.slice(0,Gn.index)+"++"+ii.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;tt;)if(Ri||(Fi=""),Ri=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ui){return!!(wt=ui.call({lexer:Tt},tt,lt))&&(tt=tt.substring(wt.raw.length),lt.push(wt),!0)}))){if(wt=this.tokenizer.escape(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.tag(tt)){tt=tt.substring(wt.raw.length),(un=lt[lt.length-1])&&"text"===wt.type&&"text"===un.type?(un.raw+=wt.raw,un.text+=wt.text):lt.push(wt);continue}if(wt=this.tokenizer.link(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.reflink(tt,this.tokens.links)){tt=tt.substring(wt.raw.length),(un=lt[lt.length-1])&&"text"===wt.type&&"text"===un.type?(un.raw+=wt.raw,un.text+=wt.text):lt.push(wt);continue}if(wt=this.tokenizer.emStrong(tt,ii,Fi)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.codespan(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.br(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.del(tt)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(wt=this.tokenizer.autolink(tt,Cg)){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(!this.state.inLink&&(wt=this.tokenizer.url(tt,Cg))){tt=tt.substring(wt.raw.length),lt.push(wt);continue}if(Cn=tt,this.options.extensions&&this.options.extensions.startInline&&function(){var ui=1/0,cs=tt.slice(1),$o=void 0;Tt.options.extensions.startInline.forEach(function(la){"number"==typeof($o=la.call({lexer:this},cs))&&$o>=0&&(ui=Math.min(ui,$o))}),ui<1/0&&ui>=0&&(Cn=tt.substring(0,ui+1))}(),wt=this.tokenizer.inlineText(Cn,Gs)){tt=tt.substring(wt.raw.length),"_"!==wt.raw.slice(-1)&&(Fi=wt.raw.slice(-1)),Ri=!0,(un=lt[lt.length-1])&&"text"===un.type?(un.raw+=wt.raw,un.text+=wt.text):lt.push(wt);continue}if(tt){var lo="Infinite loop on byte: "+tt.charCodeAt(0);if(this.options.silent){console.error(lo);break}throw new Error(lo)}}return lt},function(an,jt,Qt){Qt&&t(an,Qt),Object.defineProperty(an,"prototype",{writable:!1})}(an,0,[{key:"rules",get:function(){return{block:si,inline:ri}}}]),an}(),qc=function(){function an(Qt){this.options=Qt||e.defaults}var jt=an.prototype;return jt.code=function(tt,lt,Tt){var wt=(lt||"").match(/\S*/)[0];if(this.options.highlight){var un=this.options.highlight(tt,wt);null!=un&&un!==tt&&(Tt=!0,tt=un)}return tt=tt.replace(/\n$/,"")+"\n",wt?'<pre><code class="'+this.options.langPrefix+dt(wt,!0)+'">'+(Tt?tt:dt(tt,!0))+"</code></pre>\n":"<pre><code>"+(Tt?tt:dt(tt,!0))+"</code></pre>\n"},jt.blockquote=function(tt){return"<blockquote>\n"+tt+"</blockquote>\n"},jt.html=function(tt){return tt},jt.heading=function(tt,lt,Tt,wt){return this.options.headerIds?"<h"+lt+' id="'+this.options.headerPrefix+wt.slug(Tt)+'">'+tt+"</h"+lt+">\n":"<h"+lt+">"+tt+"</h"+lt+">\n"},jt.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},jt.list=function(tt,lt,Tt){var wt=lt?"ol":"ul";return"<"+wt+(lt&&1!==Tt?' start="'+Tt+'"':"")+">\n"+tt+"</"+wt+">\n"},jt.listitem=function(tt){return"<li>"+tt+"</li>\n"},jt.checkbox=function(tt){return"<input "+(tt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},jt.paragraph=function(tt){return"<p>"+tt+"</p>\n"},jt.table=function(tt,lt){return lt&&(lt="<tbody>"+lt+"</tbody>"),"<table>\n<thead>\n"+tt+"</thead>\n"+lt+"</table>\n"},jt.tablerow=function(tt){return"<tr>\n"+tt+"</tr>\n"},jt.tablecell=function(tt,lt){var Tt=lt.header?"th":"td";return(lt.align?"<"+Tt+' align="'+lt.align+'">':"<"+Tt+">")+tt+"</"+Tt+">\n"},jt.strong=function(tt){return"<strong>"+tt+"</strong>"},jt.em=function(tt){return"<em>"+tt+"</em>"},jt.codespan=function(tt){return"<code>"+tt+"</code>"},jt.br=function(){return this.options.xhtml?"<br/>":"<br>"},jt.del=function(tt){return"<del>"+tt+"</del>"},jt.link=function(tt,lt,Tt){if(null===(tt=Ai(this.options.sanitize,this.options.baseUrl,tt)))return Tt;var wt='<a href="'+dt(tt)+'"';return lt&&(wt+=' title="'+lt+'"'),wt+">"+Tt+"</a>"},jt.image=function(tt,lt,Tt){if(null===(tt=Ai(this.options.sanitize,this.options.baseUrl,tt)))return Tt;var wt='<img src="'+tt+'" alt="'+Tt+'"';return lt&&(wt+=' title="'+lt+'"'),wt+(this.options.xhtml?"/>":">")},jt.text=function(tt){return tt},an}(),Ph=function(){function an(){}var jt=an.prototype;return jt.strong=function(tt){return tt},jt.em=function(tt){return tt},jt.codespan=function(tt){return tt},jt.del=function(tt){return tt},jt.html=function(tt){return tt},jt.text=function(tt){return tt},jt.link=function(tt,lt,Tt){return""+Tt},jt.image=function(tt,lt,Tt){return""+Tt},jt.br=function(){return""},an}(),uu=function(){function an(){this.seen={}}var jt=an.prototype;return jt.serialize=function(tt){return tt.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},jt.getNextSafeSlug=function(tt,lt){var Tt=tt,wt=0;if(this.seen.hasOwnProperty(Tt)){wt=this.seen[tt];do{Tt=tt+"-"+ ++wt}while(this.seen.hasOwnProperty(Tt))}return lt||(this.seen[tt]=wt,this.seen[Tt]=0),Tt},jt.slug=function(tt,lt){void 0===lt&&(lt={});var Tt=this.serialize(tt);return this.getNextSafeSlug(Tt,lt.dryrun)},an}(),vl=function(){function an(Qt){this.options=Qt||e.defaults,this.options.renderer=this.options.renderer||new qc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ph,this.slugger=new uu}an.parse=function(tt,lt){return new an(lt).parse(tt)},an.parseInline=function(tt,lt){return new an(lt).parseInline(tt)};var jt=an.prototype;return jt.parse=function(tt,lt){void 0===lt&&(lt=!0);var wt,un,Cn,ii,Gn,Ri,Fi,Io,lo,ui,cs,$o,la,zo,ws,hu,Kr,Ja,nd,Tt="",nc=tt.length;for(wt=0;wt<nc;wt++)if(ui=tt[wt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ui.type]&&(!1!==(nd=this.options.extensions.renderers[ui.type].call({parser:this},ui))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ui.type)))Tt+=nd||"";else switch(ui.type){case"space":continue;case"hr":Tt+=this.renderer.hr();continue;case"heading":Tt+=this.renderer.heading(this.parseInline(ui.tokens),ui.depth,Ot(this.parseInline(ui.tokens,this.textRenderer)),this.slugger);continue;case"code":Tt+=this.renderer.code(ui.text,ui.lang,ui.escaped);continue;case"table":for(Io="",Fi="",ii=ui.header.length,un=0;un<ii;un++)Fi+=this.renderer.tablecell(this.parseInline(ui.header[un].tokens),{header:!0,align:ui.align[un]});for(Io+=this.renderer.tablerow(Fi),lo="",ii=ui.rows.length,un=0;un<ii;un++){for(Fi="",Gn=(Ri=ui.rows[un]).length,Cn=0;Cn<Gn;Cn++)Fi+=this.renderer.tablecell(this.parseInline(Ri[Cn].tokens),{header:!1,align:ui.align[Cn]});lo+=this.renderer.tablerow(Fi)}Tt+=this.renderer.table(Io,lo);continue;case"blockquote":lo=this.parse(ui.tokens),Tt+=this.renderer.blockquote(lo);continue;case"list":for(cs=ui.ordered,$o=ui.start,la=ui.loose,ii=ui.items.length,lo="",un=0;un<ii;un++)hu=(ws=ui.items[un]).checked,Kr=ws.task,zo="",ws.task&&(Ja=this.renderer.checkbox(hu),la?ws.tokens.length>0&&"paragraph"===ws.tokens[0].type?(ws.tokens[0].text=Ja+" "+ws.tokens[0].text,ws.tokens[0].tokens&&ws.tokens[0].tokens.length>0&&"text"===ws.tokens[0].tokens[0].type&&(ws.tokens[0].tokens[0].text=Ja+" "+ws.tokens[0].tokens[0].text)):ws.tokens.unshift({type:"text",text:Ja}):zo+=Ja),zo+=this.parse(ws.tokens,la),lo+=this.renderer.listitem(zo,Kr,hu);Tt+=this.renderer.list(lo,cs,$o);continue;case"html":Tt+=this.renderer.html(ui.text);continue;case"paragraph":Tt+=this.renderer.paragraph(this.parseInline(ui.tokens));continue;case"text":for(lo=ui.tokens?this.parseInline(ui.tokens):ui.text;wt+1<nc&&"text"===tt[wt+1].type;)lo+="\n"+((ui=tt[++wt]).tokens?this.parseInline(ui.tokens):ui.text);Tt+=lt?this.renderer.paragraph(lo):lo;continue;default:var Rh='Token with "'+ui.type+'" type was not found.';if(this.options.silent)return void console.error(Rh);throw new Error(Rh)}return Tt},jt.parseInline=function(tt,lt){lt=lt||this.renderer;var wt,un,Cn,Tt="",ii=tt.length;for(wt=0;wt<ii;wt++)if(un=tt[wt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[un.type]&&(!1!==(Cn=this.options.extensions.renderers[un.type].call({parser:this},un))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(un.type)))Tt+=Cn||"";else switch(un.type){case"escape":case"text":Tt+=lt.text(un.text);break;case"html":Tt+=lt.html(un.text);break;case"link":Tt+=lt.link(un.href,un.title,this.parseInline(un.tokens,lt));break;case"image":Tt+=lt.image(un.href,un.title,un.text);break;case"strong":Tt+=lt.strong(this.parseInline(un.tokens,lt));break;case"em":Tt+=lt.em(this.parseInline(un.tokens,lt));break;case"codespan":Tt+=lt.codespan(un.text);break;case"br":Tt+=lt.br();break;case"del":Tt+=lt.del(this.parseInline(un.tokens,lt));break;default:var Gn='Token with "'+un.type+'" type was not found.';if(this.options.silent)return void console.error(Gn);throw new Error(Gn)}return Tt},an}();function Ii(an,jt,Qt){if(null==an)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof an)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(an)+", string expected");if("function"==typeof jt&&(Qt=jt,jt=null),cu(jt=ir({},Ii.defaults,jt||{})),Qt){var lt,tt=jt.highlight;try{lt=Ya.lex(an,jt)}catch(Cn){return Qt(Cn)}var Tt=function(ii){var Gn;if(!ii)try{jt.walkTokens&&Ii.walkTokens(lt,jt.walkTokens),Gn=vl.parse(lt,jt)}catch(Ri){ii=Ri}return jt.highlight=tt,ii?Qt(ii):Qt(null,Gn)};if(!tt||tt.length<3||(delete jt.highlight,!lt.length))return Tt();var wt=0;return Ii.walkTokens(lt,function(Cn){"code"===Cn.type&&(wt++,setTimeout(function(){tt(Cn.text,Cn.lang,function(ii,Gn){if(ii)return Tt(ii);null!=Gn&&Gn!==Cn.text&&(Cn.text=Gn,Cn.escaped=!0),0==--wt&&Tt()})},0))}),void(0===wt&&Tt())}try{var un=Ya.lex(an,jt);return jt.walkTokens&&Ii.walkTokens(un,jt.walkTokens),vl.parse(un,jt)}catch(Cn){if(Cn.message+="\nPlease report this to https://github.com/markedjs/marked.",jt.silent)return"<p>An error occurred:</p><pre>"+dt(Cn.message+"",!0)+"</pre>";throw Cn}}Ii.options=Ii.setOptions=function(an){return ir(Ii.defaults,an),function(an){e.defaults=an}(Ii.defaults),Ii},Ii.getDefaults=p,Ii.defaults=e.defaults,Ii.use=function(){for(var an=arguments.length,jt=new Array(an),Qt=0;Qt<an;Qt++)jt[Qt]=arguments[Qt];var Tt,tt=ir.apply(void 0,[{}].concat(jt)),lt=Ii.defaults.extensions||{renderers:{},childTokens:{}};jt.forEach(function(wt){if(wt.extensions&&(Tt=!0,wt.extensions.forEach(function(Cn){if(!Cn.name)throw new Error("extension name required");if(Cn.renderer){var ii=lt.renderers?lt.renderers[Cn.name]:null;lt.renderers[Cn.name]=ii?function(){for(var Gn=arguments.length,Ri=new Array(Gn),Fi=0;Fi<Gn;Fi++)Ri[Fi]=arguments[Fi];var Io=Cn.renderer.apply(this,Ri);return!1===Io&&(Io=ii.apply(this,Ri)),Io}:Cn.renderer}if(Cn.tokenizer){if(!Cn.level||"block"!==Cn.level&&"inline"!==Cn.level)throw new Error("extension level must be 'block' or 'inline'");lt[Cn.level]?lt[Cn.level].unshift(Cn.tokenizer):lt[Cn.level]=[Cn.tokenizer],Cn.start&&("block"===Cn.level?lt.startBlock?lt.startBlock.push(Cn.start):lt.startBlock=[Cn.start]:"inline"===Cn.level&&(lt.startInline?lt.startInline.push(Cn.start):lt.startInline=[Cn.start]))}Cn.childTokens&&(lt.childTokens[Cn.name]=Cn.childTokens)})),wt.renderer&&function(){var Cn=Ii.defaults.renderer||new qc,ii=function(Fi){var Io=Cn[Fi];Cn[Fi]=function(){for(var lo=arguments.length,ui=new Array(lo),cs=0;cs<lo;cs++)ui[cs]=arguments[cs];var $o=wt.renderer[Fi].apply(Cn,ui);return!1===$o&&($o=Io.apply(Cn,ui)),$o}};for(var Gn in wt.renderer)ii(Gn);tt.renderer=Cn}(),wt.tokenizer&&function(){var Cn=Ii.defaults.tokenizer||new Xc,ii=function(Fi){var Io=Cn[Fi];Cn[Fi]=function(){for(var lo=arguments.length,ui=new Array(lo),cs=0;cs<lo;cs++)ui[cs]=arguments[cs];var $o=wt.tokenizer[Fi].apply(Cn,ui);return!1===$o&&($o=Io.apply(Cn,ui)),$o}};for(var Gn in wt.tokenizer)ii(Gn);tt.tokenizer=Cn}(),wt.walkTokens){var un=Ii.defaults.walkTokens;tt.walkTokens=function(Cn){wt.walkTokens.call(this,Cn),un&&un.call(this,Cn)}}Tt&&(tt.extensions=lt),Ii.setOptions(tt)})},Ii.walkTokens=function(an,jt){for(var lt,Qt=function(){var wt=lt.value;switch(jt.call(Ii,wt),wt.type){case"table":for(var Cn,un=d(wt.header);!(Cn=un()).done;)Ii.walkTokens(Cn.value.tokens,jt);for(var Ri,Gn=d(wt.rows);!(Ri=Gn()).done;)for(var lo,Io=d(Ri.value);!(lo=Io()).done;)Ii.walkTokens(lo.value.tokens,jt);break;case"list":Ii.walkTokens(wt.items,jt);break;default:Ii.defaults.extensions&&Ii.defaults.extensions.childTokens&&Ii.defaults.extensions.childTokens[wt.type]?Ii.defaults.extensions.childTokens[wt.type].forEach(function(cs){Ii.walkTokens(wt[cs],jt)}):wt.tokens&&Ii.walkTokens(wt.tokens,jt)}},tt=d(an);!(lt=tt()).done;)Qt()},Ii.parseInline=function(an,jt){if(null==an)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof an)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(an)+", string expected");cu(jt=ir({},Ii.defaults,jt||{}));try{var Qt=Ya.lexInline(an,jt);return jt.walkTokens&&Ii.walkTokens(Qt,jt.walkTokens),vl.parseInline(Qt,jt)}catch(tt){if(tt.message+="\nPlease report this to https://github.com/markedjs/marked.",jt.silent)return"<p>An error occurred:</p><pre>"+dt(tt.message+"",!0)+"</pre>";throw tt}},Ii.Parser=vl,Ii.parser=vl.parse,Ii.Renderer=qc,Ii.TextRenderer=Ph,Ii.Lexer=Ya,Ii.lexer=Ya.lex,Ii.Tokenizer=Xc,Ii.Slugger=uu,Ii.parse=Ii;var ed=Ii.options,bg=Ii.setOptions,vg=Ii.use,td=Ii.walkTokens,Oh=Ii.parseInline,Lp=Ii,Ah=vl.parse,Dp=Ya.lex;e.Lexer=Ya,e.Parser=vl,e.Renderer=qc,e.Slugger=uu,e.TextRenderer=Ph,e.Tokenizer=Xc,e.getDefaults=p,e.lexer=Dp,e.marked=Ii,e.options=ed,e.parse=Lp,e.parseInline=Oh,e.parser=Ah,e.setOptions=bg,e.use=vg,e.walkTokens=td,Object.defineProperty(e,"__esModule",{value:!0})})}();var vC=bC||exports,Cy=m(7272);function by(a,e={},t={}){var n;const o=new Pt.SL;let s=!1;const d=o.add(new ti.A),p=(0,_C.az)(e),R=function(Ot){let qt;try{qt=(0,Cy.Q)(decodeURIComponent(Ot))}catch{}return qt?(qt=(0,zl.rs)(qt,nn=>{if(a.uris&&a.uris[nn])return So.o.revive(a.uris[nn])}),encodeURIComponent(JSON.stringify(qt))):Ot},j=function(Ot,qt){let Bn=So.o.revive(a.uris&&a.uris[Ot]);return qt?Ot.startsWith(bs.lg.data+":")?Ot:(Bn||(Bn=So.o.parse(Ot)),bs.Gi.asBrowserUri(Bn).toString(!0)):Bn&&So.o.parse(Ot).toString()!==Bn.toString()?(Bn.query&&(Bn=Bn.with({query:R(Bn.query)})),Bn.toString()):Ot};let z;const ne=new Promise(Ot=>z=Ot),Se=new vC.Renderer;if(Se.image=(Ot,qt,nn)=>{let Bn=[],Tn=[];return Ot&&(({href:Ot,dimensions:Bn}=(0,Oo.v1)(Ot)),Tn.push(`src="${Ot}"`)),nn&&Tn.push(`alt="${nn}"`),qt&&Tn.push(`title="${qt}"`),Bn.length&&(Tn=Tn.concat(Bn)),"<img "+Tn.join(" ")+">"},Se.link=(Ot,qt,nn)=>"string"!=typeof Ot?"":(Ot===nn&&(nn=(0,Oo.oR)(nn)),Ot=j(Ot,!1),a.baseUri&&(Ot=V0(So.o.from(a.baseUri),Ot)),qt="string"==typeof qt?(0,Oo.oR)(qt):"",!(Ot=(0,Oo.oR)(Ot))||/^data:|javascript:/i.test(Ot)||/^command:/i.test(Ot)&&!a.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Ot)?nn:`<a data-href="${Ot=Ot.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${qt||Ot}">${nn}</a>`),Se.paragraph=Ot=>`<p>${Ot}</p>`,e.codeBlockRenderer&&(Se.code=(Ot,qt)=>{const nn=e.codeBlockRenderer(qt??"",Ot),Bn=mf.a.nextId();return(0,Wn.eP)(Promise.all([nn,ne]),d.token).then(Tn=>{var Ai;if(!s&&Tn){const yi=p.querySelector(`div[data-code="${Bn}"]`);yi&&st.mc(yi,Tn[0]),null===(Ai=e.asyncRenderCallback)||void 0===Ai||Ai.call(e)}}).catch(()=>{}),`<div class="code" data-code="${Bn}">${(0,An.YU)(Ot)}</div>`}),e.actionHandler){const Ot=e.actionHandler.disposables.add(new Hf.Y(p,"click")),qt=e.actionHandler.disposables.add(new Hf.Y(p,"auxclick"));e.actionHandler.disposables.add(Rn.ju.any(Ot.event,qt.event)(nn=>{const Bn=new _y.n(nn);if(!Bn.leftButton&&!Bn.middleButton)return;let Tn=Bn.target;if("A"===Tn.tagName||(Tn=Tn.parentElement,Tn&&"A"===Tn.tagName))try{let Ai=Tn.dataset.href;Ai&&(a.baseUri&&(Ai=V0(So.o.from(a.baseUri),Ai)),e.actionHandler.callback(Ai,Bn))}catch(Ai){(0,Un.dL)(Ai)}finally{Bn.preventDefault()}}))}a.supportHtml||(t.sanitizer=Ot=>(a.isTrusted?Ot.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Ot:"",t.sanitize=!0,t.silent=!0),t.renderer=Se;let Me=null!==(n=a.value)&&void 0!==n?n:"";Me.length>1e5&&(Me=`${Me.substr(0,1e5)}\u2026`),a.supportThemeIcons&&(Me=(0,CC.f$)(Me));let Ge=vC.parse(Me,t);a.supportThemeIcons&&(Ge=(0,Fu.T)(Ge).map(qt=>"string"==typeof qt?qt:qt.outerHTML).join(""));const Ft=(new DOMParser).parseFromString(wC(a,Ge),"text/html");if(Ft.body.querySelectorAll("img").forEach(Ot=>{const qt=Ot.getAttribute("src");if(qt){let nn=qt;try{a.baseUri&&(nn=V0(So.o.from(a.baseUri),nn))}catch{}Ot.src=j(nn,!0)}}),p.innerHTML=wC(a,Ft.body.innerHTML),z(),e.asyncRenderCallback)for(const Ot of p.getElementsByTagName("img")){const qt=o.add(st.nm(Ot,"load",()=>{qt.dispose(),e.asyncRenderCallback()}))}return{element:p,dispose:()=>{s=!0,d.cancel(),o.dispose()}}}function V0(a,e){return/^\w[\w\d+.-]*:/.test(e)?e:a.path.endsWith("/")?(0,Mo.i3)(a,e).toString():(0,Mo.i3)((0,Mo.XX)(a),e).toString()}function wC(a,e){const{config:t,allowedSchemes:n}=function(a){const e=[bs.lg.http,bs.lg.https,bs.lg.mailto,bs.lg.data,bs.lg.file,bs.lg.vscodeFileResource,bs.lg.vscodeRemote,bs.lg.vscodeRemoteResource];return a.isTrusted&&e.push(bs.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}(a);mC("uponSanitizeAttribute",(s,d)=>{if("style"!==d.attrName&&"class"!==d.attrName);else{if("SPAN"===s.tagName){if("style"===d.attrName)return void(d.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(d.attrValue));if("class"===d.attrName)return void(d.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(d.attrValue))}d.keepAttr=!1}});const o=document.createElement("a");mC("afterSanitizeAttributes",s=>{for(const d of["href","src"])s.hasAttribute(d)&&(o.href=s.getAttribute(d),n.includes(o.protocol.replace(/:$/,""))||s.removeAttribute(d))});try{return py(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{pC("uponSanitizeAttribute"),pC("afterSanitizeAttributes")}}var z0,oa=m(23813),wy=m(42137),H0=m(6809),yC=function(a,e){return function(t,n){e(t,n,a)}};let Gl=class lw{constructor(e,t,n){this._options=e,this._languageService=t,this._openerService=n,this._onDidRenderAsync=new Rn.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,n){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const o=new Pt.SL;return{element:o.add(by(e,Object.assign(Object.assign({},this._getRenderOptions(e,o)),t),n)).element,dispose:()=>o.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:(n,o)=>function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){var s,d,p;let R;n?R=this._languageService.getLanguageIdByLanguageName(n):this._options.editor&&(R=null===(s=this._options.editor.getModel())||void 0===s?void 0:s.getLanguageId()),R||(R=Ku.bd);const j=yield(0,wy.C2)(this._languageService,o,R),z=document.createElement("span");if(z.innerHTML=null!==(p=null===(d=lw._ttpTokenizer)||void 0===d?void 0:d.createHTML(j))&&void 0!==p?p:j,this._options.editor){const ne=this._options.editor.getOption(44);(0,H0.N)(z,ne)}else this._options.codeBlockFontFamily&&(z.style.fontFamily=this._options.codeBlockFontFamily);return z}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:n=>this._openerService.open(n,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(Un.dL),disposables:t}}}};Gl._ttpTokenizer=null===(z0=window.trustedTypes)||void 0===z0?void 0:z0.createPolicy("tokenizeToString",{createHTML:a=>a}),Gl=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([yC(1,Ur.O),yC(2,oa.v4)],Gl);const SC=st.$;let U0=(()=>{class a extends Pt.JT{constructor(t,n,o=oa.SW){super(),this._renderDisposeables=this._register(new Pt.SL),this._editor=t,this._isVisible=!1,this._messages=[],this._hover=this._register(new so),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Gl({editor:this._editor},n,o)),this._computer=new xy(this._editor),this._hoverOperation=this._register(new U1(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(n=>this._editor.applyFontInfo(n))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(t){this._computer.lineNumber!==t&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=t,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(t){this._messages=t,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(t,n){this._renderDisposeables.clear();const o=document.createDocumentFragment();for(const s of n){const d=SC("div.hover-row.markdown-hover"),p=st.R3(d,SC("div.hover-contents")),R=this._renderDisposeables.add(this._markdownRenderer.render(s.value));p.appendChild(R.element),o.appendChild(d)}this._updateContents(o),this._showAt(t)}_updateContents(t){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._updateFont()}_showAt(t){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const n=this._editor.getLayoutInfo(),o=this._editor.getTopForLineNumber(t),s=this._editor.getScrollTop(),d=this._editor.getOption(59),R=o-s-(this._hover.containerDomNode.clientHeight-d)/2;this._hover.containerDomNode.style.left=`${n.glyphMarginLeft+n.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(R),0)}px`}}return a.ID="editor.contrib.modesGlyphHoverWidget",a})();class xy{constructor(e){this._editor=e,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}computeSync(){const e=o=>({value:o}),t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;for(const o of t){if(!o.options.glyphMarginClassName)continue;const s=o.options.glyphMarginHoverMessage;!s||(0,Oo.CP)(s)||n.push(...(0,Wi._2)(s).map(e))}return n}}class Dy{constructor(e,t,n){this.provider=e,this.hover=t,this.ordinal=n}}function j0(a,e,t,n){const s=a.ordered(e).map((d,p)=>function(a,e,t,n,o){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(a.provideHover(t,n,o));if(s&&function(a){return void 0!==a.range&&void 0!==a.contents&&a.contents&&a.contents.length>0}(s))return new Dy(a,s,e)}catch(s){(0,Un.Cp)(s)}})}(d,p,e,t,n));return Wn.Aq.fromPromises(s).coalesce()}(0,Xe.sb)("_executeHoverProvider",(a,e,t)=>function(a,e,t,n){return j0(a,e,t,n).map(o=>o.hover).toPromise()}(a.get($n.p).hoverProvider,e,t,ti.T.None));var Pm=function(a,e){return function(t,n){e(t,n,a)}};const xC=st.$;class Ql{constructor(e,t,n,o){this.owner=e,this.range=t,this.contents=n,this.ordinal=o}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let Om=class{constructor(e,t,n,o,s){this._editor=e,this._languageService=t,this._openerService=n,this._configurationService=o,this._languageFeaturesService=s,this.hoverOrdinal=2}createLoadingMessage(e){return new Ql(this,e.range,[(new Oo.W5).appendText(Ee.N("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const n=this._editor.getModel(),o=e.range.startLineNumber,s=n.getLineMaxColumn(o),d=[];let p=1e3;const R=n.getLineLength(o),j=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),z=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:j});"number"==typeof z&&R>=z&&d.push(new Ql(this,e.range,[{value:Ee.N("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],p++));for(const ne of t){const Se=ne.range.startLineNumber===o?ne.range.startColumn:1,Me=ne.range.endLineNumber===o?ne.range.endColumn:s,Ge=ne.options.hoverMessage;if(!Ge||(0,Oo.CP)(Ge))continue;const dt=new kt.e(e.range.startLineNumber,Se,e.range.startLineNumber,Me);d.push(new Ql(this,dt,(0,Wi._2)(Ge),p++))}return d}computeAsync(e,t,n){if(!this._editor.hasModel()||1!==e.type)return Wn.Aq.EMPTY;const o=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(o))return Wn.Aq.EMPTY;const s=new hi.L(e.range.startLineNumber,e.range.startColumn);return j0(this._languageFeaturesService.hoverProvider,o,s,n).filter(d=>!(0,Oo.CP)(d.hover.contents)).map(d=>{const p=d.hover.range?kt.e.lift(d.hover.range):e.range;return new Ql(this,p,d.hover.contents,d.ordinal)})}renderHoverParts(e,t){return LC(e,t,this._editor,this._languageService,this._openerService)}};function LC(a,e,t,n,o){e.sort((d,p)=>d.ordinal-p.ordinal);const s=new Pt.SL;for(const d of e)for(const p of d.contents){if((0,Oo.CP)(p))continue;const R=xC("div.hover-row.markdown-hover"),j=st.R3(R,xC("div.hover-contents")),z=s.add(new Gl({editor:t},n,o));s.add(z.onDidRenderAsync(()=>{j.className="hover-contents code-hover-contents",a.onContentsChanged()}));const ne=s.add(z.render(p));j.appendChild(ne.element),a.fragment.appendChild(R)}return s}Om=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Pm(1,Ur.O),Pm(2,oa.v4),Pm(3,Is.Ui),Pm(4,$n.p)],Om);var ky=m(64757),DC=m(62253),EC=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},Am=function(a,e){return function(t,n){e(t,n,a)}};class MC{constructor(e,t,n){this.marker=e,this.index=t,this.total=n}}let K0=class{constructor(e,t,n){this._markerService=t,this._configService=n,this._onDidChange=new Rn.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new Pt.SL,this._markers=[],this._nextIdx=-1,So.o.isUri(e)?this._resourceFilter=p=>p.toString()===e.toString():e&&(this._resourceFilter=e);const o=this._configService.getValue("problems.sortOrder"),s=(p,R)=>{let j=(0,An.qu)(p.resource.toString(),R.resource.toString());return 0===j&&(j="position"===o?kt.e.compareRangesUsingStarts(p,R)||Qo.ZL.compare(p.severity,R.severity):Qo.ZL.compare(p.severity,R.severity)||kt.e.compareRangesUsingStarts(p,R)),j},d=()=>{this._markers=this._markerService.read({resource:So.o.isUri(e)?e:void 0,severities:Qo.ZL.Error|Qo.ZL.Warning|Qo.ZL.Info}),"function"==typeof e&&(this._markers=this._markers.filter(p=>this._resourceFilter(p.resource))),this._markers.sort(s)};d(),this._dispoables.add(t.onMarkerChanged(p=>{(!this._resourceFilter||p.some(R=>this._resourceFilter(R)))&&(d(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new MC(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,n){let o=!1,s=this._markers.findIndex(d=>d.resource.toString()===e.uri.toString());s<0&&(s=(0,Wi.ry)(this._markers,{resource:e.uri},(d,p)=>(0,An.qu)(d.resource.toString(),p.resource.toString())),s<0&&(s=~s));for(let d=s;d<this._markers.length;d++){let p=kt.e.lift(this._markers[d]);if(p.isEmpty()){const R=e.getWordAtPosition(p.getStartPosition());R&&(p=new kt.e(p.startLineNumber,R.startColumn,p.startLineNumber,R.endColumn))}if(t&&(p.containsPosition(t)||t.isBeforeOrEqual(p.getStartPosition()))){this._nextIdx=d,o=!0;break}if(this._markers[d].resource.toString()!==e.uri.toString())break}o||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,n){if(0===this._markers.length)return!1;let o=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,n,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(e,t){let n=this._markers.findIndex(o=>o.resource.toString()===e.toString());if(!(n<0))for(;n<this._markers.length;n++)if(kt.e.containsPosition(this._markers[n],t))return new MC(this._markers[n],n+1,this._markers.length)}};K0=EC([Am(1,Qo.lT),Am(2,Is.Ui)],K0);const NC=(0,oo.yh)("IMarkerNavigationService");let $0=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new DC.S}getMarkerList(e){for(let t of this._provider){const n=t.getMarkerList(e);if(n)return n}return new K0(e,this._markerService,this._configService)}};$0=EC([Am(0,Qo.lT),Am(1,Is.Ui)],$0),(0,Wl.z)(NC,$0,!0);var Z0,er=m(80974),eh=(m(76149),m(13310));(function(a){a.className=function(t){switch(t){case eh.Z.Ignore:return"severity-ignore "+Qn.lA.info.classNames;case eh.Z.Info:return Qn.lA.info.classNames;case eh.Z.Warning:return Qn.lA.warning.classNames;case eh.Z.Error:return Qn.lA.error.classNames;default:return""}}})(Z0||(Z0={})),(0,r.Ic)((a,e)=>{const t=a.getColor(ge.JpG);if(t){const s=Qn.lA.error.cssSelector;e.addRule(`\n\t\t\t.monaco-editor .zone-widget ${s},\n\t\t\t.markers-panel .marker-icon${s},\n\t\t\t.text-search-provider-messages .providerMessage ${s},\n\t\t\t.extensions-viewlet > .extensions ${s} {\n\t\t\t\tcolor: ${t};\n\t\t\t}\n\t\t`)}const n=a.getColor(ge.BOY);if(n){const s=Qn.lA.warning.cssSelector;e.addRule(`\n\t\t\t.monaco-editor .zone-widget ${s},\n\t\t\t.markers-panel .marker-icon${s},\n\t\t\t.extensions-viewlet > .extensions ${s},\n\t\t\t.extension-editor ${s},\n\t\t\t.text-search-provider-messages .providerMessage ${s},\n\t\t\t.preferences-editor ${s} {\n\t\t\t\tcolor: ${n};\n\t\t\t}\n\t\t`)}const o=a.getColor(ge.OLZ);if(o){const s=Qn.lA.info.cssSelector;e.addRule(`\n\t\t\t.monaco-editor .zone-widget ${s},\n\t\t\t.markers-panel .marker-icon${s},\n\t\t\t.extensions-viewlet > .extensions ${s},\n\t\t\t.text-search-provider-messages .providerMessage ${s},\n\t\t\t.extension-editor ${s} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`)}});var th=function(a,e){return function(t,n){e(t,n,a)}};class Py{constructor(e,t,n,o,s){this._openerService=o,this._labelService=s,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Pt.SL,this._editor=t;const d=document.createElement("div");d.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),d.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),d.appendChild(this._relatedBlock),this._disposables.add(st.mu(this._relatedBlock,"click",p=>{p.preventDefault();const R=this._relatedDiagnostics.get(p.target);R&&n(R)})),this._scrollable=new fr.NB(d,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(p=>{d.style.left=`-${p.scrollLeft}px`,d.style.top=`-${p.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,Pt.B9)(this._disposables)}update(e){const{source:t,message:n,relatedInformation:o,code:s}=e;let d=((null==t?void 0:t.length)||0)+"()".length;s&&(d+="string"==typeof s?s.length:s.value.length);const p=(0,An.uq)(n);this._lines=p.length,this._longestLineLength=0;for(const Se of p)this._longestLineLength=Math.max(Se.length+d,this._longestLineLength);st.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let R=this._messageBlock;for(const Se of p)R=document.createElement("div"),R.innerText=Se,""===Se&&(R.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(R);if(t||s){const Se=document.createElement("span");if(Se.classList.add("details"),R.appendChild(Se),t){const Me=document.createElement("span");Me.innerText=t,Me.classList.add("source"),Se.appendChild(Me)}if(s)if("string"==typeof s){const Me=document.createElement("span");Me.innerText=`(${s})`,Me.classList.add("code"),Se.appendChild(Me)}else this._codeLink=st.$("a.code-link"),this._codeLink.setAttribute("href",`${s.target.toString()}`),this._codeLink.onclick=Ge=>{this._openerService.open(s.target,{allowCommands:!0}),Ge.preventDefault(),Ge.stopPropagation()},st.R3(this._codeLink,st.$("span")).innerText=s.value,Se.appendChild(this._codeLink)}if(st.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,Wi.Of)(o)){const Se=this._relatedBlock.appendChild(document.createElement("div"));Se.style.paddingTop=`${Math.floor(.66*this._editor.getOption(59))}px`,this._lines+=1;for(const Me of o){let Ge=document.createElement("div"),dt=document.createElement("a");dt.classList.add("filename"),dt.innerText=`${um(Me.resource)}(${Me.startLineNumber}, ${Me.startColumn}): `,dt.title=this._labelService.getUriLabel(Me.resource),this._relatedDiagnostics.set(dt,Me);let Ft=document.createElement("span");Ft.innerText=Me.message,Ge.appendChild(dt),Ge.appendChild(Ft),this._lines+=1,Se.appendChild(Ge)}}const j=this._editor.getOption(44),z=Math.ceil(j.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:z,scrollHeight:j.lineHeight*this._lines})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case Qo.ZL.Error:t=Ee.N("Error","Error");break;case Qo.ZL.Warning:t=Ee.N("Warning","Warning");break;case Qo.ZL.Info:t=Ee.N("Info","Info");break;case Qo.ZL.Hint:t=Ee.N("Hint","Hint")}let n=Ee.N("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const o=this._editor.getModel();return o&&e.startLineNumber<=o.getLineCount()&&e.startLineNumber>=1&&(n=`${o.getLineContent(e.startLineNumber)}, ${n}`),n}}let nh=class cw extends Uu{constructor(e,t,n,o,s,d,p){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},s),this._themeService=t,this._openerService=n,this._menuService=o,this._contextKeyService=d,this._labelService=p,this._callOnDispose=new Pt.SL,this._onDidSelectRelatedInformation=new Rn.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Qo.ZL.Warning,this._backgroundColor=Qi.Il.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(Fy);let t=G0,n=Oy;this._severity===Qo.ZL.Warning?(t=Q0,n=Ay):this._severity===Qo.ZL.Info&&(t=Y0,n=Ry);const o=e.getColor(t),s=e.getColor(n);this.style({arrowColor:o,frameColor:o,headerBackgroundColor:s,primaryHeadingColor:e.getColor(sm),secondaryHeadingColor:e.getColor(rm)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(o=>this.editor.focus()));const t=[],n=this._menuService.createMenu(cw.TitleMenu,this._contextKeyService);(function(a,e,t,n,o,s,d){const p=a.getActions(e);(function(a,e,t,n=(p=>"navigation"===p),o=Number.MAX_SAFE_INTEGER,s=(()=>!1),d=!1){let p,R;Array.isArray(e)?(p=e,R=e):(p=e.primary,R=e.secondary);const j=new Set;for(const[z,ne]of a){let Se;n(z)?(Se=p,Se.length>0&&d&&Se.push(new Us.Z0)):(Se=R,Se.length>0&&Se.push(new Us.Z0));for(let Me of ne){t&&(Me=Me instanceof Hn.U8&&Me.alt?Me.alt:Me);const Ge=Se.push(Me);Me instanceof Us.wY&&j.add({group:z,action:Me,index:Ge-1})}}for(const{group:z,action:ne,index:Se}of j){const Me=n(z)?p:R,Ge=ne.actions;(Ge.length<=1||Me.length+Ge.length-2<=o)&&s(ne,z,Me.length)&&Me.splice(Se,1,...Ge)}if(p!==R&&p.length>o){const z=p.splice(o,p.length-o);R.unshift(...z,new Us.Z0)}})(p,t,!1,"string"==typeof n?j=>j===n:n,o,s,d),function(a){const e=new Pt.SL;for(const[,t]of a)for(const n of t)e.add(n)}(p)})(n,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(e){this._icon=st.R3(e,st.$(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new Py(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,n){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let o=kt.e.lift(e);const s=this.editor.getPosition();let d=s&&o.containsPosition(s)?s:o.getStartPosition();super.show(d,this.computeRequiredHeight());const p=this.editor.getModel();if(p){const R=n>1?Ee.N("problems","{0} of {1} problems",t,n):Ee.N("change","{0} of {1} problem",t,n);this.setTitle((0,Mo.EZ)(p.uri),R)}this._icon.className=`codicon ${Z0.className(Qo.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(d,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};nh.TitleMenu=new Hn.eH("gotoErrorTitleMenu"),nh=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([th(1,r.XE),th(2,oa.v4),th(3,Hn.co),th(4,oo.TG),th(5,$t.i6),th(6,Zu.e)],nh);let IC=(0,ge.kwl)(ge.lXJ,ge.b6y),kC=(0,ge.kwl)(ge.uoC,ge.pW3),TC=(0,ge.kwl)(ge.c63,ge.T83);const G0=(0,ge.P6G)("editorMarkerNavigationError.background",{dark:IC,light:IC,hc:ge.lRK},Ee.N("editorMarkerNavigationError","Editor marker navigation widget error color.")),Oy=(0,ge.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,ge.ZnX)(G0,.1),light:(0,ge.ZnX)(G0,.1),hc:null},Ee.N("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Q0=(0,ge.P6G)("editorMarkerNavigationWarning.background",{dark:kC,light:kC,hc:ge.lRK},Ee.N("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Ay=(0,ge.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,ge.ZnX)(Q0,.1),light:(0,ge.ZnX)(Q0,.1),hc:"#0C141F"},Ee.N("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Y0=(0,ge.P6G)("editorMarkerNavigationInfo.background",{dark:TC,light:TC,hc:ge.lRK},Ee.N("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Ry=(0,ge.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,ge.ZnX)(Y0,.1),light:(0,ge.ZnX)(Y0,.1),hc:null},Ee.N("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Fy=(0,ge.P6G)("editorMarkerNavigation.background",{dark:ge.cvW,light:ge.cvW,hc:ge.cvW},Ee.N("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Rm=function(a,e){return function(t,n){e(t,n,a)}},PC=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};let Rc=class Np{constructor(e,t,n,o,s){this._markerNavigationService=t,this._contextKeyService=n,this._editorService=o,this._instantiationService=s,this._sessionDispoables=new Pt.SL,this._editor=e,this._widgetVisible=OC.bindTo(this._contextKeyService)}static get(e){return e.getContribution(Np.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(nh,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(n=>{var o,s,d;(!(null===(o=this._model)||void 0===o?void 0:o.selected)||!kt.e.containsPosition(null===(s=this._model)||void 0===s?void 0:s.selected.marker,n.position))&&(null===(d=this._model)||void 0===d||d.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const n=this._model.find(this._editor.getModel().uri,this._widget.position);n?this._widget.updateMarker(n.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(n=>{this._editorService.openCodeEditor({resource:n.resource,options:{pinned:!0,revealIfOpened:!0,selection:kt.e.lift(n).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new hi.L(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){var n,o;return PC(this,void 0,void 0,function*(){if(this._editor.hasModel()){const s=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(s.move(e,this._editor.getModel(),this._editor.getPosition()),!s.selected)return;if(s.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const d=yield this._editorService.openCodeEditor({resource:s.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:s.selected.marker}},this._editor);d&&(null===(n=Np.get(d))||void 0===n||n.close(),null===(o=Np.get(d))||void 0===o||o.nagivate(e,t))}else this._widget.showAtMarker(s.selected.marker,s.selected.index,s.selected.total)}})}};Rc.ID="editor.contrib.markerController",Rc=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Rm(1,NC),Rm(2,$t.i6),Rm(3,Zt.$),Rm(4,oo.TG)],Rc);class Fm extends Xe.R6{constructor(e,t,n){super(n),this._next=e,this._multiFile=t}run(e,t){var n;return PC(this,void 0,void 0,function*(){t.hasModel()&&(null===(n=Rc.get(t))||void 0===n||n.nagivate(this._next,this._multiFile))})}}class Fc extends Fm{constructor(){super(!0,!1,{id:Fc.ID,label:Fc.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:578,weight:100},menuOpts:{menuId:nh.TitleMenu,title:Fc.LABEL,icon:(0,er.q5)("marker-navigation-next",Qn.lA.arrowDown,Ee.N("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Fc.ID="editor.action.marker.next",Fc.LABEL=Ee.N("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class jd extends Fm{constructor(){super(!1,!1,{id:jd.ID,label:jd.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:1602,weight:100},menuOpts:{menuId:nh.TitleMenu,title:jd.LABEL,icon:(0,er.q5)("marker-navigation-previous",Qn.lA.arrowUp,Ee.N("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}jd.ID="editor.action.marker.prev",jd.LABEL=Ee.N("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,Xe._K)(Rc.ID,Rc),(0,Xe.Qr)(Fc),(0,Xe.Qr)(jd),(0,Xe.Qr)(class extends Fm{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:Ee.N("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:66,weight:100},menuOpts:{menuId:Hn.eH.MenubarGoMenu,title:Ee.N({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,Xe.Qr)(class extends Fm{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:Ee.N("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:1090,weight:100},menuOpts:{menuId:Hn.eH.MenubarGoMenu,title:Ee.N({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const OC=new $t.uy("markersNavigationVisible",!1),Hy=Xe._l.bindToContribution(Rc.get);(0,Xe.fK)(new Hy({id:"closeMarkersNavigation",precondition:OC,handler:a=>a.close(),kbOpts:{weight:150,kbExpr:vt.u.focus,primary:9,secondary:[1033]}}));var J0=function(a,e){return function(t,n){e(t,n,a)}};const wa=st.$;class Uy{constructor(e,t,n){this.owner=e,this.range=t,this.marker=n}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const AC={type:1,filter:{include:Vi.QuickFix}};let X0=class{constructor(e,t,n,o){this._editor=e,this._markerDecorationsService=t,this._openerService=n,this._languageFeaturesService=o,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const n=this._editor.getModel(),o=e.range.startLineNumber,s=n.getLineMaxColumn(o),d=[];for(const p of t){const R=p.range.startLineNumber===o?p.range.startColumn:1,j=p.range.endLineNumber===o?p.range.endColumn:s,z=this._markerDecorationsService.getMarker(n.uri,p);if(!z)continue;const ne=new kt.e(e.range.startLineNumber,R,e.range.startLineNumber,j);d.push(new Uy(this,ne,z))}return d}renderHoverParts(e,t){if(!t.length)return Pt.JT.None;const n=new Pt.SL;t.forEach(s=>e.fragment.appendChild(this.renderMarkerHover(s,n)));const o=1===t.length?t[0]:t.sort((s,d)=>Qo.ZL.compare(s.marker.severity,d.marker.severity))[0];return this.renderMarkerStatusbar(e,o,n),n}renderMarkerHover(e,t){const n=wa("div.hover-row"),o=st.R3(n,wa("div.marker.hover-contents")),{source:s,message:d,code:p,relatedInformation:R}=e.marker;this._editor.applyFontInfo(o);const j=st.R3(o,wa("span"));if(j.style.whiteSpace="pre-wrap",j.innerText=d,s||p)if(p&&"string"!=typeof p){const z=wa("span");s&&(st.R3(z,wa("span")).innerText=s);const ne=st.R3(z,wa("a.code-link"));ne.setAttribute("href",p.target.toString()),t.add(st.nm(ne,"click",Ge=>{this._openerService.open(p.target,{allowCommands:!0}),Ge.preventDefault(),Ge.stopPropagation()})),st.R3(ne,wa("span")).innerText=p.value;const Me=st.R3(o,z);Me.style.opacity="0.6",Me.style.paddingLeft="6px"}else{const z=st.R3(o,wa("span"));z.style.opacity="0.6",z.style.paddingLeft="6px",z.innerText=s&&p?`${s}(${p})`:s||`(${p})`}if((0,Wi.Of)(R))for(const{message:z,resource:ne,startLineNumber:Se,startColumn:Me}of R){const Ge=st.R3(o,wa("div"));Ge.style.marginTop="8px";const dt=st.R3(Ge,wa("a"));dt.innerText=`${(0,Mo.EZ)(ne)}(${Se}, ${Me}): `,dt.style.cursor="pointer",t.add(st.nm(dt,"click",Ot=>{Ot.stopPropagation(),Ot.preventDefault(),this._openerService&&this._openerService.open(ne,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Se,startColumn:Me}}}).catch(Un.dL)}));const Ft=st.R3(Ge,wa("span"));Ft.innerText=z,this._editor.applyFontInfo(Ft)}return n}renderMarkerStatusbar(e,t,n){if((t.marker.severity===Qo.ZL.Error||t.marker.severity===Qo.ZL.Warning||t.marker.severity===Qo.ZL.Info)&&e.statusBar.addAction({label:Ee.N("view problem","View Problem"),commandId:Fc.ID,run:()=>{var o;e.hide(),null===(o=Rc.get(this._editor))||void 0===o||o.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(81)){const o=e.statusBar.append(wa("div"));this.recentMarkerCodeActionsInfo&&(Qo.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===Qo.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=Ee.N("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const s=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?Pt.JT.None:n.add((0,Wn.Vg)(()=>o.textContent=Ee.N("checkingForQuickFixes","Checking for quick fixes..."),200));o.textContent||(o.textContent=String.fromCharCode(160));const d=this.getCodeActions(t.marker);n.add((0,Pt.OF)(()=>d.cancel())),d.then(p=>{if(s.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:p.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return p.dispose(),void(o.textContent=Ee.N("noQuickFixes","No quick fixes available"));o.style.display="none";let R=!1;n.add((0,Pt.OF)(()=>{R||p.dispose()})),e.statusBar.addAction({label:Ee.N("quick fixes","Quick Fix..."),commandId:sf.Id,run:j=>{R=!0;const z=Fa.get(this._editor),ne=st.i(j);e.hide(),null==z||z.showCodeActions(AC,p,{x:ne.left+6,y:ne.top+ne.height+6})}})},Un.dL)}}getCodeActions(e){return(0,Wn.PG)(t=>Yh(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new kt.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),AC,ma.Ex.None,t))}};X0=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([J0(1,ky.i),J0(2,oa.v4),J0(3,$n.p)],X0),(0,r.Ic)((a,e)=>{const t=a.getColor(ge.url);t&&e.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${t}; }`);const n=a.getColor(ge.sgC);n&&e.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)});var Bm=function(a,e){return function(t,n){e(t,n,a)}};let Bc=class dw{constructor(e,t,n,o,s){this._editor=e,this._instantiationService=t,this._openerService=n,this._languageService=o,this._toUnhook=new Pt.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(d=>{d.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(e){return e.getContribution(dw.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(53);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(n=>this._onEditorMouseDown(n))),this._toUnhook.add(this._editor.onMouseUp(n=>this._onEditorMouseUp(n))),this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))):(this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(n=>this._onEditorScrollChanged(n)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target;9!==t.type||t.detail!==Hd.ID?12===t.type&&t.detail===U0.ID||(12!==t.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,n,o,s,d;const p=e.target;if(!(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===p.type&&p.detail===Hd.ID||this._isHoverSticky&&!(null===(n=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.isCollapsed)||!this._isHoverSticky&&9===p.type&&p.detail===Hd.ID&&(null===(o=this._contentWidget)||void 0===o?void 0:o.isColorPickerVisible())||this._isHoverSticky&&12===p.type&&p.detail===U0.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===p.type&&p.position?(null===(d=this._contentWidget)||void 0===d||d.hide(),this._glyphWidget||(this._glyphWidget=new U0(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(p.position.lineNumber)):void this._hideWidgets();null===(s=this._glyphWidget)||void 0===s||s.hide()}else this._hideWidgets()}_onKeyDown(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}_hideWidgets(){var e,t,n;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(Mm,this._editor)),this._contentWidget}isColorPickerVisible(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,t,n)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}};Bc.ID="editor.contrib.hover",Bc=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Bm(1,oo.TG),Bm(2,oa.v4),Bm(3,Ur.O),Bm(4,$t.i6)],Bc),(0,Xe._K)(Bc.ID,Bc),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.showHover",label:Ee.N({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let n=Bc.get(t);if(!n)return;const o=t.getPosition(),s=new kt.e(o.lineNumber,o.column,o.lineNumber,o.column),d=2===t.getOption(2);n.showContentHover(s,1,d)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:Ee.N({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const n=Bc.get(t);if(!n)return;const o=t.getPosition();if(!o)return;const s=new kt.e(o.lineNumber,o.column,o.lineNumber,o.column),d=Xo.get(t);d&&d.startFindDefinitionFromCursor(o).then(()=>{n.showContentHover(s,1,!0)})}}),Vd.register(Om),Vd.register(X0),(0,r.Ic)((a,e)=>{const t=a.getColor(ge.ptc);t&&e.addRule(`.monaco-editor .hoverHighlight { background-color: ${t}; }`);const n=a.getColor(ge.yJx);n&&e.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const o=a.getColor(ge.CNo);o&&(e.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${o}; }`),e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${o.transparent(.5)}; }`));const s=a.getColor(ge.url);s&&e.addRule(`.monaco-editor .monaco-hover a { color: ${s}; }`);const d=a.getColor(ge.sgC);d&&e.addRule(`.monaco-editor .monaco-hover a:hover { color: ${d}; }`);const p=a.getColor(ge.Sbf);p&&e.addRule(`.monaco-editor .monaco-hover { color: ${p}; }`);const R=a.getColor(ge.LoV);R&&e.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${R}; }`);const j=a.getColor(ge.SwI);j&&e.addRule(`.monaco-editor .monaco-hover code { background-color: ${j}; }`)});let RC=(()=>{class a extends Pt.JT{constructor(t){super(),this._editor=t,this._register(t.onMouseDown(n=>this.onMouseDown(n)))}dispose(){super.dispose()}onMouseDown(t){const n=t.target;if(6!==n.type||!n.detail.injectedText||n.detail.injectedText.options.attachedData!==Va||!n.range)return;const o=this._editor.getContribution(Bc.ID);if(o&&!o.isColorPickerVisible()){const s=new kt.e(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);o.showContentHover(s,1,!1)}}}return a.ID="editor.contrib.colorContribution",a})();(0,Xe._K)(RC.ID,RC),Vd.register(Bu);var ss=m(19420);class Wc{constructor(e,t,n){this.languageConfigurationService=n,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,n){if(n<0)return!1;const o=t.length;if(n+o>e.length)return!1;for(let d=0;d<o;d++){const p=e.charCodeAt(n+d),R=t.charCodeAt(d);if(!(p===R||p>=65&&p<=90&&p+32===R||R>=65&&R<=90&&R+32===p))return!1}return!0}_createOperationsForBlockComment(e,t,n,o,s,d){const p=e.startLineNumber,R=e.startColumn,j=e.endLineNumber,z=e.endColumn,ne=s.getLineContent(p),Se=s.getLineContent(j);let dt,Me=ne.lastIndexOf(t,R-1+t.length),Ge=Se.indexOf(n,z-1-n.length);if(-1!==Me&&-1!==Ge)if(p===j)ne.substring(Me+t.length,Ge).indexOf(n)>=0&&(Me=-1,Ge=-1);else{const Ft=ne.substring(Me+t.length),Ot=Se.substring(0,Ge);(Ft.indexOf(n)>=0||Ot.indexOf(n)>=0)&&(Me=-1,Ge=-1)}-1!==Me&&-1!==Ge?(o&&Me+t.length<ne.length&&32===ne.charCodeAt(Me+t.length)&&(t+=" "),o&&Ge>0&&32===Se.charCodeAt(Ge-1)&&(n=" "+n,Ge-=1),dt=Wc._createRemoveBlockCommentOperations(new kt.e(p,Me+t.length+1,j,Ge+1),t,n)):(dt=Wc._createAddBlockCommentOperations(e,t,n,this._insertSpace),this._usedEndToken=1===dt.length?n:null);for(const Ft of dt)d.addTrackedEditOperation(Ft.range,Ft.text)}static _createRemoveBlockCommentOperations(e,t,n){let o=[];return kt.e.isEmpty(e)?o.push(ss.h.delete(new kt.e(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(o.push(ss.h.delete(new kt.e(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),o.push(ss.h.delete(new kt.e(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),o}static _createAddBlockCommentOperations(e,t,n,o){let s=[];return kt.e.isEmpty(e)?s.push(ss.h.replace(new kt.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(s.push(ss.h.insert(new hi.L(e.startLineNumber,e.startColumn),t+(o?" ":""))),s.push(ss.h.insert(new hi.L(e.endLineNumber,e.endColumn),(o?" ":"")+n))),s}getEditOperations(e,t){const n=this._selection.startLineNumber,o=this._selection.startColumn;e.tokenizeIfCheap(n);const s=e.getLanguageIdAtPosition(n,o),d=this.languageConfigurationService.getLanguageConfiguration(s).comments;!d||!d.blockCommentStartToken||!d.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,d.blockCommentStartToken,d.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const n=t.getInverseEditOperations();if(2===n.length){const o=n[0],s=n[1];return new mi.Y(o.range.endLineNumber,o.range.endColumn,s.range.startLineNumber,s.range.startColumn)}{const o=n[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new mi.Y(o.endLineNumber,o.endColumn+s,o.endLineNumber,o.endColumn+s)}}}class Yl{constructor(e,t,n,o,s,d,p){this.languageConfigurationService=e,this._selection=t,this._tabSize=n,this._type=o,this._insertSpace=s,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=p||!1}static _gatherPreflightCommentStrings(e,t,n,o){e.tokenizeIfCheap(t);const s=e.getLanguageIdAtPosition(t,1),d=o.getLanguageConfiguration(s).comments,p=d?d.lineCommentToken:null;if(!p)return null;let R=[];for(let j=0,z=n-t+1;j<z;j++)R[j]={ignore:!1,commentStr:p,commentStrOffset:0,commentStrLength:p.length};return R}static _analyzeLines(e,t,n,o,s,d,p,R){let z,j=!0;z=0===e||1!==e;for(let ne=0,Se=o.length;ne<Se;ne++){const Me=o[ne],Ge=s+ne;if(Ge===s&&p){Me.ignore=!0;continue}const dt=n.getLineContent(Ge),Ft=An.LC(dt);if(-1!==Ft){if(j=!1,Me.ignore=!1,Me.commentStrOffset=Ft,z&&!Wc._haystackHasNeedleAtOffset(dt,Me.commentStr,Ft)&&(0===e?z=!1:1===e||(Me.ignore=!0)),z&&t){const Ot=Ft+Me.commentStrLength;Ot<dt.length&&32===dt.charCodeAt(Ot)&&(Me.commentStrLength+=1)}}else Me.ignore=d,Me.commentStrOffset=dt.length}if(0===e&&j){z=!1;for(let ne=0,Se=o.length;ne<Se;ne++)o[ne].ignore=!1}return{supported:!0,shouldRemoveComments:z,lines:o}}static _gatherPreflightData(e,t,n,o,s,d,p,R){const j=Yl._gatherPreflightCommentStrings(n,o,s,R);return null===j?{supported:!1}:Yl._analyzeLines(e,t,n,j,o,d,p,R)}_executeLineComments(e,t,n,o){let s;n.shouldRemoveComments?s=Yl._createRemoveLineCommentsOperations(n.lines,o.startLineNumber):(Yl._normalizeInsertionPoint(e,n.lines,o.startLineNumber,this._tabSize),s=this._createAddLineCommentsOperations(n.lines,o.startLineNumber));const d=new hi.L(o.positionLineNumber,o.positionColumn);for(let p=0,R=s.length;p<R;p++)t.addEditOperation(s[p].range,s[p].text),kt.e.isEmpty(s[p].range)&&kt.e.getStartPosition(s[p].range).equals(d)&&e.getLineContent(d.lineNumber).length+1===d.column&&(this._deltaColumn=(s[p].text||"").length);this._selectionId=t.trackSelection(o)}_attemptRemoveBlockComment(e,t,n,o){let s=t.startLineNumber,d=t.endLineNumber,p=o.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),R=e.getLineContent(s).lastIndexOf(n,p-1),j=e.getLineContent(d).indexOf(o,t.endColumn-1-n.length);return-1!==R&&-1===j&&(j=e.getLineContent(s).indexOf(o,R+n.length),d=s),-1===R&&-1!==j&&(R=e.getLineContent(d).lastIndexOf(n,j),s=d),t.isEmpty()&&(-1===R||-1===j)&&(R=e.getLineContent(s).indexOf(n),-1!==R&&(j=e.getLineContent(s).indexOf(o,R+n.length))),-1!==R&&32===e.getLineContent(s).charCodeAt(R+n.length)&&(n+=" "),-1!==j&&32===e.getLineContent(d).charCodeAt(j-1)&&(o=" "+o,j-=1),-1!==R&&-1!==j?Wc._createRemoveBlockCommentOperations(new kt.e(s,R+n.length+1,d,j+1),n,o):null}_executeBlockComment(e,t,n){e.tokenizeIfCheap(n.startLineNumber);let o=e.getLanguageIdAtPosition(n.startLineNumber,1),s=Yo.zu.getComments(o);if(!s||!s.blockCommentStartToken||!s.blockCommentEndToken)return;const d=s.blockCommentStartToken,p=s.blockCommentEndToken;let R=this._attemptRemoveBlockComment(e,n,d,p);if(!R){if(n.isEmpty()){const j=e.getLineContent(n.startLineNumber);let z=An.LC(j);-1===z&&(z=j.length),R=Wc._createAddBlockCommentOperations(new kt.e(n.startLineNumber,z+1,n.startLineNumber,j.length+1),d,p,this._insertSpace)}else R=Wc._createAddBlockCommentOperations(new kt.e(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),d,p,this._insertSpace);1===R.length&&(this._deltaColumn=d.length+1)}this._selectionId=t.trackSelection(n);for(const j of R)t.addEditOperation(j.range,j.text)}getEditOperations(e,t){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new kt.e(n.startLineNumber,e.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(n));n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const o=Yl._gatherPreflightData(this._type,this._insertSpace,e,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return o.supported?this._executeLineComments(e,t,o,n):this._executeBlockComment(e,t,n)}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new mi.Y(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let n=[];for(let o=0,s=e.length;o<s;o++){const d=e[o];d.ignore||n.push(ss.h.delete(new kt.e(t+o,d.commentStrOffset+1,t+o,d.commentStrOffset+d.commentStrLength+1)))}return n}_createAddLineCommentsOperations(e,t){let n=[];const o=this._insertSpace?" ":"";for(let s=0,d=e.length;s<d;s++){const p=e[s];p.ignore||n.push(ss.h.insert(new hi.L(t+s,p.commentStrOffset+1),p.commentStr+o))}return n}static nextVisibleColumn(e,t,n,o){return n?e+(t-e%t):e+o}static _normalizeInsertionPoint(e,t,n,o){let d,p,s=1073741824;for(let R=0,j=t.length;R<j;R++){if(t[R].ignore)continue;const z=e.getLineContent(n+R);let ne=0;for(let Se=0,Me=t[R].commentStrOffset;ne<s&&Se<Me;Se++)ne=Yl.nextVisibleColumn(ne,o,9===z.charCodeAt(Se),1);ne<s&&(s=ne)}s=Math.floor(s/o)*o;for(let R=0,j=t.length;R<j;R++){if(t[R].ignore)continue;const z=e.getLineContent(n+R);let ne=0;for(d=0,p=t[R].commentStrOffset;ne<s&&d<p;d++)ne=Yl.nextVisibleColumn(ne,o,9===z.charCodeAt(d),1);t[R].commentStrOffset=ne>s?d-1:d}}}class q0 extends Xe.R6{constructor(e,t){super(t),this._type=e}run(e,t){const n=e.get(Yo.c_);if(!t.hasModel())return;const s=[],d=t.getModel().getOptions(),p=t.getOption(19),R=t.getSelections().map((z,ne)=>({selection:z,index:ne,ignoreFirstLine:!1}));R.sort((z,ne)=>kt.e.compareRangesUsingStarts(z.selection,ne.selection));let j=R[0];for(let z=1;z<R.length;z++){const ne=R[z];j.selection.endLineNumber===ne.selection.startLineNumber&&(j.index<ne.index?ne.ignoreFirstLine=!0:(j.ignoreFirstLine=!0,j=ne))}for(const z of R)s.push(new Yl(n,z.selection,d.tabSize,this._type,p.insertSpace,p.ignoreEmptyLines,z.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}(0,Xe.Qr)(class extends q0{constructor(){super(0,{id:"editor.action.commentLine",label:Ee.N("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:Hn.eH.MenubarEditMenu,group:"5_insert",title:Ee.N({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,Xe.Qr)(class extends q0{constructor(){super(1,{id:"editor.action.addCommentLine",label:Ee.N("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2081),weight:100}})}}),(0,Xe.Qr)(class extends q0{constructor(){super(2,{id:"editor.action.removeCommentLine",label:Ee.N("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2099),weight:100}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.blockComment",label:Ee.N("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:Hn.eH.MenubarEditMenu,group:"5_insert",title:Ee.N({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const n=e.get(Yo.c_);if(!t.hasModel())return;const o=t.getOption(19),s=[],d=t.getSelections();for(const p of d)s.push(new Wc(p,o.insertSpace,n));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}});var zf=function(a,e){return function(t,n){e(t,n,a)}};let ih=class uw{constructor(e,t,n,o,s,d){this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=o,this._keybindingService=s,this._menuService=d,this._toDispose=new Pt.SL,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(p=>this._onContextMenu(p))),this._toDispose.add(this._editor.onMouseWheel(p=>{if(this._contextMenuIsBeingShownCount>0){const R=this._contextViewService.getContextViewElement(),j=p.srcElement;j.shadowRoot&&st.Ay(R)===j.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(p=>{58===p.keyCode&&(p.preventDefault(),p.stopPropagation(),this.showContextMenu())}))}static get(e){return e.getContribution(uw.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type||6===e.target.type&&e.target.detail.injectedText||(e.event.preventDefault(),e.event.stopPropagation(),6!==e.target.type&&7!==e.target.type&&1!==e.target.type))return;if(this._editor.focus(),e.target.position){let n=!1;for(const o of this._editor.getSelections())if(o.containsPosition(e.target.position)){n=!0;break}n||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?Hn.eH.SimpleEditorContext:Hn.eH.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const n=[],o=this._menuService.createMenu(t,this._contextKeyService),s=o.getActions({arg:e.uri});o.dispose();for(let d of s){const[,p]=d;let R=0;for(const j of p)if(j instanceof Hn.NZ){const z=this._getMenuActions(e,j.item.submenu);z.length>0&&(n.push(new Us.wY(j.id,j.label,z)),R++)}else n.push(j),R++;R&&n.push(new Us.Z0)}return n.length&&n.pop(),n}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),d=st.i(this._editor.getDomNode());t={x:d.left+s.left,y:d.top+s.top+s.height}}const o=this._editor.getOption(115)&&!mt.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:s=>{const d=this._keybindingFor(s);return d?new cl.g(s,s,{label:!0,keybinding:d.getLabel(),isMenu:!0}):"function"==typeof s.getActionViewItem?s.getActionViewItem():new cl.g(s,s,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:s=>this._keybindingFor(s),onHide:s=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};ih.ID="editor.contrib.contextmenu",ih=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([zf(1,al.i),zf(2,al.u),zf(3,$t.i6),zf(4,js.d),zf(5,Hn.co)],ih),(0,Xe._K)(ih.ID,ih),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.showContextMenu",label:Ee.N("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:1092,weight:100}})}run(e,t){var n;null===(n=ih.get(t))||void 0===n||n.showContextMenu()}});class e_{constructor(e){this.selections=e}equals(e){const t=this.selections.length;if(t!==e.selections.length)return!1;for(let o=0;o<t;o++)if(!this.selections[o].equalsSelection(e.selections[o]))return!1;return!0}}class t_{constructor(e,t,n){this.cursorState=e,this.scrollTop=t,this.scrollLeft=n}}let Wm=(()=>{class a extends Pt.JT{constructor(t){super(),this._editor=t,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(t.onDidChangeModel(n=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeModelContent(n=>{this._undoStack=[],this._redoStack=[]})),this._register(t.onDidChangeCursorSelection(n=>{if(this._isCursorUndoRedo||!n.oldSelections||n.oldModelVersionId!==n.modelVersionId)return;const o=new e_(n.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o)||(this._undoStack.push(new t_(o,t.getScrollTop(),t.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(t){return t.getContribution(a.ID)}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new t_(new e_(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new t_(new e_(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(t){this._isCursorUndoRedo=!0,this._editor.setSelections(t.cursorState.selections),this._editor.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),this._isCursorUndoRedo=!1}}return a.ID="editor.contrib.cursorUndoRedoController",a})();(0,Xe._K)(Wm.ID,Wm),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"cursorUndo",label:Ee.N("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:2099,weight:100}})}run(e,t,n){var o;null===(o=Wm.get(t))||void 0===o||o.cursorUndo()}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"cursorRedo",label:Ee.N("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,n){var o;null===(o=Wm.get(t))||void 0===o||o.cursorRedo()}}),m(63593);class tS{constructor(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n,this.targetSelection=null}getEditOperations(e,t){let n=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new kt.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new mi.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new mi.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new mi.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new mi.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new mi.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(e,t){return this.targetSelection}}function oh(a){return mt.dz?a.altKey:a.ctrlKey}class Jl extends Pt.JT{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(31)||this._editor.getOption(18)||(oh(e)&&(this._modifierPressed=!0),this._mouseDown&&oh(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(31)||this._editor.getOption(18)||(oh(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===Jl.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(null===this._dragSelection){let o=(this._editor.getSelections()||[]).filter(s=>t.position&&s.containsPosition(t.position));if(1!==o.length)return;this._dragSelection=o[0]}oh(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new hi.L(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let n=null;if(e.event.shiftKey){let o=this._editor.getSelection();if(o){const{selectionStartLineNumber:s,selectionStartColumn:d}=o;n=[new mi.Y(s,d,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map(o=>o.containsPosition(t)?new mi.Y(t.lineNumber,t.column,t.lineNumber,t.column):o);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(oh(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Jl.ID,new tS(this._dragSelection,t,oh(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new kt.e(e.lineNumber,e.column,e.lineNumber,e.column),options:Jl._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Jl.ID="editor.contrib.dragAndDrop",Jl.TRIGGER_KEY_VALUE=mt.dz?6:5,Jl._DECORATION_OPTIONS=Zi.qx.register({description:"dnd-target",className:"dnd-target"}),(0,Xe._K)(Jl.ID,Jl);var nS=m(82711);class Zs{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const n of t){const o=n.options;if(o===Zs._FIND_MATCH_DECORATION||o===Zs._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(e){let t=null,n=0;if(e)for(let o=0,s=this._decorations.length;o<s;o++){let d=this._editor.getModel().getDecorationRange(this._decorations[o]);if(e.equalsRange(d)){t=this._decorations[o],n=o+1;break}}return(null!==this._highlightedDecorationId||null!==t)&&this._editor.changeDecorations(o=>{if(null!==this._highlightedDecorationId&&(o.changeDecorationOptions(this._highlightedDecorationId,Zs._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,o.changeDecorationOptions(this._highlightedDecorationId,Zs._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let s=this._editor.getModel().getDecorationRange(t);if(s.startLineNumber!==s.endLineNumber&&1===s.endColumn){let d=s.endLineNumber-1,p=this._editor.getModel().getLineMaxColumn(d);s=new kt.e(s.startLineNumber,s.startColumn,d,p)}this._rangeHighlightDecorationId=o.addDecoration(s,Zs._RANGE_HIGHLIGHT_DECORATION)}}),n}set(e,t){this._editor.changeDecorations(n=>{let o=Zs._FIND_MATCH_DECORATION,s=[];if(e.length>1e3){o=Zs._FIND_MATCH_NO_OVERVIEW_DECORATION;const p=this._editor.getModel().getLineCount(),j=this._editor.getLayoutInfo().height/p,z=Math.max(2,Math.ceil(3/j));let ne=e[0].range.startLineNumber,Se=e[0].range.endLineNumber;for(let Me=1,Ge=e.length;Me<Ge;Me++){const dt=e[Me].range;Se+z>=dt.startLineNumber?dt.endLineNumber>Se&&(Se=dt.endLineNumber):(s.push({range:new kt.e(ne,1,Se,1),options:Zs._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),ne=dt.startLineNumber,Se=dt.endLineNumber)}s.push({range:new kt.e(ne,1,Se,1),options:Zs._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let d=new Array(e.length);for(let p=0,R=e.length;p<R;p++)d[p]={range:e[p].range,options:o};this._decorations=n.deltaDecorations(this._decorations,d),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,s),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(p=>n.removeDecoration(p)),this._findScopeDecorationIds=[]),(null==t?void 0:t.length)&&(this._findScopeDecorationIds=t.map(p=>n.addDecoration(p,Zs._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){let n=this._decorations[t],o=this._editor.getModel().getDecorationRange(n);if(o&&!(o.endLineNumber>e.lineNumber)){if(o.endLineNumber<e.lineNumber)return o;if(!(o.endColumn>e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,n=this._decorations.length;t<n;t++){let o=this._decorations[t],s=this._editor.getModel().getDecorationRange(o);if(s&&!(s.startLineNumber<e.lineNumber)){if(s.startLineNumber>e.lineNumber)return s;if(!(s.startColumn<e.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}Zs._CURRENT_FIND_MATCH_DECORATION=Zi.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,r.EN)(ge.Fm_),position:Fo.sh.Center},minimap:{color:(0,r.EN)(ge.SUY),position:Fo.F5.Inline}}),Zs._FIND_MATCH_DECORATION=Zi.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,r.EN)(ge.Fm_),position:Fo.sh.Center},minimap:{color:(0,r.EN)(ge.SUY),position:Fo.F5.Inline}}),Zs._FIND_MATCH_NO_OVERVIEW_DECORATION=Zi.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),Zs._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Zi.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,r.EN)(ge.Fm_),position:Fo.sh.Center}}),Zs._RANGE_HIGHLIGHT_DECORATION=Zi.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),Zs._FIND_SCOPE_DECORATION=Zi.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class iS{constructor(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let n=[];for(let d=0;d<this._ranges.length;d++)n.push({range:this._ranges[d],text:this._replaceStrings[d]});n.sort((d,p)=>kt.e.compareRangesUsingStarts(d.range,p.range));let o=[],s=n[0];for(let d=1;d<n.length;d++)s.range.endLineNumber===n[d].range.startLineNumber&&s.range.endColumn===n[d].range.startColumn?(s.range=s.range.plusRange(n[d].range),s.text=s.text+n[d].text):(o.push(s),s=n[d]);o.push(s);for(const d of o)t.addEditOperation(d.range,d.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function FC(a,e){if(a&&""!==a[0]){const t=BC(a,e,"-"),n=BC(a,e,"_");return t&&!n?WC(a,e,"-"):!t&&n?WC(a,e,"_"):a[0].toUpperCase()===a[0]?e.toUpperCase():a[0].toLowerCase()===a[0]?e.toLowerCase():An.Kw(a[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):a[0][0].toUpperCase()!==a[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}return e}function BC(a,e,t){return-1!==a[0].indexOf(t)&&-1!==e.indexOf(t)&&a[0].split(t).length===e.split(t).length}function WC(a,e,t){const n=e.split(t),o=a[0].split(t);let s="";return n.forEach((d,p)=>{s+=FC([o[p]],d)+t}),s.slice(0,-1)}class VC{constructor(e){this.staticValue=e,this.kind=0}}class oS{constructor(e){this.pieces=e,this.kind=1}}class sh{constructor(e){this._state=e&&0!==e.length?1===e.length&&null!==e[0].staticValue?new VC(e[0].staticValue):new oS(e):new VC("")}static fromStaticValue(e){return new sh([Kd.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(e,t){if(0===this._state.kind)return t?FC(e,this._state.staticValue):this._state.staticValue;let n="";for(let o=0,s=this._state.pieces.length;o<s;o++){let d=this._state.pieces[o];if(null!==d.staticValue){n+=d.staticValue;continue}let p=sh._substitute(d.matchIndex,e);if(null!==d.caseOps&&d.caseOps.length>0){let R=[],j=d.caseOps.length,z=0;for(let ne=0,Se=p.length;ne<Se;ne++){if(z>=j){R.push(p.slice(ne));break}switch(d.caseOps[z]){case"U":R.push(p[ne].toUpperCase());break;case"u":R.push(p[ne].toUpperCase()),z++;break;case"L":R.push(p[ne].toLowerCase());break;case"l":R.push(p[ne].toLowerCase()),z++;break;default:R.push(p[ne])}}p=R.join("")}n+=p}return n}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let n="";for(;e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n}}class Kd{constructor(e,t,n){this.staticValue=e,this.matchIndex=t,this.caseOps=n&&0!==n.length?n.slice(0):null}static staticValue(e){return new Kd(e,-1,null)}static caseOps(e,t){return new Kd(null,e,t)}}class sS{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,n){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=Kd.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=Kd.caseOps(e,n),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=Kd.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new sh(this._result)}}const Vc=new $t.uy("findWidgetVisible",!1),Vm=(Vc.toNegated(),new $t.uy("findInputFocussed",!1)),n_=new $t.uy("replaceInputFocussed",!1),Hm={primary:545,mac:{primary:2593}},zm={primary:565,mac:{primary:2613}},Um={primary:560,mac:{primary:2608}},jm={primary:554,mac:{primary:2602}},Km={primary:558,mac:{primary:2606}},Hc=19999;class Uf{constructor(e,t){this._toDispose=new Pt.SL,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new Wn._F,this._decorations=new Zs(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Wn.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(n=>{(3===n.reason||5===n.reason||6===n.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(n=>{this._ignoreModelContentChanged||(n.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(n=>this._onStateChanged(n))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,Pt.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||!this._editor.hasModel()||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let n=null;void 0!==t?null!==t&&(n=Array.isArray(t)?t:[t]):n=this._decorations.getFindScopes(),null!==n&&(n=n.map(p=>{if(p.startLineNumber!==p.endLineNumber){let R=p.endLineNumber;return 1===p.endColumn&&(R-=1),new kt.e(p.startLineNumber,1,R,this._editor.getModel().getLineMaxColumn(R))}return p}));let o=this._findMatches(n,!1,Hc);this._decorations.set(o,n);const s=this._editor.getSelection();let d=this._decorations.getCurrentMatchesPosition(s);if(0===d&&o.length>0){const p=(0,Wi.lG)(o.map(R=>R.range),R=>kt.e.compareRangesUsingStarts(R,s)>=0);d=p>0?p-1+1:d}this._state.changeMatchInfo(d,this._decorations.getCount(),void 0),e&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:o}=e,s=this._editor.getModel();return t||1===o?(1===n?n=s.getLineCount():n--,o=s.getLineMaxColumn(n)):o--,new hi.L(n,o)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const z=this._decorations.matchAfterPosition(e);return void(z&&this._setCurrentFindMatch(z))}if(this._decorations.getCount()<Hc){let z=this._decorations.matchBeforePosition(e);return z&&z.isEmpty()&&z.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),z=this._decorations.matchBeforePosition(e)),void(z&&this._setCurrentFindMatch(z))}if(this._cannotFind())return;let n=this._decorations.getFindScope(),o=Uf._getSearchRange(this._editor.getModel(),n);o.getEndPosition().isBefore(e)&&(e=o.getEndPosition()),e.isBefore(o.getStartPosition())&&(e=o.getEndPosition());let{lineNumber:s,column:d}=e,p=this._editor.getModel(),R=new hi.L(s,d),j=p.findPreviousMatch(this._state.searchString,R,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(j&&j.range.isEmpty()&&j.range.getStartPosition().equals(R)&&(R=this._prevSearchPosition(R),j=p.findPreviousMatch(this._state.searchString,R,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),j){if(!t&&!o.containsRange(j.range))return this._moveToPrevMatch(j.range.getStartPosition(),!0);this._setCurrentFindMatch(j.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:o}=e,s=this._editor.getModel();return t||o===s.getLineMaxColumn(n)?(n===s.getLineCount()?n=1:n++,o=1):o++,new hi.L(n,o)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const n=this._decorations.matchBeforePosition(e);return void(n&&this._setCurrentFindMatch(n))}if(this._decorations.getCount()<Hc){let n=this._decorations.matchAfterPosition(e);return n&&n.isEmpty()&&n.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),n=this._decorations.matchAfterPosition(e)),void(n&&this._setCurrentFindMatch(n))}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,n,o=!1){if(this._cannotFind())return null;let s=this._decorations.getFindScope(),d=Uf._getSearchRange(this._editor.getModel(),s);d.getEndPosition().isBefore(e)&&(e=d.getStartPosition()),e.isBefore(d.getStartPosition())&&(e=d.getStartPosition());let{lineNumber:p,column:R}=e,j=this._editor.getModel(),z=new hi.L(p,R),ne=j.findNextMatch(this._state.searchString,z,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t);return n&&ne&&ne.range.isEmpty()&&ne.range.getStartPosition().equals(z)&&(z=this._nextSearchPosition(z),ne=j.findNextMatch(this._state.searchString,z,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t)),ne?o||d.containsRange(ne.range)?ne:this._getNextMatch(ne.range.getEndPosition(),t,n,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function(a){if(!a||0===a.length)return new sh(null);let e=[],t=new sS(a);for(let n=0,o=a.length;n<o;n++){let s=a.charCodeAt(n);if(92!==s){if(36===s){if(n++,n>=o)break;let d=a.charCodeAt(n);if(36===d){t.emitUnchanged(n-1),t.emitStatic("$",n+1);continue}if(48===d||38===d){t.emitUnchanged(n-1),t.emitMatchIndex(0,n+1,e),e.length=0;continue}if(49<=d&&d<=57){let p=d-48;if(n+1<o){let R=a.charCodeAt(n+1);if(48<=R&&R<=57){n++,p=10*p+(R-48),t.emitUnchanged(n-2),t.emitMatchIndex(p,n+1,e),e.length=0;continue}}t.emitUnchanged(n-1),t.emitMatchIndex(p,n+1,e),e.length=0;continue}}}else{if(n++,n>=o)break;let d=a.charCodeAt(n);switch(d){case 92:t.emitUnchanged(n-1),t.emitStatic("\\",n+1);break;case 110:t.emitUnchanged(n-1),t.emitStatic("\n",n+1);break;case 116:t.emitUnchanged(n-1),t.emitStatic("\t",n+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(n-1),t.emitStatic("",n+1),e.push(String.fromCharCode(d))}}}return t.finalize()}(this._state.replaceString):sh.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){let o=e.buildReplaceString(n.matches,this._state.preserveCase),s=new ze.T4(t,o);this._executeEditorCommand("replace",s),this._decorations.setStartPosition(new hi.L(t.startLineNumber,t.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(e,t,n){const o=(e||[null]).map(s=>Uf._getSearchRange(this._editor.getModel(),s));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,t,n)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=Hc?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new nS.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!t)return;let n=t.regex;if(!n.multiline){let ne="mu";n.ignoreCase&&(ne+="i"),n.global&&(ne+="g"),n=new RegExp(n.source,ne)}const o=this._editor.getModel(),s=o.getValue(1),d=o.getFullModelRange(),p=this._getReplacePattern();let R;const j=this._state.preserveCase;R=s.replace(n,p.hasReplacementPatterns||j?function(){return p.buildReplaceString(arguments,j)}:p.buildReplaceString(null,j));let z=new ze.hP(d,R,this._editor.getSelection());this._executeEditorCommand("replaceAll",z)}_regularReplaceAll(e){const t=this._getReplacePattern();let n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let d=0,p=n.length;d<p;d++)o[d]=t.buildReplaceString(n[d].matches,this._state.preserveCase);let s=new iS(this._editor.getSelection(),n.map(d=>d.range),o);this._executeEditorCommand("replaceAll",s)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),n=this._findMatches(e,!1,1073741824).map(s=>new mi.Y(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)),o=this._editor.getSelection();for(let s=0,d=n.length;s<d;s++)if(n[s].equalsRange(o)){n=[o].concat(n.slice(0,s)).concat(n.slice(s+1));break}this._editor.setSelections(n)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}let lS=(()=>{class a extends Ha.${constructor(t,n,o,s){super(),this._hideSoon=this._register(new Wn.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=t,this._state=n,this._keybindingService=o,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=s.getColorTheme().getColor(ge.PRb),p=s.getColorTheme().getColor(ge.Pvw),R=s.getColorTheme().getColor(ge.XEs);this.caseSensitive=this._register(new $1({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:p,inputActiveOptionBackground:R})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Z1({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:p,inputActiveOptionBackground:R})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new G1({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:p,inputActiveOptionBackground:R})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(j=>{let z=!1;j.isRegex&&(this.regex.checked=this._state.isRegex,z=!0),j.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,z=!0),j.matchCase&&(this.caseSensitive.checked=this._state.matchCase,z=!0),!this._state.isRevealed&&z&&this._revealTemporarily()})),this._register(st.j_(this._domNode,j=>this._onMouseOut())),this._register(st.nm(this._domNode,"mouseover",j=>this._onMouseOver())),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(t){let n=this._keybindingService.lookupKeybinding(t);return n?` (${n.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(t){let n={inputActiveOptionBorder:t.getColor(ge.PRb),inputActiveOptionForeground:t.getColor(ge.Pvw),inputActiveOptionBackground:t.getColor(ge.XEs)};this.caseSensitive.style(n),this.wholeWords.style(n),this.regex.style(n)}}return a.ID="editor.contrib.findOptionsWidget",a})();function $m(a,e){return 1===a||2!==a&&e}(0,r.Ic)((a,e)=>{const t=a.getColor(ge.D0T);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);const n=a.getColor(ge.Hfx);n&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const o=a.getColor(ge.rh);o&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const s=a.getColor(ge.lRK);s&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${s}; }`)});class cS extends Pt.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new Rn.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return $m(this._isRegexOverride,this._isRegex)}get wholeWord(){return $m(this._wholeWordOverride,this._wholeWord)}get matchCase(){return $m(this._matchCaseOverride,this._matchCase)}get preserveCase(){return $m(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,n){let o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},s=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,o.matchesPosition=!0,s=!0),this._matchesCount!==t&&(this._matchesCount=t,o.matchesCount=!0,s=!0),void 0!==n&&(kt.e.equalsRange(this._currentMatch,n)||(this._currentMatch=n,o.currentMatch=!0,s=!0)),s&&this._onFindReplaceStateChange.fire(o)}change(e,t,n=!0){var o;let s={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},d=!1;const p=this.isRegex,R=this.wholeWord,j=this.matchCase,z=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,s.searchString=!0,d=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,s.replaceString=!0,d=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,s.isRevealed=!0,d=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,s.isReplaceRevealed=!0,d=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&((null===(o=e.searchScope)||void 0===o?void 0:o.every(ne=>{var Se;return null===(Se=this._searchScope)||void 0===Se?void 0:Se.some(Me=>!kt.e.equalsRange(Me,ne))}))||(this._searchScope=e.searchScope,s.searchScope=!0,d=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,s.loop=!0,d=!0),void 0!==e.isSearching&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,s.isSearching=!0,d=!0),void 0!==e.filters&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,s.filters=!0,d=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,p!==this.isRegex&&(d=!0,s.isRegex=!0),R!==this.wholeWord&&(d=!0,s.wholeWord=!0),j!==this.matchCase&&(d=!0,s.matchCase=!0),z!==this.preserveCase&&(d=!0,s.preserveCase=!0),d&&this._onFindReplaceStateChange.fire(s)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Hc}}function HC(a){var e,t;return"Up"===(null===(e=a.lookupKeybinding("history.showPrevious"))||void 0===e?void 0:e.getElectronAccelerator())&&"Down"===(null===(t=a.lookupKeybinding("history.showNext"))||void 0===t?void 0:t.getElectronAccelerator())}m(47009);const uS=(0,er.q5)("find-selection",Qn.lA.selection,Ee.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),zC=(0,er.q5)("find-collapsed",Qn.lA.chevronRight,Ee.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),UC=(0,er.q5)("find-expanded",Qn.lA.chevronDown,Ee.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),hS=(0,er.q5)("find-replace",Qn.lA.replace,Ee.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),fS=(0,er.q5)("find-replace-all",Qn.lA.replaceAll,Ee.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),gS=(0,er.q5)("find-previous-match",Qn.lA.arrowUp,Ee.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),mS=(0,er.q5)("find-next-match",Qn.lA.arrowDown,Ee.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),pS=Ee.N("label.find","Find"),_S=Ee.N("placeholder.find","Find"),CS=Ee.N("label.previousMatchButton","Previous Match"),bS=Ee.N("label.nextMatchButton","Next Match"),vS=Ee.N("label.toggleSelectionFind","Find in Selection"),wS=Ee.N("label.closeButton","Close"),yS=Ee.N("label.replace","Replace"),SS=Ee.N("placeholder.replace","Replace"),xS=Ee.N("label.replaceButton","Replace"),LS=Ee.N("label.replaceAllButton","Replace All"),DS=Ee.N("label.toggleReplaceButton","Toggle Replace"),ES=Ee.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Hc),MS=Ee.N("label.matchesLocation","{0} of {1}"),jC=Ee.N("label.noResults","No results");let jf=69;const KC="ctrlEnterReplaceAll.windows.donotask",$C=mt.dz?256:2048;class i_{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function ZC(a,e,t){const n=!!e.match(/\n/);t&&n&&t.selectionStart>0&&a.stopPropagation()}function GC(a,e,t){const n=!!e.match(/\n/);t&&n&&t.selectionEnd<t.value.length&&a.stopPropagation()}let kS=(()=>{class a extends Ha.${constructor(t,n,o,s,d,p,R,j,z){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=t,this._controller=n,this._state=o,this._contextViewProvider=s,this._keybindingService=d,this._contextKeyService=p,this._storageService=j,this._notificationService=z,this._ctrlEnterReplaceAllWarningPrompted=!!j.getBoolean(KC,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Wn.vp(500),this._register((0,Pt.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(ne=>this._onStateChanged(ne))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(ne=>{if(ne.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ne.hasChanged(131)&&this._tryUpdateWidgetWidth(),ne.hasChanged(2)&&this.updateAccessibilitySupport(),ne.hasChanged(35)){const Se=this._codeEditor.getOption(35).addExtraSpaceOnTop;Se&&!this._viewZone&&(this._viewZone=new i_(0),this._showViewZone()),!Se&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){let ne=yield this._controller.getGlobalBufferTerm();ne&&ne!==this._state.searchString&&(this._state.change({searchString:ne},!1),this._findInput.select())}}))),this._findInputFocused=Vm.bindTo(p),this._findFocusTracker=this._register(st.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=n_.bindTo(p),this._replaceFocusTracker=this._register(st.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new i_(0)),this._applyTheme(R.getColorTheme()),this._register(R.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(ne=>{ne.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return a.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(t){if(t.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}t.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),t.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),t.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=st.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(t.isRevealed||t.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),t.isRegex&&this._findInput.setRegex(this._state.isRegex),t.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),t.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),t.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),t.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(t.searchString||t.matchesCount||t.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(t.searchString||t.currentMatch)&&this._layoutViewZone(),t.updateHistory&&this._delayedUpdateHistory(),t.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Un.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let t;if(this._matchesCount.style.minWidth=jf+"px",this._matchesCount.title=this._state.matchesCount>=Hc?ES:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let n=String(this._state.matchesCount);this._state.matchesCount>=Hc&&(n+="+");let o=String(this._state.matchesPosition);"0"===o&&(o="?"),t=An.WU(MS,o,n)}else t=jC;this._matchesCount.appendChild(document.createTextNode(t)),(0,Ms.Z9)(this._getAriaLabel(t,this._state.currentMatch,this._state.searchString)),jf=Math.max(jf,this._matchesCount.clientWidth)}_getAriaLabel(t,n,o){if(t===jC)return""===o?Ee.N("ariaSearchNoResultEmpty","{0} found",t):Ee.N("ariaSearchNoResult","{0} found for '{1}'",t,o);if(n){const s=Ee.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",t,o,n.startLineNumber+":"+n.startColumn),d=this._codeEditor.getModel();return d&&n.startLineNumber<=d.getLineCount()&&n.startLineNumber>=1?`${d.getLineContent(n.startLineNumber)}, ${s}`:s}return Ee.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",t,o)}_updateToggleSelectionFindButton(){let t=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||t&&(t.startLineNumber!==t.endLineNumber||t.startColumn!==t.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let t=this._state.searchString.length>0,n=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&t&&n&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&t&&n&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&t),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let o=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&o)}_reveal(){if(this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const t=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!t&&t.startLineNumber!==t.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let n=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&t){const o=this._codeEditor.getDomNode();if(o){const s=st.i(o),d=this._codeEditor.getScrolledVisiblePosition(t.getStartPosition()),p=s.left+(d?d.left:0),R=d?d.top:0;if(this._viewZone&&R<this._viewZone.heightInPx){t.endLineNumber>t.startLineNumber&&(n=!1);const j=st.xQ(this._domNode).left;p>j&&(n=!1);const z=this._codeEditor.getScrolledVisiblePosition(t.getEndPosition());s.left+(z?z.left:0)>j&&(n=!1)}}}this._showViewZone(n)}}_hide(t){this._revealTimeouts.forEach(n=>{clearTimeout(n)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),t&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(t){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const o=this._viewZone;void 0!==this._viewZoneId||!o||this._codeEditor.changeViewZones(s=>{o.heightInPx=this._getHeight(),this._viewZoneId=s.addZone(o),this._codeEditor.setScrollTop(t||this._codeEditor.getScrollTop()+o.heightInPx)})}_showViewZone(t=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new i_(0));const o=this._viewZone;this._codeEditor.changeViewZones(s=>{if(void 0!==this._viewZoneId){const d=this._getHeight();if(d===o.heightInPx)return;let p=d-o.heightInPx;return o.heightInPx=d,s.layoutZone(this._viewZoneId),void(t&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+p))}{let d=this._getHeight();if(d-=this._codeEditor.getOption(75).top,d<=0)return;o.heightInPx=d,this._viewZoneId=s.addZone(o),t&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+d)}})}_removeViewZone(){this._codeEditor.changeViewZones(t=>{void 0!==this._viewZoneId&&(t.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(t){let n={inputActiveOptionBorder:t.getColor(ge.PRb),inputActiveOptionBackground:t.getColor(ge.XEs),inputActiveOptionForeground:t.getColor(ge.Pvw),inputBackground:t.getColor(ge.sEe),inputForeground:t.getColor(ge.zJb),inputBorder:t.getColor(ge.dt_),inputValidationInfoBackground:t.getColor(ge._lC),inputValidationInfoForeground:t.getColor(ge.YI3),inputValidationInfoBorder:t.getColor(ge.EPQ),inputValidationWarningBackground:t.getColor(ge.RV_),inputValidationWarningForeground:t.getColor(ge.SUG),inputValidationWarningBorder:t.getColor(ge.C3g),inputValidationErrorBackground:t.getColor(ge.paE),inputValidationErrorForeground:t.getColor(ge._t9),inputValidationErrorBorder:t.getColor(ge.OZR)};this._findInput.style(n),this._replaceInput.style(n),this._toggleSelectionFind.style(n)}_tryUpdateWidgetWidth(){if(!this._isVisible||!st.Uw(this._domNode))return;const t=this._codeEditor.getLayoutInfo();if(t.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const o=t.width,s=t.minimap.minimapWidth;let d=!1,p=!1,R=!1;if(this._resized&&st.w(this._domNode)>419)return this._domNode.style.maxWidth=o-28-s-15+"px",void(this._replaceInput.width=st.w(this._findInput.domNode));if(447+s>=o&&(p=!0),447+s-jf>=o&&(R=!0),447+s-jf>=o+50&&(d=!0),this._domNode.classList.toggle("collapsed-find-widget",d),this._domNode.classList.toggle("narrow-find-widget",R),this._domNode.classList.toggle("reduced-find-widget",p),!R&&!d&&(this._domNode.style.maxWidth=o-28-s-15+"px"),this._resized){this._findInput.inputBox.layout();let j=this._findInput.inputBox.element.clientWidth;j>0&&(this._replaceInput.width=j)}else this._isReplaceVisible&&(this._replaceInput.width=st.w(this._findInput.domNode))}_getHeight(){let t=0;return t+=4,t+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(t+=4,t+=this._replaceInput.inputBox.height+2),t+=4,t}_tryUpdateHeight(){const t=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==t)&&(this._cachedHeight=t,this._domNode.style.height=`${t}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let t=this._codeEditor.getSelections();t.map(n=>(1===n.endColumn&&n.endLineNumber>n.startLineNumber&&(n=n.setEndPosition(n.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(n.endLineNumber-1))),n.startLineNumber===n.endLineNumber||kt.e.equalsRange(n,this._state.currentMatch)?null:n)).filter(n=>!!n),t.length&&this._state.change({searchScope:t},!0)}}_onFindInputMouseDown(t){t.middleButton&&t.stopPropagation()}_onFindInputKeyDown(t){return t.equals(3|$C)?(this._keybindingService.dispatchEvent(t,t.target)||this._findInput.inputBox.insertAtCursor("\n"),void t.preventDefault()):t.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):t.equals(16)?ZC(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):t.equals(18)?GC(t,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(t){return t.equals(3|$C)?(this._keybindingService.dispatchEvent(t,t.target)||(mt.ED&&mt.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Ee.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(KC,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void t.preventDefault()):t.equals(2)?(this._findInput.focusOnCaseSensitive(),void t.preventDefault()):t.equals(1026)?(this._findInput.focus(),void t.preventDefault()):t.equals(2066)?(this._codeEditor.focus(),void t.preventDefault()):t.equals(16)?ZC(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):t.equals(18)?GC(t,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(t){return 0}_keybindingLabelFor(t){let n=this._keybindingService.lookupKeybinding(t);return n?` (${n.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new N0(null,this._contextViewProvider,{width:221,label:pS,placeholder:_S,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:j=>{if(0===j.length||!this._findInput.getRegex())return null;try{return new RegExp(j,"gu"),null}catch(z){return{content:z.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>HC(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(j=>this._onFindInputKeyDown(j))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(j=>{j.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),j.preventDefault())})),this._register(this._findInput.onRegexKeyDown(j=>{j.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),j.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(j=>{this._tryUpdateHeight()&&this._showViewZone()})),mt.IJ&&this._register(this._findInput.onMouseDown(j=>this._onFindInputMouseDown(j))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new rh({label:CS+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:gS,onTrigger:()=>{this._codeEditor.getAction("editor.action.previousMatchFindAction").run().then(void 0,Un.dL)}})),this._nextBtn=this._register(new rh({label:bS+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:mS,onTrigger:()=>{this._codeEditor.getAction("editor.action.nextMatchFindAction").run().then(void 0,Un.dL)}}));let o=document.createElement("div");o.className="find-part",o.appendChild(this._findInput.domNode);const s=document.createElement("div");s.className="find-actions",o.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Af({icon:uS,title:vS+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let j=this._codeEditor.getSelections();j.map(z=>(1===z.endColumn&&z.endLineNumber>z.startLineNumber&&(z=z.setEndPosition(z.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(z.endLineNumber-1))),z.isEmpty()?null:z)).filter(z=>!!z),j.length&&this._state.change({searchScope:j},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new rh({label:wS+this._keybindingLabelFor("closeFindWidget"),icon:er.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:j=>{j.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),j.preventDefault())}})),s.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new I0(null,void 0,{label:yS,placeholder:SS,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>HC(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(j=>this._onReplaceInputKeyDown(j))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(j=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(j=>{j.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),j.preventDefault())})),this._replaceBtn=this._register(new rh({label:xS+this._keybindingLabelFor("editor.action.replaceOne"),icon:hS,onTrigger:()=>{this._controller.replace()},onKeyDown:j=>{j.equals(1026)&&(this._closeBtn.focus(),j.preventDefault())}})),this._replaceAllBtn=this._register(new rh({label:LS+this._keybindingLabelFor("editor.action.replaceAll"),icon:fS,onTrigger:()=>{this._controller.replaceAll()}}));let d=document.createElement("div");d.className="replace-part",d.appendChild(this._replaceInput.domNode);const p=document.createElement("div");p.className="replace-actions",d.appendChild(p),p.appendChild(this._replaceBtn.domNode),p.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new rh({label:DS,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=st.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(o),this._domNode.appendChild(d),this._resizeSash=new _a.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let R=419;this._register(this._resizeSash.onDidStart(()=>{R=st.w(this._domNode)})),this._register(this._resizeSash.onDidChange(j=>{this._resized=!0;let z=R+j.startX-j.currentX;z<419||z>(parseFloat(st.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${z}px`,this._isReplaceVisible&&(this._replaceInput.width=st.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const j=st.w(this._domNode);if(j<419)return;let z=419;if(!this._resized||419===j){const ne=this._codeEditor.getLayoutInfo();z=ne.width-28-ne.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${z}px`,this._isReplaceVisible&&(this._replaceInput.width=st.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const t=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==t)}}return a.ID="editor.contrib.findWidget",a})();class rh extends Ha.${constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+r.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,n=>{this._opts.onTrigger(),n.preventDefault()}),this.onkeydown(this._domNode,n=>{if(n.equals(10)||n.equals(3))return this._opts.onTrigger(),void n.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(n)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...r.kS.asClassNameArray(zC)),this._domNode.classList.add(...r.kS.asClassNameArray(UC))):(this._domNode.classList.remove(...r.kS.asClassNameArray(UC)),this._domNode.classList.add(...r.kS.asClassNameArray(zC)))}}(0,r.Ic)((a,e)=>{const t=(Ge,dt)=>{dt&&e.addRule(`.monaco-editor ${Ge} { background-color: ${dt}; }`)};t(".findMatch",a.getColor(ge.MUv)),t(".currentFindMatch",a.getColor(ge.nyM)),t(".findScope",a.getColor(ge.jUe)),t(".find-widget",a.getColor(ge.D0T));const o=a.getColor(ge.rh);o&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${o}; }`);const s=a.getColor(ge.EiJ);s&&e.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===a.type?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const d=a.getColor(ge.pnM);d&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${d}; padding: 1px; box-sizing: border-box; }`);const p=a.getColor(ge.gkn);p&&e.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===a.type?"dashed":"solid"} ${p}; }`);const R=a.getColor(ge.lRK);R&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${R}; }`);const j=a.getColor(ge.Hfx);j&&e.addRule(`.monaco-editor .find-widget { color: ${j}; }`);const z=a.getColor(ge.Ido);z&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${z}; }`);const ne=a.getColor(ge.Ng6);if(ne)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ne}; }`);else{const Ge=a.getColor(ge.D1_);Ge&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Ge}; }`)}const Se=a.getColor(ge.lUq);Se&&e.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${Se} !important;\n\t\t}\n\t`);const Me=a.getColor(ge.R80);Me&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${Me}; }`)});var QC=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},gl=function(a,e){return function(t,n){e(t,n,a)}},$d=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};function o_(a,e="single",t=!1){if(!a.hasModel())return null;const n=a.getSelection();if("single"===e&&n.startLineNumber===n.endLineNumber||"multiple"===e)if(n.isEmpty()){const o=a.getConfiguredWordAtPosition(n.getStartPosition());if(o&&!1===t)return o.word}else if(a.getModel().getValueLengthInRange(n)<524288)return a.getModel().getValueInRange(n);return null}let Ir=class hw extends Pt.JT{constructor(e,t,n,o){super(),this._editor=e,this._findWidgetVisible=Vc.bindTo(t),this._contextKeyService=t,this._storageService=n,this._clipboardService=o,this._updateHistoryDelayer=new Wn.vp(500),this._state=this._register(new cS),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let s=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),s&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(hw.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Vm.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(t=>(1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=An.ec(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return $d(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let n=Object.assign(Object.assign({},t),{isRevealed:!0});if("single"===e.seedSearchStringFromSelection){let o=o_(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);o&&(n.searchString=this._state.isRegex?An.ec(o):o)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){let o=o_(this._editor,e.seedSearchStringFromSelection);o&&(n.searchString=o)}if(!n.searchString&&e.seedSearchStringFromGlobalClipboard){let o=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;o&&(n.searchString=o)}if(e.forceRevealReplace||n.isReplaceRevealed?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),e.updateSearchScope){let o=this._editor.getSelections();o.some(s=>!s.isEmpty())&&(n.searchScope=o)}n.loop=e.loop,this._state.change(n,!1),this._model||(this._model=new Uf(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return $d(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Ir.ID="editor.contrib.findController",Ir=QC([gl(1,$t.i6),gl(2,Hr.Uy),gl(3,cn.p)],Ir);let s_=class extends Ir{constructor(e,t,n,o,s,d,p,R){super(e,n,p,R),this._contextViewService=t,this._keybindingService=o,this._themeService=s,this._notificationService=d,this._widget=null,this._findOptionsWidget=null}_start(e,t){const n=Object.create(null,{_start:{get:()=>super._start}});return $d(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const o=this._editor.getSelection();let s=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":s=!0;break;case"never":s=!1;break;case"multiline":s=!!o&&o.startLineNumber!==o.endLineNumber}e.updateSearchScope=e.updateSearchScope||s,yield n._start.call(this,e,t),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new kS(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new lS(this._editor,this._state,this._keybindingService,this._themeService))}};s_=QC([gl(1,al.u),gl(2,$t.i6),gl(3,js.d),gl(4,r.XE),gl(5,Cs.lT),gl(6,Hr.Uy),gl(7,cn.p)],s_),(0,Xe.rn)(new Xe.jY({id:"actions.find",label:Ee.N("startFindAction","Find"),alias:"Find",precondition:$t.Ao.or(vt.u.focus,$t.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Hn.eH.MenubarEditMenu,group:"3_find",title:Ee.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(a,e,t)=>{const n=Ir.get(e);return!!n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==e.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===e.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:e.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop})});const PS={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:Ee.N("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:Ee.N("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:Ee.N("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:Ee.N("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class YC extends Xe.R6{run(e,t){return $d(this,void 0,void 0,function*(){const n=Ir.get(t);n&&!this._run(n)&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===n.getState().searchString.length&&"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(n))})}}class JC extends Xe.R6{run(e,t){return $d(this,void 0,void 0,function*(){const n=Ir.get(t);if(!n)return;const o="selection"===t.getOption(35).seedSearchStringFromSelection;let s=null;"never"!==t.getOption(35).seedSearchStringFromSelection&&(s=o_(t,"single",o)),s&&n.setSearchString(s),this._run(n)||(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:o,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),this._run(n))})}}(0,Xe.rn)(new Xe.jY({id:"editor.action.startFindReplaceAction",label:Ee.N("startReplace","Replace"),alias:"Replace",precondition:$t.Ao.or(vt.u.focus,$t.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Hn.eH.MenubarEditMenu,group:"3_find",title:Ee.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(a,e,t)=>{if(!e.hasModel()||e.getOption(81))return!1;const n=Ir.get(e);if(!n)return!1;const o=e.getSelection(),s=n.isFindInputFocused(),d=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&"never"!==e.getOption(35).seedSearchStringFromSelection&&!s,p=s||d?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:d?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===e.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==e.getOption(35).seedSearchStringFromSelection,shouldFocus:p,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop})}),(0,Xe._K)(Ir.ID,s_),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.actions.findWithArgs",label:Ee.N("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:PS})}run(e,t,n){return $d(this,void 0,void 0,function*(){const o=Ir.get(t);if(o){const s=n?{searchString:n.searchString,replaceString:n.replaceString,isReplaceRevealed:void 0!==n.replaceString,isRegex:n.isRegex,wholeWord:n.matchWholeWord,matchCase:n.isCaseSensitive,preserveCase:n.preserveCase}:{};yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===o.getState().searchString.length&&"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(null==n?void 0:n.findInSelection)||!1,loop:t.getOption(35).loop},s),o.setGlobalBufferTerm(o.getState().searchString)}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"actions.findWithSelection",label:Ee.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return $d(this,void 0,void 0,function*(){const n=Ir.get(t);n&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop}),n.setGlobalBufferTerm(n.getState().searchString))})}}),(0,Xe.Qr)(class extends YC{constructor(){super({id:"editor.action.nextMatchFindAction",label:Ee.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:vt.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:$t.Ao.and(vt.u.focus,Vm),primary:3,weight:100}]})}_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}}),(0,Xe.Qr)(class extends YC{constructor(){super({id:"editor.action.previousMatchFindAction",label:Ee.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:vt.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:$t.Ao.and(vt.u.focus,Vm),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}),(0,Xe.Qr)(class extends JC{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:Ee.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}),(0,Xe.Qr)(class extends JC{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:Ee.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}});const Za=Xe._l.bindToContribution(Ir.get);(0,Xe.fK)(new Za({id:"closeFindWidget",precondition:Vc,handler:a=>a.closeFindWidget(),kbOpts:{weight:105,kbExpr:$t.Ao.and(vt.u.focus,$t.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,Xe.fK)(new Za({id:"toggleFindCaseSensitive",precondition:void 0,handler:a=>a.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:vt.u.focus,primary:Hm.primary,mac:Hm.mac,win:Hm.win,linux:Hm.linux}})),(0,Xe.fK)(new Za({id:"toggleFindWholeWord",precondition:void 0,handler:a=>a.toggleWholeWords(),kbOpts:{weight:105,kbExpr:vt.u.focus,primary:zm.primary,mac:zm.mac,win:zm.win,linux:zm.linux}})),(0,Xe.fK)(new Za({id:"toggleFindRegex",precondition:void 0,handler:a=>a.toggleRegex(),kbOpts:{weight:105,kbExpr:vt.u.focus,primary:Um.primary,mac:Um.mac,win:Um.win,linux:Um.linux}})),(0,Xe.fK)(new Za({id:"toggleFindInSelection",precondition:void 0,handler:a=>a.toggleSearchScope(),kbOpts:{weight:105,kbExpr:vt.u.focus,primary:jm.primary,mac:jm.mac,win:jm.win,linux:jm.linux}})),(0,Xe.fK)(new Za({id:"togglePreserveCase",precondition:void 0,handler:a=>a.togglePreserveCase(),kbOpts:{weight:105,kbExpr:vt.u.focus,primary:Km.primary,mac:Km.mac,win:Km.win,linux:Km.linux}})),(0,Xe.fK)(new Za({id:"editor.action.replaceOne",precondition:Vc,handler:a=>a.replace(),kbOpts:{weight:105,kbExpr:vt.u.focus,primary:3094}})),(0,Xe.fK)(new Za({id:"editor.action.replaceOne",precondition:Vc,handler:a=>a.replace(),kbOpts:{weight:105,kbExpr:$t.Ao.and(vt.u.focus,n_),primary:3}})),(0,Xe.fK)(new Za({id:"editor.action.replaceAll",precondition:Vc,handler:a=>a.replaceAll(),kbOpts:{weight:105,kbExpr:vt.u.focus,primary:2563}})),(0,Xe.fK)(new Za({id:"editor.action.replaceAll",precondition:Vc,handler:a=>a.replaceAll(),kbOpts:{weight:105,kbExpr:$t.Ao.and(vt.u.focus,n_),primary:void 0,mac:{primary:2051}}})),(0,Xe.fK)(new Za({id:"editor.action.selectAllMatches",precondition:Vc,handler:a=>a.selectAllMatches(),kbOpts:{weight:105,kbExpr:vt.u.focus,primary:515}})),m(45618);const Xl=16777215,qC=4278190080;class Kf{constructor(e,t,n){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=n,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(n,o)=>{let s=e[e.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=o};for(let n=0,o=this._startIndexes.length;n<o;n++){let s=this._startIndexes[n],d=this._endIndexes[n];if(s>Xl||d>Xl)throw new Error("startLineNumber or endLineNumber must not exceed "+Xl);for(;e.length>0&&!t(s,d);)e.pop();let p=e.length>0?e[e.length-1]:-1;e.push(n),this._startIndexes[n]=s+((255&p)<<24),this._endIndexes[n]=d+((65280&p)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&Xl}getEndLineNumber(e){return this._endIndexes[e]&Xl}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return 0!=(this._collapseStates[e/32|0]&1<<e%32)}setCollapsed(e,t){let n=e/32|0,o=e%32,s=this._collapseStates[n];this._collapseStates[n]=t?s|1<<o:s&~(1<<o)}setCollapsedAllOfType(e,t){let n=!1;if(this._types)for(let o=0;o<this._types.length;o++)this._types[o]===e&&(this.setCollapsed(o,t),n=!0);return n}toRegion(e){return new VS(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((this._startIndexes[e]&qC)>>>24)+((this._endIndexes[e]&qC)>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,n=this._startIndexes.length;if(0===n)return-1;for(;t<n;){let o=Math.floor((t+n)/2);e<this.getStartLineNumber(o)?n=o:t=o+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}}class VS{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class HS{constructor(e,t){this._updateEventEmitter=new Rn.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Kf(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort((n,o)=>n.regionIndex-o.regionIndex);const t={};this._decorationProvider.changeDecorations(n=>{let o=0,s=-1,d=-1;const p=R=>{for(;o<R;){const j=this._regions.getEndLineNumber(o),z=this._regions.isCollapsed(o);j<=s&&n.changeDecorationOptions(this._editorDecorationIds[o],this._decorationProvider.getDecorationOption(z,j<=d)),z&&j>d&&(d=j),o++}};for(let R of e){let j=R.regionIndex,z=this._editorDecorationIds[j];if(z&&!t[z]){t[z]=!0,p(j);let ne=!this._regions.isCollapsed(j);this._regions.setCollapsed(j,ne),s=Math.max(s,this._regions.getEndLineNumber(j))}}p(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let n=[],s=-1,d=(ne,Se)=>{const Me=e.getStartLineNumber(ne),Ge=e.getEndLineNumber(ne);Se||(Se=e.isCollapsed(ne)),Se&&((ne,Se)=>{for(let Me of t)if(ne<Me&&Me<=Se)return!0;return!1})(Me,Ge)&&(Se=!1),e.setCollapsed(ne,Se);const dt=this._textModel.getLineMaxColumn(Me),Ft={startLineNumber:Me,startColumn:Math.max(dt-1,1),endLineNumber:Me,endColumn:dt};n.push({range:Ft,options:this._decorationProvider.getDecorationOption(Se,Ge<=s)}),Se&&Ge>s&&(s=Ge)},p=0,R=()=>{for(;p<this._regions.length;){let ne=this._regions.isCollapsed(p);if(p++,ne)return p-1}return-1},j=0,z=R();for(;-1!==z&&j<e.length;){let ne=this._textModel.getDecorationRange(this._editorDecorationIds[z]);if(ne){let Se=ne.startLineNumber;if(ne.startColumn===Math.max(ne.endColumn-1,1)&&this._textModel.getLineMaxColumn(Se)===ne.endColumn)for(;j<e.length;){let Me=e.getStartLineNumber(j);if(!(Se>=Me))break;d(j,Se===Me),j++}}z=R()}for(;j<e.length;)d(j,!1),j++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,n),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let n=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(n){let o=n.startLineNumber,s=n.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:o,endLineNumber:s})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let n of e){let o=this.getRegionAtLine(n.startLineNumber);o&&!o.isCollapsed&&t.push(o)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let n=[];if(this._regions){let o=this._regions.findRange(e),s=1;for(;o>=0;){let d=this._regions.toRegion(o);(!t||t(d,s))&&n.push(d),s++,o=d.parentIndex}}return n}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let n=[],o=e?e.regionIndex+1:0,s=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){const d=[];for(let p=o,R=this._regions.length;p<R;p++){let j=this._regions.toRegion(p);if(!(this._regions.getStartLineNumber(p)<s))break;for(;d.length>0&&!j.containedBy(d[d.length-1]);)d.pop();d.push(j),t(j,d.length)&&n.push(j)}}else for(let d=o,p=this._regions.length;d<p;d++){let R=this._regions.toRegion(d);if(!(this._regions.getStartLineNumber(d)<s))break;(!t||t(R))&&n.push(R)}return n}}function ah(a,e,t=Number.MAX_VALUE,n){let o=[];if(n&&n.length>0)for(let s of n){let d=a.getRegionAtLine(s);if(d&&(d.isCollapsed!==e&&o.push(d),t>1)){let p=a.getRegionsInside(d,(R,j)=>R.isCollapsed!==e&&j<t);o.push(...p)}}else{let s=a.getRegionsInside(null,(d,p)=>d.isCollapsed!==e&&p<t);o.push(...s)}a.toggleCollapseState(o)}function eb(a,e,t,n){let o=[];for(let s of n){let d=a.getAllRegionsAtLine(s,(p,R)=>p.isCollapsed!==e&&R<=t);o.push(...d)}a.toggleCollapseState(o)}function tb(a,e,t){let n=[];for(let d of t){const p=a.getAllRegionsAtLine(d,void 0);p.length>0&&n.push(p[0])}let s=a.getRegionsInside(null,d=>n.every(p=>!p.containedBy(d)&&!d.containedBy(p))&&d.isCollapsed!==e);a.toggleCollapseState(s)}function r_(a,e,t){let n=a.textModel,o=a.regions,s=[];for(let d=o.length-1;d>=0;d--)if(t!==o.isCollapsed(d)){let p=o.getStartLineNumber(d);e.test(n.getLineContent(p))&&s.push(o.toRegion(d))}a.toggleCollapseState(s)}function a_(a,e,t){let n=a.regions,o=[];for(let s=n.length-1;s>=0;s--)t!==n.isCollapsed(s)&&e===n.getType(s)&&o.push(n.toRegion(s));a.toggleCollapseState(o)}var GS=m(34048);class QS{constructor(e){this._updateEventEmitter=new Rn.Q5,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||0!==(0,GS.Q)(t.text)[0]))}updateHiddenRanges(){let e=!1,t=[],n=0,o=0,s=Number.MAX_VALUE,d=-1,p=this._foldingModel.regions;for(;n<p.length;n++){if(!p.isCollapsed(n))continue;let R=p.getStartLineNumber(n)+1,j=p.getEndLineNumber(n);s<=R&&j<=d||(!e&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===R&&this._hiddenRanges[o].endLineNumber===j?(t.push(this._hiddenRanges[o]),o++):(e=!0,t.push(new kt.e(R,1,j,1))),s=R,d=j)}(this._hasLineChanges||e||o<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||0===e.length)return!1;let t=[];for(let n of e){if(!n.startLineNumber||!n.endLineNumber)return!1;t.push(new kt.e(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map(e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}))}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==nb(this._hiddenRanges,e)}adjustSelections(e){let t=!1,n=this._foldingModel.textModel,o=null,s=d=>((!o||!function(a,e){return a>=e.startLineNumber&&a<=e.endLineNumber}(d,o))&&(o=nb(this._hiddenRanges,d)),o?o.startLineNumber-1:null);for(let d=0,p=e.length;d<p;d++){let R=e[d],j=s(R.startLineNumber);j&&(R=R.setStartPosition(j,n.getLineMaxColumn(j)),t=!0);let z=s(R.endLineNumber);z&&(R=R.setEndPosition(z,n.getLineMaxColumn(z)),t=!0),e[d]=R}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function nb(a,e){let t=(0,Wi.lG)(a,n=>e<n.startLineNumber)-1;return t>=0&&a[t].endLineNumber>=e?a[t]:null}class qS{constructor(e,t,n){this.editorModel=e,this.languageConfigurationService=t,this.maxFoldingRegions=n,this.id="indent"}dispose(){}compute(e,t){let n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;return Promise.resolve(function(a,e,t,n,o){const s=a.getOptions().tabSize;let p,d=new ex(n=n??5e3,o);t&&(p=new RegExp(`(${t.start.source})|(?:${t.end.source})`));let R=[],j=a.getLineCount()+1;R.push({indent:-1,endAbove:j,line:j});for(let z=a.getLineCount();z>0;z--){let Ge,ne=a.getLineContent(z),Se=(0,Lc.q)(ne,s),Me=R[R.length-1];if(-1!==Se){if(p&&(Ge=ne.match(p))){if(!Ge[1]){R.push({indent:-2,endAbove:z,line:z});continue}{let dt=R.length-1;for(;dt>0&&-2!==R[dt].indent;)dt--;if(dt>0){R.length=dt+1,Me=R[dt],d.insertFirst(z,Me.line,Se),Me.line=z,Me.indent=Se,Me.endAbove=z;continue}}}if(Me.indent>Se){do{R.pop(),Me=R[R.length-1]}while(Me.indent>Se);let dt=Me.endAbove-1;dt-z>=1&&d.insertFirst(z,dt,Se)}Me.indent===Se?Me.endAbove=z:R.push({indent:Se,endAbove:z,line:z})}else e&&(Me.endAbove=z)}return d.toIndentRanges(a)}(this.editorModel,n&&!!n.offSide,n&&n.markers,this.maxFoldingRegions,t))}}class ex{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,n){if(e>Xl||t>Xl)return;let o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let o=this._length-1,s=0;o>=0;o--,s++)t[s]=this._startIndexes[o],n[s]=this._endIndexes[o];return new Kf(t,n)}{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let t=0,n=this._indentOccurrences.length;for(let p=0;p<this._indentOccurrences.length;p++){let R=this._indentOccurrences[p];if(R){if(R+t>this._foldingRangesLimit){n=p;break}t+=R}}const o=e.getOptions().tabSize;let s=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit);for(let p=this._length-1,R=0;p>=0;p--){let j=this._startIndexes[p],z=e.getLineContent(j),ne=(0,Lc.q)(z,o);(ne<n||ne===n&&t++<this._foldingRangesLimit)&&(s[R]=j,d[R]=this._endIndexes[p],R++)}return new Kf(s,d)}}}const nx={};class ix{constructor(e,t,n,o){this.editorModel=e,this.providers=t,this.limit=o,this.id="syntax";for(const s of t)"function"==typeof s.onDidChange&&(this.disposables||(this.disposables=new Pt.SL),this.disposables.add(s.onDidChange(n)))}compute(e,t){return function(a,e,t){let n=null,o=a.map((s,d)=>Promise.resolve(s.provideFoldingRanges(e,nx,t)).then(p=>{if(!t.isCancellationRequested&&Array.isArray(p)){Array.isArray(n)||(n=[]);let R=e.getLineCount();for(let j of p)j.start>0&&j.end>j.start&&j.end<=R&&n.push({start:j.start,end:j.end,rank:d,kind:j.kind})}},Un.Cp));return Promise.all(o).then(s=>n)}(this.providers,this.editorModel,e).then(n=>n?ob(n,this.limit,t):null)}dispose(){var e;null===(e=this.disposables)||void 0===e||e.dispose()}}class sx{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,n,o){if(e>Xl||t>Xl)return;let s=this._length;this._startIndexes[s]=e,this._endIndexes[s]=t,this._nestingLevels[s]=o,this._types[s]=n,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=0;n<this._length;n++)e[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new Kf(e,t,this._types)}{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let e=0,t=this._nestingLevelCounts.length;for(let d=0;d<this._nestingLevelCounts.length;d++){let p=this._nestingLevelCounts[d];if(p){if(p+e>this._foldingRangesLimit){t=d;break}e+=p}}let n=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit),s=[];for(let d=0,p=0;d<this._length;d++){let R=this._nestingLevels[d];(R<t||R===t&&e++<this._foldingRangesLimit)&&(n[p]=this._startIndexes[d],o[p]=this._endIndexes[d],s[p]=this._types[d],p++)}return new Kf(n,o,s)}}}function ob(a,e,t){let s,n=a.sort((p,R)=>{let j=p.start-R.start;return 0===j&&(j=p.rank-R.rank),j}),o=new sx(e,t),d=[];for(let p of n)if(s){if(p.start>s.start)if(p.end<=s.end)d.push(s),s=p,o.add(p.start,p.end,p.kind&&p.kind.value,d.length);else{if(p.start>s.end){do{s=d.pop()}while(s&&p.start>s.end);s&&d.push(s),s=p}o.add(p.start,p.end,p.kind&&p.kind.value,d.length)}}else s=p,o.add(p.start,p.end,p.kind&&p.kind.value,d.length);return o.toIndentRanges()}class rx{constructor(e,t,n,o){if(this.editorModel=e,this.id="init",t.length){let s=d=>({range:{startLineNumber:d.startLineNumber,startColumn:0,endLineNumber:d.endLineNumber,endColumn:e.getLineLength(d.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(s)),this.timeout=setTimeout(n,o)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let n of this.decorationIds){let o=this.editorModel.getDecorationRange(n);o&&t.push({start:o.startLineNumber,end:o.endLineNumber,rank:1})}return Promise.resolve(ob(t,Number.MAX_VALUE))}}const l_=(0,er.q5)("folding-expanded",Qn.lA.chevronDown,(0,Ee.N)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),c_=(0,er.q5)("folding-collapsed",Qn.lA.chevronRight,(0,Ee.N)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class ya{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?ya.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?ya.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:ya.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?ya.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:ya.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}}ya.COLLAPSED_VISUAL_DECORATION=Zi.qx.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:r.kS.asClassName(c_)}),ya.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Zi.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:r.kS.asClassName(c_)}),ya.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Zi.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:r.kS.asClassName(l_)}),ya.EXPANDED_VISUAL_DECORATION=Zi.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+r.kS.asClassName(l_)}),ya.HIDDEN_RANGE_DECORATION=Zi.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var $f=function(a,e){return function(t,n){e(t,n,a)}};const tr=new $t.uy("foldingEnabled",!1);let lh=class fw extends Pt.JT{constructor(e,t,n,o,s,d){super(),this.contextKeyService=t,this.languageConfigurationService=n,this.languageFeaturesService=d,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new Pt.SL),this.editor=e;const p=this.editor.getOptions();this._isEnabled=p.get(37),this._useFoldingProviders="indentation"!==p.get(38),this._unfoldOnClickAfterEndOfLine=p.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=p.get(40),this._maxFoldingRegions=p.get(41),this.updateDebounceInfo=s.for(d.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new ya(e),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===p.get(99),this.foldingDecorationProvider.showFoldingHighlights=p.get(39),this.foldingEnabled=tr.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=R=>{this._tooManyRegionsNotified||(o.notify({severity:eh.Z.Warning,sticky:!0,message:Ee.N("maximum fold ranges","The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",R)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(R=>{if(R.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),R.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),R.hasChanged(99)||R.hasChanged(39)){const j=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===j.get(99),this.foldingDecorationProvider.showFoldingHighlights=j.get(39),this.triggerFoldingModelChanged()}R.hasChanged(38)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(38),this.onFoldingStrategyChanged()),R.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),R.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(e){return e.getContribution(fw.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel||!e||e.lineCount!==t.getLineCount()||(this._currentModelHasFoldedImports=!!e.foldedImports,!e.collapsedRegions))return;("syntax"===e.provider||"init"===e.provider)&&(this.foldingStateMemento=e);const n=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){const o=this.getFoldingModel();o&&o.then(s=>{if(s){this._restoringViewState=!0;try{s.applyMemento(n)}finally{this._restoringViewState=!1}}}).then(void 0,Un.dL)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new HS(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new QS(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new Wn.vp(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new Wn.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new qS(e,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let t=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);if(0===t.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new rx(e,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);t.length>0&&(this.rangeProvider=new ix(e,t,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;null===(t=this.hiddenRangeModel)||void 0===t||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new pa.G(!0),n=this.getRangeProvider(e.textModel);let o=this.foldingRegionPromise=(0,Wn.PG)(s=>n.compute(s,this._notifyTooManyRegions));return o.then(s=>{if(s&&o===this.foldingRegionPromise){let d;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const z=s.setCollapsedAllOfType(eo.AD.Imports.value,!0);z&&(d=Mc.Z.capture(this.editor),this._currentModelHasFoldedImports=z)}let p=this.editor.getSelections(),R=p?p.map(z=>z.startLineNumber):[];e.update(s,R),d&&d.restore(this.editor);const j=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=j)}return e})}).then(void 0,e=>((0,Un.dL)(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();!e||e.then(t=>{if(t){let n=this.editor.getSelections();if(n&&n.length>0){let o=[];for(let s of n){let d=s.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(d)&&o.push(...t.getAllRegionsAtLine(d,p=>p.isCollapsed&&d>p.startLineNumber))}o.length&&(t.toggleCollapseState(o),this.reveal(n[0].getPosition()))}}}).then(void 0,Un.dL)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let n=!1;switch(e.target.type){case 4:if(e.target.detail.offsetX-e.target.element.offsetLeft<5)return;n=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){let o=this.editor.getModel();if(o&&t.startColumn===o.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}onEditorMouseUp(e){const t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let n=this.mouseDownInfo.lineNumber,o=this.mouseDownInfo.iconClicked,s=e.target.range;if(s&&s.startLineNumber===n){if(o){if(4!==e.target.type)return}else{let d=this.editor.getModel();if(!d||s.startColumn!==d.getLineMaxColumn(n))return}t.then(d=>{if(d){let p=d.getRegionAtLine(n);if(p&&p.startLineNumber===n){let R=p.isCollapsed;if(o||R){let z=[];if(e.event.altKey){let Se=d.getRegionsInside(null,Me=>!Me.containedBy(p)&&!p.containedBy(Me));for(const Me of Se)Me.isCollapsed&&z.push(Me);0===z.length&&(z=Se)}else{let ne=e.event.middleButton||e.event.shiftKey;if(ne)for(const Se of d.getRegionsInside(p))Se.isCollapsed===R&&z.push(Se);(R||!ne||0===z.length)&&z.push(p)}d.toggleCollapseState(z),this.reveal({lineNumber:n,column:1})}}}}).then(void 0,Un.dL)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};lh.ID="editor.contrib.folding",lh=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([$f(1,$t.i6),$f(2,Yo.c_),$f(3,Cs.lT),$f(4,Ba.A),$f(5,$n.p)],lh);class mr extends Xe.R6{runEditorCommand(e,t,n){const o=e.get(Yo.c_),s=lh.get(t);if(!s)return;const d=s.getFoldingModel();return d?(this.reportTelemetry(e,t),d.then(p=>{if(p){this.invoke(s,p,t,n,o);const R=t.getSelection();R&&s.reveal(R.getStartPosition())}})):void 0}getSelectedLines(e){let t=e.getSelections();return t?t.map(n=>n.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(n=>n+1):this.getSelectedLines(t)}run(e,t){}}function rb(a){if(!Gi.o8(a)){if(!Gi.Kn(a))return!1;const e=a;if(!Gi.o8(e.levels)&&!Gi.hj(e.levels)||!Gi.o8(e.direction)&&!Gi.HD(e.direction)||!Gi.o8(e.selectionLines)&&(!Gi.kJ(e.selectionLines)||!e.selectionLines.every(Gi.hj)))return!1}return!0}let ab=(()=>{class a extends mr{getFoldingLevel(){return parseInt(this.id.substr(a.ID_PREFIX.length))}invoke(t,n,o){!function(a,e,t,n){let s=a.getRegionsInside(null,(d,p)=>p===e&&true!==d.isCollapsed&&!n.some(R=>d.containsLine(R)));a.toggleCollapseState(s)}(n,this.getFoldingLevel(),0,this.getSelectedLines(o))}}return a.ID_PREFIX="editor.foldLevel",a.ID=e=>a.ID_PREFIX+e,a})();(0,Xe._K)(lh.ID,lh),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.unfold",label:Ee.N("unfoldAction.label","Unfold"),alias:"Unfold",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:rb,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,o){let s=o&&o.levels||1,d=this.getLineNumbers(o,n);o&&"up"===o.direction?eb(t,!1,s,d):ah(t,!1,s,d)}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.unfoldRecursively",label:Ee.N("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2137),weight:100}})}invoke(e,t,n,o){ah(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.fold",label:Ee.N("foldAction.label","Fold"),alias:"Fold",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:rb,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,o){let s=this.getLineNumbers(o,n);const d=o&&o.levels,p=o&&o.direction;"number"!=typeof d&&"string"!=typeof p?function(a,e,t){let n=[];for(let o of t){let s=a.getAllRegionsAtLine(o,d=>true!==d.isCollapsed);s.length>0&&n.push(s[0])}a.toggleCollapseState(n)}(t,0,s):"up"===p?eb(t,!0,d||1,s):ah(t,!0,d||1,s)}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.foldRecursively",label:Ee.N("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2135),weight:100}})}invoke(e,t,n){let o=this.getSelectedLines(n);ah(t,!0,Number.MAX_VALUE,o)}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.foldAll",label:Ee.N("foldAllAction.label","Fold All"),alias:"Fold All",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2069),weight:100}})}invoke(e,t,n){ah(t,!0)}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.unfoldAll",label:Ee.N("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2088),weight:100}})}invoke(e,t,n){ah(t,!1)}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.foldAllBlockComments",label:Ee.N("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2133),weight:100}})}invoke(e,t,n,o,s){if(t.regions.hasTypes())a_(t,eo.AD.Comment.value,!0);else{const d=n.getModel();if(!d)return;const p=s.getLanguageConfiguration(d.getLanguageId()).comments;p&&p.blockCommentStartToken&&r_(t,new RegExp("^\\s*"+(0,An.ec)(p.blockCommentStartToken)),!0)}}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.foldAllMarkerRegions",label:Ee.N("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2077),weight:100}})}invoke(e,t,n,o,s){if(t.regions.hasTypes())a_(t,eo.AD.Region.value,!0);else{const d=n.getModel();if(!d)return;const p=s.getLanguageConfiguration(d.getLanguageId()).foldingRules;p&&p.markers&&p.markers.start&&r_(t,new RegExp(p.markers.start),!0)}}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:Ee.N("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2078),weight:100}})}invoke(e,t,n,o,s){if(t.regions.hasTypes())a_(t,eo.AD.Region.value,!1);else{const d=n.getModel();if(!d)return;const p=s.getLanguageConfiguration(d.getLanguageId()).foldingRules;p&&p.markers&&p.markers.start&&r_(t,new RegExp(p.markers.start),!1)}}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.foldAllExcept",label:Ee.N("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2131),weight:100}})}invoke(e,t,n){tb(t,!0,this.getSelectedLines(n))}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.unfoldAllExcept",label:Ee.N("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2129),weight:100}})}invoke(e,t,n){tb(t,!1,this.getSelectedLines(n))}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.toggleFold",label:Ee.N("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2090),weight:100}})}invoke(e,t,n){!function(a,e,t){let n=[];for(let o of t){let s=a.getRegionAtLine(o);if(s){n.push(s),0}}a.toggleCollapseState(n)}(t,0,this.getSelectedLines(n))}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.gotoParentFold",label:Ee.N("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100}})}invoke(e,t,n){let o=this.getSelectedLines(n);if(o.length>0){let s=function(a,e){let t=null,n=e.getRegionAtLine(a);if(null!==n&&(t=n.startLineNumber,a===t)){let o=n.parentIndex;t=-1!==o?e.regions.getStartLineNumber(o):null}return t}(o[0],t);null!==s&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.gotoPreviousFold",label:Ee.N("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100}})}invoke(e,t,n){let o=this.getSelectedLines(n);if(o.length>0){let s=function(a,e){let t=e.getRegionAtLine(a);if(null!==t&&t.startLineNumber===a){if(a!==t.startLineNumber)return t.startLineNumber;{let n=t.parentIndex,o=0;for(-1!==n&&(o=e.regions.getStartLineNumber(t.parentIndex));null!==t;){if(!(t.regionIndex>0))return null;if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=o)return null;if(t.parentIndex===n)return t.startLineNumber}}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);null!==t;){if(t.startLineNumber<a)return t.startLineNumber;t=t.regionIndex>0?e.regions.toRegion(t.regionIndex-1):null}return null}(o[0],t);null!==s&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}),(0,Xe.Qr)(class extends mr{constructor(){super({id:"editor.gotoNextFold",label:Ee.N("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100}})}invoke(e,t,n){let o=this.getSelectedLines(n);if(o.length>0){let s=function(a,e){let t=e.getRegionAtLine(a);if(null!==t&&t.startLineNumber===a){let n=t.parentIndex,o=0;if(-1!==n)o=e.regions.getEndLineNumber(t.parentIndex);else{if(0===e.regions.length)return null;o=e.regions.getEndLineNumber(e.regions.length-1)}for(;null!==t;){if(!(t.regionIndex<e.regions.length))return null;if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=o)return null;if(t.parentIndex===n)return t.startLineNumber}}else if(e.regions.length>0)for(t=e.regions.toRegion(0);null!==t;){if(t.startLineNumber>a)return t.startLineNumber;t=t.regionIndex<e.regions.length?e.regions.toRegion(t.regionIndex+1):null}return null}(o[0],t);null!==s&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}});for(let a=1;a<=7;a++)(0,Xe.QG)(new ab({id:ab.ID(a),label:Ee.N("foldLevelAction.label","Fold Level {0}",a),alias:`Fold Level ${a}`,precondition:tr,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2048|21+a),weight:100}}));const Sx=(0,ge.P6G)("editor.foldBackground",{light:(0,ge.ZnX)(ge.hEj,.3),dark:(0,ge.ZnX)(ge.hEj,.3),hc:null},Ee.N("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),xx=(0,ge.P6G)("editorGutter.foldingControlForeground",{dark:ge.XZx,light:ge.XZx,hc:ge.XZx},Ee.N("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,r.Ic)((a,e)=>{const t=a.getColor(Sx);t&&e.addRule(`.monaco-editor .folded-background { background-color: ${t}; }`);const n=a.getColor(xx);n&&e.addRule(`\n\t\t.monaco-editor .cldr${r.kS.asCSSSelector(l_)},\n\t\t.monaco-editor .cldr${r.kS.asCSSSelector(c_)} {\n\t\t\tcolor: ${n} !important;\n\t\t}\n\t\t`)});var Zf=m(86627);(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.fontZoomIn",label:Ee.N("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Zf.C.setZoomLevel(Zf.C.getZoomLevel()+1)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.fontZoomOut",label:Ee.N("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Zf.C.setZoomLevel(Zf.C.getZoomLevel()-1)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.fontZoomReset",label:Ee.N("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Zf.C.setZoomLevel(0)}});var ch=m(59242),Gf=m(78339),Qf=m(86349),Mx=m(38696),lb=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},Zm=function(a,e){return function(t,n){e(t,n,a)}},d_=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};let Yf=class{constructor(e,t,n){this._editor=e,this._languageFeaturesService=t,this._workerService=n,this._disposables=new Pt.SL,this._sessionDisposables=new Pt.SL,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(o=>{o.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let n=new ch.q;for(let o of t.autoFormatTriggerCharacters)n.add(o.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(o=>{let s=o.charCodeAt(o.length-1);n.has(s)&&this._trigger(String.fromCharCode(s))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),n=this._editor.getPosition(),o=new ti.A,s=this._editor.onDidChangeModelContent(d=>{if(d.isFlush)return o.cancel(),void s.dispose();for(let p=0,R=d.changes.length;p<R;p++)if(d.changes[p].range.endLineNumber<=n.lineNumber)return o.cancel(),void s.dispose()});(0,Qf.Qs)(this._workerService,this._languageFeaturesService,t,n,e,t.getFormattingOptions(),o.token).then(d=>{o.token.isCancellationRequested||(0,Wi.Of)(d)&&(Mx.V.execute(this._editor,d,!0),(0,Qf.Zg)(d))}).finally(()=>{s.dispose()})}};Yf.ID="editor.contrib.autoFormat",Yf=lb([Zm(1,$n.p),Zm(2,Gf.p)],Yf);let Jf=class{constructor(e,t,n){this.editor=e,this._languageFeaturesService=t,this._instantiationService=n,this._callOnDispose=new Pt.SL,this._callOnModel=new Pt.SL,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(48)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e))))}_trigger(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Qf.x$,this.editor,e,2,ma.Ex.None,ti.T.None).catch(Un.dL)}};Jf.ID="editor.contrib.formatOnPaste",Jf=lb([Zm(1,$n.p),Zm(2,oo.TG)],Jf),(0,Xe._K)(Yf.ID,Yf),(0,Xe._K)(Jf.ID,Jf),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.formatDocument",label:Ee.N("formatDocument.label","Format Document"),alias:"Format Document",precondition:$t.Ao.and(vt.u.notInCompositeEditor,vt.u.writable,vt.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return d_(this,void 0,void 0,function*(){if(t.hasModel()){const n=e.get(oo.TG);yield e.get(ma.ek).showWhile(n.invokeFunction(Qf.Qq,t,1,ma.Ex.None,ti.T.None),250)}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.formatSelection",label:Ee.N("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:$t.Ao.and(vt.u.writable,vt.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2084),weight:100},contextMenuOpts:{when:vt.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return d_(this,void 0,void 0,function*(){if(!t.hasModel())return;const n=e.get(oo.TG),o=t.getModel(),s=t.getSelections().map(p=>p.isEmpty()?new kt.e(p.startLineNumber,1,p.startLineNumber,o.getLineMaxColumn(p.startLineNumber)):p);yield e.get(ma.ek).showWhile(n.invokeFunction(Qf.x$,t,s,1,ma.Ex.None,ti.T.None),250)})}}),ro.P0.registerCommand("editor.action.format",a=>d_(void 0,void 0,void 0,function*(){const e=a.get(Zt.$).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=a.get(ro.Hy);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}));var cb=m(58151),u_=function(a,e){return function(t,n){e(t,n,a)}};class dh{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let n;"string"==typeof e?n=`${t.id}/${e}`:(n=`${t.id}/${e.name}`,void 0!==t.children.get(n)&&(n=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let o=n;for(let s=0;void 0!==t.children.get(o);s++)o=`${n}_${s}`;return o}static empty(e){return 0===e.children.size}}class db extends dh{constructor(e,t,n){super(),this.id=e,this.parent=t,this.symbol=n,this.children=new Map}}class Px extends dh{constructor(e,t,n,o){super(),this.id=e,this.parent=t,this.label=n,this.order=o,this.children=new Map}}class zc extends dh{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t,n){const o=new ti.A(n),s=new zc(t.uri),d=e.ordered(t),p=d.map((j,z)=>{var ne;let Se=dh.findId(`provider_${z}`,s),Me=new Px(Se,s,null!==(ne=j.displayName)&&void 0!==ne?ne:"Unknown Outline Provider",z);return Promise.resolve(j.provideDocumentSymbols(t,o.token)).then(Ge=>{for(const dt of Ge||[])zc._makeOutlineElement(dt,Me);return Me},Ge=>((0,Un.Cp)(Ge),Me)).then(Ge=>{dh.empty(Ge)?Ge.remove():s._groups.set(Se,Ge)})}),R=e.onDidChange(()=>{const j=e.ordered(t);(0,Wi.fS)(j,d)||o.cancel()});return Promise.all(p).then(()=>o.token.isCancellationRequested&&!n.isCancellationRequested?zc.create(e,t,n):s._compact()).finally(()=>{R.dispose()})}static _makeOutlineElement(e,t){let n=dh.findId(e,t),o=new db(n,t,e);if(e.children)for(const s of e.children)zc._makeOutlineElement(s,o);t.children.set(o.id,o)}_compact(){let e=0;for(const[t,n]of this._groups)0===n.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{let t=cb.$.first(this._groups.values());for(let[,n]of t.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof db?e.push(t.symbol):e.push(...cb.$.map(t.children.values(),n=>n.symbol));return e.sort((t,n)=>kt.e.compareRangesUsingStarts(t.range,n.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return zc._flattenDocumentSymbols(t,e,""),t.sort((n,o)=>hi.L.compare(kt.e.getStartPosition(n.range),kt.e.getStartPosition(o.range))||hi.L.compare(kt.e.getEndPosition(o.range),kt.e.getEndPosition(n.range)))}static _flattenDocumentSymbols(e,t,n){for(const o of t)e.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||n,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&zc._flattenDocumentSymbols(e,o.children,o.name)}}const Gm=(0,oo.yh)("IOutlineModelService");let h_=class{constructor(e,t,n){this._languageFeaturesService=e,this._disposables=new Pt.SL,this._cache=new Ns.z6(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(n.onModelRemoved(o=>{this._cache.delete(o.id)}))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){const n=this._languageFeaturesService.documentSymbolProvider,o=n.ordered(e);let s=this._cache.get(e.id);if(!s||s.versionId!==e.getVersionId()||!(0,Wi.fS)(s.provider,o)){let p=new ti.A;s={versionId:e.getVersionId(),provider:o,promiseCnt:0,source:p,promise:zc.create(n,e,p.token),model:void 0},this._cache.set(e.id,s);const R=Date.now();s.promise.then(j=>{s.model=j,this._debounceInformation.update(e,Date.now()-R)}).catch(j=>{this._cache.delete(e.id)})}if(s.model)return s.model;s.promiseCnt+=1;const d=t.onCancellationRequested(()=>{0==--s.promiseCnt&&(s.source.cancel(),this._cache.delete(e.id))});try{return yield s.promise}finally{d.dispose()}})}};h_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([u_(0,$n.p),u_(1,Ba.A),u_(2,Jr.q)],h_),(0,Wl.z)(Gm,h_,!0);ro.P0.registerCommand("_executeDocumentSymbolProvider",function(a,...e){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){const[t]=e;(0,Gi.p_)(So.o.isUri(t));const n=a.get(Gm),s=yield a.get(ta.S).createModelReference(t);try{return(yield n.getOrCreate(s.object.textEditorModel,ti.T.None)).getTopLevelSymbols()}finally{s.dispose()}})});var Ax=m(90784);const ub="editor.action.inlineSuggest.commit";class hb{constructor(e,t,n=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=n}renderForScreenReader(e){return 0===this.parts.length?"":function(a,e){const t=new Rx(a),n=e.map(o=>{const s=kt.e.lift(o.range);return{startOffset:t.getOffset(s.getStartPosition()),endOffset:t.getOffset(s.getEndPosition()),text:o.text}});n.sort((o,s)=>s.startOffset-o.startOffset);for(const o of n)a=a.substring(0,o.startOffset)+o.text+a.substring(o.endOffset);return a}(e.substr(0,this.parts[this.parts.length-1].column-1),this.parts.map(s=>({range:{startLineNumber:1,endLineNumber:1,startColumn:s.column,endColumn:s.column},text:s.lines.join("\n")}))).substring(this.parts[0].column-1)}}class Rx{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}class fb{constructor(e,t,n){this.column=e,this.lines=t,this.preview=n}}class gb extends Pt.JT{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new Rn.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(106)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var Bx=m(87481);function mb(a,e,t,n,o=0){if(a.range.startLineNumber!==a.range.endLineNumber)return;const s=e.getLineContent(a.range.startLineNumber),d=An.V8(s).length;if(a.range.startColumn-1<=d){const Me=An.V8(a.text).length,Ge=s.substring(a.range.startColumn-1,d),dt=kt.e.fromPositions(a.range.getStartPosition().delta(0,Ge.length),a.range.getEndPosition()),Ft=a.text.startsWith(Ge)?a.text.substring(Ge.length):a.text.substring(Me);a={range:dt,text:Ft,command:a.command}}const R=e.getValueInRange(a.range),j=function(a,e){if((null==ml?void 0:ml.originalValue)===a&&(null==ml?void 0:ml.newValue)===e)return null==ml?void 0:ml.changes;{const t=function(a,e){if(a.length>5e3||e.length>5e3)return;function t(R){let j=0;for(let z=0,ne=R.length;z<ne;z++){const Se=R.charCodeAt(z);Se>j&&(j=Se)}return j}const n=Math.max(t(a),t(e));function o(R){if(R<0)throw new Error("unexpected");return n+R+1}function s(R){let j=0,z=0;const ne=new Int32Array(R.length);for(let Se=0,Me=R.length;Se<Me;Se++){const Ge=100*z+j;"("===R[Se]?(ne[Se]=o(2*Ge),j++):")"===R[Se]?(ne[Se]=o(2*Ge+1),1===j&&z++,j=Math.max(j-1,0)):ne[Se]=R.charCodeAt(Se)}return ne}const d=s(a),p=s(e);return new Bx.Hs({getElements:()=>d},{getElements:()=>p}).ComputeDiff(!1).changes}(a,e);return ml={originalValue:a,newValue:e,changes:t},t}}(R,a.text);if(!j)return;const z=a.range.startLineNumber,ne=new Array;if("prefix"===t){const Me=j.filter(Ge=>0===Ge.originalLength);if(Me.length>1||1===Me.length&&Me[0].originalStart!==R.length)return}const Se=a.text.length-o;for(const Me of j){const Ge=a.range.startColumn+Me.originalStart+Me.originalLength;if("subwordSmart"===t&&n&&n.lineNumber===a.range.startLineNumber&&Ge<n.column||Me.originalLength>0)return;if(0===Me.modifiedLength)continue;const dt=Me.modifiedStart+Me.modifiedLength,Ft=Math.max(Me.modifiedStart,Math.min(dt,Se)),Ot=a.text.substring(Me.modifiedStart,Ft),qt=a.text.substring(Ft,Math.max(Me.modifiedStart,dt));if(Ot.length>0){const nn=An.uq(Ot);ne.push(new fb(Ge,nn,!1))}if(qt.length>0){const nn=An.uq(qt);ne.push(new fb(Ge,nn,!0))}}return new hb(z,ne,0)}let ml;var zx=m(67875),Uc=m(79615),Ux=m(95818),jx=m(25453),Kx=m(21944);class Zx{constructor(e){this.lines=e}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}getLineTokens(e){return this.lines[e-1]}}var Qm=function(a,e){return function(t,n){e(t,n,a)}},ql=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};let f_=class extends Pt.JT{constructor(e,t,n,o,s,d){super(),this.editor=e,this.cache=t,this.commandService=n,this.languageConfigurationService=o,this.languageFeaturesService=s,this.debounceService=d,this.onDidChangeEmitter=new Rn.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new Pt.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:200}),this._register(n.onDidExecuteCommand(p=>{new Set([ga.wk.Tab.id,ga.wk.DeleteLeft.id,ga.wk.DeleteRight.id,ub,"acceptSelectedSuggestion"]).has(p.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(p=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(p=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,Pt.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(eo.bw.Automatic)}trigger(e){this.completionSession.value?e===eo.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new Qx(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return ql(this,void 0,void 0,function*(){const t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t})}};f_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Qm(2,ro.Hy),Qm(3,Yo.c_),Qm(4,$n.p),Qm(5,Ba.A)],f_);class Qx extends gb{constructor(e,t,n,o,s,d,p,R,j){let z;super(e),this.triggerPosition=t,this.shouldUpdate=n,this.commandService=o,this.cache=s,this.initialTriggerKind=d,this.languageConfigurationService=p,this.registry=R,this.debounce=j,this.minReservedLineCount=0,this.updateOperation=this._register(new Pt.XK),this.updateSoon=this._register(new Wn.pY(()=>{let ne=this.initialTriggerKind;return this.initialTriggerKind=eo.bw.Automatic,this.update(ne)},50)),this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange(()=>{const ne=this.currentCompletion;if(ne&&ne.sourceInlineCompletion!==z){z=ne.sourceInlineCompletion;const Se=ne.sourceProvider;Se.handleItemDidShow&&Se.handleItemDidShow(ne.sourceInlineCompletions,z)}})),this._register((0,Pt.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(ne=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(ne=>{this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;const e=this.cache.value.completions.findIndex(t=>t.semanticId===this.currentlySelectedCompletionId);return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return ql(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var e;return ql(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return ql(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===eo.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(eo.bw.Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==eo.bw.Explicit&&(yield this.update(eo.bw.Explicit))})}hasMultipleInlineCompletions(){var e;return ql(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1})}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(55).mode;return e?mb(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(e){return ql(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),n=new Date,o=(0,Wn.PG)(d=>ql(this,void 0,void 0,function*(){let p;try{p=yield _b(this.registry,t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},d,this.languageConfigurationService);const R=new Date;this.debounce.update(this.editor.getModel(),R.getTime()-n.getTime())}catch(R){return void(0,Un.dL)(R)}d.isCancellationRequested||(this.cache.setValue(this.editor,p,e),this.onDidChangeEmitter.fire())})),s=new pb(o,e);this.updateOperation.value=s,yield o,this.updateOperation.value===s&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[ss.h.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{null==t||t.dispose()}).then(void 0,Un.Cp):null==t||t.dispose(),this.onDidChangeEmitter.fire()}}class pb{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class Yx extends Pt.JT{constructor(e,t,n,o){super(),this.triggerKind=o;const s=e.deltaDecorations([],t.items.map(d=>({range:d.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,Pt.OF)(()=>{e.deltaDecorations(s,[])})),this.completions=t.items.map((d,p)=>new Jx(d,s[p])),this._register(e.onDidChangeModelContent(()=>{let d=!1;const p=e.getModel();for(const R of this.completions){const j=p.getDecorationRange(R.decorationId);j?R.synchronizedRange.equalsRange(j)||(d=!0,R.synchronizedRange=j):(0,Un.dL)(new Error("Decoration has no range"))}d&&n()})),this._register(t)}}class Jx{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function _b(a,e,t,n,o=ti.T.None,s){return ql(this,void 0,void 0,function*(){const d=function(a,e){const t=e.getWordAtPosition(a),n=e.getLineMaxColumn(a.lineNumber);return t?new kt.e(a.lineNumber,t.startColumn,a.lineNumber,n):kt.e.fromPositions(a,a.with(void 0,n))}(e,t),p=a.all(t),R=yield Promise.all(p.map(z=>ql(this,void 0,void 0,function*(){const ne=yield Promise.resolve(z.provideInlineCompletions(t,e,n,o)).catch(Un.Cp);return{completions:ne,provider:z,dispose:()=>{ne&&z.freeInlineCompletions(ne)}}}))),j=new Map;for(const z of R){const ne=z.completions;if(ne)for(const Se of ne.items){const Me=Se.range?kt.e.lift(Se.range):d;if(Me.startLineNumber!==Me.endLineNumber)continue;const Ge=s&&Se.completeBracketPairs?qx(Se.text,Me.getStartPosition(),t,s):Se.text,dt={text:Ge,range:Me,command:Se.command,sourceProvider:z.provider,sourceInlineCompletions:ne,sourceInlineCompletion:Se};j.set(JSON.stringify({text:Ge,range:Se.range}),dt)}}return{items:[...j.values()],dispose:()=>{for(const z of R)z.dispose()}}})}function qx(a,e,t,n){const s=t.getLineContent(e.lineNumber).substring(0,e.column-1)+a,d=t.tokenizeLineWithEdit(e,s.length-(e.column-1),a),p=null==d?void 0:d.sliceAndInflate(e.column-1,s.length,0);return p?(console.log(p),function(a,e){const t=new jx.FE,n=new zx.Z(t,j=>e.getLanguageConfiguration(j)),o=new Kx.xH(new Zx([a]),n),s=(0,Ux.w)(o,[],void 0,!0);let d="";const p=a.getLineContent();return function R(j,z){if(2===j.kind)R(j.openingBracket,z),z=(0,Uc.Ii)(z,j.openingBracket.length),j.child&&(R(j.child,z),z=(0,Uc.Ii)(z,j.child.length)),j.closingBracket?(R(j.closingBracket,z),z=(0,Uc.Ii)(z,j.closingBracket.length)):d+=n.getSingleLanguageBracketTokens(j.openingBracket.languageId).findClosingTokenText(j.openingBracket.bracketIds);else if(3!==j.kind)if(0===j.kind||1===j.kind)d+=p.substring((0,Uc.F_)(z),(0,Uc.F_)((0,Uc.Ii)(z,j.length)));else if(4===j.kind)for(const ne of j.children)R(ne,z),z=(0,Uc.Ii)(z,ne.length)}(s,Uc.xl),d}(p,n)):a}function Ym(a,e){if(!e)return e;const t=a.getValueInRange(e.range),n=(0,An.Mh)(t,e.text),o=a.getOffsetAt(e.range.getStartPosition())+n,s=a.getPositionAt(o),d=t.substr(n),p=(0,An.P1)(d,e.text),R=a.getPositionAt(Math.max(o,a.getOffsetAt(e.range.getEndPosition())-p));return{range:kt.e.fromPositions(s,R),text:e.text.substr(n,e.text.length-n-p)}}m(14700);var uh=m(17184),ec=m(84491);const vs=new Uint8Array(16),nr=[];for(let a=0;a<256;a++)nr.push(a.toString(16).padStart(2,"0"));let g_;g_="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(a){for(let e=0;e<a.length;e++)a[e]=Math.floor(256*Math.random());return a},Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class tL{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){let n=t.resolve(e);if(void 0!==n)return n}}}class nL{constructor(e,t,n,o){this._model=e,this._selection=t,this._selectionIdx=n,this._overtypingCapturer=o}resolve(e){const{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let n=this._model.getValueInRange(this._selection)||void 0,o=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){const s=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);s&&(n=s.value,o=s.multiline)}if(n&&o&&e.snippet){const s=this._model.getLineContent(this._selection.startLineNumber),d=(0,An.V8)(s,0,this._selection.startColumn-1);let p=d;e.snippet.walk(j=>j!==e&&(j instanceof Mr&&(p=(0,An.V8)((0,An.uq)(j.value).pop())),!0));const R=(0,An.Mh)(p,d);n=n.replace(/(\r\n|\r|\n)(.*)/g,(j,z,ne)=>`${z}${p.substr(R)}${ne}`)}return n}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){const n=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return n&&n.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0}}class iL{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return ec.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){const n=ec.EZ(this._model.uri.fsPath),o=n.lastIndexOf(".");return o<=0?n:n.slice(0,o)}return"TM_DIRECTORY"===t?"."===ec.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,Mo.XX)(this._model.uri)):"TM_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class oL{constructor(e,t,n,o){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=n,this._spread=o}resolve(e){if("CLIPBOARD"!==e.name)return;const t=this._readClipboardText();if(t){if(this._spread){const n=t.split(/\r\n|\n|\r/).filter(o=>!(0,An.m5)(o));if(n.length===this._selectionCount)return n[this._selectionIdx]}return t}}}class sL{constructor(e,t){this._model=e,this._selection=t}resolve(e){const{name:t}=e,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),o=Yo.zu.getComments(n);if(o){if("LINE_COMMENT"===t)return o.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===t)return o.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===t)return o.blockCommentEndToken||void 0}}}class pl{constructor(){this._date=new Date}resolve(e){const{name:t}=e;return"CURRENT_YEAR"===t?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===t?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===t?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===t?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===t?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===t?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===t?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===t?pl.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===t?pl.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===t?pl.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===t?pl.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===t?String(Math.floor(this._date.getTime()/1e3)):void 0}}pl.dayNames=[Ee.N("Sunday","Sunday"),Ee.N("Monday","Monday"),Ee.N("Tuesday","Tuesday"),Ee.N("Wednesday","Wednesday"),Ee.N("Thursday","Thursday"),Ee.N("Friday","Friday"),Ee.N("Saturday","Saturday")],pl.dayNamesShort=[Ee.N("SundayShort","Sun"),Ee.N("MondayShort","Mon"),Ee.N("TuesdayShort","Tue"),Ee.N("WednesdayShort","Wed"),Ee.N("ThursdayShort","Thu"),Ee.N("FridayShort","Fri"),Ee.N("SaturdayShort","Sat")],pl.monthNames=[Ee.N("January","January"),Ee.N("February","February"),Ee.N("March","March"),Ee.N("April","April"),Ee.N("May","May"),Ee.N("June","June"),Ee.N("July","July"),Ee.N("August","August"),Ee.N("September","September"),Ee.N("October","October"),Ee.N("November","November"),Ee.N("December","December")],pl.monthNamesShort=[Ee.N("JanuaryShort","Jan"),Ee.N("FebruaryShort","Feb"),Ee.N("MarchShort","Mar"),Ee.N("AprilShort","Apr"),Ee.N("MayShort","May"),Ee.N("JuneShort","Jun"),Ee.N("JulyShort","Jul"),Ee.N("AugustShort","Aug"),Ee.N("SeptemberShort","Sep"),Ee.N("OctoberShort","Oct"),Ee.N("NovemberShort","Nov"),Ee.N("DecemberShort","Dec")];class rL{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=(0,uh.uT)(this._workspaceService.getWorkspace());if(t){if("WORKSPACE_NAME"===e.name)return this._resolveWorkspaceName(t);if("WORKSPACE_FOLDER"===e.name)return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if((0,uh.eb)(e))return ec.EZ(e.uri.path);let t=ec.EZ(e.configPath.path);return t.endsWith(uh.A6)&&(t=t.substr(0,t.length-uh.A6.length-1)),t}_resoveWorkspacePath(e){if((0,uh.eb)(e))return xf(e.uri.fsPath);let t=ec.EZ(e.configPath.path),n=e.configPath.fsPath;return n.endsWith(t)&&(n=n.substr(0,n.length-t.length-1)),n?xf(n):"/"}}class aL{resolve(e){const{name:t}=e;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?function(){g_(vs),vs[6]=15&vs[6]|64,vs[8]=63&vs[8]|128;let a=0,e="";return e+=nr[vs[a++]],e+=nr[vs[a++]],e+=nr[vs[a++]],e+=nr[vs[a++]],e+="-",e+=nr[vs[a++]],e+=nr[vs[a++]],e+="-",e+=nr[vs[a++]],e+=nr[vs[a++]],e+="-",e+=nr[vs[a++]],e+=nr[vs[a++]],e+="-",e+=nr[vs[a++]],e+=nr[vs[a++]],e+=nr[vs[a++]],e+=nr[vs[a++]],e+=nr[vs[a++]],e+=nr[vs[a++]],e}():void 0}}class Sa{constructor(e,t,n,o){this._editor=e,this._snippet=t,this._offset=n,this._snippetLineLeadingWhitespace=o,this._nestingLevel=1,this._placeholderGroups=(0,Wi.vM)(t.placeholders,va.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const n of this._snippet.placeholders){const o=this._snippet.offset(n),s=this._snippet.fullLen(n),d=kt.e.fromPositions(e.getPositionAt(this._offset+o),e.getPositionAt(this._offset+o+s)),R=t.addDecoration(d,n.isFinalTabstop?Sa._decor.inactiveFinal:Sa._decor.inactive);this._placeholderDecorations.set(n,R)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let o=[];for(const s of this._placeholderGroups[this._placeholderGroupsIdx])if(s.transform){const d=this._placeholderDecorations.get(s),p=this._editor.getModel().getDecorationRange(d),R=this._editor.getModel().getValueInRange(p),j=s.transform.resolve(R).split(/\r\n|\r|\n/);for(let z=1;z<j.length;z++)j[z]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+j[z]);o.push(ss.h.replace(p,j.join(this._editor.getModel().getEOL())))}o.length>0&&this._editor.executeEdits("snippet.placeholderTransform",o)}let t=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const n=this._editor.getModel().changeDecorations(o=>{const s=new Set,d=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx]){const R=this._placeholderDecorations.get(p),j=this._editor.getModel().getDecorationRange(R);d.push(new mi.Y(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(p),o.changeDecorationOptions(R,p.isFinalTabstop?Sa._decor.activeFinal:Sa._decor.active),s.add(p);for(const z of this._snippet.enclosingPlaceholders(p)){const ne=this._placeholderDecorations.get(z);o.changeDecorationOptions(ne,z.isFinalTabstop?Sa._decor.activeFinal:Sa._decor.active),s.add(z)}}for(const[p,R]of this._placeholderDecorations)s.has(p)||o.changeDecorationOptions(R,p.isFinalTabstop?Sa._decor.inactiveFinal:Sa._decor.inactive);return d});return t?this.move(e):n??[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof va){const n=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let n;for(const o of t){if(o.isFinalTabstop)break;n||(n=[],e.set(o.index,n));const s=this._placeholderDecorations.get(o),d=this._editor.getModel().getDecorationRange(s);if(!d){e.delete(o.index);break}n.push(d)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(n=>{for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const s=e.shift();console.assert(!s._placeholderDecorations);const d=s._snippet.placeholderInfo.last.index;for(const R of s._snippet.placeholderInfo.all)R.index=R.isFinalTabstop?o.index+(d+1)/this._nestingLevel:o.index+R.index/this._nestingLevel;this._snippet.replace(o,s._snippet.children);const p=this._placeholderDecorations.get(o);n.removeDecoration(p),this._placeholderDecorations.delete(o);for(const R of s._snippet.placeholders){const j=s._snippet.offset(R),z=s._snippet.fullLen(R),ne=kt.e.fromPositions(t.getPositionAt(s._offset+j),t.getPositionAt(s._offset+j+z)),Se=n.addDecoration(ne,Sa._decor.inactive);this._placeholderDecorations.set(R,Se)}}this._placeholderGroups=(0,Wi.vM)(this._snippet.placeholders,va.compareByIndex)})}}Sa._decor={active:Zi.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Zi.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Zi.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Zi.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const Cb={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class _l{constructor(e,t,n=Cb){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=n}static adjustWhitespace(e,t,n,o,s){const d=e.getLineContent(t.lineNumber),p=(0,An.V8)(d,0,t.column-1);let R;return n.walk(j=>{if(!(j instanceof Mr)||j.parent instanceof Pf)return!0;const z=j.value.split(/\r\n|\r|\n/);if(o){const Se=n.offset(j);if(0===Se)z[0]=e.normalizeIndentation(z[0]);else{R=R??n.toString();let Me=R.charCodeAt(Se-1);(10===Me||13===Me)&&(z[0]=e.normalizeIndentation(p+z[0]))}for(let Me=1;Me<z.length;Me++)z[Me]=e.normalizeIndentation(p+z[Me])}const ne=z.join(e.getEOL());return ne!==j.value&&(j.parent.replace(j,[new Mr(ne)]),R=void 0),!0}),p}static adjustSelection(e,t,n,o){if(0!==n||0!==o){const{positionLineNumber:s,positionColumn:d}=t,j=e.validateRange({startLineNumber:s,startColumn:d-n,endLineNumber:s,endColumn:d+o});t=mi.Y.createWithDirection(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,n,o,s,d,p,R){const j=[],z=[];if(!e.hasModel())return{edits:j,snippets:z};const ne=e.getModel(),Se=e.invokeWithinContext(Bn=>Bn.get(uh.ec)),Me=e.invokeWithinContext(Bn=>new iL(Bn.get(Zu.e),ne)),Ge=()=>p;let dt=0,Ft=ne.getValueInRange(_l.adjustSelection(ne,e.getSelection(),n,0)),Ot=ne.getValueInRange(_l.adjustSelection(ne,e.getSelection(),0,o)),qt=ne.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const nn=e.getSelections().map((Bn,Tn)=>({selection:Bn,idx:Tn})).sort((Bn,Tn)=>kt.e.compareRangesUsingStarts(Bn.selection,Tn.selection));for(const{selection:Bn,idx:Tn}of nn){let Ai=_l.adjustSelection(ne,Bn,n,0),yi=_l.adjustSelection(ne,Bn,0,o);Ft!==ne.getValueInRange(Ai)&&(Ai=Bn),Ot!==ne.getValueInRange(yi)&&(yi=Bn);const ls=Bn.setStartPosition(Ai.startLineNumber,Ai.startColumn).setEndPosition(yi.endLineNumber,yi.endColumn),Bs=(new Sm).parse(t,!0,s),Ws=ls.getStartPosition(),Da=_l.adjustWhitespace(ne,Ws,Bs,d||Tn>0&&qt!==ne.getLineFirstNonWhitespaceColumn(Bn.positionLineNumber),!0);Bs.resolveVariables(new tL([Me,new oL(Ge,Tn,nn.length,"spread"===e.getOption(71)),new nL(ne,Bn,Tn,R),new sL(ne,Bn),new pl,new rL(Se),new aL]));const Ga=ne.getOffsetAt(Ws)+dt;dt+=Bs.toString().length-ne.getValueLengthInRange(ls),j[Tn]=ss.h.replace(ls,Bs.toString()),j[Tn].identifier={major:Tn,minor:0},z[Tn]=new Sa(e,Bs,Ga,Da)}return{edits:j,snippets:z}}dispose(){(0,Pt.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=_l.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,n=>this._snippets[0].hasPlaceholder?this._move(!0):n.filter(o=>!!o.identifier).map(o=>mi.Y.fromPositions(o.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=Cb){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:n,snippets:o}=_l.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",n,s=>{for(const d of this._snippets)d.merge(o);return console.assert(0===o.length),this._snippets[0].hasPlaceholder?this._move(void 0):s.filter(d=>!!d.identifier).map(d=>mi.Y.fromPositions(d.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const n of this._snippets){const o=n.move(e);t.push(...o)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const n of this._snippets){const o=n.computePossibleSelections();if(0===t.size)for(const[s,d]of o){d.sort(kt.e.compareRangesUsingStarts);for(const p of e)if(d[0].containsRange(p)){t.set(s,[]);break}}if(0===t.size)return!1;t.forEach((s,d)=>{s.push(...o.get(d))})}e.sort(kt.e.compareRangesUsingStarts);for(let[n,o]of t)if(o.length===e.length){o.sort(kt.e.compareRangesUsingStarts);for(let s=0;s<o.length;s++)if(!o[s].containsRange(e[s])){t.delete(n);continue}}else t.delete(n);return t.size>0}}var bb=m(99315),Jm=m(2646),m_=function(a,e){return function(t,n){e(t,n,a)}};const vb={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Ts=class Lg{constructor(e,t,n,o){this._editor=e,this._instantiationService=t,this._logService=n,this._snippetListener=new Pt.SL,this._modelVersionId=-1,this._inSnippet=Lg.InSnippetMode.bindTo(o),this._hasNextTabstop=Lg.HasNextTabstop.bindTo(o),this._hasPrevTabstop=Lg.HasPrevTabstop.bindTo(o)}static get(e){return e.getContribution(Lg.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,void 0===t?vb:Object.assign(Object.assign({},vb),t))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){!this._editor.hasModel()||(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new _l(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(n=>n.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:e}=this._session;if(e){if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(n=>mi.Y.fromPositions(n.getStartPosition())));const[t]=e.options;this._instantiationService.invokeFunction($w,this._editor,e.options.map((n,o)=>({kind:13,label:n.value,insertText:n.value,sortText:"a".repeat(o+1),range:kt.e.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,t.value.length))})))}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(t=this._session)||void 0===t||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};Ts.ID="snippetController2",Ts.InSnippetMode=new $t.uy("inSnippetMode",!1,(0,Ee.N)("inSnippetMode","Whether the editor in current in snippet mode")),Ts.HasNextTabstop=new $t.uy("hasNextTabstop",!1,(0,Ee.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),Ts.HasPrevTabstop=new $t.uy("hasPrevTabstop",!1,(0,Ee.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),Ts=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([m_(1,oo.TG),m_(2,Jm.VZ),m_(3,$t.i6)],Ts),(0,Xe._K)(Ts.ID,Ts);const Xm=Xe._l.bindToContribution(Ts.get);(0,Xe.fK)(new Xm({id:"jumpToNextSnippetPlaceholder",precondition:$t.Ao.and(Ts.InSnippetMode,Ts.HasNextTabstop),handler:a=>a.next(),kbOpts:{weight:130,kbExpr:vt.u.editorTextFocus,primary:2}})),(0,Xe.fK)(new Xm({id:"jumpToPrevSnippetPlaceholder",precondition:$t.Ao.and(Ts.InSnippetMode,Ts.HasPrevTabstop),handler:a=>a.prev(),kbOpts:{weight:130,kbExpr:vt.u.editorTextFocus,primary:1026}})),(0,Xe.fK)(new Xm({id:"leaveSnippet",precondition:Ts.InSnippetMode,handler:a=>a.cancel(!0),kbOpts:{weight:130,kbExpr:vt.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,Xe.fK)(new Xm({id:"acceptSnippet",precondition:Ts.InSnippetMode,handler:a=>a.finish()}));var wb=function(a,e){return function(t,n){e(t,n,a)}};class p_{constructor(e){this.name=e}select(e,t,n){if(0===n.length)return 0;let o=n[0].score[0];for(let s=0;s<n.length;s++){const{score:d,completion:p}=n[s];if(d[0]!==o)break;if(p.preselect)return s}return 0}}class yb extends p_{constructor(){super("first")}memorize(e,t,n){}toJSON(){}fromJSON(){}}let Xf=class Ip{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new Pt.SL,this._persistSoon=new Wn.pY(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(n=>{n.reason===Hr.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,n){this._withStrategy(e,t).memorize(e,t,n),this._persistSoon.schedule()}select(e,t,n){return this._withStrategy(e,t).select(e,t,n)}_withStrategy(e,t){var n;const o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if((null===(n=this._strategy)||void 0===n?void 0:n.name)!==o){this._saveState();const s=Ip._strategyCtors.get(o)||yb;this._strategy=new s;try{const p=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,R=this._storageService.get(`${Ip._storagePrefix}/${o}`,p);R&&this._strategy.fromJSON(JSON.parse(R))}catch{}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${Ip._storagePrefix}/${this._strategy.name}`,n,t,1)}}};Xf._strategyCtors=new Map([["recentlyUsedByPrefix",class extends p_{constructor(){super("recentlyUsedByPrefix"),this._trie=Ns.Id.forStrings(),this._seq=0}memorize(e,t,n){const{word:o}=e.getWordUntilPosition(t),s=`${e.getLanguageId()}/${o}`;this._trie.set(s,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(e,t,n){let{word:o}=e.getWordUntilPosition(t);if(!o)return super.select(e,t,n);let s=`${e.getLanguageId()}/${o}`,d=this._trie.get(s);if(d||(d=this._trie.findSubstr(s)),d)for(let p=0;p<n.length;p++){let{kind:R,insertText:j}=n[p].completion;if(R===d.type&&j===d.insertText)return p}return super.select(e,t,n)}toJSON(){let e=[];return this._trie.forEach((t,n)=>e.push([n,t])),e.sort((t,n)=>-(t[1].touch-n[1].touch)).forEach((t,n)=>t[1].touch=n),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,n]of e)n.type="number"==typeof n.type?n.type:eo.gX.fromString(n.type),this._trie.set(t,n)}}}],["recentlyUsed",class extends p_{constructor(){super("recentlyUsed"),this._cache=new Ns.z6(300,.66),this._seq=0}memorize(e,t,n){const o=`${e.getLanguageId()}/${n.textLabel}`;this._cache.set(o,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(e,t,n){if(0===n.length)return 0;const o=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(o))return super.select(e,t,n);let s=n[0].score[0],p=-1,R=-1;for(let j=0;j<n.length&&n[j].score[0]===s;j++){const z=`${e.getLanguageId()}/${n[j].textLabel}`,ne=this._cache.peek(z);if(ne&&ne.touch>R&&ne.type===n[j].completion.kind&&ne.insertText===n[j].completion.insertText&&(R=ne.touch,p=j),n[j].completion.preselect)return j}return-1!==p?p:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();for(const[n,o]of e)o.touch=0,o.type="number"==typeof o.type?o.type:eo.gX.fromString(o.type),this._cache.set(n,o);this._seq=this._cache.size}}],["first",yb]]),Xf._storagePrefix="suggest/memories",Xf=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([wb(0,Hr.Uy),wb(1,Is.Ui)],Xf);const Sb=(0,oo.yh)("ISuggestMemories");(0,Wl.z)(Sb,Xf,!0);let qf=class gw{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=gw.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(n=>n.hasChanged(111)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}_update(){const e="on"===this._editor.getOption(111);if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const n=this._editor.getModel(),o=this._editor.getSelection(),s=n.getWordAtPosition(o.getStartPosition());this._ckAtEnd.set(!!s&&s.endColumn===o.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};qf.AtEnd=new $t.uy("atEndOfWord",!1),qf=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,1)}}(0,$t.i6)],qf);let Zd=class kp{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=kp.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},n){0!==e.items.length&&kp._moveIndex(!0,e,t)!==t?(this._acceptNext=n,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,n){let o=n;for(;o=(o+t.items.length+(e?1:-1))%t.items.length,o!==n&&t.items[o].completion.additionalTextEdits;);return o}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(this._model)try{this._ignore=!0,this._index=kp._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Zd.OtherSuggestions=new $t.uy("hasOtherSuggestions",!1),Zd=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,1)}}(0,$t.i6)],Zd);class pL{constructor(e,t,n){this._disposables=new Pt.SL,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(o=>{if(this._active&&!t.isFrozen()){const s=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(s)&&e.getOption(0)&&n(this._active.item)}}))}_onItem(e){if(!e||!(0,Wi.Of)(e.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===e.item)return;const t=new ch.q;for(const n of e.item.completion.commitCharacters)n.length>0&&t.add(n.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}let xb=(()=>{class a{provideSelectionRanges(t,n){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){const o=[];for(const s of n){const d=[];o.push(d);const p=new Map;yield new Promise(R=>a._bracketsRightYield(R,0,t,s,p)),yield new Promise(R=>a._bracketsLeftYield(R,0,t,s,p,d))}return o})}static _bracketsRightYield(t,n,o,s,d){const p=new Map,R=Date.now();for(;;){if(n>=a._maxRounds){t();break}if(!s){t();break}let j=o.bracketPairs.findNextBracket(s);if(!j){t();break}if(Date.now()-R>a._maxDuration){setTimeout(()=>a._bracketsRightYield(t,n+1,o,s,d));break}const ne=j.close[0];if(j.isOpen){let Se=p.has(ne)?p.get(ne):0;p.set(ne,Se+1)}else{let Se=p.has(ne)?p.get(ne):0;if(Se-=1,p.set(ne,Math.max(0,Se)),Se<0){let Me=d.get(ne);Me||(Me=new DC.S,d.set(ne,Me)),Me.push(j.range)}}s=j.range.getEndPosition()}}static _bracketsLeftYield(t,n,o,s,d,p){const R=new Map,j=Date.now();for(;;){if(n>=a._maxRounds&&0===d.size){t();break}if(!s){t();break}let z=o.bracketPairs.findPrevBracket(s);if(!z){t();break}if(Date.now()-j>a._maxDuration){setTimeout(()=>a._bracketsLeftYield(t,n+1,o,s,d,p));break}const Se=z.close[0];if(z.isOpen){let Me=R.has(Se)?R.get(Se):0;if(Me-=1,R.set(Se,Math.max(0,Me)),Me<0){let Ge=d.get(Se);if(Ge){let dt=Ge.shift();0===Ge.size&&d.delete(Se);const Ft=kt.e.fromPositions(z.range.getEndPosition(),dt.getStartPosition()),Ot=kt.e.fromPositions(z.range.getStartPosition(),dt.getEndPosition());p.push({range:Ft}),p.push({range:Ot}),a._addBracketLeading(o,Ot,p)}}}else{let Me=R.has(Se)?R.get(Se):0;R.set(Se,Me+1)}s=z.range.getStartPosition()}}static _addBracketLeading(t,n,o){if(n.startLineNumber===n.endLineNumber)return;const s=n.startLineNumber,d=t.getLineFirstNonWhitespaceColumn(s);0!==d&&d!==n.startColumn&&(o.push({range:kt.e.fromPositions(new hi.L(s,d),n.getEndPosition())}),o.push({range:kt.e.fromPositions(new hi.L(s,1),n.getEndPosition())}));const p=s-1;if(p>0){const R=t.getLineFirstNonWhitespaceColumn(p);R===n.startColumn&&R!==t.getLineLastNonWhitespaceColumn(p)&&(o.push({range:kt.e.fromPositions(new hi.L(p,R),n.getEndPosition())}),o.push({range:kt.e.fromPositions(new hi.L(p,1),n.getEndPosition())}))}}}return a._maxDuration=30,a._maxRounds=2,a})();class Cl{static create(e,t){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){if(!t.getOption(106).localityBonus||!t.hasModel())return Cl.None;const n=t.getModel(),o=t.getPosition();if(!e.canComputeWordRanges(n.uri))return Cl.None;const[s]=yield(new xb).provideSelectionRanges(n,[o]);if(0===s.length)return Cl.None;const d=yield e.computeWordRanges(n.uri,s[0].range);if(!d)return Cl.None;const p=n.getWordUntilPosition(o);return delete d[p.word],new class extends Cl{distance(R,j){if(!o.equals(t.getPosition()))return 0;if(17===j.kind)return 2<<20;let ne=d["string"==typeof j.label?j.label:j.label.label];if((0,Wi.XY)(ne))return 2<<20;let Se=(0,Wi.ry)(ne,kt.e.fromPositions(R),kt.e.compareRangesUsingStarts),Me=Se>=0?ne[Se]:ne[Math.max(0,~Se-1)],Ge=s.length;for(const dt of s){if(!kt.e.containsRange(dt.range,Me))break;Ge-=1}return Ge}}})}}Cl.None=new class extends Cl{distance(){return 0}};class Gd{constructor(e,t,n,o,s,d,p){this.clipboardText=p,this._snippetCompareFn=Gd._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=o,this._options=s,this._refilterKind=1,this._lineContext=n,"top"===d?this._snippetCompareFn=Gd._compareCompletionItemsSnippetsUp:"bottom"===d&&(this._snippetCompareFn=Gd._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(let[t,n]of this._providerInfo)n&&e.add(t);return e}adopt(e){let t=[];for(let n=0;n<this._items.length;)e.has(this._items[n].provider)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:n}=this._lineContext;let o="",s="";const d=1===this._refilterKind?this._items:this._filteredItems,p=[],R=!this._options.filterGraceful||d.length>2e3?$s.EW:$s.l7;for(let j=0;j<d.length;j++){const z=d[j];if(z.isInvalid)continue;this._providerInfo.set(z.provider,Boolean(z.container.incomplete));const ne=z.position.column-z.editStart.column,Se=ne+n-(z.position.column-this._column);if(o.length!==Se&&(o=0===Se?"":t.slice(-Se),s=o.toLowerCase()),z.word=o,0===Se)z.score=$s.CL.Default;else{let Me=0;for(;Me<ne;){const Ge=o.charCodeAt(Me);if(32!==Ge&&9!==Ge)break;Me+=1}if(Me>=Se)z.score=$s.CL.Default;else if("string"==typeof z.completion.filterText){let Ge=R(o,s,Me,z.completion.filterText,z.filterTextLow,0,!1);if(!Ge)continue;0===(0,An.zY)(z.completion.filterText,z.textLabel)?z.score=Ge:(z.score=(0,$s.jB)(o,s,Me,z.textLabel,z.labelLow,0),z.score[0]=Ge[0])}else{let Ge=R(o,s,Me,z.textLabel,z.labelLow,0,!1);if(!Ge)continue;z.score=Ge}}z.idx=j,z.distance=this._wordDistance.distance(z.position,z.completion),p.push(z),e.push(z.textLabel.length)}this._filteredItems=p.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,Wi.HW)(e.length-.85,e,(j,z)=>j-z):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return Gd._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return Gd._compareCompletionItems(e,t)}}var Qd=function(a,e){return function(t,n){e(t,n,a)}};class hh{constructor(e,t,n,o){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=n,this.shy=o}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),n=e.getPosition();t.tokenizeIfCheap(n.lineNumber);const o=t.getWordAtPosition(n);return!(!o||o.endColumn!==n.column||!isNaN(Number(o.word)))}}let __=class mw{constructor(e,t,n,o,s,d,p,R){this._editor=e,this._editorWorkerService=t,this._clipboardService=n,this._telemetryService=o,this._logService=s,this._contextKeyService=d,this._configurationService=p,this._languageFeaturesService=R,this._toDispose=new Pt.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new Pt.SL,this._triggerQuickSuggest=new Wn._F,this._state=0,this._completionDisposables=new Pt.SL,this._onDidCancel=new Rn.Q5,this._onDidTrigger=new Rn.Q5,this._onDidSuggest=new Rn.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new mi.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let j=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{j=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{j=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(z=>{j||this._onCursorChange(z)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{j||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,Pt.B9)(this._triggerCharacterListener),(0,Pt.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const e=new Map;for(const n of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const o of n.triggerCharacters||[]){let s=e.get(o);s||(s=new Set,s.add(undefined),e.set(o,s)),s.add(n)}const t=n=>{if(!function(a,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=t.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==n&&Boolean(n)}(0,this._contextKeyService,this._configurationService)||hh.shouldAutoTrigger(this._editor))return;if(!n){const d=this._editor.getPosition();n=this._editor.getModel().getLineContent(d.lineNumber).substr(0,d.column-1)}let o="";(0,An.YK)(n.charCodeAt(n.length-1))?(0,An.ZG)(n.charCodeAt(n.length-2))&&(o=n.substr(n.length-2)):o=n.charAt(n.length-1);const s=e.get(o);if(s){const d=this._completionModel?{items:this._completionModel.adopt(s),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:o},Boolean(this._completionModel),s,d)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._state}cancel(e=!1){var t;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(t=this._requestToken)||void 0===t||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source?this.cancel():0===this._state&&0===e.reason?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===e.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;!1!==this._editor.getOption(79)&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&(null===(e=Ts.get(this._editor))||void 0===e?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state||!hh.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._editor.getPosition(),o=this._editor.getOption(79);if(!1!==o){if(!0!==o){t.tokenizeIfCheap(n.lineNumber);const s=t.getLineTokens(n.lineNumber),d=s.getStandardTokenType(s.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if(!(o.other&&0===d||o.comments&&1===d||o.strings&&2===d))return}!function(a,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=t.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==n&&Boolean(n)}(0,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(t)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state||!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=new hh(e,t,2===this._state,!1);this._onNewContext(n)})}trigger(e,t=!1,n,o){var s;if(!this._editor.hasModel())return;const d=this._editor.getModel(),p=e.auto,R=new hh(d,this._editor.getPosition(),p,e.shy);this.cancel(t),this._state=p?2:1,this._onDidTrigger.fire({auto:p,shy:e.shy,position:this._editor.getPosition()}),this._context=R;let j={triggerKind:null!==(s=e.triggerKind)&&void 0!==s?s:0};e.triggerCharacter&&(j={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new ti.A;const z=this._editor.getOption(101);let ne=1;switch(z){case"top":ne=0;break;case"bottom":ne=2}const{itemKind:Se,showDeprecated:Me}=mw._createSuggestFilter(this._editor),Ge=Cl.create(this._editorWorkerService,this._editor),dt=nC(this._languageFeaturesService.completionProvider,d,this._editor.getPosition(),new xm(ne,Se,n,Me),j,this._requestToken.token);Promise.all([dt,Ge]).then(([Ft,Ot])=>function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){var qt;if(null===(qt=this._requestToken)||void 0===qt||qt.dispose(),!this._editor.hasModel())return;let nn=null==o?void 0:o.clipboardText;if(!nn&&Ft.needsClipboard&&(nn=yield this._clipboardService.readText()),0===this._state)return;const Bn=this._editor.getModel();let Tn=Ft.items;if(o){const yi=iC(ne);Tn=Tn.concat(o.items).sort(yi)}const Ai=new hh(Bn,this._editor.getPosition(),p,e.shy);this._completionModel=new Gd(Tn,this._context.column,{leadingLineContent:Ai.leadingLineContent,characterCountDelta:Ai.column-this._context.column},Ot,this._editor.getOption(106),this._editor.getOption(101),nn),this._completionDisposables.add(Ft.disposable),this._onNewContext(Ai),this._reportDurationsTelemetry(Ft.durations)})).catch(Un.dL)}_reportDurationsTelemetry(e){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;"none"===e.getOption(101)&&t.add(27);const o=e.getOption(106);return o.showMethods||t.add(0),o.showFunctions||t.add(1),o.showConstructors||t.add(2),o.showFields||t.add(3),o.showVariables||t.add(4),o.showClasses||t.add(5),o.showStructs||t.add(6),o.showInterfaces||t.add(7),o.showModules||t.add(8),o.showProperties||t.add(9),o.showEvents||t.add(10),o.showOperators||t.add(11),o.showUnits||t.add(12),o.showValues||t.add(13),o.showConstants||t.add(14),o.showEnums||t.add(15),o.showEnumMembers||t.add(16),o.showKeywords||t.add(17),o.showWords||t.add(18),o.showColors||t.add(19),o.showFiles||t.add(20),o.showReferences||t.add(21),o.showColors||t.add(22),o.showFolders||t.add(23),o.showTypeParameters||t.add(24),o.showSnippets||t.add(27),o.showUsers||t.add(25),o.showIssues||t.add(26),{itemKind:t,showDeprecated:o.showDeprecated}}_onNewContext(e){if(this._context){if(e.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,An.V8)(e.leadingLineContent)!==(0,An.V8)(this._context.leadingLineContent))return void this.cancel();if(e.column<this._context.column)return void(e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel());if(this._completionModel){if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const t=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(let o of this._completionModel.allProvider)t.delete(o);const n=this._completionModel.adopt(new Set);return void this.trigger({auto:this._context.auto,shy:!1},!0,t,{items:n,clipboardText:this._completionModel.clipboardText})}if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){const{incomplete:t}=this._completionModel,n=this._completionModel.adopt(t);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,t,{items:n,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,n=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(hh.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=t,n=this._completionModel.items.length>0,n&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:n})}}}}};__=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Qd(1,Gf.p),Qd(2,cn.p),Qd(3,qr.b),Qd(4,Jm.VZ),Qd(5,$t.i6),Qd(6,Is.Ui),Qd(7,$n.p)],__);let SL=(()=>{class a{constructor(t,n){this._disposables=new Pt.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(t.onWillType(()=>{if(!this._empty||!t.hasModel())return;const o=t.getSelections(),s=o.length;let d=!1;for(let R=0;R<s;R++)if(!o[R].isEmpty()){d=!0;break}if(!d)return;this._lastOvertyped=[];const p=t.getModel();for(let R=0;R<s;R++){const j=o[R];if(p.getValueLengthInRange(j)>a._maxSelectionLength)return;this._lastOvertyped[R]={value:p.getValueInRange(j),multiline:j.startLineNumber!==j.endLineNumber}}this._empty=!1})),this._disposables.add(n.onDidCancel(o=>{!this._empty&&!o.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(t){if(!this._empty&&t>=0&&t<this._lastOvertyped.length)return this._lastOvertyped[t]}dispose(){this._disposables.dispose()}}return a._maxSelectionLength=51200,a})();m(19226);var xL=m(2393),LL=m(31096),C_=(m(1494),function(a,e){return function(t,n){e(t,n,a)}});class b_ extends kc{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=(0,Ee.N)("ddd","{0} ({1})",this._action.label,b_.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"\u23ce")}}let v_=class{constructor(e,t,n,o){this._menuService=n,this._contextKeyService=o,this._menuDisposables=new Pt.SL,this.element=st.R3(e,st.$(".suggest-status-bar"));const s=d=>d instanceof Hn.U8?t.createInstance(b_,d,void 0):void 0;this._leftActions=new kd.o(this.element,{actionViewItemProvider:s}),this._rightActions=new kd.o(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(Oc,this._contextKeyService),t=()=>{const n=[],o=[];for(let[s,d]of e.getActions())"left"===s?n.push(...d):o.push(...d);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(o)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};v_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([C_(1,oo.TG),C_(2,Hn.co),C_(3,$t.i6)],v_);const EL=(0,ge.P6G)("symbolIcon.arrayForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ML=(0,ge.P6G)("symbolIcon.booleanForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),NL=(0,ge.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,Ee.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),IL=(0,ge.P6G)("symbolIcon.colorForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kL=(0,ge.P6G)("symbolIcon.constantForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),TL=(0,ge.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,Ee.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),PL=(0,ge.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,Ee.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),OL=(0,ge.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Ee.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),AL=(0,ge.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,Ee.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),RL=(0,ge.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Ee.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),FL=(0,ge.P6G)("symbolIcon.fileForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),BL=(0,ge.P6G)("symbolIcon.folderForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),WL=(0,ge.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,Ee.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),VL=(0,ge.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Ee.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),HL=(0,ge.P6G)("symbolIcon.keyForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zL=(0,ge.P6G)("symbolIcon.keywordForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),UL=(0,ge.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,Ee.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jL=(0,ge.P6G)("symbolIcon.moduleForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),KL=(0,ge.P6G)("symbolIcon.namespaceForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$L=(0,ge.P6G)("symbolIcon.nullForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ZL=(0,ge.P6G)("symbolIcon.numberForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),GL=(0,ge.P6G)("symbolIcon.objectForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),QL=(0,ge.P6G)("symbolIcon.operatorForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),YL=(0,ge.P6G)("symbolIcon.packageForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),JL=(0,ge.P6G)("symbolIcon.propertyForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),XL=(0,ge.P6G)("symbolIcon.referenceForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qL=(0,ge.P6G)("symbolIcon.snippetForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e2=(0,ge.P6G)("symbolIcon.stringForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),t2=(0,ge.P6G)("symbolIcon.structForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n2=(0,ge.P6G)("symbolIcon.textForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i2=(0,ge.P6G)("symbolIcon.typeParameterForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),o2=(0,ge.P6G)("symbolIcon.unitForeground",{dark:ge.dRz,light:ge.dRz,hc:ge.dRz},(0,Ee.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),s2=(0,ge.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Ee.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,r.Ic)((a,e)=>{const t=a.getColor(EL);t&&e.addRule(`${Qn.lA.symbolArray.cssSelector} { color: ${t}; }`);const n=a.getColor(ML);n&&e.addRule(`${Qn.lA.symbolBoolean.cssSelector} { color: ${n}; }`);const o=a.getColor(NL);o&&e.addRule(`${Qn.lA.symbolClass.cssSelector} { color: ${o}; }`);const s=a.getColor(UL);s&&e.addRule(`${Qn.lA.symbolMethod.cssSelector} { color: ${s}; }`);const d=a.getColor(IL);d&&e.addRule(`${Qn.lA.symbolColor.cssSelector} { color: ${d}; }`);const p=a.getColor(kL);p&&e.addRule(`${Qn.lA.symbolConstant.cssSelector} { color: ${p}; }`);const R=a.getColor(TL);R&&e.addRule(`${Qn.lA.symbolConstructor.cssSelector} { color: ${R}; }`);const j=a.getColor(PL);j&&e.addRule(`\n\t\t\t${Qn.lA.symbolValue.cssSelector},${Qn.lA.symbolEnum.cssSelector} { color: ${j}; }`);const z=a.getColor(OL);z&&e.addRule(`${Qn.lA.symbolEnumMember.cssSelector} { color: ${z}; }`);const ne=a.getColor(AL);ne&&e.addRule(`${Qn.lA.symbolEvent.cssSelector} { color: ${ne}; }`);const Se=a.getColor(RL);Se&&e.addRule(`${Qn.lA.symbolField.cssSelector} { color: ${Se}; }`);const Me=a.getColor(FL);Me&&e.addRule(`${Qn.lA.symbolFile.cssSelector} { color: ${Me}; }`);const Ge=a.getColor(BL);Ge&&e.addRule(`${Qn.lA.symbolFolder.cssSelector} { color: ${Ge}; }`);const dt=a.getColor(WL);dt&&e.addRule(`${Qn.lA.symbolFunction.cssSelector} { color: ${dt}; }`);const Ft=a.getColor(VL);Ft&&e.addRule(`${Qn.lA.symbolInterface.cssSelector} { color: ${Ft}; }`);const Ot=a.getColor(HL);Ot&&e.addRule(`${Qn.lA.symbolKey.cssSelector} { color: ${Ot}; }`);const qt=a.getColor(zL);qt&&e.addRule(`${Qn.lA.symbolKeyword.cssSelector} { color: ${qt}; }`);const nn=a.getColor(jL);nn&&e.addRule(`${Qn.lA.symbolModule.cssSelector} { color: ${nn}; }`);const Bn=a.getColor(KL);Bn&&e.addRule(`${Qn.lA.symbolNamespace.cssSelector} { color: ${Bn}; }`);const Tn=a.getColor($L);Tn&&e.addRule(`${Qn.lA.symbolNull.cssSelector} { color: ${Tn}; }`);const Ai=a.getColor(ZL);Ai&&e.addRule(`${Qn.lA.symbolNumber.cssSelector} { color: ${Ai}; }`);const yi=a.getColor(GL);yi&&e.addRule(`${Qn.lA.symbolObject.cssSelector} { color: ${yi}; }`);const ls=a.getColor(QL);ls&&e.addRule(`${Qn.lA.symbolOperator.cssSelector} { color: ${ls}; }`);const Bs=a.getColor(YL);Bs&&e.addRule(`${Qn.lA.symbolPackage.cssSelector} { color: ${Bs}; }`);const Ws=a.getColor(JL);Ws&&e.addRule(`${Qn.lA.symbolProperty.cssSelector} { color: ${Ws}; }`);const Da=a.getColor(XL);Da&&e.addRule(`${Qn.lA.symbolReference.cssSelector} { color: ${Da}; }`);const Ga=a.getColor(qL);Ga&&e.addRule(`${Qn.lA.symbolSnippet.cssSelector} { color: ${Ga}; }`);const ir=a.getColor(e2);ir&&e.addRule(`${Qn.lA.symbolString.cssSelector} { color: ${ir}; }`);const pr=a.getColor(t2);pr&&e.addRule(`${Qn.lA.symbolStruct.cssSelector} { color: ${pr}; }`);const Qa=a.getColor(n2);Qa&&e.addRule(`${Qn.lA.symbolText.cssSelector} { color: ${Qa}; }`);const Jc=a.getColor(i2);Jc&&e.addRule(`${Qn.lA.symbolTypeParameter.cssSelector} { color: ${Jc}; }`);const cu=a.getColor(o2);cu&&e.addRule(`${Qn.lA.symbolUnit.cssSelector} { color: ${cu}; }`);const du=a.getColor(s2);du&&e.addRule(`${Qn.lA.symbolVariable.cssSelector} { color: ${du}; }`)});class Lb{constructor(){this._onDidWillResize=new Rn.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new Rn.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new Pt.SL,this._size=new st.Ro(0,0),this._minSize=new st.Ro(0,0),this._maxSize=new st.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new _a.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new _a.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new _a.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:_a.l.North}),this._southSash=new _a.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:_a.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,n=0;this._sashListener.add(Rn.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,n=0)})),this._sashListener.add(Rn.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==e&&(e=void 0,t=0,n=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(o=>{e&&(n=o.currentX-o.startX,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(o=>{e&&(n=-(o.currentX-o.startX),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(o=>{e&&(t=-(o.currentY-o.startY),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(o=>{e&&(t=o.currentY-o.startY,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(Rn.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(Rn.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,n,o){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=n?3:0,this._westSash.state=o?3:0}layout(e=this.size.height,t=this.size.width){const{height:n,width:o}=this._minSize,{height:s,width:d}=this._maxSize;e=Math.max(n,Math.min(s,e)),t=Math.max(o,Math.min(d,t));const p=new st.Ro(t,e);st.Ro.equals(p,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=p,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}function w_(a){return!!a&&Boolean(a.completion.documentation||a.completion.detail&&a.completion.detail!==a.completion.label)}let y_=class{constructor(e,t){this._editor=e,this._onDidClose=new Rn.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new Rn.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new Pt.SL,this._renderDisposeable=new Pt.SL,this._borderWidth=1,this._size=new st.Ro(330,0),this.domNode=st.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Gl,{editor:e}),this._body=st.$(".body"),this._scrollbar=new fr.s$(this._body,{}),st.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=st.R3(this._body,st.$(".header")),this._close=st.R3(this._header,st.$("span"+Qn.lA.close.cssSelector)),this._close.title=Ee.N("details.close","Close"),this._type=st.R3(this._header,st.$("p.type")),this._docs=st.R3(this._body,st.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(44),n=t.getMassagedFontFamily(Ct.isSafari?hs.hL.fontFamily:null),o=e.get(107)||t.fontSize,s=e.get(108)||t.lineHeight,d=t.fontWeight,R=`${s}px`;this.domNode.style.fontSize=`${o}px`,this.domNode.style.lineHeight=""+s/o,this.domNode.style.fontWeight=d,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=R,this._close.style.width=R}getLayoutInfo(){const e=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=Ee.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(e,t){var n,o;this._renderDisposeable.clear();let{detail:s,documentation:d}=e.completion;if(t){let p="";p+=`score: ${e.score[0]}\n`,p+=`prefix: ${null!==(n=e.word)&&void 0!==n?n:"(no prefix)"}\n`,p+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}\n`,p+=`distance: ${e.distance} (localityBonus-setting)\n`,p+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,p+=`commit_chars: ${null===(o=e.completion.commitCharacters)||void 0===o?void 0:o.join("")}\n`,d=(new Oo.W5).appendCodeblock("empty",p),s=`Provider: ${e.provider._debugDisplayName}`}if(t||w_(e)){if(this.domNode.classList.remove("no-docs","no-type"),s){const p=s.length>1e5?`${s.substr(0,1e5)}\u2026`:s;this._type.textContent=p,this._type.title=p,st.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(p))}else st.PO(this._type),this._type.title="",st.Cp(this._type),this.domNode.classList.add("no-type");if(st.PO(this._docs),"string"==typeof d)this._docs.classList.remove("markdown-docs"),this._docs.textContent=d;else if(d){this._docs.classList.add("markdown-docs"),st.PO(this._docs);const p=this._markdownRenderer.render(d);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const n=new st.Ro(e,t);st.Ro.equals(n,this._size)||(this._size=n,st.dp(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};y_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,1)}}(0,oo.TG)],y_);class l2{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new Pt.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Lb,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let n,o,s=0,d=0;this._disposables.add(this._resizable.onDidWillResize(()=>{n=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(n&&o){this.widget.layout(p.dimension.width,p.dimension.height);let R=!1;p.west&&(d=o.width-p.dimension.width,R=!0),p.north&&(s=o.height-p.dimension.height,R=!0),R&&this._applyTopLeft({top:n.top+s,left:n.left+d})}p.done&&(n=void 0,o=void 0,s=0,d=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(p=this._userSize)&&void 0!==p?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var n;const o=e.getBoundingClientRect();this._anchorBox=o,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,null!==(n=this._userSize)&&void 0!==n?n:this.widget.size,t)}_placeAtAnchor(e,t,n){var o;const s=st.D6(document.body),d=this.widget.getLayoutInfo(),p=new st.Ro(220,2*d.lineHeight),R=e.top,j=function(){const nn=s.width-(e.left+e.width+d.borderWidth+d.horizontalPadding),Bn=-d.borderWidth+e.left+e.width,Tn=new st.Ro(nn,s.height-e.top-d.borderHeight-d.verticalPadding),Ai=Tn.with(void 0,e.top+e.height-d.borderHeight-d.verticalPadding);return{top:R,left:Bn,fit:nn-t.width,maxSizeTop:Tn,maxSizeBottom:Ai,minSize:p.with(Math.min(nn,p.width))}}(),Se=[j,function(){const nn=e.left-d.borderWidth-d.horizontalPadding,Bn=Math.max(d.horizontalPadding,e.left-t.width-d.borderWidth),Tn=new st.Ro(nn,s.height-e.top-d.borderHeight-d.verticalPadding),Ai=Tn.with(void 0,e.top+e.height-d.borderHeight-d.verticalPadding);return{top:R,left:Bn,fit:nn-t.width,maxSizeTop:Tn,maxSizeBottom:Ai,minSize:p.with(Math.min(nn,p.width))}}(),function(){const nn=e.left,Bn=-d.borderWidth+e.top+e.height,Tn=new st.Ro(e.width-d.borderHeight,s.height-e.top-e.height-d.verticalPadding);return{top:Bn,left:nn,fit:Tn.height-t.height,maxSizeBottom:Tn,maxSizeTop:Tn,minSize:p.with(Tn.width)}}()],Me=null!==(o=Se.find(nn=>nn.fit>=0))&&void 0!==o?o:Se.sort((nn,Bn)=>Bn.fit-nn.fit)[0],Ge=e.top+e.height-d.borderHeight;let dt,Ft=t.height;const Ot=Math.max(Me.maxSizeTop.height,Me.maxSizeBottom.height);let qt;Ft>Ot&&(Ft=Ot),n?Ft<=Me.maxSizeTop.height?(dt=!0,qt=Me.maxSizeTop):(dt=!1,qt=Me.maxSizeBottom):Ft<=Me.maxSizeBottom.height?(dt=!1,qt=Me.maxSizeBottom):(dt=!0,qt=Me.maxSizeTop),this._applyTopLeft({left:Me.left,top:dt?Me.top:Ge-Ft}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!dt,Me===j,dt,Me!==j),this._resizable.minSize=Me.minSize,this._resizable.maxSize=qt,this._resizable.layout(Ft,Math.min(qt.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var bl=(()=>(function(a){a[a.FILE=0]="FILE",a[a.FOLDER=1]="FOLDER",a[a.ROOT_FOLDER=2]="ROOT_FOLDER"}(bl||(bl={})),bl))();const c2=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function qm(a,e,t,n){const o=n===bl.ROOT_FOLDER?["rootfolder-icon"]:n===bl.FOLDER?["folder-icon"]:["file-icon"];if(t){let s;if(t.scheme===bs.lg.data)s=Mo.Vb.parseMetaData(t).get(Mo.Vb.META_DATA_LABEL);else{const d=t.path.match(c2);d?(s=ep(d[2].toLowerCase()),d[1]&&o.push(`${ep(d[1].toLowerCase())}-name-dir-icon`)):s=ep(t.authority.toLowerCase())}if(n===bl.FOLDER)o.push(`${s}-name-folder-icon`);else{if(s){if(o.push(`${s}-name-file-icon`),o.push("name-file-icon"),s.length<=255){const p=s.split(".");for(let R=1;R<p.length;R++)o.push(`${p.slice(R).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const d=function(a,e,t){if(!t)return null;let n=null;if(t.scheme===bs.lg.data){const s=Mo.Vb.parseMetaData(t).get(Mo.Vb.META_DATA_MIME);s&&(n=e.getLanguageIdByMimeType(s))}else{const o=a.getModel(t);o&&(n=o.getLanguageId())}return n&&n!==Ku.bd?n:e.guessLanguageIdByFilepathOrFirstLine(t)}(a,e,t);d&&o.push(`${ep(d)}-lang-file-icon`)}}return o}function ep(a){return a.replace(/[\11\12\14\15\40]/g,"/")}var eg,S_=function(a,e){return function(t,n){e(t,n,a)}};function Db(a){return`suggest-aria-id:${a}`}const h2=(0,er.q5)("suggest-more-info",Qn.lA.chevronRight,Ee.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),f2=new(eg=class Tp{extract(e,t){if(e.textLabel.match(Tp._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(Tp._regexStrict))return t[0]=e.completion.detail,!0;if("string"==typeof e.completion.documentation){const n=Tp._regexRelaxed.exec(e.completion.documentation);if(n&&(0===n.index||n.index+n[0].length===e.completion.documentation.length))return t[0]=n[0],!0}return!1}},eg._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,eg._regexStrict=new RegExp(`^${eg._regexRelaxed.source}$`,"i"),eg);let x_=class{constructor(e,t,n,o){this._editor=e,this._modelService=t,this._languageService=n,this._themeService=o,this._onDidToggleDetails=new Rn.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new Pt.SL,t.root=e,t.root.classList.add("show-file-icons"),t.icon=(0,st.R3)(e,(0,st.$)(".icon")),t.colorspan=(0,st.R3)(t.icon,(0,st.$)("span.colorspan"));const n=(0,st.R3)(e,(0,st.$)(".contents")),o=(0,st.R3)(n,(0,st.$)(".main"));t.iconContainer=(0,st.R3)(o,(0,st.$)(".icon-label.codicon")),t.left=(0,st.R3)(o,(0,st.$)("span.left")),t.right=(0,st.R3)(o,(0,st.$)("span.right")),t.iconLabel=new $u.g(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=(0,st.R3)(t.left,(0,st.$)("span.signature-label")),t.qualifierLabel=(0,st.R3)(t.left,(0,st.$)("span.qualifier-label")),t.detailsLabel=(0,st.R3)(t.right,(0,st.$)("span.details-label")),t.readMore=(0,st.R3)(t.right,(0,st.$)("span.readMore"+r.kS.asCSSSelector(h2))),t.readMore.title=Ee.N("readMore","Read More");const s=()=>{const d=this._editor.getOptions(),p=d.get(44),R=p.getMassagedFontFamily(Ct.isSafari?hs.hL.fontFamily:null),j=p.fontFeatureSettings,z=d.get(107)||p.fontSize,ne=d.get(108)||p.lineHeight,Se=p.fontWeight,Ge=`${ne}px`;t.root.style.fontSize=`${z}px`,t.root.style.fontWeight=Se,o.style.fontFamily=R,o.style.fontFeatureSettings=j,o.style.lineHeight=Ge,t.icon.style.height=Ge,t.icon.style.width=Ge,t.readMore.style.height=Ge,t.readMore.style.width=Ge};return s(),t.disposables.add(this._editor.onDidChangeConfiguration(d=>{(d.hasChanged(44)||d.hasChanged(107)||d.hasChanged(108))&&s()})),t}renderElement(e,t,n){const{completion:o}=e;n.root.id=Db(t),n.colorspan.style.backgroundColor="";const s={labelEscapeNewLines:!0,matches:(0,$s.mB)(e.score)};let d=[];if(19===o.kind&&f2.extract(e,d))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=d[0];else if(20===o.kind&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const p=qm(this._modelService,this._languageService,So.o.from({scheme:"fake",path:e.textLabel}),bl.FILE),R=qm(this._modelService,this._languageService,So.o.from({scheme:"fake",path:o.detail}),bl.FILE);s.extraClasses=p.length>R.length?p:R}else 23===o.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",s.extraClasses=(0,Wi.xH)([qm(this._modelService,this._languageService,So.o.from({scheme:"fake",path:e.textLabel}),bl.FOLDER),qm(this._modelService,this._languageService,So.o.from({scheme:"fake",path:o.detail}),bl.FOLDER)])):(n.icon.className="icon hide",n.iconContainer.className="",n.iconContainer.classList.add("suggest-icon",...Qn.dT.asClassNameArray(eo.gX.toIcon(o.kind))));o.tags&&o.tags.indexOf(1)>=0&&(s.extraClasses=(s.extraClasses||[]).concat(["deprecated"]),s.matches=[]),n.iconLabel.setLabel(e.textLabel,void 0,s),"string"==typeof o.label?(n.parametersLabel.textContent="",n.detailsLabel.textContent=L_(o.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=L_(o.label.detail||""),n.detailsLabel.textContent=L_(o.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,st.$Z)(n.detailsLabel):(0,st.Cp)(n.detailsLabel),w_(e)?(n.right.classList.add("can-expand-details"),(0,st.$Z)(n.readMore),n.readMore.onmousedown=p=>{p.stopPropagation(),p.preventDefault()},n.readMore.onclick=p=>{p.stopPropagation(),p.preventDefault(),this._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),(0,st.Cp)(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};function L_(a){return a.replace(/\r\n|\r|\n/g,"")}x_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([S_(1,Jr.q),S_(2,Ur.O),S_(3,r.XE)],x_);var tp=function(a,e){return function(t,n){e(t,n,a)}};(0,ge.P6G)("editorSuggestWidget.background",{dark:ge.D0T,light:ge.D0T,hc:ge.D0T},Ee.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,ge.P6G)("editorSuggestWidget.border",{dark:ge.D1_,light:ge.D1_,hc:ge.D1_},Ee.N("editorSuggestWidgetBorder","Border color of the suggest widget."));const D_=(0,ge.P6G)("editorSuggestWidget.foreground",{dark:ge.NOs,light:ge.NOs,hc:ge.NOs},Ee.N("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),p2=((0,ge.P6G)("editorSuggestWidget.selectedForeground",{dark:ge.NPS,light:ge.NPS,hc:ge.NPS},Ee.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,ge.P6G)("editorSuggestWidget.selectedIconForeground",{dark:ge.cbQ,light:ge.cbQ,hc:ge.cbQ},Ee.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,ge.P6G)("editorSuggestWidget.selectedBackground",{dark:ge.Vqd,light:ge.Vqd,hc:ge.Vqd},Ee.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")));(0,ge.P6G)("editorSuggestWidget.highlightForeground",{dark:ge.Gwp,light:ge.Gwp,hc:ge.Gwp},Ee.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,ge.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:ge.PX0,light:ge.PX0,hc:ge.PX0},Ee.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,ge.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,ge.ZnX)(D_,.5),light:(0,ge.ZnX)(D_,.5),hc:(0,ge.ZnX)(D_,.5)},Ee.N("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class _2{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof Ul}`}restore(){var e;const t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{const n=JSON.parse(t);if(st.Ro.is(n))return st.Ro.lift(n)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let tg=class M1{constructor(e,t,n,o,s){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Wn._F,this._disposables=new Pt.SL,this._onDidSelect=new Rn.Q5,this._onDidFocus=new Rn.Q5,this._onDidHide=new Rn.Q5,this._onDidShow=new Rn.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new Rn.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Lb,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new C2(this,e),this._persistedSize=new _2(t,e);class d{constructor(Me,Ge,dt=!1,Ft=!1){this.persistedSize=Me,this.currentSize=Ge,this.persistHeight=dt,this.persistWidth=Ft}}let p;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),p=new d(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(Se=>{var Me,Ge,dt,Ft;if(this._resize(Se.dimension.width,Se.dimension.height),p&&(p.persistHeight=p.persistHeight||!!Se.north||!!Se.south,p.persistWidth=p.persistWidth||!!Se.east||!!Se.west),Se.done){if(p){const{itemHeight:Ot,defaultSize:qt}=this.getLayoutInfo(),nn=Math.round(Ot/2);let{width:Bn,height:Tn}=this.element.size;(!p.persistHeight||Math.abs(p.currentSize.height-Tn)<=nn)&&(Tn=null!==(Ge=null===(Me=p.persistedSize)||void 0===Me?void 0:Me.height)&&void 0!==Ge?Ge:qt.height),(!p.persistWidth||Math.abs(p.currentSize.width-Bn)<=nn)&&(Bn=null!==(Ft=null===(dt=p.persistedSize)||void 0===dt?void 0:dt.width)&&void 0!==Ft?Ft:qt.width),this._persistedSize.store(new st.Ro(Bn,Tn))}this._contentWidget.unlockPreference(),p=void 0}})),this._messageElement=st.R3(this.element.domNode,st.$(".message")),this._listElement=st.R3(this.element.domNode,st.$(".tree"));const R=s.createInstance(y_,this.editor);R.onDidClose(this.toggleDetails,this,this._disposables),this._details=new l2(R,this.editor);const j=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);j();const z=s.createInstance(x_,this.editor);this._disposables.add(z),this._disposables.add(z.onDidToggleDetails(()=>this.toggleDetails())),this._list=new xL.aV("SuggestWidget",this._listElement,{getHeight:Se=>this.getLayoutInfo().itemHeight,getTemplateId:Se=>"suggestion"},[z],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>Ee.N("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:Se=>{let Me=Se.textLabel;if("string"!=typeof Se.completion.label){const{detail:Ot,description:qt}=Se.completion.label;Ot&&qt?Me=Ee.N("label.full","{0}{1}, {2}",Me,Ot,qt):Ot?Me=Ee.N("label.detail","{0}{1}",Me,Ot):qt&&(Me=Ee.N("label.desc","{0}, {1}",Me,qt))}if(!Se.isResolved||!this._isDetailsVisible())return Me;const{documentation:Ge,detail:dt}=Se.completion,Ft=An.WU("{0}{1}",dt||"",Ge?"string"==typeof Ge?Ge:Ge.value:"");return Ee.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Me,Ft)}}}),this._status=s.createInstance(v_,this.element.domNode);const ne=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);ne(),this._disposables.add((0,hm.Jl)(this._list,o,{listInactiveFocusBackground:p2,listInactiveFocusOutline:ge.xL1})),this._disposables.add(o.onDidColorThemeChange(Se=>this._onThemeChange(Se))),this._onThemeChange(o.getColorTheme()),this._disposables.add(this._list.onMouseDown(Se=>this._onListMouseDownOrTap(Se))),this._disposables.add(this._list.onTap(Se=>this._onListMouseDownOrTap(Se))),this._disposables.add(this._list.onDidChangeSelection(Se=>this._onListSelection(Se))),this._disposables.add(this._list.onDidChangeFocus(Se=>this._onListFocus(Se))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(Se=>{Se.hasChanged(106)&&(ne(),j())})),this._ctxSuggestWidgetVisible=qi.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=qi.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=qi.MultipleSuggestions.bindTo(n),this._disposables.add(st.mu(this._details.widget.domNode,"keydown",Se=>{this._onDetailsKeydown.fire(Se)})),this._disposables.add(this.editor.onMouseDown(Se=>this._onEditorMouseDown(Se)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(e){void 0===e.element||void 0===e.index||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const n=this._completionModel;n&&(this._onDidSelect.fire({item:e,index:t,model:n}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth="hc"===e.type?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this._completionModel)return;const n=e.elements[0],o=e.indexes[0];n!==this._focusedItem&&(null===(t=this._currentSuggestionDetails)||void 0===t||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(o),this._currentSuggestionDetails=(0,Wn.PG)(s=>function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){const d=(0,Wn.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),p=s.onCancellationRequested(()=>d.dispose()),R=yield n.resolve(s);return d.dispose(),p.dispose(),R})),this._currentSuggestionDetails.then(()=>{o>=this._list.length||n!==this._list.element(o)||(this._ignoreFocusEvents=!0,this._list.splice(o,1,[n]),this._list.setFocus([o]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Db(o)}))}).catch(Un.dL)),this._onDidFocus.fire({item:n,index:o,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",4===e),this.element.domNode.classList.remove("message"),e){case 0:st.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=M1.LOADING_MESSAGE,st.Cp(this._listElement,this._status.element),st.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=M1.NO_SUGGESTIONS_MESSAGE,st.Cp(this._listElement,this._status.element),st.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:st.Cp(this._messageElement),st.$Z(this._listElement,this._status.element),this._show();break;case 5:st.Cp(this._messageElement),st.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,Wn.Vg)(()=>this._setState(1),t)))}showSuggestions(e,t,n,o){var s,d;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(s=this._loadingTimeout)||void 0===s||s.dispose(),null===(d=this._currentSuggestionDetails)||void 0===d||d.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),n&&2!==this._state&&0!==this._state)return void this._setState(4);const p=this._completionModel.items.length,R=0===p;if(this._ctxSuggestWidgetMultipleSuggestions.set(p>1),R)return this._setState(o?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(w_(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),n=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<n&&this._persistedSize.store(t.with(void 0,n))}isFrozen(){return 4===this._state}_afterRender(e){null!==e?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(e){var t,n,o;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const s=st.D6(document.body),d=this.getLayoutInfo();e||(e=d.defaultSize);let p=e.height,R=e.width;if(this._status.element.style.lineHeight=`${d.itemHeight}px`,2===this._state||1===this._state)p=d.itemHeight+d.borderHeight,R=d.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new st.Ro(R,p),this._contentWidget.setPreference(2);else{const j=s.width-d.borderHeight-2*d.horizontalPadding;R>j&&(R=j);const z=this._completionModel?this._completionModel.stats.pLabelLen*d.typicalHalfwidthCharacterWidth:R,ne=d.statusBarHeight+this._list.contentHeight+d.borderHeight,Se=d.itemHeight+d.statusBarHeight,Me=st.i(this.editor.getDomNode()),Ge=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Ft=Math.min(s.height-(Me.top+Ge.top+Ge.height)-d.verticalPadding,ne),Ot=Me.top+Ge.top-d.verticalPadding,qt=Math.min(Ot,ne);let nn=Math.min(Math.max(qt,Ft)+d.borderHeight,ne);p===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(p=this._cappedHeight.wanted),p<Se&&(p=Se),p>nn&&(p=nn);const Bn=150;p>Ft||this._forceRenderingAbove&&Ot>Bn?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),nn=qt):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),nn=Ft),this.element.preferredSize=new st.Ro(z,d.defaultSize.height),this.element.maxSize=new st.Ro(j,nn),this.element.minSize=new st.Ro(220,Se),this._cappedHeight=p===ne?{wanted:null!==(o=null===(n=this._cappedHeight)||void 0===n?void 0:n.wanted)&&void 0!==o?o:e.height,capped:p}:void 0}this._resize(R,p)}_resize(e,t){const{width:n,height:o}=this.element.maxSize;e=Math.min(n,e),t=Math.min(o,t);const{statusBarHeight:s}=this.getLayoutInfo();this._list.layout(t-s,e),this._listElement.style.height=t-s+"px",this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(e=this._contentWidget.getPosition())||void 0===e?void 0:e.preference[0]))}getLayoutInfo(){const e=this.editor.getOption(44),t=(0,LL.uZ)(this.editor.getOption(108)||e.lineHeight,8,1e3),n=this.editor.getOption(106).showStatusBar&&2!==this._state&&1!==this._state?t:0,o=this._details.widget.borderWidth,s=2*o;return{itemHeight:t,statusBarHeight:n,borderWidth:o,borderHeight:s,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new st.Ro(430,n+12*t+s)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};tg.LOADING_MESSAGE=Ee.N("suggestWidget.loading","Loading..."),tg.NO_SUGGESTIONS_MESSAGE=Ee.N("suggestWidget.noSuggestions","No suggestions."),tg=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([tp(1,Hr.Uy),tp(2,$t.i6),tp(3,r.XE),tp(4,oo.TG)],tg);class C2{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:n,horizontalPadding:o}=this._widget.getLayoutInfo();return new st.Ro(t+2*n+o,e+2*n)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var fh=function(a,e){return function(t,n){e(t,n,a)}};class w2{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){const o=e.getOffsetAt(t),s=e.getPositionAt(o+1);this._marker=e.deltaDecorations([],[{range:kt.e.fromPositions(t,s),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let xa=class pw{constructor(e,t,n,o,s,d,p){this._memoryService=t,this._commandService=n,this._contextKeyService=o,this._instantiationService=s,this._logService=d,this._telemetryService=p,this._lineSuffix=new Pt.XK,this._toDispose=new Pt.SL,this._selectors=new y2(ne=>ne.priority),this._telemetryGate=0,this.editor=e,this.model=s.createInstance(__,this.editor);const R=qi.InsertMode.bindTo(o);R.set(e.getOption(106).insertMode),this.model.onDidTrigger(()=>R.set(e.getOption(106).insertMode)),this.widget=this._toDispose.add(new Wn.Ue(()=>{const ne=this._instantiationService.createInstance(tg,this.editor);this._toDispose.add(ne),this._toDispose.add(ne.onDidSelect(Ft=>this._insertSuggestion(Ft,0),this));const Se=new pL(this.editor,ne,Ft=>this._insertSuggestion(Ft,2));this._toDispose.add(Se),this._toDispose.add(this.model.onDidSuggest(Ft=>{0===Ft.completionModel.items.length&&Se.reset()}));const Me=qi.MakesTextEdit.bindTo(this._contextKeyService),Ge=qi.HasInsertAndReplaceRange.bindTo(this._contextKeyService),dt=qi.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,Pt.OF)(()=>{Me.reset(),Ge.reset(),dt.reset()})),this._toDispose.add(ne.onDidFocus(({item:Ft})=>{const Ot=this.editor.getPosition(),qt=Ft.editStart.column,nn=Ot.column;let Bn=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!Ft.completion.additionalTextEdits&&!(4&Ft.completion.insertTextRules)&&nn-qt===Ft.completion.insertText.length&&(Bn=this.editor.getModel().getValueInRange({startLineNumber:Ot.lineNumber,startColumn:qt,endLineNumber:Ot.lineNumber,endColumn:nn})!==Ft.completion.insertText),Me.set(Bn),Ge.set(!hi.L.equals(Ft.editInsertEnd,Ft.editReplaceEnd)),dt.set(Boolean(Ft.provider.resolveCompletionItem)||Boolean(Ft.completion.documentation)||Ft.completion.detail!==Ft.completion.label)})),this._toDispose.add(ne.onDetailsKeyDown(Ft=>{Ft.toKeybinding().equals(new bb.QC(!0,!1,!1,!1,33))||mt.dz&&Ft.toKeybinding().equals(new bb.QC(!1,!1,!1,!0,33))?Ft.stopPropagation():Ft.toKeybinding().isModifierKey()||this.editor.focus()})),ne})),this._overtypingCapturer=this._toDispose.add(new Wn.Ue(()=>this._toDispose.add(new SL(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Wn.Ue(()=>this._toDispose.add(new Zd(this.editor,this._contextKeyService)))),this._toDispose.add(s.createInstance(qf,e)),this._toDispose.add(this.model.onDidTrigger(ne=>{this.widget.value.showTriggered(ne.auto,ne.shy?250:50),this._lineSuffix.value=new w2(this.editor.getModel(),ne.position)})),this._toDispose.add(this.model.onDidSuggest(ne=>{if(!ne.shy){let Se=-1;for(const Me of this._selectors.itemsOrderedByPriorityDesc)if(Se=Me.select(this.editor.getModel(),this.editor.getPosition(),ne.completionModel.items),-1!==Se)break;-1===Se&&(Se=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ne.completionModel.items)),this.widget.value.showSuggestions(ne.completionModel,Se,ne.isFrozen,ne.auto)}})),this._toDispose.add(this.model.onDidCancel(ne=>{ne.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let j=qi.AcceptSuggestionsOnEnter.bindTo(o),z=()=>{const ne=this.editor.getOption(1);j.set("on"===ne||"smart"===ne)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>z())),z()}static get(e){return e.getContribution(pw.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const n=Ts.get(this.editor);if(!n)return;const o=this.editor.getModel(),s=o.getAlternativeVersionId(),{item:d}=e,p=[],R=new ti.A;1&t||this.editor.pushUndoStop();const j=this.getOverwriteInfo(d,Boolean(8&t));if(this._memoryService.memorize(o,this.editor.getPosition(),d),Array.isArray(d.completion.additionalTextEdits)){const ne=Mc.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",d.completion.additionalTextEdits.map(Se=>ss.h.replace(kt.e.lift(Se.range),Se.text))),ne.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!d.isResolved){const ne=new pa.G(!0);let Se;const Me=o.onDidChangeContent(Ot=>{if(Ot.isFlush)return R.cancel(),void Me.dispose();for(let qt of Ot.changes){const nn=kt.e.getEndPosition(qt.range);(!Se||hi.L.isBefore(nn,Se))&&(Se=nn)}});let Ge=t;t|=2;let dt=!1,Ft=this.editor.onWillType(()=>{Ft.dispose(),dt=!0,2&Ge||this.editor.pushUndoStop()});p.push(d.resolve(R.token).then(()=>{if(!d.completion.additionalTextEdits||R.token.isCancellationRequested||Se&&d.completion.additionalTextEdits.some(qt=>hi.L.isBefore(Se,kt.e.getStartPosition(qt.range))))return!1;dt&&this.editor.pushUndoStop();const Ot=Mc.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",d.completion.additionalTextEdits.map(qt=>ss.h.replace(kt.e.lift(qt.range),qt.text))),Ot.restoreRelativeVerticalPositionOfCursor(this.editor),(dt||!(2&Ge))&&this.editor.pushUndoStop(),!0}).then(Ot=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",ne.elapsed(),Ot),Me.dispose(),Ft.dispose()}))}let{insertText:z}=d.completion;4&d.completion.insertTextRules||(z=Sm.escape(z)),n.insert(z,{overwriteBefore:j.overwriteBefore,overwriteAfter:j.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&d.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),d.completion.command?d.completion.command.id===Eb.id?this.model.trigger({auto:!0,shy:!1},!0):(p.push(this._commandService.executeCommand(d.completion.command.id,...d.completion.command.arguments?[...d.completion.command.arguments]:[]).catch(Un.dL)),this.model.cancel()):this.model.cancel(),4&t&&this._alternatives.value.set(e,ne=>{for(R.cancel();o.canUndo();){s!==o.getAlternativeVersionId()&&o.undo(),this._insertSuggestion(ne,3|(8&t?8:0));break}}),this._alertCompletionItem(d),Promise.all(p).finally(()=>{this._reportSuggestionAcceptedTelemetry(o,e),this.model.clear(),R.dispose()})}_reportSuggestionAcceptedTelemetry(e,t){var n;if(this._telemetryGate++%100!=0)return;const o=(null!==(n=t.item.provider._debugDisplayName)&&void 0!==n?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:o,basenameHash:(0,Bl.vp)((0,Mo.EZ)(e.uri)).toString(16),languageId:e.getLanguageId(),fileExtension:(0,Mo.DZ)(e.uri)})}getOverwriteInfo(e,t){(0,Gi.p_)(this.editor.hasModel());let n="replace"===this.editor.getOption(106).insertMode;t&&(n=!n);const s=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:e.position.column-e.editStart.column+(this.editor.getPosition().column-e.position.column),overwriteAfter:s+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(e){if((0,Wi.Of)(e.completion.additionalTextEdits)){let t=Ee.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,Ms.Z9)(t)}}triggerSuggest(e,t){this.editor.hasModel()&&(this.model.trigger({auto:t??!1,shy:!1},!1,e),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),n=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},o=s=>{if(4&s.completion.insertTextRules||s.completion.additionalTextEdits)return!0;const d=this.editor.getPosition(),p=s.editStart.column,R=d.column;return R-p!==s.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:d.lineNumber,startColumn:p,endLineNumber:d.lineNumber,endColumn:R})!==s.completion.insertText};Rn.ju.once(this.model.onDidTrigger)(s=>{let d=[];Rn.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,Pt.B9)(d),n()},void 0,d),this.model.onDidSuggest(({completionModel:p})=>{if((0,Pt.B9)(d),0===p.items.length)return void n();const R=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),p.items),j=p.items[R];o(j)?(this.editor.pushUndoStop(),this._insertSuggestion({index:R,item:j,model:p},7)):n()},void 0,d)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const n=this.widget.value.getFocusedItem();let o=0;e&&(o|=4),t&&(o|=8),this._insertSuggestion(n,o)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};xa.ID="editor.contrib.suggestController",xa=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([fh(1,Sb),fh(2,ro.Hy),fh(3,$t.i6),fh(4,oo.TG),fh(5,Jm.VZ),fh(6,qr.b)],xa);class y2{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(-1!==this._items.indexOf(e))throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,n)=>this.prioritySelector(n)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}let Eb=(()=>{class a extends Xe.R6{constructor(){super({id:a.id,label:Ee.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:$t.Ao.and(vt.u.writable,vt.u.hasCompletionItemProvider),kbOpts:{kbExpr:vt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(t,n,o){const s=xa.get(n);if(!s)return;let d;o&&"object"==typeof o&&!0===o.auto&&(d=!0),s.triggerSuggest(void 0,d)}}return a.id="editor.action.triggerSuggest",a})();(0,Xe._K)(xa.ID,xa),(0,Xe.Qr)(Eb);const sa=190,kr=Xe._l.bindToContribution(xa.get);(0,Xe.fK)(new kr({id:"acceptSelectedSuggestion",precondition:qi.Visible,handler(a){a.acceptSelectedSuggestion(!0,!1)}})),Dr.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:$t.Ao.and(qi.Visible,vt.u.textInputFocus),primary:2,weight:sa}),Dr.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:$t.Ao.and(qi.Visible,vt.u.textInputFocus,qi.AcceptSuggestionsOnEnter,qi.MakesTextEdit),primary:3,weight:sa}),Hn.BH.appendMenuItem(Oc,{command:{id:"acceptSelectedSuggestion",title:Ee.N("accept.insert","Insert")},group:"left",order:1,when:qi.HasInsertAndReplaceRange.toNegated()}),Hn.BH.appendMenuItem(Oc,{command:{id:"acceptSelectedSuggestion",title:Ee.N("accept.insert","Insert")},group:"left",order:1,when:$t.Ao.and(qi.HasInsertAndReplaceRange,qi.InsertMode.isEqualTo("insert"))}),Hn.BH.appendMenuItem(Oc,{command:{id:"acceptSelectedSuggestion",title:Ee.N("accept.replace","Replace")},group:"left",order:1,when:$t.Ao.and(qi.HasInsertAndReplaceRange,qi.InsertMode.isEqualTo("replace"))}),(0,Xe.fK)(new kr({id:"acceptAlternativeSelectedSuggestion",precondition:$t.Ao.and(qi.Visible,vt.u.textInputFocus),kbOpts:{weight:sa,kbExpr:vt.u.textInputFocus,primary:1027,secondary:[1026]},handler(a){a.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Oc,group:"left",order:2,when:$t.Ao.and(qi.HasInsertAndReplaceRange,qi.InsertMode.isEqualTo("insert")),title:Ee.N("accept.replace","Replace")},{menuId:Oc,group:"left",order:2,when:$t.Ao.and(qi.HasInsertAndReplaceRange,qi.InsertMode.isEqualTo("replace")),title:Ee.N("accept.insert","Insert")}]})),ro.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,Xe.fK)(new kr({id:"hideSuggestWidget",precondition:qi.Visible,handler:a=>a.cancelSuggestWidget(),kbOpts:{weight:sa,kbExpr:vt.u.textInputFocus,primary:9,secondary:[1033]}})),(0,Xe.fK)(new kr({id:"selectNextSuggestion",precondition:$t.Ao.and(qi.Visible,qi.MultipleSuggestions),handler:a=>a.selectNextSuggestion(),kbOpts:{weight:sa,kbExpr:vt.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,Xe.fK)(new kr({id:"selectNextPageSuggestion",precondition:$t.Ao.and(qi.Visible,qi.MultipleSuggestions),handler:a=>a.selectNextPageSuggestion(),kbOpts:{weight:sa,kbExpr:vt.u.textInputFocus,primary:12,secondary:[2060]}})),(0,Xe.fK)(new kr({id:"selectLastSuggestion",precondition:$t.Ao.and(qi.Visible,qi.MultipleSuggestions),handler:a=>a.selectLastSuggestion()})),(0,Xe.fK)(new kr({id:"selectPrevSuggestion",precondition:$t.Ao.and(qi.Visible,qi.MultipleSuggestions),handler:a=>a.selectPrevSuggestion(),kbOpts:{weight:sa,kbExpr:vt.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,Xe.fK)(new kr({id:"selectPrevPageSuggestion",precondition:$t.Ao.and(qi.Visible,qi.MultipleSuggestions),handler:a=>a.selectPrevPageSuggestion(),kbOpts:{weight:sa,kbExpr:vt.u.textInputFocus,primary:11,secondary:[2059]}})),(0,Xe.fK)(new kr({id:"selectFirstSuggestion",precondition:$t.Ao.and(qi.Visible,qi.MultipleSuggestions),handler:a=>a.selectFirstSuggestion()})),(0,Xe.fK)(new kr({id:"toggleSuggestionDetails",precondition:qi.Visible,handler:a=>a.toggleSuggestionDetails(),kbOpts:{weight:sa,kbExpr:vt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Oc,group:"right",order:1,when:$t.Ao.and(qi.DetailsVisible,qi.CanResolve),title:Ee.N("detail.more","show less")},{menuId:Oc,group:"right",order:1,when:$t.Ao.and(qi.DetailsVisible.toNegated(),qi.CanResolve),title:Ee.N("detail.less","show more")}]})),(0,Xe.fK)(new kr({id:"toggleExplainMode",precondition:qi.Visible,handler:a=>a.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,Xe.fK)(new kr({id:"toggleSuggestionFocus",precondition:qi.Visible,handler:a=>a.toggleSuggestionFocus(),kbOpts:{weight:sa,kbExpr:vt.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,Xe.fK)(new kr({id:"insertBestCompletion",precondition:$t.Ao.and(vt.u.textInputFocus,$t.Ao.equals("config.editor.tabCompletion","on"),qf.AtEnd,qi.Visible.toNegated(),Zd.OtherSuggestions.toNegated(),Ts.InSnippetMode.toNegated()),handler:(a,e)=>{a.triggerSuggestAndAcceptBest((0,Gi.Kn)(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:sa,primary:2}})),(0,Xe.fK)(new kr({id:"insertNextSuggestion",precondition:$t.Ao.and(vt.u.textInputFocus,$t.Ao.equals("config.editor.tabCompletion","on"),Zd.OtherSuggestions,qi.Visible.toNegated(),Ts.InSnippetMode.toNegated()),handler:a=>a.acceptNextSuggestion(),kbOpts:{weight:sa,kbExpr:vt.u.textInputFocus,primary:2}})),(0,Xe.fK)(new kr({id:"insertPrevSuggestion",precondition:$t.Ao.and(vt.u.textInputFocus,$t.Ao.equals("config.editor.tabCompletion","on"),Zd.OtherSuggestions,qi.Visible.toNegated(),Ts.InSnippetMode.toNegated()),handler:a=>a.acceptPrevSuggestion(),kbOpts:{weight:sa,kbExpr:vt.u.textInputFocus,primary:1026}})),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:Ee.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(a,e){var t;null===(t=xa.get(e))||void 0===t||t.resetWidgetSize()}});class S2 extends Pt.JT{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new Rn.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new Wn.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(o=>{o.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(o=>{o.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const n=xa.get(this.editor);if(n){this._register(n.registerSelector({priority:100,select:(d,p,R)=>{const j=this.editor.getModel(),z=Ym(j,this.suggestControllerPreselector());if(!z)return-1;const ne=hi.L.lift(p),Se=R.map((Ge,dt)=>{const Ft=Mb(n,ne,Ge,this.isShiftKeyPressed),Ot=Ym(j,null==Ft?void 0:Ft.normalizedInlineCompletion);if(!Ot)return;const qt=function(a,e){return e.startLineNumber===a.startLineNumber&&e.startColumn===a.startColumn&&(e.endLineNumber<a.endLineNumber||e.endLineNumber===a.endLineNumber&&e.endColumn<=a.endColumn)}(z.range,Ot.range)&&z.text.startsWith(Ot.text);return{index:dt,valid:qt,prefixLength:Ot.text.length,suggestItem:Ge}}).filter(Ge=>Ge&&Ge.valid),Me=(0,Wi.Dc)(Se,(0,Wi.tT)(Ge=>Ge.prefixLength,Wi.fv));return Me?Me.index:-1}}));let o=!1;const s=()=>{o||(o=!0,this._register(n.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(n.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(n.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(Rn.ju.once(n.model.onDidTrigger)(d=>{s()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){const t=this.getSuggestItemInfo();let n=!1;(function(a,e){return a===e||!(!a||!e)&&a.completionItemKind===e.completionItemKind&&a.isSnippetText===e.isSnippetText&&function(a,e){return a===e||!(!a||!e)&&a.range.equalsRange(e.range)&&a.text===e.text&&a.command===e.command}(a.normalizedInlineCompletion,e.normalizedInlineCompletion)})(this._currentSuggestItemInfo,t)||(this._currentSuggestItemInfo=t,n=!0),this._isActive!==e&&(this._isActive=e,n=!0),n&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const e=xa.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();return t?Mb(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const e=xa.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=xa.get(this.editor);e&&e.forceRenderingAbove()}}function Mb(a,e,t,n){if(Array.isArray(t.completion.additionalTextEdits)&&t.completion.additionalTextEdits.length>0)return{completionItemKind:t.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:kt.e.fromPositions(e,e),text:""}};let{insertText:o}=t.completion,s=!1;if(4&t.completion.insertTextRules){const p=(new Sm).parse(o),R=a.editor.getModel();if(p.children.length>100)return;_l.adjustWhitespace(R,e,p,!0,!0),o=p.toString(),s=!0}const d=a.getOverwriteInfo(t,n);return{isSnippetText:s,completionItemKind:t.completion.kind,normalizedInlineCompletion:{text:o,range:kt.e.fromPositions(e.delta(0,-d.overwriteBefore),e.delta(0,Math.max(d.overwriteAfter,0)))}}}var Nb=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};let E_=class extends gb{constructor(e,t,n){super(e),this.cache=t,this.languageFeaturesService=n,this.suggestionInlineCompletionSource=this._register(new S2(this.editor,()=>{var o,s;return null===(s=null===(o=this.cache.value)||void 0===o?void 0:o.completions[0])||void 0===s?void 0:s.toLiveInlineCompletion()})),this.updateOperation=this._register(new Pt.XK),this.updateCacheSoon=this._register(new Wn.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const s=this.ghostText;s&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,function(a){return a.reduce((e,t)=>e+t,0)}(s.parts.map(d=>d.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(o=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,Pt.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return Nb(this,void 0,void 0,function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;const t={text:e.selectedItem.normalizedInlineCompletion.text,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},n=this.editor.getPosition(),o=(0,Wn.PG)(d=>Nb(this,void 0,void 0,function*(){let p;try{p=yield _b(this.languageFeaturesService.inlineCompletionsProvider,n,this.editor.getModel(),{triggerKind:eo.bw.Automatic,selectedSuggestionInfo:t},d)}catch(R){return void(0,Un.dL)(R)}d.isCancellationRequested||(this.cache.setValue(this.editor,p,eo.bw.Automatic),this.onDidChangeEmitter.fire())})),s=new pb(o,eo.bw.Automatic);this.updateOperation.value=s,yield o,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var e,t,n;const o=this.isSuggestionPreviewEnabled(),s=Ym(this.editor.getModel(),null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()),d=this.suggestionInlineCompletionSource.state,p=Ym(this.editor.getModel(),null===(n=null==d?void 0:d.selectedItem)||void 0===n?void 0:n.normalizedInlineCompletion),R=s&&p&&s.text.startsWith(p.text)&&s.range.equalsRange(p.range);if(!o&&!R)return;const j=R?s:p||s;return this.toGhostText(j,R?j.text.length-p.text.length:0)}toGhostText(e,t){const n=this.editor.getOptions().get(106).previewMode;return e?mb(e,this.editor.getModel(),n,this.editor.getPosition(),t)||new hb(e.range.endLineNumber,[],this.minReservedLineCount):void 0}};E_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,2)}}(0,$n.p)],E_);class P2 extends Pt.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new Rn.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new Pt.XK)}get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?function(a,e){return{object:a,dispose:()=>null==e?void 0:e.dispose()}}(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let M_=class extends P2{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.sharedCache=this._register(new O2),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(E_,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(f_,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const n=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!n&&n.parts.some(o=>e.containsPosition(new hi.L(n.lineNumber,o.column)))}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger(eo.bw.Explicit)}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}hasMultipleInlineCompletions(){var e;return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){const t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t})}};M_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,1)}}(0,oo.TG)],M_);class O2 extends Pt.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new Rn.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new Pt.XK)}get value(){return this.cache.value}setValue(e,t,n){this.cache.value=new Yx(e,t,()=>this.onDidChangeEmitter.fire(),n)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}m(4946);var N_,A2=m(5928),R2=m(53269),Ib=m(82287),kb=m(19362),Tb=function(a,e){return function(t,n){e(t,n,a)}};const Pb=null===(N_=window.trustedTypes)||void 0===N_?void 0:N_.createPolicy("editorGhostText",{createHTML:a=>a});let I_=class extends Pt.JT{constructor(e,t,n,o){super(),this.editor=e,this.model=t,this.instantiationService=n,this.languageService=o,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(B2,this.editor)),this.additionalLinesWidget=this._register(new W2(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(s=>{(s.hasChanged(29)||s.hasChanged(105)||s.hasChanged(88)||s.hasChanged(83)||s.hasChanged(45)||s.hasChanged(44)||s.hasChanged(59))&&this.update()})),this._register((0,Pt.OF)(()=>{var s;this.disposed=!0,this.update(),null===(s=this.viewMoreContentWidget)||void 0===s||s.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const n=new Array,o=new Array;function s(j,z){if(o.length>0){const ne=o[o.length-1];z&&ne.decorations.push(new Ib.Kp(ne.content.length+1,ne.content.length+1+j[0].length,z,0)),ne.content+=j[0],j=j.slice(1)}for(const ne of j)o.push({content:ne,decorations:z?[new Ib.Kp(1,ne.length+1,z,0)]:[]})}const d=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let p,R=0;for(const j of t.parts){let z=j.lines;void 0===p?(n.push({column:j.column,text:z[0],preview:j.preview}),z=z.slice(1)):s([d.substring(R,j.column-1)],void 0),z.length>0&&(s(z,"ghost-text"),void 0===p&&j.column<=d.length&&(p=j.column)),R=j.column-1}void 0!==p&&s([d.substring(R)],void 0),this.partsWidget.setParts(t.lineNumber,n,void 0!==p?{column:p,length:d.length+1-p}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,o,t.additionalReservedLineCount),t.parts.some(j=>j.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new hi.L(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,n){const o=this.editor.getOption(44),s=document.createElement("div");s.className="suggest-preview-additional-widget",(0,H0.N)(s,o);const d=document.createElement("span");d.className="content-spacer",d.append(t),s.append(d);const p=document.createElement("span");p.className="content-newline suggest-preview-text",p.append("\u23ce  "),s.append(p);const R=new Pt.SL,j=document.createElement("div");return j.className="button suggest-preview-text",j.append(`+${n} lines\u2026`),R.add(st.mu(j,"mousedown",z=>{var ne;null===(ne=this.model)||void 0===ne||ne.setExpanded(!0),z.preventDefault(),this.editor.focus()})),s.append(j),new H2(this.editor,e,s,R)}};I_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Tb(2,oo.TG),Tb(3,Ur.O)],I_);class B2{constructor(e){this.editor=e,this.decorationIds=[],this.disposableStore=new Pt.SL}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,n){if(this.disposableStore.clear(),!this.editor.getModel())return;const s=new Array;n&&s.push({range:kt.e.fromPositions(new hi.L(e,n.column),new hi.L(e,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(d=>({range:kt.e.fromPositions(new hi.L(e,d.column)),options:{description:"ghost-text",after:{content:d.text,inlineClassName:d.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(s))}}class W2{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,n){const o=this.editor.getModel();if(!o)return;const{tabSize:s}=o.getOptions();this.editor.changeViewZones(d=>{this._viewZoneId&&(d.removeZone(this._viewZoneId),this._viewZoneId=void 0);const p=Math.max(t.length,n);if(p>0){const R=document.createElement("div");(function(a,e,t,n,o){const s=n.get(29),d=n.get(105),R=n.get(83),j=n.get(45),z=n.get(44),ne=n.get(59),Se=(0,R2.l$)(1e4);Se.appendASCIIString('<div class="suggest-preview-text">');for(let dt=0,Ft=t.length;dt<Ft;dt++){const Ot=t[dt],qt=Ot.content;Se.appendASCIIString('<div class="view-line'),Se.appendASCIIString('" style="top:'),Se.appendASCIIString(String(dt*ne)),Se.appendASCIIString('px;width:1000000px;">');const nn=An.$i(qt),Bn=An.Ut(qt),Tn=A2.A.createEmpty(qt,o);(0,kb.d1)(new kb.IJ(z.isMonospace&&!s,z.canUseHalfwidthRightwardsArrow,qt,!1,nn,Bn,0,Tn,Ot.decorations,e,0,z.spaceWidth,z.middotWidth,z.wsmiddotWidth,d,"none",R,j!==hs.n0.OFF,null),Se),Se.appendASCIIString("</div>")}Se.appendASCIIString("</div>"),(0,H0.N)(a,z);const Me=Se.build(),Ge=Pb?Pb.createHTML(Me):Me;a.innerHTML=Ge})(R,s,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=d.addZone({afterLineNumber:e,heightInLines:p,domNode:R,afterColumnAffinity:1})}})}}class H2 extends Pt.JT{constructor(e,t,n,o){super(),this.editor=e,this.position=t,this.domNode=n,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(o),this._register((0,Pt.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,r.Ic)((a,e)=>{const t=a.getColor(Yr.N5);t&&(e.addRule(`.monaco-editor .ghost-text-decoration { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${t.toString()} !important; }`));const n=a.getColor(Yr.IO);n&&(e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${n.toString()}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${n.toString()}; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${n.toString()}; }`));const o=a.getColor(Yr.x3);o&&(e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${o}; }`),e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${o}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${o}; }`))});var Ob=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},k_=function(a,e){return function(t,n){e(t,n,a)}},np=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};let gs=class _w extends Pt.JT{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new Pt.XK),this.activeModelDidChangeEmitter=this._register(new Rn.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(n=>{n.hasChanged(106)&&this.updateModelController(),n.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(e){return e.getContribution(_w.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){const e=this.editor.getOption(106),t=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(T_,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,n;return(null===(n=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===n?void 0:n.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return np(this,void 0,void 0,function*(){const t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t})}};gs.inlineSuggestionVisible=new $t.uy("inlineSuggestionVisible",!1,Ee.N("inlineSuggestionVisible","Whether an inline suggestion is visible")),gs.inlineSuggestionHasIndentation=new $t.uy("inlineSuggestionHasIndentation",!1,Ee.N("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),gs.inlineSuggestionHasIndentationLessThanTabSize=new $t.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,Ee.N("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),gs.ID="editor.contrib.ghostTextController",gs=Ob([k_(1,oo.TG)],gs);class z2{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=gs.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=gs.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=gs.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let T_=class extends Pt.JT{constructor(e,t,n){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=n,this.contextKeys=new z2(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(M_,this.editor)),this.widget=this._register(this.instantiationService.createInstance(I_,this.editor,this.model)),this._register((0,Pt.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));let t=!1,n=!0;const o=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&o&&o.parts.length>0){const{column:s,lines:d}=o.parts[0],p=d[0];if(s<=this.editor.getModel().getLineIndentColumn(o.lineNumber)){let z=(0,An.LC)(p);-1===z&&(z=p.length-1),t=z>0;const ne=this.editor.getModel().getOptions().tabSize;n=Ax.i.visibleColumnFromColumn(p,z+1,ne)<ne}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}};T_=Ob([k_(1,oo.TG),k_(2,$t.i6)],T_);const Ab=Xe._l.bindToContribution(gs.get),ng=new Ab({id:ub,precondition:gs.inlineSuggestionVisible,handler(a){a.commit(),a.editor.focus()}});(0,Xe.fK)(ng),Dr.W.registerKeybindingRule({primary:2,weight:200,id:ng.id,when:$t.Ao.and(ng.precondition,vt.u.tabMovesFocus.toNegated(),gs.inlineSuggestionHasIndentationLessThanTabSize)}),(0,Xe.fK)(new Ab({id:"editor.action.inlineSuggest.hide",precondition:gs.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(a){a.hide()}}));let P_=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:$t.Ao.and(vt.u.writable,gs.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(t,n){return np(this,void 0,void 0,function*(){const o=gs.get(n);o&&(o.showNextInlineCompletion(),n.focus())})}}return a.ID="editor.action.inlineSuggest.showNext",a})(),O_=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:$t.Ao.and(vt.u.writable,gs.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(t,n){return np(this,void 0,void 0,function*(){const o=gs.get(n);o&&(o.showPreviousInlineCompletion(),n.focus())})}}return a.ID="editor.action.inlineSuggest.showPrevious",a})();var gh=function(a,e){return function(t,n){e(t,n,a)}};class K2{constructor(e,t,n){this.owner=e,this.range=t,this.controller=n}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let A_=class{constructor(e,t,n,o,s,d,p){this._editor=e,this._commandService=t,this._menuService=n,this._contextKeyService=o,this._languageService=s,this._openerService=d,this.accessibilityService=p,this.hoverOrdinal=3}suggestHoverAnchor(e){const t=gs.get(this._editor);if(!t)return null;const n=e.target;if(8===n.type){const o=n.detail;if(t.shouldShowHoverAtViewZone(o.viewZoneId))return new wm(1e3,this,kt.e.fromPositions(o.positionBefore||o.position,o.positionBefore||o.position))}return 7===n.type&&t.shouldShowHoverAt(n.range)||6===n.type&&n.detail.mightBeForeignElement&&t.shouldShowHoverAt(n.range)?new wm(1e3,this,n.range):null}computeSync(e,t){const n=gs.get(this._editor);return n&&n.shouldShowHoverAt(e.range)?[new K2(this,e.range,n)]:[]}renderHoverParts(e,t){const n=new Pt.SL,o=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,o,n);const s=n.add(this._menuService.createMenu(Hn.eH.InlineCompletionsActions,this._contextKeyService)),d=e.statusBar.addAction({label:Ee.N("showNextInlineSuggestion","Next"),commandId:P_.ID,run:()=>this._commandService.executeCommand(P_.ID)}),p=e.statusBar.addAction({label:Ee.N("showPreviousInlineSuggestion","Previous"),commandId:O_.ID,run:()=>this._commandService.executeCommand(O_.ID)});e.statusBar.addAction({label:Ee.N("acceptInlineSuggestion","Accept"),commandId:ng.id,run:()=>this._commandService.executeCommand(ng.id)});const R=[d,p];for(const j of R)j.setEnabled(!1);o.hasMultipleSuggestions().then(j=>{for(const z of R)z.setEnabled(j)});for(const[j,z]of s.getActions())for(const ne of z)ne instanceof Hn.U8&&e.statusBar.addAction({label:ne.label,commandId:ne.item.id,run:()=>this._commandService.executeCommand(ne.item.id)});return n}renderScreenReaderText(e,t,n){var o,s;const d=st.$,p=d("div.hover-row.markdown-hover"),R=st.R3(p,d("div.hover-contents")),j=n.add(new Gl({editor:this._editor},this._languageService,this._openerService)),ne=null===(s=null===(o=t.controller.activeModel)||void 0===o?void 0:o.inlineCompletionsModel)||void 0===s?void 0:s.ghostText;if(ne){const Se=this._editor.getModel().getLineContent(ne.lineNumber);(Se=>{n.add(j.onDidRenderAsync(()=>{R.className="hover-contents code-hover-contents",e.onContentsChanged()}));const Me=Ee.N("inlineSuggestionFollows","Suggestion:"),Ge=n.add(j.render((new Oo.W5).appendText(Me).appendCodeblock("text",Se)));R.replaceChildren(Ge.element)})(ne.renderForScreenReader(Se))}e.fragment.appendChild(p)}};A_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([gh(1,ro.Hy),gh(2,Hn.co),gh(3,$t.i6),gh(4,Ur.O),gh(5,oa.v4),gh(6,Ic.F)],A_),(0,Xe._K)(gs.ID,gs),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Ee.N("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:vt.u.writable})}run(e,t){return np(this,void 0,void 0,function*(){const n=gs.get(t);n&&n.trigger()})}}),(0,Xe.Qr)(P_),(0,Xe.Qr)(O_),Vd.register(A_);var mh=m(51788);function Tr(a,e){let t=0;for(let n=0;n<a.length;n++)"\t"===a.charAt(n)?t+=e:t++;return t}function ig(a,e,t){a=a<0?0:a;let n="";if(!t){let o=Math.floor(a/e);a%=e;for(let s=0;s<o;s++)n+="\t"}for(let o=0;o<a;o++)n+=" ";return n}var Rb=m(66200);function Fb(a,e,t,n,o){if(1===a.getLineCount()&&1===a.getLineMaxColumn(1))return[];const s=e.getLanguageConfiguration(a.getLanguageId()).indentationRules;if(!s)return[];for(n=Math.min(n,a.getLineCount());t<=n&&s.unIndentedLinePattern;){let Ft=a.getLineContent(t);if(!s.unIndentedLinePattern.test(Ft))break;t++}if(t>n-1)return[];const{tabSize:d,indentSize:p,insertSpaces:R}=a.getOptions(),j=(Ft,Ot)=>mh.U.shiftIndent(Ft,Ft.length+(Ot=Ot||1),d,p,R),z=(Ft,Ot)=>mh.U.unshiftIndent(Ft,Ft.length+(Ot=Ot||1),d,p,R);let Se,ne=[],Me=a.getLineContent(t),Ge=Me;if(null!=o){Se=o;let Ft=An.V8(Me);Ge=Se+Me.substring(Ft.length),s.decreaseIndentPattern&&s.decreaseIndentPattern.test(Ge)&&(Se=z(Se),Ge=Se+Me.substring(Ft.length)),Me!==Ge&&ne.push(ss.h.replaceMove(new mi.Y(t,1,t,Ft.length+1),(0,Rb.x)(Se,p,R)))}else Se=An.V8(Me);let dt=Se;s.increaseIndentPattern&&s.increaseIndentPattern.test(Ge)?(dt=j(dt),Se=j(Se)):s.indentNextLinePattern&&s.indentNextLinePattern.test(Ge)&&(dt=j(dt));for(let Ft=++t;Ft<=n;Ft++){let Ot=a.getLineContent(Ft),qt=An.V8(Ot),nn=dt+Ot.substring(qt.length);s.decreaseIndentPattern&&s.decreaseIndentPattern.test(nn)&&(dt=z(dt),Se=z(Se)),qt!==dt&&ne.push(ss.h.replaceMove(new mi.Y(Ft,1,Ft,qt.length+1),(0,Rb.x)(dt,p,R))),(!s.unIndentedLinePattern||!s.unIndentedLinePattern.test(Ot))&&(s.increaseIndentPattern&&s.increaseIndentPattern.test(nn)?(Se=j(Se),dt=Se):dt=s.indentNextLinePattern&&s.indentNextLinePattern.test(nn)?j(dt):Se)}return ne}let $2=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:vt.u.writable})}run(t,n){let o=n.getModel();if(!o)return;let s=o.getOptions(),d=n.getSelection();if(!d)return;const p=new eD(d,s.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[p]),n.pushUndoStop(),o.updateOptions({insertSpaces:!0})}}return a.ID="editor.action.indentationToSpaces",a})(),Z2=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:vt.u.writable})}run(t,n){let o=n.getModel();if(!o)return;let s=o.getOptions(),d=n.getSelection();if(!d)return;const p=new tD(d,s.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[p]),n.pushUndoStop(),o.updateOptions({insertSpaces:!1})}}return a.ID="editor.action.indentationToTabs",a})();class Bb extends Xe.R6{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const n=e.get(zr.eJ),o=e.get(Jr.q);let s=t.getModel();if(!s)return;const d=o.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget),p=[1,2,3,4,5,6,7,8].map(j=>({id:j.toString(),label:j.toString(),description:j===d.tabSize?Ee.N("configuredTabSize","Configured Tab Size"):void 0})),R=Math.min(s.getOptions().tabSize-1,7);setTimeout(()=>{n.pick(p,{placeHolder:Ee.N({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:p[R]}).then(j=>{j&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(j.label,10),insertSpaces:this.insertSpaces})})},50)}}let G2=(()=>{class a extends Bb{constructor(){super(!1,{id:a.ID,label:Ee.N("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return a.ID="editor.action.indentUsingTabs",a})(),Q2=(()=>{class a extends Bb{constructor(){super(!0,{id:a.ID,label:Ee.N("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return a.ID="editor.action.indentUsingSpaces",a})(),Y2=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(t,n){const o=t.get(Jr.q);let s=n.getModel();if(!s)return;const d=o.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget);s.detectIndentation(d.insertSpaces,d.tabSize)}}return a.ID="editor.action.detectIndentation",a})();class q2{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let n of e)n.range&&"string"==typeof n.text&&this._edits.push(n)}getEditOperations(e,t){for(let o of this._edits)t.addEditOperation(kt.e.lift(o.range),o.text);let n=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let Wb=(()=>{class a{constructor(t){this.callOnDispose=new Pt.SL,this.callOnModel=new Pt.SL,this.editor=t,this.callOnDispose.add(t.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(t.onDidChangeModel(()=>this.update())),this.callOnDispose.add(t.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:t})=>{this.trigger(t)})))}trigger(t){let n=this.editor.getSelections();if(null===n||n.length>1)return;const o=this.editor.getModel();if(!o||!o.isCheapToTokenize(t.getStartPosition().lineNumber))return;const s=this.editor.getOption(9),{tabSize:d,indentSize:p,insertSpaces:R}=o.getOptions();let j=[],z={shiftIndent:Ge=>mh.U.shiftIndent(Ge,Ge.length+1,d,p,R),unshiftIndent:Ge=>mh.U.unshiftIndent(Ge,Ge.length+1,d,p,R)},ne=t.startLineNumber;for(;ne<=t.endLineNumber&&this.shouldIgnoreLine(o,ne);)ne++;if(ne>t.endLineNumber)return;let Se=o.getLineContent(ne);if(!/\S/.test(Se.substring(0,t.startColumn-1))){const Ge=Yo.zu.getGoodIndentForLine(s,o,o.getLanguageId(),ne,z);if(null!==Ge){let dt=An.V8(Se),Ft=Tr(Ge,d);if(Ft!==Tr(dt,d)){let qt=ig(Ft,d,R);j.push({range:new kt.e(ne,1,ne,dt.length+1),text:qt}),Se=qt+Se.substr(dt.length)}else{let qt=Yo.zu.getIndentMetadata(o,ne);if(0===qt||8===qt)return}}}const Me=ne;for(;ne<t.endLineNumber&&!/\S/.test(o.getLineContent(ne+1));)ne++;if(ne!==t.endLineNumber){let dt=Yo.zu.getGoodIndentForLine(s,{getLineTokens:Ft=>o.getLineTokens(Ft),getLanguageId:()=>o.getLanguageId(),getLanguageIdAtPosition:(Ft,Ot)=>o.getLanguageIdAtPosition(Ft,Ot),getLineContent:Ft=>Ft===Me?Se:o.getLineContent(Ft)},o.getLanguageId(),ne+1,z);if(null!==dt){let Ft=Tr(dt,d),Ot=Tr(An.V8(o.getLineContent(ne+1)),d);if(Ft!==Ot){let qt=Ft-Ot;for(let nn=ne+1;nn<=t.endLineNumber;nn++){let Bn=o.getLineContent(nn),Tn=An.V8(Bn),ls=ig(Tr(Tn,d)+qt,d,R);ls!==Tn&&j.push({range:new kt.e(nn,1,nn,Tn.length+1),text:ls})}}}}if(j.length>0){this.editor.pushUndoStop();let Ge=new q2(j,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Ge),this.editor.pushUndoStop()}}shouldIgnoreLine(t,n){t.forceTokenization(n);let o=t.getLineFirstNonWhitespaceColumn(n);if(0===o)return!0;let s=t.getLineTokens(n);if(s.getCount()>0){let d=s.findTokenIndexAtOffset(o);if(d>=0&&1===s.getStandardTokenType(d))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}return a.ID="editor.contrib.autoIndentOnPaste",a})();function Vb(a,e,t,n){if(1===a.getLineCount()&&1===a.getLineMaxColumn(1))return;let o="";for(let d=0;d<t;d++)o+=" ";let s=new RegExp(o,"gi");for(let d=1,p=a.getLineCount();d<=p;d++){let R=a.getLineFirstNonWhitespaceColumn(d);if(0===R&&(R=a.getLineMaxColumn(d)),1===R)continue;const j=new kt.e(d,1,d,R),z=a.getValueInRange(j),ne=n?z.replace(/\t/gi,o):z.replace(s,"\t");e.addEditOperation(j,ne)}}class eD{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Vb(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class tD{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),Vb(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}(0,Xe._K)(Wb.ID,Wb),(0,Xe.Qr)($2),(0,Xe.Qr)(Z2),(0,Xe.Qr)(G2),(0,Xe.Qr)(Q2),(0,Xe.Qr)(Y2),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.reindentlines",label:Ee.N("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:vt.u.writable})}run(e,t){const n=e.get(Yo.c_);let o=t.getModel();if(!o)return;let s=Fb(o,n,1,o.getLineCount());s.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop())}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:Ee.N("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:vt.u.writable})}run(e,t){const n=e.get(Yo.c_);let o=t.getModel();if(!o)return;let s=t.getSelections();if(null===s)return;let d=[];for(let p of s){let R=p.startLineNumber,j=p.endLineNumber;if(R!==j&&1===p.endColumn&&j--,1===R){if(R===j)continue}else R--;let z=Fb(o,n,R,j);d.push(...z)}d.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,d),t.pushUndoStop())}});var ip=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};class Hb{constructor(e,t){this.range=e,this.direction=t}}class R_{constructor(e,t,n){this.hint=e,this.anchor=t,this.provider=n,this._isResolved=!1}with(e){const t=new R_(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return ip(this,void 0,void 0,function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve)return yield this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(e){var t,n;return ip(this,void 0,void 0,function*(){try{const o=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=null!==(t=null==o?void 0:o.tooltip)&&void 0!==t?t:this.hint.tooltip,this.hint.label=null!==(n=null==o?void 0:o.label)&&void 0!==n?n:this.hint.label,this._isResolved=!0}catch(o){(0,Un.Cp)(o),this._isResolved=!1}})}}class og{constructor(e,t,n){this._disposables=new Pt.SL,this.ranges=e,this.provider=new Set;const o=[];for(const[s,d]of t){this._disposables.add(s),this.provider.add(d);for(const p of s.hints){let R=n.validatePosition(p.position),j="before";const z=og._getRangeAtPosition(n,R);let ne;z.getStartPosition().isBefore(R)?(ne=kt.e.fromPositions(z.getStartPosition(),R),j="after"):(ne=kt.e.fromPositions(R,z.getEndPosition()),j="before"),o.push(new R_(p,new Hb(ne,j),d))}}this.items=o.sort((s,d)=>hi.L.compare(s.hint.position,d.hint.position))}static create(e,t,n,o){return ip(this,void 0,void 0,function*(){const s=[],d=e.ordered(t).reverse().map(p=>n.map(R=>ip(this,void 0,void 0,function*(){try{const j=yield p.provideInlayHints(t,R,o);(null==j?void 0:j.hints.length)&&s.push([j,p])}catch(j){(0,Un.Cp)(j)}})));if(yield Promise.all(d.flat()),o.isCancellationRequested||t.isDisposed())throw new Un.FU;return new og(n,s,t)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const n=t.lineNumber,o=e.getWordAtPosition(t);if(o)return new kt.e(n,o.startColumn,n,o.endColumn);e.tokenizeIfCheap(n);const s=e.getLineTokens(n),d=t.column-1,p=s.findTokenIndexAtOffset(d);let R=s.getStartOffset(p),j=s.getEndOffset(p);return j-R==1&&(R===d&&p>1?(R=s.getStartOffset(p-1),j=s.getEndOffset(p-1)):j===d&&p<s.getCount()-1&&(R=s.getStartOffset(p+1),j=s.getEndOffset(p+1))),new kt.e(n,R+1,n,j+1)}}var sg=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};function iD(a,e,t,n){var o;return sg(this,void 0,void 0,function*(){const s=a.get(ta.S),d=a.get(al.i),p=a.get(ro.Hy),R=a.get(oo.TG),j=a.get(Cs.lT);if(yield n.item.resolve(ti.T.None),!n.part.location)return;const z=n.part.location,ne=[],Se=new Set(Hn.BH.getMenuItems(Hn.eH.EditorContext).map(Ge=>(0,Hn.vr)(Ge)?Ge.command.id:""));for(const Ge of Xe.Uc.getEditorActions())Ge instanceof gn&&Se.has(Ge.id)&&ne.push(new Us.aU(Ge.id,Ge.label,void 0,!0,()=>sg(this,void 0,void 0,function*(){const dt=yield s.createModelReference(z.uri);try{yield R.invokeFunction(Ge.run.bind(Ge),e,new Jt(dt.object.textEditorModel,kt.e.getStartPosition(z.range)))}finally{dt.dispose()}})));if(n.part.command){const{command:Ge}=n.part;ne.push(new Us.Z0),ne.push(new Us.aU(Ge.id,Ge.title,void 0,!0,()=>sg(this,void 0,void 0,function*(){var dt;try{yield p.executeCommand(Ge.id,...null!==(dt=Ge.arguments)&&void 0!==dt?dt:[])}catch(Ft){j.notify({severity:Cs.zb.Error,source:n.item.provider.displayName,message:Ft})}})))}const Me=e.getOption(115);d.showContextMenu({domForShadowRoot:Me&&null!==(o=e.getDomNode())&&void 0!==o?o:void 0,getAnchor:()=>{const Ge=st.i(t);return{x:Ge.left,y:Ge.top+Ge.height+8}},getActions:()=>ne,onHide:()=>{e.focus()},autoSelectFirstItem:!0})})}function oD(a,e,t,n){return sg(this,void 0,void 0,function*(){const s=yield a.get(ta.S).createModelReference(n.uri);yield t.invokeWithinContext(d=>sg(this,void 0,void 0,function*(){const p=e.hasSideBySideModifier,R=d.get($t.i6),j=Ks.inPeekEditor.getValue(R),z=!p&&t.getOption(78)&&!j;return new Zn({openToSide:p,openInPeek:z,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(d,t,{model:s.object.textEditorModel,position:kt.e.getStartPosition(n.range)})})),s.dispose()})}var ph=function(a,e){return function(t,n){e(t,n,a)}},_h=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};class op{constructor(){this._entries=new Ns.z6(50)}get(e){const t=op._key(e);return this._entries.get(t)}set(e,t){const n=op._key(e);this._entries.set(n,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const zb=(0,oo.yh)("IInlayHintsCache");(0,Wl.z)(zb,op,!0);class F_{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return"string"==typeof e?{label:e}:e[this.index]}}class rD{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}let Yd=class N1{constructor(e,t,n,o,s,d,p){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=o,this._commandService=s,this._notificationService=d,this._instaService=p,this._disposables=new Pt.SL,this._sessionDisposables=new Pt.SL,this._decorationsMetadata=new Map,this._ruleFactory=new uf.t7(this._editor),this._debounceInfo=n.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(R=>{R.hasChanged(127)&&this._update()})),this._update()}static get(e){var t;return null!==(t=e.getContribution(N1.ID))&&void 0!==t?t:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(127).enabled)return;const e=this._editor.getModel();if(!e||!this._languageFeaturesService.inlayHintsProvider.has(e))return;const t=this._inlayHintsCache.get(e);t&&this._updateHintsDecorators([e.getFullModelRange()],t),this._sessionDisposables.add((0,Pt.OF)(()=>{e.isDisposed()||this._cacheHintsForFastRestore(e)}));let n,o=new Set;const s=new Wn.pY(()=>_h(this,void 0,void 0,function*(){const d=Date.now();null==n||n.dispose(!0),n=new ti.A;const p=e.onWillDispose(()=>null==n?void 0:n.cancel());try{const R=n.token,j=yield og.create(this._languageFeaturesService.inlayHintsProvider,e,this._getHintsRanges(),R);if(s.delay=this._debounceInfo.update(e,Date.now()-d),R.isCancellationRequested)return void j.dispose();for(const z of j.provider)"function"==typeof z.onDidChangeInlayHints&&!o.has(z)&&(o.add(z),this._sessionDisposables.add(z.onDidChangeInlayHints(()=>{s.isScheduled()||s.schedule()})));this._sessionDisposables.add(j),this._updateHintsDecorators(j.ranges,j.items),this._cacheHintsForFastRestore(e)}catch(R){(0,Un.dL)(R)}finally{n.dispose(),p.dispose()}}),this._debounceInfo.get(e));this._sessionDisposables.add(s),this._sessionDisposables.add((0,Pt.OF)(()=>null==n?void 0:n.dispose(!0))),s.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(d=>{(d.scrollTopChanged||!s.isScheduled())&&s.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(d=>{const p=Math.max(s.delay,1250);s.schedule(p)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installDblClickGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new Pt.SL,t=e.add(new Vu(this._editor)),n=new Pt.SL;return e.add(n),e.add(t.onMouseMoveOrRelevantKeyDown(o=>{const[s]=o,d=this._getInlayHintLabelPart(s),p=this._editor.getModel();if(!d||!p)return void n.clear();const R=new ti.A;n.add((0,Pt.OF)(()=>R.dispose(!0))),d.item.resolve(R.token),this._activeInlayHintPart=d.part.command||d.part.location?new rD(d,s.hasTriggerModifier):void 0;const j=d.item.hint.position.lineNumber,z=new kt.e(j,1,j,p.getLineMaxColumn(j)),ne=new Set;for(const Se of this._decorationsMetadata.values())z.containsRange(Se.item.anchor.range)&&ne.add(Se.item);this._updateHintsDecorators([z],Array.from(ne)),n.add((0,Pt.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([z],Array.from(ne))}))})),e.add(t.onCancel(()=>n.clear())),e.add(t.onExecute(o=>_h(this,void 0,void 0,function*(){const s=this._getInlayHintLabelPart(o);if(s){const d=s.part;d.location?this._instaService.invokeFunction(oD,o,this._editor,d.location):eo.mY.is(d.command)&&(yield this._invokeCommand(d.command,s.item))}}))),e}_installDblClickGesture(){return this._editor.onMouseUp(e=>_h(this,void 0,void 0,function*(){if(2!==e.event.detail)return;const t=this._getInlayHintLabelPart(e);!t||(e.event.preventDefault(),yield t.item.resolve(ti.T.None),t.item.hint.command&&(yield this._invokeCommand(t.item.hint.command,t.item)))}))}_installContextMenu(){return this._editor.onContextMenu(e=>_h(this,void 0,void 0,function*(){if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(iD,this._editor,e.event.target,t))}))}_getInlayHintLabelPart(e){var t;if(6!==e.target.type)return;const n=null===(t=e.target.detail.injectedText)||void 0===t?void 0:t.options;return n instanceof Zi.HS&&(null==n?void 0:n.attachedData)instanceof F_?n.attachedData:void 0}_invokeCommand(e,t){var n;return _h(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(e.id,...null!==(n=e.arguments)&&void 0!==n?n:[])}catch(o){this._notificationService.notify({severity:Cs.zb.Error,source:t.provider.displayName,message:o})}})}_cacheHintsForFastRestore(e){const t=new Map;for(const[n,o]of this._decorationsMetadata){if(t.has(o.item))continue;let s=o.item;const d=e.getDecorationRange(n);if(d){const p=new Hb(d,o.item.anchor.direction);s=o.item.with({anchor:p})}t.set(o.item,s)}this._inlayHintsCache.set(e,Array.from(t.values()))}_getHintsRanges(){const t=this._editor.getModel(),n=this._editor.getVisibleRangesPlusViewportAboveBelow(),o=[];for(const s of n.sort(kt.e.compareRangesUsingStarts)){const d=t.validateRange(new kt.e(s.startLineNumber-30,s.startColumn,s.endLineNumber+30,s.endColumn));0!==o.length&&kt.e.areIntersectingOrTouching(o[o.length-1],d)?o[o.length-1]=kt.e.plusRange(o[o.length-1],d):o.push(d)}return o}_updateHintsDecorators(e,t){var n,o;const s=[],d=(Me,Ge,dt,Ft,Ot)=>{s.push({item:Me,classNameRef:Ge,decoration:{range:Me.anchor.range,options:{description:"InlayHint",showIfCollapsed:Me.anchor.range.isEmpty(),collapseOnReplaceEdit:!Me.anchor.range.isEmpty(),stickiness:0,[Me.anchor.direction]:{content:dt,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Ge.className,cursorStops:Ft,attachedData:Ot}}}})},p=(Me,Ge)=>{const dt=this._ruleFactory.createClassNameRef({width:(R/3|0)+"px",display:"inline-block"});d(Me,dt,"\u200a",Ge?Fo.RM.Right:Fo.RM.None)},{fontSize:R,fontFamily:j}=this._getLayoutInfo(),z="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(z,j);for(const Me of t){Me.hint.paddingLeft&&p(Me,!1);const Ge="string"==typeof Me.hint.label?[{label:Me.hint.label}]:Me.hint.label;for(let dt=0;dt<Ge.length;dt++){const Ft=Ge[dt],Ot=0===dt,qt=dt===Ge.length-1,nn={fontSize:`${R}px`,fontFamily:`var(${z}), ${hs.hL.fontFamily}`,verticalAlign:"middle"};Me.hint.command&&(nn.cursor="pointer"),this._fillInColors(nn,Me.hint),(Ft.command||Ft.location)&&(null===(n=this._activeInlayHintPart)||void 0===n?void 0:n.part.item)===Me&&this._activeInlayHintPart.part.index===dt&&(nn.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(nn.color=(0,r.EN)(ge._Yy),nn.cursor="pointer")),Ot&&qt?(nn.padding=`1px ${0|Math.max(1,R/4)}px`,nn.borderRadius=(R/4|0)+"px"):Ot?(nn.padding=`1px 0 1px ${0|Math.max(1,R/4)}px`,nn.borderRadius=`${R/4|0}px 0 0 ${R/4|0}px`):qt?(nn.padding=`1px ${0|Math.max(1,R/4)}px 1px 0`,nn.borderRadius=`0 ${R/4|0}px ${R/4|0}px 0`):nn.padding="1px 0 1px 0",d(Me,this._ruleFactory.createClassNameRef(nn),aD(Ft.label),qt&&!Me.hint.paddingRight?Fo.RM.Right:Fo.RM.None,new F_(Me,dt))}if(Me.hint.paddingRight&&p(Me,!0),s.length>N1._MAX_DECORATORS)break}const ne=[];for(const Me of e)for(const{id:Ge}of null!==(o=this._editor.getDecorationsInRange(Me))&&void 0!==o?o:[]){const dt=this._decorationsMetadata.get(Ge);dt&&(ne.push(Ge),dt.classNameRef.dispose(),this._decorationsMetadata.delete(Ge))}const Se=this._editor.deltaDecorations(ne,s.map(Me=>Me.decoration));for(let Me=0;Me<Se.length;Me++){const Ge=s[Me];this._decorationsMetadata.set(Se[Me],{item:Ge.item,classNameRef:Ge.classNameRef})}}_fillInColors(e,t){t.kind===eo.gl.Parameter?(e.backgroundColor=(0,r.EN)(ge.phM),e.color=(0,r.EN)(ge.HCL)):t.kind===eo.gl.Type?(e.backgroundColor=(0,r.EN)(ge.bKB),e.color=(0,r.EN)(ge.hX8)):(e.backgroundColor=(0,r.EN)(ge.PpC),e.color=(0,r.EN)(ge.VVv))}_getLayoutInfo(){const e=this._editor.getOption(127),t=this._editor.getOption(46);let n=e.fontSize;return(!n||n<5||n>t)&&(n=.9*t|0),{fontSize:n,fontFamily:e.fontFamily||this._editor.getOption(43)}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};function aD(a){return a.replace(/[ \t]/g,"\xa0")}Yd.ID="editor.contrib.InlayHints",Yd._MAX_DECORATORS=1500,Yd=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([ph(1,$n.p),ph(2,Ba.A),ph(3,zb),ph(4,ro.Hy),ph(5,Cs.lT),ph(6,oo.TG)],Yd),ro.P0.registerCommand("_executeInlayHintProvider",(a,...e)=>_h(void 0,void 0,void 0,function*(){const[t,n]=e;(0,Gi.p_)(So.o.isUri(t)),(0,Gi.p_)(kt.e.isIRange(n));const{inlayHintsProvider:o}=a.get($n.p),s=yield a.get(ta.S).createModelReference(t);try{const d=yield og.create(o,s.object.textEditorModel,[kt.e.lift(n)],ti.T.None),p=d.items.map(R=>R.hint);return setTimeout(()=>d.dispose(),0),p}finally{s.dispose()}}));var rg=function(a,e){return function(t,n){e(t,n,a)}},Ub=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};class jb extends wm{constructor(e,t){super(10,t,e.item.anchor.range),this.part=e}}let B_=class extends Om{constructor(e,t,n,o,s,d){super(e,t,n,o,d),this._resolverService=s,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!Yd.get(this._editor)||6!==e.target.type)return null;const o=null===(t=e.target.detail.injectedText)||void 0===t?void 0:t.options;return o instanceof Zi.HS&&o.attachedData instanceof F_?new jb(o.attachedData,this):null}computeSync(){return[]}computeAsync(e,t,n){return e instanceof jb?new Wn.Aq(o=>Ub(this,void 0,void 0,function*(){var s,d;const{part:p}=e;if(yield p.item.resolve(n),n.isCancellationRequested)return;let R,j;if("string"==typeof p.item.hint.tooltip?R=(new Oo.W5).appendText(p.item.hint.tooltip):p.item.hint.tooltip&&(R=p.item.hint.tooltip),R&&o.emitOne(new Ql(this,e.range,[R],0)),"string"==typeof p.part.tooltip?j=(new Oo.W5).appendText(p.part.tooltip):p.part.tooltip&&(j=p.part.tooltip),j&&o.emitOne(new Ql(this,e.range,[j],1)),p.part.location||p.part.command){let Me;const dt="altKey"===this._editor.getOption(70)?mt.dz?(0,Ee.N)("links.navigate.kb.meta.mac","cmd + click"):(0,Ee.N)("links.navigate.kb.meta","ctrl + click"):mt.dz?(0,Ee.N)("links.navigate.kb.alt.mac","option + click"):(0,Ee.N)("links.navigate.kb.alt","alt + click");p.part.location&&p.part.command?Me=(new Oo.W5).appendText((0,Ee.N)("hint.defAndCommand","Go to Definition ({0}), right click for more",dt)):p.part.location?Me=(new Oo.W5).appendText((0,Ee.N)("hint.def","Go to Definition ({0})",dt)):p.part.command&&(Me=new Oo.W5(`[${(0,Ee.N)("hint.cmd","Execute Command")}](${function(a){return So.o.from({scheme:bs.lg.command,path:a.id,query:a.arguments&&encodeURIComponent(JSON.stringify(a.arguments))}).toString()}(p.part.command)} "${p.part.command.title}") (${dt})`,{isTrusted:!0})),Me&&o.emitOne(new Ql(this,e.range,[Me],1e4))}const z=yield this._resolveInlayHintLabelPartHover(p,n);try{for(var Se,ne=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=a[Symbol.asyncIterator];return e?e.call(a):(a="function"==typeof __values?__values(a):a[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=a[s]&&function(d){return new Promise(function(p,R){!function(s,d,p,R){Promise.resolve(R).then(function(j){s({value:j,done:p})},d)}(p,R,(d=a[s](d)).done,d.value)})}}}(z);!(Se=yield ne.next()).done;)o.emitOne(Se.value)}catch(Me){s={error:Me}}finally{try{Se&&!Se.done&&(d=ne.return)&&(yield d.call(ne))}finally{if(s)throw s.error}}})):Wn.Aq.EMPTY}_resolveInlayHintLabelPartHover(e,t){return Ub(this,void 0,void 0,function*(){if(!e.part.location)return Wn.Aq.EMPTY;const{uri:n,range:o}=e.part.location,s=yield this._resolverService.createModelReference(n);try{const d=s.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(d)?j0(this._languageFeaturesService.hoverProvider,d,new hi.L(o.startLineNumber,o.startColumn),t).filter(p=>!(0,Oo.CP)(p.hover.contents)).map(p=>new Ql(this,e.item.anchor.range,p.hover.contents,2+p.ordinal)):Wn.Aq.EMPTY}finally{s.dispose()}})}};B_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([rg(1,Ur.O),rg(2,oa.v4),rg(3,Is.Ui),rg(4,ta.S),rg(5,$n.p)],B_),(0,Xe._K)(Yd.ID,Yd),Vd.register(B_);class dD{constructor(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const o=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new mi.Y(o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn),o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn)):new mi.Y(o.endLineNumber,o.endColumn-this._text.length,o.endLineNumber,o.endColumn)}}let jc=class I1{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(e){return e.getContribution(I1.ID)}dispose(){}run(e,t){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),o=this.editor.getModel();if(!o||!n)return;let s=n;if(s.startLineNumber!==s.endLineNumber)return;const d=new yc.yy(this.editor,5),p=o.uri;return this.editorWorkerService.canNavigateValueSet(p)?(this.currentRequest=(0,Wn.PG)(R=>this.editorWorkerService.navigateValueSet(p,s,t)),this.currentRequest.then(R=>{if(!(R&&R.range&&R.value&&d.validate(this.editor)))return;let j=kt.e.lift(R.range),z=R.range,ne=R.value.length-(s.endColumn-s.startColumn);z={startLineNumber:z.startLineNumber,startColumn:z.startColumn,endLineNumber:z.endLineNumber,endColumn:z.startColumn+R.value.length},ne>1&&(s=new mi.Y(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+ne-1));const Se=new dD(j,s,R.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,Se),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:z,options:I1.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,Wn.Vs)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(Un.dL)}).catch(Un.dL)):Promise.resolve(void 0)}};jc.ID="editor.contrib.inPlaceReplaceController",jc.DECORATION=Zi.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),jc=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,1)}}(0,Gf.p)],jc),(0,Xe._K)(jc.ID,jc),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:Ee.N("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3154,weight:100}})}run(e,t){const n=jc.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:Ee.N("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3156,weight:100}})}run(e,t){const n=jc.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}),(0,r.Ic)((a,e)=>{const t=a.getColor(Yr.Dl);t&&e.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${t}; }`)});var W_=m(71015);(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"expandLineSelection",label:Ee.N("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:vt.u.textInputFocus,primary:2090}})}run(e,t,n){if(n=n||{},!t.hasModel())return;const o=t._getViewModel();o.model.pushStackElement(),o.setCursorStates(n.source,3,W_.P.expandLineSelection(o,o.getCursorStates())),o.revealPrimaryCursor(n.source,!0)}});class pD{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const n=function(a,e){e.sort((d,p)=>d.lineNumber===p.lineNumber?d.column-p.column:d.lineNumber-p.lineNumber);for(let d=e.length-2;d>=0;d--)e[d].lineNumber===e[d+1].lineNumber&&e.splice(d,1);const t=[];let n=0,o=0;const s=e.length;for(let d=1,p=a.getLineCount();d<=p;d++){const R=a.getLineContent(d),j=R.length+1;let z=0;if(o<s&&e[o].lineNumber===d&&(z=e[o].column,o++,z===j)||0===R.length)continue;const ne=An.ow(R);let Se=0;if(-1===ne)Se=1;else{if(ne===R.length-1)continue;Se=ne+2}Se=Math.max(z,Se),t[n++]=ss.h.delete(new kt.e(d,Se,d,j))}return t}(e,this._cursors);for(let o=0,s=n.length;o<s;o++){const d=n[o];t.addEditOperation(d.range,d.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}var V_=m(8418);class Kb{constructor(e,t,n){this._selection=e,this._isCopyingDown=t,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let o=[];for(let d=n.startLineNumber;d<=n.endLineNumber;d++)o.push(e.getLineContent(d));const s=o.join("\n");""===s&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new kt.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new kt.e(n.startLineNumber,1,n.startLineNumber,1),s+"\n"):t.addEditOperation(new kt.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+s),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let o=n.startLineNumber,s=n.startColumn,d=n.endLineNumber,p=n.endColumn;0!==this._startLineNumberDelta&&(o+=this._startLineNumberDelta,s=1),0!==this._endLineNumberDelta&&(d+=this._endLineNumberDelta,p=1),n=mi.Y.createWithDirection(o,s,d,p,this._selectionDirection)}return n}}var sp=m(70950);class CD{constructor(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let o=this._selection;o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,e.getLineMaxColumn(o.endLineNumber-1)));const{tabSize:s,indentSize:d,insertSpaces:p}=e.getOptions();let R=this.buildIndentConverter(s,d,p),j={getLineTokens:z=>e.getLineTokens(z),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(z,ne)=>e.getLanguageIdAtPosition(z,ne),getLineContent:null};if(o.startLineNumber===o.endLineNumber&&1===e.getLineMaxColumn(o.startLineNumber)){let z=o.startLineNumber,ne=this._isMovingDown?z+1:z-1;1===e.getLineMaxColumn(ne)?t.addEditOperation(new kt.e(1,1,1,1),null):(t.addEditOperation(new kt.e(z,1,z,1),e.getLineContent(ne)),t.addEditOperation(new kt.e(ne,1,ne,e.getLineMaxColumn(ne)),null)),o=new mi.Y(ne,1,ne,1)}else{let z,ne;if(this._isMovingDown){z=o.endLineNumber+1,ne=e.getLineContent(z),t.addEditOperation(new kt.e(z-1,e.getLineMaxColumn(z-1),z,e.getLineMaxColumn(z)),null);let Se=ne;if(this.shouldAutoIndent(e,o)){let Me=this.matchEnterRule(e,R,s,z,o.startLineNumber-1);if(null!==Me){let Ft=Me+Tr(An.V8(e.getLineContent(z)),s);Se=ig(Ft,s,p)+this.trimLeft(ne)}else{j.getLineContent=Ft=>e.getLineContent(Ft===o.startLineNumber?z:Ft);let dt=Yo.zu.getGoodIndentForLine(this._autoIndent,j,e.getLanguageIdAtPosition(z,1),o.startLineNumber,R);if(null!==dt){let Ft=An.V8(e.getLineContent(z)),Ot=Tr(dt,s);Ot!==Tr(Ft,s)&&(Se=ig(Ot,s,p)+this.trimLeft(ne))}}t.addEditOperation(new kt.e(o.startLineNumber,1,o.startLineNumber,1),Se+"\n");let Ge=this.matchEnterRuleMovingDown(e,R,s,o.startLineNumber,z,Se);if(null!==Ge)0!==Ge&&this.getIndentEditsOfMovingBlock(e,t,o,s,p,Ge);else{j.getLineContent=Ft=>Ft===o.startLineNumber?Se:e.getLineContent(Ft>=o.startLineNumber+1&&Ft<=o.endLineNumber+1?Ft-1:Ft);let dt=Yo.zu.getGoodIndentForLine(this._autoIndent,j,e.getLanguageIdAtPosition(z,1),o.startLineNumber+1,R);if(null!==dt){const Ft=An.V8(e.getLineContent(o.startLineNumber)),Ot=Tr(dt,s),qt=Tr(Ft,s);Ot!==qt&&this.getIndentEditsOfMovingBlock(e,t,o,s,p,Ot-qt)}}}else t.addEditOperation(new kt.e(o.startLineNumber,1,o.startLineNumber,1),Se+"\n")}else if(z=o.startLineNumber-1,ne=e.getLineContent(z),t.addEditOperation(new kt.e(z,1,z+1,1),null),t.addEditOperation(new kt.e(o.endLineNumber,e.getLineMaxColumn(o.endLineNumber),o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),"\n"+ne),this.shouldAutoIndent(e,o)){j.getLineContent=Me=>e.getLineContent(Me===z?o.startLineNumber:Me);let Se=this.matchEnterRule(e,R,s,o.startLineNumber,o.startLineNumber-2);if(null!==Se)0!==Se&&this.getIndentEditsOfMovingBlock(e,t,o,s,p,Se);else{let Me=Yo.zu.getGoodIndentForLine(this._autoIndent,j,e.getLanguageIdAtPosition(o.startLineNumber,1),z,R);if(null!==Me){let Ge=An.V8(e.getLineContent(o.startLineNumber)),dt=Tr(Me,s),Ft=Tr(Ge,s);dt!==Ft&&this.getIndentEditsOfMovingBlock(e,t,o,s,p,dt-Ft)}}}}this._selectionId=t.trackSelection(o)}buildIndentConverter(e,t,n){return{shiftIndent:o=>mh.U.shiftIndent(o,o.length+1,e,t,n),unshiftIndent:o=>mh.U.unshiftIndent(o,o.length+1,e,t,n)}}parseEnterResult(e,t,n,o,s){if(s){let d=s.indentation;s.indentAction===sp.wU.None||s.indentAction===sp.wU.Indent?d=s.indentation+s.appendText:s.indentAction===sp.wU.IndentOutdent?d=s.indentation:s.indentAction===sp.wU.Outdent&&(d=t.unshiftIndent(s.indentation)+s.appendText);let p=e.getLineContent(o);if(this.trimLeft(p).indexOf(this.trimLeft(d))>=0){let R=An.V8(e.getLineContent(o)),j=An.V8(d),z=Yo.zu.getIndentMetadata(e,o);return null!==z&&2&z&&(j=t.unshiftIndent(j)),Tr(j,n)-Tr(R,n)}}return null}matchEnterRuleMovingDown(e,t,n,o,s,d){if(An.ow(d)>=0){let p=e.getLineMaxColumn(s),R=Yo.zu.getEnterAction(this._autoIndent,e,new kt.e(s,p,s,p));return this.parseEnterResult(e,t,n,o,R)}{let p=o-1;for(;p>=1;){let z=e.getLineContent(p);if(An.ow(z)>=0)break;p--}if(p<1||o>e.getLineCount())return null;let R=e.getLineMaxColumn(p),j=Yo.zu.getEnterAction(this._autoIndent,e,new kt.e(p,R,p,R));return this.parseEnterResult(e,t,n,o,j)}}matchEnterRule(e,t,n,o,s,d){let p=s;for(;p>=1;){let z;if(z=p===s&&void 0!==d?d:e.getLineContent(p),An.ow(z)>=0)break;p--}if(p<1||o>e.getLineCount())return null;let R=e.getLineMaxColumn(p),j=Yo.zu.getEnterAction(this._autoIndent,e,new kt.e(p,R,p,R));return this.parseEnterResult(e,t,n,o,j)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.isCheapToTokenize(t.startLineNumber))return!1;let n=e.getLanguageIdAtPosition(t.startLineNumber,1);return!(n!==e.getLanguageIdAtPosition(t.endLineNumber,1)||null===Yo.zu.getIndentRulesSupport(n))}getIndentEditsOfMovingBlock(e,t,n,o,s,d){for(let p=n.startLineNumber;p<=n.endLineNumber;p++){let R=e.getLineContent(p),j=An.V8(R),Se=ig(Tr(j,o)+d,o,s);Se!==j&&(t.addEditOperation(new kt.e(p,1,p,j.length+1),Se),p===n.endLineNumber&&n.endColumn<=j.length+1&&""===Se&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}let H_=(()=>{class a{constructor(t,n){this.selection=t,this.descending=n,this.selectionId=null}static getCollator(){return a._COLLATOR||(a._COLLATOR=new Intl.Collator),a._COLLATOR}getEditOperations(t,n){let o=function(a,e,t){let n=$b(a,e,t);return n?ss.h.replace(new kt.e(n.startLineNumber,1,n.endLineNumber,a.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}(t,this.selection,this.descending);o&&n.addEditOperation(o.range,o.text),this.selectionId=n.trackSelection(this.selection)}computeCursorState(t,n){return n.getTrackedSelection(this.selectionId)}static canRun(t,n,o){if(null===t)return!1;let s=$b(t,n,o);if(!s)return!1;for(let d=0,p=s.before.length;d<p;d++)if(s.before[d]!==s.after[d])return!0;return!1}}return a._COLLATOR=null,a})();function $b(a,e,t){let n=e.startLineNumber,o=e.endLineNumber;if(1===e.endColumn&&o--,n>=o)return null;let s=[];for(let p=n;p<=o;p++)s.push(a.getLineContent(p));let d=s.slice(0);return d.sort(H_.getCollator().compare),!0===t&&(d=d.reverse()),{startLineNumber:n,endLineNumber:o,before:s,after:d}}class Zb extends Xe.R6{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const n=t.getSelections().map((d,p)=>({selection:d,index:p,ignore:!1}));n.sort((d,p)=>kt.e.compareRangesUsingStarts(d.selection,p.selection));let o=n[0];for(let d=1;d<n.length;d++){const p=n[d];o.selection.endLineNumber===p.selection.startLineNumber&&(o.index<p.index?p.ignore=!0:(o.ignore=!0,o=p))}const s=[];for(const d of n)s.push(new Kb(d.selection,this.down,d.ignore));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class Gb extends Xe.R6{constructor(e,t){super(t),this.down=e}run(e,t){let n=[],o=t.getSelections()||[];const s=t.getOption(9);for(const d of o)n.push(new CD(d,this.down,s));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class Qb extends Xe.R6{constructor(e,t){super(t),this.descending=e}run(e,t){const n=t.getSelections()||[];for(const s of n)if(!H_.canRun(t.getModel(),s,this.descending))return;let o=[];for(let s=0,d=n.length;s<d;s++)o[s]=new H_(n[s],this.descending);t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}let MD=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,Ko.gx)(2089,2102),weight:100}})}run(t,n,o){let s=[];"auto-save"===o.reason&&(s=(n.getSelections()||[]).map(R=>new hi.L(R.positionLineNumber,R.positionColumn)));let d=n.getSelection();if(null===d)return;let p=new pD(d,s);n.pushUndoStop(),n.executeCommands(this.id,[p]),n.pushUndoStop()}}return a.ID="editor.action.trimTrailingWhitespace",a})();class Yb extends Xe.R6{run(e,t){if(!t.hasModel())return;const n=t.getSelection();let o=this._getRangesToDelete(t),s=[];for(let R=0,j=o.length-1;R<j;R++){let z=o[R],ne=o[R+1];null===kt.e.intersectRanges(z,ne)?s.push(z):o[R+1]=kt.e.plusRange(z,ne)}s.push(o[o.length-1]);let d=this._getEndCursorState(n,s),p=s.map(R=>ss.h.replace(R,""));t.pushUndoStop(),t.executeEdits(this.id,p,d),t.pushUndoStop()}}class rp extends Xe.R6{run(e,t){const n=t.getSelections();if(null===n)return;const o=t.getModel();if(null===o)return;const s=t.getOption(117),d=[];for(const p of n)if(p.isEmpty()){const R=p.getStartPosition(),j=t.getConfiguredWordAtPosition(R);if(!j)continue;const z=new kt.e(R.lineNumber,j.startColumn,R.lineNumber,j.endColumn),ne=o.getValueInRange(z);d.push(ss.h.replace(z,this._modifyText(ne,s)))}else{const R=o.getValueInRange(p);d.push(ss.h.replace(p,this._modifyText(R,s)))}t.pushUndoStop(),t.executeEdits(this.id,d),t.pushUndoStop()}}class z_{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return null!==this.get()}}class ag extends rp{constructor(){super({id:"editor.action.transformToTitlecase",label:Ee.N("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:vt.u.writable})}_modifyText(e,t){const n=ag.titleBoundary.get();return n?e.toLocaleLowerCase().replace(n,o=>o.toLocaleUpperCase()):e}}ag.titleBoundary=new z_("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Kc extends rp{constructor(){super({id:"editor.action.transformToSnakecase",label:Ee.N("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:vt.u.writable})}_modifyText(e,t){const n=Kc.caseBoundary.get(),o=Kc.singleLetters.get();return n&&o?e.replace(n,"$1_$2").replace(o,"$1_$2$3").toLocaleLowerCase():e}}Kc.caseBoundary=new z_("(\\p{Ll})(\\p{Lu})","gmu"),Kc.singleLetters=new z_("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,Xe.Qr)(class extends Zb{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:Ee.N("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"2_line",title:Ee.N({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,Xe.Qr)(class extends Zb{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:Ee.N("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"2_line",title:Ee.N({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.duplicateSelection",label:Ee.N("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:vt.u.writable,menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"2_line",title:Ee.N({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,n){if(!t.hasModel())return;const o=[],s=t.getSelections(),d=t.getModel();for(const p of s)if(p.isEmpty())o.push(new Kb(p,!0));else{const R=new mi.Y(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn);o.push(new ze.OY(R,d.getValueInRange(p)))}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}),(0,Xe.Qr)(class extends Gb{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:Ee.N("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"2_line",title:Ee.N({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,Xe.Qr)(class extends Gb{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:Ee.N("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"2_line",title:Ee.N({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,Xe.Qr)(class extends Qb{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:Ee.N("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:vt.u.writable})}}),(0,Xe.Qr)(class extends Qb{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:Ee.N("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:vt.u.writable})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:Ee.N("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:vt.u.writable})}run(e,t){if(!t.hasModel())return;let n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=[],s=[],d=0;for(let p of t.getSelections()){let R=new Set,j=[];for(let Me=p.startLineNumber;Me<=p.endLineNumber;Me++){let Ge=n.getLineContent(Me);R.has(Ge)||(j.push(Ge),R.add(Ge))}let z=new mi.Y(p.startLineNumber,1,p.endLineNumber,n.getLineMaxColumn(p.endLineNumber)),ne=p.startLineNumber-d,Se=new mi.Y(ne,1,ne+j.length-1,j[j.length-1].length);o.push(ss.h.replace(z,j.join("\n"))),s.push(Se),d+=p.endLineNumber-p.startLineNumber+1-j.length}t.pushUndoStop(),t.executeEdits(this.id,o,s),t.pushUndoStop()}}),(0,Xe.Qr)(MD),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.deleteLines",label:Ee.N("lines.delete","Delete Line"),alias:"Delete Line",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let n=this._getLinesToRemove(t),o=t.getModel();if(1===o.getLineCount()&&1===o.getLineMaxColumn(1))return;let s=0,d=[],p=[];for(let R=0,j=n.length;R<j;R++){const z=n[R];let ne=z.startLineNumber,Se=z.endLineNumber,Me=1,Ge=o.getLineMaxColumn(Se);Se<o.getLineCount()?(Se+=1,Ge=1):ne>1&&(ne-=1,Me=o.getLineMaxColumn(ne)),d.push(ss.h.replace(new mi.Y(ne,Me,Se,Ge),"")),p.push(new mi.Y(ne-s,z.positionColumn,ne-s,z.positionColumn)),s+=z.endLineNumber-z.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,d,p),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(s=>{let d=s.endLineNumber;return s.startLineNumber<s.endLineNumber&&1===s.endColumn&&(d-=1),{startLineNumber:s.startLineNumber,selectionStartColumn:s.selectionStartColumn,endLineNumber:d,positionColumn:s.positionColumn}});t.sort((s,d)=>s.startLineNumber===d.startLineNumber?s.endLineNumber-d.endLineNumber:s.startLineNumber-d.startLineNumber);let n=[],o=t[0];for(let s=1;s<t.length;s++)o.endLineNumber+1>=t[s].startLineNumber?o.endLineNumber=t[s].endLineNumber:(n.push(o),o=t[s]);return n.push(o),n}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.indentLines",label:Ee.N("lines.indent","Indent Line"),alias:"Indent Line",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2137,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,V_.u.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.outdentLines",label:Ee.N("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2135,weight:100}})}run(e,t){ga.wk.Outdent.runEditorCommand(e,t,null)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.insertLineBefore",label:Ee.N("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3075,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,V_.u.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.insertLineAfter",label:Ee.N("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2051,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,V_.u.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}),(0,Xe.Qr)(class extends Yb{constructor(){super({id:"deleteAllLeft",label:Ee.N("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let n=null,o=[],s=0;return t.forEach(d=>{let p;if(1===d.endColumn&&s>0){let R=d.startLineNumber-s;p=new mi.Y(R,d.startColumn,R,d.startColumn)}else p=new mi.Y(d.startLineNumber,d.startColumn,d.startLineNumber,d.startColumn);s+=d.endLineNumber-d.startLineNumber,d.intersectRanges(e)?n=p:o.push(p)}),n&&o.unshift(n),o}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let n=t,o=e.getModel();return null===o?[]:(n.sort(kt.e.compareRangesUsingStarts),n=n.map(s=>{if(s.isEmpty()){if(1===s.startColumn){let d=Math.max(1,s.startLineNumber-1),p=1===s.startLineNumber?1:o.getLineContent(d).length+1;return new kt.e(d,p,s.startLineNumber,1)}return new kt.e(s.startLineNumber,1,s.startLineNumber,s.startColumn)}return new kt.e(s.startLineNumber,1,s.endLineNumber,s.endColumn)}),n)}}),(0,Xe.Qr)(class extends Yb{constructor(){super({id:"deleteAllRight",label:Ee.N("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let n=null,o=[];for(let s=0,d=t.length,p=0;s<d;s++){let R=t[s],j=new mi.Y(R.startLineNumber-p,R.startColumn,R.startLineNumber-p,R.startColumn);R.intersectRanges(e)?n=j:o.push(j)}return n&&o.unshift(n),o}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let n=e.getSelections();if(null===n)return[];let o=n.map(s=>{if(s.isEmpty()){const d=t.getLineMaxColumn(s.startLineNumber);return s.startColumn===d?new kt.e(s.startLineNumber,s.startColumn,s.startLineNumber+1,1):new kt.e(s.startLineNumber,s.startColumn,s.startLineNumber,d)}return s});return o.sort(kt.e.compareRangesUsingStarts),o}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.joinLines",label:Ee.N("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let n=t.getSelections();if(null===n)return;let o=t.getSelection();if(null===o)return;n.sort(kt.e.compareRangesUsingStarts);let s=[],d=n.reduce((Se,Me)=>Se.isEmpty()?Se.endLineNumber===Me.startLineNumber?(o.equalsSelection(Se)&&(o=Me),Me):Me.startLineNumber>Se.endLineNumber+1?(s.push(Se),Me):new mi.Y(Se.startLineNumber,Se.startColumn,Me.endLineNumber,Me.endColumn):Me.startLineNumber>Se.endLineNumber?(s.push(Se),Me):new mi.Y(Se.startLineNumber,Se.startColumn,Me.endLineNumber,Me.endColumn));s.push(d);let p=t.getModel();if(null===p)return;let R=[],j=[],z=o,ne=0;for(let Se=0,Me=s.length;Se<Me;Se++){let qt,nn,Ge=s[Se],dt=Ge.startLineNumber,Ft=1,Ot=0,Bn=p.getLineContent(Ge.endLineNumber).length-Ge.endColumn;if(Ge.isEmpty()||Ge.startLineNumber===Ge.endLineNumber){let yi=Ge.getStartPosition();yi.lineNumber<p.getLineCount()?(qt=dt+1,nn=p.getLineMaxColumn(qt)):(qt=yi.lineNumber,nn=p.getLineMaxColumn(yi.lineNumber))}else qt=Ge.endLineNumber,nn=p.getLineMaxColumn(qt);let Tn=p.getLineContent(dt);for(let yi=dt+1;yi<=qt;yi++){let ls=p.getLineContent(yi),Bs=p.getLineFirstNonWhitespaceColumn(yi);if(Bs>=1){let Ws=!0;""===Tn&&(Ws=!1),Ws&&(" "===Tn.charAt(Tn.length-1)||"\t"===Tn.charAt(Tn.length-1))&&(Ws=!1,Tn=Tn.replace(/[\s\uFEFF\xA0]+$/g," "));let Da=ls.substr(Bs-1);Tn+=(Ws?" ":"")+Da,Ot=Ws?Da.length+1:Da.length}else Ot=0}let Ai=new kt.e(dt,Ft,qt,nn);if(!Ai.isEmpty()){let yi;Ge.isEmpty()?(R.push(ss.h.replace(Ai,Tn)),yi=new mi.Y(Ai.startLineNumber-ne,Tn.length-Ot+1,dt-ne,Tn.length-Ot+1)):Ge.startLineNumber===Ge.endLineNumber?(R.push(ss.h.replace(Ai,Tn)),yi=new mi.Y(Ge.startLineNumber-ne,Ge.startColumn,Ge.endLineNumber-ne,Ge.endColumn)):(R.push(ss.h.replace(Ai,Tn)),yi=new mi.Y(Ge.startLineNumber-ne,Ge.startColumn,Ge.startLineNumber-ne,Tn.length-Bn)),null!==kt.e.intersectRanges(Ai,o)?z=yi:j.push(yi)}ne+=Ai.endLineNumber-Ai.startLineNumber}j.unshift(z),t.pushUndoStop(),t.executeEdits(this.id,R,j),t.pushUndoStop()}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.transpose",label:Ee.N("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:vt.u.writable})}run(e,t){let n=t.getSelections();if(null===n)return;let o=t.getModel();if(null===o)return;let s=[];for(let d=0,p=n.length;d<p;d++){let R=n[d];if(!R.isEmpty())continue;let j=R.getStartPosition(),z=o.getLineMaxColumn(j.lineNumber);if(j.column>=z){if(j.lineNumber===o.getLineCount())continue;let ne=new kt.e(j.lineNumber,Math.max(1,j.column-1),j.lineNumber+1,1),Se=o.getValueInRange(ne).split("").reverse().join("");s.push(new ze.T4(new mi.Y(j.lineNumber,Math.max(1,j.column-1),j.lineNumber+1,1),Se))}else{let ne=new kt.e(j.lineNumber,Math.max(1,j.column-1),j.lineNumber,j.column+1),Se=o.getValueInRange(ne).split("").reverse().join("");s.push(new ze.hP(ne,Se,new mi.Y(j.lineNumber,j.column+1,j.lineNumber,j.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}),(0,Xe.Qr)(class extends rp{constructor(){super({id:"editor.action.transformToUppercase",label:Ee.N("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:vt.u.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}),(0,Xe.Qr)(class extends rp{constructor(){super({id:"editor.action.transformToLowercase",label:Ee.N("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:vt.u.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}),Kc.caseBoundary.isSupported()&&Kc.singleLetters.isSupported()&&(0,Xe.Qr)(Kc),ag.titleBoundary.isSupported()&&(0,Xe.Qr)(ag);var ap=function(a,e){return function(t,n){e(t,n,a)}},U_=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};const Jb=new $t.uy("LinkedEditingInputVisible",!1),Xb="linked-editing-decoration";let $c=class k1 extends Pt.JT{constructor(e,t,n,o,s){super(),this.languageConfigurationService=o,this._localToDispose=this._register(new Pt.SL),this._editor=e,this._providers=n.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=Jb.bindTo(t),this._debounceInformation=s.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Pt.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(d=>{(d.hasChanged(62)||d.hasChanged(82))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(e){return e.getContribution(k1.ID)}reinitialize(e){const t=this._editor.getModel(),n=null!==t&&(this._editor.getOption(62)||this._editor.getOption(82))&&this._providers.has(t);if(n===this._enabled&&!e||(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||null===t))return;this._localToDispose.add(Rn.ju.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const o=new Wn.vp(this._debounceInformation.get(t)),s=()=>{var R;this._rangeUpdateTriggerPromise=o.trigger(()=>this.updateRanges(),null!==(R=this._debounceDuration)&&void 0!==R?R:this._debounceInformation.get(t))},d=new Wn.vp(0),p=R=>{this._rangeSyncTriggerPromise=d.trigger(()=>this._syncRanges(R))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{s()})),this._localToDispose.add(this._editor.onDidChangeModelContent(R=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const j=t.getDecorationRange(this._currentDecorations[0]);if(j&&R.changes.every(z=>j.intersectRanges(z.range)))return void p(this._currentDecorations)}s()})),this._localToDispose.add({dispose:()=>{o.dispose(),d.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),n=t.getDecorationRange(e[0]);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const o=t.getValueInRange(n);if(this._currentWordPattern){const d=o.match(this._currentWordPattern);if((d?d[0].length:0)!==o.length)return this.clearRanges()}let s=[];for(let d=1,p=e.length;d<p;d++){const R=t.getDecorationRange(e[d]);if(R)if(R.startLineNumber!==R.endLineNumber)s.push({range:R,text:o});else{let j=t.getValueInRange(R),z=o,ne=R.startColumn,Se=R.endColumn;const Me=An.Mh(j,z);ne+=Me,j=j.substr(Me),z=z.substr(Me);const Ge=An.P1(j,z);Se-=Ge,j=j.substr(0,j.length-Ge),z=z.substr(0,z.length-Ge),(ne!==Se||0!==z.length)&&s.push({range:new kt.e(R.startLineNumber,ne,R.endLineNumber,Se),text:z})}}if(0!==s.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const d=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",s),this._editor._getViewModel().setPrevEditOperationType(d)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return U_(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),o=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const d=n.getDecorationRange(this._currentDecorations[0]);if(d&&d.containsPosition(t))return}}this._currentRequestPosition=t,this._currentRequestModelVersion=o;const s=(0,Wn.PG)(d=>U_(this,void 0,void 0,function*(){try{const p=new pa.G(!1),R=yield qb(this._providers,n,t,d);if(this._debounceInformation.update(n,p.elapsed()),s!==this._currentRequest||(this._currentRequest=null,o!==n.getVersionId()))return;let j=[];(null==R?void 0:R.ranges)&&(j=R.ranges),this._currentWordPattern=(null==R?void 0:R.wordPattern)||this._languageWordPattern;let z=!1;for(let Se=0,Me=j.length;Se<Me;Se++)if(kt.e.containsPosition(j[Se],t)){if(z=!0,0!==Se){const Ge=j[Se];j.splice(Se,1),j.unshift(Ge)}break}if(!z)return void this.clearRanges();const ne=j.map(Se=>({range:Se,options:k1.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,ne)}catch(p){(0,Un.n2)(p)||(0,Un.dL)(p),(this._currentRequest===s||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=s,s})}};$c.ID="editor.contrib.linkedEditing",$c.DECORATION=Zi.qx.register({description:"linked-editing",stickiness:0,className:Xb}),$c=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([ap(1,$t.i6),ap(2,$n.p),ap(3,Yo.c_),ap(4,Ba.A)],$c);const zD=Xe._l.bindToContribution($c.get);function qb(a,e,t,n){const o=a.ordered(e);return(0,Wn.Ps)(o.map(s=>()=>U_(this,void 0,void 0,function*(){try{return yield s.provideLinkedEditingRanges(e,t,n)}catch(d){return void(0,Un.Cp)(d)}})),s=>!!s&&Wi.Of(null==s?void 0:s.ranges))}(0,Xe.fK)(new zD({id:"cancelLinkedEditingInput",precondition:Jb,handler:a=>a.clearRanges(),kbOpts:{kbExpr:vt.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const UD=(0,ge.P6G)("editor.linkedEditingBackground",{dark:Qi.Il.fromHex("#f00").transparent(.3),light:Qi.Il.fromHex("#f00").transparent(.3),hc:Qi.Il.fromHex("#f00").transparent(.3)},Ee.N("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,r.Ic)((a,e)=>{const t=a.getColor(UD);t&&e.addRule(`.monaco-editor .${Xb} { background: ${t}; border-left-color: ${t}; }`)}),(0,Xe.sb)("_executeLinkedEditingProvider",(a,e,t)=>{const{linkedEditingRangeProvider:n}=a.get($n.p);return qb(n,e,t,ti.T.None)}),(0,Xe._K)($c.ID,$c),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.linkedEditing",label:Ee.N("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:$t.Ao.and(vt.u.writable,vt.u.hasRenameProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const n=e.get(Zt.$),[o,s]=Array.isArray(t)&&t||[void 0,void 0];return So.o.isUri(o)&&hi.L.isIPosition(s)?n.openCodeEditor({resource:o},n.getActiveCodeEditor()).then(d=>{!d||(d.setPosition(s),d.invokeWithinContext(p=>(this.reportTelemetry(p,d),this.run(p,d))))},Un.dL):super.runCommand(e,t)}run(e,t){const n=$c.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}),m(56413);var ev=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};class jD{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return ev(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class lp{constructor(e){this._disposables=new Pt.SL;let t=[];for(const[n,o]of e){const s=n.links.map(d=>new jD(d,o));t=lp._union(t,s),(0,Pt.Wf)(n)&&this._disposables.add(n)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let o,s,d,p,n=[];for(o=0,d=0,s=e.length,p=t.length;o<s&&d<p;){const R=e[o],j=t[d];kt.e.areIntersectingOrTouching(R.range,j.range)?o++:kt.e.compareRangesUsingStarts(R.range,j.range)<0?(n.push(R),o++):(n.push(j),d++)}for(;o<s;o++)n.push(e[o]);for(;d<p;d++)n.push(t[d]);return n}}function tv(a,e,t){const n=[],o=a.ordered(e).reverse().map((s,d)=>Promise.resolve(s.provideLinks(e,t)).then(p=>{p&&(n[d]=[p,s])},Un.Cp));return Promise.all(o).then(()=>{const s=new lp((0,Wi.kX)(n));return t.isCancellationRequested?(s.dispose(),new lp([])):s})}ro.P0.registerCommand("_executeLinkProvider",(a,...e)=>ev(void 0,void 0,void 0,function*(){let[t,n]=e;(0,Gi.p_)(t instanceof So.o),"number"!=typeof n&&(n=0);const{linkProvider:o}=a.get($n.p),s=a.get(Jr.q).getModel(t);if(!s)return[];const d=yield tv(o,s,ti.T.None);if(!d)return[];for(let R=0;R<Math.min(n,d.links.length);R++)yield d.links[R].resolve(ti.T.None);const p=d.links.slice(0);return d.dispose(),p}));var cp=function(a,e){return function(t,n){e(t,n,a)}};let Ch=class Cw extends Pt.JT{constructor(e,t,n,o,s){super(),this.editor=e,this.openerService=t,this.notificationService=n,this.languageFeaturesService=o,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=s.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new Wn.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const d=this._register(new Vu(e));this._register(d.onMouseMoveOrRelevantKeyDown(([p,R])=>{this._onEditorMouseMove(p,R)})),this._register(d.onExecute(p=>{this.onEditorMouseUp(p)})),this._register(d.onCancel(p=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(p=>{!p.hasChanged(63)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(p=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(p=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(p=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(p=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(e){return e.getContribution(Cw.ID)}computeLinksNow(){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(63))return;const e=this.editor.getModel();if(this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,Wn.PG)(t=>tv(this.providers,e,t));try{const t=new pa.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){(0,Un.dL)(t)}finally{this.computePromise=null}}})}updateDecorations(e){const t="altKey"===this.editor.getOption(70),n=[],o=Object.keys(this.currentOccurrences);for(const p of o)n.push(this.currentOccurrences[p].decorationId);const s=[];if(e)for(const p of e)s.push(bh.decoration(p,t));const d=this.editor.deltaDecorations(n,s);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let p=0,R=d.length;p<R;p++){const j=new bh(e[p],d[p]);this.currentOccurrences[j.decorationId]=j}}_onEditorMouseMove(e,t){const n="altKey"===this.editor.getOption(70);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const o=this.getLinkOccurrence(e.target.position);o&&this.editor.changeDecorations(s=>{o.activate(s,n),this.activeLinkDecorationId=o.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(70);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(n=>{t.deactivate(n,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);!t||this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,n=!1){if(!this.openerService)return;const{link:o}=e;o.resolve(ti.T.None).then(s=>{if("string"==typeof s&&this.editor.hasModel()){const d=this.editor.getModel().uri;if(d.scheme===bs.lg.file&&s.startsWith(`${bs.lg.file}:`)){const p=So.o.parse(s);if(p.scheme===bs.lg.file){const R=Mo.z_(p);let j=null;R.startsWith("/./")?j=`.${R.substr(1)}`:R.startsWith("//./")&&(j=`.${R.substr(2)}`),j&&(s=Mo.Vo(d,j))}}}return this.openerService.open(s,{openToSide:t,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0})},s=>{const d=s instanceof Error?s.message:s;"invalid"===d?this.notificationService.warn(Ee.N("invalid.url","Failed to open this link because it is not well-formed: {0}",o.url.toString())):"missing"===d?this.notificationService.warn(Ee.N("missing.url","Failed to open this link because its target is missing.")):(0,Un.dL)(s)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const n of t){const o=this.currentOccurrences[n.id];if(o)return o}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};Ch.ID="editor.linkDetector",Ch=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([cp(1,oa.v4),cp(2,Cs.lT),cp(3,$n.p),cp(4,Ba.A)],Ch);const nv={general:Zi.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Zi.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class bh{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:bh._getOptions(e,t,!1)}}static _getOptions(e,t,n){const o=Object.assign({},n?nv.active:nv.general);return o.hoverMessage=function(a,e){const t=a.url&&/^command:/i.test(a.url.toString()),n=a.tooltip?a.tooltip:t?Ee.N("links.navigate.executeCmd","Execute command"):Ee.N("links.navigate.follow","Follow link"),o=e?mt.dz?Ee.N("links.navigate.kb.meta.mac","cmd + click"):Ee.N("links.navigate.kb.meta","ctrl + click"):mt.dz?Ee.N("links.navigate.kb.alt.mac","option + click"):Ee.N("links.navigate.kb.alt","alt + click");if(a.url){let s="";if(/^command:/i.test(a.url.toString())){const p=a.url.toString().match(/^command:([^?#]+)/);p&&(s=` "${Ee.N("tooltip.explanation","Execute command {0}",p[1])}"`)}return new Oo.W5("",!0).appendMarkdown(`[${n}](${a.url.toString(!0).replace(/ /g,"%20")}${s}) (${o})`)}return(new Oo.W5).appendText(`${n} (${o})`)}(e,t),o}activate(e,t){e.changeDecorationOptions(this.decorationId,bh._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,bh._getOptions(this.link,t,!1))}}function vh(a,e){const t=e.filter(n=>!a.find(o=>o.equals(n)));if(t.length>=1){const n=t.map(s=>`line ${s.viewState.position.lineNumber} column ${s.viewState.position.column}`).join(", "),o=1===t.length?Ee.N("cursorAdded","Cursor added: {0}",n):Ee.N("cursorsAdded","Cursors added: {0}",n);(0,Ms.i7)(o)}}(0,Xe._K)(Ch.ID,Ch),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.openLink",label:Ee.N("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const n=Ch.get(t);if(!n||!t.hasModel())return;const o=t.getSelections();for(const s of o){const d=n.getLinkOccurrence(s.getEndPosition());d&&n.openLinkOccurrence(d,!1)}}}),(0,r.Ic)((a,e)=>{const t=a.getColor(ge._Yy);t&&e.addRule(`.monaco-editor .detected-link-active { color: ${t} !important; }`)});class dp{constructor(e,t,n){this.selections=e,this.revealRange=t,this.revealScrollType=n}}class lg{constructor(e,t,n,o,s,d,p){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=n,this.searchText=o,this.wholeWord=s,this.matchCase=d,this.currentMatch=p}static create(e,t){if(!e.hasModel())return null;const n=t.getState();if(!e.hasTextFocus()&&n.isRevealed&&n.searchString.length>0)return new lg(e,t,!1,n.searchString,n.wholeWord,n.matchCase,null);let s,d,o=!1;const p=e.getSelections();1===p.length&&p[0].isEmpty()?(o=!0,s=!0,d=!0):(s=n.wholeWord,d=n.matchCase);const R=e.getSelection();let j,z=null;if(R.isEmpty()){const ne=e.getConfiguredWordAtPosition(R.getStartPosition());if(!ne)return null;j=ne.word,z=new mi.Y(R.startLineNumber,ne.startColumn,R.startLineNumber,ne.endColumn)}else j=e.getModel().getValueInRange(R).replace(/\r\n/g,"\n");return new lg(e,t,o,j,s,d,z)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new dp(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new dp(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return n?new mi.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new dp(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new dp(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return n?new mi.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)):[]}}let up=(()=>{class a extends Pt.JT{constructor(t){super(),this._sessionDispose=this._register(new Pt.SL),this._editor=t,this._ignoreSelectionChange=!1,this._session=null}static get(t){return t.getContribution(a.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(t){if(!this._session){const n=lg.create(this._editor,t);if(!n)return;this._session=n;const o={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(o.wholeWordOverride=1,o.matchCaseOverride=1,o.isRegexOverride=2),t.getState().change(o,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(s=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(t.getState().onFindReplaceStateChange(s=>{(s.matchCase||s.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const t={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(t,!1)}this._session=null}_setSelections(t){this._ignoreSelectionChange=!0,this._editor.setSelections(t),this._ignoreSelectionChange=!1}_expandEmptyToWord(t,n){if(!n.isEmpty())return n;const o=this._editor.getConfiguredWordAtPosition(n.getStartPosition());return o?new mi.Y(n.startLineNumber,o.startColumn,n.startLineNumber,o.endColumn):n}_applySessionResult(t){!t||(this._setSelections(t.selections),t.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(t.revealRange,t.revealScrollType))}getSession(t){return this._session}addSelectionToNextFindMatch(t){if(this._editor.hasModel()){if(!this._session){const n=this._editor.getSelections();if(n.length>1){const s=t.getState().matchCase;if(!iv(this._editor.getModel(),n,s)){const p=this._editor.getModel();let R=[];for(let j=0,z=n.length;j<z;j++)R[j]=this._expandEmptyToWord(p,n[j]);return void this._editor.setSelections(R)}}}this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(t){this._beginSessionIfNeeded(t),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(t){if(!this._editor.hasModel())return;let n=null;const o=t.getState();if(o.isRevealed&&o.searchString.length>0&&o.isRegex)n=this._editor.getModel().findMatches(o.searchString,!0,o.isRegex,o.matchCase,o.wholeWord?this._editor.getOption(117):null,!1,1073741824);else{if(this._beginSessionIfNeeded(t),!this._session)return;n=this._session.selectAll()}if(o.searchScope){const s=o.searchScope;let d=[];n.forEach(p=>{s.forEach(R=>{p.range.endLineNumber<=R.endLineNumber&&p.range.startLineNumber>=R.startLineNumber&&d.push(p)})}),n=d}if(n.length>0){const s=this._editor.getSelection();for(let d=0,p=n.length;d<p;d++){const R=n[d];if(R.range.intersectRanges(s)){n[d]=n[0],n[0]=R;break}}this._setSelections(n.map(d=>new mi.Y(d.range.startLineNumber,d.range.startColumn,d.range.endLineNumber,d.range.endColumn)))}}}return a.ID="editor.contrib.multiCursorController",a})();class wh extends Xe.R6{run(e,t){const n=up.get(t);if(!n)return;const o=Ir.get(t);if(!o)return;const s=t._getViewModel();if(s){const d=s.getCursorStates();this._run(n,o),vh(d,s.getCursorStates())}}}class lE{constructor(e,t,n,o,s){this._model=e,this._searchText=t,this._matchCase=n,this._wordSeparators=o,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,s&&this._model===s._model&&this._searchText===s._searchText&&this._matchCase===s._matchCase&&this._wordSeparators===s._wordSeparators&&this._modelVersionId===s._modelVersionId&&(this._cachedFindMatches=s._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(kt.e.compareRangesUsingStarts)),this._cachedFindMatches}}let Jd=class Pp extends Pt.JT{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(97),this.decorations=[],this.updateSoon=this._register(new Wn.pY(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(o=>{this._isEnabled=e.getOption(97)})),this._register(e.onDidChangeCursorSelection(o=>{!this._isEnabled||(o.selection.isEmpty()?3===o.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(o=>{this._setState(null)})),this._register(e.onDidChangeModelContent(o=>{this._isEnabled&&this.updateSoon.schedule()}));const n=Ir.get(e);n&&this._register(n.getState().onFindReplaceStateChange(o=>{this._update()}))}_update(){this._setState(Pp._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,n){if(!t||!n.hasModel())return null;const o=n.getSelection();if(o.startLineNumber!==o.endLineNumber)return null;const s=up.get(n);if(!s)return null;const d=Ir.get(n);if(!d)return null;let p=s.getSession(d);if(!p){const z=n.getSelections();if(z.length>1){const Se=d.getState().matchCase;if(!iv(n.getModel(),z,Se))return null}p=lg.create(n,d)}if(!p||p.currentMatch||/^[ \t]+$/.test(p.searchText)||p.searchText.length>200)return null;const R=d.getState(),j=R.matchCase;if(R.isRevealed){let z=R.searchString;j||(z=z.toLowerCase());let ne=p.searchText;if(j||(ne=ne.toLowerCase()),z===ne&&p.matchCase===R.matchCase&&p.wholeWord===R.wholeWord&&!R.isRegex)return null}return new lE(n.getModel(),p.searchText,p.matchCase,p.wholeWord?n.getOption(117):null,e)}_setState(e){if(this.state=e,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const n=this.state.findMatches(),o=this.editor.getSelections();o.sort(kt.e.compareRangesUsingStarts);const s=[];for(let R=0,j=0,z=n.length,ne=o.length;R<z;){const Se=n[R];if(j>=ne)s.push(Se),R++;else{const Me=kt.e.compareRangesUsingStarts(Se,o[j]);Me<0?((o[j].isEmpty()||!kt.e.areIntersecting(Se,o[j]))&&s.push(Se),R++):(Me>0||R++,j++)}}const d=this._languageFeaturesService.documentHighlightProvider.has(t)&&this.editor.getOption(72),p=s.map(R=>({range:R,options:d?Pp._SELECTION_HIGHLIGHT:Pp._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,p)}dispose(){this._setState(null),super.dispose()}};function iv(a,e,t){const n=ov(a,e[0],!t);for(let o=1,s=e.length;o<s;o++){const d=e[o];if(d.isEmpty())return!1;if(n!==ov(a,d,!t))return!1}return!0}function ov(a,e,t){const n=a.getValueInRange(e);return t?n.toLowerCase():n}Jd.ID="editor.contrib.selectionHighlighter",Jd._SELECTION_HIGHLIGHT_OVERVIEW=Zi.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,r.EN)(ge.IYc),position:Fo.F5.Inline},overviewRuler:{color:(0,r.EN)(ge.SPM),position:Fo.sh.Center}}),Jd._SELECTION_HIGHLIGHT=Zi.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Jd=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,1)}}(0,$n.p)],Jd),(0,Xe._K)(up.ID,up),(0,Xe._K)(Jd.ID,Jd),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:Ee.N("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"3_multi",title:Ee.N({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,n){if(!t.hasModel())return;let o=!0;n&&!1===n.logicalLine&&(o=!1);const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const d=s.getCursorStates();s.setCursorStates(n.source,3,W_.P.addCursorUp(s,d,o)),s.revealTopMostCursor(n.source),vh(d,s.getCursorStates())}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:Ee.N("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"3_multi",title:Ee.N({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,n){if(!t.hasModel())return;let o=!0;n&&!1===n.logicalLine&&(o=!1);const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const d=s.getCursorStates();s.setCursorStates(n.source,3,W_.P.addCursorDown(s,d,o)),s.revealBottomMostCursor(n.source),vh(d,s.getCursorStates())}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:Ee.N("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"3_multi",title:Ee.N({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,n){if(!e.isEmpty()){for(let o=e.startLineNumber;o<e.endLineNumber;o++){let s=t.getLineMaxColumn(o);n.push(new mi.Y(o,s,o,s))}e.endColumn>1&&n.push(new mi.Y(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const n=t.getModel(),o=t.getSelections(),s=t._getViewModel(),d=s.getCursorStates();let p=[];o.forEach(R=>this.getCursorsForSelection(R,n,p)),p.length>0&&t.setSelections(p),vh(d,s.getCursorStates())}}),(0,Xe.Qr)(class extends wh{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:Ee.N("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:2082,weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"3_multi",title:Ee.N({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}),(0,Xe.Qr)(class extends wh{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:Ee.N("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"3_multi",title:Ee.N({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}),(0,Xe.Qr)(class extends wh{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:Ee.N("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:(0,Ko.gx)(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}),(0,Xe.Qr)(class extends wh{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:Ee.N("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}),(0,Xe.Qr)(class extends wh{constructor(){super({id:"editor.action.selectHighlights",label:Ee.N("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:3114,weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"3_multi",title:Ee.N({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}),(0,Xe.Qr)(class extends wh{constructor(){super({id:"editor.action.changeAll",label:Ee.N("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:$t.Ao.and(vt.u.writable,vt.u.editorTextFocus),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:Ee.N("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections(),o=t.getModel().getLineCount();let s=[];for(let R=n[0].startLineNumber;R<=o;R++)s.push(new mi.Y(R,n[0].startColumn,R,n[0].endColumn));const d=t._getViewModel(),p=d.getCursorStates();s.length>0&&t.setSelections(s),vh(p,d.getCursorStates())}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:Ee.N("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections();let o=[];for(let p=n[0].startLineNumber;p>=1;p--)o.push(new mi.Y(p,n[0].startColumn,p,n[0].endColumn));const s=t._getViewModel(),d=s.getCursorStates();o.length>0&&t.setSelections(o),vh(d,s.getCursorStates())}});var sv=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};const Xd={Visible:new $t.uy("parameterHintsVisible",!1),MultipleSignatures:new $t.uy("parameterHintsMultipleSignatures",!1)};function rv(a,e,t,n,o){return sv(this,void 0,void 0,function*(){const s=a.ordered(e);for(const d of s)try{const p=yield d.provideSignatureHelp(e,t,o,n);if(p)return p}catch(p){(0,Un.Cp)(p)}})}ro.P0.registerCommand("_executeSignatureHelpProvider",(a,...e)=>sv(void 0,void 0,void 0,function*(){const[t,n,o]=e;(0,Gi.p_)(So.o.isUri(t)),(0,Gi.p_)(hi.L.isIPosition(n)),(0,Gi.p_)("string"==typeof o||!o);const s=a.get($n.p),d=yield a.get(ta.S).createModelReference(t);try{const p=yield rv(s.signatureHelpProvider,d.object.textEditorModel,hi.L.lift(n),{triggerKind:eo.WW.Invoke,isRetrigger:!1,triggerCharacter:o},ti.T.None);return p?(setTimeout(()=>p.dispose(),0),p.value):void 0}finally{d.dispose()}})),m(16393);var Zc;!function(a){a.Default={type:0},a.Pending=class{constructor(o,s){this.request=o,this.previouslyActiveHints=s,this.type=2}},a.Active=class{constructor(o){this.hints=o,this.type=1}}}(Zc||(Zc={}));let dE=(()=>{class a extends Pt.JT{constructor(t,n,o=a.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new Rn.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Zc.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Pt.XK),this.triggerChars=new ch.q,this.retriggerChars=new ch.q,this.triggerId=0,this.editor=t,this.providers=n,this.throttledDelayer=new Wn.vp(o),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(s=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(s=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(s=>this.onCursorChange(s))),this._register(this.editor.onDidChangeModelContent(s=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(s=>this.onDidType(s))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(t){2===this._state.type&&this._state.request.cancel(),this._state=t}cancel(t=!1){this.state=Zc.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}trigger(t,n){const o=this.editor.getModel();if(!o||!this.providers.has(o))return;const s=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(()=>this.doTrigger(s),n).catch(Un.dL)}next(){if(1!==this.state.type)return;const t=this.state.hints.signatures.length,n=this.state.hints.activeSignature,o=n%t==t-1,s=this.editor.getOption(76).cycle;!(t<2||o)||s?this.updateActiveSignature(o&&s?0:n+1):this.cancel()}previous(){if(1!==this.state.type)return;const t=this.state.hints.signatures.length,n=this.state.hints.activeSignature,o=0===n,s=this.editor.getOption(76).cycle;!(t<2||o)||s?this.updateActiveSignature(o&&s?t-1:n-1):this.cancel()}updateActiveSignature(t){1===this.state.type&&(this.state=new Zc.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}doTrigger(t){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){const n=1===this.state.type||2===this.state.type,o=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const s=this._pendingTriggers.reduce(uE);this._pendingTriggers=[];const d={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:n,activeSignatureHelp:o};if(!this.editor.hasModel())return!1;const p=this.editor.getModel(),R=this.editor.getPosition();this.state=new Zc.Pending((0,Wn.PG)(j=>rv(this.providers,p,R,d,j)),o);try{const j=yield this.state.request;return t!==this.triggerId?(null==j||j.dispose(),!1):j&&j.value.signatures&&0!==j.value.signatures.length?(this.state=new Zc.Active(j.value),this._lastSignatureHelpResult.value=j,this._onChangedHints.fire(this.state.hints),!0):(null==j||j.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(j){return t===this.triggerId&&(this.state=Zc.Default),(0,Un.dL)(j),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new ch.q,this.retriggerChars=new ch.q;const t=this.editor.getModel();if(t)for(const n of this.providers.ordered(t)){for(const o of n.signatureHelpTriggerCharacters||[])this.triggerChars.add(o.charCodeAt(0)),this.retriggerChars.add(o.charCodeAt(0));for(const o of n.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(o.charCodeAt(0))}}onDidType(t){if(!this.triggerOnType)return;const n=t.length-1,o=t.charCodeAt(n);(this.triggerChars.has(o)||this.isTriggered&&this.retriggerChars.has(o))&&this.trigger({triggerKind:eo.WW.TriggerCharacter,triggerCharacter:t.charAt(n)})}onCursorChange(t){"mouse"===t.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:eo.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:eo.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return a.DEFAULT_DELAY=120,a})();function uE(a,e){return e.triggerKind===eo.WW.ContentChange?a:e}var av=m(76804),hp=function(a,e){return function(t,n){e(t,n,a)}};const jr=st.$,fE=(0,er.q5)("parameter-hints-next",Qn.lA.chevronDown,Ee.N("parameterHintsNextIcon","Icon for show next parameter hint.")),gE=(0,er.q5)("parameter-hints-previous",Qn.lA.chevronUp,Ee.N("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let fp=class bw extends Pt.JT{constructor(e,t,n,o,s){super(),this.editor=e,this.renderDisposeables=this._register(new Pt.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Gl({editor:e},o,n)),this.model=this._register(new dE(e,s.signatureHelpProvider)),this.keyVisible=Xd.Visible.bindTo(t),this.keyMultipleSignatures=Xd.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(d=>{d?(this.show(),this.render(d)):this.hide()}))}createParameterHintDOMNodes(){const e=jr(".editor-widget.parameter-hints-widget"),t=st.R3(e,jr(".phwrapper"));t.tabIndex=-1;const n=st.R3(t,jr(".controls")),o=st.R3(n,jr(".button"+r.kS.asCSSSelector(gE))),s=st.R3(n,jr(".overloads")),d=st.R3(n,jr(".button"+r.kS.asCSSSelector(fE)));this._register(st.nm(o,"click",Se=>{st.zB.stop(Se),this.previous()})),this._register(st.nm(d,"click",Se=>{st.zB.stop(Se),this.next()}));const p=jr(".body"),R=new fr.s$(p,{});this._register(R),t.appendChild(R.getDomNode());const j=st.R3(p,jr(".signature")),z=st.R3(p,jr(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:j,overloads:s,docs:z,scrollbar:R},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Se=>{this.visible&&this.editor.layoutContentWidget(this)}));const ne=()=>{if(!this.domNodes)return;const Se=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${Se.fontSize}px`,this.domNodes.element.style.lineHeight=""+Se.lineHeight/Se.fontSize};ne(),this._register(Rn.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(Se=>Se.hasChanged(44)).on(ne,null)),this._register(this.editor.onDidLayoutChange(Se=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const n=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const o=e.signatures[e.activeSignature];if(!o)return;const s=st.R3(this.domNodes.signature,jr(".code")),d=this.editor.getOption(44);s.style.fontSize=`${d.fontSize}px`,s.style.fontFamily=d.fontFamily;const R=null!==(t=o.activeParameter)&&void 0!==t?t:e.activeParameter;o.parameters.length>0?this.renderParameters(s,o,R):st.R3(s,jr("span")).textContent=o.label;const j=o.parameters[R];if(null==j?void 0:j.documentation){const ne=jr("span.documentation");if("string"==typeof j.documentation)ne.textContent=j.documentation;else{const Se=this.renderMarkdownDocs(j.documentation);ne.appendChild(Se.element)}st.R3(this.domNodes.docs,jr("p",{},ne))}if(void 0!==o.documentation)if("string"==typeof o.documentation)st.R3(this.domNodes.docs,jr("p",{},o.documentation));else{const ne=this.renderMarkdownDocs(o.documentation);st.R3(this.domNodes.docs,ne.element)}const z=this.hasDocs(o,j);if(this.domNodes.signature.classList.toggle("has-docs",z),this.domNodes.docs.classList.toggle("empty",!z),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,j){let ne="";const Se=o.parameters[R];ne=Array.isArray(Se.label)?o.label.substring(Se.label[0],Se.label[1]):Se.label,Se.documentation&&(ne+="string"==typeof Se.documentation?`, ${Se.documentation}`:`, ${Se.documentation.value}`),o.documentation&&(ne+="string"==typeof o.documentation?`, ${o.documentation}`:`, ${o.documentation.value}`),this.announcedLabel!==ne&&(Ms.Z9(Ee.N("hint","{0}, hint",ne)),this.announcedLabel=ne)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var n;null===(n=this.domNodes)||void 0===n||n.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"==typeof t.documentation&&(0,Gi.cW)(t.documentation).length>0||t&&"object"==typeof t.documentation&&(0,Gi.cW)(t.documentation).value.length>0||e.documentation&&"string"==typeof e.documentation&&(0,Gi.cW)(e.documentation).length>0||e.documentation&&"object"==typeof e.documentation&&(0,Gi.cW)(e.documentation.value).length>0)}renderParameters(e,t,n){const[o,s]=this.getParameterLabelOffsets(t,n),d=document.createElement("span");d.textContent=t.label.substring(0,o);const p=document.createElement("span");p.textContent=t.label.substring(o,s),p.className="parameter active";const R=document.createElement("span");R.textContent=t.label.substring(s),st.R3(e,d,p,R)}getParameterLabelOffsets(e,t){const n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){const o=new RegExp(`(\\W|^)${(0,An.ec)(n.label)}(?=\\W|$)`,"g");o.test(e.label);const s=o.lastIndex-n.label.length;return s>=0?[s,o.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return bw.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const n=this.domNodes.element.getElementsByClassName("phwrapper");n.length&&(n[0].style.maxHeight=t)}};fp.ID="editor.widget.parameterHintsWidget",fp=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([hp(1,$t.i6),hp(2,oa.v4),hp(3,Ur.O),hp(4,$n.p)],fp);const mE=(0,ge.P6G)("editorHoverWidget.highlightForeground",{dark:ge.Gwp,light:ge.Gwp,hc:ge.Gwp},Ee.N("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,r.Ic)((a,e)=>{const t=a.getColor(ge.CNo);t&&(e.addRule(`.monaco-editor .parameter-hints-widget { border: ${a.type===av.e.HIGH_CONTRAST?2:1}px solid ${t}; }`),e.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${t.transparent(.5)}; }`));const n=a.getColor(ge.yJx);n&&e.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const o=a.getColor(ge.url);o&&e.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const s=a.getColor(ge.sgC);s&&e.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${s}; }`);const d=a.getColor(ge.Sbf);d&&e.addRule(`.monaco-editor .parameter-hints-widget { color: ${d}; }`);const p=a.getColor(ge.SwI);p&&e.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${p}; }`);const R=a.getColor(mE);R&&e.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${R}}`)});let qd=class vw extends Pt.JT{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(fp,this.editor))}static get(e){return e.getContribution(vw.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};qd.ID="editor.controller.parameterHints",qd=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,1)}}(0,oo.TG)],qd),(0,Xe._K)(qd.ID,qd),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:Ee.N("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:vt.u.hasSignatureHelpProvider,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3082,weight:100}})}run(e,t){const n=qd.get(t);n&&n.trigger({triggerKind:eo.WW.Invoke})}});const K_=Xe._l.bindToContribution(qd.get);(0,Xe.fK)(new K_({id:"closeParameterHints",precondition:Xd.Visible,handler:a=>a.cancel(),kbOpts:{weight:175,kbExpr:vt.u.focus,primary:9,secondary:[1033]}})),(0,Xe.fK)(new K_({id:"showPrevParameterHint",precondition:$t.Ao.and(Xd.Visible,Xd.MultipleSignatures),handler:a=>a.previous(),kbOpts:{weight:175,kbExpr:vt.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,Xe.fK)(new K_({id:"showNextParameterHint",precondition:$t.Ao.and(Xd.Visible,Xd.MultipleSignatures),handler:a=>a.next(),kbOpts:{weight:175,kbExpr:vt.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var bE=m(34276),vE=m(92778),yh=m(63779),$_=(m(67087),function(a,e){return function(t,n){e(t,n,a)}});const gp=new $t.uy("renameInputVisible",!1,(0,Ee.N)("renameInputVisible","Whether the rename input widget is visible"));let Z_=class{constructor(e,t,n,o,s){this._editor=e,this._acceptKeybindings=t,this._themeService=n,this._keybindingService=o,this._disposables=new Pt.SL,this.allowEditorOverflow=!0,this._visibleContextKey=gp.bindTo(s),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(44)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,Ee.N)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var t,n;const[o,s]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(o),this._label.innerText=(0,Ee.N)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(t=this._keybindingService.lookupKeybinding(o))||void 0===t?void 0:t.getLabel(),null===(n=this._keybindingService.lookupKeybinding(s))||void 0===n?void 0:n.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,n,o,s;if(!this._input||!this._domNode)return;const d=e.getColor(ge.rh);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(ge.D0T))&&void 0!==t?t:""),this._domNode.style.boxShadow=d?` 0 0 8px 2px ${d}`:"",this._domNode.style.color=String(null!==(n=e.getColor(ge.zJb))&&void 0!==n?n:""),this._input.style.backgroundColor=String(null!==(o=e.getColor(ge.sEe))&&void 0!==o?o:"");const p=e.getColor(ge.dt_);this._input.style.borderWidth=p?"1px":"0px",this._input.style.borderStyle=p?"solid":"none",this._input.style.borderColor=null!==(s=null==p?void 0:p.toString())&&void 0!==s?s:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(44);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=.8*e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,n,o,s,d){this._domNode.classList.toggle("preview",s),this._position=new hi.L(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",o.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const p=new Pt.SL;return new Promise(R=>{this._currentCancelInput=j=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,R(j),!0),this._currentAcceptInput=j=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,R({newName:this._input.value,wantsPreview:s&&j})):this.cancelInput(!0)},p.add(d.onCancellationRequested(()=>this.cancelInput(!0))),p.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{p.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};Z_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([$_(2,r.XE),$_(3,js.d),$_(4,$t.i6)],Z_);var eu=function(a,e){return function(t,n){e(t,n,a)}},tu=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};class G_{constructor(e,t,n){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=n.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return tu(this,void 0,void 0,function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const o=this._providers[this._providerRenameIdx];if(!o.resolveRenameLocation)break;let s=yield o.resolveRenameLocation(this.model,this.position,e);if(s){if(s.rejectReason){t.push(s.rejectReason);continue}return s}}const n=this.model.getWordAtPosition(this.position);return n?{range:new kt.e(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:kt.e.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}})}provideRenameEdits(e,t){return tu(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,n,o){return tu(this,void 0,void 0,function*(){const s=this._providers[t];if(!s)return{edits:[],rejectReason:n.join("\n")};const d=yield s.provideRenameEdits(this.model,this.position,e,o);return d?d.rejectReason?this._provideRenameEdits(e,t+1,n.concat(d.rejectReason),o):d:this._provideRenameEdits(e,t+1,n.concat(Ee.N("no result","No result.")),o)})}}let nu=class ww{constructor(e,t,n,o,s,d,p,R){this.editor=e,this._instaService=t,this._notificationService=n,this._bulkEditService=o,this._progressService=s,this._logService=d,this._configService=p,this._languageFeaturesService=R,this._dispoableStore=new Pt.SL,this._cts=new ti.A,this._renameInputField=this._dispoableStore.add(new Wn.Ue(()=>this._dispoableStore.add(this._instaService.createInstance(Z_,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(e){return e.getContribution(ww.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return tu(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const n=this.editor.getPosition(),o=new G_(this.editor.getModel(),n,this._languageFeaturesService.renameProvider);if(!o.hasProvider())return;let s;this._cts=new yc.Dl(this.editor,5);try{const Se=o.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Se,250),s=yield Se}catch(Se){return void(null===(e=Xs.get(this.editor))||void 0===e||e.showMessage(Se||Ee.N("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),n))}if(!s)return;if(s.rejectReason)return void(null===(t=Xs.get(this.editor))||void 0===t||t.showMessage(s.rejectReason,n));if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new yc.Dl(this.editor,5,s.range);let d=this.editor.getSelection(),p=0,R=s.text.length;!kt.e.isEmpty(d)&&!kt.e.spansMultipleLines(d)&&kt.e.containsRange(s.range,d)&&(p=Math.max(0,d.startColumn-s.range.startColumn),R=Math.min(s.range.endColumn,d.endColumn)-s.range.startColumn);const j=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),z=yield this._renameInputField.value.getInput(s.range,s.text,p,R,j,this._cts.token);if("boolean"==typeof z)return void(z&&this.editor.focus());this.editor.focus();const ne=(0,Wn.eP)(o.provideRenameEdits(z.newName,this._cts.token),this._cts.token).then(Se=>tu(this,void 0,void 0,function*(){if(Se&&this.editor.hasModel()){if(Se.rejectReason)return void this._notificationService.info(Se.rejectReason);this.editor.setSelection(kt.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(Ho.fo.convert(Se),{editor:this.editor,showPreview:z.wantsPreview,label:Ee.N("label","Renaming '{0}'",null==s?void 0:s.text),quotableLabel:Ee.N("quotableLabel","Renaming {0}",null==s?void 0:s.text)}).then(Me=>{Me.ariaSummary&&(0,Ms.Z9)(Ee.N("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,z.newName,Me.ariaSummary))}).catch(Me=>{this._notificationService.error(Ee.N("rename.failedApply","Rename failed to apply edits")),this._logService.error(Me)})}}),Se=>{this._notificationService.error(Ee.N("rename.failed","Rename failed to compute edits")),this._logService.error(Se)});return this._progressService.showWhile(ne,250),ne})}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};nu.ID="editor.contrib.renameController",nu=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([eu(1,oo.TG),eu(2,Cs.lT),eu(3,Ho.vu),eu(4,ma.ek),eu(5,Jm.VZ),eu(6,bE.V),eu(7,$n.p)],nu),(0,Xe._K)(nu.ID,nu),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.rename",label:Ee.N("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:$t.Ao.and(vt.u.writable,vt.u.hasRenameProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const n=e.get(Zt.$),[o,s]=Array.isArray(t)&&t||[void 0,void 0];return So.o.isUri(o)&&hi.L.isIPosition(s)?n.openCodeEditor({resource:o},n.getActiveCodeEditor()).then(d=>{!d||(d.setPosition(s),d.invokeWithinContext(p=>(this.reportTelemetry(p,d),this.run(p,d))))},Un.dL):super.runCommand(e,t)}run(e,t){const n=nu.get(t);return n?n.run():Promise.resolve()}});const Q_=Xe._l.bindToContribution(nu.get);(0,Xe.fK)(new Q_({id:"acceptRenameInput",precondition:gp,handler:a=>a.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:vt.u.focus,primary:3}})),(0,Xe.fK)(new Q_({id:"acceptRenameInputWithPreview",precondition:$t.Ao.and(gp,$t.Ao.has("config.editor.rename.enablePreview")),handler:a=>a.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:vt.u.focus,primary:1027}})),(0,Xe.fK)(new Q_({id:"cancelRenameInput",precondition:gp,handler:a=>a.cancelRenameInput(),kbOpts:{weight:199,kbExpr:vt.u.focus,primary:9,secondary:[1033]}})),(0,Xe.sb)("_executeDocumentRenameProvider",function(a,e,t,...n){const[o]=n;(0,Gi.p_)("string"==typeof o);const{renameProvider:s}=a.get($n.p);return function(a,e,t,n){return tu(this,void 0,void 0,function*(){const o=new G_(e,t,a),s=yield o.resolveRenameLocation(ti.T.None);return(null==s?void 0:s.rejectReason)?{edits:[],rejectReason:s.rejectReason}:o.provideRenameEdits(n,ti.T.None)})}(s,e,t,o)}),(0,Xe.sb)("_executePrepareRename",function(a,e,t){return tu(this,void 0,void 0,function*(){const{renameProvider:n}=a.get($n.p),s=yield new G_(e,t,n).resolveRenameLocation(ti.T.None);if(null==s?void 0:s.rejectReason)throw new Error(s.rejectReason);return s})}),yh.B.as(vE.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:Ee.N("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});class LE{provideSelectionRanges(e,t){const n=[];for(const o of t){const s=[];n.push(s),this._addInWordRanges(s,e,o),this._addWordRanges(s,e,o),this._addWhitespaceLine(s,e,o),s.push({range:e.getFullModelRange()})}return n}_addInWordRanges(e,t,n){const o=t.getWordAtPosition(n);if(!o)return;let{word:s,startColumn:d}=o,p=n.column-d,R=p,j=p,z=0;for(;R>=0;R--){let ne=s.charCodeAt(R);if(R!==p&&(95===ne||45===ne))break;if((0,An.mK)(ne)&&(0,An.df)(z))break;z=ne}for(R+=1;j<s.length;j++){let ne=s.charCodeAt(j);if((0,An.df)(ne)&&(0,An.mK)(z))break;if(95===ne||45===ne)break;z=ne}R<j&&e.push({range:new kt.e(n.lineNumber,d+R,n.lineNumber,d+j)})}_addWordRanges(e,t,n){const o=t.getWordAtPosition(n);o&&e.push({range:new kt.e(n.lineNumber,o.startColumn,n.lineNumber,o.endColumn)})}_addWhitespaceLine(e,t,n){t.getLineLength(n.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(n.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(n.lineNumber)&&e.push({range:new kt.e(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}var mp=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};class Y_{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const n=new Y_(t,this.ranges);return n.ranges[t].equalsRange(this.ranges[this.index])?n.mov(e):n}}let Sh=class yw{constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}static get(e){return e.getContribution(yw.ID)}dispose(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}run(e){return mp(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),n=this._editor.getModel();if(this._state||(yield cv(this._languageFeaturesService.selectionRangeProvider,n,t.map(s=>s.getPosition()),this._editor.getOption(102),ti.T.None).then(s=>{var d;if(Wi.Of(s)&&s.length===t.length&&this._editor.hasModel()&&Wi.fS(this._editor.getSelections(),t,(p,R)=>p.equalsSelection(R))){for(let p=0;p<s.length;p++)s[p]=s[p].filter(R=>R.containsPosition(t[p].getStartPosition())&&R.containsPosition(t[p].getEndPosition())),s[p].unshift(t[p]);this._state=s.map(p=>new Y_(0,p)),null===(d=this._selectionListener)||void 0===d||d.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var p;this._ignoreSelection||(null===(p=this._selectionListener)||void 0===p||p.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(s=>s.mov(e));const o=this._state.map(s=>mi.Y.fromPositions(s.ranges[s.index].getStartPosition(),s.ranges[s.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(o)}finally{this._ignoreSelection=!1}})}};Sh.ID="editor.contrib.smartSelectController",Sh=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,1)}}(0,$n.p)],Sh);class lv extends Xe.R6{constructor(e,t){super(t),this._forward=e}run(e,t){return mp(this,void 0,void 0,function*(){let n=Sh.get(t);n&&(yield n.run(this._forward))})}}function cv(a,e,t,n,o){return mp(this,void 0,void 0,function*(){const s=a.all(e).concat(new LE);1===s.length&&s.unshift(new xb);let d=[],p=[];for(const R of s)d.push(Promise.resolve(R.provideSelectionRanges(e,t,o)).then(j=>{if(Wi.Of(j)&&j.length===t.length)for(let z=0;z<t.length;z++){p[z]||(p[z]=[]);for(const ne of j[z])kt.e.isIRange(ne.range)&&kt.e.containsPosition(ne.range,t[z])&&p[z].push(kt.e.lift(ne.range))}},Un.Cp));return yield Promise.all(d),p.map(R=>{if(0===R.length)return[];R.sort((Se,Me)=>hi.L.isBefore(Se.getStartPosition(),Me.getStartPosition())?1:hi.L.isBefore(Me.getStartPosition(),Se.getStartPosition())||hi.L.isBefore(Se.getEndPosition(),Me.getEndPosition())?-1:hi.L.isBefore(Me.getEndPosition(),Se.getEndPosition())?1:0);let z,j=[];for(const Se of R)(!z||kt.e.containsRange(Se,z)&&!kt.e.equalsRange(Se,z))&&(j.push(Se),z=Se);if(!n.selectLeadingAndTrailingWhitespace)return j;let ne=[j[0]];for(let Se=1;Se<j.length;Se++){const Me=j[Se-1],Ge=j[Se];if(Ge.startLineNumber!==Me.startLineNumber||Ge.endLineNumber!==Me.endLineNumber){const dt=new kt.e(Me.startLineNumber,e.getLineFirstNonWhitespaceColumn(Me.startLineNumber),Me.endLineNumber,e.getLineLastNonWhitespaceColumn(Me.endLineNumber));dt.containsRange(Me)&&!dt.equalsRange(Me)&&Ge.containsRange(dt)&&!Ge.equalsRange(dt)&&ne.push(dt);const Ft=new kt.e(Me.startLineNumber,1,Me.endLineNumber,e.getLineMaxColumn(Me.endLineNumber));Ft.containsRange(Me)&&!Ft.equalsRange(dt)&&Ge.containsRange(Ft)&&!Ge.equalsRange(Ft)&&ne.push(Ft)}ne.push(Ge)}return ne})})}ro.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,Xe._K)(Sh.ID,Sh),(0,Xe.Qr)(class extends lv{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:Ee.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"1_basic",title:Ee.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,Xe.Qr)(class extends lv{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:Ee.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:Hn.eH.MenubarSelectionMenu,group:"1_basic",title:Ee.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),ro.P0.registerCommand("_executeSelectionRangeProvider",function(a,...e){return mp(this,void 0,void 0,function*(){const[t,n]=e;(0,Gi.p_)(So.o.isUri(t));const o=a.get($n.p).selectionRangeProvider,s=yield a.get(ta.S).createModelReference(t);try{return cv(o,s.object.textEditorModel,n,{selectLeadingAndTrailingWhitespace:!0},ti.T.None)}finally{s.dispose()}})}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.forceRetokenize",label:Ee.N("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getModel();n.resetTokenization();const o=new pa.G(!0);n.forceTokenization(n.getLineCount()),o.stop(),console.log(`tokenization took ${o.elapsed()}`)}});var dv=m(93002);let J_=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(t,n){const s=!dv.n.getTabFocusMode();dv.n.setTabFocusMode(s),(0,Ms.Z9)(s?Ee.N("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):Ee.N("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return a.ID="editor.action.toggleTabFocusMode",a})();(0,Xe.Qr)(J_),m(43456);var uv=m(4263),xh=m(18066);m(26549);let X_=class extends Pt.JT{constructor(e,t,n={},o){var s;super(),this._link=t,this._enabled=!0,this.el=(0,st.R3)(e,(0,st.$)("a.monaco-link",{tabIndex:null!==(s=t.tabIndex)&&void 0!==s?s:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const d=this._register(new Hf.Y(this.el,"click")),p=this._register(new Hf.Y(this.el,"keypress")),R=Rn.ju.chain(p.event).map(ne=>new Td.y(ne)).filter(ne=>3===ne.keyCode).event,j=this._register(new Hf.Y(this.el,xc.t.Tap)).event;this._register(xc.o.addTarget(this.el));const z=Rn.ju.any(d.event,R,j);this._register(z(ne=>{!this.enabled||(st.zB.stop(ne,!0),(null==n?void 0:n.opener)?n.opener(this._link.href):o.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};X_=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,3)}}(0,oa.v4)],X_),(0,r.Ic)((a,e)=>{const t=a.getColor(ge.url);t&&e.addRule(`.monaco-link { color: ${t}; }`);const n=a.getColor(ge.sgC);n&&e.addRule(`.monaco-link:hover { color: ${n}; }`)});var hv=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},fv=function(a,e){return function(t,n){e(t,n,a)}};let q_=class extends Pt.JT{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(e1))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{this.hide(),e.onClose&&e.onClose()}})),this._editor.setBanner(this.banner.element,26)}};q_=hv([fv(1,oo.TG)],q_);let e1=class extends Pt.JT{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(Gl,{}),this.element=(0,st.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){return e.ariaLabel?e.ariaLabel:"string"==typeof e.message?e.message:void 0}getBannerMessage(e){if("string"==typeof e){const t=(0,st.$)("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){(0,st.PO)(this.element)}show(e){(0,st.PO)(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const n=(0,st.R3)(this.element,(0,st.$)("div.icon-container"));n.setAttribute("aria-hidden","true"),e.icon&&n.appendChild((0,st.$)(`div${r.kS.asCSSSelector(e.icon)}`));const o=(0,st.R3)(this.element,(0,st.$)("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=(0,st.R3)(this.element,(0,st.$)("div.message-actions-container")),e.actions)for(const d of e.actions)this._register(this.instantiationService.createInstance(X_,this.messageActionsContainer,Object.assign(Object.assign({},d),{tabIndex:-1}),{}));const s=(0,st.R3)(this.element,(0,st.$)("div.action-container"));this.actionBar=this._register(new kd.o(s)),this.actionBar.push(this._register(new Us.aU("banner.close","Close Banner",r.kS.asClassName(er.s_),!0,()=>{"function"==typeof e.onClose&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};e1=hv([fv(0,oo.TG)],e1);var OE=m(73062),t1=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},Lh=function(a,e){return function(t,n){e(t,n,a)}},Fs=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};const AE=(0,er.q5)("extensions-warning-message",Qn.lA.warning,Ee.N("warningIcon","Icon shown with a warning message in the extensions editor."));let Dh=class extends Pt.JT{constructor(e,t,n,o){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=n,this._highlighter=null,this._bannerClosed=!1,this._updateState=s=>{if(s&&s.hasMore){if(this._bannerClosed)return;const d=Math.max(s.ambiguousCharacterCount,s.nonBasicAsciiCharacterCount,s.invisibleCharacterCount);let p;if(s.nonBasicAsciiCharacterCount>=d)p={message:Ee.N("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new r1};else if(s.ambiguousCharacterCount>=d)p={message:Ee.N("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new cg};else{if(!(s.invisibleCharacterCount>=d))throw new Error("Unreachable");p={message:Ee.N("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new s1}}this._bannerController.show({id:"unicodeHighlightBanner",message:p.message,icon:AE,actions:[{label:p.command.shortLabel,href:`command:${p.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(o.createInstance(q_,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(113),this._register(n.onDidChangeTrust(s=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(s=>{s.hasChanged(113)&&(this._options=e.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=function(a,e){return{nonBasicASCII:e.nonBasicASCII===hs.Av?!a:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===hs.Av?!a:e.includeComments,includeStrings:e.includeStrings===hs.Av?!a:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(n=>!1===n))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(n=>n.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(n=>"_os"===n?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===n?mt.dK:n)};this._highlighter=this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?new n1(this._editor,t,this._updateState,this._editorWorkerService):new FE(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};Dh.ID="editor.contrib.unicodeHighlighter",Dh=t1([Lh(1,Gf.p),Lh(2,OE.Y),Lh(3,oo.TG)],Dh);let n1=class extends Pt.JT{constructor(e,t,n,o){super(),this._editor=e,this._options=t,this._updateState=n,this._editorWorkerService=o,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new Wn.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void(this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[])));const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const n=[];if(!t.hasMore)for(const o of t.ranges)n.push({range:o,options:Eh.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),n))})}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;const t=this._editor.getModel(),n=t.getDecorationRange(e),o={range:n,options:Eh.instance.getDecorationFromOptions(this._options),id:e,ownerId:0};return(0,xh.Fd)(t,o)?{reason:mv(t.getValueInRange(n),this._options),inComment:(0,xh.$t)(t,o),inString:(0,xh.zg)(t,o)}:null}};n1=t1([Lh(3,Gf.p)],n1);class FE extends Pt.JT{constructor(e,t,n){super(),this._editor=e,this._options=t,this._updateState=n,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new Wn.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void(this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[])));const e=this._editor.getVisibleRanges(),t=[],n={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const o of e){const s=uv.a.computeUnicodeHighlights(this._model,this._options,o);for(const d of s.ranges)n.ranges.push(d);n.ambiguousCharacterCount+=n.ambiguousCharacterCount,n.invisibleCharacterCount+=n.invisibleCharacterCount,n.nonBasicAsciiCharacterCount+=n.nonBasicAsciiCharacterCount,n.hasMore=n.hasMore||s.hasMore}if(!n.hasMore)for(const o of n.ranges)t.push({range:o,options:Eh.instance.getDecorationFromOptions(this._options)});this._updateState(n),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),t))}getDecorationInfo(e){if(!this._decorationIds.has(e))return null;const t=this._editor.getModel(),n=t.getDecorationRange(e),o=t.getValueInRange(n),s={range:n,options:Eh.instance.getDecorationFromOptions(this._options),id:e,ownerId:0};return(0,xh.Fd)(t,s)?{reason:mv(o,this._options),inComment:(0,xh.$t)(t,s),inString:(0,xh.zg)(t,s)}:null}}let i1=class{constructor(e,t,n){this._editor=e,this._languageService=t,this._openerService=n,this.hoverOrdinal=4}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const n=this._editor.getModel(),o=this._editor.getContribution(Dh.ID);if(!o)return[];const s=[];let d=300;for(const p of t){const R=o.getDecorationInfo(p.id);if(!R)continue;const z=n.getValueInRange(p.range).codePointAt(0),ne=gv(z);let Se;switch(R.reason.kind){case 0:Se=Ee.N("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",ne,gv(R.reason.confusableWith.codePointAt(0)));break;case 1:Se=Ee.N("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",ne);break;case 2:Se=Ee.N("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",ne)}const Me={codePoint:z,reason:R.reason,inComment:R.inComment,inString:R.inString},dt=[{value:`${Se} [${Ee.N("unicodeHighlight.adjustSettings","Adjust settings")}](command:${pv.ID}?${encodeURIComponent(JSON.stringify(Me))})`,isTrusted:!0}];s.push(new Ql(this,p.range,dt,d++))}return s}renderHoverParts(e,t){return LC(e,t,this._editor,this._languageService,this._openerService)}};function o1(a){return`U+${a.toString(16).padStart(4,"0")}`}function gv(a){let e=`\`${o1(a)}\``;return An.vU.isInvisibleCharacter(a)||(e+=` "${function(a){return 96===a?"`` ` ``":"`"+String.fromCodePoint(a)+"`"}(a)}"`),e}function mv(a,e){return uv.a.computeUnicodeHighlightReason(a,e)}i1=t1([Lh(1,Ur.O),Lh(2,oa.v4)],i1);class Eh{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const n=`${e}${t}`;let o=this.map.get(n);return o||(o=Zi.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(n,o)),o}}Eh.instance=new Eh;class WE extends Xe.R6{constructor(){super({id:cg.ID,label:Ee.N("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=Ee.N("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,n){return Fs(this,void 0,void 0,function*(){let o=null==e?void 0:e.get(Is.Ui);o&&this.runAction(o)})}runAction(e){return Fs(this,void 0,void 0,function*(){yield e.updateValue(hs.qt.includeComments,!1,1)})}}class VE extends Xe.R6{constructor(){super({id:cg.ID,label:Ee.N("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=Ee.N("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,n){return Fs(this,void 0,void 0,function*(){let o=null==e?void 0:e.get(Is.Ui);o&&this.runAction(o)})}runAction(e){return Fs(this,void 0,void 0,function*(){yield e.updateValue(hs.qt.includeStrings,!1,1)})}}let cg=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=Ee.N("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(t,n,o){return Fs(this,void 0,void 0,function*(){let s=null==t?void 0:t.get(Is.Ui);s&&this.runAction(s)})}runAction(t){return Fs(this,void 0,void 0,function*(){yield t.updateValue(hs.qt.ambiguousCharacters,!1,1)})}}return a.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",a})(),s1=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=Ee.N("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(t,n,o){return Fs(this,void 0,void 0,function*(){let s=null==t?void 0:t.get(Is.Ui);s&&this.runAction(s)})}runAction(t){return Fs(this,void 0,void 0,function*(){yield t.updateValue(hs.qt.invisibleCharacters,!1,1)})}}return a.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",a})(),r1=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=Ee.N("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(t,n,o){return Fs(this,void 0,void 0,function*(){let s=null==t?void 0:t.get(Is.Ui);s&&this.runAction(s)})}runAction(t){return Fs(this,void 0,void 0,function*(){yield t.updateValue(hs.qt.nonBasicASCII,!1,1)})}}return a.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",a})(),pv=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Ee.N("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(t,n,o){return Fs(this,void 0,void 0,function*(){const{codePoint:s,reason:d,inString:p,inComment:R}=o,j=String.fromCodePoint(s),z=t.get(zr.eJ),ne=t.get(Is.Ui),Me=[];if(0===d.kind)for(const dt of d.notAmbiguousInLocales)Me.push({label:Ee.N("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',dt),run:()=>Fs(this,void 0,void 0,function*(){zE(ne,[dt])})});if(Me.push({label:(dt=s,An.vU.isInvisibleCharacter(dt)?Ee.N("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",o1(dt)):Ee.N("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${o1(dt)} "${j}"`)),run:()=>function(a,e){return Fs(this,void 0,void 0,function*(){const t=a.getValue(hs.qt.allowedCharacters);let n;n="object"==typeof t&&t?t:{};for(const o of e)n[String.fromCodePoint(o)]=!0;yield a.updateValue(hs.qt.allowedCharacters,n,1)})}(ne,[s])}),R){const dt=new WE;Me.push({label:dt.label,run:()=>Fs(this,void 0,void 0,function*(){return dt.runAction(ne)})})}else if(p){const dt=new VE;Me.push({label:dt.label,run:()=>Fs(this,void 0,void 0,function*(){return dt.runAction(ne)})})}var dt;if(0===d.kind){const dt=new cg;Me.push({label:dt.label,run:()=>Fs(this,void 0,void 0,function*(){return dt.runAction(ne)})})}else if(1===d.kind){const dt=new s1;Me.push({label:dt.label,run:()=>Fs(this,void 0,void 0,function*(){return dt.runAction(ne)})})}else if(2===d.kind){const dt=new r1;Me.push({label:dt.label,run:()=>Fs(this,void 0,void 0,function*(){return dt.runAction(ne)})})}else!function(a){throw new Error(`Unexpected value: ${a}`)}(d);const Ge=yield z.pick(Me,{title:Ee.N("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});Ge&&(yield Ge.run())})}}return a.ID="editor.action.unicodeHighlight.showExcludeOptions",a})();function zE(a,e){var t;return Fs(this,void 0,void 0,function*(){const n=null===(t=a.inspect(hs.qt.allowedLocales).user)||void 0===t?void 0:t.value;let o;o="object"==typeof n&&n?Object.assign({},n):{};for(const s of e)o[s]=!0;yield a.updateValue(hs.qt.allowedLocales,o,1)})}(0,Xe.Qr)(cg),(0,Xe.Qr)(s1),(0,Xe.Qr)(r1),(0,Xe.Qr)(pv),(0,Xe._K)(Dh.ID,Dh),Vd.register(i1);var a1=m(4890),_v=function(a,e){return function(t,n){e(t,n,a)}};const Cv="ignoreUnusualLineTerminators";let dg=class extends Pt.JT{constructor(e,t,n){super(),this._editor=e,this._dialogService=t,this._codeEditorService=n,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(o=>{o.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){if("off"===this._config||!this._editor.hasModel())return;const e=this._editor.getModel();e.mightContainUnusualLineTerminators()&&!0!==function(a,e){return a.getModelProperty(e.uri,Cv)}(this._codeEditorService,e)&&!this._editor.getOption(81)&&("auto"!==this._config?(yield this._dialogService.confirm({title:Ee.N("unusualLineTerminators.title","Unusual Line Terminators"),message:Ee.N("unusualLineTerminators.message","Detected unusual line terminators"),detail:Ee.N("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,Mo.EZ)(e.uri)),primaryButton:Ee.N("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:Ee.N("unusualLineTerminators.ignore","Ignore")})).confirmed?e.removeUnusualLineTerminators(this._editor.getSelections()):function(a,e,t){a.setModelProperty(e.uri,Cv,!0)}(this._codeEditorService,e):e.removeUnusualLineTerminators(this._editor.getSelections()))})}};dg.ID="editor.contrib.unusualLineTerminatorsDetector",dg=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([_v(1,a1.S),_v(2,Zt.$)],dg),(0,Xe._K)(dg.ID,dg);var bv=m(82437),vv=m(18548),GE=m(31128),ug=function(a,e){return function(t,n){e(t,n,a)}};let hg=class extends Pt.JT{constructor(e,t,n,o,s,d){super(),this._modelService=t,this._themeService=n,this._configurationService=o,this._editor=e,this._provider=d.documentRangeSemanticTokensProvider,this._debounceInformation=s.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new Wn.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const p=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{p()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),p()})),this._register(this._editor.onDidChangeModelContent(R=>{this._cancelAll(),p()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),p()})),this._register(this._configurationService.onDidChangeConfiguration(R=>{R.affectsConfiguration(vv.e3)&&(this._cancelAll(),p())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),p()}))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,n=this._outstandingRequests.length;t<n;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!(0,vv.tw)(e,this._themeService,this._configurationService))return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));if(!(0,bv.KO)(this._provider,e))return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(n=>this._requestRange(e,n)))}_requestRange(e,t){const n=e.getVersionId(),o=(0,Wn.PG)(d=>Promise.resolve((0,bv.OG)(this._provider,e,t,d))),s=new pa.G(!1);return o.then(d=>{if(this._debounceInformation.update(e,s.elapsed()),!d||!d.tokens||e.isDisposed()||e.getVersionId()!==n)return;const{provider:p,tokens:R}=d,j=this._modelService.getSemanticTokensProviderStyling(p);e.setPartialSemanticTokens(t,(0,GE.h)(R,j,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}};hg.ID="editor.contrib.viewportSemanticTokens",hg=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([ug(1,Jr.q),ug(2,r.XE),ug(3,Is.Ui),ug(4,Ba.A),ug(5,$n.p)],hg),(0,Xe._K)(hg.ID,hg);var wv=function(a,e){return function(t,n){e(t,n,a)}};const JE=(0,ge.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},Ee.N("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),XE=(0,ge.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},Ee.N("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),qE=(0,ge.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hc:ge.xL1},Ee.N("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),eM=(0,ge.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:ge.xL1},Ee.N("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),tM=(0,ge.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},Ee.N("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),nM=(0,ge.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},Ee.N("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),pp=new $t.uy("hasWordHighlights",!1);function yv(a,e,t,n){const o=a.ordered(e);return(0,Wn.Ps)(o.map(s=>()=>Promise.resolve(s.provideDocumentHighlights(e,t,n)).then(void 0,Un.Cp)),Wi.Of)}class Sv{constructor(e,t,n){this._model=e,this._selection=t,this._wordSeparators=n,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=(0,Wn.PG)(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){const n=e.getWordAtPosition(t.getPosition());return n?new kt.e(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null}isValid(e,t,n){const o=t.startLineNumber,s=t.startColumn,d=t.endColumn,p=this._getCurrentWordRange(e,t);let R=Boolean(this._wordRange&&this._wordRange.equalsRange(p));for(let j=0,z=n.length;!R&&j<z;j++){let ne=e.getDecorationRange(n[j]);ne&&ne.startLineNumber===o&&ne.startColumn<=s&&ne.endColumn>=d&&(R=!0)}return R}cancel(){this.result.cancel()}}class iM extends Sv{constructor(e,t,n,o){super(e,t,n),this._providers=o}_compute(e,t,n,o){return yv(this._providers,e,t.getPosition(),o).then(s=>s||[])}}class oM extends Sv{constructor(e,t,n){super(e,t,n),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,n,o){return(0,Wn.Vs)(250,o).then(()=>{if(!t.isEmpty())return[];const s=e.getWordAtPosition(t.getPosition());return!s||s.word.length>1e3?[]:e.findMatches(s.word,!0,!1,!0,n,!1).map(p=>({range:p.range,kind:eo.MY.Text}))})}isValid(e,t,n){const o=t.isEmpty();return this._selectionIsEmpty===o&&super.isValid(e,t,n)}}(0,Xe.sb)("_executeDocumentHighlights",(a,e,t)=>yv(a.get($n.p).documentHighlightProvider,e,t,ti.T.None));class Mh{constructor(e,t,n){this.toUnhook=new Pt.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this._hasWordHighlights=pp.bindTo(n),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(o=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(o)})),this.toUnhook.add(e.onDidChangeModelContent(o=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(o=>{let s=this.editor.getOption(72);this.occurrencesHighlight!==s&&(this.occurrencesHighlight=s,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return Wi.kX(this._decorationIds.map(e=>this.model.getDecorationRange(e)).sort(kt.e.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),n=(e.findIndex(s=>s.containsPosition(this.editor.getPosition()))+1)%e.length,o=e[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const s=this._getWord();if(s){const d=this.editor.getModel().getLineContent(o.startLineNumber);(0,Ms.Z9)(`${d}, ${n+1} of ${e.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),n=(e.findIndex(s=>s.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,o=e[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const s=this._getWord();if(s){const d=this.editor.getModel().getLineContent(o.startLineNumber);(0,Ms.Z9)(`${d}, ${n+1} of ${e.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){let e=this.editor.getSelection();return this.model.getWordAtPosition({lineNumber:e.startLineNumber,column:e.startColumn})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();let t=e.startColumn,n=e.endColumn;const o=this._getWord();if(!o||o.startColumn>t||o.endColumn<n)return void this._stopAll();const s=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),s)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let d=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function(a,e,t,n){return a.has(e)?new iM(e,t,n,a):new oM(e,t,n)}(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(p=>{d===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=p||[],this._beginRenderDecorations())},Un.dL)}}_beginRenderDecorations(){let e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:Mh._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===eo.MY.Write?this._WRITE_OPTIONS:e===eo.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}Mh._WRITE_OPTIONS=Zi.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,r.EN)(nM),position:Fo.sh.Center},minimap:{color:(0,r.EN)(ge.IYc),position:Fo.F5.Inline}}),Mh._TEXT_OPTIONS=Zi.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,r.EN)(ge.SPM),position:Fo.sh.Center},minimap:{color:(0,r.EN)(ge.IYc),position:Fo.F5.Inline}}),Mh._REGULAR_OPTIONS=Zi.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,r.EN)(tM),position:Fo.sh.Center},minimap:{color:(0,r.EN)(ge.IYc),position:Fo.F5.Inline}});let iu=class Sw extends Pt.JT{constructor(e,t,n){super(),this.wordHighlighter=null;const o=()=>{e.hasModel()&&(this.wordHighlighter=new Mh(e,n.documentHighlightProvider,t))};this._register(e.onDidChangeModel(s=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),o()})),o()}static get(e){return e.getContribution(Sw.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};iu.ID="editor.contrib.wordHighlighter",iu=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([wv(1,$t.i6),wv(2,$n.p)],iu);class xv extends Xe.R6{constructor(e,t){super(t),this._isNext=e}run(e,t){const n=iu.get(t);!n||(this._isNext?n.moveNext():n.moveBack())}}(0,Xe._K)(iu.ID,iu),(0,Xe.Qr)(class extends xv{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:Ee.N("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:pp,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:65,weight:100}})}}),(0,Xe.Qr)(class extends xv{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:Ee.N("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:pp,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1089,weight:100}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:Ee.N("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:pp.toNegated(),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:0,weight:100}})}run(e,t,n){const o=iu.get(t);!o||o.restoreViewState(!0)}}),(0,r.Ic)((a,e)=>{const t=a.getColor(ge.Rzx);t&&(e.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${t}; }`),e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`));const n=a.getColor(JE);n&&e.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const o=a.getColor(XE);o&&e.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${o}; }`);const s=a.getColor(ge.g_n);s&&e.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===a.type?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const d=a.getColor(qE);d&&e.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===a.type?"dashed":"solid"} ${d}; box-sizing: border-box; }`);const p=a.getColor(eM);p&&e.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===a.type?"dashed":"solid"} ${p}; box-sizing: border-box; }`)});var cM=m(35590),tc=m(34397),ou=m(81346),_p=m(70114);class Cp extends Xe._l{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){if(!t.hasModel())return;const o=(0,ou.u)(t.getOption(117)),s=t.getModel(),p=t.getSelections().map(R=>{const j=new hi.L(R.positionLineNumber,R.positionColumn),z=this._move(o,s,j,this._wordNavigationType);return this._moveTo(R,z,this._inSelectionMode)});if(s.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,p.map(R=>cM.Vi.fromModelSelection(R))),1===p.length){const R=new hi.L(p[0].positionLineNumber,p[0].positionColumn);t.revealPosition(R,0)}}_moveTo(e,t,n){return n?new mi.Y(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new mi.Y(t.lineNumber,t.column,t.lineNumber,t.column)}}class Gc extends Cp{_move(e,t,n,o){return tc.w.moveWordLeft(e,t,n,o)}}class Qc extends Cp{_move(e,t,n,o){return tc.w.moveWordRight(e,t,n,o)}}class bp extends Xe._l{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){const o=e.get(Yo.c_);if(!t.hasModel())return;const s=(0,ou.u)(t.getOption(117)),d=t.getModel(),p=t.getSelections(),R=t.getOption(5),j=t.getOption(8),z=o.getLanguageConfiguration(d.getLanguageId()).getAutoClosingPairs(),ne=t._getViewModel(),Se=p.map(Me=>{const Ge=this._delete({wordSeparators:s,model:d,selection:Me,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:R,autoClosingQuotes:j,autoClosingPairs:z,autoClosedCharacters:ne.getCursorAutoClosedCharacters()},this._wordNavigationType);return new ze.T4(Ge,"")});t.pushUndoStop(),t.executeCommands(this.id,Se),t.pushUndoStop()}}class l1 extends bp{_delete(e,t){return tc.w.deleteWordLeft(e,t)||new kt.e(1,1,1,1)}}class c1 extends bp{_delete(e,t){let n=tc.w.deleteWordRight(e,t);if(n)return n;const o=e.model.getLineCount(),s=e.model.getLineMaxColumn(o);return new kt.e(o,s,o,s)}}(0,Xe.fK)(new class extends Gc{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),(0,Xe.fK)(new class extends Gc{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),(0,Xe.fK)(new class extends Gc{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:$t.Ao.and(vt.u.textInputFocus,null===(e=$t.Ao.and(Ic.U,_p.cv))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}),(0,Xe.fK)(new class extends Gc{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),(0,Xe.fK)(new class extends Gc{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),(0,Xe.fK)(new class extends Gc{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:$t.Ao.and(vt.u.textInputFocus,null===(e=$t.Ao.and(Ic.U,_p.cv))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),(0,Xe.fK)(new class extends Qc{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),(0,Xe.fK)(new class extends Qc{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:$t.Ao.and(vt.u.textInputFocus,null===(e=$t.Ao.and(Ic.U,_p.cv))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}),(0,Xe.fK)(new class extends Qc{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),(0,Xe.fK)(new class extends Qc{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),(0,Xe.fK)(new class extends Qc{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:$t.Ao.and(vt.u.textInputFocus,null===(e=$t.Ao.and(Ic.U,_p.cv))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),(0,Xe.fK)(new class extends Qc{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),(0,Xe.fK)(new class extends Gc{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,n,o){return super._move((0,ou.u)(hs.BH.wordSeparators.defaultValue),t,n,o)}}),(0,Xe.fK)(new class extends Gc{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,n,o){return super._move((0,ou.u)(hs.BH.wordSeparators.defaultValue),t,n,o)}}),(0,Xe.fK)(new class extends Qc{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,n,o){return super._move((0,ou.u)(hs.BH.wordSeparators.defaultValue),t,n,o)}}),(0,Xe.fK)(new class extends Qc{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,n,o){return super._move((0,ou.u)(hs.BH.wordSeparators.defaultValue),t,n,o)}}),(0,Xe.fK)(new class extends l1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:vt.u.writable})}}),(0,Xe.fK)(new class extends l1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:vt.u.writable})}}),(0,Xe.fK)(new class extends l1{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),(0,Xe.fK)(new class extends c1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:vt.u.writable})}}),(0,Xe.fK)(new class extends c1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:vt.u.writable})}}),(0,Xe.fK)(new class extends c1{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"deleteInsideWord",precondition:vt.u.writable,label:Ee.N("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,n){if(!t.hasModel())return;const o=(0,ou.u)(t.getOption(117)),s=t.getModel(),p=t.getSelections().map(R=>{const j=tc.w.deleteInsideWord(o,s,R);return new ze.T4(j,"")});t.pushUndoStop(),t.executeCommands(this.id,p),t.pushUndoStop()}});class Lv extends Cp{_move(e,t,n,o){return tc.L.moveWordPartLeft(e,t,n)}}ro.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft"),ro.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class Dv extends Cp{_move(e,t,n,o){return tc.L.moveWordPartRight(e,t,n)}}(0,Xe.fK)(new class extends bp{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){return tc.L.deleteWordPartLeft(e)||new kt.e(1,1,1,1)}}),(0,Xe.fK)(new class extends bp{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){let n=tc.L.deleteWordPartRight(e);if(n)return n;const o=e.model.getLineCount(),s=e.model.getLineMaxColumn(o);return new kt.e(o,s,o,s)}}),(0,Xe.fK)(new class extends Lv{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),(0,Xe.fK)(new class extends Lv{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),(0,Xe.fK)(new class extends Dv{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),(0,Xe.fK)(new class extends Dv{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}});var No=m(1598),Ev=(m(81089),m(81718)),Mv=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},vp=function(a,e){return function(t,n){e(t,n,a)}};const Nv=new $t.uy("accessibilityHelpWidgetVisible",!1);let su=class xw extends Pt.JT{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(Nh,this._editor))}static get(e){return e.getContribution(xw.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};su.ID="editor.contrib.accessibilityHelpController",su=Mv([vp(1,oo.TG)],su);let Nh=class Op extends Ha.${constructor(e,t,n,o){super(),this._contextKeyService=t,this._keybindingService=n,this._openerService=o,this._editor=e,this._isVisibleKey=Nv.bindTo(this._contextKeyService),this._domNode=(0,Ev.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,Ev.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(st.mu(this._contentDomNode.domNode,"keydown",s=>{if(this._isVisible&&(s.equals(2083)&&((0,Ms.Z9)(No.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),st.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),s.preventDefault(),s.stopPropagation()),s.equals(2086))){(0,Ms.Z9)(No.Oe.openingDocs);let d=this._editor.getRawOptions().accessibilityHelpUrl;void 0===d&&(d="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(So.o.parse(d)),s.preventDefault(),s.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Op.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,n){const o=this._keybindingService.lookupKeybinding(e);return o?An.WU(t,o.getAriaLabel()):An.WU(n,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let n=0;if(t){const p=this._editor.getModel();p&&t.forEach(R=>{n+=p.getValueLengthInRange(R)})}let o=function(a,e){return a&&0!==a.length?1===a.length?e?An.WU(No.Oe.singleSelectionRange,a[0].positionLineNumber,a[0].positionColumn,e):An.WU(No.Oe.singleSelection,a[0].positionLineNumber,a[0].positionColumn):e?An.WU(No.Oe.multiSelectionRange,a.length,e):a.length>0?An.WU(No.Oe.multiSelection,a.length):"":No.Oe.noSelection}(t,n);e.get(54)?e.get(81)?o+=No.Oe.readonlyDiffEditor:o+=No.Oe.editableDiffEditor:e.get(81)?o+=No.Oe.readonlyEditor:o+=No.Oe.editableEditor;const s=mt.dz?No.Oe.changeConfigToOnMac:No.Oe.changeConfigToOnWinLinux;switch(e.get(2)){case 0:o+="\n\n - "+s;break;case 2:o+="\n\n - "+No.Oe.auto_on;break;case 1:o+="\n\n - "+No.Oe.auto_off,o+=" "+s}e.get(130)?o+="\n\n - "+this._descriptionForCommand(J_.ID,No.Oe.tabFocusModeOnMsg,No.Oe.tabFocusModeOnMsgNoKb):o+="\n\n - "+this._descriptionForCommand(J_.ID,No.Oe.tabFocusModeOffMsg,No.Oe.tabFocusModeOffMsgNoKb),o+="\n\n - "+(mt.dz?No.Oe.openDocMac:No.Oe.openDocWinLinux),o+="\n\n"+No.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,_C.BO)(o)),this._contentDomNode.domNode.setAttribute("aria-label",o)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,st.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const e=this._editor.getLayoutInfo(),t=Math.max(5,Math.min(Op.WIDTH,e.width-40)),n=Math.max(5,Math.min(Op.HEIGHT,e.height-40));this._domNode.setWidth(t),this._domNode.setHeight(n);const o=Math.round((e.height-n)/2);this._domNode.setTop(o);const s=Math.round((e.width-t)/2);this._domNode.setLeft(s)}};Nh.ID="editor.contrib.accessibilityHelpWidget",Nh.WIDTH=500,Nh.HEIGHT=300,Nh=Mv([vp(1,$t.i6),vp(2,js.d),vp(3,oa.v4)],Nh),(0,Xe._K)(su.ID,su),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:No.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){const n=su.get(t);n&&n.show()}});const HM=Xe._l.bindToContribution(su.get);(0,Xe.fK)(new HM({id:"closeAccessibilityHelp",precondition:Nv,handler:a=>a.hide(),kbOpts:{weight:200,kbExpr:vt.u.focus,primary:9,secondary:[1033]}})),(0,r.Ic)((a,e)=>{const t=a.getColor(ge.D0T);t&&e.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${t}; }`);const n=a.getColor(ge.Hfx);n&&e.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const o=a.getColor(ge.rh);o&&e.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${o}; }`);const s=a.getColor(ge.lRK);s&&e.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${s}; }`)}),m(27354);let Iv=(()=>{class a extends Pt.JT{constructor(t){super(),this.editor=t,this.widget=null,mt.gn&&(this._register(t.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const t=!this.editor.getOption(81);!this.widget&&t?this.widget=new zM(this.editor):this.widget&&!t&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return a.ID="editor.contrib.iPadShowKeyboard",a})(),zM=(()=>{class a extends Pt.JT{constructor(t){super(),this.editor=t,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(st.nm(this._domNode,"touchstart",n=>{this.editor.focus()})),this._register(st.nm(this._domNode,"focus",n=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return a.ID="editor.contrib.ShowKeyboardWidget",a})();(0,Xe._K)(Iv.ID,Iv),m(73215);var d1=m(88057),kv=m(92094),Tv=function(a,e){return function(t,n){e(t,n,a)}};let Ih=class Lw extends Pt.JT{constructor(e,t,n){super(),this._editor=e,this._languageService=n,this._widget=null,this._register(this._editor.onDidChangeModel(o=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(o=>this.stop())),this._register(eo.RW.onDidChange(o=>this.stop())),this._register(this._editor.onKeyUp(o=>9===o.keyCode&&this.stop()))}static get(e){return e.getContribution(Lw.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new ZM(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Ih.ID="editor.contrib.inspectTokens",Ih=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Tv(1,kv.Z),Tv(2,Ur.O)],Ih);let ZM=(()=>{class a extends Pt.JT{constructor(t,n){super(),this.allowEditorOverflow=!0,this._editor=t,this._languageService=n,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(a,e){const t=eo.RW.get(e);if(t)return t;const n=a.encodeLanguageId(e);return{getInitialState:()=>d1.TJ,tokenize:(o,s,d)=>(0,d1.Ri)(e,d),tokenizeEncoded:(o,s,d)=>(0,d1.Dy)(n,d)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(o=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return a._ID}_compute(t){const n=this._getTokensAtLine(t.lineNumber);let o=0;for(let j=n.tokens1.length-1;j>=0;j--)if(t.column-1>=n.tokens1[j].offset){o=j;break}let s=0;for(let j=n.tokens2.length>>>1;j>=0;j--)if(t.column-1>=n.tokens2[j<<1]){s=j;break}const d=this._model.getLineContent(t.lineNumber);let p="";o<n.tokens1.length&&(p=d.substring(n.tokens1[o].offset,o+1<n.tokens1.length?n.tokens1[o+1].offset:d.length)),(0,st.mc)(this._domNode,(0,st.$)("h2.tm-token",void 0,function(a){let e="";for(let t=0,n=a.length;t<n;t++){const o=a.charCodeAt(t);switch(o){case 9:e+="\u2192";break;case 32:e+="\xb7";break;default:e+=String.fromCharCode(o)}}return e}(p),(0,st.$)("span.tm-token-length",void 0,`${p.length} ${1===p.length?"char":"chars"}`))),(0,st.R3)(this._domNode,(0,st.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const R=1+(s<<1)<n.tokens2.length?this._decodeMetadata(n.tokens2[1+(s<<1)]):null;(0,st.R3)(this._domNode,(0,st.$)("table.tm-metadata-table",void 0,(0,st.$)("tbody",void 0,(0,st.$)("tr",void 0,(0,st.$)("td.tm-metadata-key",void 0,"language"),(0,st.$)("td.tm-metadata-value",void 0,`${R?R.languageId:"-?-"}`)),(0,st.$)("tr",void 0,(0,st.$)("td.tm-metadata-key",void 0,"token type"),(0,st.$)("td.tm-metadata-value",void 0,`${R?this._tokenTypeToString(R.tokenType):"-?-"}`)),(0,st.$)("tr",void 0,(0,st.$)("td.tm-metadata-key",void 0,"font style"),(0,st.$)("td.tm-metadata-value",void 0,`${R?this._fontStyleToString(R.fontStyle):"-?-"}`)),(0,st.$)("tr",void 0,(0,st.$)("td.tm-metadata-key",void 0,"foreground"),(0,st.$)("td.tm-metadata-value",void 0,`${R?Qi.Il.Format.CSS.formatHex(R.foreground):"-?-"}`)),(0,st.$)("tr",void 0,(0,st.$)("td.tm-metadata-key",void 0,"background"),(0,st.$)("td.tm-metadata-value",void 0,`${R?Qi.Il.Format.CSS.formatHex(R.background):"-?-"}`))))),(0,st.R3)(this._domNode,(0,st.$)("hr.tokens-inspect-separator")),o<n.tokens1.length&&(0,st.R3)(this._domNode,(0,st.$)("span.tm-token-type",void 0,n.tokens1[o].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(t){const n=eo.RW.getColorMap(),o=eo.NX.getLanguageId(t),s=eo.NX.getTokenType(t),d=eo.NX.getFontStyle(t),p=eo.NX.getForeground(t),R=eo.NX.getBackground(t);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(o),tokenType:s,fontStyle:d,foreground:n[p],background:n[R]}}_tokenTypeToString(t){switch(t){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(t){let n="";return 1&t&&(n+="italic "),2&t&&(n+="bold "),4&t&&(n+="underline "),8&t&&(n+="strikethrough "),0===n.length&&(n="---"),n}_getTokensAtLine(t){const n=this._getStateBeforeLine(t),o=this._tokenizationSupport.tokenize(this._model.getLineContent(t),!0,n),s=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(t),!0,n);return{startState:n,tokens1:o.tokens,tokens2:s.tokens,endState:o.endState}}_getStateBeforeLine(t){let n=this._tokenizationSupport.getInitialState();for(let o=1;o<t;o++)n=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,n).endState;return n}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return a._ID="editor.contrib.inspectTokensWidget",a})();(0,Xe._K)(Ih.ID,Ih),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.inspectTokens",label:No.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const n=Ih.get(t);n&&n.launch()}}),(0,r.Ic)((a,e)=>{const t=a.getColor(ge.CNo);t&&(e.addRule(`.monaco-editor .tokens-inspect-widget { border: ${a.type===av.e.HIGH_CONTRAST?2:1}px solid ${t}; }`),e.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${t}; }`));const n=a.getColor(ge.yJx);n&&e.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const o=a.getColor(ge.Sbf);o&&e.addRule(`.monaco-editor .tokens-inspect-widget { color: ${o}; }`)});var fg=m(76183);let wp=class Ap{constructor(e){this.quickInputService=e,this.registry=yh.B.as(fg.IP.Quickaccess)}provide(e){const t=new Pt.SL;t.add(e.onDidAccept(()=>{const[s]=e.selectedItems;s&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(s=>{const d=this.registry.getQuickAccessProvider(s.substr(Ap.PREFIX.length));d&&d.prefix&&d.prefix!==Ap.PREFIX&&this.quickInputService.quickAccess.show(d.prefix,{preserveValue:!0})}));const{editorProviders:n,globalProviders:o}=this.getQuickAccessProviders();return e.items=0===n.length||0===o.length?[...0===n.length?o:n]:[{label:(0,Ee.N)("globalCommands","global commands"),type:"separator"},...o,{label:(0,Ee.N)("editorCommands","editor commands"),type:"separator"},...n],t}getQuickAccessProviders(){const e=[],t=[];for(const n of this.registry.getQuickAccessProviders().sort((o,s)=>o.prefix.localeCompare(s.prefix)))if(n.prefix!==Ap.PREFIX)for(const o of n.helpEntries){const s=o.prefix||n.prefix,d=s||"\u2026";(o.needsEditor?t:e).push({prefix:s,label:d,ariaLabel:(0,Ee.N)("helpPickAriaLabel","{0}, {1}",d,o.description),description:o.description})}return{editorProviders:t,globalProviders:e}}};wp.PREFIX="?",wp=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,0)}}(0,zr.eJ)],wp),yh.B.as(fg.IP.Quickaccess).registerQuickAccessProvider({ctor:wp,prefix:"",helpEntries:[{description:No.ld.helpQuickAccessActionLabel,needsEditor:!0}]});class Pv{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var n;const o=new Pt.SL;e.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const s=o.add(new Pt.XK);return s.value=this.doProvide(e,t),o.add(this.onDidActiveTextEditorControlChange(()=>{s.value=void 0,s.value=this.doProvide(e,t)})),o}doProvide(e,t){const n=new Pt.SL,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const s={editor:o},d=(0,Od.Pi)(o);if(d){let p=(0,Gi.f6)(o.saveViewState());n.add(d.onDidChangeCursorPosition(()=>{p=(0,Gi.f6)(o.saveViewState())})),s.restoreViewState=()=>{p&&o===this.activeTextEditorControl&&o.restoreViewState(p)},n.add((0,Vg.I)(t.onCancellationRequested)(()=>{var R;return null===(R=s.restoreViewState)||void 0===R?void 0:R.call(s)}))}n.add((0,Pt.OF)(()=>this.clearDecorations(o))),n.add(this.provideWithTextEditor(s,e,t))}else n.add(this.provideWithoutTextEditor(e,t));return n}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return(0,Od.QI)(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(n=>{const o=[];this.rangeHighlightDecorationId&&(o.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const s=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,r.EN)(Yr.m9),position:Fo.sh.Full}}}],[d,p]=n.deltaDecorations(o,s);this.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:p}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(n=>{n.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}let YM=(()=>{class a extends Pv{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(t){const n=(0,Ee.N)("cannotRunGotoLine","Open a text editor first to go to a line.");return t.items=[{label:n}],t.ariaLabel=n,Pt.JT.None}provideWithTextEditor(t,n,o){const s=t.editor,d=new Pt.SL;d.add(n.onDidAccept(j=>{const[z]=n.selectedItems;if(z){if(!this.isValidLineNumber(s,z.lineNumber))return;this.gotoLocation(t,{range:this.toRange(z.lineNumber,z.column),keyMods:n.keyMods,preserveFocus:j.inBackground}),j.inBackground||n.hide()}}));const p=()=>{const j=this.parsePosition(s,n.value.trim().substr(a.PREFIX.length)),z=this.getPickLabel(s,j.lineNumber,j.column);if(n.items=[{lineNumber:j.lineNumber,column:j.column,label:z}],n.ariaLabel=z,!this.isValidLineNumber(s,j.lineNumber))return void this.clearDecorations(s);const ne=this.toRange(j.lineNumber,j.column);s.revealRangeInCenter(ne,0),this.addDecorations(s,ne)};p(),d.add(n.onDidChangeValue(()=>p()));const R=(0,Od.Pi)(s);return R&&2===R.getOptions().get(60).renderType&&(R.updateOptions({lineNumbers:"on"}),d.add((0,Pt.OF)(()=>R.updateOptions({lineNumbers:"relative"})))),d}toRange(t=1,n=1){return{startLineNumber:t,startColumn:n,endLineNumber:t,endColumn:n}}parsePosition(t,n){const o=n.split(/,|:|#/).map(d=>parseInt(d,10)).filter(d=>!isNaN(d)),s=this.lineCount(t)+1;return{lineNumber:o[0]>0?o[0]:s+o[0],column:o[1]}}getPickLabel(t,n,o){if(this.isValidLineNumber(t,n))return this.isValidColumn(t,n,o)?(0,Ee.N)("gotoLineColumnLabel","Go to line {0} and character {1}.",n,o):(0,Ee.N)("gotoLineLabel","Go to line {0}.",n);const s=t.getPosition()||{lineNumber:1,column:1},d=this.lineCount(t);return d>1?(0,Ee.N)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,d):(0,Ee.N)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(t,n){return!(!n||"number"!=typeof n)&&n>0&&n<=this.lineCount(t)}isValidColumn(t,n,o){if(!o||"number"!=typeof o)return!1;const s=this.getModel(t);if(!s)return!1;const d={lineNumber:n,column:o};return s.validatePosition(d).equals(d)}lineCount(t){var n,o;return null!==(o=null===(n=this.getModel(t))||void 0===n?void 0:n.getLineCount())&&void 0!==o?o:0}}return a.PREFIX=":",a})(),gg=class extends YM{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=Rn.ju.None}get activeTextEditorControl(){return(0,Gi.f6)(this.editorService.getFocusedCodeEditor())}};gg=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([function(a,e){return function(t,n){e(t,n,0)}}(0,Zt.$)],gg),yh.B.as(fg.IP.Quickaccess).registerQuickAccessProvider({ctor:gg,prefix:gg.PREFIX,helpEntries:[{description:No.qq.gotoLineActionLabel,needsEditor:!0}]}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.gotoLine",label:No.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(zr.eJ).quickAccess.show(gg.PREFIX)}});const Ov=[void 0,[]];function u1(a,e,t=0,n=0){return e.values&&e.values.length>1?function(a,e,t,n){let o=0;const s=[];for(const d of e){const[p,R]=Av(a,d,t,n);if("number"!=typeof p)return Ov;o+=p,s.push(...R)}return[o,tN(s)]}(a,e.values,t,n):Av(a,e,t,n)}function Av(a,e,t,n){const o=(0,$s.EW)(e.original,e.originalLowercase,t,a,a.toLowerCase(),n,!0);return o?[o[0],(0,$s.mB)(o)]:Ov}function tN(a){const e=a.sort((o,s)=>o.start-s.start),t=[];let n;for(const o of e)n&&nN(n,o)?(n.start=Math.min(n.start,o.start),n.end=Math.max(n.end,o.end)):(n=o,t.push(o));return t}function nN(a,e){return!(a.end<e.start||e.end<a.start)}function Rv(a){return a.startsWith('"')&&a.endsWith('"')}function h1(a){"string"!=typeof a&&(a="");const e=a.toLowerCase(),{pathNormalized:t,normalized:n,normalizedLowercase:o}=Bv(a),s=t.indexOf(ec.ir)>=0,d=Rv(a);let p;const R=a.split(" ");if(R.length>1)for(const j of R){const z=Rv(j),{pathNormalized:ne,normalized:Se,normalizedLowercase:Me}=Bv(j);Se&&(p||(p=[]),p.push({original:j,originalLowercase:j.toLowerCase(),pathNormalized:ne,normalized:Se,normalizedLowercase:Me,expectContiguousMatch:z}))}return{original:a,originalLowercase:e,pathNormalized:t,normalized:n,normalizedLowercase:o,values:p,containsPathSeparator:s,expectContiguousMatch:d}}function Bv(a){let e;e=a.replace(mt.ED?/\//g:/\\/g,ec.ir);const t=(0,An.R1)(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function Wv(a){return Array.isArray(a)?h1(a.map(e=>e.original).join(" ")):h1(a.original)}Object.freeze({score:0});var Vv=function(a,e){return function(t,n){e(t,n,a)}},mg=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};let La=class T1 extends Pv{constructor(e,t,n=Object.create(null)){super(n),this._languageFeaturesService=e,this._outlineModelService=t,this.options=n,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,(0,Ee.N)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),Pt.JT.None}provideWithTextEditor(e,t,n){const s=this.getModel(e.editor);return s?this._languageFeaturesService.documentSymbolProvider.has(s)?this.doProvideWithEditorSymbols(e,s,t,n):this.doProvideWithoutEditorSymbols(e,s,t,n):Pt.JT.None}doProvideWithoutEditorSymbols(e,t,n,o){const s=new Pt.SL;return this.provideLabelPick(n,(0,Ee.N)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{mg(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(t,s))||o.isCancellationRequested||s.add(this.doProvideWithEditorSymbols(e,t,n,o))})})(),s}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return mg(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const n=new Wn.CR,o=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(o.dispose(),n.complete(!0))}));return t.add((0,Pt.OF)(()=>n.complete(!1))),n.p})}doProvideWithEditorSymbols(e,t,n,o){const s=e.editor,d=new Pt.SL;d.add(n.onDidAccept(ne=>{const[Se]=n.selectedItems;Se&&Se.range&&(this.gotoLocation(e,{range:Se.range.selection,keyMods:n.keyMods,preserveFocus:ne.inBackground}),ne.inBackground||n.hide())})),d.add(n.onDidTriggerItemButton(({item:ne})=>{ne&&ne.range&&(this.gotoLocation(e,{range:ne.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const p=this.getDocumentSymbols(t,o);let R;const j=()=>mg(this,void 0,void 0,function*(){null==R||R.dispose(!0),n.busy=!1,R=new ti.A(o),n.busy=!0;try{const ne=h1(n.value.substr(T1.PREFIX.length).trim()),Se=yield this.doGetSymbolPicks(p,ne,void 0,R.token);if(o.isCancellationRequested)return;Se.length>0?n.items=Se:this.provideLabelPick(n,ne.original.length>0?(0,Ee.N)("noMatchingSymbolResults","No matching editor symbols"):(0,Ee.N)("noSymbolResults","No editor symbols"))}finally{o.isCancellationRequested||(n.busy=!1)}});d.add(n.onDidChangeValue(()=>j())),j();let z=!0;return d.add(n.onDidChangeActive(()=>{const[ne]=n.activeItems;if(ne&&ne.range){if(z)return void(z=!1);s.revealRangeInCenter(ne.range.selection,0),this.addDecorations(s,ne.range.decoration)}})),d}doGetSymbolPicks(e,t,n,o){return mg(this,void 0,void 0,function*(){const s=yield e;if(o.isCancellationRequested)return[];const d=0===t.original.indexOf(T1.SCOPE_PREFIX),p=d?1:0;let R,j;t.values&&t.values.length>1?(R=Wv(t.values[0]),j=Wv(t.values.slice(1))):R=t;const z=[];for(let Me=0;Me<s.length;Me++){const Ge=s[Me],dt=(0,An.fy)(Ge.name),Ft=`$(${eo.uZ.toIcon(Ge.kind).id}) ${dt}`,Ot=Ft.length-dt.length;let nn,Bn,Tn,Ai,qt=Ge.containerName;if((null==n?void 0:n.extraContainerLabel)&&(qt=qt?`${n.extraContainerLabel} \u2022 ${qt}`:n.extraContainerLabel),t.original.length>p){let ls=!1;if(R!==t&&([nn,Bn]=u1(Ft,Object.assign(Object.assign({},t),{values:void 0}),p,Ot),"number"==typeof nn&&(ls=!0)),"number"!=typeof nn&&([nn,Bn]=u1(Ft,R,p,Ot),"number"!=typeof nn))continue;if(!ls&&j){if(qt&&j.original.length>0&&([Tn,Ai]=u1(qt,j)),"number"!=typeof Tn)continue;"number"==typeof nn&&(nn+=Tn)}}const yi=Ge.tags&&Ge.tags.indexOf(1)>=0;z.push({index:Me,kind:Ge.kind,score:nn,label:Ft,ariaLabel:dt,description:qt,highlights:yi?void 0:{label:Bn,description:Ai},range:{selection:kt.e.collapseToStart(Ge.selectionRange),decoration:Ge.range},strikethrough:yi,buttons:(()=>{var ls,Bs;const Ws=(null===(ls=this.options)||void 0===ls?void 0:ls.openSideBySideDirection)?null===(Bs=this.options)||void 0===Bs?void 0:Bs.openSideBySideDirection():void 0;if(Ws)return[{iconClass:"right"===Ws?Qn.lA.splitHorizontal.classNames:Qn.lA.splitVertical.classNames,tooltip:"right"===Ws?(0,Ee.N)("openToSide","Open to the Side"):(0,Ee.N)("openToBottom","Open to the Bottom")}]})()})}const ne=z.sort((Me,Ge)=>d?this.compareByKindAndScore(Me,Ge):this.compareByScore(Me,Ge));let Se=[];if(d){let Me,Ge,Ft=function(){Ge&&"number"==typeof Me&&dt>0&&(Ge.label=(0,An.WU)(g1[Me]||f1,dt))},dt=0;for(const Ot of ne)Me!==Ot.kind?(Ft(),Me=Ot.kind,dt=1,Ge={type:"separator"},Se.push(Ge)):dt++,Se.push(Ot);Ft()}else ne.length>0&&(Se=[{label:(0,Ee.N)("symbols","symbols ({0})",z.length),type:"separator"},...ne]);return Se})}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const s=(g1[e.kind]||f1).localeCompare(g1[t.kind]||f1);return 0===s?this.compareByScore(e,t):s}getDocumentSymbols(e,t){return mg(this,void 0,void 0,function*(){const n=yield this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:n.asListOfDocumentSymbols()})}};La.PREFIX="@",La.SCOPE_PREFIX=":",La.PREFIX_BY_CATEGORY=`${La.PREFIX}${La.SCOPE_PREFIX}`,La=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Vv(0,$n.p),Vv(1,Gm)],La);const f1=(0,Ee.N)("property","properties ({0})"),g1={5:(0,Ee.N)("method","methods ({0})"),11:(0,Ee.N)("function","functions ({0})"),8:(0,Ee.N)("_constructor","constructors ({0})"),12:(0,Ee.N)("variable","variables ({0})"),4:(0,Ee.N)("class","classes ({0})"),22:(0,Ee.N)("struct","structs ({0})"),23:(0,Ee.N)("event","events ({0})"),24:(0,Ee.N)("operator","operators ({0})"),10:(0,Ee.N)("interface","interfaces ({0})"),2:(0,Ee.N)("namespace","namespaces ({0})"),3:(0,Ee.N)("package","packages ({0})"),25:(0,Ee.N)("typeParameter","type parameters ({0})"),1:(0,Ee.N)("modules","modules ({0})"),6:(0,Ee.N)("property","properties ({0})"),9:(0,Ee.N)("enum","enumerations ({0})"),21:(0,Ee.N)("enumMember","enumeration members ({0})"),14:(0,Ee.N)("string","strings ({0})"),0:(0,Ee.N)("file","files ({0})"),17:(0,Ee.N)("array","arrays ({0})"),15:(0,Ee.N)("number","numbers ({0})"),16:(0,Ee.N)("boolean","booleans ({0})"),18:(0,Ee.N)("object","objects ({0})"),19:(0,Ee.N)("key","keys ({0})"),7:(0,Ee.N)("field","fields ({0})"),13:(0,Ee.N)("constant","constants ({0})")};var m1=function(a,e){return function(t,n){e(t,n,a)}};let p1=class extends La{constructor(e,t,n){super(t,n),this.editorService=e,this.onDidActiveTextEditorControlChange=Rn.ju.None}get activeTextEditorControl(){return(0,Gi.f6)(this.editorService.getFocusedCodeEditor())}};function _1(a,e){return e&&(a.stack||a.stacktrace)?Ee.N("stackTrace.format","{0}: {1}",zv(a),Hv(a.stack)||Hv(a.stacktrace)):zv(a)}function Hv(a){return Array.isArray(a)?a.join("\n"):a}function zv(a){return"string"==typeof a.code&&"number"==typeof a.errno&&"string"==typeof a.syscall?Ee.N("nodeExceptionMessage","A system error occurred ({0})",a.message):a.message||Ee.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function Uv(a=null,e=!1){if(!a)return Ee.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(a)){const t=Wi.kX(a),n=Uv(t[0],e);return t.length>1?Ee.N("error.moreErrors","{0} ({1} errors in total)",n,t.length):n}if(Gi.HD(a))return a;if(a.detail){const t=a.detail;if(t.error)return _1(t.error,e);if(t.exception)return _1(t.exception,e)}return a.stack?_1(a,e):a.message?a.message:Ee.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}p1=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([m1(0,Zt.$),m1(1,$n.p),m1(2,Gm)],p1),yh.B.as(fg.IP.Quickaccess).registerQuickAccessProvider({ctor:p1,prefix:La.PREFIX,helpEntries:[{description:No.aq.quickOutlineActionLabel,prefix:La.PREFIX,needsEditor:!0},{description:No.aq.quickOutlineByCategoryActionLabel,prefix:La.PREFIX_BY_CATEGORY,needsEditor:!0}]}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.quickOutline",label:No.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:vt.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:vt.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(zr.eJ).quickAccess.show(La.PREFIX)}});var yp=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})},ru=(()=>(function(a){a[a.NO_ACTION=0]="NO_ACTION",a[a.CLOSE_PICKER=1]="CLOSE_PICKER",a[a.REFRESH_PICKER=2]="REFRESH_PICKER",a[a.REMOVE_ITEM=3]="REMOVE_ITEM"}(ru||(ru={})),ru))();function C1(a){return Array.isArray(a.items)}let aN=(()=>{class a extends Pt.JT{constructor(t,n){super(),this.prefix=t,this.options=n}provide(t,n){var o;const s=new Pt.SL;let d;t.canAcceptInBackground=!!(null===(o=this.options)||void 0===o?void 0:o.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;const p=s.add(new Pt.XK),R=()=>yp(this,void 0,void 0,function*(){const j=p.value=new Pt.SL;null==d||d.dispose(!0),t.busy=!1,d=new ti.A(n);const z=d.token,ne=t.value.substr(this.prefix.length).trim(),Se=this._getPicks(ne,j,z),Me=(Ge,dt)=>{var Ft;let Ot,qt;if(C1(Ge)?(Ot=Ge.items,qt=Ge.active):Ot=Ge,0===Ot.length){if(dt)return!1;ne.length>0&&(null===(Ft=this.options)||void 0===Ft?void 0:Ft.noResultsPick)&&(Ot=[this.options.noResultsPick])}return t.items=Ot,qt&&(t.activeItems=[qt]),!0};if(null!==Se)if(function(a){return!!a.picks&&a.additionalPicks instanceof Promise}(Se)){let Ge=!1,dt=!1;yield Promise.all([(()=>yp(this,void 0,void 0,function*(){yield(0,Wn.Vs)(a.FAST_PICKS_RACE_DELAY),!z.isCancellationRequested&&(dt||(Ge=Me(Se.picks,!0)))}))(),(()=>yp(this,void 0,void 0,function*(){t.busy=!0;try{const Ft=yield Se.additionalPicks;if(z.isCancellationRequested)return;let Ot,qt,nn,Bn;if(C1(Se.picks)?(Ot=Se.picks.items,qt=Se.picks.active):Ot=Se.picks,C1(Ft)?(nn=Ft.items,Bn=Ft.active):nn=Ft,nn.length>0||!Ge){let Tn;if(!qt&&!Bn){const Ai=t.activeItems[0];Ai&&-1!==Ot.indexOf(Ai)&&(Tn=Ai)}Me({items:[...Ot,...nn],active:qt||Bn||Tn})}}finally{z.isCancellationRequested||(t.busy=!1),dt=!0}}))()])}else if(Se instanceof Promise){t.busy=!0;try{const Ge=yield Se;if(z.isCancellationRequested)return;Me(Ge)}finally{z.isCancellationRequested||(t.busy=!1)}}else Me(Se)});return s.add(t.onDidChangeValue(()=>R())),R(),s.add(t.onDidAccept(j=>{const[z]=t.selectedItems;"function"==typeof(null==z?void 0:z.accept)&&(j.inBackground||t.hide(),z.accept(t.keyMods,j))})),s.add(t.onDidTriggerItemButton(({button:j,item:z})=>yp(this,void 0,void 0,function*(){var ne,Se;if("function"==typeof z.trigger){const Me=null!==(Se=null===(ne=z.buttons)||void 0===ne?void 0:ne.indexOf(j))&&void 0!==Se?Se:-1;if(Me>=0){const Ge=z.trigger(Me,t.keyMods),dt="number"==typeof Ge?Ge:yield Ge;if(n.isCancellationRequested)return;switch(dt){case ru.NO_ACTION:break;case ru.CLOSE_PICKER:t.hide();break;case ru.REFRESH_PICKER:R();break;case ru.REMOVE_ITEM:{const Ft=t.items.indexOf(z);if(-1!==Ft){const Ot=t.items.slice(),qt=Ot.splice(Ft,1),nn=t.activeItems.filter(Tn=>Tn!==qt[0]),Bn=t.keepScrollPosition;t.keepScrollPosition=!0,t.items=Ot,nn&&(t.activeItems=nn),t.keepScrollPosition=Bn}break}}}}}))),s}}return a.FAST_PICKS_RACE_DELAY=200,a})();var jv=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},au=function(a,e){return function(t,n){e(t,n,a)}},Kv=function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})};let pg=class Rp extends aN{constructor(e,t,n,o,s,d){super(Rp.PREFIX,e),this.instantiationService=t,this.keybindingService=n,this.commandService=o,this.telemetryService=s,this.dialogService=d,this.commandsHistory=this._register(this.instantiationService.createInstance(lu)),this.options=e}_getPicks(e,t,n){return Kv(this,void 0,void 0,function*(){const o=yield this.getCommandPicks(t,n);if(n.isCancellationRequested)return[];const s=[];for(const j of o){const z=(0,Gi.f6)(Rp.WORD_FILTER(e,j.label)),ne=j.commandAlias?(0,Gi.f6)(Rp.WORD_FILTER(e,j.commandAlias)):void 0;z||ne?(j.highlights={label:z,detail:this.options.showAlias?ne:void 0},s.push(j)):e===j.commandId&&s.push(j)}const d=new Map;for(const j of s){const z=d.get(j.label);z?(j.description=j.commandId,z.description=z.commandId):d.set(j.label,j)}s.sort((j,z)=>{const ne=this.commandsHistory.peek(j.commandId),Se=this.commandsHistory.peek(z.commandId);return ne&&Se?ne>Se?-1:1:ne?-1:Se?1:j.label.localeCompare(z.label)});const p=[];let R=!1;for(let j=0;j<s.length;j++){const z=s[j],ne=this.keybindingService.lookupKeybinding(z.commandId),Se=ne?(0,Ee.N)("commandPickAriaLabelWithKeybinding","{0}, {1}",z.label,ne.getAriaLabel()):z.label;0===j&&this.commandsHistory.peek(z.commandId)&&(p.push({type:"separator",label:(0,Ee.N)("recentlyUsed","recently used")}),R=!0),0!==j&&R&&!this.commandsHistory.peek(z.commandId)&&(p.push({type:"separator",label:(0,Ee.N)("morecCommands","other commands")}),R=!1),p.push(Object.assign(Object.assign({},z),{ariaLabel:Se,detail:this.options.showAlias&&z.commandAlias!==z.label?z.commandAlias:void 0,keybinding:ne,accept:()=>Kv(this,void 0,void 0,function*(){this.commandsHistory.push(z.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:z.commandId,from:"quick open"});try{yield this.commandService.executeCommand(z.commandId)}catch(Me){(0,Un.n2)(Me)||this.dialogService.show(eh.Z.Error,(0,Ee.N)("canNotRun","Command '{0}' resulted in an error ({1})",z.label,Uv(Me)))}})}))}return p})}};pg.PREFIX=">",pg.WORD_FILTER=(0,$s.or)($s.Ji,$s.KZ,$s.ir),pg=jv([au(1,oo.TG),au(2,js.d),au(3,ro.Hy),au(4,qr.b),au(5,a1.S)],pg);let lu=class ms extends Pt.JT{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=ms.getConfiguredCommandHistoryLength(this.configurationService),ms.cache&&ms.cache.limit!==this.configuredCommandsHistoryLength&&(ms.cache.limit=this.configuredCommandsHistoryLength,ms.saveState(this.storageService))}load(){const e=this.storageService.get(ms.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch{}const n=ms.cache=new Ns.z6(this.configuredCommandsHistoryLength,1);if(t){let o;o=t.usesLRU?t.entries:t.entries.sort((s,d)=>s.value-d.value),o.forEach(s=>n.set(s.key,s.value))}ms.counter=this.storageService.getNumber(ms.PREF_KEY_COUNTER,0,ms.counter)}push(e){!ms.cache||(ms.cache.set(e,ms.counter++),ms.saveState(this.storageService))}peek(e){var t;return null===(t=ms.cache)||void 0===t?void 0:t.peek(e)}static saveState(e){if(!ms.cache)return;const t={usesLRU:!0,entries:[]};ms.cache.forEach((n,o)=>t.entries.push({key:o,value:n})),e.store(ms.PREF_KEY_CACHE,JSON.stringify(t),0,0),e.store(ms.PREF_KEY_COUNTER,ms.counter,0,0)}static getConfiguredCommandHistoryLength(e){var t,n;const s=null===(n=null===(t=e.getValue().workbench)||void 0===t?void 0:t.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof s?s:ms.DEFAULT_COMMANDS_HISTORY_LENGTH}};lu.DEFAULT_COMMANDS_HISTORY_LENGTH=50,lu.PREF_KEY_CACHE="commandPalette.mru.cache",lu.PREF_KEY_COUNTER="commandPalette.mru.counter",lu.counter=1,lu=jv([au(0,Hr.Uy),au(1,Is.Ui)],lu);class lN extends pg{constructor(e,t,n,o,s,d){super(e,t,n,o,s,d)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const n of e.getSupportedActions())t.push({commandId:n.id,commandAlias:n.alias,label:(0,CC.x$)(n.label)||n.id});return t}}var kh=function(a,e){return function(t,n){e(t,n,a)}};let _g=class extends lN{constructor(e,t,n,o,s,d){super({showAlias:!1},e,n,o,s,d),this.codeEditorService=t}get activeTextEditorControl(){return(0,Gi.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return function(a,e,t,n){return new(t||(t=Promise))(function(s,d){function p(z){try{j(n.next(z))}catch(ne){d(ne)}}function R(z){try{j(n.throw(z))}catch(ne){d(ne)}}function j(z){z.done?s(z.value):function(s){return s instanceof t?s:new t(function(d){d(s)})}(z.value).then(p,R)}j((n=n.apply(a,e||[])).next())})}(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};_g=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([kh(0,oo.TG),kh(1,Zt.$),kh(2,js.d),kh(3,ro.Hy),kh(4,qr.b),kh(5,a1.S)],_g),yh.B.as(fg.IP.Quickaccess).registerQuickAccessProvider({ctor:_g,prefix:_g.PREFIX,helpEntries:[{description:No.UX.quickCommandHelp,needsEditor:!0}]}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.quickCommand",label:No.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(zr.eJ).quickAccess.show(_g.PREFIX)}});var Th=function(a,e){return function(t,n){e(t,n,a)}};let b1=class extends Jo{constructor(e,t,n,o,s,d,p){super(!0,e,t,n,o,s,d,p)}};b1=function(a,e,t,n){var d,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,e,t,n);else for(var p=a.length-1;p>=0;p--)(d=a[p])&&(s=(o<3?d(s):o>3?d(e,t,s):d(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s}([Th(1,$t.i6),Th(2,Zt.$),Th(3,Cs.lT),Th(4,oo.TG),Th(5,Hr.Uy),Th(6,Is.Ui)],b1),(0,Xe._K)(Jo.ID,b1),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:No.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const n=e.get(kv.Z);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getColorTheme().themeName,n.setTheme("hc-black"))}});var $v=m(52771),gN=m(38869);let mN=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:11,vars:2,consts:[["mat-dialog-title",""],[1,"warning-icon"],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(t,n){1&t&&(i.TgZ(0,"h2",0),i._uU(1,"Resolve Merge"),i.qZA(),i.TgZ(2,"mat-dialog-content"),i.TgZ(3,"mat-icon",1),i._uU(4,"warning"),i.qZA(),i._uU(5," Warning: there are still outstanding conflicts, are you sure you want to resolve? "),i.qZA(),i.TgZ(6,"mat-dialog-actions"),i.TgZ(7,"button",2),i._uU(8,"Cancel"),i.qZA(),i.TgZ(9,"button",3),i._uU(10,"Confirm"),i.qZA(),i.qZA()),2&t&&(i.xp6(7),i.Q6J("mat-dialog-close",void 0),i.xp6(2),i.Q6J("mat-dialog-close",!0))},directives:[g.uh,g.xY,vn.Hw,g.H8,ln.lW,g.ZT],styles:[".warning-icon[_ngcontent-%COMP%]{margin-right:5px}"],changeDetection:0}),a})();var pN=m(23669),_N=m(68680);const CN=["baseScrollContainer"],bN=["yoursScrollContainer"],vN=["theirsScrollContainer"],wN=["mergeScrollContainer"];function yN(a,e){1&a&&(i.TgZ(0,"main"),i._uU(1,"Loading..."),i.qZA())}function SN(a,e){1&a&&(i.TgZ(0,"main"),i._uU(1,"Cannot load binary file."),i.qZA())}function xN(a,e){1&a&&(i.TgZ(0,"main"),i._uU(1,"Cannot load file."),i.qZA())}function LN(a,e){if(1&a&&(i.TgZ(0,"span",34),i._uU(1),i.qZA()),2&a){const t=e.$implicit;i.Q6J("ngClass",t.class),i.xp6(1),i.Oqu(t.text)}}function DN(a,e){if(1&a&&(i.ynx(0),i.TgZ(1,"span",32),i._uU(2),i.qZA(),i.YNc(3,LN,2,2,"span",33),i.ALo(4,"tokens"),i.BQk()),2&a){const t=i.oxw().$implicit;i.xp6(2),i.Oqu(null==t.baseLine?null:t.baseLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==t.baseLine?null:t.baseLine.tokens,t.baseLine.text))}}const v1=function(a,e){return[a,e]};function EN(a,e){if(1&a&&(i.TgZ(0,"li",31),i.YNc(1,DN,5,5,"ng-container",1),i.qZA()),2&a){const t=e.$implicit;i.Q6J("ngClass",i.WLB(2,v1,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),i.xp6(1),i.Q6J("ngIf",t.baseLine)}}function MN(a,e){if(1&a&&(i.TgZ(0,"span",34),i._uU(1),i.qZA()),2&a){const t=e.$implicit;i.Q6J("ngClass",t.class),i.xp6(1),i.Oqu(t.text)}}function NN(a,e){if(1&a&&(i.ynx(0),i.TgZ(1,"span",32),i._uU(2),i.qZA(),i.YNc(3,MN,2,2,"span",33),i.ALo(4,"tokens"),i.BQk()),2&a){const t=i.oxw().$implicit;i.xp6(2),i.Oqu(null==t.theirsLine?null:t.theirsLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==t.theirsLine?null:t.theirsLine.tokens,t.theirsLine.text))}}function IN(a,e){if(1&a&&(i.TgZ(0,"li",31),i.YNc(1,NN,5,5,"ng-container",1),i.qZA()),2&a){const t=e.$implicit;i.Q6J("ngClass",i.WLB(2,v1,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),i.xp6(1),i.Q6J("ngIf",t.theirsLine)}}function kN(a,e){if(1&a&&(i.TgZ(0,"span",34),i._uU(1),i.qZA()),2&a){const t=e.$implicit;i.Q6J("ngClass",t.class),i.xp6(1),i.Oqu(t.text)}}function TN(a,e){if(1&a&&(i.ynx(0),i.TgZ(1,"span",32),i._uU(2),i.qZA(),i.YNc(3,kN,2,2,"span",33),i.ALo(4,"tokens"),i.BQk()),2&a){const t=i.oxw().$implicit;i.xp6(2),i.Oqu(null==t.yoursLine?null:t.yoursLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==t.yoursLine?null:t.yoursLine.tokens,t.yoursLine.text))}}function PN(a,e){if(1&a&&(i.TgZ(0,"li",31),i.YNc(1,TN,5,5,"ng-container",1),i.qZA()),2&a){const t=e.$implicit;i.Q6J("ngClass",i.WLB(2,v1,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),i.xp6(1),i.Q6J("ngIf",t.yoursLine)}}const ON=function(){return{theme:"vs-dark"}};function AN(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"ngx-monaco-editor",35),i.NdJ("onInit",function(o){return i.CHM(t),i.oxw(2).monacoInit(o)}),i.qZA()}if(2&a){const t=e.ngIf,n=i.oxw(2);i.Q6J("options",i.DdM(3,ON))("model",t)("formControl",n.monacoControl.ng)}}function RN(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"main"),i.TgZ(1,"app-grid",2),i.TgZ(2,"app-grid-cell"),i.TgZ(3,"app-grid",3),i.TgZ(4,"app-grid-cell",4),i.TgZ(5,"div",5),i._uU(6," Base "),i.qZA(),i.TgZ(7,"cdk-virtual-scroll-viewport",6,7),i.TgZ(9,"code",8,9),i.TgZ(11,"ul"),i.YNc(12,EN,2,5,"li",10),i.ALo(13,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(14,"mat-icon",11),i._uU(15,"arrow_forward"),i.qZA(),i.TgZ(16,"mat-icon",12),i._uU(17,"arrow_downward"),i.qZA(),i.qZA(),i.TgZ(18,"app-grid-cell",13,14),i.NdJ("sizeChanging",function(){return i.CHM(t),i.oxw().gridResized()}),i.TgZ(20,"div",5),i._uU(21," Incoming "),i.TgZ(22,"button",15),i.NdJ("click",function(){return i.CHM(t),i.oxw().resolveMerge("from")}),i._uU(23,"Resolve"),i.qZA(),i.qZA(),i.TgZ(24,"cdk-virtual-scroll-viewport",6,16),i.TgZ(26,"code",17,18),i.TgZ(28,"ul"),i.YNc(29,IN,2,5,"li",10),i.ALo(30,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"mat-icon",19),i._uU(32,"arrow_downward"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(33,"app-grid-cell",20),i.NdJ("sizeChanging",function(){return i.CHM(t),i.oxw().gridResized()}),i.TgZ(34,"app-grid",3),i.TgZ(35,"app-grid-cell",21),i.TgZ(36,"div",5),i._uU(37," Current "),i.TgZ(38,"button",15),i.NdJ("click",function(){return i.CHM(t),i.oxw().resolveMerge("to")}),i._uU(39,"Resolve"),i.qZA(),i.qZA(),i.TgZ(40,"cdk-virtual-scroll-viewport",6,22),i.TgZ(42,"code",23,24),i.TgZ(44,"ul"),i.YNc(45,PN,2,5,"li",10),i.ALo(46,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(47,"mat-icon",25),i._uU(48,"arrow_forward"),i.qZA(),i.qZA(),i.TgZ(49,"app-grid-cell",26,27),i.NdJ("sizeChanging",function(){return i.CHM(t),i.oxw().gridResized()}),i.TgZ(51,"div",5),i._uU(52," Merged "),i.TgZ(53,"button",15),i.NdJ("click",function(){return i.CHM(t),i.oxw().resolveMerge("merge")}),i._uU(54,"Resolve"),i.qZA(),i.TgZ(55,"button",28),i.NdJ("click",function(){return i.CHM(t),i.oxw().jumpToPreviousConflict()}),i.TgZ(56,"mat-icon"),i._uU(57,"arrow_upward"),i.qZA(),i.qZA(),i.TgZ(58,"button",29),i.NdJ("click",function(){return i.CHM(t),i.oxw().jumpToNextConflict()}),i.TgZ(59,"mat-icon"),i._uU(60,"arrow_downward"),i.qZA(),i.qZA(),i.qZA(),i.YNc(61,AN,1,4,"ngx-monaco-editor",30),i.ALo(62,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&a){const t=i.MAs(19),n=i.MAs(50),o=i.oxw();i.xp6(7),i.Q6J("itemSize",19),i.xp6(4),i.Udp("margin-left",o.baseLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(13,18,o.lines$))("cdkVirtualForTrackBy",o.trackByMergeDiffLine),i.xp6(6),i.Q6J("linked",n),i.xp6(6),i.Q6J("itemSize",19),i.xp6(4),i.Udp("margin-left",o.theirsLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(30,20,o.lines$))("cdkVirtualForTrackBy",o.trackByMergeDiffLine),i.xp6(11),i.Q6J("itemSize",19),i.xp6(4),i.Udp("margin-left",o.yoursLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(46,22,o.lines$))("cdkVirtualForTrackBy",o.trackByMergeDiffLine),i.xp6(4),i.Q6J("linked",t),i.xp6(12),i.Q6J("ngIf",i.lcZ(62,24,o.monacoModel))}}let FN=(()=>{class a extends((0,sn.jB)(sn.Aw)){constructor(t,n,o,s,d,p){super(),this.zone=t,this.dialog=n,this.store=o,this.highlightApi=s,this.repositoriesApi=d,this.diffService=p,this.closed=new i.vpe,this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$=new Ue.X([]),this.monacoModel=new Ue.X({value:"Loading..."}),this.monacoEditor=new Ue.X(null),this.monacoControl=new He.rV("Loading..."),this.monacoDecorationIds=[],this.monacoCodeLensProviders=[],this.currentView=new Ue.X("loading"),this.conflicts=[],this.currentConflictIndex=-1,this.monacoInit=R=>{this.monacoEditor.next(R)},this.gridResized=()=>{this.monacoEditor.value?.layout()},this.trackByDiffLine=(R,j)=>R,this.trackByMergeDiffLine=(R,j)=>R,this.jumpToNextConflict=()=>{this.currentConflictIndex=this.currentConflictIndex+1<this.conflicts.length?this.currentConflictIndex+1:0,this.jumpToConflict()},this.jumpToPreviousConflict=()=>{this.currentConflictIndex=this.currentConflictIndex-1>=0?this.currentConflictIndex-1:this.conflicts.length-1,this.jumpToConflict()}}ngOnInit(){this.destroyed$.subscribe(()=>{this.monacoCodeLensProviders.forEach(t=>{t.dispose()}),this.monacoCodeLensProviders=[]}),(0,rt.aj)([this.monacoEditor.pipe((0,to.h)(rs.$K)),this.monacoModel]).pipe((0,xe.R)(this.destroyed$)).subscribe(([t,n])=>{this.monacoControl.setValue(n.value),this.monacoCodeLensProviders.forEach(s=>{s.dispose()}),this.monacoCodeLensProviders=[];const o=window.monaco.languages;o.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0}),o.getLanguages().forEach(s=>{this.monacoCodeLensProviders.push(o.registerCodeLensProvider(s.id,{resolveCodeLens:(d,p,R)=>p,provideCodeLenses:(d,p)=>{this.conflicts=this.processConflicts(d.getValue());const R=t.getPosition();return this.currentConflictIndex=R?this.conflicts.findIndex(z=>z.range.startLineNumber<=R.lineNumber&&z.range.endLineNumber>=R.lineNumber):-1,this.monacoDecorationIds=t.deltaDecorations(this.monacoDecorationIds,this.conflicts.flatMap(z=>z.decorations))??[],{lenses:this.conflicts.flatMap(z=>[{range:new Ji.Range(z.range.startLineNumber,1,z.range.startLineNumber+1,1),command:{id:t.addCommand(0,()=>{t.executeEdits(null,[{range:z.range,text:z.ours}])}),title:"Use Current"}},{range:new Ji.Range(z.range.startLineNumber,1,z.range.startLineNumber+1,1),command:{id:t.addCommand(0,()=>{t.executeEdits(null,[{range:z.range,text:z.theirs}])}),title:"Use Incoming"}},{range:new Ji.Range(z.range.startLineNumber,1,z.range.startLineNumber+1,1),command:{id:t.addCommand(0,()=>{t.executeEdits(null,[{range:z.range,text:`${z.ours}\n${z.theirs}`}])}),title:"Use Both"}}]),dispose:()=>{}}}}))})}),this.patch.pipe((0,Yt.b)(()=>{this.currentView.next("loading")}),(0,Ie.w)(t=>t?(0,ai.D)(this.getLines(t)).pipe((0,xe.R)(this.currentView.pipe((0,gN.T)(1),(0,to.h)(n=>"loading"===n))),(0,nt.U)(n=>[t,...n]),(0,xt.K)(n=>Ht.OZ.matches(n)?(this.currentView.next("binary-file"),(0,ht.of)(null)):Ht.hK.matches(n)?(this.currentView.next("error"),(0,ht.of)(null)):(0,ct._)(n))):(0,ht.of)(null)),(0,xe.R)(this.destroyed$)).subscribe(t=>{if(t){const[n,o,s,d,p]=t;this.monacoModel.next(p?{value:p,uri:Ji.Uri.file(`file://${n.mergePatch?.newFilePath??"a.txt"}`)}:{value:""}),this.baseLineNumberMargin=this.diffService.calculateMargin(o?.length.toString().length??1,!0),this.yoursLineNumberMargin=this.diffService.calculateMargin(s?.length.toString().length??1,!0),this.theirsLineNumberMargin=this.diffService.calculateMargin(d?.length.toString().length??1,!0),this.diffService.calculateMergeLines(o??[],s??[],d??[],n.toPatch?.hunks??[],n.fromPatch?.hunks??[]).pipe((0,xe.R)(this.destroyed$)).subscribe(R=>{this.lines$.next(R)}),this.currentView.next("normal")}else this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$.next([]),this.monacoModel.next({value:"Error!"});this.baseScrollContainer?.nativeElement?.scrollTo(0,0),this.yoursScrollContainer?.nativeElement?.scrollTo(0,0),this.theirsScrollContainer?.nativeElement?.scrollTo(0,0),this.mergeScrollContainer?.nativeElement?.scrollTo(0,0)}),this.zone.runOutsideAngular(()=>{const t=[this.baseScrollContainer.nativeElement,this.yoursScrollContainer.nativeElement,this.theirsScrollContainer.nativeElement],n=[!1,!1,!1];t.forEach((o,s)=>{(0,Sn.R)(o,"scroll",{passive:!0}).pipe((0,to.h)(()=>n.every((d,p)=>!d||p===s)),(0,Yt.b)(()=>{n[s]=!0,t.forEach((d,p)=>{p!==s&&d.scrollTo(o.scrollLeft,o.scrollTop)})}),(0,or.b)(100),(0,xe.R)(this.destroyed$)).subscribe(()=>{n[s]=!1})})})}resolveMerge(t){this.patch.pipe((0,St.q)(1)).subscribe(n=>{const o=n?.repositoryPath;if(!o)throw new Error("Cannot update merge if no repository is selected");const s=n.mergePatch?.newFilePath;if(!s)throw new Error("Couldn't find file path");let d;switch(t){case"from":d=n.fromPatch?.newFileId?this.repositoriesApi.getFile(o,n.fromPatch?.newFileId):(0,ht.of)(null);break;case"to":d=n.toPatch?.newFileId?this.repositoriesApi.getFile(o,n.toPatch?.newFileId):(0,ht.of)(null);break;case"merge":d=this.conflicts.length>0?this.dialog.open(mN).afterClosed().pipe((0,Ie.w)(R=>R?(0,ht.of)(this.monacoControl.value):Qe.E)):(0,ht.of)(this.monacoControl.value);break;default:throw new Error(`Unrecognized value ${t}`)}d.subscribe(p=>{const R=this.store.selectSnapshot(Mt.E.selectedCommitId);this.repositoriesApi.updateMerge(o,n.fromCommitId,n.toCommitId,s,p??"","head"===R).subscribe(()=>{this.store.dispatch(new Rt.Vu(o)),this.closed.next()})})})}jumpToConflict(){const t=this.conflicts[this.currentConflictIndex];this.monacoEditor.value?.revealRangeAtTop(t.range);const n=t.theirs.split("\n"),o=t.ours.split("\n"),s=Math.max(n.length,o.length),d=this.lines$.value,p=R=>{if(R+s>d.length)return!1;const j=d.slice(R).map(ne=>ne.theirsLine?.text).filter(rs.$K);for(let ne=0;ne<n.length;ne++)if(j[ne]!==n[ne])return!1;const z=d.slice(R).map(ne=>ne.yoursLine?.text).filter(rs.$K);for(let ne=0;ne<o.length;ne++)if(z[ne]!==o[ne])return!1;return!0};for(let R=0;R<d.length;R++)if(p(R)){this.baseScrollContainer.nativeElement.scrollTo(0,19*R);break}}getLines(t){const n=t.repositoryPath;let o=null,s=null,d=null,p=null;const R=t.toPatch;if(R)if(R.oldFileIsSubmodule||R.newFileIsSubmodule){const ne=R.hunks[0].lines.find(Me=>Me.oldLineNo>0),Se=R.hunks[0].lines.find(Me=>Me.newLineNo>0);o=(0,ht.of)([{lineNumber:1,text:ne?.content??"",tokens:[{startIndex:0,endIndex:ne?.content.length??0,scopes:["normal"]}]}]),s=(0,ht.of)([{lineNumber:1,text:Se?.content??"",tokens:[{startIndex:0,endIndex:Se?.content.length??0,scopes:["normal"]}]}])}else o=R.oldFileId?this.highlightApi.getHighlightedFile(n,R.oldFileId,R.oldFilePath,!0):null,s=R.newFileId?this.highlightApi.getHighlightedFile(n,R.newFileId,R.newFilePath,!0):null;const j=t.fromPatch;if(j)if(j.oldFileIsSubmodule||j.newFileIsSubmodule){if(!o){const Se=j.hunks[0].lines.find(Me=>Me.oldLineNo>0);o=(0,ht.of)([{lineNumber:1,text:Se?.content??"",tokens:[{startIndex:0,endIndex:Se?.content.length??0,scopes:["normal"]}]}])}const ne=j.hunks[0].lines.find(Se=>Se.newLineNo>0);d=(0,ht.of)([{lineNumber:1,text:ne?.content??"",tokens:[{startIndex:0,endIndex:ne?.content.length??0,scopes:["normal"]}]}])}else o=o??(j.oldFileId?this.highlightApi.getHighlightedFile(n,j.oldFileId,j.oldFilePath,!0):null),d=j.newFileId?this.highlightApi.getHighlightedFile(n,j.newFileId,j.newFilePath,!0):null;const z=t.mergePatch;return z&&(z.oldFileIsSubmodule||z.newFileIsSubmodule?p=(0,ht.of)(z.hunks[0].lines.find(ne=>ne.newLineNo>0)?.content??""):z.newFileId?p=this.repositoriesApi.getFile(n,z.newFileId):z.newFilePath&&(p=this.repositoriesApi.getMergeFile(n,t.fromCommitId,t.toCommitId,z.newFilePath))),[o??(0,ht.of)(null),s??o??(0,ht.of)(null),d??o??(0,ht.of)(null),p??(0,ht.of)(null)]}processConflicts(t){const n=new RegExp(a.conflictRegex,"gm"),o=[];let s=$v(n,t);for(;s;){const[d,p]=s.indices[0],[R,j]=s.indices[1],[z,ne]=s.indices[2]??[s.indices[1][1],s.indices[1][1]],[Se,Me]=s.indices[3]??[s.indices[4][0],s.indices[4][0]],[Ge,dt]=s.indices[4];o.push({range:this.getConflictRange(t,d,p),ours:t.substring(z,ne),theirs:t.substring(Se,Me),decorations:[{range:this.getConflictRange(t,R,j),options:{isWholeLine:!0,minimap:{color:"#2F7366",position:Ji.editor.MinimapPosition.Inline},after:{content:" (Current Change)",inlineClassName:"conflict_current-header-text"},className:"conflict_current-header",stickiness:Ji.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,z,ne),options:{isWholeLine:!0,minimap:{color:"#2F7366",position:Ji.editor.MinimapPosition.Inline},className:"conflict_current",stickiness:Ji.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,Se,Me),options:{isWholeLine:!0,minimap:{color:"#2F628E",position:Ji.editor.MinimapPosition.Inline},className:"conflict_incoming",stickiness:Ji.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,Ge,dt),options:{isWholeLine:!0,minimap:{color:"#2F628E",position:Ji.editor.MinimapPosition.Inline},after:{content:" (Incoming Change)",inlineClassName:"conflict_incoming-header-text"},className:"conflict_incoming-header",stickiness:Ji.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]}),s=$v(n,t)}return o}getConflictRange(t,n,o){let s=1,d=1;for(let j=0;j<n;j++)d++,"\n"===t[j]&&(s++,d=1);let p=s,R=d;for(let j=n;j<o;j++)R++,"\n"===t[j]&&(p++,R=1);return new Ji.Range(s,d,p,R)}}return a.conflictRegex=/(^<<<<<<<.*$)\r?\n(?:([^]*?)\r?\n)?^=======.*$\r?\n(?:([^]*?)\r?\n)?(^>>>>>>>.*$)/gm,a.\u0275fac=function(t){return new(t||a)(i.Y36(i.R0b),i.Y36(g.uw),i.Y36(Te.yh),i.Y36(At.ml),i.Y36(At.aM),i.Y36(pN.S))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-merge-view"]],viewQuery:function(t,n){if(1&t&&(i.Gf(CN,7,i.SBq),i.Gf(bN,7,i.SBq),i.Gf(vN,7,i.SBq),i.Gf(wN,7,i.SBq)),2&t){let o;i.iGM(o=i.CRH())&&(n.baseScrollContainer=o.first),i.iGM(o=i.CRH())&&(n.yoursScrollContainer=o.first),i.iGM(o=i.CRH())&&(n.theirsScrollContainer=o.first),i.iGM(o=i.CRH())&&(n.mergeScrollContainer=o.first)}},inputs:{patch:"patch"},outputs:{closed:"closed"},features:[i.qOj],decls:16,vars:15,consts:[[1,"close-button",3,"click"],[4,"ngIf"],["vertical","","id","merge-view_vertical"],["id","merge-view_horizontal"],[1,"base-grid-cell"],[1,"grid-cell-header"],[1,"viewport",3,"itemSize"],["baseScrollContainer",""],[1,"base-code"],["baseCode",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"arrow-forward-top"],[1,"arrow-downward-left"],[1,"theirs-grid-cell",3,"linked","sizeChanging"],["theirsCell",""],["type","button","mat-button","",3,"click"],["theirsScrollContainer",""],[1,"theirs-code"],["theirsCode",""],[1,"arrow-downward-right"],[3,"sizeChanging"],[1,"yours-grid-cell"],["yoursScrollContainer",""],[1,"yours-code"],["yoursCode",""],[1,"arrow-forward-bottom"],[1,"merge-grid-cell",3,"linked","sizeChanging"],["mergeCell",""],["type","button","mat-icon-button","","title","Previous Conflict",3,"click"],["type","button","mat-icon-button","","title","Next Conflict",3,"click"],["class","viewport",3,"options","model","formControl","onInit",4,"ngIf"],[1,"line",3,"ngClass"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"viewport",3,"options","model","formControl","onInit"]],template:function(t,n){if(1&t&&(i.TgZ(0,"header"),i.TgZ(1,"h4"),i._uU(2,"Editing "),i.TgZ(3,"strong"),i._uU(4),i.ALo(5,"async"),i.qZA(),i.qZA(),i.TgZ(6,"mat-icon",0),i.NdJ("click",function(){return n.closed.next()}),i._uU(7,"close"),i.qZA(),i.qZA(),i.YNc(8,yN,2,0,"main",1),i.ALo(9,"async"),i.YNc(10,SN,2,0,"main",1),i.ALo(11,"async"),i.YNc(12,xN,2,0,"main",1),i.ALo(13,"async"),i.YNc(14,RN,63,26,"main",1),i.ALo(15,"async")),2&t){let o;i.xp6(4),i.Oqu(null==(o=i.lcZ(5,5,n.patch))||null==o.mergePatch?null:o.mergePatch.newFilePath),i.xp6(4),i.Q6J("ngIf","loading"===i.lcZ(9,7,n.currentView)),i.xp6(2),i.Q6J("ngIf","binary-file"===i.lcZ(11,9,n.currentView)),i.xp6(2),i.Q6J("ngIf","error"===i.lcZ(13,11,n.currentView)),i.xp6(2),i.Q6J("ngIf","normal"===i.lcZ(15,13,n.currentView))}},directives:[vn.Hw,rn.O5,To.M,ys.Y,go.N7,go.xd,go.x0,ln.lW,rn.mk,rn.sg,Z.PG,oe.JJ,oe.oH],pipes:[rn.Ov,_N.U],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:#1e1e1e;position:absolute}header[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;justify-content:space-between;padding:5px 0 5px 10px}header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;line-height:38px}header[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{cursor:pointer;height:38px;line-height:38px;margin-left:10px}main[_ngcontent-%COMP%]{flex:1 0 auto}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:block;white-space:pre;color:#d4d4d4;font-family:Consolas,"Courier New",monospace;font-size:14px;font-weight:normal;letter-spacing:0px;line-height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line{height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-void{background:#111}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-embedded, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .emphasis{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .strong{font-weight:bold}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .header{color:navy}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-numeric, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-enummember, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .invalid{color:#f44747}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-bold{font-weight:bold;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-heading{font-weight:bold;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-value{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-vendored-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-less, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-expression, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-cast, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-sizeof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-typeid, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-alignas, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-instanceof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-logical-python, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-import-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-wildcard-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-handlebars, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-return-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-namespace, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-scope-resolution, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-numeric-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-byte-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-boolean-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-string-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-uintptr-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-error-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-rune-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-modifier-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-variable-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-token-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-cast-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-new-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-math, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-dom, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-json, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-delete, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-using, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-operator, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-definition-variable-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-property-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-font-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585;right:calc(100% + 26px)}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]{height:calc(100% - 36px)}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]{height:36px;line-height:36px;padding:0 10px}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}main[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%}main[_ngcontent-%COMP%]   .arrow-forward-top[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-forward-bottom[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-downward-left[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-downward-right[_ngcontent-%COMP%]{color:#333}main[_ngcontent-%COMP%]   .arrow-forward-top[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:-12px}main[_ngcontent-%COMP%]   .arrow-forward-bottom[_ngcontent-%COMP%]{position:absolute;top:10px;right:-12px}main[_ngcontent-%COMP%]   .arrow-downward-left[_ngcontent-%COMP%]{position:absolute;bottom:-12px;right:10px}main[_ngcontent-%COMP%]   .arrow-downward-right[_ngcontent-%COMP%]{position:absolute;bottom:-12px;left:10px}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%]{overflow:hidden}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%]{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-bottom:12px}main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-top:12px}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-right:12px}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-left:12px}main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px)}'],changeDetection:0}),a})();var w1=m(72352),y1=m(4893);function BN(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",12),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(2).selectFile("unstaged",s)}),i.ALo(1,"async"),i.TgZ(2,"mat-icon",13),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",14),i.TgZ(5,"div",15),i.TgZ(6,"button",16),i.NdJ("click",function(o){const d=i.CHM(t).$implicit;return i.oxw(2).stageFile(d),o.stopPropagation()}),i._uU(7,"Stage"),i.qZA(),i.TgZ(8,"button",17),i.NdJ("click",function(o){const d=i.CHM(t).$implicit;return i.oxw(2).discardFile(d),o.stopPropagation()}),i._uU(9,"Discard"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(2);i.ekj("selected",n.isPatchSelected(t,i.lcZ(1,5,n.selectedUnstagedFile))),i.xp6(2),i.Q6J("ngClass",n.getPatchIconColorClass(t)),i.xp6(1),i.Oqu(n.getPatchIcon(t)),i.xp6(1),i.Q6J("path",n.getPatchPath(t))}}function WN(a,e){if(1&a&&(i.TgZ(0,"ul"),i.YNc(1,BN,10,7,"li",11),i.qZA()),2&a){const t=e.ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngForOf",null==t?null:t.patches)("ngForTrackBy",n.trackByPatch)}}function VN(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",12),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(2).selectFile("staged",s)}),i.ALo(1,"async"),i.TgZ(2,"mat-icon",13),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",14),i.TgZ(5,"div",15),i.TgZ(6,"button",18),i.NdJ("click",function(o){const d=i.CHM(t).$implicit;return i.oxw(2).unstageFile(d),o.stopPropagation()}),i._uU(7,"Unstage"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(2);i.ekj("selected",n.isPatchSelected(t,i.lcZ(1,5,n.selectedStagedFile))),i.xp6(2),i.Q6J("ngClass",n.getPatchIconColorClass(t)),i.xp6(1),i.Oqu(n.getPatchIcon(t)),i.xp6(1),i.Q6J("path",n.getPatchPath(t))}}function HN(a,e){if(1&a&&(i.TgZ(0,"ul"),i.YNc(1,VN,8,7,"li",11),i.qZA()),2&a){const t=e.ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngForOf",null==t?null:t.patches)("ngForTrackBy",n.trackByPatch)}}class ra extends((0,sn.jB)(sn.Aw)){constructor(e,t,n){super(),this.store=e,this.commitsApi=t,this.commitDetailService=n,this.commitMessageControl=new He.rV,this.commitButtonDisabled=(0,rt.aj)([this.stagedChanges,this.selectedRepositoryCommitMessage]).pipe((0,nt.U)(([o,s])=>!s||!o||0===o.patches.length))}ngOnInit(){this.selectedRepositoryCommitMessage.pipe((0,xe.R)(this.destroyed$)).subscribe(e=>{this.commitMessageControl.setValue(e,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,or.b)(200),(0,xe.R)(this.destroyed$)).subscribe(e=>{const t=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);t&&this.store.dispatch(new Rt.$h(t,e))})}getPatchPath(e){return this.commitDetailService.getPatchPath(e)}getPatchIcon(e){return this.commitDetailService.getPatchIcon(e)}getPatchIconColorClass(e){return this.commitDetailService.getPatchIconColorClass(e)}trackByPatch(e,t){return`${t.oldFilePath}|${t.newFilePath}|${t.status}`}isPatchSelected(e,t){return t?.oldFilePath===e.oldFilePath&&t?.newFilePath===e.newFilePath}selectFile(e,t){(0,rt.aj)([this.repositoryPath,this.selectedStagedFile,this.selectedUnstagedFile]).pipe((0,St.q)(1)).subscribe(([n,o,s])=>{null!==n&&this.store.dispatch(new Rt.gt(n,"staged"===e&&t.oldFilePath===o?.oldFilePath&&t.newFilePath===o.newFilePath||"unstaged"===e&&t.oldFilePath===s?.oldFilePath&&t.newFilePath===s.newFilePath?null:{area:e,oldFilePath:t.oldFilePath,newFilePath:t.newFilePath}))})}discardAll(){const e=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);e&&this.store.dispatch(new Rt.BE(e))}stageAll(){const e=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);e&&this.store.dispatch(new Rt.mN(e))}unstageAll(){const e=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);e&&this.store.dispatch(new Rt.U6(e))}discardFile(e){const t=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);t&&this.store.dispatch(new Rt.kD(t,[e]))}stageFile(e){const t=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);t&&this.store.dispatch(new Rt.mP(t,[e]))}unstageFile(e){const t=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);t&&this.store.dispatch(new Rt.Br(t,[e]))}commitChanges(){(0,rt.aj)([this.repositoryPath,this.selectedProfile]).pipe((0,St.q)(1)).subscribe(([e,t])=>{const n=[];e||n.push("Cannot commit if no repository is selected"),t||n.push("Cannot commit if no profile is selected");const o=this.commitMessageControl.value;if(o||n.push("Cannot commit with empty commit message"),n.length>0)throw this.store.dispatch(n.map(p=>new bn.NN("error",p))),new Error(n.join("\n\n"));const s=e;this.commitsApi.putCommit(s,t.name,t.email,o).subscribe(p=>{this.store.dispatch([new Rt.Vu(s),new Rt.jQ(s,p),new Rt.BK(s,p),new Rt.$h(s,null)])},p=>{Ht.fD.matches(p)&&this.store.dispatch(new bn.NN("error",p.message))})})}}function zN(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",18),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(4).changeCommit(s)}),i._uU(1),i.qZA()}if(2&a){const t=e.$implicit,n=e.first;i.Q6J("title",t),i.xp6(1),i.AsE("",n?"":", ","",t,"")}}function UN(a,e){if(1&a&&(i.TgZ(0,"div",15),i.TgZ(1,"span",4),i._uU(2),i.ALo(3,"plural"),i.qZA(),i.TgZ(4,"div",16),i.TgZ(5,"ul"),i.YNc(6,zN,2,3,"li",17),i.qZA(),i.qZA(),i.qZA()),2&a){const t=i.oxw(2).ngIf;i.xp6(2),i.hij("",i.xi3(3,2,"Parent",t.parentIds.length),": "),i.xp6(4),i.Q6J("ngForOf",t.parentIds)}}function jN(a,e){if(1&a&&(i.TgZ(0,"div",19),i._uU(1," committed by "),i._UZ(2,"app-avatar",9),i.ALo(3,"async"),i.TgZ(4,"span",10),i._uU(5),i.qZA(),i.qZA()),2&a){const t=i.oxw(2).ngIf,n=i.oxw();i.xp6(2),i.Q6J("remotes",i.lcZ(3,4,n.remotes))("email",t.committerEmail),i.xp6(2),i.Q6J("title",t.committerEmail),i.xp6(1),i.Oqu(t.committerName)}}function KN(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",21),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(4).changeFile(s)})("contextmenu",function(){const s=i.CHM(t).$implicit,d=i.oxw(4);return d.copyToClipboard(d.getPatchPath(s))}),i.ALo(1,"async"),i.TgZ(2,"mat-icon",22),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",23),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(4);i.ekj("selected",n.isFileSelected(t,i.lcZ(1,5,n.selectedFile))),i.xp6(2),i.Q6J("ngClass",n.getPatchIconColorClass(t)),i.xp6(1),i.Oqu(n.getPatchIcon(t)),i.xp6(1),i.Q6J("path",n.getPatchPath(t))}}function $N(a,e){if(1&a&&(i.TgZ(0,"ul"),i.YNc(1,KN,5,7,"li",20),i.qZA()),2&a){const t=e.ngIf;i.xp6(1),i.Q6J("ngForOf",t)}}function ZN(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"div",2),i.TgZ(1,"header"),i.TgZ(2,"div",3),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().ngIf;return i.oxw().copyToClipboard(o.id)}),i.TgZ(3,"span",4),i._uU(4,"Commit:"),i.qZA(),i._uU(5),i.qZA(),i.YNc(6,UN,7,5,"div",5),i.qZA(),i.TgZ(7,"mat-card",6),i.TgZ(8,"div",7),i._uU(9),i.qZA(),i.TgZ(10,"div",8),i._uU(11," authored by "),i._UZ(12,"app-avatar",9),i.ALo(13,"async"),i.TgZ(14,"span",10),i._uU(15),i.qZA(),i._UZ(16,"br"),i.qZA(),i.YNc(17,jN,6,6,"div",11),i.TgZ(18,"div",12),i.ALo(19,"date"),i._uU(20," on "),i.TgZ(21,"span",13),i._uU(22),i.ALo(23,"date"),i.qZA(),i._uU(24," at "),i.TgZ(25,"span",13),i._uU(26),i.ALo(27,"date"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(28,"mat-card",14),i.YNc(29,$N,2,1,"ul",0),i.qZA(),i.qZA()}if(2&a){const t=i.oxw().ngIf,n=i.oxw();i.xp6(2),i.Q6J("title",t.id),i.xp6(3),i.hij(" ",t.id," "),i.xp6(1),i.Q6J("ngIf",t.parentIds.length),i.xp6(3),i.Oqu(t.message),i.xp6(3),i.Q6J("remotes",i.lcZ(13,13,n.remotes))("email",t.authorEmail),i.xp6(2),i.Q6J("title",t.authorEmail),i.xp6(1),i.Oqu(t.authorName),i.xp6(2),i.Q6J("ngIf",t.committerName&&t.committerEmail&&(t.authorName!==t.committerName||t.authorEmail!==t.committerEmail)),i.xp6(1),i.Q6J("title",i.xi3(19,15,t.date,"z")),i.xp6(4),i.Oqu(i.xi3(23,18,t.date,"d MMMM y")),i.xp6(4),i.Oqu(i.xi3(27,21,t.date,"HH:mm:ss")),i.xp6(3),i.Q6J("ngIf",t.diffs[0].patches)}}function GN(a,e){if(1&a&&(i.ynx(0),i.YNc(1,ZN,30,24,"div",1),i.BQk()),2&a){const t=e.ngIf;i.xp6(1),i.Q6J("ngIf",t&&"head"!==t)}}ra.\u0275fac=function(e){return new(e||ra)(i.Y36(Te.yh),i.Y36(At.TF),i.Y36(w1.d))},ra.\u0275cmp=i.Xpm({type:ra,selectors:[["app-new-commit"]],features:[i.qOj],decls:22,vars:10,consts:[[1,"unstaged"],[1,"header-buttons"],["type","button","mat-button","","title","Stage all changes",3,"click"],["type","button","mat-button","","color","warn","title","Discard all changes",3,"click"],[4,"ngIf"],[1,"staged"],["type","button","mat-button","","title","Unstage all changes",3,"click"],[1,"commit"],[1,"description"],["matInput","","placeholder","Enter a description...",3,"formControl"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],[3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],["inline","",3,"ngClass"],[1,"name",3,"path"],[1,"buttons"],["type","button","mat-flat-button","","color","primary","title","Stage changes",1,"staging-btn",3,"click"],["type","button","mat-flat-button","","color","warn","title","Discard changes",1,"discard-btn",3,"click"],["type","button","mat-flat-button","","color","warn","title","Unstage changes",1,"staging-btn",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-card",0),i.TgZ(1,"div",1),i.TgZ(2,"button",2),i.NdJ("click",function(){return t.stageAll()}),i._uU(3,"Stage All"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return t.discardAll()}),i._uU(5,"Discard All"),i.qZA(),i.qZA(),i.YNc(6,WN,2,2,"ul",4),i.ALo(7,"async"),i.qZA(),i.TgZ(8,"mat-card",5),i.TgZ(9,"div",1),i.TgZ(10,"button",6),i.NdJ("click",function(){return t.unstageAll()}),i._uU(11,"Unstage All"),i.qZA(),i.qZA(),i.YNc(12,HN,2,2,"ul",4),i.ALo(13,"async"),i.qZA(),i.TgZ(14,"mat-card",7),i.TgZ(15,"mat-form-field",8),i.TgZ(16,"mat-label"),i._uU(17,"Commit Message"),i.qZA(),i._UZ(18,"textarea",9),i.qZA(),i.TgZ(19,"button",10),i.NdJ("click",function(){return t.commitChanges()}),i.ALo(20,"async"),i._uU(21,"Commit changes"),i.qZA(),i.qZA()),2&e&&(i.xp6(6),i.Q6J("ngIf",i.lcZ(7,4,t.unstagedChanges)),i.xp6(6),i.Q6J("ngIf",i.lcZ(13,6,t.stagedChanges)),i.xp6(6),i.Q6J("formControl",t.commitMessageControl.ng),i.xp6(1),i.Q6J("disabled",i.lcZ(20,8,t.commitButtonDisabled)))},directives:[F.a8,ln.lW,rn.O5,B.KE,B.hX,D.Nt,oe.Fj,oe.JJ,oe.oH,rn.sg,vn.Hw,rn.mk,y1.j],pipes:[rn.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{flex:1 1 auto;margin:10px 10px 0;white-space:nowrap;overflow:auto;min-height:70px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px}.staged[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.staged[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#f44336}.staged[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.staged[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.staged[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%]{color:#7c8bff}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%]{opacity:1}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:16px;opacity:0;transition:.2s ease-in-out opacity}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px;line-height:22px;margin-left:5px}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .staging-btn[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .staging-btn[_ngcontent-%COMP%]{background-color:#607d8bd9}.staged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .discard-btn[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .discard-btn[_ngcontent-%COMP%]{background-color:#f44336d9}.unstaged[_ngcontent-%COMP%]{margin-top:0}.commit[_ngcontent-%COMP%]{flex:0 0 auto;margin:10px}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px;max-height:100px}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryPath)],ra.prototype,"repositoryPath",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedStagedChanges)],ra.prototype,"stagedChanges",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedUnstagedChanges)],ra.prototype,"unstagedChanges",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedFileForArea("staged"))],ra.prototype,"selectedStagedFile",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedFileForArea("unstaged"))],ra.prototype,"selectedUnstagedFile",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryCommitMessage)],ra.prototype,"selectedRepositoryCommitMessage",void 0),(0,et.gn)([(0,Te.Ph)(xi.$.selectedProfile)],ra.prototype,"selectedProfile",void 0),(0,et.gn)([(0,Te.Ph)(xi.$.profiles)],ra.prototype,"profiles",void 0);class Yc{constructor(e,t){this.store=e,this.commitDetailService=t}getPatchPath(e){return this.commitDetailService.getPatchPath(e)}getPatchIcon(e){return this.commitDetailService.getPatchIcon(e)}getPatchIconColorClass(e){return this.commitDetailService.getPatchIconColorClass(e)}copyToClipboard(e){navigator.clipboard.writeText(e??"").then(()=>{})}changeCommit(e){this.selectedRepositoryPath.pipe((0,St.q)(1)).subscribe(t=>{null!==t&&this.store.dispatch(new Rt.jQ(t,e))})}changeFile(e){(0,rt.aj)([this.selectedRepositoryPath,this.selectedFile]).pipe((0,St.q)(1)).subscribe(([t,n])=>{null!==t&&this.store.dispatch(new Rt.gt(t,e.oldFilePath===n?.oldFilePath&&e.newFilePath===n.newFilePath?null:{area:"commit",oldFilePath:e.oldFilePath,newFilePath:e.newFilePath}))})}isFileSelected(e,t){return!!t&&e.oldFilePath===t.oldFilePath&&e.newFilePath===t.newFilePath}}function QN(a,e){1&a&&i._UZ(0,"app-new-commit")}function YN(a,e){if(1&a&&i._UZ(0,"app-commit",2),2&a){const t=i.oxw(2);i.Q6J("commit",t.commit)}}function JN(a,e){if(1&a&&(i.ynx(0),i.YNc(1,QN,1,0,"app-new-commit",0),i.YNc(2,YN,1,1,"app-commit",1),i.BQk()),2&a){const t=e.ngIf;i.xp6(1),i.Q6J("ngIf","head"===t),i.xp6(1),i.Q6J("ngIf","head"!==t)}}Yc.\u0275fac=function(e){return new(e||Yc)(i.Y36(Te.yh),i.Y36(w1.d))},Yc.\u0275cmp=i.Xpm({type:Yc,selectors:[["app-commit"]],inputs:{commit:"commit"},decls:2,vars:3,consts:[[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"title","click"],[1,"title"],["class","parent-commits",4,"ngIf"],[1,"message"],[1,"content"],[1,"author"],[3,"remotes","email"],[1,"highlight",3,"title"],["class","committer",4,"ngIf"],[1,"date",3,"title"],[1,"highlight"],[1,"files"],[1,"parent-commits"],[1,"parent-commit-ids"],["class","commit",3,"title","click",4,"ngFor","ngForOf"],[1,"commit",3,"title","click"],[1,"committer"],[3,"selected","click","contextmenu",4,"ngFor","ngForOf"],[3,"click","contextmenu"],["inline","",3,"ngClass"],[1,"name",3,"path"]],template:function(e,t){1&e&&(i.YNc(0,GN,2,1,"ng-container",0),i.ALo(1,"async")),2&e&&i.Q6J("ngIf",i.lcZ(1,1,t.commit))},directives:[rn.O5,F.a8,Or.A,rn.sg,vn.Hw,rn.mk,y1.j],pipes:[rn.Ov,rn.uU,zn.r],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 10px;flex:0 0 auto;overflow:auto;font-weight:600}header[_ngcontent-%COMP%]   .commit[_ngcontent-%COMP%]{min-width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 auto;min-width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;padding-right:10px}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 auto;min-width:65px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.message[_ngcontent-%COMP%]{flex:1 10 auto;margin:10px 10px 0;min-height:180px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:22px;height:22px;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:16px}.files[_ngcontent-%COMP%]{flex:10 1 auto;margin:10px;white-space:nowrap;overflow:auto}.files[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.files[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#f44336}.files[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.files[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.files[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px}.files[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;cursor:pointer;line-height:22px;padding-left:16px;padding-right:16px}.files[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.files[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.files[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}"],changeDetection:0}),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRemotes)],Yc.prototype,"remotes",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryPath)],Yc.prototype,"selectedRepositoryPath",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedFileForArea("commit"))],Yc.prototype,"selectedFile",void 0);let XN=(()=>{class a extends((0,sn.jB)(sn.Aw)){}return a.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(a)))(n||a)}}(),a.\u0275cmp=i.Xpm({type:a,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit"},features:[i.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"commit",4,"ngIf"],[3,"commit"]],template:function(t,n){1&t&&(i.YNc(0,JN,3,2,"ng-container",0),i.ALo(1,"async")),2&t&&i.Q6J("ngIf",i.lcZ(1,1,n.commit))},directives:[rn.O5,ra,Yc],pipes:[rn.Ov],encapsulation:2,changeDetection:0}),a})();const qN=["conflictsList"];function eI(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"div",11),i.TgZ(1,"div",12),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().ngIf;return i.oxw().changeCommit(o.baseCommitId)}),i.TgZ(2,"span",13),i._uU(3,"Base:"),i.qZA(),i._uU(4),i.qZA(),i.TgZ(5,"div",14),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().ngIf;return i.oxw().changeCommit(o.toCommitId)}),i.TgZ(6,"span",13),i._uU(7,"Current:"),i.qZA(),i._uU(8),i.qZA(),i.TgZ(9,"div",15),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().ngIf;return i.oxw().changeCommit(o.fromCommitId)}),i.TgZ(10,"span",13),i._uU(11,"Incoming:"),i.qZA(),i._uU(12),i.qZA(),i.qZA()}if(2&a){const t=e.ngIf,n=i.oxw().ngIf;i.xp6(1),i.Q6J("ngClass","color-"+t[n.baseCommitId])("title",n.baseCommitId),i.xp6(3),i.hij(" ",n.baseCommitId," "),i.xp6(1),i.Q6J("ngClass","color-"+t[n.toCommitId])("title",n.toCommitId),i.xp6(3),i.hij(" ",n.toCommitId," "),i.xp6(1),i.Q6J("ngClass","color-"+t[n.fromCommitId])("title",n.fromCommitId),i.xp6(3),i.hij(" ",n.fromCommitId," ")}}function tI(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"div",24),i.TgZ(1,"button",25),i.NdJ("click",function(){return i.CHM(t),i.oxw(4).resolveSelectedConflicts("to")}),i.ALo(2,"async"),i._uU(3,"Use 'current'"),i.qZA(),i.TgZ(4,"button",26),i.NdJ("click",function(){return i.CHM(t),i.oxw(4).resolveSelectedConflicts("from")}),i.ALo(5,"async"),i._uU(6,"Use 'incoming'"),i.qZA(),i.qZA()}if(2&a){const t=e.ngIf,n=i.oxw(3).ngIf,o=i.oxw();i.xp6(1),i.Q6J("ngClass","color-"+t[n.toCommitId])("disabled","check_box_outline_blank"===i.lcZ(2,4,o.conflictCheckboxIcon)),i.xp6(3),i.Q6J("ngClass","color-"+t[n.fromCommitId])("disabled","check_box_outline_blank"===i.lcZ(5,6,o.conflictCheckboxIcon))}}function nI(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"mat-list-option",27),i.TgZ(1,"div",28),i.NdJ("click",function(o){const d=i.CHM(t).$implicit;return i.oxw(4).selectFile(d),o.stopPropagation()}),i.TgZ(2,"mat-icon",29),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",30),i.TgZ(5,"div",31),i.TgZ(6,"button",32),i.NdJ("click",function(o){const d=i.CHM(t).$implicit;return i.oxw(4).launchExternalTool(d),o.stopPropagation()}),i.TgZ(7,"mat-icon"),i._uU(8,"launch"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(4);i.Q6J("value",t),i.xp6(1),i.ekj("selected",n.isPatchSelected(t)),i.xp6(1),i.Q6J("ngClass",n.getPatchIconColorClass(t)),i.xp6(1),i.Oqu(n.getPatchIcon(t)),i.xp6(1),i.Q6J("path",n.getPatchPath(t))}}function iI(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"mat-card",17),i.TgZ(1,"div",18),i.YNc(2,tI,7,8,"div",19),i.ALo(3,"async"),i.TgZ(4,"button",20),i.NdJ("click",function(){return i.CHM(t),i.oxw(3).clickAllConflictsCheckbox()}),i.ALo(5,"async"),i.TgZ(6,"mat-icon"),i._uU(7),i.ALo(8,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(9,"mat-selection-list",21,22),i.NdJ("selectionChange",function(o){return i.CHM(t),i.oxw(3).conflictSelectionChanged(o)}),i.YNc(11,nI,9,6,"mat-list-option",23),i.qZA(),i.qZA()}if(2&a){const t=i.oxw().ngIf,n=i.oxw(2);i.xp6(2),i.Q6J("ngIf",i.lcZ(3,5,n.graphColors)),i.xp6(2),i.s9C("title","check_box_outline_blank"===i.lcZ(5,7,n.conflictCheckboxIcon)?"Select all":"Deselect all"),i.xp6(3),i.Oqu(i.lcZ(8,9,n.conflictCheckboxIcon)),i.xp6(4),i.Q6J("ngForOf",t)("ngForTrackBy",n.trackByPatch)}}function oI(a,e){if(1&a&&(i.ynx(0),i.YNc(1,iI,12,11,"mat-card",16),i.BQk()),2&a){const t=e.ngIf;i.xp6(1),i.Q6J("ngIf",t.length>0)}}function sI(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"li",28),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(2).selectFile(s)}),i.TgZ(1,"mat-icon",29),i._uU(2),i.qZA(),i._UZ(3,"app-condensed-path",30),i.qZA()}if(2&a){const t=e.$implicit,n=i.oxw(2);i.ekj("selected",n.isPatchSelected(t)),i.xp6(1),i.Q6J("ngClass",n.getPatchIconColorClass(t)),i.xp6(1),i.Oqu(n.getPatchIcon(t)),i.xp6(1),i.Q6J("path",n.getPatchPath(t))}}function rI(a,e){if(1&a){const t=i.EpF();i.ynx(0),i.TgZ(1,"header",1),i.YNc(2,eI,13,9,"div",2),i.ALo(3,"async"),i.TgZ(4,"button",3),i.NdJ("click",function(){return i.CHM(t),i.oxw().discardMerge()}),i._uU(5,"Discard merge"),i.qZA(),i.qZA(),i.YNc(6,oI,2,1,"ng-container",0),i.ALo(7,"async"),i.TgZ(8,"mat-card",4),i.TgZ(9,"ul",5),i.YNc(10,sI,4,5,"li",6),i.ALo(11,"async"),i.qZA(),i.qZA(),i.TgZ(12,"mat-card",7),i.TgZ(13,"mat-form-field",8),i.TgZ(14,"mat-label"),i._uU(15,"Commit Message"),i.qZA(),i._UZ(16,"textarea",9),i.qZA(),i.TgZ(17,"button",10),i.NdJ("click",function(){return i.CHM(t),i.oxw().commitChanges()}),i._uU(18,"Commit merge"),i.qZA(),i.qZA(),i.BQk()}if(2&a){const t=i.oxw();i.xp6(2),i.Q6J("ngIf",i.lcZ(3,6,t.graphColors)),i.xp6(4),i.Q6J("ngIf",i.lcZ(7,8,t.conflictedPatches)),i.xp6(4),i.Q6J("ngForOf",i.lcZ(11,10,t.normalPatches))("ngForTrackBy",t.trackByPatch),i.xp6(6),i.Q6J("formControl",t.commitMessageControl.ng),i.xp6(1),i.Q6J("disabled",!1)}}let aI=(()=>{class a extends((0,sn.jB)(sn.Aw)){constructor(t,n,o,s,d){super(),this.store=t,this.repositoriesApi=n,this.commitDetailService=o,this.graphSharedService=s,this.repositoryActionsService=d,this.conflictCheckboxIcon=new Ue.X("check_box_outline_blank"),this.commitMessageControl=new He.rV,this.trackByPatch=(p,R)=>`${R.oldFilePath}|${R.newFilePath}|${R.status}`,this.isPatchSelected=p=>{},this.getPatchPath=p=>this.commitDetailService.getPatchPath(p),this.getPatchIcon=p=>this.commitDetailService.getPatchIcon(p),this.getPatchIconColorClass=p=>this.commitDetailService.getPatchIconColorClass(p)}ngOnInit(){this.conflictedPatches=this.merge.pipe((0,to.h)(rs.Nf),(0,nt.U)(t=>t.mergeDiff.patches.filter(n=>n.status===Lo.v.Conflicted))),this.normalPatches=this.merge.pipe((0,to.h)(rs.Nf),(0,nt.U)(t=>t.mergeDiff.patches.filter(n=>n.status!==Lo.v.Conflicted))),this.merge.pipe((0,to.h)(rs.Nf),(0,xe.R)(this.destroyed$)).subscribe(t=>{this.commitMessageControl.setValue(t.message,{emitEvent:!1})}),this.graphColors=this.graphSharedService.getColors()}changeCommit(t){const n=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);n&&this.store.dispatch(new Rt.jQ(n,t))}discardMerge(){const t=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);this.merge.pipe((0,St.q)(1)).subscribe(n=>{t&&n&&this.repositoriesApi.deleteMerge(t,n.fromCommitId,n.toCommitId).subscribe(()=>{this.store.dispatch([new Yn.hb(t,null,null),new Rt.Vu(t)])})})}conflictSelectionChanged(t){this.conflictCheckboxIcon.next(t.source.options.length===t.source.selectedOptions.selected.length?"check_box":0===t.source.selectedOptions.selected.length?"check_box_outline_blank":"indeterminate_check_box")}clickAllConflictsCheckbox(){switch(this.conflictCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.matSelectionList.deselectAll(),this.conflictCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":this.matSelectionList.selectAll(),this.conflictCheckboxIcon.next("check_box")}}resolveSelectedConflicts(t){const n=this.matSelectionList.selectedOptions.selected.map(o=>o.value);!n.length||this.merge.pipe((0,St.q)(1)).subscribe(o=>{const s=this.store.selectSnapshot(Mt.E.selectedRepositoryPath),d="head"===this.store.selectSnapshot(Mt.E.selectedCommitId);if(s&&o){const p=("from"===t?o.fromDiff.patches:o.toDiff.patches).filter(R=>R.newFilePath&&n.some(j=>j.newFilePath===R.newFilePath)).map(R=>(R.newFileId?this.repositoriesApi.getFile(s,R.newFileId):(0,ht.of)(null)).pipe((0,nt.U)(j=>[R.newFilePath,j??""])));(0,ai.D)(p).pipe((0,Ie.w)(R=>this.repositoriesApi.updateMergeMultiple(s,o.fromCommitId,o.toCommitId,R,d)),(0,Lt.x)(()=>{this.store.dispatch(new Rt.Vu(s))})).subscribe()}})}launchExternalTool(t){}commitChanges(){const t=this.store.selectSnapshot(Mt.E.selectedRepositoryPath),n=this.store.selectSnapshot(Mt.E.selectedCommitId);this.merge.pipe((0,St.q)(1)).subscribe(o=>{t&&o&&this.repositoryActionsService.commitMerge(t,o.fromCommitId,o.toBranch,this.commitMessageControl.value,"head"===n).subscribe()})}selectFile(t){const n=this.store.selectSnapshot(Mt.E.selectedRepositoryPath);if(n){const o=this.store.selectSnapshot(Mt.E.selectedFile);this.store.dispatch(new Rt.gt(n,o?.oldFilePath===t.oldFilePath&&o?.newFilePath===t.newFilePath?null:{area:"commit",oldFilePath:t.oldFilePath,newFilePath:t.newFilePath}))}}}return a.\u0275fac=function(t){return new(t||a)(i.Y36(Te.yh),i.Y36(At.aM),i.Y36(w1.d),i.Y36(wn),i.Y36(ei))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-merge-detail-view"]],viewQuery:function(t,n){if(1&t&&i.Gf(qN,5),2&t){let o;i.iGM(o=i.CRH())&&(n.matSelectionList=o.first)}},inputs:{merge:"merge"},features:[i.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"merge-info"],["class","commit-ids",4,"ngIf"],["type","button","mat-button","","color","warn","title","All changes will be lost!",1,"discard",3,"click"],[1,"normal-files"],[1,"list"],["class","item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"commit-message"],[1,"description"],["matInput","","placeholder","Enter a description...",3,"formControl"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],[1,"commit-ids"],[1,"base-commit",3,"ngClass","title","click"],[1,"title"],[1,"to-commit",3,"ngClass","title","click"],[1,"from-commit",3,"ngClass","title","click"],["class","conflicted-files",4,"ngIf"],[1,"conflicted-files"],[1,"header-buttons"],["class","resolve-buttons",4,"ngIf"],["type","button","mat-icon-button","",1,"checkbox-button",3,"title","click"],[1,"list",3,"selectionChange"],["conflictsList",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"resolve-buttons"],["type","button","mat-button","","title","Resolve conflicts using the changes in the 'current' commit",3,"ngClass","disabled","click"],["type","button","mat-button","","title","Resolve conflicts using the changes in the 'incoming' commit",3,"ngClass","disabled","click"],[3,"value"],[1,"item",3,"click"],["inline","",3,"ngClass"],[1,"name",3,"path"],[1,"buttons"],["type","button","mat-icon-button","","title","Open in external tool",3,"click"]],template:function(t,n){1&t&&(i.YNc(0,rI,19,12,"ng-container",0),i.ALo(1,"async")),2&t&&i.Q6J("ngIf",i.lcZ(1,1,n.merge))},directives:[rn.O5,ln.lW,F.a8,rn.sg,B.KE,B.hX,D.Nt,oe.Fj,oe.JJ,oe.oH,rn.mk,vn.Hw,H.Ub,H.vS,y1.j],pipes:[rn.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%}.merge-info[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px;text-align:center}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex:0 0 auto;overflow:auto;font-weight:600}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit[_ngcontent-%COMP%]{min-width:60px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;padding-right:10px}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-0[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-0[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-0[_ngcontent-%COMP%]{color:#4363d8}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-1[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-1[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-1[_ngcontent-%COMP%]{color:#469990}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-2[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-2[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-2[_ngcontent-%COMP%]{color:#fabed4}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-3[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-3[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-3[_ngcontent-%COMP%]{color:#e6194b}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-4[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-4[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-4[_ngcontent-%COMP%]{color:#42d4f4}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-5[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-5[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-5[_ngcontent-%COMP%]{color:#f58231}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-6[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-6[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-6[_ngcontent-%COMP%]{color:#ffe119}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-7[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-7[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-7[_ngcontent-%COMP%]{color:#3cb44b}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-8[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-8[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-8[_ngcontent-%COMP%]{color:#f032e6}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-9[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-9[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-9[_ngcontent-%COMP%]{color:#fff}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-10[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-10[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-10[_ngcontent-%COMP%]{color:maroon}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-11[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-11[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-11[_ngcontent-%COMP%]{color:#9a6324}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-12[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-12[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-12[_ngcontent-%COMP%]{color:#fffac8}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-13[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-13[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-13[_ngcontent-%COMP%]{color:#aaffc3}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-14[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-14[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-14[_ngcontent-%COMP%]{color:#dcbeff}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit[_ngcontent-%COMP%]{padding-right:0}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.merge-info[_ngcontent-%COMP%]   .discard[_ngcontent-%COMP%]{margin:5px 0;width:100%}.conflicted-files[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]{flex:1 1 auto;margin:10px 10px 0;white-space:nowrap;overflow:auto;min-height:70px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{position:relative;height:40px;line-height:40px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:40px;margin-right:32px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-0, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-0{color:#4363d8}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-1, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-1{color:#469990}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-2, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-2{color:#fabed4}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-3, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-3{color:#e6194b}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-4, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-4{color:#42d4f4}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-5, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-5{color:#f58231}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-6, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-6{color:#ffe119}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-7, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-7{color:#3cb44b}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-8, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-8{color:#f032e6}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-9, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-9{color:#fff}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-10, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-10{color:maroon}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-11, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-11{color:#9a6324}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-12, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-12{color:#fffac8}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-13, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-13{color:#aaffc3}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-14, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-14{color:#dcbeff}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;right:-12px}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;margin-top:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;height:24px;line-height:24px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#f44336}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%]{color:#7c8bff}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{background-color:#616161}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%]{opacity:1}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:0;opacity:0;transition:.2s ease-in-out opacity;font-size:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:24px;width:24px;line-height:24px;margin-left:5px;font-size:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.conflicted-files[_ngcontent-%COMP%]{margin-top:0}.conflicted-files[_ngcontent-%COMP%]   mat-selection-list[_ngcontent-%COMP%]{padding-top:0}.conflicted-files[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]{font-size:14px;height:24px}.normal-files[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:0 16px}.commit-message[_ngcontent-%COMP%]{flex:0 0 auto;margin:10px}.commit-message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit-message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px;max-height:100px}.commit-message[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),a})();function lI(a,e){1&a&&i._UZ(0,"app-branches-view")}function cI(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"app-diff-view",9),i.NdJ("closed",function(){return i.CHM(t),i.oxw().closeDiffView()}),i.qZA()}if(2&a){const t=i.oxw();i.Q6J("@slideLeft",void 0)("patch",t.selectedPatch)}}function dI(a,e){if(1&a){const t=i.EpF();i.TgZ(0,"app-merge-view",9),i.NdJ("closed",function(){return i.CHM(t),i.oxw().closeDiffView()}),i.qZA()}if(2&a){const t=i.oxw();i.Q6J("@slideLeft",void 0)("patch",t.selectedMergePatch)}}function uI(a,e){if(1&a&&i._UZ(0,"app-commit-detail-view",10),2&a){const t=i.oxw();i.Q6J("commit",t.selectedCommit)}}function hI(a,e){if(1&a&&i._UZ(0,"app-merge-detail-view",11),2&a){const t=i.oxw();i.Q6J("merge",t.selectedMerge)}}class aa extends((0,sn.jB)(sn.Aw,sn.Hi)){constructor(e,t,n){super(),this.router=e,this.store=t,this.commitsApi=n,this.showBranches=this.defaultLayoutSizes.pipe((0,nt.U)(o=>"0"!==o[0]&&"0px"!==o[0]&&"0%"!==o[0])),this.branchesViewMinSize=Dn.q}ngOnInit(){super.ngOnInit(),this.selectedRepositoryPath.pipe((0,xe.R)(this.destroyed$)).subscribe(e=>{null===e&&this.router.navigate(["/standard/open-repository"])}),this.selectedCommit=(0,rt.aj)([this.selectedRepositoryPath,this.selectedCommitId]).pipe((0,Ie.w)(([e,t])=>e&&t?"head"===t?this.selectedHasOngoingMerge.pipe((0,nt.U)(n=>n?null:"head")):this.commitsApi.getCommit(e,t):(0,ht.of)(null)),(0,at.d)(1)),this.selectedMerge=(0,rt.aj)([this.selectedRepositoryPath,this.store.select(Mt.E.selectedMerge),this.store.select(Mt.E.workingCopyMergeChanges),this.selectedHasOngoingMerge,this.selectedCommitId]).pipe((0,nt.U)(([e,t,n,o,s])=>t||("head"===s&&o&&e?n:null)),(0,at.d)(1)),this.selectedPatch=(0,rt.aj)([this.selectedRepositoryPath,this.selectedCommit,this.selectedFile,this.selectedStagedChanges,this.selectedUnstagedChanges]).pipe(function(a,e=Ut.P,t=mn){return n=>n.lift(new fn(a,e,t.leading,t.trailing))}(100,void 0,{leading:!0,trailing:!0}),(0,nt.U)(([e,t,n,o,s])=>{if(!e||!t||!n)return null;const p=("head"===t?"staged"===n.area?o?.patches:"unstaged"===n.area?s?.patches:null:"commit"===n.area&&t.diffs.length>0?t.diffs[0].patches:null)?.find(R=>R.newFilePath===n.newFilePath&&R.oldFilePath===n.oldFilePath);return p?{repositoryPath:e,patch:p,isUnstaged:"head"===t&&"unstaged"===n.area}:null}),(0,at.d)(1)),this.selectedMergePatch=(0,rt.aj)([this.selectedRepositoryPath,this.selectedMerge,this.selectedFile]).pipe((0,nt.U)(([e,t,n])=>e&&t&&n?{repositoryPath:e,fromCommitId:t.fromCommitId,toCommitId:t.toCommitId,fromPatch:t.fromDiff.patches.find(o=>o.newFilePath===n.newFilePath)??null,toPatch:t.toDiff.patches.find(o=>o.newFilePath===n.newFilePath)??null,mergePatch:t.mergeDiff.patches.find(o=>o.newFilePath===n.newFilePath)??null}:null),(0,at.d)(1))}changeCommit(e){this.selectedRepositoryPath.pipe((0,St.q)(1)).subscribe(t=>{if(!t)throw new Error("Cannot change commit when no repository is selected");if(e?.startsWith("merge:")){const n=e.match(/^merge:([^:]+):([^:]+)$/);n&&this.store.dispatch(new Yn.hb(t,n[1],n[2]))}else this.store.dispatch(new Rt.jQ(t,e))})}closeDiffView(){this.selectedRepositoryPath.pipe((0,St.q)(1)).subscribe(e=>{null!==e&&this.store.dispatch(new Rt.gt(e,null))})}}aa.\u0275fac=function(e){return new(e||aa)(i.Y36(Ae.F0),i.Y36(Te.yh),i.Y36(At.TF))},aa.\u0275cmp=i.Xpm({type:aa,selectors:[["ng-component"]],features:[i.qOj],decls:16,vars:19,consts:[["id","default-layout"],[1,"left-cell",3,"min"],[4,"ngIf"],[1,"center-cell"],[3,"repository","commitId","selectedMerge","changeCommit"],[3,"patch","closed",4,"ngIf"],["min","350px",1,"right-cell"],[3,"commit",4,"ngIf"],[3,"merge",4,"ngIf"],[3,"patch","closed"],[3,"commit"],[3,"merge"]],template:function(e,t){1&e&&(i._UZ(0,"app-repository-action-view"),i.TgZ(1,"app-grid",0),i.TgZ(2,"app-grid-cell",1),i.YNc(3,lI,1,0,"app-branches-view",2),i.ALo(4,"async"),i.qZA(),i.TgZ(5,"app-grid-cell",3),i.TgZ(6,"app-graph-view",4),i.NdJ("changeCommit",function(o){return t.changeCommit(o)}),i.qZA(),i.YNc(7,cI,1,2,"app-diff-view",5),i.ALo(8,"async"),i.YNc(9,dI,1,2,"app-merge-view",5),i.ALo(10,"async"),i.qZA(),i.TgZ(11,"app-grid-cell",6),i.YNc(12,uI,1,1,"app-commit-detail-view",7),i.ALo(13,"async"),i.YNc(14,hI,1,1,"app-merge-detail-view",8),i.ALo(15,"async"),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("min",t.branchesViewMinSize),i.xp6(1),i.Q6J("ngIf",i.lcZ(4,9,t.showBranches)),i.xp6(3),i.Q6J("repository",t.selectedRepository)("commitId",t.selectedCommitId)("selectedMerge",t.selectedMerge),i.xp6(1),i.Q6J("ngIf",i.lcZ(8,11,t.selectedPatch)),i.xp6(2),i.Q6J("ngIf",i.lcZ(10,13,t.selectedMergePatch)),i.xp6(3),i.Q6J("ngIf",i.lcZ(13,15,t.selectedCommit)),i.xp6(2),i.Q6J("ngIf",i.lcZ(15,17,t.selectedMerge)))},directives:[Yi,To.M,ys.Y,rn.O5,yl,$i,Vo.s,FN,XN,aI],pipes:[rn.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px)}app-repository-action-view[_ngcontent-%COMP%]{height:50px}app-graph-view[_ngcontent-%COMP%]{position:absolute;top:0;left:0;overflow:hidden}app-diff-view[_ngcontent-%COMP%], app-merge-view[_ngcontent-%COMP%]{z-index:200}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}.right-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}"],data:{animation:[(0,$e.X$)("slideLeft",[(0,$e.eR)(":enter",[(0,$e.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,$e.jt)("200ms",(0,$e.oB)({transform:"translateX(0)"}))]),(0,$e.eR)(":leave",[(0,$e.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,$e.jt)("200ms",(0,$e.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0}),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepository)],aa.prototype,"selectedRepository",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedRepositoryPath)],aa.prototype,"selectedRepositoryPath",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedCommitId)],aa.prototype,"selectedCommitId",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedHasOngoingMerge)],aa.prototype,"selectedHasOngoingMerge",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedFile)],aa.prototype,"selectedFile",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedStagedChanges)],aa.prototype,"selectedStagedChanges",void 0),(0,et.gn)([(0,Te.Ph)(Mt.E.selectedUnstagedChanges)],aa.prototype,"selectedUnstagedChanges",void 0),(0,et.gn)([(0,Te.Ph)(xi.$.gridSizes("default-layout"))],aa.prototype,"defaultLayoutSizes",void 0);const fI=[{path:"",component:aa}];let gI=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[Ae.Bz.forChild(fI)],Ae.Bz]}),a})(),mI=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[E.I,O,y,C.m,M,L,P,Ce,gI]]}),a})()},22250:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-label {\n\tmargin-right: 1px;\n}\n"},3336:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}"},27943:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown > .monaco-dropdown-button {\n\tmargin-left: 1px;\n}\n\n.monaco-description-button {\n\tflex-direction: column;\n}\n\n.monaco-description-button .monaco-button-label {\n\tfont-weight: 500;\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description\n{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon\n{\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n"},84570:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-checkbox {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-custom-checkbox:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-checkbox {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tbackground: none;\n}\n\n.monaco-custom-checkbox.monaco-simple-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n\n.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n"},85719:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n"},93791:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: \"codicon\";\n\tfont-display: block;\n\tsrc: url('codicon.63b8ee5b81329a75.ttf') format(\"truetype\");\n}\n\n.codicon[class*='codicon-'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n"},72874:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n\tz-index: 2500;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tz-index: 2500;\n\tcolor: inherit;\n}\n"},92051:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n"},98735:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\n\tcursor: default;\n}\n\n.monaco-dropdown-with-primary {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-primary > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n"},80090:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n.monaco-findInput {\n\tposition: relative;\n}\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n.monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}"},97886:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tbox-sizing: initial;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: 500px;\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul {\n\tmargin: 8px 0;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n"},10402:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n"},5767:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox.idle {\n\tborder: 1px solid transparent;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n"},97348:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n"},72010:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Type filter */\n\n.monaco-list-type-filter {\n\tdisplay: flex;\n\talign-items: center;\n\tposition: absolute;\n\tborder-radius: 2px;\n\tpadding: 0px 3px;\n\tmax-width: calc(100% - 10px);\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\ttext-align: right;\n\tbox-sizing: border-box;\n\tcursor: all-scroll;\n\tfont-size: 13px;\n\tline-height: 18px;\n\theight: 20px;\n\tz-index: 1;\n\ttop: 4px;\n}\n\n.monaco-list-type-filter.dragging {\n\ttransition: top 0.2s, left 0.2s;\n}\n\n.monaco-list-type-filter.ne {\n\tright: 4px;\n}\n\n.monaco-list-type-filter.nw {\n\tleft: 4px;\n}\n\n.monaco-list-type-filter > .controls {\n\tdisplay: flex;\n\talign-items: center;\n\tbox-sizing: border-box;\n\ttransition: width 0.2s;\n\twidth: 0;\n}\n\n.monaco-list-type-filter.dragging > .controls,\n.monaco-list-type-filter:hover > .controls {\n\twidth: 36px;\n}\n\n.monaco-list-type-filter > .controls > * {\n\tborder: none;\n\tbox-sizing: border-box;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tbackground: none;\n\twidth: 16px;\n\theight: 16px;\n\tflex-shrink: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n}\n\n.monaco-list-type-filter > .controls > .filter {\n\tmargin-left: 4px;\n}\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n\n/* Electron */\n\n.monaco-list-type-filter {\n\tcursor: grab;\n}\n\n.monaco-list-type-filter.dragging {\n\tcursor: grabbing;\n}\n"},12239:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n"},38744:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t\tThe more smooth `linear` timing function can cause\n\t\thigher GPU consumption as indicated in\n\t\thttps://github.com/microsoft/vscode/issues/97900 &\n\t\thttps://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n"},10649:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--sash-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--sash-size) * 2);\n\twidth: calc(var(--sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--sash-size) * -0.5);\n\ttop: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--sash-size) * -0.5);\n\tbottom: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--sash-size) * -0.5);\n\tleft: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--sash-size) * -0.5);\n\tright: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: background-color 0.1s ease-out;\n\tbackground: transparent;\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--sash-hover-size);\n\tleft: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--sash-hover-size);\n\ttop: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n"},3301:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n"},10050:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n"},75601:Fe=>{Fe.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-table > .monaco-split-view2,\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n\n/*\n.monaco-table:hover > .monaco-split-view2,\n.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\tborder-color: rgba(204, 204, 204, 0.2);\n} */\n'},79652:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n"},51684:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2000;\n\tpadding: 0 1px 1px 1px;\n\tleft: 50%;\n\tmargin-left: -300px;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 6px 6px 0px 6px;\n\tmargin-bottom: -2px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 27.5px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n\tmargin-top: 6px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 0; /* reduce margins when input box hidden */\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 8px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n"},61261:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n}\n\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n}*/\n\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n}\n"},18491:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n"},91233:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}"},61050:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n\n.monaco-editor .margin-view-overlays .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n"},19269:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n"},34362:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n"},38586:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}"},97227:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n}\n\n/* TODO@tokenization bootstrap fix */\n\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n"},6728:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}"},39319:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n\n/* END cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n"},3180:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}"},42835:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n}"},78432:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n}"},48761:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n"},9442:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n}\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbox-sizing: border-box;\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n"},13401:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n/* ---------- Diff ---------- */\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign {\n\topacity: 1;\n}\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n/* ---------- Inline Diff ---------- */\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n"},58964:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n"},94965:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n\n/* I am not a big fan of this rule */\n\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n"},75777:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n"},11009:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n}\n"},62803:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .contentWidgets .codicon-light-bulb,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .contentWidgets .codicon-light-bulb:hover,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover {\n\tcursor: pointer;\n}\n"},50269:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tcolor: var(--vscode-editorCodeLens-foreground)\n}\n\n.monaco-editor .codelens-decoration > span,\n.monaco-editor .codelens-decoration > a {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration > a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration > a:hover {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon {\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@keyframes fadein {\n\t0% { opacity: 0; visibility: visible;}\n\t100% { opacity: 1; }\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\tanimation: fadein 0.1s linear;\n}\n"},77725:Fe=>{Fe.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* Decoration */\n\n.colorpicker-color-decoration {\n\tborder: solid 0.1em #000;\n\tbox-sizing: border-box;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\twidth: 0.8em;\n\theight: 0.8em;\n\tline-height: 0.8em;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.hc-black .colorpicker-color-decoration,\n.vs-dark .colorpicker-color-decoration {\n\tborder: solid 0.1em #eee;\n}\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 216px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1;\n}\n\n.colorpicker-header .picked-color .codicon {\n\tcolor: inherit;\n\tfont-size: 14px;\n\tposition: absolute;\n\tleft: 8px;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n'},63593:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}"},47009:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 4px 0 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\topacity: 0.3;\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n"},45618:Fe=>{Fe.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "\u22ef";\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n'},76149:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n"},55753:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n}"},86414:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n"},4946:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-preview-additional-widget {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\n\tcolor: transparent;\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-preview-additional-widget .button {\n\tdisplay: inline-block;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .ghost-text-decoration {\n\tfont-style: italic;\n}\n\n.monaco-editor .suggest-preview-text {\n\tfont-style: italic;\n}\n"},56413:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n}\n"},8546:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below {\n\tpadding-bottom: 0;\n\tpadding-top: 8px;\n\tz-index: 10000;\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\tanimation: fadeIn 150ms ease-out;\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\tanimation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 1px 4px;\n\tcolor: var(--vscode-inputValidation-infoForeground);\n\tbackground-color: var(--vscode-inputValidation-infoBackground);\n\tborder: 1px solid var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor.hc-black .monaco-editor-overlaymessage .message {\n\tborder-width: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.top {\n\tborder-bottom-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.below {\n\tborder-top-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\n\tdisplay: none;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\n\tdisplay: inherit;\n\ttop: -8px;\n}\n"},16393:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\t/* Must be higher than the sash's z-index and terminal canvases but lower than the suggest widget */\n\tz-index: 39;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n}\n\n.monaco-editor .parameter-hints-widget > .phwrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.visible {\n\ttransition: left .05s ease-in-out;\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .docs  .monaco-tokenized-source,\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tfont-weight: bold;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n"},68819:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tmin-width: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title.clickable {\n\tcursor: pointer;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n}\n\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: inherit !important;\n}\n"},67087:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 3px 3px 0 3px;\n}\n\n.monaco-editor .rename-box .rename-input {\n\tpadding: 3px;\n\twidth: calc(100% - 6px);\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n"},14700:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);\n}\n"},1494:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n\tz-index: 40;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .suggest-widget.message {\n\tflex-direction: row;\n\talign-items: center;\n}\n\n.monaco-editor .suggest-widget,\n.monaco-editor .suggest-details {\n\tflex: 0 1 auto;\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-color: var(--vscode-editorSuggestWidget-border);\n\tbackground-color: var(--vscode-editorSuggestWidget-background);\n}\n\n.monaco-editor.hc-black .suggest-widget,\n.monaco-editor.hc-black .suggest-details {\n\tborder-width: 2px;\n}\n\n/* Styles for status bar part */\n\n.monaco-editor .suggest-widget .suggest-status-bar {\n\tbox-sizing: border-box;\n\tdisplay: none;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tfont-size: 80%;\n\tpadding: 0 4px 0 4px;\n\tborder-top: 1px solid var(--vscode-editorSuggestWidget-border);\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .suggest-status-bar .left {\n\tpadding-right: 8px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tcolor: var(--vscode-editorSuggestWidgetStatus-foreground);\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: 100%;\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n\n.monaco-editor .suggest-widget>.message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n\n.monaco-editor .suggest-widget>.tree {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {\n\tcolor: var(--vscode-editorSuggestWidget-selectedForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: var(--vscode-editorSuggestWidget-selectedIconForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {\n\tflex: 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left, .monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label {\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-highlightForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-focusHighlightForeground);\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.6;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {\n\tmargin-left: 12px;\n\topacity: 0.4;\n\tfont-size: 85%;\n\tline-height: initial;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tfont-size: 85%;\n\tmargin-left: 1.1em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 0;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {\n\tmax-width: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 1;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\toverflow: hidden;\n\tflex-shrink: 4;\n\tmax-width: 70%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon, .monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n\n.monaco-editor .suggest-details-container {\n\tz-index: 41;\n}\n\n.monaco-editor .suggest-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-details.focused {\n\tborder-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .suggest-details a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .suggest-details a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .suggest-details code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .suggest-details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element {\n\tflex: 1;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body {\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {\n\tflex: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\twhite-space: pre;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {\n\twhite-space: normal;\n\tword-break: break-all;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {\n\tmargin-right: 24px;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source {\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .suggest-details ul {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n"},26549:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.editor-banner {\n\tbox-sizing: border-box;\n\tcursor: default;\n\twidth: 100%;\n\tfont-size: 12px;\n\tdisplay: flex;\n\toverflow: visible;\n\n\theight: 26px;\n\n\tbackground: var(--vscode-banner-background);\n}\n\n.editor-banner .icon-container {\n\tdisplay: flex;\n\tflex-shrink: 0;\n\talign-items: center;\n\tpadding: 0 6px 0 10px;\n}\n\n.editor-banner .icon-container.custom-icon {\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 16px;\n\twidth: 16px;\n\tpadding: 0;\n\tmargin: 0 6px 0 10px;\n}\n\n.editor-banner .message-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 26px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.editor-banner .message-container p {\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n}\n\n.editor-banner .message-actions-container {\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tline-height: 26px;\n\tmargin: 0 4px;\n}\n\n.editor-banner .message-actions-container a.monaco-button {\n\twidth: inherit;\n\tmargin: 2px 8px;\n\tpadding: 0px 12px;\n}\n\n.editor-banner .message-actions-container a {\n\tpadding: 3px;\n\tmargin-left: 12px;\n\ttext-decoration: underline;\n}\n\n.editor-banner .action-container {\n\tpadding: 0 10px 0 6px;\n}\n\n.editor-banner {\n\tbackground-color: var(--vscode-banner-background);\n}\n\n.editor-banner,\n.editor-banner .action-container .codicon,\n.editor-banner .message-actions-container .monaco-link {\n\tcolor: var(--vscode-banner-foreground);\n}\n\n.editor-banner .icon-container .codicon {\n\tcolor: var(--vscode-banner-iconForeground);\n}\n"},43456:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .unicode-highlight {\n\tborder: 1px solid var(--vscode-editorUnicodeHighlight-border);\n\tbox-sizing: border-box;\n}\n"},13911:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n"},81089:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .accessibilityHelpWidget {\n\tpadding: 10px;\n\tvertical-align: middle;\n\toverflow: scroll;\n}"},27354:Fe=>{Fe.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #252526;\n}'},73215:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 10px;\n}\n\n.tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n"},33050:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n"},63317:Fe=>{Fe.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n\n\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n\n\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n}\n\n\n/* The hc-black theme is already high contrast optimized */\n\n\n.monaco-editor.hc-black {\n\t-ms-high-contrast-adjust: none;\n}\n\n\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\n\n\n@media screen and (-ms-high-contrast:active) {\n\n\t/* current line highlight */\n\t.monaco-editor.vs .view-overlays .current-line,\n\t.monaco-editor.vs-dark .view-overlays .current-line {\n\t\tborder-color: windowtext !important;\n\t\tborder-left: 0;\n\t\tborder-right: 0;\n\t}\n\n\t/* view cursors */\n\t.monaco-editor.vs .cursor,\n\t.monaco-editor.vs-dark .cursor {\n\t\tbackground-color: windowtext !important;\n\t}\n\t/* dnd target */\n\t.monaco-editor.vs .dnd-target,\n\t.monaco-editor.vs-dark .dnd-target {\n\t\tborder-color: windowtext !important;\n\t}\n\n\t/* selected text background */\n\t.monaco-editor.vs .selected-text,\n\t.monaco-editor.vs-dark .selected-text {\n\t\tbackground-color: highlight !important;\n\t}\n\n\t/* allow the text to have a transparent background. */\n\t.monaco-editor.vs .view-line,\n\t.monaco-editor.vs-dark .view-line {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* text color */\n\t.monaco-editor.vs .view-line span,\n\t.monaco-editor.vs-dark .view-line span {\n\t\tcolor: windowtext !important;\n\t}\n\t/* selected text color */\n\t.monaco-editor.vs .view-line span.inline-selected-text,\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\n\t\tcolor: highlighttext !important;\n\t}\n\n\t/* allow decorations */\n\t.monaco-editor.vs .view-overlays,\n\t.monaco-editor.vs-dark .view-overlays {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* various decorations */\n\t.monaco-editor.vs .selectionHighlight,\n\t.monaco-editor.vs-dark .selectionHighlight,\n\t.monaco-editor.vs .wordHighlight,\n\t.monaco-editor.vs-dark .wordHighlight,\n\t.monaco-editor.vs .wordHighlightStrong,\n\t.monaco-editor.vs-dark .wordHighlightStrong,\n\t.monaco-editor.vs .reference-decoration,\n\t.monaco-editor.vs-dark .reference-decoration {\n\t\tborder: 2px dotted highlight !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .rangeHighlight,\n\t.monaco-editor.vs-dark .rangeHighlight {\n\t\tbackground: transparent !important;\n\t\tborder: 1px dotted activeborder !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .bracket-match,\n\t.monaco-editor.vs-dark .bracket-match {\n\t\tborder-color: windowtext !important;\n\t\tbackground: transparent !important;\n\t}\n\n\t/* find widget */\n\t.monaco-editor.vs .findMatch,\n\t.monaco-editor.vs-dark .findMatch,\n\t.monaco-editor.vs .currentFindMatch,\n\t.monaco-editor.vs-dark .currentFindMatch {\n\t\tborder: 2px dotted activeborder !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .find-widget,\n\t.monaco-editor.vs-dark .find-widget {\n\t\tborder: 1px solid windowtext;\n\t}\n\n\t/* list - used by suggest widget */\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* scrollbars */\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: background !important;\n\t\tborder: 1px solid windowtext;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\t\tbackground: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\tbackground: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\tbackground: highlight !important;\n\t}\n\n\t/* overview ruler */\n\t.monaco-editor.vs .decorationsOverviewRuler,\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\n\t\topacity: 0;\n\t}\n\n\t/* minimap */\n\t.monaco-editor.vs .minimap,\n\t.monaco-editor.vs-dark .minimap {\n\t\tdisplay: none;\n\t}\n\n\t/* squiggles */\n\t.monaco-editor.vs .squiggly-d-error,\n\t.monaco-editor.vs-dark .squiggly-d-error {\n\t\tbackground: transparent !important;\n\t\tborder-bottom: 4px double #E47777;\n\t}\n\t.monaco-editor.vs .squiggly-c-warning,\n\t.monaco-editor.vs-dark .squiggly-c-warning {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-b-info,\n\t.monaco-editor.vs-dark .squiggly-b-info {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-a-hint,\n\t.monaco-editor.vs-dark .squiggly-a-hint {\n\t\tborder-bottom: 4px double #6c6c6c;\n\t}\n\n\t/* contextmenu */\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* diff editor */\n\t.monaco-diff-editor.vs .diffOverviewRuler,\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\n\t\tdisplay: none;\n\t}\n\t.monaco-editor.vs .line-insert,\n\t.monaco-editor.vs-dark .line-insert,\n\t.monaco-editor.vs .line-delete,\n\t.monaco-editor.vs-dark .line-delete {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .char-insert,\n\t.monaco-editor.vs-dark .char-insert,\n\t.monaco-editor.vs .char-delete,\n\t.monaco-editor.vs-dark .char-delete {\n\t\tbackground: transparent !important;\n\t}\n}\n\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n'},62922:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-action-bar .action-item.menu-entry .action-label {\n\tbackground-image: var(--menu-entry-icon-light);\n}\n\n.vs-dark .monaco-action-bar .action-item.menu-entry .action-label,\n.hc-black .monaco-action-bar .action-item.menu-entry .action-label {\n\tbackground-image: var(--menu-entry-icon-dark);\n}\n\n.monaco-dropdown-with-default {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-default > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label {\n\tbackground-image: var(--menu-entry-icon-light);\n}\n\n.vs-dark .monaco-dropdown-with-default > .action-container.menu-entry > .action-label,\n.hc-black .monaco-dropdown-with-default > .action-container.menu-entry > .action-label {\n\tbackground-image: var(--menu-entry-icon-dark);\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n"},94321:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view .monaco-menu {\n\tmin-width: 130px;\n}\n\n"}}]);
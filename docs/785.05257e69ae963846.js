"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[785],{3178:(L,U,l)=>{l.d(U,{l:()=>g});var k=l(4080),C=l(2986),M=l(7625),w=l(9967),O=l(4810),m=l(8310),e=l(4650),f=l(3431);let g=(()=>{class h extends((0,O.j)(w.A)){constructor(y,s){super(),this.overlay=y,this.viewContainerRef=s,this.overlayRef=null,this.closeMenu=()=>{this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)},this.openMenu=(T,N)=>{this.closeMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:T,y:N}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new k.UE(this.menuTemplate,this.viewContainerRef,{data:this.data})),(0,m.t)(this.overlayRef).pipe((0,C.q)(1),(0,M.R)(this.destroyed$)).subscribe(this.closeMenu)},this.toggleMenu=(T,N)=>{this.overlayRef?this.closeMenu():this.openMenu(T,N)}}contextmenuListener(y){y.preventDefault(),y.stopPropagation(),this.openMenu(y.x,y.y)}ngOnDestroy(){super.ngOnDestroy(),this.closeMenu()}}return h.\u0275fac=function(y){return new(y||h)(e.Y36(f.aV),e.Y36(e.s_b))},h.\u0275dir=e.lG2({type:h,selectors:[["","appContextMenu",""]],hostBindings:function(y,s){1&y&&e.NdJ("contextmenu",function(N){return s.contextmenuListener(N)})},inputs:{menuTemplate:["appContextMenu","menuTemplate"],data:["appContextMenuData","data"]},exportAs:["appContextMenu"],features:[e.qOj]}),h})()},6785:(L,U,l)=>{l.r(U),l.d(U,{DefaultLayoutModule:()=>Br});var k=l(3179),C=l(5412),M=l(7084),w=l(9549),O=l(284),m=l(4385),e=l(4650);let f=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[C.Is,M.To,w.lN,O.c,m.LD,k.I]}),o})();var g=l(3546),h=l(6709),x=l(9418);let y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[k.I,g.QW,h.p9,O.c,x.c]}),o})();var s=l(206),T=l(8255);let N=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[C.Is,w.lN,O.c,m.LD,k.I]}),o})(),F=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[k.I,T.Tx,N]}),o})();var J=l(6338);let I=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[k.I,g.QW,O.c,J.ie]}),o})();var Y=l(811),W=l(4247);let X=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Y.vV,C.Is,W.nm,k.I,s.m]}),o})();var ne=l(1572),de=l(3238),Ce=l(2687),Me=l(1281),me=l(5017),z=l(4006);const q=["input"],oe=function(o){return{enterDuration:o}},re=["*"],ae=new e.OlP("mat-radio-default-options",{providedIn:"root",factory:function le(){return{color:"accent"}}});let ue=0;const he={provide:z.JU,useExisting:(0,e.Gpc)(()=>Se),multi:!0};class ge{constructor(c,t){this.source=c,this.value=t}}const Be=new e.OlP("MatRadioGroup");let fe=(()=>{class o{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+ue++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new e.vpe}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,Me.Ig)(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=(0,Me.Ig)(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new ge(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO))},o.\u0275dir=e.lG2({type:o,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),o})(),Se=(()=>{class o extends fe{}return o.\u0275fac=function(){let c;return function(n){return(c||(c=e.n5z(o)))(n||o)}}(),o.\u0275dir=e.lG2({type:o,selectors:[["mat-radio-group"]],contentQueries:function(t,n,i){if(1&t&&e.Suo(i,P,5),2&t){let r;e.iGM(r=e.CRH())&&(n._radios=r)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[e._Bn([he,{provide:Be,useExisting:o}]),e.qOj]}),o})();class Le{constructor(c){this._elementRef=c}}const De=(0,de.Kr)((0,de.sb)(Le));let $e=(()=>{class o extends De{constructor(t,n,i,r,a,u,d,b){super(n),this._changeDetector=i,this._focusMonitor=r,this._radioDispatcher=a,this._providerOverride=d,this._uniqueId="mat-radio-"+ ++ue,this.id=this._uniqueId,this.change=new e.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===u,b&&(this.tabIndex=(0,Me.su)(b,0)),this._removeUniqueSelectionListener=a.listen((v,_)=>{v!==this.id&&_===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const n=(0,Me.Ig)(t);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled((0,Me.Ig)(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=(0,Me.Ig)(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,n){n?this._focusMonitor.focusVia(this._inputElement,n,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new ge(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let n;if(n=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",n+""),this._previousTabIndex=n)}}}return o.\u0275fac=function(t){e.$Z()},o.\u0275dir=e.lG2({type:o,viewQuery:function(t,n){if(1&t&&e.Gf(q,5),2&t){let i;e.iGM(i=e.CRH())&&(n._inputElement=i.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[e.qOj]}),o})(),P=(()=>{class o extends $e{constructor(t,n,i,r,a,u,d,b){super(t,n,i,r,a,u,d,b)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Be,8),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Ce.tE),e.Y36(me.A8),e.Y36(e.QbO,8),e.Y36(ae,8),e.$8M("tabindex"))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,n){1&t&&e.NdJ("focus",function(){return n._inputElement.nativeElement.focus()}),2&t&&(e.uIk("tabindex",null)("id",n.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.ekj("mat-radio-checked",n.checked)("mat-radio-disabled",n.disabled)("_mat-animation-noopable",n._noopAnimations)("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[e.qOj],ngContentSelectors:re,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,n){if(1&t&&(e.F$t(),e.TgZ(0,"label",0,1)(2,"span",2),e._UZ(3,"span",3)(4,"span",4),e.TgZ(5,"input",5,6),e.NdJ("change",function(r){return n._onInputInteraction(r)})("click",function(r){return n._onInputClick(r)}),e.qZA(),e.TgZ(7,"span",7),e._UZ(8,"span",8),e.qZA()(),e.TgZ(9,"span",9)(10,"span",10),e._uU(11,"\xa0"),e.qZA(),e.Hsn(12),e.qZA()()),2&t){const i=e.MAs(1);e.uIk("for",n.inputId),e.xp6(5),e.Q6J("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("required",n.required),e.uIk("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.xp6(2),e.Q6J("matRippleTrigger",i)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(17,oe,n._noopAnimations?0:150)),e.xp6(2),e.ekj("mat-radio-label-before","before"==n.labelPosition)}},dependencies:[de.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}"],encapsulation:2,changeDetection:0}),o})(),p=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[de.si,de.BQ,de.BQ]}),o})(),B=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Y.vV,C.Is,w.lN,O.c,T.Tx,ne.Cq,p,k.I,N]}),o})();var E=l(2018),Z=l(655),$=l(7340),G=l(9253),V=l(591),Q=l(1086),pe=l(1737),Oe=l(567),j=l(4850),Ne=l(7221),xe=l(2994),ie=l(7545),Ye=l(3164),K=l(7625),_e=l(1712),Ee=l(4810),Te=l(9967),He=l(4745),qe=l(205),S=l(4889),D=l(6966),Ge=l(1129),ke=l(9077),Xe=l(790),te=l(6895),ut=l(5724),st=l(3943),ze=l(4080),be=l(3668),qt=l(5944),yt=l(4177);const et=function Yt(o,c,t,n){return null==o?[]:((0,yt.Z)(c)||(c=null==c?[]:[c]),(0,yt.Z)(t=n?void 0:t)||(t=null==t?[]:[t]),(0,qt.Z)(o,c,t))};var wt=l(2686),ve=l(6053),Ie=l(8896),tt=l(1059),ce=l(2986),we=l(2198),Ke=l(5154),je=l(7168),nt=l(6792),jt=l(6216),dt=l(2771),We=l(8310),Fe=l(2120),ee=l(1336),Ct=l(3431),Ht=l(6271),Tt=l(4614),Je=l(3404),kt=l(4843),zt=l(5254),At=l(7314),Kt=l(2821);const Re=o=>(0,kt.z)((0,Ne.K)(c=>(0,zt.D)(o(void 0)).pipe((0,At.d)(void 0),(0,ie.w)(()=>(0,pe._)(c)))),(0,Kt.h)(1),(0,At.d)(void 0),(0,ie.w)(o)),Ae=o=>(0,kt.z)((0,Ne.K)(c=>(o(c),(0,pe._)(c))));let bt=(()=>{class o{constructor(){this.colorsByCommitId=new V.X({}),this.commitDetailsByCommitId=new V.X({})}getColors(){return this.colorsByCommitId.asObservable()}setColors(t){this.colorsByCommitId.next(t)}getCommits(){return this.commitDetailsByCommitId.asObservable()}setCommits(t){this.commitDetailsByCommitId.next(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Qe=l(4859),Ue=l(7392),Ve=l(266),lt=l(744);function Wt(o,c){1&o&&(e.ynx(0),e._uU(1,"Loading..."),e.BQk())}function Xt(o,c){1&o&&(e.TgZ(0,"div",5)(1,"mat-icon",6),e._uU(2,"warning"),e.qZA(),e._uU(3," There are changes to the working copy that will be lost. "),e.qZA())}function en(o,c){if(1&o&&(e.TgZ(0,"li",9),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("matTooltip",t.id),e.xp6(1),e.AsE(" ",t.message," - ",t.id," ")}}function tn(o,c){if(1&o&&(e.TgZ(0,"div",5)(1,"mat-icon",6),e._uU(2,"warning"),e.qZA(),e._uU(3," The following commits will no longer be reachable by any branch or tag and may be lost: "),e.TgZ(4,"ul",7),e.YNc(5,en,2,3,"li",8),e.ALo(6,"async"),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(5),e.Q6J("ngForOf",e.lcZ(6,1,t.atRiskCommits))}}function nn(o,c){if(1&o&&(e.ynx(0),e.YNc(1,Xt,4,0,"div",4),e.ALo(2,"async"),e.YNc(3,tn,7,3,"div",4),e.ALo(4,"nullEmpty"),e.ALo(5,"async"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.workingCopyAtRisk)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,e.lcZ(5,6,t.atRiskCommits)))}}function on(o,c){1&o&&(e.TgZ(0,"button",10),e._uU(1,"Cancel"),e.qZA()),2&o&&e.Q6J("mat-dialog-close",void 0)}function rn(o,c){1&o&&(e.TgZ(0,"button",11),e._uU(1,"Confirm"),e.qZA()),2&o&&e.Q6J("mat-dialog-close",!0)}let St=(()=>{class o extends((0,Ee.j)(Te.A)){constructor(t,n,i){super(),this.data=t,this.dialogRef=n,this.graphSharedService=i,this.loading=!0,this.atRiskCommits=new V.X([]),this.workingCopyAtRisk=new V.X(!1)}ngOnInit(){this.graphSharedService.getCommits().pipe((0,K.R)(this.destroyed$)).subscribe(t=>{const n=this.data.branchName.startsWith("refs/heads/")?this.data.branchName:`refs/heads/${this.data.branchName}`,i={...t},r=Object.values(t).filter(b=>b.commit.references.length>0&&b.commit.references.some(v=>v!==n)).map(b=>b.id);i.head&&delete i.head;const a=this.data.toCommitId?[...r,this.data.toCommitId]:r;let u=0;for(;u<a.length;){const b=a[u],v=i[b];v&&(delete i[b],a.push(...v.commit.parentIds)),u++}const d=Object.values(i).map(b=>b.commit);this.atRiskCommits.next(d),this.loading&&0===d.length&&!this.workingCopyAtRisk.value?setTimeout(()=>this.dialogRef.close(!0),0):this.loading=!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.WI),e.Y36(C.so),e.Y36(bt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],features:[e.qOj],decls:8,vars:5,consts:[["mat-dialog-title",""],[4,"ngIf"],["type","button","mat-button","",3,"mat-dialog-close",4,"ngIf"],["type","button","mat-button","","color","warn",3,"mat-dialog-close",4,"ngIf"],["class","text-block",4,"ngIf"],[1,"text-block"],[1,"warning-icon"],[1,"commit-list"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content"),e.YNc(3,Wt,2,0,"ng-container",1),e.YNc(4,nn,6,8,"ng-container",1),e.qZA(),e.TgZ(5,"mat-dialog-actions"),e.YNc(6,on,2,1,"button",2),e.YNc(7,rn,2,1,"button",3),e.qZA()),2&t&&(e.xp6(1),e.Oqu(n.data.title),e.xp6(2),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(2),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[C.ZT,C.uh,C.xY,C.H8,te.sg,te.O5,Qe.lW,Ue.Hw,Ve.gM,te.Ov,lt.x],styles:[".text-block[_ngcontent-%COMP%]{margin-bottom:10px}",".warning-icon[_ngcontent-%COMP%]{margin-right:5px}",".commit-list[_ngcontent-%COMP%]{list-style:inside;padding-left:20px;margin-top:10px;overflow-x:hidden}",".commit-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{height:26px;line-height:26px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:16px}"],changeDetection:0}),o})(),Nt=(()=>{class o{constructor(t){this.data=t,this.form=new z.cw({name:new z.NI(null,z.kI.required)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:13,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["type","text","matInput","","required","","formControlName","name"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close","disabled"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"form",1)(3,"mat-dialog-content")(4,"mat-form-field")(5,"mat-label"),e._uU(6,"Name"),e.qZA(),e._UZ(7,"input",2),e.qZA()(),e.TgZ(8,"mat-dialog-actions")(9,"button",3),e._uU(10,"Cancel"),e.qZA(),e.TgZ(11,"button",4),e._uU(12,"Save"),e.qZA()()()),2&t&&(e.xp6(1),e.hij("Create ",n.data.title,""),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(7),e.Q6J("mat-dialog-close",void 0),e.xp6(2),e.Q6J("mat-dialog-close",n.form.value)("disabled",n.form.invalid))},dependencies:[C.ZT,C.uh,C.xY,C.H8,w.KE,w.hX,O.Nt,z._Y,z.Fj,z.JJ,z.JL,z.Q7,z.sg,z.u,Qe.lW],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"],changeDetection:0}),o})(),an=(()=>{class o{constructor(t){this.data=t,this.form=new z.cw({name:new z.NI(this.data.name,{nonNullable:!0,validators:z.kI.required})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:13,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["type","text","matInput","","required","","formControlName","name"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close","disabled"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"form",1)(3,"mat-dialog-content")(4,"mat-form-field")(5,"mat-label"),e._uU(6,"Name"),e.qZA(),e._UZ(7,"input",2),e.qZA()(),e.TgZ(8,"mat-dialog-actions")(9,"button",3),e._uU(10,"Cancel"),e.qZA(),e.TgZ(11,"button",4),e._uU(12,"Save"),e.qZA()()()),2&t&&(e.xp6(1),e.hij("Rename ",n.data.title,""),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(7),e.Q6J("mat-dialog-close",void 0),e.xp6(2),e.Q6J("mat-dialog-close",n.form.value.name)("disabled",n.form.invalid))},dependencies:[C.ZT,C.uh,C.xY,C.H8,w.KE,w.hX,O.Nt,z._Y,z.Fj,z.JJ,z.JL,z.Q7,z.sg,z.u,Qe.lW],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"],changeDetection:0}),o})();var Rt=l(9160),ot=l(3058);let it=(()=>{class o{constructor(t,n,i,r,a,u){this.dialog=t,this.store=n,this.commitsApi=i,this.remotesApi=r,this.repositoriesApi=a,this.submodulesApi=u,this.fetchFromRemote=(d,b,v=null)=>(v?this.remotesApi.fetch(d,v,b):this.remotesApi.fetchAll(d,b)).pipe(Ae(_=>{_e.Ay.matches(_)||_e.T0.matches(_)||Je.OV.matches(_)?this.store.dispatch(new ee.NN("error",_.message)):this.store.dispatch(new ee.NN("unhandled",`${_}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.references])))),this.push=(d,b,v,_,A=!1)=>(b?this.remotesApi.push(d,v,b,_,A):this.remotesApi.pushToAllRemotes(d,v,_,A)).pipe(Ae(R=>{_e.Ay.matches(R)||_e.a9.matches(R)||_e.T0.matches(R)?this.store.dispatch(new ee.NN("error",R.message)):this.store.dispatch(new ee.NN("unhandled",`${R}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranchCommitId,S.nh.headCommitId,S.nh.references])))),this.pull=(d,b,v,_)=>this.fetchFromRemote(d,v,b).pipe((0,ie.w)(()=>this.commitsApi.getBranchUpstreamCommitId(d,`refs/heads/${_}`)),(0,ie.w)(A=>{if(A)return this.updateBranch(d,`refs/heads/${_}`,A);const R=new Je.aK(_);throw this.store.dispatch(new ee.NN("error",R.message)),R})),this.checkoutBranch=(d,b)=>this.repositoriesApi.checkoutBranch(d,b).pipe(Ae(v=>{_e.Nu.matches(v)?this.store.dispatch(new ee.NN("error",v.message)):this.store.dispatch(new ee.NN("unhandled",`${v}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranch,S.nh.currentBranchCommitId,S.nh.currentBranchUpstreamBranch,S.nh.headCommitId,S.nh.references])))),this.createBranch=(d,b,v=!0)=>this.dialog.open(Nt,{data:{title:"Branch"}}).afterClosed().pipe((0,ie.w)(A=>A?this.repositoriesApi.createBranch(d,b,A.name).pipe((0,ie.w)(()=>v?this.repositoriesApi.checkoutBranch(d,A.name):Ie.E),(0,Ne.K)(R=>_e.Nu.matches(R)?Ie.E:(0,pe._)(R)),Ae(R=>{Je.bG.matches(R)||Je.OV.matches(R)?this.store.dispatch(new ee.NN("error",R.message)):this.store.dispatch(new ee.NN("unhandled",`${R}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranch,S.nh.currentBranchCommitId,S.nh.currentBranchUpstreamBranch,S.nh.references])))):Ie.E)),this.createBranchWithDetails=(d,b,v,_=null,A=!0)=>this.repositoriesApi.createBranch(d,b,v).pipe((0,ie.w)(()=>A?this.repositoriesApi.checkoutBranch(d,v):Ie.E),(0,Ne.K)(R=>_e.Nu.matches(R)?Ie.E:(0,pe._)(R)),(0,ie.w)(()=>_?this.repositoriesApi.setUpstreamBranch(d,v,_):Ie.E),Ae(R=>{Je.bG.matches(R)||Je.OV.matches(R)?this.store.dispatch(new ee.NN("error",R.message)):this.store.dispatch(new ee.NN("unhandled",`${R}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranch,S.nh.currentBranchCommitId,S.nh.currentBranchUpstreamBranch,S.nh.references])))),this.createTag=(d,b,v="")=>this.dialog.open(Nt,{data:{title:"Tag"}}).afterClosed().pipe((0,ie.w)(A=>A?this.repositoriesApi.createTag(d,b,A.name,v).pipe(Ae(R=>{Je.OV.matches(R)?this.store.dispatch(new ee.NN("error",R.message)):this.store.dispatch(new ee.NN("unhandled",`${R}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranch,S.nh.currentBranchCommitId,S.nh.currentBranchUpstreamBranch,S.nh.references])))):Ie.E)),this.renameBranch=(d,b)=>this.dialog.open(an,{data:{title:"Branch",name:b}}).afterClosed().pipe((0,ie.w)(_=>_?this.repositoriesApi.renameBranch(d,b,`refs/heads/${_}`).pipe(Ae(A=>{Je.bG.matches(A)&&this.store.dispatch(new ee.NN("error",A.message)),Je.OV.matches(A)?this.store.dispatch(new ee.NN("error",A.message)):this.store.dispatch(new ee.NN("unhandled",`${A}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranch,S.nh.currentBranchCommitId,S.nh.currentBranchUpstreamBranch,S.nh.references])))):Ie.E)),this.deleteBranch=(d,b)=>this.dialog.open(St,{data:{title:"Delete Branch",branchName:b,toCommitId:null}}).afterClosed().pipe((0,ie.w)(_=>_?this.repositoriesApi.deleteBranch(d,b).pipe(Ae(A=>this.store.dispatch(new ee.NN("unhandled",`${A}`))),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranch,S.nh.currentBranchCommitId,S.nh.currentBranchUpstreamBranch,S.nh.references])))):Ie.E)),this.deleteTag=(d,b)=>this.repositoriesApi.deleteTag(d,b).pipe(Ae(v=>this.store.dispatch(new ee.NN("unhandled",`${v}`))),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranch,S.nh.currentBranchCommitId,S.nh.currentBranchUpstreamBranch,S.nh.references])))),this.createMerge=(d,b,v,_)=>{const A=this.store.selectSnapshot(ke.$.selectedProfile);return this.repositoriesApi.createMerge(d,v,_,A?.name??null,A?.email??null,`merge: ${b??v} into ${_}`).pipe((0,ie.w)(R=>this.store.dispatch("string"==typeof R?new S.jQ(d,R):new Ge.hb(d,R.fromCommitId,R.toCommitId))),Ae(R=>{_e.Nu.matches(R)?this.store.dispatch(new ee.NN("error",R.message)):this.store.dispatch(new ee.NN("unhandled",`${R}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranchCommitId,S.nh.headCommitId,S.nh.mergeHeads,S.nh.merges]))))},this.commitMerge=(d,b,v,_,A)=>{const R=this.store.selectSnapshot(ke.$.selectedProfile);return this.repositoriesApi.commitMerge(d,b,v,A,R?.name??null,R?.email??null,_).pipe((0,ie.w)(H=>this.store.dispatch(new S.jQ(d,H))),Ae(H=>{_e.Nu.matches(H)?this.store.dispatch(new ee.NN("error",H.message)):this.store.dispatch(new ee.NN("unhandled",`${H}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranchCommitId,S.nh.headCommitId,S.nh.mergeHeads,S.nh.merges,S.nh.references]))))},this.updateBranch=(d,b,v)=>this.dialog.open(St,{data:{title:"Move Branch",branchName:b,toCommitId:v}}).afterClosed().pipe((0,ie.w)(A=>A?this.repositoriesApi.updateBranch(d,b,v).pipe(Ae(R=>{_e.Nu.matches(R)?this.store.dispatch(new ee.NN("error",R.message)):this.store.dispatch(new ee.NN("unhandled",`${R}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranch,S.nh.currentBranchCommitId,S.nh.currentBranchUpstreamBranch,S.nh.headCommitId,S.nh.references])))):Ie.E)),this.setUpstreamBranch=(d,b,v)=>this.repositoriesApi.setUpstreamBranch(d,b,v).pipe(Ae(_=>this.store.dispatch(new ee.NN("unhandled",`${_}`))),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.currentBranchUpstreamBranch])))),this.startEdit=(d,b)=>this.store.dispatch(new Ge.LF(d,b)),this.discardEdit=d=>this.commitsApi.discardCommitEditing(d).pipe(Ae(b=>this.store.dispatch(new ee.NN("unhandled",`${b}`)))),this.revertCommit=(d,b)=>{const v=this.store.selectSnapshot(ke.$.selectedProfile);return this.commitsApi.revertCommit(d,b,v?.name??null,v?.email??null).pipe((0,ie.w)(_=>this.store.dispatch(new S.jQ(d,_))),Ae(_=>{_e.fD.matches(_)||_e.Nu.matches(_)?this.store.dispatch(new ee.NN("error",_.message)):this.store.dispatch(new ee.NN("unhandled",`${_}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranchCommitId,S.nh.headCommitId,S.nh.references]))))},this.undoHeadCommit=d=>this.commitsApi.undoHeadCommit(d).pipe(Ae(b=>{Je.OV.matches(b)?this.store.dispatch(new ee.NN("error",b.message)):this.store.dispatch(new ee.NN("unhandled",`${b}`))}),Re(()=>this.store.dispatch(new S.Vu(d,[S.nh.commits,S.nh.currentBranchCommitId,S.nh.headCommitId,S.nh.references,S.nh.stagedChanges,S.nh.submodules])))),this.addSubmodule=(d,b,v,_)=>this.submodulesApi.addSubmodule(d,b,v,_).pipe(Ae(A=>{_e.vV.matches(A)?this.store.dispatch(new ee.NN("error",A.message)):this.store.dispatch(new ee.NN("unhandled",`${A}`))}),Re(A=>this.store.dispatch(new S.Vu(d,[S.nh.stagedChanges,S.nh.submodules,S.nh.unstagedChanges,S.nh.workingCopyMergeChanges])).pipe((0,ie.w)(()=>A?(0,Q.of)(A):Ie.E)))),this.editSubmodule=(d,b,v)=>this.submodulesApi.editSubmodule(d,b,v).pipe(Ae(_=>{_e.vV.matches(_)?this.store.dispatch(new ee.NN("error",_.message)):this.store.dispatch(new ee.NN("unhandled",`${_}`))}),Re(_=>this.store.dispatch(new S.Vu(d,[S.nh.stagedChanges,S.nh.submodules,S.nh.unstagedChanges,S.nh.workingCopyMergeChanges])).pipe((0,ie.w)(()=>_?(0,Q.of)(_):Ie.E))))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(C.uw),e.LFG(G.yh),e.LFG(Xe.T),e.LFG(Rt.G),e.LFG(ot.a),e.LFG(Tt.N))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:N}),(0,Z.gn)([(0,G.Ph)(ke.$.selectedProfile)],o.prototype,"selectedProfile",void 0),o})();var ft=l(9131),cn=l(3178);const un=["branchContextMenu"],sn=["remoteContextMenu"],dn=["addSubmoduleDialog"],ln=["editSubmoduleDialog"],fn=["removeSubmoduleDialog"],gn=["addSubmoduleDialogFormField1","addSubmoduleDialogFormField2","addSubmoduleDialogFormField3"],mn=["editSubmoduleDialogFormField1"];function pn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",16),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.jumpToCommit(r.commitId))})("dblclick",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.checkoutBranch(r.name))})("contextmenu",function(i){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.openContextMenu(i,"local",a.name,a.commitId,a.upstreamName))}),e.ALo(1,"async"),e.TgZ(2,"span",17),e._uU(3),e.qZA(),e.TgZ(4,"button",18),e.NdJ("click",function(i){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.toggleRefVisibility(i,a.refName))}),e.TgZ(5,"mat-icon"),e._uU(6),e.qZA()()()}if(2&o){const t=c.$implicit,n=e.oxw();e.ekj("selected",t.name===e.lcZ(1,8,n.currentBranch)),e.xp6(2),e.Q6J("matTooltip",t.refName),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.ekj("show",null!==t.invisible),e.Q6J("matTooltip",n.visibilityTitle(t.invisible)),e.xp6(2),e.Oqu(t.invisible?"visibility_off":"visibility")}}function hn(o,c){1&o&&(e.TgZ(0,"mat-icon",24),e._uU(1,"visibility_off"),e.qZA())}function _n(o,c){if(1&o&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.isExpanded?"expand_less":"expand_more")}}function Cn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",16),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(2).clickRemoteItem(a),e.KtG(i.stopPropagation())})("dblclick",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.dblClickRemoteItem(r))})("contextmenu",function(i){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.openRemoteItemContextMenu(i,a))}),e.TgZ(1,"span",17),e._uU(2),e.qZA(),e.TgZ(3,"div",25)(4,"button",18),e.NdJ("click",function(i){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.toggleRemoteItemVisibility(i,a))}),e.TgZ(5,"mat-icon"),e._uU(6),e.qZA()(),e.YNc(7,_n,2,1,"mat-icon",26),e.qZA()()}if(2&o){const t=c.$implicit,n=e.oxw(2);e.ekj("is-sub-item","remote-branch"===t.type),e.xp6(1),e.Q6J("matTooltip",t.title),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.ekj("show",null!==t.invisible),e.Q6J("matTooltip",n.visibilityTitle(t.invisible)),e.xp6(2),e.Oqu(t.invisible?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf","remote"===t.type)}}function bn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"mat-expansion-panel",19),e.NdJ("afterCollapse",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateViewportSizes())})("afterExpand",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateViewportSizes())}),e.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",2),e._uU(4,"cloud_queue"),e.qZA(),e._uU(5," Remote "),e.YNc(6,hn,2,0,"mat-icon",20),e.qZA()(),e.TgZ(7,"cdk-virtual-scroll-viewport",3,21)(9,"ul",22),e.YNc(10,Cn,8,9,"li",23),e.qZA()()()}if(2&o){const t=c.ngIf,n=e.oxw();e.xp6(6),e.Q6J("ngIf",n.remotesInvisible(t)),e.xp6(1),e.Q6J("itemSize",28),e.xp6(3),e.Q6J("cdkVirtualForOf",t)("cdkVirtualForTrackBy",n.remoteItemTrackBy)}}function Pn(o,c){1&o&&(e.TgZ(0,"mat-icon",24),e._uU(1,"visibility_off"),e.qZA())}function Mn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.jumpToCommit(r.commitId))})("contextmenu",function(i){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.openContextMenu(i,"tag",a.name,a.commitId))}),e.TgZ(1,"span",17),e._uU(2),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(i){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.toggleRefVisibility(i,a.refName))}),e.TgZ(4,"mat-icon"),e._uU(5),e.qZA()()()}if(2&o){const t=c.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("matTooltip",t.refName),e.xp6(1),e.Oqu(t.name),e.xp6(1),e.ekj("show",null!==t.invisible),e.Q6J("matTooltip",n.visibilityTitle(t.invisible)),e.xp6(2),e.Oqu(t.invisible?"visibility_off":"visibility")}}function On(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"mat-expansion-panel",19),e.NdJ("afterCollapse",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateViewportSizes())})("afterExpand",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateViewportSizes())}),e.TgZ(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",2),e._uU(4,"label"),e.qZA(),e._uU(5," Tag "),e.YNc(6,Pn,2,0,"mat-icon",20),e.qZA()(),e.TgZ(7,"cdk-virtual-scroll-viewport",3)(8,"ul",4),e.YNc(9,Mn,6,6,"li",27),e.qZA()()()}if(2&o){const t=c.ngIf,n=e.oxw();e.xp6(6),e.Q6J("ngIf",n.tagsInvisible(t)),e.xp6(1),e.Q6J("itemSize",28),e.xp6(2),e.Q6J("cdkVirtualForOf",t)("cdkVirtualForTrackBy",n.branchTrackBy)}}function xn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().data,r=e.oxw();return r.checkoutBranch(i.name),e.KtG(r.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"get_app"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw().data;e.xp6(4),e.hij("Checkout branch ",t.name,"")}}function vn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().data,r=e.oxw();return r.checkoutRemoteBranch(i.remoteName,i.commitId,r.removeRemoteFromName(i.name)),e.KtG(r.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"get_app"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw().data,n=e.oxw();e.xp6(4),e.hij("Checkout branch ",n.removeRemoteFromName(t.name),"")}}function yn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().data,r=e.oxw();return r.checkoutRemoteBranch(i.remoteName,i.commitId,r.removeRemoteFromName(i.name)),e.KtG(r.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_downward"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw().data;e.xp6(4),e.hij("Create local branch from ",t.name,"")}}function wn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(4).data,u=e.oxw();return u.merge(a.name,r.commitId,r.name),e.KtG(u.closeContextMenu())}),e.ALo(1,"async"),e._uU(2),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(5);e.ekj("bold",t.name===e.lcZ(1,4,n.currentBranch)),e.Q6J("matTooltip",t.name),e.xp6(2),e.Oqu(t.name)}}function Tn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(4).data,u=e.oxw();return u.merge(a.name,r.commitId,r.name),e.KtG(u.closeContextMenu())}),e._uU(1),e.qZA()}if(2&o){const t=c.$implicit;e.Q6J("matTooltip",t.name),e.xp6(1),e.Oqu(t.name)}}function kn(o,c){if(1&o&&(e.TgZ(0,"div",38),e.YNc(1,wn,3,6,"button",39),e.YNc(2,Tn,2,2,"button",40),e.ALo(3,"async"),e.qZA()),2&o){const t=e.oxw().ngIf,n=e.oxw(2).data,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.filterBranches(t,n.commitId)),e.xp6(1),e.Q6J("ngForOf",i.filterBranches(e.lcZ(3,2,i.remoteBranches),n.commitId))}}function An(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",33,34),e.NdJ("click",function(i){e.CHM(t);const r=e.MAs(2),a=e.MAs(9),u=e.oxw(3);return e.KtG(u.openSubMenu(i,r,a))}),e._UZ(3,"mat-icon",35),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"mat-icon",36),e._uU(7,"chevron_right"),e.qZA()(),e.YNc(8,kn,4,4,"ng-template",null,37,e.W1O),e.BQk()}if(2&o){const t=e.oxw(2).data;e.xp6(5),e.hij("Merge into ",t.name," from")}}function Sn(o,c){if(1&o&&(e.ynx(0),e.YNc(1,An,10,1,"ng-container",26),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.local))}}function Nn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3).data,u=e.oxw();return u.merge(r.name,a.commitId,a.name),e.KtG(u.closeContextMenu())}),e.ALo(1,"async"),e._uU(2),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(4);e.ekj("bold",t.name===e.lcZ(1,4,n.currentBranch)),e.Q6J("matTooltip",t.name),e.xp6(2),e.Oqu(t.name)}}function Rn(o,c){if(1&o&&(e.TgZ(0,"div",38),e.YNc(1,Nn,3,6,"button",39),e.qZA()),2&o){const t=e.oxw().ngIf,n=e.oxw().data,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.filterBranches(t,n.commitId))}}function Zn(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",33,42),e.NdJ("click",function(i){e.CHM(t);const r=e.MAs(2),a=e.MAs(9),u=e.oxw(2);return e.KtG(u.openSubMenu(i,r,a))}),e._UZ(3,"mat-icon",35),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"mat-icon",36),e._uU(7,"chevron_right"),e.qZA()(),e.YNc(8,Rn,2,1,"ng-template",null,43,e.W1O),e.BQk()}if(2&o){const t=e.oxw().data;let n;e.xp6(5),e.hij("Merge from ",null!==(n="tag"!==t.type?t.name:null)&&void 0!==n?n:"this commit"," into")}}function En(o,c){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).data,n=e.oxw();e.xp6(1),e.hij("Pull from ",n.formatUpstreamName(t.upstreamName),"")}}function In(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().data,r=e.oxw();return e.KtG(r.pull(i.name))}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_downward"),e.qZA(),e.YNc(3,En,2,1,"span",26),e.qZA()}if(2&o){const t=e.oxw().data,n=e.oxw();e.Q6J("matTooltip","Pull from upstream branch "+n.formatUpstreamName(t.upstreamName)),e.xp6(3),e.Q6J("ngIf",t.upstreamName)}}function Fn(o,c){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).data,n=e.oxw();e.xp6(1),e.hij("Change upstream branch from ",n.formatUpstreamName(t.upstreamName)," to")}}function Bn(o,c){1&o&&(e.TgZ(0,"span"),e._uU(1,"Set upstream branch to"),e.qZA())}function Ln(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",41,44),e.NdJ("click",function(i){e.CHM(t);const r=e.MAs(1);e.oxw();const a=e.MAs(11),u=e.oxw();return e.KtG(u.openSubMenu(i,r,a))}),e.TgZ(2,"mat-icon"),e._uU(3,"keyboard_double_arrow_up"),e.qZA(),e.YNc(4,Fn,2,1,"span",26),e.YNc(5,Bn,2,0,"span",26),e.TgZ(6,"mat-icon",36),e._uU(7,"chevron_right"),e.qZA()()}if(2&o){const t=e.oxw().data,n=e.oxw();let i;e.Q6J("matTooltip",null!==(i=n.formatUpstreamName(t.upstreamName))&&void 0!==i?i:""),e.xp6(4),e.Q6J("ngIf",t.upstreamName),e.xp6(1),e.Q6J("ngIf",!t.upstreamName)}}function Un(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2).data,u=e.oxw();return u.setUpstreamBranch(a.name,r.name),e.KtG(u.closeContextMenu())}),e._uU(1),e.qZA()}if(2&o){const t=c.$implicit;e.Q6J("matTooltip",t.name),e.xp6(1),e.Oqu(t.name)}}function Vn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().data,r=e.oxw();return r.setUpstreamBranch(i.name,null),e.KtG(r.closeContextMenu())}),e._uU(2,"None"),e.qZA(),e.YNc(3,Un,2,2,"button",40),e.ALo(4,"async"),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.remoteBranches))}}function Dn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().data,r=e.oxw();return r.renameBranch(i.name,i.type),e.KtG(r.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"drive_file_rename_outline"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw().data;e.xp6(4),e.AsE("Rename ",t.typeName," ",t.name,"")}}function Gn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().data,r=e.oxw();return r.deleteBranchOrTag(i.name,i.type),e.KtG(r.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw().data;e.xp6(4),e.AsE("Delete ",t.typeName," ",t.name,"")}}function Jn(o,c){if(1&o&&(e.TgZ(0,"div",29),e.YNc(1,xn,5,1,"button",30),e.ALo(2,"async"),e.YNc(3,vn,5,1,"button",30),e.YNc(4,yn,5,1,"button",30),e.YNc(5,Sn,3,3,"ng-container",26),e.YNc(6,Zn,10,1,"ng-container",26),e.ALo(7,"async"),e.YNc(8,In,4,2,"button",31),e.YNc(9,Ln,8,3,"button",31),e.YNc(10,Vn,5,3,"ng-template",null,32,e.W1O),e.YNc(12,Dn,5,2,"button",30),e.YNc(13,Gn,5,2,"button",30),e.qZA()),2&o){const t=c.data,n=e.oxw();e.xp6(1),e.Q6J("ngIf","local"===t.type&&t.name!==e.lcZ(2,9,n.currentBranch)),e.xp6(2),e.Q6J("ngIf","remote"===t.type&&n.localBranchExists(n.removeRemoteFromName(t.name))),e.xp6(1),e.Q6J("ngIf","remote"===t.type&&!n.localBranchExists(n.removeRemoteFromName(t.name))),e.xp6(1),e.Q6J("ngIf","local"===t.type),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,11,n.local)),e.xp6(2),e.Q6J("ngIf","local"===t.type&&t.upstreamName),e.xp6(1),e.Q6J("ngIf","local"===t.type),e.xp6(3),e.Q6J("ngIf","local"===t.type),e.xp6(1),e.Q6J("ngIf","remote"!==t.type)}}function Qn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",33),e.NdJ("click",function(){const r=e.CHM(t).data,a=e.oxw();return a.editRemote(r),e.KtG(a.closeContextMenu())}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()()()}if(2&o){const t=c.data;e.xp6(5),e.hij("Edit remote ",t,"")}}function $n(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",45),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openSubmodule(r))}),e._UZ(1,"app-condensed-path",46),e.qZA()}if(2&o){const t=c.$implicit;e.oxw();const n=e.MAs(38);e.Q6J("matTooltip",t)("appContextMenu",n)("appContextMenuData",t),e.xp6(1),e.Q6J("path",t)}}function qn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",41),e.NdJ("click",function(){const r=e.CHM(t).data,a=e.oxw();return e.KtG(a.editSubmodule(r))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e.TgZ(4,"span"),e._uU(5,"Edit"),e.qZA()(),e.TgZ(6,"button",41),e.NdJ("click",function(){const r=e.CHM(t).data,a=e.oxw();return e.KtG(a.deleteSubmodule(r))}),e.TgZ(7,"mat-icon"),e._uU(8,"delete"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Delete"),e.qZA()()()}if(2&o){const t=c.data;e.xp6(1),e.Q6J("matTooltip",t.name),e.xp6(5),e.Q6J("matTooltip",t.name)}}function Yn(o,c){if(1&o&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("value",+t.key),e.xp6(1),e.Oqu(t.value.credentialName)}}function jn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"h2",47),e._uU(1,"Add Submodule"),e.qZA(),e.TgZ(2,"form",48)(3,"mat-dialog-content")(4,"div")(5,"mat-form-field",49,50)(7,"mat-label"),e._uU(8,"URL"),e.qZA(),e.TgZ(9,"mat-icon",51),e._uU(10,"public"),e.qZA(),e._UZ(11,"input",52),e.qZA(),e.TgZ(12,"mat-form-field",53,54)(14,"mat-label"),e._uU(15,"Path to clone to"),e.qZA(),e.TgZ(16,"mat-icon",51),e._uU(17,"folder"),e.qZA(),e._UZ(18,"input",55),e.TgZ(19,"button",56),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.browsePath())}),e._uU(20,"Browse"),e.qZA()(),e.TgZ(21,"mat-form-field",57,58)(23,"mat-label"),e._uU(24,"Credential"),e.qZA(),e.TgZ(25,"mat-icon",51),e._uU(26,"key"),e.qZA(),e.TgZ(27,"mat-select",59)(28,"mat-option",60),e._uU(29,"None"),e.qZA(),e.YNc(30,Yn,2,2,"mat-option",61),e.ALo(31,"keyvalue"),e.ALo(32,"async"),e.qZA()()()(),e.TgZ(33,"mat-dialog-actions")(34,"button",62),e._uU(35,"Cancel"),e.qZA(),e.TgZ(36,"button",63),e._uU(37,"Add"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.addSubmoduleForm),e.xp6(26),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",e.lcZ(31,6,e.lcZ(32,8,t.addSubmoduleValidCredentials))),e.xp6(4),e.Q6J("mat-dialog-close",null),e.xp6(2),e.Q6J("mat-dialog-close",t.addSubmoduleForm.value)("disabled",t.addSubmoduleForm.invalid)}}function Hn(o,c){if(1&o&&(e.TgZ(0,"h2",47),e._uU(1),e.qZA(),e.TgZ(2,"form",64)(3,"mat-dialog-content")(4,"div")(5,"mat-form-field",49,65)(7,"mat-icon",51),e._uU(8,"public"),e.qZA(),e.TgZ(9,"mat-label"),e._uU(10,"URL"),e.qZA(),e._UZ(11,"input",52),e.qZA()()(),e.TgZ(12,"mat-dialog-actions")(13,"button",62),e._uU(14,"Cancel"),e.qZA(),e.TgZ(15,"button",66),e._uU(16,"Confirm"),e.qZA()()()),2&o){const t=c.$implicit,n=e.oxw();e.xp6(1),e.hij("Edit Submodule ",t.name,""),e.xp6(1),e.Q6J("formGroup",n.editSubmoduleForm),e.xp6(11),e.Q6J("mat-dialog-close",null),e.xp6(2),e.Q6J("mat-dialog-close",n.editSubmoduleForm.value)}}function zn(o,c){if(1&o&&(e.TgZ(0,"h2",47),e._uU(1,"Remove Submodule"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e._uU(3),e.qZA(),e.TgZ(4,"mat-dialog-actions")(5,"button",62),e._uU(6,"Cancel"),e.qZA(),e.TgZ(7,"button",67),e._uU(8,"Confirm"),e.qZA()()),2&o){const t=c.$implicit;e.xp6(3),e.hij(" Submodule ",t.name," has uncommitted changes, are you sure you want to remove it? "),e.xp6(2),e.Q6J("mat-dialog-close",null),e.xp6(2),e.Q6J("mat-dialog-close",!0)}}let Kn=(()=>{class o extends((0,Ee.j)(Te.A,dt.P)){constructor(t,n,i,r,a,u,d,b){super(),this.overlay=t,this.router=n,this.viewContainerRef=i,this.dialog=r,this.store=a,this.filesApi=u,this.submodulesApi=d,this.repositoryActionsService=b,this.currentBranch=this.store.select(D.E.selectedRepositoryCurrentBranch).pipe((0,j.U)(v=>v?.replace(/^refs\/heads\//,""))),this.hasSubmodules=this.selectedRepositorySubmodules.pipe((0,j.U)(v=>v.length>0)),this.addSubmoduleForm=new z.cw({credential:new z.NI(null),path:new z.NI(null),url:new z.NI(null)}),this.addSubmoduleValidCredentials=(0,ve.aj)([this.allCredentials,this.addSubmoduleForm.controls.url.valueChanges.pipe((0,tt.O)(null))]).pipe((0,j.U)(([v,_])=>{const A=[...v.entries()];return Object.fromEntries(_?/^https?:\/\//.test(_)?A.filter(([R,H])=>"password"===H.type||"oauth-github"===H.type):/^(git|file)?:\/\//.test(_)||/^\//.test(_)||!/:/.test(_)?[]:A.filter(([R,H])=>"ssh"===H.type):A)})),this.editSubmoduleForm=new z.cw({url:new z.NI(null)}),this.addSubmoduleDialogRef=null,this.editSubmoduleDialogRef=null,this.overlayRef=new V.X(null),this.subMenuOverlayRef=new V.X(null),this.tagSortCollator=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),this.openContextMenu=(v,_,A,R,H=null,se=null)=>{v.preventDefault(),v.stopPropagation(),this.closeContextMenu();const ye=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:v.x,y:v.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});let Pe;switch(_){case"local":case"remote":Pe="branch";break;case"tag":Pe="tag";break;default:throw new Error(`Invalid branch type: ${_}`)}this.overlayRef.next(ye),ye.attach(new ze.UE(this.branchMenuTemplate,this.viewContainerRef,{data:{type:_,typeName:Pe,name:A,commitId:R,upstreamName:H,remoteName:se}})),(0,We.t)(ye).pipe((0,ce.q)(1),(0,K.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())},this.openRemoteContextMenu=(v,_)=>{v.preventDefault(),v.stopPropagation(),this.closeContextMenu();const A=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:v.x,y:v.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.overlayRef.next(A),A.attach(new ze.UE(this.remoteMenuTemplate,this.viewContainerRef,{data:_})),(0,We.t)(A).pipe((0,ce.q)(1),(0,K.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null)),this.closeSubMenu()},this.openSubMenu=(v,_,A)=>{v.preventDefault(),v.stopPropagation(),this.closeSubMenu();const R=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(_).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(R),R.attach(new ze.UE(A,this.viewContainerRef)),(0,We.t)(R).pipe((0,ce.q)(1),(0,K.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.filterBranches=(v,_)=>(v??[]).filter(A=>A.commitId!==_),this.merge=(v,_,A)=>{const R=this.store.selectSnapshot(D.E.selectedRepositoryPath);R&&this.repositoryActionsService.createMerge(R,A??null,_,v).subscribe()},this.pull=v=>{const _=this.store.selectSnapshot(D.E.selectedRepository);if(!_)throw new Error("Cannot pull when no repository is selected");this.repositoryActionsService.pull(_.path,_.selectedRemote,this.store.selectSnapshot(D.E.selectedRepositoryCredentials),v).subscribe()},this.browsePath=()=>{const v=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!v)throw new Error("Cannot browse submodule path when no repository is selected");this.filesApi.openFolderDialog(v).pipe((0,we.h)(Fe.$K),(0,ie.w)(_=>this.filesApi.getRelativePath(v,_)),(0,K.R)(this.destroyed$)).subscribe(_=>{this.addSubmoduleForm.controls.path.setValue(_)})},this.addSubmodule=()=>{this.addSubmoduleDialogRef&&this.addSubmoduleDialogRef.close(),this.addSubmoduleForm.reset(),this.addSubmoduleDialogRef=this.dialog.open(this.addSubmoduleDialog),this.addSubmoduleDialogRef.afterOpened().pipe((0,K.R)(this.destroyed$)).subscribe(()=>{this.addSubmoduleDialogFormFields.forEach(v=>{v.updateOutlineGap()})}),this.addSubmoduleDialogRef.afterClosed().pipe((0,K.R)(this.destroyed$)).subscribe(v=>{if(!v)return;if(!v.path)throw new Error("Cannot add a submodule with no path");if(!v.url)throw new Error("Cannot add a submodule with no url");const _=this.store.selectSnapshot(D.E.selectedRepository);if(!_)throw new Error("Cannot add a submodule with no repository selected");const A=_.selectedRemote,R=this.store.selectSnapshot(ke.$.selectedProfileId),H=this.store.selectSnapshot(ke.$.credentials),se=v.credential??(A?_.profiles.get(R)?.remotes[A]?.credentialId??null:null),ye=null===se?void 0:H.get(se);this.repositoryActionsService.addSubmodule(_.path,v.url,v.path,ye).subscribe(Pe=>{this.store.dispatch(new S.gz(Pe.path,{profiles:new Map([[R,{remotes:{origin:{credentialId:se}}}]]),selectedRemote:_.selectedRemote}))})})},this.editSubmodule=v=>{this.editSubmoduleDialogRef&&this.editSubmoduleDialogRef.close();const _=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!_)throw new Error("Cannot edit a submodule with no repository selected");this.editSubmoduleForm.reset(),this.submodulesApi.getSubmodule(_,v).subscribe(A=>{this.editSubmoduleForm.controls.url.setValue(A.url,{emitEvent:!1})}),this.editSubmoduleDialogRef=this.dialog.open(this.editSubmoduleDialog,{data:{name:v}}),this.editSubmoduleDialogRef.afterOpened().pipe((0,K.R)(this.destroyed$)).subscribe(()=>{this.editSubmoduleDialogFormFields.forEach(A=>{A.updateOutlineGap()})}),this.editSubmoduleDialogRef.afterClosed().pipe((0,K.R)(this.destroyed$)).subscribe(A=>{if(A){if(!A.url)throw new Error("Cannot edit a submodule with no url");this.repositoryActionsService.editSubmodule(_,v,A.url).subscribe()}})},this.deleteSubmodule=v=>{const _=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!_)throw new Error("Cannot add a submodule with no repository selected");this.submodulesApi.deleteSubmodule(_,v,!1).pipe((0,Ne.K)(A=>_e.Nu.matches(A)?(this.dialog.open(this.removeSubmoduleDialog,{data:{name:v}}).afterClosed().pipe((0,K.R)(this.destroyed$)).subscribe(H=>{H&&this.submodulesApi.deleteSubmodule(_,v,!0).subscribe()}),Ie.E):this.store.dispatch(new ee.NN("unhandled",`${A}`)).pipe((0,ie.w)(()=>(0,pe._)(A))))).subscribe()},this.deleteBranchOrTag=(v,_)=>{const A=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!A)throw new Error("Cannot delete branch when no repository is selected");if("local"===_)this.repositoryActionsService.deleteBranch(A,`refs/heads/${v}`).subscribe();else{if("tag"!==_)throw new Error(`Cannot delete remote branch '${v}'`);this.repositoryActionsService.deleteTag(A,v).subscribe()}},this.renameBranch=(v,_)=>{const A=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!A)throw new Error("Cannot rename branch when no repository is selected");if("local"!==_)throw new Error(`Can only rename local branches, '${v}' is not valid`);this.repositoryActionsService.renameBranch(A,v).subscribe()},this.mergeToCurrentBranch=(v,_,A,R)=>{const H=this.store.selectSnapshot(D.E.selectedRepositoryPath),se=this.store.selectSnapshot(D.E.selectedRepositoryCurrentBranch);if(!H)throw new Error("Cannot merge when no repository is selected");if(!se)throw new Error("Cannot merge when no branch is checked out");if("local"!==A&&"remote"!==A&&"tag"!==A)throw new Error("Cannot merge from the stash");this.repositoryActionsService.createMerge(H,"local"===A?_:"remote"===A?`${R}/${_}`:"tag"===A?_:null,v,se).subscribe()},this.getBranchName=(v,_,A)=>{switch(_){case"local":case"tag":return v;case"remote":return`${A}/${v}`;default:throw new Error(`Invalid branch type: ${_}`)}},this.getBranchType=v=>{switch(v){case"local":case"remote":return"branch";case"tag":return"tag";default:throw new Error(`Invalid branch type: ${v}`)}},this.toggleRefVisibility=(v,_)=>{v.preventDefault(),v.stopPropagation();const A=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!A)throw new Error("Cannot toggle reference visibility if no repository is selected.");let R=this.store.selectSnapshot(D.E.selectedRepositoryVisibleReferences);R?R.findIndex(se=>se===_)>=0?(R=R.filter(se=>se!==_),R.length<=0&&(R=null)):R=[...R,_]:R=[_],this.store.dispatch([new Ge.Dr(A,R),new S.Vu(A,[S.nh.commits])])},this.visibilityTitle=v=>v?"Show":null===v?"Show only this":"Hide",this.remotesInvisible=v=>v.every(_=>_.invisible),this.tagsInvisible=v=>v.every(_=>_.invisible),this.localBranchExists=v=>this.store.selectSnapshot(D.E.selectedRepositoryLocalBranches)?.some(A=>A.name===`refs/heads/${v}`)??!1,this.formatUpstreamName=v=>v?.replace(/^refs\/remotes\//,""),this.removeRemoteFromName=v=>v.replace(/^.*?\//,""),this.getLocalBranchName=v=>v.name.replace(/^refs\/heads\//,""),this.getRemoteName=v=>(/^refs\/remotes\/([^\/]+)\//.exec(v.name)??[])[1],this.getRemoteBranchName=v=>v.name.replace(/^refs\/remotes\/[^\/]+\//,""),this.getRemoteBranchFullName=v=>v.name.replace(/^refs\/remotes\//,""),this.getTagName=v=>v.name.replace(/^refs\/tags\//,"")}ngOnInit(){this.local=(0,ve.aj)([this.selectedRepositoryLocalBranches,this.store.select(D.E.selectedRepositoryCurrentBranch),this.store.select(D.E.selectedRepositoryVisibleReferences)]).pipe((0,j.U)(([n,i,r])=>{const a=n?.find(d=>d.name===i);return[...a?[a]:[],...et(n??[],d=>d.name).filter(d=>d.name!==i)].map(d=>({commitId:d.target,name:this.getLocalBranchName(d),refName:d.name,upstreamName:d.upstreamName,invisible:r?!r.includes(d.name):null}))}),(0,Ke.d)(1)),this.remoteBranches=(0,ve.aj)([this.selectedRepositoryRemoteBranches,this.store.select(D.E.selectedRepositoryVisibleReferences)]).pipe((0,j.U)(([n,i])=>et(n??[],r=>r.name).map(r=>({commitId:r.target,name:this.getRemoteBranchFullName(r),refName:r.name,upstreamName:null,invisible:i?!i.includes(r.name):null}))),(0,Ke.d)(1)),this.remoteItems=(0,ve.aj)([this.selectedRepositoryRemoteBranches,this.store.select(D.E.selectedRepositoryVisibleReferences)]).pipe((0,je.M)(this.remoteSettings),(0,j.U)(([[n,i],r])=>{const a=(0,wt.Z)(n,u=>this.getRemoteName(u));return Object.entries(a).flatMap(([u,d])=>{const b={type:"remote",isExpanded:r?.get(u)?.isExpanded??!1,invisible:i?!i.some(_=>_.startsWith(`refs/remotes/${u}/`)):null,name:u,title:u};return b.isExpanded?[b,...et(d.map(_=>({type:"remote-branch",commitId:_.target,refName:_.name,remoteName:u,invisible:i?!i.includes(_.name):null,name:this.getRemoteBranchName(_),title:_.name})),_=>_.name)]:[b]})}),(0,Ke.d)(1)),this.tags=(0,ve.aj)([this.selectedRepositoryTags,this.store.select(D.E.selectedRepositoryVisibleReferences)]).pipe((0,j.U)(([n,i])=>(n??[]).map(r=>({commitId:r.target,name:this.getTagName(r),refName:r.name,upstreamName:null,invisible:i?!i.includes(r.name):null}))),(0,j.U)(n=>n.sort((i,r)=>-this.tagSortCollator.compare(i.name,r.name))),(0,Ke.d)(1)),(0,ve.aj)([this.local,this.remoteItems,this.tags]).pipe((0,K.R)(this.destroyed$)).subscribe(()=>this.updateViewportSizes());const t=/\/([^/]*?)(?:\.git)?\/?$/;this.addSubmoduleForm.controls.url.valueChanges.pipe((0,K.R)(this.destroyed$)).subscribe(n=>{if((this.addSubmoduleForm.controls.path.pristine||!this.addSubmoduleForm.controls.path.value)&&null!==n){const i=t.exec(n);i&&this.addSubmoduleForm.controls.path.setValue(i[1])}})}jumpToCommit(t){this.store.selectOnce(D.E.selectedRepositoryPath).subscribe(n=>{if(!n)throw new Error("Cannot jump to commit when no repository is selected.");this.store.dispatch([new S.jQ(n,t),new S.BK(n,t)])})}checkoutBranch(t){const n=this.store.selectSnapshot(D.E.selectedRepositoryPath);n&&this.repositoryActionsService.checkoutBranch(n,`refs/heads/${t}`).subscribe()}checkoutRemoteBranch(t,n,i){if(this.store.selectSnapshot(D.E.selectedRepositoryLocalBranches)?.find(u=>u.name===`refs/heads/${i}`))this.checkoutBranch(i);else{const u=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!u)throw new Error("Cannot checkout branch when no repository is selected");this.repositoryActionsService.createBranchWithDetails(u,n,i,`${t}/${i}`,!0).subscribe()}}openSubmodule(t){const n=this.store.selectSnapshot(D.E.selectedRepository);if(!n)throw new Error("Cannot open a submodule when no repository is selected");const i=n.selectedRemote,r=this.store.selectSnapshot(D.E.selectedRepositoryCredentials);this.submodulesApi.updateSubmodule(n.path,t,i?r[i]??void 0:void 0).pipe((0,Ne.K)(u=>jt.L_.matches(u)?(0,Q.of)(u.submodulePath):this.store.dispatch(new ee.NN("unhandled",`${u}`)).pipe((0,ie.w)(()=>(0,pe._)(u)))),(0,ie.w)(u=>this.store.dispatch(new S.gz(u)).pipe((0,ie.w)(()=>this.store.dispatch(new S.he(u))),(0,ie.w)(()=>this.store.dispatch(new S.BZ(u)))))).subscribe()}clickRemoteItem(t){if("remote"===t.type){const n=this.store.selectSnapshot(D.E.selectedRepositoryPath);n&&this.store.dispatch(new S.Q7(n,t.name,{isExpanded:!t.isExpanded})).pipe((0,nt.g)(0)).subscribe(()=>this.updateViewportSizes())}else this.jumpToCommit(t.commitId)}dblClickRemoteItem(t){"remote-branch"===t.type&&this.checkoutRemoteBranch(t.remoteName,t.commitId,t.name)}openRemoteItemContextMenu(t,n){"remote-branch"===n.type?this.openContextMenu(t,"remote",`${n.remoteName}/${n.name}`,n.commitId,null,n.remoteName):this.openRemoteContextMenu(t,n.name)}toggleRemoteItemVisibility(t,n){if("remote-branch"===n.type)return void this.toggleRefVisibility(t,n.refName);t.preventDefault(),t.stopPropagation();const i=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!i)throw new Error("Cannot toggle reference visibility if no repository is selected.");const r=this.store.selectSnapshot(D.E.selectedRepositoryRemoteBranches);if(!r)throw new Error("Cannot toggle remote branch visibility if there no remote branches on the repository.");let a=this.store.selectSnapshot(D.E.selectedRepositoryVisibleReferences);a?(a=!0===n.invisible?[...a.filter(u=>!u.startsWith(`refs/remotes/${n.name}`)),...r.filter(u=>u.name.startsWith(`refs/remotes/${n.name}`)).map(u=>u.name)]:a.filter(u=>!u.startsWith(`refs/remotes/${n.name}`)),a.length<=0&&(a=null)):a=r.filter(u=>u.name.startsWith(`refs/remotes/${n.name}`)).map(u=>u.name),this.store.dispatch([new Ge.Dr(i,a),new S.Vu(i,[S.nh.commits])])}branchTrackBy(t,n){return`${n.commitId}:${n.refName}`}remoteItemTrackBy(t,n){return"remote"===n.type?n.name:n.refName}submoduleTrackBy(t,n){return n}setUpstreamBranch(t,n){const i=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!i)throw new Error("Cannot merge when no repository is selected");this.repositoryActionsService.setUpstreamBranch(i,t,n).subscribe()}editRemote(t){const n=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!n)throw new Error("Cannot edit remote when no repository is selected");this.router.navigate(["/settings/repositories"],{queryParams:{id:n}})}updateViewportSizes(){this.viewports?.forEach(t=>t.checkViewportSize())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Ct.aV),e.Y36(E.F0),e.Y36(e.s_b),e.Y36(C.uw),e.Y36(G.yh),e.Y36(Ht.k),e.Y36(Tt.N),e.Y36(it))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-branches-view"]],viewQuery:function(t,n){if(1&t&&(e.Gf(un,5),e.Gf(sn,5),e.Gf(dn,5),e.Gf(ln,5),e.Gf(fn,5),e.Gf(gn,5),e.Gf(mn,5),e.Gf(be.N7,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.branchMenuTemplate=i.first),e.iGM(i=e.CRH())&&(n.remoteMenuTemplate=i.first),e.iGM(i=e.CRH())&&(n.addSubmoduleDialog=i.first),e.iGM(i=e.CRH())&&(n.editSubmoduleDialog=i.first),e.iGM(i=e.CRH())&&(n.removeSubmoduleDialog=i.first),e.iGM(i=e.CRH())&&(n.addSubmoduleDialogFormFields=i),e.iGM(i=e.CRH())&&(n.editSubmoduleDialogFormFields=i),e.iGM(i=e.CRH())&&(n.viewports=i)}},features:[e.qOj],decls:45,vars:29,consts:[["multi",""],["expanded","",1,"local-panel",3,"afterCollapse","afterExpand"],[1,"title-icon"],[1,"item-list-container",3,"itemSize"],[1,"item-list"],["class","item",3,"selected","click","dblclick","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"afterCollapse","afterExpand",4,"ngIf"],["branchContextMenu",""],["remoteContextMenu",""],[1,"submodules-panel",3,"expanded","afterCollapse","afterExpand"],["class","item",3,"matTooltip","appContextMenu","appContextMenuData","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["type","button","mat-stroked-button","","matTooltip","Add submodule",1,"add-submodule-button",3,"click"],["submoduleContextMenu",""],["addSubmoduleDialog",""],["editSubmoduleDialog",""],["removeSubmoduleDialog",""],[1,"item",3,"click","dblclick","contextmenu"],[1,"text",3,"matTooltip"],["type","button","mat-icon-button","",1,"visibility-button",3,"matTooltip","click"],[3,"afterCollapse","afterExpand"],["class","visible-icon",4,"ngIf"],["remoteViewport",""],[1,"item-list","remote-item-list"],["class","item",3,"is-sub-item","click","dblclick","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"visible-icon"],[1,"icons"],[4,"ngIf"],["class","item",3,"click","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"item",3,"click","contextmenu"],[1,"menu-panel"],["class","menu-item",3,"click",4,"ngIf"],["class","menu-item",3,"matTooltip","click",4,"ngIf"],["upstream",""],[1,"menu-item",3,"click"],["mergeToButton",""],["svgIcon","source-merge"],[1,"expand-icon"],["mergeTo",""],[1,"menu-panel","sub-menu-1"],["class","menu-item",3,"bold","matTooltip","click",4,"ngFor","ngForOf"],["class","menu-item",3,"matTooltip","click",4,"ngFor","ngForOf"],[1,"menu-item",3,"matTooltip","click"],["mergeFromButton",""],["mergeFrom",""],["upstreamButton",""],[1,"item",3,"matTooltip","appContextMenu","appContextMenuData","click"],[1,"text",3,"path"],["mat-dialog-title",""],[1,"add-submodule-form",3,"formGroup"],[1,"url"],["addSubmoduleDialogFormField1",""],["matPrefix",""],["type","text","matInput","","required","","formControlName","url"],[1,"path"],["addSubmoduleDialogFormField2",""],["type","text","matInput","","required","","formControlName","path"],["type","button","matSuffix","","mat-button","",3,"click"],[1,"credential"],["addSubmoduleDialogFormField3",""],["formControlName","credential","placeholder","Select credential"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","button","mat-button","",3,"mat-dialog-close"],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close","disabled"],[1,"edit-submodule-form",3,"formGroup"],["editSubmoduleDialogFormField1",""],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close"],["type","submit","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel",1),e.NdJ("afterCollapse",function(){return n.updateViewportSizes()})("afterExpand",function(){return n.updateViewportSizes()}),e.TgZ(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon",2),e._uU(5,"desktop_windows"),e.qZA(),e._uU(6," Local"),e.qZA()(),e.TgZ(7,"cdk-virtual-scroll-viewport",3)(8,"ul",4),e.YNc(9,pn,7,10,"li",5),e.ALo(10,"async"),e.qZA()()(),e.YNc(11,bn,11,4,"mat-expansion-panel",6),e.ALo(12,"nullEmpty"),e.ALo(13,"async"),e.YNc(14,On,10,4,"mat-expansion-panel",6),e.ALo(15,"nullEmpty"),e.ALo(16,"async"),e.YNc(17,Jn,14,13,"ng-template",null,7,e.W1O),e.YNc(19,Qn,6,1,"ng-template",null,8,e.W1O),e.TgZ(21,"mat-expansion-panel",9),e.NdJ("afterCollapse",function(){return n.updateViewportSizes()})("afterExpand",function(){return n.updateViewportSizes()}),e.ALo(22,"nullEmpty"),e.ALo(23,"async"),e.ALo(24,"async"),e.TgZ(25,"mat-expansion-panel-header")(26,"mat-panel-title")(27,"mat-icon",2),e._uU(28,"layers"),e.qZA(),e._uU(29," Submodule"),e.qZA()(),e.TgZ(30,"cdk-virtual-scroll-viewport",3)(31,"ul",4),e.YNc(32,$n,2,4,"li",10),e.ALo(33,"async"),e.qZA()(),e.TgZ(34,"button",11),e.NdJ("click",function(){return n.addSubmodule()}),e.TgZ(35,"mat-icon"),e._uU(36,"add"),e.qZA()(),e.YNc(37,qn,11,2,"ng-template",null,12,e.W1O),e.YNc(39,jn,38,10,"ng-template",null,13,e.W1O),e.YNc(41,Hn,17,4,"ng-template",null,14,e.W1O),e.YNc(43,zn,9,3,"ng-template",null,15,e.W1O),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("itemSize",28),e.xp6(2),e.Q6J("cdkVirtualForOf",e.lcZ(10,11,n.local))("cdkVirtualForTrackBy",n.branchTrackBy),e.xp6(2),e.Q6J("ngIf",e.lcZ(12,13,e.lcZ(13,15,n.remoteItems))),e.xp6(3),e.Q6J("ngIf",e.lcZ(15,17,e.lcZ(16,19,n.tags))),e.xp6(7),e.ekj("not-empty",e.lcZ(22,21,e.lcZ(23,23,n.selectedRepositorySubmodules))),e.Q6J("expanded",e.lcZ(24,25,n.hasSubmodules)),e.xp6(9),e.Q6J("itemSize",28),e.xp6(2),e.Q6J("cdkVirtualForOf",e.lcZ(33,27,n.selectedRepositorySubmodules))("cdkVirtualForTrackBy",n.submoduleTrackBy))},dependencies:[C.ZT,C.uh,C.xY,C.H8,M.pp,M.ib,M.yz,M.yK,w.KE,w.hX,w.qo,w.R9,O.Nt,m.gD,de.ey,be.xd,be.x0,be.N7,te.sg,te.O5,z._Y,z.Fj,z.JJ,z.JL,z.Q7,z.sg,z.u,Qe.lW,Ue.Hw,Ve.gM,ft.j,cn.l,te.Ov,te.Nd,lt.x],styles:["[_nghost-%COMP%]{display:block;height:100%;padding:0 10px 10px}mat-accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:100%}mat-expansion-panel[_ngcontent-%COMP%]{flex-shrink:3;display:flex;flex-direction:column;min-height:36px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]{min-height:96px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%] + mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0 0 16px}mat-expansion-panel.mat-expansion-panel-spacing.submodules-panel[_ngcontent-%COMP%]{min-height:114px;margin-bottom:0!important}mat-expansion-panel.mat-expansion-panel-spacing.submodules-panel.not-empty[_ngcontent-%COMP%]{min-height:142px}mat-expansion-panel.local-panel[_ngcontent-%COMP%]{flex-shrink:1}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:36px;padding:0 20px;flex:0 0 auto}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{line-height:24px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{margin-right:10px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .visible-icon[_ngcontent-%COMP%]{position:absolute;right:42px}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content.ng-animating .item-list-container{overflow-y:hidden}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content .mat-expansion-panel-body{display:flex;flex-direction:column;overflow:hidden;padding:0 0 20px 16px}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]{contain:content;scrollbar-gutter:stable}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]{padding-right:5px}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;cursor:pointer;line-height:28px;height:28px;user-select:none}.item.is-sub-item[_ngcontent-%COMP%]{padding-left:10px}.item.selected[_ngcontent-%COMP%]{font-weight:700}.item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.item[_ngcontent-%COMP%]   .visibility-button[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px;font-size:0;opacity:0;transition:opacity .3s ease-in-out}.item[_ngcontent-%COMP%]   .visibility-button[_ngcontent-%COMP%]:hover, .item[_ngcontent-%COMP%]   .visibility-button.show[_ngcontent-%COMP%]{opacity:1}.remote-item-list[_ngcontent-%COMP%]{padding-right:0!important}.remote-item-list[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex}.remote-item-list[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#ffffffb3;line-height:28px;margin-left:5px}.sub-list[_ngcontent-%COMP%]{margin-left:10px}.add-submodule-button[_ngcontent-%COMP%]{align-self:stretch;margin-top:10px;margin-right:16px}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:MontserratVariable;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.add-submodule-form[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]{min-width:600px}.add-submodule-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.add-submodule-form[_ngcontent-%COMP%]     .mat-form-field-prefix, .edit-submodule-form[_ngcontent-%COMP%]     .mat-form-field-prefix{margin-right:10px}.add-submodule-form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]     .mat-form-field-suffix, .edit-submodule-form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]     .mat-form-field-suffix{top:-.25em}"],changeDetection:0}),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryPath)],o.prototype,"selectedRepositoryPath",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryLocalBranches)],o.prototype,"selectedRepositoryLocalBranches",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryRemoteBranches)],o.prototype,"selectedRepositoryRemoteBranches",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryTags)],o.prototype,"selectedRepositoryTags",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositorySubmodules)],o.prototype,"selectedRepositorySubmodules",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryRemoteSettings)],o.prototype,"remoteSettings",void 0),(0,Z.gn)([(0,G.Ph)(ke.$.credentials)],o.prototype,"allCredentials",void 0),o})();var Pt=l(7615),Zt=l(3051),Mt=l(8070);function Wn(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",20),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(4);return e.KtG(a.changeCommit(r))}),e._uU(1),e.qZA()}if(2&o){const t=c.$implicit,n=c.first;e.Q6J("matTooltip",t),e.xp6(1),e.AsE("",n?"":", ","",t,"")}}function Xn(o,c){if(1&o&&(e.TgZ(0,"div",17)(1,"span",4),e._uU(2),e.ALo(3,"plural"),e.qZA(),e.TgZ(4,"div",18)(5,"ul"),e.YNc(6,Wn,2,3,"li",19),e.qZA()()()),2&o){const t=e.oxw(2).ngIf;e.ekj("plural",t.parentIds.length>1),e.xp6(2),e.hij("",e.xi3(3,4,"Parent",t.parentIds.length),": "),e.xp6(4),e.Q6J("ngForOf",t.parentIds)}}function eo(o,c){if(1&o&&(e.TgZ(0,"div",21),e._uU(1," committed by "),e._UZ(2,"app-avatar",9),e.ALo(3,"async"),e.TgZ(4,"span",10),e._uU(5),e.qZA()()),2&o){const t=e.oxw(2).ngIf,n=e.oxw();e.Q6J("matTooltip",t.committerName+" ("+t.committerEmail+")"),e.xp6(2),e.Q6J("remotes",e.lcZ(3,4,n.remotes))("email",t.committerEmail),e.xp6(3),e.Oqu(t.committerName)}}function to(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",22),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.changeFile(r))})("contextmenu",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.copyToClipboard(a.getPatchPath(r)))}),e.ALo(1,"async"),e.TgZ(2,"mat-icon",23),e._uU(3),e.qZA(),e._UZ(4,"app-condensed-path",24),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(3);e.ekj("selected",n.isFileSelected(t,e.lcZ(1,5,n.selectedFile))),e.xp6(2),e.Q6J("ngClass",n.getPatchIconColorClass(t)),e.xp6(1),e.Oqu(n.getPatchIcon(t)),e.xp6(1),e.Q6J("path",n.getPatchPath(t))}}function no(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"header")(2,"div",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().ngIf,r=e.oxw();return e.KtG(r.copyToClipboard(i.id))}),e.TgZ(3,"span",4),e._uU(4,"Commit:"),e.qZA(),e._uU(5),e.qZA(),e.YNc(6,Xn,7,7,"div",5),e.qZA(),e.TgZ(7,"mat-card",6)(8,"div",7),e._uU(9),e.qZA(),e.TgZ(10,"div",8),e._uU(11," authored by "),e._UZ(12,"app-avatar",9),e.ALo(13,"async"),e.TgZ(14,"span",10),e._uU(15),e.qZA(),e._UZ(16,"br"),e.qZA(),e.YNc(17,eo,6,6,"div",11),e.TgZ(18,"div",12),e.ALo(19,"date"),e._uU(20," on "),e.TgZ(21,"span",10),e._uU(22),e.ALo(23,"date"),e.qZA(),e._uU(24," at "),e.TgZ(25,"span",10),e._uU(26),e.ALo(27,"date"),e.qZA()()(),e.TgZ(28,"mat-card",13)(29,"cdk-virtual-scroll-viewport",14)(30,"ul",15),e.YNc(31,to,5,7,"li",16),e.qZA()()()()}if(2&o){const t=e.oxw().ngIf,n=e.oxw();e.xp6(2),e.Q6J("matTooltip",t.id),e.xp6(3),e.hij(" ",t.id," "),e.xp6(1),e.Q6J("ngIf",t.parentIds.length),e.xp6(3),e.Oqu(t.message),e.xp6(1),e.Q6J("matTooltip",t.authorName+" ("+t.authorEmail+")"),e.xp6(2),e.Q6J("remotes",e.lcZ(13,14,n.remotes))("email",t.authorEmail),e.xp6(3),e.Oqu(t.authorName),e.xp6(2),e.Q6J("ngIf",t.committerName&&t.committerEmail&&(t.authorName!==t.committerName||t.authorEmail!==t.committerEmail)),e.xp6(1),e.Q6J("matTooltip",e.xi3(19,16,t.date,"z")||""),e.xp6(4),e.Oqu(e.xi3(23,19,t.date,"d MMMM y")),e.xp6(4),e.Oqu(e.xi3(27,22,t.date,"HH:mm:ss")),e.xp6(3),e.Q6J("itemSize",22),e.xp6(2),e.Q6J("cdkVirtualForOf",t.patches)}}function oo(o,c){if(1&o&&(e.ynx(0),e.YNc(1,no,32,25,"div",1),e.BQk()),2&o){const t=c.ngIf;e.xp6(1),e.Q6J("ngIf",t&&"head"!==t)}}let io=(()=>{class o{constructor(t,n){this.store=t,this.commitDetailService=n}getPatchPath(t){return this.commitDetailService.getPatchPath(t)}getPatchIcon(t){return this.commitDetailService.getPatchIcon(t)}getPatchIconColorClass(t){return this.commitDetailService.getPatchIconColorClass(t)}copyToClipboard(t){navigator.clipboard.writeText(t??"").then(()=>{})}changeCommit(t){this.selectedRepositoryPath.pipe((0,ce.q)(1)).subscribe(n=>{null!==n&&this.store.dispatch(new S.jQ(n,t))})}changeFile(t){(0,ve.aj)([this.selectedRepositoryPath,this.selectedFile]).pipe((0,ce.q)(1)).subscribe(([n,i])=>{null!==n&&this.store.dispatch(new S.gt(n,t.oldFilePath===i?.oldFilePath&&t.newFilePath===i.newFilePath?null:{area:"commit",oldFilePath:t.oldFilePath,newFilePath:t.newFilePath}))})}isFileSelected(t,n){return!!n&&t.oldFilePath===n.oldFilePath&&t.newFilePath===n.newFilePath}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(G.yh),e.Y36(Pt.d))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-commit"]],inputs:{commit:"commit"},decls:2,vars:3,consts:[[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"matTooltip","click"],[1,"title"],["class","parent-commits",3,"plural",4,"ngIf"],[1,"message"],[1,"content"],[1,"author",3,"matTooltip"],[3,"remotes","email"],[1,"highlight"],["class","committer",3,"matTooltip",4,"ngIf"],[1,"date",3,"matTooltip"],[1,"files"],[1,"item-list-container",3,"itemSize"],[1,"file-list"],[3,"selected","click","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"parent-commits"],[1,"parent-commit-ids"],[3,"matTooltip","click",4,"ngFor","ngForOf"],[3,"matTooltip","click"],[1,"committer",3,"matTooltip"],[3,"click","contextmenu"],["inline","",3,"ngClass"],[1,"name",3,"path"]],template:function(t,n){1&t&&(e.YNc(0,oo,2,1,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.commit))},dependencies:[be.xd,be.x0,be.N7,te.mk,te.sg,te.O5,g.a8,Ue.Hw,Ve.gM,Zt.A,ft.j,te.Ov,te.uU,Mt.r],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;column-gap:10px;padding:0 10px;flex:0 0 auto;overflow:auto;font-weight:600}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 111px;min-width:111px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 104px;min-width:104px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 54px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]{flex-basis:161px;min-width:161px}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.message[_ngcontent-%COMP%]{flex:1 10 auto;margin:10px 10px 0;min-height:180px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:18px;overflow-wrap:anywhere}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:22px;height:22px;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:16px}.files[_ngcontent-%COMP%]{flex:10 1 auto;min-height:250px;margin:10px;white-space:nowrap;overflow:auto}.files[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.files[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#ef5350}.files[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.files[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.files[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%]{color:#7c8bff}.files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%}.files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.files[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;cursor:pointer;line-height:22px;padding-left:16px;padding-right:16px}.files[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.files[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.files[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}"],changeDetection:0}),(0,Z.gn)([(0,G.Ph)(D.E.selectedRemotes)],o.prototype,"remotes",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryPath)],o.prototype,"selectedRepositoryPath",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedFileForArea("commit"))],o.prototype,"selectedFile",void 0),o})();var Et=l(6787),gt=l(13),ro=l(9349);function ao(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li"),e.ALo(1,"async"),e.TgZ(2,"mat-icon",13),e._uU(3),e.qZA(),e.TgZ(4,"mat-checkbox",14),e.NdJ("change",function(i){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.setPatchChecked("unstaged",a,i.checked))}),e.qZA(),e.TgZ(5,"app-condensed-path",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.selectFile("unstaged",r))}),e.qZA()()}if(2&o){const t=c.$implicit,n=e.oxw();e.ekj("selected",n.isPatchSelected(t,e.lcZ(1,8,n.selectedUnstagedFile)))("checked",n.isPatchChecked("unstaged",t)),e.xp6(2),e.Q6J("ngClass",n.getPatchIconColorClass(t)),e.xp6(1),e.Oqu(n.getPatchIcon(t)),e.xp6(1),e.Q6J("checked",n.isPatchChecked("unstaged",t)),e.xp6(1),e.Q6J("path",n.getPatchPath(t))}}function co(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li"),e.ALo(1,"async"),e.TgZ(2,"mat-icon",13),e._uU(3),e.qZA(),e.TgZ(4,"mat-checkbox",14),e.NdJ("change",function(i){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.setPatchChecked("staged",a,i.checked))}),e.qZA(),e.TgZ(5,"app-condensed-path",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.selectFile("staged",r))}),e.qZA()()}if(2&o){const t=c.$implicit,n=e.oxw();e.ekj("selected",n.isPatchSelected(t,e.lcZ(1,8,n.selectedStagedFile)))("checked",n.isPatchChecked("staged",t)),e.xp6(2),e.Q6J("ngClass",n.getPatchIconColorClass(t)),e.xp6(1),e.Oqu(n.getPatchIcon(t)),e.xp6(1),e.Q6J("checked",n.isPatchChecked("staged",t)),e.xp6(1),e.Q6J("path",n.getPatchPath(t))}}let uo=(()=>{class o extends((0,Ee.j)(Te.A,dt.P)){constructor(t,n,i,r){super(),this.cdr=t,this.store=n,this.commitsApi=i,this.commitDetailService=r,this.commitMessageControl=new z.NI(null),this.checkedStaged=[],this.checkedUnstaged=[]}ngOnInit(){this.selectedRepositoryCommitMessage.pipe((0,K.R)(this.destroyed$)).subscribe(t=>{this.commitMessageControl.setValue(t,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,gt.b)(200),(0,K.R)(this.destroyed$)).subscribe(t=>{const n=this.store.selectSnapshot(D.E.selectedRepositoryPath);n&&this.store.dispatch(new S.$h(n,t))}),this.commitButtonDisabled=(0,ve.aj)([this.stagedChanges,(0,Et.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,tt.O)(this.commitMessageControl.value)))]).pipe((0,j.U)(([t,n])=>!n||!t||0===t.patches.length)),this.commitButtonTooltip=(0,ve.aj)([this.stagedChanges,(0,Et.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,tt.O)(this.commitMessageControl.value)))]).pipe((0,j.U)(([t,n])=>n?t&&0!==t.patches.length?"":"There must be staged changes to commit":"The commit message cannot be empty"))}getPatchPath(t){return this.commitDetailService.getPatchPath(t)}getPatchIcon(t){return this.commitDetailService.getPatchIcon(t)}getPatchIconColorClass(t){return this.commitDetailService.getPatchIconColorClass(t)}trackByPatch(t,n){return`${n.oldFilePath}|${n.newFilePath}|${n.status}`}isPatchSelected(t,n){return n?.oldFilePath===t.oldFilePath&&n?.newFilePath===t.newFilePath}isPatchChecked(t,n){return("staged"===t?this.checkedStaged:this.checkedUnstaged).some(r=>r.oldFilePath===n.oldFilePath&&r.newFilePath===n.newFilePath)}selectFile(t,n){(0,ve.aj)([this.repositoryPath,this.selectedStagedFile,this.selectedUnstagedFile]).pipe((0,ce.q)(1)).subscribe(([i,r,a])=>{null!==i&&this.store.dispatch(new S.gt(i,"staged"===t&&n.oldFilePath===r?.oldFilePath&&n.newFilePath===r.newFilePath||"unstaged"===t&&n.oldFilePath===a?.oldFilePath&&n.newFilePath===a.newFilePath?null:{area:t,oldFilePath:n.oldFilePath,newFilePath:n.newFilePath}))})}discard(){const t=this.store.selectSnapshot(D.E.selectedRepositoryPath);t&&this.store.dispatch(this.checkedUnstaged.length>0?new S.kD(t,this.checkedUnstaged):new S.BE(t)).pipe((0,K.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged=[],this.checkedUnstaged=[]})}stage(){const t=this.store.selectSnapshot(D.E.selectedRepositoryPath);t&&this.store.dispatch(this.checkedUnstaged.length>0?new S.mP(t,this.checkedUnstaged):new S.mN(t)).pipe((0,K.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged=[],this.checkedUnstaged=[]})}unstage(){const t=this.store.selectSnapshot(D.E.selectedRepositoryPath);t&&this.store.dispatch(this.checkedStaged.length>0?new S.Br(t,this.checkedStaged):new S.U6(t)).pipe((0,K.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged=[],this.checkedUnstaged=[]})}setPatchChecked(t,n,i){const r="staged"===t?this.checkedStaged:this.checkedUnstaged,a=r.findIndex(u=>u.oldFilePath===n.oldFilePath&&u.newFilePath===n.newFilePath);a>=0&&!i?r.splice(a,1):a<0&&i&&r.push(n),this.cdr.markForCheck()}commitChanges(){const t=this.store.selectSnapshot(D.E.selectedRepositoryPath),n=this.store.selectSnapshot(ke.$.selectedProfile),i=[];t||i.push("Cannot commit if no repository is selected"),n||i.push("Cannot commit if no profile is selected");const r=this.commitMessageControl.value;if(r||i.push("Cannot commit with empty commit message"),i.length>0)return void this.store.dispatch(i.map(d=>new ee.NN("error",d)));const a=t;this.commitsApi.putCommit(a,n.name,n.email,r??"").subscribe(d=>{this.store.dispatch([new S.$h(a,null),new S.jQ(a,d),new S.Vu(a,[S.nh.commits,S.nh.currentBranch,S.nh.currentBranchCommitId,S.nh.headCommitId,S.nh.references,S.nh.stagedChanges,S.nh.submodules])]).subscribe(()=>this.store.dispatch(new S.BK(a,d)))},d=>{_e.fD.matches(d)?this.store.dispatch(new ee.NN("error",d.message)):this.store.dispatch(new ee.NN("unhandled",`${d}`))})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(G.yh),e.Y36(Xe.T),e.Y36(Pt.d))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-new-commit"]],viewQuery:function(t,n){if(1&t&&e.Gf(be.N7,5),2&t){let i;e.iGM(i=e.CRH())&&(n.viewports=i)}},features:[e.qOj],decls:28,vars:27,consts:[[1,"unstaged"],[1,"header-buttons"],["type","button","mat-stroked-button","",3,"matTooltip","click"],["type","button","mat-stroked-button","","color","warn",3,"matTooltip","click"],[1,"item-list-container",3,"itemSize","maxBufferPx","minBufferPx"],[1,"file-list"],[3,"selected","checked",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"staged"],[1,"commit"],[1,"description"],["matInput","","cdkTextareaAutosize","","placeholder","Enter a description...",3,"formControl"],[1,"button-container",3,"matTooltip"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],["inline","",3,"ngClass"],[3,"checked","change"],[1,"name",3,"path","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return n.stage()}),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.discard()}),e._uU(5),e.qZA()(),e.TgZ(6,"cdk-virtual-scroll-viewport",4)(7,"ul",5),e.YNc(8,ao,6,10,"li",6),e.ALo(9,"async"),e.qZA()()(),e.TgZ(10,"mat-card",7)(11,"div",1)(12,"button",2),e.NdJ("click",function(){return n.unstage()}),e._uU(13),e.qZA()(),e.TgZ(14,"cdk-virtual-scroll-viewport",4)(15,"ul",5),e.YNc(16,co,6,10,"li",6),e.ALo(17,"async"),e.qZA()()(),e.TgZ(18,"mat-card",8)(19,"mat-form-field",9)(20,"mat-label"),e._uU(21,"Commit Message"),e.qZA(),e._UZ(22,"textarea",10),e.qZA(),e.TgZ(23,"div",11),e.ALo(24,"async"),e.TgZ(25,"button",12),e.NdJ("click",function(){return n.commitChanges()}),e.ALo(26,"async"),e._uU(27,"Commit changes"),e.qZA()()()),2&t){let i,r;e.xp6(2),e.Q6J("matTooltip",n.checkedUnstaged.length>0?"Stage selected changes":"Stage all changes"),e.xp6(1),e.Oqu(n.checkedUnstaged.length>0?"Stage Selected":"Stage All"),e.xp6(1),e.Q6J("matTooltip",n.checkedUnstaged.length>0?"Discard selected changes":"Discard all changes"),e.xp6(1),e.Oqu(n.checkedUnstaged.length>0?"Discard Selected":"Discard All"),e.xp6(1),e.Q6J("itemSize",22)("maxBufferPx",400)("minBufferPx",200),e.xp6(2),e.Q6J("cdkVirtualForOf",null==(i=e.lcZ(9,19,n.unstagedChanges))?null:i.patches)("cdkVirtualForTrackBy",n.trackByPatch),e.xp6(4),e.Q6J("matTooltip",n.checkedStaged.length>0?"Unstage selected changes":"Unstage all changes"),e.xp6(1),e.Oqu(n.checkedStaged.length>0?"Unstage Selected":"Unstage All"),e.xp6(1),e.Q6J("itemSize",22)("maxBufferPx",400)("minBufferPx",200),e.xp6(2),e.Q6J("cdkVirtualForOf",null==(r=e.lcZ(17,21,n.stagedChanges))?null:r.patches)("cdkVirtualForTrackBy",n.trackByPatch),e.xp6(6),e.Q6J("formControl",n.commitMessageControl),e.xp6(1),e.Q6J("matTooltip",e.lcZ(24,23,n.commitButtonTooltip)||""),e.xp6(2),e.Q6J("disabled",e.lcZ(26,25,n.commitButtonDisabled))}},dependencies:[be.xd,be.x0,be.N7,te.mk,z.Fj,z.JJ,z.oH,Qe.lW,g.a8,Ue.Hw,Ve.gM,ft.j,h.oG,ro.IC,w.KE,w.hX,O.Nt,te.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;max-height:100%;gap:10px}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{flex-shrink:1;margin:0 10px;white-space:nowrap;overflow:auto;min-height:120px;display:flex;flex-direction:column;gap:10px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;flex-wrap:wrap;gap:10px;justify-content:space-between}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 0 152px;min-width:152px}.staged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%;contain:content}.staged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper, .unstaged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.staged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer, .unstaged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:none}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%]{display:block}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 22px)}.unstaged[_ngcontent-%COMP%]{min-height:170px}.commit[_ngcontent-%COMP%]{flex-shrink:1;margin:0 10px 10px;overflow:auto;display:flex;flex-direction:column;min-height:164px}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px}.commit[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 auto}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryPath)],o.prototype,"repositoryPath",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedStagedChanges)],o.prototype,"stagedChanges",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedUnstagedChanges)],o.prototype,"unstagedChanges",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedFileForArea("staged"))],o.prototype,"selectedStagedFile",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedFileForArea("unstaged"))],o.prototype,"selectedUnstagedFile",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryCommitMessage)],o.prototype,"selectedRepositoryCommitMessage",void 0),(0,Z.gn)([(0,G.Ph)(ke.$.selectedProfile)],o.prototype,"selectedProfile",void 0),(0,Z.gn)([(0,G.Ph)(ke.$.profiles)],o.prototype,"profiles",void 0),o})();function so(o,c){1&o&&e._UZ(0,"app-new-commit")}function lo(o,c){if(1&o&&e._UZ(0,"app-commit",2),2&o){const t=e.oxw(2);e.Q6J("commit",t.commit)}}function fo(o,c){if(1&o&&(e.ynx(0),e.YNc(1,so,1,0,"app-new-commit",0),e.YNc(2,lo,1,1,"app-commit",1),e.BQk()),2&o){const t=c.ngIf;e.xp6(1),e.Q6J("ngIf","head"===t),e.xp6(1),e.Q6J("ngIf","head"!==t)}}let go=(()=>{class o extends((0,Ee.j)(Te.A)){}return o.\u0275fac=function(){let c;return function(n){return(c||(c=e.n5z(o)))(n||o)}}(),o.\u0275cmp=e.Xpm({type:o,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit"},features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"commit",4,"ngIf"],[3,"commit"]],template:function(t,n){1&t&&(e.YNc(0,fo,3,2,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.commit))},dependencies:[te.O5,io,uo,te.Ov],encapsulation:2,changeDetection:0}),o})();var It=l(5410),mt=l(3753),Ot=l(8929),rt=l(5778),Ft=l(519),mo=l(3489),po=l(6498),ho=l(826),_o=l(448);function Bt(o,c){return c?t=>new bo(t,c).lift(new Lt(o)):t=>t.lift(new Lt(o))}class Lt{constructor(c){this.delayDurationSelector=c}call(c,t){return t.subscribe(new Co(c,this.delayDurationSelector))}}class Co extends ho.L{constructor(c,t){super(c),this.delayDurationSelector=t,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(c,t,n,i,r){this.destination.next(c),this.removeSubscription(r),this.tryComplete()}notifyError(c,t){this._error(c)}notifyComplete(c){const t=this.removeSubscription(c);t&&this.destination.next(t),this.tryComplete()}_next(c){const t=this.index++;try{const n=this.delayDurationSelector(c,t);n&&this.tryDelay(n,c)}catch(n){this.destination.error(n)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(c){c.unsubscribe();const t=this.delayNotifierSubscriptions.indexOf(c);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),c.outerValue}tryDelay(c,t){const n=(0,_o.D)(this,c,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class bo extends po.y{constructor(c,t){super(),this.source=c,this.subscriptionDelay=t}_subscribe(c){this.subscriptionDelay.subscribe(new Po(c,this.source))}}class Po extends mo.L{constructor(c,t){super(),this.parent=c,this.source=t,this.sourceSubscribed=!1}_next(c){this.subscribeToSource()}_error(c){this.unsubscribe(),this.parent.error(c)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}var Mo=l(7138),Oo=l(3779),pt=l(6421),at=l(3989),xo=l(3888);function vo(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"mat-icon",9),e.NdJ("contextmenu",function(i){const a=e.CHM(t).$implicit,u=e.oxw().$implicit,d=e.oxw(2);return e.KtG(d.contextMenuClicked(i,u,a))})("dblclick",function(i){const a=e.CHM(t).$implicit,u=e.oxw().$implicit,d=e.oxw(2);return e.KtG(d.dblClicked(i,u,a))}),e._uU(1),e.qZA()}if(2&o){const t=c.$implicit;e.Q6J("matTooltip",t.name),e.xp6(1),e.Oqu(t.icon)}}function yo(o,c){1&o&&(e.TgZ(0,"span",10)(1,"mat-icon"),e._uU(2,"expand_more"),e.qZA()())}function wo(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",4),e.NdJ("contextmenu",function(i){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.contextMenuClicked(i,a))})("dblclick",function(i){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.dblClicked(i,a))}),e.TgZ(1,"span",5),e.YNc(2,vo,2,2,"mat-icon",6),e.qZA(),e.TgZ(3,"span",7),e.ALo(4,"async"),e._uU(5),e.qZA(),e.YNc(6,yo,3,0,"span",8),e.qZA()}if(2&o){const t=c.$implicit,n=c.first,i=e.oxw(2);e.Q6J("ngClass","color-"+i.color),e.xp6(1),e.Q6J("ngClass","color-"+i.color),e.xp6(1),e.Q6J("ngForOf",t.sources)("ngForTrackBy",i.trackBranchSource),e.xp6(1),e.ekj("current",i.branchMatches(e.lcZ(4,9,i.currentBranch),t)),e.Q6J("matTooltip",t.name),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",n&&(i.branches.length>1||i.branches[0].sources.length>2))}}function To(o,c){if(1&o&&(e.TgZ(0,"ul",2),e.YNc(1,wo,7,11,"li",3),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.branches)("ngForTrackBy",t.trackBranch)}}function ko(o,c){if(1&o&&(e.TgZ(0,"mat-icon"),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.xp6(1),e.Oqu(t.icon)}}function Ao(o,c){1&o&&(e.TgZ(0,"span",10)(1,"mat-icon"),e._uU(2,"expand_more"),e.qZA()())}function So(o,c){if(1&o&&(e.TgZ(0,"div",11)(1,"span",12),e.YNc(2,ko,2,1,"mat-icon",13),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.qZA(),e.YNc(5,Ao,3,0,"span",8),e.qZA()),2&o){const t=c.ngIf,n=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.sources)("ngForTrackBy",n.trackBranchSource),e.xp6(2),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",n.branches.length>1||n.branches[0].sources.length>2)}}let No=(()=>{class o{constructor(t,n,i){this.cdr=t,this.store=n,this.repositoryActionsService=i,this.contextMenu=new e.vpe,this.branchMatches=(r,a)=>a.sources.some(u=>"local"===u.type)&&`refs/heads/${a.name}`===r,this.contextMenuClicked=(r,a,u)=>{this.contextMenu.next({event:r,branch:a,source:u})},this.dblClicked=(r,a,u)=>{r.preventDefault(),r.stopPropagation();const d=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(d)if("local"===u?.type||!u&&a.sources.some(b=>"local"===b.type))this.repositoryActionsService.checkoutBranch(d,`refs/heads/${a.name}`).subscribe();else if("remote"===u?.type||!u&&a.sources.some(b=>"remote"===b.type)){const b=u?.name??a.sources.find(A=>"remote"===A.type)?.name;if(this.store.selectSnapshot(D.E.selectedRepositoryLocalBranches)?.find(A=>A.name===`refs/heads/${a.name}`))this.repositoryActionsService.checkoutBranch(d,`refs/heads/${a.name}`).subscribe();else{const R=this.store.selectSnapshot(D.E.selectedRepositoryRemoteBranches)?.find(H=>H.name===`refs/remotes/${b}/${a.name}`);R&&this.repositoryActionsService.createBranchWithDetails(d,R.target,a.name,`${b}/${a.name}`,!0).subscribe()}}},this.trackBranch=(r,a)=>a.name+a.sources.reduce((u,d,b)=>`${u},${this.trackBranchSource(b,d)}`,""),this.trackBranchSource=(r,a)=>`${a.type}:${a.name}`}ngOnChanges(t){!t.branches||!t.branches.currentValue||this.cdr.detectChanges()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(G.yh),e.Y36(it))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-branches"]],inputs:{branches:"branches",color:"color"},outputs:{contextMenu:"contextMenu"},features:[e.TTD],decls:3,vars:4,consts:[["class","branches",4,"ngIf"],["class","spacer branch",4,"ngIf"],[1,"branches"],["class","branch",3,"ngClass","contextmenu","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"branch",3,"ngClass","contextmenu","dblclick"],[1,"icons",3,"ngClass"],[3,"matTooltip","contextmenu","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"name",3,"matTooltip"],["class","expandable",4,"ngIf"],[3,"matTooltip","contextmenu","dblclick"],[1,"expandable"],[1,"spacer","branch"],[1,"icons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"name"]],template:function(t,n){1&t&&(e.YNc(0,To,2,2,"ul",0),e.ALo(1,"nullEmpty"),e.YNc(2,So,6,4,"div",1)),2&t&&(e.Q6J("ngIf",e.lcZ(1,2,n.branches)),e.xp6(2),e.Q6J("ngIf",n.branches.length>0&&n.branches[0]))},dependencies:[te.mk,te.sg,te.O5,Ue.Hw,Ve.gM,te.Ov,lt.x],styles:["[_nghost-%COMP%]{display:block;position:relative}.branches[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:auto;max-width:250px;border:1px solid #616161;border-radius:6px;background:#3c3c3c}.branches[_ngcontent-%COMP%]:hover{width:fit-content;max-width:max-content;z-index:100}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]{display:flex}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:none;border-radius:0}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:first-child   .icons[_ngcontent-%COMP%]{border-top-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:last-child   .icons[_ngcontent-%COMP%]{border-bottom-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{visibility:hidden}.branch[_ngcontent-%COMP%]{display:none;height:24px;line-height:24px}.branch[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:5px}.branch[_ngcontent-%COMP%]   .name.current[_ngcontent-%COMP%]{font-weight:600}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:67px;flex-shrink:0;overflow:hidden;padding:0 5px;border-radius:6px 0 0 6px;margin-right:5px}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{background:#4363d8}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%]{background:#469990}.branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{background:#fabed4}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{background:#e6194B}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%]{background:#42d4f4}.branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%]{background:#f58231}.branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%]{background:#ffe119}.branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{background:#3cb44b}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{background:#f032e6}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{background:#ffffff}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%]{background:#800000}.branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{background:#9A6324}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%]{background:#fffac8}.branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%]{background:#aaffc3}.branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{background:#dcbeff}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px;padding-left:1px;width:26px}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:first-child{margin-left:0}.branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{margin-right:5px}.branch[_ngcontent-%COMP%]:first-child{display:flex}.branch.spacer[_ngcontent-%COMP%]{display:flex;user-select:none;max-width:250px;visibility:hidden}"],changeDetection:0}),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryCurrentBranch)],o.prototype,"currentBranch",void 0),o})();const Ro=["graphSvg"],Zo=["graphWrapper"],Eo=["floatingDates"],Io=["contextMenu"];function Fo(o,c){if(1&o&&(e.O4$(),e._UZ(0,"rect",19)),2&o){const t=c.ngIf,n=e.oxw();e.uIk("y",n.getYCoord(t.yIndex)-n.yOffset)("height",n.yUnit)}}function Bo(o,c){if(1&o&&(e.O4$(),e.TgZ(0,"g",20),e._UZ(1,"path",21),e.qZA()),2&o){const t=c.$implicit,n=e.oxw();e.xp6(1),e.ekj("dashed",t.isDashed),e.Q6J("ngClass","color-"+n.getTrailColorIndex(t.from.trail)),e.uIk("d",t.path)}}function Lo(o,c){if(1&o&&(e.O4$(),e.TgZ(0,"g",22),e._UZ(1,"path",21),e.qZA()),2&o){const t=c.$implicit,n=e.oxw();e.xp6(1),e.ekj("dashed",t.isDashed),e.Q6J("ngClass","color-"+n.getTrailColorIndex(t)),e.uIk("d",n.drawTrail(t))}}function Uo(o,c){if(1&o&&(e.O4$(),e.TgZ(0,"g"),e._UZ(1,"circle",23),e.qZA()),2&o){const t=c.$implicit,n=e.oxw();e.xp6(1),e.ekj("dashed","head"===t.id||t.id.startsWith("merge:")),e.Q6J("ngClass","color-"+n.getTrailColorIndex(t.trail)),e.uIk("cx",n.getXCoord(t.trail.lane.xIndex))("cy",n.getYCoord(t.yIndex))}}function Vo(o,c){if(1&o&&(e.TgZ(0,"div",24),e.ALo(1,"async"),e.ALo(2,"async"),e._uU(3),e.ALo(4,"date"),e.qZA()),2&o){const t=c.ngIf,n=e.oxw();e.ekj("scrolled-to-top",e.lcZ(1,5,n.scrolledToTop))("selected",e.lcZ(2,7,n.topCommitSelected)),e.xp6(3),e.hij(" ",e.xi3(4,9,t,"d MMM yyyy")," ")}}function Do(o,c){if(1&o&&(e.TgZ(0,"li"),e.ALo(1,"async"),e._uU(2),e.ALo(3,"date"),e.qZA()),2&o){const t=c.$implicit,n=e.oxw();e.Udp("top",t[0]*n.yUnit,"px"),e.ekj("selected",t[1].id===e.lcZ(1,5,n.selectedCommitDetailId)),e.xp6(2),e.Oqu(e.xi3(3,7,t[1].time,"MMM yyyy"))}}function Go(o,c){if(1&o&&(e._UZ(0,"app-avatar",32),e.ALo(1,"async")),2&o){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("matTooltip",t.commit.authorName+" ("+t.commit.authorEmail+")")("remotes",e.lcZ(1,3,n.remotes))("email",t.commit.authorEmail)}}function Jo(o,c){1&o&&(e.TgZ(0,"mat-icon",33),e._uU(1,"unpublished"),e.qZA())}function Qo(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"span",34)(1,"app-branches",35),e.NdJ("contextMenu",function(i){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openContextMenu(i.event,r,i.branch,i.source))}),e.qZA()()}if(2&o){const t=c.ngIf,n=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("branches",t)("color",i.getTrailColorIndex(n.trail))}}function $o(o,c){if(1&o&&(e.TgZ(0,"span",36),e.ALo(1,"async"),e._uU(2),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw();e.ekj("bold",t.id===e.lcZ(1,3,n.headCommitId)),e.xp6(2),e.hij(" ",n.getCommitSummary(t)," ")}}function qo(o,c){if(1&o&&(e.TgZ(0,"span",37),e._uU(1," You have "),e.TgZ(2,"strong"),e._uU(3),e.ALo(4,"async"),e.qZA(),e._uU(5),e.ALo(6,"plural"),e.ALo(7,"async"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,t.uncommittedChangesCount)),e.xp6(2),e.hij(" ",e.xi3(6,4,"change",e.lcZ(7,7,t.uncommittedChangesCount))," in your working copy ")}}function Yo(o,c){if(1&o&&(e.TgZ(0,"span",38),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.hij(" ",n.getCommitSummary(t)," ")}}function jo(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",25),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.changeCommit.next(r.id))})("dblclick",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.commitDblClicked(r))})("contextmenu",function(i){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.openContextMenu(i,a))}),e.ALo(1,"async"),e.YNc(2,Go,2,5,"app-avatar",26),e.YNc(3,Jo,2,0,"mat-icon",27),e.YNc(4,Qo,2,2,"span",28),e.ALo(5,"nullEmpty"),e.ALo(6,"async"),e.YNc(7,$o,3,5,"span",29),e.YNc(8,qo,8,9,"span",30),e.YNc(9,Yo,2,1,"span",31),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw();e.ekj("selected",t.id===e.lcZ(1,8,n.selectedCommitDetailId)),e.xp6(2),e.Q6J("ngIf","head"!==t.id&&!t.id.startsWith("merge:")),e.xp6(1),e.Q6J("ngIf","head"===t.id||t.id.startsWith("merge:")),e.xp6(1),e.Q6J("ngIf",e.lcZ(5,10,e.lcZ(6,12,n.getBranches(t)))),e.xp6(3),e.Q6J("ngIf","head"!==t.id&&!t.id.startsWith("merge:")),e.xp6(1),e.Q6J("ngIf","head"===t.id),e.xp6(1),e.Q6J("ngIf",t.id.startsWith("merge:"))}}function Ho(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).data,r=e.oxw();return r.checkout(i.commit,i.ref),e.KtG(r.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"get_app"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw(2).data;e.xp6(4),e.AsE("Checkout ",t.ref.typeName," ",t.ref.fullName,"")}}function zo(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(5).data,u=e.oxw();return u.merge(a.ref.shortName,r.commitId,r.name),e.KtG(u.closeContextMenu())}),e.ALo(1,"async"),e._uU(2),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(6);e.ekj("bold",t.name===e.lcZ(1,4,n.currentBranchName)),e.Q6J("matTooltip",t.name),e.xp6(2),e.Oqu(t.name)}}function Ko(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(5).data,u=e.oxw();return u.merge(a.ref.shortName,r.commitId,r.name),e.KtG(u.closeContextMenu())}),e._uU(1),e.qZA()}if(2&o){const t=c.$implicit;e.Q6J("matTooltip",t.name),e.xp6(1),e.Oqu(t.name)}}function Wo(o,c){if(1&o&&(e.TgZ(0,"div",52),e.YNc(1,zo,3,6,"button",53),e.YNc(2,Ko,2,2,"button",54),e.ALo(3,"async"),e.qZA()),2&o){const t=e.oxw().ngIf,n=e.oxw(3).data,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.filterBranches(t,n.commit.id)),e.xp6(1),e.Q6J("ngForOf",i.filterBranches(e.lcZ(3,2,i.remoteBranches),n.commit.id))}}function Xo(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",46,48),e.NdJ("click",function(i){e.CHM(t);const r=e.MAs(2),a=e.MAs(9),u=e.oxw(4);return e.KtG(u.openSubMenu(i,r,a))}),e._UZ(3,"mat-icon",49),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"mat-icon",50),e._uU(7,"chevron_right"),e.qZA()(),e.YNc(8,Wo,4,4,"ng-template",null,51,e.W1O),e.BQk()}if(2&o){const t=e.oxw(3).data;e.xp6(5),e.hij("Merge into ",t.ref.shortName," from")}}function ei(o,c){if(1&o&&(e.ynx(0),e.YNc(1,Xo,10,1,"ng-container",40),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.localBranches))}}function ti(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(5).data,u=e.oxw();return u.merge(r.name,a.commit.id,null==a.ref?null:a.ref.fullName),e.KtG(u.closeContextMenu())}),e.ALo(1,"async"),e._uU(2),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(6);e.ekj("bold",t.name===e.lcZ(1,4,n.currentBranchName)),e.Q6J("matTooltip",t.name),e.xp6(2),e.Oqu(t.name)}}function ni(o,c){if(1&o&&(e.TgZ(0,"div",52),e.YNc(1,ti,3,6,"button",58),e.qZA()),2&o){const t=e.oxw().ngIf,n=e.oxw(3).data,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.filterBranches(t,n.commit.id))}}function oi(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",46,56),e.NdJ("click",function(i){e.CHM(t);const r=e.MAs(2),a=e.MAs(9),u=e.oxw(4);return e.KtG(u.openSubMenu(i,r,a))}),e._UZ(3,"mat-icon",49),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"mat-icon",50),e._uU(7,"chevron_right"),e.qZA()(),e.YNc(8,ni,2,1,"ng-template",null,57,e.W1O),e.BQk()}if(2&o){const t=e.oxw(3).data;let n;e.xp6(5),e.hij("Merge from ",null!==(n="tag"!==(null==t.ref?null:t.ref.type)?null==t.ref?null:t.ref.fullName:null)&&void 0!==n?n:"this commit"," into")}}function ii(o,c){if(1&o&&(e.ynx(0),e.YNc(1,oi,10,1,"ng-container",40),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.localBranches))}}function ri(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).data,r=e.oxw();return e.KtG(r.pull(i.ref.fullName))}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_downward"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw(2).data;e.Q6J("matTooltip","Pull from upstream branch "+t.upstreamName),e.xp6(4),e.hij("Pull from ",t.upstreamName,"")}}function ai(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(5).data,u=e.oxw();return u.moveBranchToCommit(r.name,a.commit.id),e.KtG(u.closeContextMenu())}),e.ALo(1,"async"),e._uU(2),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(6);e.ekj("bold",t.name===e.lcZ(1,4,n.currentBranchName)),e.Q6J("matTooltip",t.name),e.xp6(2),e.Oqu(t.name)}}function ci(o,c){if(1&o&&(e.TgZ(0,"div",52),e.YNc(1,ai,3,6,"button",58),e.qZA()),2&o){const t=e.oxw().ngIf,n=e.oxw(3).data,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.filterBranches(t,n.commit.id))}}function ui(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",46,60),e.NdJ("click",function(i){e.CHM(t);const r=e.MAs(2),a=e.MAs(10),u=e.oxw(4);return e.KtG(u.openSubMenu(i,r,a))}),e.TgZ(3,"mat-icon"),e._uU(4,"move_up"),e.qZA(),e.TgZ(5,"span"),e._uU(6,"Move branch to this commit"),e.qZA(),e.TgZ(7,"mat-icon",50),e._uU(8,"chevron_right"),e.qZA()(),e.YNc(9,ci,2,1,"ng-template",null,61,e.W1O),e.BQk()}}function si(o,c){if(1&o&&(e.ynx(0),e.YNc(1,ui,11,0,"ng-container",40),e.ALo(2,"async"),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.localBranches))}}function di(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).data,r=e.oxw();return r.editCommits(i.commit.id),e.KtG(r.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"create"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Edit commits from here"),e.qZA()()}}function li(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return i.undoHeadCommit(),e.KtG(i.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"history"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Undo commit"),e.qZA()()}}function fi(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).data,r=e.oxw();return r.renameBranch(i.ref),e.KtG(r.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"drive_file_rename_outline"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw(2).data;e.xp6(4),e.AsE("Rename ",t.ref.typeName," ",t.ref.shortName,"")}}function gi(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).data,r=e.oxw();return r.deleteBranchOrTag(i.ref),e.KtG(r.closeContextMenu())}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&o){const t=e.oxw(2).data;e.xp6(4),e.AsE("Delete ",t.ref.typeName," ",t.ref.fullName,"")}}function mi(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.YNc(1,Ho,5,2,"button",41),e.ALo(2,"async"),e.YNc(3,ei,3,3,"ng-container",40),e.YNc(4,ii,3,3,"ng-container",40),e.YNc(5,ri,5,2,"button",42),e.YNc(6,si,3,3,"ng-container",40),e.YNc(7,di,5,0,"button",43),e.TgZ(8,"button",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().data,r=e.oxw();return r.revertCommit(i.commit.id),e.KtG(r.closeContextMenu())}),e.TgZ(9,"mat-icon"),e._uU(10,"undo"),e.qZA(),e.TgZ(11,"span"),e._uU(12,"Revert commit"),e.qZA()(),e.YNc(13,li,5,0,"button",45),e.ALo(14,"async"),e.TgZ(15,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().data,r=e.oxw();return r.createBranch(i.commit.id),e.KtG(r.closeContextMenu())}),e._UZ(16,"mat-icon",47),e.TgZ(17,"span"),e._uU(18,"Create branch"),e.qZA()(),e.TgZ(19,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().data,r=e.oxw();return r.createTag(i.commit.id),e.KtG(r.closeContextMenu())}),e.TgZ(20,"mat-icon"),e._uU(21,"label"),e.qZA(),e.TgZ(22,"span"),e._uU(23,"Create tag"),e.qZA()(),e.YNc(24,fi,5,2,"button",41),e.YNc(25,gi,5,2,"button",41),e.BQk()}if(2&o){const t=e.oxw().data,n=e.oxw();e.xp6(1),e.Q6J("ngIf",t.ref&&"tag"!==t.ref.type&&t.ref.shortName!==e.lcZ(2,9,n.currentBranchName)),e.xp6(2),e.Q6J("ngIf","local"===(null==t.ref?null:t.ref.type)),e.xp6(1),e.Q6J("ngIf","stash"!==(null==t.ref?null:t.ref.type)),e.xp6(1),e.Q6J("ngIf","local"===(null==t.ref?null:t.ref.type)&&t.upstreamName),e.xp6(1),e.Q6J("ngIf","stash"!==(null==t.ref?null:t.ref.type)),e.xp6(1),e.Q6J("ngIf","stash"!==(null==t.ref?null:t.ref.type)),e.xp6(6),e.Q6J("ngIf",t.commit.id===e.lcZ(14,11,n.headCommitId)),e.xp6(11),e.Q6J("ngIf",t.ref&&"local"===t.ref.type),e.xp6(1),e.Q6J("ngIf",t.ref&&"remote"!==t.ref.type)}}function pi(o,c){1&o&&(e.ynx(0),e.TgZ(1,"button",64),e._uU(2," No actions here "),e.qZA(),e.BQk())}function hi(o,c){if(1&o&&(e.TgZ(0,"div",39),e.YNc(1,mi,26,13,"ng-container",40),e.YNc(2,pi,3,0,"ng-container",40),e.qZA()),2&o){const t=c.data;e.xp6(1),e.Q6J("ngIf","head"!==t.commit.id),e.xp6(1),e.Q6J("ngIf","head"===t.commit.id)}}let _i=(()=>{class o extends((0,Ee.j)(Te.A)){constructor(t,n,i,r,a,u,d,b,v,_){super(),this.element=t,this.router=n,this.overlay=i,this.viewContainerRef=r,this.store=a,this.repositoriesApi=u,this.repositoryActionsService=d,this.branchesService=b,this.graphCalculatorService=v,this.graphSharedService=_,this.changeCommit=new e.vpe,this.commits=[],this.idToCommitDetail={},this.commitTrails=[],this.mergePaths=[],this.commitDetails=new V.X([]),this.visibleCommitDetails=new V.X([]),this.visibleCommitTrails=new V.X([]),this.visibleMergePaths=new V.X([]),this.visibleDates=new V.X([]),this.topDate=new V.X(null),this.scrolledToTop=new V.X(!1),this.topCommitSelected=new V.X(!1),this.xUnit=at.$.xUnit,this.yUnit=at.$.yUnit,this.xOffset=at.$.xOffset,this.yOffset=at.$.yOffset,this.totalColors=15,this.overlayRef=new V.X(null),this.subMenuOverlayRef=new V.X(null),this.getTrailColorIndex=A=>A.colorIndex%this.totalColors,this.getXCoord=A=>this.xOffset+this.xUnit*A,this.getYCoord=A=>this.yOffset+this.yUnit*A,this.getCommitSummary=A=>A.commit.message.split("\n")[0],this.getCommitTime=A=>new Date(A.time),this.openContextMenu=(A,R,H,se)=>{A.preventDefault(),A.stopPropagation(),this.closeContextMenu();const ye=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:A.x,y:A.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.getReferenceDetails(R,H,se).pipe((0,ce.q)(1),(0,ie.w)(Pe=>"local"===Pe?.type?this.repository.pipe((0,ce.q)(1),(0,ie.w)(Ze=>Ze?this.repositoriesApi.getUpstreamBranch(Ze.path,Pe.fullName):(0,Q.of)(null)),(0,j.U)(Ze=>[Pe,Ze?.replace(/^refs\/remotes\//,"")])):(0,Q.of)([Pe,null]))).subscribe(([Pe,Ze])=>{this.overlayRef.next(ye),ye.attach(new ze.UE(this.menuTemplate,this.viewContainerRef,{data:{commit:R,ref:Pe,upstreamName:Ze}})),(0,We.t)(ye).pipe((0,ce.q)(1),(0,K.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())})},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null)),this.closeSubMenu()},this.openSubMenu=(A,R,H)=>{A.preventDefault(),A.stopPropagation(),this.closeSubMenu();const se=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(R).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(se),se.attach(new ze.UE(H,this.viewContainerRef)),(0,We.t)(se).pipe((0,ce.q)(1),(0,K.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.getBranches=A=>this.currentBranch.pipe((0,j.U)(R=>this.branchesService.calculateBranches(A.commit.references,R))),this.getFirstBranch=A=>this.getBranches(A).pipe((0,j.U)(R=>R.length>0?R[0]:void 0)),this.getReferenceDetails=(A,R,H)=>("head"===A.id?(0,Q.of)(void 0):R?(0,Q.of)(R):this.getFirstBranch(A)).pipe((0,j.U)(se=>{if(!se)return;const ye=H??se.sources[0];let Pe,Ze;switch(ye.type){case"local":Pe=se.name,Ze="branch";break;case"tag":Pe=se.name,Ze="tag";break;case"remote":Pe=`${ye.name}/${se.name}`,Ze="branch";break;case"stash":Pe="",Ze="stash";break;default:throw new Error(`Invalid branch source type: ${ye.type}`)}return{shortName:se.name,fullName:Pe,type:ye.type,typeName:Ze}})),this.filterBranches=(A,R)=>(A??[]).filter(H=>H.commitId!==R),this.checkout=(A,R)=>{if(R)switch(R.type){case"local":this.repository.pipe((0,ce.q)(1)).subscribe(H=>{if(!H)throw new Error("Cannot checkout when no repository is selected");this.repositoryActionsService.checkoutBranch(H.path,R.shortName).subscribe()});break;case"remote":this.repository.pipe((0,ce.q)(1)).subscribe(H=>{if(!H)throw new Error("Cannot checkout branch when no repository is selected");H.references.filter(Pe=>"local"===Pe.type)?.find(Pe=>Pe.name===`refs/heads/${R.shortName}`)?this.repositoryActionsService.checkoutBranch(H.path,R.shortName).subscribe():this.repositoryActionsService.createBranchWithDetails(H.path,A.id,R.shortName,R.fullName,!0).subscribe()});break;case"tag":this.store.dispatch(new ee.NN("error","Cannot checkout a tag!"));break;case"stash":this.store.dispatch(new ee.NN("info","Checkout stash functionality not yet implemented!"))}else this.store.dispatch(new ee.NN("info","Detach HEAD functionality not yet implemented!"))},this.editCommits=A=>{this.repository.pipe((0,ce.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot edit commits when no repository is selected");this.repositoryActionsService.startEdit(R.path,A).pipe((0,ie.w)(()=>this.router.navigate(["/standard/rebase"]))).subscribe()})},this.revertCommit=A=>{this.repository.pipe((0,ce.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot revert commit when no repository is selected");this.repositoryActionsService.revertCommit(R.path,A).subscribe()})},this.undoHeadCommit=()=>{this.repository.pipe((0,ce.q)(1)).subscribe(A=>{if(!A)throw new Error("Cannot undo head commit when no repository is selected");this.repositoryActionsService.undoHeadCommit(A.path).subscribe()})},this.createBranch=A=>{this.repository.pipe((0,ce.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot create branch when no repository is selected");this.repositoryActionsService.createBranch(R.path,A).subscribe()})},this.createTag=A=>{this.repository.pipe((0,ce.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot create tag when no repository is selected");this.repositoryActionsService.createTag(R.path,A).subscribe()})},this.renameBranch=A=>{this.repository.pipe((0,ce.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot rename branch when no repository is selected");if("local"!==A.type)throw new Error(`Can only rename local branches, '${A.fullName}' is not valid`);this.repositoryActionsService.renameBranch(R.path,A.shortName).subscribe()})},this.deleteBranchOrTag=A=>{this.repository.pipe((0,ce.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot delete branch/tag when no repository is selected");"local"===A.type?this.repositoryActionsService.deleteBranch(R.path,A.fullName).subscribe():"tag"===A.type?this.repositoryActionsService.deleteTag(R.path,A.fullName).subscribe():this.store.dispatch("stash"===A.type?new ee.NN("info","Delete stash functionality not yet implemented!"):new ee.NN("error","Cannot delete remote branches"))})},this.merge=(A,R,H)=>{this.repository.pipe((0,ce.q)(1)).subscribe(se=>{if(!se)throw new Error("Cannot merge when no repository is selected");this.repositoryActionsService.createMerge(se.path,H??null,R,A).subscribe()})},this.pull=A=>{this.repository.pipe((0,ce.q)(1)).subscribe(R=>{if(!R)throw new Error("Cannot pull from upstream branch when no repository is selected");const H=this.store.selectSnapshot(ke.$.selectedProfileId),se=R.profiles.get(H)?.remotes,ye=se?Object.fromEntries(Object.entries(se).map(([Pe,{credentialId:Ze}])=>[Pe,null===Ze?null:this.store.selectSnapshot(ke.$.credentials).get(Ze)??null])):{};this.repositoryActionsService.pull(R.path,R.selectedRemote,ye,A).subscribe()})},this.moveBranchToCommit=(A,R)=>{this.repository.pipe((0,ce.q)(1)).subscribe(H=>{if(!H)throw new Error("Cannot update current branch when no repository is selected");this.repositoryActionsService.updateBranch(H.path,A,R).subscribe()})}}ngOnInit(){this.localBranchReferences=this.repository.pipe((0,j.U)(a=>a?.references.filter(u=>"local"===u.type)??null)),this.remoteBranchReferences=this.repository.pipe((0,j.U)(a=>a?.references.filter(u=>"remote"===u.type)??null)),this.currentBranch=this.repository.pipe((0,j.U)(a=>a?.currentBranch??null)),this.currentBranchCommitId=this.repository.pipe((0,j.U)(a=>a?.currentBranchCommitId??null)),this.selectedStagedChanges=this.repository.pipe((0,j.U)(a=>a?.stagedChanges??null)),this.selectedUnstagedChanges=this.repository.pipe((0,j.U)(a=>a?.unstagedChanges??null)),this.mergeHeads=this.repository.pipe((0,j.U)(a=>a?.mergeHeads??null)),this.remotes=this.repository.pipe((0,j.U)(a=>a?.remotes??[])),this.localBranches=(0,ve.aj)([this.localBranchReferences,this.currentBranch]).pipe((0,j.U)(([a,u])=>{const d=a?.find(b=>b.name===u);return[...d?[d]:[],...et(a??[],b=>b.name).filter(b=>b.name!==u)]}),(0,j.U)(a=>a.map(u=>({commitId:u.target,name:u.name.replace(/^refs\/heads\//,"")})))),this.remoteBranches=this.remoteBranchReferences.pipe((0,j.U)(a=>et(a??[],u=>u.name)),(0,j.U)(a=>a.map(u=>({commitId:u.target,name:u.name.replace(/^refs\/remotes\//,"")})))),this.currentBranchName=this.currentBranch.pipe((0,j.U)(a=>a?.replace(/^refs\/heads\//,"")??null)),this.headCommitId=this.repository.pipe((0,j.U)(a=>a?.headCommitId??null)),this.uncommittedChangesCount=(0,ve.aj)([this.selectedStagedChanges,this.selectedUnstagedChanges]).pipe((0,j.U)(([a,u])=>(a?.patches?.filter(d=>d.status!==pt.v.Conflicted).length??0)+(u?.patches.length??0))),this.selectedCommitDetailId=(0,ve.aj)([this.repository,this.selectedMerge]).pipe((0,j.U)(([a,u])=>a?.selectedCommitId??(u?`merge:${u?.fromCommitId}:${u?.toCommitId}`:null))),this.selectedCommitDetailId.pipe((0,K.R)(this.destroyed$)).subscribe(a=>{this.topCommitSelected.next(a===this.commits[0]?.id)});const t=new V.X(!1),n=new V.X(!1);this.repository.pipe((0,rt.x)((a,u)=>a?.path===u?.path&&a?.commits===u?.commits&&a?.headCommitId===u?.headCommitId&&a?.stagedChanges===u?.stagedChanges&&a?.unstagedChanges===u?.unstagedChanges&&a?.merges===u?.merges),(0,xe.b)(a=>{n.next(!0),this.calculate(a?.commits??[],a?.headCommitId??null,a?.merges??[])}),(0,tt.O)(null),(0,Ft.G)(),(0,xe.b)(([a,u])=>{a?.path!==u?.path&&(t.next(!0),this.viewport.scrollToIndex(u?.scrollIndex??0))}),(0,nt.g)(0),(0,xe.b)(()=>n.next(!1)),(0,we.h)(([a,u])=>a?.path!==u?.path),(0,xe.b)(([a,u])=>{t.next(!0),this.viewport.scrollToIndex(u?.scrollIndex??0)}),(0,nt.g)(0),(0,xe.b)(()=>t.next(!1)),(0,K.R)(this.destroyed$)).subscribe(),this.repository.pipe((0,tt.O)(null),(0,Ft.G)(),(0,we.h)(([a,u])=>a?.path===u?.path),(0,j.U)(([a,u])=>u?.scrollIndex),(0,we.h)(Fe.$K),(0,rt.x)(),(0,we.h)(()=>!t.value),Bt(()=>(0,ve.aj)([t,n]).pipe((0,we.h)(([a,u])=>!a&&!u),(0,ce.q)(1))),(0,xe.b)(a=>{const u=this.viewport.measureScrollOffset("top"),d=u+this.viewport.getViewportSize();this.scrolledToTop.next(u<=0),this.graphCalculatorService.isIndexInBounds(a,u,d)||(t.next(!0),this.viewport.scrollToIndex(a))}),(0,nt.g)(0),(0,xe.b)(()=>t.next(!1)),(0,K.R)(this.destroyed$)).subscribe();const i=a=>{const u=this.viewport.measureScrollOffset("top")+(a?.deltaY??0),d=`translateY(-${u}px)`;return this.graphWrapperElement.nativeElement.style.transform=d,this.floatingDatesElement.nativeElement.style.transform=d,this.scrolledToTop.next(u<=0),u};(0,mt.R)(this.graphSvgElement.nativeElement,"wheel",{passive:!0}).pipe((0,K.R)(this.destroyed$)).subscribe(a=>{const u=i(a);this.viewport.scrollTo({top:u}),this.viewport.measureScrollOffset("bottom")<=0&&i()}),(0,mt.R)(this.viewport.elementRef.nativeElement,"wheel",{passive:!1}).pipe((0,K.R)(this.destroyed$)).subscribe(a=>{a.preventDefault();const u=i(a);this.viewport.scrollTo({top:u}),this.viewport.measureScrollOffset("bottom")<=0&&i()}),this.viewport.elementScrolled().pipe((0,Mo.e)(20),(0,K.R)(this.destroyed$)).subscribe(()=>{i(),this.updateFloatingDates()});const r=new Ot.xQ;r.pipe((0,rt.x)(),(0,je.M)(this.repository),(0,K.R)(this.destroyed$)).subscribe(([a,u])=>{a&&u&&this.store.dispatch(new S._o(u.path)).subscribe(()=>{r.next(!1)})}),this.viewport.scrolledIndexChange.pipe((0,je.M)(this.repository),(0,xe.b)(([a,u])=>{this.updateVisibleCommits(),u&&!u.allCommitsLoaded&&a+Oo.W/2>u.commits.length&&r.next(!0)}),(0,we.h)(()=>!t.value),Bt(()=>(0,ve.aj)([t,n]).pipe((0,we.h)(([a,u])=>!a&&!u),(0,ce.q)(1))),(0,gt.b)(100),(0,xe.b)(([a,u])=>{null!==u&&(t.next(!0),this.store.dispatch(new S.AL(u.path,a)))}),(0,nt.g)(0),(0,xe.b)(()=>t.next(!1)),(0,K.R)(this.destroyed$)).subscribe()}ngAfterViewInit(){this.updateFloatingDates()}graphClicked(t){const n=this.getCommitFromPosition(t.offsetY);n&&this.changeCommit.next(n.id)}graphDblClicked(t){const n=this.getCommitFromPosition(t.offsetY);n&&this.commitDblClicked(this.idToCommitDetail[n.id])}graphContextMenu(t){const n=this.getCommitFromPosition(t.offsetY);n&&this.openContextMenu(t,this.idToCommitDetail[n.id])}commitDblClicked(t){(0,Oe.D)([this.repository.pipe((0,ce.q)(1)),this.getFirstBranch(t).pipe((0,ce.q)(1))]).subscribe(([n,i])=>{n&&i&&this.repositoryActionsService.checkoutBranch(n.path,i.name).subscribe()})}keyPressed(t){t.preventDefault(),(0,ve.aj)([this.repository,this.selectedCommitDetailId]).pipe((0,ce.q)(1),(0,K.R)(this.destroyed$)).subscribe(([n,i])=>{if(!n)return;const r=this.commits.findIndex(u=>u.id===i);if(-1===r)return;let a=null;switch(t.key){case"ArrowUp":if(!t.ctrlKey){r>0&&(a=this.commits[r-1].id);break}case"Home":a=this.commits[0].id;break;case"ArrowDown":if(!t.ctrlKey){r<this.commits.length-1&&(a=this.commits[r+1].id);break}case"End":a=this.commits[this.commits.length-1].id}if(a)if(a.startsWith("merge:")){const u=a.match(/^merge:([^:]+):([^:]+)$/);u&&this.store.dispatch([new Ge.hb(n.path,u[1],u[2]),new S.BK(n.path,a)])}else this.store.dispatch([new S.jQ(n.path,a),new S.BK(n.path,a)])})}drawTrail(t){const n=t.isDashed?{x:0,y:.05}:{x:0,y:0};if(t.commits.length<1)return[`M ${this.getXCoord(t.lane.xIndex+n.x)} ${this.getYCoord(t.minYIndex+n.y)}`,`V ${this.getYCoord(t.maxYIndex-.5)}`,`L ${this.getXCoord(t.lane.xIndex)} ${this.getYCoord(t.maxYIndex)}`].join(" ");const i=t.commits[0],r=t.commits[t.commits.length-1],a=r.commit.parentIds.length>0?this.idToCommitDetail[r.commit.parentIds[0]]??r:r;if(!a)throw new Error(`Could not find parent ${r.commit.parentIds[0]}`);return i.id===r.id&&r.id===a.id?"":[`M ${this.getXCoord(i.trail.lane.xIndex+n.x)} ${this.getYCoord(t.minYIndex+n.y)}`,`V ${this.getYCoord(t.maxYIndex-.5)}`,`L ${this.getXCoord(a.trail.lane.xIndex)} ${this.getYCoord(t.maxYIndex)}`].join(" ")}trackCommitDetail(t,n){return n.id}trackCommitTrail(t,n){return n.trailIndex}trackMergePath(t,n){return`${n.from.id}|${n.to.map(i=>i.id).join(";")}`}trackFloatingDate(t,n){return`${n[0]}:${n[1].id}`}updateFloatingDates(){if(this.selectedCommitDetailId.pipe((0,ce.q)(1)).subscribe(v=>{this.topCommitSelected.next(v===this.commits[0]?.id)}),this.commits.length<=1)return this.visibleDates.next([]),this.topDate.next(null),void this.scrolledToTop.next(!0);const n=Math.ceil(this.element.nativeElement.clientHeight/this.yUnit),i=this.viewport.measureScrollOffset("top");let r=Math.floor(Math.max(0,i/this.yUnit));const a=Math.min(this.commits.length-1,r+n);if(!this.commits[r])return this.visibleDates.next([]),void this.scrolledToTop.next(i<=0);for(;"head"===this.commits[r].id||this.commits[r].id.startsWith("merge:");)r++;const u=this.commits[r].time,d=[];let b=new Date(u);for(let v=r;v<a;v++){const _=new Date(this.commits[v].time);(_.getMonth()!==b.getMonth()||_.getFullYear()!==b.getFullYear())&&(b=_,d.push([v,this.commits[v]]))}this.visibleDates.next(d),this.topDate.next(u),this.scrolledToTop.next(i<=0)}updateVisibleCommits(){const i=Math.ceil((600+this.element.nativeElement.clientHeight)/this.yUnit),r=this.viewport.measureScrollOffset("top"),a=Math.floor(Math.max(0,(r-300)/this.yUnit)),u=this.graphCalculatorService.calculateVisible(this.commitDetails.value,this.commitTrails,this.mergePaths,a,a+i);this.visibleCommitDetails.next(u.commitDetails),this.visibleCommitTrails.next(u.commitTrails),this.visibleMergePaths.next(u.mergePaths),this.updateFloatingDates()}calculate(t,n,i){(0,ve.aj)([this.selectedStagedChanges,this.selectedUnstagedChanges,this.mergeHeads]).pipe((0,ce.q)(1),(0,K.R)(this.destroyed$)).subscribe(([r,a,u])=>{const b=this.graphCalculatorService.calculate(r?.patches?.length||a?.patches?.length||!n?{parentId:n,mergeHeads:u??[]}:null,i,t,this.getXCoord,this.getYCoord,this.totalColors);this.idToCommitDetail=b.commitDetails,this.commitTrails=b.commitTrails,this.mergePaths=b.mergePaths,this.commits=b.orderedCommits,this.commitDetails.next(this.commits.map(v=>b.commitDetails[v.id])),this.graphSharedService.setColors((0,Fe.Tj)(b.commitDetails,(v,_)=>this.getTrailColorIndex(_.trail))),this.graphSharedService.setCommits(this.idToCommitDetail),this.updateVisibleCommits()})}getCommitFromPosition(t){const n=this.viewport.measureScrollOffset("top"),i=Math.floor((n+t)/this.yUnit);return this.commits[i]}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(E.F0),e.Y36(Ct.aV),e.Y36(e.s_b),e.Y36(G.yh),e.Y36(ot.a),e.Y36(it),e.Y36(xo.p),e.Y36(at.$),e.Y36(bt))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-graph-view"]],viewQuery:function(t,n){if(1&t&&(e.Gf(be.N7,7),e.Gf(Ro,7),e.Gf(Zo,7),e.Gf(Eo,5),e.Gf(Io,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.viewport=i.first),e.iGM(i=e.CRH())&&(n.graphSvgElement=i.first),e.iGM(i=e.CRH())&&(n.graphWrapperElement=i.first),e.iGM(i=e.CRH())&&(n.floatingDatesElement=i.first),e.iGM(i=e.CRH())&&(n.menuTemplate=i.first)}},inputs:{repository:"repository",selectedMerge:"selectedMerge",branchOrder:"branchOrder"},outputs:{changeCommit:"changeCommit"},features:[e.qOj],decls:27,vars:25,consts:[["id","graph-view","tabindex","0",3,"keydown"],["min","15px"],[1,"graph",3,"click","dblclick","contextmenu"],["graphSvg",""],[1,"wrapper"],["graphWrapper",""],["class","selected-background","x","0","width","100%",4,"ngIf"],["class","merge-path",4,"ngFor","ngForOf","ngForTrackBy"],["class","commit-path",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"messages-grid-cell"],[1,"floating-dates"],["class","top-date",3,"scrolled-to-top","selected",4,"ngIf"],["floatingDates",""],[3,"selected","top",4,"ngFor","ngForOf","ngForTrackBy"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"selected","click","dblclick","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["contextMenu",""],["x","0","width","100%",1,"selected-background"],[1,"merge-path"],[3,"ngClass"],[1,"commit-path"],["r","5",1,"commit-circle",3,"ngClass"],[1,"top-date"],[3,"click","dblclick","contextmenu"],[3,"matTooltip","remotes","email",4,"ngIf"],["class","uncommitted-icon","matTooltip","These changes have not yet been committed to the repository",4,"ngIf"],["class","branches",4,"ngIf"],["class","summary",3,"bold",4,"ngIf"],["class","summary dimmed",4,"ngIf"],["class","summary summary-merge dimmed",4,"ngIf"],[3,"matTooltip","remotes","email"],["matTooltip","These changes have not yet been committed to the repository",1,"uncommitted-icon"],[1,"branches"],[3,"branches","color","contextMenu"],[1,"summary"],[1,"summary","dimmed"],[1,"summary","summary-merge","dimmed"],[1,"menu-panel"],[4,"ngIf"],["class","menu-item",3,"click",4,"ngIf"],["class","menu-item",3,"matTooltip","click",4,"ngIf"],["class","menu-item","matTooltip","Rewrite the commit history from this point onwards",3,"click",4,"ngIf"],["matTooltip","Create a new commit reverting the changes in this one",1,"menu-item",3,"click"],["class","menu-item","matTooltip","Delete this commit, but keep the changes in the working copy",3,"click",4,"ngIf"],[1,"menu-item",3,"click"],["svgIcon","source-branch"],["mergeToButton",""],["svgIcon","source-merge"],[1,"expand-icon"],["mergeTo",""],[1,"menu-panel","sub-menu-1"],["class","menu-item",3,"bold","matTooltip","click",4,"ngFor","ngForOf"],["class","menu-item",3,"matTooltip","click",4,"ngFor","ngForOf"],[1,"menu-item",3,"matTooltip","click"],["mergeFromButton",""],["mergeFrom",""],["mat-menu-item","","class","menu-item",3,"bold","matTooltip","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"menu-item",3,"matTooltip","click"],["moveBranchButton",""],["moveBranch",""],["matTooltip","Rewrite the commit history from this point onwards",1,"menu-item",3,"click"],["matTooltip","Delete this commit, but keep the changes in the working copy",1,"menu-item",3,"click"],[1,"menu-item"]],template:function(t,n){1&t&&(e.TgZ(0,"app-grid",0),e.NdJ("keydown",function(r){return n.keyPressed(r)}),e.TgZ(1,"app-grid-cell",1),e.O4$(),e.TgZ(2,"svg",2,3),e.NdJ("click",function(r){return n.graphClicked(r)})("dblclick",function(r){return n.graphDblClicked(r)})("contextmenu",function(r){return n.graphContextMenu(r)}),e.TgZ(4,"g",4,5),e.YNc(6,Fo,1,2,"rect",6),e.ALo(7,"async"),e.YNc(8,Bo,2,4,"g",7),e.ALo(9,"async"),e.YNc(10,Lo,2,4,"g",8),e.ALo(11,"async"),e.YNc(12,Uo,2,5,"g",9),e.ALo(13,"async"),e.qZA()()(),e.kcU(),e.TgZ(14,"app-grid-cell",10)(15,"div",11),e.YNc(16,Vo,5,12,"div",12),e.ALo(17,"async"),e.TgZ(18,"ul",null,13),e.YNc(20,Do,4,10,"li",14),e.ALo(21,"async"),e.qZA()(),e.TgZ(22,"cdk-virtual-scroll-viewport",15)(23,"ul",16),e.YNc(24,jo,10,14,"li",17),e.qZA()()()(),e.YNc(25,hi,3,2,"ng-template",null,18,e.W1O)),2&t&&(e.xp6(6),e.Q6J("ngIf",n.idToCommitDetail[e.lcZ(7,13,n.selectedCommitDetailId)||""]),e.xp6(2),e.Q6J("ngForOf",e.lcZ(9,15,n.visibleMergePaths))("ngForTrackBy",n.trackMergePath),e.xp6(2),e.Q6J("ngForOf",e.lcZ(11,17,n.visibleCommitTrails))("ngForTrackBy",n.trackCommitTrail),e.xp6(2),e.Q6J("ngForOf",e.lcZ(13,19,n.visibleCommitDetails))("ngForTrackBy",n.trackCommitDetail),e.xp6(4),e.Q6J("ngIf",e.lcZ(17,21,n.topDate)),e.xp6(4),e.Q6J("ngForOf",e.lcZ(21,23,n.visibleDates))("ngForTrackBy",n.trackFloatingDate),e.xp6(2),e.Q6J("itemSize",n.yUnit),e.xp6(2),e.Q6J("cdkVirtualForOf",n.commitDetails)("cdkVirtualForTrackBy",n.trackCommitDetail))},dependencies:[be.xd,be.x0,be.N7,te.mk,te.sg,te.O5,Ue.Hw,Ve.gM,Zt.A,ut.Y,st.M,T.OP,No,te.Ov,te.uU,lt.x,Mt.r],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%}app-grid[_ngcontent-%COMP%]{outline:none}.graph[_ngcontent-%COMP%]{display:block;width:100%;height:100%;cursor:pointer}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:10}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:20}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .commit-circle[_ngcontent-%COMP%]{stroke:#000;stroke-width:1.5;z-index:30}.graph[_ngcontent-%COMP%]   .commit-circle.color-0[_ngcontent-%COMP%]{fill:#4363d8}.graph[_ngcontent-%COMP%]   .commit-circle.color-1[_ngcontent-%COMP%]{fill:#469990}.graph[_ngcontent-%COMP%]   .commit-circle.color-2[_ngcontent-%COMP%]{fill:#fabed4}.graph[_ngcontent-%COMP%]   .commit-circle.color-3[_ngcontent-%COMP%]{fill:#e6194b}.graph[_ngcontent-%COMP%]   .commit-circle.color-4[_ngcontent-%COMP%]{fill:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-circle.color-5[_ngcontent-%COMP%]{fill:#f58231}.graph[_ngcontent-%COMP%]   .commit-circle.color-6[_ngcontent-%COMP%]{fill:#ffe119}.graph[_ngcontent-%COMP%]   .commit-circle.color-7[_ngcontent-%COMP%]{fill:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-circle.color-8[_ngcontent-%COMP%]{fill:#f032e6}.graph[_ngcontent-%COMP%]   .commit-circle.color-9[_ngcontent-%COMP%]{fill:#fff}.graph[_ngcontent-%COMP%]   .commit-circle.color-10[_ngcontent-%COMP%]{fill:maroon}.graph[_ngcontent-%COMP%]   .commit-circle.color-11[_ngcontent-%COMP%]{fill:#9a6324}.graph[_ngcontent-%COMP%]   .commit-circle.color-12[_ngcontent-%COMP%]{fill:#fffac8}.graph[_ngcontent-%COMP%]   .commit-circle.color-13[_ngcontent-%COMP%]{fill:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-circle.color-14[_ngcontent-%COMP%]{fill:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-circle.dashed[_ngcontent-%COMP%]{fill:none;stroke:#ffffff80}.graph[_ngcontent-%COMP%]   .selected-background[_ngcontent-%COMP%]{fill:#424242}.viewport[_ngcontent-%COMP%]{height:100%}.messages-grid-cell[_ngcontent-%COMP%]{contain:strict}.messages-viewport[_ngcontent-%COMP%]{overflow-y:scroll;contain:unset}.messages-viewport[_ngcontent-%COMP%]  .cdk-virtual-scroll-content-wrapper{contain:layout}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:26px;line-height:26px;padding-left:5px;padding-right:130px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{display:inline-block;height:26px;vertical-align:middle;font-size:14px;margin-right:10px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:14px;vertical-align:middle}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary.bold[_ngcontent-%COMP%]{font-weight:600}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary.dimmed[_ngcontent-%COMP%]{color:#ffffff80}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .uncommitted-icon[_ngcontent-%COMP%]{margin-right:5px;color:#ffffff80}@property --bgColor{syntax: "<color>"; initial-value: transparent; inherits: false;}.floating-dates[_ngcontent-%COMP%]{position:absolute;top:0;right:12px;font-size:14px;pointer-events:none;overflow:hidden;height:100%;width:100%}.floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;right:0;padding-left:30px;padding-right:10px;height:26px;line-height:26px;white-space:nowrap;color:#78909c;background:linear-gradient(to right,transparent,var(--bgColor) 25px,var(--bgColor));--bgColor: #1e1e1e}.floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%]{z-index:200}.floating-dates[_ngcontent-%COMP%]   .top-date.selected[_ngcontent-%COMP%]:not(.scrolled-to-top){transition:--bgColor .3s ease-in-out}.floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.floating-dates[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{z-index:100;position:absolute;width:100%}.floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:MontserratVariable;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}'],changeDetection:0}),o})();var ct=l(537);const Ci=["conflictsList"];function bi(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().ngIf,r=e.oxw();return e.KtG(r.changeCommit(i.baseCommitId))}),e.TgZ(2,"span",13),e._uU(3,"Base:"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().ngIf,r=e.oxw();return e.KtG(r.changeCommit(i.toCommitId))}),e.TgZ(6,"span",13),e._uU(7,"Current:"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"div",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().ngIf,r=e.oxw();return e.KtG(r.changeCommit(i.fromCommitId))}),e.TgZ(10,"span",13),e._uU(11,"Incoming:"),e.qZA(),e._uU(12),e.qZA()()}if(2&o){const t=c.ngIf,n=e.oxw().ngIf;e.xp6(1),e.Q6J("ngClass","color-"+t[n.baseCommitId])("matTooltip",n.baseCommitId),e.xp6(3),e.hij(" ",n.baseCommitId," "),e.xp6(1),e.Q6J("ngClass","color-"+t[n.toCommitId])("matTooltip",n.toCommitId),e.xp6(3),e.hij(" ",n.toCommitId," "),e.xp6(1),e.Q6J("ngClass","color-"+t[n.fromCommitId])("matTooltip",n.fromCommitId),e.xp6(3),e.hij(" ",n.fromCommitId," ")}}function Pi(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",24)(1,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.resolveSelectedConflicts("to"))}),e.ALo(2,"async"),e._uU(3,"Use 'current'"),e.qZA(),e.TgZ(4,"button",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(4);return e.KtG(i.resolveSelectedConflicts("from"))}),e.ALo(5,"async"),e._uU(6,"Use 'incoming'"),e.qZA()()}if(2&o){const t=c.ngIf,n=e.oxw(3).ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngClass","color-"+t[n.toCommitId])("disabled","check_box_outline_blank"===e.lcZ(2,4,i.conflictCheckboxIcon)),e.xp6(3),e.Q6J("ngClass","color-"+t[n.fromCommitId])("disabled","check_box_outline_blank"===e.lcZ(5,6,i.conflictCheckboxIcon))}}function Mi(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"mat-list-option",27)(1,"div",28),e.NdJ("click",function(i){const a=e.CHM(t).$implicit;return e.oxw(4).selectFile(a),e.KtG(i.stopPropagation())}),e.TgZ(2,"mat-icon",29),e._uU(3),e.qZA(),e._UZ(4,"app-condensed-path",30),e.qZA()()}if(2&o){const t=c.$implicit,n=e.oxw(4);e.Q6J("value",t),e.xp6(1),e.ekj("selected",n.isPatchSelected(t)),e.xp6(1),e.Q6J("ngClass",n.getPatchIconColorClass(t)),e.xp6(1),e.Oqu(n.getPatchIcon(t)),e.xp6(1),e.Q6J("path",n.getPatchPath(t))}}function Oi(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"mat-card",17)(1,"div",18),e.YNc(2,Pi,7,8,"div",19),e.ALo(3,"async"),e.TgZ(4,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.clickAllConflictsCheckbox())}),e.ALo(5,"async"),e.TgZ(6,"mat-icon"),e._uU(7),e.ALo(8,"async"),e.qZA()()(),e.TgZ(9,"mat-selection-list",21,22),e.NdJ("selectionChange",function(i){e.CHM(t);const r=e.oxw(3);return e.KtG(r.conflictSelectionChanged(i))}),e.YNc(11,Mi,5,6,"mat-list-option",23),e.qZA()()}if(2&o){const t=e.oxw().ngIf,n=e.oxw(2);e.xp6(2),e.Q6J("ngIf",e.lcZ(3,5,n.graphColors)),e.xp6(2),e.s9C("matTooltip","check_box_outline_blank"===e.lcZ(5,7,n.conflictCheckboxIcon)?"Select all":"Deselect all"),e.xp6(3),e.Oqu(e.lcZ(8,9,n.conflictCheckboxIcon)),e.xp6(4),e.Q6J("ngForOf",t)("ngForTrackBy",n.trackByPatch)}}function xi(o,c){if(1&o&&(e.ynx(0),e.YNc(1,Oi,12,11,"mat-card",16),e.BQk()),2&o){const t=c.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function vi(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.selectFile(r))}),e.TgZ(1,"mat-icon",29),e._uU(2),e.qZA(),e._UZ(3,"app-condensed-path",30),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(2);e.ekj("selected",n.isPatchSelected(t)),e.xp6(1),e.Q6J("ngClass",n.getPatchIconColorClass(t)),e.xp6(1),e.Oqu(n.getPatchIcon(t)),e.xp6(1),e.Q6J("path",n.getPatchPath(t))}}function yi(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"header",1),e.YNc(2,bi,13,9,"div",2),e.ALo(3,"async"),e.TgZ(4,"button",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.discardMerge())}),e._uU(5,"Discard merge"),e.qZA()(),e.YNc(6,xi,2,1,"ng-container",0),e.ALo(7,"async"),e.TgZ(8,"mat-card",4)(9,"ul",5),e.YNc(10,vi,4,5,"li",6),e.ALo(11,"async"),e.qZA()(),e.TgZ(12,"mat-card",7)(13,"mat-form-field",8)(14,"mat-label"),e._uU(15,"Commit Message"),e.qZA(),e._UZ(16,"textarea",9),e.qZA(),e.TgZ(17,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.commitChanges())}),e._uU(18,"Commit merge"),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,6,t.graphColors)),e.xp6(4),e.Q6J("ngIf",e.lcZ(7,8,t.conflictedPatches)),e.xp6(4),e.Q6J("ngForOf",e.lcZ(11,10,t.normalPatches))("ngForTrackBy",t.trackByPatch),e.xp6(6),e.Q6J("formControl",t.commitMessageControl),e.xp6(1),e.Q6J("disabled",!1)}}let wi=(()=>{class o extends((0,Ee.j)(Te.A)){constructor(t,n,i,r,a){super(),this.store=t,this.repositoriesApi=n,this.commitDetailService=i,this.graphSharedService=r,this.repositoryActionsService=a,this.conflictCheckboxIcon=new V.X("check_box_outline_blank"),this.commitMessageControl=new z.NI(null),this.trackByPatch=(u,d)=>`${d.oldFilePath}|${d.newFilePath}|${d.status}`,this.isPatchSelected=u=>{},this.getPatchPath=u=>this.commitDetailService.getPatchPath(u),this.getPatchIcon=u=>this.commitDetailService.getPatchIcon(u),this.getPatchIconColorClass=u=>this.commitDetailService.getPatchIconColorClass(u)}ngOnInit(){this.conflictedPatches=this.merge.pipe((0,we.h)(Fe.Nf),(0,j.U)(t=>t.mergeDiff.patches.filter(n=>n.status===pt.v.Conflicted))),this.normalPatches=this.merge.pipe((0,we.h)(Fe.Nf),(0,j.U)(t=>t.mergeDiff.patches.filter(n=>n.status!==pt.v.Conflicted))),this.merge.pipe((0,we.h)(Fe.Nf),(0,K.R)(this.destroyed$)).subscribe(t=>{this.commitMessageControl.setValue(t.message,{emitEvent:!1})}),this.graphColors=this.graphSharedService.getColors()}changeCommit(t){const n=this.store.selectSnapshot(D.E.selectedRepositoryPath);n&&this.store.dispatch(new S.jQ(n,t))}discardMerge(){const t=this.store.selectSnapshot(D.E.selectedRepositoryPath);this.merge.pipe((0,ce.q)(1)).subscribe(n=>{t&&n&&this.repositoriesApi.deleteMerge(t,n.fromCommitId,n.toCommitId).subscribe(()=>{this.store.dispatch([new Ge.hb(t,null,null),new S.Vu(t,[S.nh.commits,S.nh.mergeHeads,S.nh.merges,S.nh.stagedChanges,S.nh.submodules,S.nh.unstagedChanges,S.nh.workingCopyMergeChanges])])})})}conflictSelectionChanged(t){this.conflictCheckboxIcon.next(t.source.options.length===t.source.selectedOptions.selected.length?"check_box":0===t.source.selectedOptions.selected.length?"check_box_outline_blank":"indeterminate_check_box")}clickAllConflictsCheckbox(){switch(this.conflictCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.matSelectionList.deselectAll(),this.conflictCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":this.matSelectionList.selectAll(),this.conflictCheckboxIcon.next("check_box")}}resolveSelectedConflicts(t){const n=this.matSelectionList.selectedOptions.selected.map(i=>i.value);!n.length||this.merge.pipe((0,ce.q)(1)).subscribe(i=>{const r=this.store.selectSnapshot(D.E.selectedRepositoryPath),a="head"===this.store.selectSnapshot(D.E.selectedCommitId);if(r&&i){const u=("from"===t?i.fromDiff.patches:i.toDiff.patches).filter(d=>d.newFilePath&&n.some(b=>b.newFilePath===d.newFilePath)).map(d=>(d.newFileId?this.repositoriesApi.getFile(r,d.newFileId):(0,Q.of)(null)).pipe((0,j.U)(b=>[d.newFilePath,b??""])));(0,Oe.D)(u).pipe((0,ie.w)(d=>this.repositoriesApi.updateMergeMultiple(r,i.fromCommitId,i.toCommitId,d,a)),(0,ct.x)(()=>{this.store.dispatch(new S.Vu(r,[S.nh.stagedChanges,S.nh.submodules,S.nh.unstagedChanges,S.nh.workingCopyMergeChanges]))})).subscribe()}})}launchExternalTool(t){}commitChanges(){const t=this.store.selectSnapshot(D.E.selectedRepositoryPath),n=this.store.selectSnapshot(D.E.selectedCommitId);this.merge.pipe((0,ce.q)(1)).subscribe(i=>{t&&i&&this.repositoryActionsService.commitMerge(t,i.fromCommitId,i.toBranch,this.commitMessageControl.value??"","head"===n).subscribe()})}selectFile(t){const n=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(n){const i=this.store.selectSnapshot(D.E.selectedFile);this.store.dispatch(new S.gt(n,i?.oldFilePath===t.oldFilePath&&i?.newFilePath===t.newFilePath?null:{area:"commit",oldFilePath:t.oldFilePath,newFilePath:t.newFilePath}))}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(G.yh),e.Y36(ot.a),e.Y36(Pt.d),e.Y36(bt),e.Y36(it))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-merge-detail-view"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ci,5),2&t){let i;e.iGM(i=e.CRH())&&(n.matSelectionList=i.first)}},inputs:{merge:"merge"},features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"merge-info"],["class","commit-ids",4,"ngIf"],["type","button","mat-button","","color","warn","matTooltip","All changes will be lost!",1,"discard",3,"click"],[1,"normal-files"],[1,"list"],["class","item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"commit-message"],[1,"description"],["matInput","","placeholder","Enter a description...",3,"formControl"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],[1,"commit-ids"],[1,"base-commit",3,"ngClass","matTooltip","click"],[1,"title"],[1,"to-commit",3,"ngClass","matTooltip","click"],[1,"from-commit",3,"ngClass","matTooltip","click"],["class","conflicted-files",4,"ngIf"],[1,"conflicted-files"],[1,"header-buttons"],["class","resolve-buttons",4,"ngIf"],["type","button","mat-icon-button","",1,"checkbox-button",3,"matTooltip","click"],[1,"list",3,"selectionChange"],["conflictsList",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"resolve-buttons"],["type","button","mat-button","","matTooltip","Resolve conflicts using the changes in the 'current' commit",3,"ngClass","disabled","click"],["type","button","mat-button","","matTooltip","Resolve conflicts using the changes in the 'incoming' commit",3,"ngClass","disabled","click"],[3,"value"],[1,"item",3,"click"],["inline","",3,"ngClass"],[1,"name",3,"path"]],template:function(t,n){1&t&&(e.YNc(0,yi,19,12,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,n.merge))},dependencies:[te.mk,te.sg,te.O5,z.Fj,z.JJ,z.oH,Qe.lW,g.a8,Ue.Hw,Ve.gM,ft.j,w.KE,w.hX,O.Nt,J.Ub,J.vS,te.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%}.merge-info[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px;text-align:center}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex:0 0 auto;overflow:auto;font-weight:600}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit[_ngcontent-%COMP%]{min-width:60px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;padding-right:10px}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-0[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-0[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-0[_ngcontent-%COMP%]{color:#4363d8}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-1[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-1[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-1[_ngcontent-%COMP%]{color:#469990}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-2[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-2[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-2[_ngcontent-%COMP%]{color:#fabed4}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-3[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-3[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-3[_ngcontent-%COMP%]{color:#e6194b}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-4[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-4[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-4[_ngcontent-%COMP%]{color:#42d4f4}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-5[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-5[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-5[_ngcontent-%COMP%]{color:#f58231}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-6[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-6[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-6[_ngcontent-%COMP%]{color:#ffe119}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-7[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-7[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-7[_ngcontent-%COMP%]{color:#3cb44b}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-8[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-8[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-8[_ngcontent-%COMP%]{color:#f032e6}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-9[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-9[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-9[_ngcontent-%COMP%]{color:#fff}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-10[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-10[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-10[_ngcontent-%COMP%]{color:maroon}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-11[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-11[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-11[_ngcontent-%COMP%]{color:#9a6324}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-12[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-12[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-12[_ngcontent-%COMP%]{color:#fffac8}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-13[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-13[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-13[_ngcontent-%COMP%]{color:#aaffc3}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-14[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-14[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-14[_ngcontent-%COMP%]{color:#dcbeff}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit[_ngcontent-%COMP%]{padding-right:0}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.merge-info[_ngcontent-%COMP%]   .discard[_ngcontent-%COMP%]{margin:5px 0;width:100%}.conflicted-files[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]{flex:1 1 auto;margin:10px 10px 0;white-space:nowrap;overflow:auto;min-height:120px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{position:relative;height:40px;line-height:40px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:40px;margin-right:32px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-0, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-0{color:#4363d8}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-1, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-1{color:#469990}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-2, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-2{color:#fabed4}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-3, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-3{color:#e6194b}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-4, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-4{color:#42d4f4}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-5, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-5{color:#f58231}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-6, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-6{color:#ffe119}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-7, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-7{color:#3cb44b}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-8, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-8{color:#f032e6}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-9, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-9{color:#fff}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-10, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-10{color:maroon}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-11, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-11{color:#9a6324}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-12, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-12{color:#fffac8}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-13, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-13{color:#aaffc3}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-14, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-14{color:#dcbeff}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;right:-12px}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;margin-top:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;height:24px;line-height:24px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#ef5350}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%]{color:#7c8bff}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{background-color:#616161}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%]{opacity:1}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:0;opacity:0;transition:.2s ease-in-out opacity;font-size:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:24px;width:24px;line-height:24px;margin-left:5px;font-size:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.conflicted-files[_ngcontent-%COMP%]{margin-top:0}.conflicted-files[_ngcontent-%COMP%]   mat-selection-list[_ngcontent-%COMP%]{padding-top:0}.conflicted-files[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]{font-size:14px;height:24px}.normal-files[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:0 16px}.commit-message[_ngcontent-%COMP%]{flex:0 0 auto;margin:10px}.commit-message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit-message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px;max-height:100px}.commit-message[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),o})();var Ut=l(9578),ht=l(7717),_t=l(5143),Vt=l(1307);let Dt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],decls:11,vars:2,consts:[["mat-dialog-title",""],[1,"warning-icon"],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Resolve Merge"),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"mat-icon",1),e._uU(4,"warning"),e.qZA(),e._uU(5," Warning: there are still outstanding conflicts, are you sure you want to resolve? "),e.qZA(),e.TgZ(6,"mat-dialog-actions")(7,"button",2),e._uU(8,"Cancel"),e.qZA(),e.TgZ(9,"button",3),e._uU(10,"Confirm"),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("mat-dialog-close",void 0),e.xp6(2),e.Q6J("mat-dialog-close",!0))},dependencies:[C.ZT,C.uh,C.xY,C.H8,Qe.lW,Ue.Hw],styles:[".warning-icon[_ngcontent-%COMP%]{margin-right:5px}"],changeDetection:0}),o})();const Gt=/(^<<<<<<<.*$)\r?\n(?:([^]*?)\r?\n)??(^=======.*$)\r?\n(?:([^]*?)\r?\n)??(^>>>>>>>.*$)/gm;var Jt=l(127),Qt=l(315),$t=l(1264);const Ti=["baseScrollContainer"],ki=["yoursScrollContainer"],Ai=["theirsScrollContainer"];function Si(o,c){1&o&&(e.TgZ(0,"main"),e._uU(1,"Loading..."),e.qZA())}function Ni(o,c){1&o&&(e.TgZ(0,"main"),e._uU(1,"Cannot load binary file."),e.qZA())}function Ri(o,c){1&o&&(e.TgZ(0,"main"),e._uU(1,"Cannot load file."),e.qZA())}function Zi(o,c){if(1&o&&(e.TgZ(0,"span",24),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function Ei(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"span",22),e._uU(2),e.qZA(),e.YNc(3,Zi,2,2,"span",23),e.ALo(4,"tokens"),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.baseLine?null:t.baseLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.baseLine?null:t.baseLine.tokens,t.baseLine.text))}}const xt=function(o,c){return[o,c]};function Ii(o,c){if(1&o&&(e.TgZ(0,"li",21),e.YNc(1,Ei,5,5,"ng-container",0),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",e.WLB(2,xt,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",t.baseLine)}}function Fi(o,c){if(1&o&&(e.TgZ(0,"span",24),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function Bi(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"span",22),e._uU(2),e.qZA(),e.YNc(3,Fi,2,2,"span",23),e.ALo(4,"tokens"),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.yoursLine?null:t.yoursLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.yoursLine?null:t.yoursLine.tokens,t.yoursLine.text))}}function Li(o,c){if(1&o&&(e.TgZ(0,"li",21),e.YNc(1,Bi,5,5,"ng-container",0),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",e.WLB(2,xt,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",t.yoursLine)}}function Ui(o,c){if(1&o&&(e.TgZ(0,"span",24),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function Vi(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"span",22),e._uU(2),e.qZA(),e.YNc(3,Ui,2,2,"span",23),e.ALo(4,"tokens"),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.theirsLine?null:t.theirsLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.theirsLine?null:t.theirsLine.tokens,t.theirsLine.text))}}function Di(o,c){if(1&o&&(e.TgZ(0,"li",21),e.YNc(1,Vi,5,5,"ng-container",0),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",e.WLB(2,xt,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",t.theirsLine)}}const Gi=function(){return{diffCodeLens:!0,readOnly:!1,renderSideBySide:!1,theme:"vs-dark"}};function Ji(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"ngx-monaco-diff-editor",25),e.NdJ("init",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.monacoInit(i))}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()}if(2&o){const t=c.ngIf,n=e.oxw();let i,r,a;e.Q6J("options",e.DdM(11,Gi))("original",null!==(i=e.lcZ(1,5,n.yoursText))&&void 0!==i?i:"Loading...")("modified",t)("originalUri",null!==(r=e.lcZ(2,7,n.yoursUri))&&void 0!==r?r:void 0)("modifiedUri",null!==(a=e.lcZ(3,9,n.mergeUri))&&void 0!==a?a:void 0)}}let Qi=(()=>{class o extends((0,Ee.j)(Te.A,dt.P)){constructor(t,n,i,r,a,u,d){super(),this.elementRef=t,this.zone=n,this.dialog=i,this.store=r,this.highlightApi=a,this.repositoriesApi=u,this.diffService=d,this.closed=new e.vpe,this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$=new V.X([]),this.mergeText=new V.X("Loading..."),this.yoursText=new V.X("Loading..."),this.mergeUri=new V.X(void 0),this.yoursUri=new V.X(void 0),this.monacoEditor=new V.X(null),this.monacoDecorationIds=[],this.monacoCodeLensProviders=[],this.currentView=new V.X("loading"),this.conflicts=[],this.currentConflictIndex=-1,this.monacoInit=b=>{this.monacoEditor.next(b)},this.gridResized=()=>{this.baseScrollContainer?.checkViewportSize(),this.yoursScrollContainer?.checkViewportSize(),this.theirsScrollContainer?.checkViewportSize()},this.trackByMergeDiffLine=(b,v)=>b,this.jumpToNextConflict=()=>{this.currentConflictIndex=this.currentConflictIndex+1<this.conflicts.length?this.currentConflictIndex+1:0,this.jumpToConflict()},this.jumpToPreviousConflict=()=>{this.currentConflictIndex=this.currentConflictIndex-1>=0?this.currentConflictIndex-1:this.conflicts.length-1,this.jumpToConflict()}}ngOnInit(){this.destroyed$.subscribe(()=>{this.monacoCodeLensProviders.forEach(t=>{t.dispose()}),this.monacoCodeLensProviders=[]}),(0,ve.aj)([this.monacoEditor.pipe((0,we.h)(Fe.$K)),this.mergeText]).pipe((0,K.R)(this.destroyed$)).subscribe(([t,n])=>{this.monacoCodeLensProviders.forEach(a=>{a.dispose()}),this.monacoCodeLensProviders=[];const i=t.getModifiedEditor(),r=window.monaco.languages;r.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,diagnosticCodesToIgnore:[1185]}),r.getLanguages().forEach(a=>{this.monacoCodeLensProviders.push(r.registerCodeLensProvider(a.id,{resolveCodeLens:(u,d,b)=>d,provideCodeLenses:(u,d)=>{this.conflicts=this.processConflicts(u.getValue());const b=i.getPosition();return this.currentConflictIndex=b?this.conflicts.findIndex(_=>_.range.startLineNumber<=b.lineNumber&&_.range.endLineNumber>=b.lineNumber):-1,this.monacoDecorationIds=i.deltaDecorations(this.monacoDecorationIds,this.conflicts.flatMap(_=>_.decorations))??[],{lenses:this.conflicts.flatMap(_=>[{range:new window.monaco.Range(_.range.startLineNumber,1,_.range.startLineNumber+1,1),command:{id:i.addCommand(0,()=>{t.getModel()?.modified.pushEditOperations([],[{range:_.range,text:_.ours}],()=>[])}),title:"Use Current"}},{range:new window.monaco.Range(_.range.startLineNumber,1,_.range.startLineNumber+1,1),command:{id:i.addCommand(0,()=>{t.getModel()?.modified.pushEditOperations([],[{range:_.range,text:_.theirs}],()=>[])}),title:"Use Incoming"}},{range:new window.monaco.Range(_.range.startLineNumber,1,_.range.startLineNumber+1,1),command:{id:i.addCommand(0,()=>{t.getModel()?.modified.pushEditOperations([],[{range:_.range,text:`${_.ours}\n${_.theirs}`}],()=>[])}),title:"Use Both"}}]),dispose:()=>{}}}}))})}),this.patch.pipe((0,rt.x)((t,n)=>{if(!t||!n)return!t&&!n;if(t.repositoryPath!==n.repositoryPath)return!1;const i=(u,d)=>u?.newFileId!==d?.newFileId||u?.newFileIsDir!==d?.newFileIsDir||u?.newFileIsSubmodule!==d?.newFileIsSubmodule||u?.newFilePath!==d?.newFilePath||u?.oldFileId!==d?.oldFileId||u?.oldFileIsDir!==d?.oldFileIsDir||u?.oldFileIsSubmodule!==d?.oldFileIsSubmodule||u?.oldFilePath!==d?.oldFilePath||u?.status!==d?.status||u?.hunks.length!==d?.hunks.length,r=["fromPatch","toPatch","mergePatch"];for(const u of r)if(i(t[u],n[u]))return!1;const a=(u,d)=>(0,ht.Z)(u,d).some(([b,v])=>b?.lines.length!==v?.lines.length||b?.newStart!==v?.newStart||b?.oldStart!==v?.oldStart||b?.header!==v?.header||b&&v&&(0,ht.Z)(b.lines,v.lines).some(([_,A])=>_?.content.length!==A?.content.length||_?.contentOffset!==A?.contentOffset||_?.newLineNo!==A?.newLineNo||_?.oldLineNo!==A?.oldLineNo||_?.origin!==A?.origin||_?.content!==A?.content));for(const u of r){const d=t[u],b=n[u];if(d&&d.hunks&&b&&b.hunks&&a(d.hunks,b.hunks))return!1}return!0}),(0,xe.b)(()=>{this.currentView.next("loading")}),(0,ie.w)(t=>t?(0,Oe.D)(this.getLines(t)).pipe((0,K.R)(this.currentView.pipe((0,Vt.T)(1),(0,we.h)(n=>"loading"===n))),(0,j.U)(n=>[t,...n]),(0,Ne.K)(n=>_e.OZ.matches(n)?(this.currentView.next("binary-file"),(0,Q.of)(null)):_e.hK.matches(n)?(this.currentView.next("error"),(0,Q.of)(null)):(0,pe._)(n))):(0,Q.of)(null)),(0,K.R)(this.destroyed$)).subscribe(t=>{if(t){const[n,i,r,a,u,d]=t;this.monacoEditor.pipe((0,we.h)(Fe.$K),(0,ce.q)(1)).subscribe(()=>{this.mergeText.next(u??""),this.mergeUri.next(monaco.Uri.file(`file://modified/${n.mergePatch?.newFilePath??"a.txt"}`)),this.yoursText.next(d??""),this.yoursUri.next(monaco.Uri.file(`file://original/${n.toPatch?.newFilePath??"a.txt"}`))}),this.baseLineNumberMargin=this.diffService.calculateMargin(i?.length.toString().length??1,!0),this.yoursLineNumberMargin=this.diffService.calculateMargin(r?.length.toString().length??1,!0),this.theirsLineNumberMargin=this.diffService.calculateMargin(a?.length.toString().length??1,!0),this.diffService.calculateMergeLines(i??[],r??[],a??[],n.toPatch?.hunks??[],n.fromPatch?.hunks??[]).pipe((0,K.R)(this.destroyed$)).subscribe(b=>{this.lines$.next(b)}),this.currentView.next("normal")}else this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$.next([]),this.mergeText.next("Error!"),this.mergeUri.next(void 0),this.yoursText.next("Error!"),this.yoursUri.next(void 0);this.baseScrollContainer?.scrollTo({top:0,left:0}),this.yoursScrollContainer?.scrollTo({top:0,left:0}),this.theirsScrollContainer?.scrollTo({top:0,left:0}),this.monacoEditor.value?.getModifiedEditor().setScrollTop(0),this.monacoEditor.value?.getModifiedEditor().setScrollLeft(0),setTimeout(()=>this.gridResized(),0)}),this.zone.runOutsideAngular(()=>{const t=[this.baseScrollContainer,this.yoursScrollContainer,this.theirsScrollContainer],n=[!1,!1,!1];t.forEach((a,u)=>{(0,mt.R)(a.elementRef.nativeElement,"wheel",{passive:!1}).pipe((0,K.R)(this.destroyed$)).subscribe(d=>{d.preventDefault();const b=a.measureScrollOffset("left")+d.deltaX,v=a.measureScrollOffset("top")+d.deltaY;for(const _ of t)_.scrollTo({left:b,top:v})}),a.elementScrolled().pipe((0,we.h)(()=>n.every((d,b)=>!d||b===u)),(0,xe.b)(()=>{n[u]=!0;const d=a.measureScrollOffset("left"),b=a.measureScrollOffset("top");t.forEach((v,_)=>{_!==u&&v.scrollTo({left:d,top:b})})}),(0,gt.b)(100),(0,K.R)(this.destroyed$)).subscribe(()=>{this.gridResized(),n[u]=!1})});const i=new Ot.xQ,r=new ResizeObserver(()=>i.next());r.observe(this.elementRef.nativeElement),this.destroyed$.subscribe(()=>r.disconnect()),i.pipe((0,Ye.p)(20,void 0,{leading:!0,trailing:!0}),(0,K.R)(this.destroyed$)).subscribe(()=>{this.gridResized()}),setTimeout(()=>{this.gridResized()},100)})}resolveMerge(t){this.patch.pipe((0,ce.q)(1)).subscribe(n=>{const i=n?.repositoryPath;if(!i)throw new Error("Cannot update merge if no repository is selected");const r=n.mergePatch?.newFilePath;if(!r)throw new Error("Couldn't find file path");let a;switch(t){case"from":a=n.fromPatch?.newFileId?this.repositoriesApi.getFile(i,n.fromPatch?.newFileId):(0,Q.of)(null);break;case"to":a=n.toPatch?.newFileId?this.repositoriesApi.getFile(i,n.toPatch?.newFileId):(0,Q.of)(null);break;case"merge":a=this.conflicts.length>0?this.dialog.open(Dt).afterClosed().pipe((0,ie.w)(d=>d?(0,Q.of)(this.monacoEditor.value?.getModifiedEditor().getValue()??null):Ie.E)):(0,Q.of)(this.monacoEditor.value?.getModifiedEditor().getValue()??null);break;default:throw new Error(`Unrecognized value ${t}`)}a.subscribe(u=>{const d=this.store.selectSnapshot(D.E.selectedCommitId);this.repositoriesApi.updateMerge(i,n.fromCommitId,n.toCommitId,r,u??"","head"===d).subscribe(()=>{this.closed.next(),this.store.dispatch(new S.Vu(i,[S.nh.stagedChanges,S.nh.submodules,S.nh.unstagedChanges,S.nh.workingCopyMergeChanges]))})})})}jumpToConflict(){const t=this.conflicts[this.currentConflictIndex];this.monacoEditor.value?.revealRangeAtTop(t.range);const n=t.theirs.split("\n"),i=t.ours.split("\n"),r=Math.max(n.length,i.length),a=this.lines$.value,u=d=>{if(d+r>a.length)return!1;const b=a.slice(d).map(_=>_.theirsLine?.text).filter(Fe.$K);for(let _=0;_<n.length;_++)if(b[_]!==n[_])return!1;const v=a.slice(d).map(_=>_.yoursLine?.text).filter(Fe.$K);for(let _=0;_<i.length;_++)if(v[_]!==i[_])return!1;return!0};for(let d=0;d<a.length;d++)if(u(d)){this.baseScrollContainer?.scrollToIndex(d);break}}getLines(t){const n=t.repositoryPath;let i=null,r=null,a=null,u=null,d=null;const b=t.toPatch;if(b)if(b.oldFileIsSubmodule||b.newFileIsSubmodule){const A=b.hunks[0].lines.find(H=>H.oldLineNo>0),R=b.hunks[0].lines.find(H=>H.newLineNo>0);i=(0,Q.of)([{lineNumber:1,text:A?.content??"",tokens:[{startIndex:0,endIndex:A?.content.length??0,scopes:["normal"]}]}]),r=(0,Q.of)([{lineNumber:1,text:R?.content??"",tokens:[{startIndex:0,endIndex:R?.content.length??0,scopes:["normal"]}]}])}else i=b.oldFileId?this.highlightApi.getHighlightedFile(n,b.oldFileId,b.oldFilePath,!0):null,r=b.newFileId?this.highlightApi.getHighlightedFile(n,b.newFileId,b.newFilePath,!0):null;const v=t.fromPatch;if(v)if(v.oldFileIsSubmodule||v.newFileIsSubmodule){if(!i){const R=v.hunks[0].lines.find(H=>H.oldLineNo>0);i=(0,Q.of)([{lineNumber:1,text:R?.content??"",tokens:[{startIndex:0,endIndex:R?.content.length??0,scopes:["normal"]}]}])}const A=v.hunks[0].lines.find(R=>R.newLineNo>0);a=(0,Q.of)([{lineNumber:1,text:A?.content??"",tokens:[{startIndex:0,endIndex:A?.content.length??0,scopes:["normal"]}]}])}else i=i??(v.oldFileId?this.highlightApi.getHighlightedFile(n,v.oldFileId,v.oldFilePath,!0):null),a=v.newFileId?this.highlightApi.getHighlightedFile(n,v.newFileId,v.newFilePath,!0):null;const _=t.mergePatch;return _&&(_.oldFileIsSubmodule||_.newFileIsSubmodule?u=(0,Q.of)(_.hunks[0].lines.find(A=>A.newLineNo>0)?.content??""):_.newFileId?u=this.repositoriesApi.getFile(n,_.newFileId):_.newFilePath&&(u=this.repositoriesApi.getMergeFile(n,t.fromCommitId,t.toCommitId,_.newFilePath))),b&&(b.oldFileIsSubmodule||b.newFileIsSubmodule?d=(0,Q.of)(b.hunks[0].lines.find(A=>A.newLineNo>0)?.content??""):b.newFileId?d=this.repositoriesApi.getFile(n,b.newFileId):b.newFilePath&&(d=this.repositoriesApi.getMergeFile(n,t.fromCommitId,t.toCommitId,b.newFilePath))),[i??(0,Q.of)(null),r??i??(0,Q.of)(null),a??i??(0,Q.of)(null),u??(0,Q.of)(null),d??(0,Q.of)(null)]}processConflicts(t){const n=new RegExp(Gt,"gm"),i=[];let r=_t(n,t);for(;r;){const[a,u]=r.indices[0],[d,b]=r.indices[1],[v,_]=r.indices[2]??[r.indices[1][1],r.indices[1][1]],[A,R]=r.indices[3],[H,se]=r.indices[4]??[r.indices[5][0],r.indices[5][0]],[ye,Pe]=r.indices[5];i.push({range:this.getConflictRange(t,a,u),ours:t.substring(v,_),theirs:t.substring(H,se),decorations:[{range:this.getConflictRange(t,d,b),options:{isWholeLine:!0,overviewRuler:{color:"#2F628E",position:window.monaco.editor.OverviewRulerLane.Full},after:{content:" (Current Change)",inlineClassName:"conflict_current-header-text"},className:"conflict_current-header",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,v,_),options:{isWholeLine:!0,overviewRuler:{color:"#2F628E",position:window.monaco.editor.OverviewRulerLane.Full},className:"conflict_current",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,A,R),options:{isWholeLine:!0,className:"conflict_separator",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,H,se),options:{isWholeLine:!0,overviewRuler:{color:"#2F7366",position:window.monaco.editor.OverviewRulerLane.Full},className:"conflict_incoming",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,ye,Pe),options:{isWholeLine:!0,overviewRuler:{color:"#2F7366",position:window.monaco.editor.OverviewRulerLane.Full},after:{content:" (Incoming Change)",inlineClassName:"conflict_incoming-header-text"},className:"conflict_incoming-header",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]}),r=_t(n,t)}return i}getConflictRange(t,n,i){let r=1,a=1;for(let b=0;b<n;b++)a++,"\n"===t[b]&&(r++,a=1);let u=r,d=a;for(let b=n;b<i;b++)d++,"\n"===t[b]&&(u++,d=1);return new window.monaco.Range(r,a,u,d)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(C.uw),e.Y36(G.yh),e.Y36(Jt.m),e.Y36(ot.a),e.Y36(Qt.S))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-merge-view-big-result"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ti,7,be.N7),e.Gf(ki,7,be.N7),e.Gf(Ai,7,be.N7),e.Gf(be.N7,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.baseScrollContainer=i.first),e.iGM(i=e.CRH())&&(n.yoursScrollContainer=i.first),e.iGM(i=e.CRH())&&(n.theirsScrollContainer=i.first),e.iGM(i=e.CRH())&&(n.viewports=i)}},inputs:{patch:"patch"},outputs:{closed:"closed"},features:[e.qOj],decls:57,vars:43,consts:[[4,"ngIf"],["vertical","","id","merge-view_vertical"],["id","merge-view_horizontal_triple"],[1,"base-grid-cell"],[1,"grid-cell-header"],[1,"viewport",3,"itemSize","minBufferPx","maxBufferPx"],["baseScrollContainer",""],[1,"base-code"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"yours-grid-cell",3,"sizeChanging"],["type","button","mat-button","",3,"click"],["yoursScrollContainer",""],[1,"yours-code"],[1,"theirs-grid-cell",3,"sizeChanging"],["theirsScrollContainer",""],[1,"theirs-code"],[3,"sizeChanging"],[1,"merge-grid-cell"],["type","button","mat-icon-button","","matTooltip","Previous Conflict",3,"click"],["type","button","mat-icon-button","","matTooltip","Next Conflict",3,"click"],["class","viewport",3,"options","original","modified","originalUri","modifiedUri","init",4,"ngIf"],[1,"line",3,"ngClass"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"viewport",3,"options","original","modified","originalUri","modifiedUri","init"]],template:function(t,n){1&t&&(e.YNc(0,Si,2,0,"main",0),e.ALo(1,"async"),e.YNc(2,Ni,2,0,"main",0),e.ALo(3,"async"),e.YNc(4,Ri,2,0,"main",0),e.ALo(5,"async"),e.TgZ(6,"main"),e.ALo(7,"async"),e.TgZ(8,"app-grid",1)(9,"app-grid-cell")(10,"app-grid",2)(11,"app-grid-cell",3)(12,"div",4),e._uU(13," Base "),e.qZA(),e.TgZ(14,"cdk-virtual-scroll-viewport",5,6)(16,"code",7)(17,"ul"),e.YNc(18,Ii,2,5,"li",8),e.ALo(19,"async"),e.qZA()()()(),e.TgZ(20,"app-grid-cell",9),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(21,"div",4),e._uU(22," Current "),e.TgZ(23,"button",10),e.NdJ("click",function(){return n.resolveMerge("to")}),e._uU(24,"Resolve"),e.qZA()(),e.TgZ(25,"cdk-virtual-scroll-viewport",5,11)(27,"code",12)(28,"ul"),e.YNc(29,Li,2,5,"li",8),e.ALo(30,"async"),e.qZA()()()(),e.TgZ(31,"app-grid-cell",13),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(32,"div",4),e._uU(33," Incoming "),e.TgZ(34,"button",10),e.NdJ("click",function(){return n.resolveMerge("from")}),e._uU(35,"Resolve"),e.qZA()(),e.TgZ(36,"cdk-virtual-scroll-viewport",5,14)(38,"code",15)(39,"ul"),e.YNc(40,Di,2,5,"li",8),e.ALo(41,"async"),e.qZA()()()()()(),e.TgZ(42,"app-grid-cell",16),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(43,"app-grid")(44,"app-grid-cell",17)(45,"div",4),e._uU(46," Merged "),e.TgZ(47,"button",10),e.NdJ("click",function(){return n.resolveMerge("merge")}),e._uU(48,"Resolve"),e.qZA(),e.TgZ(49,"button",18),e.NdJ("click",function(){return n.jumpToPreviousConflict()}),e.TgZ(50,"mat-icon"),e._uU(51,"arrow_upward"),e.qZA()(),e.TgZ(52,"button",19),e.NdJ("click",function(){return n.jumpToNextConflict()}),e.TgZ(53,"mat-icon"),e._uU(54,"arrow_downward"),e.qZA()()(),e.YNc(55,Ji,4,12,"ngx-monaco-diff-editor",20),e.ALo(56,"async"),e.qZA()()()()()),2&t&&(e.Q6J("ngIf","loading"===e.lcZ(1,27,n.currentView)),e.xp6(2),e.Q6J("ngIf","binary-file"===e.lcZ(3,29,n.currentView)),e.xp6(2),e.Q6J("ngIf","error"===e.lcZ(5,31,n.currentView)),e.xp6(2),e.ekj("hidden","normal"!==e.lcZ(7,33,n.currentView)),e.xp6(8),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",200),e.xp6(3),e.Udp("margin-left",n.baseLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(19,35,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(7),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",300),e.xp6(3),e.Udp("margin-left",n.yoursLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(30,37,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(7),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",500),e.xp6(3),e.Udp("margin-left",n.theirsLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(41,39,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(15),e.Q6J("ngIf",e.lcZ(56,41,n.mergeText)))},dependencies:[W.lw,be.xd,be.x0,be.N7,te.mk,te.sg,te.O5,Qe.lW,Ue.Hw,Ve.gM,ut.Y,st.M,te.Ov,$t.U],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}main[_ngcontent-%COMP%]{flex:1 0 auto}main.hidden[_ngcontent-%COMP%]{opacity:0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:block;white-space:pre;color:#d4d4d4;font-family:Consolas,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line{height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-void{background:#111}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-embedded, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .emphasis{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .strong{font-weight:700}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .header{color:navy}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-numeric, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-enummember, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .invalid{color:#f44747}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-value{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-vendored-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-less, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-expression, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-cast, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-sizeof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-typeid, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-alignas, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-instanceof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-logical-python, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-import-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-wildcard-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-handlebars, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-return-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-namespace, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-scope-resolution, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-numeric-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-byte-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-boolean-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-string-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-uintptr-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-error-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-rune-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-modifier-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-variable-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-token-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-cast-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-new-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-math, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-dom, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-json, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-delete, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-using, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-operator, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-definition-variable-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-property-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-font-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585;right:calc(100% + 26px)}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]{display:block;height:calc(100% - 36px);overflow-x:hidden!important;overflow-y:hidden!important}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .char-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .char-insert{background-color:#1d572c}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .line-insert, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .inline-added-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .gutter-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .line-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .inline-added-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .gutter-insert{background-color:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .char-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .char-delete{background-color:#803030}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .line-delete, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .inline-deleted-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .gutter-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .line-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .inline-deleted-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .gutter-delete{background-color:#501515}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]{height:36px;line-height:36px;padding:0 10px}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}main[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%;overflow-x:scroll}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%]{overflow:hidden}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%]{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px)}"],changeDetection:0}),o})();const $i=["baseScrollContainer"],qi=["yoursScrollContainer"],Yi=["theirsScrollContainer"];function ji(o,c){1&o&&(e.TgZ(0,"main"),e._uU(1,"Loading..."),e.qZA())}function Hi(o,c){1&o&&(e.TgZ(0,"main"),e._uU(1,"Cannot load binary file."),e.qZA())}function zi(o,c){1&o&&(e.TgZ(0,"main"),e._uU(1,"Cannot load file."),e.qZA())}function Ki(o,c){if(1&o&&(e.TgZ(0,"span",30),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function Wi(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"span",28),e._uU(2),e.qZA(),e.YNc(3,Ki,2,2,"span",29),e.ALo(4,"tokens"),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.baseLine?null:t.baseLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.baseLine?null:t.baseLine.tokens,t.baseLine.text))}}const vt=function(o,c){return[o,c]};function Xi(o,c){if(1&o&&(e.TgZ(0,"li",27),e.YNc(1,Wi,5,5,"ng-container",0),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",e.WLB(2,vt,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",t.baseLine)}}function er(o,c){if(1&o&&(e.TgZ(0,"span",30),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function tr(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"span",28),e._uU(2),e.qZA(),e.YNc(3,er,2,2,"span",29),e.ALo(4,"tokens"),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.theirsLine?null:t.theirsLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.theirsLine?null:t.theirsLine.tokens,t.theirsLine.text))}}function nr(o,c){if(1&o&&(e.TgZ(0,"li",27),e.YNc(1,tr,5,5,"ng-container",0),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",e.WLB(2,vt,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",t.theirsLine)}}function or(o,c){if(1&o&&(e.TgZ(0,"span",30),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",t.class),e.xp6(1),e.Oqu(t.text)}}function ir(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"span",28),e._uU(2),e.qZA(),e.YNc(3,or,2,2,"span",29),e.ALo(4,"tokens"),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(null==t.yoursLine?null:t.yoursLine.lineNumber),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,2,null==t.yoursLine?null:t.yoursLine.tokens,t.yoursLine.text))}}function rr(o,c){if(1&o&&(e.TgZ(0,"li",27),e.YNc(1,ir,5,5,"ng-container",0),e.qZA()),2&o){const t=c.$implicit;e.Q6J("ngClass",e.WLB(2,vt,"line-yours-"+t.yoursStatus,"line-theirs-"+t.theirsStatus)),e.xp6(1),e.Q6J("ngIf",t.yoursLine)}}const ar=function(){return{diffCodeLens:!0,readOnly:!1,renderSideBySide:!1,theme:"vs-dark"}};function cr(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"ngx-monaco-diff-editor",31),e.NdJ("init",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.monacoInit(i))}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()}if(2&o){const t=c.ngIf,n=e.oxw();let i,r,a;e.Q6J("options",e.DdM(11,ar))("original",null!==(i=e.lcZ(1,5,n.yoursText))&&void 0!==i?i:"Loading...")("modified",t)("originalUri",null!==(r=e.lcZ(2,7,n.yoursUri))&&void 0!==r?r:void 0)("modifiedUri",null!==(a=e.lcZ(3,9,n.mergeUri))&&void 0!==a?a:void 0)}}let ur=(()=>{class o extends((0,Ee.j)(Te.A,dt.P)){constructor(t,n,i,r,a,u,d){super(),this.elementRef=t,this.zone=n,this.dialog=i,this.store=r,this.highlightApi=a,this.repositoriesApi=u,this.diffService=d,this.closed=new e.vpe,this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$=new V.X([]),this.mergeText=new V.X("Loading..."),this.yoursText=new V.X("Loading..."),this.mergeUri=new V.X(void 0),this.yoursUri=new V.X(void 0),this.monacoEditor=new V.X(null),this.monacoDecorationIds=[],this.monacoCodeLensProviders=[],this.currentView=new V.X("loading"),this.conflicts=[],this.currentConflictIndex=-1,this.monacoInit=b=>{this.monacoEditor.next(b)},this.gridResized=()=>{this.baseScrollContainer?.checkViewportSize(),this.yoursScrollContainer?.checkViewportSize(),this.theirsScrollContainer?.checkViewportSize()},this.trackByMergeDiffLine=(b,v)=>b,this.jumpToNextConflict=()=>{this.currentConflictIndex=this.currentConflictIndex+1<this.conflicts.length?this.currentConflictIndex+1:0,this.jumpToConflict()},this.jumpToPreviousConflict=()=>{this.currentConflictIndex=this.currentConflictIndex-1>=0?this.currentConflictIndex-1:this.conflicts.length-1,this.jumpToConflict()}}ngOnInit(){this.destroyed$.subscribe(()=>{this.monacoCodeLensProviders.forEach(t=>{t.dispose()}),this.monacoCodeLensProviders=[]}),(0,ve.aj)([this.monacoEditor.pipe((0,we.h)(Fe.$K)),this.mergeText]).pipe((0,K.R)(this.destroyed$)).subscribe(([t,n])=>{this.monacoCodeLensProviders.forEach(a=>{a.dispose()}),this.monacoCodeLensProviders=[];const i=t.getModifiedEditor(),r=window.monaco.languages;r.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,diagnosticCodesToIgnore:[1185]}),r.getLanguages().forEach(a=>{this.monacoCodeLensProviders.push(r.registerCodeLensProvider(a.id,{resolveCodeLens:(u,d,b)=>d,provideCodeLenses:(u,d)=>{this.conflicts=this.processConflicts(u.getValue());const b=i.getPosition();return this.currentConflictIndex=b?this.conflicts.findIndex(_=>_.range.startLineNumber<=b.lineNumber&&_.range.endLineNumber>=b.lineNumber):-1,this.monacoDecorationIds=i.deltaDecorations(this.monacoDecorationIds,this.conflicts.flatMap(_=>_.decorations))??[],{lenses:this.conflicts.flatMap(_=>[{range:new window.monaco.Range(_.range.startLineNumber,1,_.range.startLineNumber+1,1),command:{id:i.addCommand(0,()=>{t.getModel()?.modified.pushEditOperations([],[{range:_.range,text:_.ours}],()=>[])}),title:"Use Current"}},{range:new window.monaco.Range(_.range.startLineNumber,1,_.range.startLineNumber+1,1),command:{id:i.addCommand(0,()=>{t.getModel()?.modified.pushEditOperations([],[{range:_.range,text:_.theirs}],()=>[])}),title:"Use Incoming"}},{range:new window.monaco.Range(_.range.startLineNumber,1,_.range.startLineNumber+1,1),command:{id:i.addCommand(0,()=>{t.getModel()?.modified.pushEditOperations([],[{range:_.range,text:`${_.ours}\n${_.theirs}`}],()=>[])}),title:"Use Both"}}]),dispose:()=>{}}}}))})}),this.patch.pipe((0,rt.x)((t,n)=>{if(!t||!n)return!t&&!n;if(t.repositoryPath!==n.repositoryPath)return!1;const i=(u,d)=>u?.newFileId!==d?.newFileId||u?.newFileIsDir!==d?.newFileIsDir||u?.newFileIsSubmodule!==d?.newFileIsSubmodule||u?.newFilePath!==d?.newFilePath||u?.oldFileId!==d?.oldFileId||u?.oldFileIsDir!==d?.oldFileIsDir||u?.oldFileIsSubmodule!==d?.oldFileIsSubmodule||u?.oldFilePath!==d?.oldFilePath||u?.status!==d?.status||u?.hunks.length!==d?.hunks.length,r=["fromPatch","toPatch","mergePatch"];for(const u of r)if(i(t[u],n[u]))return!1;const a=(u,d)=>(0,ht.Z)(u,d).some(([b,v])=>b?.lines.length!==v?.lines.length||b?.newStart!==v?.newStart||b?.oldStart!==v?.oldStart||b?.header!==v?.header||b&&v&&(0,ht.Z)(b.lines,v.lines).some(([_,A])=>_?.content.length!==A?.content.length||_?.contentOffset!==A?.contentOffset||_?.newLineNo!==A?.newLineNo||_?.oldLineNo!==A?.oldLineNo||_?.origin!==A?.origin||_?.content!==A?.content));for(const u of r){const d=t[u],b=n[u];if(d&&d.hunks&&b&&b.hunks&&a(d.hunks,b.hunks))return!1}return!0}),(0,xe.b)(()=>{this.currentView.next("loading")}),(0,ie.w)(t=>t?(0,Oe.D)(this.getLines(t)).pipe((0,K.R)(this.currentView.pipe((0,Vt.T)(1),(0,we.h)(n=>"loading"===n))),(0,j.U)(n=>[t,...n]),(0,Ne.K)(n=>_e.OZ.matches(n)?(this.currentView.next("binary-file"),(0,Q.of)(null)):_e.hK.matches(n)?(this.currentView.next("error"),(0,Q.of)(null)):(0,pe._)(n))):(0,Q.of)(null)),(0,K.R)(this.destroyed$)).subscribe(t=>{if(t){const[n,i,r,a,u,d]=t;this.monacoEditor.pipe((0,we.h)(Fe.$K),(0,ce.q)(1)).subscribe(()=>{this.mergeText.next(u??""),this.mergeUri.next(monaco.Uri.file(`file://modified/${n.mergePatch?.newFilePath??"a.txt"}`)),this.yoursText.next(d??""),this.yoursUri.next(monaco.Uri.file(`file://original/${n.toPatch?.newFilePath??"a.txt"}`))}),this.baseLineNumberMargin=this.diffService.calculateMargin(i?.length.toString().length??1,!0),this.yoursLineNumberMargin=this.diffService.calculateMargin(r?.length.toString().length??1,!0),this.theirsLineNumberMargin=this.diffService.calculateMargin(a?.length.toString().length??1,!0),this.diffService.calculateMergeLines(i??[],r??[],a??[],n.toPatch?.hunks??[],n.fromPatch?.hunks??[]).pipe((0,K.R)(this.destroyed$)).subscribe(b=>{this.lines$.next(b)}),this.currentView.next("normal")}else this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$.next([]),this.mergeText.next("Error!"),this.mergeUri.next(void 0),this.yoursText.next("Error!"),this.yoursUri.next(void 0);this.baseScrollContainer?.scrollTo({top:0,left:0}),this.yoursScrollContainer?.scrollTo({top:0,left:0}),this.theirsScrollContainer?.scrollTo({top:0,left:0}),this.monacoEditor.value?.getModifiedEditor().setScrollTop(0),this.monacoEditor.value?.getModifiedEditor().setScrollLeft(0),setTimeout(()=>this.gridResized(),0)}),this.zone.runOutsideAngular(()=>{const t=[this.baseScrollContainer,this.yoursScrollContainer,this.theirsScrollContainer],n=[!1,!1,!1];t.forEach((a,u)=>{(0,mt.R)(a.elementRef.nativeElement,"wheel",{passive:!1}).pipe((0,K.R)(this.destroyed$)).subscribe(d=>{d.preventDefault();const b=a.measureScrollOffset("left")+d.deltaX,v=a.measureScrollOffset("top")+d.deltaY;for(const _ of t)_.scrollTo({left:b,top:v})}),a.elementScrolled().pipe((0,we.h)(()=>n.every((d,b)=>!d||b===u)),(0,xe.b)(()=>{n[u]=!0;const d=a.measureScrollOffset("left"),b=a.measureScrollOffset("top");t.forEach((v,_)=>{_!==u&&v.scrollTo({left:d,top:b})})}),(0,gt.b)(100),(0,K.R)(this.destroyed$)).subscribe(()=>{this.gridResized(),n[u]=!1})});const i=new Ot.xQ,r=new ResizeObserver(()=>i.next());r.observe(this.elementRef.nativeElement),this.destroyed$.subscribe(()=>r.disconnect()),i.pipe((0,Ye.p)(20,void 0,{leading:!0,trailing:!0}),(0,K.R)(this.destroyed$)).subscribe(()=>{this.gridResized()}),setTimeout(()=>{this.gridResized()},100)})}resolveMerge(t){this.patch.pipe((0,ce.q)(1)).subscribe(n=>{const i=n?.repositoryPath;if(!i)throw new Error("Cannot update merge if no repository is selected");const r=n.mergePatch?.newFilePath;if(!r)throw new Error("Couldn't find file path");let a;switch(t){case"from":a=n.fromPatch?.newFileId?this.repositoriesApi.getFile(i,n.fromPatch?.newFileId):(0,Q.of)(null);break;case"to":a=n.toPatch?.newFileId?this.repositoriesApi.getFile(i,n.toPatch?.newFileId):(0,Q.of)(null);break;case"merge":a=this.conflicts.length>0?this.dialog.open(Dt).afterClosed().pipe((0,ie.w)(d=>d?(0,Q.of)(this.monacoEditor.value?.getModifiedEditor().getValue()??null):Ie.E)):(0,Q.of)(this.monacoEditor.value?.getModifiedEditor().getValue()??null);break;default:throw new Error(`Unrecognized value ${t}`)}a.subscribe(u=>{const d=this.store.selectSnapshot(D.E.selectedCommitId);this.repositoriesApi.updateMerge(i,n.fromCommitId,n.toCommitId,r,u??"","head"===d).subscribe(()=>{this.closed.next(),this.store.dispatch(new S.Vu(i,[S.nh.stagedChanges,S.nh.submodules,S.nh.unstagedChanges,S.nh.workingCopyMergeChanges]))})})})}jumpToConflict(){const t=this.conflicts[this.currentConflictIndex];this.monacoEditor.value?.revealRangeAtTop(t.range);const n=t.theirs.split("\n"),i=t.ours.split("\n"),r=Math.max(n.length,i.length),a=this.lines$.value,u=d=>{if(d+r>a.length)return!1;const b=a.slice(d).map(_=>_.theirsLine?.text).filter(Fe.$K);for(let _=0;_<n.length;_++)if(b[_]!==n[_])return!1;const v=a.slice(d).map(_=>_.yoursLine?.text).filter(Fe.$K);for(let _=0;_<i.length;_++)if(v[_]!==i[_])return!1;return!0};for(let d=0;d<a.length;d++)if(u(d)){this.baseScrollContainer?.scrollToIndex(d);break}}getLines(t){const n=t.repositoryPath;let i=null,r=null,a=null,u=null,d=null;const b=t.toPatch;if(b)if(b.oldFileIsSubmodule||b.newFileIsSubmodule){const A=b.hunks[0].lines.find(H=>H.oldLineNo>0),R=b.hunks[0].lines.find(H=>H.newLineNo>0);i=(0,Q.of)([{lineNumber:1,text:A?.content??"",tokens:[{startIndex:0,endIndex:A?.content.length??0,scopes:["normal"]}]}]),r=(0,Q.of)([{lineNumber:1,text:R?.content??"",tokens:[{startIndex:0,endIndex:R?.content.length??0,scopes:["normal"]}]}])}else i=b.oldFileId?this.highlightApi.getHighlightedFile(n,b.oldFileId,b.oldFilePath,!0):null,r=b.newFileId?this.highlightApi.getHighlightedFile(n,b.newFileId,b.newFilePath,!0):null;const v=t.fromPatch;if(v)if(v.oldFileIsSubmodule||v.newFileIsSubmodule){if(!i){const R=v.hunks[0].lines.find(H=>H.oldLineNo>0);i=(0,Q.of)([{lineNumber:1,text:R?.content??"",tokens:[{startIndex:0,endIndex:R?.content.length??0,scopes:["normal"]}]}])}const A=v.hunks[0].lines.find(R=>R.newLineNo>0);a=(0,Q.of)([{lineNumber:1,text:A?.content??"",tokens:[{startIndex:0,endIndex:A?.content.length??0,scopes:["normal"]}]}])}else i=i??(v.oldFileId?this.highlightApi.getHighlightedFile(n,v.oldFileId,v.oldFilePath,!0):null),a=v.newFileId?this.highlightApi.getHighlightedFile(n,v.newFileId,v.newFilePath,!0):null;const _=t.mergePatch;return _&&(_.oldFileIsSubmodule||_.newFileIsSubmodule?u=(0,Q.of)(_.hunks[0].lines.find(A=>A.newLineNo>0)?.content??""):_.newFileId?u=this.repositoriesApi.getFile(n,_.newFileId):_.newFilePath&&(u=this.repositoriesApi.getMergeFile(n,t.fromCommitId,t.toCommitId,_.newFilePath))),b&&(b.oldFileIsSubmodule||b.newFileIsSubmodule?d=(0,Q.of)(b.hunks[0].lines.find(A=>A.newLineNo>0)?.content??""):b.newFileId?d=this.repositoriesApi.getFile(n,b.newFileId):b.newFilePath&&(d=this.repositoriesApi.getMergeFile(n,t.fromCommitId,t.toCommitId,b.newFilePath))),[i??(0,Q.of)(null),r??i??(0,Q.of)(null),a??i??(0,Q.of)(null),u??(0,Q.of)(null),d??(0,Q.of)(null)]}processConflicts(t){const n=new RegExp(Gt,"gm"),i=[];let r=_t(n,t);for(;r;){const[a,u]=r.indices[0],[d,b]=r.indices[1],[v,_]=r.indices[2]??[r.indices[1][1],r.indices[1][1]],[A,R]=r.indices[3],[H,se]=r.indices[4]??[r.indices[5][0],r.indices[5][0]],[ye,Pe]=r.indices[5];i.push({range:this.getConflictRange(t,a,u),ours:t.substring(v,_),theirs:t.substring(H,se),decorations:[{range:this.getConflictRange(t,d,b),options:{isWholeLine:!0,overviewRuler:{color:"#2F628E",position:window.monaco.editor.OverviewRulerLane.Full},after:{content:" (Current Change)",inlineClassName:"conflict_current-header-text"},className:"conflict_current-header",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,v,_),options:{isWholeLine:!0,overviewRuler:{color:"#2F628E",position:window.monaco.editor.OverviewRulerLane.Full},className:"conflict_current",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,A,R),options:{isWholeLine:!0,className:"conflict_separator",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,H,se),options:{isWholeLine:!0,overviewRuler:{color:"#2F7366",position:window.monaco.editor.OverviewRulerLane.Full},className:"conflict_incoming",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(t,ye,Pe),options:{isWholeLine:!0,overviewRuler:{color:"#2F7366",position:window.monaco.editor.OverviewRulerLane.Full},after:{content:" (Incoming Change)",inlineClassName:"conflict_incoming-header-text"},className:"conflict_incoming-header",zIndex:1,stickiness:window.monaco.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]}),r=_t(n,t)}return i}getConflictRange(t,n,i){let r=1,a=1;for(let b=0;b<n;b++)a++,"\n"===t[b]&&(r++,a=1);let u=r,d=a;for(let b=n;b<i;b++)d++,"\n"===t[b]&&(u++,d=1);return new window.monaco.Range(r,a,u,d)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(C.uw),e.Y36(G.yh),e.Y36(Jt.m),e.Y36(ot.a),e.Y36(Qt.S))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-merge-view-even-quad"]],viewQuery:function(t,n){if(1&t&&(e.Gf($i,7,be.N7),e.Gf(qi,7,be.N7),e.Gf(Yi,7,be.N7),e.Gf(be.N7,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.baseScrollContainer=i.first),e.iGM(i=e.CRH())&&(n.yoursScrollContainer=i.first),e.iGM(i=e.CRH())&&(n.theirsScrollContainer=i.first),e.iGM(i=e.CRH())&&(n.viewports=i)}},inputs:{patch:"patch"},outputs:{closed:"closed"},features:[e.qOj],decls:67,vars:45,consts:[[4,"ngIf"],["vertical","","id","merge-view_vertical"],["id","merge-view_horizontal"],[1,"base-grid-cell"],[1,"grid-cell-header"],[1,"viewport",3,"itemSize","minBufferPx","maxBufferPx"],["baseScrollContainer",""],[1,"base-code"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"arrow-forward-top"],[1,"arrow-downward-left"],[1,"theirs-grid-cell",3,"linked","sizeChanging"],["theirsCell",""],["type","button","mat-button","",3,"click"],["theirsScrollContainer",""],[1,"theirs-code"],[1,"arrow-downward-right"],[3,"sizeChanging"],[1,"yours-grid-cell"],["yoursScrollContainer",""],[1,"yours-code"],[1,"arrow-forward-bottom"],[1,"merge-grid-cell",3,"linked","sizeChanging"],["mergeCell",""],["type","button","mat-icon-button","","matTooltip","Previous Conflict",3,"click"],["type","button","mat-icon-button","","matTooltip","Next Conflict",3,"click"],["class","viewport",3,"options","original","modified","originalUri","modifiedUri","init",4,"ngIf"],[1,"line",3,"ngClass"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"viewport",3,"options","original","modified","originalUri","modifiedUri","init"]],template:function(t,n){if(1&t&&(e.YNc(0,ji,2,0,"main",0),e.ALo(1,"async"),e.YNc(2,Hi,2,0,"main",0),e.ALo(3,"async"),e.YNc(4,zi,2,0,"main",0),e.ALo(5,"async"),e.TgZ(6,"main"),e.ALo(7,"async"),e.TgZ(8,"app-grid",1)(9,"app-grid-cell")(10,"app-grid",2)(11,"app-grid-cell",3)(12,"div",4),e._uU(13," Base "),e.qZA(),e.TgZ(14,"cdk-virtual-scroll-viewport",5,6)(16,"code",7)(17,"ul"),e.YNc(18,Xi,2,5,"li",8),e.ALo(19,"async"),e.qZA()()(),e.TgZ(20,"mat-icon",9),e._uU(21,"arrow_forward"),e.qZA(),e.TgZ(22,"mat-icon",10),e._uU(23,"arrow_downward"),e.qZA()(),e.TgZ(24,"app-grid-cell",11,12),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(26,"div",4),e._uU(27," Incoming "),e.TgZ(28,"button",13),e.NdJ("click",function(){return n.resolveMerge("from")}),e._uU(29,"Resolve"),e.qZA()(),e.TgZ(30,"cdk-virtual-scroll-viewport",5,14)(32,"code",15)(33,"ul"),e.YNc(34,nr,2,5,"li",8),e.ALo(35,"async"),e.qZA()()(),e.TgZ(36,"mat-icon",16),e._uU(37,"arrow_downward"),e.qZA()()()(),e.TgZ(38,"app-grid-cell",17),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(39,"app-grid",2)(40,"app-grid-cell",18)(41,"div",4),e._uU(42," Current "),e.TgZ(43,"button",13),e.NdJ("click",function(){return n.resolveMerge("to")}),e._uU(44,"Resolve"),e.qZA()(),e.TgZ(45,"cdk-virtual-scroll-viewport",5,19)(47,"code",20)(48,"ul"),e.YNc(49,rr,2,5,"li",8),e.ALo(50,"async"),e.qZA()()(),e.TgZ(51,"mat-icon",21),e._uU(52,"arrow_forward"),e.qZA()(),e.TgZ(53,"app-grid-cell",22,23),e.NdJ("sizeChanging",function(){return n.gridResized()}),e.TgZ(55,"div",4),e._uU(56," Merged "),e.TgZ(57,"button",13),e.NdJ("click",function(){return n.resolveMerge("merge")}),e._uU(58,"Resolve"),e.qZA(),e.TgZ(59,"button",24),e.NdJ("click",function(){return n.jumpToPreviousConflict()}),e.TgZ(60,"mat-icon"),e._uU(61,"arrow_upward"),e.qZA()(),e.TgZ(62,"button",25),e.NdJ("click",function(){return n.jumpToNextConflict()}),e.TgZ(63,"mat-icon"),e._uU(64,"arrow_downward"),e.qZA()()(),e.YNc(65,cr,4,12,"ngx-monaco-diff-editor",26),e.ALo(66,"async"),e.qZA()()()()()),2&t){const i=e.MAs(25),r=e.MAs(54);e.Q6J("ngIf","loading"===e.lcZ(1,29,n.currentView)),e.xp6(2),e.Q6J("ngIf","binary-file"===e.lcZ(3,31,n.currentView)),e.xp6(2),e.Q6J("ngIf","error"===e.lcZ(5,33,n.currentView)),e.xp6(2),e.ekj("hidden","normal"!==e.lcZ(7,35,n.currentView)),e.xp6(8),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",200),e.xp6(3),e.Udp("margin-left",n.baseLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(19,37,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(6),e.Q6J("linked",r),e.xp6(6),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",300),e.xp6(3),e.Udp("margin-left",n.theirsLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(35,39,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(11),e.Q6J("itemSize",19)("minBufferPx",100)("maxBufferPx",500),e.xp6(3),e.Udp("margin-left",n.yoursLineNumberMargin+26,"px"),e.xp6(1),e.Q6J("cdkVirtualForOf",e.lcZ(50,41,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),e.xp6(4),e.Q6J("linked",i),e.xp6(12),e.Q6J("ngIf",e.lcZ(66,43,n.mergeText))}},dependencies:[W.lw,be.xd,be.x0,be.N7,te.mk,te.sg,te.O5,Qe.lW,Ue.Hw,Ve.gM,ut.Y,st.M,te.Ov,$t.U],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}main[_ngcontent-%COMP%]{flex:1 0 auto}main.hidden[_ngcontent-%COMP%]{opacity:0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:block;white-space:pre;color:#d4d4d4;font-family:Consolas,Courier New,monospace;font-size:14px;font-weight:400;letter-spacing:0px;line-height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line{height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-void{background:#111}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-embedded, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .emphasis{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .strong{font-weight:700}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .header{color:navy}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-numeric, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-enummember, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .invalid{color:#f44747}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-bold{font-weight:700;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-heading{font-weight:700;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-value{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-vendored-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-less, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-expression, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-cast, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-sizeof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-typeid, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-alignas, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-instanceof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-logical-python, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-import-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-wildcard-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-handlebars, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-return-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-namespace, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-scope-resolution, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-numeric-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-byte-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-boolean-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-string-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-uintptr-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-error-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-rune-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-modifier-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-variable-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-token-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-cast-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-new-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-math, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-dom, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-json, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-delete, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-using, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-operator, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-definition-variable-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-property-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-font-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585;right:calc(100% + 26px)}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]{display:block;height:calc(100% - 36px);overflow-x:hidden!important;overflow-y:hidden!important}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .char-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .char-insert{background-color:#1d572c}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .line-insert, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .inline-added-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .gutter-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .line-insert, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .inline-added-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .gutter-insert{background-color:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .char-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .char-delete{background-color:#803030}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .line-delete, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .inline-deleted-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]  .gutter-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .line-delete, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .inline-deleted-margin-view-zone, main[_ngcontent-%COMP%]   ngx-monaco-diff-editor[_ngcontent-%COMP%]  .gutter-delete{background-color:#501515}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]{height:36px;line-height:36px;padding:0 10px}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}main[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%;overflow-x:scroll}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%]{overflow:hidden}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%]{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px)}","main[_ngcontent-%COMP%]   .arrow-forward-top[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-forward-bottom[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-downward-left[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-downward-right[_ngcontent-%COMP%]{color:#333}main[_ngcontent-%COMP%]   .arrow-forward-top[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:-12px}main[_ngcontent-%COMP%]   .arrow-forward-bottom[_ngcontent-%COMP%]{position:absolute;top:10px;right:-12px}main[_ngcontent-%COMP%]   .arrow-downward-left[_ngcontent-%COMP%]{position:absolute;bottom:-12px;right:10px}main[_ngcontent-%COMP%]   .arrow-downward-right[_ngcontent-%COMP%]{position:absolute;bottom:-12px;left:10px}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-bottom:12px}main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-top:12px}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-right:12px}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-left:12px}"],changeDetection:0}),o})();function sr(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-merge-view-even-quad",6),e.NdJ("closed",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.closed.next())}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("patch",t.patch)}}function dr(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-merge-view-big-result",6),e.NdJ("closed",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.closed.next())}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("patch",t.patch)}}function lr(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"header")(2,"h4"),e._uU(3,"Editing "),e.TgZ(4,"strong"),e._uU(5),e.ALo(6,"async"),e.qZA()(),e.TgZ(7,"div",1)(8,"mat-button-toggle-group",2),e.NdJ("change",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.changeView(i.value))}),e.ALo(9,"async"),e.TgZ(10,"mat-button-toggle",3)(11,"mat-icon"),e._uU(12,"view_quilt"),e.qZA()(),e.TgZ(13,"mat-button-toggle",4)(14,"mat-icon"),e._uU(15,"grid_view"),e.qZA()()(),e.TgZ(16,"mat-icon",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closed.next())}),e._uU(17,"close"),e.qZA()()(),e.YNc(18,sr,2,1,"ng-container",0),e.ALo(19,"async"),e.YNc(20,dr,2,1,"ng-container",0),e.ALo(21,"async"),e.BQk()}if(2&o){const t=e.oxw();let n;e.xp6(5),e.Oqu(null==(n=e.lcZ(6,4,t.patch))||null==n.mergePatch?null:n.mergePatch.newFilePath),e.xp6(3),e.Q6J("value",e.lcZ(9,6,t.mergeView)),e.xp6(10),e.Q6J("ngIf","even-quad"===e.lcZ(19,8,t.mergeView)),e.xp6(2),e.Q6J("ngIf","big-result"===e.lcZ(21,10,t.mergeView))}}function fr(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-diff-view",7),e.NdJ("closed",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closed.next())})("edited",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editManually.next(!0))}),e.qZA(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("patch",t.mergePatch)("showEdit",!0)}}let gr=(()=>{class o extends((0,Ee.j)(Te.A)){constructor(t){super(),this.store=t,this.closed=new e.vpe,this.editManually=new V.X(!1)}ngOnInit(){this.isPatchEditing=(0,ve.aj)([this.editManually,this.patch]).pipe((0,j.U)(([t,n])=>t||n?.mergePatch?.status===pt.v.Conflicted)),this.mergePatch=this.patch.pipe((0,je.M)(this.selectedRepositoryPath),(0,j.U)(([t,n])=>n&&t?.mergePatch?{repositoryPath:n,patch:t.mergePatch,isUnstaged:!1}:null))}changeView(t){this.store.dispatch(new Ut.QW(t))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(G.yh))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-merge-view"]],inputs:{patch:"patch"},outputs:{closed:"closed"},features:[e.qOj],decls:4,vars:6,consts:[[4,"ngIf"],[1,"icons"],[3,"value","change"],["value","big-result","matTooltip","Triple stack View"],["value","even-quad","matTooltip","Quad View"],[1,"close-button",3,"click"],[3,"patch","closed"],[3,"patch","showEdit","closed","edited"]],template:function(t,n){1&t&&(e.YNc(0,lr,22,12,"ng-container",0),e.ALo(1,"async"),e.YNc(2,fr,2,2,"ng-container",0),e.ALo(3,"async")),2&t&&(e.Q6J("ngIf",e.lcZ(1,2,n.isPatchEditing)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(3,4,n.isPatchEditing)))},dependencies:[Y.A9,Y.Yi,te.O5,Ue.Hw,Ve.gM,It.s,Qi,ur,te.Ov],styles:["[_nghost-%COMP%]{position:absolute;display:flex;flex-direction:column;height:100%;width:100%;background:#1e1e1e}header[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;justify-content:space-between;padding:5px 0}header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;line-height:45px}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]     .mat-button-toggle-appearance-standard>.mat-button-toggle-button>.mat-button-toggle-label-content{padding:0 6px;line-height:36px;font-size:0}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{margin-right:10px}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{line-height:43px;font-size:0}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{cursor:pointer;height:45px;line-height:45px}"],changeDetection:0}),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryPath)],o.prototype,"selectedRepositoryPath",void 0),(0,Z.gn)([(0,G.Ph)(ke.$.mergeView)],o.prototype,"mergeView",void 0),o})();var mr=l(5773);function pr(o,c){if(1&o&&(e.TgZ(0,"mat-radio-button",37),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("value",t.name),e.xp6(1),e.Oqu(t.name)}}function hr(o,c){if(1&o&&(e.TgZ(0,"div",35)(1,"mat-radio-group",36)(2,"mat-radio-button",37),e._uU(3,"All remotes"),e.qZA(),e.YNc(4,pr,2,2,"mat-radio-button",38),e.qZA()()),2&o){const t=e.oxw(2).ngIf,n=e.oxw();e.xp6(1),e.Q6J("formControl",n.selectedRemoteControl),e.xp6(1),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",t)}}function _r(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",26),e.YNc(1,hr,5,3,"div",27),e.TgZ(2,"div",28)(3,"button",29,30),e.NdJ("click",function(i){e.CHM(t);const r=e.MAs(4);e.oxw();const a=e.MAs(30),u=e.oxw();return e.KtG(u.openSubMenu(i,r,a))}),e._UZ(5,"mat-icon",19),e.TgZ(6,"span"),e._uU(7,"Push branch"),e.qZA(),e.TgZ(8,"mat-icon",31),e._uU(9,"chevron_right"),e.qZA()(),e.TgZ(10,"button",29,32),e.NdJ("click",function(i){e.CHM(t);const r=e.MAs(11);e.oxw();const a=e.MAs(32),u=e.oxw();return e.KtG(u.openSubMenu(i,r,a))}),e.TgZ(12,"mat-icon"),e._uU(13,"label"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Push tag"),e.qZA(),e.TgZ(16,"mat-icon",31),e._uU(17,"chevron_right"),e.qZA()(),e.TgZ(18,"button",33,34),e.NdJ("click",function(i){e.CHM(t);const r=e.MAs(19);e.oxw();const a=e.MAs(34),u=e.oxw();return e.KtG(u.openSubMenu(i,r,a))}),e.TgZ(20,"mat-icon"),e._uU(21,"warning_amber"),e.qZA(),e.TgZ(22,"span"),e._uU(23,"Force push"),e.qZA(),e.TgZ(24,"mat-icon",31),e._uU(25,"chevron_right"),e.qZA()()()()}if(2&o){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}function Cr(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.pushReference(r.name))}),e._uU(1),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(3);let i;e.Q6J("matTooltip",null!==(i=n.getBranchName(t.name))&&void 0!==i?i:""),e.xp6(1),e.Oqu(n.getBranchName(t.name))}}function br(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.pushAllBranches())}),e._uU(2,"All"),e.qZA(),e.YNc(3,Cr,2,2,"button",41),e.ALo(4,"async"),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.pushableBranches))}}function Pr(o,c){1&o&&(e.TgZ(0,"div"),e._UZ(1,"mat-spinner",46),e.qZA()),2&o&&e.Udp("padding","12px 16px")}function Mr(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.pushReference(r))}),e._uU(1),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(3);let i;e.Q6J("matTooltip",null!==(i=n.getTagName(t))&&void 0!==i?i:""),e.xp6(1),e.Oqu(n.getTagName(t))}}function Or(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",43)(1,"button",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.pushAllTags())}),e._uU(2,"All"),e.qZA(),e.YNc(3,Pr,2,2,"div",45),e.ALo(4,"async"),e.YNc(5,Mr,2,2,"button",41),e.ALo(6,"async"),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,2,t.isLoadingTags)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,4,t.pushableTags))}}function xr(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.pushReference(r.name,!0))}),e._UZ(1,"mat-icon",19),e._uU(2),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(3);e.xp6(2),e.Oqu(n.getBranchName(t.name))}}function vr(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.pushReference(r,!0))}),e.TgZ(1,"mat-icon"),e._uU(2,"label"),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=c.$implicit,n=e.oxw(3);e.xp6(3),e.Oqu(n.getTagName(t))}}function yr(o,c){if(1&o&&(e.TgZ(0,"div",47),e.YNc(1,xr,3,1,"button",48),e.ALo(2,"async"),e.YNc(3,vr,4,1,"button",48),e.ALo(4,"async"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,t.pushableBranches)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,4,t.pushableTags))}}function wr(o,c){1&o&&e._UZ(0,"mat-spinner",46)}function Tr(o,c){1&o&&(e.TgZ(0,"mat-icon",50),e._uU(1,"create"),e.qZA())}function kr(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"button",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.fetchFromRemote())}),e.ALo(2,"async"),e.ALo(3,"plural"),e.TgZ(4,"mat-icon",6),e._uU(5,"autorenew"),e.qZA()(),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.pullFromRemote())}),e.ALo(7,"async"),e.ALo(8,"async"),e.ALo(9,"async"),e.ALo(10,"async"),e.ALo(11,"async"),e.ALo(12,"async"),e.TgZ(13,"mat-icon",7),e._uU(14,"arrow_downward"),e.qZA()(),e.TgZ(15,"div",8)(16,"button",9),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.pushCurrentBranch())}),e.ALo(17,"async"),e.ALo(18,"async"),e.ALo(19,"async"),e.TgZ(20,"mat-icon",10),e._uU(21,"arrow_upward"),e.qZA()(),e.TgZ(22,"button",11,12),e.NdJ("click",function(i){e.CHM(t);const r=e.MAs(23),a=e.MAs(28),u=e.oxw();return e.KtG(u.openMenu(i,r,a))}),e.ALo(24,"async"),e.TgZ(25,"mat-icon"),e._uU(26,"keyboard_arrow_down"),e.qZA()()(),e.YNc(27,_r,26,1,"ng-template",null,13,e.W1O),e.YNc(29,br,5,3,"ng-template",null,14,e.W1O),e.YNc(31,Or,7,6,"ng-template",null,15,e.W1O),e.YNc(33,yr,5,6,"ng-template",null,16,e.W1O),e.TgZ(35,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openTagDialog())}),e.ALo(36,"async"),e.ALo(37,"async"),e.TgZ(38,"mat-icon",18),e._uU(39,"label"),e.qZA()(),e.TgZ(40,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createBranch())}),e.ALo(41,"async"),e.ALo(42,"async"),e._UZ(43,"mat-icon",19),e.qZA(),e.TgZ(44,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editCommits())}),e.ALo(45,"async"),e.ALo(46,"async"),e.ALo(47,"async"),e.YNc(48,wr,1,0,"mat-spinner",20),e.ALo(49,"async"),e.YNc(50,Tr,2,0,"mat-icon",21),e.ALo(51,"async"),e.qZA(),e.TgZ(52,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openSearch())}),e.TgZ(53,"mat-icon",23),e._uU(54,"search"),e.qZA()(),e.TgZ(55,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openSettings())}),e.TgZ(56,"mat-icon",25),e._uU(57,"miscellaneous_services"),e.qZA()()()}if(2&o){const t=c.ngIf,n=e.oxw();e.xp6(1),e.Q6J("disabled",t.length<=0||e.lcZ(2,15,n.isLoading))("matTooltip",t.length<=0?"Cannot fetch when no remote is configured":e.xi3(3,17,"Fetch from remote",t.length)),e.xp6(5),e.Q6J("disabled",t.length<=0||e.lcZ(7,20,n.isLoading)||null===e.lcZ(8,22,n.currentUpstreamBranch))("matTooltip",t.length<=0?"Cannot pull when no remote is configured":null===e.lcZ(9,24,n.currentUpstreamBranch)?"Cannot pull when no upstream branch is configured for "+n.getBranchName(e.lcZ(10,26,n.currentBranch)):"Pull branch "+(n.getBranchName(e.lcZ(11,28,n.currentBranch))||"?")+" from "+n.getRemoteBranchName(e.lcZ(12,30,n.currentUpstreamBranch))),e.xp6(10),e.Q6J("disabled",t.length<=0||e.lcZ(17,32,n.isLoading))("matTooltip",t.length<=0?"Cannot push when no remote is configured":"Push "+(n.getBranchName(e.lcZ(18,34,n.currentBranch))||"?")+" to "+e.lcZ(19,36,n.selectedRemoteName)),e.xp6(6),e.Q6J("disabled",t.length<=0||e.lcZ(24,38,n.isLoading)),e.xp6(13),e.Q6J("matTooltip",e.lcZ(36,40,n.hideCreateButtons)?"Cannot create tag when no commit is selected":"Create Tag")("disabled",e.lcZ(37,42,n.hideCreateButtons)),e.xp6(5),e.Q6J("matTooltip",e.lcZ(41,44,n.hideCreateButtons)?"Cannot create branch when no commit is selected":"Create Branch")("disabled",e.lcZ(42,46,n.hideCreateButtons)),e.xp6(4),e.Q6J("matTooltip",e.lcZ(45,48,n.hideCreateButtons)?"Cannot edit commits when no commit is selected":"Rewrite the commit history from this point onwards")("disabled",e.lcZ(46,50,n.hideCreateButtons)||e.lcZ(47,52,n.loadingCommitEdit)),e.xp6(4),e.Q6J("ngIf",e.lcZ(49,54,n.loadingCommitEdit)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(51,56,n.loadingCommitEdit))}}let Ar=(()=>{class o extends((0,Ee.j)(Te.A)){constructor(t,n,i,r,a,u){super(),this.router=t,this.overlay=n,this.viewContainerRef=i,this.store=r,this.remotesApi=a,this.repositoryActionsService=u,this.menuOverlayRef=new V.X(null),this.subMenuOverlayRef=new V.X(null),this.hideCreateButtons=this.store.select(D.E.selectedCommitId).pipe((0,j.U)(d=>!d||"head"===d)),this.selectedRemoteControl=new z.NI(null),this.selectedRemoteName=this.selectedRemote.pipe((0,j.U)(d=>d??"all remotes"),(0,Ke.d)(1)),this.isLoading=new V.X(!1),this.isLoadingTags=new V.X(!1),this.getBranchName=d=>d?.replace(/^refs\/heads\//,""),this.getRemoteBranchName=d=>d?.replace(/^refs\/remotes\//,""),this.getTagName=d=>d?.replace(/^refs\/tags\//,""),this.openMenu=(d,b,v)=>{d.preventDefault(),d.stopPropagation(),this.closeMenu();const _=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(b).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.menuOverlayRef.next(_),_.attach(new ze.UE(v,this.viewContainerRef)),(0,We.t)(_,!1).pipe((0,ce.q)(1),(0,K.R)(this.destroyed$)).subscribe(()=>this.closeMenu())},this.closeMenu=()=>{this.menuOverlayRef.value&&(this.menuOverlayRef.value.dispose(),this.menuOverlayRef.next(null))},this.openSubMenu=(d,b,v)=>{d.preventDefault(),d.stopPropagation(),this.closeSubMenu();const _=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(b).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(_),_.attach(new ze.UE(v,this.viewContainerRef)),(0,We.t)(_).pipe((0,ce.q)(1),(0,K.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.toggleBranches=()=>{this.defaultLayoutSizes.pipe((0,ce.q)(1)).subscribe(d=>{this.store.dispatch(new Ut.ct("default-layout",["0"===d[0]||"0px"===d[0]||"0%"===d[0]?qe.q:"0px",...d.slice(1)]))})},this.fetchFromRemote=()=>{this.store.selectOnce(D.E.selectedRepositoryPath).pipe((0,je.M)(this.selectedRepositoryCredentials),(0,ie.w)(([d,b])=>{if(!d)throw new Error("Cannot fetch when no repository is selected.");return this.isLoading.next(!0),this.repositoryActionsService.fetchFromRemote(d,b)}),(0,ct.x)(()=>{this.isLoading.next(!1)}),(0,K.R)(this.destroyed$)).subscribe()},this.pullFromRemote=()=>{const d=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!d)throw new Error("Cannot pull when no repository is selected.");const b=this.store.selectSnapshot(D.E.selectedRepositoryCredentials),v=this.store.selectSnapshot(D.E.selectedRepositoryCurrentBranch);if(!v)throw new Error("Cannot pull when no branch is checked out.");const _=this.selectedRemoteControl.value;if(!_)throw this.store.dispatch(new ee.NN("error","Cannot pull from all remotes.")),new Error("Cannot pull from all remotes.");this.isLoading.next(!0),this.repositoryActionsService.pull(d,_,b,v.replace(/^refs\/heads\//,"")).pipe((0,ct.x)(()=>{this.isLoading.next(!1)})).subscribe()},this.pushReference=(d,b=!1)=>{this.push([d],b).subscribe(),this.closeMenu()},this.pushCurrentBranch=()=>{this.currentBranch.pipe((0,ce.q)(1)).subscribe(d=>{if(d){const b=this.selectedRemoteControl.value,v=this.store.selectSnapshot(D.E.selectedRepositoryCurrentBranchUpstreamBranch);this.push([d]).pipe((0,xe.b)(()=>{if(!v&&b){const _=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!_)throw new Error("Cannot set upstream branch when no repository is selected.");const A=d.replace(/^refs\/heads\//,"");this.repositoryActionsService.setUpstreamBranch(_,A,`${b}/${A}`).subscribe()}})).subscribe()}else this.store.dispatch(new ee.NN("error","Cannot push current branch when not on a branch"))}),this.closeMenu()},this.pushEverything=(d=!1)=>{(0,ve.aj)([this.pushableBranches,this.pushableTags]).pipe((0,ce.q)(1)).subscribe(([b,v])=>{const _=[...b.map(A=>A.name),...v??[]];0===_.length&&this.store.dispatch(new ee.NN("warn","There are no branches or tags to push")),this.push(_,d).subscribe(),this.closeMenu()})},this.pushAllBranches=(d=!1)=>{this.pushableBranches.pipe((0,ce.q)(1)).subscribe(b=>{0===b.length&&this.store.dispatch(new ee.NN("warn","There are no branches to push")),this.push(b.map(v=>v.name),d).subscribe(),this.closeMenu()})},this.pushAllTags=(d=!1)=>{this.pushableTags.pipe((0,ce.q)(1)).subscribe(b=>{0===b.length&&this.store.dispatch(new ee.NN("warn","There are no tags to push")),this.push(b??[],d).subscribe(),this.closeMenu()})},this.push=(d,b=!1)=>this.store.selectOnce(D.E.selectedRepositoryPath).pipe((0,je.M)(this.selectedRepositoryCredentials),(0,ie.w)(([v,_])=>{if(!v)throw new Error("Cannot push when no repository is selected.");return this.isLoading.next(!0),this.repositoryActionsService.push(v,this.selectedRemoteControl.value,_,d,b)}),(0,ct.x)(()=>{this.isLoading.next(!1)}),(0,K.R)(this.destroyed$)),this.openTagDialog=()=>{const d=this.store.selectSnapshot(D.E.selectedRepositoryPath),b=this.store.selectSnapshot(D.E.selectedCommitId);if(!d)throw new Error("Cannot create tag when no repository is selected.");if(!b)throw new Error("Cannot create tag when no commit is selected.");this.repositoryActionsService.createTag(d,b).subscribe()},this.createBranch=()=>{const d=this.store.selectSnapshot(D.E.selectedRepositoryPath),b=this.store.selectSnapshot(D.E.selectedCommitId);if(!d)throw new Error("Cannot create branch when no repository is selected.");if(!b)throw new Error("Cannot create branch when no commit is selected.");return this.repositoryActionsService.createBranch(d,b)},this.editCommits=()=>{const d=this.store.selectSnapshot(D.E.selectedRepositoryPath),b=this.store.selectSnapshot(D.E.selectedCommitId);if(!d)throw new Error("Cannot edit commits when no repository is selected.");if(!b)throw new Error("Cannot edit commits when no commit is selected.");return this.repositoryActionsService.startEdit(d,b).pipe((0,ie.w)(()=>this.router.navigate(["/standard/rebase"])))},this.openSearch=()=>{this.router.navigate(["/standard/search"])},this.openSettings=()=>{const d=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!d)throw new Error("Cannot open repository settings when no repository is selected.");this.router.navigate(["/settings/repositories"],{queryParams:{id:d}})}}ngOnInit(){this.selectedRepositoryPath.pipe((0,K.R)(this.destroyed$)).subscribe(()=>{this.isLoading.next(!1)}),this.selectedRemote.pipe((0,K.R)(this.destroyed$)).subscribe(t=>{this.selectedRemoteControl.setValue(t,{emitEvent:!1})}),this.branchesVisible=this.defaultLayoutSizes.pipe((0,j.U)(t=>"0"!==t[0]&&"0px"!==t[0]&&"0%"!==t[0])),this.selectedRemoteControl.valueChanges.pipe((0,je.M)(this.store.select(D.E.selectedRepositoryPath)),(0,K.R)(this.destroyed$)).subscribe(([t,n])=>{if(!n)throw new Error("Cannot change default remote when no repository is selected.");this.store.dispatch(new S.J2(n,t))}),this.pushableBranches=(0,ve.aj)([this.localBranches,this.remoteBranches,this.selectedRemote]).pipe((0,j.U)(([t,n,i])=>{const r=i?(n??[]).filter(u=>u.name.startsWith(`refs/remotes/${i}/`)):n??[],a=(0,wt.Z)(r,u=>u.name.replace(/^refs\/remotes\/[^\/]*\//,""));return(t??[]).filter(u=>{const d=/^refs\/heads\/(.*)$/.exec(u.name)?.[1];return d&&(!a[d]||a[d].some(b=>b.target!==u.target))})}),(0,Ke.d)(1)),this.pushableTags=(0,ve.aj)([this.store.select(D.E.selectedRepositoryPath).pipe((0,we.h)(Fe.$K)),this.store.select(D.E.selectedRepositoryTags),this.selectedRemote]).pipe((0,je.M)(this.selectedRepositoryCredentials),(0,xe.b)(()=>this.isLoadingTags.next(!0)),(0,ie.w)(([[t,n,i],r])=>this.remotesApi.getPushableTags(t,r,i??void 0).pipe((0,ct.x)(()=>this.isLoadingTags.next(!1)))),(0,Ke.d)(1))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E.F0),e.Y36(Ct.aV),e.Y36(e.s_b),e.Y36(G.yh),e.Y36(Rt.G),e.Y36(it))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-repository-action-view"]],features:[e.qOj],decls:8,vars:9,consts:[[1,"items","items-left"],["type","button","mat-stroked-button","",1,"item",3,"matTooltip","click"],[1,"branches-icon"],["class","items",4,"ngIf"],[1,"items"],["type","button","mat-stroked-button","",1,"item",3,"disabled","matTooltip","click"],[1,"fetch-icon"],[1,"pull-icon"],[1,"split-button","item"],["type","button","mat-stroked-button","",3,"disabled","matTooltip","click"],[1,"push-icon"],["type","button","mat-stroked-button","","appElementRef","",3,"disabled","click"],["pushMenuBtn","appElementRef"],["pushMenu",""],["branchPushMenu",""],["tagPushMenu",""],["forcePushMenu",""],["type","button","mat-stroked-button","",1,"item",3,"matTooltip","disabled","click"],[1,"tag-icon"],["svgIcon","source-branch",1,"branch-icon"],["diameter","24",4,"ngIf"],["class","edit-icon",4,"ngIf"],["type","button","mat-stroked-button","","matTooltip","Search",1,"item",3,"click"],[1,"search-icon"],["type","button","mat-stroked-button","","matTooltip","Repository Settings",1,"item",3,"click"],[1,"settings-icon"],[1,"push-menu"],["class","remotes",4,"ngIf"],[1,"branches"],["type","button","appElementRef","",1,"menu-item",3,"click"],["branchPushMenuBtn","appElementRef"],[1,"expand-icon"],["tagPushMenuBtn","appElementRef"],["type","button","matTooltip","Warning: this can cause commits on the remote to become lost, or for the remote to become de-synced for other team members","appElementRef","",1,"menu-item","warn",3,"click"],["forcePushMenuBtn","appElementRef"],[1,"remotes"],[3,"formControl"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"branch-push-menu"],["type","button","matTooltip","Push all branches",1,"menu-item",3,"click"],["type","button","class","menu-item",3,"matTooltip","click",4,"ngFor","ngForOf"],["type","button",1,"menu-item",3,"matTooltip","click"],[1,"tag-push-menu"],["type","button","matTooltip","Push all tags",1,"menu-item",3,"click"],[3,"padding",4,"ngIf"],["diameter","24"],["matTooltip","Warning: this can cause commits on the remote to become lost, or for the remote to become de-synced for other team members",1,"force-push-menu"],["type","button","class","menu-item",3,"click",4,"ngFor","ngForOf"],["type","button",1,"menu-item",3,"click"],[1,"edit-icon"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.toggleBranches()}),e.ALo(2,"async"),e.TgZ(3,"mat-icon",2),e._uU(4),e.ALo(5,"async"),e.qZA()()(),e.YNc(6,kr,58,58,"div",3),e.ALo(7,"async")),2&t&&(e.xp6(1),e.Q6J("matTooltip",e.lcZ(2,3,n.branchesVisible)?"Hide branches":"Show branches"),e.xp6(3),e.Oqu(e.lcZ(5,5,n.branchesVisible)?"unfold_less":"unfold_more"),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,7,n.remotes)))},dependencies:[ne.Ou,Se,P,te.sg,te.O5,z.JJ,z.oH,Qe.lW,Ue.Hw,Ve.gM,mr.F,te.Ov,Mt.r],styles:["[_nghost-%COMP%]{position:relative;display:block}.items-left[_ngcontent-%COMP%]{position:absolute;left:0;top:0;padding:0 10px}.items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.item[_ngcontent-%COMP%]{cursor:pointer;font-size:0;margin-right:5px;min-width:45px;padding:0 10px}.item[_ngcontent-%COMP%]:last-child{margin-right:0}.item[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block}.branches-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.split-button[_ngcontent-%COMP%]{padding:0}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-radius:0;font-size:0}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px;padding:0 2px;min-width:10px}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(:last-child){border-right:none;margin-right:0;min-width:45px;padding:0 10px}.push-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto;display:flex;max-width:400px}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:MontserratVariable;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.push-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.push-menu[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;overflow-x:hidden}.push-menu[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]   .warn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:not(.expand-icon){color:#e57373;margin-right:10px}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]{padding:15px}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-bottom:10px}.branch-push-menu[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:MontserratVariable;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child, .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child, .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child, .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child, .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover, .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.branch-push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.branch-push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.branch-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .tag-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.branch-push-menu.sub-menu-1[_ngcontent-%COMP%], .tag-push-menu.sub-menu-1[_ngcontent-%COMP%], .force-push-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}"],changeDetection:0}),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryPath)],o.prototype,"selectedRepositoryPath",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryCredentials)],o.prototype,"selectedRepositoryCredentials",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRemotes)],o.prototype,"remotes",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRemote)],o.prototype,"selectedRemote",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryLocalBranches)],o.prototype,"localBranches",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryRemoteBranches)],o.prototype,"remoteBranches",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryCurrentBranch)],o.prototype,"currentBranch",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryCurrentBranchUpstreamBranch)],o.prototype,"currentUpstreamBranch",void 0),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepositoryLoadingCommitEdit)],o.prototype,"loadingCommitEdit",void 0),(0,Z.gn)([(0,G.Ph)(ke.$.gridSizes("default-layout"))],o.prototype,"defaultLayoutSizes",void 0),o})();function Sr(o,c){1&o&&e._UZ(0,"app-branches-view")}function Nr(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"app-diff-view",9),e.NdJ("closed",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closeDiffView())}),e.ALo(1,"async"),e.qZA()}if(2&o){const t=e.oxw();e.ekj("gap-left",!1===e.lcZ(1,4,t.showBranches)),e.Q6J("@slideLeft",void 0)("patch",t.selectedPatch)}}function Rr(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"app-merge-view",9),e.NdJ("closed",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closeDiffView())}),e.ALo(1,"async"),e.qZA()}if(2&o){const t=e.oxw();e.ekj("gap-left",!1===e.lcZ(1,4,t.showBranches)),e.Q6J("@slideLeft",void 0)("patch",t.selectedMergePatch)}}function Zr(o,c){if(1&o&&e._UZ(0,"app-commit-detail-view",10),2&o){const t=e.oxw();e.Q6J("commit",t.selectedCommit)}}function Er(o,c){if(1&o&&e._UZ(0,"app-merge-detail-view",11),2&o){const t=e.oxw();e.Q6J("merge",t.selectedMerge)}}const Ir=[{path:"",component:(()=>{class o extends((0,Ee.j)(Te.A,He.H)){constructor(t,n,i){super(),this.router=t,this.store=n,this.commitsApi=i,this.selectedCommit=new V.X(null),this.selectedMerge=new V.X(null),this.selectedPatch=new V.X(null),this.selectedMergePatch=new V.X(null),this.showBranches=this.defaultLayoutSizes.pipe((0,j.U)(r=>"0"!==r[0]&&"0px"!==r[0]&&"0%"!==r[0])),this.branchesViewMinSize=qe.q,this.getCommit=r=>r?.path&&r?.selectedCommitId?"head"===r.selectedCommitId?(0,Q.of)(r.mergeHeads.length>0?null:"head"):this.commitsApi.getCommit(r.path,r.selectedCommitId):(0,Q.of)(null),this.getMerge=r=>(0,Q.of)(r?.selectedMerge?r.selectedMerge:"head"===r?.selectedCommitId&&r.mergeHeads.length>0&&r?.path?r.workingCopyMergeChanges:null),this.getPatch=(r,a)=>{if(!r||!a||!r.selectedFile)return(0,Q.of)(null);const u=r.selectedFile;if("head"===a){const v=("staged"===u.area?r.stagedChanges?.patches:"unstaged"===u.area?r.unstagedChanges?.patches:void 0)?.find(_=>_.newFilePath===u.newFilePath&&_.oldFilePath===u.oldFilePath);return(0,Q.of)(v?{repositoryPath:r.path,patch:v,isUnstaged:"unstaged"===u.area}:null)}return"commit"===u.area&&0!==a.patches.length&&a.patches.find(b=>b.newFilePath===u.newFilePath&&b.oldFilePath===u.oldFilePath)?this.commitsApi.getPatch(r.path,a.id,u.oldFilePath,u.newFilePath).pipe((0,j.U)(b=>({repositoryPath:r.path,patch:b,isUnstaged:!1})),(0,Ne.K)(b=>_e.vE.matches(b)?(0,Q.of)(null):(0,pe._)(b))):(0,Q.of)(null)},this.getMergePatch=(r,a)=>(0,Q.of)(r&&a&&r.selectedFile?{repositoryPath:r.path,fromCommitId:a.fromCommitId,toCommitId:a.toCommitId,fromPatch:a.fromDiff.patches.find(u=>u.newFilePath===r?.selectedFile?.newFilePath)??null,toPatch:a.toDiff.patches.find(u=>u.newFilePath===r?.selectedFile?.newFilePath)??null,mergePatch:a.mergeDiff.patches.find(u=>u.newFilePath===r?.selectedFile?.newFilePath)??null}:null)}ngOnInit(){super.ngOnInit(),this.selectedRepository.pipe((0,xe.b)(t=>{t?.path||this.router.navigate(["/standard/open-repository"])}),(0,ie.w)(t=>(0,Oe.D)({commit:this.getCommit(t),merge:this.getMerge(t)}).pipe((0,j.U)(n=>({...n,repository:t})))),(0,xe.b)(({commit:t,merge:n})=>{this.selectedCommit.next(t),this.selectedMerge.next(n)}),(0,Ye.p)(100,void 0,{leading:!0,trailing:!0}),(0,ie.w)(({repository:t,commit:n,merge:i})=>(0,Oe.D)({patch:this.getPatch(t,n),mergePatch:this.getMergePatch(t,i)})),(0,K.R)(this.destroyed$)).subscribe(({patch:t,mergePatch:n})=>{this.selectedPatch.next(t),this.selectedMergePatch.next(n)})}changeCommit(t){const n=this.store.selectSnapshot(D.E.selectedRepositoryPath);if(!n)throw new Error("Cannot change commit when no repository is selected");if(t?.startsWith("merge:")){const i=t.match(/^merge:([^:]+):([^:]+)$/);i&&this.store.dispatch(new Ge.hb(n,i[1],i[2]))}else this.store.dispatch(new S.jQ(n,t))}closeDiffView(){const t=this.store.selectSnapshot(D.E.selectedRepositoryPath);null!==t&&this.store.dispatch(new S.gt(t,null))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E.F0),e.Y36(G.yh),e.Y36(Xe.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],features:[e.qOj],decls:16,vars:18,consts:[["id","default-layout"],[1,"left-cell",3,"min"],[4,"ngIf"],["min","200px",1,"center-cell"],[3,"repository","selectedMerge","changeCommit"],[3,"patch","gap-left","closed",4,"ngIf"],["min","200px",1,"right-cell"],[3,"commit",4,"ngIf"],[3,"merge",4,"ngIf"],[3,"patch","closed"],[3,"commit"],[3,"merge"]],template:function(t,n){1&t&&(e._UZ(0,"app-repository-action-view"),e.TgZ(1,"app-grid",0)(2,"app-grid-cell",1),e.YNc(3,Sr,1,0,"app-branches-view",2),e.ALo(4,"async"),e.qZA(),e.TgZ(5,"app-grid-cell",3)(6,"app-graph-view",4),e.NdJ("changeCommit",function(r){return n.changeCommit(r)}),e.qZA(),e.YNc(7,Nr,2,6,"app-diff-view",5),e.ALo(8,"async"),e.YNc(9,Rr,2,6,"app-merge-view",5),e.ALo(10,"async"),e.qZA(),e.TgZ(11,"app-grid-cell",6),e.YNc(12,Zr,1,1,"app-commit-detail-view",7),e.ALo(13,"async"),e.YNc(14,Er,1,1,"app-merge-detail-view",8),e.ALo(15,"async"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("min",n.branchesViewMinSize),e.xp6(1),e.Q6J("ngIf",e.lcZ(4,8,n.showBranches)),e.xp6(3),e.Q6J("repository",n.selectedRepository)("selectedMerge",n.selectedMerge),e.xp6(1),e.Q6J("ngIf",e.lcZ(8,10,n.selectedPatch)),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,12,n.selectedMergePatch)),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,14,n.selectedCommit)),e.xp6(2),e.Q6J("ngIf",e.lcZ(15,16,n.selectedMerge)))},dependencies:[te.O5,ut.Y,st.M,Kn,go,It.s,_i,wi,gr,Ar,te.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px)}app-repository-action-view[_ngcontent-%COMP%]{height:50px}app-graph-view[_ngcontent-%COMP%]{position:absolute;top:0;left:0;overflow:hidden}app-diff-view[_ngcontent-%COMP%], app-merge-view[_ngcontent-%COMP%]{z-index:200}app-diff-view.gap-left[_ngcontent-%COMP%], app-merge-view.gap-left[_ngcontent-%COMP%]{padding-left:10px}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}.right-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}"],data:{animation:[(0,$.X$)("slideLeft",[(0,$.eR)(":enter",[(0,$.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,$.jt)("200ms",(0,$.oB)({transform:"translateX(0)"}))]),(0,$.eR)(":leave",[(0,$.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,$.jt)("200ms",(0,$.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0}),(0,Z.gn)([(0,G.Ph)(D.E.selectedRepository)],o.prototype,"selectedRepository",void 0),(0,Z.gn)([(0,G.Ph)(ke.$.gridSizes("default-layout"))],o.prototype,"defaultLayoutSizes",void 0),o})()}];let Fr=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[E.Bz.forChild(Ir),E.Bz]}),o})(),Br=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[k.I,f,y,s.m,F,I,X,B,Fr]}),o})()},6271:(L,U,l)=>{l.d(U,{k:()=>w});var k=l(3779),C=l(4650),M=l(468);let w=(()=>{class O{constructor(e){this.baseApi=e}getRelativePath(e,f){return this.baseApi.single(k.w.files.getRelativePath,e,f)}getResolvedPath(e,f){return this.baseApi.single(k.w.files.getResolvedPath,e,f)}getFileContents(e){return this.baseApi.single(k.w.files.getFileContents,e)}openFileDialog(e){return this.baseApi.single(k.w.files.openFileDialog,e)}openFolderDialog(e,f){return this.baseApi.single(k.w.files.openFolderDialog,e,f)}}return O.\u0275fac=function(e){return new(e||O)(C.LFG(M._))},O.\u0275prov=C.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},337:L=>{L.exports={mode:"lazy"}},8133:(L,U,l)=>{const k=l(337),C=l(2e3),M=l(1899),w=new WeakMap;function f(q){let oe=w.get(q);oe||(oe=function z(q){const oe=M.transform(q,W);return new M.TransformResult(oe.getAST(),x)}(M.parse(`/${q.source}/${q.flags}`)),w.set(q,oe));const re=oe.getExtra();return{measurementRegExp:oe.toRegExp(),groupInfos:re}}function g(q,oe){const re=q.index,ae=re+q[0].length,ue=[],he=q.groups?Object.create(null):void 0;h(ue,0,[re,ae]);for(const ge of oe){let Be;if(void 0!==q[ge.newGroupNumber]){let fe=re;if(ge.measurementGroups)for(const Le of ge.measurementGroups)fe+=q[Le].length;Be=[fe,fe+q[ge.newGroupNumber].length]}h(ue,ge.oldGroupNumber,Be),he&&void 0!==ge.groupName&&h(he,ge.groupName,Be)}return h(ue,"groups",he),ue}function h(q,oe,re){const ae=Object.getOwnPropertyDescriptor(q,oe);(ae?ae.configurable:Object.isExtensible(q))&&Object.defineProperty(q,oe,{enumerable:!ae||ae.enumerable,configurable:!ae||ae.configurable,writable:!0,value:re})}let x,y=!1,s=new Set,T=[],N=!1,F=1,J=[],I=new Map,Y=new Map;const W={init(){y=!1,s.clear(),T.length=0,N=!1,F=1,J.length=0,I.clear(),Y.clear(),x=[]},RegExp:q=>(M.traverse(q.node,ne),s.size>0&&(M.transform(q.node,de),M.transform(q.node,Ce),y&&M.transform(q.node,Me)),!1)},X={pre(q){T.push(N),N="Group"===q.node.type&&q.node.capturing},post(q){N&&s.add(q.node),N=T.pop()||N}},ne={Alternative:X,Disjunction:X,Assertion:X,Group:X,Repetition:X,Backreference(q){y=!0}},de={Alternative(q){if(s.has(q.node)){let oe=0,re=[];const ae=[],le=[];for(let ue=0;ue<q.node.expressions.length;ue++){const he=q.node.expressions[ue];if(s.has(he)){if(ue>oe){const ge={type:"Group",capturing:!0,number:-1,expression:re.length>1?{type:"Alternative",expressions:re}:1===re.length?re[0]:null};le.push(ge),ae.push(ge),oe=ue,re=[]}J.push(ae),M.transform(he,de),J.pop(),re.push(he)}else re.push(he)}q.update({expressions:le.concat(re)})}return!1},Group(q){!q.node.capturing||I.set(q.node,function me(){const q=[];for(const oe of J)for(const re of oe)q.push(re);return q}())}},Ce={Group(q){if(!x)throw new Error("Not initialized.");if(!q.node.capturing)return;const oe=q.node.number,re=F++,ae=I.get(q.node);-1!==oe&&(x.push({oldGroupNumber:oe,newGroupNumber:re,measurementGroups:ae&&ae.map(le=>le.number),groupName:q.node.name}),Y.set(oe,re)),q.update({number:re})}},Me={Backreference(q){const oe=Y.get(q.node.number);oe&&q.update("number"===q.node.kind?{number:oe,reference:oe}:{number:oe})}};L.exports=function O(q){return"spec-compliant"===k.mode?function e(q,oe){const{measurementRegExp:re,groupInfos:ae}=f(q);re.lastIndex=q.lastIndex;const le=C.call(re,oe);if(null===le)return null;q.lastIndex=re.lastIndex;const ue=[];h(ue,0,le[0]);for(const he of ae)h(ue,he.oldGroupNumber,le[he.newGroupNumber]);return h(ue,"index",le.index),h(ue,"input",le.input),h(ue,"groups",le.groups),h(ue,"indices",g(le,ae)),ue}(this,q):function m(q,oe){const re=q.lastIndex,ae=C.call(q,oe);if(null===ae)return null;let le;return Object.defineProperty(ae,"indices",{enumerable:!0,configurable:!0,get(){if(void 0===le){const{measurementRegExp:ue,groupInfos:he}=f(q);ue.lastIndex=re;const ge=C.call(ue,oe);if(null===ge)throw new TypeError;h(ae,"indices",le=g(ge,he))}return le},set(ue){h(ae,"indices",ue)}}),ae}(this,q)}},5143:(L,U,l)=>{const k=l(8133),C=l(2e3),M=l(246),w=l(9e3),O=l(337),m=M();function e(f,g){return m.call(f,g)}e.implementation=k,e.native=C,e.getPolyfill=M,e.shim=w,e.config=O,e||(e={}),L.exports=e},2e3:L=>{const U=RegExp.prototype.exec;L.exports=U},246:(L,U,l)=>{const k=l(2e3),C=l(8133);L.exports=function M(){const w=new RegExp("a");return k.call(w,"a").indices?k:C}},9e3:(L,U,l)=>{const k=l(246);L.exports=function C(){const M=k();RegExp.prototype.exec!==M&&(RegExp.prototype.exec=M)}},8765:(L,U,l)=>{var k=l(9369),C=l(5258);L.exports={transform:function(w){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],m=O.length>0?O:Object.keys(k),e=void 0,f={};return m.forEach(function(g){if(!k.hasOwnProperty(g))throw new Error("Unknown compat-transform: "+g+". Available transforms are: "+Object.keys(k).join(", "));var h=k[g];e=C.transform(w,h),w=e.getAST(),"function"==typeof h.getExtra&&(f[g]=h.getExtra())}),e.setExtra(f),e}}},4662:L=>{var U=function(){function C(M,w){for(var O=0;O<w.length;O++){var m=w[O];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(M,m.key,m)}}return function(M,w,O){return w&&C(M.prototype,w),O&&C(M,O),M}}(),k=function(){function C(M,w){var O=w.flags,m=w.groups,e=w.source;(function l(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")})(this,C),this._re=M,this._groups=m,this.flags=O,this.source=e||M.source,this.dotAll=O.includes("s"),this.global=M.global,this.ignoreCase=M.ignoreCase,this.multiline=M.multiline,this.sticky=M.sticky,this.unicode=M.unicode}return U(C,[{key:"test",value:function(w){return this._re.test(w)}},{key:"compile",value:function(w){return this._re.compile(w)}},{key:"toString",value:function(){return this._toStringResult||(this._toStringResult="/"+this.source+"/"+this.flags),this._toStringResult}},{key:"exec",value:function(w){var O=this._re.exec(w);if(!this._groups||!O)return O;for(var m in O.groups={},this._groups)O.groups[m]=O[this._groups[m]];return O}}]),C}();L.exports={RegExpTree:k}},3901:L=>{L.exports={_hasUFlag:!1,shouldRun:function(l){return!!l.flags.includes("s")&&(l.flags=l.flags.replace("s",""),this._hasUFlag=l.flags.includes("u"),!0)},Char:function(l){var k=l.node;if("meta"===k.kind&&"."===k.value){var C="\\uFFFF",M="\uffff";this._hasUFlag&&(C="\\u{10FFFF}",M="\u{10ffff}"),l.replace({type:"CharacterClass",expressions:[{type:"ClassRange",from:{type:"Char",value:"\\0",kind:"decimal",symbol:"\0"},to:{type:"Char",value:C,kind:"unicode",symbol:M}}]})}}}},4273:L=>{L.exports={_groupNames:{},init:function(){this._groupNames={}},getExtra:function(){return this._groupNames},Group:function(l){var k=l.node;!k.name||(this._groupNames[k.name]=k.number,delete k.name,delete k.nameRaw)},Backreference:function(l){var k=l.node;"name"===k.kind&&(k.kind="number",k.reference=k.number,delete k.referenceRaw)}}},5903:L=>{L.exports={RegExp:function(l){var k=l.node;k.flags.includes("x")&&(k.flags=k.flags.replace("x",""))}}},9369:(L,U,l)=>{L.exports={dotAll:l(3901),namedCapturingGroups:l(4273),xFlag:l(5903)}},3930:L=>{function U(k){return k?l[k.type](k):""}var l={RegExp:function(C){return"/"+U(C.body)+"/"+C.flags},Alternative:function(C){return(C.expressions||[]).map(U).join("")},Disjunction:function(C){return U(C.left)+"|"+U(C.right)},Group:function(C){var M=U(C.expression);return C.capturing?C.name?"(?<"+(C.nameRaw||C.name)+">"+M+")":"("+M+")":"(?:"+M+")"},Backreference:function(C){switch(C.kind){case"number":return"\\"+C.reference;case"name":return"\\k<"+(C.referenceRaw||C.reference)+">";default:throw new TypeError("Unknown Backreference kind: "+C.kind)}},Assertion:function(C){switch(C.kind){case"^":case"$":case"\\b":case"\\B":return C.kind;case"Lookahead":var M=U(C.assertion);return C.negative?"(?!"+M+")":"(?="+M+")";case"Lookbehind":var w=U(C.assertion);return C.negative?"(?<!"+w+")":"(?<="+w+")";default:throw new TypeError("Unknown Assertion kind: "+C.kind)}},CharacterClass:function(C){var M=C.expressions.map(U).join("");return C.negative?"[^"+M+"]":"["+M+"]"},ClassRange:function(C){return U(C.from)+"-"+U(C.to)},Repetition:function(C){return""+U(C.expression)+U(C.quantifier)},Quantifier:function(C){var M=void 0,w=C.greedy?"":"?";switch(C.kind){case"+":case"?":case"*":M=C.kind;break;case"Range":M=C.from===C.to?"{"+C.from+"}":C.to?"{"+C.from+","+C.to+"}":"{"+C.from+",}";break;default:throw new TypeError("Unknown Quantifier kind: "+C.kind)}return""+M+w},Char:function(C){var M=C.value;switch(C.kind){case"simple":return C.escaped?"\\"+M:M;case"hex":case"unicode":case"oct":case"decimal":case"control":case"meta":return M;default:throw new TypeError("Unknown Char kind: "+C.kind)}},UnicodeProperty:function(C){return"\\"+(C.negative?"P":"p")+"{"+(C.shorthand||C.binary?"":C.name+"=")+C.value+"}"}};L.exports={generate:U}},3813:L=>{var U=function(f,g){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return function e(f,g){var h=[],x=!0,y=!1,s=void 0;try{for(var N,T=f[Symbol.iterator]();!(x=(N=T.next()).done)&&(h.push(N.value),!g||h.length!==g);x=!0);}catch(F){y=!0,s=F}finally{try{!x&&T.return&&T.return()}finally{if(y)throw s}}return h}(f,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function l(e){return Array.isArray(e)?e:Array.from(e)}function k(e){if(Array.isArray(e)){for(var f=0,g=Array(e.length);f<e.length;f++)g[f]=e[f];return g}return Array.from(e)}var C=null;function w(e,f){if(!f||e.length!==f.length)return!1;for(var g=0;g<e.length;g++){var h=e[g],x=f[g];if(h.size!==x.size||[].concat(k(h)).sort().join(",")!==[].concat(k(x)).sort().join(","))return!1}return!0}function O(e,f,g,h){var x=!0,y=!1,s=void 0;try{for(var N,T=h[Symbol.iterator]();!(x=(N=T.next()).done);x=!0)if(!m(e,f,g,N.value))return!1}catch(J){y=!0,s=J}finally{try{!x&&T.return&&T.return()}finally{if(y)throw s}}return!0}function m(e,f,g,h){if(!C[e]||!C[f])return!1;var x=g[e][h],y=g[f][h];return!x&&!y||C[e].has(x)&&C[f].has(y)}L.exports={minimize:function M(e){var f=e.getTransitionTable(),g=Object.keys(f),h=e.getAlphabet(),x=e.getAcceptingStateNumbers();C={};var y=new Set;g.forEach(function(B){B=Number(B),x.has(B)?C[B]=x:(y.add(B),C[B]=y)});var s=[[y,x].filter(function(B){return B.size>0})],T=void 0,N=void 0;T=s[s.length-1],N=s[s.length-2];for(var F=function(){var E={},Z=!0,$=!1,G=void 0;try{for(var Q,V=T[Symbol.iterator]();!(Z=(Q=V.next()).done);Z=!0){var Oe={},j=l(Q.value),Ne=j[0],xe=j.slice(1);Oe[Ne]=new Set([Ne]);var ie=!0,Ye=!1,K=void 0;try{e:for(var Ee,_e=xe[Symbol.iterator]();!(ie=(Ee=_e.next()).done);ie=!0){var Te=Ee.value,He=!0,qe=!1,S=void 0;try{for(var Ge,D=Object.keys(Oe)[Symbol.iterator]();!(He=(Ge=D.next()).done);He=!0){var ke=Ge.value;if(O(Te,ke,f,h)){Oe[ke].add(Te),Oe[Te]=Oe[ke];continue e}}}catch(te){qe=!0,S=te}finally{try{!He&&D.return&&D.return()}finally{if(qe)throw S}}Oe[Te]=new Set([Te])}}catch(te){Ye=!0,K=te}finally{try{!ie&&_e.return&&_e.return()}finally{if(Ye)throw K}}Object.assign(E,Oe)}}catch(te){$=!0,G=te}finally{try{!Z&&V.return&&V.return()}finally{if($)throw G}}C=E;var Xe=new Set(Object.keys(E).map(function(te){return E[te]}));s.push([].concat(k(Xe))),T=s[s.length-1],N=s[s.length-2]};!w(T,N);)F();var J=new Map,I=1;T.forEach(function(B){return J.set(B,I++)});var Y={},W=new Set,X=function(E,Z){var $=!0,G=!1,V=void 0;try{for(var pe,Q=E[Symbol.iterator]();!($=(pe=Q.next()).done);$=!0)x.has(pe.value)&&W.add(Z)}catch(j){G=!0,V=j}finally{try{!$&&Q.return&&Q.return()}finally{if(G)throw V}}},ne=!0,de=!1,Ce=void 0;try{for(var me,Me=J.entries()[Symbol.iterator]();!(ne=(me=Me.next()).done);ne=!0){var q=U(me.value,2),oe=q[0],re=q[1];Y[re]={};var ae=!0,le=!1,ue=void 0;try{for(var ge,he=h[Symbol.iterator]();!(ae=(ge=he.next()).done);ae=!0){var Be=ge.value;X(oe,re);var fe=void 0,Se=!0,Le=!1,De=void 0;try{for(var P,$e=oe[Symbol.iterator]();!(Se=(P=$e.next()).done)&&!(fe=f[P.value][Be]);Se=!0);}catch(B){Le=!0,De=B}finally{try{!Se&&$e.return&&$e.return()}finally{if(Le)throw De}}fe&&(Y[re][Be]=J.get(C[fe]))}}catch(B){le=!0,ue=B}finally{try{!ae&&he.return&&he.return()}finally{if(le)throw ue}}}}catch(B){de=!0,Ce=B}finally{try{!ne&&Me.return&&Me.return()}finally{if(de)throw Ce}}return e.setTransitionTable(Y),e.setAcceptingStateNumbers(W),e}}},656:(L,U,l)=>{var k=function(){function f(g,h){for(var x=0;x<h.length;x++){var y=h[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,h,x){return h&&f(g.prototype,h),x&&f(g,x),g}}();function C(f){if(Array.isArray(f)){for(var g=0,h=Array(f.length);g<f.length;g++)h[g]=f[g];return h}return Array.from(f)}var w=l(3813),m=l(2706).EPSILON_CLOSURE,e=function(){function f(g){(function M(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this._nfa=g}return k(f,[{key:"minimize",value:function(){this.getTransitionTable(),this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._originalTransitionTable=this._transitionTable,w.minimize(this)}},{key:"getAlphabet",value:function(){return this._nfa.getAlphabet()}},{key:"getAcceptingStateNumbers",value:function(){return this._acceptingStateNumbers||this.getTransitionTable(),this._acceptingStateNumbers}},{key:"getOriginaAcceptingStateNumbers",value:function(){return this._originalAcceptingStateNumbers||this.getTransitionTable(),this._originalAcceptingStateNumbers}},{key:"setTransitionTable",value:function(h){this._transitionTable=h}},{key:"setAcceptingStateNumbers",value:function(h){this._acceptingStateNumbers=h}},{key:"getTransitionTable",value:function(){var h=this;if(this._transitionTable)return this._transitionTable;var x=this._nfa.getTransitionTable(),y=Object.keys(x);this._acceptingStateNumbers=new Set;for(var T=[x[y[0]][m]],N=this.getAlphabet(),F=this._nfa.getAcceptingStateNumbers(),J={},I=function(E){var Z=!0,$=!1,G=void 0;try{for(var Q,V=F[Symbol.iterator]();!(Z=(Q=V.next()).done);Z=!0)if(-1!==E.indexOf(Q.value)){h._acceptingStateNumbers.add(E.join(","));break}}catch(Oe){$=!0,G=Oe}finally{try{!Z&&V.return&&V.return()}finally{if($)throw G}}};T.length>0;){var Y=T.shift(),W=Y.join(",");J[W]={};var X=!0,ne=!1,de=void 0;try{for(var Me,Ce=N[Symbol.iterator]();!(X=(Me=Ce.next()).done);X=!0){var me=Me.value,z=[];I(Y);var q=!0,oe=!1,re=void 0;try{for(var le,ae=Y[Symbol.iterator]();!(q=(le=ae.next()).done);q=!0){var he=x[le.value][me];if(he){var ge=!0,Be=!1,fe=void 0;try{for(var Le,Se=he[Symbol.iterator]();!(ge=(Le=Se.next()).done);ge=!0){var De=Le.value;!x[De]||z.push.apply(z,C(x[De][m]))}}catch(B){Be=!0,fe=B}finally{try{!ge&&Se.return&&Se.return()}finally{if(Be)throw fe}}}}}catch(B){oe=!0,re=B}finally{try{!q&&ae.return&&ae.return()}finally{if(oe)throw re}}var $e=new Set(z),P=[].concat(C($e));if(P.length>0){var p=P.join(",");J[W][me]=p,J.hasOwnProperty(p)||T.unshift(P)}}}catch(B){ne=!0,de=B}finally{try{!X&&Ce.return&&Ce.return()}finally{if(ne)throw de}}}return this._transitionTable=this._remapStateNumbers(J)}},{key:"_remapStateNumbers",value:function(h){var x={};this._originalTransitionTable=h;var y={};for(var s in Object.keys(h).forEach(function(de,Ce){x[de]=Ce+1}),h){var T=h[s],N={};for(var F in T)N[F]=x[T[F]];y[x[s]]=N}this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._acceptingStateNumbers=new Set;var J=!0,I=!1,Y=void 0;try{for(var X,W=this._originalAcceptingStateNumbers[Symbol.iterator]();!(J=(X=W.next()).done);J=!0)this._acceptingStateNumbers.add(x[X.value])}catch(de){I=!0,Y=de}finally{try{!J&&W.return&&W.return()}finally{if(I)throw Y}}return y}},{key:"getOriginalTransitionTable",value:function(){return this._originalTransitionTable||this.getTransitionTable(),this._originalTransitionTable}},{key:"matches",value:function(h){for(var x=1,y=0,s=this.getTransitionTable();h[y];)if(!(x=s[x][h[y++]]))return!1;return!!this.getAcceptingStateNumbers().has(x)}}]),f}();L.exports=e},4575:(L,U,l)=>{var k=l(2495),C=l(656),M=l(7978),w=l(9061);L.exports={NFA:k,DFA:C,builders:w,toNFA:function(m){return M.build(m)},toDFA:function(m){return new C(this.toNFA(m))},test:function(m,e){return this.toDFA(m).matches(e)}}},9061:(L,U,l)=>{var k=l(2495),C=l(2074),w=l(2706).EPSILON;function O(N){var F=new C,J=new C({accepting:!0});return new k(F.addTransition(N,J),J)}function e(N,F){return N.out.accepting=!1,F.out.accepting=!0,N.out.addTransition(w,F.in),new k(N.in,F.out)}function g(N,F){var J=new C,I=new C;return J.addTransition(w,N.in),J.addTransition(w,F.in),I.accepting=!0,N.out.accepting=!1,F.out.accepting=!1,N.out.addTransition(w,I),F.out.addTransition(w,I),new k(J,I)}L.exports={alt:function f(N){for(var F=arguments.length,J=Array(F>1?F-1:0),I=1;I<F;I++)J[I-1]=arguments[I];var Y=!0,W=!1,X=void 0;try{for(var de,ne=J[Symbol.iterator]();!(Y=(de=ne.next()).done);Y=!0){var Ce=de.value;N=e(N,Ce)}}catch(Me){W=!0,X=Me}finally{try{!Y&&ne.return&&ne.return()}finally{if(W)throw X}}return N},char:O,e:function m(){return O(w)},or:function h(N){for(var F=arguments.length,J=Array(F>1?F-1:0),I=1;I<F;I++)J[I-1]=arguments[I];var Y=!0,W=!1,X=void 0;try{for(var de,ne=J[Symbol.iterator]();!(Y=(de=ne.next()).done);Y=!0){var Ce=de.value;N=g(N,Ce)}}catch(Me){W=!0,X=Me}finally{try{!Y&&ne.return&&ne.return()}finally{if(W)throw X}}return N},rep:function y(N){return N.in.addTransition(w,N.out),N.out.addTransition(w,N.in),N},repExplicit:function x(N){var F=new C,J=new C({accepting:!0});return F.addTransition(w,N.in),F.addTransition(w,J),N.out.accepting=!1,N.out.addTransition(w,J),J.addTransition(w,N.in),new k(F,J)},plusRep:function s(N){return N.out.addTransition(w,N.in),N},questionRep:function T(N){return N.in.addTransition(w,N.out),N}}},7978:(L,U,l)=>{var C=l(8397),M=l(9061),w=M.alt,O=M.char,m=M.or,e=M.rep,f=M.plusRep,g=M.questionRep;function h(y){if(y&&!x[y.type])throw new Error(y.type+" is not supported in NFA/DFA interpreter.");return y?x[y.type](y):""}var x={RegExp:function(s){if(""!==s.flags)throw new Error("NFA/DFA: Flags are not supported yet.");return h(s.body)},Alternative:function(s){var T=(s.expressions||[]).map(h);return w.apply(void 0,function k(y){if(Array.isArray(y)){for(var s=0,T=Array(y.length);s<y.length;s++)T[s]=y[s];return T}return Array.from(y)}(T))},Disjunction:function(s){return m(h(s.left),h(s.right))},Repetition:function(s){switch(s.quantifier.kind){case"*":return e(h(s.expression));case"+":return f(h(s.expression));case"?":return g(h(s.expression));default:throw new Error("Unknown repeatition: "+s.quantifier.kind+".")}},Char:function(s){if("simple"!==s.kind)throw new Error("NFA/DFA: Only simple chars are supported yet.");return O(s.value)},Group:function(s){return h(s.expression)}};L.exports={build:function(s){var T=s;return s instanceof RegExp&&(s=""+s),"string"==typeof s&&(T=C.parse(s,{captureLocations:!0})),h(T)}}},2074:(L,U,l)=>{var k=function(){function g(h,x){for(var y=0;y<x.length;y++){var s=x[y];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(h,s.key,s)}}return function(h,x,y){return x&&g(h.prototype,x),y&&g(h,y),h}}();function C(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")}function M(g,h){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?g:h}var O=l(5320),e=l(2706).EPSILON,f=function(g){function h(){return C(this,h),M(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function w(g,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}(h,g),k(h,[{key:"matches",value:function(y){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(s.has(this))return!1;if(s.add(this),0===y.length){if(this.accepting)return!0;var T=!0,N=!1,F=void 0;try{for(var I,J=this.getTransitionsOnSymbol(e)[Symbol.iterator]();!(T=(I=J.next()).done);T=!0){var Y=I.value;if(Y.matches("",s))return!0}}catch(ge){N=!0,F=ge}finally{try{!T&&J.return&&J.return()}finally{if(N)throw F}}return!1}var W=y[0],X=y.slice(1),ne=this.getTransitionsOnSymbol(W),de=!0,Ce=!1,Me=void 0;try{for(var z,me=ne[Symbol.iterator]();!(de=(z=me.next()).done);de=!0){var q=z.value;if(q.matches(X))return!0}}catch(ge){Ce=!0,Me=ge}finally{try{!de&&me.return&&me.return()}finally{if(Ce)throw Me}}var oe=!0,re=!1,ae=void 0;try{for(var ue,le=this.getTransitionsOnSymbol(e)[Symbol.iterator]();!(oe=(ue=le.next()).done);oe=!0){var he=ue.value;if(he.matches(y,s))return!0}}catch(ge){re=!0,ae=ge}finally{try{!oe&&le.return&&le.return()}finally{if(re)throw ae}}return!1}},{key:"getEpsilonClosure",value:function(){var y=this;return this._epsilonClosure||function(){var s=y.getTransitionsOnSymbol(e),T=y._epsilonClosure=new Set;T.add(y);var N=!0,F=!1,J=void 0;try{for(var Y,I=s[Symbol.iterator]();!(N=(Y=I.next()).done);N=!0){var W=Y.value;T.has(W)||(T.add(W),W.getEpsilonClosure().forEach(function(ne){return T.add(ne)}))}}catch(ne){F=!0,J=ne}finally{try{!N&&I.return&&I.return()}finally{if(F)throw J}}}(),this._epsilonClosure}}]),h}(O);L.exports=f},2495:(L,U,l)=>{var k=function(h,x){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return function g(h,x){var y=[],s=!0,T=!1,N=void 0;try{for(var J,F=h[Symbol.iterator]();!(s=(J=F.next()).done)&&(y.push(J.value),!x||y.length!==x);s=!0);}catch(I){T=!0,N=I}finally{try{!s&&F.return&&F.return()}finally{if(T)throw N}}return y}(h,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=function(){function g(h,x){for(var y=0;y<x.length;y++){var s=x[y];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(h,s.key,s)}}return function(h,x,y){return x&&g(h.prototype,x),y&&g(h,y),h}}(),O=l(2706),m=O.EPSILON,e=O.EPSILON_CLOSURE,f=function(){function g(h,x){(function w(g,h){if(!(g instanceof h))throw new TypeError("Cannot call a class as a function")})(this,g),this.in=h,this.out=x}return C(g,[{key:"matches",value:function(x){return this.in.matches(x)}},{key:"getAlphabet",value:function(){if(!this._alphabet){this._alphabet=new Set;var x=this.getTransitionTable();for(var y in x){var s=x[y];for(var T in s)T!==e&&this._alphabet.add(T)}}return this._alphabet}},{key:"getAcceptingStates",value:function(){return this._acceptingStates||this.getTransitionTable(),this._acceptingStates}},{key:"getAcceptingStateNumbers",value:function(){if(!this._acceptingStateNumbers){this._acceptingStateNumbers=new Set;var x=!0,y=!1,s=void 0;try{for(var N,T=this.getAcceptingStates()[Symbol.iterator]();!(x=(N=T.next()).done);x=!0)this._acceptingStateNumbers.add(N.value.number)}catch(J){y=!0,s=J}finally{try{!x&&T.return&&T.return()}finally{if(y)throw s}}}return this._acceptingStateNumbers}},{key:"getTransitionTable",value:function(){var x=this;if(!this._transitionTable){this._transitionTable={},this._acceptingStates=new Set;var y=new Set,s=new Set;(function N(F){if(!y.has(F)){y.add(F),F.number=y.size,x._transitionTable[F.number]={},F.accepting&&x._acceptingStates.add(F);var J=F.getTransitions(),I=!0,Y=!1,W=void 0;try{for(var ne,X=J[Symbol.iterator]();!(I=(ne=X.next()).done);I=!0){var Ce=k(ne.value,2),Me=Ce[0],me=Ce[1],z=[];s.add(Me);var q=!0,oe=!1,re=void 0;try{for(var le,ae=me[Symbol.iterator]();!(q=(le=ae.next()).done);q=!0){var ue=le.value;N(ue),z.push(ue.number)}}catch(he){oe=!0,re=he}finally{try{!q&&ae.return&&ae.return()}finally{if(oe)throw re}}x._transitionTable[F.number][Me]=z}}catch(he){Y=!0,W=he}finally{try{!I&&X.return&&X.return()}finally{if(Y)throw W}}}})(this.in),y.forEach(function(N){delete x._transitionTable[N.number][m],x._transitionTable[N.number][e]=[].concat(function M(g){if(Array.isArray(g)){for(var h=0,x=Array(g.length);h<g.length;h++)x[h]=g[h];return x}return Array.from(g)}(N.getEpsilonClosure())).map(function(F){return F.number})})}return this._transitionTable}}]),g}();L.exports=f},2706:L=>{L.exports={EPSILON:"\u03b5",EPSILON_CLOSURE:"\u03b5*"}},5320:L=>{var U=function(){function C(M,w){for(var O=0;O<w.length;O++){var m=w[O];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(M,m.key,m)}}return function(M,w,O){return w&&C(M.prototype,w),O&&C(M,O),M}}();function l(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}var k=function(){function C(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=M.accepting,O=void 0!==w&&w;l(this,C),this._transitions=new Map,this.accepting=O}return U(C,[{key:"getTransitions",value:function(){return this._transitions}},{key:"addTransition",value:function(w,O){return this.getTransitionsOnSymbol(w).add(O),this}},{key:"getTransitionsOnSymbol",value:function(w){var O=this._transitions.get(w);return O||this._transitions.set(w,O=new Set),O}}]),C}();L.exports=k},5299:(L,U,l)=>{var k=l(7555),C=l(8397),M=l(5258),w=l(334);L.exports={optimize:function(m){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=e.whitelist,g=void 0===f?[]:f,h=e.blacklist,x=void 0===h?[]:h,y=g.length>0?g:Array.from(w.keys()),s=y.filter(function(J){return!x.includes(J)}),T=m;m instanceof RegExp&&(m=""+m),"string"==typeof m&&(T=C.parse(m));var N=new M.TransformResult(T),F=void 0;do{F=N.toString(),T=k(N.getAST()),s.forEach(function(J){if(!w.has(J))throw new Error("Unknown optimization-transform: "+J+". Available transforms are: "+Array.from(w.keys()).join(", "));var I=w.get(J),Y=M.transform(T,I);Y.toString()!==N.toString()&&(Y.toString().length<=N.toString().length?N=Y:T=k(N.getAST()))})}while(N.toString()!==F);return N}}},3270:L=>{var U="A".codePointAt(0),l="Z".codePointAt(0);L.exports={_AZClassRanges:null,_hasUFlag:!1,init:function(O){this._AZClassRanges=new Set,this._hasUFlag=O.flags.includes("u")},shouldRun:function(O){return O.flags.includes("i")},Char:function(O){var m=O.node,e=O.parent;if(!isNaN(m.codePoint)&&(this._hasUFlag||!(m.codePoint>=4096))){if("ClassRange"===e.type){if(!this._AZClassRanges.has(e)&&!function k(w){var O=w.from,m=w.to;return O.codePoint>=U&&O.codePoint<=l&&m.codePoint>=U&&m.codePoint<=l}(e))return;this._AZClassRanges.add(e)}var f=m.symbol.toLowerCase();f!==m.symbol&&(m.value=function C(w,O){var m=w.codePointAt(0);if("decimal"===O.kind)return"\\"+m;if("oct"===O.kind)return"\\0"+m.toString(8);if("hex"===O.kind)return"\\x"+m.toString(16);if("unicode"===O.kind){if(O.isSurrogatePair){var e=function M(w){var m=(w-65536)%1024+56320;return{lead:(Math.floor((w-65536)/1024)+55296).toString(16),trail:m.toString(16)}}(m),f=e.lead,g=e.trail;return"\\u"+"0".repeat(4-f.length)+f+"\\u"+"0".repeat(4-g.length)+g}if(O.value.includes("{"))return"\\u{"+m.toString(16)+"}";var h=m.toString(16);return"\\u"+"0".repeat(4-h.length)+h}return w}(f,m),m.symbol=f,m.codePoint=f.codePointAt(0))}}}},4513:L=>{function U(s,T){var N=l(s),F=l(T);if(N===F){if("ClassRange"===s.type&&"ClassRange"!==T.type)return-1;if("ClassRange"===T.type&&"ClassRange"!==s.type)return 1;if("ClassRange"===s.type&&"ClassRange"===T.type)return l(s.to)-l(T.to);if(k(s)&&k(T)||C(s)&&C(T))return s.value<T.value?-1:1}return N-F}function l(s){return"Char"===s.type?"-"===s.value||"control"===s.kind?1/0:"meta"===s.kind&&isNaN(s.codePoint)?-1:s.codePoint:s.from.codePoint}function k(s){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"Char"===s.type&&"meta"===s.kind&&(T?s.value===T:/^\\[dws]$/i.test(s.value))}function C(s){return"Char"===s.type&&"control"===s.kind}function M(s,T,N){for(var F=0;F<T.length;F++)if(w(s,T[F],N))return!0;return!1}function w(s,T,N){return"ClassRange"===s.type?w(s.from,T,N)&&w(s.to,T,N):!!("\\S"===T&&(k(s,"\\w")||k(s,"\\d"))||"\\D"===T&&(k(s,"\\W")||k(s,"\\s"))||"\\w"===T&&k(s,"\\d")||"\\W"===T&&k(s,"\\s"))||"Char"===s.type&&!isNaN(s.codePoint)&&("\\s"===T?O(s):"\\S"===T?!O(s):"\\d"===T?m(s):"\\D"===T?!m(s):"\\w"===T?e(s,N):"\\W"===T&&!e(s,N))}function O(s){return 9===s.codePoint||10===s.codePoint||11===s.codePoint||12===s.codePoint||13===s.codePoint||32===s.codePoint||160===s.codePoint||5760===s.codePoint||s.codePoint>=8192&&s.codePoint<=8202||8232===s.codePoint||8233===s.codePoint||8239===s.codePoint||8287===s.codePoint||12288===s.codePoint||65279===s.codePoint}function m(s){return s.codePoint>=48&&s.codePoint<=57}function e(s,T){return m(s)||s.codePoint>=65&&s.codePoint<=90||s.codePoint>=97&&s.codePoint<=122||"_"===s.value||T&&(383===s.codePoint||8490===s.codePoint)}function f(s,T){if(T&&"ClassRange"===T.type){if(h(s,T))return!0;if(y(s)&&T.to.codePoint===s.codePoint-1)return T.to=s,!0;if("ClassRange"===s.type&&s.from.codePoint<=T.to.codePoint+1&&s.to.codePoint>=T.from.codePoint-1)return s.from.codePoint<T.from.codePoint&&(T.from=s.from),s.to.codePoint>T.to.codePoint&&(T.to=s.to),!0}return!1}function g(s,T){return!(!T||"ClassRange"!==T.type||!y(s)||T.from.codePoint!==s.codePoint+1||(T.from=s,0))}function h(s,T){return("Char"!==s.type||!isNaN(s.codePoint))&&("ClassRange"===s.type?h(s.from,T)&&h(s.to,T):s.codePoint>=T.from.codePoint&&s.codePoint<=T.to.codePoint)}function x(s,T,N){if(!y(s))return 0;for(var F=0;T>0;){var J=N[T],I=N[T-1];if(!y(I)||I.codePoint!==J.codePoint-1)break;F++,T--}return F>1?(N[T]={type:"ClassRange",from:N[T],to:s},F):0}function y(s){return s&&"Char"===s.type&&!isNaN(s.codePoint)&&(e(s,!1)||"unicode"===s.kind||"hex"===s.kind||"oct"===s.kind||"decimal"===s.kind)}L.exports={_hasIUFlags:!1,init:function(T){this._hasIUFlags=T.flags.includes("i")&&T.flags.includes("u")},CharacterClass:function(T){var F=T.node.expressions,J=[];F.forEach(function(X){k(X)&&J.push(X.value)}),F.sort(U);for(var I=0;I<F.length;I++){var Y=F[I];if(M(Y,J,this._hasIUFlags)||f(Y,F[I-1])||g(Y,F[I+1]))F.splice(I,1),I--;else{var W=x(Y,I,F);F.splice(I-W+1,W),I-=W}}}}},785:L=>{L.exports={ClassRange:function(l){var k=l.node;k.from.codePoint===k.to.codePoint?l.replace(k.from):k.from.codePoint===k.to.codePoint-1&&(l.getParent().insertChildAt(k.to,l.index+1),l.replace(k.from))}}},3769:L=>{L.exports={CharacterClass:function(l){for(var k=l.node,C={},M=0;M<k.expressions.length;M++){var w=l.getChild(M),O=w.jsonEncode();C.hasOwnProperty(O)&&(w.remove(),M--),C[O]=!0}}}},6209:L=>{function U(x){if(Array.isArray(x)){for(var y=0,s=Array(x.length);y<x.length;y++)s[y]=x[y];return s}return Array.from(x)}L.exports={_hasIFlag:!1,_hasUFlag:!1,init:function(y){this._hasIFlag=y.flags.includes("i"),this._hasUFlag=y.flags.includes("u")},CharacterClass:function(y){(function l(x){x.node.expressions.forEach(function(s,T){(function w(x){return"ClassRange"===x.type&&"0"===x.from.value&&"9"===x.to.value})(s)&&x.getChild(T).replace({type:"Char",value:"\\d",kind:"meta"})})})(y),function k(x,y,s){var N=null,F=null,J=null,I=null,Y=null,W=null;x.node.expressions.forEach(function(X,ne){m(X,"\\d")?N=x.getChild(ne):function e(x){return"ClassRange"===x.type&&"a"===x.from.value&&"z"===x.to.value}(X)?F=x.getChild(ne):function f(x){return"ClassRange"===x.type&&"A"===x.from.value&&"Z"===x.to.value}(X)?J=x.getChild(ne):function g(x){return"Char"===x.type&&"_"===x.value&&"simple"===x.kind}(X)?I=x.getChild(ne):y&&s&&h(X,383)?Y=x.getChild(ne):y&&s&&h(X,8490)&&(W=x.getChild(ne))}),N&&(F&&J||y&&(F||J))&&I&&(!s||!y||Y&&W)&&(N.replace({type:"Char",value:"\\w",kind:"meta"}),F&&F.remove(),J&&J.remove(),I.remove(),Y&&Y.remove(),W&&W.remove())}(y,this._hasIFlag,this._hasUFlag),function M(x){var y=x.node;if(!(y.expressions.length<C.length)&&C.every(function(T){return y.expressions.some(function(N){return T(N)})})){var s=y.expressions.find(function(T){return m(T,"\\n")});s.value="\\s",s.symbol=void 0,s.codePoint=NaN,y.expressions.map(function(T,N){return C.some(function(F){return F(T)})?x.getChild(N):void 0}).filter(Boolean).forEach(function(T){return T.remove()})}}(y)}};var C=[function(x){return O(x," ")}].concat(U(["\\f","\\n","\\r","\\t","\\v"].map(function(x){return function(y){return m(y,x)}})),U([160,5760,8232,8233,8239,8287,12288,65279].map(function(x){return function(y){return h(y,x)}})),[function(x){return"ClassRange"===x.type&&h(x.from,8192)&&h(x.to,8202)}]);function O(x,y){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"simple";return"Char"===x.type&&x.value===y&&x.kind===s}function m(x,y){return O(x,y,"meta")}function h(x,y){return"Char"===x.type&&"unicode"===x.kind&&x.codePoint===y}},7321:L=>{L.exports={CharacterClass:function(O){var w,m=O.node;if(1===m.expressions.length&&function C(w){var O=w.parent;if("Alternative"!==O.type)return!0;var e=O.expressions[w.index-1];return null==e||!("Backreference"===e.type&&"number"===e.kind||"Char"===e.type&&"decimal"===e.kind)}(O)&&function U(w){return"Char"===w.type&&"\\b"!==w.value}(m.expressions[0])){var e=m.expressions[0],f=e.value,g=e.kind,h=e.escaped;if(m.negative){if(!function l(w){return/^\\[dwsDWS]$/.test(w)}(f))return;f=function k(w){return/[dws]/.test(w)?w.toUpperCase():w.toLowerCase()}(f)}O.replace({type:"Char",value:f,kind:g,escaped:h||(w=f,/[*[()+?$./{}|]/.test(w))})}}}},4890:L=>{var U="A".codePointAt(0),l="Z".codePointAt(0),k="a".codePointAt(0),C="z".codePointAt(0),M="0".codePointAt(0),w="9".codePointAt(0);L.exports={Char:function(g){var h=g.node,x=g.parent;if(!isNaN(h.codePoint)&&"simple"!==h.kind&&("ClassRange"!==x.type||function O(f){var g=f.from,h=f.to;return g.codePoint>=M&&g.codePoint<=w&&h.codePoint>=M&&h.codePoint<=w||g.codePoint>=U&&g.codePoint<=l&&h.codePoint>=U&&h.codePoint<=l||g.codePoint>=k&&g.codePoint<=C&&h.codePoint>=k&&h.codePoint<=C}(x))&&function m(f){return f>=32&&f<=126}(h.codePoint)){var y=String.fromCodePoint(h.codePoint),s={type:"Char",kind:"simple",value:y,symbol:y,codePoint:h.codePoint};(function e(f,g){return"ClassRange"===g||"CharacterClass"===g?/[\]\\^-]/.test(f):/[*[()+?^$./\\|{}]/.test(f)})(y,x.type)&&(s.escaped=!0),g.replace(s)}}}},2477:L=>{function C(m,e,f){for(var g=m,h=(f?g>=0:g<e.expressions.length)&&e.expressions[g];h&&"Char"===h.type&&"simple"===h.kind&&!h.escaped&&/\d/.test(h.value);)f?g--:g++,h=(f?g>=0:g<e.expressions.length)&&e.expressions[g];return Math.abs(m-g)}function M(m,e){return m&&"Char"===m.type&&"simple"===m.kind&&!m.escaped&&m.value===e}L.exports={_hasXFlag:!1,init:function(e){this._hasXFlag=e.flags.includes("x")},Char:function(e){var f=e.node;!f.escaped||function U(m,e){var f=m.node.value,g=m.index,h=m.parent;return"CharacterClass"!==h.type&&"ClassRange"!==h.type?!function k(m,e,f,g){return"{"===m?function w(m,e){if(null==m)return!1;var f=C(m+1,e),g=m+f+1,h=g<e.expressions.length&&e.expressions[g];if(f){if(M(h,"}"))return!0;if(M(h,","))return M(h=(g=g+(f=C(g+1,e))+1)<e.expressions.length&&e.expressions[g],"}")}return!1}(e,f):"}"===m?function O(m,e){if(null==m)return!1;var f=C(m-1,e,!0),g=m-f-1,h=g>=0&&e.expressions[g];return!(!f||!M(h,"{"))||!!M(h,",")&&(h=(g=g-(f=C(g-1,e,!0))-1)<e.expressions.length&&e.expressions[g],f&&M(h,"{"))}(e,f):!(!g||!/[ #]/.test(m))||/[*[()+?^$./\\|]/.test(m)}(f,g,h,e):!function l(m,e,f){return"^"===m?0===e&&!f.negative:"-"===m||/[\]\\]/.test(m)}(f,g,h)}(e,this._hasXFlag)&&delete f.escaped}}},2713:L=>{L.exports={shouldRun:function(l){return l.flags.includes("u")},Char:function(l){var k=l.node;"unicode"!==k.kind||!k.isSurrogatePair||isNaN(k.codePoint)||(k.value="\\u{"+k.codePoint.toString(16)+"}",delete k.isSurrogatePair)}}},6695:(L,U,l)=>{function k(f){if(Array.isArray(f)){for(var g=0,h=Array(f.length);g<f.length;g++)h[g]=f[g];return h}return Array.from(f)}var C=l(6192),w=l(7361).increaseQuantifierByOne;function O(f,g,h){for(var x=f.node,y=Math.ceil(h/2),s=0;s<y;){var T=h-2*s-1,N=void 0,F=void 0;if(0===s?(N=g,F=f.getChild(T)):(N=C.getForNode({type:"Alternative",expressions:[].concat(k(x.expressions.slice(h-s,h)),[g.node])}),F=C.getForNode({type:"Alternative",expressions:[].concat(k(x.expressions.slice(T,h-s)))})),N.hasEqualSource(F)){for(var J=0;J<2*s+1;J++)f.getChild(T).remove();return g.replace({type:"Repetition",expression:0===s&&"Repetition"!==N.node.type?N.node:{type:"Group",capturing:!1,expression:N.node},quantifier:{type:"Quantifier",kind:"Range",from:2,to:2,greedy:!0}}),T}s++}return h}function m(f,g,h){for(var x=f.node,y=0;y<h;){var s=f.getChild(y);if("Repetition"===s.node.type&&s.node.quantifier.greedy){var T=s.getChild(),N=void 0;if("Group"===T.node.type&&!T.node.capturing&&(T=T.getChild()),y+1===h?"Group"===(N=g).node.type&&!N.node.capturing&&(N=N.getChild()):N=C.getForNode({type:"Alternative",expressions:[].concat(k(x.expressions.slice(y+1,h+1)))}),T.hasEqualSource(N)){for(var F=y;F<h;F++)f.getChild(y+1).remove();return w(s.node.quantifier),y}}y++}return h}function e(f,g,h){var x=f.node;if("Repetition"===g.node.type&&g.node.quantifier.greedy){var y=g.getChild(),s=void 0;"Group"===y.node.type&&!y.node.capturing&&(y=y.getChild());var T=void 0;if("Alternative"===y.node.type?s=C.getForNode({type:"Alternative",expressions:[].concat(k(x.expressions.slice(h-(T=y.node.expressions.length),h)))}):(T=1,"Group"===(s=f.getChild(h-1)).node.type&&!s.node.capturing&&(s=s.getChild())),s.hasEqualSource(y)){for(var N=h-T;N<h;N++)f.getChild(h-T).remove();return w(g.node.quantifier),h-T}}return h}L.exports={Alternative:function(g){for(var h=g.node,x=1;x<h.expressions.length;){var y=g.getChild(x);if((x=Math.max(1,O(g,y,x)))>=h.expressions.length||(y=g.getChild(x),(x=Math.max(1,m(g,y,x)))>=h.expressions.length))break;y=g.getChild(x),x=Math.max(1,e(g,y,x)),x++}}}},725:(L,U,l)=>{var k=l(6192),C=l(7361),M=C.disjunctionToList,w=C.listToDisjunction;L.exports={Disjunction:function(m){var f={},g=M(m.node).filter(function(h){var x=h?k.getForNode(h).jsonEncode():"null";return!f.hasOwnProperty(x)&&(f[x]=h,!0)});m.replace(w(g))}}},4494:L=>{L.exports={Disjunction:function(C){var M=C.node,w=C.parent;if(U[w.type]){var O=new Map;if(l(M,O)&&O.size){var m={type:"CharacterClass",expressions:Array.from(O.keys()).sort().map(function(e){return O.get(e)})};U[w.type](C.getParent(),m)}}}};var U={RegExp:function(C,M){C.node.body=M},Group:function(C,M){var w=C.node;w.capturing?w.expression=M:C.replace(M)}};function l(k,C){if(!k)return!1;var M=k.type;if("Disjunction"===M){var O=k.right;return l(k.left,C)&&l(O,C)}return"Char"===M?(C.set(k.value,k),!0):"CharacterClass"===M&&!k.negative&&k.expressions.every(function(e){return l(e,C)})}},334:(L,U,l)=>{L.exports=new Map([["charSurrogatePairToSingleUnicode",l(2713)],["charCodeToSimpleChar",l(4890)],["charCaseInsensitiveLowerCaseTransform",l(3270)],["charClassRemoveDuplicates",l(3769)],["quantifiersMerge",l(16)],["quantifierRangeToSymbol",l(6672)],["charClassClassrangesToChars",l(785)],["charClassToMeta",l(6209)],["charClassToSingleChar",l(7321)],["charEscapeUnescape",l(2477)],["charClassClassrangesMerge",l(4513)],["disjunctionRemoveDuplicates",l(725)],["groupSingleCharsToCharClass",l(4494)],["removeEmptyGroup",l(8792)],["ungroup",l(6609)],["combineRepeatingPatterns",l(6695)]])},6672:L=>{L.exports={Quantifier:function(M){"Range"===M.node.kind&&(function U(C){var M=C.node;0!==M.from||M.to||(M.kind="*",delete M.from)}(M),function l(C){var M=C.node;1!==M.from||M.to||(M.kind="+",delete M.from)}(M),function k(C){var M=C.node;1!==M.from||1!==M.to||C.parentPath.replace(C.parentPath.node.expression)}(M))}}},16:(L,U,l)=>{var C=l(7361).increaseQuantifierByOne;function M(O){return O.greedy&&("+"===O.kind||"*"===O.kind||"Range"===O.kind&&!O.to)}function w(O){var m=void 0,e=void 0;return"*"===O.kind?m=0:"+"===O.kind?m=1:"?"===O.kind?(m=0,e=1):(m=O.from,O.to&&(e=O.to)),{from:m,to:e}}L.exports={Repetition:function(m){var e=m.node;if("Alternative"===m.parent.type&&m.index){var g=m.getPreviousSibling();if(g)if("Repetition"===g.node.type){if(!g.getChild().hasEqualSource(m.getChild()))return;var h=w(g.node.quantifier),x=h.from,y=h.to,s=w(e.quantifier),T=s.from,N=s.to;if(g.node.quantifier.greedy!==e.quantifier.greedy&&!M(g.node.quantifier)&&!M(e.quantifier))return;e.quantifier.kind="Range",e.quantifier.from=x+T,y&&N?e.quantifier.to=y+N:delete e.quantifier.to,(M(g.node.quantifier)||M(e.quantifier))&&(e.quantifier.greedy=!0),g.remove()}else{if(!g.hasEqualSource(m.getChild()))return;C(e.quantifier),g.remove()}}}}},8792:L=>{L.exports={Group:function(l){var k=l.node,C=l.parent,M=l.getChild();k.capturing||M||("Repetition"===C.type?l.getParent().replace(k):"RegExp"!==C.type&&l.remove())}}},6609:L=>{function U(k){if(Array.isArray(k)){for(var C=0,M=Array(k.length);C<k.length;C++)M[C]=k[C];return M}return Array.from(k)}L.exports={Group:function(C){var M=C.node,w=C.parent,O=C.getChild();if(!M.capturing&&O&&function l(k){var C=k.parent;if("Alternative"!==C.type)return!0;var w=C.expressions[k.index-1];return null==w||!("Backreference"===w.type&&"number"===w.kind||"Char"===w.type&&"decimal"===w.kind)}(C)&&("Disjunction"!==O.node.type||"RegExp"===w.type)&&("Repetition"!==w.type||"Char"===O.node.type||"CharacterClass"===O.node.type))if("Alternative"===O.node.type){var m=C.getParent();"Alternative"===m.node.type&&m.replace({type:"Alternative",expressions:[].concat(U(w.expressions.slice(0,C.index)),U(O.node.expressions),U(w.expressions.slice(C.index+1)))})}else C.replace(O.node)}}},3585:(L,U,l)=>{function C(P){if(Array.isArray(P)){for(var p=0,B=Array(P.length);p<P.length;p++)B[p]=P[p];return B}return Array.from(P)}var M=void 0,O={},m=void 0,e=void 0;function f(P,p){return O.options.captureLocations?P&&p?{startOffset:P.startOffset,endOffset:p.endOffset,startLine:P.startLine,endLine:p.endLine,startColumn:P.startColumn,endColumn:p.endColumn}:P||p:null}var h=[[-1,1,function(P,p){e=f(p,p),m=P}],[0,4,function(P,p,B,E,Z,$,G,V){e=f(Z,V),m=fe({type:"RegExp",body:p,flags:q(E)},Se(Z,V||G))}],[1,1,function(P,p){e=f(p,p),m=P}],[1,0,function(){e=null,m=""}],[2,1,function(P,p){e=f(p,p),m=P}],[2,2,function(P,p,B,E){e=f(B,E),m=P+p}],[3,1,function(P,p){e=f(p,p),m=P}],[4,1,function(P,p){e=f(p,p),m=P}],[4,3,function(P,p,B,E,Z,$){e=f(E,$);var G=null;Z&&(G=Se(E||Z,$||Z)),m=fe({type:"Disjunction",left:P,right:B},G)}],[5,1,function(P,p){e=f(p,p),m=0!==P.length?fe(1===P.length?P[0]:{type:"Alternative",expressions:P},e):null}],[6,0,function(){e=null,m=[]}],[6,2,function(P,p,B,E){e=f(B,E),m=P.concat(p)}],[7,1,function(P,p){e=f(p,p),m=fe(Object.assign({type:"Assertion"},P),e)}],[7,2,function(P,p,B,E){e=f(B,E),m=P,p&&(m=fe({type:"Repetition",expression:P,quantifier:p},e))}],[8,1,function(P,p){e=f(p,p),m={kind:"^"}}],[8,1,function(P,p){e=f(p,p),m={kind:"$"}}],[8,1,function(P,p){e=f(p,p),m={kind:"\\b"}}],[8,1,function(P,p){e=f(p,p),m={kind:"\\B"}}],[8,3,function(P,p,B,E,Z,$){e=f(E,$),m={kind:"Lookahead",assertion:p}}],[8,3,function(P,p,B,E,Z,$){e=f(E,$),m={kind:"Lookahead",negative:!0,assertion:p}}],[8,3,function(P,p,B,E,Z,$){e=f(E,$),m={kind:"Lookbehind",assertion:p}}],[8,3,function(P,p,B,E,Z,$){e=f(E,$),m={kind:"Lookbehind",negative:!0,assertion:p}}],[9,1,function(P,p){e=f(p,p),m=P}],[9,1,function(P,p){e=f(p,p),m=P}],[9,1,function(P,p){e=f(p,p),m=P}],[10,1,function(P,p){e=f(p,p),m=me(P,"simple",e)}],[10,1,function(P,p){e=f(p,p),(m=me(P.slice(1),"simple",e)).escaped=!0}],[10,1,function(P,p){e=f(p,p),(m=me(P,"unicode",e)).isSurrogatePair=!0}],[10,1,function(P,p){e=f(p,p),m=me(P,"unicode",e)}],[10,1,function(P,p){e=f(p,p),m=function Me(P,p){var B="P"===P[1],E=P.indexOf("="),Z=P.slice(3,-1!==E?E:-1),$=void 0,G=-1===E&&Ce.isGeneralCategoryValue(Z),V=-1===E&&Ce.isBinaryPropertyName(Z);if(G)$=Z,Z="General_Category";else if(V)$=Z;else{if(!Ce.isValidName(Z))throw new SyntaxError("Invalid unicode property name: "+Z+".");if($=P.slice(E+1,-1),!Ce.isValidValue(Z,$))throw new SyntaxError("Invalid "+Z+" unicode property value: "+$+".")}return fe({type:"UnicodeProperty",name:Z,value:$,negative:B,shorthand:G,binary:V,canonicalName:Ce.getCanonicalName(Z)||Z,canonicalValue:Ce.getCanonicalValue($)||$},p)}(P,e)}],[10,1,function(P,p){e=f(p,p),m=me(P,"control",e)}],[10,1,function(P,p){e=f(p,p),m=me(P,"hex",e)}],[10,1,function(P,p){e=f(p,p),m=me(P,"oct",e)}],[10,1,function(P,p){e=f(p,p),m=function oe(P,p){var B=Number(P.slice(1));return B>0&&B<=Y?fe({type:"Backreference",kind:"number",number:B,reference:B},p):me(P,"decimal",p)}(P,e)}],[10,1,function(P,p){e=f(p,p),m=me(P,"meta",e)}],[10,1,function(P,p){e=f(p,p),m=me(P,"meta",e)}],[10,1,function(P,p){e=f(p,p),m=function Be(P,p){var B=P.slice(3,-1),E=ge(B);if(W.hasOwnProperty(E))return fe({type:"Backreference",kind:"name",number:W[E],reference:E,referenceRaw:B},p);var Z=null,$=null,G=null,V=null;p&&(Z=p.startOffset,$=p.startLine,G=p.endLine,V=p.startColumn);var Q=/^[\w$<>]/,pe=void 0,Oe=[me(P.slice(1,2),"simple",Z?{startLine:$,endLine:G,startColumn:V,startOffset:Z,endOffset:Z+=2,endColumn:V+=2}:null)];for(Oe[0].escaped=!0,P=P.slice(2);P.length>0;){var j=null;(j=P.match(re))||(j=P.match(ae))?(Z&&(pe={startLine:$,endLine:G,startColumn:V,startOffset:Z,endOffset:Z+=j[0].length,endColumn:V+=j[0].length}),Oe.push(me(j[0],"unicode",pe)),P=P.slice(j[0].length)):(j=P.match(Q))&&(Z&&(pe={startLine:$,endLine:G,startColumn:V,startOffset:Z,endOffset:++Z,endColumn:++V}),Oe.push(me(j[0],"simple",pe)),P=P.slice(1))}return Oe}(P,p)}],[11,1,function(P,p){e=f(p,p),m=P}],[11,0],[12,1,function(P,p){e=f(p,p),m=P}],[12,2,function(P,p,B,E){e=f(B,E),P.greedy=!1,m=P}],[13,1,function(P,p){e=f(p,p),m=fe({type:"Quantifier",kind:P,greedy:!0},e)}],[13,1,function(P,p){e=f(p,p),m=fe({type:"Quantifier",kind:P,greedy:!0},e)}],[13,1,function(P,p){e=f(p,p),m=fe({type:"Quantifier",kind:P,greedy:!0},e)}],[13,1,function(P,p){e=f(p,p);var B=ne(P);m=fe({type:"Quantifier",kind:"Range",from:B[0],to:B[0],greedy:!0},e)}],[13,1,function(P,p){e=f(p,p),m=fe({type:"Quantifier",kind:"Range",from:ne(P)[0],greedy:!0},e)}],[13,1,function(P,p){e=f(p,p);var B=ne(P);m=fe({type:"Quantifier",kind:"Range",from:B[0],to:B[1],greedy:!0},e)}],[14,1,function(P,p){e=f(p,p),m=P}],[14,1,function(P,p){e=f(p,p),m=P}],[15,3,function(P,p,B,E,Z,$){e=f(E,$);var G=String(P),V=ge(G);if(!O.options.allowGroupNameDuplicates&&W.hasOwnProperty(V))throw new SyntaxError('Duplicate of the named group "'+V+'".');W[V]=P.groupNumber,m=fe({type:"Group",capturing:!0,name:V,nameRaw:G,number:P.groupNumber,expression:p},e)}],[15,3,function(P,p,B,E,Z,$){e=f(E,$),m=fe({type:"Group",capturing:!0,number:P.groupNumber,expression:p},e)}],[16,3,function(P,p,B,E,Z,$){e=f(E,$),m=fe({type:"Group",capturing:!1,expression:p},e)}],[17,3,function(P,p,B,E,Z,$){e=f(E,$),m=fe({type:"CharacterClass",negative:!0,expressions:p},e)}],[17,3,function(P,p,B,E,Z,$){e=f(E,$),m=fe({type:"CharacterClass",expressions:p},e)}],[18,0,function(){e=null,m=[]}],[18,1,function(P,p){e=f(p,p),m=P}],[19,1,function(P,p){e=f(p,p),m=[P]}],[19,2,function(P,p,B,E){e=f(B,E),m=[P].concat(p)}],[19,4,function(P,p,B,E,Z,$,G,V){e=f(Z,V),de(P,B),m=[fe({type:"ClassRange",from:P,to:B},Se(Z,G))],E&&(m=m.concat(E))}],[20,1,function(P,p){e=f(p,p),m=P}],[20,2,function(P,p,B,E){e=f(B,E),m=[P].concat(p)}],[20,4,function(P,p,B,E,Z,$,G,V){e=f(Z,V),de(P,B),m=[fe({type:"ClassRange",from:P,to:B},Se(Z,G))],E&&(m=m.concat(E))}],[21,1,function(P,p){e=f(p,p),m=me(P,"simple",e)}],[21,1,function(P,p){e=f(p,p),m=P}],[22,1,function(P,p){e=f(p,p),m=P}],[22,1,function(P,p){e=f(p,p),m=me(P,"meta",e)}]],x={SLASH:"23",CHAR:"24",BAR:"25",BOS:"26",EOS:"27",ESC_b:"28",ESC_B:"29",POS_LA_ASSERT:"30",R_PAREN:"31",NEG_LA_ASSERT:"32",POS_LB_ASSERT:"33",NEG_LB_ASSERT:"34",ESC_CHAR:"35",U_CODE_SURROGATE:"36",U_CODE:"37",U_PROP_VALUE_EXP:"38",CTRL_CH:"39",HEX_CODE:"40",OCT_CODE:"41",DEC_CODE:"42",META_CHAR:"43",ANY:"44",NAMED_GROUP_REF:"45",Q_MARK:"46",STAR:"47",PLUS:"48",RANGE_EXACT:"49",RANGE_OPEN:"50",RANGE_CLOSED:"51",NAMED_CAPTURE_GROUP:"52",L_PAREN:"53",NON_CAPTURE_GROUP:"54",NEG_CLASS:"55",R_BRACKET:"56",L_BRACKET:"57",DASH:"58",$:"59"},y=[{0:1,23:"s2"},{59:"acc"},{3:3,4:4,5:5,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"s7"},{23:"r6",25:"s12"},{23:"r7",25:"r7",31:"r7"},{7:14,8:15,9:16,10:25,14:27,15:42,16:43,17:26,23:"r9",24:"s28",25:"r9",26:"s17",27:"s18",28:"s19",29:"s20",30:"s21",31:"r9",32:"s22",33:"s23",34:"s24",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",52:"s44",53:"s45",54:"s46",55:"s40",57:"s41"},{1:8,2:9,24:"s10",59:"r3"},{59:"r1"},{24:"s11",59:"r2"},{24:"r4",59:"r4"},{24:"r5",59:"r5"},{5:13,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r8",25:"r8",31:"r8"},{23:"r11",24:"r11",25:"r11",26:"r11",27:"r11",28:"r11",29:"r11",30:"r11",31:"r11",32:"r11",33:"r11",34:"r11",35:"r11",36:"r11",37:"r11",38:"r11",39:"r11",40:"r11",41:"r11",42:"r11",43:"r11",44:"r11",45:"r11",52:"r11",53:"r11",54:"r11",55:"r11",57:"r11"},{23:"r12",24:"r12",25:"r12",26:"r12",27:"r12",28:"r12",29:"r12",30:"r12",31:"r12",32:"r12",33:"r12",34:"r12",35:"r12",36:"r12",37:"r12",38:"r12",39:"r12",40:"r12",41:"r12",42:"r12",43:"r12",44:"r12",45:"r12",52:"r12",53:"r12",54:"r12",55:"r12",57:"r12"},{11:47,12:48,13:49,23:"r38",24:"r38",25:"r38",26:"r38",27:"r38",28:"r38",29:"r38",30:"r38",31:"r38",32:"r38",33:"r38",34:"r38",35:"r38",36:"r38",37:"r38",38:"r38",39:"r38",40:"r38",41:"r38",42:"r38",43:"r38",44:"r38",45:"r38",46:"s52",47:"s50",48:"s51",49:"s53",50:"s54",51:"s55",52:"r38",53:"r38",54:"r38",55:"r38",57:"r38"},{23:"r14",24:"r14",25:"r14",26:"r14",27:"r14",28:"r14",29:"r14",30:"r14",31:"r14",32:"r14",33:"r14",34:"r14",35:"r14",36:"r14",37:"r14",38:"r14",39:"r14",40:"r14",41:"r14",42:"r14",43:"r14",44:"r14",45:"r14",52:"r14",53:"r14",54:"r14",55:"r14",57:"r14"},{23:"r15",24:"r15",25:"r15",26:"r15",27:"r15",28:"r15",29:"r15",30:"r15",31:"r15",32:"r15",33:"r15",34:"r15",35:"r15",36:"r15",37:"r15",38:"r15",39:"r15",40:"r15",41:"r15",42:"r15",43:"r15",44:"r15",45:"r15",52:"r15",53:"r15",54:"r15",55:"r15",57:"r15"},{23:"r16",24:"r16",25:"r16",26:"r16",27:"r16",28:"r16",29:"r16",30:"r16",31:"r16",32:"r16",33:"r16",34:"r16",35:"r16",36:"r16",37:"r16",38:"r16",39:"r16",40:"r16",41:"r16",42:"r16",43:"r16",44:"r16",45:"r16",52:"r16",53:"r16",54:"r16",55:"r16",57:"r16"},{23:"r17",24:"r17",25:"r17",26:"r17",27:"r17",28:"r17",29:"r17",30:"r17",31:"r17",32:"r17",33:"r17",34:"r17",35:"r17",36:"r17",37:"r17",38:"r17",39:"r17",40:"r17",41:"r17",42:"r17",43:"r17",44:"r17",45:"r17",52:"r17",53:"r17",54:"r17",55:"r17",57:"r17"},{4:57,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:59,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:61,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:63,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r22",24:"r22",25:"r22",26:"r22",27:"r22",28:"r22",29:"r22",30:"r22",31:"r22",32:"r22",33:"r22",34:"r22",35:"r22",36:"r22",37:"r22",38:"r22",39:"r22",40:"r22",41:"r22",42:"r22",43:"r22",44:"r22",45:"r22",46:"r22",47:"r22",48:"r22",49:"r22",50:"r22",51:"r22",52:"r22",53:"r22",54:"r22",55:"r22",57:"r22"},{23:"r23",24:"r23",25:"r23",26:"r23",27:"r23",28:"r23",29:"r23",30:"r23",31:"r23",32:"r23",33:"r23",34:"r23",35:"r23",36:"r23",37:"r23",38:"r23",39:"r23",40:"r23",41:"r23",42:"r23",43:"r23",44:"r23",45:"r23",46:"r23",47:"r23",48:"r23",49:"r23",50:"r23",51:"r23",52:"r23",53:"r23",54:"r23",55:"r23",57:"r23"},{23:"r24",24:"r24",25:"r24",26:"r24",27:"r24",28:"r24",29:"r24",30:"r24",31:"r24",32:"r24",33:"r24",34:"r24",35:"r24",36:"r24",37:"r24",38:"r24",39:"r24",40:"r24",41:"r24",42:"r24",43:"r24",44:"r24",45:"r24",46:"r24",47:"r24",48:"r24",49:"r24",50:"r24",51:"r24",52:"r24",53:"r24",54:"r24",55:"r24",57:"r24"},{23:"r25",24:"r25",25:"r25",26:"r25",27:"r25",28:"r25",29:"r25",30:"r25",31:"r25",32:"r25",33:"r25",34:"r25",35:"r25",36:"r25",37:"r25",38:"r25",39:"r25",40:"r25",41:"r25",42:"r25",43:"r25",44:"r25",45:"r25",46:"r25",47:"r25",48:"r25",49:"r25",50:"r25",51:"r25",52:"r25",53:"r25",54:"r25",55:"r25",56:"r25",57:"r25",58:"r25"},{23:"r26",24:"r26",25:"r26",26:"r26",27:"r26",28:"r26",29:"r26",30:"r26",31:"r26",32:"r26",33:"r26",34:"r26",35:"r26",36:"r26",37:"r26",38:"r26",39:"r26",40:"r26",41:"r26",42:"r26",43:"r26",44:"r26",45:"r26",46:"r26",47:"r26",48:"r26",49:"r26",50:"r26",51:"r26",52:"r26",53:"r26",54:"r26",55:"r26",56:"r26",57:"r26",58:"r26"},{23:"r27",24:"r27",25:"r27",26:"r27",27:"r27",28:"r27",29:"r27",30:"r27",31:"r27",32:"r27",33:"r27",34:"r27",35:"r27",36:"r27",37:"r27",38:"r27",39:"r27",40:"r27",41:"r27",42:"r27",43:"r27",44:"r27",45:"r27",46:"r27",47:"r27",48:"r27",49:"r27",50:"r27",51:"r27",52:"r27",53:"r27",54:"r27",55:"r27",56:"r27",57:"r27",58:"r27"},{23:"r28",24:"r28",25:"r28",26:"r28",27:"r28",28:"r28",29:"r28",30:"r28",31:"r28",32:"r28",33:"r28",34:"r28",35:"r28",36:"r28",37:"r28",38:"r28",39:"r28",40:"r28",41:"r28",42:"r28",43:"r28",44:"r28",45:"r28",46:"r28",47:"r28",48:"r28",49:"r28",50:"r28",51:"r28",52:"r28",53:"r28",54:"r28",55:"r28",56:"r28",57:"r28",58:"r28"},{23:"r29",24:"r29",25:"r29",26:"r29",27:"r29",28:"r29",29:"r29",30:"r29",31:"r29",32:"r29",33:"r29",34:"r29",35:"r29",36:"r29",37:"r29",38:"r29",39:"r29",40:"r29",41:"r29",42:"r29",43:"r29",44:"r29",45:"r29",46:"r29",47:"r29",48:"r29",49:"r29",50:"r29",51:"r29",52:"r29",53:"r29",54:"r29",55:"r29",56:"r29",57:"r29",58:"r29"},{23:"r30",24:"r30",25:"r30",26:"r30",27:"r30",28:"r30",29:"r30",30:"r30",31:"r30",32:"r30",33:"r30",34:"r30",35:"r30",36:"r30",37:"r30",38:"r30",39:"r30",40:"r30",41:"r30",42:"r30",43:"r30",44:"r30",45:"r30",46:"r30",47:"r30",48:"r30",49:"r30",50:"r30",51:"r30",52:"r30",53:"r30",54:"r30",55:"r30",56:"r30",57:"r30",58:"r30"},{23:"r31",24:"r31",25:"r31",26:"r31",27:"r31",28:"r31",29:"r31",30:"r31",31:"r31",32:"r31",33:"r31",34:"r31",35:"r31",36:"r31",37:"r31",38:"r31",39:"r31",40:"r31",41:"r31",42:"r31",43:"r31",44:"r31",45:"r31",46:"r31",47:"r31",48:"r31",49:"r31",50:"r31",51:"r31",52:"r31",53:"r31",54:"r31",55:"r31",56:"r31",57:"r31",58:"r31"},{23:"r32",24:"r32",25:"r32",26:"r32",27:"r32",28:"r32",29:"r32",30:"r32",31:"r32",32:"r32",33:"r32",34:"r32",35:"r32",36:"r32",37:"r32",38:"r32",39:"r32",40:"r32",41:"r32",42:"r32",43:"r32",44:"r32",45:"r32",46:"r32",47:"r32",48:"r32",49:"r32",50:"r32",51:"r32",52:"r32",53:"r32",54:"r32",55:"r32",56:"r32",57:"r32",58:"r32"},{23:"r33",24:"r33",25:"r33",26:"r33",27:"r33",28:"r33",29:"r33",30:"r33",31:"r33",32:"r33",33:"r33",34:"r33",35:"r33",36:"r33",37:"r33",38:"r33",39:"r33",40:"r33",41:"r33",42:"r33",43:"r33",44:"r33",45:"r33",46:"r33",47:"r33",48:"r33",49:"r33",50:"r33",51:"r33",52:"r33",53:"r33",54:"r33",55:"r33",56:"r33",57:"r33",58:"r33"},{23:"r34",24:"r34",25:"r34",26:"r34",27:"r34",28:"r34",29:"r34",30:"r34",31:"r34",32:"r34",33:"r34",34:"r34",35:"r34",36:"r34",37:"r34",38:"r34",39:"r34",40:"r34",41:"r34",42:"r34",43:"r34",44:"r34",45:"r34",46:"r34",47:"r34",48:"r34",49:"r34",50:"r34",51:"r34",52:"r34",53:"r34",54:"r34",55:"r34",56:"r34",57:"r34",58:"r34"},{23:"r35",24:"r35",25:"r35",26:"r35",27:"r35",28:"r35",29:"r35",30:"r35",31:"r35",32:"r35",33:"r35",34:"r35",35:"r35",36:"r35",37:"r35",38:"r35",39:"r35",40:"r35",41:"r35",42:"r35",43:"r35",44:"r35",45:"r35",46:"r35",47:"r35",48:"r35",49:"r35",50:"r35",51:"r35",52:"r35",53:"r35",54:"r35",55:"r35",56:"r35",57:"r35",58:"r35"},{23:"r36",24:"r36",25:"r36",26:"r36",27:"r36",28:"r36",29:"r36",30:"r36",31:"r36",32:"r36",33:"r36",34:"r36",35:"r36",36:"r36",37:"r36",38:"r36",39:"r36",40:"r36",41:"r36",42:"r36",43:"r36",44:"r36",45:"r36",46:"r36",47:"r36",48:"r36",49:"r36",50:"r36",51:"r36",52:"r36",53:"r36",54:"r36",55:"r36",56:"r36",57:"r36",58:"r36"},{10:70,18:65,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{10:70,18:83,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{23:"r47",24:"r47",25:"r47",26:"r47",27:"r47",28:"r47",29:"r47",30:"r47",31:"r47",32:"r47",33:"r47",34:"r47",35:"r47",36:"r47",37:"r47",38:"r47",39:"r47",40:"r47",41:"r47",42:"r47",43:"r47",44:"r47",45:"r47",46:"r47",47:"r47",48:"r47",49:"r47",50:"r47",51:"r47",52:"r47",53:"r47",54:"r47",55:"r47",57:"r47"},{23:"r48",24:"r48",25:"r48",26:"r48",27:"r48",28:"r48",29:"r48",30:"r48",31:"r48",32:"r48",33:"r48",34:"r48",35:"r48",36:"r48",37:"r48",38:"r48",39:"r48",40:"r48",41:"r48",42:"r48",43:"r48",44:"r48",45:"r48",46:"r48",47:"r48",48:"r48",49:"r48",50:"r48",51:"r48",52:"r48",53:"r48",54:"r48",55:"r48",57:"r48"},{4:85,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:87,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:89,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r13",24:"r13",25:"r13",26:"r13",27:"r13",28:"r13",29:"r13",30:"r13",31:"r13",32:"r13",33:"r13",34:"r13",35:"r13",36:"r13",37:"r13",38:"r13",39:"r13",40:"r13",41:"r13",42:"r13",43:"r13",44:"r13",45:"r13",52:"r13",53:"r13",54:"r13",55:"r13",57:"r13"},{23:"r37",24:"r37",25:"r37",26:"r37",27:"r37",28:"r37",29:"r37",30:"r37",31:"r37",32:"r37",33:"r37",34:"r37",35:"r37",36:"r37",37:"r37",38:"r37",39:"r37",40:"r37",41:"r37",42:"r37",43:"r37",44:"r37",45:"r37",52:"r37",53:"r37",54:"r37",55:"r37",57:"r37"},{23:"r39",24:"r39",25:"r39",26:"r39",27:"r39",28:"r39",29:"r39",30:"r39",31:"r39",32:"r39",33:"r39",34:"r39",35:"r39",36:"r39",37:"r39",38:"r39",39:"r39",40:"r39",41:"r39",42:"r39",43:"r39",44:"r39",45:"r39",46:"s56",52:"r39",53:"r39",54:"r39",55:"r39",57:"r39"},{23:"r41",24:"r41",25:"r41",26:"r41",27:"r41",28:"r41",29:"r41",30:"r41",31:"r41",32:"r41",33:"r41",34:"r41",35:"r41",36:"r41",37:"r41",38:"r41",39:"r41",40:"r41",41:"r41",42:"r41",43:"r41",44:"r41",45:"r41",46:"r41",52:"r41",53:"r41",54:"r41",55:"r41",57:"r41"},{23:"r42",24:"r42",25:"r42",26:"r42",27:"r42",28:"r42",29:"r42",30:"r42",31:"r42",32:"r42",33:"r42",34:"r42",35:"r42",36:"r42",37:"r42",38:"r42",39:"r42",40:"r42",41:"r42",42:"r42",43:"r42",44:"r42",45:"r42",46:"r42",52:"r42",53:"r42",54:"r42",55:"r42",57:"r42"},{23:"r43",24:"r43",25:"r43",26:"r43",27:"r43",28:"r43",29:"r43",30:"r43",31:"r43",32:"r43",33:"r43",34:"r43",35:"r43",36:"r43",37:"r43",38:"r43",39:"r43",40:"r43",41:"r43",42:"r43",43:"r43",44:"r43",45:"r43",46:"r43",52:"r43",53:"r43",54:"r43",55:"r43",57:"r43"},{23:"r44",24:"r44",25:"r44",26:"r44",27:"r44",28:"r44",29:"r44",30:"r44",31:"r44",32:"r44",33:"r44",34:"r44",35:"r44",36:"r44",37:"r44",38:"r44",39:"r44",40:"r44",41:"r44",42:"r44",43:"r44",44:"r44",45:"r44",46:"r44",52:"r44",53:"r44",54:"r44",55:"r44",57:"r44"},{23:"r45",24:"r45",25:"r45",26:"r45",27:"r45",28:"r45",29:"r45",30:"r45",31:"r45",32:"r45",33:"r45",34:"r45",35:"r45",36:"r45",37:"r45",38:"r45",39:"r45",40:"r45",41:"r45",42:"r45",43:"r45",44:"r45",45:"r45",46:"r45",52:"r45",53:"r45",54:"r45",55:"r45",57:"r45"},{23:"r46",24:"r46",25:"r46",26:"r46",27:"r46",28:"r46",29:"r46",30:"r46",31:"r46",32:"r46",33:"r46",34:"r46",35:"r46",36:"r46",37:"r46",38:"r46",39:"r46",40:"r46",41:"r46",42:"r46",43:"r46",44:"r46",45:"r46",46:"r46",52:"r46",53:"r46",54:"r46",55:"r46",57:"r46"},{23:"r40",24:"r40",25:"r40",26:"r40",27:"r40",28:"r40",29:"r40",30:"r40",31:"r40",32:"r40",33:"r40",34:"r40",35:"r40",36:"r40",37:"r40",38:"r40",39:"r40",40:"r40",41:"r40",42:"r40",43:"r40",44:"r40",45:"r40",52:"r40",53:"r40",54:"r40",55:"r40",57:"r40"},{25:"s12",31:"s58"},{23:"r18",24:"r18",25:"r18",26:"r18",27:"r18",28:"r18",29:"r18",30:"r18",31:"r18",32:"r18",33:"r18",34:"r18",35:"r18",36:"r18",37:"r18",38:"r18",39:"r18",40:"r18",41:"r18",42:"r18",43:"r18",44:"r18",45:"r18",52:"r18",53:"r18",54:"r18",55:"r18",57:"r18"},{25:"s12",31:"s60"},{23:"r19",24:"r19",25:"r19",26:"r19",27:"r19",28:"r19",29:"r19",30:"r19",31:"r19",32:"r19",33:"r19",34:"r19",35:"r19",36:"r19",37:"r19",38:"r19",39:"r19",40:"r19",41:"r19",42:"r19",43:"r19",44:"r19",45:"r19",52:"r19",53:"r19",54:"r19",55:"r19",57:"r19"},{25:"s12",31:"s62"},{23:"r20",24:"r20",25:"r20",26:"r20",27:"r20",28:"r20",29:"r20",30:"r20",31:"r20",32:"r20",33:"r20",34:"r20",35:"r20",36:"r20",37:"r20",38:"r20",39:"r20",40:"r20",41:"r20",42:"r20",43:"r20",44:"r20",45:"r20",52:"r20",53:"r20",54:"r20",55:"r20",57:"r20"},{25:"s12",31:"s64"},{23:"r21",24:"r21",25:"r21",26:"r21",27:"r21",28:"r21",29:"r21",30:"r21",31:"r21",32:"r21",33:"r21",34:"r21",35:"r21",36:"r21",37:"r21",38:"r21",39:"r21",40:"r21",41:"r21",42:"r21",43:"r21",44:"r21",45:"r21",52:"r21",53:"r21",54:"r21",55:"r21",57:"r21"},{56:"s72"},{56:"r55"},{10:70,20:73,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r56",58:"s74"},{24:"r62",28:"r62",35:"r62",36:"r62",37:"r62",38:"r62",39:"r62",40:"r62",41:"r62",42:"r62",43:"r62",44:"r62",45:"r62",56:"r62",58:"r62"},{24:"r63",28:"r63",35:"r63",36:"r63",37:"r63",38:"r63",39:"r63",40:"r63",41:"r63",42:"r63",43:"r63",44:"r63",45:"r63",56:"r63",58:"r63"},{24:"r64",28:"r64",35:"r64",36:"r64",37:"r64",38:"r64",39:"r64",40:"r64",41:"r64",42:"r64",43:"r64",44:"r64",45:"r64",56:"r64",58:"r64"},{24:"r65",28:"r65",35:"r65",36:"r65",37:"r65",38:"r65",39:"r65",40:"r65",41:"r65",42:"r65",43:"r65",44:"r65",45:"r65",56:"r65",58:"r65"},{23:"r52",24:"r52",25:"r52",26:"r52",27:"r52",28:"r52",29:"r52",30:"r52",31:"r52",32:"r52",33:"r52",34:"r52",35:"r52",36:"r52",37:"r52",38:"r52",39:"r52",40:"r52",41:"r52",42:"r52",43:"r52",44:"r52",45:"r52",46:"r52",47:"r52",48:"r52",49:"r52",50:"r52",51:"r52",52:"r52",53:"r52",54:"r52",55:"r52",57:"r52"},{56:"r57"},{10:70,21:77,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{56:"r59"},{10:70,20:79,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r63",58:"s80"},{10:70,18:78,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r58"},{56:"r60"},{10:70,21:81,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{10:70,18:82,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r61"},{56:"s84"},{23:"r53",24:"r53",25:"r53",26:"r53",27:"r53",28:"r53",29:"r53",30:"r53",31:"r53",32:"r53",33:"r53",34:"r53",35:"r53",36:"r53",37:"r53",38:"r53",39:"r53",40:"r53",41:"r53",42:"r53",43:"r53",44:"r53",45:"r53",46:"r53",47:"r53",48:"r53",49:"r53",50:"r53",51:"r53",52:"r53",53:"r53",54:"r53",55:"r53",57:"r53"},{25:"s12",31:"s86"},{23:"r49",24:"r49",25:"r49",26:"r49",27:"r49",28:"r49",29:"r49",30:"r49",31:"r49",32:"r49",33:"r49",34:"r49",35:"r49",36:"r49",37:"r49",38:"r49",39:"r49",40:"r49",41:"r49",42:"r49",43:"r49",44:"r49",45:"r49",46:"r49",47:"r49",48:"r49",49:"r49",50:"r49",51:"r49",52:"r49",53:"r49",54:"r49",55:"r49",57:"r49"},{25:"s12",31:"s88"},{23:"r50",24:"r50",25:"r50",26:"r50",27:"r50",28:"r50",29:"r50",30:"r50",31:"r50",32:"r50",33:"r50",34:"r50",35:"r50",36:"r50",37:"r50",38:"r50",39:"r50",40:"r50",41:"r50",42:"r50",43:"r50",44:"r50",45:"r50",46:"r50",47:"r50",48:"r50",49:"r50",50:"r50",51:"r50",52:"r50",53:"r50",54:"r50",55:"r50",57:"r50"},{25:"s12",31:"s90"},{23:"r51",24:"r51",25:"r51",26:"r51",27:"r51",28:"r51",29:"r51",30:"r51",31:"r51",32:"r51",33:"r51",34:"r51",35:"r51",36:"r51",37:"r51",38:"r51",39:"r51",40:"r51",41:"r51",42:"r51",43:"r51",44:"r51",45:"r51",46:"r51",47:"r51",48:"r51",49:"r51",50:"r51",51:"r51",52:"r51",53:"r51",54:"r51",55:"r51",57:"r51"}],s=[],T=void 0,N=[[/^#[^\n]+/,function(){}],[/^\s+/,function(){}],[/^-/,function(){return"DASH"}],[/^\//,function(){return"CHAR"}],[/^#/,function(){return"CHAR"}],[/^\|/,function(){return"CHAR"}],[/^\./,function(){return"CHAR"}],[/^\{/,function(){return"CHAR"}],[/^\{\d+\}/,function(){return"RANGE_EXACT"}],[/^\{\d+,\}/,function(){return"RANGE_OPEN"}],[/^\{\d+,\d+\}/,function(){return"RANGE_CLOSED"}],[/^\\k<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return ue(M.slice(3,-1),this.getCurrentState()),"NAMED_GROUP_REF"}],[/^\\b/,function(){return"ESC_b"}],[/^\\B/,function(){return"ESC_B"}],[/^\\c[a-zA-Z]/,function(){return"CTRL_CH"}],[/^\\0\d{1,2}/,function(){return"OCT_CODE"}],[/^\\0/,function(){return"DEC_CODE"}],[/^\\\d{1,3}/,function(){return"DEC_CODE"}],[/^\\u[dD][89abAB][0-9a-fA-F]{2}\\u[dD][c-fC-F][0-9a-fA-F]{2}/,function(){return"U_CODE_SURROGATE"}],[/^\\u\{[0-9a-fA-F]{1,}\}/,function(){return"U_CODE"}],[/^\\u[0-9a-fA-F]{4}/,function(){return"U_CODE"}],[/^\\[pP]\{\w+(?:=\w+)?\}/,function(){return"U_PROP_VALUE_EXP"}],[/^\\x[0-9a-fA-F]{2}/,function(){return"HEX_CODE"}],[/^\\[tnrdDsSwWvf]/,function(){return"META_CHAR"}],[/^\\\//,function(){return"ESC_CHAR"}],[/^\\[ #]/,function(){return"ESC_CHAR"}],[/^\\[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/,function(){return"ESC_CHAR"}],[/^\\[^*?+\[()\\|]/,function(){var P=this.getCurrentState();if("u_class"===P&&"\\-"===M)return"ESC_CHAR";if("u"===P||"xu"===P||"u_class"===P)throw new SyntaxError("invalid Unicode escape "+M);return"ESC_CHAR"}],[/^\(/,function(){return"CHAR"}],[/^\)/,function(){return"CHAR"}],[/^\(\?=/,function(){return"POS_LA_ASSERT"}],[/^\(\?!/,function(){return"NEG_LA_ASSERT"}],[/^\(\?<=/,function(){return"POS_LB_ASSERT"}],[/^\(\?<!/,function(){return"NEG_LB_ASSERT"}],[/^\(\?:/,function(){return"NON_CAPTURE_GROUP"}],[/^\(\?<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return ue(M=M.slice(3,-1),this.getCurrentState()),"NAMED_CAPTURE_GROUP"}],[/^\(/,function(){return"L_PAREN"}],[/^\)/,function(){return"R_PAREN"}],[/^[*?+[^$]/,function(){return"CHAR"}],[/^\\\]/,function(){return"ESC_CHAR"}],[/^\]/,function(){return this.popState(),"R_BRACKET"}],[/^\^/,function(){return"BOS"}],[/^\$/,function(){return"EOS"}],[/^\*/,function(){return"STAR"}],[/^\?/,function(){return"Q_MARK"}],[/^\+/,function(){return"PLUS"}],[/^\|/,function(){return"BAR"}],[/^\./,function(){return"ANY"}],[/^\//,function(){return"SLASH"}],[/^[^*?+\[()\\|]/,function(){return"CHAR"}],[/^\[\^/,function(){var P=this.getCurrentState();return this.pushState("u"===P||"xu"===P?"u_class":"class"),"NEG_CLASS"}],[/^\[/,function(){var P=this.getCurrentState();return this.pushState("u"===P||"xu"===P?"u_class":"class"),"L_BRACKET"}]],F={INITIAL:[8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u:[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],xu:[0,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],x:[0,1,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u_class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]},J={type:"$",value:""};O.lexer=T={initString:function(p){return this._string=p,this._cursor=0,this._states=["INITIAL"],this._tokensQueue=[],this._currentLine=1,this._currentColumn=0,this._currentLineBeginOffset=0,this._tokenStartOffset=0,this._tokenEndOffset=0,this._tokenStartLine=1,this._tokenEndLine=1,this._tokenStartColumn=0,this._tokenEndColumn=0,this},getStates:function(){return this._states},getCurrentState:function(){return this._states[this._states.length-1]},pushState:function(p){this._states.push(p)},begin:function(p){this.pushState(p)},popState:function(){return this._states.length>1?this._states.pop():this._states[0]},getNextToken:function(){if(this._tokensQueue.length>0)return this.onToken(this._toToken(this._tokensQueue.shift()));if(!this.hasMoreTokens())return this.onToken(J);for(var p=this._string.slice(this._cursor),B=F[this.getCurrentState()],E=0;E<B.length;E++){var $=N[B[E]],G=this._match(p,$[0]);if(""===p&&""===G&&this._cursor++,null!==G){M=G;var V=$[1].call(this);if(!V)return this.getNextToken();if(Array.isArray(V)){var pe,Q=V.slice(1);V=V[0],Q.length>0&&(pe=this._tokensQueue).unshift.apply(pe,C(Q))}return this.onToken(this._toToken(V,M))}}if(this.isEOF())return this._cursor++,J;this.throwUnexpectedToken(p[0],this._currentLine,this._currentColumn)},throwUnexpectedToken:function(p,B,E){var Z=this._string.split("\n")[B-1],$="";throw Z&&($="\n\n"+Z+"\n"+" ".repeat(E)+"^\n"),new SyntaxError($+'Unexpected token: "'+p+'" at '+B+":"+E+".")},getCursor:function(){return this._cursor},getCurrentLine:function(){return this._currentLine},getCurrentColumn:function(){return this._currentColumn},_captureLocation:function(p){var B=/\n/g;this._tokenStartOffset=this._cursor,this._tokenStartLine=this._currentLine,this._tokenStartColumn=this._tokenStartOffset-this._currentLineBeginOffset;for(var E=void 0;null!==(E=B.exec(p));)this._currentLine++,this._currentLineBeginOffset=this._tokenStartOffset+E.index+1;this._tokenEndOffset=this._cursor+p.length,this._tokenEndLine=this._currentLine,this._tokenEndColumn=this._currentColumn=this._tokenEndOffset-this._currentLineBeginOffset},_toToken:function(p){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:p,value:B,startOffset:this._tokenStartOffset,endOffset:this._tokenEndOffset,startLine:this._tokenStartLine,endLine:this._tokenEndLine,startColumn:this._tokenStartColumn,endColumn:this._tokenEndColumn}},isEOF:function(){return this._cursor===this._string.length},hasMoreTokens:function(){return this._cursor<=this._string.length},_match:function(p,B){var E=p.match(B);return E?(this._captureLocation(E[0]),this._cursor+=E[0].length,E[0]):null},onToken:function(p){return p}},O.tokenizer=T,O.options={captureLocations:!0};var I={setOptions:function(p){return O.options=p,this},getOptions:function(){return O.options},parse:function(p,B){if(!T)throw new Error("Tokenizer instance wasn't specified.");T.initString(p);var E=O.options;B&&(O.options=Object.assign({},O.options,B)),I.onParseBegin(p,T,O.options),s.length=0,s.push(0);var Z=T.getNextToken(),$=null;do{Z||(O.options=E,De());var G=s[s.length-1],V=x[Z.type];y[G].hasOwnProperty(V)||(O.options=E,Le(Z));var Q=y[G][V];if("s"===Q[0]){var pe=null;O.options.captureLocations&&(pe={startOffset:Z.startOffset,endOffset:Z.endOffset,startLine:Z.startLine,endLine:Z.endLine,startColumn:Z.startColumn,endColumn:Z.endColumn}),$=this.onShift(Z),s.push({symbol:x[$.type],semanticValue:$.value,loc:pe},Number(Q.slice(1))),Z=T.getNextToken()}else if("r"===Q[0]){var Oe=Q.slice(1),j=h[Oe],Ne="function"==typeof j[2],xe=Ne?[]:null,ie=Ne&&O.options.captureLocations?[]:null;if(0!==j[1])for(var Ye=j[1];Ye-- >0;){s.pop();var K=s.pop();Ne&&(xe.unshift(K.semanticValue),ie&&ie.unshift(K.loc))}var _e={symbol:j[0]};if(Ne){M=$?$.value:null;var Ee=null!==ie?xe.concat(ie):xe;j[2].apply(j,C(Ee)),_e.semanticValue=m,ie&&(_e.loc=e)}s.push(_e,y[s[s.length-1]][j[0]])}else if("acc"===Q){s.pop();var qe=s.pop();return(1!==s.length||0!==s[0]||T.hasMoreTokens())&&(O.options=E,Le(Z)),qe.hasOwnProperty("semanticValue")?(O.options=E,I.onParseEnd(qe.semanticValue),qe.semanticValue):(I.onParseEnd(),O.options=E,!0)}}while(T.hasMoreTokens()||s.length>1)},setTokenizer:function(p){return T=p,I},getTokenizer:function(){return T},onParseBegin:function(p,B,E){},onParseEnd:function(p){},onShift:function(p){return p}},Y=0,W={},X="";function ne(P){var p=P.match(/\d+/g).map(Number);if(Number.isFinite(p[1])&&p[1]<p[0])throw new SyntaxError("Numbers out of order in "+P+" quantifier");return p}function de(P,p){if("control"===P.kind||"control"===p.kind||!isNaN(P.codePoint)&&!isNaN(p.codePoint)&&P.codePoint>p.codePoint)throw new SyntaxError("Range "+P.value+"-"+p.value+" out of order in character class")}I.onParseBegin=function(P,p){X=P,Y=0,W={};var B=P.lastIndexOf("/"),E=P.slice(B);E.includes("x")&&E.includes("u")?p.pushState("xu"):(E.includes("x")&&p.pushState("x"),E.includes("u")&&p.pushState("u"))},I.onShift=function(P){return("L_PAREN"===P.type||"NAMED_CAPTURE_GROUP"===P.type)&&(P.value=new String(P.value),P.value.groupNumber=++Y),P};var Ce=l(1531);function me(P,p,B){var E=void 0,Z=void 0;switch(p){case"decimal":Z=Number(P.slice(1)),E=String.fromCodePoint(Z);break;case"oct":Z=parseInt(P.slice(1),8),E=String.fromCodePoint(Z);break;case"hex":case"unicode":if(P.lastIndexOf("\\u")>0){var G=function(p,B){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function P(p,B){var E=[],Z=!0,$=!1,G=void 0;try{for(var Q,V=p[Symbol.iterator]();!(Z=(Q=V.next()).done)&&(E.push(Q.value),!B||E.length!==B);Z=!0);}catch(pe){$=!0,G=pe}finally{try{!Z&&V.return&&V.return()}finally{if($)throw G}}return E}(p,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(P.split("\\u").slice(1),2),V=G[0],Q=G[1];Z=1024*((V=parseInt(V,16))-55296)+((Q=parseInt(Q,16))-56320)+65536,E=String.fromCodePoint(Z)}else{var pe=P.slice(2).replace("{","");if((Z=parseInt(pe,16))>1114111)throw new SyntaxError("Bad character escape sequence: "+P);E=String.fromCodePoint(Z)}break;case"meta":switch(P){case"\\t":Z=(E="\t").codePointAt(0);break;case"\\n":Z=(E="\n").codePointAt(0);break;case"\\r":Z=(E="\r").codePointAt(0);break;case"\\v":Z=(E="\v").codePointAt(0);break;case"\\f":Z=(E="\f").codePointAt(0);break;case"\\b":Z=(E="\b").codePointAt(0);case"\\0":E="\0",Z=0;case".":E=".",Z=NaN;break;default:Z=NaN}break;case"simple":Z=(E=P).codePointAt(0)}return fe({type:"Char",value:P,kind:p,symbol:E,codePoint:Z},B)}function q(P){var p=new Set,B=!0,E=!1,Z=void 0;try{for(var G,$=P[Symbol.iterator]();!(B=(G=$.next()).done);B=!0){var V=G.value;if(p.has(V)||!"gimsuxy".includes(V))throw new SyntaxError("Invalid flags: "+P);p.add(V)}}catch(Q){E=!0,Z=Q}finally{try{!B&&$.return&&$.return()}finally{if(E)throw Z}}return P.split("").sort().join("")}var re=/^\\u[0-9a-fA-F]{4}/,ae=/^\\u\{[0-9a-fA-F]{1,}\}/,le=/\\u\{[0-9a-fA-F]{1,}\}/;function ue(P,p){if(le.test(P)&&"u"!==p&&"xu"!==p&&"u_class"!==p)throw new SyntaxError('invalid group Unicode name "'+P+'", use `u` flag.');return P}var he=/\\u(?:([dD][89aAbB][0-9a-fA-F]{2})\\u([dD][c-fC-F][0-9a-fA-F]{2})|([dD][89aAbB][0-9a-fA-F]{2})|([dD][c-fC-F][0-9a-fA-F]{2})|([0-9a-ce-fA-CE-F][0-9a-fA-F]{3}|[dD][0-7][0-9a-fA-F]{2})|\{(0*(?:[0-9a-fA-F]{1,5}|10[0-9a-fA-F]{4}))\})/;function ge(P){return P.replace(new RegExp(he,"g"),function(p,B,E,Z,$,G,V){return B?String.fromCodePoint(parseInt(B,16),parseInt(E,16)):Z?String.fromCodePoint(parseInt(Z,16)):$?String.fromCodePoint(parseInt($,16)):G?String.fromCodePoint(parseInt(G,16)):V?String.fromCodePoint(parseInt(V,16)):p})}function fe(P,p){return O.options.captureLocations&&(P.loc={source:X.slice(p.startOffset,p.endOffset),start:{line:p.startLine,column:p.startColumn,offset:p.startOffset},end:{line:p.endLine,column:p.endColumn,offset:p.endOffset}}),P}function Se(P,p){return O.options.captureLocations?{startOffset:P.startOffset,endOffset:p.endOffset,startLine:P.startLine,endLine:p.endLine,startColumn:P.startColumn,endColumn:p.endColumn}:null}function Le(P){"$"===P.type&&De(),T.throwUnexpectedToken(P.value,P.startLine,P.startColumn)}function De(){!function $e(P){throw new SyntaxError(P)}("Unexpected end of input.")}L.exports=I},8397:(L,U,l)=>{var k=l(3585),C=k.parse.bind(k);k.parse=function(M,w){return C(""+M,w)},k.setOptions({captureLocations:!1}),L.exports=k},1531:L=>{var U={General_Category:"gc",Script:"sc",Script_Extensions:"scx"},l=e(U),k={ASCII:"ASCII",ASCII_Hex_Digit:"AHex",Alphabetic:"Alpha",Any:"Any",Assigned:"Assigned",Bidi_Control:"Bidi_C",Bidi_Mirrored:"Bidi_M",Case_Ignorable:"CI",Cased:"Cased",Changes_When_Casefolded:"CWCF",Changes_When_Casemapped:"CWCM",Changes_When_Lowercased:"CWL",Changes_When_NFKC_Casefolded:"CWKCF",Changes_When_Titlecased:"CWT",Changes_When_Uppercased:"CWU",Dash:"Dash",Default_Ignorable_Code_Point:"DI",Deprecated:"Dep",Diacritic:"Dia",Emoji:"Emoji",Emoji_Component:"Emoji_Component",Emoji_Modifier:"Emoji_Modifier",Emoji_Modifier_Base:"Emoji_Modifier_Base",Emoji_Presentation:"Emoji_Presentation",Extended_Pictographic:"Extended_Pictographic",Extender:"Ext",Grapheme_Base:"Gr_Base",Grapheme_Extend:"Gr_Ext",Hex_Digit:"Hex",IDS_Binary_Operator:"IDSB",IDS_Trinary_Operator:"IDST",ID_Continue:"IDC",ID_Start:"IDS",Ideographic:"Ideo",Join_Control:"Join_C",Logical_Order_Exception:"LOE",Lowercase:"Lower",Math:"Math",Noncharacter_Code_Point:"NChar",Pattern_Syntax:"Pat_Syn",Pattern_White_Space:"Pat_WS",Quotation_Mark:"QMark",Radical:"Radical",Regional_Indicator:"RI",Sentence_Terminal:"STerm",Soft_Dotted:"SD",Terminal_Punctuation:"Term",Unified_Ideograph:"UIdeo",Uppercase:"Upper",Variation_Selector:"VS",White_Space:"space",XID_Continue:"XIDC",XID_Start:"XIDS"},C=e(k),M={Cased_Letter:"LC",Close_Punctuation:"Pe",Connector_Punctuation:"Pc",Control:["Cc","cntrl"],Currency_Symbol:"Sc",Dash_Punctuation:"Pd",Decimal_Number:["Nd","digit"],Enclosing_Mark:"Me",Final_Punctuation:"Pf",Format:"Cf",Initial_Punctuation:"Pi",Letter:"L",Letter_Number:"Nl",Line_Separator:"Zl",Lowercase_Letter:"Ll",Mark:["M","Combining_Mark"],Math_Symbol:"Sm",Modifier_Letter:"Lm",Modifier_Symbol:"Sk",Nonspacing_Mark:"Mn",Number:"N",Open_Punctuation:"Ps",Other:"C",Other_Letter:"Lo",Other_Number:"No",Other_Punctuation:"Po",Other_Symbol:"So",Paragraph_Separator:"Zp",Private_Use:"Co",Punctuation:["P","punct"],Separator:"Z",Space_Separator:"Zs",Spacing_Mark:"Mc",Surrogate:"Cs",Symbol:"S",Titlecase_Letter:"Lt",Unassigned:"Cn",Uppercase_Letter:"Lu"},w=e(M),O={Adlam:"Adlm",Ahom:"Ahom",Anatolian_Hieroglyphs:"Hluw",Arabic:"Arab",Armenian:"Armn",Avestan:"Avst",Balinese:"Bali",Bamum:"Bamu",Bassa_Vah:"Bass",Batak:"Batk",Bengali:"Beng",Bhaiksuki:"Bhks",Bopomofo:"Bopo",Brahmi:"Brah",Braille:"Brai",Buginese:"Bugi",Buhid:"Buhd",Canadian_Aboriginal:"Cans",Carian:"Cari",Caucasian_Albanian:"Aghb",Chakma:"Cakm",Cham:"Cham",Cherokee:"Cher",Common:"Zyyy",Coptic:["Copt","Qaac"],Cuneiform:"Xsux",Cypriot:"Cprt",Cyrillic:"Cyrl",Deseret:"Dsrt",Devanagari:"Deva",Dogra:"Dogr",Duployan:"Dupl",Egyptian_Hieroglyphs:"Egyp",Elbasan:"Elba",Ethiopic:"Ethi",Georgian:"Geor",Glagolitic:"Glag",Gothic:"Goth",Grantha:"Gran",Greek:"Grek",Gujarati:"Gujr",Gunjala_Gondi:"Gong",Gurmukhi:"Guru",Han:"Hani",Hangul:"Hang",Hanifi_Rohingya:"Rohg",Hanunoo:"Hano",Hatran:"Hatr",Hebrew:"Hebr",Hiragana:"Hira",Imperial_Aramaic:"Armi",Inherited:["Zinh","Qaai"],Inscriptional_Pahlavi:"Phli",Inscriptional_Parthian:"Prti",Javanese:"Java",Kaithi:"Kthi",Kannada:"Knda",Katakana:"Kana",Kayah_Li:"Kali",Kharoshthi:"Khar",Khmer:"Khmr",Khojki:"Khoj",Khudawadi:"Sind",Lao:"Laoo",Latin:"Latn",Lepcha:"Lepc",Limbu:"Limb",Linear_A:"Lina",Linear_B:"Linb",Lisu:"Lisu",Lycian:"Lyci",Lydian:"Lydi",Mahajani:"Mahj",Makasar:"Maka",Malayalam:"Mlym",Mandaic:"Mand",Manichaean:"Mani",Marchen:"Marc",Medefaidrin:"Medf",Masaram_Gondi:"Gonm",Meetei_Mayek:"Mtei",Mende_Kikakui:"Mend",Meroitic_Cursive:"Merc",Meroitic_Hieroglyphs:"Mero",Miao:"Plrd",Modi:"Modi",Mongolian:"Mong",Mro:"Mroo",Multani:"Mult",Myanmar:"Mymr",Nabataean:"Nbat",New_Tai_Lue:"Talu",Newa:"Newa",Nko:"Nkoo",Nushu:"Nshu",Ogham:"Ogam",Ol_Chiki:"Olck",Old_Hungarian:"Hung",Old_Italic:"Ital",Old_North_Arabian:"Narb",Old_Permic:"Perm",Old_Persian:"Xpeo",Old_Sogdian:"Sogo",Old_South_Arabian:"Sarb",Old_Turkic:"Orkh",Oriya:"Orya",Osage:"Osge",Osmanya:"Osma",Pahawh_Hmong:"Hmng",Palmyrene:"Palm",Pau_Cin_Hau:"Pauc",Phags_Pa:"Phag",Phoenician:"Phnx",Psalter_Pahlavi:"Phlp",Rejang:"Rjng",Runic:"Runr",Samaritan:"Samr",Saurashtra:"Saur",Sharada:"Shrd",Shavian:"Shaw",Siddham:"Sidd",SignWriting:"Sgnw",Sinhala:"Sinh",Sogdian:"Sogd",Sora_Sompeng:"Sora",Soyombo:"Soyo",Sundanese:"Sund",Syloti_Nagri:"Sylo",Syriac:"Syrc",Tagalog:"Tglg",Tagbanwa:"Tagb",Tai_Le:"Tale",Tai_Tham:"Lana",Tai_Viet:"Tavt",Takri:"Takr",Tamil:"Taml",Tangut:"Tang",Telugu:"Telu",Thaana:"Thaa",Thai:"Thai",Tibetan:"Tibt",Tifinagh:"Tfng",Tirhuta:"Tirh",Ugaritic:"Ugar",Vai:"Vaii",Warang_Citi:"Wara",Yi:"Yiii",Zanabazar_Square:"Zanb"},m=e(O);function e(I){var Y={};for(var W in I)if(I.hasOwnProperty(W)){var X=I[W];if(Array.isArray(X))for(var ne=0;ne<X.length;ne++)Y[X[ne]]=W;else Y[X]=W}return Y}function s(I){return M.hasOwnProperty(I)||w.hasOwnProperty(I)}function T(I){return O.hasOwnProperty(I)||m.hasOwnProperty(I)}L.exports={isAlias:function h(I){return l.hasOwnProperty(I)||C.hasOwnProperty(I)},isValidName:function f(I){return U.hasOwnProperty(I)||l.hasOwnProperty(I)||k.hasOwnProperty(I)||C.hasOwnProperty(I)},isValidValue:function g(I,Y){return function x(I){return"General_Category"===I||"gc"==I}(I)?s(Y):!!function y(I){return"Script"===I||"Script_Extensions"===I||"sc"===I||"scx"===I}(I)&&T(Y)},isGeneralCategoryValue:s,isScriptCategoryValue:T,isBinaryPropertyName:function N(I){return k.hasOwnProperty(I)||C.hasOwnProperty(I)},getCanonicalName:function F(I){return l.hasOwnProperty(I)?l[I]:C.hasOwnProperty(I)?C[I]:null},getCanonicalValue:function J(I){return w.hasOwnProperty(I)?w[I]:m.hasOwnProperty(I)?m[I]:C.hasOwnProperty(I)?C[I]:null},NON_BINARY_PROP_NAMES_TO_ALIASES:U,NON_BINARY_ALIASES_TO_PROP_NAMES:l,BINARY_PROP_NAMES_TO_ALIASES:k,BINARY_ALIASES_TO_PROP_NAMES:C,GENERAL_CATEGORY_VALUE_TO_ALIASES:M,GENERAL_CATEGORY_VALUE_ALIASES_TO_VALUES:w,SCRIPT_VALUE_TO_ALIASES:O,SCRIPT_VALUE_ALIASES_TO_VALUE:m}},1466:(L,U,l)=>{var k=l(8765),C=l(3930),M=l(5299),w=l(8397),O=l(5258),m=l(9256),e=l(4575),g=l(4662).RegExpTree;L.exports={parser:w,fa:e,TransformResult:O.TransformResult,parse:function(y,s){return w.parse(""+y,s)},traverse:function(y,s,T){return m.traverse(y,s,T)},transform:function(y,s){return O.transform(y,s)},generate:function(y){return C.generate(y)},toRegExp:function(y){var s=this.compatTranspile(y);return new RegExp(s.getSource(),s.getFlags())},optimize:function(y,s){var T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},N=T.blacklist;return M.optimize(y,{whitelist:s,blacklist:N})},compatTranspile:function(y,s){return k.transform(y,s)},exec:function(y,s){if("string"==typeof y){var T=this.compatTranspile(y),N=T.getExtra();y=N.namedCapturingGroups?new g(T.toRegExp(),{flags:T.getFlags(),source:T.getSource(),groups:N.namedCapturingGroups}):T.toRegExp()}return y.exec(s)}}},5258:(L,U,l)=>{var k=function(){function e(f,g){for(var h=0;h<g.length;h++){var x=g[h];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(f,x.key,x)}}return function(f,g,h){return g&&e(f.prototype,g),h&&e(f,h),f}}();function C(e,f){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}var M=l(3930),w=l(8397),O=l(9256),m=function(){function e(f){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;C(this,e),this._ast=f,this._source=null,this._string=null,this._regexp=null,this._extra=g}return k(e,[{key:"getAST",value:function(){return this._ast}},{key:"setExtra",value:function(g){this._extra=g}},{key:"getExtra",value:function(){return this._extra}},{key:"toRegExp",value:function(){return this._regexp||(this._regexp=new RegExp(this.getSource(),this._ast.flags)),this._regexp}},{key:"getSource",value:function(){return this._source||(this._source=M.generate(this._ast.body)),this._source}},{key:"getFlags",value:function(){return this._ast.flags}},{key:"toString",value:function(){return this._string||(this._string=M.generate(this._ast)),this._string}}]),e}();L.exports={TransformResult:m,transform:function(f,g){var h=f;return f instanceof RegExp&&(f=""+f),"string"==typeof f&&(h=w.parse(f,{captureLocations:!0})),O.traverse(h,g),new m(h)}}},7361:L=>{L.exports={disjunctionToList:function l(M){if("Disjunction"!==M.type)throw new TypeError('Expected "Disjunction" node, got "'+M.type+'"');var w=[];return M.left&&"Disjunction"===M.left.type?w.push.apply(w,function U(M){if(Array.isArray(M)){for(var w=0,O=Array(M.length);w<M.length;w++)O[w]=M[w];return O}return Array.from(M)}(l(M.left)).concat([M.right])):w.push(M.left,M.right),w},listToDisjunction:function k(M){return M.reduce(function(w,O){return{type:"Disjunction",left:w,right:O}})},increaseQuantifierByOne:function C(M){"*"===M.kind?M.kind="+":"+"===M.kind?(M.kind="Range",M.from=2,delete M.to):"?"===M.kind?(M.kind="Range",M.from=1,M.to=2):"Range"===M.kind&&(M.from+=1,M.to&&(M.to+=1))}}},9256:(L,U,l)=>{var k=l(6192);function C(M){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=w.pre,m=w.post,e=w.skipProperty;function f(g,h,x,y){if(g&&"string"==typeof g.type){var s=void 0;if(O&&(s=O(g,h,x,y)),!1!==s)for(var T in h&&h[x]&&(g=isNaN(y)?h[x]:h[x][y]),g)if(g.hasOwnProperty(T)){if(e?e(T,g):"$"===T[0])continue;var N=g[T];if(Array.isArray(N)){var F=0;for(k.traversingIndexStack.push(F);F<N.length;)f(N[F],g,T,F),F=k.updateTraversingIndex(1);k.traversingIndexStack.pop()}else f(N,g,T)}m&&m(g,h,x,y)}}f(M,null)}L.exports={traverse:function(w,O){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{asNodes:!1};function e(f,g,h,x){var y=k.getForNode(g);return k.getForNode(f,y,h,x)}Array.isArray(O)||(O=[O]),O=O.filter(function(f){return"function"!=typeof f.shouldRun||f.shouldRun(w)}),k.initRegistry(),O.forEach(function(f){"function"==typeof f.init&&f.init(w)}),C(w,{pre:function(g,h,x,y){var s=void 0;m.asNodes||(s=e(g,h,x,y));var T=!0,N=!1,F=void 0;try{for(var I,J=O[Symbol.iterator]();!(T=(I=J.next()).done);T=!0){var Y=I.value;if("function"==typeof Y["*"])if(s){if(!s.isRemoved()&&!1===Y["*"](s))return!1}else Y["*"](g,h,x,y);var X=void 0;if("function"==typeof Y[g.type]?X=Y[g.type]:"object"==typeof Y[g.type]&&"function"==typeof Y[g.type].pre&&(X=Y[g.type].pre),X)if(s){if(!s.isRemoved()&&!1===X.call(Y,s))return!1}else X.call(Y,g,h,x,y)}}catch(de){N=!0,F=de}finally{try{!T&&J.return&&J.return()}finally{if(N)throw F}}},post:function(g,h,x,y){if(g){var s=void 0;m.asNodes||(s=e(g,h,x,y));var T=!0,N=!1,F=void 0;try{for(var I,J=O[Symbol.iterator]();!(T=(I=J.next()).done);T=!0){var Y=I.value,W=void 0;if("object"==typeof Y[g.type]&&"function"==typeof Y[g.type].post&&(W=Y[g.type].post),W)if(s){if(!s.isRemoved()&&!1===W.call(Y,s))return!1}else W.call(Y,g,h,x,y)}}catch(ne){N=!0,F=ne}finally{try{!T&&J.return&&J.return()}finally{if(N)throw F}}}},skipProperty:function(g){return"loc"===g}})}}},6192:L=>{var U=function(){function O(m,e){for(var f=0;f<e.length;f++){var g=e[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,e,f){return e&&O(m.prototype,e),f&&O(m,f),m}}();function l(O,m){if(!(O instanceof m))throw new TypeError("Cannot call a class as a function")}var k="expressions",C="expression",M=function(){function O(m){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,O),this.node=m,this.parentPath=e,this.parent=e?e.node:null,this.property=f,this.index=g}return U(O,[{key:"_enforceProp",value:function(e){if(!this.node.hasOwnProperty(e))throw new Error("Node of type "+this.node.type+" doesn't have \""+e+'" collection.')}},{key:"setChild",value:function(e){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=void 0;return null!=f?(g||(g=k),this._enforceProp(g),this.node[g][f]=e,h=O.getForNode(e,this,g,f)):(g||(g=C),this._enforceProp(g),this.node[g]=e,h=O.getForNode(e,this,g,null)),h}},{key:"appendChild",value:function(e){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f||(f=k),this._enforceProp(f);var g=this.node[f].length;return this.setChild(e,g,f)}},{key:"insertChildAt",value:function(e,f){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;this._enforceProp(g),this.node[g].splice(f,0,e),f<=O.getTraversingIndex()&&O.updateTraversingIndex(1),this._rebuildIndex(this.node,g)}},{key:"remove",value:function(){if(!this.isRemoved()&&(O.registry.delete(this.node),this.node=null,this.parent)){if(null!==this.index)return this.parent[this.property].splice(this.index,1),this.index<=O.getTraversingIndex()&&O.updateTraversingIndex(-1),this._rebuildIndex(this.parent,this.property),this.index=null,void(this.property=null);delete this.parent[this.property],this.property=null}}},{key:"_rebuildIndex",value:function(e,f){for(var g=O.getForNode(e),h=0;h<e[f].length;h++)O.getForNode(e[f][h],g,f,h).index=h}},{key:"isRemoved",value:function(){return null===this.node}},{key:"replace",value:function(e){return O.registry.delete(this.node),this.node=e,this.parent?(null!==this.index?this.parent[this.property][this.index]=e:this.parent[this.property]=e,O.getForNode(e,this.parentPath,this.property,this.index)):null}},{key:"update",value:function(e){Object.assign(this.node,e)}},{key:"getParent",value:function(){return this.parentPath}},{key:"getChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.node.expressions?O.getForNode(this.node.expressions[e],this,k,e):this.node.expression&&0==e?O.getForNode(this.node.expression,this,C):null}},{key:"hasEqualSource",value:function(e){return JSON.stringify(this.node,w)===JSON.stringify(e.node,w)}},{key:"jsonEncode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=e.format,g=e.useLoc;return JSON.stringify(this.node,g?null:w,f)}},{key:"getPreviousSibling",value:function(){return this.parent&&null!=this.index?O.getForNode(this.parent[this.property][this.index-1],O.getForNode(this.parent),this.property,this.index-1):null}},{key:"getNextSibling",value:function(){return this.parent&&null!=this.index?O.getForNode(this.parent[this.property][this.index+1],O.getForNode(this.parent),this.property,this.index+1):null}}],[{key:"getForNode",value:function(e){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(!e)return null;O.registry.has(e)||O.registry.set(e,new O(e,f,g,-1==h?null:h));var x=O.registry.get(e);return null!==f&&(x.parentPath=f,x.parent=x.parentPath.node),null!==g&&(x.property=g),h>=0&&(x.index=h),x}},{key:"initRegistry",value:function(){O.registry||(O.registry=new Map),O.registry.clear()}},{key:"updateTraversingIndex",value:function(e){return O.traversingIndexStack[O.traversingIndexStack.length-1]+=e}},{key:"getTraversingIndex",value:function(){return O.traversingIndexStack[O.traversingIndexStack.length-1]}}]),O}();function w(O,m){if("loc"!==O)return m}M.initRegistry(),M.traversingIndexStack=[],L.exports=M},7555:L=>{L.exports=function U(l){if(null===l||"object"!=typeof l)return l;var k=void 0;for(var C in k=Array.isArray(l)?[]:{},l)k[C]=U(l[C]);return k}},1899:(L,U,l)=>{L.exports=l(1466)}}]);
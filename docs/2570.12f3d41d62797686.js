"use strict";var HI=Object.defineProperty,zI=(Fe,Ee,p)=>Ee in Fe?HI(Fe,Ee,{enumerable:!0,configurable:!0,writable:!0,value:p}):Fe[Ee]=p,Zo=(Fe,Ee,p)=>(zI(Fe,"symbol"!=typeof Ee?Ee+"":Ee,p),p);(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[2570],{47306:(Fe,Ee,p)=>{p.r(Ee),p.d(Ee,{PixelRatio:()=>T,getZoomFactor:()=>B,isFirefox:()=>y,isWebKit:()=>C,isChrome:()=>b,isSafari:()=>x,isWebkitWebView:()=>f,isElectron:()=>E,isAndroid:()=>z,isStandalone:()=>L});var D=p(71040),g=p(40189);class Y{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}Y.INSTANCE=new Y;class W extends g.JT{constructor(){super(),this._onDidChange=this._register(new D.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(Z){this._mediaQueryList&&this._mediaQueryList.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),Z&&this._onDidChange.fire()}}class M extends g.JT{constructor(){super(),this._onDidChange=this._register(new D.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const Z=this._register(new W);this._register(Z.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const Z=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(Z.webkitBackingStorePixelRatio||Z.mozBackingStorePixelRatio||Z.msBackingStorePixelRatio||Z.oBackingStorePixelRatio||Z.backingStorePixelRatio||1)}}const T=new class{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=new M),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function B(){return Y.INSTANCE.getZoomFactor()}const P=navigator.userAgent,y=P.indexOf("Firefox")>=0,C=P.indexOf("AppleWebKit")>=0,b=P.indexOf("Chrome")>=0,x=!b&&P.indexOf("Safari")>=0,f=!b&&!x&&C,E=P.indexOf("Electron/")>=0,z=P.indexOf("Android")>=0,L=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches},96721:(Fe,Ee,p)=>{p.d(Ee,{D:()=>Y});var D=p(47306),g=p(70700);const Y={clipboard:{writeText:g.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:g.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:g.tY||D.isStandalone?0:navigator.keyboard||D.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},34122:(Fe,Ee,p)=>{p.d(Ee,{go:()=>g,TN:()=>Y,P$:()=>W});const g={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:p(48343).v.text,TERMINALS:"Terminals"};class Y{constructor(i){this.data=i}update(){}getData(){return this.data}}const W={CurrentDragAndDropData:void 0}},86678:(Fe,Ee,p)=>{p.d(Ee,{PO:()=>C,Uw:()=>b,nm:()=>f,mu:()=>L,GQ:()=>N,u0:()=>O,q6:()=>I,j_:()=>$,RE:()=>j,IC:()=>G,lI:()=>fe,jL:()=>pe,Y_:()=>le,Dx:()=>te,D6:()=>J,Ro:()=>ce,xQ:()=>ve,dp:()=>Ie,i:()=>We,DI:()=>Ue,w:()=>ue,FK:()=>Ce,If:()=>Ae,wn:()=>et,jg:()=>Ye,Fx:()=>Pe,uU:()=>st,OO:()=>nt,Ay:()=>Se,vY:()=>Ne,dS:()=>at,fk:()=>mt,uN:()=>Ft,Re:()=>Wt,tw:()=>zt,zB:()=>mn,vL:()=>Ge,_0:()=>Lt,go:()=>dn,R3:()=>Ln,Ce:()=>sn,mc:()=>hn,$:()=>xi,$Z:()=>Yt,Cp:()=>He,H$:()=>$e,Uh:()=>Xt,V3:()=>pn,jt:()=>ti,wY:()=>bi,_h:()=>Oi,_q:()=>Li,uB:()=>vi});var D=p(47306),g=p(96721),Y=p(714),W=p(2886),M=p(89983),i=p(13226),T=p(71040),B=p(40189),P=p(98318),y=p(70700);function C(xt){for(;xt.firstChild;)xt.firstChild.remove()}function b(xt){var St;return null!==(St=null==xt?void 0:xt.isConnected)&&void 0!==St&&St}class x{constructor(St,$t,Fn,kt){this._node=St,this._type=$t,this._handler=Fn,this._options=kt||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function f(xt,St,$t,Fn){return new x(xt,St,$t,Fn)}function E(xt){return function(St){return xt(new W.n(St))}}let L=function(St,$t,Fn,kt){let Ve=Fn;return"click"===$t||"mousedown"===$t?Ve=E(Fn):("keydown"===$t||"keypress"===$t||"keyup"===$t)&&(xt=Fn,Ve=function(St){return xt(new Y.y(St))}),f(St,$t,Ve,kt);var xt},N=function(St,$t,Fn){return O(St,E($t),Fn)};function O(xt,St,$t){return f(xt,y.gn&&g.D.pointerEvents?zt.POINTER_DOWN:zt.MOUSE_DOWN,St,$t)}function I(xt,St,$t){return f(xt,y.gn&&g.D.pointerEvents?zt.POINTER_UP:zt.MOUSE_UP,St,$t)}function $(xt,St){return f(xt,"mouseout",$t=>{let Fn=$t.relatedTarget;for(;Fn&&Fn!==xt;)Fn=Fn.parentNode;Fn!==xt&&St($t)})}function j(xt,St){return f(xt,"pointerout",$t=>{let Fn=$t.relatedTarget;for(;Fn&&Fn!==xt;)Fn=Fn.parentNode;Fn!==xt&&St($t)})}function G(xt,St,$t){let Fn=null;const kt=Et=>lt.fire(Et),lt=new T.Q5({onFirstListenerAdd:()=>{Fn||(Fn=new x(xt,St,kt,$t))},onLastListenerRemove:()=>{Fn&&(Fn.dispose(),Fn=null)}});return lt}let fe,pe,oe=null;class ye{constructor(St,$t=0){this._runner=St,this.priority=$t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(St){(0,i.dL)(St)}}static sort(St,$t){return $t.priority-St.priority}}!function(){let xt=[],St=null,$t=!1,Fn=!1,kt=()=>{for($t=!1,St=xt,xt=[],Fn=!0;St.length>0;)St.sort(ye.sort),St.shift().execute();Fn=!1};pe=(Ve,Je=0)=>{let lt=new ye(Ve,Je);return xt.push(lt),$t||($t=!0,function(xt){if(!oe){const St=$t=>setTimeout(()=>$t((new Date).getTime()),0);oe=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||St}oe.call(self,xt)}(kt)),lt},fe=(Ve,Je)=>{if(Fn){let lt=new ye(Ve,Je);return St.push(lt),lt}return pe(Ve,Je)}}();const Q=function(xt,St){return St};class ee extends B.JT{constructor(St,$t,Fn,kt=Q,Ve=8){super();let Je=null,lt=0,Et=this._register(new M._F),Vt=()=>{lt=(new Date).getTime(),Fn(Je),Je=null};this._register(f(St,$t,Ut=>{Je=kt(Je,Ut);let ln=(new Date).getTime()-lt;ln>=Ve?(Et.cancel(),Vt()):Et.setIfNotSet(Vt,Ve-ln)}))}}function le(xt,St,$t,Fn,kt){return new ee(xt,St,$t,Fn,kt)}function te(xt){return document.defaultView.getComputedStyle(xt,null)}function J(xt){if(xt!==document.body)return new ce(xt.clientWidth,xt.clientHeight);if(y.gn&&window.visualViewport)return new ce(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new ce(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new ce(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new ce(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class re{static convertToPixels(St,$t){return parseFloat($t)||0}static getDimension(St,$t,Fn){let kt=te(St),Ve="0";return kt&&(Ve=kt.getPropertyValue?kt.getPropertyValue($t):kt.getAttribute(Fn)),re.convertToPixels(St,Ve)}static getBorderLeftWidth(St){return re.getDimension(St,"border-left-width","borderLeftWidth")}static getBorderRightWidth(St){return re.getDimension(St,"border-right-width","borderRightWidth")}static getBorderTopWidth(St){return re.getDimension(St,"border-top-width","borderTopWidth")}static getBorderBottomWidth(St){return re.getDimension(St,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(St){return re.getDimension(St,"padding-left","paddingLeft")}static getPaddingRight(St){return re.getDimension(St,"padding-right","paddingRight")}static getPaddingTop(St){return re.getDimension(St,"padding-top","paddingTop")}static getPaddingBottom(St){return re.getDimension(St,"padding-bottom","paddingBottom")}static getMarginLeft(St){return re.getDimension(St,"margin-left","marginLeft")}static getMarginTop(St){return re.getDimension(St,"margin-top","marginTop")}static getMarginRight(St){return re.getDimension(St,"margin-right","marginRight")}static getMarginBottom(St){return re.getDimension(St,"margin-bottom","marginBottom")}}class ce{constructor(St,$t){this.width=St,this.height=$t}with(St=this.width,$t=this.height){return St!==this.width||$t!==this.height?new ce(St,$t):this}static is(St){return"object"==typeof St&&"number"==typeof St.height&&"number"==typeof St.width}static lift(St){return St instanceof ce?St:new ce(St.width,St.height)}static equals(St,$t){return St===$t||!(!St||!$t)&&St.width===$t.width&&St.height===$t.height}}function ve(xt){let St=xt.offsetParent,$t=xt.offsetTop,Fn=xt.offsetLeft;for(;null!==(xt=xt.parentNode)&&xt!==document.body&&xt!==document.documentElement;){$t-=xt.scrollTop;const kt=ut(xt)?null:te(xt);kt&&(Fn-="rtl"!==kt.direction?xt.scrollLeft:-xt.scrollLeft),xt===St&&(Fn+=re.getBorderLeftWidth(xt),$t+=re.getBorderTopWidth(xt),$t+=xt.offsetTop,Fn+=xt.offsetLeft,St=xt.offsetParent)}return{left:Fn,top:$t}}function Ie(xt,St,$t){"number"==typeof St&&(xt.style.width=`${St}px`),"number"==typeof $t&&(xt.style.height=`${$t}px`)}function We(xt){let St=xt.getBoundingClientRect();return{left:St.left+Ue.scrollX,top:St.top+Ue.scrollY,width:St.width,height:St.height}}ce.None=new ce(0,0);const Ue=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function ue(xt){let St=re.getMarginLeft(xt)+re.getMarginRight(xt);return xt.offsetWidth+St}function Ce(xt){let St=re.getBorderLeftWidth(xt)+re.getBorderRightWidth(xt),$t=re.getPaddingLeft(xt)+re.getPaddingRight(xt);return xt.offsetWidth-St-$t}function Ae(xt){let St=re.getBorderTopWidth(xt)+re.getBorderBottomWidth(xt),$t=re.getPaddingTop(xt)+re.getPaddingBottom(xt);return xt.offsetHeight-St-$t}function et(xt){let St=re.getMarginTop(xt)+re.getMarginBottom(xt);return xt.offsetHeight+St}function Ye(xt,St){for(;xt;){if(xt===St)return!0;xt=xt.parentNode}return!1}function Pe(xt,St,$t){for(;xt&&xt.nodeType===xt.ELEMENT_NODE;){if(xt.classList.contains(St))return xt;if($t)if("string"==typeof $t){if(xt.classList.contains($t))return null}else if(xt===$t)return null;xt=xt.parentNode}return null}function st(xt,St,$t){return!!Pe(xt,St,$t)}function ut(xt){return xt&&!!xt.host&&!!xt.mode}function nt(xt){return!!Se(xt)}function Se(xt){for(;xt.parentNode;){if(xt===document.body)return null;xt=xt.parentNode}return ut(xt)?xt:null}function Ne(){let xt=document.activeElement;for(;null==xt?void 0:xt.shadowRoot;)xt=xt.shadowRoot.activeElement;return xt}function at(xt=document.getElementsByTagName("head")[0]){let St=document.createElement("style");return St.type="text/css",St.media="screen",xt.appendChild(St),St}let Ct=null;function jt(){return Ct||(Ct=at()),Ct}function mt(xt,St,$t=jt()){!$t||!St||$t.sheet.insertRule(xt+"{"+St+"}",0)}function Ft(xt,St=jt()){if(!St)return;let $t=function(xt){var St,$t;return(null===(St=null==xt?void 0:xt.sheet)||void 0===St?void 0:St.rules)?xt.sheet.rules:(null===($t=null==xt?void 0:xt.sheet)||void 0===$t?void 0:$t.cssRules)?xt.sheet.cssRules:[]}(St),Fn=[];for(let kt=0;kt<$t.length;kt++)-1!==$t[kt].selectorText.indexOf(xt)&&Fn.push(kt);for(let kt=Fn.length-1;kt>=0;kt--)St.sheet.deleteRule(Fn[kt])}function Wt(xt){return"object"==typeof HTMLElement?xt instanceof HTMLElement:xt&&"object"==typeof xt&&1===xt.nodeType&&"string"==typeof xt.nodeName}const zt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:D.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:D.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:D.isWebKit?"webkitAnimationIteration":"animationiteration"},mn={stop:function(xt,St){xt.preventDefault?xt.preventDefault():xt.returnValue=!1,St&&(xt.stopPropagation?xt.stopPropagation():xt.cancelBubble=!0)}};function Ge(xt){let St=[];for(let $t=0;xt&&xt.nodeType===xt.ELEMENT_NODE;$t++)St[$t]=xt.scrollTop,xt=xt.parentNode;return St}function Lt(xt,St){for(let $t=0;xt&&xt.nodeType===xt.ELEMENT_NODE;$t++)xt.scrollTop!==St[$t]&&(xt.scrollTop=St[$t]),xt=xt.parentNode}class vt extends B.JT{constructor(St){super(),this._onDidFocus=this._register(new T.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new T.Q5),this.onDidBlur=this._onDidBlur.event;let $t=vt.hasFocusWithin(St),Fn=!1;const kt=()=>{Fn=!1,$t||($t=!0,this._onDidFocus.fire())},Ve=()=>{$t&&(Fn=!0,window.setTimeout(()=>{Fn&&(Fn=!1,$t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{vt.hasFocusWithin(St)!==$t&&($t?Ve():kt())},this._register(f(St,zt.FOCUS,kt,!0)),this._register(f(St,zt.BLUR,Ve,!0)),this._register(f(St,zt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(f(St,zt.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(St){const $t=Se(St);return Ye($t?$t.activeElement:document.activeElement,St)}}function dn(xt){return new vt(xt)}function Ln(xt,...St){if(xt.append(...St),1===St.length&&"string"!=typeof St[0])return St[0]}function sn(xt,St){return xt.insertBefore(St,xt.firstChild),St}function hn(xt,...St){xt.innerText="",Ln(xt,...St)}const _n=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var rn=(()=>{return(xt=rn||(rn={})).HTML="http://www.w3.org/1999/xhtml",xt.SVG="http://www.w3.org/2000/svg",rn;var xt})();function Rt(xt,St,$t,...Fn){let kt=_n.exec(St);if(!kt)throw new Error("Bad use of emmet");$t=Object.assign({},$t||{});let Je,Ve=kt[1]||"div";return Je=xt!==rn.HTML?document.createElementNS(xt,Ve):document.createElement(Ve),kt[3]&&(Je.id=kt[3]),kt[4]&&(Je.className=kt[4].replace(/\./g," ").trim()),Object.keys($t).forEach(lt=>{const Et=$t[lt];void 0!==Et&&(/^on\w+$/.test(lt)?Je[lt]=Et:"selected"===lt?Et&&Je.setAttribute(lt,"true"):Je.setAttribute(lt,Et))}),Je.append(...Fn),Je}function xi(xt,St,...$t){return Rt(rn.HTML,xt,St,...$t)}function Yt(...xt){for(let St of xt)St.style.display="",St.removeAttribute("aria-hidden")}function He(...xt){for(let St of xt)St.style.display="none",St.setAttribute("aria-hidden","true")}function $e(xt){return Array.prototype.slice.call(document.getElementsByTagName(xt),0)}function Xt(xt){const St=window.devicePixelRatio*xt;return Math.max(1,Math.floor(St))/window.devicePixelRatio}function pn(xt){window.open(xt,"_blank","noopener")}function ti(xt){const St=()=>{xt(),$t=pe(St)};let $t=pe(St);return(0,B.OF)(()=>$t.dispose())}function bi(xt){return xt?`url('${P.Gi.asBrowserUri(xt).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Oi(xt){return`'${xt.replace(/'/g,"%27")}'`}xi.SVG=function(xt,St,...$t){return Rt(rn.SVG,xt,St,...$t)},P.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class Li extends T.Q5{constructor(){super(),this._subscriptions=new B.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(f(window,"keydown",St=>{if(St.defaultPrevented)return;const $t=new Y.y(St);if(6!==$t.keyCode||!St.repeat){if(St.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(St.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(St.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(St.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===$t.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=St.altKey,this._keyStatus.ctrlKey=St.ctrlKey,this._keyStatus.metaKey=St.metaKey,this._keyStatus.shiftKey=St.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=St,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(f(window,"keyup",St=>{St.defaultPrevented||(this._keyStatus.lastKeyReleased=!St.altKey&&this._keyStatus.altKey?"alt":!St.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!St.metaKey&&this._keyStatus.metaKey?"meta":!St.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=St.altKey,this._keyStatus.ctrlKey=St.ctrlKey,this._keyStatus.metaKey=St.metaKey,this._keyStatus.shiftKey=St.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=St,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(f(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(f(document.body,"mousemove",St=>{St.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(f(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Li.instance||(Li.instance=new Li),Li.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function vi(xt,St){window.matchMedia(xt).addEventListener("change",St)}},71172:(Fe,Ee,p)=>{p.d(Ee,{Y:()=>g,p:()=>Y});var D=p(71040);class g{constructor(M,i,T){const B=P=>this.emitter.fire(P);this.emitter=new D.Q5({onFirstListenerAdd:()=>M.addEventListener(i,B,T),onLastListenerRemove:()=>M.removeEventListener(i,B,T)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function Y(W){return W.preventDefault(),W.stopPropagation(),W}},81718:(Fe,Ee,p)=>{p.d(Ee,{Z:()=>D,X:()=>g});class D{constructor(W){this.domNode=W,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(W){this._maxWidth!==W&&(this._maxWidth=W,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(W){this._width!==W&&(this._width=W,this.domNode.style.width=this._width+"px")}setHeight(W){this._height!==W&&(this._height=W,this.domNode.style.height=this._height+"px")}setTop(W){this._top!==W&&(this._top=W,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(W){this._left!==W&&(this._left=W,this.domNode.style.left=this._left+"px")}setBottom(W){this._bottom!==W&&(this._bottom=W,this.domNode.style.bottom=this._bottom+"px")}setRight(W){this._right!==W&&(this._right=W,this.domNode.style.right=this._right+"px")}setFontFamily(W){this._fontFamily!==W&&(this._fontFamily=W,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(W){this._fontWeight!==W&&(this._fontWeight=W,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(W){this._fontSize!==W&&(this._fontSize=W,this.domNode.style.fontSize=this._fontSize+"px")}setFontStyle(W){this._fontStyle!==W&&(this._fontStyle=W,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(W){this._fontFeatureSettings!==W&&(this._fontFeatureSettings=W,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(W){this._textDecoration!==W&&(this._textDecoration=W,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(W){this._lineHeight!==W&&(this._lineHeight=W,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(W){this._letterSpacing!==W&&(this._letterSpacing=W,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(W){this._className!==W&&(this._className=W,this.domNode.className=this._className)}toggleClassName(W,M){this.domNode.classList.toggle(W,M),this._className=this.domNode.className}setDisplay(W){this._display!==W&&(this._display=W,this.domNode.style.display=this._display)}setPosition(W){this._position!==W&&(this._position=W,this.domNode.style.position=this._position)}setVisibility(W){this._visibility!==W&&(this._visibility=W,this.domNode.style.visibility=this._visibility)}setColor(W){this._color!==W&&(this._color=W,this.domNode.style.color=this._color)}setBackgroundColor(W){this._backgroundColor!==W&&(this._backgroundColor=W,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(W){this._layerHint!==W&&(this._layerHint=W,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(W){this._boxShadow!==W&&(this._boxShadow=W,this.domNode.style.boxShadow=W)}setContain(W){this._contain!==W&&(this._contain=W,this.domNode.style.contain=this._contain)}setAttribute(W,M){this.domNode.setAttribute(W,M)}removeAttribute(W){this.domNode.removeAttribute(W)}appendChild(W){this.domNode.appendChild(W.domNode)}removeChild(W){this.domNode.removeChild(W.domNode)}}function g(Y){return new D(Y)}},25662:(Fe,Ee,p)=>{p.d(Ee,{IY:()=>g,BO:()=>Y,az:()=>W});var D=p(86678);function g(y,C={}){const b=W(C);return b.textContent=y,b}function Y(y,C={}){const b=W(C);return i(b,function(y,C){const b={type:1,children:[]};let x=0,f=b;const E=[],z=new M(y);for(;!z.eos();){let L=z.next();const N="\\"===L&&0!==P(z.peek(),C);if(N&&(L=z.next()),!N&&B(L,C)&&L===z.peek()){z.advance(),2===f.type&&(f=E.pop());const Z=P(L,C);if(f.type===Z||5===f.type&&6===Z)f=E.pop();else{const O={type:Z,children:[]};5===Z&&(O.index=x,x++),f.children.push(O),E.push(f),f=O}}else if("\n"===L)2===f.type&&(f=E.pop()),f.children.push({type:8});else if(2!==f.type){const Z={type:2,content:L};f.children.push(Z),E.push(f),f=Z}else f.content+=L}return 2===f.type&&(f=E.pop()),b}(y,!!C.renderCodeSegments),C.actionHandler,C.renderCodeSegments),b}function W(y){const b=document.createElement(y.inline?"span":"div");return y.className&&(b.className=y.className),b}class M{constructor(C){this.source=C,this.index=0}eos(){return this.index>=this.source.length}next(){const C=this.peek();return this.advance(),C}peek(){return this.source[this.index]}advance(){this.index++}}function i(y,C,b,x){let f;if(2===C.type)f=document.createTextNode(C.content||"");else if(3===C.type)f=document.createElement("b");else if(4===C.type)f=document.createElement("i");else if(7===C.type&&x)f=document.createElement("code");else if(5===C.type&&b){const E=document.createElement("a");b.disposables.add(D.mu(E,"click",z=>{b.callback(String(C.index),z)})),f=E}else 8===C.type?f=document.createElement("br"):1===C.type&&(f=y);f&&y!==f&&y.appendChild(f),f&&Array.isArray(C.children)&&C.children.forEach(E=>{i(f,E,b,x)})}function B(y,C){return 0!==P(y,C)}function P(y,C){switch(y){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return C?7:0;default:return 0}}},8535:(Fe,Ee,p)=>{p.d(Ee,{e:()=>i,Z:()=>T});var D=p(86678),g=p(20403),Y=p(2886),W=p(40189),M=p(70700);function i(B,P){let y=new Y.n(P);return y.preventDefault(),{leftButton:y.leftButton,buttons:y.buttons,posx:y.posx,posy:y.posy}}class T{constructor(){this._hooks=new W.SL,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(P,y){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const C=this._onStopCallback;this._onStopCallback=null,P&&C&&C(y)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(P,y,C,b,x){if(this.isMonitoring())return;this._mouseMoveEventMerger=C,this._mouseMoveCallback=b,this._onStopCallback=x;const f=g.E.getSameOriginWindowChain(),E=M.gn?"pointermove":"mousemove",L=f.map(Z=>Z.window.document),N=D.Ay(P);N&&L.unshift(N);for(const Z of L)this._hooks.add(D.Y_(Z,E,O=>{O.buttons===y?this._mouseMoveCallback(O):this.stopMonitoring(!0)},(O,I)=>this._mouseMoveEventMerger(O,I))),this._hooks.add(D.nm(Z,"mouseup",O=>this.stopMonitoring(!0)));if(g.E.hasDifferentOriginAncestor()){let Z=f[f.length-1];this._hooks.add(D.nm(Z.window.document,"mouseout",O=>{"html"===new Y.n(O).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(D.nm(Z.window.document,"mouseover",O=>{"html"===new Y.n(O).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(D.nm(Z.window.document.body,"mouseleave",O=>{this.stopMonitoring(!0)}))}}}},20403:(Fe,Ee,p)=>{p.d(Ee,{E:()=>W});let D=!1,g=null;function Y(M){if(!M.parent||M.parent===M)return null;try{let i=M.location,T=M.parent.location;if("null"!==i.origin&&"null"!==T.origin&&i.origin!==T.origin)return D=!0,null}catch{return D=!0,null}return M.parent}class W{static getSameOriginWindowChain(){if(!g){g=[];let T,i=window;do{T=Y(i),g.push(T?{window:i,iframeElement:i.frameElement||null}:{window:i,iframeElement:null}),i=T}while(i)}return g.slice(0)}static hasDifferentOriginAncestor(){return g||this.getSameOriginWindowChain(),D}static getPositionOfChildWindowRelativeToAncestorWindow(i,T){if(!T||i===T)return{top:0,left:0};let B=0,P=0,y=this.getSameOriginWindowChain();for(const C of y){if(B+=C.window.scrollY,P+=C.window.scrollX,C.window===T||!C.iframeElement)break;let b=C.iframeElement.getBoundingClientRect();B+=b.top,P+=b.left}return{top:B,left:P}}}},714:(Fe,Ee,p)=>{p.d(Ee,{y:()=>y});var D=p(47306),g=p(64073),Y=p(99315),W=p(70700);const i=W.dz?256:2048,P=W.dz?2048:256;class y{constructor(b){this._standardKeyboardEventBrand=!0;let x=b;this.browserEvent=x,this.target=x.target,this.ctrlKey=x.ctrlKey,this.shiftKey=x.shiftKey,this.altKey=x.altKey,this.metaKey=x.metaKey,this.keyCode=function(C){if(C.charCode){let x=String.fromCharCode(C.charCode).toUpperCase();return g.kL.fromString(x)}const b=C.keyCode;if(3===b)return 7;if(D.isFirefox){if(59===b)return 80;if(107===b)return 81;if(109===b)return 83;if(W.dz&&224===b)return 57}else if(D.isWebKit){if(91===b)return 57;if(W.dz&&93===b)return 57;if(!W.dz&&92===b)return 57}return g.H_[b]||0}(x),this.code=x.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(b){return this._asKeybinding===b}_computeKeybinding(){let b=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(b=this.keyCode);let x=0;return this.ctrlKey&&(x|=i),this.altKey&&(x|=512),this.shiftKey&&(x|=1024),this.metaKey&&(x|=P),x|=b,x}_computeRuntimeKeybinding(){let b=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(b=this.keyCode),new Y.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,b)}}},2886:(Fe,Ee,p)=>{p.d(Ee,{n:()=>W,q:()=>M});var D=p(47306),g=p(20403),Y=p(70700);class W{constructor(T){this.timestamp=Date.now(),this.browserEvent=T,this.leftButton=0===T.button,this.middleButton=1===T.button,this.rightButton=2===T.button,this.buttons=T.buttons,this.target=T.target,this.detail=T.detail||1,"dblclick"===T.type&&(this.detail=2),this.ctrlKey=T.ctrlKey,this.shiftKey=T.shiftKey,this.altKey=T.altKey,this.metaKey=T.metaKey,"number"==typeof T.pageX?(this.posx=T.pageX,this.posy=T.pageY):(this.posx=T.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=T.clientY+document.body.scrollTop+document.documentElement.scrollTop);let B=g.E.getPositionOfChildWindowRelativeToAncestorWindow(self,T.view);this.posx-=B.left,this.posy-=B.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class M{constructor(T,B=0,P=0){if(this.browserEvent=T||null,this.target=T?T.target||T.targetNode||T.srcElement:null,this.deltaY=P,this.deltaX=B,T){let y=T,C=T;void 0!==y.wheelDeltaY?this.deltaY=y.wheelDeltaY/120:void 0!==C.VERTICAL_AXIS&&C.axis===C.VERTICAL_AXIS?this.deltaY=-C.detail/3:"wheel"===T.type&&(this.deltaY=T.deltaMode===T.DOM_DELTA_LINE?D.isFirefox&&!Y.dz?-T.deltaY/3:-T.deltaY:-T.deltaY/40),void 0!==y.wheelDeltaX?this.deltaX=D.isSafari&&Y.ED?-y.wheelDeltaX/120:y.wheelDeltaX/120:void 0!==C.HORIZONTAL_AXIS&&C.axis===C.HORIZONTAL_AXIS?this.deltaX=-T.detail/3:"wheel"===T.type&&(this.deltaX=T.deltaMode===T.DOM_DELTA_LINE?D.isFirefox&&!Y.dz?-T.deltaX/3:-T.deltaX:-T.deltaX/40),0===this.deltaY&&0===this.deltaX&&T.wheelDelta&&(this.deltaY=T.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},23945:(Fe,Ee,p)=>{p.d(Ee,{t:()=>i,o:()=>T});var D=p(86678),g=p(89822),Y=p(94456),W=p(40189),i=(()=>{return(B=i||(i={})).Tap="-monaco-gesturetap",B.Change="-monaco-gesturechange",B.Start="-monaco-gesturestart",B.End="-monaco-gesturesend",B.Contextmenu="-monaco-gesturecontextmenu",i;var B})();class T extends W.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(D.nm(document,"touchstart",P=>this.onTouchStart(P),{passive:!1})),this._register(D.nm(document,"touchend",P=>this.onTouchEnd(P))),this._register(D.nm(document,"touchmove",P=>this.onTouchMove(P),{passive:!1}))}static addTarget(P){return T.isTouchDevice()?(T.INSTANCE||(T.INSTANCE=new T),T.INSTANCE.targets.push(P),{dispose:()=>{T.INSTANCE.targets=T.INSTANCE.targets.filter(y=>y!==P)}}):W.JT.None}static ignoreTarget(P){return T.isTouchDevice()?(T.INSTANCE||(T.INSTANCE=new T),T.INSTANCE.ignoreTargets.push(P),{dispose:()=>{T.INSTANCE.ignoreTargets=T.INSTANCE.ignoreTargets.filter(y=>y!==P)}}):W.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(P){let y=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let C=0,b=P.targetTouches.length;C<b;C++){let x=P.targetTouches.item(C);this.activeTouches[x.identifier]={id:x.identifier,initialTarget:x.target,initialTimeStamp:y,initialPageX:x.pageX,initialPageY:x.pageY,rollingTimestamps:[y],rollingPageX:[x.pageX],rollingPageY:[x.pageY]};let f=this.newGestureEvent(i.Start,x.target);f.pageX=x.pageX,f.pageY=x.pageY,this.dispatchEvent(f)}this.dispatched&&(P.preventDefault(),P.stopPropagation(),this.dispatched=!1)}onTouchEnd(P){let y=Date.now(),C=Object.keys(this.activeTouches).length;for(let b=0,x=P.changedTouches.length;b<x;b++){let f=P.changedTouches.item(b);if(!this.activeTouches.hasOwnProperty(String(f.identifier))){console.warn("move of an UNKNOWN touch",f);continue}let E=this.activeTouches[f.identifier],z=Date.now()-E.initialTimeStamp;if(z<T.HOLD_DELAY&&Math.abs(E.initialPageX-g.Gb(E.rollingPageX))<30&&Math.abs(E.initialPageY-g.Gb(E.rollingPageY))<30){let L=this.newGestureEvent(i.Tap,E.initialTarget);L.pageX=g.Gb(E.rollingPageX),L.pageY=g.Gb(E.rollingPageY),this.dispatchEvent(L)}else if(z>=T.HOLD_DELAY&&Math.abs(E.initialPageX-g.Gb(E.rollingPageX))<30&&Math.abs(E.initialPageY-g.Gb(E.rollingPageY))<30){let L=this.newGestureEvent(i.Contextmenu,E.initialTarget);L.pageX=g.Gb(E.rollingPageX),L.pageY=g.Gb(E.rollingPageY),this.dispatchEvent(L)}else if(1===C){let L=g.Gb(E.rollingPageX),N=g.Gb(E.rollingPageY),Z=g.Gb(E.rollingTimestamps)-E.rollingTimestamps[0],O=L-E.rollingPageX[0],I=N-E.rollingPageY[0];const $=this.targets.filter(j=>E.initialTarget instanceof Node&&j.contains(E.initialTarget));this.inertia($,y,Math.abs(O)/Z,O>0?1:-1,L,Math.abs(I)/Z,I>0?1:-1,N)}this.dispatchEvent(this.newGestureEvent(i.End,E.initialTarget)),delete this.activeTouches[f.identifier]}this.dispatched&&(P.preventDefault(),P.stopPropagation(),this.dispatched=!1)}newGestureEvent(P,y){let C=document.createEvent("CustomEvent");return C.initEvent(P,!1,!0),C.initialTarget=y,C.tapCount=0,C}dispatchEvent(P){if(P.type===i.Tap){const y=(new Date).getTime();let C=0;C=y-this._lastSetTapCountTime>T.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=y,P.tapCount=C}else(P.type===i.Change||P.type===i.Contextmenu)&&(this._lastSetTapCountTime=0);for(let y=0;y<this.ignoreTargets.length;y++)if(P.initialTarget instanceof Node&&this.ignoreTargets[y].contains(P.initialTarget))return;this.targets.forEach(y=>{P.initialTarget instanceof Node&&y.contains(P.initialTarget)&&(y.dispatchEvent(P),this.dispatched=!0)})}inertia(P,y,C,b,x,f,E,z){this.handle=D.jL(()=>{let L=Date.now(),N=L-y,Z=0,O=0,I=!0;(C+=T.SCROLL_FRICTION*N)>0&&(I=!1,Z=b*C*N),(f+=T.SCROLL_FRICTION*N)>0&&(I=!1,O=E*f*N);let $=this.newGestureEvent(i.Change);$.translationX=Z,$.translationY=O,P.forEach(j=>j.dispatchEvent($)),I||this.inertia(P,L,C,b,x+Z,f,E,z+O)})}onTouchMove(P){let y=Date.now();for(let C=0,b=P.changedTouches.length;C<b;C++){let x=P.changedTouches.item(C);if(!this.activeTouches.hasOwnProperty(String(x.identifier))){console.warn("end of an UNKNOWN touch",x);continue}let f=this.activeTouches[x.identifier],E=this.newGestureEvent(i.Change,f.initialTarget);E.translationX=x.pageX-g.Gb(f.rollingPageX),E.translationY=x.pageY-g.Gb(f.rollingPageY),E.pageX=x.pageX,E.pageY=x.pageY,this.dispatchEvent(E),f.rollingPageX.length>3&&(f.rollingPageX.shift(),f.rollingPageY.shift(),f.rollingTimestamps.shift()),f.rollingPageX.push(x.pageX),f.rollingPageY.push(x.pageY),f.rollingTimestamps.push(y)}this.dispatched&&(P.preventDefault(),P.stopPropagation(),this.dispatched=!1)}}T.SCROLL_FRICTION=-.005,T.HOLD_DELAY=700,T.CLEAR_TAP_COUNT_TIME=400,function(B,P,y,C){var f,b=arguments.length,x=b<3?P:null===C?C=Object.getOwnPropertyDescriptor(P,y):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(B,P,y,C);else for(var E=B.length-1;E>=0;E--)(f=B[E])&&(x=(b<3?f(x):b>3?f(P,y,x):f(P,y))||x);b>3&&x&&Object.defineProperty(P,y,x)}([Y.H],T,"isTouchDevice",null)},48727:(Fe,Ee,p)=>{p.d(Ee,{Y:()=>C,g:()=>b});var D=p(47306),g=p(34122),Y=p(86678),W=p(23945),M=p(50955),i=p(40189),T=p(70700),B=p(99770),y=(p(22250),p(12918));class C extends i.JT{constructor(f,E,z={}){super(),this.options=z,this._context=f||this,this._action=E,E instanceof M.aU&&this._register(E.onDidChange(L=>{!this.element||this.handleActionChangeEvent(L)}))}handleActionChangeEvent(f){void 0!==f.enabled&&this.updateEnabled(),void 0!==f.checked&&this.updateChecked(),void 0!==f.class&&this.updateClass(),void 0!==f.label&&(this.updateLabel(),this.updateTooltip()),void 0!==f.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new M.Wi)),this._actionRunner}set actionRunner(f){this._actionRunner=f}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(f){this._context=f}render(f){const E=this.element=f;this._register(W.o.addTarget(f));const z=this.options&&this.options.draggable;z&&(f.draggable=!0,D.isFirefox&&this._register((0,Y.nm)(f,Y.tw.DRAG_START,L=>{var N;return null===(N=L.dataTransfer)||void 0===N?void 0:N.setData(g.go.TEXT,this._action.label)}))),this._register((0,Y.nm)(E,W.t.Tap,L=>this.onClick(L,!0))),this._register((0,Y.nm)(E,Y.tw.MOUSE_DOWN,L=>{z||Y.zB.stop(L,!0),this._action.enabled&&0===L.button&&E.classList.add("active")})),T.dz&&this._register((0,Y.nm)(E,Y.tw.CONTEXT_MENU,L=>{0===L.button&&!0===L.ctrlKey&&this.onClick(L)})),this._register((0,Y.nm)(E,Y.tw.CLICK,L=>{Y.zB.stop(L,!0),this.options&&this.options.isMenu||this.onClick(L)})),this._register((0,Y.nm)(E,Y.tw.DBLCLICK,L=>{Y.zB.stop(L,!0)})),[Y.tw.MOUSE_UP,Y.tw.MOUSE_OUT].forEach(L=>{this._register((0,Y.nm)(E,L,N=>{Y.zB.stop(N),E.classList.remove("active")}))})}onClick(f,E=!1){var z;Y.zB.stop(f,!0);const L=B.Jp(this._context)?(null===(z=this.options)||void 0===z?void 0:z.useEventAsContext)?f:{preserveFocus:E}:this._context;this.actionRunner.run(this._action,L)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(f){this.element&&(this.element.tabIndex=f?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class b extends C{constructor(f,E,z={}){super(f,E,z),this.options=z,this.options.icon=void 0!==z.icon&&z.icon,this.options.label=void 0===z.label||z.label,this.cssClass=""}render(f){super.render(f),this.element&&(this.label=(0,Y.R3)(this.element,(0,Y.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this._action.id===M.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"),this.options.label&&this.options.keybinding&&this.element&&((0,Y.R3)(this.element,(0,Y.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(f){this.label&&(this.label.tabIndex=f?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let f=null;this.getAction().tooltip?f=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(f=this.getAction().label,this.options.keybinding&&(f=y.N({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",f,this.options.keybinding))),f&&this.label&&(this.label.title=f)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},60291:(Fe,Ee,p)=>{p.d(Ee,{o:()=>y});var D=p(86678),g=p(714),Y=p(48727),W=p(50955),M=p(71040),i=p(40189),T=p(99770),P=(p(22250),function(C,b,x,f){return new(x||(x=Promise))(function(z,L){function N(I){try{O(f.next(I))}catch($){L($)}}function Z(I){try{O(f.throw(I))}catch($){L($)}}function O(I){I.done?z(I.value):function(z){return z instanceof x?z:new x(function(L){L(z)})}(I.value).then(N,Z)}O((f=f.apply(C,b||[])).next())})});class y extends i.JT{constructor(b,x={}){var f,E,z,L,N,Z;let O,I;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new M.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new M.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new M.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new M.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=x,this._context=null!==(f=x.context)&&void 0!==f?f:null,this._orientation=null!==(E=this.options.orientation)&&void 0!==E?E:0,this._triggerKeys={keyDown:null!==(L=null===(z=this.options.triggerKeys)||void 0===z?void 0:z.keyDown)&&void 0!==L&&L,keys:null!==(Z=null===(N=this.options.triggerKeys)||void 0===N?void 0:N.keys)&&void 0!==Z?Z:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new W.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun($=>this._onDidRun.fire($))),this._register(this._actionRunner.onBeforeRun($=>this._onBeforeRun.fire($))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==x.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:O=[15],I=[17];break;case 1:O=[16],I=[18],this.domNode.className+=" vertical"}this._register(D.nm(this.domNode,D.tw.KEY_DOWN,$=>{const j=new g.y($);let G=!0;const oe="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;O&&(j.equals(O[0])||j.equals(O[1]))?G=this.focusPrevious():I&&(j.equals(I[0])||j.equals(I[1]))?G=this.focusNext():j.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():j.equals(14)?G=this.focusFirst():j.equals(13)?G=this.focusLast():j.equals(2)&&oe instanceof Y.Y&&oe.trapsArrowNavigation?G=this.focusNext():this.isTriggerKeyEvent(j)?this._triggerKeys.keyDown?this.doTrigger(j):this.triggerKeyDown=!0:G=!1,G&&(j.preventDefault(),j.stopPropagation())})),this._register(D.nm(this.domNode,D.tw.KEY_UP,$=>{const j=new g.y($);this.isTriggerKeyEvent(j)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(j)),j.preventDefault(),j.stopPropagation()):(j.equals(2)||j.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(D.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(D.vY()===this.domNode||!D.jg(D.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),b.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role","toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(b){if(this.focusable=b,this.focusable){const x=this.viewItems.find(f=>f instanceof Y.Y&&f.isEnabled());x instanceof Y.Y&&x.setFocusable(!0)}else this.viewItems.forEach(x=>{x instanceof Y.Y&&x.setFocusable(!1)})}isTriggerKeyEvent(b){let x=!1;return this._triggerKeys.keys.forEach(f=>{x=x||b.equals(f)}),x}updateFocusedItem(){for(let b=0;b<this.actionsList.children.length;b++){const x=this.actionsList.children[b];if(D.jg(D.vY(),x)){this.focusedItem=b;break}}}get context(){return this._context}set context(b){this._context=b,this.viewItems.forEach(x=>x.setActionContext(b))}get actionRunner(){return this._actionRunner}set actionRunner(b){b&&(this._actionRunner=b,this.viewItems.forEach(x=>x.actionRunner=b))}getContainer(){return this.domNode}push(b,x={}){const f=Array.isArray(b)?b:[b];let E=T.hj(x.index)?x.index:null;f.forEach(z=>{const L=document.createElement("li");let N;L.className="action-item",L.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(D.nm(L,D.tw.CONTEXT_MENU,Z=>{D.zB.stop(Z,!0)})),this.options.actionViewItemProvider&&(N=this.options.actionViewItemProvider(z)),N||(N=new Y.g(this.context,z,x)),N.actionRunner=this._actionRunner,N.setActionContext(this.context),N.render(L),this.focusable&&N instanceof Y.Y&&0===this.viewItems.length&&N.setFocusable(!0),null===E||E<0||E>=this.actionsList.children.length?(this.actionsList.appendChild(L),this.viewItems.push(N),this._actionIds.push(z.id)):(this.actionsList.insertBefore(L,this.actionsList.children[E]),this.viewItems.splice(E,0,N),this._actionIds.splice(E,0,z.id),E++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,i.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],D.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(b){let f,x=!1;if(void 0===b?x=!0:"number"==typeof b?f=b:"boolean"==typeof b&&(x=b),x&&void 0===this.focusedItem){const E=this.viewItems.findIndex(z=>z.isEnabled());this.focusedItem=-1===E?void 0:E,this.updateFocus(void 0,void 0,!0)}else void 0!==f&&(this.focusedItem=f),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(b){if(void 0===this.focusedItem)this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const x=this.focusedItem;let f;do{if(!b&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=x,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,f=this.viewItems[this.focusedItem]}while(this.focusedItem!==x&&this.options.focusOnlyEnabledItems&&!f.isEnabled());return this.updateFocus(),!0}focusPrevious(b){if(void 0===this.focusedItem)this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const x=this.focusedItem;let f;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!b&&this.options.preventLoopNavigation)return this.focusedItem=x,!1;this.focusedItem=this.viewItems.length-1}f=this.viewItems[this.focusedItem]}while(this.focusedItem!==x&&this.options.focusOnlyEnabledItems&&!f.isEnabled());return this.updateFocus(!0),!0}updateFocus(b,x,f=!1){var E;void 0===this.focusedItem&&this.actionsList.focus({preventScroll:x}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(E=this.viewItems[this.previouslyFocusedItem])||void 0===E||E.blur());const z=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(z){let L=!0;T.mf(z.focus)||(L=!1),this.options.focusOnlyEnabledItems&&T.mf(z.isEnabled)&&!z.isEnabled()&&(L=!1),L?(f||this.previouslyFocusedItem!==this.focusedItem)&&(z.focus(b),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:x}),this.previouslyFocusedItem=void 0)}}doTrigger(b){if(void 0===this.focusedItem)return;const x=this.viewItems[this.focusedItem];x instanceof Y.Y&&this.run(x._action,x._context??b)}run(b,x){return P(this,void 0,void 0,function*(){yield this._actionRunner.run(b,x)})}dispose(){(0,i.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},99034:(Fe,Ee,p)=>{p.d(Ee,{wW:()=>y,Z9:()=>C,i7:()=>b});var D=p(86678),g=p(70700);let M,i,T,B,P;function y(f){M=document.createElement("div"),M.className="monaco-aria-container";const E=()=>{const L=document.createElement("div");return L.className="monaco-alert",L.setAttribute("role","alert"),L.setAttribute("aria-atomic","true"),M.appendChild(L),L};i=E(),T=E();const z=()=>{const L=document.createElement("div");return L.className="monaco-status",L.setAttribute("role","complementary"),L.setAttribute("aria-live","polite"),L.setAttribute("aria-atomic","true"),M.appendChild(L),L};B=z(),P=z(),f.appendChild(M)}function C(f){!M||(i.textContent!==f?(D.PO(T),x(i,f)):(D.PO(i),x(T,f)))}function b(f){!M||(g.dz?C(f):B.textContent!==f?(D.PO(P),x(B,f)):(D.PO(B),x(P,f)))}function x(f,E){D.PO(f),E.length>2e4&&(E=E.substr(0,2e4)),f.textContent=E,f.style.visibility="hidden",f.style.visibility="visible"}p(3336)},19226:(Fe,Ee,p)=>{p.d(Ee,{a:()=>W});var D=p(78968);function W(M){let i=M.definition;for(;i instanceof D.lA;)i=i.definition;return`.codicon-${M.id}:before { content: '${i.fontCharacter}'; }`}p(93791),p(85719)},24061:(Fe,Ee,p)=>{p.d(Ee,{Z:()=>T});var D=p(86678),g=p(81897),Y=p(60842),W=p(74243);p(92051);const i={badgeBackground:g.Il.fromHex("#4D4D4D"),badgeForeground:g.Il.fromHex("#FFFFFF")};class T{constructor(P,y){this.count=0,this.options=y||Object.create(null),(0,Y.jB)(this.options,i,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,D.R3)(P,(0,D.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(P){this.count=P,this.render()}setTitleFormat(P){this.titleFormat=P,this.render()}render(){this.element.textContent=(0,W.WU)(this.countFormat,this.count),this.element.title=(0,W.WU)(this.titleFormat,this.count),this.applyStyles()}style(P){this.badgeBackground=P.badgeBackground,this.badgeForeground=P.badgeForeground,this.badgeBorder=P.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const P=this.badgeBackground?this.badgeBackground.toString():"",y=this.badgeForeground?this.badgeForeground.toString():"",C=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=P,this.element.style.color=y,this.element.style.borderWidth=C?"1px":"",this.element.style.borderStyle=C?"solid":"",this.element.style.borderColor=C}}}},54708:(Fe,Ee,p)=>{p.d(Ee,{q:()=>W});var D=p(86678),g=p(44339),Y=p(60842);class W{constructor(i,T){var B;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(B=null==T?void 0:T.supportIcons)&&void 0!==B&&B,this.domNode=D.R3(i,D.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(i,T=[],B="",P){i||(i=""),P&&(i=W.escapeNewLines(i,T)),(!this.didEverRender||this.text!==i||this.title!==B||!Y.fS(this.highlights,T))&&(this.text=i,this.title=B,this.highlights=T,this.render())}render(){const i=[];let T=0;for(const B of this.highlights){if(B.end===B.start)continue;if(T<B.start){const C=this.text.substring(T,B.start);i.push(D.$("span",void 0,...this.supportIcons?(0,g.T)(C):[C])),T=B.end}const P=this.text.substring(B.start,B.end),y=D.$("span.highlight",void 0,...this.supportIcons?(0,g.T)(P):[P]);B.extraClasses&&y.classList.add(...B.extraClasses),i.push(y),T=B.end}if(T<this.text.length){const B=this.text.substring(T);i.push(D.$("span",void 0,...this.supportIcons?(0,g.T)(B):[B]))}D.mc(this.domNode,...i),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(i,T){let B=0,P=0;return i.replace(/\r\n|\r|\n/g,(y,C)=>{P="\r\n"===y?-1:0,C+=B;for(const b of T)b.end<=C||(b.start>=C&&(b.start+=P),b.end>=C&&(b.end+=P));return B+=P,"\u23ce"})}}},25601:(Fe,Ee,p)=>{p.d(Ee,{g:()=>N});var D=p(86678),g=p(54708),Y=p(89983),W=p(66607),M=p(3102),i=p(42623),T=p(40189),B=p(99770),P=p(12918),y=function($,j,G,oe){return new(G||(G=Promise))(function(fe,pe){function ye(ee){try{Q(oe.next(ee))}catch(le){pe(le)}}function ge(ee){try{Q(oe.throw(ee))}catch(le){pe(le)}}function Q(ee){ee.done?fe(ee.value):function(fe){return fe instanceof G?fe:new G(function(pe){pe(fe)})}(ee.value).then(ye,ge)}Q((oe=oe.apply($,j||[])).next())})};class b{constructor(j,G,oe){this.hoverDelegate=j,this.target=G,this.fadeInAnimation=oe}update(j,G){var oe;return y(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let de;if(void 0===j||(0,B.HD)(j)||j instanceof HTMLElement)de=j;else if((0,B.mf)(j.markdown)){this._hoverWidget||this.show((0,P.N)("iconLabel.loading","Loading..."),G),this._cancellationTokenSource=new W.A;const fe=this._cancellationTokenSource.token;if(de=yield j.markdown(fe),void 0===de&&(de=j.markdownNotSupportedFallback),this.isDisposed||fe.isCancellationRequested)return}else de=null!==(oe=j.markdown)&&void 0!==oe?oe:j.markdownNotSupportedFallback;this.show(de,G)})}show(j,G){const oe=this._hoverWidget;this.hasContent(j)&&(this._hoverWidget=this.hoverDelegate.showHover({content:j,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!oe},G)),null==oe||oe.dispose()}hasContent(j){return!(!j||(0,M.Fr)(j)&&!j.value)}get isDisposed(){var j;return null===(j=this._hoverWidget)||void 0===j?void 0:j.isDisposed}dispose(){var j,G;null===(j=this._hoverWidget)||void 0===j||j.dispose(),null===(G=this._cancellationTokenSource)||void 0===G||G.dispose(!0),this._cancellationTokenSource=void 0}}var f=p(60842),E=p(32975);p(10402);class L{constructor(j){this._element=j}get element(){return this._element}set textContent(j){this.disposed||j===this._textContent||(this._textContent=j,this._element.textContent=j)}set className(j){this.disposed||j===this._className||(this._className=j,this._element.className=j)}set empty(j){this.disposed||j===this._empty||(this._empty=j,this._element.style.marginLeft=j?"0":"")}dispose(){this.disposed=!0}}class N extends T.JT{constructor(j,G){super(),this.customHovers=new Map,this.domNode=this._register(new L(D.R3(j,D.$(".monaco-icon-label")))),this.labelContainer=D.R3(this.domNode.element,D.$(".monaco-icon-label-container"));const oe=D.R3(this.labelContainer,D.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new L(D.R3(this.labelContainer,D.$("span.monaco-icon-description-container")))),this.nameNode=(null==G?void 0:G.supportHighlights)||(null==G?void 0:G.supportIcons)?new I(oe,!!G.supportIcons):new Z(oe),this.descriptionNodeFactory=(null==G?void 0:G.supportDescriptionHighlights)?()=>new g.q(D.R3(this.descriptionContainer.element,D.$("span.label-description")),{supportIcons:!!G.supportIcons}):()=>this._register(new L(D.R3(this.descriptionContainer.element,D.$("span.label-description")))),this.hoverDelegate=null==G?void 0:G.hoverDelegate}get element(){return this.domNode.element}setLabel(j,G,oe){const de=["monaco-icon-label"];oe&&(oe.extraClasses&&de.push(...oe.extraClasses),oe.italic&&de.push("italic"),oe.strikethrough&&de.push("strikethrough")),this.domNode.className=de.join(" "),this.setupHover((null==oe?void 0:oe.descriptionTitle)?this.labelContainer:this.element,null==oe?void 0:oe.title),this.nameNode.setLabel(j,oe),(G||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof g.q?(this.descriptionNode.set(G||"",oe?oe.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,null==oe?void 0:oe.descriptionTitle)):(this.descriptionNode.textContent=G||"",this.setupHover(this.descriptionNode.element,(null==oe?void 0:oe.descriptionTitle)||""),this.descriptionNode.empty=!G))}setupHover(j,G){const oe=this.customHovers.get(j);if(oe&&(oe.dispose(),this.customHovers.delete(j)),G)if(this.hoverDelegate){const de=function($,j,G){let oe,de;const fe=(ee,le)=>{var te;ee&&(null==de||de.dispose(),de=void 0),le&&(null==oe||oe.dispose(),oe=void 0),null===(te=$.onDidHideHover)||void 0===te||te.call($)},pe=(ee,le,te)=>new Y._F(()=>y(this,void 0,void 0,function*(){(!de||de.isDisposed)&&(de=new b($,te||j,ee>0),yield de.update(G,le))}),ee),ge=D.nm(j,D.tw.MOUSE_OVER,()=>{if(oe)return;const ee=new T.SL;ee.add(D.nm(j,D.tw.MOUSE_LEAVE,re=>fe(!1,re.fromElement===j),!0)),ee.add(D.nm(j,D.tw.MOUSE_DOWN,()=>fe(!0,!0),!0));const J={targetElements:[j],dispose:()=>{}};void 0!==$.placement&&"mouse"!==$.placement||ee.add(D.nm(j,D.tw.MOUSE_MOVE,ce=>J.x=ce.x+10,!0)),ee.add(pe($.delay,!1,J)),oe=ee},!0);return{show:ee=>{fe(!1,!0),pe(0,ee)},hide:()=>{fe(!0,!0)},update:ee=>y(this,void 0,void 0,function*(){G=ee,yield null==de?void 0:de.update(G)}),dispose:()=>{ge.dispose(),fe(!0,!0)}}}(this.hoverDelegate,j,G);de&&this.customHovers.set(j,de)}else!function($,j){(0,B.HD)(j)?$.title=(0,i.x$)(j):(null==j?void 0:j.markdownNotSupportedFallback)?$.title=j.markdownNotSupportedFallback:$.removeAttribute("title")}(j,G);else j.removeAttribute("title")}dispose(){super.dispose();for(const j of this.customHovers.values())j.dispose();this.customHovers.clear()}}class Z{constructor(j){this.container=j,this.label=void 0,this.singleLabel=void 0}setLabel(j,G){if(this.label!==j||!(0,f.fS)(this.options,G))if(this.label=j,this.options=G,"string"==typeof j)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=D.R3(this.container,D.$("a.label-name",{id:null==G?void 0:G.domId}))),this.singleLabel.textContent=j;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let oe=0;oe<j.length;oe++)D.R3(this.container,D.$("a.label-name",{id:(null==G?void 0:G.domId)&&`${null==G?void 0:G.domId}_${oe}`,"data-icon-label-count":j.length,"data-icon-label-index":oe,role:"treeitem"},j[oe])),oe<j.length-1&&D.R3(this.container,D.$("span.label-separator",void 0,(null==G?void 0:G.separator)||"/"))}}}class I{constructor(j,G){this.container=j,this.supportIcons=G,this.label=void 0,this.singleLabel=void 0}setLabel(j,G){if(this.label!==j||!(0,f.fS)(this.options,G))if(this.label=j,this.options=G,"string"==typeof j)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new g.q(D.R3(this.container,D.$("a.label-name",{id:null==G?void 0:G.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(j,null==G?void 0:G.matches,void 0,null==G?void 0:G.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const oe=(null==G?void 0:G.separator)||"/",de=function($,j,G){if(!G)return;let oe=0;return $.map(de=>{const fe={start:oe,end:oe+de.length},pe=G.map(ye=>E.e.intersect(fe,ye)).filter(ye=>!E.e.isEmpty(ye)).map(({start:ye,end:ge})=>({start:ye-oe,end:ge-oe}));return oe=fe.end+j.length,pe})}(j,oe,null==G?void 0:G.matches);for(let fe=0;fe<j.length;fe++){const pe=j[fe],ye=de?de[fe]:void 0,Q=D.$("a.label-name",{id:(null==G?void 0:G.domId)&&`${null==G?void 0:G.domId}_${fe}`,"data-icon-label-count":j.length,"data-icon-label-index":fe,role:"treeitem"});new g.q(D.R3(this.container,Q),{supportIcons:this.supportIcons}).set(pe,ye,void 0,null==G?void 0:G.labelEscapeNewLines),fe<j.length-1&&D.R3(Q,D.$("span.label-separator",void 0,oe))}}}}},44339:(Fe,Ee,p)=>{p.d(Ee,{T:()=>W});var D=p(86678),g=p(78968);const Y=new RegExp(`(\\\\)?\\$\\((${g.dT.iconNameExpression}(?:${g.dT.iconModifierExpression})?)\\)`,"g");function W(i){const T=new Array;let B,P=0,y=0;for(;null!==(B=Y.exec(i));){y=B.index||0,T.push(i.substring(P,y)),P=(B.index||0)+B[0].length;const[,C,b]=B;T.push(C?`$(${b})`:M({id:b}))}return P<i.length&&T.push(i.substring(P)),T}function M(i){const T=D.$("span");return T.classList.add(...g.dT.asClassNameArray(i)),T}},39402:(Fe,Ee,p)=>{p.d(Ee,{p:()=>N,W:()=>L});var D=p(86678),g=p(71172),Y=p(25662),W=p(60291),M=p(99034),i=p(6491),T=p(37450),B=p(81897),P=p(71040);class y{constructor(O,I=0,$=O.length,j=I-1){this.items=O,this.start=I,this.end=$,this.index=j}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class C{constructor(O=[],I=10){this._initialize(O),this._limit=I,this._onChange()}getHistory(){return this._elements}add(O){this._history.delete(O),this._history.add(O),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(O){return this._history.has(O)}_onChange(){this._reduceToLimit();const O=this._elements;this._navigator=new y(O,0,O.length,O.length)}_reduceToLimit(){const O=this._elements;O.length>this._limit&&this._initialize(O.slice(O.length-this._limit))}_currentPosition(){const O=this._navigator.current();return O?this._elements.indexOf(O):-1}_initialize(O){this._history=new Set;for(const I of O)this._history.add(I)}get _elements(){const O=[];return this._history.forEach(I=>O.push(I)),O}}var b=p(60842),f=(p(5767),p(12918));const E=D.$,z={inputBackground:B.Il.fromHex("#3C3C3C"),inputForeground:B.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:B.Il.fromHex("#55AAFF"),inputValidationInfoBackground:B.Il.fromHex("#063B49"),inputValidationWarningBorder:B.Il.fromHex("#B89500"),inputValidationWarningBackground:B.Il.fromHex("#352A05"),inputValidationErrorBorder:B.Il.fromHex("#BE1100"),inputValidationErrorBackground:B.Il.fromHex("#5A1D1D")};class L extends T.${constructor(O,I,$){var j;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new P.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new P.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=I,this.options=$||Object.create(null),(0,b.jB)(this.options,z,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(j=this.options.tooltip)&&void 0!==j?j:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=D.R3(O,E(".monaco-inputbox.idle"));let G=this.options.flexibleHeight?"textarea":"input",oe=D.R3(this.element,E(".ibwrapper"));if(this.input=D.R3(oe,E(G+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=D.R3(oe,E("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new i.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),D.R3(O,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(pe=>this.input.scrollTop=pe.scrollTop));const de=this._register(new g.Y(document,"selectionchange")),fe=P.ju.filter(de.event,()=>{const pe=document.getSelection();return(null==pe?void 0:pe.anchorNode)===oe});this._register(fe(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new W.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(O){this.placeholder=O,this.input.setAttribute("placeholder",O)}setTooltip(O){this.tooltip=O,this.input.title=O}setAriaLabel(O){this.ariaLabel=O,O?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(O){this.input.value!==O&&(this.input.value=O,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:D.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(O=null){this.input.select(),O&&(this.input.setSelectionRange(O.start,O.end),O.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return D.w(this.input)}set width(O){if(this.options.flexibleHeight&&this.options.flexibleWidth){let I=0;this.mirror&&(I=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=O-I+"px"}else this.input.style.width=O+"px";this.mirror&&(this.mirror.style.width=O+"px")}set paddingRight(O){this.input.style.width=`calc(100% - ${O}px)`,this.mirror&&(this.mirror.style.paddingRight=O+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const $=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:$})}showMessage(O,I){this.message=O,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(O.type));const $=this.stylesForType(this.message.type);this.element.style.border=$.border?`1px solid ${$.border}`:"",(this.hasFocus()||I)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let O=null;return this.validation&&(O=this.validation(this.value),O?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(O)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),null==O?void 0:O.type}stylesForType(O){switch(O){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(O){switch(O){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let O,$,I=()=>O.style.width=D.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:j=>{if(!this.message)return null;O=D.R3(j,E(".monaco-inputbox-container")),I();const G={inline:!0,className:"monaco-inputbox-message"},oe=this.message.formatContent?(0,Y.BO)(this.message.content,G):(0,Y.IY)(this.message.content,G);oe.classList.add(this.classForType(this.message.type));const de=this.stylesForType(this.message.type);return oe.style.backgroundColor=de.background?de.background.toString():"",oe.style.color=de.foreground?de.foreground.toString():"",oe.style.border=de.border?`1px solid ${de.border}`:"",D.R3(O,oe),null},onHide:()=>{this.state="closed"},layout:I}),$=3===this.message.type?f.N("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?f.N("alertWarningMessage","Warning: {0}",this.message.content):f.N("alertInfoMessage","Info: {0}",this.message.content),M.Z9($),this.state="open"}_hideMessage(){!this.contextViewProvider||("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const O=this.value,$=10===O.charCodeAt(O.length-1)?" ":"";(O+$).replace(/\u000c/g,"")?this.mirror.textContent=O+$:this.mirror.innerText="\xa0",this.layout()}style(O){this.inputBackground=O.inputBackground,this.inputForeground=O.inputForeground,this.inputBorder=O.inputBorder,this.inputValidationInfoBackground=O.inputValidationInfoBackground,this.inputValidationInfoForeground=O.inputValidationInfoForeground,this.inputValidationInfoBorder=O.inputValidationInfoBorder,this.inputValidationWarningBackground=O.inputValidationWarningBackground,this.inputValidationWarningForeground=O.inputValidationWarningForeground,this.inputValidationWarningBorder=O.inputValidationWarningBorder,this.inputValidationErrorBackground=O.inputValidationErrorBackground,this.inputValidationErrorForeground=O.inputValidationErrorForeground,this.inputValidationErrorBorder=O.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const O=this.inputBackground?this.inputBackground.toString():"",I=this.inputForeground?this.inputForeground.toString():"",$=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=O,this.element.style.color=I,this.input.style.backgroundColor="inherit",this.input.style.color=I,this.element.style.borderWidth=$?"1px":"",this.element.style.borderStyle=$?"solid":"",this.element.style.borderColor=$}layout(){if(!this.mirror)return;const O=this.cachedContentHeight;this.cachedContentHeight=D.wn(this.mirror),O!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(O){const I=this.inputElement,$=I.selectionStart,j=I.selectionEnd,G=I.value;null!==$&&null!==j&&(this.value=G.substr(0,$)+O+G.substr(j),I.setSelectionRange($+1,$+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class N extends L{constructor(O,I,$){const j=f.N({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21c5 plus a single space, then used as a hint where input field keeps history"]},"for history"),G=` or \u21c5 ${j}`,oe=` (\u21c5 ${j})`;super(O,I,$),this.history=new C($.history,100);const de=()=>{if($.showHistoryHint&&$.showHistoryHint()&&!this.placeholder.endsWith(G)&&!this.placeholder.endsWith(oe)&&this.history.getHistory().length){const fe=this.placeholder.endsWith(")")?G:oe,pe=this.placeholder+fe;$.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=pe:this.setPlaceHolder(pe)}};this.observer=new MutationObserver((fe,pe)=>{fe.forEach(ye=>{ye.target.textContent||de()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>de()),this.onblur(this.input,()=>{const fe=pe=>{if(this.placeholder.endsWith(pe)){const ye=this.placeholder.slice(0,this.placeholder.length-pe.length);return $.showPlaceholderOnFocus?this.placeholder=ye:this.setPlaceHolder(ye),!0}return!1};fe(oe)||fe(G)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let O=this.getNextValue();O&&(O=O===this.value?this.getNextValue():O),O&&(this.value=O,M.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let O=this.getPreviousValue();O&&(O=O===this.value?this.getPreviousValue():O),O&&(this.value=O,M.i7(this.value))}getCurrentValue(){let O=this.history.current();return O||(O=this.history.last(),this.history.next()),O}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},87136:(Fe,Ee,p)=>{p.d(Ee,{kX:()=>G,Bv:()=>ye});var D=p(47306),g=p(34122),Y=p(86678),W=p(71172),M=p(23945),i=p(6491),T=p(89822),B=p(89983),P=p(94456),y=p(71040),C=p(40189),b=p(60842),x=p(32975),f=p(90443);function E(ge,Q){const ee=[];for(let le of Q){if(ge.start>=le.range.end)continue;if(ge.end<le.range.start)break;const te=x.e.intersect(ge,le.range);x.e.isEmpty(te)||ee.push({range:te,size:le.size})}return ee}function z({start:ge,end:Q},ee){return{start:ge+ee,end:Q+ee}}class Z{constructor(){this.groups=[],this._size=0}splice(Q,ee,le=[]){const te=le.length-ee,J=E({start:0,end:Q},this.groups),re=E({start:Q+ee,end:Number.POSITIVE_INFINITY},this.groups).map(ve=>({range:z(ve.range,te),size:ve.size})),ce=le.map((ve,Ie)=>({range:{start:Q+Ie,end:Q+Ie+1},size:ve.size}));this.groups=function(...ge){return function(ge){const Q=[];let ee=null;for(let le of ge){const te=le.range.start,J=le.range.end,re=le.size;ee&&re===ee.size?ee.range.end=J:(ee={range:{start:te,end:J},size:re},Q.push(ee))}return Q}(ge.reduce((Q,ee)=>Q.concat(ee),[]))}(J,ce,re),this._size=this.groups.reduce((ve,Ie)=>ve+Ie.size*(Ie.range.end-Ie.range.start),0)}get count(){const Q=this.groups.length;return Q?this.groups[Q-1].range.end:0}get size(){return this._size}indexAt(Q){if(Q<0)return-1;let ee=0,le=0;for(let te of this.groups){const J=te.range.end-te.range.start,re=le+J*te.size;if(Q<re)return ee+Math.floor((Q-le)/te.size);ee+=J,le=re}return ee}indexAfter(Q){return Math.min(this.indexAt(Q)+1,this.count)}positionAt(Q){if(Q<0)return-1;let ee=0,le=0;for(let te of this.groups){const J=te.range.end-te.range.start,re=le+J;if(Q<re)return ee+(Q-le)*te.size;ee+=J*te.size,le=re}return-1}}class I{constructor(Q){this.renderers=Q,this.cache=new Map}alloc(Q){let ee=this.getTemplateCache(Q).pop();if(!ee){const le=(0,Y.$)(".monaco-list-row");ee={domNode:le,templateId:Q,templateData:this.getRenderer(Q).renderTemplate(le)}}return ee}release(Q){!Q||this.releaseRow(Q)}releaseRow(Q){const{domNode:ee,templateId:le}=Q;ee&&(ee.classList.remove("scrolling"),function(ge){try{ge.parentElement&&ge.parentElement.removeChild(ge)}catch{}}(ee)),this.getTemplateCache(le).push(Q)}getTemplateCache(Q){let ee=this.cache.get(Q);return ee||(ee=[],this.cache.set(Q,ee)),ee}dispose(){this.cache.forEach((Q,ee)=>{for(const le of Q)this.getRenderer(ee).disposeTemplate(le.templateData),le.templateData=null}),this.cache.clear()}getRenderer(Q){const ee=this.renderers.get(Q);if(!ee)throw new Error(`No renderer found for ${Q}`);return ee}}var $=function(ge,Q,ee,le){var re,te=arguments.length,J=te<3?Q:null===le?le=Object.getOwnPropertyDescriptor(Q,ee):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(ge,Q,ee,le);else for(var ce=ge.length-1;ce>=0;ce--)(re=ge[ce])&&(J=(te<3?re(J):te>3?re(Q,ee,J):re(Q,ee))||J);return te>3&&J&&Object.defineProperty(Q,ee,J),J};const j={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:ge=>[ge],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class G{constructor(Q){this.elements=Q}update(){}getData(){return this.elements}}class oe{constructor(Q){this.elements=Q}update(){}getData(){return this.elements}}class de{constructor(){this.types=[],this.files=[]}update(Q){if(Q.types&&this.types.splice(0,this.types.length,...Q.types),Q.files){this.files.splice(0,this.files.length);for(let ee=0;ee<Q.files.length;ee++){const le=Q.files.item(ee);le&&(le.size||le.type)&&this.files.push(le)}}}getData(){return{types:this.types,files:this.files}}}class pe{constructor(Q){this.getSetSize=(null==Q?void 0:Q.getSetSize)?Q.getSetSize.bind(Q):(ee,le,te)=>te,this.getPosInSet=(null==Q?void 0:Q.getPosInSet)?Q.getPosInSet.bind(Q):(ee,le)=>le+1,this.getRole=(null==Q?void 0:Q.getRole)?Q.getRole.bind(Q):ee=>"listitem",this.isChecked=(null==Q?void 0:Q.isChecked)?Q.isChecked.bind(Q):ee=>{}}}class ye{constructor(Q,ee,le,te=j){if(this.virtualDelegate=ee,this.domId="list_id_"+ ++ye.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new B.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=C.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=C.JT.None,this.onDragLeaveTimeout=C.JT.None,this.disposables=new C.SL,this._onDidChangeContentHeight=new y.Q5,this._horizontalScrolling=!1,te.horizontalScrolling&&te.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new Z;for(const re of le)this.renderers.set(re.templateId,re);this.cache=this.disposables.add(new I(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof te.mouseSupport||te.mouseSupport),this._horizontalScrolling=(0,b.CJ)(te,re=>re.horizontalScrolling,j.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===te.additionalScrollHeight?0:te.additionalScrollHeight,this.accessibilityProvider=new pe(te.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,b.CJ)(te,re=>re.transformOptimization,j.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(M.o.addTarget(this.rowsContainer)),this.scrollable=new f.Rm({forceIntegerValues:!0,smoothScrollDuration:(0,b.CJ)(te,re=>re.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:re=>(0,Y.jL)(re)}),this.scrollableElement=this.disposables.add(new i.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(0,b.CJ)(te,re=>re.alwaysConsumeMouseWheel,j.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,b.CJ)(te,re=>re.verticalScrollMode,j.verticalScrollMode),useShadows:(0,b.CJ)(te,re=>re.useShadows,j.useShadows),mouseWheelScrollSensitivity:te.mouseWheelScrollSensitivity,fastScrollSensitivity:te.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),Q.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,Y.nm)(this.rowsContainer,M.t.Change,re=>this.onTouchChange(re))),this.disposables.add((0,Y.nm)(this.scrollableElement.getDomNode(),"scroll",re=>re.target.scrollTop=0)),this.disposables.add((0,Y.nm)(this.domNode,"dragover",re=>this.onDragOver(this.toDragEvent(re)))),this.disposables.add((0,Y.nm)(this.domNode,"drop",re=>this.onDrop(this.toDragEvent(re)))),this.disposables.add((0,Y.nm)(this.domNode,"dragleave",re=>this.onDragLeave(this.toDragEvent(re)))),this.disposables.add((0,Y.nm)(this.domNode,"dragend",re=>this.onDragEnd(re))),this.setRowLineHeight=(0,b.CJ)(te,re=>re.setRowLineHeight,j.setRowLineHeight),this.setRowHeight=(0,b.CJ)(te,re=>re.setRowHeight,j.setRowHeight),this.supportDynamicHeights=(0,b.CJ)(te,re=>re.supportDynamicHeights,j.supportDynamicHeights),this.dnd=(0,b.CJ)(te,re=>re.dnd,j.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(Q){if(Q!==this._horizontalScrolling){if(Q&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=Q,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const ee of this.items)this.measureItemWidth(ee);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,Y.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(Q){void 0!==Q.additionalScrollHeight&&(this.additionalScrollHeight=Q.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==Q.smoothScrolling&&this.scrollable.setSmoothScrollDuration(Q.smoothScrolling?125:0),void 0!==Q.horizontalScrolling&&(this.horizontalScrolling=Q.horizontalScrolling),void 0!==Q.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:Q.mouseWheelScrollSensitivity}),void 0!==Q.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:Q.fastScrollSensitivity})}splice(Q,ee,le=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(Q,ee,le)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(Q,ee,le=[]){const te=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),re=x.e.intersect(te,{start:Q,end:Q+ee}),ce=new Map;for(let Ne=re.end-1;Ne>=re.start;Ne--){const at=this.items[Ne];if(at.dragStartDisposable.dispose(),at.row){let Ct=ce.get(at.templateId);Ct||(Ct=[],ce.set(at.templateId,Ct));const jt=this.renderers.get(at.templateId);jt&&jt.disposeElement&&jt.disposeElement(at.element,Ne,at.row.templateData,at.size),Ct.push(at.row)}at.row=null}const ve={start:Q+ee,end:this.items.length},Ie=x.e.intersect(ve,te),We=x.e.relativeComplement(ve,te),Ue=le.map(Ne=>({id:String(this.itemId++),element:Ne,templateId:this.virtualDelegate.getTemplateId(Ne),size:this.virtualDelegate.getHeight(Ne),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Ne),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:C.JT.None,checkedDisposable:C.JT.None}));let ue;0===Q&&ee>=this.items.length?(this.rangeMap=new Z,this.rangeMap.splice(0,0,Ue),ue=this.items,this.items=Ue):(this.rangeMap.splice(Q,ee,Ue),ue=this.items.splice(Q,ee,...Ue));const Ce=le.length-ee,Ae=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),et=z(Ie,Ce),Ye=x.e.intersect(Ae,et);for(let Ne=Ye.start;Ne<Ye.end;Ne++)this.updateItemInDOM(this.items[Ne],Ne);const Pe=x.e.relativeComplement(et,Ae);for(const Ne of Pe)for(let at=Ne.start;at<Ne.end;at++)this.removeItemFromDOM(at);const st=We.map(Ne=>z(Ne,Ce)),nt=[{start:Q,end:Q+le.length},...st].map(Ne=>x.e.intersect(Ae,Ne)),Se=this.getNextToLastElement(nt);for(const Ne of nt)for(let at=Ne.start;at<Ne.end;at++){const jt=ce.get(this.items[at].templateId),bn=null==jt?void 0:jt.pop();this.insertItemInDOM(at,Se,bn)}for(const Ne of ce.values())for(const at of Ne)this.cache.release(at);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),ue.map(Ne=>Ne.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,Y.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let Q=0;for(const ee of this.items)void 0!==ee.width&&(Q=Math.max(Q,ee.width));this.scrollWidth=Q,this.scrollableElement.setScrollDimensions({scrollWidth:0===Q?0:Q+10})}rerender(){if(this.supportDynamicHeights){for(const Q of this.items)Q.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(Q){return this.items[Q].element}domElement(Q){const ee=this.items[Q].row;return ee&&ee.domNode}elementHeight(Q){return this.items[Q].size}elementTop(Q){return this.rangeMap.positionAt(Q)}indexAt(Q){return this.rangeMap.indexAt(Q)}indexAfter(Q){return this.rangeMap.indexAfter(Q)}layout(Q,ee){let le={height:"number"==typeof Q?Q:(0,Y.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,le.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(le),void 0!==ee&&(this.renderWidth=ee,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof ee?ee:(0,Y.FK)(this.domNode)})}render(Q,ee,le,te,J,re=!1){const ce=this.getRenderRange(ee,le),ve=x.e.relativeComplement(ce,Q),Ie=x.e.relativeComplement(Q,ce),We=this.getNextToLastElement(ve);if(re){const Ue=x.e.intersect(Q,ce);for(let ue=Ue.start;ue<Ue.end;ue++)this.updateItemInDOM(this.items[ue],ue)}for(const Ue of ve)for(let ue=Ue.start;ue<Ue.end;ue++)this.insertItemInDOM(ue,We);for(const Ue of Ie)for(let ue=Ue.start;ue<Ue.end;ue++)this.removeItemFromDOM(ue);void 0!==te&&(this.rowsContainer.style.left=`-${te}px`),this.rowsContainer.style.top=`-${ee}px`,this.horizontalScrolling&&void 0!==J&&(this.rowsContainer.style.width=`${Math.max(J,this.renderWidth)}px`),this.lastRenderTop=ee,this.lastRenderHeight=le}insertItemInDOM(Q,ee,le){const te=this.items[Q];te.row||(te.row=le??this.cache.alloc(te.templateId));const J=this.accessibilityProvider.getRole(te.element)||"listitem";te.row.domNode.setAttribute("role",J);const re=this.accessibilityProvider.isChecked(te.element);if("boolean"==typeof re)te.row.domNode.setAttribute("aria-checked",String(!!re));else if(re){const Ie=We=>te.row.domNode.setAttribute("aria-checked",String(!!We));Ie(re.value),te.checkedDisposable=re.onDidChange(Ie)}te.row.domNode.parentElement||(ee?this.rowsContainer.insertBefore(te.row.domNode,ee):this.rowsContainer.appendChild(te.row.domNode)),this.updateItemInDOM(te,Q);const ce=this.renderers.get(te.templateId);if(!ce)throw new Error(`No renderer found for template id ${te.templateId}`);ce&&ce.renderElement(te.element,Q,te.row.templateData,te.size);const ve=this.dnd.getDragURI(te.element);te.dragStartDisposable.dispose(),te.row.domNode.draggable=!!ve,ve&&(te.dragStartDisposable=(0,Y.nm)(te.row.domNode,"dragstart",Ie=>this.onDragStart(te.element,ve,Ie))),this.horizontalScrolling&&(this.measureItemWidth(te),this.eventuallyUpdateScrollWidth())}measureItemWidth(Q){if(!Q.row||!Q.row.domNode)return;Q.row.domNode.style.width=D.isFirefox?"-moz-fit-content":"fit-content",Q.width=(0,Y.FK)(Q.row.domNode);const ee=window.getComputedStyle(Q.row.domNode);ee.paddingLeft&&(Q.width+=parseFloat(ee.paddingLeft)),ee.paddingRight&&(Q.width+=parseFloat(ee.paddingRight)),Q.row.domNode.style.width=""}updateItemInDOM(Q,ee){Q.row.domNode.style.top=`${this.elementTop(ee)}px`,this.setRowHeight&&(Q.row.domNode.style.height=`${Q.size}px`),this.setRowLineHeight&&(Q.row.domNode.style.lineHeight=`${Q.size}px`),Q.row.domNode.setAttribute("data-index",`${ee}`),Q.row.domNode.setAttribute("data-last-element",ee===this.length-1?"true":"false"),Q.row.domNode.setAttribute("data-parity",ee%2==0?"even":"odd"),Q.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(Q.element,ee,this.length))),Q.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(Q.element,ee))),Q.row.domNode.setAttribute("id",this.getElementDomId(ee)),Q.row.domNode.classList.toggle("drop-target",Q.dropTarget)}removeItemFromDOM(Q){const ee=this.items[Q];if(ee.dragStartDisposable.dispose(),ee.checkedDisposable.dispose(),ee.row){const le=this.renderers.get(ee.templateId);le&&le.disposeElement&&le.disposeElement(ee.element,Q,ee.row.templateData,ee.size),this.cache.release(ee.row),ee.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(Q,ee){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:Q,reuseAnimation:ee})}get scrollTop(){return this.getScrollTop()}set scrollTop(Q){this.setScrollTop(Q)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return y.ju.map(this.disposables.add(new W.Y(this.domNode,"click")).event,Q=>this.toMouseEvent(Q))}get onMouseDblClick(){return y.ju.map(this.disposables.add(new W.Y(this.domNode,"dblclick")).event,Q=>this.toMouseEvent(Q))}get onMouseMiddleClick(){return y.ju.filter(y.ju.map(this.disposables.add(new W.Y(this.domNode,"auxclick")).event,Q=>this.toMouseEvent(Q)),Q=>1===Q.browserEvent.button)}get onMouseDown(){return y.ju.map(this.disposables.add(new W.Y(this.domNode,"mousedown")).event,Q=>this.toMouseEvent(Q))}get onContextMenu(){return y.ju.any(y.ju.map(this.disposables.add(new W.Y(this.domNode,"contextmenu")).event,Q=>this.toMouseEvent(Q)),y.ju.map(this.disposables.add(new W.Y(this.domNode,M.t.Contextmenu)).event,Q=>this.toGestureEvent(Q)))}get onTouchStart(){return y.ju.map(this.disposables.add(new W.Y(this.domNode,"touchstart")).event,Q=>this.toTouchEvent(Q))}get onTap(){return y.ju.map(this.disposables.add(new W.Y(this.rowsContainer,M.t.Tap)).event,Q=>this.toGestureEvent(Q))}toMouseEvent(Q){const ee=this.getItemIndexFromEventTarget(Q.target||null),le=void 0===ee?void 0:this.items[ee];return{browserEvent:Q,index:ee,element:le&&le.element}}toTouchEvent(Q){const ee=this.getItemIndexFromEventTarget(Q.target||null),le=void 0===ee?void 0:this.items[ee];return{browserEvent:Q,index:ee,element:le&&le.element}}toGestureEvent(Q){const ee=this.getItemIndexFromEventTarget(Q.initialTarget||null),le=void 0===ee?void 0:this.items[ee];return{browserEvent:Q,index:ee,element:le&&le.element}}toDragEvent(Q){const ee=this.getItemIndexFromEventTarget(Q.target||null),le=void 0===ee?void 0:this.items[ee];return{browserEvent:Q,index:ee,element:le&&le.element}}onScroll(Q){try{const ee=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(ee,Q.scrollTop,Q.height,Q.scrollLeft,Q.scrollWidth),this.supportDynamicHeights&&this._rerender(Q.scrollTop,Q.height,Q.inSmoothScrolling)}catch(ee){throw console.error("Got bad scroll event:",Q),ee}}onTouchChange(Q){Q.preventDefault(),Q.stopPropagation(),this.scrollTop-=Q.translationY}onDragStart(Q,ee,le){if(!le.dataTransfer)return;const te=this.dnd.getDragElements(Q);if(le.dataTransfer.effectAllowed="copyMove",le.dataTransfer.setData(g.go.TEXT,ee),le.dataTransfer.setDragImage){let J;this.dnd.getDragLabel&&(J=this.dnd.getDragLabel(te,le)),void 0===J&&(J=String(te.length));const re=(0,Y.$)(".monaco-drag-image");re.textContent=J,document.body.appendChild(re),le.dataTransfer.setDragImage(re,-10,-10),setTimeout(()=>document.body.removeChild(re),0)}this.currentDragData=new G(te),g.P$.CurrentDragAndDropData=new oe(te),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,le)}onDragOver(Q){if(Q.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),g.P$.CurrentDragAndDropData&&"vscode-ui"===g.P$.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(Q.browserEvent),!Q.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(g.P$.CurrentDragAndDropData)this.currentDragData=g.P$.CurrentDragAndDropData;else{if(!Q.browserEvent.dataTransfer.types)return!1;this.currentDragData=new de}const ee=this.dnd.onDragOver(this.currentDragData,Q.element,Q.index,Q.browserEvent);if(this.canDrop="boolean"==typeof ee?ee:ee.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let le;if(Q.browserEvent.dataTransfer.dropEffect="boolean"!=typeof ee&&0===ee.effect?"copy":"move",le="boolean"!=typeof ee&&ee.feedback?ee.feedback:void 0===Q.index?[-1]:[Q.index],le=(0,T.EB)(le).filter(te=>te>=-1&&te<this.length).sort((te,J)=>te-J),le=-1===le[0]?[-1]:le,function(ge,Q){return Array.isArray(ge)&&Array.isArray(Q)?(0,T.fS)(ge,Q):ge===Q}(this.currentDragFeedback,le))return!0;if(this.currentDragFeedback=le,this.currentDragFeedbackDisposable.dispose(),-1===le[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,C.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const te of le){const J=this.items[te];J.dropTarget=!0,J.row&&J.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,C.OF)(()=>{for(const te of le){const J=this.items[te];J.dropTarget=!1,J.row&&J.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(Q){var ee,le;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,B.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===(le=(ee=this.dnd).onDragLeave)||void 0===le||le.call(ee,this.currentDragData,Q.element,Q.index,Q.browserEvent))}onDrop(Q){if(!this.canDrop)return;const ee=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,g.P$.CurrentDragAndDropData=void 0,ee&&Q.browserEvent.dataTransfer&&(Q.browserEvent.preventDefault(),ee.update(Q.browserEvent.dataTransfer),this.dnd.drop(ee,Q.element,Q.index,Q.browserEvent))}onDragEnd(Q){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,g.P$.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(Q)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=C.JT.None}setupDragAndDropScrollTopAnimation(Q){if(!this.dragOverAnimationDisposable){const ee=(0,Y.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,Y.jt)(this.animateDragAndDropScrollTop.bind(this,ee))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,B.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=Q.pageY}animateDragAndDropScrollTop(Q){if(void 0===this.dragOverMouseY)return;const ee=this.dragOverMouseY-Q,le=this.renderHeight-35;ee<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(ee-35))):ee>le&&(this.scrollTop+=Math.min(14,Math.floor(.3*(ee-le))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(Q){const ee=this.scrollableElement.getDomNode();let le=Q;for(;le instanceof HTMLElement&&le!==this.rowsContainer&&ee.contains(le);){const te=le.getAttribute("data-index");if(te){const J=Number(te);if(!isNaN(J))return J}le=le.parentElement}}getRenderRange(Q,ee){return{start:this.rangeMap.indexAt(Q),end:this.rangeMap.indexAfter(Q+ee-1)}}_rerender(Q,ee,le){const te=this.getRenderRange(Q,ee);let J,re;Q===this.elementTop(te.start)?(J=te.start,re=0):te.end-te.start>1&&(J=te.start+1,re=this.elementTop(J)-Q);let ce=0;for(;;){const ve=this.getRenderRange(Q,ee);let Ie=!1;for(let We=ve.start;We<ve.end;We++){const Ue=this.probeDynamicHeight(We);0!==Ue&&this.rangeMap.splice(We,1,[this.items[We]]),ce+=Ue,Ie=Ie||0!==Ue}if(!Ie){0!==ce&&this.eventuallyUpdateScrollDimensions();const We=x.e.relativeComplement(te,ve);for(const ue of We)for(let Ce=ue.start;Ce<ue.end;Ce++)this.items[Ce].row&&this.removeItemFromDOM(Ce);const Ue=x.e.relativeComplement(ve,te);for(const ue of Ue)for(let Ce=ue.start;Ce<ue.end;Ce++){const Ae=Ce+1,et=Ae<this.items.length?this.items[Ae].row:null;this.insertItemInDOM(Ce,et?et.domNode:null)}for(let ue=ve.start;ue<ve.end;ue++)this.items[ue].row&&this.updateItemInDOM(this.items[ue],ue);if("number"==typeof J){const ue=this.scrollable.getFutureScrollPosition().scrollTop-Q,Ce=this.elementTop(J)-re+ue;this.setScrollTop(Ce,le)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(Q){const ee=this.items[Q];if(this.virtualDelegate.getDynamicHeight){const re=this.virtualDelegate.getDynamicHeight(ee.element);if(null!==re){const ce=ee.size;return ee.size=re,ee.lastDynamicHeightWidth=this.renderWidth,re-ce}}if(!ee.hasDynamicHeight||ee.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(ee.element))return 0;const le=ee.size;if(!this.setRowHeight&&ee.row){let re=ee.row.domNode.offsetHeight;return ee.size=re,ee.lastDynamicHeightWidth=this.renderWidth,re-le}const te=this.cache.alloc(ee.templateId);te.domNode.style.height="",this.rowsContainer.appendChild(te.domNode);const J=this.renderers.get(ee.templateId);return J&&(J.renderElement(ee.element,Q,te.templateData,void 0),J.disposeElement&&J.disposeElement(ee.element,Q,te.templateData,void 0)),ee.size=te.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(ee.element,ee.size),ee.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(te.domNode),this.cache.release(te),ee.size-le}getNextToLastElement(Q){const ee=Q[Q.length-1];if(!ee)return null;const le=this.items[ee.end];return le&&le.row?le.row.domNode:null}getElementDomId(Q){return`${this.domId}_${Q}`}dispose(){if(this.items){for(const Q of this.items)if(Q.row){const ee=this.renderers.get(Q.row.templateId);ee&&(ee.disposeElement&&ee.disposeElement(Q.element,-1,Q.row.templateData,void 0),ee.disposeTemplate(Q.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,C.B9)(this.disposables)}}ye.InstanceCount=0,$([P.H],ye.prototype,"onMouseClick",null),$([P.H],ye.prototype,"onMouseDblClick",null),$([P.H],ye.prototype,"onMouseMiddleClick",null),$([P.H],ye.prototype,"onMouseDown",null),$([P.H],ye.prototype,"onContextMenu",null),$([P.H],ye.prototype,"onTouchStart",null),$([P.H],ye.prototype,"onTap",null)},2393:(Fe,Ee,p)=>{p.d(Ee,{WK:()=>Q,wD:()=>Ie,aV:()=>ut,sx:()=>ve,cK:()=>fe,hD:()=>pe,wn:()=>J,Zo:()=>te});var D=p(86678),g=p(71172),Y=p(714),W=p(23945),M=p(99034);class i{constructor(Se){this.spliceables=Se}splice(Se,Ne,at){this.spliceables.forEach(Ct=>Ct.splice(Se,Ne,at))}}var T=p(89822),B=p(89983),P=p(81897),y=p(94456),C=p(71040),b=p(56260),x=p(40189),f=p(31096),E=p(60842),z=p(70700),L=p(99770);p(72010);class Z extends Error{constructor(Se,Ne){super(`ListError [${Se}] ${Ne}`)}}var O=p(87136),I=function(nt,Se,Ne,at){var bn,Ct=arguments.length,jt=Ct<3?Se:null===at?at=Object.getOwnPropertyDescriptor(Se,Ne):at;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)jt=Reflect.decorate(nt,Se,Ne,at);else for(var mt=nt.length-1;mt>=0;mt--)(bn=nt[mt])&&(jt=(Ct<3?bn(jt):Ct>3?bn(Se,Ne,jt):bn(Se,Ne))||jt);return Ct>3&&jt&&Object.defineProperty(Se,Ne,jt),jt},$=function(nt,Se,Ne,at){return new(Ne||(Ne=Promise))(function(jt,bn){function mt(zt){try{Wt(at.next(zt))}catch(mn){bn(mn)}}function Ft(zt){try{Wt(at.throw(zt))}catch(mn){bn(mn)}}function Wt(zt){zt.done?jt(zt.value):function(jt){return jt instanceof Ne?jt:new Ne(function(bn){bn(jt)})}(zt.value).then(mt,Ft)}Wt((at=at.apply(nt,Se||[])).next())})};class j{constructor(Se){this.trait=Se,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(Se){return Se}renderElement(Se,Ne,at){const Ct=this.renderedElements.findIndex(jt=>jt.templateData===at);if(Ct>=0){const jt=this.renderedElements[Ct];this.trait.unrender(at),jt.index=Ne}else this.renderedElements.push({index:Ne,templateData:at});this.trait.renderIndex(Ne,at)}splice(Se,Ne,at){const Ct=[];for(const jt of this.renderedElements)jt.index<Se?Ct.push(jt):jt.index>=Se+Ne&&Ct.push({index:jt.index+at-Ne,templateData:jt.templateData});this.renderedElements=Ct}renderIndexes(Se){for(const{index:Ne,templateData:at}of this.renderedElements)Se.indexOf(Ne)>-1&&this.trait.renderIndex(Ne,at)}disposeTemplate(Se){const Ne=this.renderedElements.findIndex(at=>at.templateData===Se);Ne<0||this.renderedElements.splice(Ne,1)}}class G{constructor(Se){this._trait=Se,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new C.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new j(this)}splice(Se,Ne,at){var Ct;Ne=Math.max(0,Math.min(Ne,this.length-Se));const jt=at.length-Ne,bn=Se+Ne,mt=[...this.sortedIndexes.filter(Wt=>Wt<Se),...at.map((Wt,zt)=>Wt?zt+Se:-1).filter(Wt=>-1!==Wt),...this.sortedIndexes.filter(Wt=>Wt>=bn).map(Wt=>Wt+jt)],Ft=this.length+jt;if(this.sortedIndexes.length>0&&0===mt.length&&Ft>0){const Wt=null!==(Ct=this.sortedIndexes.find(zt=>zt>=Se))&&void 0!==Ct?Ct:Ft-1;mt.push(Math.min(Wt,Ft-1))}this.renderer.splice(Se,Ne,at.length),this._set(mt,mt),this.length=Ft}renderIndex(Se,Ne){Ne.classList.toggle(this._trait,this.contains(Se))}unrender(Se){Se.classList.remove(this._trait)}set(Se,Ne){return this._set(Se,[...Se].sort(et),Ne)}_set(Se,Ne,at){const Ct=this.indexes,jt=this.sortedIndexes;this.indexes=Se,this.sortedIndexes=Ne;const bn=Ce(jt,Se);return this.renderer.renderIndexes(bn),this._onChange.fire({indexes:Se,browserEvent:at}),Ct}get(){return this.indexes}contains(Se){return(0,T.ry)(this.sortedIndexes,Se,et)>=0}dispose(){(0,x.B9)(this._onChange)}}I([y.H],G.prototype,"renderer",null);class oe extends G{constructor(Se){super("selected"),this.setAriaSelected=Se}renderIndex(Se,Ne){super.renderIndex(Se,Ne),this.setAriaSelected&&(this.contains(Se)?Ne.setAttribute("aria-selected","true"):Ne.setAttribute("aria-selected","false"))}}class de{constructor(Se,Ne,at){this.trait=Se,this.view=Ne,this.identityProvider=at}splice(Se,Ne,at){if(!this.identityProvider)return this.trait.splice(Se,Ne,at.map(()=>!1));const Ct=this.trait.get().map(bn=>this.identityProvider.getId(this.view.element(bn)).toString()),jt=at.map(bn=>Ct.indexOf(this.identityProvider.getId(bn).toString())>-1);this.trait.splice(Se,Ne,jt)}}function fe(nt){return"INPUT"===nt.tagName||"TEXTAREA"===nt.tagName}function pe(nt){return!!nt.classList.contains("monaco-editor")||!(nt.classList.contains("monaco-list")||!nt.parentElement)&&pe(nt.parentElement)}class ye{constructor(Se,Ne,at){this.list=Se,this.view=Ne,this.disposables=new x.SL,this.multipleSelectionDisposables=new x.SL,this.onKeyDown.filter(Ct=>3===Ct.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Ct=>16===Ct.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Ct=>18===Ct.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Ct=>11===Ct.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Ct=>12===Ct.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Ct=>9===Ct.keyCode).on(this.onEscape,this,this.disposables),!1!==at.multipleSelectionSupport&&this.onKeyDown.filter(Ct=>(z.dz?Ct.metaKey:Ct.ctrlKey)&&31===Ct.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return C.ju.chain(this.disposables.add(new g.Y(this.view.domNode,"keydown")).event).filter(Se=>!fe(Se.target)).map(Se=>new Y.y(Se))}updateOptions(Se){void 0!==Se.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),Se.multipleSelectionSupport&&this.onKeyDown.filter(Ne=>(z.dz?Ne.metaKey:Ne.ctrlKey)&&31===Ne.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(Se){Se.preventDefault(),Se.stopPropagation(),this.list.setSelection(this.list.getFocus(),Se.browserEvent)}onUpArrow(Se){Se.preventDefault(),Se.stopPropagation(),this.list.focusPrevious(1,!1,Se.browserEvent);const Ne=this.list.getFocus()[0];this.list.setAnchor(Ne),this.list.reveal(Ne),this.view.domNode.focus()}onDownArrow(Se){Se.preventDefault(),Se.stopPropagation(),this.list.focusNext(1,!1,Se.browserEvent);const Ne=this.list.getFocus()[0];this.list.setAnchor(Ne),this.list.reveal(Ne),this.view.domNode.focus()}onPageUpArrow(Se){Se.preventDefault(),Se.stopPropagation(),this.list.focusPreviousPage(Se.browserEvent);const Ne=this.list.getFocus()[0];this.list.setAnchor(Ne),this.list.reveal(Ne),this.view.domNode.focus()}onPageDownArrow(Se){Se.preventDefault(),Se.stopPropagation(),this.list.focusNextPage(Se.browserEvent);const Ne=this.list.getFocus()[0];this.list.setAnchor(Ne),this.list.reveal(Ne),this.view.domNode.focus()}onCtrlA(Se){Se.preventDefault(),Se.stopPropagation(),this.list.setSelection((0,T.w6)(this.list.length),Se.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(Se){this.list.getSelection().length&&(Se.preventDefault(),Se.stopPropagation(),this.list.setSelection([],Se.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}I([y.H],ye.prototype,"onKeyDown",null);var ge=(()=>{return(nt=ge||(ge={}))[nt.Idle=0]="Idle",nt[nt.Typing=1]="Typing",ge;var nt})();const Q=new class{mightProducePrintableCharacter(nt){return!(nt.ctrlKey||nt.metaKey||nt.altKey)&&(nt.keyCode>=31&&nt.keyCode<=56||nt.keyCode>=21&&nt.keyCode<=30||nt.keyCode>=93&&nt.keyCode<=102||nt.keyCode>=80&&nt.keyCode<=90)}};class ee{constructor(Se,Ne,at,Ct){this.list=Se,this.view=Ne,this.keyboardNavigationLabelProvider=at,this.delegate=Ct,this.enabled=!1,this.state=ge.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new x.SL,this.disposables=new x.SL,this.updateOptions(Se.options)}updateOptions(Se){void 0===Se.enableKeyboardNavigation||Se.enableKeyboardNavigation?this.enable():this.disable(),void 0!==Se.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=Se.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const Se=C.ju.chain(this.enabledDisposables.add(new g.Y(this.view.domNode,"keydown")).event).filter(Ct=>!fe(Ct.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(Ct=>new Y.y(Ct)).filter(Ct=>this.delegate.mightProducePrintableCharacter(Ct)).forEach(Ct=>Ct.preventDefault()).map(Ct=>Ct.browserEvent.key).event,Ne=C.ju.debounce(Se,()=>null,800);C.ju.reduce(C.ju.any(Se,Ne),(Ct,jt)=>null===jt?null:(Ct||"")+jt)(this.onInput,this,this.enabledDisposables),Ne(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var Se;const Ne=this.list.getFocus();if(Ne.length>0&&Ne[0]===this.previouslyFocused){const at=null===(Se=this.list.options.accessibilityProvider)||void 0===Se?void 0:Se.getAriaLabel(this.list.element(Ne[0]));at&&(0,M.Z9)(at)}this.previouslyFocused=-1}onInput(Se){if(!Se)return this.state=ge.Idle,void(this.triggered=!1);const Ne=this.list.getFocus(),at=Ne.length>0?Ne[0]:0,Ct=this.state===ge.Idle?1:0;this.state=ge.Typing;for(let jt=0;jt<this.list.length;jt++){const bn=(at+jt+Ct)%this.list.length,mt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(bn)),Ft=mt&&mt.toString();if(void 0===Ft||(0,b.Ji)(Se,Ft))return this.previouslyFocused=at,this.list.setFocus([bn]),void this.list.reveal(bn)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class le{constructor(Se,Ne){this.list=Se,this.view=Ne,this.disposables=new x.SL,C.ju.chain(this.disposables.add(new g.Y(Ne.domNode,"keydown")).event).filter(Ct=>!fe(Ct.target)).map(Ct=>new Y.y(Ct)).filter(Ct=>!(2!==Ct.keyCode||Ct.ctrlKey||Ct.metaKey||Ct.shiftKey||Ct.altKey)).on(this.onTab,this,this.disposables)}onTab(Se){if(Se.target!==this.view.domNode)return;const Ne=this.list.getFocus();if(0===Ne.length)return;const at=this.view.domElement(Ne[0]);if(!at)return;const Ct=at.querySelector("[tabIndex]");if(!(Ct&&Ct instanceof HTMLElement&&-1!==Ct.tabIndex))return;const jt=window.getComputedStyle(Ct);"hidden"===jt.visibility||"none"===jt.display||(Se.preventDefault(),Se.stopPropagation(),Ct.focus())}dispose(){this.disposables.dispose()}}function te(nt){return z.dz?nt.browserEvent.metaKey:nt.browserEvent.ctrlKey}function J(nt){return nt.browserEvent.shiftKey}const ce={isSelectionSingleChangeEvent:te,isSelectionRangeChangeEvent:J};class ve{constructor(Se){this.list=Se,this.disposables=new x.SL,this._onPointer=new C.Q5,this.onPointer=this._onPointer.event,!1!==Se.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ce),this.mouseSupport=void 0===Se.options.mouseSupport||!!Se.options.mouseSupport,this.mouseSupport&&(Se.onMouseDown(this.onMouseDown,this,this.disposables),Se.onContextMenu(this.onContextMenu,this,this.disposables),Se.onMouseDblClick(this.onDoubleClick,this,this.disposables),Se.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(W.o.addTarget(Se.getHTMLElement()))),C.ju.any(Se.onMouseClick,Se.onMouseMiddleClick,Se.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(Se){void 0!==Se.multipleSelectionSupport&&(this.multipleSelectionController=void 0,Se.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ce))}isSelectionSingleChangeEvent(Se){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(Se)}isSelectionRangeChangeEvent(Se){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(Se)}isSelectionChangeEvent(Se){return this.isSelectionSingleChangeEvent(Se)||this.isSelectionRangeChangeEvent(Se)}onMouseDown(Se){pe(Se.browserEvent.target)||document.activeElement!==Se.browserEvent.target&&this.list.domFocus()}onContextMenu(Se){pe(Se.browserEvent.target)||this.list.setFocus(void 0===Se.index?[]:[Se.index],Se.browserEvent)}onViewPointer(Se){if(!this.mouseSupport||fe(Se.browserEvent.target)||pe(Se.browserEvent.target))return;const Ne=Se.index;return void 0===Ne?(this.list.setFocus([],Se.browserEvent),this.list.setSelection([],Se.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(Se)||this.isSelectionChangeEvent(Se)?this.changeSelection(Se):(this.list.setFocus([Ne],Se.browserEvent),this.list.setAnchor(Ne),(nt=Se.browserEvent)instanceof MouseEvent&&2===nt.button||this.list.setSelection([Ne],Se.browserEvent),void this._onPointer.fire(Se));var nt}onDoubleClick(Se){if(fe(Se.browserEvent.target)||pe(Se.browserEvent.target)||this.isSelectionChangeEvent(Se))return;const Ne=this.list.getFocus();this.list.setSelection(Ne,Se.browserEvent)}changeSelection(Se){const Ne=Se.index;let at=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(Se)){void 0===at&&(at=this.list.getFocus()[0]??Ne,this.list.setAnchor(at));const Ct=Math.min(at,Ne),jt=Math.max(at,Ne),bn=(0,T.w6)(Ct,jt+1),mt=this.list.getSelection(),Ft=function(nt,Se){const Ne=nt.indexOf(Se);if(-1===Ne)return[];const at=[];let Ct=Ne-1;for(;Ct>=0&&nt[Ct]===Se-(Ne-Ct);)at.push(nt[Ct--]);for(at.reverse(),Ct=Ne;Ct<nt.length&&nt[Ct]===Se+(Ct-Ne);)at.push(nt[Ct++]);return at}(Ce(mt,[at]),at);if(0===Ft.length)return;const Wt=Ce(bn,function(nt,Se){const Ne=[];let at=0,Ct=0;for(;at<nt.length||Ct<Se.length;)if(at>=nt.length)Ne.push(Se[Ct++]);else if(Ct>=Se.length)Ne.push(nt[at++]);else{if(nt[at]===Se[Ct]){at++,Ct++;continue}nt[at]<Se[Ct]?Ne.push(nt[at++]):Ct++}return Ne}(mt,Ft));this.list.setSelection(Wt,Se.browserEvent),this.list.setFocus([Ne],Se.browserEvent)}else if(this.isSelectionSingleChangeEvent(Se)){const Ct=this.list.getSelection(),jt=Ct.filter(bn=>bn!==Ne);this.list.setFocus([Ne]),this.list.setAnchor(Ne),this.list.setSelection(Ct.length===jt.length?[...jt,Ne]:jt,Se.browserEvent)}}dispose(){this.disposables.dispose()}}class Ie{constructor(Se,Ne){this.styleElement=Se,this.selectorSuffix=Ne}style(Se){const Ne=this.selectorSuffix&&`.${this.selectorSuffix}`,at=[];Se.listBackground&&(Se.listBackground.isOpaque()?at.push(`.monaco-list${Ne} .monaco-list-rows { background: ${Se.listBackground}; }`):z.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),Se.listFocusBackground&&(at.push(`.monaco-list${Ne}:focus .monaco-list-row.focused { background-color: ${Se.listFocusBackground}; }`),at.push(`.monaco-list${Ne}:focus .monaco-list-row.focused:hover { background-color: ${Se.listFocusBackground}; }`)),Se.listFocusForeground&&at.push(`.monaco-list${Ne}:focus .monaco-list-row.focused { color: ${Se.listFocusForeground}; }`),Se.listActiveSelectionBackground&&(at.push(`.monaco-list${Ne}:focus .monaco-list-row.selected { background-color: ${Se.listActiveSelectionBackground}; }`),at.push(`.monaco-list${Ne}:focus .monaco-list-row.selected:hover { background-color: ${Se.listActiveSelectionBackground}; }`)),Se.listActiveSelectionForeground&&at.push(`.monaco-list${Ne}:focus .monaco-list-row.selected { color: ${Se.listActiveSelectionForeground}; }`),Se.listActiveSelectionIconForeground&&at.push(`.monaco-list${Ne}:focus .monaco-list-row.selected .codicon { color: ${Se.listActiveSelectionIconForeground}; }`),Se.listFocusAndSelectionBackground&&at.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ne}:focus .monaco-list-row.selected.focused { background-color: ${Se.listFocusAndSelectionBackground}; }\n\t\t\t`),Se.listFocusAndSelectionForeground&&at.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ne}:focus .monaco-list-row.selected.focused { color: ${Se.listFocusAndSelectionForeground}; }\n\t\t\t`),Se.listInactiveFocusForeground&&(at.push(`.monaco-list${Ne} .monaco-list-row.focused { color:  ${Se.listInactiveFocusForeground}; }`),at.push(`.monaco-list${Ne} .monaco-list-row.focused:hover { color:  ${Se.listInactiveFocusForeground}; }`)),Se.listInactiveSelectionIconForeground&&at.push(`.monaco-list${Ne} .monaco-list-row.focused .codicon { color:  ${Se.listInactiveSelectionIconForeground}; }`),Se.listInactiveFocusBackground&&(at.push(`.monaco-list${Ne} .monaco-list-row.focused { background-color:  ${Se.listInactiveFocusBackground}; }`),at.push(`.monaco-list${Ne} .monaco-list-row.focused:hover { background-color:  ${Se.listInactiveFocusBackground}; }`)),Se.listInactiveSelectionBackground&&(at.push(`.monaco-list${Ne} .monaco-list-row.selected { background-color:  ${Se.listInactiveSelectionBackground}; }`),at.push(`.monaco-list${Ne} .monaco-list-row.selected:hover { background-color:  ${Se.listInactiveSelectionBackground}; }`)),Se.listInactiveSelectionForeground&&at.push(`.monaco-list${Ne} .monaco-list-row.selected { color: ${Se.listInactiveSelectionForeground}; }`),Se.listHoverBackground&&at.push(`.monaco-list${Ne}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${Se.listHoverBackground}; }`),Se.listHoverForeground&&at.push(`.monaco-list${Ne} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${Se.listHoverForeground}; }`),Se.listSelectionOutline&&at.push(`.monaco-list${Ne} .monaco-list-row.selected { outline: 1px dotted ${Se.listSelectionOutline}; outline-offset: -1px; }`),Se.listFocusOutline&&at.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ne}:focus .monaco-list-row.focused { outline: 1px solid ${Se.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${Ne}.last-focused .monaco-list-row.focused { outline: 1px solid ${Se.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),Se.listInactiveFocusOutline&&at.push(`.monaco-list${Ne} .monaco-list-row.focused { outline: 1px dotted ${Se.listInactiveFocusOutline}; outline-offset: -1px; }`),Se.listHoverOutline&&at.push(`.monaco-list${Ne} .monaco-list-row:hover { outline: 1px dashed ${Se.listHoverOutline}; outline-offset: -1px; }`),Se.listDropBackground&&at.push(`\n\t\t\t\t.monaco-list${Ne}.drop-target,\n\t\t\t\t.monaco-list${Ne} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${Ne} .monaco-list-row.drop-target { background-color: ${Se.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),Se.listFilterWidgetBackground&&at.push(`.monaco-list-type-filter { background-color: ${Se.listFilterWidgetBackground} }`),Se.listFilterWidgetOutline&&at.push(`.monaco-list-type-filter { border: 1px solid ${Se.listFilterWidgetOutline}; }`),Se.listFilterWidgetNoMatchesOutline&&at.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${Se.listFilterWidgetNoMatchesOutline}; }`),Se.listMatchesShadow&&at.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${Se.listMatchesShadow}; }`),Se.tableColumnsBorder&&at.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${Se.tableColumnsBorder};\n\t\t\t}`),Se.tableOddRowsBackgroundColor&&at.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${Se.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=at.join("\n")}}const We={listFocusBackground:P.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:P.Il.fromHex("#0E639C"),listActiveSelectionForeground:P.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:P.Il.fromHex("#FFFFFF"),listFocusAndSelectionBackground:P.Il.fromHex("#094771"),listFocusAndSelectionForeground:P.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:P.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:P.Il.fromHex("#FFFFFF"),listHoverBackground:P.Il.fromHex("#2A2D2E"),listDropBackground:P.Il.fromHex("#383B3D"),treeIndentGuidesStroke:P.Il.fromHex("#a9a9a9"),tableColumnsBorder:P.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:P.Il.fromHex("#cccccc").transparent(.04)},Ue={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function Ce(nt,Se){const Ne=[];let at=0,Ct=0;for(;at<nt.length||Ct<Se.length;)if(at>=nt.length)Ne.push(Se[Ct++]);else if(Ct>=Se.length)Ne.push(nt[at++]);else{if(nt[at]===Se[Ct]){Ne.push(nt[at]),at++,Ct++;continue}Ne.push(nt[at]<Se[Ct]?nt[at++]:Se[Ct++])}return Ne}const et=(nt,Se)=>nt-Se;class Ye{constructor(Se,Ne){this._templateId=Se,this.renderers=Ne}get templateId(){return this._templateId}renderTemplate(Se){return this.renderers.map(Ne=>Ne.renderTemplate(Se))}renderElement(Se,Ne,at,Ct){let jt=0;for(const bn of this.renderers)bn.renderElement(Se,Ne,at[jt++],Ct)}disposeElement(Se,Ne,at,Ct){let jt=0;for(const bn of this.renderers)bn.disposeElement&&bn.disposeElement(Se,Ne,at[jt],Ct),jt+=1}disposeTemplate(Se){let Ne=0;for(const at of this.renderers)at.disposeTemplate(Se[Ne++])}}class Pe{constructor(Se){this.accessibilityProvider=Se,this.templateId="a18n"}renderTemplate(Se){return Se}renderElement(Se,Ne,at){const Ct=this.accessibilityProvider.getAriaLabel(Se);Ct?at.setAttribute("aria-label",Ct):at.removeAttribute("aria-label");const jt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(Se);"number"==typeof jt?at.setAttribute("aria-level",`${jt}`):at.removeAttribute("aria-level")}disposeTemplate(Se){}}class st{constructor(Se,Ne){this.list=Se,this.dnd=Ne}getDragElements(Se){const Ne=this.list.getSelectedElements();return Ne.indexOf(Se)>-1?Ne:[Se]}getDragURI(Se){return this.dnd.getDragURI(Se)}getDragLabel(Se,Ne){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Se,Ne)}onDragStart(Se,Ne){this.dnd.onDragStart&&this.dnd.onDragStart(Se,Ne)}onDragOver(Se,Ne,at,Ct){return this.dnd.onDragOver(Se,Ne,at,Ct)}onDragLeave(Se,Ne,at,Ct){var jt,bn;null===(bn=(jt=this.dnd).onDragLeave)||void 0===bn||bn.call(jt,Se,Ne,at,Ct)}onDragEnd(Se){this.dnd.onDragEnd&&this.dnd.onDragEnd(Se)}drop(Se,Ne,at,Ct){this.dnd.drop(Se,Ne,at,Ct)}}class ut{constructor(Se,Ne,at,Ct,jt=Ue){var bn;this.user=Se,this._options=jt,this.focus=new G("focused"),this.anchor=new G("anchor"),this.eventBufferer=new C.E7,this._ariaLabel="",this.disposables=new x.SL,this._onDidDispose=new C.Q5,this.onDidDispose=this._onDidDispose.event;const mt=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(bn=this._options.accessibilityProvider)||void 0===bn?void 0:bn.getWidgetRole():"list";this.selection=new oe("listbox"!==mt),(0,E.jB)(jt,We,!1);const Ft=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=jt.accessibilityProvider,this.accessibilityProvider&&(Ft.push(new Pe(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),Ct=Ct.map(zt=>new Ye(zt.templateId,[...Ft,zt]));const Wt=Object.assign(Object.assign({},jt),{dnd:jt.dnd&&new st(this,jt.dnd)});if(this.view=new O.Bv(Ne,at,Ct,Wt),this.view.domNode.setAttribute("role",mt),jt.styleController)this.styleController=jt.styleController(this.view.domId);else{const zt=(0,D.dS)(this.view.domNode);this.styleController=new Ie(zt,this.view.domId)}this.spliceable=new i([new de(this.focus,this.view,jt.identityProvider),new de(this.selection,this.view,jt.identityProvider),new de(this.anchor,this.view,jt.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new le(this,this.view)),("boolean"!=typeof jt.keyboardSupport||jt.keyboardSupport)&&(this.keyboardController=new ye(this,this.view,jt),this.disposables.add(this.keyboardController)),jt.keyboardNavigationLabelProvider&&(this.typeLabelController=new ee(this,this.view,jt.keyboardNavigationLabelProvider,jt.keyboardNavigationDelegate||Q),this.disposables.add(this.typeLabelController)),this.mouseController=this.createMouseController(jt),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return C.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),Se=>this.toListEvent(Se))}get onDidChangeSelection(){return C.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),Se=>this.toListEvent(Se))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let Se=!1;const Ne=C.ju.chain(this.disposables.add(new g.Y(this.view.domNode,"keydown")).event).map(jt=>new Y.y(jt)).filter(jt=>Se=58===jt.keyCode||jt.shiftKey&&68===jt.keyCode).map(g.p).filter(()=>!1).event,at=C.ju.chain(this.disposables.add(new g.Y(this.view.domNode,"keyup")).event).forEach(()=>Se=!1).map(jt=>new Y.y(jt)).filter(jt=>58===jt.keyCode||jt.shiftKey&&68===jt.keyCode).map(g.p).map(({browserEvent:jt})=>{const bn=this.getFocus(),mt=bn.length?bn[0]:void 0;return{index:mt,element:void 0!==mt?this.view.element(mt):void 0,anchor:void 0!==mt?this.view.domElement(mt):this.view.domNode,browserEvent:jt}}).event,Ct=C.ju.chain(this.view.onContextMenu).filter(jt=>!Se).map(({element:jt,index:bn,browserEvent:mt})=>({element:jt,index:bn,anchor:{x:mt.pageX+1,y:mt.pageY},browserEvent:mt})).event;return C.ju.any(Ne,at,Ct)}get onKeyDown(){return this.disposables.add(new g.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return C.ju.signal(this.disposables.add(new g.Y(this.view.domNode,"focus",!0)).event)}createMouseController(Se){return new ve(this)}updateOptions(Se={}){var Ne;this._options=Object.assign(Object.assign({},this._options),Se),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(Se),null===(Ne=this.keyboardController)||void 0===Ne||Ne.updateOptions(Se),this.view.updateOptions(Se)}get options(){return this._options}splice(Se,Ne,at=[]){if(Se<0||Se>this.view.length)throw new Z(this.user,`Invalid start index: ${Se}`);if(Ne<0)throw new Z(this.user,`Invalid delete count: ${Ne}`);0===Ne&&0===at.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(Se,Ne,at))}rerender(){this.view.rerender()}element(Se){return this.view.element(Se)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(Se){this.view.setScrollTop(Se)}get ariaLabel(){return this._ariaLabel}set ariaLabel(Se){this._ariaLabel=Se,this.view.domNode.setAttribute("aria-label",Se)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(Se,Ne){this.view.layout(Se,Ne)}setSelection(Se,Ne){for(const at of Se)if(at<0||at>=this.length)throw new Z(this.user,`Invalid index ${at}`);this.selection.set(Se,Ne)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(Se=>this.view.element(Se))}setAnchor(Se){if(void 0!==Se){if(Se<0||Se>=this.length)throw new Z(this.user,`Invalid index ${Se}`);this.anchor.set([Se])}else this.anchor.set([])}getAnchor(){return(0,T.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const Se=this.getAnchor();return void 0===Se?void 0:this.element(Se)}setFocus(Se,Ne){for(const at of Se)if(at<0||at>=this.length)throw new Z(this.user,`Invalid index ${at}`);this.focus.set(Se,Ne)}focusNext(Se=1,Ne=!1,at,Ct){if(0===this.length)return;const jt=this.focus.get(),bn=this.findNextIndex(jt.length>0?jt[0]+Se:0,Ne,Ct);bn>-1&&this.setFocus([bn],at)}focusPrevious(Se=1,Ne=!1,at,Ct){if(0===this.length)return;const jt=this.focus.get(),bn=this.findPreviousIndex(jt.length>0?jt[0]-Se:0,Ne,Ct);bn>-1&&this.setFocus([bn],at)}focusNextPage(Se,Ne){return $(this,void 0,void 0,function*(){let at=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);at=0===at?0:at-1;const Ct=this.view.element(at),jt=this.getFocusedElements()[0];if(jt!==Ct){const bn=this.findPreviousIndex(at,!1,Ne);bn>-1&&jt!==this.view.element(bn)?this.setFocus([bn],Se):this.setFocus([at],Se)}else{const bn=this.view.getScrollTop();this.view.setScrollTop(bn+this.view.renderHeight-this.view.elementHeight(at)),this.view.getScrollTop()!==bn&&(this.setFocus([]),yield(0,B.Vs)(0),yield this.focusNextPage(Se,Ne))}})}focusPreviousPage(Se,Ne){return $(this,void 0,void 0,function*(){let at;const Ct=this.view.getScrollTop();at=0===Ct?this.view.indexAt(Ct):this.view.indexAfter(Ct-1);const jt=this.view.element(at),bn=this.getFocusedElements()[0];if(bn!==jt){const mt=this.findNextIndex(at,!1,Ne);mt>-1&&bn!==this.view.element(mt)?this.setFocus([mt],Se):this.setFocus([at],Se)}else{const mt=Ct;this.view.setScrollTop(Ct-this.view.renderHeight),this.view.getScrollTop()!==mt&&(this.setFocus([]),yield(0,B.Vs)(0),yield this.focusPreviousPage(Se,Ne))}})}focusLast(Se,Ne){if(0===this.length)return;const at=this.findPreviousIndex(this.length-1,!1,Ne);at>-1&&this.setFocus([at],Se)}focusFirst(Se,Ne){this.focusNth(0,Se,Ne)}focusNth(Se,Ne,at){if(0===this.length)return;const Ct=this.findNextIndex(Se,!1,at);Ct>-1&&this.setFocus([Ct],Ne)}findNextIndex(Se,Ne=!1,at){for(let Ct=0;Ct<this.length;Ct++){if(Se>=this.length&&!Ne)return-1;if(Se%=this.length,!at||at(this.element(Se)))return Se;Se++}return-1}findPreviousIndex(Se,Ne=!1,at){for(let Ct=0;Ct<this.length;Ct++){if(Se<0&&!Ne)return-1;if(Se=(this.length+Se%this.length)%this.length,!at||at(this.element(Se)))return Se;Se--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(Se=>this.view.element(Se))}reveal(Se,Ne){if(Se<0||Se>=this.length)throw new Z(this.user,`Invalid index ${Se}`);const at=this.view.getScrollTop(),Ct=this.view.elementTop(Se),jt=this.view.elementHeight(Se);if((0,L.hj)(Ne))this.view.setScrollTop((jt-this.view.renderHeight)*(0,f.uZ)(Ne,0,1)+Ct);else{const bn=Ct+jt,mt=at+this.view.renderHeight;Ct<at&&bn>=mt||(Ct<at||bn>=mt&&jt>=this.view.renderHeight?this.view.setScrollTop(Ct):bn>=mt&&this.view.setScrollTop(bn-this.view.renderHeight))}}getRelativeTop(Se){if(Se<0||Se>=this.length)throw new Z(this.user,`Invalid index ${Se}`);const Ne=this.view.getScrollTop(),at=this.view.elementTop(Se),Ct=this.view.elementHeight(Se);return at<Ne||at+Ct>Ne+this.view.renderHeight?null:Math.abs((Ne-at)/(Ct-this.view.renderHeight))}getHTMLElement(){return this.view.domNode}style(Se){this.styleController.style(Se)}toListEvent({indexes:Se,browserEvent:Ne}){return{indexes:Se,elements:Se.map(at=>this.view.element(at)),browserEvent:Ne}}_onFocusChange(){const Se=this.focus.get();this.view.domNode.classList.toggle("element-focused",Se.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var Se;const Ne=this.focus.get();if(Ne.length>0){let at;(null===(Se=this.accessibilityProvider)||void 0===Se?void 0:Se.getActiveDescendantId)&&(at=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ne[0]))),this.view.domNode.setAttribute("aria-activedescendant",at||this.view.getElementDomId(Ne[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const Se=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===Se.length),this.view.domNode.classList.toggle("selection-single",1===Se.length),this.view.domNode.classList.toggle("selection-multiple",Se.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}I([y.H],ut.prototype,"onDidChangeFocus",null),I([y.H],ut.prototype,"onDidChangeSelection",null),I([y.H],ut.prototype,"onContextMenu",null),I([y.H],ut.prototype,"onKeyDown",null),I([y.H],ut.prototype,"onDidFocus",null)},2450:(Fe,Ee,p)=>{p.d(Ee,{S:()=>g}),p(12239);const g="monaco-mouse-cursor-text"},54789:(Fe,Ee,p)=>{p.d(Ee,{l:()=>b,g:()=>I});var D=p(86678),g=p(71172),Y=p(23945),W=p(89983),M=p(94456),i=p(71040),T=p(40189),B=p(70700),y=(p(10649),function($,j,G,oe){var pe,de=arguments.length,fe=de<3?j:null===oe?oe=Object.getOwnPropertyDescriptor(j,G):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)fe=Reflect.decorate($,j,G,oe);else for(var ye=$.length-1;ye>=0;ye--)(pe=$[ye])&&(fe=(de<3?pe(fe):de>3?pe(j,G,fe):pe(j,G))||fe);return de>3&&fe&&Object.defineProperty(j,G,fe),fe}),b=(()=>{return($=b||(b={})).North="north",$.South="south",$.East="east",$.West="west",b;var $})();const f=new i.Q5,z=new i.Q5;class L{constructor(){this.disposables=new T.SL}get onPointerMove(){return this.disposables.add(new g.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new g.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}y([M.H],L.prototype,"onPointerMove",null),y([M.H],L.prototype,"onPointerUp",null);class N{constructor(j){this.el=j,this.disposables=new T.SL}get onPointerMove(){return this.disposables.add(new g.Y(this.el,Y.t.Change)).event}get onPointerUp(){return this.disposables.add(new g.Y(this.el,Y.t.End)).event}dispose(){this.disposables.dispose()}}y([M.H],N.prototype,"onPointerMove",null),y([M.H],N.prototype,"onPointerUp",null);class Z{constructor(j){this.factory=j}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}y([M.H],Z.prototype,"onPointerMove",null),y([M.H],Z.prototype,"onPointerUp",null);const O="pointer-events-disabled";class I extends T.JT{constructor(j,G,oe){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new W.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new i.Q5),this._onDidStart=this._register(new i.Q5),this._onDidChange=this._register(new i.Q5),this._onDidReset=this._register(new i.Q5),this._onDidEnd=this._register(new i.Q5),this.orthogonalStartSashDisposables=this._register(new T.SL),this.orthogonalStartDragHandleDisposables=this._register(new T.SL),this.orthogonalEndSashDisposables=this._register(new T.SL),this.orthogonalEndDragHandleDisposables=this._register(new T.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,D.R3)(j,(0,D.$)(".monaco-sash")),oe.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${oe.orthogonalEdge}`),B.dz&&this.el.classList.add("mac");const de=this._register(new g.Y(this.el,"mousedown")).event;this._register(de(le=>this.onPointerStart(le,new L),this));const fe=this._register(new g.Y(this.el,"dblclick")).event;this._register(fe(this.onPointerDoublePress,this));const pe=this._register(new g.Y(this.el,"mouseenter")).event;this._register(pe(()=>I.onMouseEnter(this)));const ye=this._register(new g.Y(this.el,"mouseleave")).event;this._register(ye(()=>I.onMouseLeave(this))),this._register(Y.o.addTarget(this.el));const ge=i.ju.map(this._register(new g.Y(this.el,Y.t.Start)).event,le=>{var te;return Object.assign(Object.assign({},le),{target:null!==(te=le.initialTarget)&&void 0!==te?te:null})});this._register(ge(le=>this.onPointerStart(le,new N(this.el)),this));const Q=this._register(new g.Y(this.el,Y.t.Tap)).event,ee=i.ju.map(i.ju.filter(i.ju.debounce(Q,(le,te)=>{var J;return{event:te,count:(null!==(J=null==le?void 0:le.count)&&void 0!==J?J:0)+1}},250),({count:le})=>2===le),({event:le})=>{var te;return Object.assign(Object.assign({},le),{target:null!==(te=le.initialTarget)&&void 0!==te?te:null})});this._register(ee(this.onPointerDoublePress,this)),"number"==typeof oe.size?(this.size=oe.size,0===oe.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(f.event(le=>{this.size=le,this.layout()}))),this._register(z.event(le=>this.hoverDelay=le)),this.layoutProvider=G,this.orthogonalStartSash=oe.orthogonalStartSash,this.orthogonalEndSash=oe.orthogonalEndSash,this.orientation=oe.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(j){this._state!==j&&(this.el.classList.toggle("disabled",0===j),this.el.classList.toggle("minimum",1===j),this.el.classList.toggle("maximum",2===j),this._state=j,this.onDidEnablementChange.fire(j))}set orthogonalStartSash(j){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),j){const G=oe=>{this.orthogonalStartDragHandleDisposables.clear(),0!==oe&&(this._orthogonalStartDragHandle=(0,D.R3)(this.el,(0,D.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,T.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new g.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>I.onMouseEnter(j),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new g.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>I.onMouseLeave(j),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(j.onDidEnablementChange.event(G,this)),G(j.state)}this._orthogonalStartSash=j}set orthogonalEndSash(j){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),j){const G=oe=>{this.orthogonalEndDragHandleDisposables.clear(),0!==oe&&(this._orthogonalEndDragHandle=(0,D.R3)(this.el,(0,D.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,T.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new g.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>I.onMouseEnter(j),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new g.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>I.onMouseLeave(j),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(j.onDidEnablementChange.event(G,this)),G(j.state)}this._orthogonalEndSash=j}onPointerStart(j,G){D.zB.stop(j);let oe=!1;if(!j.__orthogonalSashEvent){const re=this.getOrthogonalSash(j);re&&(oe=!0,j.__orthogonalSashEvent=!0,re.onPointerStart(j,new Z(G)))}if(this.linkedSash&&!j.__linkedSashEvent&&(j.__linkedSashEvent=!0,this.linkedSash.onPointerStart(j,new Z(G))),!this.state)return;const de=(0,D.H$)("iframe");for(const re of de)re.classList.add(O);const fe=j.pageX,pe=j.pageY,ye=j.altKey,ge={startX:fe,currentX:fe,startY:pe,currentY:pe,altKey:ye};this.el.classList.add("active"),this._onDidStart.fire(ge);const Q=(0,D.dS)(this.el),ee=()=>{let re="";re=oe?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":B.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":B.dz?"col-resize":"ew-resize",Q.textContent=`* { cursor: ${re} !important; }`},le=new T.SL;ee(),oe||this.onDidEnablementChange.event(ee,null,le),G.onPointerMove(re=>{D.zB.stop(re,!1),this._onDidChange.fire({startX:fe,currentX:re.pageX,startY:pe,currentY:re.pageY,altKey:ye})},null,le),G.onPointerUp(re=>{D.zB.stop(re,!1),this.el.removeChild(Q),this.el.classList.remove("active"),this._onDidEnd.fire(),le.dispose();for(const ce of de)ce.classList.remove(O)},null,le),le.add(G)}onPointerDoublePress(j){const G=this.getOrthogonalSash(j);G&&G._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(j,G=!1){j.el.classList.contains("active")?(j.hoverDelayer.cancel(),j.el.classList.add("hover")):j.hoverDelayer.trigger(()=>j.el.classList.add("hover"),j.hoverDelay).then(void 0,()=>{}),!G&&j.linkedSash&&I.onMouseEnter(j.linkedSash,!0)}static onMouseLeave(j,G=!1){j.hoverDelayer.cancel(),j.el.classList.remove("hover"),!G&&j.linkedSash&&I.onMouseLeave(j.linkedSash,!0)}clearSashHoverState(){I.onMouseLeave(this)}layout(){if(0===this.orientation){const j=this.layoutProvider;this.el.style.left=j.getVerticalSashLeft(this)-this.size/2+"px",j.getVerticalSashTop&&(this.el.style.top=j.getVerticalSashTop(this)+"px"),j.getVerticalSashHeight&&(this.el.style.height=j.getVerticalSashHeight(this)+"px")}else{const j=this.layoutProvider;this.el.style.top=j.getHorizontalSashTop(this)-this.size/2+"px",j.getHorizontalSashLeft&&(this.el.style.left=j.getHorizontalSashLeft(this)+"px"),j.getHorizontalSashWidth&&(this.el.style.width=j.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(j){if(j.target&&j.target instanceof HTMLElement&&j.target.classList.contains("orthogonal-drag-handle"))return j.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},6491:(Fe,Ee,p)=>{p.d(Ee,{s$:()=>Q,NB:()=>ye,$Z:()=>ge});var D=p(47306),g=p(86678),Y=p(81718),W=p(2886),M=p(8535),i=p(37450),T=p(89983);class P extends i.${constructor(te){super(),this._onActivate=te.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=te.bgWidth+"px",this.bgDomNode.style.height=te.bgHeight+"px",void 0!==te.top&&(this.bgDomNode.style.top="0px"),void 0!==te.left&&(this.bgDomNode.style.left="0px"),void 0!==te.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==te.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=te.className,this.domNode.classList.add(...te.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==te.top&&(this.domNode.style.top=te.top+"px"),void 0!==te.left&&(this.domNode.style.left=te.left+"px"),void 0!==te.bottom&&(this.domNode.style.bottom=te.bottom+"px"),void 0!==te.right&&(this.domNode.style.right=te.right+"px"),this._mouseMoveMonitor=this._register(new M.Z),this.onmousedown(this.bgDomNode,J=>this._arrowMouseDown(J)),this.onmousedown(this.domNode,J=>this._arrowMouseDown(J)),this._mousedownRepeatTimer=this._register(new T.zh),this._mousedownScheduleRepeatTimer=this._register(new T._F)}_arrowMouseDown(te){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._mouseMoveMonitor.startMonitoring(te.target,te.buttons,M.e,re=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),te.preventDefault()}}var y=p(40189);class C extends y.JT{constructor(te,J,re){super(),this._visibility=te,this._visibleClassName=J,this._invisibleClassName=re,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new T._F)}setVisibility(te){this._visibility!==te&&(this._visibility=te,this._updateShouldBeVisible())}setShouldBeVisible(te){this._rawShouldBeVisible=te,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const te=this._applyVisibilitySetting();this._shouldBeVisible!==te&&(this._shouldBeVisible=te,this.ensureVisibility())}setIsNeeded(te){this._isNeeded!==te&&(this._isNeeded=te,this.ensureVisibility())}setDomNode(te){this._domNode=te,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(te){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(te?" fade":"")))}}var b=p(70700);class f extends i.${constructor(te){super(),this._lazyRender=te.lazyRender,this._host=te.host,this._scrollable=te.scrollable,this._scrollByPage=te.scrollByPage,this._scrollbarState=te.scrollbarState,this._visibilityController=this._register(new C(te.visibility,"visible scrollbar "+te.extraScrollbarClassName,"invisible scrollbar "+te.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new M.Z),this._shouldRender=!0,this.domNode=(0,Y.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,J=>this._domNodeMouseDown(J))}_createArrow(te){const J=this._register(new P(te));this.domNode.domNode.appendChild(J.bgDomNode),this.domNode.domNode.appendChild(J.domNode)}_createSlider(te,J,re,ce){this.slider=(0,Y.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(te),this.slider.setLeft(J),"number"==typeof re&&this.slider.setWidth(re),"number"==typeof ce&&this.slider.setHeight(ce),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,ve=>{ve.leftButton&&(ve.preventDefault(),this._sliderMouseDown(ve,()=>{}))}),this.onclick(this.slider.domNode,ve=>{ve.leftButton&&ve.stopPropagation()})}_onElementSize(te){return this._scrollbarState.setVisibleSize(te)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(te){return this._scrollbarState.setScrollSize(te)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(te){return this._scrollbarState.setScrollPosition(te)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(te){te.target===this.domNode.domNode&&this._onMouseDown(te)}delegateMouseDown(te){const J=this.domNode.domNode.getClientRects()[0].top,re=J+this._scrollbarState.getSliderPosition(),ce=J+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ve=this._sliderMousePosition(te);re<=ve&&ve<=ce?te.leftButton&&(te.preventDefault(),this._sliderMouseDown(te,()=>{})):this._onMouseDown(te)}_onMouseDown(te){let J,re;if(te.target===this.domNode.domNode&&"number"==typeof te.browserEvent.offsetX&&"number"==typeof te.browserEvent.offsetY)J=te.browserEvent.offsetX,re=te.browserEvent.offsetY;else{const ve=g.i(this.domNode.domNode);J=te.posx-ve.left,re=te.posy-ve.top}const ce=this._mouseDownRelativePosition(J,re);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(ce):this._scrollbarState.getDesiredScrollPositionFromOffset(ce)),te.leftButton&&(te.preventDefault(),this._sliderMouseDown(te,()=>{}))}_sliderMouseDown(te,J){const re=this._sliderMousePosition(te),ce=this._sliderOrthogonalMousePosition(te),ve=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(te.target,te.buttons,M.e,Ie=>{const We=this._sliderOrthogonalMousePosition(Ie),Ue=Math.abs(We-ce);if(b.ED&&Ue>140)return void this._setDesiredScrollPositionNow(ve.getScrollPosition());const Ce=this._sliderMousePosition(Ie)-re;this._setDesiredScrollPositionNow(ve.getDesiredScrollPositionFromDelta(Ce))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),J()}),this._host.onDragStart()}_setDesiredScrollPositionNow(te){const J={};this.writeScrollPosition(J,te),this._scrollable.setScrollPositionNow(J)}updateScrollbarSize(te){this._updateScrollbarSize(te),this._scrollbarState.setScrollbarSize(te),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class z{constructor(te,J,re,ce,ve,Ie){this._scrollbarSize=Math.round(J),this._oppositeScrollbarSize=Math.round(re),this._arrowSize=Math.round(te),this._visibleSize=ce,this._scrollSize=ve,this._scrollPosition=Ie,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new z(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(te){const J=Math.round(te);return this._visibleSize!==J&&(this._visibleSize=J,this._refreshComputedValues(),!0)}setScrollSize(te){const J=Math.round(te);return this._scrollSize!==J&&(this._scrollSize=J,this._refreshComputedValues(),!0)}setScrollPosition(te){const J=Math.round(te);return this._scrollPosition!==J&&(this._scrollPosition=J,this._refreshComputedValues(),!0)}setScrollbarSize(te){this._scrollbarSize=Math.round(te)}setOppositeScrollbarSize(te){this._oppositeScrollbarSize=Math.round(te)}static _computeValues(te,J,re,ce,ve){const Ie=Math.max(0,re-te),We=Math.max(0,Ie-2*J),Ue=ce>0&&ce>re;if(!Ue)return{computedAvailableSize:Math.round(Ie),computedIsNeeded:Ue,computedSliderSize:Math.round(We),computedSliderRatio:0,computedSliderPosition:0};const ue=Math.round(Math.max(20,Math.floor(re*We/ce))),Ce=(We-ue)/(ce-re),Ae=ve*Ce;return{computedAvailableSize:Math.round(Ie),computedIsNeeded:Ue,computedSliderSize:Math.round(ue),computedSliderRatio:Ce,computedSliderPosition:Math.round(Ae)}}_refreshComputedValues(){const te=z._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=te.computedAvailableSize,this._computedIsNeeded=te.computedIsNeeded,this._computedSliderSize=te.computedSliderSize,this._computedSliderRatio=te.computedSliderRatio,this._computedSliderPosition=te.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(te){return this._computedIsNeeded?Math.round((te-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(te){if(!this._computedIsNeeded)return 0;let re=this._scrollPosition;return te-this._arrowSize<this._computedSliderPosition?re-=this._visibleSize:re+=this._visibleSize,re}getDesiredScrollPositionFromDelta(te){return this._computedIsNeeded?Math.round((this._computedSliderPosition+te)/this._computedSliderRatio):0}}var L=p(78968);class N extends f{constructor(te,J,re){const ce=te.getScrollDimensions(),ve=te.getCurrentScrollPosition();if(super({lazyRender:J.lazyRender,host:re,scrollbarState:new z(J.horizontalHasArrows?J.arrowSize:0,2===J.horizontal?0:J.horizontalScrollbarSize,2===J.vertical?0:J.verticalScrollbarSize,ce.width,ce.scrollWidth,ve.scrollLeft),visibility:J.horizontal,extraScrollbarClassName:"horizontal",scrollable:te,scrollByPage:J.scrollByPage}),J.horizontalHasArrows){const Ie=(J.arrowSize-11)/2,We=(J.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:L.lA.scrollbarButtonLeft,top:We,left:Ie,bottom:void 0,right:void 0,bgWidth:J.arrowSize,bgHeight:J.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new W.q(null,1,0))}),this._createArrow({className:"scra",icon:L.lA.scrollbarButtonRight,top:We,left:void 0,bottom:void 0,right:Ie,bgWidth:J.arrowSize,bgHeight:J.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new W.q(null,-1,0))})}this._createSlider(Math.floor((J.horizontalScrollbarSize-J.horizontalSliderSize)/2),0,void 0,J.horizontalSliderSize)}_updateSlider(te,J){this.slider.setWidth(te),this.slider.setLeft(J)}_renderDomNode(te,J){this.domNode.setWidth(te),this.domNode.setHeight(J),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(te){return this._shouldRender=this._onElementScrollSize(te.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(te.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(te.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(te,J){return te}_sliderMousePosition(te){return te.posx}_sliderOrthogonalMousePosition(te){return te.posy}_updateScrollbarSize(te){this.slider.setHeight(te)}writeScrollPosition(te,J){te.scrollLeft=J}updateOptions(te){this.updateScrollbarSize(2===te.horizontal?0:te.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===te.vertical?0:te.verticalScrollbarSize),this._visibilityController.setVisibility(te.horizontal),this._scrollByPage=te.scrollByPage}}class Z extends f{constructor(te,J,re){const ce=te.getScrollDimensions(),ve=te.getCurrentScrollPosition();if(super({lazyRender:J.lazyRender,host:re,scrollbarState:new z(J.verticalHasArrows?J.arrowSize:0,2===J.vertical?0:J.verticalScrollbarSize,0,ce.height,ce.scrollHeight,ve.scrollTop),visibility:J.vertical,extraScrollbarClassName:"vertical",scrollable:te,scrollByPage:J.scrollByPage}),J.verticalHasArrows){const Ie=(J.arrowSize-11)/2,We=(J.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:L.lA.scrollbarButtonUp,top:Ie,left:We,bottom:void 0,right:void 0,bgWidth:J.verticalScrollbarSize,bgHeight:J.arrowSize,onActivate:()=>this._host.onMouseWheel(new W.q(null,0,1))}),this._createArrow({className:"scra",icon:L.lA.scrollbarButtonDown,top:void 0,left:We,bottom:Ie,right:void 0,bgWidth:J.verticalScrollbarSize,bgHeight:J.arrowSize,onActivate:()=>this._host.onMouseWheel(new W.q(null,0,-1))})}this._createSlider(0,Math.floor((J.verticalScrollbarSize-J.verticalSliderSize)/2),J.verticalSliderSize,void 0)}_updateSlider(te,J){this.slider.setHeight(te),this.slider.setTop(J)}_renderDomNode(te,J){this.domNode.setWidth(J),this.domNode.setHeight(te),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(te){return this._shouldRender=this._onElementScrollSize(te.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(te.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(te.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(te,J){return J}_sliderMousePosition(te){return te.posy}_sliderOrthogonalMousePosition(te){return te.posx}_updateScrollbarSize(te){this.slider.setWidth(te)}writeScrollPosition(te,J){te.scrollTop=J}updateOptions(te){this.updateScrollbarSize(2===te.vertical?0:te.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(te.vertical),this._scrollByPage=te.scrollByPage}}var O=p(71040),I=p(90443);p(3301);class de{constructor(te,J,re){this.timestamp=te,this.deltaX=J,this.deltaY=re,this.score=0}}class fe{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let te=1,J=0,re=1,ce=this._rear;for(;;){const ve=ce===this._front?te:Math.pow(2,-re);if(te-=ve,J+=this._memory[ce].score*ve,ce===this._front)break;ce=(this._capacity+ce-1)%this._capacity,re++}return J<=.5}accept(te,J,re){const ce=new de(te,J,re);ce.score=this._computeScore(ce),-1===this._front&&-1===this._rear?(this._memory[0]=ce,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=ce)}_computeScore(te){if(Math.abs(te.deltaX)>0&&Math.abs(te.deltaY)>0)return 1;let J=.5;return(!this._isAlmostInt(te.deltaX)||!this._isAlmostInt(te.deltaY))&&(J+=.25),Math.min(Math.max(J,0),1)}_isAlmostInt(te){return Math.abs(Math.round(te)-te)<.01}}fe.INSTANCE=new fe;class pe extends i.${constructor(te,J,re){super(),this._onScroll=this._register(new O.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new O.Q5),te.style.overflow="hidden",this._options=function(le){const te={lazyRender:void 0!==le.lazyRender&&le.lazyRender,className:void 0!==le.className?le.className:"",useShadows:void 0===le.useShadows||le.useShadows,handleMouseWheel:void 0===le.handleMouseWheel||le.handleMouseWheel,flipAxes:void 0!==le.flipAxes&&le.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==le.consumeMouseWheelIfScrollbarIsNeeded&&le.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==le.alwaysConsumeMouseWheel&&le.alwaysConsumeMouseWheel,scrollYToX:void 0!==le.scrollYToX&&le.scrollYToX,mouseWheelScrollSensitivity:void 0!==le.mouseWheelScrollSensitivity?le.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==le.fastScrollSensitivity?le.fastScrollSensitivity:5,scrollPredominantAxis:void 0===le.scrollPredominantAxis||le.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===le.mouseWheelSmoothScroll||le.mouseWheelSmoothScroll,arrowSize:void 0!==le.arrowSize?le.arrowSize:11,listenOnDomNode:void 0!==le.listenOnDomNode?le.listenOnDomNode:null,horizontal:void 0!==le.horizontal?le.horizontal:1,horizontalScrollbarSize:void 0!==le.horizontalScrollbarSize?le.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==le.horizontalSliderSize?le.horizontalSliderSize:0,horizontalHasArrows:void 0!==le.horizontalHasArrows&&le.horizontalHasArrows,vertical:void 0!==le.vertical?le.vertical:1,verticalScrollbarSize:void 0!==le.verticalScrollbarSize?le.verticalScrollbarSize:10,verticalHasArrows:void 0!==le.verticalHasArrows&&le.verticalHasArrows,verticalSliderSize:void 0!==le.verticalSliderSize?le.verticalSliderSize:0,scrollByPage:void 0!==le.scrollByPage&&le.scrollByPage};return te.horizontalSliderSize=void 0!==le.horizontalSliderSize?le.horizontalSliderSize:te.horizontalScrollbarSize,te.verticalSliderSize=void 0!==le.verticalSliderSize?le.verticalSliderSize:te.verticalScrollbarSize,b.dz&&(te.className+=" mac"),te}(J),this._scrollable=re,this._register(this._scrollable.onScroll(ve=>{this._onWillScroll.fire(ve),this._onDidScroll(ve),this._onScroll.fire(ve)}));const ce={onMouseWheel:ve=>this._onMouseWheel(ve),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Z(this._scrollable,this._options,ce)),this._horizontalScrollbar=this._register(new N(this._scrollable,this._options,ce)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(te),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,Y.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,Y.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,Y.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,ve=>this._onMouseOver(ve)),this.onnonbubblingmouseout(this._listenOnDomNode,ve=>this._onMouseOut(ve)),this._hideTimeout=this._register(new T._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,y.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(te){this._verticalScrollbar.delegateMouseDown(te)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(te){this._scrollable.setScrollDimensions(te,!1)}updateClassName(te){this._options.className=te,b.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(te){void 0!==te.handleMouseWheel&&(this._options.handleMouseWheel=te.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==te.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=te.mouseWheelScrollSensitivity),void 0!==te.fastScrollSensitivity&&(this._options.fastScrollSensitivity=te.fastScrollSensitivity),void 0!==te.scrollPredominantAxis&&(this._options.scrollPredominantAxis=te.scrollPredominantAxis),void 0!==te.horizontal&&(this._options.horizontal=te.horizontal),void 0!==te.vertical&&(this._options.vertical=te.vertical),void 0!==te.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=te.horizontalScrollbarSize),void 0!==te.verticalScrollbarSize&&(this._options.verticalScrollbarSize=te.verticalScrollbarSize),void 0!==te.scrollByPage&&(this._options.scrollByPage=te.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(te){this._mouseWheelToDispose.length>0!==te&&(this._mouseWheelToDispose=(0,y.B9)(this._mouseWheelToDispose),te)&&this._mouseWheelToDispose.push(g.nm(this._listenOnDomNode,g.tw.MOUSE_WHEEL,ce=>{this._onMouseWheel(new W.q(ce))},{passive:!1}))}_onMouseWheel(te){const J=fe.INSTANCE;{const ve=window.devicePixelRatio/(0,D.getZoomFactor)();b.ED||b.IJ?J.accept(Date.now(),te.deltaX/ve,te.deltaY/ve):J.accept(Date.now(),te.deltaX,te.deltaY)}let re=!1;if(te.deltaY||te.deltaX){let ve=te.deltaY*this._options.mouseWheelScrollSensitivity,Ie=te.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(ve)>=Math.abs(Ie)?Ie=0:ve=0),this._options.flipAxes&&([ve,Ie]=[Ie,ve]);const We=!b.dz&&te.browserEvent&&te.browserEvent.shiftKey;(this._options.scrollYToX||We)&&!Ie&&(Ie=ve,ve=0),te.browserEvent&&te.browserEvent.altKey&&(Ie*=this._options.fastScrollSensitivity,ve*=this._options.fastScrollSensitivity);const Ue=this._scrollable.getFutureScrollPosition();let ue={};if(ve){const Ce=50*ve,Ae=Ue.scrollTop-(Ce<0?Math.floor(Ce):Math.ceil(Ce));this._verticalScrollbar.writeScrollPosition(ue,Ae)}if(Ie){const Ce=50*Ie,Ae=Ue.scrollLeft-(Ce<0?Math.floor(Ce):Math.ceil(Ce));this._horizontalScrollbar.writeScrollPosition(ue,Ae)}ue=this._scrollable.validateScrollPosition(ue),(Ue.scrollLeft!==ue.scrollLeft||Ue.scrollTop!==ue.scrollTop)&&(this._options.mouseWheelSmoothScroll&&J.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(ue):this._scrollable.setScrollPositionNow(ue),re=!0)}let ce=re;!ce&&this._options.alwaysConsumeMouseWheel&&(ce=!0),!ce&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(ce=!0),ce&&(te.preventDefault(),te.stopPropagation())}_onDidScroll(te){this._shouldRender=this._horizontalScrollbar.onDidScroll(te)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(te)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const te=this._scrollable.getCurrentScrollPosition(),J=te.scrollTop>0,re=te.scrollLeft>0,ce=re?" left":"",ve=J?" top":"",Ie=re||J?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ce}`),this._topShadowDomNode.setClassName(`shadow${ve}`),this._topLeftShadowDomNode.setClassName(`shadow${Ie}${ve}${ce}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(te){this._mouseIsOver=!1,this._hide()}_onMouseOver(te){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class ye extends pe{constructor(te,J){(J=J||{}).mouseWheelSmoothScroll=!1;const re=new I.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ce=>g.jL(ce)});super(te,J,re),this._register(re)}setScrollPosition(te){this._scrollable.setScrollPositionNow(te)}}class ge extends pe{constructor(te,J,re){super(te,J,re)}setScrollPosition(te){te.reuseAnimation?this._scrollable.setScrollPositionSmooth(te,te.reuseAnimation):this._scrollable.setScrollPositionNow(te)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Q extends pe{constructor(te,J){(J=J||{}).mouseWheelSmoothScroll=!1;const re=new I.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ce=>g.jL(ce)});super(te,J,re),this._register(re),this._element=te,this.onScroll(ce=>{ce.scrollTopChanged&&(this._element.scrollTop=ce.scrollTop),ce.scrollLeftChanged&&(this._element.scrollLeft=ce.scrollLeft)}),this.scanDomNode()}setScrollPosition(te){this._scrollable.setScrollPositionNow(te)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},14410:(Fe,Ee,p)=>{p.d(Ee,{M:()=>L,z:()=>N});var D=p(86678),g=p(54789),Y=p(6491),W=p(89822),M=p(81897),i=p(71040),T=p(40189),B=p(31096),P=p(90443),y=p(99770);p(10050);const b={separatorBorder:M.Il.transparent};class x{constructor(O,I,$,j){this.container=O,this.view=I,this.disposable=j,this._cachedVisibleSize=void 0,"number"==typeof $?(this._size=$,this._cachedVisibleSize=void 0,O.classList.add("visible")):(this._size=0,this._cachedVisibleSize=$.cachedVisibleSize)}set size(O){this._size=O}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(O,I){O!==this.visible&&(O?(this.size=(0,B.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof I?I:this.size,this.size=0),this.container.classList.toggle("visible",O),this.view.setVisible&&this.view.setVisible(O))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(O){this.container.style.pointerEvents=O?"":"none"}layout(O,I){this.layoutContainer(O),this.view.layout(this.size,O,I)}dispose(){return this.disposable.dispose(),this.view}}class f extends x{layoutContainer(O){this.container.style.top=`${O}px`,this.container.style.height=`${this.size}px`}}class E extends x{layoutContainer(O){this.container.style.left=`${O}px`,this.container.style.width=`${this.size}px`}}var L,Z,z=(()=>{return(Z=z||(z={}))[Z.Idle=0]="Idle",Z[Z.Busy=1]="Busy",z;var Z})();(Z=L||(L={})).Distribute={type:"distribute"},Z.Split=function($){return{type:"split",index:$}},Z.Invisible=function($){return{type:"invisible",cachedVisibleSize:$}};class N extends T.JT{constructor(O,I={}){var $,j,G,oe,de;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=z.Idle,this._onDidSashChange=this._register(new i.Q5),this._onDidSashReset=this._register(new i.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==($=I.orientation)&&void 0!==$?$:0,this.inverseAltBehavior=null!==(j=I.inverseAltBehavior)&&void 0!==j&&j,this.proportionalLayout=null===(G=I.proportionalLayout)||void 0===G||G,this.getSashOrthogonalSize=I.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),O.appendChild(this.el),this.sashContainer=(0,D.R3)(this.el,(0,D.$)(".sash-container")),this.viewContainer=(0,D.$)(".split-view-container"),this.scrollable=new P.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:D.jL}),this.scrollableElement=this._register(new Y.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(oe=I.scrollbarVisibility)&&void 0!==oe?oe:1:2,horizontal:1===this.orientation?null!==(de=I.scrollbarVisibility)&&void 0!==de?de:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(fe=>{this.viewContainer.scrollTop=fe.scrollTop,this.viewContainer.scrollLeft=fe.scrollLeft})),(0,D.R3)(this.el,this.scrollableElement.getDomNode()),this.style(I.styles||b),I.descriptor&&(this.size=I.descriptor.size,I.descriptor.views.forEach((fe,pe)=>{const ye=y.o8(fe.visible)||fe.visible?fe.size:{type:"invisible",cachedVisibleSize:fe.size};this.doAddView(fe.view,ye,pe,!0)}),this.contentSize=this.viewItems.reduce((fe,pe)=>fe+pe.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(O){for(const I of this.sashItems)I.sash.orthogonalStartSash=O;this._orthogonalStartSash=O}set orthogonalEndSash(O){for(const I of this.sashItems)I.sash.orthogonalEndSash=O;this._orthogonalEndSash=O}set startSnappingEnabled(O){this._startSnappingEnabled!==O&&(this._startSnappingEnabled=O,this.updateSashEnablement())}set endSnappingEnabled(O){this._endSnappingEnabled!==O&&(this._endSnappingEnabled=O,this.updateSashEnablement())}style(O){O.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",O.separatorBorder.toString()))}addView(O,I,$=this.viewItems.length,j){this.doAddView(O,I,$,j)}layout(O,I){const $=Math.max(this.size,this.contentSize);if(this.size=O,this.layoutContext=I,this.proportions)for(let j=0;j<this.viewItems.length;j++){const G=this.viewItems[j];G.size=(0,B.uZ)(Math.round(this.proportions[j]*O),G.minimumSize,G.maximumSize)}else{const j=(0,W.w6)(this.viewItems.length),G=j.filter(de=>1===this.viewItems[de].priority),oe=j.filter(de=>2===this.viewItems[de].priority);this.resize(this.viewItems.length-1,O-$,void 0,G,oe)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(O=>O.size/this.contentSize))}onSashStart({sash:O,start:I,alt:$}){for(const de of this.viewItems)de.enabled=!1;const j=this.sashItems.findIndex(de=>de.sash===O),G=(0,T.F8)((0,D.nm)(document.body,"keydown",de=>oe(this.sashDragState.current,de.altKey)),(0,D.nm)(document.body,"keyup",()=>oe(this.sashDragState.current,!1))),oe=(de,fe)=>{const pe=this.viewItems.map(le=>le.size);let Q,ee,ye=Number.NEGATIVE_INFINITY,ge=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(fe=!fe),fe)if(j===this.sashItems.length-1){const te=this.viewItems[j];ye=(te.minimumSize-te.size)/2,ge=(te.maximumSize-te.size)/2}else{const te=this.viewItems[j+1];ye=(te.size-te.maximumSize)/2,ge=(te.size-te.minimumSize)/2}if(!fe){const le=(0,W.w6)(j,-1),te=(0,W.w6)(j+1,this.viewItems.length),J=le.reduce((Ce,Ae)=>Ce+(this.viewItems[Ae].minimumSize-pe[Ae]),0),re=le.reduce((Ce,Ae)=>Ce+(this.viewItems[Ae].viewMaximumSize-pe[Ae]),0),ce=0===te.length?Number.POSITIVE_INFINITY:te.reduce((Ce,Ae)=>Ce+(pe[Ae]-this.viewItems[Ae].minimumSize),0),ve=0===te.length?Number.NEGATIVE_INFINITY:te.reduce((Ce,Ae)=>Ce+(pe[Ae]-this.viewItems[Ae].viewMaximumSize),0),Ie=Math.max(J,ve),We=Math.min(ce,re),Ue=this.findFirstSnapIndex(le),ue=this.findFirstSnapIndex(te);if("number"==typeof Ue){const Ce=this.viewItems[Ue],Ae=Math.floor(Ce.viewMinimumSize/2);Q={index:Ue,limitDelta:Ce.visible?Ie-Ae:Ie+Ae,size:Ce.size}}if("number"==typeof ue){const Ce=this.viewItems[ue],Ae=Math.floor(Ce.viewMinimumSize/2);ee={index:ue,limitDelta:Ce.visible?We+Ae:We-Ae,size:Ce.size}}}this.sashDragState={start:de,current:de,index:j,sizes:pe,minDelta:ye,maxDelta:ge,alt:fe,snapBefore:Q,snapAfter:ee,disposable:G}};oe(I,$)}onSashChange({current:O}){const{index:I,start:$,sizes:j,alt:G,minDelta:oe,maxDelta:de,snapBefore:fe,snapAfter:pe}=this.sashDragState;this.sashDragState.current=O;const ge=this.resize(I,O-$,j,void 0,void 0,oe,de,fe,pe);if(G){const Q=I===this.sashItems.length-1,ee=this.viewItems.map(ve=>ve.size),te=this.viewItems[Q?I:I+1];this.resize(Q?I-1:I+1,-ge,ee,void 0,void 0,te.size-te.maximumSize,te.size-te.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(O){this._onDidSashChange.fire(O),this.sashDragState.disposable.dispose(),this.saveProportions();for(const I of this.viewItems)I.enabled=!0}onViewChange(O,I){const $=this.viewItems.indexOf(O);$<0||$>=this.viewItems.length||(I=(0,B.uZ)(I="number"==typeof I?I:O.size,O.minimumSize,O.maximumSize),this.inverseAltBehavior&&$>0?(this.resize($-1,Math.floor((O.size-I)/2)),this.distributeEmptySpace(),this.layoutViews()):(O.size=I,this.relayout([$],void 0)))}resizeView(O,I){if(this.state!==z.Idle)throw new Error("Cant modify splitview");if(this.state=z.Busy,O<0||O>=this.viewItems.length)return;const $=(0,W.w6)(this.viewItems.length).filter(de=>de!==O),j=[...$.filter(de=>1===this.viewItems[de].priority),O],G=$.filter(de=>2===this.viewItems[de].priority),oe=this.viewItems[O];I=Math.round(I),I=(0,B.uZ)(I,oe.minimumSize,Math.min(oe.maximumSize,this.size)),oe.size=I,this.relayout(j,G),this.state=z.Idle}distributeViewSizes(){const O=[];let I=0;for(const de of this.viewItems)de.maximumSize-de.minimumSize>0&&(O.push(de),I+=de.size);const $=Math.floor(I/O.length);for(const de of O)de.size=(0,B.uZ)($,de.minimumSize,de.maximumSize);const j=(0,W.w6)(this.viewItems.length),G=j.filter(de=>1===this.viewItems[de].priority),oe=j.filter(de=>2===this.viewItems[de].priority);this.relayout(G,oe)}getViewSize(O){return O<0||O>=this.viewItems.length?-1:this.viewItems[O].size}doAddView(O,I,$=this.viewItems.length,j){if(this.state!==z.Idle)throw new Error("Cant modify splitview");this.state=z.Busy;const G=(0,D.$)(".split-view-view");$===this.viewItems.length?this.viewContainer.appendChild(G):this.viewContainer.insertBefore(G,this.viewContainer.children.item($));const oe=O.onDidChange(Q=>this.onViewChange(ye,Q)),de=(0,T.OF)(()=>this.viewContainer.removeChild(G)),fe=(0,T.F8)(oe,de);let pe;pe="number"==typeof I?I:"split"===I.type?this.getViewSize(I.index)/2:"invisible"===I.type?{cachedVisibleSize:I.cachedVisibleSize}:O.minimumSize;const ye=0===this.orientation?new f(G,O,pe,fe):new E(G,O,pe,fe);if(this.viewItems.splice($,0,ye),this.viewItems.length>1){let Q={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const ee=0===this.orientation?new g.g(this.sashContainer,{getHorizontalSashTop:Ce=>this.getSashPosition(Ce),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},Q),{orientation:1})):new g.g(this.sashContainer,{getVerticalSashLeft:Ce=>this.getSashPosition(Ce),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},Q),{orientation:0})),le=0===this.orientation?Ce=>({sash:ee,start:Ce.startY,current:Ce.currentY,alt:Ce.altKey}):Ce=>({sash:ee,start:Ce.startX,current:Ce.currentX,alt:Ce.altKey}),J=i.ju.map(ee.onDidStart,le)(this.onSashStart,this),ce=i.ju.map(ee.onDidChange,le)(this.onSashChange,this),Ie=i.ju.map(ee.onDidEnd,()=>this.sashItems.findIndex(Ce=>Ce.sash===ee))(this.onSashEnd,this),We=ee.onDidReset(()=>{const Ce=this.sashItems.findIndex(st=>st.sash===ee),Ae=(0,W.w6)(Ce,-1),et=(0,W.w6)(Ce+1,this.viewItems.length),Ye=this.findFirstSnapIndex(Ae),Pe=this.findFirstSnapIndex(et);"number"==typeof Ye&&!this.viewItems[Ye].visible||"number"==typeof Pe&&!this.viewItems[Pe].visible||this._onDidSashReset.fire(Ce)}),Ue=(0,T.F8)(J,ce,Ie,We,ee);this.sashItems.splice($-1,0,{sash:ee,disposable:Ue})}let ge;G.appendChild(O.element),"number"!=typeof I&&"split"===I.type&&(ge=[I.index]),j||this.relayout([$],ge),this.state=z.Idle,!j&&"number"!=typeof I&&"distribute"===I.type&&this.distributeViewSizes()}relayout(O,I){const $=this.viewItems.reduce((j,G)=>j+G.size,0);this.resize(this.viewItems.length-1,this.size-$,void 0,O,I),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(O,I,$=this.viewItems.map(ye=>ye.size),j,G,oe=Number.NEGATIVE_INFINITY,de=Number.POSITIVE_INFINITY,fe,pe){if(O<0||O>=this.viewItems.length)return 0;const ye=(0,W.w6)(O,-1),ge=(0,W.w6)(O+1,this.viewItems.length);if(G)for(const ue of G)(0,W.zI)(ye,ue),(0,W.zI)(ge,ue);if(j)for(const ue of j)(0,W.al)(ye,ue),(0,W.al)(ge,ue);const Q=ye.map(ue=>this.viewItems[ue]),ee=ye.map(ue=>$[ue]),le=ge.map(ue=>this.viewItems[ue]),te=ge.map(ue=>$[ue]),J=ye.reduce((ue,Ce)=>ue+(this.viewItems[Ce].minimumSize-$[Ce]),0),re=ye.reduce((ue,Ce)=>ue+(this.viewItems[Ce].maximumSize-$[Ce]),0),ce=0===ge.length?Number.POSITIVE_INFINITY:ge.reduce((ue,Ce)=>ue+($[Ce]-this.viewItems[Ce].minimumSize),0),ve=0===ge.length?Number.NEGATIVE_INFINITY:ge.reduce((ue,Ce)=>ue+($[Ce]-this.viewItems[Ce].maximumSize),0),Ie=Math.max(J,ve,oe),We=Math.min(ce,re,de);let Ue=!1;if(fe){const ue=this.viewItems[fe.index],Ce=I>=fe.limitDelta;Ue=Ce!==ue.visible,ue.setVisible(Ce,fe.size)}if(!Ue&&pe){const ue=this.viewItems[pe.index],Ce=I<pe.limitDelta;Ue=Ce!==ue.visible,ue.setVisible(Ce,pe.size)}if(Ue)return this.resize(O,I,$,j,G,oe,de);for(let ue=0,Ce=I=(0,B.uZ)(I,Ie,We);ue<Q.length;ue++){const Ae=Q[ue],et=(0,B.uZ)(ee[ue]+Ce,Ae.minimumSize,Ae.maximumSize);Ce-=et-ee[ue],Ae.size=et}for(let ue=0,Ce=I;ue<le.length;ue++){const Ae=le[ue],et=(0,B.uZ)(te[ue]-Ce,Ae.minimumSize,Ae.maximumSize);Ce+=et-te[ue],Ae.size=et}return I}distributeEmptySpace(O){const I=this.viewItems.reduce((de,fe)=>de+fe.size,0);let $=this.size-I;const j=(0,W.w6)(this.viewItems.length-1,-1),G=j.filter(de=>1===this.viewItems[de].priority),oe=j.filter(de=>2===this.viewItems[de].priority);for(const de of oe)(0,W.zI)(j,de);for(const de of G)(0,W.al)(j,de);"number"==typeof O&&(0,W.al)(j,O);for(let de=0;0!==$&&de<j.length;de++){const fe=this.viewItems[j[de]],pe=(0,B.uZ)(fe.size+$,fe.minimumSize,fe.maximumSize);$-=pe-fe.size,fe.size=pe}}layoutViews(){this.contentSize=this.viewItems.reduce((I,$)=>I+$.size,0);let O=0;for(const I of this.viewItems)I.layout(O,this.layoutContext),O+=I.size;this.sashItems.forEach(I=>I.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let O=!1;const I=this.viewItems.map(fe=>O=fe.size-fe.minimumSize>0||O);O=!1;const $=this.viewItems.map(fe=>O=fe.maximumSize-fe.size>0||O),j=[...this.viewItems].reverse();O=!1;const G=j.map(fe=>O=fe.size-fe.minimumSize>0||O).reverse();O=!1;const oe=j.map(fe=>O=fe.maximumSize-fe.size>0||O).reverse();let de=0;for(let fe=0;fe<this.sashItems.length;fe++){const{sash:pe}=this.sashItems[fe];de+=this.viewItems[fe].size;const ge=!(I[fe]&&oe[fe+1]),Q=!($[fe]&&G[fe+1]);if(ge&&Q){const ee=(0,W.w6)(fe,-1),le=(0,W.w6)(fe+1,this.viewItems.length),te=this.findFirstSnapIndex(ee),J=this.findFirstSnapIndex(le),ce="number"==typeof J&&!this.viewItems[J].visible;pe.state="number"==typeof te&&!this.viewItems[te].visible&&G[fe]&&(de>0||this.startSnappingEnabled)?1:ce&&I[fe]&&(de<this.contentSize||this.endSnappingEnabled)?2:0}else pe.state=ge&&!Q?1:!ge&&Q?2:3}}getSashPosition(O){let I=0;for(let $=0;$<this.sashItems.length;$++)if(I+=this.viewItems[$].size,this.sashItems[$].sash===O)return I;return 0}findFirstSnapIndex(O){for(const I of O){const $=this.viewItems[I];if($.visible&&$.snap)return I}for(const I of O){const $=this.viewItems[I];if($.visible&&$.maximumSize-$.minimumSize>0)return;if(!$.visible&&$.snap)return I}}dispose(){super.dispose(),(0,T.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(O=>O.disposable.dispose()),this.sashItems=[]}}},37450:(Fe,Ee,p)=>{p.d(Ee,{$:()=>i});var D=p(86678),g=p(714),Y=p(2886),W=p(23945),M=p(40189);class i extends M.JT{onclick(B,P){this._register(D.nm(B,D.tw.CLICK,y=>P(new Y.n(y))))}onmousedown(B,P){this._register(D.nm(B,D.tw.MOUSE_DOWN,y=>P(new Y.n(y))))}onmouseover(B,P){this._register(D.nm(B,D.tw.MOUSE_OVER,y=>P(new Y.n(y))))}onnonbubblingmouseout(B,P){this._register(D.j_(B,y=>P(new Y.n(y))))}onkeydown(B,P){this._register(D.nm(B,D.tw.KEY_DOWN,y=>P(new g.y(y))))}onkeyup(B,P){this._register(D.nm(B,D.tw.KEY_UP,y=>P(new g.y(y))))}oninput(B,P){this._register(D.nm(B,D.tw.INPUT,P))}onblur(B,P){this._register(D.nm(B,D.tw.BLUR,P))}onfocus(B,P){this._register(D.nm(B,D.tw.FOCUS,P))}ignoreGesture(B){W.o.ignoreTarget(B)}}},50955:(Fe,Ee,p)=>{p.d(Ee,{aU:()=>M,Wi:()=>i,Z0:()=>T,wY:()=>B,eZ:()=>P});var D=p(71040),g=p(40189),Y=p(12918),W=function(y,C,b,x){return new(b||(b=Promise))(function(E,z){function L(O){try{Z(x.next(O))}catch(I){z(I)}}function N(O){try{Z(x.throw(O))}catch(I){z(I)}}function Z(O){O.done?E(O.value):function(E){return E instanceof b?E:new b(function(z){z(E)})}(O.value).then(L,N)}Z((x=x.apply(y,C||[])).next())})};class M extends g.JT{constructor(C,b="",x="",f=!0,E){super(),this._onDidChange=this._register(new D.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=C,this._label=b,this._cssClass=x,this._enabled=f,this._actionCallback=E}get id(){return this._id}get label(){return this._label}set label(C){this._setLabel(C)}_setLabel(C){this._label!==C&&(this._label=C,this._onDidChange.fire({label:C}))}get tooltip(){return this._tooltip||""}set tooltip(C){this._setTooltip(C)}_setTooltip(C){this._tooltip!==C&&(this._tooltip=C,this._onDidChange.fire({tooltip:C}))}get class(){return this._cssClass}set class(C){this._setClass(C)}_setClass(C){this._cssClass!==C&&(this._cssClass=C,this._onDidChange.fire({class:C}))}get enabled(){return this._enabled}set enabled(C){this._setEnabled(C)}_setEnabled(C){this._enabled!==C&&(this._enabled=C,this._onDidChange.fire({enabled:C}))}get checked(){return this._checked}set checked(C){this._setChecked(C)}_setChecked(C){this._checked!==C&&(this._checked=C,this._onDidChange.fire({checked:C}))}run(C,b){return W(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(C))})}}class i extends g.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new D.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new D.Q5),this.onDidRun=this._onDidRun.event}run(C,b){return W(this,void 0,void 0,function*(){if(!C.enabled)return;let x;this._onBeforeRun.fire({action:C});try{yield this.runAction(C,b)}catch(f){x=f}this._onDidRun.fire({action:C,error:x})})}runAction(C,b){return W(this,void 0,void 0,function*(){yield C.run(b)})}}let T=(()=>{class y extends M{constructor(b){super(y.ID,b,b?"separator text":"separator"),this.checked=!1,this.enabled=!1}}return y.ID="vs.actions.separator",y})();class B{constructor(C,b,x,f){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=C,this.label=b,this.class=f,this._actions=x}get actions(){return this._actions}dispose(){}run(){return W(this,void 0,void 0,function*(){})}}let P=(()=>{class y extends M{constructor(){super(y.ID,Y.N("submenu.empty","(empty)"),void 0,!1)}}return y.ID="vs.actions.empty",y})()},89822:(Fe,Ee,p)=>{function D(ge,Q=0){return ge[ge.length-(1+Q)]}function g(ge){if(0===ge.length)throw new Error("Invalid tail call");return[ge.slice(0,ge.length-1),ge[ge.length-1]]}function Y(ge,Q,ee=((le,te)=>le===te)){if(ge===Q)return!0;if(!ge||!Q||ge.length!==Q.length)return!1;for(let le=0,te=ge.length;le<te;le++)if(!ee(ge[le],Q[le]))return!1;return!0}function W(ge,Q,ee){let le=0,te=ge.length-1;for(;le<=te;){const J=(le+te)/2|0,re=ee(ge[J],Q);if(re<0)le=J+1;else{if(!(re>0))return J;te=J-1}}return-(le+1)}function M(ge,Q){let ee=0,le=ge.length;if(0===le)return 0;for(;ee<le;){const te=Math.floor((ee+le)/2);Q(ge[te])?le=te:ee=te+1}return ee}function i(ge,Q,ee){if((ge|=0)>=Q.length)throw new TypeError("invalid index");let le=Q[Math.floor(Q.length*Math.random())],te=[],J=[],re=[];for(let ce of Q){const ve=ee(ce,le);ve<0?te.push(ce):ve>0?J.push(ce):re.push(ce)}return ge<te.length?i(ge,te,ee):ge<te.length+re.length?re[0]:i(ge-(te.length+re.length),J,ee)}function T(ge,Q){const ee=[];let le;for(const te of ge.slice(0).sort(Q))le&&0===Q(le[0],te)?le.push(te):(le=[te],ee.push(le));return ee}function B(ge){return ge.filter(Q=>!!Q)}function P(ge){return!Array.isArray(ge)||0===ge.length}function y(ge){return Array.isArray(ge)&&ge.length>0}function C(ge,Q=(ee=>ee)){const ee=new Set;return ge.filter(le=>{const te=Q(le);return!ee.has(te)&&(ee.add(te),!0)})}function b(ge,Q){const ee=function(ge,Q){for(let ee=ge.length-1;ee>=0;ee--)if(Q(ge[ee]))return ee;return-1}(ge,Q);if(-1!==ee)return ge[ee]}function f(ge,Q){return ge.length>0?ge[0]:Q}function E(ge){return[].concat(...ge)}function z(ge,Q){let ee="number"==typeof Q?ge:0;"number"==typeof Q?ee=ge:(ee=0,Q=ge);const le=[];if(ee<=Q)for(let te=ee;te<Q;te++)le.push(te);else for(let te=ee;te>Q;te--)le.push(te);return le}function L(ge,Q,ee){const le=ge.slice(0,Q),te=ge.slice(Q);return le.concat(ee,te)}function N(ge,Q){const ee=ge.indexOf(Q);ee>-1&&(ge.splice(ee,1),ge.unshift(Q))}function Z(ge,Q){const ee=ge.indexOf(Q);ee>-1&&(ge.splice(ee,1),ge.push(Q))}function O(ge){return Array.isArray(ge)?ge:[ge]}function $(ge,Q,ee,le){const te=j(ge,Q),J=ge.splice(te,ee);return function(ge,Q,ee){const le=j(ge,Q),te=ge.length,J=ee.length;ge.length=te+J;for(let re=te-1;re>=le;re--)ge[re+J]=ge[re];for(let re=0;re<J;re++)ge[re+le]=ee[re]}(ge,te,le),J}function j(ge,Q){return Q<0?Math.max(Q+ge.length,0):Math.min(Q,ge.length)}function G(ge,Q){return(ee,le)=>Q(ge(ee),ge(le))}p.d(Ee,{Gb:()=>D,JH:()=>g,fS:()=>Y,ry:()=>W,lG:()=>M,HW:()=>i,vM:()=>T,kX:()=>B,XY:()=>P,Of:()=>y,EB:()=>C,dF:()=>b,Xh:()=>f,xH:()=>E,w6:()=>z,Zv:()=>L,zI:()=>N,al:()=>Z,_2:()=>O,db:()=>$,tT:()=>G,fv:()=>oe,Dc:()=>de,jV:()=>fe,VJ:()=>pe,H9:()=>ye});const oe=(ge,Q)=>ge-Q;function de(ge,Q){if(0===ge.length)return;let ee=ge[0];for(let le=1;le<ge.length;le++){const te=ge[le];Q(te,ee)>0&&(ee=te)}return ee}function fe(ge,Q){if(0===ge.length)return;let ee=ge[0];for(let le=1;le<ge.length;le++){const te=ge[le];Q(te,ee)>=0&&(ee=te)}return ee}function pe(ge,Q){return de(ge,(ee,le)=>-Q(ee,le))}class ye{constructor(Q){this.items=Q,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(Q){let ee=this.firstIdx;for(;ee<this.items.length&&Q(this.items[ee]);)ee++;const le=ee===this.firstIdx?null:this.items.slice(this.firstIdx,ee);return this.firstIdx=ee,le}takeFromEndWhile(Q){let ee=this.lastIdx;for(;ee>=0&&Q(this.items[ee]);)ee--;const le=ee===this.lastIdx?null:this.items.slice(ee+1,this.lastIdx+1);return this.lastIdx=ee,le}peek(){return this.items[this.firstIdx]}dequeue(){const Q=this.items[this.firstIdx];return this.firstIdx++,Q}takeCount(Q){const ee=this.items.slice(this.firstIdx,this.firstIdx+Q);return this.firstIdx+=Q,ee}}},59126:(Fe,Ee,p)=>{function D(g,Y){if(!g)throw new Error(Y?`Assertion failed (${Y})`:"Assertion Failed")}p.d(Ee,{ok:()=>D})},89983:(Fe,Ee,p)=>{p.d(Ee,{J8:()=>B,PG:()=>P,eP:()=>y,ne:()=>f,vp:()=>E,rH:()=>z,Vs:()=>L,Vg:()=>N,Ps:()=>Z,_F:()=>O,zh:()=>I,pY:()=>$,To:()=>j,Ue:()=>G,CR:()=>oe,jT:()=>de,Aq:()=>fe,zS:()=>ye});var D=p(66607),g=p(13226),Y=p(71040),W=p(40189),M=p(70700),i=function(ge,Q,ee,le){return new(ee||(ee=Promise))(function(J,re){function ce(We){try{Ie(le.next(We))}catch(Ue){re(Ue)}}function ve(We){try{Ie(le.throw(We))}catch(Ue){re(Ue)}}function Ie(We){We.done?J(We.value):function(J){return J instanceof ee?J:new ee(function(re){re(J)})}(We.value).then(ce,ve)}Ie((le=le.apply(ge,Q||[])).next())})},T=function(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,Q=ge[Symbol.asyncIterator];return Q?Q.call(ge):(ge="function"==typeof __values?__values(ge):ge[Symbol.iterator](),ee={},le("next"),le("throw"),le("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function le(J){ee[J]=ge[J]&&function(re){return new Promise(function(ce,ve){!function(J,re,ce,ve){Promise.resolve(ve).then(function(Ie){J({value:Ie,done:ce})},re)}(ce,ve,(re=ge[J](re)).done,re.value)})}}};function B(ge){return!!ge&&"function"==typeof ge.then}function P(ge){const Q=new D.A,ee=ge(Q.token),le=new Promise((te,J)=>{const re=Q.token.onCancellationRequested(()=>{re.dispose(),Q.dispose(),J(new g.FU)});Promise.resolve(ee).then(ce=>{re.dispose(),Q.dispose(),te(ce)},ce=>{re.dispose(),Q.dispose(),J(ce)})});return new class{cancel(){Q.cancel()}then(te,J){return le.then(te,J)}catch(te){return this.then(void 0,te)}finally(te){return le.finally(te)}}}function y(ge,Q,ee){return new Promise((le,te)=>{const J=Q.onCancellationRequested(()=>{J.dispose(),le(ee)});ge.then(le,te).finally(()=>J.dispose())})}class C{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(Q){if(this.activePromise){if(this.queuedPromiseFactory=Q,!this.queuedPromise){const ee=()=>{this.queuedPromise=null;const le=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,le};this.queuedPromise=new Promise(le=>{this.activePromise.then(ee,ee).then(le)})}return new Promise((ee,le)=>{this.queuedPromise.then(ee,le)})}return this.activePromise=Q(),new Promise((ee,le)=>{this.activePromise.then(te=>{this.activePromise=null,ee(te)},te=>{this.activePromise=null,le(te)})})}}const f=Symbol("MicrotaskDelay");class E{constructor(Q){this.defaultDelay=Q,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(Q,ee=this.defaultDelay){this.task=Q,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((te,J)=>{this.doResolve=te,this.doReject=J}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const te=this.task;return this.task=null,te()}}));const le=()=>{var te;this.deferred=null,null===(te=this.doResolve)||void 0===te||te.call(this,null)};return this.deferred=ee===f?(ge=>{let Q=!0;return queueMicrotask(()=>{Q&&(Q=!1,ge())}),{isTriggered:()=>Q,dispose:()=>{Q=!1}}})(le):((ge,Q)=>{let ee=!0;const le=setTimeout(()=>{ee=!1,Q()},ge);return{isTriggered:()=>ee,dispose:()=>{clearTimeout(le),ee=!1}}})(ee,le),this.completionPromise}isTriggered(){var Q;return!!(null===(Q=this.deferred)||void 0===Q?void 0:Q.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new g.FU),this.completionPromise=null)}cancelTimeout(){var Q;null===(Q=this.deferred)||void 0===Q||Q.dispose(),this.deferred=null}dispose(){this.cancel()}}class z{constructor(Q){this.delayer=new E(Q),this.throttler=new C}trigger(Q,ee){return this.delayer.trigger(()=>this.throttler.queue(Q),ee)}dispose(){this.delayer.dispose()}}function L(ge,Q){return Q?new Promise((ee,le)=>{const te=setTimeout(()=>{J.dispose(),ee()},ge),J=Q.onCancellationRequested(()=>{clearTimeout(te),J.dispose(),le(new g.FU)})}):P(ee=>L(ge,ee))}function N(ge,Q=0){const ee=setTimeout(ge,Q);return(0,W.OF)(()=>clearTimeout(ee))}function Z(ge,Q=(le=>!!le),ee=null){let le=0;const te=ge.length,J=()=>{if(le>=te)return Promise.resolve(ee);const re=ge[le++];return Promise.resolve(re()).then(ve=>Q(ve)?Promise.resolve(ve):J())};return J()}class O{constructor(Q,ee){this._token=-1,"function"==typeof Q&&"number"==typeof ee&&this.setIfNotSet(Q,ee)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(Q,ee){this.cancel(),this._token=setTimeout(()=>{this._token=-1,Q()},ee)}setIfNotSet(Q,ee){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,Q()},ee))}}class I{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(Q,ee){this.cancel(),this._token=setInterval(()=>{Q()},ee)}}class ${constructor(Q,ee){this.timeoutToken=-1,this.runner=Q,this.timeout=ee,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(Q=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,Q)}get delay(){return this.timeout}set delay(Q){this.timeout=Q}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let j;j="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?ge=>{(0,M.fn)(()=>{if(Q)return;const ee=Date.now()+15;ge(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,ee-Date.now())}))});let Q=!1;return{dispose(){Q||(Q=!0)}}}:(ge,Q)=>{const ee=requestIdleCallback(ge,"number"==typeof Q?{timeout:Q}:void 0);let le=!1;return{dispose(){le||(le=!0,cancelIdleCallback(ee))}}};class G{constructor(Q){this._didRun=!1,this._executor=()=>{try{this._value=Q()}catch(ee){this._error=ee}finally{this._didRun=!0}},this._handle=j(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class oe{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((Q,ee)=>{this.completeCallback=Q,this.errorCallback=ee})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(Q){return new Promise(ee=>{this.completeCallback(Q),this.resolved=!0,ee()})}cancel(){new Promise(Q=>{this.errorCallback(new g.FU),this.rejected=!0,Q()})}}var de,ge;(ge=de||(de={})).settled=function(le){return i(this,void 0,void 0,function*(){let te;const J=yield Promise.all(le.map(re=>re.then(ce=>ce,ce=>{te||(te=ce)})));if(void 0!==te)throw te;return J})},ge.withAsyncBody=function(le){return new Promise((te,J)=>i(this,void 0,void 0,function*(){try{yield le(te,J)}catch(re){J(re)}}))};class fe{constructor(Q){this._state=0,this._results=[],this._error=null,this._onStateChanged=new Y.Q5,queueMicrotask(()=>i(this,void 0,void 0,function*(){const ee={emitOne:le=>this.emitOne(le),emitMany:le=>this.emitMany(le),reject:le=>this.reject(le)};try{yield Promise.resolve(Q(ee)),this.resolve()}catch(le){this.reject(le)}finally{ee.emitOne=void 0,ee.emitMany=void 0,ee.reject=void 0}}))}static fromArray(Q){return new fe(ee=>{ee.emitMany(Q)})}static fromPromise(Q){return new fe(ee=>i(this,void 0,void 0,function*(){ee.emitMany(yield Q)}))}static fromPromises(Q){return new fe(ee=>i(this,void 0,void 0,function*(){yield Promise.all(Q.map(le=>i(this,void 0,void 0,function*(){return ee.emitOne(yield le)})))}))}static merge(Q){return new fe(ee=>i(this,void 0,void 0,function*(){yield Promise.all(Q.map(le=>{var te,J;return i(this,void 0,void 0,function*(){var re,ce;try{for(te=T(le);!(J=yield te.next()).done;)ee.emitOne(J.value)}catch(ve){re={error:ve}}finally{try{J&&!J.done&&(ce=te.return)&&(yield ce.call(te))}finally{if(re)throw re.error}}})}))}))}[Symbol.asyncIterator](){let Q=0;return{next:()=>i(this,void 0,void 0,function*(){for(;;){if(2===this._state)throw this._error;if(Q<this._results.length)return{done:!1,value:this._results[Q++]};if(1===this._state)return{done:!0,value:void 0};yield Y.ju.toPromise(this._onStateChanged.event)}})}}static map(Q,ee){return new fe(le=>i(this,void 0,void 0,function*(){var te,J;try{for(var ce,re=T(Q);!(ce=yield re.next()).done;)le.emitOne(ee(ce.value))}catch(ve){te={error:ve}}finally{try{ce&&!ce.done&&(J=re.return)&&(yield J.call(re))}finally{if(te)throw te.error}}}))}map(Q){return fe.map(this,Q)}static filter(Q,ee){return new fe(le=>i(this,void 0,void 0,function*(){var te,J;try{for(var ce,re=T(Q);!(ce=yield re.next()).done;){const ve=ce.value;ee(ve)&&le.emitOne(ve)}}catch(ve){te={error:ve}}finally{try{ce&&!ce.done&&(J=re.return)&&(yield J.call(re))}finally{if(te)throw te.error}}}))}filter(Q){return fe.filter(this,Q)}static coalesce(Q){return fe.filter(Q,ee=>!!ee)}coalesce(){return fe.coalesce(this)}static toPromise(Q){var ee,le,te,J;return i(this,void 0,void 0,function*(){const re=[];try{for(ee=T(Q);!(le=yield ee.next()).done;)re.push(le.value)}catch(ce){te={error:ce}}finally{try{le&&!le.done&&(J=ee.return)&&(yield J.call(ee))}finally{if(te)throw te.error}}return re})}toPromise(){return fe.toPromise(this)}emitOne(Q){0===this._state&&(this._results.push(Q),this._onStateChanged.fire())}emitMany(Q){0===this._state&&(this._results=this._results.concat(Q),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(Q){0===this._state&&(this._state=2,this._error=Q,this._onStateChanged.fire())}}fe.EMPTY=fe.fromArray([]);class pe extends fe{constructor(Q,ee){super(ee),this._source=Q}cancel(){this._source.cancel()}}function ye(ge){const Q=new D.A,ee=ge(Q.token);return new pe(Q,le=>i(this,void 0,void 0,function*(){var te,J;const re=Q.token.onCancellationRequested(()=>{re.dispose(),Q.dispose(),le.reject(new g.FU)});try{try{for(var ve,ce=T(ee);!(ve=yield ce.next()).done;){if(Q.token.isCancellationRequested)return;le.emitOne(ve.value)}}catch(Ie){te={error:Ie}}finally{try{ve&&!ve.done&&(J=ce.return)&&(yield J.call(ce))}finally{if(te)throw te.error}}re.dispose(),Q.dispose()}catch(Ie){re.dispose(),Q.dispose(),le.reject(Ie)}}))}},90386:(Fe,Ee,p)=>{p.d(Ee,{KN:()=>Y,mP:()=>W,oq:()=>M,Ag:()=>i,T4:()=>T,Q$:()=>B,Cg:()=>P});const D="undefined"!=typeof Buffer;let g;class Y{constructor(C){this.buffer=C,this.byteLength=this.buffer.byteLength}static wrap(C){return D&&!Buffer.isBuffer(C)&&(C=Buffer.from(C.buffer,C.byteOffset,C.byteLength)),new Y(C)}toString(){return D?this.buffer.toString():(g||(g=new TextDecoder),g.decode(this.buffer))}}function W(y,C){return y[C+0]<<0>>>0|y[C+1]<<8>>>0}function M(y,C,b){y[b+0]=255&C,y[b+1]=255&(C>>>=8)}function i(y,C){return y[C]*Math.pow(2,24)+y[C+1]*Math.pow(2,16)+y[C+2]*Math.pow(2,8)+y[C+3]}function T(y,C,b){y[b+3]=C,y[b+2]=C>>>=8,y[b+1]=C>>>=8,y[b]=C>>>=8}function B(y,C){return y[C]}function P(y,C,b){y[b]=C}},66607:(Fe,Ee,p)=>{p.d(Ee,{T:()=>Y,A:()=>M});var D=p(71040);const g=Object.freeze(function(i,T){const B=setTimeout(i.bind(T),0);return{dispose(){clearTimeout(B)}}});var Y,i;(i=Y||(Y={})).isCancellationToken=function(B){return B===i.None||B===i.Cancelled||B instanceof W||!(!B||"object"!=typeof B)&&"boolean"==typeof B.isCancellationRequested&&"function"==typeof B.onCancellationRequested},i.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:D.ju.None}),i.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:g});class W{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?g:(this._emitter||(this._emitter=new D.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class M{constructor(T){this._token=void 0,this._parentListener=void 0,this._parentListener=T&&T.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new W),this._token}cancel(){this._token?this._token instanceof W&&this._token.cancel():this._token=Y.Cancelled}dispose(T=!1){T&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof W&&this._token.dispose():this._token=Y.None}}},78968:(Fe,Ee,p)=>{function D(W){return W?W.replace(/\$\((.*?)\)/g,(M,i)=>` ${i} `).trim():""}p.d(Ee,{JL:()=>D,lA:()=>g,dT:()=>Y});class g{constructor(M,i,T){this.id=M,this.definition=i,this.description=T,g._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return g._allCodicons}}var Y;g._allCodicons=[],g.add=new g("add",{fontCharacter:"\\ea60"}),g.plus=new g("plus",g.add.definition),g.gistNew=new g("gist-new",g.add.definition),g.repoCreate=new g("repo-create",g.add.definition),g.lightbulb=new g("lightbulb",{fontCharacter:"\\ea61"}),g.lightBulb=new g("light-bulb",{fontCharacter:"\\ea61"}),g.repo=new g("repo",{fontCharacter:"\\ea62"}),g.repoDelete=new g("repo-delete",{fontCharacter:"\\ea62"}),g.gistFork=new g("gist-fork",{fontCharacter:"\\ea63"}),g.repoForked=new g("repo-forked",{fontCharacter:"\\ea63"}),g.gitPullRequest=new g("git-pull-request",{fontCharacter:"\\ea64"}),g.gitPullRequestAbandoned=new g("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),g.recordKeys=new g("record-keys",{fontCharacter:"\\ea65"}),g.keyboard=new g("keyboard",{fontCharacter:"\\ea65"}),g.tag=new g("tag",{fontCharacter:"\\ea66"}),g.tagAdd=new g("tag-add",{fontCharacter:"\\ea66"}),g.tagRemove=new g("tag-remove",{fontCharacter:"\\ea66"}),g.person=new g("person",{fontCharacter:"\\ea67"}),g.personFollow=new g("person-follow",{fontCharacter:"\\ea67"}),g.personOutline=new g("person-outline",{fontCharacter:"\\ea67"}),g.personFilled=new g("person-filled",{fontCharacter:"\\ea67"}),g.gitBranch=new g("git-branch",{fontCharacter:"\\ea68"}),g.gitBranchCreate=new g("git-branch-create",{fontCharacter:"\\ea68"}),g.gitBranchDelete=new g("git-branch-delete",{fontCharacter:"\\ea68"}),g.sourceControl=new g("source-control",{fontCharacter:"\\ea68"}),g.mirror=new g("mirror",{fontCharacter:"\\ea69"}),g.mirrorPublic=new g("mirror-public",{fontCharacter:"\\ea69"}),g.star=new g("star",{fontCharacter:"\\ea6a"}),g.starAdd=new g("star-add",{fontCharacter:"\\ea6a"}),g.starDelete=new g("star-delete",{fontCharacter:"\\ea6a"}),g.starEmpty=new g("star-empty",{fontCharacter:"\\ea6a"}),g.comment=new g("comment",{fontCharacter:"\\ea6b"}),g.commentAdd=new g("comment-add",{fontCharacter:"\\ea6b"}),g.alert=new g("alert",{fontCharacter:"\\ea6c"}),g.warning=new g("warning",{fontCharacter:"\\ea6c"}),g.search=new g("search",{fontCharacter:"\\ea6d"}),g.searchSave=new g("search-save",{fontCharacter:"\\ea6d"}),g.logOut=new g("log-out",{fontCharacter:"\\ea6e"}),g.signOut=new g("sign-out",{fontCharacter:"\\ea6e"}),g.logIn=new g("log-in",{fontCharacter:"\\ea6f"}),g.signIn=new g("sign-in",{fontCharacter:"\\ea6f"}),g.eye=new g("eye",{fontCharacter:"\\ea70"}),g.eyeUnwatch=new g("eye-unwatch",{fontCharacter:"\\ea70"}),g.eyeWatch=new g("eye-watch",{fontCharacter:"\\ea70"}),g.circleFilled=new g("circle-filled",{fontCharacter:"\\ea71"}),g.primitiveDot=new g("primitive-dot",{fontCharacter:"\\ea71"}),g.closeDirty=new g("close-dirty",{fontCharacter:"\\ea71"}),g.debugBreakpoint=new g("debug-breakpoint",{fontCharacter:"\\ea71"}),g.debugBreakpointDisabled=new g("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),g.debugHint=new g("debug-hint",{fontCharacter:"\\ea71"}),g.primitiveSquare=new g("primitive-square",{fontCharacter:"\\ea72"}),g.edit=new g("edit",{fontCharacter:"\\ea73"}),g.pencil=new g("pencil",{fontCharacter:"\\ea73"}),g.info=new g("info",{fontCharacter:"\\ea74"}),g.issueOpened=new g("issue-opened",{fontCharacter:"\\ea74"}),g.gistPrivate=new g("gist-private",{fontCharacter:"\\ea75"}),g.gitForkPrivate=new g("git-fork-private",{fontCharacter:"\\ea75"}),g.lock=new g("lock",{fontCharacter:"\\ea75"}),g.mirrorPrivate=new g("mirror-private",{fontCharacter:"\\ea75"}),g.close=new g("close",{fontCharacter:"\\ea76"}),g.removeClose=new g("remove-close",{fontCharacter:"\\ea76"}),g.x=new g("x",{fontCharacter:"\\ea76"}),g.repoSync=new g("repo-sync",{fontCharacter:"\\ea77"}),g.sync=new g("sync",{fontCharacter:"\\ea77"}),g.clone=new g("clone",{fontCharacter:"\\ea78"}),g.desktopDownload=new g("desktop-download",{fontCharacter:"\\ea78"}),g.beaker=new g("beaker",{fontCharacter:"\\ea79"}),g.microscope=new g("microscope",{fontCharacter:"\\ea79"}),g.vm=new g("vm",{fontCharacter:"\\ea7a"}),g.deviceDesktop=new g("device-desktop",{fontCharacter:"\\ea7a"}),g.file=new g("file",{fontCharacter:"\\ea7b"}),g.fileText=new g("file-text",{fontCharacter:"\\ea7b"}),g.more=new g("more",{fontCharacter:"\\ea7c"}),g.ellipsis=new g("ellipsis",{fontCharacter:"\\ea7c"}),g.kebabHorizontal=new g("kebab-horizontal",{fontCharacter:"\\ea7c"}),g.mailReply=new g("mail-reply",{fontCharacter:"\\ea7d"}),g.reply=new g("reply",{fontCharacter:"\\ea7d"}),g.organization=new g("organization",{fontCharacter:"\\ea7e"}),g.organizationFilled=new g("organization-filled",{fontCharacter:"\\ea7e"}),g.organizationOutline=new g("organization-outline",{fontCharacter:"\\ea7e"}),g.newFile=new g("new-file",{fontCharacter:"\\ea7f"}),g.fileAdd=new g("file-add",{fontCharacter:"\\ea7f"}),g.newFolder=new g("new-folder",{fontCharacter:"\\ea80"}),g.fileDirectoryCreate=new g("file-directory-create",{fontCharacter:"\\ea80"}),g.trash=new g("trash",{fontCharacter:"\\ea81"}),g.trashcan=new g("trashcan",{fontCharacter:"\\ea81"}),g.history=new g("history",{fontCharacter:"\\ea82"}),g.clock=new g("clock",{fontCharacter:"\\ea82"}),g.folder=new g("folder",{fontCharacter:"\\ea83"}),g.fileDirectory=new g("file-directory",{fontCharacter:"\\ea83"}),g.symbolFolder=new g("symbol-folder",{fontCharacter:"\\ea83"}),g.logoGithub=new g("logo-github",{fontCharacter:"\\ea84"}),g.markGithub=new g("mark-github",{fontCharacter:"\\ea84"}),g.github=new g("github",{fontCharacter:"\\ea84"}),g.terminal=new g("terminal",{fontCharacter:"\\ea85"}),g.console=new g("console",{fontCharacter:"\\ea85"}),g.repl=new g("repl",{fontCharacter:"\\ea85"}),g.zap=new g("zap",{fontCharacter:"\\ea86"}),g.symbolEvent=new g("symbol-event",{fontCharacter:"\\ea86"}),g.error=new g("error",{fontCharacter:"\\ea87"}),g.stop=new g("stop",{fontCharacter:"\\ea87"}),g.variable=new g("variable",{fontCharacter:"\\ea88"}),g.symbolVariable=new g("symbol-variable",{fontCharacter:"\\ea88"}),g.array=new g("array",{fontCharacter:"\\ea8a"}),g.symbolArray=new g("symbol-array",{fontCharacter:"\\ea8a"}),g.symbolModule=new g("symbol-module",{fontCharacter:"\\ea8b"}),g.symbolPackage=new g("symbol-package",{fontCharacter:"\\ea8b"}),g.symbolNamespace=new g("symbol-namespace",{fontCharacter:"\\ea8b"}),g.symbolObject=new g("symbol-object",{fontCharacter:"\\ea8b"}),g.symbolMethod=new g("symbol-method",{fontCharacter:"\\ea8c"}),g.symbolFunction=new g("symbol-function",{fontCharacter:"\\ea8c"}),g.symbolConstructor=new g("symbol-constructor",{fontCharacter:"\\ea8c"}),g.symbolBoolean=new g("symbol-boolean",{fontCharacter:"\\ea8f"}),g.symbolNull=new g("symbol-null",{fontCharacter:"\\ea8f"}),g.symbolNumeric=new g("symbol-numeric",{fontCharacter:"\\ea90"}),g.symbolNumber=new g("symbol-number",{fontCharacter:"\\ea90"}),g.symbolStructure=new g("symbol-structure",{fontCharacter:"\\ea91"}),g.symbolStruct=new g("symbol-struct",{fontCharacter:"\\ea91"}),g.symbolParameter=new g("symbol-parameter",{fontCharacter:"\\ea92"}),g.symbolTypeParameter=new g("symbol-type-parameter",{fontCharacter:"\\ea92"}),g.symbolKey=new g("symbol-key",{fontCharacter:"\\ea93"}),g.symbolText=new g("symbol-text",{fontCharacter:"\\ea93"}),g.symbolReference=new g("symbol-reference",{fontCharacter:"\\ea94"}),g.goToFile=new g("go-to-file",{fontCharacter:"\\ea94"}),g.symbolEnum=new g("symbol-enum",{fontCharacter:"\\ea95"}),g.symbolValue=new g("symbol-value",{fontCharacter:"\\ea95"}),g.symbolRuler=new g("symbol-ruler",{fontCharacter:"\\ea96"}),g.symbolUnit=new g("symbol-unit",{fontCharacter:"\\ea96"}),g.activateBreakpoints=new g("activate-breakpoints",{fontCharacter:"\\ea97"}),g.archive=new g("archive",{fontCharacter:"\\ea98"}),g.arrowBoth=new g("arrow-both",{fontCharacter:"\\ea99"}),g.arrowDown=new g("arrow-down",{fontCharacter:"\\ea9a"}),g.arrowLeft=new g("arrow-left",{fontCharacter:"\\ea9b"}),g.arrowRight=new g("arrow-right",{fontCharacter:"\\ea9c"}),g.arrowSmallDown=new g("arrow-small-down",{fontCharacter:"\\ea9d"}),g.arrowSmallLeft=new g("arrow-small-left",{fontCharacter:"\\ea9e"}),g.arrowSmallRight=new g("arrow-small-right",{fontCharacter:"\\ea9f"}),g.arrowSmallUp=new g("arrow-small-up",{fontCharacter:"\\eaa0"}),g.arrowUp=new g("arrow-up",{fontCharacter:"\\eaa1"}),g.bell=new g("bell",{fontCharacter:"\\eaa2"}),g.bold=new g("bold",{fontCharacter:"\\eaa3"}),g.book=new g("book",{fontCharacter:"\\eaa4"}),g.bookmark=new g("bookmark",{fontCharacter:"\\eaa5"}),g.debugBreakpointConditionalUnverified=new g("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),g.debugBreakpointConditional=new g("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),g.debugBreakpointConditionalDisabled=new g("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),g.debugBreakpointDataUnverified=new g("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),g.debugBreakpointData=new g("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),g.debugBreakpointDataDisabled=new g("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),g.debugBreakpointLogUnverified=new g("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),g.debugBreakpointLog=new g("debug-breakpoint-log",{fontCharacter:"\\eaab"}),g.debugBreakpointLogDisabled=new g("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),g.briefcase=new g("briefcase",{fontCharacter:"\\eaac"}),g.broadcast=new g("broadcast",{fontCharacter:"\\eaad"}),g.browser=new g("browser",{fontCharacter:"\\eaae"}),g.bug=new g("bug",{fontCharacter:"\\eaaf"}),g.calendar=new g("calendar",{fontCharacter:"\\eab0"}),g.caseSensitive=new g("case-sensitive",{fontCharacter:"\\eab1"}),g.check=new g("check",{fontCharacter:"\\eab2"}),g.checklist=new g("checklist",{fontCharacter:"\\eab3"}),g.chevronDown=new g("chevron-down",{fontCharacter:"\\eab4"}),g.dropDownButton=new g("drop-down-button",g.chevronDown.definition),g.chevronLeft=new g("chevron-left",{fontCharacter:"\\eab5"}),g.chevronRight=new g("chevron-right",{fontCharacter:"\\eab6"}),g.chevronUp=new g("chevron-up",{fontCharacter:"\\eab7"}),g.chromeClose=new g("chrome-close",{fontCharacter:"\\eab8"}),g.chromeMaximize=new g("chrome-maximize",{fontCharacter:"\\eab9"}),g.chromeMinimize=new g("chrome-minimize",{fontCharacter:"\\eaba"}),g.chromeRestore=new g("chrome-restore",{fontCharacter:"\\eabb"}),g.circleOutline=new g("circle-outline",{fontCharacter:"\\eabc"}),g.debugBreakpointUnverified=new g("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),g.circleSlash=new g("circle-slash",{fontCharacter:"\\eabd"}),g.circuitBoard=new g("circuit-board",{fontCharacter:"\\eabe"}),g.clearAll=new g("clear-all",{fontCharacter:"\\eabf"}),g.clippy=new g("clippy",{fontCharacter:"\\eac0"}),g.closeAll=new g("close-all",{fontCharacter:"\\eac1"}),g.cloudDownload=new g("cloud-download",{fontCharacter:"\\eac2"}),g.cloudUpload=new g("cloud-upload",{fontCharacter:"\\eac3"}),g.code=new g("code",{fontCharacter:"\\eac4"}),g.collapseAll=new g("collapse-all",{fontCharacter:"\\eac5"}),g.colorMode=new g("color-mode",{fontCharacter:"\\eac6"}),g.commentDiscussion=new g("comment-discussion",{fontCharacter:"\\eac7"}),g.compareChanges=new g("compare-changes",{fontCharacter:"\\eafd"}),g.creditCard=new g("credit-card",{fontCharacter:"\\eac9"}),g.dash=new g("dash",{fontCharacter:"\\eacc"}),g.dashboard=new g("dashboard",{fontCharacter:"\\eacd"}),g.database=new g("database",{fontCharacter:"\\eace"}),g.debugContinue=new g("debug-continue",{fontCharacter:"\\eacf"}),g.debugDisconnect=new g("debug-disconnect",{fontCharacter:"\\ead0"}),g.debugPause=new g("debug-pause",{fontCharacter:"\\ead1"}),g.debugRestart=new g("debug-restart",{fontCharacter:"\\ead2"}),g.debugStart=new g("debug-start",{fontCharacter:"\\ead3"}),g.debugStepInto=new g("debug-step-into",{fontCharacter:"\\ead4"}),g.debugStepOut=new g("debug-step-out",{fontCharacter:"\\ead5"}),g.debugStepOver=new g("debug-step-over",{fontCharacter:"\\ead6"}),g.debugStop=new g("debug-stop",{fontCharacter:"\\ead7"}),g.debug=new g("debug",{fontCharacter:"\\ead8"}),g.deviceCameraVideo=new g("device-camera-video",{fontCharacter:"\\ead9"}),g.deviceCamera=new g("device-camera",{fontCharacter:"\\eada"}),g.deviceMobile=new g("device-mobile",{fontCharacter:"\\eadb"}),g.diffAdded=new g("diff-added",{fontCharacter:"\\eadc"}),g.diffIgnored=new g("diff-ignored",{fontCharacter:"\\eadd"}),g.diffModified=new g("diff-modified",{fontCharacter:"\\eade"}),g.diffRemoved=new g("diff-removed",{fontCharacter:"\\eadf"}),g.diffRenamed=new g("diff-renamed",{fontCharacter:"\\eae0"}),g.diff=new g("diff",{fontCharacter:"\\eae1"}),g.discard=new g("discard",{fontCharacter:"\\eae2"}),g.editorLayout=new g("editor-layout",{fontCharacter:"\\eae3"}),g.emptyWindow=new g("empty-window",{fontCharacter:"\\eae4"}),g.exclude=new g("exclude",{fontCharacter:"\\eae5"}),g.extensions=new g("extensions",{fontCharacter:"\\eae6"}),g.eyeClosed=new g("eye-closed",{fontCharacter:"\\eae7"}),g.fileBinary=new g("file-binary",{fontCharacter:"\\eae8"}),g.fileCode=new g("file-code",{fontCharacter:"\\eae9"}),g.fileMedia=new g("file-media",{fontCharacter:"\\eaea"}),g.filePdf=new g("file-pdf",{fontCharacter:"\\eaeb"}),g.fileSubmodule=new g("file-submodule",{fontCharacter:"\\eaec"}),g.fileSymlinkDirectory=new g("file-symlink-directory",{fontCharacter:"\\eaed"}),g.fileSymlinkFile=new g("file-symlink-file",{fontCharacter:"\\eaee"}),g.fileZip=new g("file-zip",{fontCharacter:"\\eaef"}),g.files=new g("files",{fontCharacter:"\\eaf0"}),g.filter=new g("filter",{fontCharacter:"\\eaf1"}),g.flame=new g("flame",{fontCharacter:"\\eaf2"}),g.foldDown=new g("fold-down",{fontCharacter:"\\eaf3"}),g.foldUp=new g("fold-up",{fontCharacter:"\\eaf4"}),g.fold=new g("fold",{fontCharacter:"\\eaf5"}),g.folderActive=new g("folder-active",{fontCharacter:"\\eaf6"}),g.folderOpened=new g("folder-opened",{fontCharacter:"\\eaf7"}),g.gear=new g("gear",{fontCharacter:"\\eaf8"}),g.gift=new g("gift",{fontCharacter:"\\eaf9"}),g.gistSecret=new g("gist-secret",{fontCharacter:"\\eafa"}),g.gist=new g("gist",{fontCharacter:"\\eafb"}),g.gitCommit=new g("git-commit",{fontCharacter:"\\eafc"}),g.gitCompare=new g("git-compare",{fontCharacter:"\\eafd"}),g.gitMerge=new g("git-merge",{fontCharacter:"\\eafe"}),g.githubAction=new g("github-action",{fontCharacter:"\\eaff"}),g.githubAlt=new g("github-alt",{fontCharacter:"\\eb00"}),g.globe=new g("globe",{fontCharacter:"\\eb01"}),g.grabber=new g("grabber",{fontCharacter:"\\eb02"}),g.graph=new g("graph",{fontCharacter:"\\eb03"}),g.gripper=new g("gripper",{fontCharacter:"\\eb04"}),g.heart=new g("heart",{fontCharacter:"\\eb05"}),g.home=new g("home",{fontCharacter:"\\eb06"}),g.horizontalRule=new g("horizontal-rule",{fontCharacter:"\\eb07"}),g.hubot=new g("hubot",{fontCharacter:"\\eb08"}),g.inbox=new g("inbox",{fontCharacter:"\\eb09"}),g.issueClosed=new g("issue-closed",{fontCharacter:"\\eba4"}),g.issueReopened=new g("issue-reopened",{fontCharacter:"\\eb0b"}),g.issues=new g("issues",{fontCharacter:"\\eb0c"}),g.italic=new g("italic",{fontCharacter:"\\eb0d"}),g.jersey=new g("jersey",{fontCharacter:"\\eb0e"}),g.json=new g("json",{fontCharacter:"\\eb0f"}),g.kebabVertical=new g("kebab-vertical",{fontCharacter:"\\eb10"}),g.key=new g("key",{fontCharacter:"\\eb11"}),g.law=new g("law",{fontCharacter:"\\eb12"}),g.lightbulbAutofix=new g("lightbulb-autofix",{fontCharacter:"\\eb13"}),g.linkExternal=new g("link-external",{fontCharacter:"\\eb14"}),g.link=new g("link",{fontCharacter:"\\eb15"}),g.listOrdered=new g("list-ordered",{fontCharacter:"\\eb16"}),g.listUnordered=new g("list-unordered",{fontCharacter:"\\eb17"}),g.liveShare=new g("live-share",{fontCharacter:"\\eb18"}),g.loading=new g("loading",{fontCharacter:"\\eb19"}),g.location=new g("location",{fontCharacter:"\\eb1a"}),g.mailRead=new g("mail-read",{fontCharacter:"\\eb1b"}),g.mail=new g("mail",{fontCharacter:"\\eb1c"}),g.markdown=new g("markdown",{fontCharacter:"\\eb1d"}),g.megaphone=new g("megaphone",{fontCharacter:"\\eb1e"}),g.mention=new g("mention",{fontCharacter:"\\eb1f"}),g.milestone=new g("milestone",{fontCharacter:"\\eb20"}),g.mortarBoard=new g("mortar-board",{fontCharacter:"\\eb21"}),g.move=new g("move",{fontCharacter:"\\eb22"}),g.multipleWindows=new g("multiple-windows",{fontCharacter:"\\eb23"}),g.mute=new g("mute",{fontCharacter:"\\eb24"}),g.noNewline=new g("no-newline",{fontCharacter:"\\eb25"}),g.note=new g("note",{fontCharacter:"\\eb26"}),g.octoface=new g("octoface",{fontCharacter:"\\eb27"}),g.openPreview=new g("open-preview",{fontCharacter:"\\eb28"}),g.package_=new g("package",{fontCharacter:"\\eb29"}),g.paintcan=new g("paintcan",{fontCharacter:"\\eb2a"}),g.pin=new g("pin",{fontCharacter:"\\eb2b"}),g.play=new g("play",{fontCharacter:"\\eb2c"}),g.run=new g("run",{fontCharacter:"\\eb2c"}),g.plug=new g("plug",{fontCharacter:"\\eb2d"}),g.preserveCase=new g("preserve-case",{fontCharacter:"\\eb2e"}),g.preview=new g("preview",{fontCharacter:"\\eb2f"}),g.project=new g("project",{fontCharacter:"\\eb30"}),g.pulse=new g("pulse",{fontCharacter:"\\eb31"}),g.question=new g("question",{fontCharacter:"\\eb32"}),g.quote=new g("quote",{fontCharacter:"\\eb33"}),g.radioTower=new g("radio-tower",{fontCharacter:"\\eb34"}),g.reactions=new g("reactions",{fontCharacter:"\\eb35"}),g.references=new g("references",{fontCharacter:"\\eb36"}),g.refresh=new g("refresh",{fontCharacter:"\\eb37"}),g.regex=new g("regex",{fontCharacter:"\\eb38"}),g.remoteExplorer=new g("remote-explorer",{fontCharacter:"\\eb39"}),g.remote=new g("remote",{fontCharacter:"\\eb3a"}),g.remove=new g("remove",{fontCharacter:"\\eb3b"}),g.replaceAll=new g("replace-all",{fontCharacter:"\\eb3c"}),g.replace=new g("replace",{fontCharacter:"\\eb3d"}),g.repoClone=new g("repo-clone",{fontCharacter:"\\eb3e"}),g.repoForcePush=new g("repo-force-push",{fontCharacter:"\\eb3f"}),g.repoPull=new g("repo-pull",{fontCharacter:"\\eb40"}),g.repoPush=new g("repo-push",{fontCharacter:"\\eb41"}),g.report=new g("report",{fontCharacter:"\\eb42"}),g.requestChanges=new g("request-changes",{fontCharacter:"\\eb43"}),g.rocket=new g("rocket",{fontCharacter:"\\eb44"}),g.rootFolderOpened=new g("root-folder-opened",{fontCharacter:"\\eb45"}),g.rootFolder=new g("root-folder",{fontCharacter:"\\eb46"}),g.rss=new g("rss",{fontCharacter:"\\eb47"}),g.ruby=new g("ruby",{fontCharacter:"\\eb48"}),g.saveAll=new g("save-all",{fontCharacter:"\\eb49"}),g.saveAs=new g("save-as",{fontCharacter:"\\eb4a"}),g.save=new g("save",{fontCharacter:"\\eb4b"}),g.screenFull=new g("screen-full",{fontCharacter:"\\eb4c"}),g.screenNormal=new g("screen-normal",{fontCharacter:"\\eb4d"}),g.searchStop=new g("search-stop",{fontCharacter:"\\eb4e"}),g.server=new g("server",{fontCharacter:"\\eb50"}),g.settingsGear=new g("settings-gear",{fontCharacter:"\\eb51"}),g.settings=new g("settings",{fontCharacter:"\\eb52"}),g.shield=new g("shield",{fontCharacter:"\\eb53"}),g.smiley=new g("smiley",{fontCharacter:"\\eb54"}),g.sortPrecedence=new g("sort-precedence",{fontCharacter:"\\eb55"}),g.splitHorizontal=new g("split-horizontal",{fontCharacter:"\\eb56"}),g.splitVertical=new g("split-vertical",{fontCharacter:"\\eb57"}),g.squirrel=new g("squirrel",{fontCharacter:"\\eb58"}),g.starFull=new g("star-full",{fontCharacter:"\\eb59"}),g.starHalf=new g("star-half",{fontCharacter:"\\eb5a"}),g.symbolClass=new g("symbol-class",{fontCharacter:"\\eb5b"}),g.symbolColor=new g("symbol-color",{fontCharacter:"\\eb5c"}),g.symbolCustomColor=new g("symbol-customcolor",{fontCharacter:"\\eb5c"}),g.symbolConstant=new g("symbol-constant",{fontCharacter:"\\eb5d"}),g.symbolEnumMember=new g("symbol-enum-member",{fontCharacter:"\\eb5e"}),g.symbolField=new g("symbol-field",{fontCharacter:"\\eb5f"}),g.symbolFile=new g("symbol-file",{fontCharacter:"\\eb60"}),g.symbolInterface=new g("symbol-interface",{fontCharacter:"\\eb61"}),g.symbolKeyword=new g("symbol-keyword",{fontCharacter:"\\eb62"}),g.symbolMisc=new g("symbol-misc",{fontCharacter:"\\eb63"}),g.symbolOperator=new g("symbol-operator",{fontCharacter:"\\eb64"}),g.symbolProperty=new g("symbol-property",{fontCharacter:"\\eb65"}),g.wrench=new g("wrench",{fontCharacter:"\\eb65"}),g.wrenchSubaction=new g("wrench-subaction",{fontCharacter:"\\eb65"}),g.symbolSnippet=new g("symbol-snippet",{fontCharacter:"\\eb66"}),g.tasklist=new g("tasklist",{fontCharacter:"\\eb67"}),g.telescope=new g("telescope",{fontCharacter:"\\eb68"}),g.textSize=new g("text-size",{fontCharacter:"\\eb69"}),g.threeBars=new g("three-bars",{fontCharacter:"\\eb6a"}),g.thumbsdown=new g("thumbsdown",{fontCharacter:"\\eb6b"}),g.thumbsup=new g("thumbsup",{fontCharacter:"\\eb6c"}),g.tools=new g("tools",{fontCharacter:"\\eb6d"}),g.triangleDown=new g("triangle-down",{fontCharacter:"\\eb6e"}),g.triangleLeft=new g("triangle-left",{fontCharacter:"\\eb6f"}),g.triangleRight=new g("triangle-right",{fontCharacter:"\\eb70"}),g.triangleUp=new g("triangle-up",{fontCharacter:"\\eb71"}),g.twitter=new g("twitter",{fontCharacter:"\\eb72"}),g.unfold=new g("unfold",{fontCharacter:"\\eb73"}),g.unlock=new g("unlock",{fontCharacter:"\\eb74"}),g.unmute=new g("unmute",{fontCharacter:"\\eb75"}),g.unverified=new g("unverified",{fontCharacter:"\\eb76"}),g.verified=new g("verified",{fontCharacter:"\\eb77"}),g.versions=new g("versions",{fontCharacter:"\\eb78"}),g.vmActive=new g("vm-active",{fontCharacter:"\\eb79"}),g.vmOutline=new g("vm-outline",{fontCharacter:"\\eb7a"}),g.vmRunning=new g("vm-running",{fontCharacter:"\\eb7b"}),g.watch=new g("watch",{fontCharacter:"\\eb7c"}),g.whitespace=new g("whitespace",{fontCharacter:"\\eb7d"}),g.wholeWord=new g("whole-word",{fontCharacter:"\\eb7e"}),g.window=new g("window",{fontCharacter:"\\eb7f"}),g.wordWrap=new g("word-wrap",{fontCharacter:"\\eb80"}),g.zoomIn=new g("zoom-in",{fontCharacter:"\\eb81"}),g.zoomOut=new g("zoom-out",{fontCharacter:"\\eb82"}),g.listFilter=new g("list-filter",{fontCharacter:"\\eb83"}),g.listFlat=new g("list-flat",{fontCharacter:"\\eb84"}),g.listSelection=new g("list-selection",{fontCharacter:"\\eb85"}),g.selection=new g("selection",{fontCharacter:"\\eb85"}),g.listTree=new g("list-tree",{fontCharacter:"\\eb86"}),g.debugBreakpointFunctionUnverified=new g("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),g.debugBreakpointFunction=new g("debug-breakpoint-function",{fontCharacter:"\\eb88"}),g.debugBreakpointFunctionDisabled=new g("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),g.debugStackframeActive=new g("debug-stackframe-active",{fontCharacter:"\\eb89"}),g.debugStackframeDot=new g("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),g.debugStackframe=new g("debug-stackframe",{fontCharacter:"\\eb8b"}),g.debugStackframeFocused=new g("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),g.debugBreakpointUnsupported=new g("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),g.symbolString=new g("symbol-string",{fontCharacter:"\\eb8d"}),g.debugReverseContinue=new g("debug-reverse-continue",{fontCharacter:"\\eb8e"}),g.debugStepBack=new g("debug-step-back",{fontCharacter:"\\eb8f"}),g.debugRestartFrame=new g("debug-restart-frame",{fontCharacter:"\\eb90"}),g.callIncoming=new g("call-incoming",{fontCharacter:"\\eb92"}),g.callOutgoing=new g("call-outgoing",{fontCharacter:"\\eb93"}),g.menu=new g("menu",{fontCharacter:"\\eb94"}),g.expandAll=new g("expand-all",{fontCharacter:"\\eb95"}),g.feedback=new g("feedback",{fontCharacter:"\\eb96"}),g.groupByRefType=new g("group-by-ref-type",{fontCharacter:"\\eb97"}),g.ungroupByRefType=new g("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),g.account=new g("account",{fontCharacter:"\\eb99"}),g.bellDot=new g("bell-dot",{fontCharacter:"\\eb9a"}),g.debugConsole=new g("debug-console",{fontCharacter:"\\eb9b"}),g.library=new g("library",{fontCharacter:"\\eb9c"}),g.output=new g("output",{fontCharacter:"\\eb9d"}),g.runAll=new g("run-all",{fontCharacter:"\\eb9e"}),g.syncIgnored=new g("sync-ignored",{fontCharacter:"\\eb9f"}),g.pinned=new g("pinned",{fontCharacter:"\\eba0"}),g.githubInverted=new g("github-inverted",{fontCharacter:"\\eba1"}),g.debugAlt=new g("debug-alt",{fontCharacter:"\\eb91"}),g.serverProcess=new g("server-process",{fontCharacter:"\\eba2"}),g.serverEnvironment=new g("server-environment",{fontCharacter:"\\eba3"}),g.pass=new g("pass",{fontCharacter:"\\eba4"}),g.stopCircle=new g("stop-circle",{fontCharacter:"\\eba5"}),g.playCircle=new g("play-circle",{fontCharacter:"\\eba6"}),g.record=new g("record",{fontCharacter:"\\eba7"}),g.debugAltSmall=new g("debug-alt-small",{fontCharacter:"\\eba8"}),g.vmConnect=new g("vm-connect",{fontCharacter:"\\eba9"}),g.cloud=new g("cloud",{fontCharacter:"\\ebaa"}),g.merge=new g("merge",{fontCharacter:"\\ebab"}),g.exportIcon=new g("export",{fontCharacter:"\\ebac"}),g.graphLeft=new g("graph-left",{fontCharacter:"\\ebad"}),g.magnet=new g("magnet",{fontCharacter:"\\ebae"}),g.notebook=new g("notebook",{fontCharacter:"\\ebaf"}),g.redo=new g("redo",{fontCharacter:"\\ebb0"}),g.checkAll=new g("check-all",{fontCharacter:"\\ebb1"}),g.pinnedDirty=new g("pinned-dirty",{fontCharacter:"\\ebb2"}),g.passFilled=new g("pass-filled",{fontCharacter:"\\ebb3"}),g.circleLargeFilled=new g("circle-large-filled",{fontCharacter:"\\ebb4"}),g.circleLargeOutline=new g("circle-large-outline",{fontCharacter:"\\ebb5"}),g.combine=new g("combine",{fontCharacter:"\\ebb6"}),g.gather=new g("gather",{fontCharacter:"\\ebb6"}),g.table=new g("table",{fontCharacter:"\\ebb7"}),g.variableGroup=new g("variable-group",{fontCharacter:"\\ebb8"}),g.typeHierarchy=new g("type-hierarchy",{fontCharacter:"\\ebb9"}),g.typeHierarchySub=new g("type-hierarchy-sub",{fontCharacter:"\\ebba"}),g.typeHierarchySuper=new g("type-hierarchy-super",{fontCharacter:"\\ebbb"}),g.gitPullRequestCreate=new g("git-pull-request-create",{fontCharacter:"\\ebbc"}),g.runAbove=new g("run-above",{fontCharacter:"\\ebbd"}),g.runBelow=new g("run-below",{fontCharacter:"\\ebbe"}),g.notebookTemplate=new g("notebook-template",{fontCharacter:"\\ebbf"}),g.debugRerun=new g("debug-rerun",{fontCharacter:"\\ebc0"}),g.workspaceTrusted=new g("workspace-trusted",{fontCharacter:"\\ebc1"}),g.workspaceUntrusted=new g("workspace-untrusted",{fontCharacter:"\\ebc2"}),g.workspaceUnspecified=new g("workspace-unspecified",{fontCharacter:"\\ebc3"}),g.terminalCmd=new g("terminal-cmd",{fontCharacter:"\\ebc4"}),g.terminalDebian=new g("terminal-debian",{fontCharacter:"\\ebc5"}),g.terminalLinux=new g("terminal-linux",{fontCharacter:"\\ebc6"}),g.terminalPowershell=new g("terminal-powershell",{fontCharacter:"\\ebc7"}),g.terminalTmux=new g("terminal-tmux",{fontCharacter:"\\ebc8"}),g.terminalUbuntu=new g("terminal-ubuntu",{fontCharacter:"\\ebc9"}),g.terminalBash=new g("terminal-bash",{fontCharacter:"\\ebca"}),g.arrowSwap=new g("arrow-swap",{fontCharacter:"\\ebcb"}),g.copy=new g("copy",{fontCharacter:"\\ebcc"}),g.personAdd=new g("person-add",{fontCharacter:"\\ebcd"}),g.filterFilled=new g("filter-filled",{fontCharacter:"\\ebce"}),g.wand=new g("wand",{fontCharacter:"\\ebcf"}),g.debugLineByLine=new g("debug-line-by-line",{fontCharacter:"\\ebd0"}),g.inspect=new g("inspect",{fontCharacter:"\\ebd1"}),g.layers=new g("layers",{fontCharacter:"\\ebd2"}),g.layersDot=new g("layers-dot",{fontCharacter:"\\ebd3"}),g.layersActive=new g("layers-active",{fontCharacter:"\\ebd4"}),g.compass=new g("compass",{fontCharacter:"\\ebd5"}),g.compassDot=new g("compass-dot",{fontCharacter:"\\ebd6"}),g.compassActive=new g("compass-active",{fontCharacter:"\\ebd7"}),g.azure=new g("azure",{fontCharacter:"\\ebd8"}),g.issueDraft=new g("issue-draft",{fontCharacter:"\\ebd9"}),g.gitPullRequestClosed=new g("git-pull-request-closed",{fontCharacter:"\\ebda"}),g.gitPullRequestDraft=new g("git-pull-request-draft",{fontCharacter:"\\ebdb"}),g.debugAll=new g("debug-all",{fontCharacter:"\\ebdc"}),g.debugCoverage=new g("debug-coverage",{fontCharacter:"\\ebdd"}),g.runErrors=new g("run-errors",{fontCharacter:"\\ebde"}),g.folderLibrary=new g("folder-library",{fontCharacter:"\\ebdf"}),g.debugContinueSmall=new g("debug-continue-small",{fontCharacter:"\\ebe0"}),g.beakerStop=new g("beaker-stop",{fontCharacter:"\\ebe1"}),g.graphLine=new g("graph-line",{fontCharacter:"\\ebe2"}),g.graphScatter=new g("graph-scatter",{fontCharacter:"\\ebe3"}),g.pieChart=new g("pie-chart",{fontCharacter:"\\ebe4"}),g.bracket=new g("bracket",g.json.definition),g.bracketDot=new g("bracket-dot",{fontCharacter:"\\ebe5"}),g.bracketError=new g("bracket-error",{fontCharacter:"\\ebe6"}),g.lockSmall=new g("lock-small",{fontCharacter:"\\ebe7"}),g.azureDevops=new g("azure-devops",{fontCharacter:"\\ebe8"}),g.verifiedFilled=new g("verified-filled",{fontCharacter:"\\ebe9"}),g.newLine=new g("newline",{fontCharacter:"\\ebea"}),g.layout=new g("layout",{fontCharacter:"\\ebeb"}),g.layoutActivitybarLeft=new g("layout-activitybar-left",{fontCharacter:"\\ebec"}),g.layoutActivitybarRight=new g("layout-activitybar-right",{fontCharacter:"\\ebed"}),g.layoutPanelLeft=new g("layout-panel-left",{fontCharacter:"\\ebee"}),g.layoutPanelCenter=new g("layout-panel-center",{fontCharacter:"\\ebef"}),g.layoutPanelJustify=new g("layout-panel-justify",{fontCharacter:"\\ebf0"}),g.layoutPanelRight=new g("layout-panel-right",{fontCharacter:"\\ebf1"}),g.layoutPanel=new g("layout-panel",{fontCharacter:"\\ebf2"}),g.layoutSidebarLeft=new g("layout-sidebar-left",{fontCharacter:"\\ebf3"}),g.layoutSidebarRight=new g("layout-sidebar-right",{fontCharacter:"\\ebf4"}),g.layoutStatusbar=new g("layout-statusbar",{fontCharacter:"\\ebf5"}),g.layoutMenubar=new g("layout-menubar",{fontCharacter:"\\ebf6"}),g.layoutCentered=new g("layout-centered",{fontCharacter:"\\ebf7"}),g.target=new g("target",{fontCharacter:"\\ebf8"}),g.indent=new g("indent",{fontCharacter:"\\ebf9"}),g.recordSmall=new g("record-small",{fontCharacter:"\\ebfa"}),g.errorSmall=new g("error-small",{fontCharacter:"\\ebfb"}),g.arrowCircleDown=new g("arrow-circle-down",{fontCharacter:"\\ebfc"}),g.arrowCircleLeft=new g("arrow-circle-left",{fontCharacter:"\\ebfd"}),g.arrowCircleRight=new g("arrow-circle-right",{fontCharacter:"\\ebfe"}),g.arrowCircleUp=new g("arrow-circle-up",{fontCharacter:"\\ebff"}),g.dialogError=new g("dialog-error",g.error.definition),g.dialogWarning=new g("dialog-warning",g.warning.definition),g.dialogInfo=new g("dialog-info",g.info.definition),g.dialogClose=new g("dialog-close",g.close.definition),g.treeItemExpanded=new g("tree-item-expanded",g.chevronDown.definition),g.treeFilterOnTypeOn=new g("tree-filter-on-type-on",g.listFilter.definition),g.treeFilterOnTypeOff=new g("tree-filter-on-type-off",g.listSelection.definition),g.treeFilterClear=new g("tree-filter-clear",g.close.definition),g.treeItemLoading=new g("tree-item-loading",g.loading.definition),g.menuSelection=new g("menu-selection",g.check.definition),g.menuSubmenu=new g("menu-submenu",g.chevronRight.definition),g.menuBarMore=new g("menubar-more",g.more.definition),g.scrollbarButtonLeft=new g("scrollbar-button-left",g.triangleLeft.definition),g.scrollbarButtonRight=new g("scrollbar-button-right",g.triangleRight.definition),g.scrollbarButtonUp=new g("scrollbar-button-up",g.triangleUp.definition),g.scrollbarButtonDown=new g("scrollbar-button-down",g.triangleDown.definition),g.toolBarMore=new g("toolbar-more",g.more.definition),g.quickInputBack=new g("quick-input-back",g.arrowLeft.definition),function(W){W.iconNameSegment="[A-Za-z0-9]+",W.iconNameExpression="[A-Za-z0-9-]+",W.iconModifierExpression="~[A-Za-z]+",W.iconNameCharacter="[A-Za-z0-9~-]";const M=new RegExp(`^(${W.iconNameExpression})(${W.iconModifierExpression})?$`);function i(P){if(P instanceof g)return["codicon","codicon-"+P.id];const y=M.exec(P.id);if(!y)return i(g.error);let[,C,b]=y;const x=["codicon","codicon-"+C];return b&&x.push("codicon-modifier-"+b.substr(1)),x}W.asClassNameArray=i,W.asClassName=function(P){return i(P).join(" ")},W.asCSSSelector=function(P){return"."+i(P).join(".")}}(Y||(Y={}))},81530:(Fe,Ee,p)=>{p.d(Ee,{E:()=>g,r:()=>Y});const D=Object.prototype.hasOwnProperty;function g(W,M){for(let i in W)if(D.call(W,i)&&!1===M({key:i,value:W[i]},function(){delete W[i]}))return}class Y{constructor(){this.map=new Map}add(M,i){let T=this.map.get(M);T||(T=new Set,this.map.set(M,T)),T.add(i)}delete(M,i){const T=this.map.get(M);!T||(T.delete(i),0===T.size&&this.map.delete(M))}forEach(M,i){const T=this.map.get(M);!T||T.forEach(i)}}},81897:(Fe,Ee,p)=>{function D(i,T){const B=Math.pow(10,T);return Math.round(i*B)/B}p.d(Ee,{VS:()=>g,tx:()=>W,Il:()=>M});class g{constructor(T,B,P,y=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,T)),this.g=0|Math.min(255,Math.max(0,B)),this.b=0|Math.min(255,Math.max(0,P)),this.a=D(Math.max(Math.min(1,y),0),3)}static equals(T,B){return T.r===B.r&&T.g===B.g&&T.b===B.b&&T.a===B.a}}class Y{constructor(T,B,P,y){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,T),0),this.s=D(Math.max(Math.min(1,B),0),3),this.l=D(Math.max(Math.min(1,P),0),3),this.a=D(Math.max(Math.min(1,y),0),3)}static equals(T,B){return T.h===B.h&&T.s===B.s&&T.l===B.l&&T.a===B.a}static fromRGBA(T){const B=T.r/255,P=T.g/255,y=T.b/255,C=T.a,b=Math.max(B,P,y),x=Math.min(B,P,y);let f=0,E=0;const z=(x+b)/2,L=b-x;if(L>0){switch(E=Math.min(z<=.5?L/(2*z):L/(2-2*z),1),b){case B:f=(P-y)/L+(P<y?6:0);break;case P:f=(y-B)/L+2;break;case y:f=(B-P)/L+4}f*=60,f=Math.round(f)}return new Y(f,E,z,C)}static _hue2rgb(T,B,P){return P<0&&(P+=1),P>1&&(P-=1),P<1/6?T+6*(B-T)*P:P<.5?B:P<2/3?T+(B-T)*(2/3-P)*6:T}static toRGBA(T){const B=T.h/360,{s:P,l:y,a:C}=T;let b,x,f;if(0===P)b=x=f=y;else{const E=y<.5?y*(1+P):y+P-y*P,z=2*y-E;b=Y._hue2rgb(z,E,B+1/3),x=Y._hue2rgb(z,E,B),f=Y._hue2rgb(z,E,B-1/3)}return new g(Math.round(255*b),Math.round(255*x),Math.round(255*f),C)}}class W{constructor(T,B,P,y){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,T),0),this.s=D(Math.max(Math.min(1,B),0),3),this.v=D(Math.max(Math.min(1,P),0),3),this.a=D(Math.max(Math.min(1,y),0),3)}static equals(T,B){return T.h===B.h&&T.s===B.s&&T.v===B.v&&T.a===B.a}static fromRGBA(T){const B=T.r/255,P=T.g/255,y=T.b/255,C=Math.max(B,P,y),x=C-Math.min(B,P,y),f=0===C?0:x/C;let E;return E=0===x?0:C===B?((P-y)/x%6+6)%6:C===P?(y-B)/x+2:(B-P)/x+4,new W(Math.round(60*E),f,C,T.a)}static toRGBA(T){const{h:B,s:P,v:y,a:C}=T,b=y*P,x=b*(1-Math.abs(B/60%2-1)),f=y-b;let[E,z,L]=[0,0,0];return B<60?(E=b,z=x):B<120?(E=x,z=b):B<180?(z=b,L=x):B<240?(z=x,L=b):B<300?(E=x,L=b):B<=360&&(E=b,L=x),E=Math.round(255*(E+f)),z=Math.round(255*(z+f)),L=Math.round(255*(L+f)),new g(E,z,L,C)}}class M{constructor(T){if(!T)throw new Error("Color needs a value");if(T instanceof g)this.rgba=T;else if(T instanceof Y)this._hsla=T,this.rgba=Y.toRGBA(T);else{if(!(T instanceof W))throw new Error("Invalid color ctor argument");this._hsva=T,this.rgba=W.toRGBA(T)}}static fromHex(T){return M.Format.CSS.parseHex(T)||M.red}get hsla(){return this._hsla?this._hsla:Y.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:W.fromRGBA(this.rgba)}equals(T){return!!T&&g.equals(this.rgba,T.rgba)&&Y.equals(this.hsla,T.hsla)&&W.equals(this.hsva,T.hsva)}getRelativeLuminance(){return D(.2126*M._relativeLuminanceForComponent(this.rgba.r)+.7152*M._relativeLuminanceForComponent(this.rgba.g)+.0722*M._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(T){const B=T/255;return B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(T){return this.getRelativeLuminance()>T.getRelativeLuminance()}isDarkerThan(T){return this.getRelativeLuminance()<T.getRelativeLuminance()}lighten(T){return new M(new Y(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*T,this.hsla.a))}darken(T){return new M(new Y(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*T,this.hsla.a))}transparent(T){const{r:B,g:P,b:y,a:C}=this.rgba;return new M(new g(B,P,y,C*T))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new M(new g(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=M.Format.CSS.format(this)),this._toString}static getLighterColor(T,B,P){if(T.isLighterThan(B))return T;P=P||.5;const y=T.getRelativeLuminance(),C=B.getRelativeLuminance();return T.lighten(P=P*(C-y)/C)}static getDarkerColor(T,B,P){if(T.isDarkerThan(B))return T;P=P||.5;const y=T.getRelativeLuminance(),C=B.getRelativeLuminance();return T.darken(P=P*(y-C)/y)}}M.white=new M(new g(255,255,255,1)),M.black=new M(new g(0,0,0,1)),M.red=new M(new g(255,0,0,1)),M.blue=new M(new g(0,0,255,1)),M.green=new M(new g(0,255,0,1)),M.cyan=new M(new g(0,255,255,1)),M.lightgrey=new M(new g(211,211,211,1)),M.transparent=new M(new g(0,0,0,0)),function(i){let T;!function(B){let P;!function(y){function E(I){const $=I.toString(16);return 2!==$.length?"0"+$:$}function O(I){switch(I){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}y.formatRGB=function(I){return 1===I.rgba.a?`rgb(${I.rgba.r}, ${I.rgba.g}, ${I.rgba.b})`:i.Format.CSS.formatRGBA(I)},y.formatRGBA=function(I){return`rgba(${I.rgba.r}, ${I.rgba.g}, ${I.rgba.b}, ${+I.rgba.a.toFixed(2)})`},y.formatHSL=function(I){return 1===I.hsla.a?`hsl(${I.hsla.h}, ${(100*I.hsla.s).toFixed(2)}%, ${(100*I.hsla.l).toFixed(2)}%)`:i.Format.CSS.formatHSLA(I)},y.formatHSLA=function(I){return`hsla(${I.hsla.h}, ${(100*I.hsla.s).toFixed(2)}%, ${(100*I.hsla.l).toFixed(2)}%, ${I.hsla.a.toFixed(2)})`},y.formatHex=function(I){return`#${E(I.rgba.r)}${E(I.rgba.g)}${E(I.rgba.b)}`},y.formatHexA=function(I,$=!1){return $&&1===I.rgba.a?i.Format.CSS.formatHex(I):`#${E(I.rgba.r)}${E(I.rgba.g)}${E(I.rgba.b)}${E(Math.round(255*I.rgba.a))}`},y.format=function(I){return I.isOpaque()?i.Format.CSS.formatHex(I):i.Format.CSS.formatRGBA(I)},y.parseHex=function(I){const $=I.length;if(0===$||35!==I.charCodeAt(0))return null;if(7===$){const j=16*O(I.charCodeAt(1))+O(I.charCodeAt(2)),G=16*O(I.charCodeAt(3))+O(I.charCodeAt(4)),oe=16*O(I.charCodeAt(5))+O(I.charCodeAt(6));return new i(new g(j,G,oe,1))}if(9===$){const j=16*O(I.charCodeAt(1))+O(I.charCodeAt(2)),G=16*O(I.charCodeAt(3))+O(I.charCodeAt(4)),oe=16*O(I.charCodeAt(5))+O(I.charCodeAt(6)),de=16*O(I.charCodeAt(7))+O(I.charCodeAt(8));return new i(new g(j,G,oe,de/255))}if(4===$){const j=O(I.charCodeAt(1)),G=O(I.charCodeAt(2)),oe=O(I.charCodeAt(3));return new i(new g(16*j+j,16*G+G,16*oe+oe))}if(5===$){const j=O(I.charCodeAt(1)),G=O(I.charCodeAt(2)),oe=O(I.charCodeAt(3)),de=O(I.charCodeAt(4));return new i(new g(16*j+j,16*G+G,16*oe+oe,(16*de+de)/255))}return null}}(P=B.CSS||(B.CSS={}))}(T=i.Format||(i.Format={}))}(M||(M={}))},94456:(Fe,Ee,p)=>{function D(g,Y,W){let M=null,i=null;if("function"==typeof W.value?(M="value",i=W.value,0!==i.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof W.get&&(M="get",i=W.get),!i)throw new Error("not supported");const T=`$memoize$${Y}`;W[M]=function(...B){return this.hasOwnProperty(T)||Object.defineProperty(this,T,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,B)}),this[T]}}p.d(Ee,{H:()=>D})},87481:(Fe,Ee,p)=>{p.d(Ee,{Hs:()=>B,a$:()=>W});class D{constructor(y,C,b,x){this.originalStart=y,this.originalLength=C,this.modifiedStart=b,this.modifiedLength=x}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var g=p(11791);class Y{constructor(y){this.source=y}getElements(){const y=this.source,C=new Int32Array(y.length);for(let b=0,x=y.length;b<x;b++)C[b]=y.charCodeAt(b);return C}}function W(P,y,C){return new B(new Y(P),new Y(y)).ComputeDiff(C).changes}class M{static Assert(y,C){if(!y)throw new Error(C)}}class i{static Copy(y,C,b,x,f){for(let E=0;E<f;E++)b[x+E]=y[C+E]}static Copy2(y,C,b,x,f){for(let E=0;E<f;E++)b[x+E]=y[C+E]}}class T{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new D(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(y,C){this.m_originalStart=Math.min(this.m_originalStart,y),this.m_modifiedStart=Math.min(this.m_modifiedStart,C),this.m_originalCount++}AddModifiedElement(y,C){this.m_originalStart=Math.min(this.m_originalStart,y),this.m_modifiedStart=Math.min(this.m_modifiedStart,C),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class B{constructor(y,C,b=null){this.ContinueProcessingPredicate=b,this._originalSequence=y,this._modifiedSequence=C;const[x,f,E]=B._getElements(y),[z,L,N]=B._getElements(C);this._hasStrings=E&&N,this._originalStringElements=x,this._originalElementsOrHash=f,this._modifiedStringElements=z,this._modifiedElementsOrHash=L,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(y){return y.length>0&&"string"==typeof y[0]}static _getElements(y){const C=y.getElements();if(B._isStringArray(C)){const b=new Int32Array(C.length);for(let x=0,f=C.length;x<f;x++)b[x]=(0,g.Cv)(C[x],0);return[C,b,!0]}return C instanceof Int32Array?[[],C,!1]:[[],new Int32Array(C),!1]}ElementsAreEqual(y,C){return this._originalElementsOrHash[y]===this._modifiedElementsOrHash[C]&&(!this._hasStrings||this._originalStringElements[y]===this._modifiedStringElements[C])}ElementsAreStrictEqual(y,C){return!!this.ElementsAreEqual(y,C)&&B._getStrictElement(this._originalSequence,y)===B._getStrictElement(this._modifiedSequence,C)}static _getStrictElement(y,C){return"function"==typeof y.getStrictElement?y.getStrictElement(C):null}OriginalElementsAreEqual(y,C){return this._originalElementsOrHash[y]===this._originalElementsOrHash[C]&&(!this._hasStrings||this._originalStringElements[y]===this._originalStringElements[C])}ModifiedElementsAreEqual(y,C){return this._modifiedElementsOrHash[y]===this._modifiedElementsOrHash[C]&&(!this._hasStrings||this._modifiedStringElements[y]===this._modifiedStringElements[C])}ComputeDiff(y){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,y)}_ComputeDiff(y,C,b,x,f){const E=[!1];let z=this.ComputeDiffRecursive(y,C,b,x,E);return f&&(z=this.PrettifyChanges(z)),{quitEarly:E[0],changes:z}}ComputeDiffRecursive(y,C,b,x,f){for(f[0]=!1;y<=C&&b<=x&&this.ElementsAreEqual(y,b);)y++,b++;for(;C>=y&&x>=b&&this.ElementsAreEqual(C,x);)C--,x--;if(y>C||b>x){let O;return b<=x?(M.Assert(y===C+1,"originalStart should only be one more than originalEnd"),O=[new D(y,0,b,x-b+1)]):y<=C?(M.Assert(b===x+1,"modifiedStart should only be one more than modifiedEnd"),O=[new D(y,C-y+1,b,0)]):(M.Assert(y===C+1,"originalStart should only be one more than originalEnd"),M.Assert(b===x+1,"modifiedStart should only be one more than modifiedEnd"),O=[]),O}const E=[0],z=[0],L=this.ComputeRecursionPoint(y,C,b,x,E,z,f),N=E[0],Z=z[0];if(null!==L)return L;if(!f[0]){const O=this.ComputeDiffRecursive(y,N,b,Z,f);let I=[];return I=f[0]?[new D(N+1,C-(N+1)+1,Z+1,x-(Z+1)+1)]:this.ComputeDiffRecursive(N+1,C,Z+1,x,f),this.ConcatenateChanges(O,I)}return[new D(y,C-y+1,b,x-b+1)]}WALKTRACE(y,C,b,x,f,E,z,L,N,Z,O,I,$,j,G,oe,de,fe){let pe=null,ye=null,ge=new T,Q=C,ee=b,le=$[0]-oe[0]-x,te=-1073741824,J=this.m_forwardHistory.length-1;do{const re=le+y;re===Q||re<ee&&N[re-1]<N[re+1]?(j=(O=N[re+1])-le-x,O<te&&ge.MarkNextChange(),te=O,ge.AddModifiedElement(O+1,j),le=re+1-y):(j=(O=N[re-1]+1)-le-x,O<te&&ge.MarkNextChange(),te=O-1,ge.AddOriginalElement(O,j+1),le=re-1-y),J>=0&&(y=(N=this.m_forwardHistory[J])[0],Q=1,ee=N.length-1)}while(--J>=-1);if(pe=ge.getReverseChanges(),fe[0]){let re=$[0]+1,ce=oe[0]+1;if(null!==pe&&pe.length>0){const ve=pe[pe.length-1];re=Math.max(re,ve.getOriginalEnd()),ce=Math.max(ce,ve.getModifiedEnd())}ye=[new D(re,I-re+1,ce,G-ce+1)]}else{ge=new T,Q=E,ee=z,le=$[0]-oe[0]-L,te=1073741824,J=de?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const re=le+f;re===Q||re<ee&&Z[re-1]>=Z[re+1]?(j=(O=Z[re+1]-1)-le-L,O>te&&ge.MarkNextChange(),te=O+1,ge.AddOriginalElement(O+1,j+1),le=re+1-f):(j=(O=Z[re-1])-le-L,O>te&&ge.MarkNextChange(),te=O,ge.AddModifiedElement(O+1,j+1),le=re-1-f),J>=0&&(f=(Z=this.m_reverseHistory[J])[0],Q=1,ee=Z.length-1)}while(--J>=-1);ye=ge.getChanges()}return this.ConcatenateChanges(pe,ye)}ComputeRecursionPoint(y,C,b,x,f,E,z){let L=0,N=0,Z=0,O=0,I=0,$=0;y--,b--,f[0]=0,E[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const j=C-y+(x-b),G=j+1,oe=new Int32Array(G),de=new Int32Array(G),fe=x-b,pe=C-y,ye=y-b,ge=C-x,ee=(pe-fe)%2==0;oe[fe]=y,de[pe]=C,z[0]=!1;for(let le=1;le<=j/2+1;le++){let te=0,J=0;Z=this.ClipDiagonalBound(fe-le,le,fe,G),O=this.ClipDiagonalBound(fe+le,le,fe,G);for(let ce=Z;ce<=O;ce+=2){L=ce===Z||ce<O&&oe[ce-1]<oe[ce+1]?oe[ce+1]:oe[ce-1]+1,N=L-(ce-fe)-ye;const ve=L;for(;L<C&&N<x&&this.ElementsAreEqual(L+1,N+1);)L++,N++;if(oe[ce]=L,L+N>te+J&&(te=L,J=N),!ee&&Math.abs(ce-pe)<=le-1&&L>=de[ce])return f[0]=L,E[0]=N,ve<=de[ce]&&le<=1448?this.WALKTRACE(fe,Z,O,ye,pe,I,$,ge,oe,de,L,C,f,N,x,E,ee,z):null}const re=(te-y+(J-b)-le)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(te,re))return z[0]=!0,f[0]=te,E[0]=J,re>0&&le<=1448?this.WALKTRACE(fe,Z,O,ye,pe,I,$,ge,oe,de,L,C,f,N,x,E,ee,z):(y++,b++,[new D(y,C-y+1,b,x-b+1)]);I=this.ClipDiagonalBound(pe-le,le,pe,G),$=this.ClipDiagonalBound(pe+le,le,pe,G);for(let ce=I;ce<=$;ce+=2){L=ce===I||ce<$&&de[ce-1]>=de[ce+1]?de[ce+1]-1:de[ce-1],N=L-(ce-pe)-ge;const ve=L;for(;L>y&&N>b&&this.ElementsAreEqual(L,N);)L--,N--;if(de[ce]=L,ee&&Math.abs(ce-fe)<=le&&L<=oe[ce])return f[0]=L,E[0]=N,ve>=oe[ce]&&le<=1448?this.WALKTRACE(fe,Z,O,ye,pe,I,$,ge,oe,de,L,C,f,N,x,E,ee,z):null}if(le<=1447){let ce=new Int32Array(O-Z+2);ce[0]=fe-Z+1,i.Copy2(oe,Z,ce,1,O-Z+1),this.m_forwardHistory.push(ce),ce=new Int32Array($-I+2),ce[0]=pe-I+1,i.Copy2(de,I,ce,1,$-I+1),this.m_reverseHistory.push(ce)}}return this.WALKTRACE(fe,Z,O,ye,pe,I,$,ge,oe,de,L,C,f,N,x,E,ee,z)}PrettifyChanges(y){for(let C=0;C<y.length;C++){const b=y[C],x=C<y.length-1?y[C+1].originalStart:this._originalElementsOrHash.length,f=C<y.length-1?y[C+1].modifiedStart:this._modifiedElementsOrHash.length,E=b.originalLength>0,z=b.modifiedLength>0;for(;b.originalStart+b.originalLength<x&&b.modifiedStart+b.modifiedLength<f&&(!E||this.OriginalElementsAreEqual(b.originalStart,b.originalStart+b.originalLength))&&(!z||this.ModifiedElementsAreEqual(b.modifiedStart,b.modifiedStart+b.modifiedLength));){const N=this.ElementsAreStrictEqual(b.originalStart,b.modifiedStart);if(this.ElementsAreStrictEqual(b.originalStart+b.originalLength,b.modifiedStart+b.modifiedLength)&&!N)break;b.originalStart++,b.modifiedStart++}let L=[null];C<y.length-1&&this.ChangesOverlap(y[C],y[C+1],L)&&(y[C]=L[0],y.splice(C+1,1),C--)}for(let C=y.length-1;C>=0;C--){const b=y[C];let x=0,f=0;if(C>0){const O=y[C-1];x=O.originalStart+O.originalLength,f=O.modifiedStart+O.modifiedLength}const E=b.originalLength>0,z=b.modifiedLength>0;let L=0,N=this._boundaryScore(b.originalStart,b.originalLength,b.modifiedStart,b.modifiedLength);for(let O=1;;O++){const I=b.originalStart-O,$=b.modifiedStart-O;if(I<x||$<f||E&&!this.OriginalElementsAreEqual(I,I+b.originalLength)||z&&!this.ModifiedElementsAreEqual($,$+b.modifiedLength))break;const G=(I===x&&$===f?5:0)+this._boundaryScore(I,b.originalLength,$,b.modifiedLength);G>N&&(N=G,L=O)}b.originalStart-=L,b.modifiedStart-=L;const Z=[null];C>0&&this.ChangesOverlap(y[C-1],y[C],Z)&&(y[C-1]=Z[0],y.splice(C,1),C++)}if(this._hasStrings)for(let C=1,b=y.length;C<b;C++){const x=y[C-1],f=y[C],E=f.originalStart-x.originalStart-x.originalLength,z=x.originalStart,L=f.originalStart+f.originalLength,N=L-z,Z=x.modifiedStart,O=f.modifiedStart+f.modifiedLength,I=O-Z;if(E<5&&N<20&&I<20){const $=this._findBetterContiguousSequence(z,N,Z,I,E);if($){const[j,G]=$;(j!==x.originalStart+x.originalLength||G!==x.modifiedStart+x.modifiedLength)&&(x.originalLength=j-x.originalStart,x.modifiedLength=G-x.modifiedStart,f.originalStart=j+E,f.modifiedStart=G+E,f.originalLength=L-f.originalStart,f.modifiedLength=O-f.modifiedStart)}}}return y}_findBetterContiguousSequence(y,C,b,x,f){if(C<f||x<f)return null;const E=y+C-f+1,z=b+x-f+1;let L=0,N=0,Z=0;for(let O=y;O<E;O++)for(let I=b;I<z;I++){const $=this._contiguousSequenceScore(O,I,f);$>0&&$>L&&(L=$,N=O,Z=I)}return L>0?[N,Z]:null}_contiguousSequenceScore(y,C,b){let x=0;for(let f=0;f<b;f++){if(!this.ElementsAreEqual(y+f,C+f))return 0;x+=this._originalStringElements[y+f].length}return x}_OriginalIsBoundary(y){return y<=0||y>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[y])}_OriginalRegionIsBoundary(y,C){if(this._OriginalIsBoundary(y)||this._OriginalIsBoundary(y-1))return!0;if(C>0){const b=y+C;if(this._OriginalIsBoundary(b-1)||this._OriginalIsBoundary(b))return!0}return!1}_ModifiedIsBoundary(y){return y<=0||y>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[y])}_ModifiedRegionIsBoundary(y,C){if(this._ModifiedIsBoundary(y)||this._ModifiedIsBoundary(y-1))return!0;if(C>0){const b=y+C;if(this._ModifiedIsBoundary(b-1)||this._ModifiedIsBoundary(b))return!0}return!1}_boundaryScore(y,C,b,x){return(this._OriginalRegionIsBoundary(y,C)?1:0)+(this._ModifiedRegionIsBoundary(b,x)?1:0)}ConcatenateChanges(y,C){let b=[];if(0===y.length||0===C.length)return C.length>0?C:y;if(this.ChangesOverlap(y[y.length-1],C[0],b)){const x=new Array(y.length+C.length-1);return i.Copy(y,0,x,0,y.length-1),x[y.length-1]=b[0],i.Copy(C,1,x,y.length,C.length-1),x}{const x=new Array(y.length+C.length);return i.Copy(y,0,x,0,y.length),i.Copy(C,0,x,y.length,C.length),x}}ChangesOverlap(y,C,b){if(M.Assert(y.originalStart<=C.originalStart,"Left change is not less than or equal to right change"),M.Assert(y.modifiedStart<=C.modifiedStart,"Left change is not less than or equal to right change"),y.originalStart+y.originalLength>=C.originalStart||y.modifiedStart+y.modifiedLength>=C.modifiedStart){let f=y.originalLength,z=y.modifiedLength;return y.originalStart+y.originalLength>=C.originalStart&&(f=C.originalStart+C.originalLength-y.originalStart),y.modifiedStart+y.modifiedLength>=C.modifiedStart&&(z=C.modifiedStart+C.modifiedLength-y.modifiedStart),b[0]=new D(y.originalStart,f,y.modifiedStart,z),!0}return b[0]=null,!1}ClipDiagonalBound(y,C,b,x){if(y>=0&&y<x)return y;const z=C%2==0;return y<0?z===(b%2==0)?0:1:z===((x-b-1)%2==0)?x-1:x-2}}},13226:(Fe,Ee,p)=>{p.d(Ee,{dL:()=>Y,Cp:()=>W,ri:()=>M,n2:()=>T,FU:()=>B,F0:()=>P,b1:()=>y,L6:()=>C,B8:()=>b});const g=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(f){setTimeout(()=>{throw f.stack?new Error(f.message+"\n\n"+f.stack):f},0)}}emit(f){this.listeners.forEach(E=>{E(f)})}onUnexpectedError(f){this.unexpectedErrorHandler(f),this.emit(f)}onUnexpectedExternalError(f){this.unexpectedErrorHandler(f)}};function Y(x){T(x)||g.onUnexpectedError(x)}function W(x){T(x)||g.onUnexpectedExternalError(x)}function M(x){if(x instanceof Error){let{name:f,message:E}=x;return{$isError:!0,name:f,message:E,stack:x.stacktrace||x.stack}}return x}const i="Canceled";function T(x){return x instanceof B||x instanceof Error&&x.name===i&&x.message===i}class B extends Error{constructor(){super(i),this.name=this.message}}function P(){const x=new Error(i);return x.name=x.message,x}function y(x){return x?new Error(`Illegal argument: ${x}`):new Error("Illegal argument")}function C(x){return x?new Error(`Illegal state: ${x}`):new Error("Illegal state")}class b extends Error{constructor(f){super("NotSupported"),f&&(this.message=f)}}},71040:(Fe,Ee,p)=>{p.d(Ee,{ju:()=>T,Q5:()=>x,K3:()=>f,D0:()=>E,E7:()=>z,ZD:()=>L});var T,D=p(13226),g=p(40189),Y=p(62253),W=p(39932);!function(N){function O(Ie){return(We,Ue=null,ue)=>{let Ae,Ce=!1;return Ae=Ie(et=>{if(!Ce)return Ae?Ae.dispose():Ce=!0,We.call(Ue,et)},null,ue),Ce&&Ae.dispose(),Ae}}function I(Ie,We,Ue){return fe((ue,Ce=null,Ae)=>Ie(et=>ue.call(Ce,We(et)),null,Ae),Ue)}function $(Ie,We,Ue){return fe((ue,Ce=null,Ae)=>Ie(et=>{We(et),ue.call(Ce,et)},null,Ae),Ue)}function j(Ie,We,Ue){return fe((ue,Ce=null,Ae)=>Ie(et=>We(et)&&ue.call(Ce,et),null,Ae),Ue)}function de(Ie,We,Ue,ue){let Ce=Ue;return I(Ie,Ae=>(Ce=We(Ce,Ae),Ce),ue)}function fe(Ie,We){let Ue;const Ce=new x({onFirstListenerAdd(){Ue=Ie(Ce.fire,Ce)},onLastListenerRemove(){Ue.dispose()}});return We&&We.add(Ce),Ce.event}function pe(Ie,We,Ue=100,ue=!1,Ce,Ae){let et,Ye,Pe,st=0;const nt=new x({leakWarningThreshold:Ce,onFirstListenerAdd(){et=Ie(Se=>{st++,Ye=We(Ye,Se),ue&&!Pe&&(nt.fire(Ye),Ye=void 0),clearTimeout(Pe),Pe=setTimeout(()=>{const Ne=Ye;Ye=void 0,Pe=void 0,(!ue||st>1)&&nt.fire(Ne),st=0},Ue)})},onLastListenerRemove(){et.dispose()}});return Ae&&Ae.add(nt),nt.event}function ye(Ie,We=((ue,Ce)=>ue===Ce),Ue){let Ce,ue=!0;return j(Ie,Ae=>{const et=ue||!We(Ae,Ce);return ue=!1,Ce=Ae,et},Ue)}N.None=()=>g.JT.None,N.once=O,N.map=I,N.forEach=$,N.filter=j,N.signal=function(Ie){return Ie},N.any=function(...Ie){return(We,Ue=null,ue)=>(0,g.F8)(...Ie.map(Ce=>Ce(Ae=>We.call(Ue,Ae),null,ue)))},N.reduce=de,N.debounce=pe,N.latch=ye,N.split=function(Ie,We,Ue){return[N.filter(Ie,We,Ue),N.filter(Ie,ue=>!We(ue),Ue)]},N.buffer=function(Ie,We=!1,Ue=[]){let ue=Ue.slice(),Ce=Ie(Ye=>{ue?ue.push(Ye):et.fire(Ye)});const Ae=()=>{ue&&ue.forEach(Ye=>et.fire(Ye)),ue=null},et=new x({onFirstListenerAdd(){Ce||(Ce=Ie(Ye=>et.fire(Ye)))},onFirstListenerDidAdd(){ue&&(We?setTimeout(Ae):Ae())},onLastListenerRemove(){Ce&&Ce.dispose(),Ce=null}});return et.event};class ee{constructor(We){this.event=We}map(We){return new ee(I(this.event,We))}forEach(We){return new ee($(this.event,We))}filter(We){return new ee(j(this.event,We))}reduce(We,Ue){return new ee(de(this.event,We,Ue))}latch(){return new ee(ye(this.event))}debounce(We,Ue=100,ue=!1,Ce){return new ee(pe(this.event,We,Ue,ue,Ce))}on(We,Ue,ue){return this.event(We,Ue,ue)}once(We,Ue,ue){return O(this.event)(We,Ue,ue)}}N.chain=function(Ie){return new ee(Ie)},N.fromNodeEventEmitter=function(Ie,We,Ue=(ue=>ue)){const ue=(...Ye)=>et.fire(Ue(...Ye)),et=new x({onFirstListenerAdd:()=>Ie.on(We,ue),onLastListenerRemove:()=>Ie.removeListener(We,ue)});return et.event},N.fromDOMEventEmitter=function(Ie,We,Ue=(ue=>ue)){const ue=(...Ye)=>et.fire(Ue(...Ye)),et=new x({onFirstListenerAdd:()=>Ie.addEventListener(We,ue),onLastListenerRemove:()=>Ie.removeEventListener(We,ue)});return et.event},N.toPromise=function(Ie){return new Promise(We=>O(Ie)(We))},N.runAndSubscribe=function(Ie,We){return We(void 0),Ie(Ue=>We(Ue))},N.runAndSubscribeWithStore=function(Ie,We){let Ue=null;function ue(Ae){null==Ue||Ue.dispose(),Ue=new g.SL,We(Ae,Ue)}ue(void 0);const Ce=Ie(Ae=>ue(Ae));return(0,g.OF)(()=>{Ce.dispose(),null==Ue||Ue.dispose()})}}(T||(T={}));let B=(()=>{class N{constructor(O){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${O}_${N._idPool++}`}start(O){this._stopWatch=new W.G(!0),this._listenerCount=O}stop(){if(this._stopWatch){const O=this._stopWatch.elapsed();this._elapsedOverall+=O,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${O.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return N._idPool=0,N})();class C{constructor(Z){this.value=Z}static create(){var Z;return new C(null!==(Z=(new Error).stack)&&void 0!==Z?Z:"")}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class b{constructor(Z,O,I){this.callback=Z,this.callbackThis=O,this.stack=I,this.subscription=new g.dt}invoke(Z){this.callback.call(this.callbackThis,Z)}}class x{constructor(Z){var O;this._disposed=!1,this._options=Z,this._leakageMon=void 0,this._perfMon=(null===(O=this._options)||void 0===O?void 0:O._profName)?new B(this._options._profName):void 0}dispose(){var Z,O,I,$;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),null===(Z=this._deliveryQueue)||void 0===Z||Z.clear(),null===(I=null===(O=this._options)||void 0===O?void 0:O.onLastListenerRemove)||void 0===I||I.call(O),null===($=this._leakageMon)||void 0===$||$.dispose())}get event(){return this._event||(this._event=(Z,O,I)=>{var $,j,G;this._listeners||(this._listeners=new Y.S);const oe=this._listeners.isEmpty();let de,fe;oe&&(null===($=this._options)||void 0===$?void 0:$.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this),this._leakageMon&&this._listeners.size>=30&&(fe=C.create(),de=this._leakageMon.check(fe,this._listeners.size+1));const pe=new b(Z,O,fe),ye=this._listeners.push(pe);oe&&(null===(j=this._options)||void 0===j?void 0:j.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),(null===(G=this._options)||void 0===G?void 0:G.onListenerDidAdd)&&this._options.onListenerDidAdd(this,Z,O);const ge=pe.subscription.set(()=>{de&&de(),this._disposed||(ye(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return I instanceof g.SL?I.add(ge):Array.isArray(I)&&I.push(ge),ge}),this._event}fire(Z){var O,I;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Y.S);for(let $ of this._listeners)this._deliveryQueue.push([$,Z]);for(null===(O=this._perfMon)||void 0===O||O.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[$,j]=this._deliveryQueue.shift();try{$.invoke(j)}catch(G){(0,D.dL)(G)}}null===(I=this._perfMon)||void 0===I||I.stop()}}}class f extends x{constructor(Z){super(Z),this._isPaused=0,this._eventQueue=new Y.S,this._mergeFn=null==Z?void 0:Z.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const Z=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(Z))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(Z){this._listeners&&(0!==this._isPaused?this._eventQueue.push(Z):super.fire(Z))}}class E extends f{constructor(Z){var O;super(Z),this._delay=null!==(O=Z.delay)&&void 0!==O?O:100}fire(Z){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(Z)}}class z{constructor(){this.buffers=[]}wrapEvent(Z){return(O,I,$)=>Z(j=>{const G=this.buffers[this.buffers.length-1];G?G.push(()=>O.call(I,j)):O.call(I,j)},void 0,$)}bufferEvents(Z){const O=[];this.buffers.push(O);const I=Z();return this.buffers.pop(),O.forEach($=>$()),I}}class L{constructor(){this.listening=!1,this.inputEvent=T.None,this.inputEventListener=g.JT.None,this.emitter=new x({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(Z){this.inputEvent=Z,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=Z(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},46359:(Fe,Ee,p)=>{p.d(Ee,{ej:()=>M,fn:()=>i,yj:()=>T,KM:()=>B,vY:()=>y,oP:()=>C});var D=p(84491),g=p(70700),Y=p(74243);function W(b){return 47===b||92===b}function M(b){return b.replace(/[\\/]/g,D.KR.sep)}function i(b){return-1===b.indexOf("/")&&(b=M(b)),/^[a-zA-Z]:(\/|$)/.test(b)&&(b="/"+b),b}function T(b,x=D.KR.sep){if(!b)return"";const f=b.length,E=b.charCodeAt(0);if(W(E)){if(W(b.charCodeAt(1))&&!W(b.charCodeAt(2))){let L=3;const N=L;for(;L<f&&!W(b.charCodeAt(L));L++);if(N!==L&&!W(b.charCodeAt(L+1)))for(L+=1;L<f;L++)if(W(b.charCodeAt(L)))return b.slice(0,L+1).replace(/[\\/]/g,x)}return x}if(P(E)&&58===b.charCodeAt(1))return W(b.charCodeAt(2))?b.slice(0,2)+x:b.slice(0,2);let z=b.indexOf("://");if(-1!==z)for(z+=3;z<f;z++)if(W(b.charCodeAt(z)))return b.slice(0,z+1);return""}function B(b,x,f,E=D.ir){if(b===x)return!0;if(!b||!x||x.length>b.length)return!1;if(f){if(!(0,Y.ok)(b,x))return!1;if(x.length===b.length)return!0;let L=x.length;return x.charAt(x.length-1)===E&&L--,b.charAt(L)===E}return x.charAt(x.length-1)!==E&&(x+=E),0===b.indexOf(x)}function P(b){return b>=65&&b<=90||b>=97&&b<=122}function y(b){const x=(0,D.Fv)(b);return g.ED?!(b.length>3)&&C(x)&&(2===b.length||92===x.charCodeAt(2)):x===D.KR.sep}function C(b,x){return!!(void 0!==x?x:g.ED)&&P(b.charCodeAt(0))&&58===b.charCodeAt(1)}},56260:(Fe,Ee,p)=>{p.d(Ee,{or:()=>Y,Ji:()=>M,ir:()=>T,KZ:()=>de,Oh:()=>ee,jB:()=>le,mB:()=>te,CL:()=>nt,EW:()=>Se,l7:()=>Ct});var D=p(33439),g=p(74243);function Y(...mt){return function(Ft,Wt){for(let zt=0,mn=mt.length;zt<mn;zt++){const Ge=mt[zt](Ft,Wt);if(Ge)return Ge}return null}}i.bind(void 0,!1);const M=i.bind(void 0,!0);function i(mt,Ft,Wt){if(!Wt||Wt.length<Ft.length)return null;let zt;return zt=mt?g.ok(Wt,Ft):0===Wt.indexOf(Ft),zt?Ft.length>0?[{start:0,end:Ft.length}]:[]:null}function T(mt,Ft){const Wt=Ft.toLowerCase().indexOf(mt.toLowerCase());return-1===Wt?null:[{start:Wt,end:Wt+mt.length}]}function P(mt,Ft,Wt,zt){if(Wt===mt.length)return[];if(zt===Ft.length)return null;if(mt[Wt]===Ft[zt]){let mn=null;return(mn=P(mt,Ft,Wt+1,zt+1))?N({start:zt,end:zt+1},mn):null}return P(mt,Ft,Wt,zt+1)}function y(mt){return 97<=mt&&mt<=122}function C(mt){return 65<=mt&&mt<=90}function b(mt){return 48<=mt&&mt<=57}function x(mt){return 32===mt||9===mt||10===mt||13===mt}const f=new Set;function E(mt){return x(mt)||f.has(mt)}function L(mt){return y(mt)||C(mt)||b(mt)}function N(mt,Ft){return 0===Ft.length?Ft=[mt]:mt.end===Ft[0].start?Ft[0].start=mt.start:Ft.unshift(mt),Ft}function Z(mt,Ft){for(let Wt=Ft;Wt<mt.length;Wt++){const zt=mt.charCodeAt(Wt);if(C(zt)||b(zt)||Wt>0&&!L(mt.charCodeAt(Wt-1)))return Wt}return mt.length}function O(mt,Ft,Wt,zt){if(Wt===mt.length)return[];if(zt===Ft.length)return null;if(mt[Wt]!==Ft[zt].toLowerCase())return null;{let mn=null,Ge=zt+1;for(mn=O(mt,Ft,Wt+1,zt+1);!mn&&(Ge=Z(Ft,Ge))<Ft.length;)mn=O(mt,Ft,Wt+1,Ge),Ge++;return null===mn?null:N({start:zt,end:zt+1},mn)}}function oe(mt,Ft){if(!Ft||0===(Ft=Ft.trim()).length||!function(mt){let Ft=0,Wt=0,zt=0,mn=0;for(let Ge=0;Ge<mt.length;Ge++)zt=mt.charCodeAt(Ge),C(zt)&&Ft++,y(zt)&&Wt++,x(zt)&&mn++;return 0!==Ft&&0!==Wt||0!==mn?Ft<=5:mt.length<=30}(mt)||Ft.length>60)return null;const Wt=function(mt){let Ft=0,Wt=0,zt=0,mn=0,Ge=0;for(let sn=0;sn<mt.length;sn++)Ge=mt.charCodeAt(sn),C(Ge)&&Ft++,y(Ge)&&Wt++,L(Ge)&&zt++,b(Ge)&&mn++;return{upperPercent:Ft/mt.length,lowerPercent:Wt/mt.length,alphaPercent:zt/mt.length,numericPercent:mn/mt.length}}(Ft);if(!function(mt){const{upperPercent:Ft,lowerPercent:Wt,alphaPercent:zt,numericPercent:mn}=mt;return Wt>.2&&Ft<.8&&zt>.6&&mn<.2}(Wt)){if(!function(mt){const{upperPercent:Ft,lowerPercent:Wt}=mt;return 0===Wt&&Ft>.6}(Wt))return null;Ft=Ft.toLowerCase()}let zt=null,mn=0;for(mt=mt.toLowerCase();mn<Ft.length&&null===(zt=O(mt,Ft,0,mn));)mn=Z(Ft,mn+1);return zt}function de(mt,Ft,Wt=!1){if(!Ft||0===Ft.length)return null;let zt=null,mn=0;for(mt=mt.toLowerCase(),Ft=Ft.toLowerCase();mn<Ft.length&&null===(zt=fe(mt,Ft,0,mn,Wt));)mn=pe(Ft,mn+1);return zt}function fe(mt,Ft,Wt,zt,mn){if(Wt===mt.length)return[];if(zt===Ft.length)return null;if(function(mt,Ft){return mt===Ft||E(mt)&&E(Ft)}(mt.charCodeAt(Wt),Ft.charCodeAt(zt))){let Ge=null,Lt=zt+1;if(Ge=fe(mt,Ft,Wt+1,zt+1,mn),!mn)for(;!Ge&&(Lt=pe(Ft,Lt))<Ft.length;)Ge=fe(mt,Ft,Wt+1,Lt,mn),Lt++;return null===Ge?null:N({start:zt,end:zt+1},Ge)}return null}function pe(mt,Ft){for(let Wt=Ft;Wt<mt.length;Wt++)if(E(mt.charCodeAt(Wt))||Wt>0&&E(mt.charCodeAt(Wt-1)))return Wt;return mt.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach(mt=>f.add(mt.charCodeAt(0)));const ye=Y(M,oe,T),ge=Y(M,oe,function(mt,Ft){return P(mt.toLowerCase(),Ft.toLowerCase(),0,0)}),Q=new D.z6(1e4);function ee(mt,Ft,Wt=!1){if("string"!=typeof mt||"string"!=typeof Ft)return null;let zt=Q.get(mt);zt||(zt=new RegExp(g.un(mt),"i"),Q.set(mt,zt));const mn=zt.exec(Ft);return mn?[{start:mn.index,end:mn.index+mn[0].length}]:Wt?ge(mt,Ft):ye(mt,Ft)}function le(mt,Ft,Wt,zt,mn,Ge){const Lt=Math.min(13,mt.length);for(;Wt<Lt;Wt++){const vt=Se(mt,Ft,Wt,zt,mn,Ge,!1);if(vt)return vt}return[0,Ge]}function te(mt){if(void 0===mt)return[];const Ft=[],Wt=mt[1];for(let zt=mt.length-1;zt>1;zt--){const mn=mt[zt]+Wt,Ge=Ft[Ft.length-1];Ge&&Ge.end===mn?Ge.end=mn+1:Ft.push({start:mn,end:mn+1})}return Ft}const J=128;function re(){const mt=[],Ft=[];for(let Wt=0;Wt<=J;Wt++)Ft[Wt]=0;for(let Wt=0;Wt<=J;Wt++)mt.push(Ft.slice(0));return mt}function ce(mt){const Ft=[];for(let Wt=0;Wt<=mt;Wt++)Ft[Wt]=0;return Ft}const ve=ce(256),Ie=ce(256),We=re(),Ue=re(),ue=re();function Ye(mt,Ft){if(Ft<0||Ft>=mt.length)return!1;const Wt=mt.codePointAt(Ft);switch(Wt){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!g.C8(Wt)}}function Pe(mt,Ft){if(Ft<0||Ft>=mt.length)return!1;switch(mt.charCodeAt(Ft)){case 32:case 9:return!0;default:return!1}}function st(mt,Ft,Wt){return Ft[mt]!==Wt[mt]}var nt,mt;function Se(mt,Ft,Wt,zt,mn,Ge,Lt){const vt=mt.length>J?J:mt.length,dn=zt.length>J?J:zt.length;if(Wt>=vt||Ge>=dn||vt-Wt>dn-Ge||!function(mt,Ft,Wt,zt,mn,Ge,Lt=!1){for(;Ft<Wt&&mn<Ge;)mt[Ft]===zt[mn]&&(Lt&&(ve[Ft]=mn),Ft+=1),mn+=1;return Ft===Wt}(Ft,Wt,vt,mn,Ge,dn,!0))return;!function(mt,Ft,Wt,zt,mn,Ge){let Lt=mt-1,vt=Ft-1;for(;Lt>=Wt&&vt>=zt;)mn[Lt]===Ge[vt]&&(Ie[Lt]=vt,Lt--),vt--}(vt,dn,Wt,Ge,Ft,mn);let Ln=1,sn=1,hn=Wt,_n=Ge;const rn=[!1];for(Ln=1,hn=Wt;hn<vt;Ln++,hn++){const $e=ve[hn],Xt=Ie[hn],pn=hn+1<vt?Ie[hn+1]:dn;for(sn=$e-Ge+1,_n=$e;_n<pn;sn++,_n++){let ti=Number.MIN_SAFE_INTEGER,bi=!1;_n<=Xt&&(ti=at(mt,Ft,hn,Wt,zt,mn,_n,dn,Ge,0===We[Ln-1][sn-1],rn));let Oi=0;ti!==Number.MAX_SAFE_INTEGER&&(bi=!0,Oi=ti+Ue[Ln-1][sn-1]);const Li=_n>$e,vi=Li?Ue[Ln][sn-1]+(We[Ln][sn-1]>0?-5:0):0,xt=_n>$e+1&&We[Ln][sn-1]>0,St=xt?Ue[Ln][sn-2]+(We[Ln][sn-2]>0?-5:0):0;if(xt&&(!Li||St>=vi)&&(!bi||St>=Oi))Ue[Ln][sn]=St,ue[Ln][sn]=3,We[Ln][sn]=0;else if(Li&&(!bi||vi>=Oi))Ue[Ln][sn]=vi,ue[Ln][sn]=2,We[Ln][sn]=0;else{if(!bi)throw new Error("not possible");Ue[Ln][sn]=Oi,ue[Ln][sn]=1,We[Ln][sn]=We[Ln-1][sn-1]+1}}}if(!rn[0]&&!Lt)return;Ln--,sn--;const Rt=[Ue[Ln][sn],Ge];let xi=0,Yt=0;for(;Ln>=1;){let $e=sn;do{const Xt=ue[Ln][$e];if(3===Xt)$e-=2;else{if(2!==Xt)break;$e-=1}}while($e>=1);xi>1&&Ft[Wt+Ln-1]===mn[Ge+sn-1]&&!st($e+Ge-1,zt,mn)&&xi+1>We[Ln][$e]&&($e=sn),$e===sn?xi++:xi=1,Yt||(Yt=$e),Ln--,sn=$e-1,Rt.push(sn)}return dn===vt&&(Rt[0]+=2),Rt[0]-=Yt-vt,Rt}function at(mt,Ft,Wt,zt,mn,Ge,Lt,vt,dn,Ln,sn){if(Ft[Wt]!==Ge[Lt])return Number.MIN_SAFE_INTEGER;let hn=1,_n=!1;return Lt===Wt-zt?hn=mt[Wt]===mn[Lt]?7:5:!st(Lt,mn,Ge)||0!==Lt&&st(Lt-1,mn,Ge)?!Ye(Ge,Lt)||0!==Lt&&Ye(Ge,Lt-1)?(Ye(Ge,Lt-1)||Pe(Ge,Lt-1))&&(hn=5,_n=!0):hn=5:(hn=mt[Wt]===mn[Lt]?7:5,_n=!0),hn>1&&Wt===zt&&(sn[0]=!0),_n||(_n=st(Lt,mn,Ge)||Ye(Ge,Lt-1)||Pe(Ge,Lt-1)),Wt===zt?Lt>dn&&(hn-=_n?3:5):hn+=Ln?_n?2:0:_n?0:1,Lt+1===vt&&(hn-=_n?3:5),hn}function Ct(mt,Ft,Wt,zt,mn,Ge,Lt){return function(mt,Ft,Wt,zt,mn,Ge,Lt,vt){let dn=Se(mt,Ft,Wt,zt,mn,Ge,vt);if(mt.length>=3){const Ln=Math.min(7,mt.length-1);for(let sn=Wt+1;sn<Ln;sn++){const hn=bn(mt,sn);if(hn){const _n=Se(hn,hn.toLowerCase(),Wt,zt,mn,Ge,vt);_n&&(_n[0]-=3,(!dn||_n[0]>dn[0])&&(dn=_n))}}}return dn}(mt,Ft,Wt,zt,mn,Ge,0,Lt)}function bn(mt,Ft){if(Ft+1>=mt.length)return;const Wt=mt[Ft],zt=mt[Ft+1];return Wt!==zt?mt.slice(0,Ft)+zt+Wt+mt.slice(Ft+2):void 0}(mt=nt||(nt={})).Default=[-100,0],mt.isDefault=function(Wt){return!Wt||2===Wt.length&&-100===Wt[0]&&0===Wt[1]}},16811:(Fe,Ee,p)=>{function D(g){const Y=this;let M,W=!1;return function(){return W||(W=!0,M=g.apply(Y,arguments)),M}}p.d(Ee,{I:()=>D})},11791:(Fe,Ee,p)=>{p.d(Ee,{vp:()=>g,SP:()=>Y,Cv:()=>i,yP:()=>x});var D=p(74243);function g(f){return Y(f,0)}function Y(f,E){switch(typeof f){case"object":return null===f?W(349,E):Array.isArray(f)?function(f,E){return E=W(104579,E),f.reduce((z,L)=>Y(L,z),E)}(f,E):function(f,E){return E=W(181387,E),Object.keys(f).sort().reduce((z,L)=>(z=i(L,z),Y(f[L],z)),E)}(f,E);case"string":return i(f,E);case"boolean":return function(f,E){return W(f?433:863,E)}(f,E);case"number":return W(f,E);case"undefined":return W(937,E);default:return W(617,E)}}function W(f,E){return(E<<5)-E+f|0}function i(f,E){E=W(149417,E);for(let z=0,L=f.length;z<L;z++)E=W(f.charCodeAt(z),E);return E}function P(f,E,z=32){const L=z-E;return(f<<E|(~((1<<L)-1)&f)>>>L)>>>0}function y(f,E=0,z=f.byteLength,L=0){for(let N=0;N<z;N++)f[E+N]=L}function b(f,E=32){return f instanceof ArrayBuffer?Array.from(new Uint8Array(f)).map(z=>z.toString(16).padStart(2,"0")).join(""):function(f,E,z="0"){for(;f.length<E;)f=z+f;return f}((f>>>0).toString(16),E/4)}class x{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(E){const z=E.length;if(0===z)return;const L=this._buff;let O,I,N=this._buffLen,Z=this._leftoverHighSurrogate;for(0!==Z?(O=Z,I=-1,Z=0):(O=E.charCodeAt(0),I=0);;){let $=O;if(D.ZG(O)){if(!(I+1<z)){Z=O;break}{const j=E.charCodeAt(I+1);D.YK(j)?(I++,$=D.rL(O,j)):$=65533}}else D.YK(O)&&($=65533);if(N=this._push(L,N,$),I++,!(I<z))break;O=E.charCodeAt(I)}this._buffLen=N,this._leftoverHighSurrogate=Z}_push(E,z,L){return L<128?E[z++]=L:L<2048?(E[z++]=192|(1984&L)>>>6,E[z++]=128|(63&L)>>>0):L<65536?(E[z++]=224|(61440&L)>>>12,E[z++]=128|(4032&L)>>>6,E[z++]=128|(63&L)>>>0):(E[z++]=240|(1835008&L)>>>18,E[z++]=128|(258048&L)>>>12,E[z++]=128|(4032&L)>>>6,E[z++]=128|(63&L)>>>0),z>=64&&(this._step(),z-=64,this._totalLen+=64,E[0]=E[64],E[1]=E[65],E[2]=E[66]),z}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),b(this._h0)+b(this._h1)+b(this._h2)+b(this._h3)+b(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,y(this._buff,this._buffLen),this._buffLen>56&&(this._step(),y(this._buff));const E=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(E/4294967296),!1),this._buffDV.setUint32(60,E%4294967296,!1),this._step()}_step(){const E=x._bigBlock32,z=this._buffDV;for(let oe=0;oe<64;oe+=4)E.setUint32(oe,z.getUint32(oe,!1),!1);for(let oe=64;oe<320;oe+=4)E.setUint32(oe,P(E.getUint32(oe-12,!1)^E.getUint32(oe-32,!1)^E.getUint32(oe-56,!1)^E.getUint32(oe-64,!1),1),!1);let $,j,G,L=this._h0,N=this._h1,Z=this._h2,O=this._h3,I=this._h4;for(let oe=0;oe<80;oe++)oe<20?($=N&Z|~N&O,j=1518500249):oe<40?($=N^Z^O,j=1859775393):oe<60?($=N&Z|N&O|Z&O,j=2400959708):($=N^Z^O,j=3395469782),G=P(L,5)+$+I+j+E.getUint32(4*oe,!1)&4294967295,I=O,O=Z,Z=P(N,30),N=L,L=G;this._h0=this._h0+L&4294967295,this._h1=this._h1+N&4294967295,this._h2=this._h2+Z&4294967295,this._h3=this._h3+O&4294967295,this._h4=this._h4+I&4294967295}}x._bigBlock32=new DataView(new ArrayBuffer(320))},3102:(Fe,Ee,p)=>{p.d(Ee,{W5:()=>Y,CP:()=>W,Fr:()=>M,oR:()=>T,v1:()=>B});var D=p(13226),g=p(42623);class Y{constructor(y="",C=!1){var b,x,f;if(this.value=y,"string"!=typeof this.value)throw(0,D.b1)("value");"boolean"==typeof C?(this.isTrusted=C,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(b=C.isTrusted)&&void 0!==b?b:void 0,this.supportThemeIcons=null!==(x=C.supportThemeIcons)&&void 0!==x&&x,this.supportHtml=null!==(f=C.supportHtml)&&void 0!==f&&f)}appendText(y,C=0){return this.value+=(P=this.supportThemeIcons?(0,g.Qo)(y):y,P.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")).replace(/([ \t]+)/g,(b,x)=>"&nbsp;".repeat(x.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===C?"\\\n":"\n\n"),this;var P}appendMarkdown(y){return this.value+=y,this}appendCodeblock(y,C){return this.value+="\n```",this.value+=y,this.value+="\n",this.value+=C,this.value+="\n```\n",this}}function W(P){return M(P)?!P.value:!Array.isArray(P)||P.every(W)}function M(P){return P instanceof Y||!(!P||"object"!=typeof P)&&!("string"!=typeof P.value||"boolean"!=typeof P.isTrusted&&void 0!==P.isTrusted||"boolean"!=typeof P.supportThemeIcons&&void 0!==P.supportThemeIcons)}function T(P){return P&&P.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function B(P){const y=[],C=P.split("|").map(x=>x.trim());P=C[0];const b=C[1];if(b){const x=/height=(\d+)/.exec(b),f=/width=(\d+)/.exec(b),E=x?x[1]:"",z=f?f[1]:"",L=isFinite(parseInt(z)),N=isFinite(parseInt(E));L&&y.push(`width="${z}"`),N&&y.push(`height="${E}"`)}return{href:P,dimensions:y}}},42623:(Fe,Ee,p)=>{p.d(Ee,{Qo:()=>B,f$:()=>y,x$:()=>b,Ho:()=>x,Gt:()=>E});var D=p(78968),g=p(56260),Y=p(74243);const W="$(",M=new RegExp(`\\$\\(${D.dT.iconNameExpression}(?:${D.dT.iconModifierExpression})?\\)`,"g"),i=new RegExp(D.dT.iconNameCharacter),T=new RegExp(`(\\\\)?${M.source}`,"g");function B(z){return z.replace(T,(L,N)=>N?L:`\\${L}`)}const P=new RegExp(`\\\\${M.source}`,"g");function y(z){return z.replace(P,L=>`\\${L}`)}const C=new RegExp(`(\\s)?(\\\\)?${M.source}(\\s)?`,"g");function b(z){return-1===z.indexOf(W)?z:z.replace(C,(L,N,Z,O)=>Z?L:N||O||"")}function x(z){const L=z.indexOf(W);return-1===L?{text:z}:function(z,L){const N=[];let Z="";function O(pe){if(pe){Z+=pe;for(const ye of pe)N.push(j)}}let G,oe,I=-1,$="",j=0,de=L;const fe=z.length;for(O(z.substr(0,L));de<fe;)G=z[de],oe=z[de+1],G===W[0]&&oe===W[1]?(I=de,O($),$=W,de++):")"===G&&-1!==I?(j+=de-I+1,I=-1,$=""):-1!==I?i.test(G)?$+=G:(O($),I=-1,$=""):O(G),de++;return O($),{text:Z,iconOffsets:N}}(z,L)}function E(z,L,N=!1){const{text:Z,iconOffsets:O}=L;if(!O||0===O.length)return(0,g.Oh)(z,Z,N);const I=(0,Y.j3)(Z," "),$=Z.length-I.length,j=(0,g.Oh)(z,I,N);if(j)for(const G of j){const oe=O[G.start+$]+$;G.start+=oe,G.end+=oe}return j}},90546:(Fe,Ee,p)=>{p.d(Ee,{R:()=>D,a:()=>g});class D{constructor(W){this._prefix=W,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const g=new D("id#")},58151:(Fe,Ee,p)=>{var D;p.d(Ee,{$:()=>D}),function(g){g.is=function(O){return O&&"object"==typeof O&&"function"==typeof O[Symbol.iterator]};const W=Object.freeze([]);g.empty=function(){return W},g.single=function*(O){yield O},g.from=function(O){return O||W},g.isEmpty=function(O){return!O||!0===O[Symbol.iterator]().next().done},g.first=function(O){return O[Symbol.iterator]().next().value},g.some=function(O,I){for(const $ of O)if(I($))return!0;return!1},g.find=function(O,I){for(const $ of O)if(I($))return $},g.filter=function*(O,I){for(const $ of O)I($)&&(yield $)},g.map=function*(O,I){let $=0;for(const j of O)yield I(j,$++)},g.concat=function*(...O){for(const I of O)for(const $ of I)yield $},g.concatNested=function*(O){for(const I of O)for(const $ of I)yield $},g.reduce=function(O,I,$){let j=$;for(const G of O)j=I(j,G);return j},g.slice=function*(O,I,$=O.length){for(I<0&&(I+=O.length),$<0?$+=O.length:$>O.length&&($=O.length);I<$;I++)yield O[I]},g.consume=function(O,I=Number.POSITIVE_INFINITY){const $=[];if(0===I)return[$,O];const j=O[Symbol.iterator]();for(let G=0;G<I;G++){const oe=j.next();if(oe.done)return[$,g.empty()];$.push(oe.value)}return[$,{[Symbol.iterator]:()=>j}]},g.equals=function(O,I,$=((j,G)=>j===G)){const j=O[Symbol.iterator](),G=I[Symbol.iterator]();for(;;){const oe=j.next(),de=G.next();if(oe.done!==de.done)return!1;if(oe.done)return!0;if(!$(oe.value,de.value))return!1}}}(D||(D={}))},64073:(Fe,Ee,p)=>{p.d(Ee,{H_:()=>M,Vd:()=>y,kL:()=>b,gx:()=>x});class D{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(E,z){this._keyCodeToStr[E]=z,this._strToKeyCode[z.toLowerCase()]=E}keyCodeToStr(E){return this._keyCodeToStr[E]}strToKeyCode(E){return this._strToKeyCode[E.toLowerCase()]||0}}const g=new D,Y=new D,W=new D,M=new Array(230),i={},T=[],B=Object.create(null),P=Object.create(null),y=[],C=[];for(let f=0;f<=193;f++)y[f]=-1;for(let f=0;f<=127;f++)C[f]=-1;var b,f;function x(f,E){return(f|(65535&E)<<16>>>0)>>>0}!function(){const f="",E=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",f,f],[0,1,1,"Hyper",0,f,0,f,f,f],[0,1,2,"Super",0,f,0,f,f,f],[0,1,3,"Fn",0,f,0,f,f,f],[0,1,4,"FnLock",0,f,0,f,f,f],[0,1,5,"Suspend",0,f,0,f,f,f],[0,1,6,"Resume",0,f,0,f,f,f],[0,1,7,"Turbo",0,f,0,f,f,f],[0,1,8,"Sleep",0,f,0,"VK_SLEEP",f,f],[0,1,9,"WakeUp",0,f,0,f,f,f],[31,0,10,"KeyA",31,"A",65,"VK_A",f,f],[32,0,11,"KeyB",32,"B",66,"VK_B",f,f],[33,0,12,"KeyC",33,"C",67,"VK_C",f,f],[34,0,13,"KeyD",34,"D",68,"VK_D",f,f],[35,0,14,"KeyE",35,"E",69,"VK_E",f,f],[36,0,15,"KeyF",36,"F",70,"VK_F",f,f],[37,0,16,"KeyG",37,"G",71,"VK_G",f,f],[38,0,17,"KeyH",38,"H",72,"VK_H",f,f],[39,0,18,"KeyI",39,"I",73,"VK_I",f,f],[40,0,19,"KeyJ",40,"J",74,"VK_J",f,f],[41,0,20,"KeyK",41,"K",75,"VK_K",f,f],[42,0,21,"KeyL",42,"L",76,"VK_L",f,f],[43,0,22,"KeyM",43,"M",77,"VK_M",f,f],[44,0,23,"KeyN",44,"N",78,"VK_N",f,f],[45,0,24,"KeyO",45,"O",79,"VK_O",f,f],[46,0,25,"KeyP",46,"P",80,"VK_P",f,f],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",f,f],[48,0,27,"KeyR",48,"R",82,"VK_R",f,f],[49,0,28,"KeyS",49,"S",83,"VK_S",f,f],[50,0,29,"KeyT",50,"T",84,"VK_T",f,f],[51,0,30,"KeyU",51,"U",85,"VK_U",f,f],[52,0,31,"KeyV",52,"V",86,"VK_V",f,f],[53,0,32,"KeyW",53,"W",87,"VK_W",f,f],[54,0,33,"KeyX",54,"X",88,"VK_X",f,f],[55,0,34,"KeyY",55,"Y",89,"VK_Y",f,f],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",f,f],[22,0,36,"Digit1",22,"1",49,"VK_1",f,f],[23,0,37,"Digit2",23,"2",50,"VK_2",f,f],[24,0,38,"Digit3",24,"3",51,"VK_3",f,f],[25,0,39,"Digit4",25,"4",52,"VK_4",f,f],[26,0,40,"Digit5",26,"5",53,"VK_5",f,f],[27,0,41,"Digit6",27,"6",54,"VK_6",f,f],[28,0,42,"Digit7",28,"7",55,"VK_7",f,f],[29,0,43,"Digit8",29,"8",56,"VK_8",f,f],[30,0,44,"Digit9",30,"9",57,"VK_9",f,f],[21,0,45,"Digit0",21,"0",48,"VK_0",f,f],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",f,f],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",f,f],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",f,f],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",f,f],[10,1,50,"Space",10,"Space",32,"VK_SPACE",f,f],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,f,0,f,f,f],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",f,f],[59,1,64,"F1",59,"F1",112,"VK_F1",f,f],[60,1,65,"F2",60,"F2",113,"VK_F2",f,f],[61,1,66,"F3",61,"F3",114,"VK_F3",f,f],[62,1,67,"F4",62,"F4",115,"VK_F4",f,f],[63,1,68,"F5",63,"F5",116,"VK_F5",f,f],[64,1,69,"F6",64,"F6",117,"VK_F6",f,f],[65,1,70,"F7",65,"F7",118,"VK_F7",f,f],[66,1,71,"F8",66,"F8",119,"VK_F8",f,f],[67,1,72,"F9",67,"F9",120,"VK_F9",f,f],[68,1,73,"F10",68,"F10",121,"VK_F10",f,f],[69,1,74,"F11",69,"F11",122,"VK_F11",f,f],[70,1,75,"F12",70,"F12",123,"VK_F12",f,f],[0,1,76,"PrintScreen",0,f,0,f,f,f],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",f,f],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",f,f],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",f,f],[14,1,80,"Home",14,"Home",36,"VK_HOME",f,f],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",f,f],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",f,f],[13,1,83,"End",13,"End",35,"VK_END",f,f],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",f,f],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",f],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",f],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",f],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",f],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",f,f],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",f,f],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",f,f],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",f,f],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",f,f],[3,1,94,"NumpadEnter",3,f,0,f,f,f],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",f,f],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",f,f],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",f,f],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",f,f],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",f,f],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",f,f],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",f,f],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",f,f],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",f,f],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",f,f],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",f,f],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",f,f],[58,1,107,"ContextMenu",58,"ContextMenu",93,f,f,f],[0,1,108,"Power",0,f,0,f,f,f],[0,1,109,"NumpadEqual",0,f,0,f,f,f],[71,1,110,"F13",71,"F13",124,"VK_F13",f,f],[72,1,111,"F14",72,"F14",125,"VK_F14",f,f],[73,1,112,"F15",73,"F15",126,"VK_F15",f,f],[74,1,113,"F16",74,"F16",127,"VK_F16",f,f],[75,1,114,"F17",75,"F17",128,"VK_F17",f,f],[76,1,115,"F18",76,"F18",129,"VK_F18",f,f],[77,1,116,"F19",77,"F19",130,"VK_F19",f,f],[0,1,117,"F20",0,f,0,"VK_F20",f,f],[0,1,118,"F21",0,f,0,"VK_F21",f,f],[0,1,119,"F22",0,f,0,"VK_F22",f,f],[0,1,120,"F23",0,f,0,"VK_F23",f,f],[0,1,121,"F24",0,f,0,"VK_F24",f,f],[0,1,122,"Open",0,f,0,f,f,f],[0,1,123,"Help",0,f,0,f,f,f],[0,1,124,"Select",0,f,0,f,f,f],[0,1,125,"Again",0,f,0,f,f,f],[0,1,126,"Undo",0,f,0,f,f,f],[0,1,127,"Cut",0,f,0,f,f,f],[0,1,128,"Copy",0,f,0,f,f,f],[0,1,129,"Paste",0,f,0,f,f,f],[0,1,130,"Find",0,f,0,f,f,f],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",f,f],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",f,f],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",f,f],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",f,f],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",f,f],[0,1,136,"KanaMode",0,f,0,f,f,f],[0,0,137,"IntlYen",0,f,0,f,f,f],[0,1,138,"Convert",0,f,0,f,f,f],[0,1,139,"NonConvert",0,f,0,f,f,f],[0,1,140,"Lang1",0,f,0,f,f,f],[0,1,141,"Lang2",0,f,0,f,f,f],[0,1,142,"Lang3",0,f,0,f,f,f],[0,1,143,"Lang4",0,f,0,f,f,f],[0,1,144,"Lang5",0,f,0,f,f,f],[0,1,145,"Abort",0,f,0,f,f,f],[0,1,146,"Props",0,f,0,f,f,f],[0,1,147,"NumpadParenLeft",0,f,0,f,f,f],[0,1,148,"NumpadParenRight",0,f,0,f,f,f],[0,1,149,"NumpadBackspace",0,f,0,f,f,f],[0,1,150,"NumpadMemoryStore",0,f,0,f,f,f],[0,1,151,"NumpadMemoryRecall",0,f,0,f,f,f],[0,1,152,"NumpadMemoryClear",0,f,0,f,f,f],[0,1,153,"NumpadMemoryAdd",0,f,0,f,f,f],[0,1,154,"NumpadMemorySubtract",0,f,0,f,f,f],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",f,f],[0,1,156,"NumpadClearEntry",0,f,0,f,f,f],[5,1,0,f,5,"Ctrl",17,"VK_CONTROL",f,f],[4,1,0,f,4,"Shift",16,"VK_SHIFT",f,f],[6,1,0,f,6,"Alt",18,"VK_MENU",f,f],[57,1,0,f,57,"Meta",0,"VK_COMMAND",f,f],[5,1,157,"ControlLeft",5,f,0,"VK_LCONTROL",f,f],[4,1,158,"ShiftLeft",4,f,0,"VK_LSHIFT",f,f],[6,1,159,"AltLeft",6,f,0,"VK_LMENU",f,f],[57,1,160,"MetaLeft",57,f,0,"VK_LWIN",f,f],[5,1,161,"ControlRight",5,f,0,"VK_RCONTROL",f,f],[4,1,162,"ShiftRight",4,f,0,"VK_RSHIFT",f,f],[6,1,163,"AltRight",6,f,0,"VK_RMENU",f,f],[57,1,164,"MetaRight",57,f,0,"VK_RWIN",f,f],[0,1,165,"BrightnessUp",0,f,0,f,f,f],[0,1,166,"BrightnessDown",0,f,0,f,f,f],[0,1,167,"MediaPlay",0,f,0,f,f,f],[0,1,168,"MediaRecord",0,f,0,f,f,f],[0,1,169,"MediaFastForward",0,f,0,f,f,f],[0,1,170,"MediaRewind",0,f,0,f,f,f],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",f,f],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",f,f],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",f,f],[0,1,174,"Eject",0,f,0,f,f,f],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",f,f],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",f,f],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",f,f],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",f,f],[0,1,179,"LaunchApp1",0,f,0,"VK_MEDIA_LAUNCH_APP1",f,f],[0,1,180,"SelectTask",0,f,0,f,f,f],[0,1,181,"LaunchScreenSaver",0,f,0,f,f,f],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",f,f],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",f,f],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",f,f],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",f,f],[0,1,186,"BrowserStop",0,f,0,"VK_BROWSER_STOP",f,f],[0,1,187,"BrowserRefresh",0,f,0,"VK_BROWSER_REFRESH",f,f],[0,1,188,"BrowserFavorites",0,f,0,"VK_BROWSER_FAVORITES",f,f],[0,1,189,"ZoomToggle",0,f,0,f,f,f],[0,1,190,"MailReply",0,f,0,f,f,f],[0,1,191,"MailForward",0,f,0,f,f,f],[0,1,192,"MailSend",0,f,0,f,f,f],[109,1,0,f,109,"KeyInComposition",229,f,f,f],[111,1,0,f,111,"ABNT_C2",194,"VK_ABNT_C2",f,f],[91,1,0,f,91,"OEM_8",223,"VK_OEM_8",f,f],[0,1,0,f,0,f,0,"VK_KANA",f,f],[0,1,0,f,0,f,0,"VK_HANGUL",f,f],[0,1,0,f,0,f,0,"VK_JUNJA",f,f],[0,1,0,f,0,f,0,"VK_FINAL",f,f],[0,1,0,f,0,f,0,"VK_HANJA",f,f],[0,1,0,f,0,f,0,"VK_KANJI",f,f],[0,1,0,f,0,f,0,"VK_CONVERT",f,f],[0,1,0,f,0,f,0,"VK_NONCONVERT",f,f],[0,1,0,f,0,f,0,"VK_ACCEPT",f,f],[0,1,0,f,0,f,0,"VK_MODECHANGE",f,f],[0,1,0,f,0,f,0,"VK_SELECT",f,f],[0,1,0,f,0,f,0,"VK_PRINT",f,f],[0,1,0,f,0,f,0,"VK_EXECUTE",f,f],[0,1,0,f,0,f,0,"VK_SNAPSHOT",f,f],[0,1,0,f,0,f,0,"VK_HELP",f,f],[0,1,0,f,0,f,0,"VK_APPS",f,f],[0,1,0,f,0,f,0,"VK_PROCESSKEY",f,f],[0,1,0,f,0,f,0,"VK_PACKET",f,f],[0,1,0,f,0,f,0,"VK_DBE_SBCSCHAR",f,f],[0,1,0,f,0,f,0,"VK_DBE_DBCSCHAR",f,f],[0,1,0,f,0,f,0,"VK_ATTN",f,f],[0,1,0,f,0,f,0,"VK_CRSEL",f,f],[0,1,0,f,0,f,0,"VK_EXSEL",f,f],[0,1,0,f,0,f,0,"VK_EREOF",f,f],[0,1,0,f,0,f,0,"VK_PLAY",f,f],[0,1,0,f,0,f,0,"VK_ZOOM",f,f],[0,1,0,f,0,f,0,"VK_NONAME",f,f],[0,1,0,f,0,f,0,"VK_PA1",f,f],[0,1,0,f,0,f,0,"VK_OEM_CLEAR",f,f]];let z=[],L=[];for(const N of E){const[Z,O,I,$,j,G,oe,de,fe,pe]=N;if(L[I]||(L[I]=!0,T[I]=$,B[$]=I,P[$.toLowerCase()]=I,O&&(y[I]=j,0!==j&&3!==j&&5!==j&&4!==j&&6!==j&&57!==j&&(C[j]=I))),!z[j]){if(z[j]=!0,!G)throw new Error(`String representation missing for key code ${j} around scan code ${$}`);g.define(j,G),Y.define(j,fe||G),W.define(j,pe||fe||G)}oe&&(M[oe]=j),de&&(i[de]=j)}C[3]=46}(),(f=b||(b={})).toString=function(I){return g.keyCodeToStr(I)},f.fromString=function(I){return g.strToKeyCode(I)},f.toUserSettingsUS=function(I){return Y.keyCodeToStr(I)},f.toUserSettingsGeneral=function(I){return W.keyCodeToStr(I)},f.fromUserSettings=function(I){return Y.strToKeyCode(I)||W.strToKeyCode(I)},f.toElectronAccelerator=function(I){if(I>=93&&I<=108)return null;switch(I){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return g.keyCodeToStr(I)}},99802:(Fe,Ee,p)=>{p.d(Ee,{xo:()=>Y,X4:()=>W,jC:()=>M});var D=p(12918);class g{constructor(P,y,C=y){this.modifierLabels=[null],this.modifierLabels[2]=P,this.modifierLabels[1]=y,this.modifierLabels[3]=C}toLabel(P,y,C){if(0===y.length)return null;const b=[];for(let x=0,f=y.length;x<f;x++){const E=y[x],z=C(E);if(null===z)return null;b[x]=T(E,z,this.modifierLabels[P])}return b.join(" ")}}const Y=new g({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:D.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:D.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:D.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:D.N({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:D.N({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:D.N({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:D.N({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:D.N({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),W=new g({ctrlKey:D.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D.N({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:D.N({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:D.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D.N({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:D.N({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:D.N({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:D.N({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:D.N({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),M=new g({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function T(B,P,y){if(null===P)return"";const C=[];return B.ctrlKey&&C.push(y.ctrlKey),B.shiftKey&&C.push(y.shiftKey),B.altKey&&C.push(y.altKey),B.metaKey&&C.push(y.metaKey),""!==P&&C.push(P),C.join(y.separator)}new g({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})},99315:(Fe,Ee,p)=>{p.d(Ee,{gm:()=>g,QC:()=>W,X_:()=>M,BQ:()=>T,f1:()=>B});var D=p(13226);function g(P,y){if(0===P)return null;const C=(65535&P)>>>0,b=(4294901760&P)>>>16;return new M(0!==b?[Y(C,y),Y(b,y)]:[Y(C,y)])}function Y(P,y){const C=!!(2048&P),b=!!(256&P);return new W(2===y?b:C,!!(1024&P),!!(512&P),2===y?C:b,255&P)}class W{constructor(y,C,b,x,f){this.ctrlKey=y,this.shiftKey=C,this.altKey=b,this.metaKey=x,this.keyCode=f}equals(y){return this.ctrlKey===y.ctrlKey&&this.shiftKey===y.shiftKey&&this.altKey===y.altKey&&this.metaKey===y.metaKey&&this.keyCode===y.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new M([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class M{constructor(y){if(0===y.length)throw(0,D.b1)("parts");this.parts=y}}class T{constructor(y,C,b,x,f,E){this.ctrlKey=y,this.shiftKey=C,this.altKey=b,this.metaKey=x,this.keyLabel=f,this.keyAriaLabel=E}}class B{}},90341:(Fe,Ee,p)=>{p.d(Ee,{o:()=>D});class D{constructor(Y){this.executor=Y,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(Y){this._error=Y}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},40189:(Fe,Ee,p)=>{p.d(Ee,{dk:()=>y,Wf:()=>b,B9:()=>x,F8:()=>f,OF:()=>E,SL:()=>z,JT:()=>L,XK:()=>N,dt:()=>Z,Jz:()=>O});var D=p(16811),g=p(58151);function y(I){return I}class C extends Error{constructor($){super(`Encountered errors while disposing of store. Errors: [${$.join(", ")}]`),this.errors=$}}function b(I){return"function"==typeof I.dispose&&0===I.dispose.length}function x(I){if(g.$.is(I)){let $=[];for(const j of I)if(j)try{j.dispose()}catch(G){$.push(G)}if(1===$.length)throw $[0];if($.length>1)throw new C($);return Array.isArray(I)?[]:I}if(I)return I.dispose(),I}function f(...I){const $=E(()=>x(I));return $}function E(I){const $={dispose:(0,D.I)(()=>{I()})};return $}let z=(()=>{class I{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{x(this._toDispose.values())}finally{this._toDispose.clear()}}add(j){if(!j)return j;if(j===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?I.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(j),j}}return I.DISABLE_DISPOSED_WARNING=!1,I})();class L{constructor(){this._store=new z}dispose(){this._store.dispose()}_register($){if($===this)throw new Error("Cannot register a disposable on itself!");return this._store.add($)}}L.None=Object.freeze({dispose(){}});class N{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value($){var j;this._isDisposed||$===this._value||(null===(j=this._value)||void 0===j||j.dispose(),this._value=$)}clear(){this.value=void 0}dispose(){var $;this._isDisposed=!0,null===($=this._value)||void 0===$||$.dispose(),this._value=void 0}clearAndLeak(){const $=this._value;return this._value=void 0,$}}class Z{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1}set($){let j=$;return this.unset=()=>j=void 0,this.isset=()=>void 0!==j,this.dispose=()=>{j&&(j(),j=void 0)},this}}class O{constructor($){this.object=$}dispose(){}}},62253:(Fe,Ee,p)=>{p.d(Ee,{S:()=>g});class D{constructor(W){this.element=W,this.next=D.Undefined,this.prev=D.Undefined}}D.Undefined=new D(void 0);class g{constructor(){this._first=D.Undefined,this._last=D.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===D.Undefined}clear(){let W=this._first;for(;W!==D.Undefined;){const M=W.next;W.prev=D.Undefined,W.next=D.Undefined,W=M}this._first=D.Undefined,this._last=D.Undefined,this._size=0}unshift(W){return this._insert(W,!1)}push(W){return this._insert(W,!0)}_insert(W,M){const i=new D(W);if(this._first===D.Undefined)this._first=i,this._last=i;else if(M){const B=this._last;this._last=i,i.prev=B,B.next=i}else{const B=this._first;this._first=i,i.next=B,B.prev=i}this._size+=1;let T=!1;return()=>{T||(T=!0,this._remove(i))}}shift(){if(this._first!==D.Undefined){const W=this._first.element;return this._remove(this._first),W}}pop(){if(this._last!==D.Undefined){const W=this._last.element;return this._remove(this._last),W}}_remove(W){if(W.prev!==D.Undefined&&W.next!==D.Undefined){const M=W.prev;M.next=W.next,W.next.prev=M}else W.prev===D.Undefined&&W.next===D.Undefined?(this._first=D.Undefined,this._last=D.Undefined):W.next===D.Undefined?(this._last=this._last.prev,this._last.next=D.Undefined):W.prev===D.Undefined&&(this._first=this._first.next,this._first.prev=D.Undefined);this._size-=1}*[Symbol.iterator](){let W=this._first;for(;W!==D.Undefined;)yield W.element,W=W.next}}},33439:(Fe,Ee,p)=>{p.d(Ee,{Id:()=>P,Y9:()=>C,z6:()=>x});var g,Y,D=p(74243);class W{constructor(){this._value="",this._pos=0}reset(E){return this._value=E,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(E){return E.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class M{constructor(E=!0){this._caseSensitive=E}reset(E){return this._value=E,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let E=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!E)break;this._from++}else E=!1;return this}cmp(E){return this._caseSensitive?(0,D.TT)(E,this._value,0,E.length,this._from,this._to):(0,D.j_)(E,this._value,0,E.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class i{constructor(E=!0,z=!0){this._splitOnBackslash=E,this._caseSensitive=z}reset(E){this._from=0,this._to=0,this._value=E,this._valueLen=E.length;for(let z=E.length-1;z>=0;z--,this._valueLen--){const L=this._value.charCodeAt(z);if(!(47===L||this._splitOnBackslash&&92===L))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let E=!0;for(;this._to<this._valueLen;this._to++){const z=this._value.charCodeAt(this._to);if(47===z||this._splitOnBackslash&&92===z){if(!E)break;this._from++}else E=!1}return this}cmp(E){return this._caseSensitive?(0,D.TT)(E,this._value,0,E.length,this._from,this._to):(0,D.j_)(E,this._value,0,E.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class T{constructor(E){this._ignorePathCasing=E,this._states=[],this._stateIdx=0}reset(E){return this._value=E,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new i(!1,!this._ignorePathCasing(E)),this._pathIterator.reset(E.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(E){if(1===this._states[this._stateIdx])return(0,D.zY)(E,this._value.scheme);if(2===this._states[this._stateIdx])return(0,D.zY)(E,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(E);if(4===this._states[this._stateIdx])return(0,D.qu)(E,this._value.query);if(5===this._states[this._stateIdx])return(0,D.qu)(E,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class B{constructor(){this.height=1}rotateLeft(){const E=this.right;return this.right=E.left,E.left=this,this.updateHeight(),E.updateHeight(),E}rotateRight(){const E=this.left;return this.left=E.right,E.right=this,this.updateHeight(),E.updateHeight(),E}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var E,z;return null!==(z=null===(E=this.left)||void 0===E?void 0:E.height)&&void 0!==z?z:0}get heightRight(){var E,z;return null!==(z=null===(E=this.right)||void 0===E?void 0:E.height)&&void 0!==z?z:0}}class P{constructor(E){this._iter=E}static forUris(E=(()=>!1)){return new P(new T(E))}static forStrings(){return new P(new W)}static forConfigKeys(){return new P(new M)}clear(){this._root=void 0}set(E,z){const L=this._iter.reset(E);let N;this._root||(this._root=new B,this._root.segment=L.value());const Z=[];for(N=this._root;;){const I=L.cmp(N.segment);if(I>0)N.left||(N.left=new B,N.left.segment=L.value()),Z.push([-1,N]),N=N.left;else if(I<0)N.right||(N.right=new B,N.right.segment=L.value()),Z.push([1,N]),N=N.right;else{if(!L.hasNext())break;L.next(),N.mid||(N.mid=new B,N.mid.segment=L.value()),Z.push([0,N]),N=N.mid}}const O=N.value;N.value=z,N.key=E;for(let I=Z.length-1;I>=0;I--){const $=Z[I][1];$.updateHeight();const j=$.balanceFactor();if(j<-1||j>1){const G=Z[I][0],oe=Z[I+1][0];if(1===G&&1===oe)Z[I][1]=$.rotateLeft();else if(-1===G&&-1===oe)Z[I][1]=$.rotateRight();else if(1===G&&-1===oe)$.right=Z[I+1][1]=Z[I+1][1].rotateRight(),Z[I][1]=$.rotateLeft();else{if(-1!==G||1!==oe)throw new Error;$.left=Z[I+1][1]=Z[I+1][1].rotateLeft(),Z[I][1]=$.rotateRight()}if(I>0)switch(Z[I-1][0]){case-1:Z[I-1][1].left=Z[I][1];break;case 1:Z[I-1][1].right=Z[I][1];break;case 0:Z[I-1][1].mid=Z[I][1]}else this._root=Z[0][1]}}return O}get(E){var z;return null===(z=this._getNode(E))||void 0===z?void 0:z.value}_getNode(E){const z=this._iter.reset(E);let L=this._root;for(;L;){const N=z.cmp(L.segment);if(N>0)L=L.left;else if(N<0)L=L.right;else{if(!z.hasNext())break;z.next(),L=L.mid}}return L}has(E){const z=this._getNode(E);return!(void 0===(null==z?void 0:z.value)&&void 0===(null==z?void 0:z.mid))}delete(E){return this._delete(E,!1)}deleteSuperstr(E){return this._delete(E,!0)}_delete(E,z){var L;const N=this._iter.reset(E),Z=[];let O=this._root;for(;O;){const I=N.cmp(O.segment);if(I>0)Z.push([-1,O]),O=O.left;else if(I<0)Z.push([1,O]),O=O.right;else{if(!N.hasNext())break;N.next(),Z.push([0,O]),O=O.mid}}if(O){if(z?(O.left=void 0,O.mid=void 0,O.right=void 0,O.height=1):(O.key=void 0,O.value=void 0),!O.mid&&!O.value)if(O.left&&O.right){const I=this._min(O.right),{key:$,value:j,segment:G}=I;this._delete(I.key,!1),O.key=$,O.value=j,O.segment=G}else{const I=null!==(L=O.left)&&void 0!==L?L:O.right;if(Z.length>0){const[$,j]=Z[Z.length-1];switch($){case-1:j.left=I;break;case 0:j.mid=I;break;case 1:j.right=I}}else this._root=I}for(let I=Z.length-1;I>=0;I--){const $=Z[I][1];$.updateHeight();const j=$.balanceFactor();if(j>1?($.right.balanceFactor()>=0||($.right=$.right.rotateRight()),Z[I][1]=$.rotateLeft()):j<-1&&($.left.balanceFactor()<=0||($.left=$.left.rotateLeft()),Z[I][1]=$.rotateRight()),I>0)switch(Z[I-1][0]){case-1:Z[I-1][1].left=Z[I][1];break;case 1:Z[I-1][1].right=Z[I][1];break;case 0:Z[I-1][1].mid=Z[I][1]}else this._root=Z[0][1]}}}_min(E){for(;E.left;)E=E.left;return E}findSubstr(E){const z=this._iter.reset(E);let N,L=this._root;for(;L;){const Z=z.cmp(L.segment);if(Z>0)L=L.left;else if(Z<0)L=L.right;else{if(!z.hasNext())break;z.next(),N=L.value||N,L=L.mid}}return L&&L.value||N}findSuperstr(E){const z=this._iter.reset(E);let L=this._root;for(;L;){const N=z.cmp(L.segment);if(N>0)L=L.left;else if(N<0)L=L.right;else{if(!z.hasNext())return L.mid?this._entries(L.mid):void 0;z.next(),L=L.mid}}}forEach(E){for(const[z,L]of this)E(L,z)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(E){!E||(E.left&&(yield*this._entries(E.left)),E.value&&(yield[E.key,E.value]),E.mid&&(yield*this._entries(E.mid)),E.right&&(yield*this._entries(E.right)))}}class y{constructor(E,z){this.uri=E,this.value=z}}let C=(()=>{class f{constructor(z,L){this[g]="ResourceMap",z instanceof f?(this.map=new Map(z.map),this.toKey=L??f.defaultToKey):(this.map=new Map,this.toKey=z??f.defaultToKey)}set(z,L){return this.map.set(this.toKey(z),new y(z,L)),this}get(z){var L;return null===(L=this.map.get(this.toKey(z)))||void 0===L?void 0:L.value}has(z){return this.map.has(this.toKey(z))}get size(){return this.map.size}clear(){this.map.clear()}delete(z){return this.map.delete(this.toKey(z))}forEach(z,L){void 0!==L&&(z=z.bind(L));for(let[N,Z]of this.map)z(Z.value,Z.uri,this)}*values(){for(let z of this.map.values())yield z.value}*keys(){for(let z of this.map.values())yield z.uri}*entries(){for(let z of this.map.values())yield[z.uri,z.value]}*[(g=Symbol.toStringTag,Symbol.iterator)](){for(let[,z]of this.map)yield[z.uri,z.value]}}return f.defaultToKey=E=>E.toString(),f})();class b{constructor(){this[Y]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var E;return null===(E=this._head)||void 0===E?void 0:E.value}get last(){var E;return null===(E=this._tail)||void 0===E?void 0:E.value}has(E){return this._map.has(E)}get(E,z=0){const L=this._map.get(E);if(L)return 0!==z&&this.touch(L,z),L.value}set(E,z,L=0){let N=this._map.get(E);return N?(N.value=z,0!==L&&this.touch(N,L)):(1===(N={key:E,value:z,next:void 0,previous:void 0},L)?this.addItemFirst(N):this.addItemLast(N),this._map.set(E,N),this._size++),this}delete(E){return!!this.remove(E)}remove(E){const z=this._map.get(E);if(z)return this._map.delete(E),this.removeItem(z),this._size--,z.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const E=this._head;return this._map.delete(E.key),this.removeItem(E),this._size--,E.value}forEach(E,z){const L=this._state;let N=this._head;for(;N;){if(z?E.bind(z)(N.value,N.key,this):E(N.value,N.key,this),this._state!==L)throw new Error("LinkedMap got modified during iteration.");N=N.next}}keys(){const E=this,z=this._state;let L=this._head;const N={[Symbol.iterator]:()=>N,next(){if(E._state!==z)throw new Error("LinkedMap got modified during iteration.");if(L){const Z={value:L.key,done:!1};return L=L.next,Z}return{value:void 0,done:!0}}};return N}values(){const E=this,z=this._state;let L=this._head;const N={[Symbol.iterator]:()=>N,next(){if(E._state!==z)throw new Error("LinkedMap got modified during iteration.");if(L){const Z={value:L.value,done:!1};return L=L.next,Z}return{value:void 0,done:!0}}};return N}entries(){const E=this,z=this._state;let L=this._head;const N={[Symbol.iterator]:()=>N,next(){if(E._state!==z)throw new Error("LinkedMap got modified during iteration.");if(L){const Z={value:[L.key,L.value],done:!1};return L=L.next,Z}return{value:void 0,done:!0}}};return N}[(Y=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(E){if(E>=this.size)return;if(0===E)return void this.clear();let z=this._head,L=this.size;for(;z&&L>E;)this._map.delete(z.key),z=z.next,L--;this._head=z,this._size=L,z&&(z.previous=void 0),this._state++}addItemFirst(E){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");E.next=this._head,this._head.previous=E}else this._tail=E;this._head=E,this._state++}addItemLast(E){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");E.previous=this._tail,this._tail.next=E}else this._head=E;this._tail=E,this._state++}removeItem(E){if(E===this._head&&E===this._tail)this._head=void 0,this._tail=void 0;else if(E===this._head){if(!E.next)throw new Error("Invalid list");E.next.previous=void 0,this._head=E.next}else if(E===this._tail){if(!E.previous)throw new Error("Invalid list");E.previous.next=void 0,this._tail=E.previous}else{const z=E.next,L=E.previous;if(!z||!L)throw new Error("Invalid list");z.previous=L,L.next=z}E.next=void 0,E.previous=void 0,this._state++}touch(E,z){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===z||2===z)if(1===z){if(E===this._head)return;const L=E.next,N=E.previous;E===this._tail?(N.next=void 0,this._tail=N):(L.previous=N,N.next=L),E.previous=void 0,E.next=this._head,this._head.previous=E,this._head=E,this._state++}else if(2===z){if(E===this._tail)return;const L=E.next,N=E.previous;E===this._head?(L.previous=void 0,this._head=L):(L.previous=N,N.next=L),E.next=void 0,E.previous=this._tail,this._tail.next=E,this._tail=E,this._state++}}toJSON(){const E=[];return this.forEach((z,L)=>{E.push([L,z])}),E}fromJSON(E){this.clear();for(const[z,L]of E)this.set(z,L)}}class x extends b{constructor(E,z=1){super(),this._limit=E,this._ratio=Math.min(Math.max(0,z),1)}get limit(){return this._limit}set limit(E){this._limit=E,this.checkTrim()}get(E,z=2){return super.get(E,z)}peek(E){return super.get(E,0)}set(E,z){return super.set(E,z,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},7272:(Fe,Ee,p)=>{p.d(Ee,{Q:()=>Y});var D=p(90386),g=p(85459);function Y(M){let i=JSON.parse(M);return i=W(i),i}function W(M,i=0){if(!M||i>200)return M;if("object"==typeof M){switch(M.$mid){case 1:return g.o.revive(M);case 2:return new RegExp(M.source,M.flags);case 14:return new Date(M.source)}if(M instanceof D.KN||M instanceof Uint8Array)return M;if(Array.isArray(M))for(let T=0;T<M.length;++T)M[T]=W(M[T],i+1);else for(const T in M)Object.hasOwnProperty.call(M,T)&&(M[T]=W(M[T],i+1))}return M}},48343:(Fe,Ee,p)=>{p.d(Ee,{v:()=>D});var D=(()=>{return(g=D||(D={})).text="text/plain",g.binary="application/octet-stream",g.unknown="application/unknown",g.markdown="text/markdown",g.latex="text/latex",g.uriList="text/uri-list",D;var g})()},98318:(Fe,Ee,p)=>{p.d(Ee,{lg:()=>Y,WX:()=>i,Gi:()=>B});var D=p(70700),g=p(85459),Y=(()=>{return(P=Y||(Y={})).inMemory="inmemory",P.vscode="vscode",P.internal="private",P.walkThrough="walkThrough",P.walkThroughSnippet="walkThroughSnippet",P.http="http",P.https="https",P.file="file",P.mailto="mailto",P.untitled="untitled",P.data="data",P.command="command",P.vscodeRemote="vscode-remote",P.vscodeRemoteResource="vscode-remote-resource",P.userData="vscode-userdata",P.vscodeCustomEditor="vscode-custom-editor",P.vscodeNotebook="vscode-notebook",P.vscodeNotebookCell="vscode-notebook-cell",P.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",P.vscodeNotebookCellOutput="vscode-notebook-cell-output",P.vscodeInteractive="vscode-interactive",P.vscodeInteractiveInput="vscode-interactive-input",P.vscodeSettings="vscode-settings",P.vscodeWorkspaceTrust="vscode-workspace-trust",P.vscodeTerminal="vscode-terminal",P.webviewPanel="webview-panel",P.vscodeWebview="vscode-webview",P.extension="extension",P.vscodeFileResource="vscode-file",P.tmp="tmp",P.vsls="vsls",Y;var P})();const i=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(y){this._preferredWebSchema=y}rewrite(y){if(this._delegate)return this._delegate(y);const C=y.authority;let b=this._hosts[C];b&&-1!==b.indexOf(":")&&(b=`[${b}]`);const x=this._ports[C],f=this._connectionTokens[C];let E=`path=${encodeURIComponent(y.path)}`;return"string"==typeof f&&(E+=`&tkn=${encodeURIComponent(f)}`),g.o.from({scheme:D.$L?this._preferredWebSchema:Y.vscodeRemoteResource,authority:`${b}:${x}`,path:"/vscode-remote-resource",query:E})}},B=new((()=>{class P{asBrowserUri(C,b){const x=this.toUri(C,b);return x.scheme===Y.vscodeRemote?i.rewrite(x):x.scheme===Y.file&&(D.tY||D.n2&&D.li.origin===`${Y.vscodeFileResource}://${P.FALLBACK_AUTHORITY}`)?x.with({scheme:Y.vscodeFileResource,authority:x.authority||P.FALLBACK_AUTHORITY,query:null,fragment:null}):x}toUri(C,b){return g.o.isUri(C)?C:g.o.parse(b.toUrl(C))}}return P.FALLBACK_AUTHORITY="vscode-app",P})())},31096:(Fe,Ee,p)=>{function D(W,M,i){return Math.min(Math.max(W,M),i)}p.d(Ee,{uZ:()=>D,nM:()=>g,N:()=>Y});class g{constructor(){this._n=1,this._val=0}update(M){return this._val=this._val+(M-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class Y{constructor(M){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(M),this._values.fill(0,0,M)}update(M){const i=this._values[this._index];return this._values[this._index]=M,this._index=(this._index+1)%this._values.length,this._sum-=i,this._sum+=M,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},60842:(Fe,Ee,p)=>{p.d(Ee,{I8:()=>g,_A:()=>Y,rs:()=>M,jB:()=>T,fS:()=>B,CJ:()=>P});var D=p(99770);function g(y){if(!y||"object"!=typeof y||y instanceof RegExp)return y;const C=Array.isArray(y)?[]:{};return Object.keys(y).forEach(b=>{C[b]=y[b]&&"object"==typeof y[b]?g(y[b]):y[b]}),C}function Y(y){if(!y||"object"!=typeof y)return y;const C=[y];for(;C.length>0;){const b=C.shift();Object.freeze(b);for(const x in b)if(W.call(b,x)){const f=b[x];"object"==typeof f&&!Object.isFrozen(f)&&C.push(f)}}return y}const W=Object.prototype.hasOwnProperty;function M(y,C){return i(y,C,new Set)}function i(y,C,b){if((0,D.Jp)(y))return y;const x=C(y);if(void 0!==x)return x;if((0,D.kJ)(y)){const f=[];for(const E of y)f.push(i(E,C,b));return f}if((0,D.Kn)(y)){if(b.has(y))throw new Error("Cannot clone recursive data-structure");b.add(y);const f={};for(let E in y)W.call(y,E)&&(f[E]=i(y[E],C,b));return b.delete(y),f}return y}function T(y,C,b=!0){return(0,D.Kn)(y)?((0,D.Kn)(C)&&Object.keys(C).forEach(x=>{x in y?b&&((0,D.Kn)(y[x])&&(0,D.Kn)(C[x])?T(y[x],C[x],b):y[x]=C[x]):y[x]=C[x]}),y):C}function B(y,C){if(y===C)return!0;if(null==y||null==C||typeof y!=typeof C||"object"!=typeof y||Array.isArray(y)!==Array.isArray(C))return!1;let b,x;if(Array.isArray(y)){if(y.length!==C.length)return!1;for(b=0;b<y.length;b++)if(!B(y[b],C[b]))return!1}else{const f=[];for(x in y)f.push(x);f.sort();const E=[];for(x in C)E.push(x);if(E.sort(),!B(f,E))return!1;for(b=0;b<f.length;b++)if(!B(y[f[b]],C[f[b]]))return!1}return!0}function P(y,C,b){const x=C(y);return void 0===x?b:x}},84491:(Fe,Ee,p)=>{p.d(Ee,{EZ:()=>pe,XX:()=>fe,DZ:()=>ye,Fv:()=>G,KR:()=>j,Gf:()=>de,DB:()=>oe,ir:()=>ge,Ku:()=>$});var D=p(70700);let g;if(void 0!==D.li.vscode&&void 0!==D.li.vscode.process){const Q=D.li.vscode.process;g={get platform(){return Q.platform},get arch(){return Q.arch},get env(){return Q.env},cwd:()=>Q.cwd()}}else g="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return D.ED?"win32":D.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const Y=g.cwd,W=g.env,M=g.platform,y=46,C=47,b=92,x=58;class E extends Error{constructor(ee,le,te){let J;"string"==typeof le&&0===le.indexOf("not ")?(J="must not be",le=le.replace(/^not /,"")):J="must be";const re=-1!==ee.indexOf(".")?"property":"argument";let ce=`The "${ee}" ${re} ${J} of type ${le}`;ce+=". Received type "+typeof te,super(ce),this.code="ERR_INVALID_ARG_TYPE"}}function z(Q,ee){if("string"!=typeof Q)throw new E(ee,"string",Q)}function L(Q){return Q===C||Q===b}function N(Q){return Q===C}function Z(Q){return Q>=65&&Q<=90||Q>=97&&Q<=122}function O(Q,ee,le,te){let J="",re=0,ce=-1,ve=0,Ie=0;for(let We=0;We<=Q.length;++We){if(We<Q.length)Ie=Q.charCodeAt(We);else{if(te(Ie))break;Ie=C}if(te(Ie)){if(ce!==We-1&&1!==ve)if(2===ve){if(J.length<2||2!==re||J.charCodeAt(J.length-1)!==y||J.charCodeAt(J.length-2)!==y){if(J.length>2){const Ue=J.lastIndexOf(le);-1===Ue?(J="",re=0):(J=J.slice(0,Ue),re=J.length-1-J.lastIndexOf(le)),ce=We,ve=0;continue}if(0!==J.length){J="",re=0,ce=We,ve=0;continue}}ee&&(J+=J.length>0?`${le}..`:"..",re=2)}else J.length>0?J+=`${le}${Q.slice(ce+1,We)}`:J=Q.slice(ce+1,We),re=We-ce-1;ce=We,ve=0}else Ie===y&&-1!==ve?++ve:ve=-1}return J}function I(Q,ee){if(null===ee||"object"!=typeof ee)throw new E("pathObject","Object",ee);const le=ee.dir||ee.root,te=ee.base||`${ee.name||""}${ee.ext||""}`;return le?le===ee.root?`${le}${te}`:`${le}${Q}${te}`:te}const $={resolve(...Q){let ee="",le="",te=!1;for(let J=Q.length-1;J>=-1;J--){let re;if(J>=0){if(re=Q[J],z(re,"path"),0===re.length)continue}else 0===ee.length?re=Y():(re=W[`=${ee}`]||Y(),(void 0===re||re.slice(0,2).toLowerCase()!==ee.toLowerCase()&&re.charCodeAt(2)===b)&&(re=`${ee}\\`));const ce=re.length;let ve=0,Ie="",We=!1;const Ue=re.charCodeAt(0);if(1===ce)L(Ue)&&(ve=1,We=!0);else if(L(Ue))if(We=!0,L(re.charCodeAt(1))){let ue=2,Ce=ue;for(;ue<ce&&!L(re.charCodeAt(ue));)ue++;if(ue<ce&&ue!==Ce){const Ae=re.slice(Ce,ue);for(Ce=ue;ue<ce&&L(re.charCodeAt(ue));)ue++;if(ue<ce&&ue!==Ce){for(Ce=ue;ue<ce&&!L(re.charCodeAt(ue));)ue++;(ue===ce||ue!==Ce)&&(Ie=`\\\\${Ae}\\${re.slice(Ce,ue)}`,ve=ue)}}}else ve=1;else Z(Ue)&&re.charCodeAt(1)===x&&(Ie=re.slice(0,2),ve=2,ce>2&&L(re.charCodeAt(2))&&(We=!0,ve=3));if(Ie.length>0)if(ee.length>0){if(Ie.toLowerCase()!==ee.toLowerCase())continue}else ee=Ie;if(te){if(ee.length>0)break}else if(le=`${re.slice(ve)}\\${le}`,te=We,We&&ee.length>0)break}return le=O(le,!te,"\\",L),te?`${ee}\\${le}`:`${ee}${le}`||"."},normalize(Q){z(Q,"path");const ee=Q.length;if(0===ee)return".";let te,le=0,J=!1;const re=Q.charCodeAt(0);if(1===ee)return N(re)?"\\":Q;if(L(re))if(J=!0,L(Q.charCodeAt(1))){let ve=2,Ie=ve;for(;ve<ee&&!L(Q.charCodeAt(ve));)ve++;if(ve<ee&&ve!==Ie){const We=Q.slice(Ie,ve);for(Ie=ve;ve<ee&&L(Q.charCodeAt(ve));)ve++;if(ve<ee&&ve!==Ie){for(Ie=ve;ve<ee&&!L(Q.charCodeAt(ve));)ve++;if(ve===ee)return`\\\\${We}\\${Q.slice(Ie)}\\`;ve!==Ie&&(te=`\\\\${We}\\${Q.slice(Ie,ve)}`,le=ve)}}}else le=1;else Z(re)&&Q.charCodeAt(1)===x&&(te=Q.slice(0,2),le=2,ee>2&&L(Q.charCodeAt(2))&&(J=!0,le=3));let ce=le<ee?O(Q.slice(le),!J,"\\",L):"";return 0===ce.length&&!J&&(ce="."),ce.length>0&&L(Q.charCodeAt(ee-1))&&(ce+="\\"),void 0===te?J?`\\${ce}`:ce:J?`${te}\\${ce}`:`${te}${ce}`},isAbsolute(Q){z(Q,"path");const ee=Q.length;if(0===ee)return!1;const le=Q.charCodeAt(0);return L(le)||ee>2&&Z(le)&&Q.charCodeAt(1)===x&&L(Q.charCodeAt(2))},join(...Q){if(0===Q.length)return".";let ee,le;for(let re=0;re<Q.length;++re){const ce=Q[re];z(ce,"path"),ce.length>0&&(void 0===ee?ee=le=ce:ee+=`\\${ce}`)}if(void 0===ee)return".";let te=!0,J=0;if("string"==typeof le&&L(le.charCodeAt(0))){++J;const re=le.length;re>1&&L(le.charCodeAt(1))&&(++J,re>2&&(L(le.charCodeAt(2))?++J:te=!1))}if(te){for(;J<ee.length&&L(ee.charCodeAt(J));)J++;J>=2&&(ee=`\\${ee.slice(J)}`)}return $.normalize(ee)},relative(Q,ee){if(z(Q,"from"),z(ee,"to"),Q===ee)return"";const le=$.resolve(Q),te=$.resolve(ee);if(le===te||(Q=le.toLowerCase())===(ee=te.toLowerCase()))return"";let J=0;for(;J<Q.length&&Q.charCodeAt(J)===b;)J++;let re=Q.length;for(;re-1>J&&Q.charCodeAt(re-1)===b;)re--;const ce=re-J;let ve=0;for(;ve<ee.length&&ee.charCodeAt(ve)===b;)ve++;let Ie=ee.length;for(;Ie-1>ve&&ee.charCodeAt(Ie-1)===b;)Ie--;const We=Ie-ve,Ue=ce<We?ce:We;let ue=-1,Ce=0;for(;Ce<Ue;Ce++){const et=Q.charCodeAt(J+Ce);if(et!==ee.charCodeAt(ve+Ce))break;et===b&&(ue=Ce)}if(Ce!==Ue){if(-1===ue)return te}else{if(We>Ue){if(ee.charCodeAt(ve+Ce)===b)return te.slice(ve+Ce+1);if(2===Ce)return te.slice(ve+Ce)}ce>Ue&&(Q.charCodeAt(J+Ce)===b?ue=Ce:2===Ce&&(ue=3)),-1===ue&&(ue=0)}let Ae="";for(Ce=J+ue+1;Ce<=re;++Ce)(Ce===re||Q.charCodeAt(Ce)===b)&&(Ae+=0===Ae.length?"..":"\\..");return ve+=ue,Ae.length>0?`${Ae}${te.slice(ve,Ie)}`:(te.charCodeAt(ve)===b&&++ve,te.slice(ve,Ie))},toNamespacedPath(Q){if("string"!=typeof Q)return Q;if(0===Q.length)return"";const ee=$.resolve(Q);if(ee.length<=2)return Q;if(ee.charCodeAt(0)===b){if(ee.charCodeAt(1)===b){const le=ee.charCodeAt(2);if(63!==le&&le!==y)return`\\\\?\\UNC\\${ee.slice(2)}`}}else if(Z(ee.charCodeAt(0))&&ee.charCodeAt(1)===x&&ee.charCodeAt(2)===b)return`\\\\?\\${ee}`;return Q},dirname(Q){z(Q,"path");const ee=Q.length;if(0===ee)return".";let le=-1,te=0;const J=Q.charCodeAt(0);if(1===ee)return L(J)?Q:".";if(L(J)){if(le=te=1,L(Q.charCodeAt(1))){let ve=2,Ie=ve;for(;ve<ee&&!L(Q.charCodeAt(ve));)ve++;if(ve<ee&&ve!==Ie){for(Ie=ve;ve<ee&&L(Q.charCodeAt(ve));)ve++;if(ve<ee&&ve!==Ie){for(Ie=ve;ve<ee&&!L(Q.charCodeAt(ve));)ve++;if(ve===ee)return Q;ve!==Ie&&(le=te=ve+1)}}}}else Z(J)&&Q.charCodeAt(1)===x&&(le=ee>2&&L(Q.charCodeAt(2))?3:2,te=le);let re=-1,ce=!0;for(let ve=ee-1;ve>=te;--ve)if(L(Q.charCodeAt(ve))){if(!ce){re=ve;break}}else ce=!1;if(-1===re){if(-1===le)return".";re=le}return Q.slice(0,re)},basename(Q,ee){void 0!==ee&&z(ee,"ext"),z(Q,"path");let re,le=0,te=-1,J=!0;if(Q.length>=2&&Z(Q.charCodeAt(0))&&Q.charCodeAt(1)===x&&(le=2),void 0!==ee&&ee.length>0&&ee.length<=Q.length){if(ee===Q)return"";let ce=ee.length-1,ve=-1;for(re=Q.length-1;re>=le;--re){const Ie=Q.charCodeAt(re);if(L(Ie)){if(!J){le=re+1;break}}else-1===ve&&(J=!1,ve=re+1),ce>=0&&(Ie===ee.charCodeAt(ce)?-1==--ce&&(te=re):(ce=-1,te=ve))}return le===te?te=ve:-1===te&&(te=Q.length),Q.slice(le,te)}for(re=Q.length-1;re>=le;--re)if(L(Q.charCodeAt(re))){if(!J){le=re+1;break}}else-1===te&&(J=!1,te=re+1);return-1===te?"":Q.slice(le,te)},extname(Q){z(Q,"path");let ee=0,le=-1,te=0,J=-1,re=!0,ce=0;Q.length>=2&&Q.charCodeAt(1)===x&&Z(Q.charCodeAt(0))&&(ee=te=2);for(let ve=Q.length-1;ve>=ee;--ve){const Ie=Q.charCodeAt(ve);if(L(Ie)){if(!re){te=ve+1;break}}else-1===J&&(re=!1,J=ve+1),Ie===y?-1===le?le=ve:1!==ce&&(ce=1):-1!==le&&(ce=-1)}return-1===le||-1===J||0===ce||1===ce&&le===J-1&&le===te+1?"":Q.slice(le,J)},format:I.bind(null,"\\"),parse(Q){z(Q,"path");const ee={root:"",dir:"",base:"",ext:"",name:""};if(0===Q.length)return ee;const le=Q.length;let te=0,J=Q.charCodeAt(0);if(1===le)return L(J)?(ee.root=ee.dir=Q,ee):(ee.base=ee.name=Q,ee);if(L(J)){if(te=1,L(Q.charCodeAt(1))){let ue=2,Ce=ue;for(;ue<le&&!L(Q.charCodeAt(ue));)ue++;if(ue<le&&ue!==Ce){for(Ce=ue;ue<le&&L(Q.charCodeAt(ue));)ue++;if(ue<le&&ue!==Ce){for(Ce=ue;ue<le&&!L(Q.charCodeAt(ue));)ue++;ue===le?te=ue:ue!==Ce&&(te=ue+1)}}}}else if(Z(J)&&Q.charCodeAt(1)===x){if(le<=2)return ee.root=ee.dir=Q,ee;if(te=2,L(Q.charCodeAt(2))){if(3===le)return ee.root=ee.dir=Q,ee;te=3}}te>0&&(ee.root=Q.slice(0,te));let re=-1,ce=te,ve=-1,Ie=!0,We=Q.length-1,Ue=0;for(;We>=te;--We)if(J=Q.charCodeAt(We),L(J)){if(!Ie){ce=We+1;break}}else-1===ve&&(Ie=!1,ve=We+1),J===y?-1===re?re=We:1!==Ue&&(Ue=1):-1!==re&&(Ue=-1);return-1!==ve&&(-1===re||0===Ue||1===Ue&&re===ve-1&&re===ce+1?ee.base=ee.name=Q.slice(ce,ve):(ee.name=Q.slice(ce,re),ee.base=Q.slice(ce,ve),ee.ext=Q.slice(re,ve))),ee.dir=ce>0&&ce!==te?Q.slice(0,ce-1):ee.root,ee},sep:"\\",delimiter:";",win32:null,posix:null},j={resolve(...Q){let ee="",le=!1;for(let te=Q.length-1;te>=-1&&!le;te--){const J=te>=0?Q[te]:Y();z(J,"path"),0!==J.length&&(ee=`${J}/${ee}`,le=J.charCodeAt(0)===C)}return ee=O(ee,!le,"/",N),le?`/${ee}`:ee.length>0?ee:"."},normalize(Q){if(z(Q,"path"),0===Q.length)return".";const ee=Q.charCodeAt(0)===C,le=Q.charCodeAt(Q.length-1)===C;return 0===(Q=O(Q,!ee,"/",N)).length?ee?"/":le?"./":".":(le&&(Q+="/"),ee?`/${Q}`:Q)},isAbsolute:Q=>(z(Q,"path"),Q.length>0&&Q.charCodeAt(0)===C),join(...Q){if(0===Q.length)return".";let ee;for(let le=0;le<Q.length;++le){const te=Q[le];z(te,"path"),te.length>0&&(void 0===ee?ee=te:ee+=`/${te}`)}return void 0===ee?".":j.normalize(ee)},relative(Q,ee){if(z(Q,"from"),z(ee,"to"),Q===ee||(Q=j.resolve(Q))===(ee=j.resolve(ee)))return"";const te=Q.length,J=te-1,ce=ee.length-1,ve=J<ce?J:ce;let Ie=-1,We=0;for(;We<ve;We++){const ue=Q.charCodeAt(1+We);if(ue!==ee.charCodeAt(1+We))break;ue===C&&(Ie=We)}if(We===ve)if(ce>ve){if(ee.charCodeAt(1+We)===C)return ee.slice(1+We+1);if(0===We)return ee.slice(1+We)}else J>ve&&(Q.charCodeAt(1+We)===C?Ie=We:0===We&&(Ie=0));let Ue="";for(We=1+Ie+1;We<=te;++We)(We===te||Q.charCodeAt(We)===C)&&(Ue+=0===Ue.length?"..":"/..");return`${Ue}${ee.slice(1+Ie)}`},toNamespacedPath:Q=>Q,dirname(Q){if(z(Q,"path"),0===Q.length)return".";const ee=Q.charCodeAt(0)===C;let le=-1,te=!0;for(let J=Q.length-1;J>=1;--J)if(Q.charCodeAt(J)===C){if(!te){le=J;break}}else te=!1;return-1===le?ee?"/":".":ee&&1===le?"//":Q.slice(0,le)},basename(Q,ee){void 0!==ee&&z(ee,"ext"),z(Q,"path");let re,le=0,te=-1,J=!0;if(void 0!==ee&&ee.length>0&&ee.length<=Q.length){if(ee===Q)return"";let ce=ee.length-1,ve=-1;for(re=Q.length-1;re>=0;--re){const Ie=Q.charCodeAt(re);if(Ie===C){if(!J){le=re+1;break}}else-1===ve&&(J=!1,ve=re+1),ce>=0&&(Ie===ee.charCodeAt(ce)?-1==--ce&&(te=re):(ce=-1,te=ve))}return le===te?te=ve:-1===te&&(te=Q.length),Q.slice(le,te)}for(re=Q.length-1;re>=0;--re)if(Q.charCodeAt(re)===C){if(!J){le=re+1;break}}else-1===te&&(J=!1,te=re+1);return-1===te?"":Q.slice(le,te)},extname(Q){z(Q,"path");let ee=-1,le=0,te=-1,J=!0,re=0;for(let ce=Q.length-1;ce>=0;--ce){const ve=Q.charCodeAt(ce);if(ve!==C)-1===te&&(J=!1,te=ce+1),ve===y?-1===ee?ee=ce:1!==re&&(re=1):-1!==ee&&(re=-1);else if(!J){le=ce+1;break}}return-1===ee||-1===te||0===re||1===re&&ee===te-1&&ee===le+1?"":Q.slice(ee,te)},format:I.bind(null,"/"),parse(Q){z(Q,"path");const ee={root:"",dir:"",base:"",ext:"",name:""};if(0===Q.length)return ee;const le=Q.charCodeAt(0)===C;let te;le?(ee.root="/",te=1):te=0;let J=-1,re=0,ce=-1,ve=!0,Ie=Q.length-1,We=0;for(;Ie>=te;--Ie){const Ue=Q.charCodeAt(Ie);if(Ue!==C)-1===ce&&(ve=!1,ce=Ie+1),Ue===y?-1===J?J=Ie:1!==We&&(We=1):-1!==J&&(We=-1);else if(!ve){re=Ie+1;break}}if(-1!==ce){const Ue=0===re&&le?1:re;-1===J||0===We||1===We&&J===ce-1&&J===re+1?ee.base=ee.name=Q.slice(Ue,ce):(ee.name=Q.slice(Ue,J),ee.base=Q.slice(Ue,ce),ee.ext=Q.slice(J,ce))}return re>0?ee.dir=Q.slice(0,re-1):le&&(ee.dir="/"),ee},sep:"/",delimiter:":",win32:null,posix:null};j.win32=$.win32=$,j.posix=$.posix=j;const G="win32"===M?$.normalize:j.normalize,oe="win32"===M?$.resolve:j.resolve,de="win32"===M?$.relative:j.relative,fe="win32"===M?$.dirname:j.dirname,pe="win32"===M?$.basename:j.basename,ye="win32"===M?$.extname:j.extname,ge="win32"===M?$.sep:j.sep},70700:(Fe,Ee,p)=>{var D;p.d(Ee,{li:()=>z,ED:()=>I,dz:()=>$,IJ:()=>j,tY:()=>G,$L:()=>oe,n2:()=>de,gn:()=>fe,dK:()=>ye,fn:()=>ge,OS:()=>Q,r:()=>te,i7:()=>J,vU:()=>re,G6:()=>ce,un:()=>ve});const g="en";let b,f,E,Y=!1,W=!1,M=!1,i=!1,T=!1,B=!1,P=!1,y=!1,C=!1,x=g;const z="object"==typeof self?self:"object"==typeof global?global:{};let L;void 0!==z.vscode&&void 0!==z.vscode.process?L=z.vscode.process:"undefined"!=typeof process&&(L=process);const N="string"==typeof(null===(D=null==L?void 0:L.versions)||void 0===D?void 0:D.electron);if("object"!=typeof navigator||N&&"renderer"===(null==L?void 0:L.type))if("object"==typeof L){Y="win32"===L.platform,W="darwin"===L.platform,M="linux"===L.platform,i=M&&!!L.env.SNAP&&!!L.env.SNAP_REVISION,P=N,C=!!L.env.CI||!!L.env.BUILD_ARTIFACTSTAGINGDIRECTORY,b=g,x=g;const We=L.env.VSCODE_NLS_CONFIG;if(We)try{const Ue=JSON.parse(We);b=Ue.locale,x=Ue.availableLanguages["*"]||g,f=Ue._translationsConfigFile}catch{}T=!0}else console.error("Unable to resolve platform.");else E=navigator.userAgent,Y=E.indexOf("Windows")>=0,W=E.indexOf("Macintosh")>=0,y=(E.indexOf("Macintosh")>=0||E.indexOf("iPad")>=0||E.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,M=E.indexOf("Linux")>=0,B=!0,b=navigator.language,x=b;let O=0;W?O=1:Y?O=3:M&&(O=2);const I=Y,$=W,j=M,G=T,oe=B,de=B&&"function"==typeof z.importScripts,fe=y,pe=E,ye=x,ge=(()=>{if("function"==typeof z.postMessage&&!z.importScripts){let We=[];z.addEventListener("message",ue=>{if(ue.data&&ue.data.vscodeScheduleAsyncWork)for(let Ce=0,Ae=We.length;Ce<Ae;Ce++){const et=We[Ce];if(et.id===ue.data.vscodeScheduleAsyncWork)return We.splice(Ce,1),void et.callback()}});let Ue=0;return ue=>{const Ce=++Ue;We.push({id:Ce,callback:ue}),z.postMessage({vscodeScheduleAsyncWork:Ce},"*")}}return We=>setTimeout(We)})(),Q=W||y?2:Y?1:3;let ee=!0,le=!1;function te(){if(!le){le=!0;const We=new Uint8Array(2);We[0]=1,We[1]=2,ee=513===new Uint16Array(We.buffer)[0]}return ee}const J=!!(pe&&pe.indexOf("Chrome")>=0),re=!!(pe&&pe.indexOf("Firefox")>=0),ce=!!(!J&&pe&&pe.indexOf("Safari")>=0),ve=!!(pe&&pe.indexOf("Edg/")>=0);pe&&pe.indexOf("Android")},32975:(Fe,Ee,p)=>{var D;p.d(Ee,{e:()=>D}),function(g){function Y(T,B){if(T.start>=B.end||B.start>=T.end)return{start:0,end:0};const P=Math.max(T.start,B.start),y=Math.min(T.end,B.end);return y-P<=0?{start:0,end:0}:{start:P,end:y}}function W(T){return T.end-T.start<=0}g.intersect=Y,g.isEmpty=W,g.intersects=function(T,B){return!W(Y(T,B))},g.relativeComplement=function(T,B){const P=[],y={start:T.start,end:Math.min(B.start,T.end)},C={start:Math.max(B.end,T.start),end:T.end};return W(y)||P.push(y),W(C)||P.push(C),P}}(D||(D={}))},6228:(Fe,Ee,p)=>{p.d(Ee,{z_:()=>T,SF:()=>P,Xy:()=>b,Hx:()=>E,EZ:()=>z,DZ:()=>L,XX:()=>N,Vo:()=>Z,AH:()=>O,i3:()=>$,Vb:()=>pe});var D=p(46359),g=p(98318),Y=p(84491),W=p(70700),M=p(74243),i=p(85459);function T(ye){return(0,i.q)(ye,!0)}class B{constructor(ge){this._ignorePathCasing=ge}compare(ge,Q,ee=!1){return ge===Q?0:(0,M.qu)(this.getComparisonKey(ge,ee),this.getComparisonKey(Q,ee))}isEqual(ge,Q,ee=!1){return ge===Q||!(!ge||!Q)&&this.getComparisonKey(ge,ee)===this.getComparisonKey(Q,ee)}getComparisonKey(ge,Q=!1){return ge.with({path:this._ignorePathCasing(ge)?ge.path.toLowerCase():void 0,fragment:Q?null:void 0}).toString()}isEqualOrParent(ge,Q,ee=!1){if(ge.scheme===Q.scheme){if(ge.scheme===g.lg.file)return D.KM(T(ge),T(Q),this._ignorePathCasing(ge))&&ge.query===Q.query&&(ee||ge.fragment===Q.fragment);if(G(ge.authority,Q.authority))return D.KM(ge.path,Q.path,this._ignorePathCasing(ge),"/")&&ge.query===Q.query&&(ee||ge.fragment===Q.fragment)}return!1}joinPath(ge,...Q){return i.o.joinPath(ge,...Q)}basenameOrAuthority(ge){return z(ge)||ge.authority}basename(ge){return Y.KR.basename(ge.path)}extname(ge){return Y.KR.extname(ge.path)}dirname(ge){if(0===ge.path.length)return ge;let Q;return ge.scheme===g.lg.file?Q=i.o.file(Y.XX(T(ge))).path:(Q=Y.KR.dirname(ge.path),ge.authority&&Q.length&&47!==Q.charCodeAt(0)&&(console.error(`dirname("${ge.toString})) resulted in a relative path`),Q="/")),ge.with({path:Q})}normalizePath(ge){if(!ge.path.length)return ge;let Q;return Q=ge.scheme===g.lg.file?i.o.file(Y.Fv(T(ge))).path:Y.KR.normalize(ge.path),ge.with({path:Q})}relativePath(ge,Q){if(ge.scheme!==Q.scheme||!G(ge.authority,Q.authority))return;if(ge.scheme===g.lg.file){const te=Y.Gf(T(ge),T(Q));return W.ED?D.ej(te):te}let ee=ge.path||"/",le=Q.path||"/";if(this._ignorePathCasing(ge)){let te=0;for(const J=Math.min(ee.length,le.length);te<J&&(ee.charCodeAt(te)===le.charCodeAt(te)||ee.charAt(te).toLowerCase()===le.charAt(te).toLowerCase());te++);ee=le.substr(0,te)+ee.substr(te)}return Y.KR.relative(ee,le)}resolvePath(ge,Q){if(ge.scheme===g.lg.file){const ee=i.o.file(Y.DB(T(ge),Q));return ge.with({authority:ee.authority,path:ee.path})}return Q=D.fn(Q),ge.with({path:Y.KR.resolve(ge.path,Q)})}isAbsolutePath(ge){return!!ge.path&&"/"===ge.path[0]}isEqualAuthority(ge,Q){return ge===Q||void 0!==ge&&void 0!==Q&&(0,M.qq)(ge,Q)}hasTrailingPathSeparator(ge,Q=Y.ir){if(ge.scheme===g.lg.file){const ee=T(ge);return ee.length>D.yj(ee).length&&ee[ee.length-1]===Q}{const ee=ge.path;return ee.length>1&&47===ee.charCodeAt(ee.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(ge.fsPath)}}removeTrailingPathSeparator(ge,Q=Y.ir){return oe(ge,Q)?ge.with({path:ge.path.substr(0,ge.path.length-1)}):ge}addTrailingPathSeparator(ge,Q=Y.ir){let ee=!1;if(ge.scheme===g.lg.file){const le=T(ge);ee=void 0!==le&&le.length===D.yj(le).length&&le[le.length-1]===Q}else{Q="/";const le=ge.path;ee=1===le.length&&47===le.charCodeAt(le.length-1)}return ee||oe(ge,Q)?ge:ge.with({path:ge.path+"/"})}}const P=new B(()=>!1),b=(new B(ye=>ye.scheme!==g.lg.file||!W.IJ),new B(ye=>!0),P.isEqual.bind(P)),E=(P.isEqualOrParent.bind(P),P.getComparisonKey.bind(P),P.basenameOrAuthority.bind(P)),z=P.basename.bind(P),L=P.extname.bind(P),N=P.dirname.bind(P),Z=P.joinPath.bind(P),O=P.normalizePath.bind(P),$=(P.relativePath.bind(P),P.resolvePath.bind(P)),G=(P.isAbsolutePath.bind(P),P.isEqualAuthority.bind(P)),oe=P.hasTrailingPathSeparator.bind(P);var pe,ye;P.removeTrailingPathSeparator.bind(P),P.addTrailingPathSeparator.bind(P),(ye=pe||(pe={})).META_DATA_LABEL="label",ye.META_DATA_DESCRIPTION="description",ye.META_DATA_SIZE="size",ye.META_DATA_MIME="mime",ye.parseMetaData=function(Q){const ee=new Map;Q.path.substring(Q.path.indexOf(";")+1,Q.path.lastIndexOf(";")).split(";").forEach(J=>{const[re,ce]=J.split(":");re&&ce&&ee.set(re,ce)});const te=Q.path.substring(0,Q.path.indexOf(";"));return te&&ee.set(ye.META_DATA_MIME,te),ee}},90443:(Fe,Ee,p)=>{p.d(Ee,{Rm:()=>W});var D=p(71040),g=p(40189);class Y{constructor(b,x,f,E,z,L,N){this._forceIntegerValues=b,this._scrollStateBrand=void 0,this._forceIntegerValues&&(x|=0,f|=0,E|=0,z|=0,L|=0,N|=0),this.rawScrollLeft=E,this.rawScrollTop=N,x<0&&(x=0),E+x>f&&(E=f-x),E<0&&(E=0),z<0&&(z=0),N+z>L&&(N=L-z),N<0&&(N=0),this.width=x,this.scrollWidth=f,this.scrollLeft=E,this.height=z,this.scrollHeight=L,this.scrollTop=N}equals(b){return this.rawScrollLeft===b.rawScrollLeft&&this.rawScrollTop===b.rawScrollTop&&this.width===b.width&&this.scrollWidth===b.scrollWidth&&this.scrollLeft===b.scrollLeft&&this.height===b.height&&this.scrollHeight===b.scrollHeight&&this.scrollTop===b.scrollTop}withScrollDimensions(b,x){return new Y(this._forceIntegerValues,void 0!==b.width?b.width:this.width,void 0!==b.scrollWidth?b.scrollWidth:this.scrollWidth,x?this.rawScrollLeft:this.scrollLeft,void 0!==b.height?b.height:this.height,void 0!==b.scrollHeight?b.scrollHeight:this.scrollHeight,x?this.rawScrollTop:this.scrollTop)}withScrollPosition(b){return new Y(this._forceIntegerValues,this.width,this.scrollWidth,void 0!==b.scrollLeft?b.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==b.scrollTop?b.scrollTop:this.rawScrollTop)}createScrollEvent(b,x){return{inSmoothScrolling:x,oldWidth:b.width,oldScrollWidth:b.scrollWidth,oldScrollLeft:b.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:b.height,oldScrollHeight:b.scrollHeight,oldScrollTop:b.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==b.width,scrollWidthChanged:this.scrollWidth!==b.scrollWidth,scrollLeftChanged:this.scrollLeft!==b.scrollLeft,heightChanged:this.height!==b.height,scrollHeightChanged:this.scrollHeight!==b.scrollHeight,scrollTopChanged:this.scrollTop!==b.scrollTop}}}class W extends g.JT{constructor(b){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new D.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=b.smoothScrollDuration,this._scheduleAtNextAnimationFrame=b.scheduleAtNextAnimationFrame,this._state=new Y(b.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(b){this._smoothScrollDuration=b}validateScrollPosition(b){return this._state.withScrollPosition(b)}getScrollDimensions(){return this._state}setScrollDimensions(b,x){const f=this._state.withScrollDimensions(b,x);this._setState(f,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(b){const x=this._state.withScrollPosition(b);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(x,!1)}setScrollPositionSmooth(b,x){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(b);if(this._smoothScrolling){const f=this._state.withScrollPosition(b={scrollLeft:void 0===b.scrollLeft?this._smoothScrolling.to.scrollLeft:b.scrollLeft,scrollTop:void 0===b.scrollTop?this._smoothScrolling.to.scrollTop:b.scrollTop});if(this._smoothScrolling.to.scrollLeft===f.scrollLeft&&this._smoothScrolling.to.scrollTop===f.scrollTop)return;let E;E=x?new B(this._smoothScrolling.from,f,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,f,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=E}else{const f=this._state.withScrollPosition(b);this._smoothScrolling=B.start(this._state,f,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const b=this._smoothScrolling.tick(),x=this._state.withScrollPosition(b);if(this._setState(x,!0),this._smoothScrolling){if(b.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(b,x){const f=this._state;f.equals(b)||(this._state=b,this._onScroll.fire(this._state.createScrollEvent(f,x)))}}class M{constructor(b,x,f){this.scrollLeft=b,this.scrollTop=x,this.isDone=f}}function i(C,b){const x=b-C;return function(f){return C+x*function(C){return 1-function(C){return Math.pow(C,3)}(1-C)}(f)}}class B{constructor(b,x,f,E){this.from=b,this.to=x,this.duration=E,this.startTime=f,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(b,x,f){if(Math.abs(b-x)>2.5*f){let z,L;return b<x?(z=b+.75*f,L=x-.75*f):(z=b-.75*f,L=x+.75*f),function(C,b,x){return function(f){return f<x?C(f/x):b((f-x)/(1-x))}}(i(b,z),i(L,x),.33)}return i(b,x)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(b){this.to=b.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(b){const x=(b-this.startTime)/this.duration;if(x<1){const f=this.scrollLeft(x),E=this.scrollTop(x);return new M(f,E,!1)}return new M(this.to.scrollLeft,this.to.scrollTop,!0)}combine(b,x,f){return B.start(b,x,f)}static start(b,x,f){f+=10;const E=Date.now()-10;return new B(b,x,E,f)}}},13310:(Fe,Ee,p)=>{p.d(Ee,{Z:()=>Y});var D=p(74243),g=(()=>{return(W=g||(g={}))[W.Ignore=0]="Ignore",W[W.Info=1]="Info",W[W.Warning=2]="Warning",W[W.Error=3]="Error",g;var W})();!function(W){const M="error",i="warning",B="info";W.fromValue=function(b){return b?D.qq(M,b)?W.Error:D.qq(i,b)||D.qq("warn",b)?W.Warning:D.qq(B,b)?W.Info:W.Ignore:W.Ignore},W.toString=function(b){switch(b){case W.Error:return M;case W.Warning:return i;case W.Info:return B;default:return"ignore"}}}(g||(g={}));const Y=g},39932:(Fe,Ee,p)=>{p.d(Ee,{G:()=>Y});var D=p(70700);const g=D.li.performance&&"function"==typeof D.li.performance.now;class Y{constructor(M){this._highResolution=g&&M,this._startTime=this._now(),this._stopTime=-1}static create(M=!0){return new Y(M)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?D.li.performance.now():Date.now()}}},74243:(Fe,Ee,p)=>{p.d(Ee,{ZK:()=>zt,W1:()=>ce,vU:()=>mn,Qe:()=>et,c1:()=>ut,Mh:()=>ye,P1:()=>ge,qu:()=>I,zY:()=>j,TT:()=>$,j_:()=>G,rL:()=>le,Ut:()=>ue,ab:()=>Ye,Kw:()=>Se,un:()=>b,GF:()=>f,qq:()=>fe,YU:()=>T,ec:()=>B,LC:()=>N,WU:()=>i,J_:()=>We,V8:()=>Z,oH:()=>bn,ZH:()=>te,$i:()=>Ae,C8:()=>st,m5:()=>W,K7:()=>Pe,ZG:()=>Q,YK:()=>ee,mK:()=>oe,df:()=>de,ow:()=>O,j3:()=>y,vH:()=>ve,B4:()=>Wt,HO:()=>Ie,mr:()=>z,IO:()=>E,oL:()=>C,PJ:()=>Ne,uq:()=>L,ok:()=>pe,uS:()=>nt,R1:()=>x,fy:()=>P});var Y,g=p(90341);function W(Ge){return!Ge||"string"!=typeof Ge||0===Ge.trim().length}const M=/{(\d+)}/g;function i(Ge,...Lt){return 0===Lt.length?Ge:Ge.replace(M,function(vt,dn){const Ln=parseInt(dn,10);return isNaN(Ln)||Ln<0||Ln>=Lt.length?vt:Lt[Ln]})}function T(Ge){return Ge.replace(/[<>&]/g,function(Lt){switch(Lt){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Lt}})}function B(Ge){return Ge.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function P(Ge,Lt=" "){return C(y(Ge,Lt),Lt)}function y(Ge,Lt){if(!Ge||!Lt)return Ge;const vt=Lt.length;if(0===vt||0===Ge.length)return Ge;let dn=0;for(;Ge.indexOf(Lt,dn)===dn;)dn+=vt;return Ge.substring(dn)}function C(Ge,Lt){if(!Ge||!Lt)return Ge;const vt=Lt.length,dn=Ge.length;if(0===vt||0===dn)return Ge;let Ln=dn,sn=-1;for(;sn=Ge.lastIndexOf(Lt,Ln-1),-1!==sn&&sn+vt===Ln;){if(0===sn)return"";Ln=sn}return Ge.substring(0,Ln)}function b(Ge){return Ge.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function x(Ge){return Ge.replace(/\*/g,"")}function f(Ge,Lt,vt={}){if(!Ge)throw new Error("Cannot create regex from empty string");Lt||(Ge=B(Ge)),vt.wholeWord&&(/\B/.test(Ge.charAt(0))||(Ge="\\b"+Ge),/\B/.test(Ge.charAt(Ge.length-1))||(Ge+="\\b"));let dn="";return vt.global&&(dn+="g"),vt.matchCase||(dn+="i"),vt.multiline&&(dn+="m"),vt.unicode&&(dn+="u"),new RegExp(Ge,dn)}function E(Ge){return"^"!==Ge.source&&"^$"!==Ge.source&&"$"!==Ge.source&&"^\\s*$"!==Ge.source&&!(!Ge.exec("")||0!==Ge.lastIndex)}function z(Ge){return(Ge.global?"g":"")+(Ge.ignoreCase?"i":"")+(Ge.multiline?"m":"")+(Ge.unicode?"u":"")}function L(Ge){return Ge.split(/\r\n|\r|\n/)}function N(Ge){for(let Lt=0,vt=Ge.length;Lt<vt;Lt++){const dn=Ge.charCodeAt(Lt);if(32!==dn&&9!==dn)return Lt}return-1}function Z(Ge,Lt=0,vt=Ge.length){for(let dn=Lt;dn<vt;dn++){const Ln=Ge.charCodeAt(dn);if(32!==Ln&&9!==Ln)return Ge.substring(Lt,dn)}return Ge.substring(Lt,vt)}function O(Ge,Lt=Ge.length-1){for(let vt=Lt;vt>=0;vt--){const dn=Ge.charCodeAt(vt);if(32!==dn&&9!==dn)return vt}return-1}function I(Ge,Lt){return Ge<Lt?-1:Ge>Lt?1:0}function $(Ge,Lt,vt=0,dn=Ge.length,Ln=0,sn=Lt.length){for(;vt<dn&&Ln<sn;vt++,Ln++){let rn=Ge.charCodeAt(vt),Rt=Lt.charCodeAt(Ln);if(rn<Rt)return-1;if(rn>Rt)return 1}const hn=dn-vt,_n=sn-Ln;return hn<_n?-1:hn>_n?1:0}function j(Ge,Lt){return G(Ge,Lt,0,Ge.length,0,Lt.length)}function G(Ge,Lt,vt=0,dn=Ge.length,Ln=0,sn=Lt.length){for(;vt<dn&&Ln<sn;vt++,Ln++){let rn=Ge.charCodeAt(vt),Rt=Lt.charCodeAt(Ln);if(rn===Rt)continue;if(rn>=128||Rt>=128)return $(Ge.toLowerCase(),Lt.toLowerCase(),vt,dn,Ln,sn);oe(rn)&&(rn-=32),oe(Rt)&&(Rt-=32);const xi=rn-Rt;if(0!==xi)return xi}const hn=dn-vt,_n=sn-Ln;return hn<_n?-1:hn>_n?1:0}function oe(Ge){return Ge>=97&&Ge<=122}function de(Ge){return Ge>=65&&Ge<=90}function fe(Ge,Lt){return Ge.length===Lt.length&&0===G(Ge,Lt)}function pe(Ge,Lt){return!(Lt.length>Ge.length)&&0===G(Ge,Lt,0,Lt.length)}function ye(Ge,Lt){let vt,dn=Math.min(Ge.length,Lt.length);for(vt=0;vt<dn;vt++)if(Ge.charCodeAt(vt)!==Lt.charCodeAt(vt))return vt;return dn}function ge(Ge,Lt){let vt,dn=Math.min(Ge.length,Lt.length);const Ln=Ge.length-1,sn=Lt.length-1;for(vt=0;vt<dn;vt++)if(Ge.charCodeAt(Ln-vt)!==Lt.charCodeAt(sn-vt))return vt;return dn}function Q(Ge){return 55296<=Ge&&Ge<=56319}function ee(Ge){return 56320<=Ge&&Ge<=57343}function le(Ge,Lt){return Lt-56320+(Ge-55296<<10)+65536}function te(Ge,Lt,vt){const dn=Ge.charCodeAt(vt);if(Q(dn)&&vt+1<Lt){const Ln=Ge.charCodeAt(vt+1);if(ee(Ln))return le(dn,Ln)}return dn}class re{constructor(Lt,vt=0){this._str=Lt,this._len=Lt.length,this._offset=vt}get offset(){return this._offset}setOffset(Lt){this._offset=Lt}prevCodePoint(){const Lt=function(Ge,Lt){const vt=Ge.charCodeAt(Lt-1);if(ee(vt)&&Lt>1){const dn=Ge.charCodeAt(Lt-2);if(Q(dn))return le(dn,vt)}return vt}(this._str,this._offset);return this._offset-=Lt>=65536?2:1,Lt}nextCodePoint(){const Lt=te(this._str,this._len,this._offset);return this._offset+=Lt>=65536?2:1,Lt}eol(){return this._offset>=this._len}}class ce{constructor(Lt,vt=0){this._iterator=new re(Lt,vt)}get offset(){return this._iterator.offset}nextGraphemeLength(){const Lt=Ct.getInstance(),vt=this._iterator,dn=vt.offset;let Ln=Lt.getGraphemeBreakType(vt.nextCodePoint());for(;!vt.eol();){const sn=vt.offset,hn=Lt.getGraphemeBreakType(vt.nextCodePoint());if(at(Ln,hn)){vt.setOffset(sn);break}Ln=hn}return vt.offset-dn}prevGraphemeLength(){const Lt=Ct.getInstance(),vt=this._iterator,dn=vt.offset;let Ln=Lt.getGraphemeBreakType(vt.prevCodePoint());for(;vt.offset>0;){const sn=vt.offset,hn=Lt.getGraphemeBreakType(vt.prevCodePoint());if(at(hn,Ln)){vt.setOffset(sn);break}Ln=hn}return dn-vt.offset}eol(){return this._iterator.eol()}}function ve(Ge,Lt){return new ce(Ge,Lt).nextGraphemeLength()}function Ie(Ge,Lt){return new ce(Ge,Lt).prevGraphemeLength()}function We(Ge,Lt){Lt>0&&ee(Ge.charCodeAt(Lt))&&Lt--;const vt=Lt+ve(Ge,Lt);return[vt-Ie(Ge,vt),vt]}const Ue=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function ue(Ge){return Ue.test(Ge)}const Ce=/^[\t\n\r\x20-\x7E]*$/;function Ae(Ge){return Ce.test(Ge)}const et=/[\u2028\u2029]/;function Ye(Ge){return et.test(Ge)}function Pe(Ge){return Ge>=11904&&Ge<=55215||Ge>=63744&&Ge<=64255||Ge>=65281&&Ge<=65374}function st(Ge){return Ge>=127462&&Ge<=127487||8986===Ge||8987===Ge||9200===Ge||9203===Ge||Ge>=9728&&Ge<=10175||11088===Ge||11093===Ge||Ge>=127744&&Ge<=128591||Ge>=128640&&Ge<=128764||Ge>=128992&&Ge<=129008||Ge>=129280&&Ge<=129535||Ge>=129648&&Ge<=129782}const ut=String.fromCharCode(65279);function nt(Ge){return!!(Ge&&Ge.length>0&&65279===Ge.charCodeAt(0))}function Se(Ge,Lt=!1){return!!Ge&&(Lt&&(Ge=Ge.replace(/\\./g,"")),Ge.toLowerCase()!==Ge)}function Ne(Ge){return Ge%=52,String.fromCharCode(Ge<26?97+Ge:65+Ge-26)}function at(Ge,Lt){return 0===Ge?5!==Lt&&7!==Lt:!(2===Ge&&3===Lt||4!==Ge&&2!==Ge&&3!==Ge&&4!==Lt&&2!==Lt&&3!==Lt&&(8===Ge&&(8===Lt||9===Lt||11===Lt||12===Lt)||(11===Ge||9===Ge)&&(9===Lt||10===Lt)||(12===Ge||10===Ge)&&10===Lt||5===Lt||13===Lt||7===Lt||1===Ge||13===Ge&&14===Lt||6===Ge&&6===Lt))}let Ct=(()=>{class Ge{constructor(){this._data=JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}static getInstance(){return Ge._INSTANCE||(Ge._INSTANCE=new Ge),Ge._INSTANCE}getGraphemeBreakType(vt){if(vt<32)return 10===vt?3:13===vt?2:4;if(vt<127)return 0;const dn=this._data,Ln=dn.length/3;let sn=1;for(;sn<=Ln;)if(vt<dn[3*sn])sn*=2;else{if(!(vt>dn[3*sn+1]))return dn[3*sn+2];sn=2*sn+1}return 0}}return Ge._INSTANCE=null,Ge})();function bn(Ge,Lt){if(0===Ge)return 0;const vt=function(Ge,Lt){const vt=new re(Lt,Ge);let dn=vt.prevCodePoint();for(;Ft(dn)||65039===dn||8419===dn;){if(0===vt.offset)return;dn=vt.prevCodePoint()}if(!st(dn))return;let Ln=vt.offset;return Ln>0&&8205===vt.prevCodePoint()&&(Ln=vt.offset),Ln}(Ge,Lt);if(void 0!==vt)return vt;const dn=new re(Lt,Ge);return dn.prevCodePoint(),dn.offset}function Ft(Ge){return 127995<=Ge&&Ge<=127999}const Wt="\xa0";class zt{constructor(Lt){this.confusableDictionary=Lt}static getInstance(Lt){return zt.cache.get(Array.from(Lt))}static getLocales(){return zt._locales.getValue()}isAmbiguous(Lt){return this.confusableDictionary.has(Lt)}getPrimaryConfusable(Lt){return this.confusableDictionary.get(Lt)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}Y=zt,zt.ambiguousCharacterData=new g.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),zt.cache=new class{constructor(Lt){this.computeFn=Lt,this.lastCache=void 0,this.lastArgKey=void 0}get(Lt){const vt=JSON.stringify(Lt);return this.lastArgKey!==vt&&(this.lastArgKey=vt,this.lastCache=this.computeFn(Lt)),this.lastCache}}(Ge=>{function Lt(Rt){const xi=new Map;for(let Yt=0;Yt<Rt.length;Yt+=2)xi.set(Rt[Yt],Rt[Yt+1]);return xi}function dn(Rt,xi){if(!Rt)return xi;const Yt=new Map;for(const[He,$e]of Rt)xi.has(He)&&Yt.set(He,$e);return Yt}const Ln=Y.ambiguousCharacterData.getValue();let hn,sn=Ge.filter(Rt=>!Rt.startsWith("_")&&Rt in Ln);0===sn.length&&(sn=["_default"]);for(const Rt of sn)hn=dn(hn,Lt(Ln[Rt]));const rn=function(Rt,xi){const Yt=new Map(Rt);for(const[He,$e]of xi)Yt.set(He,$e);return Yt}(Lt(Ln._common),hn);return new zt(rn)}),zt._locales=new g.o(()=>Object.keys(zt.ambiguousCharacterData.getValue()).filter(Ge=>!Ge.startsWith("_")));class mn{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(mn.getRawData())),this._data}static isInvisibleCharacter(Lt){return mn.getData().has(Lt)}static get codePoints(){return mn.getData()}}mn._data=void 0},99770:(Fe,Ee,p)=>{function D(O){return Array.isArray(O)}function g(O){return"string"==typeof O}function Y(O){return!("object"!=typeof O||null===O||Array.isArray(O)||O instanceof RegExp||O instanceof Date)}function W(O){return"number"==typeof O&&!isNaN(O)}function M(O){return!!O&&"function"==typeof O[Symbol.iterator]}function i(O){return!0===O||!1===O}function T(O){return void 0===O}function B(O){return!P(O)}function P(O){return T(O)||null===O}function y(O,I){if(!O)throw new Error(I?`Unexpected type, expected '${I}'`:"Unexpected type")}function C(O){if(P(O))throw new Error("Assertion Failed: argument is undefined or null");return O}function b(O){return"function"==typeof O}function x(O,I){const $=Math.min(O.length,I.length);for(let j=0;j<$;j++)f(O[j],I[j])}function f(O,I){if(g(I)){if(typeof O!==I)throw new Error(`argument does not match constraint: typeof ${I}`)}else if(b(I)){try{if(O instanceof I)return}catch{}if(!P(O)&&O.constructor===I||1===I.length&&!0===I.call(void 0,O))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function z(O){const I=[];for(const $ of function(O){let I=[],$=Object.getPrototypeOf(O);for(;Object.prototype!==$;)I=I.concat(Object.getOwnPropertyNames($)),$=Object.getPrototypeOf($);return I}(O))"function"==typeof O[$]&&I.push($);return I}function L(O,I){const $=G=>function(){const oe=Array.prototype.slice.call(arguments,0);return I(G,oe)};let j={};for(const G of O)j[G]=$(G);return j}function N(O){return null===O?void 0:O}function Z(O,I="Unreachable"){throw new Error(I)}p.d(Ee,{kJ:()=>D,HD:()=>g,Kn:()=>Y,hj:()=>W,TW:()=>M,jn:()=>i,o8:()=>T,$K:()=>B,Jp:()=>P,p_:()=>y,cW:()=>C,mf:()=>b,D8:()=>x,$E:()=>z,IU:()=>L,f6:()=>N,vE:()=>Z})},68733:(Fe,Ee,p)=>{function D(Y){return Y<0?0:Y>255?255:0|Y}function g(Y){return Y<0?0:Y>4294967295?4294967295:0|Y}p.d(Ee,{K:()=>D,A:()=>g})},85459:(Fe,Ee,p)=>{p.d(Ee,{o:()=>b,q:()=>N});var D=p(84491),g=p(70700);const Y=/^\w[\w\d+.-]*$/,W=/^\//,M=/^\/\//;function i(j,G){if(!j.scheme&&G)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${j.authority}", path: "${j.path}", query: "${j.query}", fragment: "${j.fragment}"}`);if(j.scheme&&!Y.test(j.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(j.path)if(j.authority){if(!W.test(j.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(M.test(j.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const P="",y="/",C=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class b{constructor(G,oe,de,fe,pe,ye=!1){"object"==typeof G?(this.scheme=G.scheme||P,this.authority=G.authority||P,this.path=G.path||P,this.query=G.query||P,this.fragment=G.fragment||P):(this.scheme=function(j,G){return j||G?j:"file"}(G,ye),this.authority=oe||P,this.path=function(j,G){switch(j){case"https":case"http":case"file":G?G[0]!==y&&(G=y+G):G=y}return G}(this.scheme,de||P),this.query=fe||P,this.fragment=pe||P,i(this,ye))}static isUri(G){return G instanceof b||!!G&&"string"==typeof G.authority&&"string"==typeof G.fragment&&"string"==typeof G.path&&"string"==typeof G.query&&"string"==typeof G.scheme&&"string"==typeof G.fsPath&&"function"==typeof G.with&&"function"==typeof G.toString}get fsPath(){return N(this,!1)}with(G){if(!G)return this;let{scheme:oe,authority:de,path:fe,query:pe,fragment:ye}=G;return void 0===oe?oe=this.scheme:null===oe&&(oe=P),void 0===de?de=this.authority:null===de&&(de=P),void 0===fe?fe=this.path:null===fe&&(fe=P),void 0===pe?pe=this.query:null===pe&&(pe=P),void 0===ye?ye=this.fragment:null===ye&&(ye=P),oe===this.scheme&&de===this.authority&&fe===this.path&&pe===this.query&&ye===this.fragment?this:new f(oe,de,fe,pe,ye)}static parse(G,oe=!1){const de=C.exec(G);return de?new f(de[2]||P,$(de[4]||P),$(de[5]||P),$(de[7]||P),$(de[9]||P),oe):new f(P,P,P,P,P)}static file(G){let oe=P;if(g.ED&&(G=G.replace(/\\/g,y)),G[0]===y&&G[1]===y){const de=G.indexOf(y,2);-1===de?(oe=G.substring(2),G=y):(oe=G.substring(2,de),G=G.substring(de)||y)}return new f("file",oe,G,P,P)}static from(G){const oe=new f(G.scheme,G.authority,G.path,G.query,G.fragment);return i(oe,!0),oe}static joinPath(G,...oe){if(!G.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let de;return de=g.ED&&"file"===G.scheme?b.file(D.Ku.join(N(G,!0),...oe)).path:D.KR.join(G.path,...oe),G.with({path:de})}toString(G=!1){return Z(this,G)}toJSON(){return this}static revive(G){if(G){if(G instanceof b)return G;{const oe=new f(G);return oe._formatted=G.external,oe._fsPath=G._sep===x?G.fsPath:null,oe}}return G}}const x=g.ED?1:void 0;class f extends b{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=N(this,!1)),this._fsPath}toString(G=!1){return G?Z(this,!0):(this._formatted||(this._formatted=Z(this,!1)),this._formatted)}toJSON(){const G={$mid:1};return this._fsPath&&(G.fsPath=this._fsPath,G._sep=x),this._formatted&&(G.external=this._formatted),this.path&&(G.path=this.path),this.scheme&&(G.scheme=this.scheme),this.authority&&(G.authority=this.authority),this.query&&(G.query=this.query),this.fragment&&(G.fragment=this.fragment),G}}const E={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function z(j,G){let oe,de=-1;for(let fe=0;fe<j.length;fe++){const pe=j.charCodeAt(fe);if(pe>=97&&pe<=122||pe>=65&&pe<=90||pe>=48&&pe<=57||45===pe||46===pe||95===pe||126===pe||G&&47===pe)-1!==de&&(oe+=encodeURIComponent(j.substring(de,fe)),de=-1),void 0!==oe&&(oe+=j.charAt(fe));else{void 0===oe&&(oe=j.substr(0,fe));const ye=E[pe];void 0!==ye?(-1!==de&&(oe+=encodeURIComponent(j.substring(de,fe)),de=-1),oe+=ye):-1===de&&(de=fe)}}return-1!==de&&(oe+=encodeURIComponent(j.substring(de))),void 0!==oe?oe:j}function L(j){let G;for(let oe=0;oe<j.length;oe++){const de=j.charCodeAt(oe);35===de||63===de?(void 0===G&&(G=j.substr(0,oe)),G+=E[de]):void 0!==G&&(G+=j[oe])}return void 0!==G?G:j}function N(j,G){let oe;return oe=j.authority&&j.path.length>1&&"file"===j.scheme?`//${j.authority}${j.path}`:47===j.path.charCodeAt(0)&&(j.path.charCodeAt(1)>=65&&j.path.charCodeAt(1)<=90||j.path.charCodeAt(1)>=97&&j.path.charCodeAt(1)<=122)&&58===j.path.charCodeAt(2)?G?j.path.substr(1):j.path[1].toLowerCase()+j.path.substr(2):j.path,g.ED&&(oe=oe.replace(/\//g,"\\")),oe}function Z(j,G){const oe=G?L:z;let de="",{scheme:fe,authority:pe,path:ye,query:ge,fragment:Q}=j;if(fe&&(de+=fe,de+=":"),(pe||"file"===fe)&&(de+=y,de+=y),pe){let ee=pe.indexOf("@");if(-1!==ee){const le=pe.substr(0,ee);pe=pe.substr(ee+1),ee=le.indexOf(":"),-1===ee?de+=oe(le,!1):(de+=oe(le.substr(0,ee),!1),de+=":",de+=oe(le.substr(ee+1),!1)),de+="@"}pe=pe.toLowerCase(),ee=pe.indexOf(":"),-1===ee?de+=oe(pe,!1):(de+=oe(pe.substr(0,ee),!1),de+=pe.substr(ee))}if(ye){if(ye.length>=3&&47===ye.charCodeAt(0)&&58===ye.charCodeAt(2)){const ee=ye.charCodeAt(1);ee>=65&&ee<=90&&(ye=`/${String.fromCharCode(ee+32)}:${ye.substr(3)}`)}else if(ye.length>=2&&58===ye.charCodeAt(1)){const ee=ye.charCodeAt(0);ee>=65&&ee<=90&&(ye=`${String.fromCharCode(ee+32)}:${ye.substr(2)}`)}de+=oe(ye,!0)}return ge&&(de+="?",de+=oe(ge,!1)),Q&&(de+="#",de+=G?Q:z(Q,!1)),de}function O(j){try{return decodeURIComponent(j)}catch{return j.length>3?j.substr(0,3)+O(j.substr(3)):j}}const I=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function $(j){return j.match(I)?j.replace(I,G=>O(G)):j}},55552:(Fe,Ee,p)=>{p.d(Ee,{X5:()=>D,Jq:()=>g,jG:()=>Y});const D={ctrlCmd:!1,alt:!1};var g=(()=>{return(i=g||(g={}))[i.Blur=1]="Blur",i[i.Gesture=2]="Gesture",i[i.Other=3]="Other",g;var i})(),Y=(()=>{return(i=Y||(Y={}))[i.NONE=0]="NONE",i[i.FIRST=1]="FIRST",i[i.SECOND=2]="SECOND",i[i.LAST=3]="LAST",Y;var i})();new class{constructor(T){this.options=T}}},6809:(Fe,Ee,p)=>{p.d(Ee,{N:()=>W});var D=p(47306),g=p(81718),Y=p(52925);function W(M,i){M instanceof g.Z?(M.setFontFamily(i.getMassagedFontFamily(D.isSafari?Y.hL.fontFamily:null)),M.setFontWeight(i.fontWeight),M.setFontSize(i.fontSize),M.setFontFeatureSettings(i.fontFeatureSettings),M.setLineHeight(i.lineHeight),M.setLetterSpacing(i.letterSpacing)):(M.style.fontFamily=i.getMassagedFontFamily(D.isSafari?Y.hL.fontFamily:null),M.style.fontWeight=i.fontWeight,M.style.fontSize=i.fontSize+"px",M.style.fontFeatureSettings=i.fontFeatureSettings,M.style.lineHeight=i.lineHeight+"px",M.style.letterSpacing=i.letterSpacing+"px")}},1607:(Fe,Ee,p)=>{p.d(Ee,{I:()=>Y});var D=p(40189),g=p(71040);class Y extends D.JT{constructor(M,i){super(),this._onDidChange=this._register(new g.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=M,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,i)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(M=>{M&&M[0]&&M[0].contentRect?this.observe({width:M[0].contentRect.width,height:M[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(M){this.measureReferenceDomElement(!0,M)}measureReferenceDomElement(M,i){let T=0,B=0;i?(T=i.width,B=i.height):this._referenceDomElement&&(T=this._referenceDomElement.clientWidth,B=this._referenceDomElement.clientHeight),T=Math.max(5,T),B=Math.max(5,B),(this._width!==T||this._height!==B)&&(this._width=T,this._height=B,M&&this._onDidChange.fire())}}},12710:(Fe,Ee,p)=>{p.d(Ee,{g:()=>b});var D=p(47306),g=p(71040),Y=p(40189),W=p(6809);class M{constructor(f,E){this.chr=f,this.type=E,this.width=0}fulfill(f){this.width=f}}class i{constructor(f,E){this._bareFontInfo=f,this._requests=E,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const f=document.createElement("div");f.style.position="absolute",f.style.top="-50000px",f.style.width="50000px";const E=document.createElement("div");(0,W.N)(E,this._bareFontInfo),f.appendChild(E);const z=document.createElement("div");(0,W.N)(z,this._bareFontInfo),z.style.fontWeight="bold",f.appendChild(z);const L=document.createElement("div");(0,W.N)(L,this._bareFontInfo),L.style.fontStyle="italic",f.appendChild(L);const N=[];for(const Z of this._requests){let O;0===Z.type&&(O=E),2===Z.type&&(O=z),1===Z.type&&(O=L),O.appendChild(document.createElement("br"));const I=document.createElement("span");i._render(I,Z),O.appendChild(I),N.push(I)}this._container=f,this._testElements=N}static _render(f,E){if(" "===E.chr){let z="\xa0";for(let L=0;L<8;L++)z+=z;f.innerText=z}else{let z=E.chr;for(let L=0;L<8;L++)z+=z;f.textContent=z}}_readFromDomElements(){for(let f=0,E=this._requests.length;f<E;f++)this._requests[f].fulfill(this._testElements[f].offsetWidth/256)}}var B=p(52925),P=p(11358);class C{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(f){const E=f.getId();return!!this._values[E]}get(f){const E=f.getId();return this._values[E]}put(f,E){const z=f.getId();this._keys[z]=f,this._values[z]=E}remove(f){const E=f.getId();delete this._keys[E],delete this._values[E]}getValues(){return Object.keys(this._keys).map(f=>this._values[f])}}const b=new class extends Y.JT{constructor(){super(),this._onDidChange=this._register(new g.Q5),this.onDidChange=this._onDidChange.event,this._cache=new C,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new C,this._onDidChange.fire()}_writeToCache(f,E){this._cache.put(f,E),!E.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const f=this._cache.getValues();let E=!1;for(const z of f)z.isTrusted||(E=!0,this._cache.remove(z));E&&this._onDidChange.fire()}readFontInfo(f){if(!this._cache.has(f)){let E=this._actualReadFontInfo(f);(E.typicalHalfwidthCharacterWidth<=2||E.typicalFullwidthCharacterWidth<=2||E.spaceWidth<=2||E.maxDigitWidth<=2)&&(E=new P.pR({pixelRatio:D.PixelRatio.value,fontFamily:E.fontFamily,fontWeight:E.fontWeight,fontSize:E.fontSize,fontFeatureSettings:E.fontFeatureSettings,lineHeight:E.lineHeight,letterSpacing:E.letterSpacing,isMonospace:E.isMonospace,typicalHalfwidthCharacterWidth:Math.max(E.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(E.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:E.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(E.spaceWidth,5),middotWidth:Math.max(E.middotWidth,5),wsmiddotWidth:Math.max(E.wsmiddotWidth,5),maxDigitWidth:Math.max(E.maxDigitWidth,5)},!1)),this._writeToCache(f,E)}return this._cache.get(f)}_createRequest(f,E,z,L){const N=new M(f,E);return z.push(N),L&&L.push(N),N}_actualReadFontInfo(f){const E=[],z=[],L=this._createRequest("n",0,E,z),N=this._createRequest("\uff4d",0,E,null),Z=this._createRequest(" ",0,E,z),O=this._createRequest("0",0,E,z),I=this._createRequest("1",0,E,z),$=this._createRequest("2",0,E,z),j=this._createRequest("3",0,E,z),G=this._createRequest("4",0,E,z),oe=this._createRequest("5",0,E,z),de=this._createRequest("6",0,E,z),fe=this._createRequest("7",0,E,z),pe=this._createRequest("8",0,E,z),ye=this._createRequest("9",0,E,z),ge=this._createRequest("\u2192",0,E,z),Q=this._createRequest("\uffeb",0,E,null),ee=this._createRequest("\xb7",0,E,z),le=this._createRequest(String.fromCharCode(11825),0,E,null),te="|/-_ilm%";for(let Ie=0,We=te.length;Ie<We;Ie++)this._createRequest(te.charAt(Ie),0,E,z),this._createRequest(te.charAt(Ie),1,E,z),this._createRequest(te.charAt(Ie),2,E,z);!function(x,f){new i(x,f).read()}(f,E);const J=Math.max(O.width,I.width,$.width,j.width,G.width,oe.width,de.width,fe.width,pe.width,ye.width);let re=f.fontFeatureSettings===B.n0.OFF;const ce=z[0].width;for(let Ie=1,We=z.length;re&&Ie<We;Ie++){const Ue=ce-z[Ie].width;if(Ue<-.001||Ue>.001){re=!1;break}}let ve=!0;return re&&Q.width!==ce&&(ve=!1),Q.width>ge.width&&(ve=!1),new P.pR({pixelRatio:D.PixelRatio.value,fontFamily:f.fontFamily,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFeatureSettings:f.fontFeatureSettings,lineHeight:f.lineHeight,letterSpacing:f.letterSpacing,isMonospace:re,typicalHalfwidthCharacterWidth:L.width,typicalFullwidthCharacterWidth:N.width,canUseHalfwidthRightwardsArrow:ve,spaceWidth:Z.width,middotWidth:ee.width,wsmiddotWidth:le.width,maxDigitWidth:J},!0)}}},93002:(Fe,Ee,p)=>{p.d(Ee,{n:()=>Y});var D=p(71040);const Y=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new D.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(M){this._tabFocus!==M&&(this._tabFocus=M,this._onDidChangeTabFocus.fire(this._tabFocus))}}},78230:(Fe,Ee,p)=>{p.d(Ee,{pd:()=>C,RA:()=>b,Nl:()=>x,Fz:()=>E,Tj:()=>L});var D=p(47306),g=p(86678),Y=p(714),W=p(89983),M=p(71040),i=p(40189),T=p(48343),B=p(74243),P=p(33677),y=p(60745),C=(()=>((C||(C={})).Tap="-monaco-textarea-synthetic-tap",C))();const b={forceCopyWithSyntaxHighlighting:!1};class x{constructor(){this._lastState=null}set(Z,O){this._lastState={lastCopiedValue:Z,data:O}}get(Z){return this._lastState&&this._lastState.lastCopiedValue===Z?this._lastState.data:(this._lastState=null,null)}}x.INSTANCE=new x;class f{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(Z){const O={text:Z=Z||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=Z.length,O}}class E extends i.JT{constructor(Z,O,I,$){super(),this._host=Z,this._textArea=O,this._OS=I,this._browser=$,this._onFocus=this._register(new M.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new M.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new M.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new M.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new M.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new M.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new M.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new M.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new M.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new M.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new M.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new W.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new W.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=P.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let j=null;this._register(this._textArea.onKeyDown(G=>{const oe=new Y.y(G);(109===oe.keyCode||this._currentComposition&&1===oe.keyCode)&&oe.stopPropagation(),oe.equals(9)&&oe.preventDefault(),j=oe,this._onKeyDown.fire(oe)})),this._register(this._textArea.onKeyUp(G=>{const oe=new Y.y(G);this._onKeyUp.fire(oe)})),this._register(this._textArea.onCompositionStart(G=>{P.al&&console.log("[compositionstart]",G);const oe=new f;if(!this._currentComposition)return this._currentComposition=oe,2===this._OS&&j&&j.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===G.data&&("ArrowRight"===j.code||"ArrowLeft"===j.code)?(P.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",G),oe.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:G.data})):void this._onCompositionStart.fire({data:G.data});this._currentComposition=oe})),this._register(this._textArea.onCompositionUpdate(G=>{P.al&&console.log("[compositionupdate]",G);const oe=this._currentComposition;if(!oe)return;if(this._browser.isAndroid){const fe=P.un.readFromTextArea(this._textArea),pe=P.un.deduceAndroidCompositionInput(this._textAreaState,fe);return this._textAreaState=fe,this._onType.fire(pe),void this._onCompositionUpdate.fire(G)}const de=oe.handleCompositionUpdate(G.data);this._textAreaState=P.un.readFromTextArea(this._textArea),this._onType.fire(de),this._onCompositionUpdate.fire(G)})),this._register(this._textArea.onCompositionEnd(G=>{P.al&&console.log("[compositionend]",G);const oe=this._currentComposition;if(!oe)return;if(this._currentComposition=null,this._browser.isAndroid){const fe=P.un.readFromTextArea(this._textArea),pe=P.un.deduceAndroidCompositionInput(this._textAreaState,fe);return this._textAreaState=fe,this._onType.fire(pe),void this._onCompositionEnd.fire()}const de=oe.handleCompositionUpdate(G.data);this._textAreaState=P.un.readFromTextArea(this._textArea),this._onType.fire(de),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(G=>{if(P.al&&console.log("[input]",G),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const oe=P.un.readFromTextArea(this._textArea),de=P.un.deduceInput(this._textAreaState,oe,2===this._OS);0===de.replacePrevCharCnt&&1===de.text.length&&B.ZG(de.text.charCodeAt(0))||(this._textAreaState=oe,(""!==de.text||0!==de.replacePrevCharCnt||0!==de.replaceNextCharCnt||0!==de.positionDelta)&&this._onType.fire(de))})),this._register(this._textArea.onCut(G=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(G),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(G=>{this._ensureClipboardGetsEditorSelection(G)})),this._register(this._textArea.onPaste(G=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),G.preventDefault(),!G.clipboardData)return;let[oe,de]=z.getTextData(G.clipboardData);!oe||(de=de||x.INSTANCE.get(oe),this._onPaste.fire({text:oe,metadata:de}))})),this._register(this._textArea.onFocus(()=>{const G=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!G&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let Z=0;return g.nm(document,"selectionchange",O=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const I=Date.now(),$=I-Z;if(Z=I,$<5)return;const j=I-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),j<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const G=this._textArea.getValue();if(this._textAreaState.value!==G)return;const oe=this._textArea.getSelectionStart(),de=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===oe&&this._textAreaState.selectionEnd===de)return;const fe=this._textAreaState.deduceEditorPosition(oe),pe=this._host.deduceModelPosition(fe[0],fe[1],fe[2]),ye=this._textAreaState.deduceEditorPosition(de),ge=this._host.deduceModelPosition(ye[0],ye[1],ye[2]),Q=new y.Y(pe.lineNumber,pe.column,ge.lineNumber,ge.column);this._onSelectionChangeRequest.fire(Q)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(Z){this._hasFocus!==Z&&(this._hasFocus=Z,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(Z,O){this._hasFocus||(O=O.collapseSelection()),O.writeToTextArea(Z,this._textArea,this._hasFocus),this._textAreaState=O}writeScreenReaderContent(Z){this._currentComposition||this._setAndWriteTextAreaState(Z,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(Z){const O=this._host.getDataToCopy(),I={version:1,isFromEmptySelection:O.isFromEmptySelection,multicursorText:O.multicursorText,mode:O.mode};x.INSTANCE.set(this._browser.isFirefox?O.text.replace(/\r\n/g,"\n"):O.text,I),Z.preventDefault(),Z.clipboardData&&z.setTextData(Z.clipboardData,O.text,O.html,I)}}class z{static getTextData(Z){const O=Z.getData(T.v.text);let I=null;const $=Z.getData("vscode-editor-data");if("string"==typeof $)try{I=JSON.parse($),1!==I.version&&(I=null)}catch{}return[O,I]}static setTextData(Z,O,I,$){Z.setData(T.v.text,O),"string"==typeof I&&Z.setData("text/html",I),Z.setData("vscode-editor-data",JSON.stringify($))}}class L extends i.JT{constructor(Z){super(),this._actual=Z,this.onKeyDown=this._register(g.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(g.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(g.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(g.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(g.IC(this._actual,"compositionend")).event,this.onInput=this._register(g.IC(this._actual,"input")).event,this.onCut=this._register(g.IC(this._actual,"cut")).event,this.onCopy=this._register(g.IC(this._actual,"copy")).event,this.onPaste=this._register(g.IC(this._actual,"paste")).event,this.onFocus=this._register(g.IC(this._actual,"focus")).event,this.onBlur=this._register(g.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new M.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(g.nm(this._actual,C.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const Z=g.Ay(this._actual);return Z?Z.activeElement===this._actual:!!g.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(Z){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(Z,O){const I=this._actual;I.value!==O&&(this.setIgnoreSelectionChangeTime("setValue"),I.value=O)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(Z,O,I){const $=this._actual;let j=null;const G=g.Ay($);j=G?G.activeElement:document.activeElement;const oe=j===$;if(oe&&$.selectionStart===O&&$.selectionEnd===I)D.isFirefox&&window.parent!==window&&$.focus();else{if(oe)return this.setIgnoreSelectionChangeTime("setSelectionRange"),$.setSelectionRange(O,I),void(D.isFirefox&&window.parent!==window&&$.focus());try{const pe=g.vL($);this.setIgnoreSelectionChangeTime("setSelectionRange"),$.focus(),$.setSelectionRange(O,I),g._0($,pe)}catch{}}}}},33677:(Fe,Ee,p)=>{p.d(Ee,{al:()=>W,un:()=>M,ee:()=>i});var D=p(74243),g=p(67947),Y=p(1873);const W=!1;class M{constructor(B,P,y,C,b){this.value=B,this.selectionStart=P,this.selectionEnd=y,this.selectionStartPosition=C,this.selectionEndPosition=b}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(B){return new M(B.getValue(),B.getSelectionStart(),B.getSelectionEnd(),null,null)}collapseSelection(){return new M(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(B,P,y){W&&console.log(`writeToTextArea ${B}: ${this.toString()}`),P.setValue(B,this.value),y&&P.setSelectionRange(B,this.selectionStart,this.selectionEnd)}deduceEditorPosition(B){if(B<=this.selectionStart){const C=this.value.substring(B,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,C,-1)}if(B>=this.selectionEnd){const C=this.value.substring(this.selectionEnd,B);return this._finishDeduceEditorPosition(this.selectionEndPosition,C,1)}const P=this.value.substring(this.selectionStart,B);if(-1===P.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,P,1);const y=this.value.substring(B,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,y,-1)}_finishDeduceEditorPosition(B,P,y){let C=0,b=-1;for(;-1!==(b=P.indexOf("\n",b+1));)C++;return[B,y*P.length,C]}static deduceInput(B,P,y){if(!B)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};W&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${B.toString()}`),console.log(`CURRENT STATE: ${P.toString()}`));const C=Math.min(D.Mh(B.value,P.value),B.selectionStart,P.selectionStart),b=Math.min(D.P1(B.value,P.value),B.value.length-B.selectionEnd,P.value.length-P.selectionEnd),x=B.value.substring(C,B.value.length-b),f=P.value.substring(C,P.value.length-b),E=B.selectionStart-C,z=B.selectionEnd-C,L=P.selectionStart-C,N=P.selectionEnd-C;if(W&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${x}>, selectionStart: ${E}, selectionEnd: ${z}`),console.log(`AFTER DIFFING CURRENT STATE: <${f}>, selectionStart: ${L}, selectionEnd: ${N}`)),L===N){const O=B.selectionStart-C;return W&&console.log(`REMOVE PREVIOUS: ${O} chars`),{text:f,replacePrevCharCnt:O,replaceNextCharCnt:0,positionDelta:0}}return{text:f,replacePrevCharCnt:z-E,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(B,P){if(!B)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(W&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${B.toString()}`),console.log(`CURRENT STATE: ${P.toString()}`)),B.value===P.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:P.selectionEnd-B.selectionEnd};const y=Math.min(D.Mh(B.value,P.value),B.selectionEnd),C=Math.min(D.P1(B.value,P.value),B.value.length-B.selectionEnd),b=B.value.substring(y,B.value.length-C),x=P.value.substring(y,P.value.length-C),E=B.selectionEnd-y,z=P.selectionStart-y,L=P.selectionEnd-y;return W&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${b}>, selectionStart: ${B.selectionStart-y}, selectionEnd: ${E}`),console.log(`AFTER DIFFING CURRENT STATE: <${x}>, selectionStart: ${z}, selectionEnd: ${L}`)),{text:x,replacePrevCharCnt:E,replaceNextCharCnt:b.length-E,positionDelta:L-x.length}}}M.EMPTY=new M("",0,0,null,null);class i{static _getPageOfLine(B,P){return Math.floor((B-1)/P)}static _getRangeForPage(B,P){const y=B*P;return new Y.e(y+1,1,y+P+1,1)}static fromEditorSelection(B,P,y,C,b){const x=i._getPageOfLine(y.startLineNumber,C),f=i._getRangeForPage(x,C),E=i._getPageOfLine(y.endLineNumber,C),z=i._getRangeForPage(E,C),L=f.intersectRanges(new Y.e(1,1,y.startLineNumber,y.startColumn));let N=P.getValueInRange(L,1);const Z=P.getLineCount(),O=P.getLineMaxColumn(Z),I=z.intersectRanges(new Y.e(y.endLineNumber,y.endColumn,Z,O));let j,$=P.getValueInRange(I,1);if(x===E||x+1===E)j=P.getValueInRange(y,1);else{const G=f.intersectRanges(y),oe=z.intersectRanges(y);j=P.getValueInRange(G,1)+String.fromCharCode(8230)+P.getValueInRange(oe,1)}if(b){const G=500;N.length>G&&(N=N.substring(N.length-G,N.length)),$.length>G&&($=$.substring(0,G)),j.length>2*G&&(j=j.substring(0,G)+String.fromCharCode(8230)+j.substring(j.length-G,j.length))}return new M(N+j+$,N.length,N.length+j.length,new g.L(y.startLineNumber,y.startColumn),new g.L(y.endLineNumber,y.endColumn))}}},20545:(Fe,Ee,p)=>{p.d(Ee,{wk:()=>de,Ox:()=>$});var D=p(12918),g=p(47306),Y=p(99770),W=p(99034),M=p(44346),i=p(57623),T=p(35590),B=p(67947),P=p(1873);class y{static columnSelect(ge,Q,ee,le,te,J){const re=Math.abs(te-ee)+1,ce=ee>te,ve=le>J,Ie=le<J,We=[];for(let Ue=0;Ue<re;Ue++){const ue=ee+(ce?-Ue:Ue),Ce=ge.columnFromVisibleColumn(Q,ue,le),Ae=ge.columnFromVisibleColumn(Q,ue,J),et=ge.visibleColumnFromColumn(Q,new B.L(ue,Ce)),Ye=ge.visibleColumnFromColumn(Q,new B.L(ue,Ae));Ie&&(et>J||Ye<le)||ve&&(Ye>le||et<J)||We.push(new T.rS(new P.e(ue,Ce,ue,Ce),0,new B.L(ue,Ae),0))}if(0===We.length)for(let Ue=0;Ue<re;Ue++){const ue=ee+(ce?-Ue:Ue),Ce=Q.getLineMaxColumn(ue);We.push(new T.rS(new P.e(ue,Ce,ue,Ce),0,new B.L(ue,Ce),0))}return{viewStates:We,reversed:ce,fromLineNumber:ee,fromVisualColumn:le,toLineNumber:te,toVisualColumn:J}}static columnSelectLeft(ge,Q,ee){let le=ee.toViewVisualColumn;return le>0&&le--,y.columnSelect(ge,Q,ee.fromViewLineNumber,ee.fromViewVisualColumn,ee.toViewLineNumber,le)}static columnSelectRight(ge,Q,ee){let le=0;const te=Math.min(ee.fromViewLineNumber,ee.toViewLineNumber),J=Math.max(ee.fromViewLineNumber,ee.toViewLineNumber);for(let ce=te;ce<=J;ce++){const ve=Q.getLineMaxColumn(ce),Ie=ge.visibleColumnFromColumn(Q,new B.L(ce,ve));le=Math.max(le,Ie)}let re=ee.toViewVisualColumn;return re<le&&re++,this.columnSelect(ge,Q,ee.fromViewLineNumber,ee.fromViewVisualColumn,ee.toViewLineNumber,re)}static columnSelectUp(ge,Q,ee,le){const J=Math.max(1,ee.toViewLineNumber-(le?ge.pageSize:1));return this.columnSelect(ge,Q,ee.fromViewLineNumber,ee.fromViewVisualColumn,J,ee.toViewVisualColumn)}static columnSelectDown(ge,Q,ee,le){const te=le?ge.pageSize:1,J=Math.min(Q.getLineCount(),ee.toViewLineNumber+te);return this.columnSelect(ge,Q,ee.fromViewLineNumber,ee.fromViewVisualColumn,J,ee.toViewVisualColumn)}}var Z,ye,O,$,C=p(17666),b=p(71015),x=p(8418),f=p(20296),E=p(6461),z=p(22115);class N extends M._l{runEditorCommand(ge,Q,ee){const le=Q._getViewModel();!le||this.runCoreEditorCommand(le,ee||{})}}(ye=Z||(Z={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(ee){if(!Y.Kn(ee))return!1;const le=ee;return!(!Y.HD(le.to)||!Y.o8(le.by)&&!Y.HD(le.by)||!Y.o8(le.value)&&!Y.hj(le.value)||!Y.o8(le.revealCursor)&&!Y.jn(le.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},ye.RawDirection={Up:"up",Down:"down"},ye.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},ye.parse=function(ee){let le,te;switch(ee.to){case ye.RawDirection.Up:le=1;break;case ye.RawDirection.Down:le=2;break;default:return null}switch(ee.by){case ye.RawUnit.Line:te=1;break;default:te=2;break;case ye.RawUnit.Page:te=3;break;case ye.RawUnit.HalfPage:te=4}return{direction:le,unit:te,value:Math.floor(ee.value||1),revealCursor:!!ee.revealCursor,select:!!ee.select}},function(ye){ye.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(Q){if(!Y.Kn(Q))return!1;const ee=Q;return!(!Y.hj(ee.lineNumber)&&!Y.HD(ee.lineNumber)||!Y.o8(ee.at)&&!Y.HD(ee.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},ye.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(O||(O={}));class I{constructor(ge){ge.addImplementation(1e4,"code-editor",(Q,ee)=>{const le=Q.get(i.$).getFocusedCodeEditor();return!(!le||!le.hasTextFocus())&&this._runEditorCommand(Q,le,ee)}),ge.addImplementation(1e3,"generic-dom-input-textarea",(Q,ee)=>{const le=document.activeElement;return!!(le&&["input","textarea"].indexOf(le.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),ge.addImplementation(0,"generic-dom",(Q,ee)=>{const le=Q.get(i.$).getActiveCodeEditor();return!!le&&(le.focus(),this._runEditorCommand(Q,le,ee))})}_runEditorCommand(ge,Q,ee){return this.runEditorCommand(ge,Q,ee)||!0}}!function(ye){class ge extends N{constructor(Pe){super(Pe),this._minimalReveal=Pe.minimalReveal,this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,st){Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,[b.P.moveTo(Pe,Pe.getPrimaryCursorState(),this._inSelectionMode,st.position,st.viewPosition)])&&Pe.revealPrimaryCursor(st.source,!0,this._minimalReveal)}}ye.MoveTo=(0,M.fK)(new ge({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),ye.MoveToSelect=(0,M.fK)(new ge({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class Q extends N{runCoreEditorCommand(Pe,st){Pe.model.pushStackElement();const ut=this._getColumnSelectResult(Pe,Pe.getPrimaryCursorState(),Pe.getCursorColumnSelectData(),st);Pe.setCursorStates(st.source,3,ut.viewStates.map(nt=>T.Vi.fromViewState(nt))),Pe.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ut.fromLineNumber,fromViewVisualColumn:ut.fromVisualColumn,toViewLineNumber:ut.toLineNumber,toViewVisualColumn:ut.toVisualColumn}),ut.reversed?Pe.revealTopMostCursor(st.source):Pe.revealBottomMostCursor(st.source)}}ye.ColumnSelect=(0,M.fK)(new class extends Q{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Ye,Pe,st,ut){const nt=Ye.model.validatePosition(ut.position),Se=Ye.coordinatesConverter.validateViewPosition(new B.L(ut.viewPosition.lineNumber,ut.viewPosition.column),nt);return y.columnSelect(Ye.cursorConfig,Ye,ut.doColumnSelect?st.fromViewLineNumber:Se.lineNumber,ut.doColumnSelect?st.fromViewVisualColumn:ut.mouseColumn-1,Se.lineNumber,ut.mouseColumn-1)}}),ye.CursorColumnSelectLeft=(0,M.fK)(new class extends Q{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Ye,Pe,st,ut){return y.columnSelectLeft(Ye.cursorConfig,Ye,st)}}),ye.CursorColumnSelectRight=(0,M.fK)(new class extends Q{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Ye,Pe,st,ut){return y.columnSelectRight(Ye.cursorConfig,Ye,st)}});class ee extends Q{constructor(Pe){super(Pe),this._isPaged=Pe.isPaged}_getColumnSelectResult(Pe,st,ut,nt){return y.columnSelectUp(Pe.cursorConfig,Pe,ut,this._isPaged)}}ye.CursorColumnSelectUp=(0,M.fK)(new ee({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3600,linux:{primary:0}}})),ye.CursorColumnSelectPageUp=(0,M.fK)(new ee({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3595,linux:{primary:0}}}));class le extends Q{constructor(Pe){super(Pe),this._isPaged=Pe.isPaged}_getColumnSelectResult(Pe,st,ut,nt){return y.columnSelectDown(Pe.cursorConfig,Pe,ut,this._isPaged)}}ye.CursorColumnSelectDown=(0,M.fK)(new le({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3602,linux:{primary:0}}})),ye.CursorColumnSelectPageDown=(0,M.fK)(new le({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3596,linux:{primary:0}}}));class te extends N{constructor(){super({id:"cursorMove",precondition:void 0,description:b.N.description})}runCoreEditorCommand(Pe,st){const ut=b.N.parse(st);!ut||this._runCursorMove(Pe,st.source,ut)}_runCursorMove(Pe,st,ut){Pe.model.pushStackElement(),Pe.setCursorStates(st,3,te._move(Pe,Pe.getCursorStates(),ut)),Pe.revealPrimaryCursor(st,!0)}static _move(Pe,st,ut){const nt=ut.select,Se=ut.value;switch(ut.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return b.P.simpleMove(Pe,st,ut.direction,nt,Se,ut.unit);case 11:case 13:case 12:case 14:return b.P.viewportMove(Pe,st,ut.direction,nt,Se);default:return null}}}ye.CursorMoveImpl=te,ye.CursorMove=(0,M.fK)(new te);class J extends N{constructor(Pe){super(Pe),this._staticArgs=Pe.args}runCoreEditorCommand(Pe,st){let ut=this._staticArgs;-1===this._staticArgs.value&&(ut={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:st.pageSize||Pe.cursorConfig.pageSize}),Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,b.P.simpleMove(Pe,Pe.getCursorStates(),ut.direction,ut.select,ut.value,ut.unit)),Pe.revealPrimaryCursor(st.source,!0)}}ye.CursorLeft=(0,M.fK)(new J({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),ye.CursorLeftSelect=(0,M.fK)(new J({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1039}})),ye.CursorRight=(0,M.fK)(new J({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),ye.CursorRightSelect=(0,M.fK)(new J({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1041}})),ye.CursorUp=(0,M.fK)(new J({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),ye.CursorUpSelect=(0,M.fK)(new J({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),ye.CursorPageUp=(0,M.fK)(new J({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:11}})),ye.CursorPageUpSelect=(0,M.fK)(new J({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1035}})),ye.CursorDown=(0,M.fK)(new J({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),ye.CursorDownSelect=(0,M.fK)(new J({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),ye.CursorPageDown=(0,M.fK)(new J({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:12}})),ye.CursorPageDownSelect=(0,M.fK)(new J({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1036}})),ye.CreateCursor=(0,M.fK)(new class extends N{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Ye,Pe){let st;st=Pe.wholeLine?b.P.line(Ye,Ye.getPrimaryCursorState(),!1,Pe.position,Pe.viewPosition):b.P.moveTo(Ye,Ye.getPrimaryCursorState(),!1,Pe.position,Pe.viewPosition);const ut=Ye.getCursorStates();if(ut.length>1){const nt=st.modelState?st.modelState.position:null,Se=st.viewState?st.viewState.position:null;for(let Ne=0,at=ut.length;Ne<at;Ne++){const Ct=ut[Ne];if((!nt||Ct.modelState.selection.containsPosition(nt))&&(!Se||Ct.viewState.selection.containsPosition(Se)))return ut.splice(Ne,1),Ye.model.pushStackElement(),void Ye.setCursorStates(Pe.source,3,ut)}}ut.push(st),Ye.model.pushStackElement(),Ye.setCursorStates(Pe.source,3,ut)}}),ye.LastCursorMoveToSelect=(0,M.fK)(new class extends N{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Ye,Pe){const st=Ye.getLastAddedCursorIndex(),ut=Ye.getCursorStates(),nt=ut.slice(0);nt[st]=b.P.moveTo(Ye,ut[st],!0,Pe.position,Pe.viewPosition),Ye.model.pushStackElement(),Ye.setCursorStates(Pe.source,3,nt)}});class re extends N{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,st){Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,b.P.moveToBeginningOfLine(Pe,Pe.getCursorStates(),this._inSelectionMode)),Pe.revealPrimaryCursor(st.source,!0)}}ye.CursorHome=(0,M.fK)(new re({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),ye.CursorHomeSelect=(0,M.fK)(new re({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class ce extends N{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,st){Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,this._exec(Pe.getCursorStates())),Pe.revealPrimaryCursor(st.source,!0)}_exec(Pe){const st=[];for(let ut=0,nt=Pe.length;ut<nt;ut++){const Se=Pe[ut];st[ut]=T.Vi.fromModelState(Se.modelState.move(this._inSelectionMode,Se.modelState.position.lineNumber,1,0))}return st}}ye.CursorLineStart=(0,M.fK)(new ce({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:287}}})),ye.CursorLineStartSelect=(0,M.fK)(new ce({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:1311}}}));class ve extends N{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,st){Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,b.P.moveToEndOfLine(Pe,Pe.getCursorStates(),this._inSelectionMode,st.sticky||!1)),Pe.revealPrimaryCursor(st.source,!0)}}ye.CursorEnd=(0,M.fK)(new ve({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:f.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:D.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),ye.CursorEndSelect=(0,M.fK)(new ve({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:f.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:D.N("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class Ie extends N{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,st){Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,this._exec(Pe,Pe.getCursorStates())),Pe.revealPrimaryCursor(st.source,!0)}_exec(Pe,st){const ut=[];for(let nt=0,Se=st.length;nt<Se;nt++){const Ne=st[nt],at=Ne.modelState.position.lineNumber,Ct=Pe.model.getLineMaxColumn(at);ut[nt]=T.Vi.fromModelState(Ne.modelState.move(this._inSelectionMode,at,Ct,0))}return ut}}ye.CursorLineEnd=(0,M.fK)(new Ie({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:291}}})),ye.CursorLineEndSelect=(0,M.fK)(new Ie({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:1315}}}));class We extends N{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,st){Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,b.P.moveToBeginningOfBuffer(Pe,Pe.getCursorStates(),this._inSelectionMode)),Pe.revealPrimaryCursor(st.source,!0)}}ye.CursorTop=(0,M.fK)(new We({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2062,mac:{primary:2064}}})),ye.CursorTopSelect=(0,M.fK)(new We({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class Ue extends N{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,st){Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,b.P.moveToEndOfBuffer(Pe,Pe.getCursorStates(),this._inSelectionMode)),Pe.revealPrimaryCursor(st.source,!0)}}ye.CursorBottom=(0,M.fK)(new Ue({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2061,mac:{primary:2066}}})),ye.CursorBottomSelect=(0,M.fK)(new Ue({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class ue extends N{constructor(){super({id:"editorScroll",precondition:void 0,description:Z.description})}runCoreEditorCommand(Pe,st){const ut=Z.parse(st);!ut||this._runEditorScroll(Pe,st.source,ut)}_runEditorScroll(Pe,st,ut){const nt=this._computeDesiredScrollTop(Pe,ut);if(ut.revealCursor){const Se=Pe.getCompletelyVisibleViewRangeAtScrollTop(nt);Pe.setCursorStates(st,3,[b.P.findPositionInViewportIfOutside(Pe,Pe.getPrimaryCursorState(),Se,ut.select)])}Pe.viewLayout.setScrollPosition({scrollTop:nt},0)}_computeDesiredScrollTop(Pe,st){if(1===st.unit){const Se=Pe.getCompletelyVisibleViewRange(),Ne=Pe.coordinatesConverter.convertViewRangeToModelRange(Se);let at;at=1===st.direction?Math.max(1,Ne.startLineNumber-st.value):Math.min(Pe.model.getLineCount(),Ne.startLineNumber+st.value);const Ct=Pe.coordinatesConverter.convertModelPositionToViewPosition(new B.L(at,1));return Pe.viewLayout.getVerticalOffsetForLineNumber(Ct.lineNumber)}let ut;ut=3===st.unit?Pe.cursorConfig.pageSize*st.value:4===st.unit?Math.round(Pe.cursorConfig.pageSize/2)*st.value:st.value;const nt=(1===st.direction?-1:1)*ut;return Pe.viewLayout.getCurrentScrollTop()+nt*Pe.cursorConfig.lineHeight}}ye.EditorScrollImpl=ue,ye.EditorScroll=(0,M.fK)(new ue),ye.ScrollLineUp=(0,M.fK)(new class extends N{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Ye,Pe){ye.EditorScroll._runEditorScroll(Ye,Pe.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),ye.ScrollPageUp=(0,M.fK)(new class extends N{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Ye,Pe){ye.EditorScroll._runEditorScroll(Ye,Pe.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),ye.ScrollLineDown=(0,M.fK)(new class extends N{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Ye,Pe){ye.EditorScroll._runEditorScroll(Ye,Pe.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),ye.ScrollPageDown=(0,M.fK)(new class extends N{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Ye,Pe){ye.EditorScroll._runEditorScroll(Ye,Pe.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class Ce extends N{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,st){Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,[b.P.word(Pe,Pe.getPrimaryCursorState(),this._inSelectionMode,st.position)]),Pe.revealPrimaryCursor(st.source,!0)}}ye.WordSelect=(0,M.fK)(new Ce({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),ye.WordSelectDrag=(0,M.fK)(new Ce({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),ye.LastCursorWordSelect=(0,M.fK)(new class extends N{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Ye,Pe){const st=Ye.getLastAddedCursorIndex(),ut=Ye.getCursorStates(),nt=ut.slice(0),Se=ut[st];nt[st]=b.P.word(Ye,Se,Se.modelState.hasSelection(),Pe.position),Ye.model.pushStackElement(),Ye.setCursorStates(Pe.source,3,nt)}});class Ae extends N{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,st){Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,[b.P.line(Pe,Pe.getPrimaryCursorState(),this._inSelectionMode,st.position,st.viewPosition)]),Pe.revealPrimaryCursor(st.source,!1)}}ye.LineSelect=(0,M.fK)(new Ae({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),ye.LineSelectDrag=(0,M.fK)(new Ae({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class et extends N{constructor(Pe){super(Pe),this._inSelectionMode=Pe.inSelectionMode}runCoreEditorCommand(Pe,st){const ut=Pe.getLastAddedCursorIndex(),nt=Pe.getCursorStates(),Se=nt.slice(0);Se[ut]=b.P.line(Pe,nt[ut],this._inSelectionMode,st.position,st.viewPosition),Pe.model.pushStackElement(),Pe.setCursorStates(st.source,3,Se)}}ye.LastCursorLineSelect=(0,M.fK)(new et({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),ye.LastCursorLineSelectDrag=(0,M.fK)(new et({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),ye.CancelSelection=(0,M.fK)(new class extends N{constructor(){super({id:"cancelSelection",precondition:f.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ye,Pe){Ye.model.pushStackElement(),Ye.setCursorStates(Pe.source,3,[b.P.cancelSelection(Ye,Ye.getPrimaryCursorState())]),Ye.revealPrimaryCursor(Pe.source,!0)}}),ye.RemoveSecondaryCursors=(0,M.fK)(new class extends N{constructor(){super({id:"removeSecondaryCursors",precondition:f.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ye,Pe){Ye.model.pushStackElement(),Ye.setCursorStates(Pe.source,3,[Ye.getPrimaryCursorState()]),Ye.revealPrimaryCursor(Pe.source,!0),(0,W.i7)(D.N("removedCursor","Removed secondary cursors"))}}),ye.RevealLine=(0,M.fK)(new class extends N{constructor(){super({id:"revealLine",precondition:void 0,description:O.description})}runCoreEditorCommand(Ye,Pe){const st=Pe,ut=st.lineNumber||0;let nt="number"==typeof ut?ut+1:parseInt(ut)+1;nt<1&&(nt=1);const Se=Ye.model.getLineCount();nt>Se&&(nt=Se);const Ne=new P.e(nt,1,nt,Ye.model.getLineMaxColumn(nt));let at=0;if(st.at)switch(st.at){case O.RawAtArgument.Top:at=3;break;case O.RawAtArgument.Center:at=1;break;case O.RawAtArgument.Bottom:at=4}const Ct=Ye.coordinatesConverter.convertModelRangeToViewRange(Ne);Ye.revealRange(Pe.source,!1,Ct,at,0)}}),ye.SelectAll=new class extends I{constructor(){super(M.Sq)}runDOMCommand(){g.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Ye,Pe,st){const ut=Pe._getViewModel();!ut||this.runCoreEditorCommand(ut,st)}runCoreEditorCommand(Ye,Pe){Ye.model.pushStackElement(),Ye.setCursorStates("keyboard",3,[b.P.selectAll(Ye,Ye.getPrimaryCursorState())])}},ye.SetSelection=(0,M.fK)(new class extends N{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Ye,Pe){Ye.model.pushStackElement(),Ye.setCursorStates(Pe.source,3,[T.Vi.fromModelSelection(Pe.selection)])}})}($||($={}));const j=E.Ao.and(f.u.textInputFocus,f.u.columnSelection);function G(ye,ge){z.W.registerKeybindingRule({id:ye,primary:ge,when:j,weight:1})}function oe(ye){return ye.register(),ye}var de;G($.CursorColumnSelectLeft.id,1039),G($.CursorColumnSelectRight.id,1041),G($.CursorColumnSelectUp.id,1040),G($.CursorColumnSelectPageUp.id,1035),G($.CursorColumnSelectDown.id,1042),G($.CursorColumnSelectPageDown.id,1036),function(ye){class ge extends M._l{runEditorCommand(ee,le,te){const J=le._getViewModel();!J||this.runCoreEditingCommand(le,J,te||{})}}ye.CoreEditingCommand=ge,ye.LineBreakInsert=(0,M.fK)(new class extends ge{constructor(){super({id:"lineBreakInsert",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(Q,ee,le){Q.pushUndoStop(),Q.executeCommands(this.id,x.u.lineBreakInsert(ee.cursorConfig,ee.model,ee.getCursorStates().map(te=>te.modelState.selection)))}}),ye.Outdent=(0,M.fK)(new class extends ge{constructor(){super({id:"outdent",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:E.Ao.and(f.u.editorTextFocus,f.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(Q,ee,le){Q.pushUndoStop(),Q.executeCommands(this.id,x.u.outdent(ee.cursorConfig,ee.model,ee.getCursorStates().map(te=>te.modelState.selection))),Q.pushUndoStop()}}),ye.Tab=(0,M.fK)(new class extends ge{constructor(){super({id:"tab",precondition:f.u.writable,kbOpts:{weight:0,kbExpr:E.Ao.and(f.u.editorTextFocus,f.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(Q,ee,le){Q.pushUndoStop(),Q.executeCommands(this.id,x.u.tab(ee.cursorConfig,ee.model,ee.getCursorStates().map(te=>te.modelState.selection))),Q.pushUndoStop()}}),ye.DeleteLeft=(0,M.fK)(new class extends ge{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(Q,ee,le){const[te,J]=C.A.deleteLeft(ee.getPrevEditOperationType(),ee.cursorConfig,ee.model,ee.getCursorStates().map(re=>re.modelState.selection),ee.getCursorAutoClosedCharacters());te&&Q.pushUndoStop(),Q.executeCommands(this.id,J),ee.setPrevEditOperationType(2)}}),ye.DeleteRight=(0,M.fK)(new class extends ge{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:f.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(Q,ee,le){const[te,J]=C.A.deleteRight(ee.getPrevEditOperationType(),ee.cursorConfig,ee.model,ee.getCursorStates().map(re=>re.modelState.selection));te&&Q.pushUndoStop(),Q.executeCommands(this.id,J),ee.setPrevEditOperationType(3)}}),ye.Undo=new class extends I{constructor(){super(M.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(Q,ee,le){if(ee.hasModel()&&!0!==ee.getOption(81))return ee.getModel().undo()}},ye.Redo=new class extends I{constructor(){super(M.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(Q,ee,le){if(ee.hasModel()&&!0!==ee.getOption(81))return ee.getModel().redo()}}}(de||(de={}));class fe extends M.mY{constructor(ge,Q,ee){super({id:ge,precondition:void 0,description:ee}),this._handlerId=Q}runCommand(ge,Q){const ee=ge.get(i.$).getFocusedCodeEditor();!ee||ee.trigger("keyboard",this._handlerId,Q)}}function pe(ye,ge){oe(new fe("default:"+ye,ye)),oe(new fe(ye,ye,ge))}pe("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),pe("replacePreviousChar"),pe("compositionType"),pe("compositionStart"),pe("compositionEnd"),pe("paste"),pe("cut")},79837:(Fe,Ee,p)=>{p.d(Ee,{CL:()=>g,QI:()=>Y,Pi:()=>W});var D=p(3760);function g(M){return!(!M||"function"!=typeof M.getEditorType)&&M.getEditorType()===D.g.ICodeEditor}function Y(M){return!(!M||"function"!=typeof M.getEditorType)&&M.getEditorType()===D.g.IDiffEditor}function W(M){return g(M)?M:Y(M)?M.getModifiedEditor():null}},96132:(Fe,Ee,p)=>{p.d(Ee,{YN:()=>T,rU:()=>B,kG:()=>C,Pp:()=>b,gy:()=>x,N5:()=>f,tC:()=>E,iB:()=>z,t7:()=>L});var D=p(86678),g=p(8535),Y=p(2886),W=p(89983),M=p(40189),i=p(98275);class T{constructor(I,$){this.x=I,this.y=$,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new B(this.x-D.DI.scrollX,this.y-D.DI.scrollY)}}class B{constructor(I,$){this.clientX=I,this.clientY=$,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new T(this.clientX+D.DI.scrollX,this.clientY+D.DI.scrollY)}}class P{constructor(I,$,j,G){this.x=I,this.y=$,this.width=j,this.height=G,this._editorPagePositionBrand=void 0}}class y{constructor(I,$){this.x=I,this.y=$,this._positionRelativeToEditorBrand=void 0}}function C(O){const I=D.i(O);return new P(I.left,I.top,I.width,I.height)}function b(O,I,$){return new y(($.x-I.x)/(I.width/O.offsetWidth),($.y-I.y)/(I.height/O.offsetHeight))}class x extends Y.n{constructor(I,$){super(I),this._editorMouseEventBrand=void 0,this.pos=new T(this.posx,this.posy),this.editorPos=C($),this.relativePos=b($,this.editorPos,this.pos)}}class f{constructor(I){this._editorViewDomNode=I}_create(I){return new x(I,this._editorViewDomNode)}onContextMenu(I,$){return D.nm(I,"contextmenu",j=>{$(this._create(j))})}onMouseUp(I,$){return D.nm(I,"mouseup",j=>{$(this._create(j))})}onMouseDown(I,$){return D.nm(I,"mousedown",j=>{$(this._create(j))})}onMouseLeave(I,$){return D.j_(I,j=>{$(this._create(j))})}onMouseMoveThrottled(I,$,j,G){return D.Y_(I,"mousemove",$,(de,fe)=>j(de,this._create(fe)),G)}}class E{constructor(I){this._editorViewDomNode=I}_create(I){return new x(I,this._editorViewDomNode)}onPointerUp(I,$){return D.nm(I,"pointerup",j=>{$(this._create(j))})}onPointerDown(I,$){return D.nm(I,"pointerdown",j=>{$(this._create(j))})}onPointerLeave(I,$){return D.RE(I,j=>{$(this._create(j))})}onPointerMoveThrottled(I,$,j,G){return D.Y_(I,"pointermove",$,(de,fe)=>j(de,this._create(fe)),G)}}class z extends M.JT{constructor(I){super(),this._editorViewDomNode=I,this._globalMouseMoveMonitor=this._register(new g.Z),this._keydownListener=null}startMonitoring(I,$,j,G,oe){this._keydownListener=D.mu(document,"keydown",fe=>{fe.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,fe.browserEvent)},!0),this._globalMouseMoveMonitor.startMonitoring(I,$,(fe,pe)=>j(fe,new x(pe,this._editorViewDomNode)),G,fe=>{this._keydownListener.dispose(),oe(fe)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}let L=(()=>{class O{constructor($){this._editor=$,this._instanceId=++O._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new W.pY(()=>this.garbageCollect(),1e3)}createClassNameRef($){const j=this.getOrCreateRule($);return j.increaseRefCount(),{className:j.className,dispose:()=>{j.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule($){const j=this.computeUniqueKey($);let G=this._rules.get(j);if(!G){const oe=this._counter++;G=new N(j,`dyn-rule-${this._instanceId}-${oe}`,D.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,$),this._rules.set(j,G)}return G}computeUniqueKey($){return JSON.stringify($)}garbageCollect(){for(const $ of this._rules.values())$.hasReferences()||(this._rules.delete($.key),$.dispose())}}return O._idPool=0,O})();class N{constructor(I,$,j,G){this.key=I,this.className=$,this.properties=G,this._referenceCount=0,this._styleElement=D.dS(j),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(I,$){let j=`.${I} {`;for(const G in $){const oe=$[G];let de;de="object"==typeof oe?`var(${(0,i.QO2)(oe.id)})`:oe,j+=`\n\t${O=G,O.replace(/(^[A-Z])/,([I])=>I.toLowerCase()).replace(/([A-Z])/g,([I])=>`-${I.toLowerCase()}`)}: ${de};`}var O;return j+="\n}",j}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}},44346:(Fe,Ee,p)=>{p.d(Ee,{mY:()=>z,AJ:()=>L,_l:()=>Z,R6:()=>O,jY:()=>I,sb:()=>$,fK:()=>j,Qr:()=>G,rn:()=>oe,QG:()=>de,_K:()=>fe,Uc:()=>pe,n_:()=>ee,kz:()=>le,Sq:()=>te});var pe,J,D=p(12918),g=p(85459),Y=p(57623),W=p(67947),M=p(39067),i=p(13591),T=p(46842),B=p(10467),P=p(6461),y=p(43569),C=p(22115),b=p(63779),x=p(87493),f=p(99770),E=p(2646);class z{constructor(re){this.id=re.id,this.precondition=re.precondition,this._kbOpts=re.kbOpts,this._menuOpts=re.menuOpts,this._description=re.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const re=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const ce of re){let ve=ce.kbExpr;this.precondition&&(ve=ve?P.Ao.and(ve,this.precondition):this.precondition),C.W.registerKeybindingRule({id:this.id,weight:ce.weight,args:ce.args,when:ve,primary:ce.primary,secondary:ce.secondary,win:ce.win,linux:ce.linux,mac:ce.mac})}}B.P0.registerCommand({id:this.id,handler:(re,ce)=>this.runCommand(re,ce),description:this._description})}_registerMenuItem(re){T.BH.appendMenuItem(re.menuId,{group:re.group,command:{id:this.id,title:re.title,icon:re.icon,precondition:this.precondition},when:re.when,order:re.order})}}class L extends z{constructor(){super(...arguments),this._implementations=[]}addImplementation(re,ce,ve){return this._implementations.push({priority:re,name:ce,implementation:ve}),this._implementations.sort((Ie,We)=>We.priority-Ie.priority),{dispose:()=>{for(let Ie=0;Ie<this._implementations.length;Ie++)if(this._implementations[Ie].implementation===ve)return void this._implementations.splice(Ie,1)}}}runCommand(re,ce){const ve=re.get(E.VZ);ve.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const Ie of this._implementations){const We=Ie.implementation(re,ce);if(We)return ve.trace(`Command '${this.id}' was handled by '${Ie.name}'.`),"boolean"==typeof We?void 0:We}ve.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class N extends z{constructor(re,ce){super(ce),this.command=re}runCommand(re,ce){return this.command.runCommand(re,ce)}}class Z extends z{static bindToContribution(re){return class extends Z{constructor(ve){super(ve),this._callback=ve.handler}runEditorCommand(ve,Ie,We){const Ue=re(Ie);Ue&&this._callback(Ue,We)}}}runCommand(re,ce){const ve=re.get(Y.$),Ie=ve.getFocusedCodeEditor()||ve.getActiveCodeEditor();if(Ie)return Ie.invokeWithinContext(We=>{if(We.get(P.i6).contextMatchesRules((0,f.f6)(this.precondition)))return this.runEditorCommand(We,Ie,ce)})}}class O extends Z{constructor(re){super(O.convertOptions(re)),this.label=re.label,this.alias=re.alias}static convertOptions(re){let ce;function ve(Ie){return Ie.menuId||(Ie.menuId=T.eH.EditorContext),Ie.title||(Ie.title=re.label),Ie.when=P.Ao.and(re.precondition,Ie.when),Ie}return ce=Array.isArray(re.menuOpts)?re.menuOpts:re.menuOpts?[re.menuOpts]:[],Array.isArray(re.contextMenuOpts)?ce.push(...re.contextMenuOpts.map(ve)):re.contextMenuOpts&&ce.push(ve(re.contextMenuOpts)),re.menuOpts=ce,re}runEditorCommand(re,ce,ve){return this.reportTelemetry(re,ce),this.run(re,ce,ve||{})}reportTelemetry(re,ce){re.get(x.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class I extends O{constructor(){super(...arguments),this._implementations=[]}addImplementation(re,ce){return this._implementations.push([re,ce]),this._implementations.sort((ve,Ie)=>Ie[0]-ve[0]),{dispose:()=>{for(let ve=0;ve<this._implementations.length;ve++)if(this._implementations[ve][1]===ce)return void this._implementations.splice(ve,1)}}}run(re,ce,ve){for(const Ie of this._implementations){const We=Ie[1](re,ce,ve);if(We)return"boolean"==typeof We?void 0:We}}}function $(J,re){B.P0.registerCommand(J,function(ce,...ve){const Ie=ce.get(y.TG),[We,Ue]=ve;(0,f.p_)(g.o.isUri(We)),(0,f.p_)(W.L.isIPosition(Ue));const ue=ce.get(M.q).getModel(We);if(ue){const Ce=W.L.lift(Ue);return Ie.invokeFunction(re,ue,Ce,...ve.slice(2))}return ce.get(i.S).createModelReference(We).then(Ce=>new Promise((Ae,et)=>{try{Ae(Ie.invokeFunction(re,Ce.object.textEditorModel,W.L.lift(Ue),ve.slice(2)))}catch(Ye){et(Ye)}}).finally(()=>{Ce.dispose()}))})}function j(J){return ge.INSTANCE.registerEditorCommand(J),J}function G(J){const re=new J;return ge.INSTANCE.registerEditorAction(re),re}function oe(J){return ge.INSTANCE.registerEditorAction(J),J}function de(J){ge.INSTANCE.registerEditorAction(J)}function fe(J,re){ge.INSTANCE.registerEditorContribution(J,re)}(J=pe||(pe={})).getEditorCommand=function(Ue){return ge.INSTANCE.getEditorCommand(Ue)},J.getEditorActions=function(){return ge.INSTANCE.getEditorActions()},J.getEditorContributions=function(){return ge.INSTANCE.getEditorContributions()},J.getSomeEditorContributions=function(Ue){return ge.INSTANCE.getEditorContributions().filter(ue=>Ue.indexOf(ue.id)>=0)},J.getDiffEditorContributions=function(){return ge.INSTANCE.getDiffEditorContributions()};class ge{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(re,ce){this.editorContributions.push({id:re,ctor:ce})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(re){re.register(),this.editorActions.push(re)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(re){re.register(),this.editorCommands[re.id]=re}getEditorCommand(re){return this.editorCommands[re]||null}}function Q(J){return J.register(),J}ge.INSTANCE=new ge,b.B.add("editor.contributions",ge.INSTANCE);const ee=Q(new L({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:T.eH.MenubarEditMenu,group:"1_do",title:D.N({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:T.eH.CommandPalette,group:"",title:D.N("undo","Undo"),order:1}]}));Q(new N(ee,{id:"default:undo",precondition:void 0}));const le=Q(new L({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:T.eH.MenubarEditMenu,group:"1_do",title:D.N({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:T.eH.CommandPalette,group:"",title:D.N("redo","Redo"),order:1}]}));Q(new N(le,{id:"default:redo",precondition:void 0}));const te=Q(new L({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:T.eH.MenubarSelectionMenu,group:"1_basic",title:D.N({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:T.eH.CommandPalette,group:"",title:D.N("selectAll","Select All"),order:1}]}))},48882:(Fe,Ee,p)=>{p.d(Ee,{vu:()=>W,fo:()=>T,Gl:()=>B});var D=p(43569),g=p(85459),Y=p(99770);const W=(0,D.yh)("IWorkspaceEditService");class T{constructor(C){this.metadata=C}static convert(C){return C.edits.map(b=>{if((0,Y.Kn)(y=b)&&g.o.isUri(y.resource)&&(0,Y.Kn)(y.edit))return new B(b.resource,b.edit,b.modelVersionId,b.metadata);var y;if(function(y){return(0,Y.Kn)(y)&&(Boolean(y.newUri)||Boolean(y.oldUri))}(b))return new P(b.oldUri,b.newUri,b.options,b.metadata);throw new Error("Unsupported edit")})}}class B extends T{constructor(C,b,x,f){super(f),this.resource=C,this.textEdit=b,this.versionId=x}}class P extends T{constructor(C,b,x,f){super(f),this.oldResource=C,this.newResource=b,this.options=x}}},57623:(Fe,Ee,p)=>{p.d(Ee,{$:()=>g});const g=(0,p(43569).yh)("codeEditorService")},78622:(Fe,Ee,p)=>{p.d(Ee,{Z:()=>D});class D{constructor(Y,W,M){this._visiblePosition=Y,this._visiblePositionScrollDelta=W,this._cursorPosition=M}static capture(Y){let W=null,M=0;if(0!==Y.getScrollTop()){const i=Y.getVisibleRanges();if(i.length>0){W=i[0].getStartPosition();const T=Y.getTopForPosition(W.lineNumber,W.column);M=Y.getScrollTop()-T}}return new D(W,M,Y.getPosition())}restore(Y){if(this._visiblePosition){const W=Y.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);Y.setScrollTop(W+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(Y){const W=Y.getPosition();if(!this._cursorPosition||!W)return;const M=Y.getTopForLineNumber(W.lineNumber)-Y.getTopForLineNumber(this._cursorPosition.lineNumber);Y.setScrollTop(Y.getScrollTop()+M)}}},17703:(Fe,Ee,p)=>{p.d(Ee,{Gm:()=>Tl});var D=p(64757),g=p(44346);let M=class{constructor(r,l){}dispose(){}};var r;M.ID="editor.contrib.markerDecorations",M=function(Te,r,l,_){var ie,k=arguments.length,H=k<3?r:null===_?_=Object.getOwnPropertyDescriptor(r,l):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(Te,r,l,_);else for(var he=Te.length-1;he>=0;he--)(ie=Te[he])&&(H=(k<3?ie(H):k>3?ie(r,l,H):ie(r,l))||H);return k>3&&H&&Object.defineProperty(r,l,H),H}([(1,r=D.i,function(l,_){r(l,_,1)})],M),(0,g._K)(M.ID,M),p(94965);var T=p(12918),B=p(86678),P=p(13226),y=p(71040),C=p(40189),b=p(98318),x=p(47306),f=p(89822),E=p(60842),z=p(70700),L=p(1607),N=p(12710),Z=p(81530),I=p(93002),$=p(52925),j=p(86627),G=p(11358),oe=p(13976);let pe=class extends C.JT{constructor(r,l,_,k){super(),this._accessibilityService=k,this._onDidChange=this._register(new y.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new y.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new $.LJ,this.isSimpleWidget=r,this._containerObserver=this._register(new L.I(_,l.dimension)),this._rawOptions=te(l),this._validatedOptions=le.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(j.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(I.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(N.g.onDidChange(()=>this._recomputeOptions())),this._register(x.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const r=this._computeOptions(),l=le.checkEquals(this.options,r);null!==l&&(this.options=r,this._onDidChangeFast.fire(l),this._onDidChange.fire(l))}_computeOptions(){const r=this._readEnvConfiguration(),l=G.E4.createFromValidatedSettings(this._validatedOptions,r.pixelRatio,this.isSimpleWidget),_=this._readFontInfo(l),k={memory:this._computeOptionsMemory,outerWidth:r.outerWidth,outerHeight:r.outerHeight-this._reservedHeight,fontInfo:_,extraEditorClassName:r.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:r.emptySelectionClipboard,pixelRatio:r.pixelRatio,tabFocusMode:I.n.getTabFocusMode(),accessibilitySupport:r.accessibilitySupport};return le.computeOptions(this._validatedOptions,k)}_readEnvConfiguration(){return{extraEditorClassName:ge(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:x.isWebKit||x.isFirefox,pixelRatio:x.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(r){return N.g.readFontInfo(r)}getRawOptions(){return this._rawOptions}updateOptions(r){const l=te(r);!le.applyUpdate(this._rawOptions,l)||(this._validatedOptions=le.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(r){this._containerObserver.observe(r)}setIsDominatedByLongLines(r){this._isDominatedByLongLines!==r&&(this._isDominatedByLongLines=r,this._recomputeOptions())}setModelLineCount(r){const l=function(Te){let r=0;for(;Te;)Te=Math.floor(Te/10),r++;return r||1}(r);this._lineNumbersDigitCount!==l&&(this._lineNumbersDigitCount=l,this._recomputeOptions())}setViewLineCount(r){this._viewLineCount!==r&&(this._viewLineCount=r,this._recomputeOptions())}setReservedHeight(r){this._reservedHeight!==r&&(this._reservedHeight=r,this._recomputeOptions())}};function ge(){let Te="";return!x.isSafari&&!x.isWebkitWebView&&(Te+="no-user-select "),x.isSafari&&(Te+="no-minimap-shadow "),z.dz&&(Te+="mac "),Te}pe=function(Te,r,l,_){var ie,k=arguments.length,H=k<3?r:null===_?_=Object.getOwnPropertyDescriptor(r,l):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(Te,r,l,_);else for(var he=Te.length-1;he>=0;he--)(ie=Te[he])&&(H=(k<3?ie(H):k>3?ie(r,l,H):ie(r,l))||H);return k>3&&H&&Object.defineProperty(r,l,H),H}([function(Te,r){return function(l,_){r(l,_,3)}}(0,oe.F)],pe);class Q{constructor(){this._values=[]}_read(r){return this._values[r]}get(r){return this._values[r]}_write(r,l){this._values[r]=l}}class ee{constructor(){this._values=[]}_read(r){if(r>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[r]}get(r){return this._read(r)}_write(r,l){this._values[r]=l}}class le{static validateOptions(r){const l=new Q;for(const _ of $.Bc)l._write(_.id,_.validate("_never_"===_.name?void 0:r[_.name]));return l}static computeOptions(r,l){const _=new ee;for(const k of $.Bc)_._write(k.id,k.compute(l,_,r._read(k.id)));return _}static _deepEquals(r,l){if("object"!=typeof r||"object"!=typeof l||!r||!l)return r===l;if(Array.isArray(r)||Array.isArray(l))return!(!Array.isArray(r)||!Array.isArray(l))&&f.fS(r,l);if(Object.keys(r).length!==Object.keys(l).length)return!1;for(const _ in r)if(!le._deepEquals(r[_],l[_]))return!1;return!0}static checkEquals(r,l){const _=[];let k=!1;for(const H of $.Bc){const ie=!le._deepEquals(r._read(H.id),l._read(H.id));_[H.id]=ie,ie&&(k=!0)}return k?new $.Bb(_):null}static applyUpdate(r,l){let _=!1;for(const k of $.Bc)if(l.hasOwnProperty(k.name)){const H=k.applyUpdate(r[k.name],l[k.name]);r[k.name]=H.newValue,_=_||H.didChange}return _}}function te(Te){const r=E.I8(Te);return function(Te){const r=Te.wordWrap;!0===r?Te.wordWrap="on":!1===r&&(Te.wordWrap="off");const l=Te.lineNumbers;!0===l?Te.lineNumbers="on":!1===l&&(Te.lineNumbers="off"),!1===Te.autoClosingBrackets&&(Te.autoClosingBrackets="never",Te.autoClosingQuotes="never",Te.autoSurround="never"),"visible"===Te.cursorBlinking&&(Te.cursorBlinking="solid");const H=Te.renderWhitespace;!0===H?Te.renderWhitespace="boundary":!1===H&&(Te.renderWhitespace="none");const ie=Te.renderLineHighlight;!0===ie?Te.renderLineHighlight="line":!1===ie&&(Te.renderLineHighlight="none");const he=Te.acceptSuggestionOnEnter;!0===he?Te.acceptSuggestionOnEnter="on":!1===he&&(Te.acceptSuggestionOnEnter="off");const we=Te.tabCompletion;!1===we?Te.tabCompletion="off":!0===we&&(Te.tabCompletion="onlySnippets");const Le=Te.suggest;Le&&"object"==typeof Le.filteredTypes&&Le.filteredTypes&&(0,Z.E)({method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"},Ht=>{const cn=Le.filteredTypes[Ht.key];!1===cn&&(Le[Ht.value]=cn)});const ke=Te.hover;!0===ke?Te.hover={enabled:!0}:!1===ke&&(Te.hover={enabled:!1});const ze=Te.parameterHints;!0===ze?Te.parameterHints={enabled:!0}:!1===ze&&(Te.parameterHints={enabled:!1});const qe=Te.autoIndent;!0===qe?Te.autoIndent="full":!1===qe&&(Te.autoIndent="advanced");const it=Te.matchBrackets;!0===it?Te.matchBrackets="always":!1===it&&(Te.matchBrackets="never");const{renderIndentGuides:bt,highlightActiveIndentGuide:Dt}=Te;Te.guides||(Te.guides={}),void 0!==bt&&(Te.guides.indentation=!!bt),void 0!==Dt&&(Te.guides.highlightActiveIndentation=!!Dt)}(r),r}var J=p(57623),re=p(60745),ce=p(81718),ve=p(23945),Ie=p(2886),We=p(89983),Ue=p(96132);class ue extends C.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(r){return!1}onCompositionEnd(r){return!1}onConfigurationChanged(r){return!1}onCursorStateChanged(r){return!1}onDecorationsChanged(r){return!1}onFlushed(r){return!1}onFocusChanged(r){return!1}onLanguageConfigurationChanged(r){return!1}onLineMappingChanged(r){return!1}onLinesChanged(r){return!1}onLinesDeleted(r){return!1}onLinesInserted(r){return!1}onRevealRangeRequest(r){return!1}onScrollChanged(r){return!1}onThemeChanged(r){return!1}onTokensChanged(r){return!1}onTokensColorsChanged(r){return!1}onZonesChanged(r){return!1}handleEvents(r){let l=!1;for(let _=0,k=r.length;_<k;_++){const H=r[_];switch(H.type){case 0:this.onCompositionStart(H)&&(l=!0);break;case 1:this.onCompositionEnd(H)&&(l=!0);break;case 2:this.onConfigurationChanged(H)&&(l=!0);break;case 3:this.onCursorStateChanged(H)&&(l=!0);break;case 4:this.onDecorationsChanged(H)&&(l=!0);break;case 5:this.onFlushed(H)&&(l=!0);break;case 6:this.onFocusChanged(H)&&(l=!0);break;case 7:this.onLanguageConfigurationChanged(H)&&(l=!0);break;case 8:this.onLineMappingChanged(H)&&(l=!0);break;case 9:this.onLinesChanged(H)&&(l=!0);break;case 10:this.onLinesDeleted(H)&&(l=!0);break;case 11:this.onLinesInserted(H)&&(l=!0);break;case 12:this.onRevealRangeRequest(H)&&(l=!0);break;case 13:this.onScrollChanged(H)&&(l=!0);break;case 15:this.onTokensChanged(H)&&(l=!0);break;case 14:this.onThemeChanged(H)&&(l=!0);break;case 16:this.onTokensColorsChanged(H)&&(l=!0);break;case 17:this.onZonesChanged(H)&&(l=!0);break;default:console.info("View received unknown event: "),console.info(H)}}l&&(this._shouldRender=!0)}}class Ce extends ue{constructor(r){super(),this._context=r,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Ae{static write(r,l){r.setAttribute("data-mprt",String(l))}static read(r){const l=r.getAttribute("data-mprt");return null===l?0:parseInt(l,10)}static collect(r,l){const _=[];let k=0;for(;r&&r!==document.body&&r!==l;)r.nodeType===r.ELEMENT_NODE&&(_[k++]=this.read(r)),r=r.parentElement;const H=new Uint8Array(k);for(let ie=0;ie<k;ie++)H[ie]=_[k-ie-1];return H}}class Ye extends class{constructor(r,l){this._restrictedRenderingContextBrand=void 0,this._viewLayout=r,this.viewportData=l,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const _=this._viewLayout.getCurrentViewport();this.scrollTop=_.top,this.scrollLeft=_.left,this.viewportWidth=_.width,this.viewportHeight=_.height}getScrolledTopFromAbsoluteTop(r){return r-this.scrollTop}getVerticalOffsetForLineNumber(r){return this._viewLayout.getVerticalOffsetForLineNumber(r)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(r,l,_){super(r,l),this._renderingContextBrand=void 0,this._viewLines=_}linesVisibleRangesForRange(r,l){return this._viewLines.linesVisibleRangesForRange(r,l)}visibleRangeForPosition(r){return this._viewLines.visibleRangeForPosition(r)}}class Pe{constructor(r,l,_){this.outsideRenderedLine=r,this.lineNumber=l,this.ranges=_}}class st{constructor(r,l){this._horizontalRangeBrand=void 0,this.left=Math.round(r),this.width=Math.round(l)}static from(r){const l=new Array(r.length);for(let _=0,k=r.length;_<k;_++){const H=r[_];l[_]=new st(H.left,H.width)}return l}toString(){return`[${this.left},${this.width}]`}}class ut{constructor(r,l){this._floatHorizontalRangeBrand=void 0,this.left=r,this.width=l}toString(){return`[${this.left},${this.width}]`}static compare(r,l){return r.left-l.left}}class nt{constructor(r,l){this.outsideRenderedLine=r,this.originalLeft=l,this.left=Math.round(this.originalLeft)}}class Se{constructor(r,l){this.outsideRenderedLine=r,this.ranges=l}}class Ne{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(r,l){r.selectNodeContents(l)}static _readClientRects(r,l,_,k,H){const ie=this._createRange();try{return ie.setStart(r,l),ie.setEnd(_,k),ie.getClientRects()}catch{return null}finally{this._detachRange(ie,H)}}static _mergeAdjacentRanges(r){if(1===r.length)return r;r.sort(ut.compare);const l=[];let _=0,k=r[0];for(let H=1,ie=r.length;H<ie;H++){const he=r[H];k.left+k.width+.9>=he.left?k.width=Math.max(k.width,he.left+he.width-k.left):(l[_++]=k,k=he)}return l[_++]=k,l}static _createHorizontalRangesFromClientRects(r,l,_){if(!r||0===r.length)return null;const k=[];for(let H=0,ie=r.length;H<ie;H++){const he=r[H];k[H]=new ut(Math.max(0,(he.left-l)/_),he.width/_)}return this._mergeAdjacentRanges(k)}static readHorizontalRanges(r,l,_,k,H,ie,he,we){const ke=r.children.length-1;if(0>ke)return null;if((l=Math.min(ke,Math.max(0,l)))===(k=Math.min(ke,Math.max(0,k)))&&_===H&&0===_&&!r.children[l].firstChild){const bt=r.children[l].getClientRects();return this._createHorizontalRangesFromClientRects(bt,ie,he)}l!==k&&k>0&&0===H&&(k--,H=1073741824);let ze=r.children[l].firstChild,qe=r.children[k].firstChild;if((!ze||!qe)&&(!ze&&0===_&&l>0&&(ze=r.children[l-1].firstChild,_=1073741824),!qe&&0===H&&k>0&&(qe=r.children[k-1].firstChild,H=1073741824)),!ze||!qe)return null;_=Math.min(ze.textContent.length,Math.max(0,_)),H=Math.min(qe.textContent.length,Math.max(0,H));const it=this._readClientRects(ze,_,qe,H,we);return this._createHorizontalRangesFromClientRects(it,ie,he)}}var at=p(82287),Ct=p(19362),jt=p(76804);const bn=!!z.tY||!(z.IJ||x.isFirefox||x.isSafari);let mt=!0;class Ft{constructor(r,l){this._domNode=r,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=l}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const r=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=r.left,this._clientRectScale=r.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class Wt{constructor(r,l){this.themeType=l;const _=r.options,k=_.get(44);this.renderWhitespace=_.get(88),this.renderControlCharacters=_.get(83),this.spaceWidth=k.spaceWidth,this.middotWidth=k.middotWidth,this.wsmiddotWidth=k.wsmiddotWidth,this.useMonospaceOptimizations=k.isMonospace&&!_.get(29),this.canUseHalfwidthRightwardsArrow=k.canUseHalfwidthRightwardsArrow,this.lineHeight=_.get(59),this.stopRenderingLineAfter=_.get(105),this.fontLigatures=_.get(45)}equals(r){return this.themeType===r.themeType&&this.renderWhitespace===r.renderWhitespace&&this.renderControlCharacters===r.renderControlCharacters&&this.spaceWidth===r.spaceWidth&&this.middotWidth===r.middotWidth&&this.wsmiddotWidth===r.wsmiddotWidth&&this.useMonospaceOptimizations===r.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===r.canUseHalfwidthRightwardsArrow&&this.lineHeight===r.lineHeight&&this.stopRenderingLineAfter===r.stopRenderingLineAfter&&this.fontLigatures===r.fontLigatures}}let zt=(()=>{class Te{constructor(l){this._options=l,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(l){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,ce.X)(l)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(l){this._isMaybeInvalid=!0,this._options=l}onSelectionChanged(){return(this._options.themeType===jt.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(l,_,k,H){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const ie=k.getViewLineRenderingData(l),he=this._options,we=at.Kp.filter(ie.inlineDecorations,l,ie.minColumn,ie.maxColumn);let Le=null;if(he.themeType===jt.e.HIGH_CONTRAST||"selection"===this._options.renderWhitespace){const it=k.selections;for(const bt of it){if(bt.endLineNumber<l||bt.startLineNumber>l)continue;const Dt=bt.startLineNumber===l?bt.startColumn:ie.minColumn,Nt=bt.endLineNumber===l?bt.endColumn:ie.maxColumn;Dt<Nt&&(he.themeType===jt.e.HIGH_CONTRAST||"selection"!==this._options.renderWhitespace?we.push(new at.Kp(Dt,Nt,"inline-selected-text",0)):(Le||(Le=[]),Le.push(new Ct.zG(Dt-1,Nt-1))))}}const ke=new Ct.IJ(he.useMonospaceOptimizations,he.canUseHalfwidthRightwardsArrow,ie.content,ie.continuesWithWrappedLine,ie.isBasicASCII,ie.containsRTL,ie.minColumn-1,ie.tokens,we,ie.tabSize,ie.startVisibleColumn,he.spaceWidth,he.middotWidth,he.wsmiddotWidth,he.stopRenderingLineAfter,he.renderWhitespace,he.renderControlCharacters,he.fontLigatures!==$.n0.OFF,Le);if(this._renderedViewLine&&this._renderedViewLine.input.equals(ke))return!1;H.appendASCIIString('<div style="top:'),H.appendASCIIString(String(_)),H.appendASCIIString("px;height:"),H.appendASCIIString(String(this._options.lineHeight)),H.appendASCIIString('px;" class="'),H.appendASCIIString(Te.CLASS_NAME),H.appendASCIIString('">');const ze=(0,Ct.d1)(ke,H);H.appendASCIIString("</div>");let qe=null;return mt&&bn&&ie.isBasicASCII&&he.useMonospaceOptimizations&&0===ze.containsForeignElements&&ie.content.length<300&&ke.lineTokens.getCount()<100&&(qe=new mn(this._renderedViewLine?this._renderedViewLine.domNode:null,ke,ze.characterMapping)),qe||(qe=vt(this._renderedViewLine?this._renderedViewLine.domNode:null,ke,ze.characterMapping,ze.containsRTL,ze.containsForeignElements)),this._renderedViewLine=qe,!0}layoutLine(l,_){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(_),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof mn}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof mn?this._renderedViewLine.monospaceAssumptionsAreValid():mt}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof mn&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(l,_,k,H){if(!this._renderedViewLine)return null;_=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,_)),k=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,k));const ie=this._renderedViewLine.input.stopRenderingLineAfter;let he=!1;-1!==ie&&_>ie+1&&k>ie+1&&(he=!0),-1!==ie&&_>ie+1&&(_=ie+1),-1!==ie&&k>ie+1&&(k=ie+1);const we=this._renderedViewLine.getVisibleRangesForRange(l,_,k,H);return we&&we.length>0?new Se(he,we):null}getColumnOfNodeOffset(l,_,k){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(l,_,k):1}}return Te.CLASS_NAME="view-line",Te})();class mn{constructor(r,l,_){this.domNode=r,this.input=l,this._characterMapping=_,this._charWidth=l.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return mt;const r=this.getWidth();return Math.abs(r-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),mt=!1),mt}toSlowRenderedLine(){return vt(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(r,l,_,k){const H=this._getCharPosition(l),ie=this._getCharPosition(_);return[new ut(H,ie-H)]}_getCharPosition(r){const l=this._characterMapping.getAbsoluteOffset(r);return this._charWidth*l}getColumnOfNodeOffset(r,l,_){const k=l.textContent.length;let H=-1;for(;l;)l=l.previousSibling,H++;return this._characterMapping.getColumn(new Ct.Nd(H,_),k)}}class Ge{constructor(r,l,_,k,H){if(this.domNode=r,this.input=l,this._characterMapping=_,this._isWhitespaceOnly=/^\s*$/.test(l.lineContent),this._containsForeignElements=H,this._cachedWidth=-1,this._pixelOffsetCache=null,!k||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let ie=0,he=this._characterMapping.length;ie<=he;ie++)this._pixelOffsetCache[ie]=-1}}_getReadingTarget(r){return r.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(r,l,_,k){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const H=this._readPixelOffset(this.domNode,r,l,k);if(-1===H)return null;const ie=this._readPixelOffset(this.domNode,r,_,k);return-1===ie?null:[new ut(H,ie-H)]}return this._readVisibleRangesForRange(this.domNode,r,l,_,k)}_readVisibleRangesForRange(r,l,_,k,H){if(_===k){const ie=this._readPixelOffset(r,l,_,H);return-1===ie?null:[new ut(ie,0)]}return this._readRawVisibleRangesForRange(r,_,k,H)}_readPixelOffset(r,l,_,k){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const H=this._getReadingTarget(r);return H.firstChild?H.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const H=this._pixelOffsetCache[_];if(-1!==H)return H;const ie=this._actualReadPixelOffset(r,l,_,k);return this._pixelOffsetCache[_]=ie,ie}return this._actualReadPixelOffset(r,l,_,k)}_actualReadPixelOffset(r,l,_,k){if(0===this._characterMapping.length){const we=Ne.readHorizontalRanges(this._getReadingTarget(r),0,0,0,0,k.clientRectDeltaLeft,k.clientRectScale,k.endNode);return we&&0!==we.length?we[0].left:-1}if(_===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const H=this._characterMapping.getDomPosition(_),ie=Ne.readHorizontalRanges(this._getReadingTarget(r),H.partIndex,H.charIndex,H.partIndex,H.charIndex,k.clientRectDeltaLeft,k.clientRectScale,k.endNode);if(!ie||0===ie.length)return-1;const he=ie[0].left;if(this.input.isBasicASCII){const we=this._characterMapping.getAbsoluteOffset(_),Le=Math.round(this.input.spaceWidth*we);if(Math.abs(Le-he)<=1)return Le}return he}_readRawVisibleRangesForRange(r,l,_,k){if(1===l&&_===this._characterMapping.length)return[new ut(0,this.getWidth())];const H=this._characterMapping.getDomPosition(l),ie=this._characterMapping.getDomPosition(_);return Ne.readHorizontalRanges(this._getReadingTarget(r),H.partIndex,H.charIndex,ie.partIndex,ie.charIndex,k.clientRectDeltaLeft,k.clientRectScale,k.endNode)}getColumnOfNodeOffset(r,l,_){const k=l.textContent.length;let H=-1;for(;l;)l=l.previousSibling,H++;return this._characterMapping.getColumn(new Ct.Nd(H,_),k)}}class Lt extends Ge{_readVisibleRangesForRange(r,l,_,k,H){const ie=super._readVisibleRangesForRange(r,l,_,k,H);if(!ie||0===ie.length||_===k||1===_&&k===this._characterMapping.length)return ie;if(!this.input.containsRTL){const he=this._readPixelOffset(r,l,k,H);if(-1!==he){const we=ie[ie.length-1];we.left<he&&(we.width=he-we.left)}}return ie}}const vt=x.isWebKit?function(Te,r,l,_,k){return new Lt(Te,r,l,_,k)}:function(Te,r,l,_,k){return new Ge(Te,r,l,_,k)};var Yt,sn=p(67947),hn=p(1873),_n=p(90784),rn=p(56660);class Rt{constructor(r=null){this.hitTarget=r,this.type=0}}class xi{constructor(r,l,_){this.position=r,this.spanNode=l,this.injectedText=_,this.type=1}}!function(Te){Te.createFromDOMInfo=function(l,_,k){const H=l.getPositionFromDOMInfo(_,k);return H?new xi(H,_,null):new Rt(_)}}(Yt||(Yt={}));class He{constructor(r,l){this.lastViewCursorsRenderData=r,this.lastTextareaPosition=l}}class $e{static _deduceRage(r,l=null){return!l&&r?new hn.e(r.lineNumber,r.column,r.lineNumber,r.column):l??null}static createUnknown(r,l,_){return{type:0,element:r,mouseColumn:l,position:_,range:this._deduceRage(_)}}static createTextarea(r,l){return{type:1,element:r,mouseColumn:l,position:null,range:null}}static createMargin(r,l,_,k,H,ie){return{type:r,element:l,mouseColumn:_,position:k,range:H,detail:ie}}static createViewZone(r,l,_,k,H){return{type:r,element:l,mouseColumn:_,position:k,range:this._deduceRage(k),detail:H}}static createContentText(r,l,_,k,H){return{type:6,element:r,mouseColumn:l,position:_,range:this._deduceRage(_,k),detail:H}}static createContentEmpty(r,l,_,k){return{type:7,element:r,mouseColumn:l,position:_,range:this._deduceRage(_),detail:k}}static createContentWidget(r,l,_){return{type:9,element:r,mouseColumn:l,position:null,range:null,detail:_}}static createScrollbar(r,l,_){return{type:11,element:r,mouseColumn:l,position:_,range:this._deduceRage(_)}}static createOverlayWidget(r,l,_){return{type:12,element:r,mouseColumn:l,position:null,range:null,detail:_}}static createOutsideEditor(r,l){return{type:13,element:null,mouseColumn:r,position:l,range:this._deduceRage(l)}}static _typeToString(r){return 1===r?"TEXTAREA":2===r?"GUTTER_GLYPH_MARGIN":3===r?"GUTTER_LINE_NUMBERS":4===r?"GUTTER_LINE_DECORATIONS":5===r?"GUTTER_VIEW_ZONE":6===r?"CONTENT_TEXT":7===r?"CONTENT_EMPTY":8===r?"CONTENT_VIEW_ZONE":9===r?"CONTENT_WIDGET":10===r?"OVERVIEW_RULER":11===r?"SCROLLBAR":12===r?"OVERLAY_WIDGET":"UNKNOWN"}static toString(r){return this._typeToString(r.type)+": "+r.position+" - "+r.range+" - "+JSON.stringify(r.detail)}}class Xt{static isTextArea(r){return 2===r.length&&3===r[0]&&6===r[1]}static isChildOfViewLines(r){return r.length>=4&&3===r[0]&&7===r[3]}static isStrictChildOfViewLines(r){return r.length>4&&3===r[0]&&7===r[3]}static isChildOfScrollableElement(r){return r.length>=2&&3===r[0]&&5===r[1]}static isChildOfMinimap(r){return r.length>=2&&3===r[0]&&8===r[1]}static isChildOfContentWidgets(r){return r.length>=4&&3===r[0]&&1===r[3]}static isChildOfOverflowingContentWidgets(r){return r.length>=1&&2===r[0]}static isChildOfOverlayWidgets(r){return r.length>=2&&3===r[0]&&4===r[1]}}class pn{constructor(r,l,_){this.viewModel=r.viewModel;const k=r.configuration.options;this.layoutInfo=k.get(131),this.viewDomNode=l.viewDomNode,this.lineHeight=k.get(59),this.stickyTabStops=k.get(104),this.typicalHalfwidthCharacterWidth=k.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=_,this._context=r,this._viewHelper=l}getZoneAtCoord(r){return pn.getZoneAtCoord(this._context,r)}static getZoneAtCoord(r,l){const _=r.viewLayout.getWhitespaceAtVerticalOffset(l);if(_){const k=_.verticalOffset+_.height/2,H=r.viewModel.getLineCount();let he,ie=null,we=null;return _.afterLineNumber!==H&&(we=new sn.L(_.afterLineNumber+1,1)),_.afterLineNumber>0&&(ie=new sn.L(_.afterLineNumber,r.viewModel.getLineMaxColumn(_.afterLineNumber))),he=null===we?ie:null===ie?we:l<k?ie:we,{viewZoneId:_.id,afterLineNumber:_.afterLineNumber,positionBefore:ie,positionAfter:we,position:he}}return null}getFullLineRangeAtCoord(r){if(this._context.viewLayout.isAfterLines(r)){const k=this._context.viewModel.getLineCount(),H=this._context.viewModel.getLineMaxColumn(k);return{range:new hn.e(k,H,k,H),isAfterLines:!0}}const l=this._context.viewLayout.getLineNumberAtVerticalOffset(r),_=this._context.viewModel.getLineMaxColumn(l);return{range:new hn.e(l,1,l,_),isAfterLines:!1}}getLineNumberAtVerticalOffset(r){return this._context.viewLayout.getLineNumberAtVerticalOffset(r)}isAfterLines(r){return this._context.viewLayout.isAfterLines(r)}isInTopPadding(r){return this._context.viewLayout.isInTopPadding(r)}isInBottomPadding(r){return this._context.viewLayout.isInBottomPadding(r)}getVerticalOffsetForLineNumber(r){return this._context.viewLayout.getVerticalOffsetForLineNumber(r)}findAttribute(r,l){return pn._findAttribute(r,l,this._viewHelper.viewDomNode)}static _findAttribute(r,l,_){for(;r&&r!==document.body;){if(r.hasAttribute&&r.hasAttribute(l))return r.getAttribute(l);if(r===_)return null;r=r.parentNode}return null}getLineWidth(r){return this._viewHelper.getLineWidth(r)}visibleRangeForPosition(r,l){return this._viewHelper.visibleRangeForPosition(r,l)}getPositionFromDOMInfo(r,l){return this._viewHelper.getPositionFromDOMInfo(r,l)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class bi extends class{constructor(r,l,_,k){this.editorPos=l,this.pos=_,this.relativePos=k,this.mouseVerticalOffset=Math.max(0,r.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=r.getCurrentScrollLeft()+this.relativePos.x-r.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<r.layoutInfo.contentLeft&&this.relativePos.x>=r.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,vi._getMouseColumn(this.mouseContentHorizontalOffset,r.typicalHalfwidthCharacterWidth))}}{constructor(r,l,_,k,H){super(r,l,_,k),this._ctx=r,H?(this.target=H,this.targetPath=Ae.collect(H,r.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(r=null){return r&&r.column<this._ctx.viewModel.getLineMaxColumn(r.lineNumber)?_n.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(r.lineNumber),r.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(r=null){return $e.createUnknown(this.target,this._getMouseColumn(r),r)}fulfillTextarea(){return $e.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(r,l,_,k){return $e.createMargin(r,this.target,this._getMouseColumn(l),l,_,k)}fulfillViewZone(r,l,_){return $e.createViewZone(r,this.target,this._getMouseColumn(l),l,_)}fulfillContentText(r,l,_){return $e.createContentText(this.target,this._getMouseColumn(r),r,l,_)}fulfillContentEmpty(r,l){return $e.createContentEmpty(this.target,this._getMouseColumn(r),r,l)}fulfillContentWidget(r){return $e.createContentWidget(this.target,this._getMouseColumn(),r)}fulfillScrollbar(r){return $e.createScrollbar(this.target,this._getMouseColumn(r),r)}fulfillOverlayWidget(r){return $e.createOverlayWidget(this.target,this._getMouseColumn(),r)}withTarget(r){return new bi(this._ctx,this.editorPos,this.pos,this.relativePos,r)}}const Oi={isAfterLines:!0};function Li(Te){return{isAfterLines:!1,horizontalDistanceToText:Te}}class vi{constructor(r,l){this._context=r,this._viewHelper=l}mouseTargetIsWidget(r){const _=Ae.collect(r.target,this._viewHelper.viewDomNode);return!!(Xt.isChildOfContentWidgets(_)||Xt.isChildOfOverflowingContentWidgets(_)||Xt.isChildOfOverlayWidgets(_))}createMouseTarget(r,l,_,k,H){const ie=new pn(this._context,this._viewHelper,r),he=new bi(ie,l,_,k,H);try{return vi._createMouseTarget(ie,he,!1)}catch{return he.fulfillUnknown()}}static _createMouseTarget(r,l,_){if(null===l.target){if(_)return l.fulfillUnknown();const ie=vi._doHitTest(r,l);return 1===ie.type?vi.createMouseTargetFromHitTestPosition(r,l,ie.spanNode,ie.position,ie.injectedText):this._createMouseTarget(r,l.withTarget(ie.hitTarget),!0)}const k=l;let H=null;return H=H||vi._hitTestContentWidget(r,k),H=H||vi._hitTestOverlayWidget(r,k),H=H||vi._hitTestMinimap(r,k),H=H||vi._hitTestScrollbarSlider(r,k),H=H||vi._hitTestViewZone(r,k),H=H||vi._hitTestMargin(r,k),H=H||vi._hitTestViewCursor(r,k),H=H||vi._hitTestTextArea(r,k),H=H||vi._hitTestViewLines(r,k,_),H=H||vi._hitTestScrollbar(r,k),H||l.fulfillUnknown()}static _hitTestContentWidget(r,l){if(Xt.isChildOfContentWidgets(l.targetPath)||Xt.isChildOfOverflowingContentWidgets(l.targetPath)){const _=r.findAttribute(l.target,"widgetId");return _?l.fulfillContentWidget(_):l.fulfillUnknown()}return null}static _hitTestOverlayWidget(r,l){if(Xt.isChildOfOverlayWidgets(l.targetPath)){const _=r.findAttribute(l.target,"widgetId");return _?l.fulfillOverlayWidget(_):l.fulfillUnknown()}return null}static _hitTestViewCursor(r,l){if(l.target){const _=r.lastRenderData.lastViewCursorsRenderData;for(const k of _)if(l.target===k.domNode)return l.fulfillContentText(k.position,null,{mightBeForeignElement:!1,injectedText:null})}if(l.isInContentArea){const _=r.lastRenderData.lastViewCursorsRenderData,k=l.mouseContentHorizontalOffset,H=l.mouseVerticalOffset;for(const ie of _){if(k<ie.contentLeft||k>ie.contentLeft+ie.width)continue;const he=r.getVerticalOffsetForLineNumber(ie.position.lineNumber);if(he<=H&&H<=he+ie.height)return l.fulfillContentText(ie.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(r,l){const _=r.getZoneAtCoord(l.mouseVerticalOffset);return _?l.fulfillViewZone(l.isInContentArea?8:5,_.position,_):null}static _hitTestTextArea(r,l){return Xt.isTextArea(l.targetPath)?r.lastRenderData.lastTextareaPosition?l.fulfillContentText(r.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):l.fulfillTextarea():null}static _hitTestMargin(r,l){if(l.isInMarginArea){const _=r.getFullLineRangeAtCoord(l.mouseVerticalOffset),k=_.range.getStartPosition();let H=Math.abs(l.relativePos.x);const ie={isAfterLines:_.isAfterLines,glyphMarginLeft:r.layoutInfo.glyphMarginLeft,glyphMarginWidth:r.layoutInfo.glyphMarginWidth,lineNumbersWidth:r.layoutInfo.lineNumbersWidth,offsetX:H};return H-=r.layoutInfo.glyphMarginLeft,H<=r.layoutInfo.glyphMarginWidth?l.fulfillMargin(2,k,_.range,ie):(H-=r.layoutInfo.glyphMarginWidth,H<=r.layoutInfo.lineNumbersWidth?l.fulfillMargin(3,k,_.range,ie):(H-=r.layoutInfo.lineNumbersWidth,l.fulfillMargin(4,k,_.range,ie)))}return null}static _hitTestViewLines(r,l,_){if(!Xt.isChildOfViewLines(l.targetPath))return null;if(r.isInTopPadding(l.mouseVerticalOffset))return l.fulfillContentEmpty(new sn.L(1,1),Oi);if(r.isAfterLines(l.mouseVerticalOffset)||r.isInBottomPadding(l.mouseVerticalOffset)){const H=r.viewModel.getLineCount(),ie=r.viewModel.getLineMaxColumn(H);return l.fulfillContentEmpty(new sn.L(H,ie),Oi)}if(_){if(Xt.isStrictChildOfViewLines(l.targetPath)){const H=r.getLineNumberAtVerticalOffset(l.mouseVerticalOffset);if(0===r.viewModel.getLineLength(H)){const he=r.getLineWidth(H),we=Li(l.mouseContentHorizontalOffset-he);return l.fulfillContentEmpty(new sn.L(H,1),we)}const ie=r.getLineWidth(H);if(l.mouseContentHorizontalOffset>=ie){const he=Li(l.mouseContentHorizontalOffset-ie),we=new sn.L(H,r.viewModel.getLineMaxColumn(H));return l.fulfillContentEmpty(we,he)}}return l.fulfillUnknown()}const k=vi._doHitTest(r,l);return 1===k.type?vi.createMouseTargetFromHitTestPosition(r,l,k.spanNode,k.position,k.injectedText):this._createMouseTarget(r,l.withTarget(k.hitTarget),!0)}static _hitTestMinimap(r,l){if(Xt.isChildOfMinimap(l.targetPath)){const _=r.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),k=r.viewModel.getLineMaxColumn(_);return l.fulfillScrollbar(new sn.L(_,k))}return null}static _hitTestScrollbarSlider(r,l){if(Xt.isChildOfScrollableElement(l.targetPath)&&l.target&&1===l.target.nodeType){const _=l.target.className;if(_&&/\b(slider|scrollbar)\b/.test(_)){const k=r.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),H=r.viewModel.getLineMaxColumn(k);return l.fulfillScrollbar(new sn.L(k,H))}}return null}static _hitTestScrollbar(r,l){if(Xt.isChildOfScrollableElement(l.targetPath)){const _=r.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),k=r.viewModel.getLineMaxColumn(_);return l.fulfillScrollbar(new sn.L(_,k))}return null}getMouseColumn(r){const l=this._context.configuration.options,_=l.get(131),k=this._context.viewLayout.getCurrentScrollLeft()+r.x-_.contentLeft;return vi._getMouseColumn(k,l.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(r,l){return r<0?1:Math.round(r/l)+1}static createMouseTargetFromHitTestPosition(r,l,_,k,H){const ie=k.lineNumber,he=k.column,we=r.getLineWidth(ie);if(l.mouseContentHorizontalOffset>we){const Nt=Li(l.mouseContentHorizontalOffset-we);return l.fulfillContentEmpty(k,Nt)}const Le=r.visibleRangeForPosition(ie,he);if(!Le)return l.fulfillUnknown(k);if(l.mouseContentHorizontalOffset===Le.left)return l.fulfillContentText(k,null,{mightBeForeignElement:!!H,injectedText:H});const ze=[];if(ze.push({offset:Le.left,column:he}),he>1){const Nt=r.visibleRangeForPosition(ie,he-1);Nt&&ze.push({offset:Nt.left,column:he-1})}if(he<r.viewModel.getLineMaxColumn(ie)){const Nt=r.visibleRangeForPosition(ie,he+1);Nt&&ze.push({offset:Nt.left,column:he+1})}ze.sort((Nt,Ht)=>Nt.offset-Ht.offset);const it=l.pos.toClientCoordinates(),bt=_.getBoundingClientRect(),Dt=bt.left<=it.clientX&&it.clientX<=bt.right;for(let Nt=1;Nt<ze.length;Nt++){const Ht=ze[Nt-1],cn=ze[Nt];if(Ht.offset<=l.mouseContentHorizontalOffset&&l.mouseContentHorizontalOffset<=cn.offset){const en=new hn.e(ie,Ht.column,ie,cn.column);return l.fulfillContentText(k,en,{mightBeForeignElement:!Dt||!!H,injectedText:H})}}return l.fulfillContentText(k,null,{mightBeForeignElement:!Dt||!!H,injectedText:H})}static _doHitTestWithCaretRangeFromPoint(r,l){const _=r.getLineNumberAtVerticalOffset(l.mouseVerticalOffset),H=r.getVerticalOffsetForLineNumber(_)+Math.floor(r.lineHeight/2);let ie=l.pos.y+(H-l.mouseVerticalOffset);ie<=l.editorPos.y&&(ie=l.editorPos.y+1),ie>=l.editorPos.y+l.editorPos.height&&(ie=l.editorPos.y+l.editorPos.height-1);const he=new Ue.YN(l.pos.x,ie),we=this._actualDoHitTestWithCaretRangeFromPoint(r,he.toClientCoordinates());return 1===we.type?we:this._actualDoHitTestWithCaretRangeFromPoint(r,l.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(r,l){const _=B.Ay(r.viewDomNode);let k;if(k=_?void 0===_.caretRangeFromPoint?function(Te,r,l){const _=document.createRange();let k=Te.elementFromPoint(r,l);if(null!==k){for(;k&&k.firstChild&&k.firstChild.nodeType!==k.firstChild.TEXT_NODE&&k.lastChild&&k.lastChild.firstChild;)k=k.lastChild;const H=k.getBoundingClientRect(),ie=window.getComputedStyle(k,null).getPropertyValue("font"),he=k.innerText;let ke,we=H.left,Le=0;if(r>H.left+H.width)Le=he.length;else{const ze=St.getInstance();for(let qe=0;qe<he.length+1;qe++){if(ke=ze.getCharWidth(he.charAt(qe),ie)/2,we+=ke,r<we){Le=qe;break}we+=ke}}_.setStart(k.firstChild,Le),_.setEnd(k.firstChild,Le)}return _}(_,l.clientX,l.clientY):_.caretRangeFromPoint(l.clientX,l.clientY):document.caretRangeFromPoint(l.clientX,l.clientY),!k||!k.startContainer)return new Rt;const H=k.startContainer;if(H.nodeType===H.TEXT_NODE){const ie=H.parentNode,he=ie?ie.parentNode:null,we=he?he.parentNode:null;return(we&&we.nodeType===we.ELEMENT_NODE?we.className:null)===zt.CLASS_NAME?Yt.createFromDOMInfo(r,ie,k.startOffset):new Rt(H.parentNode)}if(H.nodeType===H.ELEMENT_NODE){const ie=H.parentNode,he=ie?ie.parentNode:null;return(he&&he.nodeType===he.ELEMENT_NODE?he.className:null)===zt.CLASS_NAME?Yt.createFromDOMInfo(r,H,H.textContent.length):new Rt(H)}return new Rt}static _doHitTestWithCaretPositionFromPoint(r,l){const _=document.caretPositionFromPoint(l.clientX,l.clientY);if(_.offsetNode.nodeType===_.offsetNode.TEXT_NODE){const k=_.offsetNode.parentNode,H=k?k.parentNode:null,ie=H?H.parentNode:null;return(ie&&ie.nodeType===ie.ELEMENT_NODE?ie.className:null)===zt.CLASS_NAME?Yt.createFromDOMInfo(r,_.offsetNode.parentNode,_.offset):new Rt(_.offsetNode.parentNode)}if(_.offsetNode.nodeType===_.offsetNode.ELEMENT_NODE){const k=_.offsetNode.parentNode,ie=k?k.parentNode:null,he=ie&&ie.nodeType===ie.ELEMENT_NODE?ie.className:null;if((k&&k.nodeType===k.ELEMENT_NODE?k.className:null)===zt.CLASS_NAME){const we=_.offsetNode.childNodes[Math.min(_.offset,_.offsetNode.childNodes.length-1)];if(we)return Yt.createFromDOMInfo(r,we,0)}else if(he===zt.CLASS_NAME)return Yt.createFromDOMInfo(r,_.offsetNode,0)}return new Rt(_.offsetNode)}static _snapToSoftTabBoundary(r,l){const _=l.getLineContent(r.lineNumber),{tabSize:k}=l.model.getOptions(),H=rn.l.atomicPosition(_,r.column-1,k,2);return-1!==H?new sn.L(r.lineNumber,H+1):r}static _doHitTest(r,l){let _=new Rt;if("function"==typeof document.caretRangeFromPoint?_=this._doHitTestWithCaretRangeFromPoint(r,l):document.caretPositionFromPoint&&(_=this._doHitTestWithCaretPositionFromPoint(r,l.pos.toClientCoordinates())),1===_.type){const k=r.viewModel.getInjectedTextAt(_.position),H=r.viewModel.normalizePosition(_.position,2);(k||!H.equals(_.position))&&(_=new xi(H,_.spanNode,k))}return 1===_.type&&r.stickyTabStops&&(_=new xi(this._snapToSoftTabBoundary(_.position,r.viewModel),_.spanNode,_.injectedText)),_}}let St=(()=>{class Te{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Te._INSTANCE||(Te._INSTANCE=new Te),Te._INSTANCE}getCharWidth(l,_){const k=l+_;if(this._cache[k])return this._cache[k];const H=this._canvas.getContext("2d");H.font=_;const he=H.measureText(l).width;return this._cache[k]=he,he}}return Te._INSTANCE=null,Te})();function $t(Te){return function(r,l){let _=!1;return Te&&(_=Te.mouseTargetIsWidget(l)),_||l.preventDefault(),l}}let Fn=(()=>{class Te extends ue{constructor(l,_,k){super(),this._context=l,this.viewController=_,this.viewHelper=k,this.mouseTargetFactory=new vi(this._context,k),this._mouseDownOperation=this._register(new kt(this._context,this.viewController,this.viewHelper,(he,we)=>this._createMouseTarget(he,we),he=>this._getMouseColumn(he))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const H=new Ue.N5(this.viewHelper.viewDomNode);this._register(H.onContextMenu(this.viewHelper.viewDomNode,he=>this._onContextMenu(he,!0))),this._register(H.onMouseMoveThrottled(this.viewHelper.viewDomNode,he=>this._onMouseMove(he),$t(this.mouseTargetFactory),Te.MOUSE_MOVE_MINIMUM_TIME)),this._register(H.onMouseUp(this.viewHelper.viewDomNode,he=>this._onMouseUp(he))),this._register(H.onMouseLeave(this.viewHelper.viewDomNode,he=>this._onMouseLeave(he))),this._register(H.onMouseDown(this.viewHelper.viewDomNode,he=>this._onMouseDown(he))),this._register(B.nm(this.viewHelper.viewDomNode,B.tw.MOUSE_WHEEL,he=>{if(this.viewController.emitMouseWheel(he),!this._context.configuration.options.get(68))return;const we=new Ie.q(he);if(z.dz?(he.metaKey||he.ctrlKey)&&!he.shiftKey&&!he.altKey:he.ctrlKey&&!he.metaKey&&!he.shiftKey&&!he.altKey){const ke=j.C.getZoomLevel();j.C.setZoomLevel(ke+(we.deltaY>0?1:-1)),we.preventDefault(),we.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(l){if(l.hasChanged(131)){const _=this._context.configuration.options.get(131).height;this._height!==_&&(this._height=_,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(l){return this._mouseDownOperation.onCursorStateChanged(l),!1}onFocusChanged(l){return!1}onScrollChanged(l){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(l,_){const H=new Ue.rU(l,_).toPageCoordinates(),ie=(0,Ue.kG)(this.viewHelper.viewDomNode);if(H.y<ie.y||H.y>ie.y+ie.height||H.x<ie.x||H.x>ie.x+ie.width)return null;const he=(0,Ue.Pp)(this.viewHelper.viewDomNode,ie,H);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),ie,H,he,null)}_createMouseTarget(l,_){let k=l.target;if(!this.viewHelper.viewDomNode.contains(k)){const H=B.Ay(this.viewHelper.viewDomNode);H&&(k=H.elementsFromPoint(l.posx,l.posy).find(ie=>this.viewHelper.viewDomNode.contains(ie)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),l.editorPos,l.pos,l.relativePos,_?k:null)}_getMouseColumn(l){return this.mouseTargetFactory.getMouseColumn(l.relativePos)}_onContextMenu(l,_){this.viewController.emitContextMenu({event:l,target:this._createMouseTarget(l,_)})}_onMouseMove(l){this._mouseDownOperation.isActive()||l.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:l,target:this._createMouseTarget(l,!0)})}_onMouseLeave(l){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:l,target:null})}_onMouseUp(l){this.viewController.emitMouseUp({event:l,target:this._createMouseTarget(l,!0)})}_onMouseDown(l){const _=this._createMouseTarget(l,!0),k=6===_.type||7===_.type,H=2===_.type||3===_.type||4===_.type,ie=3===_.type,he=this._context.configuration.options.get(98),we=8===_.type||5===_.type,Le=9===_.type;let ke=l.leftButton||l.middleButton;z.dz&&l.leftButton&&l.ctrlKey&&(ke=!1);const ze=()=>{l.preventDefault(),this.viewHelper.focusTextArea()};ke&&(k||ie&&he)?(ze(),this._mouseDownOperation.start(_.type,l)):H?l.preventDefault():we?this.viewHelper.shouldSuppressMouseDownOnViewZone(_.detail.viewZoneId)&&(ze(),this._mouseDownOperation.start(_.type,l),l.preventDefault()):Le&&this.viewHelper.shouldSuppressMouseDownOnWidget(_.detail)&&(ze(),l.preventDefault()),this.viewController.emitMouseDown({event:l,target:_})}}return Te.MOUSE_MOVE_MINIMUM_TIME=100,Te})();class kt extends C.JT{constructor(r,l,_,k,H){super(),this._context=r,this._viewController=l,this._viewHelper=_,this._createMouseTarget=k,this._getMouseColumn=H,this._mouseMoveMonitor=this._register(new Ue.iB(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new We._F),this._mouseState=new Ve,this._currentSelection=new re.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(r){this._lastMouseEvent=r,this._mouseState.setModifiers(r);const l=this._findMousePosition(r,!0);!l||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:r,target:l}):this._dispatchMouse(l,!0))}start(r,l){this._lastMouseEvent=l,this._mouseState.setStartedOnLineNumbers(3===r),this._mouseState.setStartButtons(l),this._mouseState.setModifiers(l);const _=this._findMousePosition(l,!0);if(!_||!_.position)return;this._mouseState.trySetCount(l.detail,_.position),l.detail=this._mouseState.count;const k=this._context.configuration.options;if(!k.get(81)&&k.get(31)&&!k.get(18)&&!this._mouseState.altKey&&l.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===_.type&&_.position&&this._currentSelection.containsPosition(_.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(l.target,l.buttons,$t(null),H=>this._onMouseDownThenMove(H),H=>{const ie=this._findMousePosition(this._lastMouseEvent,!0);H&&H instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:ie?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(_,l.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(l.target,l.buttons,$t(null),H=>this._onMouseDownThenMove(H),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const r=this._findMousePosition(this._lastMouseEvent,!1);!r||this._mouseState.isDragAndDrop||this._dispatchMouse(r,!0)},10)}onCursorStateChanged(r){this._currentSelection=r.selections[0]}_getPositionOutsideEditor(r){const l=r.editorPos,_=this._context.viewModel,k=this._context.viewLayout,H=this._getMouseColumn(r);if(r.posy<l.y){const he=Math.max(k.getCurrentScrollTop()-(l.y-r.posy),0),we=pn.getZoneAtCoord(this._context,he);if(we){const ke=this._helpPositionJumpOverViewZone(we);if(ke)return $e.createOutsideEditor(H,ke)}const Le=k.getLineNumberAtVerticalOffset(he);return $e.createOutsideEditor(H,new sn.L(Le,1))}if(r.posy>l.y+l.height){const he=k.getCurrentScrollTop()+r.relativePos.y,we=pn.getZoneAtCoord(this._context,he);if(we){const ke=this._helpPositionJumpOverViewZone(we);if(ke)return $e.createOutsideEditor(H,ke)}const Le=k.getLineNumberAtVerticalOffset(he);return $e.createOutsideEditor(H,new sn.L(Le,_.getLineMaxColumn(Le)))}const ie=k.getLineNumberAtVerticalOffset(k.getCurrentScrollTop()+r.relativePos.y);return r.posx<l.x?$e.createOutsideEditor(H,new sn.L(ie,1)):r.posx>l.x+l.width?$e.createOutsideEditor(H,new sn.L(ie,_.getLineMaxColumn(ie))):null}_findMousePosition(r,l){const _=this._getPositionOutsideEditor(r);if(_)return _;const k=this._createMouseTarget(r,l);if(!k.position)return null;if(8===k.type||5===k.type){const ie=this._helpPositionJumpOverViewZone(k.detail);if(ie)return $e.createViewZone(k.type,k.element,k.mouseColumn,ie,k.detail)}return k}_helpPositionJumpOverViewZone(r){const l=new sn.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),_=r.positionBefore,k=r.positionAfter;return _&&k?_.isBefore(l)?_:k:null}_dispatchMouse(r,l){!r.position||this._viewController.dispatchMouse({position:r.position,mouseColumn:r.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:l,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===r.type&&null!==r.detail.injectedText})}}let Ve=(()=>{class Te{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(l){this._altKey=l.altKey,this._ctrlKey=l.ctrlKey,this._metaKey=l.metaKey,this._shiftKey=l.shiftKey}setStartButtons(l){this._leftButton=l.leftButton,this._middleButton=l.middleButton}setStartedOnLineNumbers(l){this._startedOnLineNumbers=l}trySetCount(l,_){const k=(new Date).getTime();k-this._lastSetMouseDownCountTime>Te.CLEAR_MOUSE_DOWN_COUNT_TIME&&(l=1),this._lastSetMouseDownCountTime=k,l>this._lastMouseDownCount+1&&(l=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(_)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=_,this._lastMouseDownCount=Math.min(l,this._lastMouseDownPositionEqualCount)}}return Te.CLEAR_MOUSE_DOWN_COUNT_TIME=400,Te})();var Je=p(96721),lt=p(78230);class Et extends Fn{constructor(r,l,_){super(r,l,_),this._register(ve.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(B.nm(this.viewHelper.linesContentDomNode,ve.t.Tap,H=>this.onTap(H))),this._register(B.nm(this.viewHelper.linesContentDomNode,ve.t.Change,H=>this.onChange(H))),this._register(B.nm(this.viewHelper.linesContentDomNode,ve.t.Contextmenu,H=>this._onContextMenu(new Ue.gy(H,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(B.nm(this.viewHelper.linesContentDomNode,"pointerdown",H=>{const ie=H.pointerType;this._lastPointerType="mouse"!==ie?"touch"===ie?"touch":"pen":"mouse"}));const k=new Ue.tC(this.viewHelper.viewDomNode);this._register(k.onPointerMoveThrottled(this.viewHelper.viewDomNode,H=>this._onMouseMove(H),$t(this.mouseTargetFactory),Fn.MOUSE_MOVE_MINIMUM_TIME)),this._register(k.onPointerUp(this.viewHelper.viewDomNode,H=>this._onMouseUp(H))),this._register(k.onPointerLeave(this.viewHelper.viewDomNode,H=>this._onMouseLeave(H))),this._register(k.onPointerDown(this.viewHelper.viewDomNode,H=>this._onMouseDown(H)))}onTap(r){if(!r.initialTarget||!this.viewHelper.linesContentDomNode.contains(r.initialTarget))return;r.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new Ue.gy(r,this.viewHelper.viewDomNode),!1);l.position&&this.viewController.dispatchMouse({position:l.position,mouseColumn:l.position.column,startedOnLineNumbers:!1,mouseDownCount:r.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===l.type&&null!==l.detail.injectedText})}onChange(r){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-r.translationX,-r.translationY)}_onMouseDown(r){"touch"!==r.browserEvent.pointerType&&super._onMouseDown(r)}}class Vt extends Fn{constructor(r,l,_){super(r,l,_),this._register(ve.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(B.nm(this.viewHelper.linesContentDomNode,ve.t.Tap,k=>this.onTap(k))),this._register(B.nm(this.viewHelper.linesContentDomNode,ve.t.Change,k=>this.onChange(k))),this._register(B.nm(this.viewHelper.linesContentDomNode,ve.t.Contextmenu,k=>this._onContextMenu(new Ue.gy(k,this.viewHelper.viewDomNode),!1)))}onTap(r){r.preventDefault(),this.viewHelper.focusTextArea();const l=this._createMouseTarget(new Ue.gy(r,this.viewHelper.viewDomNode),!1);if(l.position){const _=document.createEvent("CustomEvent");_.initEvent(lt.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(_),this.viewController.moveTo(l.position)}}onChange(r){this._context.viewModel.viewLayout.deltaScrollNow(-r.translationX,-r.translationY)}}class Ut extends C.JT{constructor(r,l,_){super(),this.handler=z.gn&&Je.D.pointerEvents?this._register(new Et(r,l,_)):window.TouchEvent?this._register(new Vt(r,l,_)):this._register(new Fn(r,l,_))}getTargetAtClientPoint(r,l){return this.handler.getTargetAtClientPoint(r,l)}}p(61261);var Sn=p(74243),qt=p(6809),Cn=p(33677);p(34362);class xn extends ue{}var gn=p(79695),Pn=p(53323);let kn=(()=>{class Te extends xn{constructor(l){super(),this._context=l,this._readConfig(),this._lastCursorModelPosition=new sn.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const l=this._context.configuration.options;this._lineHeight=l.get(59);const _=l.get(60);this._renderLineNumbers=_.renderType,this._renderCustomLineNumbers=_.renderFn,this._renderFinalNewline=l.get(84);const k=l.get(131);this._lineNumbersLeft=k.lineNumbersLeft,this._lineNumbersWidth=k.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(l){return this._readConfig(),!0}onCursorStateChanged(l){const _=l.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(_);let k=!1;return this._activeLineNumber!==_.lineNumber&&(this._activeLineNumber=_.lineNumber,k=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(k=!0),k}onFlushed(l){return!0}onLinesChanged(l){return!0}onLinesDeleted(l){return!0}onLinesInserted(l){return!0}onScrollChanged(l){return l.scrollTopChanged}onZonesChanged(l){return!0}_getLineRenderLineNumber(l){const _=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new sn.L(l,1));if(1!==_.column)return"";const k=_.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(k);if(2===this._renderLineNumbers){const H=Math.abs(this._lastCursorModelPosition.lineNumber-k);return 0===H?'<span class="relative-current-line-number">'+k+"</span>":String(H)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===k||k%10==0?String(k):"":String(k)}prepareRender(l){if(0===this._renderLineNumbers)return void(this._renderResult=null);const _=z.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",k=l.visibleRange.startLineNumber,H=l.visibleRange.endLineNumber,ie='<div class="'+Te.CLASS_NAME+_+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',he=this._context.viewModel.getLineCount(),we=[];for(let Le=k;Le<=H;Le++){const ke=Le-k;if(!this._renderFinalNewline&&Le===he&&0===this._context.viewModel.getLineLength(Le)){we[ke]="";continue}const ze=this._getLineRenderLineNumber(Le);we[ke]=ze?Le===this._activeLineNumber?'<div class="active-line-number '+Te.CLASS_NAME+_+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+ze+"</div>":ie+ze+"</div>":""}this._renderResult=we}render(l,_){if(!this._renderResult)return"";const k=_-l;return k<0||k>=this._renderResult.length?"":this._renderResult[k]}}return Te.CLASS_NAME="line-numbers",Te})();(0,Pn.Ic)((Te,r)=>{const l=Te.getColor(gn.hw);l&&r.addRule(`.monaco-editor .line-numbers { color: ${l}; }`);const _=Te.getColor(gn.DD);_&&r.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${_}; }`)});let jn=(()=>{class Te extends Ce{constructor(l){super(l);const _=this._context.configuration.options,k=_.get(131);this._canUseLayerHinting=!_.get(28),this._contentLeft=k.contentLeft,this._glyphMarginLeft=k.glyphMarginLeft,this._glyphMarginWidth=k.glyphMarginWidth,this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setClassName(Te.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,ce.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Te.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(l){const _=this._context.configuration.options,k=_.get(131);return this._canUseLayerHinting=!_.get(28),this._contentLeft=k.contentLeft,this._glyphMarginLeft=k.glyphMarginLeft,this._glyphMarginWidth=k.glyphMarginWidth,!0}onScrollChanged(l){return super.onScrollChanged(l)||l.scrollTopChanged}prepareRender(l){}render(l){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(l.scrollTop-l.bigNumbersDelta));const k=Math.min(l.scrollHeight,1e6);this._domNode.setHeight(k),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(k)}}return Te.CLASS_NAME="glyph-margin",Te.OUTER_CLASS_NAME="margin",Te})();var Qn=p(81346),gi=p(2450),Mi=p(33979),Mn=p(81897);class Pi{constructor(r,l,_,k,H){this._context=r,this.modelLineNumber=l,this.distanceToModelLineStart=_,this.widthOfHiddenLineTextBefore=k,this.distanceToModelLineEnd=H,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(r){const l=new sn.L(this.modelLineNumber,this.distanceToModelLineStart+1),_=new sn.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(l),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(_),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=r.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=r.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(r){return this._previousPresentation||(this._previousPresentation=r||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const ri=x.isFirefox;class mi extends Ce{constructor(r,l,_){super(r),this._primaryCursorPosition=new sn.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=l,this._visibleRangeProvider=_,this._scrollLeft=0,this._scrollTop=0;const k=this._context.configuration.options,H=k.get(131);this._setAccessibilityOptions(k),this._contentLeft=H.contentLeft,this._contentWidth=H.contentWidth,this._contentHeight=H.height,this._fontInfo=k.get(44),this._lineHeight=k.get(59),this._emptySelectionClipboard=k.get(32),this._copyWithSyntaxHighlighting=k.get(21),this._visibleTextArea=null,this._selections=[new re.Y(1,1,1,1)],this._modelSelections=[new re.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,ce.X)(document.createElement("textarea")),Ae.write(this.textArea,6),this.textArea.setClassName(`inputarea ${gi.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(k)),this.textArea.setAttribute("tabindex",String(k.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",T.N("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),k.get(30)&&k.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,ce.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const ie={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Le=>this._context.viewModel.getLineMaxColumn(Le),getValueInRange:(Le,ke)=>this._context.viewModel.getValueInRange(Le,ke)},he={getDataToCopy:()=>{const Le=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,z.ED),ke=this._context.viewModel.model.getEOL(),ze=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),qe=Array.isArray(Le)?Le:null,it=Array.isArray(Le)?Le.join(ke):Le;let bt,Dt=null;if(lt.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&it.length<65536){const Nt=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Nt&&(bt=Nt.html,Dt=Nt.mode)}return{isFromEmptySelection:ze,multicursorText:qe,text:it,html:bt,mode:Dt}},getScreenReaderContent:Le=>{if(1===this._accessibilitySupport){if(z.dz){const ke=this._selections[0];if(ke.isEmpty()){const ze=ke.getStartPosition();let qe=this._getWordBeforePosition(ze);if(0===qe.length&&(qe=this._getCharacterBeforePosition(ze)),qe.length>0)return new Cn.un(qe,qe.length,qe.length,ze,ze)}}return Cn.un.EMPTY}if(x.isAndroid){const ke=this._selections[0];if(ke.isEmpty()){const ze=ke.getStartPosition(),[qe,it]=this._getAndroidWordAtPosition(ze);if(qe.length>0)return new Cn.un(qe,it,it,ze,ze)}return Cn.un.EMPTY}return Cn.ee.fromEditorSelection(Le,ie,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(Le,ke,ze)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Le,ke,ze)},we=this._register(new lt.Tj(this.textArea.domNode));this._textAreaInput=this._register(new lt.Fz(he,we,z.OS,x)),this._register(this._textAreaInput.onKeyDown(Le=>{this._viewController.emitKeyDown(Le)})),this._register(this._textAreaInput.onKeyUp(Le=>{this._viewController.emitKeyUp(Le)})),this._register(this._textAreaInput.onPaste(Le=>{let ke=!1,ze=null,qe=null;Le.metadata&&(ke=this._emptySelectionClipboard&&!!Le.metadata.isFromEmptySelection,ze=void 0!==Le.metadata.multicursorText?Le.metadata.multicursorText:null,qe=Le.metadata.mode),this._viewController.paste(Le.text,ke,ze,qe)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Le=>{Le.replacePrevCharCnt||Le.replaceNextCharCnt||Le.positionDelta?(Cn.al&&console.log(` => compositionType: <<${Le.text}>>, ${Le.replacePrevCharCnt}, ${Le.replaceNextCharCnt}, ${Le.positionDelta}`),this._viewController.compositionType(Le.text,Le.replacePrevCharCnt,Le.replaceNextCharCnt,Le.positionDelta)):(Cn.al&&console.log(` => type: <<${Le.text}>>`),this._viewController.type(Le.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Le=>{this._viewController.setSelection(Le)})),this._register(this._textAreaInput.onCompositionStart(Le=>{const ke=this.textArea.domNode,ze=this._modelSelections[0],{distanceToModelLineStart:qe,widthOfHiddenTextBefore:it}=(()=>{const Dt=ke.value.substring(0,Math.min(ke.selectionStart,ke.selectionEnd)),Nt=Dt.lastIndexOf("\n"),Ht=Dt.substring(Nt+1),cn=Ht.lastIndexOf("\t"),en=Ht.length-cn-1,On=ze.getStartPosition(),Vn=Math.min(On.column-1,en),Tn=On.column-1-Vn,En=function(Te,r){if(0===Te.length)return 0;const l=document.createElement("div");l.style.position="absolute",l.style.top="-50000px",l.style.width="50000px";const _=document.createElement("span");(0,qt.N)(_,r),_.style.whiteSpace="pre",_.append(Te),l.appendChild(_),document.body.appendChild(l);const k=_.offsetWidth;return document.body.removeChild(l),k}(Ht.substring(0,Ht.length-Vn),this._fontInfo);return{distanceToModelLineStart:Tn,widthOfHiddenTextBefore:En}})(),{distanceToModelLineEnd:bt}=(()=>{const Dt=ke.value.substring(Math.max(ke.selectionStart,ke.selectionEnd)),Nt=Dt.indexOf("\n"),Ht=-1===Nt?Dt:Dt.substring(0,Nt),cn=Ht.indexOf("\t"),en=-1===cn?Ht.length:Ht.length-cn-1,On=ze.getEndPosition(),Vn=Math.min(this._context.viewModel.model.getLineMaxColumn(On.lineNumber)-On.column,en);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(On.lineNumber)-On.column-Vn}})();this._context.viewModel.revealRange("keyboard",!0,hn.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new Pi(this._context,ze.startLineNumber,qe,it,bt),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${gi.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Le=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${gi.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(r){const _=this._context.viewModel.getLineContent(r.lineNumber),k=(0,Qn.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let H=!0,ie=r.column,he=!0,we=r.column,Le=0;for(;Le<50&&(H||he);){if(H&&ie<=1&&(H=!1),H){const ke=_.charCodeAt(ie-2);0!==k.get(ke)?H=!1:ie--}if(he&&we>_.length&&(he=!1),he){const ke=_.charCodeAt(we-1);0!==k.get(ke)?he=!1:we++}Le++}return[_.substring(ie-1,we-1),r.column-ie]}_getWordBeforePosition(r){const l=this._context.viewModel.getLineContent(r.lineNumber),_=(0,Qn.u)(this._context.configuration.options.get(117));let k=r.column,H=0;for(;k>1;){const ie=l.charCodeAt(k-2);if(0!==_.get(ie)||H>50)return l.substring(k-1,r.column-1);H++,k--}return l.substring(0,r.column-1)}_getCharacterBeforePosition(r){if(r.column>1){const _=this._context.viewModel.getLineContent(r.lineNumber).charAt(r.column-2);if(!Sn.ZG(_.charCodeAt(0)))return _}return""}_getAriaLabel(r){return 1===r.get(2)?T.N("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",z.IJ?"Shift+Alt+F1":"Alt+F1"):r.get(4)}_setAccessibilityOptions(r){this._accessibilitySupport=r.get(2);const l=r.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&l===$.BH.accessibilityPageSize.defaultValue?500:l}onConfigurationChanged(r){const l=this._context.configuration.options,_=l.get(131);return this._setAccessibilityOptions(l),this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,this._contentHeight=_.height,this._fontInfo=l.get(44),this._lineHeight=l.get(59),this._emptySelectionClipboard=l.get(32),this._copyWithSyntaxHighlighting=l.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(l)),this.textArea.setAttribute("tabindex",String(l.get(112))),(r.hasChanged(30)||r.hasChanged(81))&&(l.get(30)&&l.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),r.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(r){return this._selections=r.selections.slice(0),this._modelSelections=r.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return this._scrollLeft=r.scrollLeft,this._scrollTop=r.scrollTop,!0}onZonesChanged(r){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(r){r.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",r.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),r.role&&this.textArea.setAttribute("role",r.role)}prepareRender(r){this._primaryCursorPosition=new sn.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=r.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(r)}render(r){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const _=this._visibleTextArea.visibleTextareaStart,k=this._visibleTextArea.visibleTextareaEnd,H=this._visibleTextArea.startPosition,ie=this._visibleTextArea.endPosition;if(H&&ie&&_&&k&&k.left>=this._scrollLeft&&_.left<=this._scrollLeft+this._contentWidth){const he=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,we=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let Le=this._visibleTextArea.widthOfHiddenLineTextBefore,ke=this._contentLeft+_.left-this._scrollLeft,ze=k.left-_.left+1;if(ke<this._contentLeft){const Ht=this._contentLeft-ke;ke+=Ht,Le+=Ht,ze-=Ht}ze>this._contentWidth&&(ze=this._contentWidth);const qe=this._context.viewModel.getViewLineData(H.lineNumber),it=qe.tokens.findTokenIndexAtOffset(H.column-1),bt=qe.tokens.findTokenIndexAtOffset(ie.column-1),Nt=this._visibleTextArea.definePresentation(it===bt?qe.tokens.getPresentation(it):null);this.textArea.domNode.scrollTop=we*this._lineHeight,this.textArea.domNode.scrollLeft=Le,this._doRender({lastRenderPosition:null,top:he,left:ke,width:ze,height:this._lineHeight,useCover:!1,color:(Mi.RW.getColorMap()||[])[Nt.foreground],italic:Nt.italic,bold:Nt.bold,underline:Nt.underline,strikethrough:Nt.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const r=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(r<this._contentLeft||r>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const l=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(l<0||l>this._contentHeight)this._renderAtTopLeft();else if(z.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:l,left:r,width:ri?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const _=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=_*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:l,left:r,width:ri?0:1,height:ri?0:1,useCover:!1})}_newlinecount(r){let l=0,_=-1;for(;_=r.indexOf("\n",_+1),-1!==_;)l++;return l}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:ri?0:1,height:ri?0:1,useCover:!0})}_doRender(r){this._lastRenderPosition=r.lastRenderPosition;const l=this.textArea,_=this.textAreaCover;(0,qt.N)(l,this._fontInfo),l.setTop(r.top),l.setLeft(r.left),l.setWidth(r.width),l.setHeight(r.height),l.setColor(r.color?Mn.Il.Format.CSS.formatHex(r.color):""),l.setFontStyle(r.italic?"italic":""),r.bold&&l.setFontWeight("bold"),l.setTextDecoration(`${r.underline?" underline":""}${r.strikethrough?" line-through":""}`),_.setTop(r.useCover?r.top:0),_.setLeft(r.useCover?r.left:0),_.setWidth(r.useCover?r.width:0),_.setHeight(r.useCover?r.height:0);const k=this._context.configuration.options;k.get(50)?_.setClassName("monaco-editor-background textAreaCover "+jn.OUTER_CLASS_NAME):0!==k.get(60).renderType?_.setClassName("monaco-editor-background textAreaCover "+kn.CLASS_NAME):_.setClassName("monaco-editor-background textAreaCover")}}var pi=p(20545);class Di{constructor(r,l,_,k){this.configuration=r,this.viewModel=l,this.userInputEvents=_,this.commandDelegate=k}paste(r,l,_,k){this.commandDelegate.paste(r,l,_,k)}type(r){this.commandDelegate.type(r)}compositionType(r,l,_,k){this.commandDelegate.compositionType(r,l,_,k)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(r){pi.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:r})}_validateViewColumn(r){const l=this.viewModel.getLineMinColumn(r.lineNumber);return r.column<l?new sn.L(r.lineNumber,l):r}_hasMulticursorModifier(r){switch(this.configuration.options.get(70)){case"altKey":return r.altKey;case"ctrlKey":return r.ctrlKey;case"metaKey":return r.metaKey;default:return!1}}_hasNonMulticursorModifier(r){switch(this.configuration.options.get(70)){case"altKey":return r.ctrlKey||r.metaKey;case"ctrlKey":return r.altKey||r.metaKey;case"metaKey":return r.ctrlKey||r.altKey;default:return!1}}dispatchMouse(r){const l=this.configuration.options,_=z.IJ&&l.get(96),k=l.get(18);r.middleButton&&!_?this._columnSelect(r.position,r.mouseColumn,r.inSelectionMode):r.startedOnLineNumbers?this._hasMulticursorModifier(r)?r.inSelectionMode?this._lastCursorLineSelect(r.position):this._createCursor(r.position,!0):r.inSelectionMode?this._lineSelectDrag(r.position):this._lineSelect(r.position):r.mouseDownCount>=4?this._selectAll():3===r.mouseDownCount?this._hasMulticursorModifier(r)?r.inSelectionMode?this._lastCursorLineSelectDrag(r.position):this._lastCursorLineSelect(r.position):r.inSelectionMode?this._lineSelectDrag(r.position):this._lineSelect(r.position):2===r.mouseDownCount?r.onInjectedText||(this._hasMulticursorModifier(r)?this._lastCursorWordSelect(r.position):r.inSelectionMode?this._wordSelectDrag(r.position):this._wordSelect(r.position)):this._hasMulticursorModifier(r)?this._hasNonMulticursorModifier(r)||(r.shiftKey?this._columnSelect(r.position,r.mouseColumn,!0):r.inSelectionMode?this._lastCursorMoveToSelect(r.position):this._createCursor(r.position,!1)):r.inSelectionMode?r.altKey||k?this._columnSelect(r.position,r.mouseColumn,!0):this._moveToSelect(r.position):this.moveTo(r.position)}_usualArgs(r){return r=this._validateViewColumn(r),{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r}}moveTo(r){pi.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_moveToSelect(r){pi.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_columnSelect(r,l,_){r=this._validateViewColumn(r),pi.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r,mouseColumn:l,doColumnSelect:_})}_createCursor(r,l){r=this._validateViewColumn(r),pi.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(r),viewPosition:r,wholeLine:l})}_lastCursorMoveToSelect(r){pi.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_wordSelect(r){pi.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_wordSelectDrag(r){pi.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorWordSelect(r){pi.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lineSelect(r){pi.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lineSelectDrag(r){pi.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorLineSelect(r){pi.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_lastCursorLineSelectDrag(r){pi.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(r))}_selectAll(){pi.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(r){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(r)}emitKeyDown(r){this.userInputEvents.emitKeyDown(r)}emitKeyUp(r){this.userInputEvents.emitKeyUp(r)}emitContextMenu(r){this.userInputEvents.emitContextMenu(r)}emitMouseMove(r){this.userInputEvents.emitMouseMove(r)}emitMouseLeave(r){this.userInputEvents.emitMouseLeave(r)}emitMouseUp(r){this.userInputEvents.emitMouseUp(r)}emitMouseDown(r){this.userInputEvents.emitMouseDown(r)}emitMouseDrag(r){this.userInputEvents.emitMouseDrag(r)}emitMouseDrop(r){this.userInputEvents.emitMouseDrop(r)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(r){this.userInputEvents.emitMouseWheel(r)}}class Ci{constructor(r){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=r}emitKeyDown(r){this.onKeyDown&&this.onKeyDown(r)}emitKeyUp(r){this.onKeyUp&&this.onKeyUp(r)}emitContextMenu(r){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(r))}emitMouseMove(r){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(r))}emitMouseLeave(r){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(r))}emitMouseDown(r){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(r))}emitMouseUp(r){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(r))}emitMouseDrag(r){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(r))}emitMouseDrop(r){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(r))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(r){this.onMouseWheel&&this.onMouseWheel(r)}_convertViewToModelMouseEvent(r){return r.target?{event:r.event,target:this._convertViewToModelMouseTarget(r.target)}:r}_convertViewToModelMouseTarget(r){return Ci.convertViewToModelMouseTarget(r,this._coordinatesConverter)}static convertViewToModelMouseTarget(r,l){const _=Object.assign({},r);return _.position&&(_.position=l.convertViewPositionToModelPosition(_.position)),_.range&&(_.range=l.convertViewRangeToModelRange(_.range)),_}}var Kn,Xi=p(53269);class Ui{constructor(r){this._createLine=r,this._set(1,[])}flush(){this._set(1,[])}_set(r,l){this._lines=l,this._rendLineNumberStart=r}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(r){const l=r-this._rendLineNumberStart;if(l<0||l>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[l]}onLinesDeleted(r,l){if(0===this.getCount())return null;const _=this.getStartLineNumber(),k=this.getEndLineNumber();if(l<_)return this._rendLineNumberStart-=l-r+1,null;if(r>k)return null;let H=0,ie=0;for(let we=_;we<=k;we++){const Le=we-this._rendLineNumberStart;r<=we&&we<=l&&(0===ie?(H=Le,ie=1):ie++)}if(r<_){let we=0;we=l<_?l-r+1:_-r,this._rendLineNumberStart-=we}return this._lines.splice(H,ie)}onLinesChanged(r,l){if(0===this.getCount())return!1;const _=this.getStartLineNumber(),k=this.getEndLineNumber();let H=!1;for(let ie=r;ie<=l;ie++)ie>=_&&ie<=k&&(this._lines[ie-this._rendLineNumberStart].onContentChanged(),H=!0);return H}onLinesInserted(r,l){if(0===this.getCount())return null;const _=l-r+1,k=this.getStartLineNumber(),H=this.getEndLineNumber();if(r<=k)return this._rendLineNumberStart+=_,null;if(r>H)return null;if(_+r>H)return this._lines.splice(r-this._rendLineNumberStart,H-r+1);const ie=[];for(let ze=0;ze<_;ze++)ie[ze]=this._createLine();const he=r-this._rendLineNumberStart,we=this._lines.slice(0,he),Le=this._lines.slice(he,this._lines.length-_),ke=this._lines.slice(this._lines.length-_,this._lines.length);return this._lines=we.concat(ie).concat(Le),ke}onTokensChanged(r){if(0===this.getCount())return!1;const l=this.getStartLineNumber(),_=this.getEndLineNumber();let k=!1;for(let H=0,ie=r.length;H<ie;H++){const he=r[H];if(he.toLineNumber<l||he.fromLineNumber>_)continue;const we=Math.max(l,he.fromLineNumber),Le=Math.min(_,he.toLineNumber);for(let ke=we;ke<=Le;ke++)this._lines[ke-this._rendLineNumberStart].onTokensChanged(),k=!0}return k}}class ao{constructor(r){this._host=r,this.domNode=this._createDomNode(),this._linesCollection=new Ui(()=>this._host.createVisibleLine())}_createDomNode(){const r=(0,ce.X)(document.createElement("div"));return r.setClassName("view-layer"),r.setPosition("absolute"),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r}onConfigurationChanged(r){return!!r.hasChanged(131)}onFlushed(r){return this._linesCollection.flush(),!0}onLinesChanged(r){return this._linesCollection.onLinesChanged(r.fromLineNumber,r.toLineNumber)}onLinesDeleted(r){const l=this._linesCollection.onLinesDeleted(r.fromLineNumber,r.toLineNumber);if(l)for(let _=0,k=l.length;_<k;_++){const H=l[_].getDomNode();H&&this.domNode.domNode.removeChild(H)}return!0}onLinesInserted(r){const l=this._linesCollection.onLinesInserted(r.fromLineNumber,r.toLineNumber);if(l)for(let _=0,k=l.length;_<k;_++){const H=l[_].getDomNode();H&&this.domNode.domNode.removeChild(H)}return!0}onScrollChanged(r){return r.scrollTopChanged}onTokensChanged(r){return this._linesCollection.onTokensChanged(r.ranges)}onZonesChanged(r){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(r){return this._linesCollection.getLine(r)}renderLines(r){const l=this._linesCollection._get(),H=new ni(this.domNode.domNode,this._host,r).render({rendLineNumberStart:l.rendLineNumberStart,lines:l.lines,linesLength:l.lines.length},r.startLineNumber,r.endLineNumber,r.relativeVerticalOffset);this._linesCollection._set(H.rendLineNumberStart,H.lines)}}class ni{constructor(r,l,_){this.domNode=r,this.host=l,this.viewportData=_}render(r,l,_,k){const H={rendLineNumberStart:r.rendLineNumberStart,lines:r.lines.slice(0),linesLength:r.linesLength};if(H.rendLineNumberStart+H.linesLength-1<l||_<H.rendLineNumberStart){H.rendLineNumberStart=l,H.linesLength=_-l+1,H.lines=[];for(let ie=l;ie<=_;ie++)H.lines[ie-l]=this.host.createVisibleLine();return this._finishRendering(H,!0,k),H}if(this._renderUntouchedLines(H,Math.max(l-H.rendLineNumberStart,0),Math.min(_-H.rendLineNumberStart,H.linesLength-1),k,l),H.rendLineNumberStart>l){const ie=l,he=Math.min(_,H.rendLineNumberStart-1);ie<=he&&(this._insertLinesBefore(H,ie,he,k,l),H.linesLength+=he-ie+1)}else if(H.rendLineNumberStart<l){const ie=Math.min(H.linesLength,l-H.rendLineNumberStart);ie>0&&(this._removeLinesBefore(H,ie),H.linesLength-=ie)}if(H.rendLineNumberStart=l,H.rendLineNumberStart+H.linesLength-1<_){const ie=H.rendLineNumberStart+H.linesLength,he=_;ie<=he&&(this._insertLinesAfter(H,ie,he,k,l),H.linesLength+=he-ie+1)}else if(H.rendLineNumberStart+H.linesLength-1>_){const ie=Math.max(0,_-H.rendLineNumberStart+1),we=H.linesLength-1-ie+1;we>0&&(this._removeLinesAfter(H,we),H.linesLength-=we)}return this._finishRendering(H,!1,k),H}_renderUntouchedLines(r,l,_,k,H){const ie=r.rendLineNumberStart,he=r.lines;for(let we=l;we<=_;we++){const Le=ie+we;he[we].layoutLine(Le,k[Le-H])}}_insertLinesBefore(r,l,_,k,H){const ie=[];let he=0;for(let we=l;we<=_;we++)ie[he++]=this.host.createVisibleLine();r.lines=ie.concat(r.lines)}_removeLinesBefore(r,l){for(let _=0;_<l;_++){const k=r.lines[_].getDomNode();k&&this.domNode.removeChild(k)}r.lines.splice(0,l)}_insertLinesAfter(r,l,_,k,H){const ie=[];let he=0;for(let we=l;we<=_;we++)ie[he++]=this.host.createVisibleLine();r.lines=r.lines.concat(ie)}_removeLinesAfter(r,l){const _=r.linesLength-l;for(let k=0;k<l;k++){const H=r.lines[_+k].getDomNode();H&&this.domNode.removeChild(H)}r.lines.splice(_,l)}_finishRenderingNewLines(r,l,_,k){ni._ttPolicy&&(_=ni._ttPolicy.createHTML(_));const H=this.domNode.lastChild;l||!H?this.domNode.innerHTML=_:H.insertAdjacentHTML("afterend",_);let ie=this.domNode.lastChild;for(let he=r.linesLength-1;he>=0;he--){const we=r.lines[he];k[he]&&(we.setDomNode(ie),ie=ie.previousSibling)}}_finishRenderingInvalidLines(r,l,_){const k=document.createElement("div");ni._ttPolicy&&(l=ni._ttPolicy.createHTML(l)),k.innerHTML=l;for(let H=0;H<r.linesLength;H++){const ie=r.lines[H];if(_[H]){const he=k.firstChild,we=ie.getDomNode();we.parentNode.replaceChild(he,we),ie.setDomNode(he)}}}_finishRendering(r,l,_){const k=ni._sb,H=r.linesLength,ie=r.lines,he=r.rendLineNumberStart,we=[];{k.reset();let Le=!1;for(let ke=0;ke<H;ke++){const ze=ie[ke];we[ke]=!1,!ze.getDomNode()&&ze.renderLine(ke+he,_[ke],this.viewportData,k)&&(we[ke]=!0,Le=!0)}Le&&this._finishRenderingNewLines(r,l,k.build(),we)}{k.reset();let Le=!1;const ke=[];for(let ze=0;ze<H;ze++){const qe=ie[ze];ke[ze]=!1,!we[ze]&&qe.renderLine(ze+he,_[ze],this.viewportData,k)&&(ke[ze]=!0,Le=!0)}Le&&this._finishRenderingInvalidLines(r,k.build(),ke)}}}ni._ttPolicy=null===(Kn=window.trustedTypes)||void 0===Kn?void 0:Kn.createPolicy("editorViewLayer",{createHTML:Te=>Te}),ni._sb=(0,Xi.l$)(1e5);class Co extends Ce{constructor(r){super(r),this._visibleLines=new ao(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let r=0,l=this._dynamicOverlays.length;r<l;r++)if(this._dynamicOverlays[r].shouldRender())return!0;return!1}dispose(){super.dispose();for(let r=0,l=this._dynamicOverlays.length;r<l;r++)this._dynamicOverlays[r].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Ei(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(r){this._dynamicOverlays.push(r)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r);const l=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let k=l;k<=_;k++)this._visibleLines.getVisibleLine(k).onConfigurationChanged(r);return!0}onFlushed(r){return this._visibleLines.onFlushed(r)}onFocusChanged(r){return this._isFocused=r.isFocused,!0}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onScrollChanged(r){return this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._visibleLines.onZonesChanged(r)}prepareRender(r){const l=this._dynamicOverlays.filter(_=>_.shouldRender());for(let _=0,k=l.length;_<k;_++){const H=l[_];H.prepareRender(r),H.onDidRender()}}render(r){this._viewOverlaysRender(r),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(r){this._visibleLines.renderLines(r.viewportData)}}class Ei{constructor(r,l){this._configuration=r,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=l,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(r){this._domNode=(0,ce.X)(r)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(r){this._lineHeight=this._configuration.options.get(59)}renderLine(r,l,_,k){let H="";for(let ie=0,he=this._dynamicOverlays.length;ie<he;ie++)H+=this._dynamicOverlays[ie].render(_.startLineNumber,r);return this._renderedContent!==H&&(this._renderedContent=H,k.appendASCIIString('<div style="position:absolute;top:'),k.appendASCIIString(String(l)),k.appendASCIIString("px;width:100%;height:"),k.appendASCIIString(String(this._lineHeight)),k.appendASCIIString('px;">'),k.appendASCIIString(H),k.appendASCIIString("</div>"),!0)}layoutLine(r,l){this._domNode&&(this._domNode.setTop(l),this._domNode.setHeight(this._lineHeight))}}class Po extends Co{constructor(r){super(r);const _=this._context.configuration.options.get(131);this._contentWidth=_.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(r){const _=this._context.configuration.options.get(131);return this._contentWidth=_.contentWidth,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollWidthChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r),this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth))}}class yo extends Co{constructor(r){super(r);const l=this._context.configuration.options,_=l.get(131);this._contentLeft=_.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,qt.N)(this.domNode,l.get(44))}onConfigurationChanged(r){const l=this._context.configuration.options;(0,qt.N)(this.domNode,l.get(44));const _=l.get(131);return this._contentLeft=_.contentLeft,super.onConfigurationChanged(r)||!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollHeightChanged}_viewOverlaysRender(r){super._viewOverlaysRender(r);const l=Math.min(r.scrollHeight,1e6);this.domNode.setHeight(l),this.domNode.setWidth(this._contentLeft)}}class fo{constructor(r,l){this._coordinateBrand=void 0,this.top=r,this.left=l}}class Io extends Ce{constructor(r,l){super(r),this._viewDomNode=l,this._widgets={},this.domNode=(0,ce.X)(document.createElement("div")),Ae.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,ce.X)(document.createElement("div")),Ae.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(r){const l=Object.keys(this._widgets);for(const _ of l)this._widgets[_].onConfigurationChanged(r);return!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLineMappingChanged(r){const l=Object.keys(this._widgets);for(const _ of l)this._widgets[_].onLineMappingChanged(r);return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return!0}onZonesChanged(r){return!0}addWidget(r){const l=new oo(this._context,this._viewDomNode,r);this._widgets[l.id]=l,l.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(l.domNode):this.domNode.appendChild(l.domNode),this.setShouldRender()}setWidgetPosition(r,l,_){this._widgets[r.getId()].setPosition(l,_),this.setShouldRender()}removeWidget(r){const l=r.getId();if(this._widgets.hasOwnProperty(l)){const _=this._widgets[l];delete this._widgets[l];const k=_.domNode.domNode;k.parentNode.removeChild(k),k.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(r){return!!this._widgets.hasOwnProperty(r)&&this._widgets[r].suppressMouseDown}onBeforeRender(r){const l=Object.keys(this._widgets);for(const _ of l)this._widgets[_].onBeforeRender(r)}prepareRender(r){const l=Object.keys(this._widgets);for(const _ of l)this._widgets[_].prepareRender(r)}render(r){const l=Object.keys(this._widgets);for(const _ of l)this._widgets[_].render(r)}}class oo{constructor(r,l,_){this._context=r,this._viewDomNode=l,this._actual=_,this.domNode=(0,ce.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const k=this._context.configuration.options,H=k.get(131);this._fixedOverflowWidgets=k.get(36),this._contentWidth=H.contentWidth,this._contentLeft=H.contentLeft,this._lineHeight=k.get(59),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(r){const l=this._context.configuration.options;if(this._lineHeight=l.get(59),r.hasChanged(131)){const _=l.get(131);this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(r){this._setPosition(this._range)}_setPosition(r){if(this._range=r,this._viewRange=null,this._range){const l=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(l.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(l.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(l))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(r,l){this._setPosition(r),this._preference=l,this.domNode.setDisplay(this._viewRange&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(r,l,_,k,H){const ie=r.top,we=l.top+this._lineHeight;let bt=r.left,Dt=l.left;return bt+_>H.scrollLeft+H.viewportWidth&&(bt=H.scrollLeft+H.viewportWidth-_),Dt+_>H.scrollLeft+H.viewportWidth&&(Dt=H.scrollLeft+H.viewportWidth-_),bt<H.scrollLeft&&(bt=H.scrollLeft),Dt<H.scrollLeft&&(Dt=H.scrollLeft),{fitsAbove:ie>=k,aboveTop:ie-k,aboveLeft:bt,fitsBelow:H.viewportHeight-we>=k,belowTop:we,belowLeft:Dt}}_layoutHorizontalSegmentInPage(r,l,_,k){const H=Math.max(0,l.left-k),ie=Math.min(l.left+l.width+k,r.width);let he=l.left+_-B.DI.scrollX;if(he+k>ie){const we=he-(ie-k);he-=we,_-=we}if(he<H){const we=he-H;he-=we,_-=we}return[_,he]}_layoutBoxInPage(r,l,_,k,H){const ie=r.top-k,he=l.top+this._lineHeight,we=B.i(this._viewDomNode.domNode),Le=we.top+ie-B.DI.scrollY,ke=we.top+he-B.DI.scrollY,ze=B.D6(document.body),[qe,it]=this._layoutHorizontalSegmentInPage(ze,we,r.left-H.scrollLeft+this._contentLeft,_),[bt,Dt]=this._layoutHorizontalSegmentInPage(ze,we,l.left-H.scrollLeft+this._contentLeft,_),cn=Le>=22,en=ke+k<=ze.height-22;return this._fixedOverflowWidgets?{fitsAbove:cn,aboveTop:Math.max(Le,22),aboveLeft:it,fitsBelow:en,belowTop:ke,belowLeft:Dt}:{fitsAbove:cn,aboveTop:ie,aboveLeft:qe,fitsBelow:en,belowTop:he,belowLeft:bt}}_prepareRenderWidgetAtExactPositionOverflowing(r){return new fo(r.top,r.left+this._contentLeft)}_getTopAndBottomLeft(r){if(!this._viewRange)return[null,null];const l=r.linesVisibleRangesForRange(this._viewRange,!1);if(!l||0===l.length)return[null,null];let _=l[0],k=l[0];for(const ze of l)ze.lineNumber<_.lineNumber&&(_=ze),ze.lineNumber>k.lineNumber&&(k=ze);let H=1073741824;for(const ze of _.ranges)ze.left<H&&(H=ze.left);let ie=1073741824;for(const ze of k.ranges)ze.left<ie&&(ie=ze.left);const he=r.getVerticalOffsetForLineNumber(_.lineNumber)-r.scrollTop,we=new fo(he,H),Le=r.getVerticalOffsetForLineNumber(k.lineNumber)-r.scrollTop;return[we,new fo(Le,ie)]}_prepareRenderWidget(r){if(!this._preference||0===this._preference.length)return null;const[l,_]=this._getTopAndBottomLeft(r);if(!l||!_)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let H=null;if("function"==typeof this._actual.beforeRender&&(H=ko(this._actual.beforeRender,this._actual)),H)this._cachedDomNodeOffsetWidth=H.width,this._cachedDomNodeOffsetHeight=H.height;else{const ie=this.domNode.domNode;this._cachedDomNodeOffsetWidth=ie.offsetWidth,this._cachedDomNodeOffsetHeight=ie.offsetHeight}}let k;k=this.allowEditorOverflow?this._layoutBoxInPage(l,_,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,r):this._layoutBoxInViewport(l,_,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,r);for(let H=1;H<=2;H++)for(const ie of this._preference)if(1===ie){if(!k)return null;if(2===H||k.fitsAbove)return{coordinate:new fo(k.aboveTop,k.aboveLeft),position:1}}else{if(2!==ie)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(l),position:0}:{coordinate:l,position:0};if(!k)return null;if(2===H||k.fitsBelow)return{coordinate:new fo(k.belowTop,k.belowLeft),position:2}}return null}onBeforeRender(r){!this._viewRange||!this._preference||this._viewRange.endLineNumber<r.startLineNumber||this._viewRange.startLineNumber>r.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(r){this._renderData=this._prepareRenderWidget(r)}render(r){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&ko(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+r.scrollTop-r.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&ko(this._actual.afterRender,this._actual,this._renderData.position)}}function ko(Te,r,...l){try{return Te.call(r,...l)}catch{return null}}p(18491);class Ys extends xn{constructor(r){super(),this._context=r;const l=this._context.configuration.options,_=l.get(131);this._lineHeight=l.get(59),this._renderLineHighlight=l.get(85),this._renderLineHighlightOnlyWhenFocus=l.get(86),this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new re.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let r=!1;const l=this._selections.map(k=>k.positionLineNumber);l.sort((k,H)=>k-H),f.fS(this._cursorLineNumbers,l)||(this._cursorLineNumbers=l,r=!0);const _=this._selections.every(k=>k.isEmpty());return this._selectionIsEmpty!==_&&(this._selectionIsEmpty=_,r=!0),r}onThemeChanged(r){return this._readFromSelections()}onConfigurationChanged(r){const l=this._context.configuration.options,_=l.get(131);return this._lineHeight=l.get(59),this._renderLineHighlight=l.get(85),this._renderLineHighlightOnlyWhenFocus=l.get(86),this._contentLeft=_.contentLeft,this._contentWidth=_.contentWidth,!0}onCursorStateChanged(r){return this._selections=r.selections,this._readFromSelections()}onFlushed(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollWidthChanged||r.scrollTopChanged}onZonesChanged(r){return!0}onFocusChanged(r){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=r.isFocused,!0)}prepareRender(r){if(!this._shouldRenderThis())return void(this._renderData=null);const l=this._renderOne(r),_=r.visibleRange.startLineNumber,k=r.visibleRange.endLineNumber,H=this._cursorLineNumbers.length;let ie=0;const he=[];for(let we=_;we<=k;we++){const Le=we-_;for(;ie<H&&this._cursorLineNumbers[ie]<we;)ie++;he[Le]=ie<H&&this._cursorLineNumbers[ie]===we?l:""}this._renderData=he}render(r,l){if(!this._renderData)return"";const _=l-r;return _>=this._renderData.length?"":this._renderData[_]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Go extends Ys{_renderOne(r){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(r.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Ss extends Ys{_renderOne(r){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Pn.Ic)((Te,r)=>{const l=Te.getColor(gn.Kh);if(l&&(r.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${l}; }`),r.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${l}; border: none; }`)),!l||l.isTransparent()||Te.defines(gn.Mm)){const _=Te.getColor(gn.Mm);_&&(r.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${_}; }`),r.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${_}; }`),"hc"===Te.type&&(r.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),r.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}),p(91233);class As extends xn{constructor(r){super(),this._context=r;const l=this._context.configuration.options;this._lineHeight=l.get(59),this._typicalHalfwidthCharacterWidth=l.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const l=this._context.configuration.options;return this._lineHeight=l.get(59),this._typicalHalfwidthCharacterWidth=l.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged||r.scrollWidthChanged}onZonesChanged(r){return!0}prepareRender(r){const l=r.getDecorationsInViewport();let _=[],k=0;for(let we=0,Le=l.length;we<Le;we++){const ke=l[we];ke.options.className&&(_[k++]=ke)}_=_.sort((we,Le)=>{if(we.options.zIndex<Le.options.zIndex)return-1;if(we.options.zIndex>Le.options.zIndex)return 1;const ke=we.options.className,ze=Le.options.className;return ke<ze?-1:ke>ze?1:hn.e.compareRangesUsingStarts(we.range,Le.range)});const H=r.visibleRange.startLineNumber,ie=r.visibleRange.endLineNumber,he=[];for(let we=H;we<=ie;we++)he[we-H]="";this._renderWholeLineDecorations(r,_,he),this._renderNormalDecorations(r,_,he),this._renderResult=he}_renderWholeLineDecorations(r,l,_){const k=String(this._lineHeight),H=r.visibleRange.startLineNumber,ie=r.visibleRange.endLineNumber;for(let he=0,we=l.length;he<we;he++){const Le=l[he];if(!Le.options.isWholeLine)continue;const ke='<div class="cdr '+Le.options.className+'" style="left:0;width:100%;height:'+k+'px;"></div>',ze=Math.max(Le.range.startLineNumber,H),qe=Math.min(Le.range.endLineNumber,ie);for(let it=ze;it<=qe;it++)_[it-H]+=ke}}_renderNormalDecorations(r,l,_){const k=String(this._lineHeight),H=r.visibleRange.startLineNumber;let ie=null,he=!1,we=null;for(let Le=0,ke=l.length;Le<ke;Le++){const ze=l[Le];if(ze.options.isWholeLine)continue;const qe=ze.options.className,it=Boolean(ze.options.showIfCollapsed);let bt=ze.range;it&&1===bt.endColumn&&bt.endLineNumber!==bt.startLineNumber&&(bt=new hn.e(bt.startLineNumber,bt.startColumn,bt.endLineNumber-1,this._context.viewModel.getLineMaxColumn(bt.endLineNumber-1))),ie===qe&&he===it&&hn.e.areIntersectingOrTouching(we,bt)?we=hn.e.plusRange(we,bt):(null!==ie&&this._renderNormalDecoration(r,we,ie,he,k,H,_),ie=qe,he=it,we=bt)}null!==ie&&this._renderNormalDecoration(r,we,ie,he,k,H,_)}_renderNormalDecoration(r,l,_,k,H,ie,he){const we=r.linesVisibleRangesForRange(l,"findMatch"===_);if(we)for(let Le=0,ke=we.length;Le<ke;Le++){const ze=we[Le];if(ze.outsideRenderedLine)continue;const qe=ze.lineNumber-ie;if(k&&1===ze.ranges.length){const it=ze.ranges[0];if(it.width<this._typicalHalfwidthCharacterWidth){const bt=Math.round(it.left+it.width/2),Dt=Math.max(0,Math.round(bt-this._typicalHalfwidthCharacterWidth/2));ze.ranges[0]=new st(Dt,this._typicalHalfwidthCharacterWidth)}}for(let it=0,bt=ze.ranges.length;it<bt;it++){const Dt=ze.ranges[it],Nt='<div class="cdr '+_+'" style="left:'+String(Dt.left)+"px;width:"+String(Dt.width)+"px;height:"+H+'px;"></div>';he[qe]+=Nt}}}render(r,l){if(!this._renderResult)return"";const _=l-r;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}var es=p(6491),lo=p(98275);class Js extends Ce{constructor(r,l,_,k){super(r);const H=this._context.configuration.options,ie=H.get(92),he=H.get(67),we=H.get(34),Le=H.get(95),ke={listenOnDomNode:_.domNode,className:"editor-scrollable "+(0,Pn.m6)(r.theme.type),useShadows:!1,lazyRender:!0,vertical:ie.vertical,horizontal:ie.horizontal,verticalHasArrows:ie.verticalHasArrows,horizontalHasArrows:ie.horizontalHasArrows,verticalScrollbarSize:ie.verticalScrollbarSize,verticalSliderSize:ie.verticalSliderSize,horizontalScrollbarSize:ie.horizontalScrollbarSize,horizontalSliderSize:ie.horizontalSliderSize,handleMouseWheel:ie.handleMouseWheel,alwaysConsumeMouseWheel:ie.alwaysConsumeMouseWheel,arrowSize:ie.arrowSize,mouseWheelScrollSensitivity:he,fastScrollSensitivity:we,scrollPredominantAxis:Le,scrollByPage:ie.scrollByPage};this.scrollbar=this._register(new es.$Z(l.domNode,ke,this._context.viewLayout.getScrollable())),Ae.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,ce.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const ze=(qe,it,bt)=>{const Dt={};if(it){const Nt=qe.scrollTop;Nt&&(Dt.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Nt,qe.scrollTop=0)}if(bt){const Nt=qe.scrollLeft;Nt&&(Dt.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Nt,qe.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(Dt,1)};this._register(B.nm(_.domNode,"scroll",qe=>ze(_.domNode,!0,!0))),this._register(B.nm(l.domNode,"scroll",qe=>ze(l.domNode,!0,!1))),this._register(B.nm(k.domNode,"scroll",qe=>ze(k.domNode,!0,!1))),this._register(B.nm(this.scrollbarDomNode.domNode,"scroll",qe=>ze(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const r=this._context.configuration.options,l=r.get(131);this.scrollbarDomNode.setLeft(l.contentLeft),"right"===r.get(65).side?this.scrollbarDomNode.setWidth(l.contentWidth+l.minimap.minimapWidth):this.scrollbarDomNode.setWidth(l.contentWidth),this.scrollbarDomNode.setHeight(l.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(r){this.scrollbar.delegateVerticalScrollbarMouseDown(r)}onConfigurationChanged(r){if(r.hasChanged(92)||r.hasChanged(67)||r.hasChanged(34)){const l=this._context.configuration.options,_=l.get(92),k=l.get(67),H=l.get(34),ie=l.get(95);this.scrollbar.updateOptions({vertical:_.vertical,horizontal:_.horizontal,verticalScrollbarSize:_.verticalScrollbarSize,horizontalScrollbarSize:_.horizontalScrollbarSize,scrollByPage:_.scrollByPage,handleMouseWheel:_.handleMouseWheel,mouseWheelScrollSensitivity:k,fastScrollSensitivity:H,scrollPredominantAxis:ie})}return r.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(r){return!0}onThemeChanged(r){return this.scrollbar.updateClassName("editor-scrollable "+(0,Pn.m6)(this._context.theme.type)),!0}prepareRender(r){}render(r){this.scrollbar.renderNow()}}(0,Pn.Ic)((Te,r)=>{const l=Te.getColor(lo._wn);l&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${l} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${l} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${l} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const _=Te.getColor(lo.etL);_&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${_};\n\t\t\t}\n\t\t`);const k=Te.getColor(lo.ABB);k&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${k};\n\t\t\t}\n\t\t`);const H=Te.getColor(lo.ynu);H&&r.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${H};\n\t\t\t}\n\t\t`)}),p(61050);class Ro{constructor(r,l,_){this._decorationToRenderBrand=void 0,this.startLineNumber=+r,this.endLineNumber=+l,this.className=String(_)}}class So extends xn{_render(r,l,_){const k=[];for(let he=r;he<=l;he++)k[he-r]=[];if(0===_.length)return k;_.sort((he,we)=>he.className===we.className?he.startLineNumber===we.startLineNumber?he.endLineNumber-we.endLineNumber:he.startLineNumber-we.startLineNumber:he.className<we.className?-1:1);let H=null,ie=0;for(let he=0,we=_.length;he<we;he++){const Le=_[he],ke=Le.className;let ze=Math.max(Le.startLineNumber,r)-r;const qe=Math.min(Le.endLineNumber,l)-r;H===ke?(ze=Math.max(ie+1,ze),ie=Math.max(ie,qe)):(H=ke,ie=qe);for(let it=ze;it<=ie;it++)k[it].push(H)}return k}}class dr extends So{constructor(r){super(),this._context=r;const l=this._context.configuration.options,_=l.get(131);this._lineHeight=l.get(59),this._glyphMargin=l.get(50),this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const l=this._context.configuration.options,_=l.get(131);return this._lineHeight=l.get(59),this._glyphMargin=l.get(50),this._glyphMarginLeft=_.glyphMarginLeft,this._glyphMarginWidth=_.glyphMarginWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const l=r.getDecorationsInViewport(),_=[];let k=0;for(let H=0,ie=l.length;H<ie;H++){const he=l[H],we=he.options.glyphMarginClassName;we&&(_[k++]=new Ro(he.range.startLineNumber,he.range.endLineNumber,we))}return _}prepareRender(r){if(!this._glyphMargin)return void(this._renderResult=null);const l=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber,k=this._render(l,_,this._getDecorations(r)),H=this._lineHeight.toString(),we='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+H+'px;"></div>',Le=[];for(let ke=l;ke<=_;ke++){const ze=ke-l,qe=k[ze];Le[ze]=0===qe.length?"":'<div class="cgmr codicon '+qe.join(" ")+we}this._renderResult=Le}render(r,l){if(!this._renderResult)return"";const _=l-r;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}p(19269);var Qo=p(99770),Xs=p(21872),Vo=p(13151);class Cs extends xn{constructor(r){super(),this._context=r,this._primaryPosition=null;const l=this._context.configuration.options,_=l.get(132),k=l.get(44);this._lineHeight=l.get(59),this._spaceWidth=k.spaceWidth,this._maxIndentLeft=-1===_.wrappingColumn?-1:_.wrappingColumn*k.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=l.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const l=this._context.configuration.options,_=l.get(132),k=l.get(44);return this._lineHeight=l.get(59),this._spaceWidth=k.spaceWidth,this._maxIndentLeft=-1===_.wrappingColumn?-1:_.wrappingColumn*k.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=l.get(13),!0}onCursorStateChanged(r){var l;const k=r.selections[0].getPosition();return!(null===(l=this._primaryPosition)||void 0===l?void 0:l.equals(k))&&(this._primaryPosition=k,!0)}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}onLanguageConfigurationChanged(r){return!0}prepareRender(r){var l,_,k,H;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const ie=r.visibleRange.startLineNumber,he=r.visibleRange.endLineNumber,we=r.scrollWidth,Le=this._lineHeight,ze=this.getGuidesByLine(ie,he,this._primaryPosition),qe=[];for(let it=ie;it<=he;it++){const bt=it-ie,Dt=ze[bt];let Nt="";const Ht=null!==(_=null===(l=r.visibleRangeForPosition(new sn.L(it,1)))||void 0===l?void 0:l.left)&&void 0!==_?_:0;for(const cn of Dt){const en=Ht+(cn.visibleColumn-1)*this._spaceWidth;if(en>we||this._maxIndentLeft>0&&en>this._maxIndentLeft)break;const On=cn.horizontalLine?cn.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Vn=cn.horizontalLine?(null!==(H=null===(k=r.visibleRangeForPosition(new sn.L(it,cn.horizontalLine.endColumn)))||void 0===k?void 0:k.left)&&void 0!==H?H:en+this._spaceWidth)-en:this._spaceWidth;Nt+=`<div class="core-guide ${cn.className} ${On}" style="left:${en}px;height:${Le}px;width:${Vn}px"></div>`}qe[bt]=Nt}this._renderResult=qe}getGuidesByLine(r,l,_){const k=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(r,l,_,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?Vo.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?Vo.s6.EnabledForActive:Vo.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,H=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(r,l):null;let ie=0,he=0,we=0;if(this._bracketPairGuideOptions.highlightActiveIndentation&&_){const ze=this._context.viewModel.getActiveIndentGuide(_.lineNumber,r,l);ie=ze.startLineNumber,he=ze.endLineNumber,we=ze.indent}const{indentSize:Le}=this._context.viewModel.model.getOptions(),ke=[];for(let ze=r;ze<=l;ze++){const qe=new Array;ke.push(qe);const it=k?k[ze-r]:[],bt=new f.H9(it),Dt=H?H[ze-r]:[];for(let Nt=1;Nt<=Dt;Nt++){const Ht=(Nt-1)*Le+1,cn=0===it.length&&ie<=ze&&ze<=he&&Nt===we;qe.push(...bt.takeWhile(On=>On.visibleColumn<Ht)||[]);const en=bt.peek();(!en||en.visibleColumn!==Ht||en.horizontalLine)&&qe.push(new Vo.UO(Ht,cn?"core-guide-indent-active":"core-guide-indent",null))}qe.push(...bt.takeWhile(Nt=>!0)||[])}return ke}render(r,l){if(!this._renderResult)return"";const _=l-r;return _<0||_>=this._renderResult.length?"":this._renderResult[_]}}function ur(Te){if(!Te||!Te.isTransparent())return Te}(0,Pn.Ic)((Te,r)=>{const l=Te.getColor(gn.tR);l&&r.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${l} inset; }`);const _=Te.getColor(gn.Ym)||l;_&&r.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${_} inset; }`);const k=[{bracketColor:gn.zJ,guideColor:gn.oV,guideColorActive:gn.Qb},{bracketColor:gn.Vs,guideColor:gn.m$,guideColorActive:gn.m3},{bracketColor:gn.CE,guideColor:gn.DS,guideColorActive:gn.To},{bracketColor:gn.UP,guideColor:gn.lS,guideColorActive:gn.L7},{bracketColor:gn.r0,guideColor:gn.Jn,guideColorActive:gn.HV},{bracketColor:gn.m1,guideColor:gn.YF,guideColorActive:gn.f9}],H=new Xs.W,ie=k.map(he=>{var we,Le;const ke=Te.getColor(he.bracketColor),ze=Te.getColor(he.guideColor),qe=Te.getColor(he.guideColorActive),it=ur(null!==(we=ur(ze))&&void 0!==we?we:null==ke?void 0:ke.transparent(.3)),bt=ur(null!==(Le=ur(qe))&&void 0!==Le?Le:ke);if(it&&bt)return{guideColor:it,guideColorActive:bt}}).filter(Qo.$K);if(ie.length>0){for(let he=0;he<30;he++){const we=ie[he%ie.length];r.addRule(`.monaco-editor .${H.getInlineClassNameOfLevel(he).replace(/ /g,".")} { --guide-color: ${we.guideColor}; --guide-color-active: ${we.guideColorActive}; }`)}r.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),r.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),r.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),r.addRule(`.monaco-editor .vertical.${H.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),r.addRule(`.monaco-editor .horizontal-top.${H.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),r.addRule(`.monaco-editor .horizontal-bottom.${H.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}}),p(97227);class ji{constructor(){this._currentVisibleRange=new hn.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(r){this._currentVisibleRange=r}}class Lo{constructor(r,l,_,k,H,ie,he){this.minimalReveal=r,this.lineNumber=l,this.startColumn=_,this.endColumn=k,this.startScrollTop=H,this.stopScrollTop=ie,this.scrollType=he,this.type="range",this.minLineNumber=l,this.maxLineNumber=l}}class Rs{constructor(r,l,_,k,H){this.minimalReveal=r,this.selections=l,this.startScrollTop=_,this.stopScrollTop=k,this.scrollType=H,this.type="selections";let ie=l[0].startLineNumber,he=l[0].endLineNumber;for(let we=1,Le=l.length;we<Le;we++){const ke=l[we];ie=Math.min(ie,ke.startLineNumber),he=Math.max(he,ke.endLineNumber)}this.minLineNumber=ie,this.maxLineNumber=he}}let qs=(()=>{class Te extends Ce{constructor(l,_){super(l),this._linesContent=_,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new ao(this),this.domNode=this._visibleLines.domNode;const k=this._context.configuration,H=this._context.configuration.options,ie=H.get(44),he=H.get(132),we=H.get(131);this._lineHeight=H.get(59),this._typicalHalfwidthCharacterWidth=ie.typicalHalfwidthCharacterWidth,this._isViewportWrapping=he.isViewportWrapping,this._revealHorizontalRightPadding=H.get(89),this._horizontalScrollbarHeight=we.horizontalScrollbarHeight,this._cursorSurroundingLines=H.get(25),this._cursorSurroundingLinesStyle=H.get(26),this._canUseLayerHinting=!H.get(28),this._viewLineOptions=new Wt(k,this._context.theme.type),Ae.write(this.domNode,7),this.domNode.setClassName(`view-lines ${gi.S}`),(0,qt.N)(this.domNode,ie),this._maxLineWidth=0,this._asyncUpdateLineWidths=new We.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new We.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new ji,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new zt(this._viewLineOptions)}onConfigurationChanged(l){this._visibleLines.onConfigurationChanged(l),l.hasChanged(132)&&(this._maxLineWidth=0);const _=this._context.configuration.options,k=_.get(44),H=_.get(132),ie=_.get(131);return this._lineHeight=_.get(59),this._typicalHalfwidthCharacterWidth=k.typicalHalfwidthCharacterWidth,this._isViewportWrapping=H.isViewportWrapping,this._revealHorizontalRightPadding=_.get(89),this._horizontalScrollbarHeight=ie.horizontalScrollbarHeight,this._cursorSurroundingLines=_.get(25),this._cursorSurroundingLinesStyle=_.get(26),this._canUseLayerHinting=!_.get(28),(0,qt.N)(this.domNode,k),this._onOptionsMaybeChanged(),l.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const _=new Wt(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(_)){this._viewLineOptions=_;const k=this._visibleLines.getStartLineNumber(),H=this._visibleLines.getEndLineNumber();for(let ie=k;ie<=H;ie++)this._visibleLines.getVisibleLine(ie).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(l){const _=this._visibleLines.getStartLineNumber(),k=this._visibleLines.getEndLineNumber();let H=!1;for(let ie=_;ie<=k;ie++)H=this._visibleLines.getVisibleLine(ie).onSelectionChanged()||H;return H}onDecorationsChanged(l){{const _=this._visibleLines.getStartLineNumber(),k=this._visibleLines.getEndLineNumber();for(let H=_;H<=k;H++)this._visibleLines.getVisibleLine(H).onDecorationsChanged()}return!0}onFlushed(l){const _=this._visibleLines.onFlushed(l);return this._maxLineWidth=0,_}onLinesChanged(l){return this._visibleLines.onLinesChanged(l)}onLinesDeleted(l){return this._visibleLines.onLinesDeleted(l)}onLinesInserted(l){return this._visibleLines.onLinesInserted(l)}onRevealRangeRequest(l){const _=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),l.source,l.minimalReveal,l.range,l.selections,l.verticalType);if(-1===_)return!1;let k=this._context.viewLayout.validateScrollPosition({scrollTop:_});l.revealHorizontal?l.range&&l.range.startLineNumber!==l.range.endLineNumber?k={scrollTop:k.scrollTop,scrollLeft:0}:l.range?this._horizontalRevealRequest=new Lo(l.minimalReveal,l.range.startLineNumber,l.range.startColumn,l.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),k.scrollTop,l.scrollType):l.selections&&l.selections.length>0&&(this._horizontalRevealRequest=new Rs(l.minimalReveal,l.selections,this._context.viewLayout.getCurrentScrollTop(),k.scrollTop,l.scrollType)):this._horizontalRevealRequest=null;const ie=Math.abs(this._context.viewLayout.getCurrentScrollTop()-k.scrollTop)<=this._lineHeight?1:l.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(k,ie),!0}onScrollChanged(l){if(this._horizontalRevealRequest&&l.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&l.scrollTopChanged){const _=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),k=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(l.scrollTop<_||l.scrollTop>k)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(l.scrollWidth),this._visibleLines.onScrollChanged(l)||!0}onTokensChanged(l){return this._visibleLines.onTokensChanged(l)}onZonesChanged(l){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(l)}onThemeChanged(l){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(l,_){const k=this._getViewLineDomNode(l);if(null===k)return null;const H=this._getLineNumberFor(k);if(-1===H||H<1||H>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(H))return new sn.L(H,1);const ie=this._visibleLines.getStartLineNumber(),he=this._visibleLines.getEndLineNumber();if(H<ie||H>he)return null;let we=this._visibleLines.getVisibleLine(H).getColumnOfNodeOffset(H,l,_);const Le=this._context.viewModel.getLineMinColumn(H);return we<Le&&(we=Le),new sn.L(H,we)}_getViewLineDomNode(l){for(;l&&1===l.nodeType;){if(l.className===zt.CLASS_NAME)return l;l=l.parentElement}return null}_getLineNumberFor(l){const _=this._visibleLines.getStartLineNumber(),k=this._visibleLines.getEndLineNumber();for(let H=_;H<=k;H++)if(l===this._visibleLines.getVisibleLine(H).getDomNode())return H;return-1}getLineWidth(l){const _=this._visibleLines.getStartLineNumber(),k=this._visibleLines.getEndLineNumber();return l<_||l>k?-1:this._visibleLines.getVisibleLine(l).getWidth()}linesVisibleRangesForRange(l,_){if(this.shouldRender())return null;const k=l.endLineNumber,H=hn.e.intersectRanges(l,this._lastRenderedData.getCurrentVisibleRange());if(!H)return null;let ie=[],he=0;const we=new Ft(this.domNode.domNode,this._textRangeRestingSpot);let Le=0;_&&(Le=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new sn.L(H.startLineNumber,1)).lineNumber);const ke=this._visibleLines.getStartLineNumber(),ze=this._visibleLines.getEndLineNumber();for(let qe=H.startLineNumber;qe<=H.endLineNumber;qe++){if(qe<ke||qe>ze)continue;const it=qe===H.startLineNumber?H.startColumn:1,bt=qe===H.endLineNumber?H.endColumn:this._context.viewModel.getLineMaxColumn(qe),Dt=this._visibleLines.getVisibleLine(qe).getVisibleRangesForRange(qe,it,bt,we);if(Dt){if(_&&qe<k){const Nt=Le;Le=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new sn.L(qe+1,1)).lineNumber,Nt!==Le&&(Dt.ranges[Dt.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}ie[he++]=new Pe(Dt.outsideRenderedLine,qe,st.from(Dt.ranges))}}return 0===he?null:ie}_visibleRangesForLineRange(l,_,k){return this.shouldRender()||l<this._visibleLines.getStartLineNumber()||l>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(l).getVisibleRangesForRange(l,_,k,new Ft(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(l){const _=this._visibleRangesForLineRange(l.lineNumber,l.column,l.column);return _?new nt(_.outsideRenderedLine,_.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(l){const _=this._visibleLines.getStartLineNumber(),k=this._visibleLines.getEndLineNumber();let H=1,ie=!0;for(let he=_;he<=k;he++){const we=this._visibleLines.getVisibleLine(he);!l||we.getWidthIsFast()?H=Math.max(H,we.getWidth()):ie=!1}return ie&&1===_&&k===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(H),ie}_checkMonospaceFontAssumptions(){let l=-1,_=-1;const k=this._visibleLines.getStartLineNumber(),H=this._visibleLines.getEndLineNumber();for(let ie=k;ie<=H;ie++){const he=this._visibleLines.getVisibleLine(ie);if(he.needsMonospaceFontCheck()){const we=he.getWidth();we>_&&(_=we,l=ie)}}if(-1!==l&&!this._visibleLines.getVisibleLine(l).monospaceAssumptionsAreValid())for(let ie=k;ie<=H;ie++)this._visibleLines.getVisibleLine(ie).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(l){if(this._visibleLines.renderLines(l),this._lastRenderedData.setCurrentVisibleRange(l.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const k=this._horizontalRevealRequest;if(l.startLineNumber<=k.minLineNumber&&k.maxLineNumber<=l.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const H=this._computeScrollLeftToReveal(k);H&&(this._isViewportWrapping||this._ensureMaxLineWidth(H.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:H.scrollLeft},k.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),z.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const k=this._visibleLines.getStartLineNumber(),H=this._visibleLines.getEndLineNumber();for(let ie=k;ie<=H;ie++)if(this._visibleLines.getVisibleLine(ie).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const _=this._context.viewLayout.getCurrentScrollTop()-l.bigNumbersDelta;this._linesContent.setTop(-_),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(l){const _=Math.ceil(l);this._maxLineWidth<_&&(this._maxLineWidth=_,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(l,_,k,H,ie,he){const we=l.top,Le=l.height,ke=we+Le;let ze,qe,it,Dt;if(ie&&ie.length>0){let Nt=ie[0].startLineNumber,Ht=ie[0].endLineNumber;for(let cn=1,en=ie.length;cn<en;cn++){const On=ie[cn];Nt=Math.min(Nt,On.startLineNumber),Ht=Math.max(Ht,On.endLineNumber)}ze=!1,qe=this._context.viewLayout.getVerticalOffsetForLineNumber(Nt),it=this._context.viewLayout.getVerticalOffsetForLineNumber(Ht)+this._lineHeight}else{if(!H)return-1;ze=!0,qe=this._context.viewLayout.getVerticalOffsetForLineNumber(H.startLineNumber),it=this._context.viewLayout.getVerticalOffsetForLineNumber(H.endLineNumber)+this._lineHeight}if("mouse"!==_&&!k||"default"!==this._cursorSurroundingLinesStyle){const Nt=Math.min(Le/this._lineHeight/2,this._cursorSurroundingLines);qe-=Nt*this._lineHeight,it+=Math.max(0,Nt-1)*this._lineHeight}else k||(qe-=this._lineHeight);if((0===he||4===he)&&(it+=k?this._horizontalScrollbarHeight:this._lineHeight),it-qe>Le){if(!ze)return-1;Dt=qe}else if(5===he||6===he)if(6===he&&we<=qe&&it<=ke)Dt=we;else{const Nt=Math.max(5*this._lineHeight,.2*Le);Dt=Math.max(it-Le,qe-Nt)}else Dt=1===he||2===he?2===he&&we<=qe&&it<=ke?we:Math.max(0,(qe+it)/2-Le/2):this._computeMinimumScrolling(we,ke,qe,it,3===he,4===he);return Dt}_computeScrollLeftToReveal(l){const _=this._context.viewLayout.getCurrentViewport(),k=_.left,H=k+_.width;let ie=1073741824,he=0;if("range"===l.type){const Le=this._visibleRangesForLineRange(l.lineNumber,l.startColumn,l.endColumn);if(!Le)return null;for(const ke of Le.ranges)ie=Math.min(ie,Math.round(ke.left)),he=Math.max(he,Math.round(ke.left+ke.width))}else for(const Le of l.selections){if(Le.startLineNumber!==Le.endLineNumber)return null;const ke=this._visibleRangesForLineRange(Le.startLineNumber,Le.startColumn,Le.endColumn);if(!ke)return null;for(const ze of ke.ranges)ie=Math.min(ie,Math.round(ze.left)),he=Math.max(he,Math.round(ze.left+ze.width))}return l.minimalReveal||(ie=Math.max(0,ie-Te.HORIZONTAL_EXTRA_PX),he+=this._revealHorizontalRightPadding),"selections"===l.type&&he-ie>_.width?null:{scrollLeft:this._computeMinimumScrolling(k,H,ie,he),maxHorizontalOffset:he}}_computeMinimumScrolling(l,_,k,H,ie,he){ie=!!ie,he=!!he;const we=(_|=0)-(l|=0);return(H|=0)-(k|=0)<we?ie?k:he?Math.max(0,H-we):k<l?k:H>_?Math.max(0,H-we):l:k}}return Te.HORIZONTAL_EXTRA_PX=30,Te})();p(38586);class yt extends So{constructor(r){super(),this._context=r;const _=this._context.configuration.options.get(131);this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const _=this._context.configuration.options.get(131);return this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const l=r.getDecorationsInViewport(),_=[];let k=0;for(let H=0,ie=l.length;H<ie;H++){const he=l[H],we=he.options.linesDecorationsClassName;we&&(_[k++]=new Ro(he.range.startLineNumber,he.range.endLineNumber,we));const Le=he.options.firstLineDecorationClassName;Le&&(_[k++]=new Ro(he.range.startLineNumber,he.range.startLineNumber,Le))}return _}prepareRender(r){const l=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber,k=this._render(l,_,this._getDecorations(r)),he='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',we=[];for(let Le=l;Le<=_;Le++){const ke=Le-l,ze=k[ke];let qe="";for(let it=0,bt=ze.length;it<bt;it++)qe+='<div class="cldr '+ze[it]+he;we[ke]=qe}this._renderResult=we}render(r,l){return this._renderResult?this._renderResult[l-r]:""}}p(6728);class h extends So{constructor(r){super(),this._context=r,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){return!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getDecorations(r){const l=r.getDecorationsInViewport(),_=[];let k=0;for(let H=0,ie=l.length;H<ie;H++){const he=l[H],we=he.options.marginClassName;we&&(_[k++]=new Ro(he.range.startLineNumber,he.range.endLineNumber,we))}return _}prepareRender(r){const l=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber,k=this._render(l,_,this._getDecorations(r)),H=[];for(let ie=l;ie<=_;ie++){const he=ie-l,we=k[he];let Le="";for(let ke=0,ze=we.length;ke<ze;ke++)Le+='<div class="cmdr '+we[ke]+'" style=""></div>';H[he]=Le}this._renderResult=H}render(r,l){return this._renderResult?this._renderResult[l-r]:""}}p(39319);var V=p(8535);class ne{constructor(r,l,_,k){this._rgba8Brand=void 0,this.r=ne._clamp(r),this.g=ne._clamp(l),this.b=ne._clamp(_),this.a=ne._clamp(k)}equals(r){return this.r===r.r&&this.g===r.g&&this.b===r.b&&this.a===r.a}static _clamp(r){return r<0?0:r>255?255:0|r}}ne.Empty=new ne(0,0,0,0);let ae=(()=>{class Te extends C.JT{constructor(){super(),this._onDidChange=new y.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Mi.RW.onDidChange(l=>{l.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,C.dk)(new Te)),this._INSTANCE}_updateColorMap(){const l=Mi.RW.getColorMap();if(!l)return this._colors=[ne.Empty],void(this._backgroundIsLight=!0);this._colors=[ne.Empty];for(let k=1;k<l.length;k++){const H=l[k].rgba;this._colors[k]=new ne(H.r,H.g,H.b,Math.round(255*H.a))}const _=l[2].getRelativeLuminance();this._backgroundIsLight=_>=.5,this._onDidChange.fire(void 0)}getColor(l){return(l<1||l>=this._colors.length)&&(l=2),this._colors[l]}backgroundIsLight(){return this._backgroundIsLight}}return Te._INSTANCE=null,Te})();var be=p(42483);const Oe=(()=>{const Te=[];for(let r=32;r<=126;r++)Te.push(r);return Te.push(65533),Te})();var Ze=p(68733);class Qe{constructor(r,l){this.scale=l,this._minimapCharRendererBrand=void 0,this.charDataNormal=Qe.soften(r,.8),this.charDataLight=Qe.soften(r,50/60)}static soften(r,l){const _=new Uint8ClampedArray(r.length);for(let k=0,H=r.length;k<H;k++)_[k]=(0,Ze.K)(r[k]*l);return _}renderChar(r,l,_,k,H,ie,he,we,Le,ke,ze){const qe=1*this.scale,it=2*this.scale,bt=ze?1:it;if(l+qe>r.width||_+bt>r.height)return void console.warn("bad render request outside image data");const Dt=ke?this.charDataLight:this.charDataNormal,Nt=((Te,r)=>(Te-=32)<0||Te>96?r<=2?(Te+96)%96:95:Te)(k,Le),Ht=4*r.width,cn=he.r,en=he.g,On=he.b,Vn=H.r-cn,Tn=H.g-en,Rn=H.b-On,En=Math.max(ie,we),vn=r.data;let Ni=Nt*qe*it,li=_*Ht+4*l;for(let Mo=0;Mo<bt;Mo++){let mo=li;for(let ss=0;ss<qe;ss++){const eo=Dt[Ni++]/255*(ie/255);vn[mo++]=cn+Vn*eo,vn[mo++]=en+Tn*eo,vn[mo++]=On+Rn*eo,vn[mo++]=En}li+=Ht}}blockRenderChar(r,l,_,k,H,ie,he,we){const Le=1*this.scale,ze=we?1:2*this.scale;if(l+Le>r.width||_+ze>r.height)return void console.warn("bad render request outside image data");const qe=4*r.width,it=H/255*.5,bt=ie.r,Dt=ie.g,Nt=ie.b,On=bt+(k.r-bt)*it,Vn=Dt+(k.g-Dt)*it,Tn=Nt+(k.b-Nt)*it,Rn=Math.max(H,he),En=r.data;let vn=_*qe+4*l;for(let Ni=0;Ni<ze;Ni++){let li=vn;for(let Mo=0;Mo<Le;Mo++)En[li++]=On,En[li++]=Vn,En[li++]=Tn,En[li++]=Rn;vn+=qe}}}var ot=p(16811);const ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},gt=Te=>{const r=new Uint8ClampedArray(Te.length/2);for(let l=0;l<Te.length;l+=2)r[l>>1]=ht[Te[l]]<<4|15&ht[Te[l+1]];return r},Mt={1:(0,ot.I)(()=>gt("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,ot.I)(()=>gt("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Bt{static create(r,l){if(this.lastCreated&&r===this.lastCreated.scale&&l===this.lastFontFamily)return this.lastCreated;let _;return _=Mt[r]?new Qe(Mt[r](),r):Bt.createFromSampleData(Bt.createSampleData(l).data,r),this.lastFontFamily=l,this.lastCreated=_,_}static createSampleData(r){const l=document.createElement("canvas"),_=l.getContext("2d");l.style.height="16px",l.height=16,l.width=960,l.style.width="960px",_.fillStyle="#ffffff",_.font=`bold 16px ${r}`,_.textBaseline="middle";let k=0;for(const H of Oe)_.fillText(String.fromCharCode(H),k,8),k+=10;return _.getImageData(0,0,960,16)}static createFromSampleData(r,l){if(61440!==r.length)throw new Error("Unexpected source in MinimapCharRenderer");const k=Bt._downsample(r,l);return new Qe(k,l)}static _downsampleChar(r,l,_,k,H){const ie=1*H,he=2*H;let we=k,Le=0;for(let ke=0;ke<he;ke++){const ze=ke/he*16,qe=(ke+1)/he*16;for(let it=0;it<ie;it++){const bt=it/ie*10,Dt=(it+1)/ie*10;let Nt=0,Ht=0;for(let en=ze;en<qe;en++){const On=l+3840*Math.floor(en),Vn=1-(en-Math.floor(en));for(let Tn=bt;Tn<Dt;Tn++){const Rn=1-(Tn-Math.floor(Tn)),En=On+4*Math.floor(Tn),vn=Rn*Vn;Ht+=vn,Nt+=r[En]*r[En+3]/255*vn}}const cn=Nt/Ht;Le=Math.max(Le,cn),_[we++]=(0,Ze.K)(cn)}}return Le}static _downsample(r,l){const _=2*l*1*l,k=96*_,H=new Uint8ClampedArray(k);let ie=0,he=0,we=0;for(let Le=0;Le<96;Le++)we=Math.max(we,this._downsampleChar(r,he,H,ie,l)),ie+=_,he+=40;if(we>0){const Le=255/we;for(let ke=0;ke<k;ke++)H[ke]*=Le}return H}}var Zt=p(80067);class ci{constructor(r,l,_){const k=r.options,H=k.get(129),ie=k.get(131),he=ie.minimap,we=k.get(44),Le=k.get(65);this.renderMinimap=he.renderMinimap,this.size=Le.size,this.minimapHeightIsEditorHeight=he.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=k.get(94),this.showSlider=Le.showSlider,this.pixelRatio=H,this.typicalHalfwidthCharacterWidth=we.typicalHalfwidthCharacterWidth,this.lineHeight=k.get(59),this.minimapLeft=he.minimapLeft,this.minimapWidth=he.minimapWidth,this.minimapHeight=ie.height,this.canvasInnerWidth=he.minimapCanvasInnerWidth,this.canvasInnerHeight=he.minimapCanvasInnerHeight,this.canvasOuterWidth=he.minimapCanvasOuterWidth,this.canvasOuterHeight=he.minimapCanvasOuterHeight,this.isSampling=he.minimapIsSampling,this.editorHeight=ie.height,this.fontScale=he.minimapScale,this.minimapLineHeight=he.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,ot.I)(()=>Bt.create(this.fontScale,we.fontFamily)),this.defaultBackgroundColor=_.getColor(2),this.backgroundColor=ci._getMinimapBackground(l,this.defaultBackgroundColor),this.foregroundAlpha=ci._getMinimapForegroundOpacity(l)}static _getMinimapBackground(r,l){const _=r.getColor(lo.kVY);return _?new ne(_.rgba.r,_.rgba.g,_.rgba.b,Math.round(255*_.rgba.a)):l}static _getMinimapForegroundOpacity(r){const l=r.getColor(lo.Itd);return l?ne._clamp(Math.round(255*l.rgba.a)):255}equals(r){return this.renderMinimap===r.renderMinimap&&this.size===r.size&&this.minimapHeightIsEditorHeight===r.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===r.scrollBeyondLastLine&&this.showSlider===r.showSlider&&this.pixelRatio===r.pixelRatio&&this.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&this.lineHeight===r.lineHeight&&this.minimapLeft===r.minimapLeft&&this.minimapWidth===r.minimapWidth&&this.minimapHeight===r.minimapHeight&&this.canvasInnerWidth===r.canvasInnerWidth&&this.canvasInnerHeight===r.canvasInnerHeight&&this.canvasOuterWidth===r.canvasOuterWidth&&this.canvasOuterHeight===r.canvasOuterHeight&&this.isSampling===r.isSampling&&this.editorHeight===r.editorHeight&&this.fontScale===r.fontScale&&this.minimapLineHeight===r.minimapLineHeight&&this.minimapCharWidth===r.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(r.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(r.backgroundColor)&&this.foregroundAlpha===r.foregroundAlpha}}class _t{constructor(r,l,_,k,H,ie,he,we){this.scrollTop=r,this.scrollHeight=l,this.sliderNeeded=_,this._computedSliderRatio=k,this.sliderTop=H,this.sliderHeight=ie,this.startLineNumber=he,this.endLineNumber=we}getDesiredScrollTopFromDelta(r){return Math.round(this.scrollTop+r/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(r){return Math.round((r-this.sliderHeight/2)/this._computedSliderRatio)}static create(r,l,_,k,H,ie,he,we,Le,ke,ze){const qe=r.pixelRatio,it=r.minimapLineHeight,bt=Math.floor(r.canvasInnerHeight/it),Dt=r.lineHeight;if(r.minimapHeightIsEditorHeight){const Tn=Math.max(1,Math.floor(H*H/(we*r.lineHeight+(r.scrollBeyondLastLine?H-r.lineHeight:0)))),Rn=Math.max(0,r.minimapHeight-Tn),En=Rn/(ke-H),vn=Le*En,Ni=Rn>0,li=Math.floor(r.canvasInnerHeight/r.minimapLineHeight);return new _t(Le,ke,Ni,En,vn,Tn,1,Math.min(he,li))}let Nt,Ht;Nt=ie&&_!==he?Math.floor((_-l+1)*it/qe):Math.floor(H/Dt*it/qe),Ht=r.scrollBeyondLastLine?(he-1)*it/qe:Math.max(0,he*it/qe-Nt),Ht=Math.min(r.minimapHeight-Nt,Ht);const cn=Ht/(ke-H),en=Le*cn;let On=0;if(r.scrollBeyondLastLine&&(On=H/Dt-1),bt>=he+On)return new _t(Le,ke,Ht>0,cn,en,Nt,1,he);{let Vn=Math.max(1,Math.floor(l-en*qe/it));ze&&ze.scrollHeight===ke&&(ze.scrollTop>Le&&(Vn=Math.min(Vn,ze.startLineNumber)),ze.scrollTop<Le&&(Vn=Math.max(Vn,ze.startLineNumber)));const Tn=Math.min(he,Vn+bt-1);return new _t(Le,ke,!0,cn,(l-Vn+(Le-k)/Dt)*it/qe,Nt,Vn,Tn)}}}class Ai{constructor(r){this.dy=r}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Ai.INVALID=new Ai(-1);class ai{constructor(r,l,_){this.renderedLayout=r,this._imageData=l,this._renderedLines=new Ui(()=>Ai.INVALID),this._renderedLines._set(r.startLineNumber,_)}linesEquals(r){if(!this.scrollEquals(r))return!1;const _=this._renderedLines._get().lines;for(let k=0,H=_.length;k<H;k++)if(-1===_[k].dy)return!1;return!0}scrollEquals(r){return this.renderedLayout.startLineNumber===r.startLineNumber&&this.renderedLayout.endLineNumber===r.endLineNumber}_get(){const r=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:r.rendLineNumberStart,lines:r.lines}}onLinesChanged(r,l){return this._renderedLines.onLinesChanged(r,l)}onLinesDeleted(r,l){this._renderedLines.onLinesDeleted(r,l)}onLinesInserted(r,l){this._renderedLines.onLinesInserted(r,l)}onTokensChanged(r){return this._renderedLines.onTokensChanged(r)}}class go{constructor(r,l,_,k){this._backgroundFillData=go._createBackgroundFillData(l,_,k),this._buffers=[r.createImageData(l,_),r.createImageData(l,_)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const r=this._buffers[this._lastUsedBuffer];return r.data.set(this._backgroundFillData),r}static _createBackgroundFillData(r,l,_){const k=_.r,H=_.g,ie=_.b,he=_.a,we=new Uint8ClampedArray(r*l*4);let Le=0;for(let ke=0;ke<l;ke++)for(let ze=0;ze<r;ze++)we[Le]=k,we[Le+1]=H,we[Le+2]=ie,we[Le+3]=he,Le+=4;return we}}class Fs{constructor(r,l){this.samplingRatio=r,this.minimapLines=l}static compute(r,l,_){if(0===r.renderMinimap||!r.isSampling)return[null,[]];const k=r.pixelRatio,H=r.lineHeight,ie=r.scrollBeyondLastLine,{minimapLineCount:he}=$.gk.computeContainedMinimapLineCount({viewLineCount:l,scrollBeyondLastLine:ie,height:r.editorHeight,lineHeight:H,pixelRatio:k}),we=l/he,Le=we/2;if(!_||0===_.minimapLines.length){const en=[];if(en[0]=1,he>1){for(let On=0,Vn=he-1;On<Vn;On++)en[On]=Math.round(On*we+Le);en[he-1]=l}return[new Fs(we,en),[]]}const ke=_.minimapLines,ze=ke.length,qe=[];let it=0,bt=0,Dt=1,Ht=[],cn=null;for(let en=0;en<he;en++){const On=Math.max(Dt,Math.round(en*we)),Vn=Math.max(On,Math.round((en+1)*we));for(;it<ze&&ke[it]<On;){if(Ht.length<10){const Rn=it+1+bt;cn&&"deleted"===cn.type&&cn._oldIndex===it-1?cn.deleteToLineNumber++:(cn={type:"deleted",_oldIndex:it,deleteFromLineNumber:Rn,deleteToLineNumber:Rn},Ht.push(cn)),bt--}it++}let Tn;if(it<ze&&ke[it]<=Vn)Tn=ke[it],it++;else if(Tn=0===en?1:en+1===he?l:Math.round(en*we+Le),Ht.length<10){const Rn=it+1+bt;cn&&"inserted"===cn.type&&cn._i===en-1?cn.insertToLineNumber++:(cn={type:"inserted",_i:en,insertFromLineNumber:Rn,insertToLineNumber:Rn},Ht.push(cn)),bt++}qe[en]=Tn,Dt=Tn}if(Ht.length<10)for(;it<ze;){const en=it+1+bt;cn&&"deleted"===cn.type&&cn._oldIndex===it-1?cn.deleteToLineNumber++:(cn={type:"deleted",_oldIndex:it,deleteFromLineNumber:en,deleteToLineNumber:en},Ht.push(cn)),bt--,it++}else Ht=[{type:"flush"}];return[new Fs(we,qe),Ht]}modelLineToMinimapLine(r){return Math.min(this.minimapLines.length,Math.max(1,Math.round(r/this.samplingRatio)))}modelLineRangeToMinimapLineRange(r,l){let _=this.modelLineToMinimapLine(r)-1;for(;_>0&&this.minimapLines[_-1]>=r;)_--;let k=this.modelLineToMinimapLine(l)-1;for(;k+1<this.minimapLines.length&&this.minimapLines[k+1]<=l;)k++;if(_===k){const H=this.minimapLines[_];if(H<r||H>l)return null}return[_+1,k+1]}decorationLineRangeToMinimapLineRange(r,l){let _=this.modelLineToMinimapLine(r),k=this.modelLineToMinimapLine(l);return r!==l&&k===_&&(k===this.minimapLines.length?_>1&&_--:k++),[_,k]}onLinesDeleted(r){const l=r.toLineNumber-r.fromLineNumber+1;let _=this.minimapLines.length,k=0;for(let H=this.minimapLines.length-1;H>=0&&!(this.minimapLines[H]<r.fromLineNumber);H--)this.minimapLines[H]<=r.toLineNumber?(this.minimapLines[H]=Math.max(1,r.fromLineNumber-1),_=Math.min(_,H),k=Math.max(k,H)):this.minimapLines[H]-=l;return[_,k]}onLinesInserted(r){const l=r.toLineNumber-r.fromLineNumber+1;for(let _=this.minimapLines.length-1;_>=0&&!(this.minimapLines[_]<r.fromLineNumber);_--)this.minimapLines[_]+=l}}class bs extends Ce{constructor(r){super(r),this.tokensColorTracker=ae.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new ci(this._context.configuration,this._context.theme,this.tokensColorTracker);const[l]=Fs.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=l,this._shouldCheckSampling=!1,this._actual=new Qr(r.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const r=new ci(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(r)&&(this.options=r,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(r){return this._onOptionsMaybeChanged()}onCursorStateChanged(r){return this._selections=r.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(r){return!!r.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(r){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(r){if(this._samplingState){const l=this._samplingState.modelLineRangeToMinimapLineRange(r.fromLineNumber,r.toLineNumber);return!!l&&this._actual.onLinesChanged(l[0],l[1])}return this._actual.onLinesChanged(r.fromLineNumber,r.toLineNumber)}onLinesDeleted(r){if(this._samplingState){const[l,_]=this._samplingState.onLinesDeleted(r);return l<=_&&this._actual.onLinesChanged(l+1,_+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(r.fromLineNumber,r.toLineNumber)}onLinesInserted(r){return this._samplingState?(this._samplingState.onLinesInserted(r),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(r.fromLineNumber,r.toLineNumber)}onScrollChanged(r){return this._actual.onScrollChanged()}onThemeChanged(r){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(r){if(this._samplingState){const l=[];for(const _ of r.ranges){const k=this._samplingState.modelLineRangeToMinimapLineRange(_.fromLineNumber,_.toLineNumber);k&&l.push({fromLineNumber:k[0],toLineNumber:k[1]})}return!!l.length&&this._actual.onTokensChanged(l)}return this._actual.onTokensChanged(r.ranges)}onTokensColorsChanged(r){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(r){return this._actual.onZonesChanged()}prepareRender(r){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(r){let l=r.visibleRange.startLineNumber,_=r.visibleRange.endLineNumber;this._samplingState&&(l=this._samplingState.modelLineToMinimapLine(l),_=this._samplingState.modelLineToMinimapLine(_));const k={viewportContainsWhitespaceGaps:r.viewportData.whitespaceViewportData.length>0,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight,viewportStartLineNumber:l,viewportEndLineNumber:_,viewportStartLineNumberVerticalOffset:r.getVerticalOffsetForLineNumber(l),scrollTop:r.scrollTop,scrollLeft:r.scrollLeft,viewportWidth:r.viewportWidth,viewportHeight:r.viewportHeight};this._actual.render(k)}_recreateLineSampling(){this._minimapSelections=null;const r=Boolean(this._samplingState),[l,_]=Fs.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=l,r&&this._samplingState)for(const k of _)switch(k.type){case"deleted":this._actual.onLinesDeleted(k.deleteFromLineNumber,k.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(k.insertFromLineNumber,k.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(r){return this._context.viewModel.getLineContent(this._samplingState?this._samplingState.minimapLines[r-1]:r)}getLineMaxColumn(r){return this._context.viewModel.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[r-1]:r)}getMinimapLinesRenderingData(r,l,_){if(this._samplingState){const k=[];for(let H=0,ie=l-r+1;H<ie;H++)k[H]=_[H]?this._context.viewModel.getViewLineData(this._samplingState.minimapLines[r+H-1]):null;return k}return this._context.viewModel.getMinimapLinesRenderingData(r,l,_).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const r of this._selections){const[l,_]=this._samplingState.decorationLineRangeToMinimapLineRange(r.startLineNumber,r.endLineNumber);this._minimapSelections.push(new re.Y(l,r.startColumn,_,r.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(r,l){let _;if(this._samplingState){const ie=this._samplingState.minimapLines[l-1];_=new hn.e(this._samplingState.minimapLines[r-1],1,ie,this._context.viewModel.getLineMaxColumn(ie))}else _=new hn.e(r,1,l,this._context.viewModel.getLineMaxColumn(l));const k=this._context.viewModel.getDecorationsInViewport(_);if(this._samplingState){const H=[];for(const ie of k){if(!ie.options.minimap)continue;const he=ie.range,we=this._samplingState.modelLineToMinimapLine(he.startLineNumber),Le=this._samplingState.modelLineToMinimapLine(he.endLineNumber);H.push(new be.$l(new hn.e(we,he.startColumn,Le,he.endColumn),ie.options))}return H}return k}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(r){this._samplingState&&(r=this._samplingState.minimapLines[r-1]),this._context.viewModel.revealRange("mouse",!1,new hn.e(r,1,r,1),1,0)}setScrollTop(r){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:r},1)}}class Qr extends C.JT{constructor(r,l){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=r,this._model=l,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(lo.ov3),this._domNode=(0,ce.X)(document.createElement("div")),Ae.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,ce.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,ce.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,ce.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,ce.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,ce.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=B.mu(this._domNode.domNode,"mousedown",_=>{if(_.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(_.leftButton&&this._lastRenderData){const Le=B.i(this._slider.domNode);this._startSliderDragging(_.buttons,_.posx,Le.top+Le.height/2,_.posy,this._lastRenderData.renderedLayout)}return}let we=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*_.browserEvent.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;we=Math.min(we,this._model.getLineCount()),this._model.revealLineNumber(we)}),this._sliderMouseMoveMonitor=new V.Z,this._sliderMouseDownListener=B.mu(this._slider.domNode,"mousedown",_=>{_.preventDefault(),_.stopPropagation(),_.leftButton&&this._lastRenderData&&this._startSliderDragging(_.buttons,_.posx,_.posy,_.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=ve.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=B.nm(this._domNode.domNode,ve.t.Start,_=>{_.preventDefault(),_.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(_))},{passive:!1}),this._sliderTouchMoveListener=B.nm(this._domNode.domNode,ve.t.Change,_=>{_.preventDefault(),_.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(_)},{passive:!1}),this._sliderTouchEndListener=B.mu(this._domNode.domNode,ve.t.End,_=>{_.preventDefault(),_.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(r,l,_,k,H){this._slider.toggleClassName("active",!0);const ie=(he,we)=>{const Le=Math.abs(we-l);this._model.setScrollTop(z.ED&&Le>140?H.scrollTop:H.getDesiredScrollTopFromDelta(he-_))};k!==_&&ie(k,l),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,r,V.e,he=>ie(he.posy,he.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(r){const l=this._domNode.domNode.getBoundingClientRect().top,_=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(r.pageY-l);this._model.setScrollTop(_)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new go(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(r,l){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(r,l)}onLinesDeleted(r,l){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(r,l),!0}onLinesInserted(r,l){return this._lastRenderData&&this._lastRenderData.onLinesInserted(r,l),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(lo.ov3),this._renderDecorations=!0,!0}onTokensChanged(r){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(r)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(r){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(r.scrollLeft+r.viewportWidth>=r.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const _=_t.create(this._model.options,r.viewportStartLineNumber,r.viewportEndLineNumber,r.viewportStartLineNumberVerticalOffset,r.viewportHeight,r.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),r.scrollTop,r.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(_.sliderNeeded?"block":"none"),this._slider.setTop(_.sliderTop),this._slider.setHeight(_.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(_.sliderHeight),this.renderDecorations(_),this._lastRenderData=this.renderLines(_)}renderDecorations(r){if(this._renderDecorations){this._renderDecorations=!1;const l=this._model.getSelections();l.sort(hn.e.compareRangesUsingStarts);const _=this._model.getMinimapDecorationsInViewport(r.startLineNumber,r.endLineNumber);_.sort((qe,it)=>(qe.options.zIndex||0)-(it.options.zIndex||0));const{canvasInnerWidth:k,canvasInnerHeight:H}=this._model.options,ie=this._model.options.minimapLineHeight,he=this._model.options.minimapCharWidth,we=this._model.getOptions().tabSize,Le=this._decorationsCanvas.domNode.getContext("2d");Le.clearRect(0,0,k,H);const ke=new bo(r.startLineNumber,r.endLineNumber,!1);this._renderSelectionLineHighlights(Le,l,ke,r,ie),this._renderDecorationsLineHighlights(Le,_,ke,r,ie);const ze=new bo(r.startLineNumber,r.endLineNumber,null);this._renderSelectionsHighlights(Le,l,ze,r,ie,we,he,k),this._renderDecorationsHighlights(Le,_,ze,r,ie,we,he,k)}}_renderSelectionLineHighlights(r,l,_,k,H){if(!this._selectionColor||this._selectionColor.isTransparent())return;r.fillStyle=this._selectionColor.transparent(.5).toString();let ie=0,he=0;for(const we of l){const Le=Math.max(k.startLineNumber,we.startLineNumber),ke=Math.min(k.endLineNumber,we.endLineNumber);if(Le>ke)continue;for(let it=Le;it<=ke;it++)_.set(it,!0);const ze=(Le-k.startLineNumber)*H,qe=(ke-k.startLineNumber)*H+H;he>=ze||(he>ie&&r.fillRect($.y0,ie,r.canvas.width,he-ie),ie=ze),he=qe}he>ie&&r.fillRect($.y0,ie,r.canvas.width,he-ie)}_renderDecorationsLineHighlights(r,l,_,k,H){const ie=new Map;for(let he=l.length-1;he>=0;he--){const we=l[he],Le=we.options.minimap;if(!Le||Le.position!==Zt.F5.Inline)continue;const ke=Math.max(k.startLineNumber,we.range.startLineNumber),ze=Math.min(k.endLineNumber,we.range.endLineNumber);if(ke>ze)continue;const qe=Le.getColor(this._theme.value);if(!qe||qe.isTransparent())continue;let it=ie.get(qe.toString());it||(it=qe.transparent(.5).toString(),ie.set(qe.toString(),it)),r.fillStyle=it;for(let bt=ke;bt<=ze;bt++)_.has(bt)||(_.set(bt,!0),r.fillRect($.y0,(ke-k.startLineNumber)*H,r.canvas.width,H))}}_renderSelectionsHighlights(r,l,_,k,H,ie,he,we){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const Le of l){const ke=Math.max(k.startLineNumber,Le.startLineNumber),ze=Math.min(k.endLineNumber,Le.endLineNumber);if(!(ke>ze))for(let qe=ke;qe<=ze;qe++)this.renderDecorationOnLine(r,_,Le,this._selectionColor,k,qe,H,H,ie,he,we)}}_renderDecorationsHighlights(r,l,_,k,H,ie,he,we){for(const Le of l){const ke=Le.options.minimap;if(!ke)continue;const ze=Math.max(k.startLineNumber,Le.range.startLineNumber),qe=Math.min(k.endLineNumber,Le.range.endLineNumber);if(ze>qe)continue;const it=ke.getColor(this._theme.value);if(it&&!it.isTransparent())for(let bt=ze;bt<=qe;bt++)switch(ke.position){case Zt.F5.Inline:this.renderDecorationOnLine(r,_,Le.range,it,k,bt,H,H,ie,he,we);continue;case Zt.F5.Gutter:this.renderDecoration(r,it,2,(bt-k.startLineNumber)*H,2,H);continue}}}renderDecorationOnLine(r,l,_,k,H,ie,he,we,Le,ke,ze){const qe=(ie-H.startLineNumber)*we;if(qe+he<0||qe>this._model.options.canvasInnerHeight)return;const{startLineNumber:it,endLineNumber:bt}=_,Dt=it===ie?_.startColumn:1,Nt=bt===ie?_.endColumn:this._model.getLineMaxColumn(ie),Ht=this.getXOffsetForPosition(l,ie,Dt,Le,ke,ze),cn=this.getXOffsetForPosition(l,ie,Nt,Le,ke,ze);this.renderDecoration(r,k,Ht,qe,cn-Ht,he)}getXOffsetForPosition(r,l,_,k,H,ie){if(1===_)return $.y0;if((_-1)*H>=ie)return ie;let we=r.get(l);if(!we){const Le=this._model.getLineContent(l);we=[$.y0];let ke=$.y0;for(let ze=1;ze<Le.length+1;ze++){const qe=Le.charCodeAt(ze-1),bt=ke+(9===qe?k*H:Sn.K7(qe)?2*H:H);if(bt>=ie){we[ze]=ie;break}we[ze]=bt,ke=bt}r.set(l,we)}return _-1<we.length?we[_-1]:ie}renderDecoration(r,l,_,k,H,ie){r.fillStyle=l&&l.toString()||"",r.fillRect(_,k,H,ie)}renderLines(r){const l=r.startLineNumber,_=r.endLineNumber,k=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(r)){const eo=this._lastRenderData._get();return new ai(r,eo.imageData,eo.lines)}const H=this._getBuffer();if(!H)return null;const[ie,he,we]=Qr._renderUntouchedLines(H,l,_,k,this._lastRenderData),Le=this._model.getMinimapLinesRenderingData(l,_,we),ke=this._model.getOptions().tabSize,ze=this._model.options.defaultBackgroundColor,qe=this._model.options.backgroundColor,it=this._model.options.foregroundAlpha,bt=this._model.tokensColorTracker,Dt=bt.backgroundIsLight(),Nt=this._model.options.renderMinimap,Ht=this._model.options.charRenderer(),cn=this._model.options.fontScale,en=this._model.options.minimapCharWidth,Vn=(1===Nt?2:3)*cn,Tn=k>Vn?Math.floor((k-Vn)/2):0,Rn=qe.a/255,En=new ne(Math.round((qe.r-ze.r)*Rn+ze.r),Math.round((qe.g-ze.g)*Rn+ze.g),Math.round((qe.b-ze.b)*Rn+ze.b),255);let vn=0;const Ni=[];for(let eo=0,ii=_-l+1;eo<ii;eo++)we[eo]&&Qr._renderLine(H,En,qe.a,Dt,Nt,en,bt,it,Ht,vn,Tn,ke,Le[eo],cn,k),Ni[eo]=new Ai(vn),vn+=k;const li=-1===ie?0:ie,mo=(-1===he?H.height:he)-li;return this._canvas.domNode.getContext("2d").putImageData(H,0,0,0,li,H.width,mo),new ai(r,H,Ni)}static _renderUntouchedLines(r,l,_,k,H){const ie=[];if(!H){for(let En=0,vn=_-l+1;En<vn;En++)ie[En]=!0;return[-1,-1,ie]}const he=H._get(),we=he.imageData.data,Le=he.rendLineNumberStart,ke=he.lines,ze=ke.length,qe=r.width,it=r.data,bt=(_-l+1)*k*qe*4;let Dt=-1,Nt=-1,Ht=-1,cn=-1,en=-1,On=-1,Vn=0;for(let En=l;En<=_;En++){const vn=En-l,Ni=En-Le,li=Ni>=0&&Ni<ze?ke[Ni].dy:-1;if(-1===li){ie[vn]=!0,Vn+=k;continue}const Mo=li*qe*4,mo=(li+k)*qe*4,ss=Vn*qe*4,eo=(Vn+k)*qe*4;cn===Mo&&On===ss?(cn=mo,On=eo):(-1!==Ht&&(it.set(we.subarray(Ht,cn),en),-1===Dt&&0===Ht&&Ht===en&&(Dt=cn),-1===Nt&&cn===bt&&Ht===en&&(Nt=Ht)),Ht=Mo,cn=mo,en=ss,On=eo),ie[vn]=!1,Vn+=k}return-1!==Ht&&(it.set(we.subarray(Ht,cn),en),-1===Dt&&0===Ht&&Ht===en&&(Dt=cn),-1===Nt&&cn===bt&&Ht===en&&(Nt=Ht)),[-1===Dt?-1:Dt/(4*qe),-1===Nt?-1:Nt/(4*qe),ie]}static _renderLine(r,l,_,k,H,ie,he,we,Le,ke,ze,qe,it,bt,Dt){const Nt=it.content,Ht=it.tokens,cn=r.width-ie,en=1===Dt;let On=$.y0,Vn=0,Tn=0;for(let Rn=0,En=Ht.getCount();Rn<En;Rn++){const vn=Ht.getEndOffset(Rn),Ni=Ht.getForeground(Rn),li=he.getColor(Ni);for(;Vn<vn;Vn++){if(On>cn)return;const Mo=Nt.charCodeAt(Vn);if(9===Mo){const mo=qe-(Vn+Tn)%qe;Tn+=mo-1,On+=mo*ie}else if(32===Mo)On+=ie;else{const mo=Sn.K7(Mo)?2:1;for(let ss=0;ss<mo;ss++)if(2===H?Le.blockRenderChar(r,On,ke+ze,li,we,l,_,en):Le.renderChar(r,On,ke+ze,Mo,li,we,l,_,bt,k,en),On+=ie,On>cn)return}}}}}class bo{constructor(r,l,_){this._startLineNumber=r,this._endLineNumber=l,this._defaultValue=_,this._values=[];for(let k=0,H=this._endLineNumber-this._startLineNumber+1;k<H;k++)this._values[k]=_}has(r){return this.get(r)!==this._defaultValue}set(r,l){r<this._startLineNumber||r>this._endLineNumber||(this._values[r-this._startLineNumber]=l)}get(r){return r<this._startLineNumber||r>this._endLineNumber?this._defaultValue:this._values[r-this._startLineNumber]}}(0,Pn.Ic)((Te,r)=>{const l=Te.getColor(lo.CA6);l&&r.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${l}; }`);const _=Te.getColor(lo.Xy4);_&&r.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${_}; }`);const k=Te.getColor(lo.brw);k&&r.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${k}; }`);const H=Te.getColor(lo._wn);H&&r.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${H} -6px 0 6px -6px inset; }`)}),p(3180);class Yr extends Ce{constructor(r){super(r);const _=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,this._domNode=(0,ce.X)(document.createElement("div")),Ae.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(r){const _=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=_.verticalScrollbarWidth,this._minimapWidth=_.minimap.minimapWidth,this._horizontalScrollbarHeight=_.horizontalScrollbarHeight,this._editorHeight=_.height,this._editorWidth=_.width,!0}addWidget(r){const l=(0,ce.X)(r.getDomNode());this._widgets[r.getId()]={widget:r,preference:null,domNode:l},l.setPosition("absolute"),l.setAttribute("widgetId",r.getId()),this._domNode.appendChild(l),this.setShouldRender()}setWidgetPosition(r,l){const _=this._widgets[r.getId()];return _.preference!==l&&(_.preference=l,this.setShouldRender(),!0)}removeWidget(r){const l=r.getId();if(this._widgets.hasOwnProperty(l)){const k=this._widgets[l].domNode.domNode;delete this._widgets[l],k.parentNode.removeChild(k),this.setShouldRender()}}_renderWidget(r){const l=r.domNode;null!==r.preference?0===r.preference?(l.setTop(0),l.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===r.preference?(l.setTop(this._editorHeight-l.domNode.clientHeight-2*this._horizontalScrollbarHeight),l.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===r.preference&&(l.setTop(0),l.domNode.style.right="50%"):l.unsetTop()}prepareRender(r){}render(r){this._domNode.setWidth(this._editorWidth);const l=Object.keys(this._widgets);for(let _=0,k=l.length;_<k;_++)this._renderWidget(this._widgets[l[_]])}}class Ka{constructor(r,l){const _=r.options;this.lineHeight=_.get(59),this.pixelRatio=_.get(129),this.overviewRulerLanes=_.get(74),this.renderBorder=_.get(73);const k=l.getColor(gn.zw);this.borderColor=k?k.toString():null,this.hideCursor=_.get(52);const H=l.getColor(gn.n0);this.cursorColor=H?H.transparent(.7).toString():null,this.themeType=l.type;const ie=_.get(65),we=ie.side,Le=ie.enabled?l.getColor(gn.e_)||Mi.RW.getDefaultBackground():null;this.backgroundColor=null===Le||"left"===we?null:Mn.Il.Format.CSS.formatHex(Le);const ze=_.get(131).overviewRuler;this.top=ze.top,this.right=ze.right,this.domWidth=ze.width,this.domHeight=ze.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[qe,it]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=qe,this.w=it}_initLanes(r,l,_){const k=l-r;if(_>=3){const H=Math.floor(k/3),ie=Math.floor(k/3),he=k-H-ie,Le=r+H;return[[0,r,Le,r,r+H+he,r,Le,r],[0,H,he,H+he,ie,H+he+ie,he+ie,H+he+ie]]}if(2===_){const H=Math.floor(k/2),ie=k-H;return[[0,r,r,r,r+H,r,r,r],[0,H,H,H,ie,H+ie,H+ie,H+ie]]}return[[0,r,r,r,r,r,r,r],[0,k,k,k,k,k,k,k]]}equals(r){return this.lineHeight===r.lineHeight&&this.pixelRatio===r.pixelRatio&&this.overviewRulerLanes===r.overviewRulerLanes&&this.renderBorder===r.renderBorder&&this.borderColor===r.borderColor&&this.hideCursor===r.hideCursor&&this.cursorColor===r.cursorColor&&this.themeType===r.themeType&&this.backgroundColor===r.backgroundColor&&this.top===r.top&&this.right===r.right&&this.domWidth===r.domWidth&&this.domHeight===r.domHeight&&this.canvasWidth===r.canvasWidth&&this.canvasHeight===r.canvasHeight}}class xr extends Ce{constructor(r){super(r),this._domNode=(0,ce.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Mi.RW.onDidChange(l=>{l.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(r){const l=new Ka(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(l)||(this._settings=l,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,r&&this._render(),0))}onConfigurationChanged(r){return this._updateSettings(!1)}onCursorStateChanged(r){this._cursorPositions=[];for(let l=0,_=r.selections.length;l<_;l++)this._cursorPositions[l]=r.selections[l].getPosition();return this._cursorPositions.sort(sn.L.compare),!0}onDecorationsChanged(r){return!!r.affectsOverviewRuler}onFlushed(r){return!0}onScrollChanged(r){return r.scrollHeightChanged}onZonesChanged(r){return!0}onThemeChanged(r){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(r){}render(r){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const r=this._settings.canvasWidth,l=this._settings.canvasHeight,_=this._settings.lineHeight,k=this._context.viewLayout,ie=l/this._context.viewLayout.getScrollHeight(),he=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),we=6*this._settings.pixelRatio|0,Le=we/2|0,ke=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?ke.clearRect(0,0,r,l):(ke.fillStyle=this._settings.backgroundColor,ke.fillRect(0,0,r,l));const ze=this._settings.x,qe=this._settings.w;he.sort(be.SQ.cmp);for(const it of he){const Dt=it.data;ke.fillStyle=it.color;let Nt=0,Ht=0,cn=0;for(let en=0,On=Dt.length/3;en<On;en++){const Vn=Dt[3*en],Rn=Dt[3*en+2];let En=k.getVerticalOffsetForLineNumber(Dt[3*en+1])*ie|0,vn=(k.getVerticalOffsetForLineNumber(Rn)+_)*ie|0;if(vn-En<we){let li=(En+vn)/2|0;li<Le?li=Le:li+Le>l&&(li=l-Le),En=li-Le,vn=li+Le}En>cn+1||Vn!==Nt?(0!==en&&ke.fillRect(ze[Nt],Ht,qe[Nt],cn-Ht),Nt=Vn,Ht=En,cn=vn):vn>cn&&(cn=vn)}ke.fillRect(ze[Nt],Ht,qe[Nt],cn-Ht)}if(!this._settings.hideCursor&&this._settings.cursorColor){const it=2*this._settings.pixelRatio|0,bt=it/2|0,Dt=this._settings.x[7],Nt=this._settings.w[7];ke.fillStyle=this._settings.cursorColor;let Ht=-100,cn=-100;for(let en=0,On=this._cursorPositions.length;en<On;en++){let Tn=k.getVerticalOffsetForLineNumber(this._cursorPositions[en].lineNumber)*ie|0;Tn<bt?Tn=bt:Tn+bt>l&&(Tn=l-bt);const Rn=Tn-bt,En=Rn+it;Rn>cn+1?(0!==en&&ke.fillRect(Dt,Ht,Nt,cn-Ht),Ht=Rn,cn=En):En>cn&&(cn=En)}ke.fillRect(Dt,Ht,Nt,cn-Ht)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(ke.beginPath(),ke.lineWidth=1,ke.strokeStyle=this._settings.borderColor,ke.moveTo(0,0),ke.lineTo(0,l),ke.stroke(),ke.moveTo(0,0),ke.lineTo(r,0),ke.stroke())}}var ts=p(31321);class hr extends ue{constructor(r,l){super(),this._context=r;const _=this._context.configuration.options;this._domNode=(0,ce.X)(document.createElement("canvas")),this._domNode.setClassName(l),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new ts.Tj(k=>this._context.viewLayout.getVerticalOffsetForLineNumber(k)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(_.get(59)),this._zoneManager.setPixelRatio(_.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(r){const l=this._context.configuration.options;return r.hasChanged(59)&&(this._zoneManager.setLineHeight(l.get(59)),this._render()),r.hasChanged(129)&&(this._zoneManager.setPixelRatio(l.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(r){return this._render(),!0}onScrollChanged(r){return r.scrollHeightChanged&&(this._zoneManager.setOuterHeight(r.scrollHeight),this._render()),!0}onZonesChanged(r){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(r){this._domNode.setTop(r.top),this._domNode.setRight(r.right);let l=!1;l=this._zoneManager.setDOMWidth(r.width)||l,l=this._zoneManager.setDOMHeight(r.height)||l,l&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(r){this._zoneManager.setZones(r),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const r=this._zoneManager.getCanvasWidth(),l=this._zoneManager.getCanvasHeight(),_=this._zoneManager.resolveColorZones(),k=this._zoneManager.getId2Color(),H=this._domNode.domNode.getContext("2d");return H.clearRect(0,0,r,l),_.length>0&&this._renderOneLane(H,_,k,r),!0}_renderOneLane(r,l,_,k){let H=0,ie=0,he=0;for(const we of l){const Le=we.colorId,ke=we.from,ze=we.to;Le!==H?(r.fillRect(0,ie,k,he-ie),H=Le,r.fillStyle=_[H],ie=ke,he=ze):he>=ke?he=Math.max(he,ze):(r.fillRect(0,ie,k,he-ie),ie=ke,he=ze)}r.fillRect(0,ie,k,he-ie)}}p(42835);class vl extends Ce{constructor(r){super(r),this.domNode=(0,ce.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const l=this._context.configuration.options;this._rulers=l.get(91),this._typicalHalfwidthCharacterWidth=l.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(r){const l=this._context.configuration.options;return this._rulers=l.get(91),this._typicalHalfwidthCharacterWidth=l.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(r){return r.scrollHeightChanged}prepareRender(r){}_ensureRulersCount(){const r=this._renderedRulers.length,l=this._rulers.length;if(r===l)return;if(r<l){const{tabSize:k}=this._context.viewModel.model.getOptions(),H=k;let ie=l-r;for(;ie>0;){const he=(0,ce.X)(document.createElement("div"));he.setClassName("view-ruler"),he.setWidth(H),this.domNode.appendChild(he),this._renderedRulers.push(he),ie--}return}let _=r-l;for(;_>0;){const k=this._renderedRulers.pop();this.domNode.removeChild(k),_--}}render(r){this._ensureRulersCount();for(let l=0,_=this._rulers.length;l<_;l++){const k=this._renderedRulers[l],H=this._rulers[l];k.setBoxShadow(H.color?`1px 0 0 0 ${H.color} inset`:""),k.setHeight(Math.min(r.scrollHeight,1e6)),k.setLeft(H.column*this._typicalHalfwidthCharacterWidth)}}}(0,Pn.Ic)((Te,r)=>{const l=Te.getColor(gn.zk);l&&r.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${l} inset; }`)}),p(78432);class Wr extends Ce{constructor(r){super(r),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const _=this._context.configuration.options.get(92);this._useShadows=_.useShadows,this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const r=this._useShadows&&this._scrollTop>0;return this._shouldShow!==r&&(this._shouldShow=r,!0)}getDomNode(){return this._domNode}_updateWidth(){const l=this._context.configuration.options.get(131);this._width=0===l.minimap.renderMinimap||l.minimap.minimapWidth>0&&0===l.minimap.minimapLeft?l.width:l.width-l.minimap.minimapWidth-l.verticalScrollbarWidth}onConfigurationChanged(r){const _=this._context.configuration.options.get(92);return this._useShadows=_.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(r){return this._scrollTop=r.scrollTop,this._updateShouldShow()}prepareRender(r){}render(r){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,Pn.Ic)((Te,r)=>{const l=Te.getColor(lo._wn);l&&r.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${l} 0 6px 6px -6px inset; }`)}),p(48761);class Jn{constructor(r){this.left=r.left,this.width=r.width,this.startStyle=null,this.endStyle=null}}class oa{constructor(r,l){this.lineNumber=r,this.ranges=l}}function Vr(Te){return new Jn(Te)}function Bs(Te){return new oa(Te.lineNumber,Te.ranges.map(Vr))}let fu=(()=>{class Te extends xn{constructor(l){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=l;const _=this._context.configuration.options;this._lineHeight=_.get(59),this._roundedSelection=_.get(90),this._typicalHalfwidthCharacterWidth=_.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(l){const _=this._context.configuration.options;return this._lineHeight=_.get(59),this._roundedSelection=_.get(90),this._typicalHalfwidthCharacterWidth=_.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(l){return this._selections=l.selections.slice(0),!0}onDecorationsChanged(l){return!0}onFlushed(l){return!0}onLinesChanged(l){return!0}onLinesDeleted(l){return!0}onLinesInserted(l){return!0}onScrollChanged(l){return l.scrollTopChanged}onZonesChanged(l){return!0}_visibleRangesHaveGaps(l){for(let _=0,k=l.length;_<k;_++)if(l[_].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(l,_,k){const H=this._typicalHalfwidthCharacterWidth/4;let ie=null,he=null;if(k&&k.length>0&&_.length>0){const we=_[0].lineNumber;if(we===l.startLineNumber)for(let ke=0;!ie&&ke<k.length;ke++)k[ke].lineNumber===we&&(ie=k[ke].ranges[0]);const Le=_[_.length-1].lineNumber;if(Le===l.endLineNumber)for(let ke=k.length-1;!he&&ke>=0;ke--)k[ke].lineNumber===Le&&(he=k[ke].ranges[0]);ie&&!ie.startStyle&&(ie=null),he&&!he.startStyle&&(he=null)}for(let we=0,Le=_.length;we<Le;we++){const ke=_[we].ranges[0],ze=ke.left,qe=ke.left+ke.width,it={top:0,bottom:0},bt={top:0,bottom:0};if(we>0){const Dt=_[we-1].ranges[0].left,Nt=_[we-1].ranges[0].left+_[we-1].ranges[0].width;Jr(ze-Dt)<H?it.top=2:ze>Dt&&(it.top=1),Jr(qe-Nt)<H?bt.top=2:Dt<qe&&qe<Nt&&(bt.top=1)}else ie&&(it.top=ie.startStyle.top,bt.top=ie.endStyle.top);if(we+1<Le){const Dt=_[we+1].ranges[0].left,Nt=_[we+1].ranges[0].left+_[we+1].ranges[0].width;Jr(ze-Dt)<H?it.bottom=2:Dt<ze&&ze<Nt&&(it.bottom=1),Jr(qe-Nt)<H?bt.bottom=2:qe<Nt&&(bt.bottom=1)}else he&&(it.bottom=he.startStyle.bottom,bt.bottom=he.endStyle.bottom);ke.startStyle=it,ke.endStyle=bt}}_getVisibleRangesWithStyle(l,_,k){const ie=(_.linesVisibleRangesForRange(l,!0)||[]).map(Bs);return!this._visibleRangesHaveGaps(ie)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(_.visibleRange,ie,k),ie}_createSelectionPiece(l,_,k,H,ie){return'<div class="cslr '+k+'" style="top:'+l.toString()+"px;left:"+H.toString()+"px;width:"+ie.toString()+"px;height:"+_+'px;"></div>'}_actualRenderOneSelection(l,_,k,H){if(0===H.length)return;const ie=!!H[0].ranges[0].startStyle,he=this._lineHeight.toString(),we=(this._lineHeight-1).toString(),Le=H[0].lineNumber,ke=H[H.length-1].lineNumber;for(let ze=0,qe=H.length;ze<qe;ze++){const it=H[ze],bt=it.lineNumber,Dt=bt-_,Nt=!k||bt!==ke&&bt!==Le?he:we,Ht=k&&bt===Le?1:0;let cn="",en="";for(let On=0,Vn=it.ranges.length;On<Vn;On++){const Tn=it.ranges[On];if(ie){const En=Tn.startStyle,vn=Tn.endStyle;if(1===En.top||1===En.bottom){cn+=this._createSelectionPiece(Ht,Nt,Te.SELECTION_CLASS_NAME,Tn.left-Te.ROUNDED_PIECE_WIDTH,Te.ROUNDED_PIECE_WIDTH);let Ni=Te.EDITOR_BACKGROUND_CLASS_NAME;1===En.top&&(Ni+=" "+Te.SELECTION_TOP_RIGHT),1===En.bottom&&(Ni+=" "+Te.SELECTION_BOTTOM_RIGHT),cn+=this._createSelectionPiece(Ht,Nt,Ni,Tn.left-Te.ROUNDED_PIECE_WIDTH,Te.ROUNDED_PIECE_WIDTH)}if(1===vn.top||1===vn.bottom){cn+=this._createSelectionPiece(Ht,Nt,Te.SELECTION_CLASS_NAME,Tn.left+Tn.width,Te.ROUNDED_PIECE_WIDTH);let Ni=Te.EDITOR_BACKGROUND_CLASS_NAME;1===vn.top&&(Ni+=" "+Te.SELECTION_TOP_LEFT),1===vn.bottom&&(Ni+=" "+Te.SELECTION_BOTTOM_LEFT),cn+=this._createSelectionPiece(Ht,Nt,Ni,Tn.left+Tn.width,Te.ROUNDED_PIECE_WIDTH)}}let Rn=Te.SELECTION_CLASS_NAME;if(ie){const En=Tn.startStyle,vn=Tn.endStyle;0===En.top&&(Rn+=" "+Te.SELECTION_TOP_LEFT),0===En.bottom&&(Rn+=" "+Te.SELECTION_BOTTOM_LEFT),0===vn.top&&(Rn+=" "+Te.SELECTION_TOP_RIGHT),0===vn.bottom&&(Rn+=" "+Te.SELECTION_BOTTOM_RIGHT)}en+=this._createSelectionPiece(Ht,Nt,Rn,Tn.left,Tn.width)}l[Dt][0]+=cn,l[Dt][1]+=en}}prepareRender(l){const _=[],k=l.visibleRange.startLineNumber,H=l.visibleRange.endLineNumber;for(let he=k;he<=H;he++)_[he-k]=["",""];const ie=[];for(let he=0,we=this._selections.length;he<we;he++){const Le=this._selections[he];if(Le.isEmpty()){ie[he]=null;continue}const ke=this._getVisibleRangesWithStyle(Le,l,this._previousFrameVisibleRangesWithStyle[he]);ie[he]=ke,this._actualRenderOneSelection(_,k,this._selections.length>1,ke)}this._previousFrameVisibleRangesWithStyle=ie,this._renderResult=_.map(([he,we])=>he+we)}render(l,_){if(!this._renderResult)return"";const k=_-l;return k<0||k>=this._renderResult.length?"":this._renderResult[k]}}return Te.SELECTION_CLASS_NAME="selected-text",Te.SELECTION_TOP_LEFT="top-left-radius",Te.SELECTION_BOTTOM_LEFT="bottom-left-radius",Te.SELECTION_TOP_RIGHT="top-right-radius",Te.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Te.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Te.ROUNDED_PIECE_WIDTH=10,Te})();function Jr(Te){return Te<0?-Te:Te}(0,Pn.Ic)((Te,r)=>{const l=Te.getColor(lo.hEj);l&&r.addRule(`.monaco-editor .focused .selected-text { background-color: ${l}; }`);const _=Te.getColor(lo.ES4);_&&r.addRule(`.monaco-editor .selected-text { background-color: ${_}; }`);const k=Te.getColor(lo.yb5);k&&!k.isTransparent()&&r.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${k}; }`)}),p(9442);class sa{constructor(r,l,_,k,H,ie){this.top=r,this.left=l,this.width=_,this.height=k,this.textContent=H,this.textContentClassName=ie}}class $a{constructor(r){this._context=r;const l=this._context.configuration.options,_=l.get(44);this._cursorStyle=l.get(24),this._lineHeight=l.get(59),this._typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(l.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${gi.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,qt.N)(this._domNode,_),this._domNode.setDisplay("none"),this._position=new sn.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(r){const l=this._context.configuration.options,_=l.get(44);return this._cursorStyle=l.get(24),this._lineHeight=l.get(59),this._typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(l.get(27),this._typicalHalfwidthCharacterWidth),(0,qt.N)(this._domNode,_),!0}onCursorPositionChanged(r){return this._position=r,!0}_getGraphemeAwarePosition(){const{lineNumber:r,column:l}=this._position,_=this._context.viewModel.getLineContent(r),[k,H]=Sn.J_(_,l-1);return[new sn.L(r,k+1),_.substring(k,H)]}_prepareRender(r){let l="";const[_,k]=this._getGraphemeAwarePosition();if(this._cursorStyle===$.d2.Line||this._cursorStyle===$.d2.LineThin){const qe=r.visibleRangeForPosition(_);if(!qe||qe.outsideRenderedLine)return null;let it;this._cursorStyle===$.d2.Line?(it=B.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),it>2&&(l=k)):it=B.Uh(1);let bt=qe.left;it>=2&&bt>=1&&(bt-=1);const Dt=r.getVerticalOffsetForLineNumber(_.lineNumber)-r.bigNumbersDelta;return new sa(Dt,bt,it,this._lineHeight,l,"")}const H=r.linesVisibleRangesForRange(new hn.e(_.lineNumber,_.column,_.lineNumber,_.column+k.length),!1);if(!H||0===H.length)return null;const ie=H[0];if(ie.outsideRenderedLine||0===ie.ranges.length)return null;const he=ie.ranges[0],we=he.width<1?this._typicalHalfwidthCharacterWidth:he.width;let Le="";if(this._cursorStyle===$.d2.Block){const qe=this._context.viewModel.getViewLineData(_.lineNumber);l=k;const it=qe.tokens.findTokenIndexAtOffset(_.column-1);Le=qe.tokens.getClassName(it)}let ke=r.getVerticalOffsetForLineNumber(_.lineNumber)-r.bigNumbersDelta,ze=this._lineHeight;return(this._cursorStyle===$.d2.Underline||this._cursorStyle===$.d2.UnderlineThin)&&(ke+=this._lineHeight-2,ze=2),new sa(ke,he.left,we,ze,l,Le)}prepareRender(r){this._renderData=this._prepareRender(r)}render(r){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${gi.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let dc=(()=>{class Te extends Ce{constructor(l){super(l);const _=this._context.configuration.options;this._readOnly=_.get(81),this._cursorBlinking=_.get(22),this._cursorStyle=_.get(24),this._cursorSmoothCaretAnimation=_.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new $a(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,ce.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new We._F,this._cursorFlatBlinkInterval=new We.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(l){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(l){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(l){const _=this._context.configuration.options;this._readOnly=_.get(81),this._cursorBlinking=_.get(22),this._cursorStyle=_.get(24),this._cursorSmoothCaretAnimation=_.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(l);for(let k=0,H=this._secondaryCursors.length;k<H;k++)this._secondaryCursors[k].onConfigurationChanged(l);return!0}_onCursorPositionChanged(l,_){if(this._primaryCursor.onCursorPositionChanged(l),this._updateBlinking(),this._secondaryCursors.length<_.length){const k=_.length-this._secondaryCursors.length;for(let H=0;H<k;H++){const ie=new $a(this._context);this._domNode.domNode.insertBefore(ie.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(ie)}}else if(this._secondaryCursors.length>_.length){const k=this._secondaryCursors.length-_.length;for(let H=0;H<k;H++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let k=0;k<_.length;k++)this._secondaryCursors[k].onCursorPositionChanged(_[k])}onCursorStateChanged(l){const _=[];for(let H=0,ie=l.selections.length;H<ie;H++)_[H]=l.selections[H].getPosition();this._onCursorPositionChanged(_[0],_.slice(1));const k=l.selections[0].isEmpty();return this._selectionIsEmpty!==k&&(this._selectionIsEmpty=k,this._updateDomClassName()),!0}onDecorationsChanged(l){return!0}onFlushed(l){return!0}onFocusChanged(l){return this._editorHasFocus=l.isFocused,this._updateBlinking(),!1}onLinesChanged(l){return!0}onLinesDeleted(l){return!0}onLinesInserted(l){return!0}onScrollChanged(l){return!0}onTokensChanged(l){const _=k=>{for(let H=0,ie=l.ranges.length;H<ie;H++)if(l.ranges[H].fromLineNumber<=k.lineNumber&&k.lineNumber<=l.ranges[H].toLineNumber)return!0;return!1};if(_(this._primaryCursor.getPosition()))return!0;for(const k of this._secondaryCursors)if(_(k.getPosition()))return!0;return!1}onZonesChanged(l){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const l=this._getCursorBlinking(),_=0===l,k=5===l;_?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!_&&!k&&(1===l?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Te.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Te.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let l="cursors-layer";switch(this._selectionIsEmpty||(l+=" has-selection"),this._cursorStyle){default:l+=" cursor-line-style";break;case $.d2.Block:l+=" cursor-block-style";break;case $.d2.Underline:l+=" cursor-underline-style";break;case $.d2.LineThin:l+=" cursor-line-thin-style";break;case $.d2.BlockOutline:l+=" cursor-block-outline-style";break;case $.d2.UnderlineThin:l+=" cursor-underline-thin-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:l+=" cursor-blink";break;case 2:l+=" cursor-smooth";break;case 3:l+=" cursor-phase";break;case 4:l+=" cursor-expand";break;default:l+=" cursor-solid"}else l+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(l+=" cursor-smooth-caret-animation"),l}_show(){this._primaryCursor.show();for(let l=0,_=this._secondaryCursors.length;l<_;l++)this._secondaryCursors[l].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let l=0,_=this._secondaryCursors.length;l<_;l++)this._secondaryCursors[l].hide();this._isVisible=!1}prepareRender(l){this._primaryCursor.prepareRender(l);for(let _=0,k=this._secondaryCursors.length;_<k;_++)this._secondaryCursors[_].prepareRender(l)}render(l){const _=[];let k=0;const H=this._primaryCursor.render(l);H&&(_[k++]=H);for(let ie=0,he=this._secondaryCursors.length;ie<he;ie++){const we=this._secondaryCursors[ie].render(l);we&&(_[k++]=we)}this._renderData=_}getLastRenderData(){return this._renderData}}return Te.BLINK_INTERVAL=500,Te})();(0,Pn.Ic)((Te,r)=>{const l=Te.getColor(gn.n0);if(l){let _=Te.getColor(gn.fY);_||(_=l.opposite()),r.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${l}; }`),r.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${l}; border-color: ${l}; color: ${_}; }`),"hc"===Te.type&&r.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${_}; border-right: 1px solid ${_}; }`)}});const ra=()=>{throw new Error("Invalid change accessor")};class xa extends Ce{constructor(r){super(r);const l=this._context.configuration.options,_=l.get(131);this._lineHeight=l.get(59),this._contentWidth=_.contentWidth,this._contentLeft=_.contentLeft,this.domNode=(0,ce.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,ce.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const r=this._context.viewLayout.getWhitespaces(),l=new Map;for(const k of r)l.set(k.id,k);let _=!1;return this._context.viewModel.changeWhitespace(k=>{const H=Object.keys(this._zones);for(let ie=0,he=H.length;ie<he;ie++){const we=H[ie],Le=this._zones[we],ke=this._computeWhitespaceProps(Le.delegate);Le.isInHiddenArea=ke.isInHiddenArea;const ze=l.get(we);ze&&(ze.afterLineNumber!==ke.afterViewLineNumber||ze.height!==ke.heightInPx)&&(k.changeOneWhitespace(we,ke.afterViewLineNumber,ke.heightInPx),this._safeCallOnComputedHeight(Le.delegate,ke.heightInPx),_=!0)}}),_}onConfigurationChanged(r){const l=this._context.configuration.options,_=l.get(131);return this._lineHeight=l.get(59),this._contentWidth=_.contentWidth,this._contentLeft=_.contentLeft,r.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(r){return this._recomputeWhitespacesProps()}onLinesDeleted(r){return!0}onScrollChanged(r){return r.scrollTopChanged||r.scrollWidthChanged}onZonesChanged(r){return!0}onLinesInserted(r){return!0}_getZoneOrdinal(r){return void 0!==r.afterColumn?r.afterColumn:1e4}_computeWhitespaceProps(r){if(0===r.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(r),minWidthInPx:this._minWidthInPixels(r)};let l,_;if(void 0!==r.afterColumn)l=this._context.viewModel.model.validatePosition({lineNumber:r.afterLineNumber,column:r.afterColumn});else{const ie=this._context.viewModel.model.validatePosition({lineNumber:r.afterLineNumber,column:1}).lineNumber;l=new sn.L(ie,this._context.viewModel.model.getLineMaxColumn(ie))}_=l.column===this._context.viewModel.model.getLineMaxColumn(l.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:l.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:l.lineNumber,column:l.column+1});const k=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(l,r.afterColumnAffinity),H=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(_);return{isInHiddenArea:!H,afterViewLineNumber:k.lineNumber,heightInPx:H?this._heightInPixels(r):0,minWidthInPx:this._minWidthInPixels(r)}}changeViewZones(r){let l=!1;return this._context.viewModel.changeWhitespace(_=>{const k={addZone:H=>(l=!0,this._addZone(_,H)),removeZone:H=>{!H||(l=this._removeZone(_,H)||l)},layoutZone:H=>{!H||(l=this._layoutZone(_,H)||l)}};(function(Te,r){try{Te(r)}catch(l){(0,P.dL)(l)}})(r,k),k.addZone=ra,k.removeZone=ra,k.layoutZone=ra}),l}_addZone(r,l){const _=this._computeWhitespaceProps(l),H={whitespaceId:r.insertWhitespace(_.afterViewLineNumber,this._getZoneOrdinal(l),_.heightInPx,_.minWidthInPx),delegate:l,isInHiddenArea:_.isInHiddenArea,isVisible:!1,domNode:(0,ce.X)(l.domNode),marginDomNode:l.marginDomNode?(0,ce.X)(l.marginDomNode):null};return this._safeCallOnComputedHeight(H.delegate,_.heightInPx),H.domNode.setPosition("absolute"),H.domNode.domNode.style.width="100%",H.domNode.setDisplay("none"),H.domNode.setAttribute("monaco-view-zone",H.whitespaceId),this.domNode.appendChild(H.domNode),H.marginDomNode&&(H.marginDomNode.setPosition("absolute"),H.marginDomNode.domNode.style.width="100%",H.marginDomNode.setDisplay("none"),H.marginDomNode.setAttribute("monaco-view-zone",H.whitespaceId),this.marginDomNode.appendChild(H.marginDomNode)),this._zones[H.whitespaceId]=H,this.setShouldRender(),H.whitespaceId}_removeZone(r,l){if(this._zones.hasOwnProperty(l)){const _=this._zones[l];return delete this._zones[l],r.removeWhitespace(_.whitespaceId),_.domNode.removeAttribute("monaco-visible-view-zone"),_.domNode.removeAttribute("monaco-view-zone"),_.domNode.domNode.parentNode.removeChild(_.domNode.domNode),_.marginDomNode&&(_.marginDomNode.removeAttribute("monaco-visible-view-zone"),_.marginDomNode.removeAttribute("monaco-view-zone"),_.marginDomNode.domNode.parentNode.removeChild(_.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(r,l){if(this._zones.hasOwnProperty(l)){const _=this._zones[l],k=this._computeWhitespaceProps(_.delegate);return _.isInHiddenArea=k.isInHiddenArea,r.changeOneWhitespace(_.whitespaceId,k.afterViewLineNumber,k.heightInPx),this._safeCallOnComputedHeight(_.delegate,k.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(r){return!!this._zones.hasOwnProperty(r)&&Boolean(this._zones[r].delegate.suppressMouseDown)}_heightInPixels(r){return"number"==typeof r.heightInPx?r.heightInPx:"number"==typeof r.heightInLines?this._lineHeight*r.heightInLines:this._lineHeight}_minWidthInPixels(r){return"number"==typeof r.minWidthInPx?r.minWidthInPx:0}_safeCallOnComputedHeight(r,l){if("function"==typeof r.onComputedHeight)try{r.onComputedHeight(l)}catch(_){(0,P.dL)(_)}}_safeCallOnDomNodeTop(r,l){if("function"==typeof r.onDomNodeTop)try{r.onDomNodeTop(l)}catch(_){(0,P.dL)(_)}}prepareRender(r){}render(r){const l=r.viewportData.whitespaceViewportData,_={};let k=!1;for(const ie of l)this._zones[ie.id].isInHiddenArea||(_[ie.id]=ie,k=!0);const H=Object.keys(this._zones);for(let ie=0,he=H.length;ie<he;ie++){const we=H[ie],Le=this._zones[we];let ke=0,ze=0,qe="none";_.hasOwnProperty(we)?(ke=_[we].verticalOffset-r.bigNumbersDelta,ze=_[we].height,qe="block",Le.isVisible||(Le.domNode.setAttribute("monaco-visible-view-zone","true"),Le.isVisible=!0),this._safeCallOnDomNodeTop(Le.delegate,r.getScrolledTopFromAbsoluteTop(_[we].verticalOffset))):(Le.isVisible&&(Le.domNode.removeAttribute("monaco-visible-view-zone"),Le.isVisible=!1),this._safeCallOnDomNodeTop(Le.delegate,r.getScrolledTopFromAbsoluteTop(-1e6))),Le.domNode.setTop(ke),Le.domNode.setHeight(ze),Le.domNode.setDisplay(qe),Le.marginDomNode&&(Le.marginDomNode.setTop(ke),Le.marginDomNode.setHeight(ze),Le.marginDomNode.setDisplay(qe))}k&&(this.domNode.setWidth(Math.max(r.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class sd{constructor(r){this._theme=r}get type(){return this._theme.type}get value(){return this._theme}update(r){this._theme=r}getColor(r){return this._theme.getColor(r)}}class hc{constructor(r,l,_){this.configuration=r,this.theme=new sd(l),this.viewModel=_,this.viewLayout=_.viewLayout}addEventHandler(r){this.viewModel.addViewEventHandler(r)}removeEventHandler(r){this.viewModel.removeViewEventHandler(r)}}class wl{constructor(r,l,_,k){this.selections=r,this.startLineNumber=0|l.startLineNumber,this.endLineNumber=0|l.endLineNumber,this.relativeVerticalOffset=l.relativeVerticalOffset,this.bigNumbersDelta=0|l.bigNumbersDelta,this.whitespaceViewportData=_,this._model=k,this.visibleRange=new hn.e(l.startLineNumber,this._model.getLineMinColumn(l.startLineNumber),l.endLineNumber,this._model.getLineMaxColumn(l.endLineNumber))}getViewLineRenderingData(r){return this._model.getViewLineRenderingData(this.visibleRange,r)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class fc extends ue{constructor(r,l,_,k,H,ie){super(),this._selections=[new re.Y(1,1,1,1)],this._renderAnimationFrame=null;const he=new Di(l,k,H,r);this._context=new hc(l,_,k),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new mi(this._context,he,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,ce.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,ce.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,ce.X)(document.createElement("div")),Ae.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Js(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new qs(this._context,this._linesContent),this._viewZones=new xa(this._context),this._viewParts.push(this._viewZones);const we=new xr(this._context);this._viewParts.push(we);const Le=new Wr(this._context);this._viewParts.push(Le);const ke=new Po(this._context);this._viewParts.push(ke),ke.addDynamicOverlay(new Go(this._context)),ke.addDynamicOverlay(new fu(this._context)),ke.addDynamicOverlay(new Cs(this._context)),ke.addDynamicOverlay(new As(this._context));const ze=new yo(this._context);this._viewParts.push(ze),ze.addDynamicOverlay(new Ss(this._context)),ze.addDynamicOverlay(new dr(this._context)),ze.addDynamicOverlay(new h(this._context)),ze.addDynamicOverlay(new yt(this._context)),ze.addDynamicOverlay(new kn(this._context));const qe=new jn(this._context);qe.getDomNode().appendChild(this._viewZones.marginDomNode),qe.getDomNode().appendChild(ze.getDomNode()),this._viewParts.push(qe),this._contentWidgets=new Io(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new dc(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Yr(this._context),this._viewParts.push(this._overlayWidgets);const it=new vl(this._context);this._viewParts.push(it);const bt=new bs(this._context);if(this._viewParts.push(bt),we){const Dt=this._scrollbar.getOverviewRulerLayoutInfo();Dt.parent.insertBefore(we.getDomNode(),Dt.insertBefore)}this._linesContent.appendChild(ke.getDomNode()),this._linesContent.appendChild(it.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(qe.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(Le.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(bt.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),ie?ie.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Ut(this._context,he,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:r=>{this._textAreaHandler.textArea.domNode.dispatchEvent(r)},getLastRenderData:()=>{const r=this._viewCursors.getLastRenderData()||[],l=this._textAreaHandler.getLastRenderData();return new He(r,l)},shouldSuppressMouseDownOnViewZone:r=>this._viewZones.shouldSuppressMouseDownOnViewZone(r),shouldSuppressMouseDownOnWidget:r=>this._contentWidgets.shouldSuppressMouseDownOnWidget(r),getPositionFromDOMInfo:(r,l)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(r,l)),visibleRangeForPosition:(r,l)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new sn.L(r,l))),getLineWidth:r=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(r))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:r=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(r))}}_applyLayout(){const l=this._context.configuration.options.get(131);this.domNode.setWidth(l.width),this.domNode.setHeight(l.height),this._overflowGuardContainer.setWidth(l.width),this._overflowGuardContainer.setHeight(l.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const r=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+(0,Pn.m6)(this._context.theme.type)+r}handleEvents(r){super.handleEvents(r),this._scheduleRender()}onConfigurationChanged(r){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(r){return this._selections=r.selections,!1}onFocusChanged(r){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(r){return this._context.theme.update(r.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const r of this._viewParts)r.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=B.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(Te){try{Te()}catch(r){(0,P.dL)(r)}}(()=>this._actualRender())}_getViewPartsToRender(){const r=[];let l=0;for(const _ of this._viewParts)_.shouldRender()&&(r[l++]=_);return r}_actualRender(){if(!B.Uw(this.domNode.domNode))return;let r=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===r.length)return;const l=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(l.startLineNumber,l.endLineNumber,l.centeredLineNumber);const _=new wl(this._selections,l,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(_),this._viewLines.shouldRender()&&(this._viewLines.renderText(_),this._viewLines.onDidRender(),r=this._getViewPartsToRender());const k=new Ye(this._context.viewLayout,_,this._viewLines);for(const H of r)H.prepareRender(k);for(const H of r)H.render(k),H.onDidRender()}delegateVerticalScrollbarMouseDown(r){this._scrollbar.delegateVerticalScrollbarMouseDown(r)}restoreState(r){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:r.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:r.scrollLeft},1)}getOffsetForColumn(r,l){const _=this._context.viewModel.model.validatePosition({lineNumber:r,column:l}),k=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(_);this._flushAccumulatedAndRenderNow();const H=this._viewLines.visibleRangeForPosition(new sn.L(k.lineNumber,k.column));return H?H.left:-1}getTargetAtClientPoint(r,l){const _=this._pointerHandler.getTargetAtClientPoint(r,l);return _?Ci.convertViewToModelMouseTarget(_,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(r){return new hr(this._context,r)}change(r){this._viewZones.changeViewZones(r),this._scheduleRender()}render(r,l){if(l){this._viewLines.forceShouldRender();for(const _ of this._viewParts)_.forceShouldRender()}r?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(r){this._textAreaHandler.setAriaOptions(r)}addContentWidget(r){this._contentWidgets.addWidget(r.widget),this.layoutContentWidget(r),this._scheduleRender()}layoutContentWidget(r){let l=r.position&&r.position.range||null;if(null===l){const k=r.position?r.position.position:null;null!==k&&(l=new hn.e(k.lineNumber,k.column,k.lineNumber,k.column))}this._contentWidgets.setWidgetPosition(r.widget,l,r.position?r.position.preference:null),this._scheduleRender()}removeContentWidget(r){this._contentWidgets.removeWidget(r.widget),this._scheduleRender()}addOverlayWidget(r){this._overlayWidgets.addWidget(r.widget),this.layoutOverlayWidget(r),this._scheduleRender()}layoutOverlayWidget(r){this._overlayWidgets.setWidgetPosition(r.widget,r.position?r.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(r){this._overlayWidgets.removeWidget(r.widget),this._scheduleRender()}}var Oo=p(35590);class Sl{constructor(r){this._selTrackedRange=null,this._trackSelection=!0,this._setState(r,new Oo.rS(new hn.e(1,1,1,1),0,new sn.L(1,1),0),new Oo.rS(new hn.e(1,1,1,1),0,new sn.L(1,1),0))}dispose(r){this._removeTrackedRange(r)}startTrackingSelection(r){this._trackSelection=!0,this._updateTrackedRange(r)}stopTrackingSelection(r){this._trackSelection=!1,this._removeTrackedRange(r)}_updateTrackedRange(r){!this._trackSelection||(this._selTrackedRange=r.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(r){this._selTrackedRange=r.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Oo.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(r){const l=r.model._getTrackedRange(this._selTrackedRange);return re.Y.fromRange(l,this.modelState.selection.getDirection())}ensureValidState(r){this._setState(r,this.modelState,this.viewState)}setState(r,l,_){this._setState(r,l,_)}static _validatePositionWithCache(r,l,_,k){return l.equals(_)?k:r.normalizePosition(l,2)}static _validateViewState(r,l){const _=l.position,k=l.selectionStart.getStartPosition(),H=l.selectionStart.getEndPosition(),ie=r.normalizePosition(_,2),he=this._validatePositionWithCache(r,k,_,ie),we=this._validatePositionWithCache(r,H,k,he);return _.equals(ie)&&k.equals(he)&&H.equals(we)?l:new Oo.rS(hn.e.fromPositions(he,we),l.selectionStartLeftoverVisibleColumns+k.column-he.column,ie,l.leftoverVisibleColumns+_.column-ie.column)}_setState(r,l,_){if(_&&(_=Sl._validateViewState(r.viewModel,_)),l){const k=r.model.validateRange(l.selectionStart),H=l.selectionStart.equalsRange(k)?l.selectionStartLeftoverVisibleColumns:0,ie=r.model.validatePosition(l.position),he=l.position.equals(ie)?l.leftoverVisibleColumns:0;l=new Oo.rS(k,H,ie,he)}else{if(!_)return;const k=r.model.validateRange(r.coordinatesConverter.convertViewRangeToModelRange(_.selectionStart)),H=r.model.validatePosition(r.coordinatesConverter.convertViewPositionToModelPosition(_.position));l=new Oo.rS(k,_.selectionStartLeftoverVisibleColumns,H,_.leftoverVisibleColumns)}if(_){const k=r.coordinatesConverter.validateViewRange(_.selectionStart,l.selectionStart),H=r.coordinatesConverter.validateViewPosition(_.position,l.position);_=new Oo.rS(k,l.selectionStartLeftoverVisibleColumns,H,l.leftoverVisibleColumns)}else{const k=r.coordinatesConverter.convertModelPositionToViewPosition(new sn.L(l.selectionStart.startLineNumber,l.selectionStart.startColumn)),H=r.coordinatesConverter.convertModelPositionToViewPosition(new sn.L(l.selectionStart.endLineNumber,l.selectionStart.endColumn)),ie=new hn.e(k.lineNumber,k.column,H.lineNumber,H.column),he=r.coordinatesConverter.convertModelPositionToViewPosition(l.position);_=new Oo.rS(ie,l.selectionStartLeftoverVisibleColumns,he,l.leftoverVisibleColumns)}this.modelState=l,this.viewState=_,this._updateTrackedRange(r)}}class Ls{constructor(r){this.context=r,this.cursors=[new Sl(r)],this.lastAddedCursorIndex=0}dispose(){for(const r of this.cursors)r.dispose(this.context)}startTrackingSelections(){for(const r of this.cursors)r.startTrackingSelection(this.context)}stopTrackingSelections(){for(const r of this.cursors)r.stopTrackingSelection(this.context)}updateContext(r){this.context=r}ensureValidState(){for(const r of this.cursors)r.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(r=>r.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(r=>r.asCursorState())}getViewPositions(){return this.cursors.map(r=>r.viewState.position)}getTopMostViewPosition(){return(0,f.VJ)(this.cursors,(0,f.tT)(r=>r.viewState.position,sn.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,f.jV)(this.cursors,(0,f.tT)(r=>r.viewState.position,sn.L.compare)).viewState.position}getSelections(){return this.cursors.map(r=>r.modelState.selection)}getViewSelections(){return this.cursors.map(r=>r.viewState.selection)}setSelections(r){this.setStates(Oo.Vi.fromModelSelections(r))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(r){null!==r&&(this.cursors[0].setState(this.context,r[0].modelState,r[0].viewState),this._setSecondaryStates(r.slice(1)))}_setSecondaryStates(r){const l=this.cursors.length-1,_=r.length;if(l<_){const k=_-l;for(let H=0;H<k;H++)this._addSecondaryCursor()}else if(l>_){const k=l-_;for(let H=0;H<k;H++)this._removeSecondaryCursor(this.cursors.length-2)}for(let k=0;k<_;k++)this.cursors[k+1].setState(this.context,r[k].modelState,r[k].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Sl(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(r){this.lastAddedCursorIndex>=r+1&&this.lastAddedCursorIndex--,this.cursors[r+1].dispose(this.context),this.cursors.splice(r+1,1)}normalize(){if(1===this.cursors.length)return;const r=this.cursors.slice(0),l=[];for(let _=0,k=r.length;_<k;_++)l.push({index:_,selection:r[_].modelState.selection});l.sort((0,f.tT)(_=>_.selection,hn.e.compareRangesUsingStarts));for(let _=0;_<l.length-1;_++){const k=l[_],H=l[_+1],ie=k.selection,he=H.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let we;if(we=he.isEmpty()||ie.isEmpty()?he.getStartPosition().isBeforeOrEqual(ie.getEndPosition()):he.getStartPosition().isBefore(ie.getEndPosition()),we){const Le=k.index<H.index?_:_+1,ke=k.index<H.index?_+1:_,ze=l[ke].index,qe=l[Le].index,it=l[ke].selection,bt=l[Le].selection;if(!it.equalsSelection(bt)){const Dt=it.plusRange(bt),Nt=it.selectionStartLineNumber===it.startLineNumber&&it.selectionStartColumn===it.startColumn,Ht=bt.selectionStartLineNumber===bt.startLineNumber&&bt.selectionStartColumn===bt.startColumn;let cn,en;ze===this.lastAddedCursorIndex?(cn=Nt,this.lastAddedCursorIndex=qe):cn=Ht,en=cn?new re.Y(Dt.startLineNumber,Dt.startColumn,Dt.endLineNumber,Dt.endColumn):new re.Y(Dt.endLineNumber,Dt.endColumn,Dt.startLineNumber,Dt.startColumn),l[Le].selection=en;const On=Oo.Vi.fromModelSelection(en);r[qe].setState(this.context,On.modelState,On.viewState)}for(const Dt of l)Dt.index>ze&&Dt.index--;r.splice(ze,1),l.splice(ke,1),this._removeSecondaryCursor(ze-1),_--}}}}class Hr{constructor(r,l,_,k){this._cursorContextBrand=void 0,this.model=r,this.viewModel=l,this.coordinatesConverter=_,this.cursorConfig=k}}var gc=p(17666),fr=p(8418),tr=p(87604);class La{constructor(){this.type=0}}class gu{constructor(){this.type=1}}class xl{constructor(r){this.type=2,this._source=r}hasChanged(r){return this._source.hasChanged(r)}}class mu{constructor(r,l){this.type=3,this.selections=r,this.modelSelections=l}}class zr{constructor(r){this.type=4,r?(this.affectsMinimap=r.affectsMinimap,this.affectsOverviewRuler=r.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class Za{constructor(){this.type=5}}class pu{constructor(r){this.type=6,this.isFocused=r}}class rd{constructor(){this.type=7}}class Ur{constructor(){this.type=8}}class Lr{constructor(r,l){this.type=9,this.fromLineNumber=r,this.toLineNumber=l}}class fi{constructor(r,l){this.type=10,this.fromLineNumber=r,this.toLineNumber=l}}class ns{constructor(r,l){this.type=11,this.fromLineNumber=r,this.toLineNumber=l}}class fs{constructor(r,l,_,k,H,ie,he){this.source=r,this.minimalReveal=l,this.range=_,this.selections=k,this.verticalType=H,this.revealHorizontal=ie,this.scrollType=he,this.type=12}}class Ms{constructor(r){this.type=13,this.scrollWidth=r.scrollWidth,this.scrollLeft=r.scrollLeft,this.scrollHeight=r.scrollHeight,this.scrollTop=r.scrollTop,this.scrollWidthChanged=r.scrollWidthChanged,this.scrollLeftChanged=r.scrollLeftChanged,this.scrollHeightChanged=r.scrollHeightChanged,this.scrollTopChanged=r.scrollTopChanged}}class Jo{constructor(r){this.theme=r,this.type=14}}class Ds{constructor(r){this.type=15,this.ranges=r}}class mc{constructor(){this.type=16}}class Ma{constructor(){this.type=17}}class Ri extends C.JT{constructor(){super(),this._onEvent=this._register(new y.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(r){this._addOutgoingEvent(r),this._emitOutgoingEvents()}_addOutgoingEvent(r){for(let l=0,_=this._outgoingEvents.length;l<_;l++)if(this._outgoingEvents[l].kind===r.kind)return void(this._outgoingEvents[l]=this._outgoingEvents[l].merge(r));this._outgoingEvents.push(r)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const r=this._outgoingEvents.shift();r.isNoOp()||this._onEvent.fire(r)}}addViewEventHandler(r){for(let l=0,_=this._eventHandlers.length;l<_;l++)this._eventHandlers[l]===r&&console.warn("Detected duplicate listener in ViewEventDispatcher",r);this._eventHandlers.push(r)}removeViewEventHandler(r){for(let l=0;l<this._eventHandlers.length;l++)if(this._eventHandlers[l]===r){this._eventHandlers.splice(l,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new so),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const r=this._collector.outgoingEvents,l=this._collector.viewEvents;this._collector=null;for(const _ of r)this._addOutgoingEvent(_);l.length>0&&this._emitMany(l)}this._emitOutgoingEvents()}emitSingleViewEvent(r){try{this.beginEmitViewEvents().emitViewEvent(r)}finally{this.endEmitViewEvents()}}_emitMany(r){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(r):r,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const r=this._viewEventQueue;this._viewEventQueue=null;const l=this._eventHandlers.slice(0);for(const _ of l)_.handleEvents(r)}}}class so{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(r){this.viewEvents.push(r)}emitOutgoingEvent(r){this.outgoingEvents.push(r)}}class Ho{constructor(r,l,_,k){this.kind=0,this._oldContentWidth=r,this._oldContentHeight=l,this.contentWidth=_,this.contentHeight=k,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(r){return 0!==r.kind?this:new Ho(this._oldContentWidth,this._oldContentHeight,r.contentWidth,r.contentHeight)}}class To{constructor(r,l){this.kind=1,this.oldHasFocus=r,this.hasFocus=l}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(r){return 1!==r.kind?this:new To(this.oldHasFocus,r.hasFocus)}}class ds{constructor(r,l,_,k,H,ie,he,we){this.kind=2,this._oldScrollWidth=r,this._oldScrollLeft=l,this._oldScrollHeight=_,this._oldScrollTop=k,this.scrollWidth=H,this.scrollLeft=ie,this.scrollHeight=he,this.scrollTop=we,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(r){return 2!==r.kind?this:new ds(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,r.scrollWidth,r.scrollLeft,r.scrollHeight,r.scrollTop)}}class Ti{constructor(){this.kind=3}isNoOp(){return!1}merge(r){return this}}class aa{constructor(r,l,_,k,H,ie,he){this.kind=6,this.oldSelections=r,this.selections=l,this.oldModelVersionId=_,this.modelVersionId=k,this.source=H,this.reason=ie,this.reachedMaxCursorCount=he}static _selectionsAreEqual(r,l){if(!r&&!l)return!0;if(!r||!l)return!1;const _=r.length;if(_!==l.length)return!1;for(let H=0;H<_;H++)if(!r[H].equalsSelection(l[H]))return!1;return!0}isNoOp(){return aa._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(r){return 6!==r.kind?this:new aa(this.oldSelections,r.selections,this.oldModelVersionId,r.modelVersionId,r.source,r.reason,this.reachedMaxCursorCount||r.reachedMaxCursorCount)}}class Rh{constructor(){this.kind=5}isNoOp(){return!1}merge(r){return this}}let ad=(()=>{class Te extends C.JT{constructor(l,_,k,H){super(),this._model=l,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=_,this._coordinatesConverter=k,this.context=new Hr(this._model,this._viewModel,this._coordinatesConverter,H),this._cursors=new Ls(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,C.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(l){this.context=new Hr(this._model,this._viewModel,this._coordinatesConverter,l),this._cursors.updateContext(this.context)}onLineMappingChanged(l){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(l,"viewModel",0,this.getCursorStates())}setHasFocus(l){this._hasFocus=l}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const l=this._cursors.getSelections();for(let _=0;_<this._autoClosedActions.length;_++){const k=this._autoClosedActions[_];k.isValid(l)||(k.dispose(),this._autoClosedActions.splice(_,1),_--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(l,_,k,H){let ie=!1;null!==H&&H.length>Te.MAX_CURSOR_COUNT&&(H=H.slice(0,Te.MAX_CURSOR_COUNT),ie=!0);const he=Da.from(this._model,this);return this._cursors.setStates(H),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,_,k,he,ie)}setCursorColumnSelectData(l){this._columnSelectData=l}revealPrimary(l,_,k,H,ie,he){const we=this._cursors.getViewPositions();let Le=null,ke=null;we.length>1?ke=this._cursors.getViewSelections():Le=hn.e.fromPositions(we[0],we[0]),l.emitViewEvent(new fs(_,k,Le,ke,H,ie,he))}saveState(){const l=[],_=this._cursors.getSelections();for(let k=0,H=_.length;k<H;k++){const ie=_[k];l.push({inSelectionMode:!ie.isEmpty(),selectionStart:{lineNumber:ie.selectionStartLineNumber,column:ie.selectionStartColumn},position:{lineNumber:ie.positionLineNumber,column:ie.positionColumn}})}return l}restoreState(l,_){const k=[];for(let H=0,ie=_.length;H<ie;H++){const he=_[H];let we=1,Le=1;he.position&&he.position.lineNumber&&(we=he.position.lineNumber),he.position&&he.position.column&&(Le=he.position.column);let ke=we,ze=Le;he.selectionStart&&he.selectionStart.lineNumber&&(ke=he.selectionStart.lineNumber),he.selectionStart&&he.selectionStart.column&&(ze=he.selectionStart.column),k.push({selectionStartLineNumber:ke,selectionStartColumn:ze,positionLineNumber:we,positionColumn:Le})}this.setStates(l,"restoreState",0,Oo.Vi.fromModelSelections(k)),this.revealPrimary(l,"restoreState",!1,0,!0,1)}onModelContentChanged(l,_){if(_ instanceof tr.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(l,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{if(this._knownModelVersionId=_.versionId,this._isHandling)return;const k=_.containsEvent(1);if(this._prevEditOperationType=0,k)this._cursors.dispose(),this._cursors=new Ls(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,"model",1,null,!1);else if(this._hasFocus&&_.resultingSelection&&_.resultingSelection.length>0){const H=Oo.Vi.fromModelSelections(_.resultingSelection);this.setStates(l,"modelChange",_.isUndoing?5:_.isRedoing?6:2,H)&&this.revealPrimary(l,"modelChange",!1,0,!0,0)}else{const H=this._cursors.readSelectionFromMarkers();this.setStates(l,"modelChange",2,Oo.Vi.fromModelSelections(H))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const l=this._cursors.getPrimaryCursor(),_=l.viewState.selectionStart.getStartPosition(),k=l.viewState.position;return{isReal:!1,fromViewLineNumber:_.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,_),toViewLineNumber:k.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,k)}}getSelections(){return this._cursors.getSelections()}setSelections(l,_,k,H){this.setStates(l,_,H,Oo.Vi.fromModelSelections(k))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(l){this._prevEditOperationType=l}_pushAutoClosedAction(l,_){const k=[],H=[];for(let we=0,Le=l.length;we<Le;we++)k.push({range:l[we],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),H.push({range:_[we],options:{description:"auto-closed-enclosing",stickiness:1}});const ie=this._model.deltaDecorations([],k),he=this._model.deltaDecorations([],H);this._autoClosedActions.push(new Ll(this._model,ie,he))}_executeEditOperation(l){if(!l)return;l.shouldPushStackElementBefore&&this._model.pushStackElement();const _=class{static executeCommands(r,l,_){const k={model:r,selectionsBefore:l,trackedRanges:[],trackedRangesDirection:[]},H=this._innerExecuteCommands(k,_);for(let ie=0,he=k.trackedRanges.length;ie<he;ie++)k.model._setTrackedRange(k.trackedRanges[ie],null,0);return H}static _innerExecuteCommands(r,l){if(this._arrayIsEmpty(l))return null;const _=this._getEditOperations(r,l);if(0===_.operations.length)return null;const k=_.operations,H=this._getLoserCursorMap(k);if(H.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const ie=[];for(let Le=0,ke=k.length;Le<ke;Le++)H.hasOwnProperty(k[Le].identifier.major.toString())||ie.push(k[Le]);_.hadTrackedEditOperation&&ie.length>0&&(ie[0]._isTracked=!0);let he=r.model.pushEditOperations(r.selectionsBefore,ie,Le=>{const ke=[];for(let it=0;it<r.selectionsBefore.length;it++)ke[it]=[];for(const it of Le)!it.identifier||ke[it.identifier.major].push(it);const ze=(it,bt)=>it.identifier.minor-bt.identifier.minor,qe=[];for(let it=0;it<r.selectionsBefore.length;it++)ke[it].length>0?(ke[it].sort(ze),qe[it]=l[it].computeCursorState(r.model,{getInverseEditOperations:()=>ke[it],getTrackedSelection:bt=>{const Dt=parseInt(bt,10),Nt=r.model._getTrackedRange(r.trackedRanges[Dt]);return 0===r.trackedRangesDirection[Dt]?new re.Y(Nt.startLineNumber,Nt.startColumn,Nt.endLineNumber,Nt.endColumn):new re.Y(Nt.endLineNumber,Nt.endColumn,Nt.startLineNumber,Nt.startColumn)}})):qe[it]=r.selectionsBefore[it];return qe});he||(he=r.selectionsBefore);const we=[];for(let Le in H)H.hasOwnProperty(Le)&&we.push(parseInt(Le,10));we.sort((Le,ke)=>ke-Le);for(const Le of we)he.splice(Le,1);return he}static _arrayIsEmpty(r){for(let l=0,_=r.length;l<_;l++)if(r[l])return!1;return!0}static _getEditOperations(r,l){let _=[],k=!1;for(let H=0,ie=l.length;H<ie;H++){const he=l[H];if(he){const we=this._getEditOperationsFromCommand(r,H,he);_=_.concat(we.operations),k=k||we.hadTrackedEditOperation}}return{operations:_,hadTrackedEditOperation:k}}static _getEditOperationsFromCommand(r,l,_){const k=[];let H=0;const ie=(ze,qe,it=!1)=>{hn.e.isEmpty(ze)&&""===qe||k.push({identifier:{major:l,minor:H++},range:ze,text:qe,forceMoveMarkers:it,isAutoWhitespaceEdit:_.insertsAutoWhitespace})};let he=!1;const ke={addEditOperation:ie,addTrackedEditOperation:(ze,qe,it)=>{he=!0,ie(ze,qe,it)},trackSelection:(ze,qe)=>{const it=re.Y.liftSelection(ze);let bt;if(it.isEmpty())if("boolean"==typeof qe)bt=qe?2:3;else{const Ht=r.model.getLineMaxColumn(it.startLineNumber);bt=it.startColumn===Ht?2:3}else bt=1;const Dt=r.trackedRanges.length,Nt=r.model._setTrackedRange(null,it,bt);return r.trackedRanges[Dt]=Nt,r.trackedRangesDirection[Dt]=it.getDirection(),Dt.toString()}};try{_.getEditOperations(r.model,ke)}catch(ze){return(0,P.dL)(ze),{operations:[],hadTrackedEditOperation:!1}}return{operations:k,hadTrackedEditOperation:he}}static _getLoserCursorMap(r){(r=r.slice(0)).sort((_,k)=>-hn.e.compareRangesUsingEnds(_.range,k.range));const l={};for(let _=1;_<r.length;_++){const k=r[_-1],H=r[_];if(hn.e.getStartPosition(k.range).isBefore(hn.e.getEndPosition(H.range))){let ie;ie=k.identifier.major>H.identifier.major?k.identifier.major:H.identifier.major,l[ie.toString()]=!0;for(let he=0;he<r.length;he++)r[he].identifier.major===ie&&(r.splice(he,1),he<_&&_--,he--);_>0&&_--}}return l}}.executeCommands(this._model,this._cursors.getSelections(),l.commands);if(_){this._interpretCommandResult(_);const k=[],H=[];for(let ie=0;ie<l.commands.length;ie++){const he=l.commands[ie];he instanceof fr.g&&he.enclosingRange&&he.closeCharacterRange&&(k.push(he.closeCharacterRange),H.push(he.enclosingRange))}k.length>0&&this._pushAutoClosedAction(k,H),this._prevEditOperationType=l.type}l.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(l){(!l||0===l.length)&&(l=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(l),this._cursors.normalize()}_emitStateChangedIfNecessary(l,_,k,H,ie){const he=Da.from(this._model,this);if(he.equals(H))return!1;const we=this._cursors.getSelections(),Le=this._cursors.getViewSelections();if(l.emitViewEvent(new mu(Le,we)),!H||H.cursorState.length!==he.cursorState.length||he.cursorState.some((ke,ze)=>!ke.modelState.equals(H.cursorState[ze].modelState))){const ke=H?H.cursorState.map(qe=>qe.modelState.selection):null;l.emitOutgoingEvent(new aa(ke,we,H?H.modelVersionId:0,he.modelVersionId,_||"keyboard",k,ie))}return!0}_findAutoClosingPairs(l){if(!l.length)return null;const _=[];for(let k=0,H=l.length;k<H;k++){const ie=l[k];if(!ie.text||ie.text.indexOf("\n")>=0)return null;const he=ie.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!he)return null;const Le=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(he[1]);if(!Le||1!==Le.length)return null;const ze=ie.text.length-he[2].length-1,qe=ie.text.lastIndexOf(Le[0].open,ze-1);if(-1===qe)return null;_.push([qe,ze])}return _}executeEdits(l,_,k,H){let ie=null;"snippet"===_&&(ie=this._findAutoClosingPairs(k)),ie&&(k[0]._isTracked=!0);const he=[],we=[],Le=this._model.pushEditOperations(this.getSelections(),k,ke=>{if(ie)for(let qe=0,it=ie.length;qe<it;qe++){const[bt,Dt]=ie[qe],Nt=ke[qe],Ht=Nt.range.startLineNumber,cn=Nt.range.startColumn-1+bt,en=Nt.range.startColumn-1+Dt;he.push(new hn.e(Ht,en+1,Ht,en+2)),we.push(new hn.e(Ht,cn+1,Ht,en+2))}const ze=H(ke);return ze&&(this._isHandling=!0),ze});Le&&(this._isHandling=!1,this.setSelections(l,_,Le,0)),he.length>0&&this._pushAutoClosedAction(he,we)}_executeEdit(l,_,k,H=0){if(this.context.cursorConfig.readOnly)return;const ie=Da.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),l()}catch(he){(0,P.dL)(he)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(_,k,H,ie,!1)&&this.revealPrimary(_,k,!1,0,!0,0)}setIsDoingComposition(l){this._isDoingComposition=l}getAutoClosedCharacters(){return Ll.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(l){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(l,_){this._executeEdit(()=>{"keyboard"===_&&(this._executeEditOperation(fr.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},l,_)}type(l,_,k){this._executeEdit(()=>{if("keyboard"===k){const H=_.length;let ie=0;for(;ie<H;){const he=Sn.vH(_,ie),we=_.substr(ie,he);this._executeEditOperation(fr.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),we)),ie+=he}}else this._executeEditOperation(fr.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),_))},l,k)}compositionType(l,_,k,H,ie,he){if(0!==_.length||0!==k||0!==H)this._executeEdit(()=>{this._executeEditOperation(fr.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),_,k,H,ie))},l,he);else if(0!==ie){const we=this.getSelections().map(Le=>{const ke=Le.getPosition();return new re.Y(ke.lineNumber,ke.column+ie,ke.lineNumber,ke.column+ie)});this.setSelections(l,he,we,0)}}paste(l,_,k,H,ie){this._executeEdit(()=>{this._executeEditOperation(fr.u.paste(this.context.cursorConfig,this._model,this.getSelections(),_,k,H||[]))},l,ie,4)}cut(l,_){this._executeEdit(()=>{this._executeEditOperation(gc.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},l,_)}executeCommand(l,_,k){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Oo.Tp(0,[_],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},l,k)}executeCommands(l,_,k){this._executeEdit(()=>{this._executeEditOperation(new Oo.Tp(0,_,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},l,k)}}return Te.MAX_CURSOR_COUNT=1e4,Te})();class Da{constructor(r,l){this.modelVersionId=r,this.cursorState=l}static from(r,l){return new Da(r.getVersionId(),l.getCursorStates())}equals(r){if(!r||this.modelVersionId!==r.modelVersionId||this.cursorState.length!==r.cursorState.length)return!1;for(let l=0,_=this.cursorState.length;l<_;l++)if(!this.cursorState[l].equals(r.cursorState[l]))return!1;return!0}}class Ll{constructor(r,l,_){this._model=r,this._autoClosedCharactersDecorations=l,this._autoClosedEnclosingDecorations=_}static getAllAutoClosedCharacters(r){let l=[];for(const _ of r)l=l.concat(_.getAutoClosedCharactersRanges());return l}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const r=[];for(let l=0;l<this._autoClosedCharactersDecorations.length;l++){const _=this._model.getDecorationRange(this._autoClosedCharactersDecorations[l]);_&&r.push(_)}return r}isValid(r){const l=[];for(let _=0;_<this._autoClosedEnclosingDecorations.length;_++){const k=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[_]);if(k&&(l.push(k),k.startLineNumber!==k.endLineNumber))return!1}l.sort(hn.e.compareRangesUsingStarts),r.sort(hn.e.compareRangesUsingStarts);for(let _=0;_<r.length;_++)if(_>=l.length||!l[_].strictContainsRange(r[_]))return!1;return!0}}var Qa=p(47804),ld=p(3760),co=p(20296),cd=p(12282),pc=p(42137),Bn=p(90443);class Fh{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(r){this._hasPending=!0,this._inserts.push(r)}change(r){this._hasPending=!0,this._changes.push(r)}remove(r){this._hasPending=!0,this._removes.push(r)}mustCommit(){return this._hasPending}commit(r){if(!this._hasPending)return;const l=this._inserts,_=this._changes,k=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],r._commitPendingChanges(l,_,k)}}class Ml{constructor(r,l,_,k,H){this.id=r,this.afterLineNumber=l,this.ordinal=_,this.height=k,this.minWidth=H,this.prefixSum=0}}let Bh=(()=>{class Te{constructor(l,_,k,H){this._instanceId=Sn.PJ(++Te.INSTANCE_COUNT),this._pendingChanges=new Fh,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=l,this._lineHeight=_,this._paddingTop=k,this._paddingBottom=H}static findInsertionIndex(l,_,k){let H=0,ie=l.length;for(;H<ie;){const he=H+ie>>>1;_===l[he].afterLineNumber?k<l[he].ordinal?ie=he:H=he+1:_<l[he].afterLineNumber?ie=he:H=he+1}return H}setLineHeight(l){this._checkPendingChanges(),this._lineHeight=l}setPadding(l,_){this._paddingTop=l,this._paddingBottom=_}onFlushed(l){this._checkPendingChanges(),this._lineCount=l}changeWhitespace(l){let _=!1;try{l({insertWhitespace:(H,ie,he,we)=>{_=!0,H|=0,ie|=0,he|=0,we|=0;const Le=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Ml(Le,H,ie,he,we)),Le},changeOneWhitespace:(H,ie,he)=>{_=!0,this._pendingChanges.change({id:H,newAfterLineNumber:ie|=0,newHeight:he|=0})},removeWhitespace:H=>{_=!0,this._pendingChanges.remove({id:H})}})}finally{this._pendingChanges.commit(this)}return _}_commitPendingChanges(l,_,k){if((l.length>0||k.length>0)&&(this._minWidth=-1),l.length+_.length+k.length<=1){for(const Le of l)this._insertWhitespace(Le);for(const Le of _)this._changeOneWhitespace(Le.id,Le.newAfterLineNumber,Le.newHeight);for(const Le of k){const ke=this._findWhitespaceIndex(Le.id);-1!==ke&&this._removeWhitespace(ke)}return}const H=new Set;for(const Le of k)H.add(Le.id);const ie=new Map;for(const Le of _)ie.set(Le.id,Le);const he=Le=>{const ke=[];for(const ze of Le)if(!H.has(ze.id)){if(ie.has(ze.id)){const qe=ie.get(ze.id);ze.afterLineNumber=qe.newAfterLineNumber,ze.height=qe.newHeight}ke.push(ze)}return ke},we=he(this._arr).concat(he(l));we.sort((Le,ke)=>Le.afterLineNumber===ke.afterLineNumber?Le.ordinal-ke.ordinal:Le.afterLineNumber-ke.afterLineNumber),this._arr=we,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(l){const _=Te.findInsertionIndex(this._arr,l.afterLineNumber,l.ordinal);this._arr.splice(_,0,l),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}_findWhitespaceIndex(l){const _=this._arr;for(let k=0,H=_.length;k<H;k++)if(_[k].id===l)return k;return-1}_changeOneWhitespace(l,_,k){const H=this._findWhitespaceIndex(l);if(-1!==H&&(this._arr[H].height!==k&&(this._arr[H].height=k,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,H-1)),this._arr[H].afterLineNumber!==_)){const ie=this._arr[H];this._removeWhitespace(H),ie.afterLineNumber=_,this._insertWhitespace(ie)}}_removeWhitespace(l){this._arr.splice(l,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,l-1)}onLinesDeleted(l,_){this._checkPendingChanges(),this._lineCount-=(_|=0)-(l|=0)+1;for(let k=0,H=this._arr.length;k<H;k++){const ie=this._arr[k].afterLineNumber;l<=ie&&ie<=_?this._arr[k].afterLineNumber=l-1:ie>_&&(this._arr[k].afterLineNumber-=_-l+1)}}onLinesInserted(l,_){this._checkPendingChanges(),this._lineCount+=(_|=0)-(l|=0)+1;for(let k=0,H=this._arr.length;k<H;k++)l<=this._arr[k].afterLineNumber&&(this._arr[k].afterLineNumber+=_-l+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(l){this._checkPendingChanges(),l|=0;let _=Math.max(0,this._prefixSumValidIndex+1);0===_&&(this._arr[0].prefixSum=this._arr[0].height,_++);for(let k=_;k<=l;k++)this._arr[k].prefixSum=this._arr[k-1].prefixSum+this._arr[k].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,l),this._arr[l].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(l){this._checkPendingChanges();const _=this._findLastWhitespaceBeforeLineNumber(l|=0);return-1===_?0:this.getWhitespacesAccumulatedHeight(_)}_findLastWhitespaceBeforeLineNumber(l){l|=0;const _=this._arr;let k=0,H=_.length-1;for(;k<=H;){const we=k+((H-k|0)/2|0)|0;if(_[we].afterLineNumber<l){if(we+1>=_.length||_[we+1].afterLineNumber>=l)return we;k=we+1|0}else H=we-1|0}return-1}_findFirstWhitespaceAfterLineNumber(l){const k=this._findLastWhitespaceBeforeLineNumber(l|=0)+1;return k<this._arr.length?k:-1}getFirstWhitespaceIndexAfterLineNumber(l){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(l|=0)}getVerticalOffsetForLineNumber(l){let _;return this._checkPendingChanges(),_=(l|=0)>1?this._lineHeight*(l-1):0,_+this.getWhitespaceAccumulatedHeightBeforeLineNumber(l)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let l=0;for(let _=0,k=this._arr.length;_<k;_++)l=Math.max(l,this._arr[_].minWidth);this._minWidth=l}return this._minWidth}isAfterLines(l){return this._checkPendingChanges(),l>this.getLinesTotalHeight()}isInTopPadding(l){return 0!==this._paddingTop&&(this._checkPendingChanges(),l<this._paddingTop)}isInBottomPadding(l){return 0!==this._paddingBottom&&(this._checkPendingChanges(),l>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(l){if(this._checkPendingChanges(),(l|=0)<0)return 1;const _=0|this._lineCount,k=this._lineHeight;let H=1,ie=_;for(;H<ie;){const he=(H+ie)/2|0,we=0|this.getVerticalOffsetForLineNumber(he);if(l>=we+k)H=he+1;else{if(l>=we)return he;ie=he}}return H>_?_:H}getLinesViewportData(l,_){this._checkPendingChanges(),_|=0;const k=this._lineHeight,H=0|this.getLineNumberAtOrAfterVerticalOffset(l|=0),ie=0|this.getVerticalOffsetForLineNumber(H);let he=0|this._lineCount,we=0|this.getFirstWhitespaceIndexAfterLineNumber(H);const Le=0|this.getWhitespacesCount();let ke,ze;-1===we?(we=Le,ze=he+1,ke=0):(ze=0|this.getAfterLineNumberForWhitespaceIndex(we),ke=0|this.getHeightForWhitespaceIndex(we));let qe=ie,it=qe;const bt=5e5;let Dt=0;ie>=bt&&(Dt=Math.floor(ie/bt)*bt,Dt=Math.floor(Dt/k)*k,it-=Dt);const Nt=[],Ht=l+(_-l)/2;let cn=-1;for(let Tn=H;Tn<=he;Tn++){if(-1===cn){const Rn=qe,En=qe+k;(Rn<=Ht&&Ht<En||Rn>Ht)&&(cn=Tn)}for(qe+=k,Nt[Tn-H]=it,it+=k;ze===Tn;)it+=ke,qe+=ke,we++,we>=Le?ze=he+1:(ze=0|this.getAfterLineNumberForWhitespaceIndex(we),ke=0|this.getHeightForWhitespaceIndex(we));if(qe>=_){he=Tn;break}}-1===cn&&(cn=he);const en=0|this.getVerticalOffsetForLineNumber(he);let On=H,Vn=he;return On<Vn&&ie<l&&On++,On<Vn&&en+k>_&&Vn--,{bigNumbersDelta:Dt,startLineNumber:H,endLineNumber:he,relativeVerticalOffset:Nt,centeredLineNumber:cn,completelyVisibleStartLineNumber:On,completelyVisibleEndLineNumber:Vn}}getVerticalOffsetForWhitespaceIndex(l){this._checkPendingChanges();const _=this.getAfterLineNumberForWhitespaceIndex(l|=0);let k,H;return k=_>=1?this._lineHeight*_:0,H=l>0?this.getWhitespacesAccumulatedHeight(l-1):0,k+H+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(l){this._checkPendingChanges(),l|=0;let _=0,k=this.getWhitespacesCount()-1;if(k<0)return-1;if(l>=this.getVerticalOffsetForWhitespaceIndex(k)+this.getHeightForWhitespaceIndex(k))return-1;for(;_<k;){const he=Math.floor((_+k)/2),we=this.getVerticalOffsetForWhitespaceIndex(he);if(l>=we+this.getHeightForWhitespaceIndex(he))_=he+1;else{if(l>=we)return he;k=he}}return _}getWhitespaceAtVerticalOffset(l){this._checkPendingChanges();const _=this.getWhitespaceIndexAtOrAfterVerticallOffset(l|=0);if(_<0||_>=this.getWhitespacesCount())return null;const k=this.getVerticalOffsetForWhitespaceIndex(_);if(k>l)return null;const H=this.getHeightForWhitespaceIndex(_);return{id:this.getIdForWhitespaceIndex(_),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(_),verticalOffset:k,height:H}}getWhitespaceViewportData(l,_){this._checkPendingChanges(),_|=0;const k=this.getWhitespaceIndexAtOrAfterVerticallOffset(l|=0),H=this.getWhitespacesCount()-1;if(k<0)return[];const ie=[];for(let he=k;he<=H;he++){const we=this.getVerticalOffsetForWhitespaceIndex(he),Le=this.getHeightForWhitespaceIndex(he);if(we>=_)break;ie.push({id:this.getIdForWhitespaceIndex(he),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(he),verticalOffset:we,height:Le})}return ie}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(l){return this._checkPendingChanges(),this._arr[l|=0].id}getAfterLineNumberForWhitespaceIndex(l){return this._checkPendingChanges(),this._arr[l|=0].afterLineNumber}getHeightForWhitespaceIndex(l){return this._checkPendingChanges(),this._arr[l|=0].height}}return Te.INSTANCE_COUNT=0,Te})();class _c{constructor(r,l,_,k){(r|=0)<0&&(r=0),(l|=0)<0&&(l=0),(_|=0)<0&&(_=0),(k|=0)<0&&(k=0),this.width=r,this.contentWidth=l,this.scrollWidth=Math.max(r,l),this.height=_,this.contentHeight=k,this.scrollHeight=Math.max(_,k)}equals(r){return this.width===r.width&&this.contentWidth===r.contentWidth&&this.height===r.height&&this.contentHeight===r.contentHeight}}class Ks extends C.JT{constructor(r,l){super(),this._onDidContentSizeChange=this._register(new y.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new _c(0,0,0,0),this._scrollable=this._register(new Bn.Rm({forceIntegerValues:!0,smoothScrollDuration:r,scheduleAtNextAnimationFrame:l})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(r){this._scrollable.setSmoothScrollDuration(r)}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}getScrollDimensions(){return this._dimensions}setScrollDimensions(r){if(this._dimensions.equals(r))return;const l=this._dimensions;this._dimensions=r,this._scrollable.setScrollDimensions({width:r.width,scrollWidth:r.scrollWidth,height:r.height,scrollHeight:r.scrollHeight},!0),(l.contentWidth!==r.contentWidth||l.contentHeight!==r.contentHeight)&&this._onDidContentSizeChange.fire(new Ho(l.contentWidth,l.contentHeight,r.contentWidth,r.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(r){this._scrollable.setScrollPositionNow(r)}setScrollPositionSmooth(r){this._scrollable.setScrollPositionSmooth(r)}}class la extends C.JT{constructor(r,l,_){super(),this._configuration=r;const k=this._configuration.options,H=k.get(131),ie=k.get(75);this._linesLayout=new Bh(l,k.get(59),ie.top,ie.bottom),this._scrollable=this._register(new Ks(0,_)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new _c(H.contentWidth,0,H.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?125:0)}onConfigurationChanged(r){const l=this._configuration.options;if(r.hasChanged(59)&&this._linesLayout.setLineHeight(l.get(59)),r.hasChanged(75)){const _=l.get(75);this._linesLayout.setPadding(_.top,_.bottom)}if(r.hasChanged(131)){const _=l.get(131),k=_.contentWidth,H=_.height,ie=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new _c(k,ie.contentWidth,H,this._getContentHeight(k,H,ie.contentWidth)))}else this._updateHeight();r.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(r){this._linesLayout.onFlushed(r)}onLinesDeleted(r,l){this._linesLayout.onLinesDeleted(r,l)}onLinesInserted(r,l){this._linesLayout.onLinesInserted(r,l)}_getHorizontalScrollbarHeight(r,l){const k=this._configuration.options.get(92);return 2===k.horizontal||r>=l?0:k.horizontalScrollbarSize}_getContentHeight(r,l,_){const k=this._configuration.options;let H=this._linesLayout.getLinesTotalHeight();return k.get(94)?H+=Math.max(0,l-k.get(59)-k.get(75).bottom):H+=this._getHorizontalScrollbarHeight(r,_),H}_updateHeight(){const r=this._scrollable.getScrollDimensions(),l=r.width,_=r.height;this._scrollable.setScrollDimensions(new _c(l,r.contentWidth,_,this._getContentHeight(l,_,r.contentWidth)))}getCurrentViewport(){const r=this._scrollable.getScrollDimensions(),l=this._scrollable.getCurrentScrollPosition();return new be.l_(l.scrollTop,l.scrollLeft,r.width,r.height)}getFutureViewport(){const r=this._scrollable.getScrollDimensions(),l=this._scrollable.getFutureScrollPosition();return new be.l_(l.scrollTop,l.scrollLeft,r.width,r.height)}_computeContentWidth(r){const l=this._configuration.options,_=l.get(132),k=l.get(44);if(_.isViewportWrapping){const H=l.get(131),ie=l.get(65);return r>H.contentWidth+k.typicalHalfwidthCharacterWidth&&ie.enabled&&"right"===ie.side?r+H.verticalScrollbarWidth:r}{const H=l.get(93)*k.typicalHalfwidthCharacterWidth,ie=this._linesLayout.getWhitespaceMinWidth();return Math.max(r+H,ie)}}setMaxLineWidth(r){const l=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new _c(l.width,this._computeContentWidth(r),l.height,l.contentHeight)),this._updateHeight()}saveState(){const r=this._scrollable.getFutureScrollPosition(),l=r.scrollTop,_=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(l);return{scrollTop:l,scrollTopWithoutViewZones:l-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(_),scrollLeft:r.scrollLeft}}changeWhitespace(r){const l=this._linesLayout.changeWhitespace(r);return l&&this.onHeightMaybeChanged(),l}getVerticalOffsetForLineNumber(r){return this._linesLayout.getVerticalOffsetForLineNumber(r)}isAfterLines(r){return this._linesLayout.isAfterLines(r)}isInTopPadding(r){return this._linesLayout.isInTopPadding(r)}isInBottomPadding(r){return this._linesLayout.isInBottomPadding(r)}getLineNumberAtVerticalOffset(r){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r)}getWhitespaceAtVerticalOffset(r){return this._linesLayout.getWhitespaceAtVerticalOffset(r)}getLinesViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(r.top,r.top+r.height)}getLinesViewportDataAtScrollTop(r){const l=this._scrollable.getScrollDimensions();return r+l.height>l.scrollHeight&&(r=l.scrollHeight-l.height),r<0&&(r=0),this._linesLayout.getLinesViewportData(r,r+l.height)}getWhitespaceViewportData(){const r=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(r.top,r.top+r.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(r){return this._scrollable.validateScrollPosition(r)}setScrollPosition(r,l){1===l?this._scrollable.setScrollPositionNow(r):this._scrollable.setScrollPositionSmooth(r)}deltaScrollNow(r,l){const _=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:_.scrollLeft+r,scrollTop:_.scrollTop+l})}}var dd=p(18066),ud=p(45023),Cu=p(5928);function Cc(Te,r){return null===Te?r?Ya.INSTANCE:ir.INSTANCE:new bc(Te,r)}class bc{constructor(r,l){this._projectionData=r,this._isVisible=l}isVisible(){return this._isVisible}setVisible(r){return this._isVisible=r,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(r,l,_){this._assertVisible();const k=_>0?this._projectionData.breakOffsets[_-1]:0,H=this._projectionData.breakOffsets[_];let ie;if(null!==this._projectionData.injectionOffsets){const he=this._projectionData.injectionOffsets.map((Le,ke)=>new tr.gk(0,0,Le+1,this._projectionData.injectionOptions[ke],0));ie=tr.gk.applyInjectedText(r.getLineContent(l),he).substring(k,H)}else ie=r.getValueInRange({startLineNumber:l,startColumn:k+1,endLineNumber:l,endColumn:H+1});return _>0&&(ie=hd(this._projectionData.wrappedTextIndentLength)+ie),ie}getViewLineLength(r,l,_){return this._assertVisible(),this._projectionData.getLineLength(_)}getViewLineMinColumn(r,l,_){return this._assertVisible(),this._projectionData.getMinOutputOffset(_)+1}getViewLineMaxColumn(r,l,_){return this._assertVisible(),this._projectionData.getMaxOutputOffset(_)+1}getViewLineData(r,l,_){const k=new Array;return this.getViewLinesData(r,l,_,1,0,[!0],k),k[0]}getViewLinesData(r,l,_,k,H,ie,he){this._assertVisible();const we=this._projectionData,Le=we.injectionOffsets,ke=we.injectionOptions;let qe,ze=null;if(Le){ze=[];let it=0,bt=0;for(let Dt=0;Dt<we.getOutputLineCount();Dt++){const Nt=new Array;ze[Dt]=Nt;const Ht=Dt>0?we.breakOffsets[Dt-1]:0,cn=we.breakOffsets[Dt];for(;bt<Le.length;){const en=ke[bt].content.length,On=Le[bt]+it,Vn=On+en;if(On>cn)break;if(Ht<Vn){const Tn=ke[bt];if(Tn.inlineClassName){const Rn=Dt>0?we.wrappedTextIndentLength:0,En=Rn+Math.max(On-Ht,0),vn=Rn+Math.min(Vn-Ht,cn);En!==vn&&Nt.push(new be.Wx(En,vn,Tn.inlineClassName,Tn.inlineClassNameAffectsLetterSpacing))}}if(!(Vn<=cn))break;it+=en,bt++}}}qe=Le?r.getLineTokens(l).withInserted(Le.map((it,bt)=>({offset:it,text:ke[bt].content,tokenMetadata:Cu.A.defaultTokenMetadata}))):r.getLineTokens(l);for(let it=_;it<_+k;it++){const bt=H+it-_;he[bt]=ie[bt]?this._getViewLineData(qe,ze?ze[it]:null,it):null}}_getViewLineData(r,l,_){this._assertVisible();const k=this._projectionData,we=r.sliceAndInflate(_>0?k.breakOffsets[_-1]:0,k.breakOffsets[_],_>0?k.wrappedTextIndentLength:0);let Le=we.getLineContent();_>0&&(Le=hd(k.wrappedTextIndentLength)+Le);const ke=this._projectionData.getMinOutputOffset(_)+1,ze=Le.length+1,qe=_+1<this.getViewLineCount();return new be.IP(Le,qe,ke,ze,0===_?0:k.breakOffsetsVisibleColumn[_-1],we,l)}getModelColumnOfViewPosition(r,l){return this._assertVisible(),this._projectionData.translateToInputOffset(r,l-1)+1}getViewPositionOfModelPosition(r,l,_=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(l-1,_).toPosition(r)}getViewLineNumberOfModelPosition(r,l){return this._assertVisible(),r+this._projectionData.translateToOutputPosition(l-1).outputLineIndex}normalizePosition(r,l,_){const k=l.lineNumber-r;return this._projectionData.normalizeOutputPosition(r,l.column-1,_).toPosition(k)}getInjectedTextAt(r,l){return this._projectionData.getInjectedText(r,l-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Ya{constructor(){}isVisible(){return!0}setVisible(r){return r?this:ir.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(r,l,_){return r.getLineContent(l)}getViewLineLength(r,l,_){return r.getLineLength(l)}getViewLineMinColumn(r,l,_){return r.getLineMinColumn(l)}getViewLineMaxColumn(r,l,_){return r.getLineMaxColumn(l)}getViewLineData(r,l,_){const k=r.getLineTokens(l),H=k.getLineContent();return new be.IP(H,!1,1,H.length+1,0,k.inflate(),null)}getViewLinesData(r,l,_,k,H,ie,he){he[H]=ie[H]?this.getViewLineData(r,l,0):null}getModelColumnOfViewPosition(r,l){return l}getViewPositionOfModelPosition(r,l){return new sn.L(r,l)}getViewLineNumberOfModelPosition(r,l){return r}normalizePosition(r,l,_){return l}getInjectedTextAt(r,l){return null}}Ya.INSTANCE=new Ya;class ir{constructor(){}isVisible(){return!1}setVisible(r){return r?Ya.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(r,l,_){throw new Error("Not supported")}getViewLineLength(r,l,_){throw new Error("Not supported")}getViewLineMinColumn(r,l,_){throw new Error("Not supported")}getViewLineMaxColumn(r,l,_){throw new Error("Not supported")}getViewLineData(r,l,_){throw new Error("Not supported")}getViewLinesData(r,l,_,k,H,ie,he){throw new Error("Not supported")}getModelColumnOfViewPosition(r,l){throw new Error("Not supported")}getViewPositionOfModelPosition(r,l){throw new Error("Not supported")}getViewLineNumberOfModelPosition(r,l){throw new Error("Not supported")}normalizePosition(r,l,_){throw new Error("Not supported")}getInjectedTextAt(r,l){throw new Error("Not supported")}}ir.INSTANCE=new ir;let Dl=[""];function hd(Te){if(Te>=Dl.length)for(let r=1;r<=Te;r++)Dl[r]=vc(r);return Dl[Te]}function vc(Te){return new Array(Te+1).join(" ")}var wc=p(69798);class yc{constructor(r,l,_,k,H,ie,he,we,Le){this._editorId=r,this.model=l,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=_,this._monospaceLineBreaksComputerFactory=k,this.fontInfo=H,this.tabSize=ie,this.wrappingStrategy=he,this.wrappingColumn=we,this.wrappingIndent=Le,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Sc(this)}_constructLines(r,l){this.modelLineProjections=[],r&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const _=this.model.getLinesContent(),k=this.model.getInjectedTextDecorations(this._editorId),H=_.length,ie=this.createLineBreaksComputer(),he=new f.H9(tr.gk.fromDecorations(k));for(let Dt=0;Dt<H;Dt++){const Nt=he.takeWhile(Ht=>Ht.lineNumber===Dt+1);ie.addRequest(_[Dt],Nt,l?l[Dt]:null)}const we=ie.finalize(),Le=[],ke=this.hiddenAreasDecorationIds.map(Dt=>this.model.getDecorationRange(Dt)).sort(hn.e.compareRangesUsingStarts);let ze=1,qe=0,it=-1,bt=it+1<ke.length?qe+1:H+2;for(let Dt=0;Dt<H;Dt++){const Nt=Dt+1;Nt===bt&&(it++,ze=ke[it].startLineNumber,qe=ke[it].endLineNumber,bt=it+1<ke.length?qe+1:H+2);const cn=Cc(we[Dt],!(Nt>=ze&&Nt<=qe));Le[Dt]=cn.getViewLineCount(),this.modelLineProjections[Dt]=cn}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new wc.Ck(Le)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(r=>this.model.getDecorationRange(r))}setHiddenAreas(r){const _=function(Te){if(0===Te.length)return[];const r=Te.slice();r.sort(hn.e.compareRangesUsingStarts);const l=[];let _=r[0].startLineNumber,k=r[0].endLineNumber;for(let H=1,ie=r.length;H<ie;H++){const he=r[H];he.startLineNumber>k+1?(l.push(new hn.e(_,1,k,1)),_=he.startLineNumber,k=he.endLineNumber):he.endLineNumber>k&&(k=he.endLineNumber)}return l.push(new hn.e(_,1,k,1)),l}(r.map(qe=>this.model.validateRange(qe))),k=this.hiddenAreasDecorationIds.map(qe=>this.model.getDecorationRange(qe)).sort(hn.e.compareRangesUsingStarts);if(_.length===k.length){let qe=!1;for(let it=0;it<_.length;it++)if(!_[it].equalsRange(k[it])){qe=!0;break}if(!qe)return!1}const H=_.map(qe=>({range:qe,options:ud.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,H);const ie=_;let he=1,we=0,Le=-1,ke=Le+1<ie.length?we+1:this.modelLineProjections.length+2,ze=!1;for(let qe=0;qe<this.modelLineProjections.length;qe++){const it=qe+1;it===ke&&(Le++,he=ie[Le].startLineNumber,we=ie[Le].endLineNumber,ke=Le+1<ie.length?we+1:this.modelLineProjections.length+2);let bt=!1;if(it>=he&&it<=we?this.modelLineProjections[qe].isVisible()&&(this.modelLineProjections[qe]=this.modelLineProjections[qe].setVisible(!1),bt=!0):(ze=!0,this.modelLineProjections[qe].isVisible()||(this.modelLineProjections[qe]=this.modelLineProjections[qe].setVisible(!0),bt=!0)),bt){const Dt=this.modelLineProjections[qe].getViewLineCount();this.projectedModelLineLineCounts.setValue(qe,Dt)}}return ze||this.setHiddenAreas([]),!0}modelPositionIsVisible(r,l){return!(r<1||r>this.modelLineProjections.length)&&this.modelLineProjections[r-1].isVisible()}getModelLineViewLineCount(r){return r<1||r>this.modelLineProjections.length?1:this.modelLineProjections[r-1].getViewLineCount()}setTabSize(r){return this.tabSize!==r&&(this.tabSize=r,this._constructLines(!1,null),!0)}setWrappingSettings(r,l,_,k){const H=this.fontInfo.equals(r),ie=this.wrappingStrategy===l,he=this.wrappingColumn===_,we=this.wrappingIndent===k;if(H&&ie&&he&&we)return!1;const Le=H&&ie&&!he&&we;this.fontInfo=r,this.wrappingStrategy=l,this.wrappingColumn=_,this.wrappingIndent=k;let ke=null;if(Le){ke=[];for(let ze=0,qe=this.modelLineProjections.length;ze<qe;ze++)ke[ze]=this.modelLineProjections[ze].getProjectionData()}return this._constructLines(!1,ke),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(r,l,_){if(!r||r<=this._validModelVersionId)return null;const k=1===l?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,H=this.projectedModelLineLineCounts.getPrefixSum(_);return this.modelLineProjections.splice(l-1,_-l+1),this.projectedModelLineLineCounts.removeValues(l-1,_-l+1),new fi(k,H)}onModelLinesInserted(r,l,_,k){if(!r||r<=this._validModelVersionId)return null;const H=l>2&&!this.modelLineProjections[l-2].isVisible(),ie=1===l?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1;let he=0;const we=[],Le=[];for(let ke=0,ze=k.length;ke<ze;ke++){const qe=Cc(k[ke],!H);we.push(qe);const it=qe.getViewLineCount();he+=it,Le[ke]=it}return this.modelLineProjections=this.modelLineProjections.slice(0,l-1).concat(we).concat(this.modelLineProjections.slice(l-1)),this.projectedModelLineLineCounts.insertValues(l-1,Le),new ns(ie,ie+he-1)}onModelLineChanged(r,l,_){if(null!==r&&r<=this._validModelVersionId)return[!1,null,null,null];const k=l-1,H=this.modelLineProjections[k].getViewLineCount(),he=Cc(_,this.modelLineProjections[k].isVisible());this.modelLineProjections[k]=he;const we=this.modelLineProjections[k].getViewLineCount();let Le=!1,ke=0,ze=-1,qe=0,it=-1,bt=0,Dt=-1;return H>we?(ke=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,ze=ke+we-1,bt=ze+1,Dt=bt+(H-we)-1,Le=!0):H<we?(ke=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,ze=ke+H-1,qe=ze+1,it=qe+(we-H)-1,Le=!0):(ke=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,ze=ke+we-1),this.projectedModelLineLineCounts.setValue(k,we),[Le,ke<=ze?new Lr(ke,ze):null,qe<=it?new ns(qe,it):null,bt<=Dt?new fi(bt,Dt):null]}acceptVersionId(r){this._validModelVersionId=r,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(r){if(r<1)return 1;const l=this.getViewLineCount();return r>l?l:0|r}getActiveIndentGuide(r,l,_){r=this._toValidViewLineNumber(r),l=this._toValidViewLineNumber(l),_=this._toValidViewLineNumber(_);const k=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),H=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),ie=this.convertViewPositionToModelPosition(_,this.getViewLineMinColumn(_)),he=this.model.guides.getActiveIndentGuide(k.lineNumber,H.lineNumber,ie.lineNumber),we=this.convertModelPositionToViewPosition(he.startLineNumber,1),Le=this.convertModelPositionToViewPosition(he.endLineNumber,this.model.getLineMaxColumn(he.endLineNumber));return{startLineNumber:we.lineNumber,endLineNumber:Le.lineNumber,indent:he.indent}}getViewLineInfo(r){r=this._toValidViewLineNumber(r);const l=this.projectedModelLineLineCounts.getIndexOf(r-1);return new fd(l.index+1,l.remainder)}getMinColumnOfViewLine(r){return this.modelLineProjections[r.modelLineNumber-1].getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(r){const l=this.modelLineProjections[r.modelLineNumber-1],_=l.getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),k=l.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,_);return new sn.L(r.modelLineNumber,k)}getModelEndPositionOfViewLine(r){const l=this.modelLineProjections[r.modelLineNumber-1],_=l.getViewLineMaxColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx),k=l.getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,_);return new sn.L(r.modelLineNumber,k)}getViewLineInfosGroupedByModelRanges(r,l){const _=this.getViewLineInfo(r),k=this.getViewLineInfo(l),H=new Array;let ie=this.getModelStartPositionOfViewLine(_),he=new Array;for(let we=_.modelLineNumber;we<=k.modelLineNumber;we++){const Le=this.modelLineProjections[we-1];if(Le.isVisible()){const ke=we===_.modelLineNumber?_.modelLineWrappedLineIdx:0,ze=we===k.modelLineNumber?k.modelLineWrappedLineIdx+1:Le.getViewLineCount();for(let qe=ke;qe<ze;qe++)he.push(new fd(we,qe))}if(!Le.isVisible()&&ie){const ke=new sn.L(we-1,this.model.getLineMaxColumn(we-1)+1),ze=hn.e.fromPositions(ie,ke);H.push(new Ja(ze,he)),he=[],ie=null}else Le.isVisible()&&!ie&&(ie=new sn.L(we,1))}if(ie){const we=hn.e.fromPositions(ie,this.getModelEndPositionOfViewLine(k));H.push(new Ja(we,he))}return H}getViewLinesBracketGuides(r,l,_,k){const H=_?this.convertViewPositionToModelPosition(_.lineNumber,_.column):null,ie=[];for(const he of this.getViewLineInfosGroupedByModelRanges(r,l)){const we=he.modelRange.startLineNumber,Le=this.model.guides.getLinesBracketGuides(we,he.modelRange.endLineNumber,H,k);for(const ke of he.viewLines)if(ke.isWrappedLineContinuation&&1===this.getMinColumnOfViewLine(ke))ie.push([]);else{let ze=Le[ke.modelLineNumber-we];ze=ze.map(qe=>qe.horizontalLine?new Vo.UO(qe.visibleColumn,qe.className,new Vo.vW(qe.horizontalLine.top,this.convertModelPositionToViewPosition(ke.modelLineNumber,qe.horizontalLine.endColumn).column)):qe),ie.push(ze)}}return ie}getViewLinesIndentGuides(r,l){r=this._toValidViewLineNumber(r),l=this._toValidViewLineNumber(l);const _=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),k=this.convertViewPositionToModelPosition(l,this.getViewLineMaxColumn(l));let H=[];const ie=[],he=[],we=_.lineNumber-1,Le=k.lineNumber-1;let ke=null;for(let bt=we;bt<=Le;bt++){const Dt=this.modelLineProjections[bt];if(Dt.isVisible()){const Nt=Dt.getViewLineNumberOfModelPosition(0,bt===we?_.column:1),Ht=Dt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(bt+1)),cn=Ht-Nt+1;let en=0;cn>1&&1===Dt.getViewLineMinColumn(this.model,bt+1,Ht)&&(en=0===Nt?1:2),ie.push(cn),he.push(en),null===ke&&(ke=new sn.L(bt+1,0))}else null!==ke&&(H=H.concat(this.model.guides.getLinesIndentGuides(ke.lineNumber,bt)),ke=null)}null!==ke&&(H=H.concat(this.model.guides.getLinesIndentGuides(ke.lineNumber,k.lineNumber)),ke=null);const ze=l-r+1,qe=new Array(ze);let it=0;for(let bt=0,Dt=H.length;bt<Dt;bt++){let Nt=H[bt];const Ht=Math.min(ze-it,ie[bt]),cn=he[bt];let en;en=2===cn?0:1===cn?1:Ht;for(let On=0;On<Ht;On++)On===en&&(Nt=0),qe[it++]=Nt}return qe}getViewLineContent(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineContent(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineLength(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineLength(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMinColumn(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMaxColumn(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineData(r){const l=this.getViewLineInfo(r);return this.modelLineProjections[l.modelLineNumber-1].getViewLineData(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLinesData(r,l,_){r=this._toValidViewLineNumber(r),l=this._toValidViewLineNumber(l);const k=this.projectedModelLineLineCounts.getIndexOf(r-1);let H=r;const ie=k.index,he=k.remainder,we=[];for(let Le=ie,ke=this.model.getLineCount();Le<ke;Le++){const ze=this.modelLineProjections[Le];if(!ze.isVisible())continue;const qe=Le===ie?he:0;let it=ze.getViewLineCount()-qe,bt=!1;if(H+it>l&&(bt=!0,it=l-H+1),ze.getViewLinesData(this.model,Le+1,qe,it,H-r,_,we),H+=it,bt)break}return we}validateViewPosition(r,l,_){r=this._toValidViewLineNumber(r);const k=this.projectedModelLineLineCounts.getIndexOf(r-1),H=k.index,ie=k.remainder,he=this.modelLineProjections[H],we=he.getViewLineMinColumn(this.model,H+1,ie),Le=he.getViewLineMaxColumn(this.model,H+1,ie);l<we&&(l=we),l>Le&&(l=Le);const ke=he.getModelColumnOfViewPosition(ie,l);return this.model.validatePosition(new sn.L(H+1,ke)).equals(_)?new sn.L(r,l):this.convertModelPositionToViewPosition(_.lineNumber,_.column)}validateViewRange(r,l){const _=this.validateViewPosition(r.startLineNumber,r.startColumn,l.getStartPosition()),k=this.validateViewPosition(r.endLineNumber,r.endColumn,l.getEndPosition());return new hn.e(_.lineNumber,_.column,k.lineNumber,k.column)}convertViewPositionToModelPosition(r,l){const _=this.getViewLineInfo(r),k=this.modelLineProjections[_.modelLineNumber-1].getModelColumnOfViewPosition(_.modelLineWrappedLineIdx,l);return this.model.validatePosition(new sn.L(_.modelLineNumber,k))}convertViewRangeToModelRange(r){const l=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),_=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);return new hn.e(l.lineNumber,l.column,_.lineNumber,_.column)}convertModelPositionToViewPosition(r,l,_=2){const k=this.model.validatePosition(new sn.L(r,l)),H=k.lineNumber,ie=k.column;let he=H-1,we=!1;for(;he>0&&!this.modelLineProjections[he].isVisible();)he--,we=!0;if(0===he&&!this.modelLineProjections[he].isVisible())return new sn.L(1,1);const Le=1+this.projectedModelLineLineCounts.getPrefixSum(he);let ke;return ke=we?this.modelLineProjections[he].getViewPositionOfModelPosition(Le,this.model.getLineMaxColumn(he+1),_):this.modelLineProjections[H-1].getViewPositionOfModelPosition(Le,ie,_),ke}convertModelRangeToViewRange(r,l=0){if(r.isEmpty()){const _=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,l);return hn.e.fromPositions(_)}{const _=this.convertModelPositionToViewPosition(r.startLineNumber,r.startColumn,1),k=this.convertModelPositionToViewPosition(r.endLineNumber,r.endColumn,0);return new hn.e(_.lineNumber,_.column,k.lineNumber,k.column)}}getViewLineNumberOfModelPosition(r,l){let _=r-1;if(this.modelLineProjections[_].isVisible()){const H=1+this.projectedModelLineLineCounts.getPrefixSum(_);return this.modelLineProjections[_].getViewLineNumberOfModelPosition(H,l)}for(;_>0&&!this.modelLineProjections[_].isVisible();)_--;if(0===_&&!this.modelLineProjections[_].isVisible())return 1;const k=1+this.projectedModelLineLineCounts.getPrefixSum(_);return this.modelLineProjections[_].getViewLineNumberOfModelPosition(k,this.model.getLineMaxColumn(_+1))}getDecorationsInRange(r,l,_){const k=this.convertViewPositionToModelPosition(r.startLineNumber,r.startColumn),H=this.convertViewPositionToModelPosition(r.endLineNumber,r.endColumn);if(H.lineNumber-k.lineNumber<=r.endLineNumber-r.startLineNumber)return this.model.getDecorationsInRange(new hn.e(k.lineNumber,1,H.lineNumber,H.column),l,_);let ie=[];const he=k.lineNumber-1,we=H.lineNumber-1;let Le=null;for(let it=he;it<=we;it++)if(this.modelLineProjections[it].isVisible())null===Le&&(Le=new sn.L(it+1,it===he?k.column:1));else if(null!==Le){const Dt=this.model.getLineMaxColumn(it);ie=ie.concat(this.model.getDecorationsInRange(new hn.e(Le.lineNumber,Le.column,it,Dt),l,_)),Le=null}null!==Le&&(ie=ie.concat(this.model.getDecorationsInRange(new hn.e(Le.lineNumber,Le.column,H.lineNumber,H.column),l,_)),Le=null),ie.sort((it,bt)=>{const Dt=hn.e.compareRangesUsingStarts(it.range,bt.range);return 0===Dt?it.id<bt.id?-1:it.id>bt.id?1:0:Dt});let ke=[],ze=0,qe=null;for(const it of ie){const bt=it.id;qe!==bt&&(qe=bt,ke[ze++]=it)}return ke}getInjectedTextAt(r){const l=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].getInjectedTextAt(l.modelLineWrappedLineIdx,r.column)}normalizePosition(r,l){const _=this.getViewLineInfo(r.lineNumber);return this.modelLineProjections[_.modelLineNumber-1].normalizePosition(_.modelLineWrappedLineIdx,r,l)}getLineIndentColumn(r){const l=this.getViewLineInfo(r);return 0===l.modelLineWrappedLineIdx?this.model.getLineIndentColumn(l.modelLineNumber):0}}class fd{constructor(r,l){this.modelLineNumber=r,this.modelLineWrappedLineIdx=l}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class Ja{constructor(r,l){this.modelRange=r,this.viewLines=l}}class Sc{constructor(r){this._lines=r}convertViewPositionToModelPosition(r){return this._lines.convertViewPositionToModelPosition(r.lineNumber,r.column)}convertViewRangeToModelRange(r){return this._lines.convertViewRangeToModelRange(r)}validateViewPosition(r,l){return this._lines.validateViewPosition(r.lineNumber,r.column,l)}validateViewRange(r,l){return this._lines.validateViewRange(r,l)}convertModelPositionToViewPosition(r,l){return this._lines.convertModelPositionToViewPosition(r.lineNumber,r.column,l)}convertModelRangeToViewRange(r,l){return this._lines.convertModelRangeToViewRange(r,l)}modelPositionIsVisible(r){return this._lines.modelPositionIsVisible(r.lineNumber,r.column)}getModelLineViewLineCount(r){return this._lines.getModelLineViewLineCount(r)}getViewLineNumberOfModelPosition(r,l){return this._lines.getViewLineNumberOfModelPosition(r,l)}}class El{constructor(r){this.model=r}dispose(){}createCoordinatesConverter(){return new vu(this)}getHiddenAreas(){return[]}setHiddenAreas(r){return!1}setTabSize(r){return!1}setWrappingSettings(r,l,_,k){return!1}createLineBreaksComputer(){const r=[];return{addRequest:(l,_,k)=>{r.push(null)},finalize:()=>r}}onModelFlushed(){}onModelLinesDeleted(r,l,_){return new fi(l,_)}onModelLinesInserted(r,l,_,k){return new ns(l,_)}onModelLineChanged(r,l,_){return[!1,new Lr(l,l),null,null]}acceptVersionId(r){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(r,l,_){return{startLineNumber:r,endLineNumber:r,indent:0}}getViewLinesBracketGuides(r,l,_){return new Array(l-r+1).fill([])}getViewLinesIndentGuides(r,l){const _=l-r+1,k=new Array(_);for(let H=0;H<_;H++)k[H]=0;return k}getViewLineContent(r){return this.model.getLineContent(r)}getViewLineLength(r){return this.model.getLineLength(r)}getViewLineMinColumn(r){return this.model.getLineMinColumn(r)}getViewLineMaxColumn(r){return this.model.getLineMaxColumn(r)}getViewLineData(r){const l=this.model.getLineTokens(r),_=l.getLineContent();return new be.IP(_,!1,1,_.length+1,0,l.inflate(),null)}getViewLinesData(r,l,_){const k=this.model.getLineCount();r=Math.min(Math.max(1,r),k),l=Math.min(Math.max(1,l),k);const H=[];for(let ie=r;ie<=l;ie++){const he=ie-r;H[he]=_[he]?this.getViewLineData(ie):null}return H}getDecorationsInRange(r,l,_){return this.model.getDecorationsInRange(r,l,_)}normalizePosition(r,l){return this.model.normalizePosition(r,l)}getLineIndentColumn(r){return this.model.getLineIndentColumn(r)}getInjectedTextAt(r){return null}}class vu{constructor(r){this._lines=r}_validPosition(r){return this._lines.model.validatePosition(r)}_validRange(r){return this._lines.model.validateRange(r)}convertViewPositionToModelPosition(r){return this._validPosition(r)}convertViewRangeToModelRange(r){return this._validRange(r)}validateViewPosition(r,l){return this._validPosition(l)}validateViewRange(r,l){return this._validRange(l)}convertModelPositionToViewPosition(r){return this._validPosition(r)}convertModelRangeToViewRange(r){return this._validRange(r)}modelPositionIsVisible(r){const l=this._lines.model.getLineCount();return!(r.lineNumber<1||r.lineNumber>l)}getModelLineViewLineCount(r){return 1}getViewLineNumberOfModelPosition(r,l){return r}}class yu extends C.JT{constructor(r,l,_,k,H,ie,he,we){if(super(),this.languageConfigurationService=he,this._themeService=we,this._editorId=r,this._configuration=l,this.model=_,this._eventDispatcher=new Ri,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Oo.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new We.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new We.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new El(this.model);else{const Le=this._configuration.options,ke=Le.get(44),ze=Le.get(125),qe=Le.get(132),it=Le.get(124);this._lines=new yc(this._editorId,this.model,k,H,ke,this.model.getOptions().tabSize,ze,qe.wrappingColumn,it)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new ad(_,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new la(this._configuration,this.getLineCount(),ie)),this._register(this.viewLayout.onDidScroll(Le=>{Le.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Ms(Le)),this._eventDispatcher.emitOutgoingEvent(new ds(Le.oldScrollWidth,Le.oldScrollLeft,Le.oldScrollHeight,Le.oldScrollTop,Le.scrollWidth,Le.scrollLeft,Le.scrollHeight,Le.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Le=>{this._eventDispatcher.emitOutgoingEvent(Le)})),this._decorations=new dd.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Le=>{try{const ke=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(ke,Le)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(ae.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new mc)})),this._register(this._themeService.onDidColorThemeChange(Le=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Jo(Le))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(r){this._eventDispatcher.addViewEventHandler(r)}removeViewEventHandler(r){this._eventDispatcher.removeViewEventHandler(r)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const r=this.viewLayout.getLinesViewportData(),l=new hn.e(r.startLineNumber,this.getLineMinColumn(r.startLineNumber),r.endLineNumber,this.getLineMaxColumn(r.endLineNumber)),_=this._toModelVisibleRanges(l);for(const k of _)this.model.tokenizeViewport(k.startLineNumber,k.endLineNumber)}setHasFocus(r){this._hasFocus=r,this._cursor.setHasFocus(r),this._eventDispatcher.emitSingleViewEvent(new pu(r)),this._eventDispatcher.emitOutgoingEvent(new To(!r,r))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new La)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new gu)}_onConfigurationChanged(r,l){let _=null;if(-1!==this._viewportStartLine){const ke=new sn.L(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));_=this.coordinatesConverter.convertViewPositionToModelPosition(ke)}let k=!1;const H=this._configuration.options,ie=H.get(44),he=H.get(125),we=H.get(132),Le=H.get(124);if(this._lines.setWrappingSettings(ie,he,we.wrappingColumn,Le)&&(r.emitViewEvent(new Za),r.emitViewEvent(new Ur),r.emitViewEvent(new zr(null)),this._cursor.onLineMappingChanged(r),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(k=!0),this._updateConfigurationViewLineCount.schedule()),l.hasChanged(81)&&(this._decorations.reset(),r.emitViewEvent(new zr(null))),r.emitViewEvent(new xl(l)),this.viewLayout.onConfigurationChanged(l),k&&_){const ke=this.coordinatesConverter.convertModelPositionToViewPosition(_),ze=this.viewLayout.getVerticalOffsetForLineNumber(ke.lineNumber);this.viewLayout.setScrollPosition({scrollTop:ze+this._viewportStartLineDelta},1)}Oo.LM.shouldRecreate(l)&&(this.cursorConfig=new Oo.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(r=>{try{const l=this._eventDispatcher.beginEmitViewEvents();let _=!1,k=!1;const H=r.changes,ie=r instanceof tr.dQ?r.versionId:null,he=this._lines.createLineBreaksComputer();for(const ke of H)switch(ke.changeType){case 4:for(let ze=0;ze<ke.detail.length;ze++){const qe=ke.detail[ze];let it=ke.injectedTexts[ze];it&&(it=it.filter(bt=>!bt.ownerId||bt.ownerId===this._editorId)),he.addRequest(qe,it,null)}break;case 2:{let ze=null;ke.injectedText&&(ze=ke.injectedText.filter(qe=>!qe.ownerId||qe.ownerId===this._editorId)),he.addRequest(ke.detail,ze,null);break}}const we=he.finalize(),Le=new f.H9(we);for(const ke of H)switch(ke.changeType){case 1:this._lines.onModelFlushed(),l.emitViewEvent(new Za),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),_=!0;break;case 3:{const ze=this._lines.onModelLinesDeleted(ie,ke.fromLineNumber,ke.toLineNumber);null!==ze&&(l.emitViewEvent(ze),this.viewLayout.onLinesDeleted(ze.fromLineNumber,ze.toLineNumber)),_=!0;break}case 4:{const ze=Le.takeCount(ke.detail.length),qe=this._lines.onModelLinesInserted(ie,ke.fromLineNumber,ke.toLineNumber,ze);null!==qe&&(l.emitViewEvent(qe),this.viewLayout.onLinesInserted(qe.fromLineNumber,qe.toLineNumber)),_=!0;break}case 2:{const ze=Le.dequeue(),[qe,it,bt,Dt]=this._lines.onModelLineChanged(ie,ke.lineNumber,ze);k=qe,it&&l.emitViewEvent(it),bt&&(l.emitViewEvent(bt),this.viewLayout.onLinesInserted(bt.fromLineNumber,bt.toLineNumber)),Dt&&(l.emitViewEvent(Dt),this.viewLayout.onLinesDeleted(Dt.fromLineNumber,Dt.toLineNumber));break}}null!==ie&&this._lines.acceptVersionId(ie),this.viewLayout.onHeightMaybeChanged(),!_&&k&&(l.emitViewEvent(new Ur),l.emitViewEvent(new zr(null)),this._cursor.onLineMappingChanged(l),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const l=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(l){const _=this.coordinatesConverter.convertModelPositionToViewPosition(l.getStartPosition()),k=this.viewLayout.getVerticalOffsetForLineNumber(_.lineNumber);this.viewLayout.setScrollPosition({scrollTop:k+this._viewportStartLineDelta},1)}}try{const l=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(l,r)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(r=>{const l=[];for(let _=0,k=r.ranges.length;_<k;_++){const H=r.ranges[_],ie=this.coordinatesConverter.convertModelPositionToViewPosition(new sn.L(H.fromLineNumber,1)).lineNumber,he=this.coordinatesConverter.convertModelPositionToViewPosition(new sn.L(H.toLineNumber,this.model.getLineMaxColumn(H.toLineNumber))).lineNumber;l[_]={fromLineNumber:ie,toLineNumber:he}}this._eventDispatcher.emitSingleViewEvent(new Ds(l)),r.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(r=>{this._eventDispatcher.emitSingleViewEvent(new rd),this.cursorConfig=new Oo.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(r=>{this.cursorConfig=new Oo.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(r=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const l=this._eventDispatcher.beginEmitViewEvents();l.emitViewEvent(new Za),l.emitViewEvent(new Ur),l.emitViewEvent(new zr(null)),this._cursor.onLineMappingChanged(l),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Oo.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(r=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new zr(r))}))}setHiddenAreas(r){let l=!1;try{const _=this._eventDispatcher.beginEmitViewEvents();l=this._lines.setHiddenAreas(r),l&&(_.emitViewEvent(new Za),_.emitViewEvent(new Ur),_.emitViewEvent(new zr(null)),this._cursor.onLineMappingChanged(_),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),l&&this._eventDispatcher.emitOutgoingEvent(new Ti)}getVisibleRangesPlusViewportAboveBelow(){const r=this._configuration.options.get(131),l=this._configuration.options.get(59),_=Math.max(20,Math.round(r.height/l)),k=this.viewLayout.getLinesViewportData(),H=Math.max(1,k.completelyVisibleStartLineNumber-_),ie=Math.min(this.getLineCount(),k.completelyVisibleEndLineNumber+_);return this._toModelVisibleRanges(new hn.e(H,this.getLineMinColumn(H),ie,this.getLineMaxColumn(ie)))}getVisibleRanges(){const r=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(r)}_toModelVisibleRanges(r){const l=this.coordinatesConverter.convertViewRangeToModelRange(r),_=this._lines.getHiddenAreas();if(0===_.length)return[l];const k=[];let H=0,ie=l.startLineNumber,he=l.startColumn;const we=l.endLineNumber,Le=l.endColumn;for(let ke=0,ze=_.length;ke<ze;ke++){const qe=_[ke].startLineNumber,it=_[ke].endLineNumber;it<ie||qe>we||(ie<qe&&(k[H++]=new hn.e(ie,he,qe-1,this.model.getLineMaxColumn(qe-1))),ie=it+1,he=1)}return(ie<we||ie===we&&he<Le)&&(k[H++]=new hn.e(ie,he,we,Le)),k}getCompletelyVisibleViewRange(){const r=this.viewLayout.getLinesViewportData(),l=r.completelyVisibleStartLineNumber,_=r.completelyVisibleEndLineNumber;return new hn.e(l,this.getLineMinColumn(l),_,this.getLineMaxColumn(_))}getCompletelyVisibleViewRangeAtScrollTop(r){const l=this.viewLayout.getLinesViewportDataAtScrollTop(r),_=l.completelyVisibleStartLineNumber,k=l.completelyVisibleEndLineNumber;return new hn.e(_,this.getLineMinColumn(_),k,this.getLineMaxColumn(k))}saveState(){const r=this.viewLayout.saveState(),l=r.scrollTop,_=this.viewLayout.getLineNumberAtVerticalOffset(l),k=this.coordinatesConverter.convertViewPositionToModelPosition(new sn.L(_,this.getLineMinColumn(_))),H=this.viewLayout.getVerticalOffsetForLineNumber(_)-l;return{scrollLeft:r.scrollLeft,firstPosition:k,firstPositionDeltaTop:H}}reduceRestoreState(r){if(void 0===r.firstPosition)return this._reduceRestoreStateCompatibility(r);const l=this.model.validatePosition(r.firstPosition),_=this.coordinatesConverter.convertModelPositionToViewPosition(l),k=this.viewLayout.getVerticalOffsetForLineNumber(_.lineNumber)-r.firstPositionDeltaTop;return{scrollLeft:r.scrollLeft,scrollTop:k}}_reduceRestoreStateCompatibility(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(r,l,_){this._viewportStartLine=r;const k=this.coordinatesConverter.convertViewPositionToModelPosition(new sn.L(r,this.getLineMinColumn(r)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new hn.e(k.lineNumber,k.column,k.lineNumber,k.column),1);const H=this.viewLayout.getVerticalOffsetForLineNumber(r),ie=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=ie-H}getActiveIndentGuide(r,l,_){return this._lines.getActiveIndentGuide(r,l,_)}getLinesIndentGuides(r,l){return this._lines.getViewLinesIndentGuides(r,l)}getBracketGuidesInRangeByLine(r,l,_,k){return this._lines.getViewLinesBracketGuides(r,l,_,k)}getLineContent(r){return this._lines.getViewLineContent(r)}getLineLength(r){return this._lines.getViewLineLength(r)}getLineMinColumn(r){return this._lines.getViewLineMinColumn(r)}getLineMaxColumn(r){return this._lines.getViewLineMaxColumn(r)}getLineFirstNonWhitespaceColumn(r){const l=Sn.LC(this.getLineContent(r));return-1===l?0:l+1}getLineLastNonWhitespaceColumn(r){const l=Sn.ow(this.getLineContent(r));return-1===l?0:l+2}getDecorationsInViewport(r){return this._decorations.getDecorationsViewportData(r).decorations}getInjectedTextAt(r){return this._lines.getInjectedTextAt(r)}getViewLineRenderingData(r,l){const _=this.model.mightContainRTL(),k=this.model.mightContainNonBasicASCII(),H=this.getTabSize(),ie=this._lines.getViewLineData(l);let we=this._decorations.getDecorationsViewportData(r).inlineDecorations[l-r.startLineNumber];return ie.inlineDecorations&&(we=[...we,...ie.inlineDecorations.map(Le=>Le.toInlineDecoration(l))]),new be.wA(ie.minColumn,ie.maxColumn,ie.content,ie.continuesWithWrappedLine,_,k,ie.tokens,we,H,ie.startVisibleColumn)}getViewLineData(r){return this._lines.getViewLineData(r)}getMinimapLinesRenderingData(r,l,_){const k=this._lines.getViewLinesData(r,l,_);return new be.ud(this.getTabSize(),k)}getAllOverviewRulerDecorations(r){const l=this.model.getOverviewRulerDecorations(this._editorId,(0,$.$J)(this._configuration.options)),_=new Wh;for(const k of l){const H=k.options,ie=H.overviewRuler;if(!ie)continue;const he=ie.position;if(0===he)continue;const we=ie.getColor(r.value),Le=this.coordinatesConverter.getViewLineNumberOfModelPosition(k.range.startLineNumber,k.range.startColumn),ke=this.coordinatesConverter.getViewLineNumberOfModelPosition(k.range.endLineNumber,k.range.endColumn);_.accept(we,H.zIndex,Le,ke,he)}return _.asArray}_invalidateDecorationsColorCache(){const r=this.model.getOverviewRulerDecorations();for(const l of r){const _=l.options.overviewRuler;_&&_.invalidateCachedColor();const k=l.options.minimap;k&&k.invalidateCachedColor()}}getValueInRange(r,l){const _=this.coordinatesConverter.convertViewRangeToModelRange(r);return this.model.getValueInRange(_,l)}deduceModelPositionRelativeToViewPosition(r,l,_){const k=this.coordinatesConverter.convertViewPositionToModelPosition(r);2===this.model.getEOL().length&&(l<0?l-=_:l+=_);const ie=this.model.getOffsetAt(k)+l;return this.model.getPositionAt(ie)}getPlainTextToCopy(r,l,_){const k=_?"\r\n":this.model.getEOL();(r=r.slice(0)).sort(hn.e.compareRangesUsingStarts);let H=!1,ie=!1;for(const we of r)we.isEmpty()?H=!0:ie=!0;if(!ie){if(!l)return"";const we=r.map(ke=>ke.startLineNumber);let Le="";for(let ke=0;ke<we.length;ke++)ke>0&&we[ke-1]===we[ke]||(Le+=this.model.getLineContent(we[ke])+k);return Le}if(H&&l){const we=[];let Le=0;for(const ke of r){const ze=ke.startLineNumber;ke.isEmpty()?ze!==Le&&we.push(this.model.getLineContent(ze)):we.push(this.model.getValueInRange(ke,_?2:0)),Le=ze}return 1===we.length?we[0]:we}const he=[];for(const we of r)we.isEmpty()||he.push(this.model.getValueInRange(we,_?2:0));return 1===he.length?he[0]:he}getRichTextToCopy(r,l){const _=this.model.getLanguageId();if(_===cd.bd||1!==r.length)return null;let k=r[0];if(k.isEmpty()){if(!l)return null;const ke=k.startLineNumber;k=new hn.e(ke,this.model.getLineMinColumn(ke),ke,this.model.getLineMaxColumn(ke))}const H=this._configuration.options.get(44),ie=this._getColorMap();let Le;return/[:;\\\/<>]/.test(H.fontFamily)||H.fontFamily===$.hL.fontFamily?Le=$.hL.fontFamily:(Le=H.fontFamily,Le=Le.replace(/"/g,"'"),/[,']/.test(Le)||/[+ ]/.test(Le)&&(Le=`'${Le}'`),Le=`${Le}, ${$.hL.fontFamily}`),{mode:_,html:`<div style="color: ${ie[1]};background-color: ${ie[2]};font-family: ${Le};font-weight: ${H.fontWeight};font-size: ${H.fontSize}px;line-height: ${H.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(k,ie)+"</div>"}}_getHTMLToCopy(r,l){const _=r.startLineNumber,k=r.startColumn,H=r.endLineNumber,ie=r.endColumn,he=this.getTabSize();let we="";for(let Le=_;Le<=H;Le++){const ke=this.model.getLineTokens(Le),ze=ke.getLineContent(),qe=Le===_?k-1:0,it=Le===H?ie-1:ze.length;we+=""===ze?"<br>":(0,pc.Fq)(ze,ke.inflate(),l,qe,it,he,z.ED)}return we}_getColorMap(){const r=Mi.RW.getColorMap(),l=["#000000"];if(r)for(let _=1,k=r.length;_<k;_++)l[_]=Mn.Il.Format.CSS.formatHex(r[_]);return l}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(r,l,_){return this._withViewEventsCollector(k=>this._cursor.setStates(k,r,l,_))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(r){this._cursor.setCursorColumnSelectData(r)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(r){this._cursor.setPrevEditOperationType(r)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(r,l,_=0){this._withViewEventsCollector(k=>this._cursor.setSelections(k,r,l,_))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(r){this._withViewEventsCollector(l=>this._cursor.restoreState(l,r))}_executeCursorEdit(r){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new Rh):this._withViewEventsCollector(r)}executeEdits(r,l,_){this._executeCursorEdit(k=>this._cursor.executeEdits(k,r,l,_))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(r=>this._cursor.startComposition(r))}endComposition(r){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(l=>this._cursor.endComposition(l,r))}type(r,l){this._executeCursorEdit(_=>this._cursor.type(_,r,l))}compositionType(r,l,_,k,H){this._executeCursorEdit(ie=>this._cursor.compositionType(ie,r,l,_,k,H))}paste(r,l,_,k){this._executeCursorEdit(H=>this._cursor.paste(H,r,l,_,k))}cut(r){this._executeCursorEdit(l=>this._cursor.cut(l,r))}executeCommand(r,l){this._executeCursorEdit(_=>this._cursor.executeCommand(_,r,l))}executeCommands(r,l){this._executeCursorEdit(_=>this._cursor.executeCommands(_,r,l))}revealPrimaryCursor(r,l,_=!1){this._withViewEventsCollector(k=>this._cursor.revealPrimary(k,r,_,0,l,0))}revealTopMostCursor(r){const l=this._cursor.getTopMostViewPosition(),_=new hn.e(l.lineNumber,l.column,l.lineNumber,l.column);this._withViewEventsCollector(k=>k.emitViewEvent(new fs(r,!1,_,null,0,!0,0)))}revealBottomMostCursor(r){const l=this._cursor.getBottomMostViewPosition(),_=new hn.e(l.lineNumber,l.column,l.lineNumber,l.column);this._withViewEventsCollector(k=>k.emitViewEvent(new fs(r,!1,_,null,0,!0,0)))}revealRange(r,l,_,k,H){this._withViewEventsCollector(ie=>ie.emitViewEvent(new fs(r,!1,_,null,k,l,H)))}changeWhitespace(r){this.viewLayout.changeWhitespace(r)&&(this._eventDispatcher.emitSingleViewEvent(new Ma),this._eventDispatcher.emitOutgoingEvent(new Ti))}_withViewEventsCollector(r){try{return r(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(r,l){return this._lines.normalizePosition(r,l)}getLineIndentColumn(r){return this._lines.getLineIndentColumn(r)}}class Wh{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(r,l,_,k,H){const ie=this._asMap[r];if(ie){const he=ie.data,Le=he[he.length-1];if(he[he.length-3]===H&&Le+1>=_)return void(k>Le&&(he[he.length-1]=k));he.push(H,_,k)}else{const he=new be.SQ(r,l,[H,_,k]);this._asMap[r]=he,this.asArray.push(he)}}}var gd=p(10467),md=p(6461),Mr=p(43569),pd=p(9771),Su=p(8135),Xa=p(59242);class Nl{constructor(r,l,_,k,H){this.injectionOffsets=r,this.injectionOptions=l,this.breakOffsets=_,this.breakOffsetsVisibleColumn=k,this.wrappedTextIndentLength=H}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(r){return r>0?this.wrappedTextIndentLength:0}getLineLength(r){let k=this.breakOffsets[r]-(r>0?this.breakOffsets[r-1]:0);return r>0&&(k+=this.wrappedTextIndentLength),k}getMaxOutputOffset(r){return this.getLineLength(r)}translateToInputOffset(r,l){r>0&&(l=Math.max(0,l-this.wrappedTextIndentLength));let k=0===r?l:this.breakOffsets[r-1]+l;if(null!==this.injectionOffsets)for(let H=0;H<this.injectionOffsets.length&&k>this.injectionOffsets[H];H++)k<this.injectionOffsets[H]+this.injectionOptions[H].content.length?k=this.injectionOffsets[H]:k-=this.injectionOptions[H].content.length;return k}translateToOutputPosition(r,l=2){let _=r;if(null!==this.injectionOffsets)for(let k=0;k<this.injectionOffsets.length&&!(r<this.injectionOffsets[k]||1!==l&&r===this.injectionOffsets[k]);k++)_+=this.injectionOptions[k].content.length;return this.offsetInInputWithInjectionsToOutputPosition(_,l)}offsetInInputWithInjectionsToOutputPosition(r,l=2){let _=0,k=this.breakOffsets.length-1,H=0,ie=0;for(;_<=k;){H=_+(k-_)/2|0;const we=this.breakOffsets[H];if(ie=H>0?this.breakOffsets[H-1]:0,0===l)if(r<=ie)k=H-1;else{if(!(r>we))break;_=H+1}else if(r<ie)k=H-1;else{if(!(r>=we))break;_=H+1}}let he=r-ie;return H>0&&(he+=this.wrappedTextIndentLength),new xc(H,he)}normalizeOutputPosition(r,l,_){if(null!==this.injectionOffsets){const k=this.outputPositionToOffsetInInputWithInjections(r,l),H=this.normalizeOffsetInInputWithInjectionsAroundInjections(k,_);if(H!==k)return this.offsetInInputWithInjectionsToOutputPosition(H,_)}if(0===_){if(r>0&&l===this.getMinOutputOffset(r))return new xc(r-1,this.getMaxOutputOffset(r-1))}else if(1===_&&r<this.getOutputLineCount()-1&&l===this.getMaxOutputOffset(r))return new xc(r+1,this.getMinOutputOffset(r+1));return new xc(r,l)}outputPositionToOffsetInInputWithInjections(r,l){return r>0&&(l=Math.max(0,l-this.wrappedTextIndentLength)),(r>0?this.breakOffsets[r-1]:0)+l}normalizeOffsetInInputWithInjectionsAroundInjections(r,l){const _=this.getInjectedTextAtOffset(r);if(!_)return r;if(2===l){if(r===_.offsetInInputWithInjections+_.length&&xu(this.injectionOptions[_.injectedTextIndex].cursorStops))return _.offsetInInputWithInjections+_.length;{let k=_.offsetInInputWithInjections;if(_d(this.injectionOptions[_.injectedTextIndex].cursorStops))return k;let H=_.injectedTextIndex-1;for(;H>=0&&this.injectionOffsets[H]===this.injectionOffsets[_.injectedTextIndex]&&!xu(this.injectionOptions[H].cursorStops)&&(k-=this.injectionOptions[H].content.length,!_d(this.injectionOptions[H].cursorStops));)H--;return k}}if(1===l){let k=_.offsetInInputWithInjections+_.length,H=_.injectedTextIndex;for(;H+1<this.injectionOffsets.length&&this.injectionOffsets[H+1]===this.injectionOffsets[H];)k+=this.injectionOptions[H+1].content.length,H++;return k}if(0===l){let k=_.offsetInInputWithInjections,H=_.injectedTextIndex;for(;H-1>=0&&this.injectionOffsets[H-1]===this.injectionOffsets[H];)k-=this.injectionOptions[H-1].content.length,H--;return k}(0,Qo.vE)(l)}getInjectedText(r,l){const _=this.outputPositionToOffsetInInputWithInjections(r,l),k=this.getInjectedTextAtOffset(_);return k?{options:this.injectionOptions[k.injectedTextIndex]}:null}getInjectedTextAtOffset(r){const l=this.injectionOffsets,_=this.injectionOptions;if(null!==l){let k=0;for(let H=0;H<l.length;H++){const ie=_[H].content.length,he=l[H]+k,we=l[H]+k+ie;if(he>r)break;if(r<=we)return{injectedTextIndex:H,offsetInInputWithInjections:he,length:ie};k+=ie}}}}function xu(Te){return null==Te||Te===Zt.RM.Right||Te===Zt.RM.Both}function _d(Te){return null==Te||Te===Zt.RM.Left||Te===Zt.RM.Both}class xc{constructor(r,l){this.outputLineIndex=r,this.outputOffset=l}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(r){return new sn.L(r+this.outputLineIndex,this.outputOffset+1)}}class ca{constructor(r,l){this.classifier=new Vh(r,l)}static create(r){return new ca(r.get(120),r.get(119))}createLineBreaksComputer(r,l,_,k){const H=[],ie=[],he=[];return{addRequest:(we,Le,ke)=>{H.push(we),ie.push(Le),he.push(ke)},finalize:()=>{const we=r.typicalFullwidthCharacterWidth/r.typicalHalfwidthCharacterWidth,Le=[];for(let ke=0,ze=H.length;ke<ze;ke++){const qe=ie[ke],it=he[ke];Le[ke]=!it||it.injectionOptions||qe?Il(this.classifier,H[ke],qe,l,_,we,k):vd(this.classifier,it,H[ke],l,_,we,k)}return Cd.length=0,bd.length=0,Le}}}}class Vh extends Xa.N{constructor(r,l){super(0);for(let _=0;_<r.length;_++)this.set(r.charCodeAt(_),1);for(let _=0;_<l.length;_++)this.set(l.charCodeAt(_),2)}get(r){return r>=0&&r<256?this._asciiMap[r]:r>=12352&&r<=12543||r>=13312&&r<=19903||r>=19968&&r<=40959?3:this._map.get(r)||this._defaultValue}}let Cd=[],bd=[];function vd(Te,r,l,_,k,H,ie){if(-1===k)return null;const he=l.length;if(he<=1)return null;const we=r.breakOffsets,Le=r.breakOffsetsVisibleColumn,ke=Lu(l,_,k,H,ie),ze=k-ke,qe=Cd,it=bd;let bt=0,Dt=0,Nt=0,Ht=k;const cn=we.length;let en=0;if(en>=0){let On=Math.abs(Le[en]-Ht);for(;en+1<cn;){const Vn=Math.abs(Le[en+1]-Ht);if(Vn>=On)break;On=Vn,en++}}for(;en<cn;){let On=en<0?0:we[en],Vn=en<0?0:Le[en];Dt>On&&(On=Dt,Vn=Nt);let Tn=0,Rn=0,En=0,vn=0;if(Vn<=Ht){let li=Vn,Mo=0===On?0:l.charCodeAt(On-1),mo=0===On?0:Te.get(Mo),ss=!0;for(let eo=On;eo<he;eo++){const ii=eo,Uo=l.charCodeAt(eo);let In,Ns;if(Sn.ZG(Uo)?(eo++,In=0,Ns=2):(In=Te.get(Uo),Ns=qa(Uo,li,_,H)),ii>Dt&&Pl(0,mo,Uo,In)&&(Tn=ii,Rn=li),li+=Ns,li>Ht){ii>Dt?(En=ii,vn=li-Ns):(En=eo+1,vn=li),li-Rn>ze&&(Tn=0),ss=!1;break}Mo=Uo,mo=In}if(ss){bt>0&&(qe[bt]=we[we.length-1],it[bt]=Le[we.length-1],bt++);break}}if(0===Tn){let li=Vn,Mo=l.charCodeAt(On),mo=Te.get(Mo),ss=!1;for(let eo=On-1;eo>=Dt;eo--){const ii=eo+1,Uo=l.charCodeAt(eo);if(9===Uo){ss=!0;break}let In,Ns;if(Sn.YK(Uo)?(eo--,In=0,Ns=2):(In=Te.get(Uo),Ns=Sn.K7(Uo)?H:1),li<=Ht){if(0===En&&(En=ii,vn=li),li<=Ht-ze)break;if(Pl(0,In,Mo,mo)){Tn=ii,Rn=li;break}}li-=Ns,Mo=Uo,mo=In}if(0!==Tn){const eo=ze-(vn-Rn);if(eo<=_){const ii=l.charCodeAt(En);let Uo;Uo=Sn.ZG(ii)?2:qa(ii,vn,_,H),eo-Uo<0&&(Tn=0)}}if(ss){en--;continue}}if(0===Tn&&(Tn=En,Rn=vn),Tn<=Dt){const li=l.charCodeAt(Dt);Sn.ZG(li)?(Tn=Dt+2,Rn=Nt+2):(Tn=Dt+1,Rn=Nt+qa(li,Nt,_,H))}for(Dt=Tn,qe[bt]=Tn,Nt=Rn,it[bt]=Rn,bt++,Ht=Rn+ze;en<0||en<cn&&Le[en]<Rn;)en++;let Ni=Math.abs(Le[en]-Ht);for(;en+1<cn;){const li=Math.abs(Le[en+1]-Ht);if(li>=Ni)break;Ni=li,en++}}return 0===bt?null:(qe.length=bt,it.length=bt,Cd=r.breakOffsets,bd=r.breakOffsetsVisibleColumn,r.breakOffsets=qe,r.breakOffsetsVisibleColumn=it,r.wrappedTextIndentLength=ke,r)}function Il(Te,r,l,_,k,H,ie){const he=tr.gk.applyInjectedText(r,l);let we,Le;if(l&&l.length>0?(we=l.map(Rn=>Rn.options),Le=l.map(Rn=>Rn.column-1)):(we=null,Le=null),-1===k)return we?new Nl(Le,we,[he.length],[],0):null;const ke=he.length;if(ke<=1)return we?new Nl(Le,we,[he.length],[],0):null;const ze=Lu(he,_,k,H,ie),qe=k-ze,it=[],bt=[];let Dt=0,Nt=0,Ht=0,cn=k,en=he.charCodeAt(0),On=Te.get(en),Vn=qa(en,0,_,H),Tn=1;Sn.ZG(en)&&(Vn+=1,en=he.charCodeAt(1),On=Te.get(en),Tn++);for(let Rn=Tn;Rn<ke;Rn++){const En=Rn,vn=he.charCodeAt(Rn);let Ni,li;Sn.ZG(vn)?(Rn++,Ni=0,li=2):(Ni=Te.get(vn),li=qa(vn,Vn,_,H)),Pl(0,On,vn,Ni)&&(Nt=En,Ht=Vn),Vn+=li,Vn>cn&&((0===Nt||Vn-Ht>qe)&&(Nt=En,Ht=Vn-li),it[Dt]=Nt,bt[Dt]=Ht,Dt++,cn=Ht+qe,Nt=0),en=vn,On=Ni}return 0!==Dt||l&&0!==l.length?(it[Dt]=ke,bt[Dt]=Vn,new Nl(Le,we,it,bt,ze)):null}function qa(Te,r,l,_){return 9===Te?l-r%l:Sn.K7(Te)||Te<32?_:1}function jr(Te,r){return r-Te%r}function Pl(Te,r,l,_){return 32!==l&&(2===r||3===r&&2!==_||1===_||3===_&&1!==r)}function Lu(Te,r,l,_,k){let H=0;if(0!==k){const ie=Sn.LC(Te);if(-1!==ie){for(let we=0;we<ie;we++)H+=9===Te.charCodeAt(we)?jr(H,r):1;const he=3===k?2:2===k?1:0;for(let we=0;we<he;we++)H+=jr(H,r);H+_>l&&(H=0)}}return H}var kl;const Es=null===(kl=window.trustedTypes)||void 0===kl?void 0:kl.createPolicy("domLineBreaksComputer",{createHTML:Te=>Te});class zo{static create(){return new zo}constructor(){}createLineBreaksComputer(r,l,_,k){const H=[],ie=[];return{addRequest:(he,we,Le)=>{H.push(he),ie.push(we)},finalize:()=>function(Te,r,l,_,k,H){var ie;function he(En){const vn=H[En];if(vn){const Ni=tr.gk.applyInjectedText(Te[En],vn),li=vn.map(mo=>mo.options),Mo=vn.map(mo=>mo.column-1);return new Nl(Mo,li,[Ni.length],[],0)}return null}if(-1===_){const En=[];for(let vn=0,Ni=Te.length;vn<Ni;vn++)En[vn]=he(vn);return En}const we=Math.round(_*r.typicalHalfwidthCharacterWidth),ke=Math.round(l*(3===k?2:2===k?1:0)),ze=Math.ceil(r.spaceWidth*ke),qe=document.createElement("div");(0,qt.N)(qe,r);const it=(0,Xi.l$)(1e4),bt=[],Dt=[],Nt=[],Ht=[],cn=[];for(let En=0;En<Te.length;En++){const vn=tr.gk.applyInjectedText(Te[En],H[En]);let Ni=0,li=0,Mo=we;if(0!==k)if(Ni=Sn.LC(vn),-1===Ni)Ni=0;else{for(let ii=0;ii<Ni;ii++)li+=9===vn.charCodeAt(ii)?l-li%l:1;const eo=Math.ceil(r.spaceWidth*li);eo+r.typicalFullwidthCharacterWidth>we?(Ni=0,li=0):Mo=we-eo}const mo=vn.substr(Ni),ss=vg(mo,li,l,Mo,it,ze);bt[En]=Ni,Dt[En]=li,Nt[En]=mo,Ht[En]=ss[0],cn[En]=ss[1]}const en=it.build(),On=null!==(ie=null==Es?void 0:Es.createHTML(en))&&void 0!==ie?ie:en;qe.innerHTML=On,qe.style.position="absolute",qe.style.top="10000",qe.style.wordWrap="break-word",document.body.appendChild(qe);const Vn=document.createRange(),Tn=Array.prototype.slice.call(qe.children,0),Rn=[];for(let En=0;En<Te.length;En++){const Ni=Xe(Vn,Tn[En],Nt[En],Ht[En]);if(null===Ni){Rn[En]=he(En);continue}const li=bt[En],Mo=Dt[En]+ke,mo=cn[En],ss=[];for(let In=0,Ns=Ni.length;In<Ns;In++)ss[In]=mo[Ni[In]];if(0!==li)for(let In=0,Ns=Ni.length;In<Ns;In++)Ni[In]+=li;let eo,ii;const Uo=H[En];Uo?(eo=Uo.map(In=>In.options),ii=Uo.map(In=>In.column-1)):(eo=null,ii=null),Rn[En]=new Nl(ii,eo,Ni,ss,Mo)}return document.body.removeChild(qe),Rn}(H,r,l,_,k,ie)}}}function vg(Te,r,l,_,k,H){if(0!==H){const qe=String(H);k.appendASCIIString('<div style="text-indent: -'),k.appendASCIIString(qe),k.appendASCIIString("px; padding-left: "),k.appendASCIIString(qe),k.appendASCIIString("px; box-sizing: border-box; width:")}else k.appendASCIIString('<div style="width:');k.appendASCIIString(String(_)),k.appendASCIIString('px;">');const ie=Te.length;let he=r,we=0;const Le=[],ke=[];let ze=0<ie?Te.charCodeAt(0):0;k.appendASCIIString("<span>");for(let qe=0;qe<ie;qe++){0!==qe&&qe%16384==0&&k.appendASCIIString("</span><span>"),Le[qe]=we,ke[qe]=he;const it=ze;ze=qe+1<ie?Te.charCodeAt(qe+1):0;let bt=1,Dt=1;switch(it){case 9:bt=l-he%l,Dt=bt;for(let Nt=1;Nt<=bt;Nt++)Nt<bt?k.write1(160):k.appendASCII(32);break;case 32:32===ze?k.write1(160):k.appendASCII(32);break;case 60:k.appendASCIIString("&lt;");break;case 62:k.appendASCIIString("&gt;");break;case 38:k.appendASCIIString("&amp;");break;case 0:k.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:k.write1(65533);break;default:Sn.K7(it)&&Dt++,k.write1(it<32?9216+it:it)}we+=bt,he+=Dt}return k.appendASCIIString("</span>"),Le[Te.length]=we,ke[Te.length]=he,k.appendASCIIString("</div>"),[Le,ke]}function Xe(Te,r,l,_){if(l.length<=1)return null;const k=Array.prototype.slice.call(r.children,0),H=[];try{ui(Te,k,_,0,null,l.length-1,null,H)}catch(ie){return console.log(ie),null}return 0===H.length?null:(H.push(l.length),H)}function ui(Te,r,l,_,k,H,ie,he){if(_===H||(k=k||pt(Te,r,l[_],l[_+1]),ie=ie||pt(Te,r,l[H],l[H+1]),Math.abs(k[0].top-ie[0].top)<=.1))return;if(_+1===H)return void he.push(H);const we=_+(H-_)/2|0,Le=pt(Te,r,l[we],l[we+1]);ui(Te,r,l,_,k,we,Le,he),ui(Te,r,l,we,Le,H,ie,he)}function pt(Te,r,l,_){return Te.setStart(r[l/16384|0].firstChild,l%16384),Te.setEnd(r[_/16384|0].firstChild,_%16384),Te.getClientRects()}var Me=p(34397),Qt=p(92119),Hh=p(3494),gr=function(Te,r){return function(l,_){r(l,_,Te)}};let Ol=0;class Dr{constructor(r,l,_,k,H){this.model=r,this.viewModel=l,this.view=_,this.hasRealView=k,this.listenersToRemove=H}dispose(){(0,C.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Tl=class yp extends C.JT{constructor(r,l,_,k,H,ie,he,we,Le,ke,ze,qe){super(),this.languageConfigurationService=ze,this._onDidDispose=this._register(new y.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new y.Q5),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new y.Q5),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new y.Q5),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new y.Q5),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new y.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new y.Q5),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new y.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new y.Q5),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new y.Q5),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new y.Q5),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new y.Q5),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Ea),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Ea),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new y.Q5),this.onWillType=this._onWillType.event,this._onDidType=this._register(new y.Q5),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new y.Q5),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new y.Q5),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new y.Q5),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new y.Q5),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new y.Q5),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new y.Q5),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new y.Q5),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new y.Q5),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new y.Q5),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new y.Q5),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new y.Q5),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new y.Q5),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new y.Q5),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new y.Q5),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new y.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new y.Q5),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new y.Q5),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new y.Q5),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null;const it=Object.assign({},l);let bt;this._domElement=r,this._overflowWidgetsDomNode=it.overflowWidgetsDomNode,delete it.overflowWidgetsDomNode,this._id=++Ol,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=_.telemetryData,this._configuration=this._register(this._createConfiguration(_.isSimpleWidget||!1,it,ke)),this._register(this._configuration.onDidChange(Dt=>{this._onDidChangeConfiguration.fire(Dt);const Nt=this._configuration.options;if(Dt.hasChanged(131)){const Ht=Nt.get(131);this._onDidLayoutChange.fire(Ht)}})),this._contextKeyService=this._register(he.createScoped(this._domElement)),this._notificationService=Le,this._codeEditorService=H,this._commandService=ie,this._themeService=we,this._register(new Lc(this,this._contextKeyService)),this._register(new Mu(this,this._contextKeyService,qe)),this._instantiationService=k.createChild(new pd.y([md.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Hn(r),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},bt=Array.isArray(_.contributions)?_.contributions:g.Uc.getEditorContributions();for(const Dt of bt)if(this._contributions[Dt.id])(0,P.dL)(new Error(`Cannot have two contributions with the same id ${Dt.id}`));else try{const Nt=this._instantiationService.createInstance(Dt.ctor,this);this._contributions[Dt.id]=Nt}catch(Nt){(0,P.dL)(Nt)}g.Uc.getEditorActions().forEach(Dt=>{if(this._actions[Dt.id])return void(0,P.dL)(new Error(`Cannot have two actions with the same id ${Dt.id}`));const Nt=new Qa.p(Dt.id,Dt.label,Dt.alias,(0,Qo.f6)(Dt.precondition),()=>this._instantiationService.invokeFunction(Ht=>Promise.resolve(Dt.runEditorCommand(Ht,this,null))),this._contextKeyService);this._actions[Nt.id]=Nt}),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(r,l,_){return new pe(r,l,this._domElement,_)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return ld.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const r=Object.keys(this._contributions);for(let l=0,_=r.length;l<_;l++)this._contributions[r[l]].dispose();this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(r){return this._instantiationService.invokeFunction(r)}updateOptions(r){this._configuration.updateOptions(r||{})}getOptions(){return this._configuration.options}getOption(r){return this._configuration.options.get(r)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(r){return this._modelData?Me.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),r):null}getValue(r=null){if(!this._modelData)return"";let _=0;return r&&r.lineEnding&&"\n"===r.lineEnding?_=1:r&&r.lineEnding&&"\r\n"===r.lineEnding&&(_=2),this._modelData.model.getValue(_,!(!r||!r.preserveBOM))}setValue(r){!this._modelData||this._modelData.model.setValue(r)}getModel(){return this._modelData?this._modelData.model:null}setModel(r=null){const l=r;if(null===this._modelData&&null===l||this._modelData&&this._modelData.model===l)return;const _=this.hasTextFocus(),k=this._detachModel();this._attachModel(l),_&&this.hasModel()&&this.focus();const H={oldModelUrl:k?k.uri:null,newModelUrl:l?l.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(H),this._postDetachModelCleanup(k)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let r in this._decorationTypeSubtypes){const l=this._decorationTypeSubtypes[r];for(let _ in l)this._removeDecorationType(r+"-"+_)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(r,l,_){const k=r.model.validatePosition({lineNumber:l,column:_}),H=r.viewModel.coordinatesConverter.convertModelPositionToViewPosition(k);return r.viewModel.viewLayout.getVerticalOffsetForLineNumber(H.lineNumber)}getTopForLineNumber(r){return this._modelData?yp._getVerticalOffsetForPosition(this._modelData,r,1):-1}getTopForPosition(r,l){return this._modelData?yp._getVerticalOffsetForPosition(this._modelData,r,l):-1}setHiddenAreas(r){this._modelData&&this._modelData.viewModel.setHiddenAreas(r.map(l=>hn.e.lift(l)))}getVisibleColumnFromPosition(r){if(!this._modelData)return r.column;const l=this._modelData.model.validatePosition(r),_=this._modelData.model.getOptions().tabSize;return _n.i.visibleColumnFromColumn(this._modelData.model.getLineContent(l.lineNumber),l.column,_)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(r,l="api"){if(this._modelData){if(!sn.L.isIPosition(r))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(l,[{selectionStartLineNumber:r.lineNumber,selectionStartColumn:r.column,positionLineNumber:r.lineNumber,positionColumn:r.column}])}}_sendRevealRange(r,l,_,k){if(!this._modelData)return;if(!hn.e.isIRange(r))throw new Error("Invalid arguments");const H=this._modelData.model.validateRange(r),ie=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(H);this._modelData.viewModel.revealRange("api",_,ie,l,k)}revealLine(r,l=0){this._revealLine(r,0,l)}revealLineInCenter(r,l=0){this._revealLine(r,1,l)}revealLineInCenterIfOutsideViewport(r,l=0){this._revealLine(r,2,l)}revealLineNearTop(r,l=0){this._revealLine(r,5,l)}_revealLine(r,l,_){if("number"!=typeof r)throw new Error("Invalid arguments");this._sendRevealRange(new hn.e(r,1,r,1),l,!1,_)}revealPosition(r,l=0){this._revealPosition(r,0,!0,l)}revealPositionInCenter(r,l=0){this._revealPosition(r,1,!0,l)}revealPositionInCenterIfOutsideViewport(r,l=0){this._revealPosition(r,2,!0,l)}revealPositionNearTop(r,l=0){this._revealPosition(r,5,!0,l)}_revealPosition(r,l,_,k){if(!sn.L.isIPosition(r))throw new Error("Invalid arguments");this._sendRevealRange(new hn.e(r.lineNumber,r.column,r.lineNumber,r.column),l,_,k)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(r,l="api"){const _=re.Y.isISelection(r),k=hn.e.isIRange(r);if(!_&&!k)throw new Error("Invalid arguments");_?this._setSelectionImpl(r,l):k&&this._setSelectionImpl({selectionStartLineNumber:r.startLineNumber,selectionStartColumn:r.startColumn,positionLineNumber:r.endLineNumber,positionColumn:r.endColumn},l)}_setSelectionImpl(r,l){if(!this._modelData)return;const _=new re.Y(r.selectionStartLineNumber,r.selectionStartColumn,r.positionLineNumber,r.positionColumn);this._modelData.viewModel.setSelections(l,[_])}revealLines(r,l,_=0){this._revealLines(r,l,0,_)}revealLinesInCenter(r,l,_=0){this._revealLines(r,l,1,_)}revealLinesInCenterIfOutsideViewport(r,l,_=0){this._revealLines(r,l,2,_)}revealLinesNearTop(r,l,_=0){this._revealLines(r,l,5,_)}_revealLines(r,l,_,k){if("number"!=typeof r||"number"!=typeof l)throw new Error("Invalid arguments");this._sendRevealRange(new hn.e(r,1,l,1),_,!1,k)}revealRange(r,l=0,_=!1,k=!0){this._revealRange(r,_?1:0,k,l)}revealRangeInCenter(r,l=0){this._revealRange(r,1,!0,l)}revealRangeInCenterIfOutsideViewport(r,l=0){this._revealRange(r,2,!0,l)}revealRangeNearTop(r,l=0){this._revealRange(r,5,!0,l)}revealRangeNearTopIfOutsideViewport(r,l=0){this._revealRange(r,6,!0,l)}revealRangeAtTop(r,l=0){this._revealRange(r,3,!0,l)}_revealRange(r,l,_,k){if(!hn.e.isIRange(r))throw new Error("Invalid arguments");this._sendRevealRange(hn.e.lift(r),l,_,k)}setSelections(r,l="api",_=0){if(this._modelData){if(!r||0===r.length)throw new Error("Invalid arguments");for(let k=0,H=r.length;k<H;k++)if(!re.Y.isISelection(r[k]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(l,r,_)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(r,l=1){if(this._modelData){if("number"!=typeof r)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:r},l)}}setScrollTop(r,l=1){if(this._modelData){if("number"!=typeof r)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:r},l)}}setScrollPosition(r,l=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(r,l)}saveViewState(){if(!this._modelData)return null;const r={},l=Object.keys(this._contributions);for(const H of l){const ie=this._contributions[H];"function"==typeof ie.saveViewState&&(r[H]=ie.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:r}}restoreViewState(r){if(!this._modelData||!this._modelData.hasRealView)return;const l=r;if(l&&l.cursorState&&l.viewState){const _=l.cursorState;Array.isArray(_)?_.length>0&&this._modelData.viewModel.restoreCursorState(_):this._modelData.viewModel.restoreCursorState([_]);const k=l.contributionsState||{},H=Object.keys(this._contributions);for(let he=0,we=H.length;he<we;he++){const Le=H[he],ke=this._contributions[Le];"function"==typeof ke.restoreViewState&&ke.restoreViewState(k[Le])}const ie=this._modelData.viewModel.reduceRestoreState(l.viewState);this._modelData.view.restoreState(ie)}}getContribution(r){return this._contributions[r]||null}getActions(){const r=[],l=Object.keys(this._actions);for(let _=0,k=l.length;_<k;_++)r.push(this._actions[l[_]]);return r}getSupportedActions(){let r=this.getActions();return r=r.filter(l=>l.isSupported()),r}getAction(r){return this._actions[r]||null}trigger(r,l,_){switch(_=_||{},l){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(r);case"type":return void this._type(r,_.text||"");case"replacePreviousChar":return void this._compositionType(r,_.text||"",_.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(r,_.text||"",_.replacePrevCharCnt||0,_.replaceNextCharCnt||0,_.positionDelta||0);case"paste":return void this._paste(r,_.text||"",_.pasteOnNewLine||!1,_.multicursorText||null,_.mode||null);case"cut":return void this._cut(r)}const k=this.getAction(l);k?Promise.resolve(k.run()).then(void 0,P.dL):!this._modelData||this._triggerEditorCommand(r,l,_)||this._triggerCommand(l,_)}_triggerCommand(r,l){this._commandService.executeCommand(r,l)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(r){!this._modelData||(this._modelData.viewModel.endComposition(r),this._onDidCompositionEnd.fire())}_type(r,l){!this._modelData||0===l.length||("keyboard"===r&&this._onWillType.fire(l),this._modelData.viewModel.type(l,r),"keyboard"===r&&this._onDidType.fire(l))}_compositionType(r,l,_,k,H){!this._modelData||this._modelData.viewModel.compositionType(l,_,k,H,r)}_paste(r,l,_,k,H){if(!this._modelData||0===l.length)return;const ie=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(l,_,k,r);const he=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===r&&this._onDidPaste.fire({range:new hn.e(ie.lineNumber,ie.column,he.lineNumber,he.column),languageId:H})}_cut(r){!this._modelData||this._modelData.viewModel.cut(r)}_triggerEditorCommand(r,l,_){const k=g.Uc.getEditorCommand(l);return!!k&&((_=_||{}).source=r,this._instantiationService.invokeFunction(H=>{Promise.resolve(k.runEditorCommand(H,this,_)).then(void 0,P.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(81)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(81)||(this._modelData.model.popStackElement(),0))}executeEdits(r,l,_){if(!this._modelData||this._configuration.options.get(81))return!1;let k;return k=_?Array.isArray(_)?()=>_:_:()=>null,this._modelData.viewModel.executeEdits(r,l,k),!0}executeCommand(r,l){!this._modelData||this._modelData.viewModel.executeCommand(l,r)}executeCommands(r,l){!this._modelData||this._modelData.viewModel.executeCommands(l,r)}changeDecorations(r){return this._modelData?this._modelData.model.changeDecorations(r,this._id):null}getLineDecorations(r){return this._modelData?this._modelData.model.getLineDecorations(r,this._id,(0,$.$J)(this._configuration.options)):null}getDecorationsInRange(r){return this._modelData?this._modelData.model.getDecorationsInRange(r,this._id,(0,$.$J)(this._configuration.options)):null}deltaDecorations(r,l){return this._modelData?0===r.length&&0===l.length?r:this._modelData.model.deltaDecorations(r,l,this._id):[]}removeDecorations(r){const l=this._decorationTypeKeysToIds[r];l&&this.deltaDecorations(l,[]),this._decorationTypeKeysToIds.hasOwnProperty(r)&&delete this._decorationTypeKeysToIds[r],this._decorationTypeSubtypes.hasOwnProperty(r)&&delete this._decorationTypeSubtypes[r]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(r){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(r):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(r)}layout(r){this._configuration.observeContainer(r),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(r){const l={widget:r,position:r.getPosition()};this._contentWidgets.hasOwnProperty(r.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[r.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(l)}layoutContentWidget(r){const l=r.getId();if(this._contentWidgets.hasOwnProperty(l)){const _=this._contentWidgets[l];_.position=r.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(_)}}removeContentWidget(r){const l=r.getId();if(this._contentWidgets.hasOwnProperty(l)){const _=this._contentWidgets[l];delete this._contentWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(_)}}addOverlayWidget(r){const l={widget:r,position:r.getPosition()};this._overlayWidgets.hasOwnProperty(r.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[r.getId()]=l,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(l)}layoutOverlayWidget(r){const l=r.getId();if(this._overlayWidgets.hasOwnProperty(l)){const _=this._overlayWidgets[l];_.position=r.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(_)}}removeOverlayWidget(r){const l=r.getId();if(this._overlayWidgets.hasOwnProperty(l)){const _=this._overlayWidgets[l];delete this._overlayWidgets[l],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(_)}}changeViewZones(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(r)}getTargetAtClientPoint(r,l){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(r,l):null}getScrolledVisiblePosition(r){if(!this._modelData||!this._modelData.hasRealView)return null;const l=this._modelData.model.validatePosition(r),_=this._configuration.options,k=_.get(131);return{top:yp._getVerticalOffsetForPosition(this._modelData,l.lineNumber,l.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(l.lineNumber,l.column)+k.glyphMarginWidth+k.lineNumbersWidth+k.decorationsWidth-this.getScrollLeft(),height:_.get(59)}}getOffsetForColumn(r,l){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(r,l):-1}render(r=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,r)}setAriaOptions(r){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(r)}applyFontInfo(r){(0,qt.N)(r,this._configuration.options.get(44))}setBanner(r,l){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=r,this._configuration.setReservedHeight(r?l:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(r){if(!r)return void(this._modelData=null);const l=[];this._domElement.setAttribute("data-mode-id",r.getLanguageId()),this._configuration.setIsDominatedByLongLines(r.isDominatedByLongLines()),this._configuration.setModelLineCount(r.getLineCount()),r.onBeforeAttached();const _=new yu(this._id,this._configuration,r,zo.create(),ca.create(this._configuration.options),ie=>B.jL(ie),this.languageConfigurationService,this._themeService);l.push(r.onDidChangeDecorations(ie=>this._onDidChangeModelDecorations.fire(ie))),l.push(r.onDidChangeLanguage(ie=>{this._domElement.setAttribute("data-mode-id",r.getLanguageId()),this._onDidChangeModelLanguage.fire(ie)})),l.push(r.onDidChangeLanguageConfiguration(ie=>this._onDidChangeModelLanguageConfiguration.fire(ie))),l.push(r.onDidChangeContent(ie=>this._onDidChangeModelContent.fire(ie))),l.push(r.onDidChangeOptions(ie=>this._onDidChangeModelOptions.fire(ie))),l.push(r.onWillDispose(()=>this.setModel(null))),l.push(_.onEvent(ie=>{switch(ie.kind){case 0:this._onDidContentSizeChange.fire(ie);break;case 1:this._editorTextFocus.setValue(ie.hasFocus);break;case 2:this._onDidScrollChange.fire(ie);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ie.reachedMaxCursorCount&&this._notificationService.warn(T.N("cursors.maximum","The number of cursors has been limited to {0}.",ad.MAX_CURSOR_COUNT));const he=[];for(let ke=0,ze=ie.selections.length;ke<ze;ke++)he[ke]=ie.selections[ke].getPosition();const we={position:he[0],secondaryPositions:he.slice(1),reason:ie.reason,source:ie.source};this._onDidChangeCursorPosition.fire(we);const Le={selection:ie.selections[0],secondarySelections:ie.selections.slice(1),modelVersionId:ie.modelVersionId,oldSelections:ie.oldSelections,oldModelVersionId:ie.oldModelVersionId,source:ie.source,reason:ie.reason};this._onDidChangeCursorSelection.fire(Le);break}}}));const[k,H]=this._createView(_);if(H){this._domElement.appendChild(k.domNode.domNode);let ie=Object.keys(this._contentWidgets);for(let he=0,we=ie.length;he<we;he++)k.addContentWidget(this._contentWidgets[ie[he]]);ie=Object.keys(this._overlayWidgets);for(let he=0,we=ie.length;he<we;he++)k.addOverlayWidget(this._overlayWidgets[ie[he]]);k.render(!1,!0),k.domNode.domNode.setAttribute("data-uri",r.uri.toString())}this._modelData=new Dr(r,_,k,H,l)}_createView(r){let l;l=this.isSimpleWidget?{paste:(H,ie,he,we)=>{this._paste("keyboard",H,ie,he,we)},type:H=>{this._type("keyboard",H)},compositionType:(H,ie,he,we)=>{this._compositionType("keyboard",H,ie,he,we)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(H,ie,he,we)=>{this._commandService.executeCommand("paste",{text:H,pasteOnNewLine:ie,multicursorText:he,mode:we})},type:H=>{this._commandService.executeCommand("type",{text:H})},compositionType:(H,ie,he,we)=>{he||we?this._commandService.executeCommand("compositionType",{text:H,replacePrevCharCnt:ie,replaceNextCharCnt:he,positionDelta:we}):this._commandService.executeCommand("replacePreviousChar",{text:H,replaceCharCnt:ie})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const _=new Ci(r.coordinatesConverter);return _.onKeyDown=H=>this._onKeyDown.fire(H),_.onKeyUp=H=>this._onKeyUp.fire(H),_.onContextMenu=H=>this._onContextMenu.fire(H),_.onMouseMove=H=>this._onMouseMove.fire(H),_.onMouseLeave=H=>this._onMouseLeave.fire(H),_.onMouseDown=H=>this._onMouseDown.fire(H),_.onMouseUp=H=>this._onMouseUp.fire(H),_.onMouseDrag=H=>this._onMouseDrag.fire(H),_.onMouseDrop=H=>this._onMouseDrop.fire(H),_.onMouseDropCanceled=H=>this._onMouseDropCanceled.fire(H),_.onMouseWheel=H=>this._onMouseWheel.fire(H),[new fc(l,this._configuration,this._themeService.getColorTheme(),r,_,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(r){r&&r.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const r=this._modelData.model,l=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),l&&this._domElement.contains(l)&&this._domElement.removeChild(l),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),r}_removeDecorationType(r){this._codeEditorService.removeDecorationType(r)}hasModel(){return null!==this._modelData}};Tl=function(Te,r,l,_){var ie,k=arguments.length,H=k<3?r:null===_?_=Object.getOwnPropertyDescriptor(r,l):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(Te,r,l,_);else for(var he=Te.length-1;he>=0;he--)(ie=Te[he])&&(H=(k<3?ie(H):k>3?ie(r,l,H):ie(r,l))||H);return k>3&&H&&Object.defineProperty(r,l,H),H}([gr(3,Mr.TG),gr(4,J.$),gr(5,gd.Hy),gr(6,md.i6),gr(7,Pn.XE),gr(8,Su.lT),gr(9,oe.F),gr(10,Qt.c_),gr(11,Hh.p)],Tl);class Ea extends C.JT{constructor(){super(),this._onDidChangeToTrue=this._register(new y.Q5),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new y.Q5),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(r){const l=r?2:1;this._value!==l&&(this._value=l,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class Lc extends C.JT{constructor(r,l){super(),this._editor=r,l.createKey("editorId",r.getId()),this._editorSimpleInput=co.u.editorSimpleInput.bindTo(l),this._editorFocus=co.u.focus.bindTo(l),this._textInputFocus=co.u.textInputFocus.bindTo(l),this._editorTextFocus=co.u.editorTextFocus.bindTo(l),this._editorTabMovesFocus=co.u.tabMovesFocus.bindTo(l),this._editorReadonly=co.u.readOnly.bindTo(l),this._inDiffEditor=co.u.inDiffEditor.bindTo(l),this._editorColumnSelection=co.u.columnSelection.bindTo(l),this._hasMultipleSelections=co.u.hasMultipleSelections.bindTo(l),this._hasNonEmptySelection=co.u.hasNonEmptySelection.bindTo(l),this._canUndo=co.u.canUndo.bindTo(l),this._canRedo=co.u.canRedo.bindTo(l),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const r=this._editor.getOptions();this._editorTabMovesFocus.set(r.get(130)),this._editorReadonly.set(r.get(81)),this._inDiffEditor.set(r.get(54)),this._editorColumnSelection.set(r.get(18))}_updateFromSelection(){const r=this._editor.getSelections();r?(this._hasMultipleSelections.set(r.length>1),this._hasNonEmptySelection.set(r.some(l=>!l.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const r=this._editor.getModel();this._canUndo.set(Boolean(r&&r.canUndo())),this._canRedo.set(Boolean(r&&r.canRedo()))}}class Mu extends C.JT{constructor(r,l,_){super(),this._editor=r,this._contextKeyService=l,this._languageFeaturesService=_,this._langId=co.u.languageId.bindTo(l),this._hasCompletionItemProvider=co.u.hasCompletionItemProvider.bindTo(l),this._hasCodeActionsProvider=co.u.hasCodeActionsProvider.bindTo(l),this._hasCodeLensProvider=co.u.hasCodeLensProvider.bindTo(l),this._hasDefinitionProvider=co.u.hasDefinitionProvider.bindTo(l),this._hasDeclarationProvider=co.u.hasDeclarationProvider.bindTo(l),this._hasImplementationProvider=co.u.hasImplementationProvider.bindTo(l),this._hasTypeDefinitionProvider=co.u.hasTypeDefinitionProvider.bindTo(l),this._hasHoverProvider=co.u.hasHoverProvider.bindTo(l),this._hasDocumentHighlightProvider=co.u.hasDocumentHighlightProvider.bindTo(l),this._hasDocumentSymbolProvider=co.u.hasDocumentSymbolProvider.bindTo(l),this._hasReferenceProvider=co.u.hasReferenceProvider.bindTo(l),this._hasRenameProvider=co.u.hasRenameProvider.bindTo(l),this._hasSignatureHelpProvider=co.u.hasSignatureHelpProvider.bindTo(l),this._hasInlayHintsProvider=co.u.hasInlayHintsProvider.bindTo(l),this._hasDocumentFormattingProvider=co.u.hasDocumentFormattingProvider.bindTo(l),this._hasDocumentSelectionFormattingProvider=co.u.hasDocumentSelectionFormattingProvider.bindTo(l),this._hasMultipleDocumentFormattingProvider=co.u.hasMultipleDocumentFormattingProvider.bindTo(l),this._hasMultipleDocumentSelectionFormattingProvider=co.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(l),this._isInWalkThrough=co.u.isInWalkThroughSnippet.bindTo(l);const k=()=>this._update();this._register(r.onDidChangeModel(k)),this._register(r.onDidChangeModelLanguage(k)),this._register(_.completionProvider.onDidChange(k)),this._register(_.codeActionProvider.onDidChange(k)),this._register(_.codeLensProvider.onDidChange(k)),this._register(_.definitionProvider.onDidChange(k)),this._register(_.declarationProvider.onDidChange(k)),this._register(_.implementationProvider.onDidChange(k)),this._register(_.typeDefinitionProvider.onDidChange(k)),this._register(_.hoverProvider.onDidChange(k)),this._register(_.documentHighlightProvider.onDidChange(k)),this._register(_.documentSymbolProvider.onDidChange(k)),this._register(_.referenceProvider.onDidChange(k)),this._register(_.renameProvider.onDidChange(k)),this._register(_.documentFormattingEditProvider.onDidChange(k)),this._register(_.documentRangeFormattingEditProvider.onDidChange(k)),this._register(_.signatureHelpProvider.onDidChange(k)),this._register(_.inlayHintsProvider.onDidChange(k)),k()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const r=this._editor.getModel();r?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(r.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(r)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(r)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(r)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(r)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(r)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(r)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(r)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(r)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(r)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(r)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(r)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(r)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(r)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(r)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(r)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(r)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(r)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(r).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(r).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(r).length>1),this._isInWalkThrough.set(r.uri.scheme===b.lg.walkThroughSnippet)}):this.reset()}}class Hn extends C.JT{constructor(r){super(),this._onChange=this._register(new y.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(B.go(r)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const At=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Na=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function qn(Te){return At+encodeURIComponent(Te.toString())+Na}const It=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),os=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,Pn.Ic)((Te,r)=>{const l=Te.getColor(lo.b6y);l&&r.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${l}; }`);const _=Te.getColor(lo.lXJ);_&&r.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${qn(_)}") repeat-x bottom left; }`);const k=Te.getColor(lo.L_H);k&&r.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${k}; }`);const H=Te.getColor(lo.pW3);H&&r.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${H}; }`);const ie=Te.getColor(lo.uoC);ie&&r.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${qn(ie)}") repeat-x bottom left; }`);const he=Te.getColor(lo.gpD);he&&r.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${he}; }`);const we=Te.getColor(lo.T83);we&&r.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${we}; }`);const Le=Te.getColor(lo.c63);Le&&r.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${qn(Le)}") repeat-x bottom left; }`);const ke=Te.getColor(lo.few);ke&&r.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${ke}; }`);const ze=Te.getColor(lo.fEB);ze&&r.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${ze}; }`);const qe=Te.getColor(lo.Dut);qe&&r.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function(Te){return It+encodeURIComponent(Te.toString())+os}(qe)}") no-repeat bottom left; }`);const it=Te.getColor(gn.zu);it&&r.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${it.rgba.a}; }`);const bt=Te.getColor(gn.kp);bt&&r.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${bt}; }`);const Dt=Te.getColor(lo.NOs)||"inherit";r.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${Dt}}`)})},87155:(Fe,Ee,p)=>{p.d(Ee,{p:()=>rn}),p(13401);var le,g=p(12918),Y=p(86678),W=p(81718),M=p(54789),i=p(89983),T=p(71040),B=p(40189),P=p(6809),y=p(78622),C=p(57623),b=p(17703),f=(p(58964),p(60291)),E=p(6491),z=p(50955),L=p(44346),N=p(52925),Z=p(5928),O=p(67947),I=p(79695),$=p(19362),j=p(42483),G=p(6461),oe=p(98275),de=p(53323),fe=p(78968),pe=p(80974),ye=p(80810);class J{constructor(Ve,Je,lt,Et){this.originalLineStart=Ve,this.originalLineEnd=Je,this.modifiedLineStart=lt,this.modifiedLineEnd=Et}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class re{constructor(Ve){this.entries=Ve}}const ce=(0,pe.q5)("diff-review-insert",fe.lA.add,g.N("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),ve=(0,pe.q5)("diff-review-remove",fe.lA.remove,g.N("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),Ie=(0,pe.q5)("diff-review-close",fe.lA.close,g.N("diffReviewCloseIcon","Icon for 'Close' in diff review."));let We=class du extends B.JT{constructor(Ve,Je){super(),this._languageService=Je,this._width=0,this._diffEditor=Ve,this._isVisible=!1,this.shadow=(0,W.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,W.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new f.o(this.actionBarContainer.domNode)),this._actionBar.push(new z.aU("diffreview.close",g.N("label.close","Close"),"close-diff-review "+de.kS.asClassName(Ie),!0,()=>function(kt,Ve,Je,lt){return new(Je||(Je=Promise))(function(Vt,Ut){function ln(Cn){try{qt(lt.next(Cn))}catch(yn){Ut(yn)}}function Sn(Cn){try{qt(lt.throw(Cn))}catch(yn){Ut(yn)}}function qt(Cn){Cn.done?Vt(Cn.value):function(Vt){return Vt instanceof Je?Vt:new Je(function(Ut){Ut(Vt)})}(Cn.value).then(ln,Sn)}qt((lt=lt.apply(kt,Ve||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,W.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,W.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new E.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(Ve.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(Ve.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Y.mu(this.domNode.domNode,"click",lt=>{lt.preventDefault();const Et=Y.Fx(lt.target,"diff-review-row");Et&&this._goToRow(Et)})),this._register(Y.mu(this.domNode.domNode,"keydown",lt=>{(lt.equals(18)||lt.equals(2066)||lt.equals(530))&&(lt.preventDefault(),this._goToRow(this._getNextRow())),(lt.equals(16)||lt.equals(2064)||lt.equals(528))&&(lt.preventDefault(),this._goToRow(this._getPrevRow())),(lt.equals(9)||lt.equals(2057)||lt.equals(521)||lt.equals(1033))&&(lt.preventDefault(),this.hide()),(lt.equals(10)||lt.equals(3))&&(lt.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let Ve=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let lt=-1;for(let Et=0,Vt=this._diffs.length;Et<Vt;Et++)if(this._diffs[Et]===this._currentDiff){lt=Et;break}Ve=this._diffs.length+lt-1}else Ve=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;Ve%=this._diffs.length;const Je=this._diffs[Ve].entries;this._diffEditor.setPosition(new O.L(Je[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Je[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Je[Je.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let Ve=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let lt=-1;for(let Et=0,Vt=this._diffs.length;Et<Vt;Et++)if(this._diffs[Et]===this._currentDiff){lt=Et;break}Ve=lt+1}else Ve=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;Ve%=this._diffs.length;const Je=this._diffs[Ve].entries;this._diffEditor.setPosition(new O.L(Je[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Je[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Je[Je.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let Ve=-1;const Je=this._getCurrentFocusedRow();if(Je){const lt=parseInt(Je.getAttribute("data-line"),10);isNaN(lt)||(Ve=lt)}this.hide(),-1!==Ve&&(this._diffEditor.setPosition(new O.L(Ve,1)),this._diffEditor.revealPosition(new O.L(Ve,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const Ve=this._getCurrentFocusedRow();return Ve?Ve.previousElementSibling?Ve.previousElementSibling:Ve:this._getFirstRow()}_getNextRow(){const Ve=this._getCurrentFocusedRow();return Ve?Ve.nextElementSibling?Ve.nextElementSibling:Ve:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const Ve=document.activeElement;return Ve&&/diff-review-row/.test(Ve.className)?Ve:null}_goToRow(Ve){const Je=this._getCurrentFocusedRow();Ve.tabIndex=0,Ve.focus(),Je&&Je!==Ve&&(Je.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(Ve,Je,lt){this._width=Je,this.shadow.setTop(Ve-6),this.shadow.setWidth(Je),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(Ve),this.domNode.setWidth(Je),this.domNode.setHeight(lt),this._content.setHeight(lt),this._content.setWidth(Je),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const Ve=this._diffEditor.getLineChanges();if(!Ve||0===Ve.length)return[];const Je=this._diffEditor.getOriginalEditor().getModel(),lt=this._diffEditor.getModifiedEditor().getModel();return Je&&lt?du._mergeAdjacent(Ve,Je.getLineCount(),lt.getLineCount()):[]}static _mergeAdjacent(Ve,Je,lt){if(!Ve||0===Ve.length)return[];const Et=[];let Vt=0;for(let qt=0,Cn=Ve.length;qt<Cn;qt++){const yn=Ve[qt],xn=yn.originalStartLineNumber,gn=yn.originalEndLineNumber,Pn=yn.modifiedStartLineNumber,kn=yn.modifiedEndLineNumber,jn=[];let Qn=0;{const gi=0===gn?xn:xn-1,Mi=0===kn?Pn:Pn-1;let Mn=1,Pi=1;if(qt>0){const Dn=Ve[qt-1];Mn=0===Dn.originalEndLineNumber?Dn.originalStartLineNumber+1:Dn.originalEndLineNumber+1,Pi=0===Dn.modifiedEndLineNumber?Dn.modifiedStartLineNumber+1:Dn.modifiedEndLineNumber+1}let ri=gi-3+1,mi=Mi-3+1;if(ri<Mn){const Dn=Mn-ri;ri+=Dn,mi+=Dn}if(mi<Pi){const Dn=Pi-mi;ri+=Dn,mi+=Dn}jn[Qn++]=new J(ri,gi,mi,Mi)}0!==gn&&(jn[Qn++]=new J(xn,gn,0,0)),0!==kn&&(jn[Qn++]=new J(0,0,Pn,kn));{const gi=0===gn?xn+1:gn+1,Mi=0===kn?Pn+1:kn+1;let Mn=Je,Pi=lt;if(qt+1<Cn){const Dn=Ve[qt+1];Mn=0===Dn.originalEndLineNumber?Dn.originalStartLineNumber:Dn.originalStartLineNumber-1,Pi=0===Dn.modifiedEndLineNumber?Dn.modifiedStartLineNumber:Dn.modifiedStartLineNumber-1}let ri=gi+3-1,mi=Mi+3-1;if(ri>Mn){const Dn=Mn-ri;ri+=Dn,mi+=Dn}if(mi>Pi){const Dn=Pi-mi;ri+=Dn,mi+=Dn}jn[Qn++]=new J(gi,ri,Mi,mi)}Et[Vt++]=new re(jn)}let Ut=Et[0].entries;const ln=[];let Sn=0;for(let qt=1,Cn=Et.length;qt<Cn;qt++){const yn=Et[qt].entries,xn=Ut[Ut.length-1],gn=yn[0];0===xn.getType()&&0===gn.getType()&&gn.originalLineStart<=xn.originalLineEnd?(Ut[Ut.length-1]=new J(xn.originalLineStart,gn.originalLineEnd,xn.modifiedLineStart,gn.modifiedLineEnd),Ut=Ut.concat(yn.slice(1))):(ln[Sn++]=new re(Ut),Ut=yn)}return ln[Sn++]=new re(Ut),ln}_findDiffIndex(Ve){const Je=Ve.lineNumber;for(let lt=0,Et=this._diffs.length;lt<Et;lt++){const Vt=this._diffs[lt].entries;if(Je<=Vt[Vt.length-1].modifiedLineEnd)return lt}return 0}_render(){const Ve=this._diffEditor.getOriginalEditor().getOptions(),Je=this._diffEditor.getModifiedEditor().getOptions(),lt=this._diffEditor.getOriginalEditor().getModel(),Et=this._diffEditor.getModifiedEditor().getModel(),Vt=lt.getOptions(),Ut=Et.getOptions();if(!this._isVisible||!lt||!Et)return Y.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const ln=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[ln]===this._currentDiff)return;this._currentDiff=this._diffs[ln];const Sn=this._diffs[ln].entries,qt=document.createElement("div");qt.className="diff-review-table",qt.setAttribute("role","list"),qt.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,P.N)(qt,Je.get(44));let Cn=0,yn=0,xn=0,gn=0;for(let mi=0,Dn=Sn.length;mi<Dn;mi++){const pi=Sn[mi],Di=pi.originalLineStart,Ci=pi.originalLineEnd,Xi=pi.modifiedLineStart,Kn=pi.modifiedLineEnd;0!==Di&&(0===Cn||Di<Cn)&&(Cn=Di),0!==Ci&&(0===yn||Ci>yn)&&(yn=Ci),0!==Xi&&(0===xn||Xi<xn)&&(xn=Xi),0!==Kn&&(0===gn||Kn>gn)&&(gn=Kn)}const Pn=document.createElement("div");Pn.className="diff-review-row";const kn=document.createElement("div");kn.className="diff-review-cell diff-review-summary";const jn=yn-Cn+1,Qn=gn-xn+1;kn.appendChild(document.createTextNode(`${ln+1}/${this._diffs.length}: @@ -${Cn},${jn} +${xn},${Qn} @@`)),Pn.setAttribute("data-line",String(xn));const gi=mi=>0===mi?g.N("no_lines_changed","no lines changed"):1===mi?g.N("one_line_changed","1 line changed"):g.N("more_lines_changed","{0} lines changed",mi),Mi=gi(jn),Mn=gi(Qn);Pn.setAttribute("aria-label",g.N({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",ln+1,this._diffs.length,Cn,Mi,xn,Mn)),Pn.appendChild(kn),Pn.setAttribute("role","listitem"),qt.appendChild(Pn);const Pi=Je.get(59);let ri=xn;for(let mi=0,Dn=Sn.length;mi<Dn;mi++){const pi=Sn[mi];du._renderSection(qt,pi,ri,Pi,this._width,Ve,lt,Vt,Je,Et,Ut,this._languageService.languageIdCodec),0!==pi.modifiedLineStart&&(ri=pi.modifiedLineEnd)}Y.PO(this._content.domNode),this._content.domNode.appendChild(qt),this.scrollbar.scanDomNode()}static _renderSection(Ve,Je,lt,Et,Vt,Ut,ln,Sn,qt,Cn,yn,xn){const gn=Je.getType();let Pn="diff-review-row",kn="",Qn=null;switch(gn){case 1:Pn="diff-review-row line-insert",kn=" char-insert",Qn=ce;break;case 2:Pn="diff-review-row line-delete",kn=" char-delete",Qn=ve}const gi=Je.originalLineStart,Mn=Je.modifiedLineStart,ri=Math.max(Je.modifiedLineEnd-Mn,Je.originalLineEnd-gi),mi=Ut.get(131),Dn=mi.glyphMarginWidth+mi.lineNumbersWidth,pi=qt.get(131),Di=10+pi.glyphMarginWidth+pi.lineNumbersWidth;for(let Ci=0;Ci<=ri;Ci++){const Xi=0===gi?0:gi+Ci,Kn=0===Mn?0:Mn+Ci,Ui=document.createElement("div");Ui.style.minWidth=Vt+"px",Ui.className=Pn,Ui.setAttribute("role","listitem"),0!==Kn&&(lt=Kn),Ui.setAttribute("data-line",String(lt));const ao=document.createElement("div");ao.className="diff-review-cell",ao.style.height=`${Et}px`,Ui.appendChild(ao);const ni=document.createElement("span");ni.style.width=Dn+"px",ni.style.minWidth=Dn+"px",ni.className="diff-review-line-number"+kn,0!==Xi?ni.appendChild(document.createTextNode(String(Xi))):ni.innerText="\xa0",ao.appendChild(ni);const Co=document.createElement("span");Co.style.width=Di+"px",Co.style.minWidth=Di+"px",Co.style.paddingRight="10px",Co.className="diff-review-line-number"+kn,0!==Kn?Co.appendChild(document.createTextNode(String(Kn))):Co.innerText="\xa0",ao.appendChild(Co);const Ei=document.createElement("span");if(Ei.className="diff-review-spacer",Qn){const fo=document.createElement("span");fo.className=de.kS.asClassName(Qn),fo.innerText="\xa0\xa0",Ei.appendChild(fo)}else Ei.innerText="\xa0\xa0";let Po;if(ao.appendChild(Ei),0!==Kn){let fo=this._renderLine(Cn,qt,yn.tabSize,Kn,xn);du._ttPolicy&&(fo=du._ttPolicy.createHTML(fo)),ao.insertAdjacentHTML("beforeend",fo),Po=Cn.getLineContent(Kn)}else{let fo=this._renderLine(ln,Ut,Sn.tabSize,Xi,xn);du._ttPolicy&&(fo=du._ttPolicy.createHTML(fo)),ao.insertAdjacentHTML("beforeend",fo),Po=ln.getLineContent(Xi)}0===Po.length&&(Po=g.N("blankLine","blank"));let yo="";switch(gn){case 0:yo=Xi===Kn?g.N({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Po,Xi):g.N("equalLine","{0} original line {1} modified line {2}",Po,Xi,Kn);break;case 1:yo=g.N("insertLine","+ {0} modified line {1}",Po,Kn);break;case 2:yo=g.N("deleteLine","- {0} original line {1}",Po,Xi)}Ui.setAttribute("aria-label",yo),Ve.appendChild(Ui)}}static _renderLine(Ve,Je,lt,Et,Vt){const Ut=Ve.getLineContent(Et),ln=Je.get(44),Sn=Z.A.createEmpty(Ut,Vt),qt=j.wA.isBasicASCII(Ut,Ve.mightContainNonBasicASCII()),Cn=j.wA.containsRTL(Ut,qt,Ve.mightContainRTL());return(0,$.tF)(new $.IJ(ln.isMonospace&&!Je.get(29),ln.canUseHalfwidthRightwardsArrow,Ut,!1,qt,Cn,0,Sn,[],lt,0,ln.spaceWidth,ln.middotWidth,ln.wsmiddotWidth,Je.get(105),Je.get(88),Je.get(83),Je.get(45)!==N.n0.OFF,null)).html}};var Ve;function Ce(kt){const Ve=kt.get(C.$),Je=Ve.listDiffEditors(),lt=Ve.getActiveCodeEditor();if(!lt)return null;for(let Et=0,Vt=Je.length;Et<Vt;Et++){const Ut=Je[Et];if(Ut.getModifiedEditor().getId()===lt.getId()||Ut.getOriginalEditor().getId()===lt.getId())return Ut}return null}We._ttPolicy=null===(le=window.trustedTypes)||void 0===le?void 0:le.createPolicy("diffReview",{createHTML:kt=>kt}),We=function(kt,Ve,Je,lt){var Ut,Et=arguments.length,Vt=Et<3?Ve:null===lt?lt=Object.getOwnPropertyDescriptor(Ve,Je):lt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(kt,Ve,Je,lt);else for(var ln=kt.length-1;ln>=0;ln--)(Ut=kt[ln])&&(Vt=(Et<3?Ut(Vt):Et>3?Ut(Ve,Je,Vt):Ut(Ve,Je))||Vt);return Et>3&&Vt&&Object.defineProperty(Ve,Je,Vt),Vt}([(1,Ve=ye.O,function(Je,lt){Ve(Je,lt,1)})],We),(0,de.Ic)((kt,Ve)=>{const Je=kt.getColor(I.hw);Je&&Ve.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Je}; }`);const lt=kt.getColor(oe._wn);lt&&Ve.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${lt} 0 -6px 6px -6px inset; }`)}),(0,L.Qr)(class extends L.R6{constructor(){super({id:"editor.action.diffReview.next",label:g.N("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:G.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(Ve,Je){const lt=Ce(Ve);lt&&lt.diffReviewNext()}}),(0,L.Qr)(class extends L.R6{constructor(){super({id:"editor.action.diffReview.prev",label:g.N("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:G.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(Ve,Je){const lt=Ce(Ve);lt&&lt.diffReviewPrev()}});var Ae=p(1873),et=p(53269),Ye=p(3760),Pe=p(45023),st=p(78339),ut=p(31321),nt=p(82287),Se=p(43569),Ne=p(9771),at=p(8135),Ct=p(9719),jt=function(kt,Ve,Je,lt){return new(Je||(Je=Promise))(function(Vt,Ut){function ln(Cn){try{qt(lt.next(Cn))}catch(yn){Ut(yn)}}function Sn(Cn){try{qt(lt.throw(Cn))}catch(yn){Ut(yn)}}function qt(Cn){Cn.done?Vt(Cn.value):function(Vt){return Vt instanceof Je?Vt:new Je(function(Ut){Ut(Vt)})}(Cn.value).then(ln,Sn)}qt((lt=lt.apply(kt,Ve||[])).next())})};class bn extends B.JT{constructor(Ve,Je,lt,Et,Vt,Ut){super(),this._viewZoneId=Ve,this._marginDomNode=Je,this.editor=lt,this.diff=Et,this._contextMenuService=Vt,this._clipboardService=Ut,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=fe.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const ln=lt.getOption(59),Sn=lt.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${ln}px`,this._diffActions.style.lineHeight=`${ln}px`,this._marginDomNode.appendChild(this._diffActions);const qt=[],Cn=0===Et.modifiedEndLineNumber;qt.push(new z.aU("diff.clipboard.copyDeletedContent",Cn?Et.originalEndLineNumber>Et.modifiedStartLineNumber?g.N("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):g.N("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Et.originalEndLineNumber>Et.modifiedStartLineNumber?g.N("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):g.N("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>jt(this,void 0,void 0,function*(){const kn=new Ae.e(Et.originalStartLineNumber,1,Et.originalEndLineNumber+1,1),jn=Et.originalModel.getValueInRange(kn);yield this._clipboardService.writeText(jn)})));let xn,yn=0;Et.originalEndLineNumber>Et.modifiedStartLineNumber&&(xn=new z.aU("diff.clipboard.copyDeletedLineContent",Cn?g.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Et.originalStartLineNumber):g.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Et.originalStartLineNumber),void 0,!0,()=>jt(this,void 0,void 0,function*(){const kn=Et.originalModel.getLineContent(Et.originalStartLineNumber+yn);if(""===kn){const jn=Et.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===jn?"\n":"\r\n")}else yield this._clipboardService.writeText(kn)})),qt.push(xn)),lt.getOption(81)||qt.push(new z.aU("diff.inline.revertChange",g.N("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>jt(this,void 0,void 0,function*(){const kn=new Ae.e(Et.originalStartLineNumber,1,Et.originalEndLineNumber,Et.originalModel.getLineMaxColumn(Et.originalEndLineNumber)),jn=Et.originalModel.getValueInRange(kn);if(0===Et.modifiedEndLineNumber){const Qn=lt.getModel().getLineMaxColumn(Et.modifiedStartLineNumber);lt.executeEdits("diffEditor",[{range:new Ae.e(Et.modifiedStartLineNumber,Qn,Et.modifiedStartLineNumber,Qn),text:Sn+jn}])}else{const Qn=lt.getModel().getLineMaxColumn(Et.modifiedEndLineNumber);lt.executeEdits("diffEditor",[{range:new Ae.e(Et.modifiedStartLineNumber,1,Et.modifiedEndLineNumber,Qn),text:jn}])}})));const Pn=(kn,jn)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:kn,y:jn}),getActions:()=>(xn&&(xn.label=Cn?g.N("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Et.originalStartLineNumber+yn):g.N("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Et.originalStartLineNumber+yn)),qt),autoSelectFirstItem:!0})};this._register(Y.mu(this._diffActions,"mousedown",kn=>{const{top:jn,height:Qn}=Y.i(this._diffActions),gi=Math.floor(ln/3);kn.preventDefault(),Pn(kn.posx,jn+Qn+gi)})),this._register(lt.onMouseMove(kn=>{8!==kn.target.type&&5!==kn.target.type||kn.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,yn=this._updateLightBulbPosition(this._marginDomNode,kn.event.browserEvent.y,ln))})),this._register(lt.onMouseDown(kn=>{!kn.event.rightButton||(8===kn.target.type||5===kn.target.type)&&kn.target.detail.viewZoneId===this._viewZoneId&&(kn.event.preventDefault(),yn=this._updateLightBulbPosition(this._marginDomNode,kn.event.browserEvent.y,ln),Pn(kn.event.posx,kn.event.posy+ln))}))}get visibility(){return this._visibility}set visibility(Ve){this._visibility!==Ve&&(this._visibility=Ve,this._diffActions.style.visibility=Ve?"visible":"hidden")}_updateLightBulbPosition(Ve,Je,lt){const{top:Et}=Y.i(Ve),Ut=Math.floor((Je-Et)/lt);if(this._diffActions.style.top=Ut*lt+"px",this.diff.viewLineCounts){let Sn=0;for(let qt=0;qt<this.diff.viewLineCounts.length;qt++)if(Sn+=this.diff.viewLineCounts[qt],Ut<Sn)return qt}return Ut}}var vt,mt=p(37323),Ft=p(13226),Wt=p(24763),zt=p(1607),mn=p(2450),Lt=function(kt,Ve){return function(Je,lt){Ve(Je,lt,kt)}};class dn{constructor(Ve,Je){this._contextMenuService=Ve,this._clipboardService=Je,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Ve){return Ve.filter(Je=>!this._zonesMap[String(Je.id)])}clean(Ve){this._zones.length>0&&Ve.changeViewZones(Je=>{for(const lt of this._zones)Je.removeZone(lt)}),this._zones=[],this._zonesMap={},this._decorations=Ve.deltaDecorations(this._decorations,[])}apply(Ve,Je,lt,Et){const Vt=Et?y.Z.capture(Ve):null;Ve.changeViewZones(Ut=>{var ln;for(const Sn of this._zones)Ut.removeZone(Sn);for(const Sn of this._inlineDiffMargins)Sn.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Sn=0,qt=lt.zones.length;Sn<qt;Sn++){const Cn=lt.zones[Sn];Cn.suppressMouseDown=!0;const yn=Ut.addZone(Cn);this._zones.push(yn),this._zonesMap[String(yn)]=!0,lt.zones[Sn].diff&&Cn.marginDomNode&&(Cn.suppressMouseDown=!1,0!==(null===(ln=lt.zones[Sn].diff)||void 0===ln?void 0:ln.originalModel.getValueLength())&&this._inlineDiffMargins.push(new bn(yn,Cn.marginDomNode,Ve,lt.zones[Sn].diff,this._contextMenuService,this._clipboardService)))}}),Vt&&Vt.restore(Ve),this._decorations=Ve.deltaDecorations(this._decorations,lt.decorations),Je&&Je.setZones(lt.overviewZones)}}let Ln=0;const sn=(0,pe.q5)("diff-insert",fe.lA.add,g.N("diffInsertIcon","Line decoration for inserts in the diff editor.")),hn=(0,pe.q5)("diff-remove",fe.lA.remove,g.N("diffRemoveIcon","Line decoration for removals in the diff editor.")),_n=null===(vt=window.trustedTypes)||void 0===vt?void 0:vt.createPolicy("diffEditorWidget",{createHTML:kt=>kt});let rn=class js extends B.JT{constructor(Ve,Je,lt,Et,Vt,Ut,ln,Sn,qt,Cn,yn,xn){super(),this._editorProgressService=xn,this._onDidDispose=this._register(new T.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new T.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new T.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=Vt,this._codeEditorService=Sn,this._contextKeyService=this._register(Ut.createScoped(Ve)),this._instantiationService=ln.createChild(new Ne.y([G.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=qt,this._notificationService=Cn,this._id=++Ln,this._state=0,this._updatingDiffProgress=null,this._domElement=Ve,this._options=$t(Je=Je||{},{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),this._contextKeyService.createKey("isInEmbeddedDiffEditor",void 0!==Je.isInEmbeddedEditor&&Je.isInEmbeddedEditor),this._updateDecorationsRunner=this._register(new i.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=js._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,W.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Y.mu(this._overviewDomElement,"mousedown",Pn=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(Pn)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new dn(yn,Et),this._modifiedEditorState=new dn(yn,Et),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new zt.I(this._containerDomElement,Je.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Je.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Je,lt.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Je,lt.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=ln.createInstance(We,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._setStrategy(this._options.renderSideBySide?new Xt(this._createDataSource(),this._options.enableSplitViewResizing):new ti(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(qt.onDidColorThemeChange(Pn=>{this._strategy&&this._strategy.applyColors(Pn)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=js._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const gn=L.Uc.getDiffEditorContributions();for(const Pn of gn)try{this._register(ln.createInstance(Pn.ctor,this))}catch(kn){(0,Ft.dL)(kn)}this._codeEditorService.addDiffEditor(this)}_setState(Ve){this._state!==Ve&&(this._state=Ve,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Ve,Je){let lt="monaco-diff-editor monaco-editor-background ";return Je&&(lt+="side-by-side "),lt+=(0,de.m6)(Ve.type),lt}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Ve,Je){const lt=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Ve),Je);this._register(lt.onDidScrollChange(Vt=>{this._isHandlingScrollEvent||!Vt.scrollTopChanged&&!Vt.scrollLeftChanged&&!Vt.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:Vt.scrollLeft,scrollTop:Vt.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(lt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(lt.onDidChangeConfiguration(Vt=>{!lt.getModel()||(Vt.hasChanged(44)&&this._updateDecorationsRunner.schedule(),Vt.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(lt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(lt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Et=this._contextKeyService.createKey("isInDiffLeftEditor",lt.hasWidgetFocus());return this._register(lt.onDidFocusEditorWidget(()=>Et.set(!0))),this._register(lt.onDidBlurEditorWidget(()=>Et.set(!1))),this._register(lt.onDidContentSizeChange(Vt=>{const Ut=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+js.ONE_OVERVIEW_WIDTH,ln=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ln,contentWidth:Ut,contentHeightChanged:Vt.contentHeightChanged,contentWidthChanged:Vt.contentWidthChanged})})),lt}_createRightHandSideEditor(Ve,Je){const lt=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Ve),Je);this._register(lt.onDidScrollChange(Vt=>{this._isHandlingScrollEvent||!Vt.scrollTopChanged&&!Vt.scrollLeftChanged&&!Vt.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:Vt.scrollLeft,scrollTop:Vt.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(lt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(lt.onDidChangeConfiguration(Vt=>{!lt.getModel()||(Vt.hasChanged(44)&&this._updateDecorationsRunner.schedule(),Vt.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(lt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(lt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(lt.onDidChangeModelOptions(Vt=>{Vt.tabSize&&this._updateDecorationsRunner.schedule()}));const Et=this._contextKeyService.createKey("isInDiffRightEditor",lt.hasWidgetFocus());return this._register(lt.onDidFocusEditorWidget(()=>Et.set(!0))),this._register(lt.onDidBlurEditorWidget(()=>Et.set(!1))),this._register(lt.onDidContentSizeChange(Vt=>{const Ut=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+js.ONE_OVERVIEW_WIDTH,ln=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ln,contentWidth:Ut,contentHeightChanged:Vt.contentHeightChanged,contentWidthChanged:Vt.contentWidthChanged})})),lt}_createInnerEditor(Ve,Je,lt,Et){return Ve.createInstance(b.Gm,Je,lt,Et)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Ye.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Ve){const Je=$t(Ve,this._options),lt=function(kt,Ve){return{enableSplitViewResizing:kt.enableSplitViewResizing!==Ve.enableSplitViewResizing,renderSideBySide:kt.renderSideBySide!==Ve.renderSideBySide,maxComputationTime:kt.maxComputationTime!==Ve.maxComputationTime,maxFileSize:kt.maxFileSize!==Ve.maxFileSize,ignoreTrimWhitespace:kt.ignoreTrimWhitespace!==Ve.ignoreTrimWhitespace,renderIndicators:kt.renderIndicators!==Ve.renderIndicators,originalEditable:kt.originalEditable!==Ve.originalEditable,diffCodeLens:kt.diffCodeLens!==Ve.diffCodeLens,renderOverviewRuler:kt.renderOverviewRuler!==Ve.renderOverviewRuler,diffWordWrap:kt.diffWordWrap!==Ve.diffWordWrap}}(this._options,Je);this._options=Je;const Vt=this._isVisible&&(lt.maxComputationTime||lt.maxFileSize);lt.ignoreTrimWhitespace||lt.renderIndicators?this._beginUpdateDecorations():Vt&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Ve)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Ve)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),lt.renderSideBySide&&(this._setStrategy(this._options.renderSideBySide?new Xt(this._createDataSource(),this._options.enableSplitViewResizing):new ti(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=js._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),lt.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Ve){if(Ve&&(!Ve.original||!Ve.modified))throw new Error(Ve.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(Ve?Ve.original:null),this._modifiedEditor.setModel(Ve?Ve.modified:null),this._updateDecorationsRunner.cancel(),Ve&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Ve&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(Ve){return this._modifiedEditor.getVisibleColumnFromPosition(Ve)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Ve,Je="api"){this._modifiedEditor.setPosition(Ve,Je)}revealLine(Ve,Je=0){this._modifiedEditor.revealLine(Ve,Je)}revealLineInCenter(Ve,Je=0){this._modifiedEditor.revealLineInCenter(Ve,Je)}revealLineInCenterIfOutsideViewport(Ve,Je=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Ve,Je)}revealLineNearTop(Ve,Je=0){this._modifiedEditor.revealLineNearTop(Ve,Je)}revealPosition(Ve,Je=0){this._modifiedEditor.revealPosition(Ve,Je)}revealPositionInCenter(Ve,Je=0){this._modifiedEditor.revealPositionInCenter(Ve,Je)}revealPositionInCenterIfOutsideViewport(Ve,Je=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Ve,Je)}revealPositionNearTop(Ve,Je=0){this._modifiedEditor.revealPositionNearTop(Ve,Je)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Ve,Je="api"){this._modifiedEditor.setSelection(Ve,Je)}setSelections(Ve,Je="api"){this._modifiedEditor.setSelections(Ve,Je)}revealLines(Ve,Je,lt=0){this._modifiedEditor.revealLines(Ve,Je,lt)}revealLinesInCenter(Ve,Je,lt=0){this._modifiedEditor.revealLinesInCenter(Ve,Je,lt)}revealLinesInCenterIfOutsideViewport(Ve,Je,lt=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Ve,Je,lt)}revealLinesNearTop(Ve,Je,lt=0){this._modifiedEditor.revealLinesNearTop(Ve,Je,lt)}revealRange(Ve,Je=0,lt=!1,Et=!0){this._modifiedEditor.revealRange(Ve,Je,lt,Et)}revealRangeInCenter(Ve,Je=0){this._modifiedEditor.revealRangeInCenter(Ve,Je)}revealRangeInCenterIfOutsideViewport(Ve,Je=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Ve,Je)}revealRangeNearTop(Ve,Je=0){this._modifiedEditor.revealRangeNearTop(Ve,Je)}revealRangeNearTopIfOutsideViewport(Ve,Je=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Ve,Je)}revealRangeAtTop(Ve,Je=0){this._modifiedEditor.revealRangeAtTop(Ve,Je)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(Ve){if(Ve&&Ve.original&&Ve.modified){const Je=Ve;this._originalEditor.restoreViewState(Je.original),this._modifiedEditor.restoreViewState(Je.modified)}}layout(Ve){this._elementSizeObserver.observe(Ve)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Ve,Je,lt){this._modifiedEditor.trigger(Ve,Je,lt)}changeDecorations(Ve){return this._modifiedEditor.changeDecorations(Ve)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Ve=this._elementSizeObserver.getHeight(),Je=this._getReviewHeight(),lt=js.ENTIRE_DIFF_OVERVIEW_WIDTH-2*js.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:js.ONE_OVERVIEW_WIDTH,right:lt+js.ONE_OVERVIEW_WIDTH,height:Ve-Je}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:js.ONE_OVERVIEW_WIDTH,height:Ve-Je}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),js.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Ve,Je){return!Ve&&!Je||!(!Ve||!Je)&&Ve.toString()===Je.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Ve=this._originalEditor.getModel(),Je=this._modifiedEditor.getModel();if(!Ve||!Je)return;this._diffComputationToken++;const lt=this._diffComputationToken,Et=1024*this._options.maxFileSize*1024,Vt=Ut=>{const ln=Ut.getValueLength();return 0===Et||ln<=Et};Vt(Ve)&&Vt(Je)?(this._setState(1),this._editorWorkerService.computeDiff(Ve.uri,Je.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(Ut=>{lt===this._diffComputationToken&&Ve===this._originalEditor.getModel()&&Je===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=Ut,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},Ut=>{lt===this._diffComputationToken&&Ve===this._originalEditor.getModel()&&Je===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):(!js._equals(Ve.uri,this._lastOriginalWarning)||!js._equals(Je.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Ve.uri,this._lastModifiedWarning=Je.uri,this._notificationService.warn(g.N("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Ve=this._diffComputationResult?this._diffComputationResult.changes:[],Je=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),lt=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Et=this._strategy.getEditorsDiffDecorations(Ve,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Je,lt);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Et.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Et.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Ve){const Je=Object.assign({},Ve);return Je.inDiffEditor=!0,Je.automaticLayout=!1,Je.scrollbar=Object.assign({},Je.scrollbar||{}),Je.scrollbar.vertical="visible",Je.folding=!1,Je.codeLens=this._options.diffCodeLens,Je.fixedOverflowWidgets=!0,Je.minimap=Object.assign({},Je.minimap||{}),Je.minimap.enabled=!1,Je}_adjustOptionsForLeftHandSide(Ve){const Je=this._adjustOptionsForSubEditor(Ve);return this._options.renderSideBySide?Je.wordWrapOverride1=this._options.diffWordWrap:(Je.wordWrapOverride1="off",Je.wordWrapOverride2="off"),Ve.originalAriaLabel&&(Je.ariaLabel=Ve.originalAriaLabel),Je.readOnly=!this._options.originalEditable,Je.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Je),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Ve){const Je=this._adjustOptionsForSubEditor(Ve);return Ve.modifiedAriaLabel&&(Je.ariaLabel=Ve.modifiedAriaLabel),Je.wordWrapOverride1=this._options.diffWordWrap,Je.revealHorizontalRightPadding=N.BH.revealHorizontalRightPadding.defaultValue+js.ENTIRE_DIFF_OVERVIEW_WIDTH,Je.scrollbar.verticalHasArrows=!1,Je.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Je),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Ve=this._elementSizeObserver.getWidth(),Je=this._elementSizeObserver.getHeight(),lt=this._getReviewHeight(),Et=this._strategy.layout();this._originalDomNode.style.width=Et+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Ve-Et+"px",this._modifiedDomNode.style.left=Et+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Je-lt+"px",this._overviewDomElement.style.width=js.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Ve-js.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(js.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Et,height:Je-lt}),this._modifiedEditor.layout({width:Ve-Et-(this._options.renderOverviewRuler?js.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Je-lt}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Je-lt,Ve,lt),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Ve=this._computeOverviewViewport();Ve?(this._overviewViewportDomElement.setTop(Ve.top),this._overviewViewportDomElement.setHeight(Ve.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Ve=this._modifiedEditor.getLayoutInfo();if(!Ve)return null;const Je=this._modifiedEditor.getScrollTop(),lt=this._modifiedEditor.getScrollHeight(),Et=Math.max(0,Ve.height),Vt=Math.max(0,Et-0),Ut=lt>0?Vt/lt:0;return{height:Math.max(0,Math.floor(Ve.height*Ut)),top:Math.floor(Je*Ut)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Ve){this._strategy&&this._strategy.dispose(),this._strategy=Ve,Ve.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Ve,Je){const lt=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===lt.length||Ve<Je(lt[0]))return null;let Et=0,Vt=lt.length-1;for(;Et<Vt;){const Ut=Math.floor((Et+Vt)/2),ln=Je(lt[Ut]),Sn=Ut+1<=Vt?Je(lt[Ut+1]):1073741824;Ve<ln?Vt=Ut-1:Ve>=Sn?Et=Ut+1:(Et=Ut,Vt=Ut)}return lt[Et]}_getEquivalentLineForOriginalLineNumber(Ve){const Je=this._getLineChangeAtOrBeforeLineNumber(Ve,Sn=>Sn.originalStartLineNumber);if(!Je)return Ve;const Et=Je.modifiedStartLineNumber+(Je.modifiedEndLineNumber>0?-1:0),Vt=Je.originalEndLineNumber>0?Je.originalEndLineNumber-Je.originalStartLineNumber+1:0,Ut=Je.modifiedEndLineNumber>0?Je.modifiedEndLineNumber-Je.modifiedStartLineNumber+1:0,ln=Ve-(Je.originalStartLineNumber+(Je.originalEndLineNumber>0?-1:0));return ln<=Vt?Et+Math.min(ln,Ut):Et+Ut-Vt+ln}_getEquivalentLineForModifiedLineNumber(Ve){const Je=this._getLineChangeAtOrBeforeLineNumber(Ve,Sn=>Sn.modifiedStartLineNumber);if(!Je)return Ve;const lt=Je.originalStartLineNumber+(Je.originalEndLineNumber>0?-1:0),Vt=Je.originalEndLineNumber>0?Je.originalEndLineNumber-Je.originalStartLineNumber+1:0,Ut=Je.modifiedEndLineNumber>0?Je.modifiedEndLineNumber-Je.modifiedStartLineNumber+1:0,ln=Ve-(Je.modifiedStartLineNumber+(Je.modifiedEndLineNumber>0?-1:0));return ln<=Ut?lt+Math.min(ln,Vt):lt+Vt-Ut+ln}getDiffLineInformationForOriginal(Ve){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Ve)}:null}getDiffLineInformationForModified(Ve){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Ve)}:null}};rn.ONE_OVERVIEW_WIDTH=15,rn.ENTIRE_DIFF_OVERVIEW_WIDTH=30,rn.UPDATE_DIFF_DECORATIONS_DELAY=200,rn=function(kt,Ve,Je,lt){var Ut,Et=arguments.length,Vt=Et<3?Ve:null===lt?lt=Object.getOwnPropertyDescriptor(Ve,Je):lt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Vt=Reflect.decorate(kt,Ve,Je,lt);else for(var ln=kt.length-1;ln>=0;ln--)(Ut=kt[ln])&&(Vt=(Et<3?Ut(Vt):Et>3?Ut(Ve,Je,Vt):Ut(Ve,Je))||Vt);return Et>3&&Vt&&Object.defineProperty(Ve,Je,Vt),Vt}([Lt(3,mt.p),Lt(4,st.p),Lt(5,G.i6),Lt(6,Se.TG),Lt(7,C.$),Lt(8,de.XE),Lt(9,at.lT),Lt(10,Ct.i),Lt(11,Wt.ek)],rn);class Rt extends B.JT{constructor(Ve){super(),this._dataSource=Ve,this._insertColor=null,this._removeColor=null}applyColors(Ve){const Je=Ve.getColor(oe.P6Y)||(Ve.getColor(oe.ypS)||oe.CzK).transparent(2),lt=Ve.getColor(oe.F9q)||(Ve.getColor(oe.P4M)||oe.keg).transparent(2),Et=!Je.equals(this._insertColor)||!lt.equals(this._removeColor);return this._insertColor=Je,this._removeColor=lt,Et}getEditorsDiffDecorations(Ve,Je,lt,Et,Vt){Vt=Vt.sort((qt,Cn)=>qt.afterLineNumber-Cn.afterLineNumber),Et=Et.sort((qt,Cn)=>qt.afterLineNumber-Cn.afterLineNumber);const Ut=this._getViewZones(Ve,Et,Vt,lt),ln=this._getOriginalEditorDecorations(Ut,Ve,Je,lt),Sn=this._getModifiedEditorDecorations(Ut,Ve,Je,lt);return{original:{decorations:ln.decorations,overviewZones:ln.overviewZones,zones:Ut.original},modified:{decorations:Sn.decorations,overviewZones:Sn.overviewZones,zones:Ut.modified}}}}class xi{constructor(Ve){this._source=Ve,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class Yt{constructor(Ve,Je,lt,Et,Vt){this._lineChanges=Ve,this._originalForeignVZ=Je,this._modifiedForeignVZ=lt,this._originalEditor=Et,this._modifiedEditor=Vt}static _getViewLineCount(Ve,Je,lt){const Et=Ve.getModel(),Vt=Ve._getViewModel();if(Et&&Vt){const Ut=St(Et,Vt,Je,lt);return Ut.endLineNumber-Ut.startLineNumber+1}return lt-Je+1}getViewZones(){const Ve=this._originalEditor.getOption(59),Je=this._modifiedEditor.getOption(59),lt=-1!==this._originalEditor.getOption(132).wrappingColumn,Et=-1!==this._modifiedEditor.getOption(132).wrappingColumn,Vt=lt||Et,Ut=this._originalEditor.getModel(),ln=this._originalEditor._getViewModel().coordinatesConverter,Sn=this._modifiedEditor._getViewModel().coordinatesConverter,qt_original=[],qt_modified=[];let Cn=0,yn=0,xn=0,gn=0,Pn=0,kn=0;const jn=(ri,mi)=>ri.afterLineNumber-mi.afterLineNumber,Qn=(ri,mi)=>{if(null===mi.domNode&&ri.length>0){const Dn=ri[ri.length-1];if(Dn.afterLineNumber===mi.afterLineNumber&&null===Dn.domNode)return void(Dn.heightInLines+=mi.heightInLines)}ri.push(mi)},gi=new xi(this._modifiedForeignVZ),Mi=new xi(this._originalForeignVZ);let Mn=1,Pi=1;for(let ri=0,mi=this._lineChanges.length;ri<=mi;ri++){const Dn=ri<mi?this._lineChanges[ri]:null;null!==Dn?(xn=Dn.originalStartLineNumber+(Dn.originalEndLineNumber>0?-1:0),gn=Dn.modifiedStartLineNumber+(Dn.modifiedEndLineNumber>0?-1:0),yn=Dn.originalEndLineNumber>0?Yt._getViewLineCount(this._originalEditor,Dn.originalStartLineNumber,Dn.originalEndLineNumber):0,Cn=Dn.modifiedEndLineNumber>0?Yt._getViewLineCount(this._modifiedEditor,Dn.modifiedStartLineNumber,Dn.modifiedEndLineNumber):0,Pn=Math.max(Dn.originalStartLineNumber,Dn.originalEndLineNumber),kn=Math.max(Dn.modifiedStartLineNumber,Dn.modifiedEndLineNumber)):(xn+=1e7+yn,gn+=1e7+Cn,Pn=xn,kn=gn);let pi=[],Di=[];if(Vt){let Kn;Kn=Dn?Dn.originalEndLineNumber>0?Dn.originalStartLineNumber-Mn:Dn.modifiedStartLineNumber-Pi:Ut.getLineCount()-Mn+1;for(let Ui=0;Ui<Kn;Ui++){const ao=Mn+Ui,ni=Pi+Ui,Co=ln.getModelLineViewLineCount(ao),Ei=Sn.getModelLineViewLineCount(ni);Co<Ei?pi.push({afterLineNumber:ao,heightInLines:Ei-Co,domNode:null,marginDomNode:null}):Co>Ei&&Di.push({afterLineNumber:ni,heightInLines:Co-Ei,domNode:null,marginDomNode:null})}Dn&&(Mn=(Dn.originalEndLineNumber>0?Dn.originalEndLineNumber:Dn.originalStartLineNumber)+1,Pi=(Dn.modifiedEndLineNumber>0?Dn.modifiedEndLineNumber:Dn.modifiedStartLineNumber)+1)}for(;gi.current&&gi.current.afterLineNumber<=kn;){let Kn;Kn=gi.current.afterLineNumber<=gn?xn-gn+gi.current.afterLineNumber:Pn;let Ui=null;Dn&&Dn.modifiedStartLineNumber<=gi.current.afterLineNumber&&gi.current.afterLineNumber<=Dn.modifiedEndLineNumber&&(Ui=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),pi.push({afterLineNumber:Kn,heightInLines:gi.current.height/Je,domNode:null,marginDomNode:Ui}),gi.advance()}for(;Mi.current&&Mi.current.afterLineNumber<=Pn;){let Kn;Kn=Mi.current.afterLineNumber<=xn?gn-xn+Mi.current.afterLineNumber:kn,Di.push({afterLineNumber:Kn,heightInLines:Mi.current.height/Ve,domNode:null}),Mi.advance()}if(null!==Dn&&Li(Dn)){const Kn=this._produceOriginalFromDiff(Dn,yn,Cn);Kn&&pi.push(Kn)}if(null!==Dn&&vi(Dn)){const Kn=this._produceModifiedFromDiff(Dn,yn,Cn);Kn&&Di.push(Kn)}let Ci=0,Xi=0;for(pi=pi.sort(jn),Di=Di.sort(jn);Ci<pi.length&&Xi<Di.length;){const Kn=pi[Ci],Ui=Di[Xi],ao=Kn.afterLineNumber-xn,ni=Ui.afterLineNumber-gn;ao<ni?(Qn(qt_original,Kn),Ci++):ni<ao?(Qn(qt_modified,Ui),Xi++):Kn.shouldNotShrink?(Qn(qt_original,Kn),Ci++):Ui.shouldNotShrink?(Qn(qt_modified,Ui),Xi++):Kn.heightInLines>=Ui.heightInLines?(Kn.heightInLines-=Ui.heightInLines,Xi++):(Ui.heightInLines-=Kn.heightInLines,Ci++)}for(;Ci<pi.length;)Qn(qt_original,pi[Ci]),Ci++;for(;Xi<Di.length;)Qn(qt_modified,Di[Xi]),Xi++}return{original:Yt._ensureDomNodes(qt_original),modified:Yt._ensureDomNodes(qt_modified)}}static _ensureDomNodes(Ve){return Ve.map(Je=>(Je.domNode||(Je.domNode=xt()),Je))}}function He(kt,Ve,Je,lt,Et){return{range:new Ae.e(kt,Ve,Je,lt),options:Et}}const $e={charDelete:Pe.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Pe.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Pe.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Pe.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Pe.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Pe.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+de.kS.asClassName(sn),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Pe.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Pe.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+de.kS.asClassName(hn),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Pe.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};let Xt=(()=>{class kt extends Rt{constructor(Je,lt){super(Je),this._disableSash=!1===lt,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new M.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(Et=>this._onSashDrag(Et)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Je){const lt=!1===Je;this._disableSash!==lt&&(this._disableSash=lt,this._sash.state=this._disableSash?0:3)}layout(Je=this._sashRatio){const Et=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?rn.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let Vt=Math.floor((Je||.5)*Et);const Ut=Math.floor(.5*Et);return Vt=this._disableSash?Ut:Vt||Ut,Et>2*kt.MINIMUM_EDITOR_WIDTH?(Vt<kt.MINIMUM_EDITOR_WIDTH&&(Vt=kt.MINIMUM_EDITOR_WIDTH),Vt>Et-kt.MINIMUM_EDITOR_WIDTH&&(Vt=Et-kt.MINIMUM_EDITOR_WIDTH)):Vt=Ut,this._sashPosition!==Vt&&(this._sashPosition=Vt),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Je){const Et=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?rn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Vt=this.layout((this._startSashPosition+(Je.currentX-Je.startX))/Et);this._sashRatio=Vt/Et,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Je){return 0}getVerticalSashLeft(Je){return this._sashPosition}getVerticalSashHeight(Je){return this._dataSource.getHeight()}_getViewZones(Je,lt,Et){const Vt=this._dataSource.getOriginalEditor(),Ut=this._dataSource.getModifiedEditor();return new pn(Je,lt,Et,Vt,Ut).getViewZones()}_getOriginalEditorDecorations(Je,lt,Et,Vt){const Ut=this._dataSource.getOriginalEditor(),ln=String(this._removeColor),Sn={decorations:[],overviewZones:[]},qt=Ut.getModel(),Cn=Ut._getViewModel();for(const yn of lt)if(vi(yn)){Sn.decorations.push({range:new Ae.e(yn.originalStartLineNumber,1,yn.originalEndLineNumber,1073741824),options:Vt?$e.lineDeleteWithSign:$e.lineDelete}),(!Li(yn)||!yn.charChanges)&&Sn.decorations.push(He(yn.originalStartLineNumber,1,yn.originalEndLineNumber,1073741824,$e.charDeleteWholeLine));const xn=St(qt,Cn,yn.originalStartLineNumber,yn.originalEndLineNumber);if(Sn.overviewZones.push(new ut.EY(xn.startLineNumber,xn.endLineNumber,0,ln)),yn.charChanges)for(const gn of yn.charChanges)if(vi(gn))if(Et)for(let Pn=gn.originalStartLineNumber;Pn<=gn.originalEndLineNumber;Pn++){let kn,jn;kn=Pn===gn.originalStartLineNumber?gn.originalStartColumn:qt.getLineFirstNonWhitespaceColumn(Pn),jn=Pn===gn.originalEndLineNumber?gn.originalEndColumn:qt.getLineLastNonWhitespaceColumn(Pn),Sn.decorations.push(He(Pn,kn,Pn,jn,$e.charDelete))}else Sn.decorations.push(He(gn.originalStartLineNumber,gn.originalStartColumn,gn.originalEndLineNumber,gn.originalEndColumn,$e.charDelete))}return Sn}_getModifiedEditorDecorations(Je,lt,Et,Vt){const Ut=this._dataSource.getModifiedEditor(),ln=String(this._insertColor),Sn={decorations:[],overviewZones:[]},qt=Ut.getModel(),Cn=Ut._getViewModel();for(const yn of lt)if(Li(yn)){Sn.decorations.push({range:new Ae.e(yn.modifiedStartLineNumber,1,yn.modifiedEndLineNumber,1073741824),options:Vt?$e.lineInsertWithSign:$e.lineInsert}),(!vi(yn)||!yn.charChanges)&&Sn.decorations.push(He(yn.modifiedStartLineNumber,1,yn.modifiedEndLineNumber,1073741824,$e.charInsertWholeLine));const xn=St(qt,Cn,yn.modifiedStartLineNumber,yn.modifiedEndLineNumber);if(Sn.overviewZones.push(new ut.EY(xn.startLineNumber,xn.endLineNumber,0,ln)),yn.charChanges)for(const gn of yn.charChanges)if(Li(gn))if(Et)for(let Pn=gn.modifiedStartLineNumber;Pn<=gn.modifiedEndLineNumber;Pn++){let kn,jn;kn=Pn===gn.modifiedStartLineNumber?gn.modifiedStartColumn:qt.getLineFirstNonWhitespaceColumn(Pn),jn=Pn===gn.modifiedEndLineNumber?gn.modifiedEndColumn:qt.getLineLastNonWhitespaceColumn(Pn),Sn.decorations.push(He(Pn,kn,Pn,jn,$e.charInsert))}else Sn.decorations.push(He(gn.modifiedStartLineNumber,gn.modifiedStartColumn,gn.modifiedEndLineNumber,gn.modifiedEndColumn,$e.charInsert))}return Sn}}return kt.MINIMUM_EDITOR_WIDTH=100,kt})();class pn extends Yt{constructor(Ve,Je,lt,Et,Vt){super(Ve,Je,lt,Et,Vt)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Ve,Je,lt){return lt>Je?{afterLineNumber:Math.max(Ve.originalStartLineNumber,Ve.originalEndLineNumber),heightInLines:lt-Je,domNode:null}:null}_produceModifiedFromDiff(Ve,Je,lt){return Je>lt?{afterLineNumber:Math.max(Ve.modifiedStartLineNumber,Ve.modifiedEndLineNumber),heightInLines:Je-lt,domNode:null}:null}}class ti extends Rt{constructor(Ve,Je){super(Ve),this._decorationsLeft=Ve.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Ve.getOriginalEditor().onDidLayoutChange(lt=>{this._decorationsLeft!==lt.decorationsLeft&&(this._decorationsLeft=lt.decorationsLeft,Ve.relayoutEditors())}))}setEnableSplitViewResizing(Ve){}_getViewZones(Ve,Je,lt,Et){const Vt=this._dataSource.getOriginalEditor(),Ut=this._dataSource.getModifiedEditor();return new bi(Ve,Je,lt,Vt,Ut,Et).getViewZones()}_getOriginalEditorDecorations(Ve,Je,lt,Et){const Vt=String(this._removeColor),Ut={decorations:[],overviewZones:[]},ln=this._dataSource.getOriginalEditor(),Sn=ln.getModel(),qt=ln._getViewModel();let Cn=0;for(const yn of Je)if(vi(yn)){for(Ut.decorations.push({range:new Ae.e(yn.originalStartLineNumber,1,yn.originalEndLineNumber,1073741824),options:$e.lineDeleteMargin});Cn<Ve.modified.length;){const Pn=Ve.modified[Cn];if(Pn.diff&&Pn.diff.originalStartLineNumber>=yn.originalStartLineNumber)break;Cn++}let xn=0;if(Cn<Ve.modified.length){const Pn=Ve.modified[Cn];Pn.diff&&Pn.diff.originalStartLineNumber===yn.originalStartLineNumber&&Pn.diff.originalEndLineNumber===yn.originalEndLineNumber&&Pn.diff.modifiedStartLineNumber===yn.modifiedStartLineNumber&&Pn.diff.modifiedEndLineNumber===yn.modifiedEndLineNumber&&(xn=Pn.heightInLines)}const gn=St(Sn,qt,yn.originalStartLineNumber,yn.originalEndLineNumber);Ut.overviewZones.push(new ut.EY(gn.startLineNumber,gn.endLineNumber,xn,Vt))}return Ut}_getModifiedEditorDecorations(Ve,Je,lt,Et){const Vt=this._dataSource.getModifiedEditor(),Ut=String(this._insertColor),ln={decorations:[],overviewZones:[]},Sn=Vt.getModel(),qt=Vt._getViewModel();for(const Cn of Je)if(Li(Cn)){ln.decorations.push({range:new Ae.e(Cn.modifiedStartLineNumber,1,Cn.modifiedEndLineNumber,1073741824),options:Et?$e.lineInsertWithSign:$e.lineInsert});const yn=St(Sn,qt,Cn.modifiedStartLineNumber,Cn.modifiedEndLineNumber);if(ln.overviewZones.push(new ut.EY(yn.startLineNumber,yn.endLineNumber,0,Ut)),Cn.charChanges){for(const xn of Cn.charChanges)if(Li(xn))if(lt)for(let gn=xn.modifiedStartLineNumber;gn<=xn.modifiedEndLineNumber;gn++){let Pn,kn;Pn=gn===xn.modifiedStartLineNumber?xn.modifiedStartColumn:Sn.getLineFirstNonWhitespaceColumn(gn),kn=gn===xn.modifiedEndLineNumber?xn.modifiedEndColumn:Sn.getLineLastNonWhitespaceColumn(gn),ln.decorations.push(He(gn,Pn,gn,kn,$e.charInsert))}else ln.decorations.push(He(xn.modifiedStartLineNumber,xn.modifiedStartColumn,xn.modifiedEndLineNumber,xn.modifiedEndColumn,$e.charInsert))}else ln.decorations.push(He(Cn.modifiedStartLineNumber,1,Cn.modifiedEndLineNumber,1073741824,$e.charInsertWholeLine))}return ln}layout(){return Math.max(5,this._decorationsLeft)}}class bi extends Yt{constructor(Ve,Je,lt,Et,Vt,Ut){super(Ve,Je,lt,Et,Vt),this._originalModel=Et.getModel(),this._renderIndicators=Ut,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Ve=super.getViewZones();return this._finalize(Ve),Ve}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Ve=document.createElement("div");return Ve.className="inline-added-margin-view-zone",Ve}_produceOriginalFromDiff(Ve,Je,lt){const Et=document.createElement("div");return Et.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Ve.originalStartLineNumber,Ve.originalEndLineNumber),heightInLines:lt,domNode:document.createElement("div"),marginDomNode:Et}}_produceModifiedFromDiff(Ve,Je,lt){const Et=document.createElement("div");Et.className=`view-lines line-delete ${mn.S}`;const Vt=document.createElement("div");Vt.className="inline-deleted-margin-view-zone";const Ut={shouldNotShrink:!0,afterLineNumber:0===Ve.modifiedEndLineNumber?Ve.modifiedStartLineNumber:Ve.modifiedStartLineNumber-1,heightInLines:Je,minWidthInPx:0,domNode:Et,marginDomNode:Vt,diff:{originalStartLineNumber:Ve.originalStartLineNumber,originalEndLineNumber:Ve.originalEndLineNumber,modifiedStartLineNumber:Ve.modifiedStartLineNumber,modifiedEndLineNumber:Ve.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let ln=Ve.originalStartLineNumber;ln<=Ve.originalEndLineNumber;ln++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(ln),null,null);return this._pendingLineChange.push(Ve),this._pendingViewZones.push(Ut),Ut}_finalize(Ve){const Je=this._modifiedEditor.getOptions(),lt=this._modifiedEditor.getModel().getOptions().tabSize,Et=Je.get(44),Vt=Je.get(29),Ut=Et.typicalHalfwidthCharacterWidth,ln=Je.get(93),Sn=this._originalModel.mightContainNonBasicASCII(),qt=this._originalModel.mightContainRTL(),Cn=Je.get(59),xn=Je.get(131).decorationsWidth,gn=Je.get(105),Pn=Je.get(88),kn=Je.get(83),jn=Je.get(45),Qn=this._lineBreaksComputer.finalize();let gi=0;for(let Mi=0;Mi<this._pendingLineChange.length;Mi++){const Mn=this._pendingLineChange[Mi],Pi=this._pendingViewZones[Mi],ri=Pi.domNode;(0,P.N)(ri,Et);const mi=Pi.marginDomNode;(0,P.N)(mi,Et);const Dn=[];if(Mn.charChanges)for(const ni of Mn.charChanges)vi(ni)&&Dn.push(new j.$t(new Ae.e(ni.originalStartLineNumber,ni.originalStartColumn,ni.originalEndLineNumber,ni.originalEndColumn),"char-delete",0));const pi=Dn.length>0,Di=(0,et.l$)(1e4);let Ci=0,Xi=0,Kn=null;for(let ni=Mn.originalStartLineNumber;ni<=Mn.originalEndLineNumber;ni++){const Co=ni-Mn.originalStartLineNumber,Ei=this._originalModel.getLineTokens(ni),Po=Ei.getLineContent(),yo=Qn[gi++],fo=nt.Kp.filter(Dn,ni,1,Po.length+1);if(yo){let Io=0;for(const ko of yo.breakOffsets){const Ts=Ei.sliceAndInflate(Io,ko,0),Ys=Po.substring(Io,ko);Ci=Math.max(Ci,this._renderOriginalLine(Xi++,Ys,Ts,nt.Kp.extractWrapped(fo,Io,ko),pi,Sn,qt,Et,Vt,Cn,xn,gn,Pn,kn,jn,lt,Di,mi)),Io=ko}for(Kn||(Kn=[]);Kn.length<Co;)Kn[Kn.length]=1;Kn[Co]=yo.breakOffsets.length,Pi.heightInLines+=yo.breakOffsets.length-1;const oo=document.createElement("div");oo.className="gutter-delete",Ve.original.push({afterLineNumber:ni,afterColumn:0,heightInLines:yo.breakOffsets.length-1,domNode:xt(),marginDomNode:oo})}else Ci=Math.max(Ci,this._renderOriginalLine(Xi++,Po,Ei,fo,pi,Sn,qt,Et,Vt,Cn,xn,gn,Pn,kn,jn,lt,Di,mi))}Ci+=ln;const Ui=Di.build(),ao=_n?_n.createHTML(Ui):Ui;if(ri.innerHTML=ao,Pi.minWidthInPx=Ci*Ut,Kn){const ni=Mn.originalEndLineNumber-Mn.originalStartLineNumber;for(;Kn.length<=ni;)Kn[Kn.length]=1}Pi.diff.viewLineCounts=Kn}Ve.original.sort((Mi,Mn)=>Mi.afterLineNumber-Mn.afterLineNumber)}_renderOriginalLine(Ve,Je,lt,Et,Vt,Ut,ln,Sn,qt,Cn,yn,xn,gn,Pn,kn,jn,Qn,gi){Qn.appendASCIIString('<div class="view-line'),Vt||Qn.appendASCIIString(" char-delete"),Qn.appendASCIIString('" style="top:'),Qn.appendASCIIString(String(Ve*Cn)),Qn.appendASCIIString('px;width:1000000px;">');const Mi=j.wA.isBasicASCII(Je,Ut),Mn=j.wA.containsRTL(Je,Mi,ln),Pi=(0,$.d1)(new $.IJ(Sn.isMonospace&&!qt,Sn.canUseHalfwidthRightwardsArrow,Je,!1,Mi,Mn,0,lt,Et,jn,0,Sn.spaceWidth,Sn.middotWidth,Sn.wsmiddotWidth,xn,gn,Pn,kn!==N.n0.OFF,null),Qn);if(Qn.appendASCIIString("</div>"),this._renderIndicators){const ri=document.createElement("div");ri.className=`delete-sign ${de.kS.asClassName(hn)}`,ri.setAttribute("style",`position:absolute;top:${Ve*Cn}px;width:${yn}px;height:${Cn}px;right:0;`),gi.appendChild(ri)}return Pi.characterMapping.getAbsoluteOffset(Pi.characterMapping.length)}}function Oi(kt,Ve){return(0,N.NY)(kt,Ve,["off","on","inherit"])}function Li(kt){return kt.modifiedEndLineNumber>0}function vi(kt){return kt.originalEndLineNumber>0}function xt(){const kt=document.createElement("div");return kt.className="diagonal-fill",kt}function St(kt,Ve,Je,lt){const Et=kt.getLineCount();return Je=Math.min(Et,Math.max(1,Je)),lt=Math.min(Et,Math.max(1,lt)),Ve.coordinatesConverter.convertModelRangeToViewRange(new Ae.e(Je,kt.getLineMinColumn(Je),lt,kt.getLineMaxColumn(lt)))}function $t(kt,Ve){return{enableSplitViewResizing:(0,N.O7)(kt.enableSplitViewResizing,Ve.enableSplitViewResizing),renderSideBySide:(0,N.O7)(kt.renderSideBySide,Ve.renderSideBySide),maxComputationTime:(0,N.Zc)(kt.maxComputationTime,Ve.maxComputationTime,0,1073741824),maxFileSize:(0,N.Zc)(kt.maxFileSize,Ve.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,N.O7)(kt.ignoreTrimWhitespace,Ve.ignoreTrimWhitespace),renderIndicators:(0,N.O7)(kt.renderIndicators,Ve.renderIndicators),originalEditable:(0,N.O7)(kt.originalEditable,Ve.originalEditable),diffCodeLens:(0,N.O7)(kt.diffCodeLens,Ve.diffCodeLens),renderOverviewRuler:(0,N.O7)(kt.renderOverviewRuler,Ve.renderOverviewRuler),diffWordWrap:Oi(kt.diffWordWrap,Ve.diffWordWrap)}}(0,de.Ic)((kt,Ve)=>{const Je=kt.getColor(oe.ypS);Je&&Ve.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Je}; }`);const lt=kt.getColor(oe.hzo)||Je;lt&&Ve.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${lt}; }`);const Et=kt.getColor(oe.j51)||lt;Et&&(Ve.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${Et}; }`),Ve.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${Et}; }`));const Vt=kt.getColor(oe.P4M);Vt&&Ve.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${Vt}; }`);const Ut=kt.getColor(oe.xi6)||Vt;Ut&&Ve.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${Ut}; }`);const ln=kt.getColor(oe.zOm)||Ut;ln&&(Ve.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${ln}; }`),Ve.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${ln}; }`));const Sn=kt.getColor(oe.XL$);Sn&&Ve.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===kt.type?"dashed":"solid"} ${Sn}; }`);const qt=kt.getColor(oe.mHy);qt&&Ve.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===kt.type?"dashed":"solid"} ${qt}; }`);const Cn=kt.getColor(oe._wn);Cn&&Ve.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Cn}; }`);const yn=kt.getColor(oe.LLc);yn&&Ve.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${yn}; }`);const xn=kt.getColor(oe.etL);xn&&Ve.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${xn};\n\t\t\t}\n\t\t`);const gn=kt.getColor(oe.ABB);gn&&Ve.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${gn};\n\t\t\t}\n\t\t`);const Pn=kt.getColor(oe.ynu);Pn&&Ve.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${Pn};\n\t\t\t}\n\t\t`);const kn=kt.getColor(oe.L_t);Ve.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${kn} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${kn} 50%, ${kn} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)})},37313:(Fe,Ee,p)=>{p.d(Ee,{F:()=>T});var D=p(59126),g=p(71040),Y=p(40189),W=p(60842),M=p(1873);const i={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class T extends Y.JT{constructor(P,y={}){super(),this._onDidUpdate=this._register(new g.Q5),this._editor=P,this._options=W.jB(y,i,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(C=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(C=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(P){this.ranges=[],P&&P.forEach(y=>{!this._options.ignoreCharChanges&&y.charChanges?y.charChanges.forEach(C=>{this.ranges.push({rhs:!0,range:new M.e(C.modifiedStartLineNumber,C.modifiedStartColumn,C.modifiedEndLineNumber,C.modifiedEndColumn)})}):this.ranges.push(0===y.modifiedEndLineNumber?{rhs:!0,range:new M.e(y.modifiedStartLineNumber,1,y.modifiedStartLineNumber+1,1)}:{rhs:!0,range:new M.e(y.modifiedStartLineNumber,1,y.modifiedEndLineNumber+1,1)})}),this.ranges.sort((y,C)=>M.e.compareRangesUsingStarts(y.range,C.range)),this._onDidUpdate.fire(this)}_initIdx(P){let y=!1;const C=this._editor.getPosition();if(C){for(let b=0,x=this.ranges.length;b<x&&!y;b++)C.isBeforeOrEqual(this.ranges[b].range.getStartPosition())&&(this.nextIdx=b+(P?0:-1),y=!0);y||(this.nextIdx=P?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(P,y){if(D.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(P):P?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const C=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const b=C.range.getStartPosition();this._editor.setPosition(b),this._editor.revealRangeInCenter(C.range,y)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(P=0){this._move(!0,P)}previous(P=0){this._move(!1,P)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},49317:(Fe,Ee,p)=>{p.d(Ee,{T4:()=>g,OY:()=>Y,Sj:()=>W,Uo:()=>M,hP:()=>i});var D=p(60745);class g{constructor(B,P,y=!1){this._range=B,this._text=P,this.insertsAutoWhitespace=y}getEditOperations(B,P){P.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,P){const C=P.getInverseEditOperations()[0].range;return D.Y.fromPositions(C.getEndPosition())}}class Y{constructor(B,P){this._range=B,this._text=P}getEditOperations(B,P){P.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,P){const C=P.getInverseEditOperations()[0].range;return D.Y.fromRange(C,0)}}class W{constructor(B,P,y=!1){this._range=B,this._text=P,this.insertsAutoWhitespace=y}getEditOperations(B,P){P.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,P){const C=P.getInverseEditOperations()[0].range;return D.Y.fromPositions(C.getStartPosition())}}class M{constructor(B,P,y,C,b=!1){this._range=B,this._text=P,this._columnDeltaOffset=C,this._lineNumberDeltaOffset=y,this.insertsAutoWhitespace=b}getEditOperations(B,P){P.addTrackedEditOperation(this._range,this._text)}computeCursorState(B,P){const C=P.getInverseEditOperations()[0].range;return D.Y.fromPositions(C.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class i{constructor(B,P,y,C=!1){this._range=B,this._text=P,this._initialSelection=y,this._forceMoveMarkers=C,this._selectionId=null}getEditOperations(B,P){P.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=P.trackSelection(this._initialSelection)}computeCursorState(B,P){return P.getTrackedSelection(this._selectionId)}}},51788:(Fe,Ee,p)=>{p.d(Ee,{U:()=>B});var D=p(74243),g=p(90784),Y=p(1873),W=p(60745),M=p(92119);const i=Object.create(null);function T(P,y){if(y<=0)return"";i[P]||(i[P]=["",P]);const C=i[P];for(let b=C.length;b<=y;b++)C[b]=C[b-1]+P;return C[y]}class B{constructor(y,C){this._opts=C,this._selection=y,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(y,C,b,x,f){const E=g.i.visibleColumnFromColumn(y,C,b);if(f){const z=T(" ",x);return T(z,g.i.prevIndentTabStop(E,x)/x)}return T("\t",g.i.prevRenderTabStop(E,b)/b)}static shiftIndent(y,C,b,x,f){const E=g.i.visibleColumnFromColumn(y,C,b);if(f){const z=T(" ",x);return T(z,g.i.nextIndentTabStop(E,x)/x)}return T("\t",g.i.nextRenderTabStop(E,b)/b)}_addEditOperation(y,C,b){this._useLastEditRangeForCursorEndPosition?y.addTrackedEditOperation(C,b):y.addEditOperation(C,b)}getEditOperations(y,C){const b=this._selection.startLineNumber;let x=this._selection.endLineNumber;1===this._selection.endColumn&&b!==x&&(x-=1);const{tabSize:f,indentSize:E,insertSpaces:z}=this._opts,L=b===x;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(y.getLineContent(b))&&(this._useLastEditRangeForCursorEndPosition=!0);let N=0,Z=0;for(let O=b;O<=x;O++,N=Z){Z=0;const I=y.getLineContent(O);let j,$=D.LC(I);if((!this._opts.isUnshift||0!==I.length&&0!==$)&&(L||this._opts.isUnshift||0!==I.length)){if(-1===$&&($=I.length),O>1&&g.i.visibleColumnFromColumn(I,$+1,f)%E!=0&&y.isCheapToTokenize(O-1)){const oe=M.zu.getEnterAction(this._opts.autoIndent,y,new Y.e(O-1,y.getLineMaxColumn(O-1),O-1,y.getLineMaxColumn(O-1)));if(oe){if(Z=N,oe.appendText)for(let de=0,fe=oe.appendText.length;de<fe&&Z<E&&32===oe.appendText.charCodeAt(de);de++)Z++;oe.removeText&&(Z=Math.max(0,Z-oe.removeText));for(let de=0;de<Z&&0!==$&&32===I.charCodeAt($-1);de++)$--}}this._opts.isUnshift&&0===$||(j=this._opts.isUnshift?B.unshiftIndent(I,$+1,f,E,z):B.shiftIndent(I,$+1,f,E,z),this._addEditOperation(C,new Y.e(O,1,O,$+1),j),O===b&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=$+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===y.getLineLength(b)&&(this._useLastEditRangeForCursorEndPosition=!0);const N=z?T(" ",E):"\t";for(let Z=b;Z<=x;Z++){const O=y.getLineContent(Z);let I=D.LC(O);if((!this._opts.isUnshift||0!==O.length&&0!==I)&&(L||this._opts.isUnshift||0!==O.length)&&(-1===I&&(I=O.length),!this._opts.isUnshift||0!==I))if(this._opts.isUnshift){I=Math.min(I,E);for(let $=0;$<I;$++)if(9===O.charCodeAt($)){I=$+1;break}this._addEditOperation(C,new Y.e(Z,1,Z,I+1),"")}else this._addEditOperation(C,new Y.e(Z,1,Z,1),N),Z===b&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=C.trackSelection(this._selection)}computeCursorState(y,C){if(this._useLastEditRangeForCursorEndPosition){const x=C.getInverseEditOperations()[0];return new W.Y(x.range.endLineNumber,x.range.endColumn,x.range.endLineNumber,x.range.endColumn)}const b=C.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const x=this._selection.startColumn;return b.startColumn<=x?b:0===b.getDirection()?new W.Y(b.startLineNumber,x,b.endLineNumber,b.endColumn):new W.Y(b.endLineNumber,b.endColumn,b.startLineNumber,x)}return b}}},52925:(Fe,Ee,p)=>{p.d(Ee,{y0:()=>T,Bb:()=>B,LJ:()=>P,rk:()=>C,O7:()=>E,Zc:()=>L,NY:()=>I,d2:()=>pe,n0:()=>le,gk:()=>Ie,$J:()=>nt,Av:()=>Ct,qt:()=>jt,hL:()=>_n,Bc:()=>rn,BH:()=>xi});var D=p(12918),g=p(70700),Y=p(54745),W=p(89822),M=p(60842),i=p(27870);const T=8;class B{constructor(He){this._values=He}hasChanged(He){return this._values[He]}}class P{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class y{constructor(He,$e,Xt,pn){this.id=He,this.name=$e,this.defaultValue=Xt,this.schema=pn}applyUpdate(He,$e){return b(He,$e)}compute(He,$e,Xt){return Xt}}class C{constructor(He,$e){this.newValue=He,this.didChange=$e}}function b(Yt,He){if("object"!=typeof Yt||"object"!=typeof He||!Yt||!He)return new C(He,Yt!==He);if(Array.isArray(Yt)||Array.isArray(He)){const Xt=Array.isArray(Yt)&&Array.isArray(He)&&W.fS(Yt,He);return new C(He,Xt)}let $e=!1;for(const Xt in He)if(He.hasOwnProperty(Xt)){const pn=b(Yt[Xt],He[Xt]);pn.didChange&&(Yt[Xt]=pn.newValue,$e=!0)}return new C(Yt,$e)}class x{constructor(He){this.schema=void 0,this.id=He,this.name="_never_",this.defaultValue=void 0}applyUpdate(He,$e){return b(He,$e)}validate(He){return this.defaultValue}}class f{constructor(He,$e,Xt,pn){this.id=He,this.name=$e,this.defaultValue=Xt,this.schema=pn}applyUpdate(He,$e){return b(He,$e)}validate(He){return void 0===He?this.defaultValue:He}compute(He,$e,Xt){return Xt}}function E(Yt,He){return void 0===Yt?He:"false"!==Yt&&Boolean(Yt)}class z extends f{constructor(He,$e,Xt,pn){void 0!==pn&&(pn.type="boolean",pn.default=Xt),super(He,$e,Xt,pn)}validate(He){return E(He,this.defaultValue)}}function L(Yt,He,$e,Xt){if(void 0===Yt)return He;let pn=parseInt(Yt,10);return isNaN(pn)?He:(pn=Math.max($e,pn),pn=Math.min(Xt,pn),0|pn)}class N extends f{constructor(He,$e,Xt,pn,ti,bi){void 0!==bi&&(bi.type="integer",bi.default=Xt,bi.minimum=pn,bi.maximum=ti),super(He,$e,Xt,bi),this.minimum=pn,this.maximum=ti}static clampedInt(He,$e,Xt,pn){return L(He,$e,Xt,pn)}validate(He){return N.clampedInt(He,this.defaultValue,this.minimum,this.maximum)}}class Z extends f{constructor(He,$e,Xt,pn,ti){void 0!==ti&&(ti.type="number",ti.default=Xt),super(He,$e,Xt,ti),this.validationFn=pn}static clamp(He,$e,Xt){return He<$e?$e:He>Xt?Xt:He}static float(He,$e){if("number"==typeof He)return He;if(void 0===He)return $e;const Xt=parseFloat(He);return isNaN(Xt)?$e:Xt}validate(He){return this.validationFn(Z.float(He,this.defaultValue))}}class O extends f{static string(He,$e){return"string"!=typeof He?$e:He}constructor(He,$e,Xt,pn){void 0!==pn&&(pn.type="string",pn.default=Xt),super(He,$e,Xt,pn)}validate(He){return O.string(He,this.defaultValue)}}function I(Yt,He,$e){return"string"!=typeof Yt||-1===$e.indexOf(Yt)?He:Yt}class $ extends f{constructor(He,$e,Xt,pn,ti){void 0!==ti&&(ti.type="string",ti.enum=pn,ti.default=Xt),super(He,$e,Xt,ti),this._allowedValues=pn}validate(He){return I(He,this.defaultValue,this._allowedValues)}}class j extends y{constructor(He,$e,Xt,pn,ti,bi,Oi){void 0!==Oi&&(Oi.type="string",Oi.enum=ti,Oi.default=pn),super(He,$e,Xt,Oi),this._allowedValues=ti,this._convert=bi}validate(He){return"string"!=typeof He||-1===this._allowedValues.indexOf(He)?this.defaultValue:this._convert(He)}}var pe=(()=>{return(Yt=pe||(pe={}))[Yt.Line=1]="Line",Yt[Yt.Block=2]="Block",Yt[Yt.Underline=3]="Underline",Yt[Yt.LineThin=4]="LineThin",Yt[Yt.BlockOutline=5]="BlockOutline",Yt[Yt.UnderlineThin=6]="UnderlineThin",pe;var Yt})();let le=(()=>{class Yt extends y{constructor(){super(45,"fontLigatures",Yt.OFF,{anyOf:[{type:"boolean",description:D.N("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:D.N("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:D.N("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate($e){return void 0===$e?this.defaultValue:"string"==typeof $e?"false"===$e?Yt.OFF:"true"===$e?Yt.ON:$e:Boolean($e)?Yt.ON:Yt.OFF}}return Yt.OFF='"liga" off, "calt" off',Yt.ON='"liga" on, "calt" on',Yt})(),re=(()=>{class Yt extends y{constructor(){super(47,"fontWeight",_n.fontWeight,{anyOf:[{type:"number",minimum:Yt.MINIMUM_VALUE,maximum:Yt.MAXIMUM_VALUE,errorMessage:D.N("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Yt.SUGGESTION_VALUES}],default:_n.fontWeight,description:D.N("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate($e){return"normal"===$e||"bold"===$e?$e:String(N.clampedInt($e,_n.fontWeight,Yt.MINIMUM_VALUE,Yt.MAXIMUM_VALUE))}}return Yt.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Yt.MINIMUM_VALUE=1,Yt.MAXIMUM_VALUE=1e3,Yt})();class Ie extends x{constructor(){super(131)}compute(He,$e,Xt){return Ie.computeLayout($e,{memory:He.memory,outerWidth:He.outerWidth,outerHeight:He.outerHeight,isDominatedByLongLines:He.isDominatedByLongLines,lineHeight:He.fontInfo.lineHeight,viewLineCount:He.viewLineCount,lineNumbersDigitCount:He.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:He.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:He.fontInfo.maxDigitWidth,pixelRatio:He.pixelRatio})}static computeContainedMinimapLineCount(He){const $e=He.height/He.lineHeight,Xt=He.scrollBeyondLastLine?$e-1:0,pn=(He.viewLineCount+Xt)/(He.pixelRatio*He.height);return{typicalViewportLineCount:$e,extraLinesBeyondLastLine:Xt,desiredRatio:pn,minimapLineCount:Math.floor(He.viewLineCount/pn)}}static _computeMinimapLayout(He,$e){const Xt=He.outerWidth,pn=He.outerHeight,ti=He.pixelRatio;if(!He.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(ti*pn),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:pn};const bi=$e.stableMinimapLayoutInput,Oi=bi&&He.outerHeight===bi.outerHeight&&He.lineHeight===bi.lineHeight&&He.typicalHalfwidthCharacterWidth===bi.typicalHalfwidthCharacterWidth&&He.pixelRatio===bi.pixelRatio&&He.scrollBeyondLastLine===bi.scrollBeyondLastLine&&He.minimap.enabled===bi.minimap.enabled&&He.minimap.side===bi.minimap.side&&He.minimap.size===bi.minimap.size&&He.minimap.showSlider===bi.minimap.showSlider&&He.minimap.renderCharacters===bi.minimap.renderCharacters&&He.minimap.maxColumn===bi.minimap.maxColumn&&He.minimap.scale===bi.minimap.scale&&He.verticalScrollbarWidth===bi.verticalScrollbarWidth&&He.isViewportWrapping===bi.isViewportWrapping,Li=He.lineHeight,vi=He.typicalHalfwidthCharacterWidth,xt=He.scrollBeyondLastLine,St=He.minimap.renderCharacters;let $t=ti>=2?Math.round(2*He.minimap.scale):He.minimap.scale;const Fn=He.minimap.maxColumn,kt=He.minimap.size,Ve=He.minimap.side,Je=He.verticalScrollbarWidth,lt=He.viewLineCount,Et=He.remainingWidth,Vt=He.isViewportWrapping,Ut=St?2:3;let ln=Math.floor(ti*pn);const Sn=ln/ti;let qt=!1,Cn=!1,yn=Ut*$t,xn=$t/ti,gn=1;if("fill"===kt||"fit"===kt){const{typicalViewportLineCount:Mn,extraLinesBeyondLastLine:Pi,desiredRatio:ri,minimapLineCount:mi}=Ie.computeContainedMinimapLineCount({viewLineCount:lt,scrollBeyondLastLine:xt,height:pn,lineHeight:Li,pixelRatio:ti});if(lt/mi>1)qt=!0,Cn=!0,$t=1,yn=1,xn=$t/ti;else{let pi=!1,Di=$t+1;if("fit"===kt){const Ci=Math.ceil((lt+Pi)*yn);Vt&&Oi&&Et<=$e.stableFitRemainingWidth?(pi=!0,Di=$e.stableFitMaxMinimapScale):pi=Ci>ln}if("fill"===kt||pi){qt=!0;const Ci=$t;yn=Math.min(Li*ti,Math.max(1,Math.floor(1/ri))),Vt&&Oi&&Et<=$e.stableFitRemainingWidth&&(Di=$e.stableFitMaxMinimapScale),$t=Math.min(Di,Math.max(1,Math.floor(yn/Ut))),$t>Ci&&(gn=Math.min(2,$t/Ci)),xn=$t/ti/gn,ln=Math.ceil(Math.max(Mn,lt+Pi)*yn),Vt?($e.stableMinimapLayoutInput=He,$e.stableFitRemainingWidth=Et,$e.stableFitMaxMinimapScale=$t):($e.stableMinimapLayoutInput=null,$e.stableFitRemainingWidth=0)}}}const Pn=Math.floor(Fn*xn),kn=Math.min(Pn,Math.max(0,Math.floor((Et-Je-2)*xn/(vi+xn)))+T);let jn=Math.floor(ti*kn);const Qn=jn/ti;return jn=Math.floor(jn*gn),{renderMinimap:St?1:2,minimapLeft:"left"===Ve?0:Xt-kn-Je,minimapWidth:kn,minimapHeightIsEditorHeight:qt,minimapIsSampling:Cn,minimapScale:$t,minimapLineHeight:yn,minimapCanvasInnerWidth:jn,minimapCanvasInnerHeight:ln,minimapCanvasOuterWidth:Qn,minimapCanvasOuterHeight:Sn}}static computeLayout(He,$e){const Xt=0|$e.outerWidth,pn=0|$e.outerHeight,ti=0|$e.lineHeight,bi=0|$e.lineNumbersDigitCount,Oi=$e.typicalHalfwidthCharacterWidth,Li=$e.maxDigitWidth,vi=$e.pixelRatio,xt=$e.viewLineCount,St=He.get(123),$t="inherit"===St?He.get(122):St,Fn="inherit"===$t?He.get(118):$t,kt=He.get(121),Ve=He.get(2),Je=$e.isDominatedByLongLines,lt=He.get(50),Et=0!==He.get(60).renderType,Vt=He.get(61),Ut=He.get(94),ln=He.get(65),Sn=He.get(92),qt=Sn.verticalScrollbarSize,Cn=Sn.verticalHasArrows,yn=Sn.arrowSize,xn=Sn.horizontalScrollbarSize,gn=He.get(58),Pn=He.get(37);let kn;if("string"==typeof gn&&/^\d+(\.\d+)?ch$/.test(gn)){const Ui=parseFloat(gn.substr(0,gn.length-2));kn=N.clampedInt(Ui*Oi,0,0,1e3)}else kn=N.clampedInt(gn,0,0,1e3);Pn&&(kn+=16);let jn=0;if(Et){const Ui=Math.max(bi,Vt);jn=Math.round(Ui*Li)}let Qn=0;lt&&(Qn=ti);let gi=0,Mi=gi+Qn,Mn=Mi+jn,Pi=Mn+kn;const ri=Xt-Qn-jn-kn;let mi=!1,Dn=!1,pi=-1;2!==Ve&&("inherit"===$t&&Je?(mi=!0,Dn=!0):"on"===Fn||"bounded"===Fn?Dn=!0:"wordWrapColumn"===Fn&&(pi=kt));const Di=Ie._computeMinimapLayout({outerWidth:Xt,outerHeight:pn,lineHeight:ti,typicalHalfwidthCharacterWidth:Oi,pixelRatio:vi,scrollBeyondLastLine:Ut,minimap:ln,verticalScrollbarWidth:qt,viewLineCount:xt,remainingWidth:ri,isViewportWrapping:Dn},$e.memory||new P);0!==Di.renderMinimap&&0===Di.minimapLeft&&(gi+=Di.minimapWidth,Mi+=Di.minimapWidth,Mn+=Di.minimapWidth,Pi+=Di.minimapWidth);const Ci=ri-Di.minimapWidth,Xi=Math.max(1,Math.floor((Ci-qt-2)/Oi)),Kn=Cn?yn:0;return Dn&&(pi=Math.max(1,Xi),"bounded"===Fn&&(pi=Math.min(pi,kt))),{width:Xt,height:pn,glyphMarginLeft:gi,glyphMarginWidth:Qn,lineNumbersLeft:Mi,lineNumbersWidth:jn,decorationsLeft:Mn,decorationsWidth:kn,contentLeft:Pi,contentWidth:Ci,minimap:Di,viewportColumn:Xi,isWordWrapMinified:mi,isViewportWrapping:Dn,wrappingColumn:pi,verticalScrollbarWidth:qt,horizontalScrollbarHeight:xn,overviewRuler:{top:Kn,width:qt,height:pn-2*Kn,right:0}}}}function nt(Yt){const He=Yt.get(87);return"editable"===He?Yt.get(81):"on"!==He}function Ne(Yt,He){if("string"!=typeof Yt)return He;switch(Yt){case"hidden":return 2;case"visible":return 3;default:return 1}}const Ct="inUntrustedWorkspace",jt={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function zt(Yt,He,$e){const Xt=$e.indexOf(Yt);return-1===Xt?He:$e[Xt]}const _n={fontFamily:g.dz?"Menlo, Monaco, 'Courier New', monospace":g.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:g.dz?12:14,lineHeight:0,letterSpacing:0},rn=[];function Rt(Yt){return rn[Yt.id]=Yt,Yt}const xi={acceptSuggestionOnCommitCharacter:Rt(new z(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:D.N("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Rt(new $(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",D.N("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:D.N("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Rt(new class extends y{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[D.N("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),D.N("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),D.N("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:D.N("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(He){switch(He){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(He,$e,Xt){return 0===Xt?He.accessibilitySupport:Xt}}),accessibilityPageSize:Rt(new N(3,"accessibilityPageSize",10,1,1073741824,{description:D.N("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Rt(new O(4,"ariaLabel",D.N("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Rt(new $(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",D.N("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),D.N("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:D.N("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Rt(new $(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",D.N("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:D.N("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Rt(new $(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",D.N("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:D.N("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Rt(new $(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",D.N("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),D.N("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:D.N("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Rt(new j(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function(Yt){switch(Yt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[D.N("editor.autoIndent.none","The editor will not insert indentation automatically."),D.N("editor.autoIndent.keep","The editor will keep the current line's indentation."),D.N("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),D.N("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),D.N("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:D.N("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Rt(new z(10,"automaticLayout",!1)),autoSurround:Rt(new $(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[D.N("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),D.N("editor.autoSurround.quotes","Surround with quotes but not brackets."),D.N("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:D.N("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:Rt(new class extends y{constructor(){const He={enabled:i.D.bracketPairColorizationOptions.enabled};super(12,"bracketPairColorization",He,{"editor.bracketPairColorization.enabled":{type:"boolean",default:He.enabled,description:D.N("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use 'workbench.colorCustomizations' to override the bracket highlight colors.")}})}validate(He){return He&&"object"==typeof He?{enabled:E(He.enabled,this.defaultValue.enabled)}:this.defaultValue}}),bracketPairGuides:Rt(new class extends y{constructor(){const He={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",He,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[D.N("editor.guides.bracketPairs.true","Enables bracket pair guides."),D.N("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),D.N("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:He.bracketPairs,description:D.N("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[D.N("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),D.N("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),D.N("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:He.bracketPairsHorizontal,description:D.N("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:He.highlightActiveBracketPair,description:D.N("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:He.indentation,description:D.N("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:"boolean",default:He.highlightActiveIndentation,description:D.N("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{bracketPairs:zt($e.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:zt($e.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:E($e.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:E($e.indentation,this.defaultValue.indentation),highlightActiveIndentation:E($e.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation)}}}),stickyTabStops:Rt(new z(104,"stickyTabStops",!1,{description:D.N("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Rt(new z(14,"codeLens",!0,{description:D.N("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Rt(new O(15,"codeLensFontFamily","",{description:D.N("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Rt(new N(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:D.N("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:Rt(new z(17,"colorDecorators",!0,{description:D.N("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:Rt(new z(18,"columnSelection",!1,{description:D.N("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Rt(new class extends y{constructor(){const He={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",He,{"editor.comments.insertSpace":{type:"boolean",default:He.insertSpace,description:D.N("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:He.ignoreEmptyLines,description:D.N("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{insertSpace:E($e.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:E($e.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:Rt(new z(20,"contextmenu",!0)),copyWithSyntaxHighlighting:Rt(new z(21,"copyWithSyntaxHighlighting",!0,{description:D.N("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Rt(new j(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function(Yt){switch(Yt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:D.N("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Rt(new z(23,"cursorSmoothCaretAnimation",!1,{description:D.N("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Rt(new j(24,"cursorStyle",pe.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function(Yt){switch(Yt){case"line":return pe.Line;case"block":return pe.Block;case"underline":return pe.Underline;case"line-thin":return pe.LineThin;case"block-outline":return pe.BlockOutline;case"underline-thin":return pe.UnderlineThin}},{description:D.N("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Rt(new N(25,"cursorSurroundingLines",0,0,1073741824,{description:D.N("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Rt(new $(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[D.N("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),D.N("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:D.N("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Rt(new N(27,"cursorWidth",0,0,1073741824,{markdownDescription:D.N("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Rt(new z(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:Rt(new z(29,"disableMonospaceOptimizations",!1)),domReadOnly:Rt(new z(30,"domReadOnly",!1)),dragAndDrop:Rt(new z(31,"dragAndDrop",!0,{description:D.N("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Rt(new class extends z{constructor(){super(32,"emptySelectionClipboard",!0,{description:D.N("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(He,$e,Xt){return Xt&&He.emptySelectionClipboard}}),extraEditorClassName:Rt(new O(33,"extraEditorClassName","")),fastScrollSensitivity:Rt(new Z(34,"fastScrollSensitivity",5,Yt=>Yt<=0?5:Yt,{markdownDescription:D.N("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Rt(new class extends y{constructor(){const He={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",He,{"editor.find.cursorMoveOnType":{type:"boolean",default:He.cursorMoveOnType,description:D.N("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:He.seedSearchStringFromSelection,enumDescriptions:[D.N("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),D.N("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),D.N("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:D.N("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:He.autoFindInSelection,enumDescriptions:[D.N("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),D.N("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),D.N("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:D.N("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:He.globalFindClipboard,description:D.N("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:g.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:He.addExtraSpaceOnTop,description:D.N("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:He.loop,description:D.N("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{cursorMoveOnType:E($e.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof He.seedSearchStringFromSelection?He.seedSearchStringFromSelection?"always":"never":I($e.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof He.autoFindInSelection?He.autoFindInSelection?"always":"never":I($e.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:E($e.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:E($e.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:E($e.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:Rt(new z(36,"fixedOverflowWidgets",!1)),folding:Rt(new z(37,"folding",!0,{description:D.N("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Rt(new $(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[D.N("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),D.N("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:D.N("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Rt(new z(39,"foldingHighlight",!0,{description:D.N("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Rt(new z(40,"foldingImportsByDefault",!1,{description:D.N("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:Rt(new N(41,"foldingMaximumRegions",5e3,10,65e3,{description:D.N("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:Rt(new z(42,"unfoldOnClickAfterEndOfLine",!1,{description:D.N("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Rt(new O(43,"fontFamily",_n.fontFamily,{description:D.N("fontFamily","Controls the font family.")})),fontInfo:Rt(new class extends x{constructor(){super(44)}compute(He,$e,Xt){return He.fontInfo}}),fontLigatures2:Rt(new le),fontSize:Rt(new class extends f{constructor(){super(46,"fontSize",_n.fontSize,{type:"number",minimum:6,maximum:100,default:_n.fontSize,description:D.N("fontSize","Controls the font size in pixels.")})}validate(He){const $e=Z.float(He,this.defaultValue);return 0===$e?_n.fontSize:Z.clamp($e,6,100)}compute(He,$e,Xt){return He.fontInfo.fontSize}}),fontWeight:Rt(new re),formatOnPaste:Rt(new z(48,"formatOnPaste",!1,{description:D.N("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Rt(new z(49,"formatOnType",!1,{description:D.N("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Rt(new z(50,"glyphMargin",!0,{description:D.N("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Rt(new class extends y{constructor(){const He={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},$e={type:"string",enum:["peek","gotoAndPeek","goto"],default:He.multiple,enumDescriptions:[D.N("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),D.N("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),D.N("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},Xt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",He,{"editor.gotoLocation.multiple":{deprecationMessage:D.N("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:D.N("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},$e),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:D.N("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},$e),"editor.gotoLocation.multipleDeclarations":Object.assign({description:D.N("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},$e),"editor.gotoLocation.multipleImplementations":Object.assign({description:D.N("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},$e),"editor.gotoLocation.multipleReferences":Object.assign({description:D.N("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},$e),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:He.alternativeDefinitionCommand,enum:Xt,description:D.N("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:He.alternativeTypeDefinitionCommand,enum:Xt,description:D.N("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:He.alternativeDeclarationCommand,enum:Xt,description:D.N("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:He.alternativeImplementationCommand,enum:Xt,description:D.N("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:He.alternativeReferenceCommand,enum:Xt,description:D.N("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(He){var $e,Xt,pn,ti,bi;if(!He||"object"!=typeof He)return this.defaultValue;const Oi=He;return{multiple:I(Oi.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==($e=Oi.multipleDefinitions)&&void 0!==$e?$e:I(Oi.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(Xt=Oi.multipleTypeDefinitions)&&void 0!==Xt?Xt:I(Oi.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(pn=Oi.multipleDeclarations)&&void 0!==pn?pn:I(Oi.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(ti=Oi.multipleImplementations)&&void 0!==ti?ti:I(Oi.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(bi=Oi.multipleReferences)&&void 0!==bi?bi:I(Oi.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:O.string(Oi.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:O.string(Oi.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:O.string(Oi.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:O.string(Oi.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:O.string(Oi.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:Rt(new z(52,"hideCursorInOverviewRuler",!1,{description:D.N("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:Rt(new class extends y{constructor(){const He={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",He,{"editor.hover.enabled":{type:"boolean",default:He.enabled,description:D.N("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:He.delay,minimum:0,maximum:1e4,description:D.N("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:He.sticky,description:D.N("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:He.above,description:D.N("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{enabled:E($e.enabled,this.defaultValue.enabled),delay:N.clampedInt($e.delay,this.defaultValue.delay,0,1e4),sticky:E($e.sticky,this.defaultValue.sticky),above:E($e.above,this.defaultValue.above)}}}),inDiffEditor:Rt(new z(54,"inDiffEditor",!1)),letterSpacing:Rt(new Z(56,"letterSpacing",_n.letterSpacing,Yt=>Z.clamp(Yt,-5,20),{description:D.N("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Rt(new class extends y{constructor(){const He={enabled:!0};super(57,"lightbulb",He,{"editor.lightbulb.enabled":{type:"boolean",default:He.enabled,description:D.N("codeActions","Enables the code action lightbulb in the editor.")}})}validate(He){return He&&"object"==typeof He?{enabled:E(He.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:Rt(new f(58,"lineDecorationsWidth",10)),lineHeight:Rt(new class extends Z{constructor(){super(59,"lineHeight",_n.lineHeight,He=>Z.clamp(He,0,150),{markdownDescription:D.N("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(He,$e,Xt){return He.fontInfo.lineHeight}}),lineNumbers:Rt(new class extends y{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[D.N("lineNumbers.off","Line numbers are not rendered."),D.N("lineNumbers.on","Line numbers are rendered as absolute number."),D.N("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),D.N("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:D.N("lineNumbers","Controls the display of line numbers.")})}validate(He){let $e=this.defaultValue.renderType,Xt=this.defaultValue.renderFn;return void 0!==He&&("function"==typeof He?($e=4,Xt=He):$e="interval"===He?3:"relative"===He?2:"on"===He?1:0),{renderType:$e,renderFn:Xt}}}),lineNumbersMinChars:Rt(new N(61,"lineNumbersMinChars",5,1,300)),linkedEditing:Rt(new z(62,"linkedEditing",!1,{description:D.N("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:Rt(new z(63,"links",!0,{description:D.N("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Rt(new $(64,"matchBrackets","always",["always","near","never"],{description:D.N("matchBrackets","Highlight matching brackets.")})),minimap:Rt(new class extends y{constructor(){const He={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",He,{"editor.minimap.enabled":{type:"boolean",default:He.enabled,description:D.N("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[D.N("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),D.N("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),D.N("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:He.size,description:D.N("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:He.side,description:D.N("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:He.showSlider,description:D.N("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:He.scale,minimum:1,maximum:3,enum:[1,2,3],description:D.N("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:He.renderCharacters,description:D.N("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:He.maxColumn,description:D.N("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{enabled:E($e.enabled,this.defaultValue.enabled),size:I($e.size,this.defaultValue.size,["proportional","fill","fit"]),side:I($e.side,this.defaultValue.side,["right","left"]),showSlider:I($e.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:E($e.renderCharacters,this.defaultValue.renderCharacters),scale:N.clampedInt($e.scale,1,1,3),maxColumn:N.clampedInt($e.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:Rt(new $(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Rt(new Z(67,"mouseWheelScrollSensitivity",1,Yt=>0===Yt?1:Yt,{markdownDescription:D.N("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Rt(new z(68,"mouseWheelZoom",!1,{markdownDescription:D.N("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Rt(new z(69,"multiCursorMergeOverlapping",!0,{description:D.N("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Rt(new j(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function(Yt){return"ctrlCmd"===Yt?g.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[D.N("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),D.N("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:D.N({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Rt(new $(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[D.N("multiCursorPaste.spread","Each cursor pastes a single line of the text."),D.N("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:D.N("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Rt(new z(72,"occurrencesHighlight",!0,{description:D.N("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Rt(new z(73,"overviewRulerBorder",!0,{description:D.N("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Rt(new N(74,"overviewRulerLanes",3,0,3)),padding:Rt(new class extends y{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:D.N("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:D.N("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{top:N.clampedInt($e.top,0,0,1e3),bottom:N.clampedInt($e.bottom,0,0,1e3)}}}),parameterHints:Rt(new class extends y{constructor(){const He={enabled:!0,cycle:!1};super(76,"parameterHints",He,{"editor.parameterHints.enabled":{type:"boolean",default:He.enabled,description:D.N("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:He.cycle,description:D.N("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{enabled:E($e.enabled,this.defaultValue.enabled),cycle:E($e.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:Rt(new $(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[D.N("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),D.N("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:D.N("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Rt(new z(78,"definitionLinkOpensInPeek",!1,{description:D.N("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Rt(new class extends y{constructor(){const He={other:!0,comments:!1,strings:!1};super(79,"quickSuggestions",He,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:He.strings,description:D.N("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:He.comments,description:D.N("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:He.other,description:D.N("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:He,description:D.N("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=He}validate(He){if("boolean"==typeof He)return He;if(He&&"object"==typeof He){const $e=He,Xt={other:E($e.other,this.defaultValue.other),comments:E($e.comments,this.defaultValue.comments),strings:E($e.strings,this.defaultValue.strings)};return!!(Xt.other&&Xt.comments&&Xt.strings)||!!(Xt.other||Xt.comments||Xt.strings)&&Xt}return this.defaultValue}}),quickSuggestionsDelay:Rt(new N(80,"quickSuggestionsDelay",10,0,1073741824,{description:D.N("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Rt(new z(81,"readOnly",!1)),renameOnType:Rt(new z(82,"renameOnType",!1,{description:D.N("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:D.N("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Rt(new z(83,"renderControlCharacters",!0,{description:D.N("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:Rt(new z(84,"renderFinalNewline",!0,{description:D.N("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Rt(new $(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",D.N("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:D.N("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Rt(new z(86,"renderLineHighlightOnlyWhenFocus",!1,{description:D.N("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Rt(new $(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Rt(new $(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",D.N("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),D.N("renderWhitespace.selection","Render whitespace characters only on selected text."),D.N("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:D.N("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Rt(new N(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Rt(new z(90,"roundedSelection",!0,{description:D.N("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Rt(new class extends y{constructor(){const He=[],$e={type:"number",description:D.N("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(91,"rulers",He,{type:"array",items:{anyOf:[$e,{type:["object"],properties:{column:$e,color:{type:"string",description:D.N("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:He,description:D.N("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(He){if(Array.isArray(He)){const $e=[];for(let Xt of He)if("number"==typeof Xt)$e.push({column:N.clampedInt(Xt,0,0,1e4),color:null});else if(Xt&&"object"==typeof Xt){const pn=Xt;$e.push({column:N.clampedInt(pn.column,0,0,1e4),color:pn.color})}return $e.sort((Xt,pn)=>Xt.column-pn.column),$e}return this.defaultValue}}),scrollbar:Rt(new class extends y{constructor(){const He={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",He,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[D.N("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),D.N("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),D.N("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:D.N("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[D.N("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),D.N("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),D.N("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:D.N("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:He.verticalScrollbarSize,description:D.N("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:He.horizontalScrollbarSize,description:D.N("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:He.scrollByPage,description:D.N("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He,Xt=N.clampedInt($e.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),pn=N.clampedInt($e.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:N.clampedInt($e.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Ne($e.vertical,this.defaultValue.vertical),horizontal:Ne($e.horizontal,this.defaultValue.horizontal),useShadows:E($e.useShadows,this.defaultValue.useShadows),verticalHasArrows:E($e.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:E($e.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:E($e.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:E($e.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Xt,horizontalSliderSize:N.clampedInt($e.horizontalSliderSize,Xt,0,1e3),verticalScrollbarSize:pn,verticalSliderSize:N.clampedInt($e.verticalSliderSize,pn,0,1e3),scrollByPage:E($e.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:Rt(new N(93,"scrollBeyondLastColumn",5,0,1073741824,{description:D.N("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Rt(new z(94,"scrollBeyondLastLine",!0,{description:D.N("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Rt(new z(95,"scrollPredominantAxis",!0,{description:D.N("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Rt(new z(96,"selectionClipboard",!0,{description:D.N("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:g.IJ})),selectionHighlight:Rt(new z(97,"selectionHighlight",!0,{description:D.N("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Rt(new z(98,"selectOnLineNumbers",!0)),showFoldingControls:Rt(new $(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[D.N("showFoldingControls.always","Always show the folding controls."),D.N("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:D.N("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Rt(new z(100,"showUnused",!0,{description:D.N("showUnused","Controls fading out of unused code.")})),showDeprecated:Rt(new z(126,"showDeprecated",!0,{description:D.N("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Rt(new class extends y{constructor(){const He={enabled:!0,fontSize:0,fontFamily:""};super(127,"inlayHints",He,{"editor.inlayHints.enabled":{type:"boolean",default:He.enabled,description:D.N("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:He.fontSize,markdownDescription:D.N("inlayHints.fontSize","Controls font size of inlay hints in the editor. A default of 90% of `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.")},"editor.inlayHints.fontFamily":{type:"string",default:He.fontFamily,markdownDescription:D.N("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{enabled:E($e.enabled,this.defaultValue.enabled),fontSize:N.clampedInt($e.fontSize,this.defaultValue.fontSize,0,100),fontFamily:O.string($e.fontFamily,this.defaultValue.fontFamily)}}}),snippetSuggestions:Rt(new $(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[D.N("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),D.N("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),D.N("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),D.N("snippetSuggestions.none","Do not show snippet suggestions.")],description:D.N("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Rt(new class extends y{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:D.N("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(He){return He&&"object"==typeof He?{selectLeadingAndTrailingWhitespace:E(He.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:Rt(new z(103,"smoothScrolling",!1,{description:D.N("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Rt(new N(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Rt(new class extends y{constructor(){const He={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",He,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[D.N("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),D.N("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:He.insertMode,description:D.N("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:He.filterGraceful,description:D.N("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:He.localityBonus,description:D.N("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:He.shareSuggestSelections,markdownDescription:D.N("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:He.snippetsPreventQuickSuggestions,description:D.N("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:He.showIcons,description:D.N("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:He.showStatusBar,description:D.N("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:He.preview,description:D.N("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:He.showInlineDetails,description:D.N("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:D.N("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:D.N("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:D.N("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{insertMode:I($e.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:E($e.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:E($e.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:E($e.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:E($e.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:E($e.showIcons,this.defaultValue.showIcons),showStatusBar:E($e.showStatusBar,this.defaultValue.showStatusBar),preview:E($e.preview,this.defaultValue.preview),previewMode:I($e.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:E($e.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:E($e.showMethods,this.defaultValue.showMethods),showFunctions:E($e.showFunctions,this.defaultValue.showFunctions),showConstructors:E($e.showConstructors,this.defaultValue.showConstructors),showDeprecated:E($e.showDeprecated,this.defaultValue.showDeprecated),showFields:E($e.showFields,this.defaultValue.showFields),showVariables:E($e.showVariables,this.defaultValue.showVariables),showClasses:E($e.showClasses,this.defaultValue.showClasses),showStructs:E($e.showStructs,this.defaultValue.showStructs),showInterfaces:E($e.showInterfaces,this.defaultValue.showInterfaces),showModules:E($e.showModules,this.defaultValue.showModules),showProperties:E($e.showProperties,this.defaultValue.showProperties),showEvents:E($e.showEvents,this.defaultValue.showEvents),showOperators:E($e.showOperators,this.defaultValue.showOperators),showUnits:E($e.showUnits,this.defaultValue.showUnits),showValues:E($e.showValues,this.defaultValue.showValues),showConstants:E($e.showConstants,this.defaultValue.showConstants),showEnums:E($e.showEnums,this.defaultValue.showEnums),showEnumMembers:E($e.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:E($e.showKeywords,this.defaultValue.showKeywords),showWords:E($e.showWords,this.defaultValue.showWords),showColors:E($e.showColors,this.defaultValue.showColors),showFiles:E($e.showFiles,this.defaultValue.showFiles),showReferences:E($e.showReferences,this.defaultValue.showReferences),showFolders:E($e.showFolders,this.defaultValue.showFolders),showTypeParameters:E($e.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:E($e.showSnippets,this.defaultValue.showSnippets),showUsers:E($e.showUsers,this.defaultValue.showUsers),showIssues:E($e.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:Rt(new class extends y{constructor(){const He={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",He,{"editor.inlineSuggest.enabled":{type:"boolean",default:He.enabled,description:D.N("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{enabled:E($e.enabled,this.defaultValue.enabled),mode:I($e.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:Rt(new N(107,"suggestFontSize",0,0,1e3,{markdownDescription:D.N("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:Rt(new N(108,"suggestLineHeight",0,0,1e3,{markdownDescription:D.N("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:Rt(new z(109,"suggestOnTriggerCharacters",!0,{description:D.N("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Rt(new $(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[D.N("suggestSelection.first","Always select the first suggestion."),D.N("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),D.N("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:D.N("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Rt(new $(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[D.N("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),D.N("tabCompletion.off","Disable tab completions."),D.N("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:D.N("tabCompletion","Enables tab completions.")})),tabIndex:Rt(new N(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:Rt(new class extends y{constructor(){const He={nonBasicASCII:Ct,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Ct,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",He,{[jt.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ct],default:He.nonBasicASCII,description:D.N("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[jt.invisibleCharacters]:{restricted:!0,type:"boolean",default:He.invisibleCharacters,description:D.N("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[jt.ambiguousCharacters]:{restricted:!0,type:"boolean",default:He.ambiguousCharacters,description:D.N("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[jt.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ct],default:He.includeComments,description:D.N("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[jt.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ct],default:He.includeStrings,description:D.N("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[jt.allowedCharacters]:{restricted:!0,type:"object",default:He.allowedCharacters,description:D.N("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[jt.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:He.allowedLocales,description:D.N("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(He,$e){let Xt=!1;$e.allowedCharacters&&(M.fS(He.allowedCharacters,$e.allowedCharacters)||(He=Object.assign(Object.assign({},He),{allowedCharacters:$e.allowedCharacters}),Xt=!0)),$e.allowedLocales&&(M.fS(He.allowedLocales,$e.allowedLocales)||(He=Object.assign(Object.assign({},He),{allowedLocales:$e.allowedLocales}),Xt=!0));const pn=super.applyUpdate(He,$e);return Xt?new C(pn.newValue,!0):pn}validate(He){if(!He||"object"!=typeof He)return this.defaultValue;const $e=He;return{nonBasicASCII:zt($e.nonBasicASCII,Ct,[!0,!1,Ct]),invisibleCharacters:E($e.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:E($e.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:zt($e.includeComments,Ct,[!0,!1,Ct]),includeStrings:zt($e.includeStrings,Ct,[!0,!1,Ct]),allowedCharacters:this.validateBooleanMap(He.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(He.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(He,$e){if("object"!=typeof He||!He)return $e;const Xt={};for(const[pn,ti]of Object.entries(He))!0===ti&&(Xt[pn]=!0);return Xt}}),unusualLineTerminators:Rt(new $(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[D.N("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),D.N("unusualLineTerminators.off","Unusual line terminators are ignored."),D.N("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:D.N("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Rt(new z(115,"useShadowDOM",!0)),useTabStops:Rt(new z(116,"useTabStops",!0,{description:D.N("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Rt(new O(117,"wordSeparators",Y.vu,{description:D.N("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Rt(new $(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[D.N("wordWrap.off","Lines will never wrap."),D.N("wordWrap.on","Lines will wrap at the viewport width."),D.N({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),D.N({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:D.N({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Rt(new O(119,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:Rt(new O(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:Rt(new N(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:D.N({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Rt(new $(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Rt(new $(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Rt(new j(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function(Yt){switch(Yt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[D.N("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),D.N("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),D.N("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),D.N("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:D.N("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Rt(new $(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[D.N("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),D.N("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:D.N("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Rt(new class extends x{constructor(){super(128)}compute(He,$e,Xt){const pn=["monaco-editor"];return $e.get(33)&&pn.push($e.get(33)),He.extraEditorClassName&&pn.push(He.extraEditorClassName),"default"===$e.get(66)?pn.push("mouse-default"):"copy"===$e.get(66)&&pn.push("mouse-copy"),$e.get(100)&&pn.push("showUnused"),$e.get(126)&&pn.push("showDeprecated"),pn.join(" ")}}),pixelRatio:Rt(new class extends x{constructor(){super(129)}compute(He,$e,Xt){return He.pixelRatio}}),tabFocusMode:Rt(new class extends x{constructor(){super(130)}compute(He,$e,Xt){return!!$e.get(81)||He.tabFocusMode}}),layoutInfo:Rt(new Ie),wrappingInfo:Rt(new class extends x{constructor(){super(132)}compute(He,$e,Xt){const pn=$e.get(131);return{isDominatedByLongLines:He.isDominatedByLongLines,isWordWrapMinified:pn.isWordWrapMinified,isViewportWrapping:pn.isViewportWrapping,wrappingColumn:pn.wrappingColumn}}})}},86627:(Fe,Ee,p)=>{p.d(Ee,{C:()=>g});var D=p(71040);const g=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new D.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(Y){Y=Math.min(Math.max(-5,Y),20),this._zoomLevel!==Y&&(this._zoomLevel=Y,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},11358:(Fe,Ee,p)=>{p.d(Ee,{E4:()=>M,pR:()=>T});var D=p(70700),g=p(86627);const Y=D.dz?1.5:1.35;class M{constructor(P){this._bareFontInfoBrand=void 0,this.pixelRatio=P.pixelRatio,this.fontFamily=String(P.fontFamily),this.fontWeight=String(P.fontWeight),this.fontSize=P.fontSize,this.fontFeatureSettings=P.fontFeatureSettings,this.lineHeight=0|P.lineHeight,this.letterSpacing=P.letterSpacing}static createFromValidatedSettings(P,y,C){const b=P.get(43),x=P.get(47),f=P.get(46),E=P.get(45),z=P.get(59),L=P.get(56);return M._create(b,x,f,E,z,L,y,C)}static _create(P,y,C,b,x,f,E,z){0===x?x=Y*C:x<8&&(x*=C),(x=Math.round(x))<8&&(x=8);const L=1+(z?0:.1*g.C.getZoomLevel());return new M({pixelRatio:E,fontFamily:P,fontWeight:y,fontSize:C*=L,fontFeatureSettings:b,lineHeight:x*=L,letterSpacing:f})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(P){const y=M._wrapInQuotes(this.fontFamily);return P&&this.fontFamily!==P?`${y}, ${P}`:y}static _wrapInQuotes(P){return/[,"']/.test(P)?P:/[+ ]/.test(P)?`"${P}"`:P}}class T extends M{constructor(P,y){super(P),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=y,this.isMonospace=P.isMonospace,this.typicalHalfwidthCharacterWidth=P.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=P.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=P.canUseHalfwidthRightwardsArrow,this.spaceWidth=P.spaceWidth,this.middotWidth=P.middotWidth,this.wsmiddotWidth=P.wsmiddotWidth,this.maxDigitWidth=P.maxDigitWidth}equals(P){return this.fontFamily===P.fontFamily&&this.fontWeight===P.fontWeight&&this.fontSize===P.fontSize&&this.fontFeatureSettings===P.fontFeatureSettings&&this.lineHeight===P.lineHeight&&this.letterSpacing===P.letterSpacing&&this.typicalHalfwidthCharacterWidth===P.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===P.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===P.canUseHalfwidthRightwardsArrow&&this.spaceWidth===P.spaceWidth&&this.middotWidth===P.middotWidth&&this.wsmiddotWidth===P.wsmiddotWidth&&this.maxDigitWidth===P.maxDigitWidth}}},59242:(Fe,Ee,p)=>{p.d(Ee,{N:()=>g,q:()=>Y});var D=p(68733);class g{constructor(M){const i=(0,D.K)(M);this._defaultValue=i,this._asciiMap=g._createAsciiMap(i),this._map=new Map}static _createAsciiMap(M){const i=new Uint8Array(256);for(let T=0;T<256;T++)i[T]=M;return i}set(M,i){const T=(0,D.K)(i);M>=0&&M<256?this._asciiMap[M]=T:this._map.set(M,T)}get(M){return M>=0&&M<256?this._asciiMap[M]:this._map.get(M)||this._defaultValue}}class Y{constructor(){this._actual=new g(0)}add(M){this._actual.set(M,1)}has(M){return 1===this._actual.get(M)}}},90784:(Fe,Ee,p)=>{p.d(Ee,{i:()=>g});var D=p(74243);class g{static _nextVisibleColumn(W,M,i){return 9===W?g.nextRenderTabStop(M,i):D.K7(W)||D.C8(W)?M+2:M+1}static visibleColumnFromColumn(W,M,i){const T=Math.min(M-1,W.length),B=W.substring(0,T),P=new D.W1(B);let y=0;for(;!P.eol();){const C=D.ZH(B,T,P.offset);P.nextGraphemeLength(),y=this._nextVisibleColumn(C,y,i)}return y}static columnFromVisibleColumn(W,M,i){if(M<=0)return 1;const T=W.length,B=new D.W1(W);let P=0,y=1;for(;!B.eol();){const C=D.ZH(W,T,B.offset);B.nextGraphemeLength();const b=this._nextVisibleColumn(C,P,i),x=B.offset+1;if(b>=M)return b-M<M-P?x:y;P=b,y=x}return T+1}static nextRenderTabStop(W,M){return W+M-W%M}static nextIndentTabStop(W,M){return W+M-W%M}static prevRenderTabStop(W,M){return Math.max(0,W-1-(W-1)%M)}static prevIndentTabStop(W,M){return Math.max(0,W-1-(W-1)%M)}}},19420:(Fe,Ee,p)=>{p.d(Ee,{h:()=>g});var D=p(1873);class g{static insert(W,M){return{range:new D.e(W.lineNumber,W.column,W.lineNumber,W.column),text:M,forceMoveMarkers:!0}}static delete(W){return{range:W,text:null}}static replace(W,M){return{range:W,text:M}}static replaceMove(W,M){return{range:W,text:M,forceMoveMarkers:!0}}}},79695:(Fe,Ee,p)=>{p.d(Ee,{Kh:()=>M,Mm:()=>i,n0:()=>C,fY:()=>b,tR:()=>f,Ym:()=>E,hw:()=>z,DD:()=>N,zk:()=>Z,TC:()=>I,Dl:()=>$,zw:()=>j,e_:()=>G,kp:()=>de,zu:()=>fe,x3:()=>pe,N5:()=>ye,IO:()=>ge,m9:()=>ee,lK:()=>le,Re:()=>te,eS:()=>J,zJ:()=>re,Vs:()=>ce,CE:()=>ve,UP:()=>Ie,r0:()=>We,m1:()=>Ue,ts:()=>ue,oV:()=>Ce,m$:()=>Ae,DS:()=>et,lS:()=>Ye,Jn:()=>Pe,YF:()=>st,Qb:()=>ut,m3:()=>nt,To:()=>Se,L7:()=>Ne,HV:()=>at,f9:()=>Ct});var D=p(12918),g=p(81897),Y=p(98275),W=p(53323);const M=(0,Y.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hc:null},D.N("lineHighlight","Background color for the highlight of line at the cursor position.")),i=(0,Y.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},D.N("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),T=(0,Y.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},D.N("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),B=(0,Y.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hc:Y.xL1},D.N("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),P=(0,Y.P6G)("editor.symbolHighlightBackground",{dark:Y.MUv,light:Y.MUv,hc:null},D.N("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),y=(0,Y.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hc:Y.xL1},D.N("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),C=(0,Y.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:g.Il.black,hc:g.Il.white},D.N("caret","Color of the editor cursor.")),b=(0,Y.P6G)("editorCursor.background",null,D.N("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),x=(0,Y.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},D.N("editorWhitespaces","Color of whitespace characters in the editor.")),f=(0,Y.P6G)("editorIndentGuide.background",{dark:x,light:x,hc:x},D.N("editorIndentGuides","Color of the editor indentation guides.")),E=(0,Y.P6G)("editorIndentGuide.activeBackground",{dark:x,light:x,hc:x},D.N("editorActiveIndentGuide","Color of the active editor indentation guides.")),z=(0,Y.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:g.Il.white},D.N("editorLineNumbers","Color of editor line numbers.")),L=(0,Y.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Y.xL1},D.N("editorActiveLineNumber","Color of editor active line number"),!1,D.N("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),N=(0,Y.P6G)("editorLineNumber.activeForeground",{dark:L,light:L,hc:L},D.N("editorActiveLineNumber","Color of editor active line number")),Z=(0,Y.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:g.Il.lightgrey,hc:g.Il.white},D.N("editorRuler","Color of the editor rulers.")),I=((0,Y.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},D.N("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,Y.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},D.N("editorBracketMatchBackground","Background color behind matching brackets"))),$=(0,Y.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Y.lRK},D.N("editorBracketMatchBorder","Color for matching brackets boxes")),j=(0,Y.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},D.N("editorOverviewRulerBorder","Color of the overview ruler border.")),G=(0,Y.P6G)("editorOverviewRuler.background",null,D.N("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),oe=(0,Y.P6G)("editorGutter.background",{dark:Y.cvW,light:Y.cvW,hc:Y.cvW},D.N("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),de=(0,Y.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hc:g.Il.fromHex("#fff").transparent(.8)},D.N("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),fe=(0,Y.P6G)("editorUnnecessaryCode.opacity",{dark:g.Il.fromHex("#000a"),light:g.Il.fromHex("#0007"),hc:null},D.N("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),pe=(0,Y.P6G)("editorGhostText.border",{dark:null,light:null,hc:g.Il.fromHex("#fff").transparent(.8)},D.N("editorGhostTextBorder","Border color of ghost text in the editor.")),ye=(0,Y.P6G)("editorGhostText.foreground",{dark:g.Il.fromHex("#ffffff56"),light:g.Il.fromHex("#0007"),hc:null},D.N("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),ge=(0,Y.P6G)("editorGhostText.background",{dark:null,light:null,hc:null},D.N("editorGhostTextBackground","Background color of the ghost text in the editor.")),Q=new g.Il(new g.VS(0,122,204,.6)),ee=(0,Y.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:Q,light:Q,hc:Q},D.N("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),le=(0,Y.P6G)("editorOverviewRuler.errorForeground",{dark:new g.Il(new g.VS(255,18,18,.7)),light:new g.Il(new g.VS(255,18,18,.7)),hc:new g.Il(new g.VS(255,50,50,1))},D.N("overviewRuleError","Overview ruler marker color for errors.")),te=(0,Y.P6G)("editorOverviewRuler.warningForeground",{dark:Y.uoC,light:Y.uoC,hc:Y.pW3},D.N("overviewRuleWarning","Overview ruler marker color for warnings.")),J=(0,Y.P6G)("editorOverviewRuler.infoForeground",{dark:Y.c63,light:Y.c63,hc:Y.T83},D.N("overviewRuleInfo","Overview ruler marker color for infos.")),re=(0,Y.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hc:"#FFD700"},D.N("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),ce=(0,Y.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hc:"#DA70D6"},D.N("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),ve=(0,Y.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hc:"#87CEFA"},D.N("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Ie=(0,Y.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),We=(0,Y.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ue=(0,Y.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),ue=(0,Y.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new g.Il(new g.VS(255,18,18,.8)),light:new g.Il(new g.VS(255,18,18,.8)),hc:new g.Il(new g.VS(255,50,50,1))},D.N("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Ce=(0,Y.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Ae=(0,Y.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),et=(0,Y.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Ye=(0,Y.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Pe=(0,Y.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),st=(0,Y.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),ut=(0,Y.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),nt=(0,Y.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Se=(0,Y.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Ne=(0,Y.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),at=(0,Y.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Ct=(0,Y.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hc:"#00000000"},D.N("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,Y.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hc:"#ff0000"},D.N("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,W.Ic)((bn,mt)=>{const Ft=bn.getColor(Y.cvW);Ft&&mt.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${Ft}; }`);const Wt=bn.getColor(Y.NOs);Wt&&mt.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Wt}; }`);const zt=bn.getColor(oe);zt&&mt.addRule(`.monaco-editor .margin { background-color: ${zt}; }`);const mn=bn.getColor(T);mn&&mt.addRule(`.monaco-editor .rangeHighlight { background-color: ${mn}; }`);const Ge=bn.getColor(B);Ge&&mt.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===bn.type?"dotted":"solid"} ${Ge}; }`);const Lt=bn.getColor(P);Lt&&mt.addRule(`.monaco-editor .symbolHighlight { background-color: ${Lt}; }`);const vt=bn.getColor(y);vt&&mt.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===bn.type?"dotted":"solid"} ${vt}; }`);const dn=bn.getColor(x);dn&&(mt.addRule(`.monaco-editor .mtkw { color: ${dn} !important; }`),mt.addRule(`.monaco-editor .mtkz { color: ${dn} !important; }`))})},34048:(Fe,Ee,p)=>{function D(g){let Y=0,W=0,M=0,i=0;for(let T=0,B=g.length;T<B;T++){const P=g.charCodeAt(T);13===P?(0===Y&&(W=T),Y++,T+1<B&&10===g.charCodeAt(T+1)?(i|=2,T++):i|=3,M=T+1):10===P&&(i|=1,0===Y&&(W=T),Y++,M=T+1)}return 0===Y&&(W=g.length),[Y,W,g.length-M,i]}p.d(Ee,{Q:()=>D})},66200:(Fe,Ee,p)=>{p.d(Ee,{x:()=>Y});var D=p(74243);function Y(W,M,i){let T=D.LC(W);return-1===T&&(T=W.length),function(W,M,i){let T=0;for(let P=0;P<W.length;P++)"\t"===W.charAt(P)?T+=M:T++;let B="";if(!i){const P=Math.floor(T/M);T%=M;for(let y=0;y<P;y++)B+="\t"}for(let P=0;P<T;P++)B+=" ";return B}(W.substring(0,T),M,i)+W.substring(T)}},67947:(Fe,Ee,p)=>{p.d(Ee,{L:()=>D});class D{constructor(Y,W){this.lineNumber=Y,this.column=W}with(Y=this.lineNumber,W=this.column){return Y===this.lineNumber&&W===this.column?this:new D(Y,W)}delta(Y=0,W=0){return this.with(this.lineNumber+Y,this.column+W)}equals(Y){return D.equals(this,Y)}static equals(Y,W){return!Y&&!W||!!Y&&!!W&&Y.lineNumber===W.lineNumber&&Y.column===W.column}isBefore(Y){return D.isBefore(this,Y)}static isBefore(Y,W){return Y.lineNumber<W.lineNumber||!(W.lineNumber<Y.lineNumber)&&Y.column<W.column}isBeforeOrEqual(Y){return D.isBeforeOrEqual(this,Y)}static isBeforeOrEqual(Y,W){return Y.lineNumber<W.lineNumber||!(W.lineNumber<Y.lineNumber)&&Y.column<=W.column}static compare(Y,W){const M=0|Y.lineNumber,i=0|W.lineNumber;return M===i?(0|Y.column)-(0|W.column):M-i}clone(){return new D(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(Y){return new D(Y.lineNumber,Y.column)}static isIPosition(Y){return Y&&"number"==typeof Y.lineNumber&&"number"==typeof Y.column}}},1873:(Fe,Ee,p)=>{p.d(Ee,{e:()=>g});var D=p(67947);class g{constructor(W,M,i,T){W>i||W===i&&M>T?(this.startLineNumber=i,this.startColumn=T,this.endLineNumber=W,this.endColumn=M):(this.startLineNumber=W,this.startColumn=M,this.endLineNumber=i,this.endColumn=T)}isEmpty(){return g.isEmpty(this)}static isEmpty(W){return W.startLineNumber===W.endLineNumber&&W.startColumn===W.endColumn}containsPosition(W){return g.containsPosition(this,W)}static containsPosition(W,M){return!(M.lineNumber<W.startLineNumber||M.lineNumber>W.endLineNumber||M.lineNumber===W.startLineNumber&&M.column<W.startColumn||M.lineNumber===W.endLineNumber&&M.column>W.endColumn)}static strictContainsPosition(W,M){return!(M.lineNumber<W.startLineNumber||M.lineNumber>W.endLineNumber||M.lineNumber===W.startLineNumber&&M.column<=W.startColumn||M.lineNumber===W.endLineNumber&&M.column>=W.endColumn)}containsRange(W){return g.containsRange(this,W)}static containsRange(W,M){return!(M.startLineNumber<W.startLineNumber||M.endLineNumber<W.startLineNumber||M.startLineNumber>W.endLineNumber||M.endLineNumber>W.endLineNumber||M.startLineNumber===W.startLineNumber&&M.startColumn<W.startColumn||M.endLineNumber===W.endLineNumber&&M.endColumn>W.endColumn)}strictContainsRange(W){return g.strictContainsRange(this,W)}static strictContainsRange(W,M){return!(M.startLineNumber<W.startLineNumber||M.endLineNumber<W.startLineNumber||M.startLineNumber>W.endLineNumber||M.endLineNumber>W.endLineNumber||M.startLineNumber===W.startLineNumber&&M.startColumn<=W.startColumn||M.endLineNumber===W.endLineNumber&&M.endColumn>=W.endColumn)}plusRange(W){return g.plusRange(this,W)}static plusRange(W,M){let i,T,B,P;return M.startLineNumber<W.startLineNumber?(i=M.startLineNumber,T=M.startColumn):M.startLineNumber===W.startLineNumber?(i=M.startLineNumber,T=Math.min(M.startColumn,W.startColumn)):(i=W.startLineNumber,T=W.startColumn),M.endLineNumber>W.endLineNumber?(B=M.endLineNumber,P=M.endColumn):M.endLineNumber===W.endLineNumber?(B=M.endLineNumber,P=Math.max(M.endColumn,W.endColumn)):(B=W.endLineNumber,P=W.endColumn),new g(i,T,B,P)}intersectRanges(W){return g.intersectRanges(this,W)}static intersectRanges(W,M){let i=W.startLineNumber,T=W.startColumn,B=W.endLineNumber,P=W.endColumn,y=M.startLineNumber,C=M.startColumn,b=M.endLineNumber,x=M.endColumn;return i<y?(i=y,T=C):i===y&&(T=Math.max(T,C)),B>b?(B=b,P=x):B===b&&(P=Math.min(P,x)),i>B||i===B&&T>P?null:new g(i,T,B,P)}equalsRange(W){return g.equalsRange(this,W)}static equalsRange(W,M){return!!W&&!!M&&W.startLineNumber===M.startLineNumber&&W.startColumn===M.startColumn&&W.endLineNumber===M.endLineNumber&&W.endColumn===M.endColumn}getEndPosition(){return g.getEndPosition(this)}static getEndPosition(W){return new D.L(W.endLineNumber,W.endColumn)}getStartPosition(){return g.getStartPosition(this)}static getStartPosition(W){return new D.L(W.startLineNumber,W.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(W,M){return new g(this.startLineNumber,this.startColumn,W,M)}setStartPosition(W,M){return new g(W,M,this.endLineNumber,this.endColumn)}collapseToStart(){return g.collapseToStart(this)}static collapseToStart(W){return new g(W.startLineNumber,W.startColumn,W.startLineNumber,W.startColumn)}static fromPositions(W,M=W){return new g(W.lineNumber,W.column,M.lineNumber,M.column)}static lift(W){return W?new g(W.startLineNumber,W.startColumn,W.endLineNumber,W.endColumn):null}static isIRange(W){return W&&"number"==typeof W.startLineNumber&&"number"==typeof W.startColumn&&"number"==typeof W.endLineNumber&&"number"==typeof W.endColumn}static areIntersectingOrTouching(W,M){return!(W.endLineNumber<M.startLineNumber||W.endLineNumber===M.startLineNumber&&W.endColumn<M.startColumn||M.endLineNumber<W.startLineNumber||M.endLineNumber===W.startLineNumber&&M.endColumn<W.startColumn)}static areIntersecting(W,M){return!(W.endLineNumber<M.startLineNumber||W.endLineNumber===M.startLineNumber&&W.endColumn<=M.startColumn||M.endLineNumber<W.startLineNumber||M.endLineNumber===W.startLineNumber&&M.endColumn<=W.startColumn)}static compareRangesUsingStarts(W,M){if(W&&M){const B=0|W.startLineNumber,P=0|M.startLineNumber;if(B===P){const y=0|W.startColumn,C=0|M.startColumn;if(y===C){const b=0|W.endLineNumber,x=0|M.endLineNumber;return b===x?(0|W.endColumn)-(0|M.endColumn):b-x}return y-C}return B-P}return(W?1:0)-(M?1:0)}static compareRangesUsingEnds(W,M){return W.endLineNumber===M.endLineNumber?W.endColumn===M.endColumn?W.startLineNumber===M.startLineNumber?W.startColumn-M.startColumn:W.startLineNumber-M.startLineNumber:W.endColumn-M.endColumn:W.endLineNumber-M.endLineNumber}static spansMultipleLines(W){return W.endLineNumber>W.startLineNumber}toJSON(){return this}}},60745:(Fe,Ee,p)=>{p.d(Ee,{Y:()=>Y});var D=p(67947),g=p(1873);class Y extends g.e{constructor(M,i,T,B){super(M,i,T,B),this.selectionStartLineNumber=M,this.selectionStartColumn=i,this.positionLineNumber=T,this.positionColumn=B}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(M){return Y.selectionsEqual(this,M)}static selectionsEqual(M,i){return M.selectionStartLineNumber===i.selectionStartLineNumber&&M.selectionStartColumn===i.selectionStartColumn&&M.positionLineNumber===i.positionLineNumber&&M.positionColumn===i.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(M,i){return 0===this.getDirection()?new Y(this.startLineNumber,this.startColumn,M,i):new Y(M,i,this.startLineNumber,this.startColumn)}getPosition(){return new D.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new D.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(M,i){return 0===this.getDirection()?new Y(M,i,this.endLineNumber,this.endColumn):new Y(this.endLineNumber,this.endColumn,M,i)}static fromPositions(M,i=M){return new Y(M.lineNumber,M.column,i.lineNumber,i.column)}static fromRange(M,i){return 0===i?new Y(M.startLineNumber,M.startColumn,M.endLineNumber,M.endColumn):new Y(M.endLineNumber,M.endColumn,M.startLineNumber,M.startColumn)}static liftSelection(M){return new Y(M.selectionStartLineNumber,M.selectionStartColumn,M.positionLineNumber,M.positionColumn)}static selectionsArrEqual(M,i){if(M&&!i||!M&&i)return!1;if(!M&&!i)return!0;if(M.length!==i.length)return!1;for(let T=0,B=M.length;T<B;T++)if(!this.selectionsEqual(M[T],i[T]))return!1;return!0}static isISelection(M){return M&&"number"==typeof M.selectionStartLineNumber&&"number"==typeof M.selectionStartColumn&&"number"==typeof M.positionLineNumber&&"number"==typeof M.positionColumn}static createWithDirection(M,i,T,B,P){return 0===P?new Y(M,i,T,B):new Y(T,B,M,i)}}},53269:(Fe,Ee,p)=>{p.d(Ee,{oe:()=>P,lZ:()=>y,l$:()=>C,kH:()=>b});var D=p(74243),g=p(70700),Y=p(90386);let W,i,B;function M(){return W||(W=new TextDecoder("UTF-16LE")),W}function P(){return B||(B=g.r()?M():(i||(i=new TextDecoder("UTF-16BE")),i)),B}const y="undefined"!=typeof TextDecoder;let C,b;function f(L,N,Z){const O=[];let I=0;for(let $=0;$<Z;$++){const j=Y.mP(L,N);N+=2,O[I++]=String.fromCharCode(j)}return O.join("")}y?(C=L=>new E(L),b=function(L,N,Z){const O=new Uint16Array(L.buffer,N,Z);return Z>0&&(65279===O[0]||65534===O[0])?f(L,N,Z):M().decode(O)}):(C=L=>new z,b=f);class E{constructor(N){this._capacity=0|N,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const N=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return P().decode(N)}_flushBuffer(){const N=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[N]:this._completedStrings[this._completedStrings.length]=N}write1(N){const Z=this._capacity-this._bufferLength;Z<=1&&(0===Z||D.ZG(N))&&this._flushBuffer(),this._buffer[this._bufferLength++]=N}appendASCII(N){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=N}appendASCIIString(N){const Z=N.length;if(this._bufferLength+Z>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=N);for(let O=0;O<Z;O++)this._buffer[this._bufferLength++]=N.charCodeAt(O)}}class z{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(N){this._pieces[this._piecesLen++]=String.fromCharCode(N)}appendASCII(N){this._pieces[this._piecesLen++]=String.fromCharCode(N)}appendASCIIString(N){this._pieces[this._piecesLen++]=N}}},64978:(Fe,Ee,p)=>{p.d(Ee,{q:()=>W,b:()=>M});var D=p(90386),g=p(53269);function Y(T){return T.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class W{constructor(B,P,y,C){this.oldPosition=B,this.oldText=P,this.newPosition=y,this.newText=C}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${Y(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${Y(this.oldText)}")`:`(replace@${this.oldPosition} "${Y(this.oldText)}" with "${Y(this.newText)}")`}static _writeStringSize(B){return 4+2*B.length}static _writeString(B,P,y){const C=P.length;D.T4(B,C,y),y+=4;for(let b=0;b<C;b++)D.oq(B,P.charCodeAt(b),y),y+=2;return y}static _readString(B,P){const y=D.Ag(B,P);return(0,g.kH)(B,P+=4,y)}writeSize(){return 8+W._writeStringSize(this.oldText)+W._writeStringSize(this.newText)}write(B,P){return D.T4(B,this.oldPosition,P),D.T4(B,this.newPosition,P+=4),P=W._writeString(B,this.oldText,P+=4),W._writeString(B,this.newText,P)}static read(B,P,y){const C=D.Ag(B,P),b=D.Ag(B,P+=4),x=W._readString(B,P+=4);P+=W._writeStringSize(x);const f=W._readString(B,P);return P+=W._writeStringSize(f),y.push(new W(C,x,b,f)),P}}function M(T,B){return null===T||0===T.length?B:new i(T,B).compress()}class i{constructor(B,P){this._prevEdits=B,this._currEdits=P,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let B=0,P=0,y=this._getPrev(B),C=this._getCurr(P);for(;B<this._prevLen||P<this._currLen;){if(null===y){this._acceptCurr(C),C=this._getCurr(++P);continue}if(null===C){this._acceptPrev(y),y=this._getPrev(++B);continue}if(C.oldEnd<=y.newPosition){this._acceptCurr(C),C=this._getCurr(++P);continue}if(y.newEnd<=C.oldPosition){this._acceptPrev(y),y=this._getPrev(++B);continue}if(C.oldPosition<y.newPosition){const[z,L]=i._splitCurr(C,y.newPosition-C.oldPosition);this._acceptCurr(z),C=L;continue}if(y.newPosition<C.oldPosition){const[z,L]=i._splitPrev(y,C.oldPosition-y.newPosition);this._acceptPrev(z),y=L;continue}let f,E;if(C.oldEnd===y.newEnd)f=y,E=C,y=this._getPrev(++B),C=this._getCurr(++P);else if(C.oldEnd<y.newEnd){const[z,L]=i._splitPrev(y,C.oldLength);f=z,E=C,y=L,C=this._getCurr(++P)}else{const[z,L]=i._splitCurr(C,y.newLength);f=y,E=z,y=this._getPrev(++B),C=L}this._result[this._resultLen++]=new W(f.oldPosition,f.oldText,E.newPosition,E.newText),this._prevDeltaOffset+=f.newLength-f.oldLength,this._currDeltaOffset+=E.newLength-E.oldLength}const b=i._merge(this._result);return i._removeNoOps(b)}_acceptCurr(B){this._result[this._resultLen++]=i._rebaseCurr(this._prevDeltaOffset,B),this._currDeltaOffset+=B.newLength-B.oldLength}_getCurr(B){return B<this._currLen?this._currEdits[B]:null}_acceptPrev(B){this._result[this._resultLen++]=i._rebasePrev(this._currDeltaOffset,B),this._prevDeltaOffset+=B.newLength-B.oldLength}_getPrev(B){return B<this._prevLen?this._prevEdits[B]:null}static _rebaseCurr(B,P){return new W(P.oldPosition-B,P.oldText,P.newPosition,P.newText)}static _rebasePrev(B,P){return new W(P.oldPosition,P.oldText,P.newPosition+B,P.newText)}static _splitPrev(B,P){const y=B.newText.substr(0,P),C=B.newText.substr(P);return[new W(B.oldPosition,B.oldText,B.newPosition,y),new W(B.oldEnd,"",B.newPosition+P,C)]}static _splitCurr(B,P){const y=B.oldText.substr(0,P),C=B.oldText.substr(P);return[new W(B.oldPosition,y,B.newPosition,B.newText),new W(B.oldPosition+P,C,B.newEnd,"")]}static _merge(B){if(0===B.length)return B;const P=[];let y=0,C=B[0];for(let b=1;b<B.length;b++){const x=B[b];C.oldEnd===x.oldPosition?C=new W(C.oldPosition,C.oldText+x.oldText,C.newPosition,C.newText+x.newText):(P[y++]=C,C=x)}return P[y++]=C,P}static _removeNoOps(B){if(0===B.length)return B;const P=[];let y=0;for(let C=0;C<B.length;C++){const b=B[C];b.oldText!==b.newText&&(P[y++]=b)}return P}}},27870:(Fe,Ee,p)=>{p.d(Ee,{D:()=>D});const D={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!1}}},81346:(Fe,Ee,p)=>{p.d(Ee,{u:()=>W});var D=p(59242);class g extends D.N{constructor(i){super(0);for(let T=0,B=i.length;T<B;T++)this.set(i.charCodeAt(T),2);this.set(32,1),this.set(9,1)}}const W=function(M){const i={};return T=>(i.hasOwnProperty(T)||(i[T]=(M=>new g(M))(T)),i[T])}()},54745:(Fe,Ee,p)=>{p.d(Ee,{vu:()=>D,Af:()=>Y,eq:()=>W,t2:()=>i});const D="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",Y=function(B=""){let P="(-?\\d*\\.\\d\\w*)|([^";for(const y of D)B.indexOf(y)>=0||(P+="\\"+y);return P+="\\s]+)",new RegExp(P,"g")}();function W(B){let P=Y;if(B&&B instanceof RegExp)if(B.global)P=B;else{let y="g";B.ignoreCase&&(y+="i"),B.multiline&&(y+="m"),B.unicode&&(y+="u"),P=new RegExp(B.source,y)}return P.lastIndex=0,P}const M={maxLen:1e3,windowSize:15,timeBudget:150};function i(B,P,y,C,b=M){if(y.length>b.maxLen){let L=B-b.maxLen/2;return L<0?L=0:C+=L,i(B,P,y=y.substring(L,B+b.maxLen/2),C,b)}const x=Date.now(),f=B-1-C;let E=-1,z=null;for(let L=1;!(Date.now()-x>=b.timeBudget);L++){const N=f-b.windowSize*L;P.lastIndex=Math.max(0,N);const Z=T(P,y,f,E);if(!Z&&z||(z=Z,N<=0))break;E=N}if(z){const L={word:z[0],startColumn:C+1+z.index,endColumn:C+1+z.index+z[0].length};return P.lastIndex=0,L}return null}function T(B,P,y,C){let b;for(;b=B.exec(P);){const x=b.index||0;if(x<=y&&B.lastIndex>=y)return b;if(C>0&&x>C)return null}return null}},35590:(Fe,Ee,p)=>{p.d(Ee,{LM:()=>y,Vi:()=>C,rS:()=>f,Tp:()=>E,LN:()=>z});var D=p(67947),g=p(1873),Y=p(60745),W=p(20595),M=p(90784),i=p(66200);const T=()=>!0,B=()=>!1,P=L=>" "===L||"\t"===L;class y{constructor(N,Z,O,I){this.languageConfigurationService=I,this._cursorMoveConfigurationBrand=void 0,this._languageId=N;const $=O.options,j=$.get(131);this.readOnly=$.get(81),this.tabSize=Z.tabSize,this.indentSize=Z.indentSize,this.insertSpaces=Z.insertSpaces,this.stickyTabStops=$.get(104),this.lineHeight=$.get(59),this.pageSize=Math.max(1,Math.floor(j.height/this.lineHeight)-2),this.useTabStops=$.get(116),this.wordSeparators=$.get(117),this.emptySelectionClipboard=$.get(32),this.copyWithSyntaxHighlighting=$.get(21),this.multiCursorMergeOverlapping=$.get(69),this.multiCursorPaste=$.get(71),this.autoClosingBrackets=$.get(5),this.autoClosingQuotes=$.get(8),this.autoClosingDelete=$.get(6),this.autoClosingOvertype=$.get(7),this.autoSurround=$.get(11),this.autoIndent=$.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(N,this.autoClosingQuotes),bracket:this._getShouldAutoClose(N,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(N).getAutoClosingPairs();const G=this.languageConfigurationService.getLanguageConfiguration(N).getSurroundingPairs();if(G)for(const oe of G)this.surroundingPairs[oe.open]=oe.close}static shouldRecreate(N){return N.hasChanged(131)||N.hasChanged(117)||N.hasChanged(32)||N.hasChanged(69)||N.hasChanged(71)||N.hasChanged(5)||N.hasChanged(8)||N.hasChanged(6)||N.hasChanged(7)||N.hasChanged(11)||N.hasChanged(116)||N.hasChanged(59)||N.hasChanged(81)}get electricChars(){var N;if(!this._electricChars){this._electricChars={};const Z=null===(N=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===N?void 0:N.getElectricCharacters();if(Z)for(const O of Z)this._electricChars[O]=!0}return this._electricChars}onElectricCharacter(N,Z,O){const I=(0,W.wH)(Z,O-1),$=this.languageConfigurationService.getLanguageConfiguration(I.languageId).electricCharacter;return $?$.onElectricCharacter(N,I,O-I.firstCharOffset):null}normalizeIndentation(N){return(0,i.x)(N,this.indentSize,this.insertSpaces)}_getShouldAutoClose(N,Z){switch(Z){case"beforeWhitespace":return P;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(N);case"always":return T;case"never":return B}}_getLanguageDefinedShouldAutoClose(N){const Z=this.languageConfigurationService.getLanguageConfiguration(N).getAutoCloseBeforeSet();return O=>-1!==Z.indexOf(O)}visibleColumnFromColumn(N,Z){return M.i.visibleColumnFromColumn(N.getLineContent(Z.lineNumber),Z.column,this.tabSize)}columnFromVisibleColumn(N,Z,O){const I=M.i.columnFromVisibleColumn(N.getLineContent(Z),O,this.tabSize),$=N.getLineMinColumn(Z);if(I<$)return $;const j=N.getLineMaxColumn(Z);return I>j?j:I}}class C{constructor(N,Z){this._cursorStateBrand=void 0,this.modelState=N,this.viewState=Z}static fromModelState(N){return new b(N)}static fromViewState(N){return new x(N)}static fromModelSelection(N){const Z=Y.Y.liftSelection(N),O=new f(g.e.fromPositions(Z.getSelectionStart()),0,Z.getPosition(),0);return C.fromModelState(O)}static fromModelSelections(N){const Z=[];for(let O=0,I=N.length;O<I;O++)Z[O]=this.fromModelSelection(N[O]);return Z}equals(N){return this.viewState.equals(N.viewState)&&this.modelState.equals(N.modelState)}}class b{constructor(N){this.modelState=N,this.viewState=null}}class x{constructor(N){this.modelState=null,this.viewState=N}}class f{constructor(N,Z,O,I){this._singleCursorStateBrand=void 0,this.selectionStart=N,this.selectionStartLeftoverVisibleColumns=Z,this.position=O,this.leftoverVisibleColumns=I,this.selection=f._computeSelection(this.selectionStart,this.position)}equals(N){return this.selectionStartLeftoverVisibleColumns===N.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===N.leftoverVisibleColumns&&this.position.equals(N.position)&&this.selectionStart.equalsRange(N.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(N,Z,O,I){return N?new f(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new D.L(Z,O),I):new f(new g.e(Z,O,Z,O),I,new D.L(Z,O),I)}static _computeSelection(N,Z){return N.isEmpty()||!Z.isBeforeOrEqual(N.getStartPosition())?Y.Y.fromPositions(N.getStartPosition(),Z):Y.Y.fromPositions(N.getEndPosition(),Z)}}class E{constructor(N,Z,O){this._editOperationResultBrand=void 0,this.type=N,this.commands=Z,this.shouldPushStackElementBefore=O.shouldPushStackElementBefore,this.shouldPushStackElementAfter=O.shouldPushStackElementAfter}}function z(L){return"'"===L||'"'===L||"`"===L}},56660:(Fe,Ee,p)=>{p.d(Ee,{l:()=>g});var D=p(90784);class g{static whitespaceVisibleColumn(W,M,i){const T=W.length;let B=0,P=-1,y=-1;for(let C=0;C<T;C++){if(C===M)return[P,y,B];switch(B%i==0&&(P=C,y=B),W.charCodeAt(C)){case 32:B+=1;break;case 9:B=D.i.nextRenderTabStop(B,i);break;default:return[-1,-1,-1]}}return M===T?[P,y,B]:[-1,-1,-1]}static atomicPosition(W,M,i,T){const B=W.length,[P,y,C]=g.whitespaceVisibleColumn(W,M,i);if(-1===C)return-1;let b;switch(T){case 0:b=!0;break;case 1:b=!1;break;case 2:if(C%i==0)return M;b=C%i<=i/2}if(b){if(-1===P)return-1;let E=y;for(let z=P;z<B;++z){if(E===y+i)return P;switch(W.charCodeAt(z)){case 32:E+=1;break;case 9:E=D.i.nextRenderTabStop(E,i);break;default:return-1}}return E===y+i?P:-1}const x=D.i.nextRenderTabStop(C,i);let f=C;for(let E=M;E<B;E++){if(f===x)return E;switch(W.charCodeAt(E)){case 32:f+=1;break;case 9:f=D.i.nextRenderTabStop(f,i);break;default:return-1}}return f===x?B:-1}}},17666:(Fe,Ee,p)=>{p.d(Ee,{A:()=>B});var D=p(74243),g=p(49317),Y=p(35590),W=p(90784),M=p(98596),i=p(1873),T=p(67947);class B{static deleteRight(y,C,b,x){const f=[];let E=3!==y;for(let z=0,L=x.length;z<L;z++){const N=x[z];let Z=N;if(Z.isEmpty()){const O=N.getPosition(),I=M.o.right(C,b,O);Z=new i.e(I.lineNumber,I.column,O.lineNumber,O.column)}Z.isEmpty()?f[z]=null:(Z.startLineNumber!==Z.endLineNumber&&(E=!0),f[z]=new g.T4(Z,""))}return[E,f]}static isAutoClosingPairDelete(y,C,b,x,f,E,z){if("never"===C&&"never"===b||"never"===y)return!1;for(let L=0,N=E.length;L<N;L++){const Z=E[L],O=Z.getPosition();if(!Z.isEmpty())return!1;const I=f.getLineContent(O.lineNumber);if(O.column<2||O.column>=I.length+1)return!1;const $=I.charAt(O.column-2),j=x.get($);if(!j)return!1;if((0,Y.LN)($)){if("never"===b)return!1}else if("never"===C)return!1;const G=I.charAt(O.column-1);let oe=!1;for(const de of j)de.open===$&&de.close===G&&(oe=!0);if(!oe)return!1;if("auto"===y){let de=!1;for(let fe=0,pe=z.length;fe<pe;fe++){const ye=z[fe];if(O.lineNumber===ye.startLineNumber&&O.column===ye.startColumn){de=!0;break}}if(!de)return!1}}return!0}static _runAutoClosingPairDelete(y,C,b){const x=[];for(let f=0,E=b.length;f<E;f++){const z=b[f].getPosition(),L=new i.e(z.lineNumber,z.column-1,z.lineNumber,z.column+1);x[f]=new g.T4(L,"")}return[!0,x]}static deleteLeft(y,C,b,x,f){if(this.isAutoClosingPairDelete(C.autoClosingDelete,C.autoClosingBrackets,C.autoClosingQuotes,C.autoClosingPairs.autoClosingPairsOpenByEnd,b,x,f))return this._runAutoClosingPairDelete(C,b,x);const E=[];let z=2!==y;for(let L=0,N=x.length;L<N;L++){const Z=B.getDeleteRange(x[L],b,C);Z.isEmpty()?E[L]=null:(Z.startLineNumber!==Z.endLineNumber&&(z=!0),E[L]=new g.T4(Z,""))}return[z,E]}static getDeleteRange(y,C,b){if(!y.isEmpty())return y;const x=y.getPosition();if(b.useTabStops&&x.column>1){const f=C.getLineContent(x.lineNumber),E=D.LC(f);if(x.column<=(-1===E?f.length+1:E+1)){const L=b.visibleColumnFromColumn(C,x),N=W.i.prevIndentTabStop(L,b.indentSize),Z=b.columnFromVisibleColumn(C,x.lineNumber,N);return new i.e(x.lineNumber,Z,x.lineNumber,x.column)}}return i.e.fromPositions(B.getPositionAfterDeleteLeft(x,C),x)}static getPositionAfterDeleteLeft(y,C){if(y.column>1){const b=D.oH(y.column-1,C.getLineContent(y.lineNumber));return y.with(void 0,b+1)}if(y.lineNumber>1){const b=y.lineNumber-1;return new T.L(b,C.getLineMaxColumn(b))}return y}static cut(y,C,b){const x=[];let f=null;b.sort((E,z)=>T.L.compare(E.getStartPosition(),z.getEndPosition()));for(let E=0,z=b.length;E<z;E++){const L=b[E];if(L.isEmpty())if(y.emptySelectionClipboard){const N=L.getPosition();let Z,O,I,$;N.lineNumber<C.getLineCount()?(Z=N.lineNumber,O=1,I=N.lineNumber+1,$=1):N.lineNumber>1&&(null==f?void 0:f.endLineNumber)!==N.lineNumber?(Z=N.lineNumber-1,O=C.getLineMaxColumn(N.lineNumber-1),I=N.lineNumber,$=C.getLineMaxColumn(N.lineNumber)):(Z=N.lineNumber,O=1,I=N.lineNumber,$=C.getLineMaxColumn(N.lineNumber));const j=new i.e(Z,O,I,$);f=j,x[E]=j.isEmpty()?null:new g.T4(j,"")}else x[E]=null;else x[E]=new g.T4(L,"")}return new Y.Tp(0,x,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},71015:(Fe,Ee,p)=>{p.d(Ee,{P:()=>T,N:()=>B});var B,P,D=p(99770),g=p(35590),Y=p(98596),W=p(34397),M=p(67947),i=p(1873);class T{static addCursorDown(y,C,b){const x=[];let f=0;for(let E=0,z=C.length;E<z;E++){const L=C[E];x[f++]=new g.Vi(L.modelState,L.viewState),x[f++]=b?g.Vi.fromModelState(Y.o.translateDown(y.cursorConfig,y.model,L.modelState)):g.Vi.fromViewState(Y.o.translateDown(y.cursorConfig,y,L.viewState))}return x}static addCursorUp(y,C,b){const x=[];let f=0;for(let E=0,z=C.length;E<z;E++){const L=C[E];x[f++]=new g.Vi(L.modelState,L.viewState),x[f++]=b?g.Vi.fromModelState(Y.o.translateUp(y.cursorConfig,y.model,L.modelState)):g.Vi.fromViewState(Y.o.translateUp(y.cursorConfig,y,L.viewState))}return x}static moveToBeginningOfLine(y,C,b){let x=[];for(let f=0,E=C.length;f<E;f++)x[f]=this._moveToLineStart(y,C[f],b);return x}static _moveToLineStart(y,C,b){const x=C.viewState.position.column,E=x===C.modelState.position.column,L=y.getLineFirstNonWhitespaceColumn(C.viewState.position.lineNumber);return E||x===L?this._moveToLineStartByModel(y,C,b):this._moveToLineStartByView(y,C,b)}static _moveToLineStartByView(y,C,b){return g.Vi.fromViewState(Y.o.moveToBeginningOfLine(y.cursorConfig,y,C.viewState,b))}static _moveToLineStartByModel(y,C,b){return g.Vi.fromModelState(Y.o.moveToBeginningOfLine(y.cursorConfig,y.model,C.modelState,b))}static moveToEndOfLine(y,C,b,x){const f=[];for(let E=0,z=C.length;E<z;E++)f[E]=this._moveToLineEnd(y,C[E],b,x);return f}static _moveToLineEnd(y,C,b,x){const f=C.viewState.position,E=y.getLineMaxColumn(f.lineNumber),z=f.column===E,L=C.modelState.position,N=y.model.getLineMaxColumn(L.lineNumber);return z||E-f.column==N-L.column?this._moveToLineEndByModel(y,C,b,x):this._moveToLineEndByView(y,C,b,x)}static _moveToLineEndByView(y,C,b,x){return g.Vi.fromViewState(Y.o.moveToEndOfLine(y.cursorConfig,y,C.viewState,b,x))}static _moveToLineEndByModel(y,C,b,x){return g.Vi.fromModelState(Y.o.moveToEndOfLine(y.cursorConfig,y.model,C.modelState,b,x))}static expandLineSelection(y,C){const b=[];for(let x=0,f=C.length;x<f;x++){const E=C[x],z=E.modelState.selection.startLineNumber,L=y.model.getLineCount();let Z,N=E.modelState.selection.endLineNumber;N===L?Z=y.model.getLineMaxColumn(L):(N++,Z=1),b[x]=g.Vi.fromModelState(new g.rS(new i.e(z,1,z,1),0,new M.L(N,Z),0))}return b}static moveToBeginningOfBuffer(y,C,b){const x=[];for(let f=0,E=C.length;f<E;f++)x[f]=g.Vi.fromModelState(Y.o.moveToBeginningOfBuffer(y.cursorConfig,y.model,C[f].modelState,b));return x}static moveToEndOfBuffer(y,C,b){const x=[];for(let f=0,E=C.length;f<E;f++)x[f]=g.Vi.fromModelState(Y.o.moveToEndOfBuffer(y.cursorConfig,y.model,C[f].modelState,b));return x}static selectAll(y,C){const b=y.model.getLineCount(),x=y.model.getLineMaxColumn(b);return g.Vi.fromModelState(new g.rS(new i.e(1,1,1,1),0,new M.L(b,x),0))}static line(y,C,b,x,f){const E=y.model.validatePosition(x),z=f?y.coordinatesConverter.validateViewPosition(new M.L(f.lineNumber,f.column),E):y.coordinatesConverter.convertModelPositionToViewPosition(E);if(!b||!C.modelState.hasSelection()){const N=y.model.getLineCount();let Z=E.lineNumber+1,O=1;return Z>N&&(Z=N,O=y.model.getLineMaxColumn(Z)),g.Vi.fromModelState(new g.rS(new i.e(E.lineNumber,1,Z,O),0,new M.L(Z,O),0))}const L=C.modelState.selectionStart.getStartPosition().lineNumber;if(E.lineNumber<L)return g.Vi.fromViewState(C.viewState.move(C.modelState.hasSelection(),z.lineNumber,1,0));if(E.lineNumber>L){const N=y.getLineCount();let Z=z.lineNumber+1,O=1;return Z>N&&(Z=N,O=y.getLineMaxColumn(Z)),g.Vi.fromViewState(C.viewState.move(C.modelState.hasSelection(),Z,O,0))}{const N=C.modelState.selectionStart.getEndPosition();return g.Vi.fromModelState(C.modelState.move(C.modelState.hasSelection(),N.lineNumber,N.column,0))}}static word(y,C,b,x){const f=y.model.validatePosition(x);return g.Vi.fromModelState(W.w.word(y.cursorConfig,y.model,C.modelState,b,f))}static cancelSelection(y,C){if(!C.modelState.hasSelection())return new g.Vi(C.modelState,C.viewState);const b=C.viewState.position.lineNumber,x=C.viewState.position.column;return g.Vi.fromViewState(new g.rS(new i.e(b,x,b,x),0,new M.L(b,x),0))}static moveTo(y,C,b,x,f){const E=y.model.validatePosition(x),z=f?y.coordinatesConverter.validateViewPosition(new M.L(f.lineNumber,f.column),E):y.coordinatesConverter.convertModelPositionToViewPosition(E);return g.Vi.fromViewState(C.viewState.move(b,z.lineNumber,z.column,0))}static simpleMove(y,C,b,x,f,E){switch(b){case 0:return 4===E?this._moveHalfLineLeft(y,C,x):this._moveLeft(y,C,x,f);case 1:return 4===E?this._moveHalfLineRight(y,C,x):this._moveRight(y,C,x,f);case 2:return 2===E?this._moveUpByViewLines(y,C,x,f):this._moveUpByModelLines(y,C,x,f);case 3:return 2===E?this._moveDownByViewLines(y,C,x,f):this._moveDownByModelLines(y,C,x,f);case 4:return C.map(2===E?z=>g.Vi.fromViewState(Y.o.moveToPrevBlankLine(y.cursorConfig,y,z.viewState,x)):z=>g.Vi.fromModelState(Y.o.moveToPrevBlankLine(y.cursorConfig,y.model,z.modelState,x)));case 5:return C.map(2===E?z=>g.Vi.fromViewState(Y.o.moveToNextBlankLine(y.cursorConfig,y,z.viewState,x)):z=>g.Vi.fromModelState(Y.o.moveToNextBlankLine(y.cursorConfig,y.model,z.modelState,x)));case 6:return this._moveToViewMinColumn(y,C,x);case 7:return this._moveToViewFirstNonWhitespaceColumn(y,C,x);case 8:return this._moveToViewCenterColumn(y,C,x);case 9:return this._moveToViewMaxColumn(y,C,x);case 10:return this._moveToViewLastNonWhitespaceColumn(y,C,x);default:return null}}static viewportMove(y,C,b,x,f){const E=y.getCompletelyVisibleViewRange(),z=y.coordinatesConverter.convertViewRangeToModelRange(E);switch(b){case 11:{const L=this._firstLineNumberInRange(y.model,z,f),N=y.model.getLineFirstNonWhitespaceColumn(L);return[this._moveToModelPosition(y,C[0],x,L,N)]}case 13:{const L=this._lastLineNumberInRange(y.model,z,f),N=y.model.getLineFirstNonWhitespaceColumn(L);return[this._moveToModelPosition(y,C[0],x,L,N)]}case 12:{const L=Math.round((z.startLineNumber+z.endLineNumber)/2),N=y.model.getLineFirstNonWhitespaceColumn(L);return[this._moveToModelPosition(y,C[0],x,L,N)]}case 14:{const L=[];for(let N=0,Z=C.length;N<Z;N++)L[N]=this.findPositionInViewportIfOutside(y,C[N],E,x);return L}default:return null}}static findPositionInViewportIfOutside(y,C,b,x){const f=C.viewState.position.lineNumber;if(b.startLineNumber<=f&&f<=b.endLineNumber-1)return new g.Vi(C.modelState,C.viewState);{let E;E=f>b.endLineNumber-1?b.endLineNumber-1:f<b.startLineNumber?b.startLineNumber:f;const z=Y.o.vertical(y.cursorConfig,y,f,C.viewState.position.column,C.viewState.leftoverVisibleColumns,E,!1);return g.Vi.fromViewState(C.viewState.move(x,z.lineNumber,z.column,z.leftoverVisibleColumns))}}static _firstLineNumberInRange(y,C,b){let x=C.startLineNumber;return C.startColumn!==y.getLineMinColumn(x)&&x++,Math.min(C.endLineNumber,x+b-1)}static _lastLineNumberInRange(y,C,b){let x=C.startLineNumber;return C.startColumn!==y.getLineMinColumn(x)&&x++,Math.max(x,C.endLineNumber-b+1)}static _moveLeft(y,C,b,x){return C.map(f=>g.Vi.fromViewState(Y.o.moveLeft(y.cursorConfig,y,f.viewState,b,x)))}static _moveHalfLineLeft(y,C,b){const x=[];for(let f=0,E=C.length;f<E;f++){const z=C[f],N=Math.round(y.getLineContent(z.viewState.position.lineNumber).length/2);x[f]=g.Vi.fromViewState(Y.o.moveLeft(y.cursorConfig,y,z.viewState,b,N))}return x}static _moveRight(y,C,b,x){return C.map(f=>g.Vi.fromViewState(Y.o.moveRight(y.cursorConfig,y,f.viewState,b,x)))}static _moveHalfLineRight(y,C,b){const x=[];for(let f=0,E=C.length;f<E;f++){const z=C[f],N=Math.round(y.getLineContent(z.viewState.position.lineNumber).length/2);x[f]=g.Vi.fromViewState(Y.o.moveRight(y.cursorConfig,y,z.viewState,b,N))}return x}static _moveDownByViewLines(y,C,b,x){const f=[];for(let E=0,z=C.length;E<z;E++)f[E]=g.Vi.fromViewState(Y.o.moveDown(y.cursorConfig,y,C[E].viewState,b,x));return f}static _moveDownByModelLines(y,C,b,x){const f=[];for(let E=0,z=C.length;E<z;E++)f[E]=g.Vi.fromModelState(Y.o.moveDown(y.cursorConfig,y.model,C[E].modelState,b,x));return f}static _moveUpByViewLines(y,C,b,x){const f=[];for(let E=0,z=C.length;E<z;E++)f[E]=g.Vi.fromViewState(Y.o.moveUp(y.cursorConfig,y,C[E].viewState,b,x));return f}static _moveUpByModelLines(y,C,b,x){const f=[];for(let E=0,z=C.length;E<z;E++)f[E]=g.Vi.fromModelState(Y.o.moveUp(y.cursorConfig,y.model,C[E].modelState,b,x));return f}static _moveToViewPosition(y,C,b,x,f){return g.Vi.fromViewState(C.viewState.move(b,x,f,0))}static _moveToModelPosition(y,C,b,x,f){return g.Vi.fromModelState(C.modelState.move(b,x,f,0))}static _moveToViewMinColumn(y,C,b){const x=[];for(let f=0,E=C.length;f<E;f++){const z=C[f],L=z.viewState.position.lineNumber,N=y.getLineMinColumn(L);x[f]=this._moveToViewPosition(y,z,b,L,N)}return x}static _moveToViewFirstNonWhitespaceColumn(y,C,b){const x=[];for(let f=0,E=C.length;f<E;f++){const z=C[f],L=z.viewState.position.lineNumber,N=y.getLineFirstNonWhitespaceColumn(L);x[f]=this._moveToViewPosition(y,z,b,L,N)}return x}static _moveToViewCenterColumn(y,C,b){const x=[];for(let f=0,E=C.length;f<E;f++){const z=C[f],L=z.viewState.position.lineNumber,N=Math.round((y.getLineMaxColumn(L)+y.getLineMinColumn(L))/2);x[f]=this._moveToViewPosition(y,z,b,L,N)}return x}static _moveToViewMaxColumn(y,C,b){const x=[];for(let f=0,E=C.length;f<E;f++){const z=C[f],L=z.viewState.position.lineNumber,N=y.getLineMaxColumn(L);x[f]=this._moveToViewPosition(y,z,b,L,N)}return x}static _moveToViewLastNonWhitespaceColumn(y,C,b){const x=[];for(let f=0,E=C.length;f<E;f++){const z=C[f],L=z.viewState.position.lineNumber,N=y.getLineLastNonWhitespaceColumn(L);x[f]=this._moveToViewPosition(y,z,b,L,N)}return x}}(P=B||(B={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(b){if(!D.Kn(b))return!1;const x=b;return!(!D.HD(x.to)||!D.o8(x.select)&&!D.jn(x.select)||!D.o8(x.by)&&!D.HD(x.by)||!D.o8(x.value)&&!D.hj(x.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},P.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},P.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},P.parse=function(b){if(!b.to)return null;let x;switch(b.to){case P.RawDirection.Left:x=0;break;case P.RawDirection.Right:x=1;break;case P.RawDirection.Up:x=2;break;case P.RawDirection.Down:x=3;break;case P.RawDirection.PrevBlankLine:x=4;break;case P.RawDirection.NextBlankLine:x=5;break;case P.RawDirection.WrappedLineStart:x=6;break;case P.RawDirection.WrappedLineFirstNonWhitespaceCharacter:x=7;break;case P.RawDirection.WrappedLineColumnCenter:x=8;break;case P.RawDirection.WrappedLineEnd:x=9;break;case P.RawDirection.WrappedLineLastNonWhitespaceCharacter:x=10;break;case P.RawDirection.ViewPortTop:x=11;break;case P.RawDirection.ViewPortBottom:x=13;break;case P.RawDirection.ViewPortCenter:x=12;break;case P.RawDirection.ViewPortIfOutside:x=14;break;default:return null}let f=0;switch(b.by){case P.RawUnit.Line:f=1;break;case P.RawUnit.WrappedLine:f=2;break;case P.RawUnit.Character:f=3;break;case P.RawUnit.HalfLine:f=4}return{direction:x,unit:f,select:!!b.select,value:b.value||1}}},98596:(Fe,Ee,p)=>{p.d(Ee,{o:()=>B});var D=p(35590),g=p(90784),Y=p(67947),W=p(1873),M=p(74243),i=p(56660);class T{constructor(y,C,b){this._cursorPositionBrand=void 0,this.lineNumber=y,this.column=C,this.leftoverVisibleColumns=b}}class B{static leftPosition(y,C){if(C.column>y.getLineMinColumn(C.lineNumber))return C.delta(void 0,-M.HO(y.getLineContent(C.lineNumber),C.column-1));if(C.lineNumber>1){const b=C.lineNumber-1;return new Y.L(b,y.getLineMaxColumn(b))}return C}static leftPositionAtomicSoftTabs(y,C,b){if(C.column<=y.getLineIndentColumn(C.lineNumber)){const x=y.getLineMinColumn(C.lineNumber),f=y.getLineContent(C.lineNumber),E=i.l.atomicPosition(f,C.column-1,b,0);if(-1!==E&&E+1>=x)return new Y.L(C.lineNumber,E+1)}return this.leftPosition(y,C)}static left(y,C,b){const x=y.stickyTabStops?B.leftPositionAtomicSoftTabs(C,b,y.tabSize):B.leftPosition(C,b);return new T(x.lineNumber,x.column,0)}static moveLeft(y,C,b,x,f){let E,z;if(b.hasSelection()&&!x)E=b.selection.startLineNumber,z=b.selection.startColumn;else{const L=b.position.delta(void 0,-(f-1)),N=C.normalizePosition(B.clipPositionColumn(L,C),0),Z=B.left(y,C,N);E=Z.lineNumber,z=Z.column}return b.move(x,E,z,0)}static clipPositionColumn(y,C){return new Y.L(y.lineNumber,B.clipRange(y.column,C.getLineMinColumn(y.lineNumber),C.getLineMaxColumn(y.lineNumber)))}static clipRange(y,C,b){return y<C?C:y>b?b:y}static rightPosition(y,C,b){return b<y.getLineMaxColumn(C)?b+=M.vH(y.getLineContent(C),b-1):C<y.getLineCount()&&(b=y.getLineMinColumn(C+=1)),new Y.L(C,b)}static rightPositionAtomicSoftTabs(y,C,b,x,f){if(b<y.getLineIndentColumn(C)){const E=y.getLineContent(C),z=i.l.atomicPosition(E,b-1,x,1);if(-1!==z)return new Y.L(C,z+1)}return this.rightPosition(y,C,b)}static right(y,C,b){const x=y.stickyTabStops?B.rightPositionAtomicSoftTabs(C,b.lineNumber,b.column,y.tabSize,y.indentSize):B.rightPosition(C,b.lineNumber,b.column);return new T(x.lineNumber,x.column,0)}static moveRight(y,C,b,x,f){let E,z;if(b.hasSelection()&&!x)E=b.selection.endLineNumber,z=b.selection.endColumn;else{const L=b.position.delta(void 0,f-1),N=C.normalizePosition(B.clipPositionColumn(L,C),1),Z=B.right(y,C,N);E=Z.lineNumber,z=Z.column}return b.move(x,E,z,0)}static vertical(y,C,b,x,f,E,z,L){const N=g.i.visibleColumnFromColumn(C.getLineContent(b),x,y.tabSize)+f,Z=C.getLineCount(),O=1===b&&1===x,I=b===Z&&x===C.getLineMaxColumn(b),$=E<b?O:I;if((b=E)<1?(b=1,x=z?C.getLineMinColumn(b):Math.min(C.getLineMaxColumn(b),x)):b>Z?(b=Z,x=z?C.getLineMaxColumn(b):Math.min(C.getLineMaxColumn(b),x)):x=y.columnFromVisibleColumn(C,b,N),f=$?0:N-g.i.visibleColumnFromColumn(C.getLineContent(b),x,y.tabSize),void 0!==L){const j=new Y.L(b,x),G=C.normalizePosition(j,L);f+=x-G.column,b=G.lineNumber,x=G.column}return new T(b,x,f)}static down(y,C,b,x,f,E,z){return this.vertical(y,C,b,x,f,b+E,z,1)}static moveDown(y,C,b,x,f){let E,z;b.hasSelection()&&!x?(E=b.selection.endLineNumber,z=b.selection.endColumn):(E=b.position.lineNumber,z=b.position.column);const L=B.down(y,C,E,z,b.leftoverVisibleColumns,f,!0);return b.move(x,L.lineNumber,L.column,L.leftoverVisibleColumns)}static translateDown(y,C,b){const x=b.selection,f=B.down(y,C,x.selectionStartLineNumber,x.selectionStartColumn,b.selectionStartLeftoverVisibleColumns,1,!1),E=B.down(y,C,x.positionLineNumber,x.positionColumn,b.leftoverVisibleColumns,1,!1);return new D.rS(new W.e(f.lineNumber,f.column,f.lineNumber,f.column),f.leftoverVisibleColumns,new Y.L(E.lineNumber,E.column),E.leftoverVisibleColumns)}static up(y,C,b,x,f,E,z){return this.vertical(y,C,b,x,f,b-E,z,0)}static moveUp(y,C,b,x,f){let E,z;b.hasSelection()&&!x?(E=b.selection.startLineNumber,z=b.selection.startColumn):(E=b.position.lineNumber,z=b.position.column);const L=B.up(y,C,E,z,b.leftoverVisibleColumns,f,!0);return b.move(x,L.lineNumber,L.column,L.leftoverVisibleColumns)}static translateUp(y,C,b){const x=b.selection,f=B.up(y,C,x.selectionStartLineNumber,x.selectionStartColumn,b.selectionStartLeftoverVisibleColumns,1,!1),E=B.up(y,C,x.positionLineNumber,x.positionColumn,b.leftoverVisibleColumns,1,!1);return new D.rS(new W.e(f.lineNumber,f.column,f.lineNumber,f.column),f.leftoverVisibleColumns,new Y.L(E.lineNumber,E.column),E.leftoverVisibleColumns)}static _isBlankLine(y,C){return 0===y.getLineFirstNonWhitespaceColumn(C)}static moveToPrevBlankLine(y,C,b,x){let f=b.position.lineNumber;for(;f>1&&this._isBlankLine(C,f);)f--;for(;f>1&&!this._isBlankLine(C,f);)f--;return b.move(x,f,C.getLineMinColumn(f),0)}static moveToNextBlankLine(y,C,b,x){const f=C.getLineCount();let E=b.position.lineNumber;for(;E<f&&this._isBlankLine(C,E);)E++;for(;E<f&&!this._isBlankLine(C,E);)E++;return b.move(x,E,C.getLineMinColumn(E),0)}static moveToBeginningOfLine(y,C,b,x){const f=b.position.lineNumber,E=C.getLineMinColumn(f),z=C.getLineFirstNonWhitespaceColumn(f)||E;let L;return L=b.position.column===z?E:z,b.move(x,f,L,0)}static moveToEndOfLine(y,C,b,x,f){const E=b.position.lineNumber,z=C.getLineMaxColumn(E);return b.move(x,E,z,f?1073741824-z:0)}static moveToBeginningOfBuffer(y,C,b,x){return b.move(x,1,1,0)}static moveToEndOfBuffer(y,C,b,x){const f=C.getLineCount(),E=C.getLineMaxColumn(f);return b.move(x,f,E,0)}}},8418:(Fe,Ee,p)=>{p.d(Ee,{u:()=>f,g:()=>E});var D=p(13226),g=p(74243),Y=p(49317),W=p(51788),M=p(1873),i=p(60745);class T{constructor(I,$,j){this._range=I,this._charBeforeSelection=$,this._charAfterSelection=j}getEditOperations(I,$){$.addTrackedEditOperation(new M.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),$.addTrackedEditOperation(new M.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(I,$){const j=$.getInverseEditOperations(),G=j[0].range,oe=j[1].range;return new i.Y(G.endLineNumber,G.endColumn,oe.endLineNumber,oe.endColumn-this._charAfterSelection.length)}}var B=p(35590),P=p(81346),y=p(67947),C=p(70950),b=p(92119),x=p(20595);class f{static indent(I,$,j){if(null===$||null===j)return[];const G=[];for(let oe=0,de=j.length;oe<de;oe++)G[oe]=new W.U(j[oe],{isUnshift:!1,tabSize:I.tabSize,indentSize:I.indentSize,insertSpaces:I.insertSpaces,useTabStops:I.useTabStops,autoIndent:I.autoIndent});return G}static outdent(I,$,j){const G=[];for(let oe=0,de=j.length;oe<de;oe++)G[oe]=new W.U(j[oe],{isUnshift:!0,tabSize:I.tabSize,indentSize:I.indentSize,insertSpaces:I.insertSpaces,useTabStops:I.useTabStops,autoIndent:I.autoIndent});return G}static shiftIndent(I,$,j){return W.U.shiftIndent($,$.length+(j=j||1),I.tabSize,I.indentSize,I.insertSpaces)}static unshiftIndent(I,$,j){return W.U.unshiftIndent($,$.length+(j=j||1),I.tabSize,I.indentSize,I.insertSpaces)}static _distributedPaste(I,$,j,G){const oe=[];for(let de=0,fe=j.length;de<fe;de++)oe[de]=new Y.T4(j[de],G[de]);return new B.Tp(0,oe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(I,$,j,G,oe){const de=[];for(let fe=0,pe=j.length;fe<pe;fe++){const ye=j[fe],ge=ye.getPosition();if(oe&&!ye.isEmpty()&&(oe=!1),oe&&G.indexOf("\n")!==G.length-1&&(oe=!1),oe){const Q=new M.e(ge.lineNumber,1,ge.lineNumber,1);de[fe]=new Y.hP(Q,G,ye,!0)}else de[fe]=new Y.T4(ye,G)}return new B.Tp(0,de,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(I,$,j,G,oe){if(G||1===$.length)return null;if(oe&&oe.length===$.length)return oe;if("spread"===I.multiCursorPaste){10===j.charCodeAt(j.length-1)&&(j=j.substr(0,j.length-1)),13===j.charCodeAt(j.length-1)&&(j=j.substr(0,j.length-1));const de=g.uq(j);if(de.length===$.length)return de}return null}static paste(I,$,j,G,oe,de){const fe=this._distributePasteToCursors(I,j,G,oe,de);return fe?(j=j.sort(M.e.compareRangesUsingStarts),this._distributedPaste(I,$,j,fe)):this._simplePaste(I,$,j,G,oe)}static _goodIndentForLine(I,$,j){let G=null,oe="";const de=b.zu.getInheritIndentForLine(I.autoIndent,$,j,!1);if(de)G=de.action,oe=de.indentation;else if(j>1){let fe;for(fe=j-1;fe>=1;fe--){const ge=$.getLineContent(fe);if(g.ow(ge)>=0)break}if(fe<1)return null;const pe=$.getLineMaxColumn(fe),ye=b.zu.getEnterAction(I.autoIndent,$,new M.e(fe,pe,fe,pe));ye&&(oe=ye.indentation+ye.appendText)}return G&&(G===C.wU.Indent&&(oe=f.shiftIndent(I,oe)),G===C.wU.Outdent&&(oe=f.unshiftIndent(I,oe)),oe=I.normalizeIndentation(oe)),oe||null}static _replaceJumpToNextIndent(I,$,j,G){let oe="";const de=j.getStartPosition();if(I.insertSpaces){const fe=I.visibleColumnFromColumn($,de),pe=I.indentSize,ye=pe-fe%pe;for(let ge=0;ge<ye;ge++)oe+=" "}else oe="\t";return new Y.T4(j,oe,G)}static tab(I,$,j){const G=[];for(let oe=0,de=j.length;oe<de;oe++){const fe=j[oe];if(fe.isEmpty()){const pe=$.getLineContent(fe.startLineNumber);if(/^\s*$/.test(pe)&&$.isCheapToTokenize(fe.startLineNumber)){let ye=this._goodIndentForLine(I,$,fe.startLineNumber);ye=ye||"\t";const ge=I.normalizeIndentation(ye);if(!pe.startsWith(ge)){G[oe]=new Y.T4(new M.e(fe.startLineNumber,1,fe.startLineNumber,pe.length+1),ge,!0);continue}}G[oe]=this._replaceJumpToNextIndent(I,$,fe,!0)}else{if(fe.startLineNumber===fe.endLineNumber){const pe=$.getLineMaxColumn(fe.startLineNumber);if(1!==fe.startColumn||fe.endColumn!==pe){G[oe]=this._replaceJumpToNextIndent(I,$,fe,!1);continue}}G[oe]=new W.U(fe,{isUnshift:!1,tabSize:I.tabSize,indentSize:I.indentSize,insertSpaces:I.insertSpaces,useTabStops:I.useTabStops,autoIndent:I.autoIndent})}}return G}static compositionType(I,$,j,G,oe,de,fe,pe){const ye=G.map(ge=>this._compositionType(j,ge,oe,de,fe,pe));return new B.Tp(4,ye,{shouldPushStackElementBefore:L(I,4),shouldPushStackElementAfter:!1})}static _compositionType(I,$,j,G,oe,de){if(!$.isEmpty())return null;const fe=$.getPosition(),pe=Math.max(1,fe.column-G),ye=Math.min(I.getLineMaxColumn(fe.lineNumber),fe.column+oe),ge=new M.e(fe.lineNumber,pe,fe.lineNumber,ye);return I.getValueInRange(ge)===j&&0===de?null:new Y.Uo(ge,j,0,de)}static _typeCommand(I,$,j){return j?new Y.Sj(I,$,!0):new Y.T4(I,$,!0)}static _enter(I,$,j,G){if(0===I.autoIndent)return f._typeCommand(G,"\n",j);if(!$.isCheapToTokenize(G.getStartPosition().lineNumber)||1===I.autoIndent){const pe=$.getLineContent(G.startLineNumber),ye=g.V8(pe).substring(0,G.startColumn-1);return f._typeCommand(G,"\n"+I.normalizeIndentation(ye),j)}const oe=b.zu.getEnterAction(I.autoIndent,$,G);if(oe){if(oe.indentAction===C.wU.None)return f._typeCommand(G,"\n"+I.normalizeIndentation(oe.indentation+oe.appendText),j);if(oe.indentAction===C.wU.Indent)return f._typeCommand(G,"\n"+I.normalizeIndentation(oe.indentation+oe.appendText),j);if(oe.indentAction===C.wU.IndentOutdent){const pe=I.normalizeIndentation(oe.indentation),ye=I.normalizeIndentation(oe.indentation+oe.appendText),ge="\n"+ye+"\n"+pe;return j?new Y.Sj(G,ge,!0):new Y.Uo(G,ge,-1,ye.length-pe.length,!0)}if(oe.indentAction===C.wU.Outdent){const pe=f.unshiftIndent(I,oe.indentation);return f._typeCommand(G,"\n"+I.normalizeIndentation(pe+oe.appendText),j)}}const de=$.getLineContent(G.startLineNumber),fe=g.V8(de).substring(0,G.startColumn-1);if(I.autoIndent>=4){const pe=b.zu.getIndentForEnter(I.autoIndent,$,G,{unshiftIndent:ye=>f.unshiftIndent(I,ye),shiftIndent:ye=>f.shiftIndent(I,ye),normalizeIndentation:ye=>I.normalizeIndentation(ye)});if(pe){let ye=I.visibleColumnFromColumn($,G.getEndPosition());const ge=G.endColumn,Q=$.getLineContent(G.endLineNumber),ee=g.LC(Q);if(G=G.setEndPosition(G.endLineNumber,ee>=0?Math.max(G.endColumn,ee+1):$.getLineMaxColumn(G.endLineNumber)),j)return new Y.Sj(G,"\n"+I.normalizeIndentation(pe.afterEnter),!0);{let le=0;return ge<=ee+1&&(I.insertSpaces||(ye=Math.ceil(ye/I.indentSize)),le=Math.min(ye+1-I.normalizeIndentation(pe.afterEnter).length-1,0)),new Y.Uo(G,"\n"+I.normalizeIndentation(pe.afterEnter),0,le,!0)}}}return f._typeCommand(G,"\n"+I.normalizeIndentation(fe),j)}static _isAutoIndentType(I,$,j){if(I.autoIndent<4)return!1;for(let G=0,oe=j.length;G<oe;G++)if(!$.isCheapToTokenize(j[G].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(I,$,j,G){const oe=b.zu.getIndentationAtPosition($,j.startLineNumber,j.startColumn),de=b.zu.getIndentActionForType(I.autoIndent,$,j,G,{shiftIndent:fe=>f.shiftIndent(I,fe),unshiftIndent:fe=>f.unshiftIndent(I,fe)});if(null===de)return null;if(de!==I.normalizeIndentation(oe)){const fe=$.getLineFirstNonWhitespaceColumn(j.startLineNumber);return f._typeCommand(new M.e(j.startLineNumber,1,j.endLineNumber,j.endColumn),0===fe?I.normalizeIndentation(de)+G:I.normalizeIndentation(de)+$.getLineContent(j.startLineNumber).substring(fe-1,j.startColumn-1)+G,!1)}return null}static _isAutoClosingOvertype(I,$,j,G,oe){if("never"===I.autoClosingOvertype||!I.autoClosingPairs.autoClosingPairsCloseSingleChar.has(oe))return!1;for(let de=0,fe=j.length;de<fe;de++){const pe=j[de];if(!pe.isEmpty())return!1;const ye=pe.getPosition(),ge=$.getLineContent(ye.lineNumber);if(ge.charAt(ye.column-1)!==oe)return!1;const ee=(0,B.LN)(oe);if(92===(ye.column>2?ge.charCodeAt(ye.column-2):0)&&ee)return!1;if("auto"===I.autoClosingOvertype){let te=!1;for(let J=0,re=G.length;J<re;J++){const ce=G[J];if(ye.lineNumber===ce.startLineNumber&&ye.column===ce.startColumn){te=!0;break}}if(!te)return!1}}return!0}static _runAutoClosingOvertype(I,$,j,G,oe){const de=[];for(let fe=0,pe=G.length;fe<pe;fe++){const ge=G[fe].getPosition(),Q=new M.e(ge.lineNumber,ge.column,ge.lineNumber,ge.column+1);de[fe]=new Y.T4(Q,oe)}return new B.Tp(4,de,{shouldPushStackElementBefore:L(I,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(I,$){const j=$.charAt(0),G=I.autoClosingPairs.autoClosingPairsOpenByStart.get(j)||[],oe=I.autoClosingPairs.autoClosingPairsCloseByStart.get(j)||[],de=G.some(pe=>$.startsWith(pe.open)),fe=oe.some(pe=>$.startsWith(pe.close));return!de&&fe}static _findAutoClosingPairOpen(I,$,j,G){const oe=I.autoClosingPairs.autoClosingPairsOpenByEnd.get(G);if(!oe)return null;let de=null;for(const fe of oe)if(null===de||fe.open.length>de.open.length){let pe=!0;for(const ye of j)if($.getValueInRange(new M.e(ye.lineNumber,ye.column-fe.open.length+1,ye.lineNumber,ye.column))+G!==fe.open){pe=!1;break}pe&&(de=fe)}return de}static _findContainedAutoClosingPair(I,$){if($.open.length<=1)return null;const j=$.close.charAt($.close.length-1),G=I.autoClosingPairs.autoClosingPairsCloseByEnd.get(j)||[];let oe=null;for(const de of G)de.open!==$.open&&$.open.includes(de.open)&&$.close.endsWith(de.close)&&(!oe||de.open.length>oe.open.length)&&(oe=de);return oe}static _getAutoClosingPairClose(I,$,j,G,oe){const de=(0,B.LN)(G),fe=de?I.autoClosingQuotes:I.autoClosingBrackets,pe=de?I.shouldAutoCloseBefore.quote:I.shouldAutoCloseBefore.bracket;if("never"===fe)return null;for(const te of j)if(!te.isEmpty())return null;const ye=j.map(te=>{const J=te.getPosition();return oe?{lineNumber:J.lineNumber,beforeColumn:J.column-G.length,afterColumn:J.column}:{lineNumber:J.lineNumber,beforeColumn:J.column,afterColumn:J.column}}),ge=this._findAutoClosingPairOpen(I,$,ye.map(te=>new y.L(te.lineNumber,te.beforeColumn)),G);if(!ge)return null;const Q=this._findContainedAutoClosingPair(I,ge),ee=Q?Q.close:"";let le=!0;for(const te of ye){const{lineNumber:J,beforeColumn:re,afterColumn:ce}=te,ve=$.getLineContent(J),Ie=ve.substring(0,re-1),We=ve.substring(ce-1);if(We.startsWith(ee)||(le=!1),We.length>0){const Ae=We.charAt(0);if(!f._isBeforeClosingBrace(I,We)&&!pe(Ae))return null}if(1===ge.open.length&&("'"===G||'"'===G)&&"always"!==fe){const Ae=(0,P.u)(I.wordSeparators);if(Ie.length>0){const et=Ie.charCodeAt(Ie.length-1);if(0===Ae.get(et))return null}}if(!$.isCheapToTokenize(J))return null;$.forceTokenization(J);const Ue=$.getLineTokens(J),ue=(0,x.wH)(Ue,re-1);if(!ge.shouldAutoClose(ue,re-ue.firstCharOffset))return null;const Ce=ge.findNeutralCharacter();if(Ce){const Ae=$.getTokenTypeIfInsertingCharacter(J,re,Ce);if(!ge.isOK(Ae))return null}}return le?ge.close.substring(0,ge.close.length-ee.length):ge.close}static _runAutoClosingOpenCharType(I,$,j,G,oe,de,fe){const pe=[];for(let ye=0,ge=G.length;ye<ge;ye++)pe[ye]=new E(G[ye],oe,!de,fe);return new B.Tp(4,pe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(I,$){return(0,B.LN)($)?"quotes"===I.autoSurround||"languageDefined"===I.autoSurround:"brackets"===I.autoSurround||"languageDefined"===I.autoSurround}static _isSurroundSelectionType(I,$,j,G){if(!f._shouldSurroundChar(I,G)||!I.surroundingPairs.hasOwnProperty(G))return!1;const oe=(0,B.LN)(G);for(let de=0,fe=j.length;de<fe;de++){const pe=j[de];if(pe.isEmpty())return!1;let ye=!0;for(let ge=pe.startLineNumber;ge<=pe.endLineNumber;ge++){const Q=$.getLineContent(ge),te=Q.substring(ge===pe.startLineNumber?pe.startColumn-1:0,ge===pe.endLineNumber?pe.endColumn-1:Q.length);if(/[^ \t]/.test(te)){ye=!1;break}}if(ye)return!1;if(oe&&pe.startLineNumber===pe.endLineNumber&&pe.startColumn+1===pe.endColumn){const ge=$.getValueInRange(pe);if((0,B.LN)(ge))return!1}}return!0}static _runSurroundSelectionType(I,$,j,G,oe){const de=[];for(let fe=0,pe=G.length;fe<pe;fe++)de[fe]=new T(G[fe],oe,$.surroundingPairs[oe]);return new B.Tp(0,de,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(I,$,j){return!(1!==j.length||!$.isCheapToTokenize(j[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(I,$,j,G,oe){if(!$.electricChars.hasOwnProperty(oe)||!G.isEmpty())return null;const de=G.getPosition();j.forceTokenization(de.lineNumber);const fe=j.getLineTokens(de.lineNumber);let pe;try{pe=$.onElectricCharacter(oe,fe,de.column)}catch(ye){return(0,D.dL)(ye),null}if(!pe)return null;if(pe.matchOpenBracket){const ye=(fe.getLineContent()+oe).lastIndexOf(pe.matchOpenBracket)+1,ge=j.bracketPairs.findMatchingBracketUp(pe.matchOpenBracket,{lineNumber:de.lineNumber,column:ye},500);if(ge){if(ge.startLineNumber===de.lineNumber)return null;const Q=j.getLineContent(ge.startLineNumber),ee=g.V8(Q),le=$.normalizeIndentation(ee),te=j.getLineContent(de.lineNumber),J=j.getLineFirstNonWhitespaceColumn(de.lineNumber)||de.column,ce=le+te.substring(J-1,de.column-1)+oe,ve=new M.e(de.lineNumber,1,de.lineNumber,de.column),Ie=new Y.T4(ve,ce);return new B.Tp(z(ce,I),[Ie],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(I,$,j,G,oe,de){if(!G||i.Y.selectionsArrEqual(G,oe))return null;let fe=null;for(const ye of oe){if(!ye.isEmpty())return null;const ge=ye.getPosition(),Q=j.getValueInRange(new M.e(ge.lineNumber,ge.column-1,ge.lineNumber,ge.column));if(null===fe)fe=Q;else if(fe!==Q)return null}if(!fe)return null;if(this._isAutoClosingOvertype($,j,oe,de,fe)){const ye=oe.map(ge=>new Y.T4(new M.e(ge.positionLineNumber,ge.positionColumn,ge.positionLineNumber,ge.positionColumn+1),"",!1));return new B.Tp(4,ye,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const pe=this._getAutoClosingPairClose($,j,oe,fe,!0);return null!==pe?this._runAutoClosingOpenCharType(I,$,j,oe,fe,!0,pe):null}static typeWithInterceptors(I,$,j,G,oe,de,fe){if(!I&&"\n"===fe){const ge=[];for(let Q=0,ee=oe.length;Q<ee;Q++)ge[Q]=f._enter(j,G,!1,oe[Q]);return new B.Tp(4,ge,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!I&&this._isAutoIndentType(j,G,oe)){const ge=[];let Q=!1;for(let ee=0,le=oe.length;ee<le;ee++)if(ge[ee]=this._runAutoIndentType(j,G,oe[ee],fe),!ge[ee]){Q=!0;break}if(!Q)return new B.Tp(4,ge,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!I&&this._isAutoClosingOvertype(j,G,oe,de,fe))return this._runAutoClosingOvertype($,j,G,oe,fe);if(!I){const ge=this._getAutoClosingPairClose(j,G,oe,fe,!1);if(ge)return this._runAutoClosingOpenCharType($,j,G,oe,fe,!1,ge)}if(this._isSurroundSelectionType(j,G,oe,fe))return this._runSurroundSelectionType($,j,G,oe,fe);if(!I&&this._isTypeInterceptorElectricChar(j,G,oe)){const ge=this._typeInterceptorElectricChar($,j,G,oe[0],fe);if(ge)return ge}const pe=[];for(let ge=0,Q=oe.length;ge<Q;ge++)pe[ge]=new Y.T4(oe[ge],fe);const ye=z(fe,$);return new B.Tp(ye,pe,{shouldPushStackElementBefore:L($,ye),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(I,$,j,G,oe){const de=[];for(let pe=0,ye=G.length;pe<ye;pe++)de[pe]=new Y.T4(G[pe],oe);const fe=z(oe,I);return new B.Tp(fe,de,{shouldPushStackElementBefore:L(I,fe),shouldPushStackElementAfter:!1})}static lineInsertBefore(I,$,j){if(null===$||null===j)return[];const G=[];for(let oe=0,de=j.length;oe<de;oe++){let fe=j[oe].positionLineNumber;if(1===fe)G[oe]=new Y.Sj(new M.e(1,1,1,1),"\n");else{fe--;const pe=$.getLineMaxColumn(fe);G[oe]=this._enter(I,$,!1,new M.e(fe,pe,fe,pe))}}return G}static lineInsertAfter(I,$,j){if(null===$||null===j)return[];const G=[];for(let oe=0,de=j.length;oe<de;oe++){const fe=j[oe].positionLineNumber,pe=$.getLineMaxColumn(fe);G[oe]=this._enter(I,$,!1,new M.e(fe,pe,fe,pe))}return G}static lineBreakInsert(I,$,j){const G=[];for(let oe=0,de=j.length;oe<de;oe++)G[oe]=this._enter(I,$,!0,j[oe]);return G}}class E extends Y.Uo{constructor(I,$,j,G){super(I,(j?$:"")+G,0,-G.length),this._openCharacter=$,this._closeCharacter=G,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(I,$){const G=$.getInverseEditOperations()[0].range;return this.closeCharacterRange=new M.e(G.startLineNumber,G.endColumn-this._closeCharacter.length,G.endLineNumber,G.endColumn),this.enclosingRange=new M.e(G.startLineNumber,G.endColumn-this._openCharacter.length-this._closeCharacter.length,G.endLineNumber,G.endColumn),super.computeCursorState(I,$)}}function z(O,I){return" "===O?5===I||6===I?6:5:4}function L(O,I){return!(!Z(O)||Z(I))||5!==O&&N(O)!==N(I)}function N(O){return 6===O||5===O?"space":O}function Z(O){return 4===O||5===O||6===O}},34397:(Fe,Ee,p)=>{p.d(Ee,{w:()=>T,L:()=>B});var D=p(74243),g=p(35590),Y=p(17666),W=p(81346),M=p(67947),i=p(1873);class T{static _createWord(C,b,x,f,E){return{start:f,end:E,wordType:b,nextCharClass:x}}static _findPreviousWordOnLine(C,b,x){const f=b.getLineContent(x.lineNumber);return this._doFindPreviousWordOnLine(f,C,x)}static _doFindPreviousWordOnLine(C,b,x){let f=0;for(let E=x.column-2;E>=0;E--){const z=C.charCodeAt(E),L=b.get(z);if(0===L){if(2===f)return this._createWord(C,f,L,E+1,this._findEndOfWord(C,b,f,E+1));f=1}else if(2===L){if(1===f)return this._createWord(C,f,L,E+1,this._findEndOfWord(C,b,f,E+1));f=2}else if(1===L&&0!==f)return this._createWord(C,f,L,E+1,this._findEndOfWord(C,b,f,E+1))}return 0!==f?this._createWord(C,f,1,0,this._findEndOfWord(C,b,f,0)):null}static _findEndOfWord(C,b,x,f){const E=C.length;for(let z=f;z<E;z++){const L=C.charCodeAt(z),N=b.get(L);if(1===N||1===x&&2===N||2===x&&0===N)return z}return E}static _findNextWordOnLine(C,b,x){const f=b.getLineContent(x.lineNumber);return this._doFindNextWordOnLine(f,C,x)}static _doFindNextWordOnLine(C,b,x){let f=0;const E=C.length;for(let z=x.column-1;z<E;z++){const L=C.charCodeAt(z),N=b.get(L);if(0===N){if(2===f)return this._createWord(C,f,N,this._findStartOfWord(C,b,f,z-1),z);f=1}else if(2===N){if(1===f)return this._createWord(C,f,N,this._findStartOfWord(C,b,f,z-1),z);f=2}else if(1===N&&0!==f)return this._createWord(C,f,N,this._findStartOfWord(C,b,f,z-1),z)}return 0!==f?this._createWord(C,f,1,this._findStartOfWord(C,b,f,E-1),E):null}static _findStartOfWord(C,b,x,f){for(let E=f;E>=0;E--){const z=C.charCodeAt(E),L=b.get(z);if(1===L||1===x&&2===L||2===x&&0===L)return E+1}return 0}static moveWordLeft(C,b,x,f){let E=x.lineNumber,z=x.column;1===z&&E>1&&(E-=1,z=b.getLineMaxColumn(E));let L=T._findPreviousWordOnLine(C,b,new M.L(E,z));if(0===f)return new M.L(E,L?L.start+1:1);if(1===f)return L&&2===L.wordType&&L.end-L.start==1&&0===L.nextCharClass&&(L=T._findPreviousWordOnLine(C,b,new M.L(E,L.start+1))),new M.L(E,L?L.start+1:1);if(3===f){for(;L&&2===L.wordType;)L=T._findPreviousWordOnLine(C,b,new M.L(E,L.start+1));return new M.L(E,L?L.start+1:1)}return L&&z<=L.end+1&&(L=T._findPreviousWordOnLine(C,b,new M.L(E,L.start+1))),new M.L(E,L?L.end+1:1)}static _moveWordPartLeft(C,b){const x=b.lineNumber,f=C.getLineMaxColumn(x);if(1===b.column)return x>1?new M.L(x-1,C.getLineMaxColumn(x-1)):b;const E=C.getLineContent(x);for(let z=b.column-1;z>1;z--){const L=E.charCodeAt(z-2),N=E.charCodeAt(z-1);if(95===L&&95!==N)return new M.L(x,z);if(D.mK(L)&&D.df(N))return new M.L(x,z);if(D.df(L)&&D.df(N)&&z+1<f){const Z=E.charCodeAt(z);if(D.mK(Z))return new M.L(x,z)}}return new M.L(x,1)}static moveWordRight(C,b,x,f){let E=x.lineNumber,z=x.column,L=!1;z===b.getLineMaxColumn(E)&&E<b.getLineCount()&&(L=!0,E+=1,z=1);let N=T._findNextWordOnLine(C,b,new M.L(E,z));if(2===f)N&&2===N.wordType&&N.end-N.start==1&&0===N.nextCharClass&&(N=T._findNextWordOnLine(C,b,new M.L(E,N.end+1))),z=N?N.end+1:b.getLineMaxColumn(E);else if(3===f){for(L&&(z=0);N&&(2===N.wordType||N.start+1<=z);)N=T._findNextWordOnLine(C,b,new M.L(E,N.end+1));z=N?N.start+1:b.getLineMaxColumn(E)}else N&&!L&&z>=N.start+1&&(N=T._findNextWordOnLine(C,b,new M.L(E,N.end+1))),z=N?N.start+1:b.getLineMaxColumn(E);return new M.L(E,z)}static _moveWordPartRight(C,b){const x=b.lineNumber,f=C.getLineMaxColumn(x);if(b.column===f)return x<C.getLineCount()?new M.L(x+1,1):b;const E=C.getLineContent(x);for(let z=b.column+1;z<f;z++){const L=E.charCodeAt(z-2),N=E.charCodeAt(z-1);if(95!==L&&95===N)return new M.L(x,z);if(D.mK(L)&&D.df(N))return new M.L(x,z);if(D.df(L)&&D.df(N)&&z+1<f){const Z=E.charCodeAt(z);if(D.mK(Z))return new M.L(x,z)}}return new M.L(x,f)}static _deleteWordLeftWhitespace(C,b){const x=C.getLineContent(b.lineNumber),f=b.column-2,E=D.ow(x,f);return E+1<f?new i.e(b.lineNumber,E+2,b.lineNumber,b.column):null}static deleteWordLeft(C,b){const x=C.wordSeparators,f=C.model,E=C.selection,z=C.whitespaceHeuristics;if(!E.isEmpty())return E;if(Y.A.isAutoClosingPairDelete(C.autoClosingDelete,C.autoClosingBrackets,C.autoClosingQuotes,C.autoClosingPairs.autoClosingPairsOpenByEnd,C.model,[C.selection],C.autoClosedCharacters)){const I=C.selection.getPosition();return new i.e(I.lineNumber,I.column-1,I.lineNumber,I.column+1)}const L=new M.L(E.positionLineNumber,E.positionColumn);let N=L.lineNumber,Z=L.column;if(1===N&&1===Z)return null;if(z){const I=this._deleteWordLeftWhitespace(f,L);if(I)return I}let O=T._findPreviousWordOnLine(x,f,L);return 0===b?O?Z=O.start+1:Z>1?Z=1:(N--,Z=f.getLineMaxColumn(N)):(O&&Z<=O.end+1&&(O=T._findPreviousWordOnLine(x,f,new M.L(N,O.start+1))),O?Z=O.end+1:Z>1?Z=1:(N--,Z=f.getLineMaxColumn(N))),new i.e(N,Z,L.lineNumber,L.column)}static deleteInsideWord(C,b,x){if(!x.isEmpty())return x;const f=new M.L(x.positionLineNumber,x.positionColumn);return this._deleteInsideWordWhitespace(b,f)||this._deleteInsideWordDetermineDeleteRange(C,b,f)}static _charAtIsWhitespace(C,b){const x=C.charCodeAt(b);return 32===x||9===x}static _deleteInsideWordWhitespace(C,b){const x=C.getLineContent(b.lineNumber),f=x.length;if(0===f)return null;let E=Math.max(b.column-2,0);if(!this._charAtIsWhitespace(x,E))return null;let z=Math.min(b.column-1,f-1);if(!this._charAtIsWhitespace(x,z))return null;for(;E>0&&this._charAtIsWhitespace(x,E-1);)E--;for(;z+1<f&&this._charAtIsWhitespace(x,z+1);)z++;return new i.e(b.lineNumber,E+1,b.lineNumber,z+2)}static _deleteInsideWordDetermineDeleteRange(C,b,x){const f=b.getLineContent(x.lineNumber),E=f.length;if(0===E)return x.lineNumber>1?new i.e(x.lineNumber-1,b.getLineMaxColumn(x.lineNumber-1),x.lineNumber,1):x.lineNumber<b.getLineCount()?new i.e(x.lineNumber,1,x.lineNumber+1,1):new i.e(x.lineNumber,1,x.lineNumber,1);const z=I=>I.start+1<=x.column&&x.column<=I.end+1,L=(I,$)=>(I=Math.min(I,x.column),$=Math.max($,x.column),new i.e(x.lineNumber,I,x.lineNumber,$)),N=I=>{let $=I.start+1,j=I.end+1,G=!1;for(;j-1<E&&this._charAtIsWhitespace(f,j-1);)G=!0,j++;if(!G)for(;$>1&&this._charAtIsWhitespace(f,$-2);)$--;return L($,j)},Z=T._findPreviousWordOnLine(C,b,x);if(Z&&z(Z))return N(Z);const O=T._findNextWordOnLine(C,b,x);return O&&z(O)?N(O):Z&&O?L(Z.end+1,O.start+1):Z?L(Z.start+1,Z.end+1):O?L(O.start+1,O.end+1):L(1,E+1)}static _deleteWordPartLeft(C,b){if(!b.isEmpty())return b;const x=b.getPosition(),f=T._moveWordPartLeft(C,x);return new i.e(x.lineNumber,x.column,f.lineNumber,f.column)}static _findFirstNonWhitespaceChar(C,b){const x=C.length;for(let f=b;f<x;f++){const E=C.charAt(f);if(" "!==E&&"\t"!==E)return f}return x}static _deleteWordRightWhitespace(C,b){const x=C.getLineContent(b.lineNumber),f=b.column-1,E=this._findFirstNonWhitespaceChar(x,f);return f+1<E?new i.e(b.lineNumber,b.column,b.lineNumber,E+1):null}static deleteWordRight(C,b){const x=C.wordSeparators,f=C.model,E=C.selection,z=C.whitespaceHeuristics;if(!E.isEmpty())return E;const L=new M.L(E.positionLineNumber,E.positionColumn);let N=L.lineNumber,Z=L.column;const O=f.getLineCount(),I=f.getLineMaxColumn(N);if(N===O&&Z===I)return null;if(z){const j=this._deleteWordRightWhitespace(f,L);if(j)return j}let $=T._findNextWordOnLine(x,f,L);return 2===b?$?Z=$.end+1:Z<I||N===O?Z=I:(N++,$=T._findNextWordOnLine(x,f,new M.L(N,1)),Z=$?$.start+1:f.getLineMaxColumn(N)):($&&Z>=$.start+1&&($=T._findNextWordOnLine(x,f,new M.L(N,$.end+1))),$?Z=$.start+1:Z<I||N===O?Z=I:(N++,$=T._findNextWordOnLine(x,f,new M.L(N,1)),Z=$?$.start+1:f.getLineMaxColumn(N))),new i.e(N,Z,L.lineNumber,L.column)}static _deleteWordPartRight(C,b){if(!b.isEmpty())return b;const x=b.getPosition(),f=T._moveWordPartRight(C,x);return new i.e(x.lineNumber,x.column,f.lineNumber,f.column)}static _createWordAtPosition(C,b,x){const f=new i.e(b,x.start+1,b,x.end+1);return{word:C.getValueInRange(f),startColumn:f.startColumn,endColumn:f.endColumn}}static getWordAtPosition(C,b,x){const f=(0,W.u)(b),E=T._findPreviousWordOnLine(f,C,x);if(E&&1===E.wordType&&E.start<=x.column-1&&x.column-1<=E.end)return T._createWordAtPosition(C,x.lineNumber,E);const z=T._findNextWordOnLine(f,C,x);return z&&1===z.wordType&&z.start<=x.column-1&&x.column-1<=z.end?T._createWordAtPosition(C,x.lineNumber,z):null}static word(C,b,x,f,E){const z=(0,W.u)(C.wordSeparators),L=T._findPreviousWordOnLine(z,b,E),N=T._findNextWordOnLine(z,b,E);if(!f){let j,G;return L&&1===L.wordType&&L.start<=E.column-1&&E.column-1<=L.end?(j=L.start+1,G=L.end+1):N&&1===N.wordType&&N.start<=E.column-1&&E.column-1<=N.end?(j=N.start+1,G=N.end+1):(j=L?L.end+1:1,G=N?N.start+1:b.getLineMaxColumn(E.lineNumber)),new g.rS(new i.e(E.lineNumber,j,E.lineNumber,G),0,new M.L(E.lineNumber,G),0)}let Z,O;L&&1===L.wordType&&L.start<E.column-1&&E.column-1<L.end?(Z=L.start+1,O=L.end+1):N&&1===N.wordType&&N.start<E.column-1&&E.column-1<N.end?(Z=N.start+1,O=N.end+1):(Z=E.column,O=E.column);const I=E.lineNumber;let $;if(x.selectionStart.containsPosition(E))$=x.selectionStart.endColumn;else if(E.isBeforeOrEqual(x.selectionStart.getStartPosition())){$=Z;const j=new M.L(I,$);x.selectionStart.containsPosition(j)&&($=x.selectionStart.endColumn)}else{$=O;const j=new M.L(I,$);x.selectionStart.containsPosition(j)&&($=x.selectionStart.startColumn)}return x.move(!0,I,$,0)}}class B extends T{static deleteWordPartLeft(C){const b=P([T.deleteWordLeft(C,0),T.deleteWordLeft(C,2),T._deleteWordPartLeft(C.model,C.selection)]);return b.sort(i.e.compareRangesUsingEnds),b[2]}static deleteWordPartRight(C){const b=P([T.deleteWordRight(C,0),T.deleteWordRight(C,2),T._deleteWordPartRight(C.model,C.selection)]);return b.sort(i.e.compareRangesUsingStarts),b[0]}static moveWordPartLeft(C,b,x){const f=P([T.moveWordLeft(C,b,x,0),T.moveWordLeft(C,b,x,2),T._moveWordPartLeft(b,x)]);return f.sort(M.L.compare),f[2]}static moveWordPartRight(C,b,x){const f=P([T.moveWordRight(C,b,x,0),T.moveWordRight(C,b,x,2),T._moveWordPartRight(b,x)]);return f.sort(M.L.compare),f[0]}}function P(y){return y.filter(C=>Boolean(C))}},47804:(Fe,Ee,p)=>{p.d(Ee,{p:()=>D});class D{constructor(Y,W,M,i,T,B){this.id=Y,this.label=W,this.alias=M,this._precondition=i,this._run=T,this._contextKeyService=B}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},3760:(Fe,Ee,p)=>{p.d(Ee,{g:()=>D});const D={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},20296:(Fe,Ee,p)=>{p.d(Ee,{u:()=>Y});var Y,W,D=p(12918),g=p(6461);(W=Y||(Y={})).editorSimpleInput=new g.uy("editorSimpleInput",!1,!0),W.editorTextFocus=new g.uy("editorTextFocus",!1,D.N("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),W.focus=new g.uy("editorFocus",!1,D.N("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),W.textInputFocus=new g.uy("textInputFocus",!1,D.N("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),W.readOnly=new g.uy("editorReadonly",!1,D.N("editorReadonly","Whether the editor is read only")),W.inDiffEditor=new g.uy("inDiffEditor",!1,D.N("inDiffEditor","Whether the context is a diff editor")),W.columnSelection=new g.uy("editorColumnSelection",!1,D.N("editorColumnSelection","Whether `editor.columnSelection` is enabled")),W.writable=W.readOnly.toNegated(),W.hasNonEmptySelection=new g.uy("editorHasSelection",!1,D.N("editorHasSelection","Whether the editor has text selected")),W.hasOnlyEmptySelection=W.hasNonEmptySelection.toNegated(),W.hasMultipleSelections=new g.uy("editorHasMultipleSelections",!1,D.N("editorHasMultipleSelections","Whether the editor has multiple selections")),W.hasSingleSelection=W.hasMultipleSelections.toNegated(),W.tabMovesFocus=new g.uy("editorTabMovesFocus",!1,D.N("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),W.tabDoesNotMoveFocus=W.tabMovesFocus.toNegated(),W.isInWalkThroughSnippet=new g.uy("isInEmbeddedEditor",!1,!0),W.canUndo=new g.uy("canUndo",!1,!0),W.canRedo=new g.uy("canRedo",!1,!0),W.hoverVisible=new g.uy("editorHoverVisible",!1,D.N("editorHoverVisible","Whether the editor hover is visible")),W.inCompositeEditor=new g.uy("inCompositeEditor",void 0,D.N("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),W.notInCompositeEditor=W.inCompositeEditor.toNegated(),W.languageId=new g.uy("editorLangId","",D.N("editorLangId","The language identifier of the editor")),W.hasCompletionItemProvider=new g.uy("editorHasCompletionItemProvider",!1,D.N("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),W.hasCodeActionsProvider=new g.uy("editorHasCodeActionsProvider",!1,D.N("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),W.hasCodeLensProvider=new g.uy("editorHasCodeLensProvider",!1,D.N("editorHasCodeLensProvider","Whether the editor has a code lens provider")),W.hasDefinitionProvider=new g.uy("editorHasDefinitionProvider",!1,D.N("editorHasDefinitionProvider","Whether the editor has a definition provider")),W.hasDeclarationProvider=new g.uy("editorHasDeclarationProvider",!1,D.N("editorHasDeclarationProvider","Whether the editor has a declaration provider")),W.hasImplementationProvider=new g.uy("editorHasImplementationProvider",!1,D.N("editorHasImplementationProvider","Whether the editor has an implementation provider")),W.hasTypeDefinitionProvider=new g.uy("editorHasTypeDefinitionProvider",!1,D.N("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),W.hasHoverProvider=new g.uy("editorHasHoverProvider",!1,D.N("editorHasHoverProvider","Whether the editor has a hover provider")),W.hasDocumentHighlightProvider=new g.uy("editorHasDocumentHighlightProvider",!1,D.N("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),W.hasDocumentSymbolProvider=new g.uy("editorHasDocumentSymbolProvider",!1,D.N("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),W.hasReferenceProvider=new g.uy("editorHasReferenceProvider",!1,D.N("editorHasReferenceProvider","Whether the editor has a reference provider")),W.hasRenameProvider=new g.uy("editorHasRenameProvider",!1,D.N("editorHasRenameProvider","Whether the editor has a rename provider")),W.hasSignatureHelpProvider=new g.uy("editorHasSignatureHelpProvider",!1,D.N("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),W.hasInlayHintsProvider=new g.uy("editorHasInlayHintsProvider",!1,D.N("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),W.hasDocumentFormattingProvider=new g.uy("editorHasDocumentFormattingProvider",!1,D.N("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),W.hasDocumentSelectionFormattingProvider=new g.uy("editorHasDocumentSelectionFormattingProvider",!1,D.N("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),W.hasMultipleDocumentFormattingProvider=new g.uy("editorHasMultipleDocumentFormattingProvider",!1,D.N("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),W.hasMultipleDocumentSelectionFormattingProvider=new g.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,D.N("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},33979:(Fe,Ee,p)=>{p.d(Ee,{mY:()=>O,gX:()=>x,MY:()=>z,DI:()=>b,AD:()=>Z,gl:()=>I,bw:()=>f,WW:()=>E,uZ:()=>N,WU:()=>y,NX:()=>P,RW:()=>$,hG:()=>C,vx:()=>L});var D=p(85459),g=p(1873),Y=p(71040),W=p(40189),M=function(j,G,oe,de){return new(oe||(oe=Promise))(function(pe,ye){function ge(le){try{ee(de.next(le))}catch(te){ye(te)}}function Q(le){try{ee(de.throw(le))}catch(te){ye(te)}}function ee(le){le.done?pe(le.value):function(pe){return pe instanceof oe?pe:new oe(function(ye){ye(pe)})}(le.value).then(ge,Q)}ee((de=de.apply(j,G||[])).next())})};class T extends W.JT{constructor(G,oe,de){super(),this._registry=G,this._languageId=oe,this._factory=de,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return M(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return M(this,void 0,void 0,function*(){const G=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,G&&!this._isDisposed&&this._register(this._registry.register(this._languageId,G))})}}var x,B=p(78968);class P{static getLanguageId(G){return(255&G)>>>0}static getTokenType(G){return(768&G)>>>8}static getFontStyle(G){return(15360&G)>>>10}static getForeground(G){return(8372224&G)>>>14}static getBackground(G){return(4286578688&G)>>>23}static getClassNameFromMetadata(G){let de="mtk"+this.getForeground(G);const fe=this.getFontStyle(G);return 1&fe&&(de+=" mtki"),2&fe&&(de+=" mtkb"),4&fe&&(de+=" mtku"),8&fe&&(de+=" mtks"),de}static getInlineStyleFromMetadata(G,oe){const de=this.getForeground(G),fe=this.getFontStyle(G);let pe=`color: ${oe[de]};`;1&fe&&(pe+="font-style: italic;"),2&fe&&(pe+="font-weight: bold;");let ye="";return 4&fe&&(ye+=" underline"),8&fe&&(ye+=" line-through"),ye&&(pe+=`text-decoration:${ye};`),pe}static getPresentationFromMetadata(G){const oe=this.getForeground(G),de=this.getFontStyle(G);return{foreground:oe,italic:Boolean(1&de),bold:Boolean(2&de),underline:Boolean(4&de),strikethrough:Boolean(8&de)}}}class y{constructor(G,oe,de){this._tokenBrand=void 0,this.offset=G,this.type=oe,this.language=de}toString(){return"("+this.offset+", "+this.type+")"}}class C{constructor(G,oe){this._tokenizationResultBrand=void 0,this.tokens=G,this.endState=oe}}class b{constructor(G,oe){this._encodedTokenizationResultBrand=void 0,this.tokens=G,this.endState=oe}}!function(j){const G=new Map;G.set(0,B.lA.symbolMethod),G.set(1,B.lA.symbolFunction),G.set(2,B.lA.symbolConstructor),G.set(3,B.lA.symbolField),G.set(4,B.lA.symbolVariable),G.set(5,B.lA.symbolClass),G.set(6,B.lA.symbolStruct),G.set(7,B.lA.symbolInterface),G.set(8,B.lA.symbolModule),G.set(9,B.lA.symbolProperty),G.set(10,B.lA.symbolEvent),G.set(11,B.lA.symbolOperator),G.set(12,B.lA.symbolUnit),G.set(13,B.lA.symbolValue),G.set(15,B.lA.symbolEnum),G.set(14,B.lA.symbolConstant),G.set(15,B.lA.symbolEnum),G.set(16,B.lA.symbolEnumMember),G.set(17,B.lA.symbolKeyword),G.set(27,B.lA.symbolSnippet),G.set(18,B.lA.symbolText),G.set(19,B.lA.symbolColor),G.set(20,B.lA.symbolFile),G.set(21,B.lA.symbolReference),G.set(22,B.lA.symbolCustomColor),G.set(23,B.lA.symbolFolder),G.set(24,B.lA.symbolTypeParameter),G.set(25,B.lA.account),G.set(26,B.lA.issues),j.toIcon=function(pe){let ye=G.get(pe);return ye||(console.info("No codicon found for CompletionItemKind "+pe),ye=B.lA.symbolProperty),ye};const de=new Map;de.set("method",0),de.set("function",1),de.set("constructor",2),de.set("field",3),de.set("variable",4),de.set("class",5),de.set("struct",6),de.set("interface",7),de.set("module",8),de.set("property",9),de.set("event",10),de.set("operator",11),de.set("unit",12),de.set("value",13),de.set("constant",14),de.set("enum",15),de.set("enum-member",16),de.set("enumMember",16),de.set("keyword",17),de.set("snippet",27),de.set("text",18),de.set("color",19),de.set("file",20),de.set("reference",21),de.set("customcolor",22),de.set("folder",23),de.set("type-parameter",24),de.set("typeParameter",24),de.set("account",25),de.set("issue",26),j.fromString=function(pe,ye){let ge=de.get(pe);return void 0===ge&&!ye&&(ge=9),ge}}(x||(x={}));var N,O,f=(()=>{return(j=f||(f={}))[j.Automatic=0]="Automatic",j[j.Explicit=1]="Explicit",f;var j})(),E=(()=>{return(j=E||(E={}))[j.Invoke=1]="Invoke",j[j.TriggerCharacter=2]="TriggerCharacter",j[j.ContentChange=3]="ContentChange",E;var j})(),z=(()=>{return(j=z||(z={}))[j.Text=0]="Text",j[j.Read=1]="Read",j[j.Write=2]="Write",z;var j})();function L(j){return j&&D.o.isUri(j.uri)&&g.e.isIRange(j.range)&&(g.e.isIRange(j.originSelectionRange)||g.e.isIRange(j.targetSelectionRange))}!function(j){const G=new Map;G.set(0,B.lA.symbolFile),G.set(1,B.lA.symbolModule),G.set(2,B.lA.symbolNamespace),G.set(3,B.lA.symbolPackage),G.set(4,B.lA.symbolClass),G.set(5,B.lA.symbolMethod),G.set(6,B.lA.symbolProperty),G.set(7,B.lA.symbolField),G.set(8,B.lA.symbolConstructor),G.set(9,B.lA.symbolEnum),G.set(10,B.lA.symbolInterface),G.set(11,B.lA.symbolFunction),G.set(12,B.lA.symbolVariable),G.set(13,B.lA.symbolConstant),G.set(14,B.lA.symbolString),G.set(15,B.lA.symbolNumber),G.set(16,B.lA.symbolBoolean),G.set(17,B.lA.symbolArray),G.set(18,B.lA.symbolObject),G.set(19,B.lA.symbolKey),G.set(20,B.lA.symbolNull),G.set(21,B.lA.symbolEnumMember),G.set(22,B.lA.symbolStruct),G.set(23,B.lA.symbolEvent),G.set(24,B.lA.symbolOperator),G.set(25,B.lA.symbolTypeParameter),j.toIcon=function(de){let fe=G.get(de);return fe||(console.info("No codicon found for SymbolKind "+de),fe=B.lA.symbolProperty),fe}}(N||(N={}));class Z{constructor(G){this.value=G}}Z.Comment=new Z("comment"),Z.Imports=new Z("imports"),Z.Region=new Z("region"),(O||(O={})).is=function(oe){return!(!oe||"object"!=typeof oe)&&"string"==typeof oe.id&&"string"==typeof oe.title};var I=(()=>{return(j=I||(I={}))[j.Type=1]="Type",j[j.Parameter=2]="Parameter",I;var j})();const $=new class{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new Y.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(G){this._onDidChange.fire({changedLanguages:G,changedColorMap:!1})}register(G,oe){return this._map.set(G,oe),this.fire([G]),(0,W.OF)(()=>{this._map.get(G)===oe&&(this._map.delete(G),this.fire([G]))})}registerFactory(G,oe){var de;null===(de=this._factories.get(G))||void 0===de||de.dispose();const fe=new T(this,G,oe);return this._factories.set(G,fe),(0,W.OF)(()=>{const pe=this._factories.get(G);!pe||pe!==fe||(this._factories.delete(G),pe.dispose())})}getOrCreate(G){return M(this,void 0,void 0,function*(){const oe=this.get(G);if(oe)return oe;const de=this._factories.get(G);return!de||de.isResolved?null:(yield de.resolve(),this.get(G))})}get(G){return this._map.get(G)||null}isResolved(G){if(this.get(G))return!0;const de=this._factories.get(G);return!(de&&!de.isResolved)}setColorMap(G){this._colorMap=G,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},80810:(Fe,Ee,p)=>{p.d(Ee,{O:()=>g});const g=(0,p(43569).yh)("languageService")},70950:(Fe,Ee,p)=>{p.d(Ee,{wU:()=>D,V6:()=>g,c$:()=>Y});var D=(()=>{return(M=D||(D={}))[M.None=0]="None",M[M.Indent=1]="Indent",M[M.IndentOutdent=2]="IndentOutdent",M[M.Outdent=3]="Outdent",D;var M})();class g{constructor(i){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=i.open,this.close=i.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(i.notIn))for(let T=0,B=i.notIn.length;T<B;T++)switch(i.notIn[T]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(i){switch(i){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(i,T){if(0===i.getTokenCount())return!0;const B=i.findTokenIndexAtOffset(T-2),P=i.getStandardTokenType(B);return this.isOK(P)}_findNeutralCharacterInRange(i,T){for(let B=i;B<=T;B++){const P=String.fromCharCode(B);if(!this.open.includes(P)&&!this.close.includes(P))return P}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class Y{constructor(i){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const T of i)W(this.autoClosingPairsOpenByStart,T.open.charAt(0),T),W(this.autoClosingPairsOpenByEnd,T.open.charAt(T.open.length-1),T),W(this.autoClosingPairsCloseByStart,T.close.charAt(0),T),W(this.autoClosingPairsCloseByEnd,T.close.charAt(T.close.length-1),T),1===T.close.length&&1===T.open.length&&W(this.autoClosingPairsCloseSingleChar,T.close,T)}}function W(M,i,T){M.has(i)?M.get(i).push(T):M.set(i,[T])}},92119:(Fe,Ee,p)=>{p.d(Ee,{c_:()=>j,zu:()=>Q});var D=p(71040),g=p(40189),Y=p(74243),W=p(54745),M=p(70950),i=p(20595);let T=(()=>{class re{constructor(ve){if(this._autoClosingPairs=ve.autoClosingPairs?ve.autoClosingPairs.map(Ie=>new M.V6(Ie)):ve.brackets?ve.brackets.map(Ie=>new M.V6({open:Ie[0],close:Ie[1]})):[],this._colorizedBracketPairs=ve.colorizedBracketPairs?B(ve.colorizedBracketPairs.map(Ie=>[Ie[0],Ie[1]])):ve.brackets?B(ve.brackets.map(Ie=>[Ie[0],Ie[1]]).filter(Ie=>!("<"===Ie[0]&&">"===Ie[1]))):[],ve.__electricCharacterSupport&&ve.__electricCharacterSupport.docComment){const Ie=ve.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new M.V6({open:Ie.open,close:Ie.close||""}))}this._autoCloseBefore="string"==typeof ve.autoCloseBefore?ve.autoCloseBefore:re.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=ve.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}return re.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",re})();function B(re){return re.filter(([ce,ve])=>""!==ce&&""!==ve)}var P=p(89822),y=p(29675);class C{constructor(ce){this._richEditBrackets=ce}getElectricCharacters(){const ce=[];if(this._richEditBrackets)for(const ve of this._richEditBrackets.brackets)for(const Ie of ve.close){const We=Ie.charAt(Ie.length-1);ce.push(We)}return(0,P.EB)(ce)}onElectricCharacter(ce,ve,Ie){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const We=ve.findTokenIndexAtOffset(Ie-1);if((0,i.Bu)(ve.getStandardTokenType(We)))return null;const Ue=this._richEditBrackets.reversedRegex,ue=ve.getLineContent().substring(0,Ie-1)+ce,Ce=y.Vr.findPrevBracketInRange(Ue,1,ue,0,ue.length);if(!Ce)return null;const Ae=ue.substring(Ce.startColumn-1,Ce.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Ae])return null;const Ye=ve.getActualLineContentBefore(Ce.startColumn-1);return/^\s*$/.test(Ye)?{matchOpenBracket:Ae}:null}}function b(re){return re.global&&(re.lastIndex=0),!0}class x{constructor(ce){this._indentationRules=ce}shouldIncrease(ce){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&b(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(ce))}shouldDecrease(ce){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&b(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(ce))}shouldIndentNextLine(ce){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&b(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(ce))}shouldIgnore(ce){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&b(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(ce))}getIndentMetadata(ce){let ve=0;return this.shouldIncrease(ce)&&(ve+=1),this.shouldDecrease(ce)&&(ve+=2),this.shouldIndentNextLine(ce)&&(ve+=4),this.shouldIgnore(ce)&&(ve+=8),ve}}var f=p(13226);class E{constructor(ce){(ce=ce||{}).brackets=ce.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],ce.brackets.forEach(ve=>{const Ie=E._createOpenBracketRegExp(ve[0]),We=E._createCloseBracketRegExp(ve[1]);Ie&&We&&this._brackets.push({open:ve[0],openRegExp:Ie,close:ve[1],closeRegExp:We})}),this._regExpRules=ce.onEnterRules||[]}onEnter(ce,ve,Ie,We){if(ce>=3)for(let Ue=0,ue=this._regExpRules.length;Ue<ue;Ue++){const Ce=this._regExpRules[Ue];if([{reg:Ce.beforeText,text:Ie},{reg:Ce.afterText,text:We},{reg:Ce.previousLineText,text:ve}].every(et=>!et.reg||(et.reg.lastIndex=0,et.reg.test(et.text))))return Ce.action}if(ce>=2&&Ie.length>0&&We.length>0)for(let Ue=0,ue=this._brackets.length;Ue<ue;Ue++){const Ce=this._brackets[Ue];if(Ce.openRegExp.test(Ie)&&Ce.closeRegExp.test(We))return{indentAction:M.wU.IndentOutdent}}if(ce>=2&&Ie.length>0)for(let Ue=0,ue=this._brackets.length;Ue<ue;Ue++)if(this._brackets[Ue].openRegExp.test(Ie))return{indentAction:M.wU.Indent};return null}static _createOpenBracketRegExp(ce){let ve=Y.ec(ce);return/\B/.test(ve.charAt(0))||(ve="\\b"+ve),ve+="\\s*$",E._safeRegExp(ve)}static _createCloseBracketRegExp(ce){let ve=Y.ec(ce);return/\B/.test(ve.charAt(ve.length-1))||(ve+="\\b"),ve="^\\s*"+ve,E._safeRegExp(ve)}static _safeRegExp(ce){try{return new RegExp(ce)}catch(ve){return(0,f.dL)(ve),null}}}var z=p(43569),L=p(13011),N=p(80810),Z=p(26033),I=function(re,ce){return function(ve,Ie){ce(ve,Ie,re)}};class ${constructor(ce){this.languageId=ce}affects(ce){return!this.languageId||this.languageId===ce}}const j=(0,z.yh)("languageConfigurationService");let G=class extends g.JT{constructor(ce,ve){super(),this.configurationService=ce,this.languageService=ve,this.onDidChangeEmitter=this._register(new D.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const Ie=new Set(Object.values(de));this._register(this.configurationService.onDidChangeConfiguration(We=>{const Ue=We.change.keys.some(Ce=>Ie.has(Ce)),ue=We.change.overrides.filter(([Ce,Ae])=>Ae.some(et=>Ie.has(et))).map(([Ce])=>Ce);if(Ue)this.configurations.clear(),this.onDidChangeEmitter.fire(new $(void 0));else for(const Ce of ue)this.languageService.isRegisteredLanguageId(Ce)&&(this.configurations.delete(Ce),this.onDidChangeEmitter.fire(new $(Ce)))})),this._register(Q.onDidChange(We=>{this.configurations.delete(We.languageId),this.onDidChangeEmitter.fire(new $(We.languageId))}))}getLanguageConfiguration(ce){let ve=this.configurations.get(ce);return ve||(ve=function(re,ce,ve){let Ie=Q.getLanguageConfiguration(re);if(!Ie){if(!ve.isRegisteredLanguageId(re))throw new Error(`Language id "${re}" is not configured nor known`);Ie=new J(re,{})}const We=function(re,ce){const ve=ce.getValue(de.brackets,{overrideIdentifier:re}),Ie=ce.getValue(de.colorizedBracketPairs,{overrideIdentifier:re});return{brackets:pe(ve),colorizedBracketPairs:pe(Ie)}}(Ie.languageId,ce),Ue=le([Ie.underlyingConfig,We]);return new J(Ie.languageId,Ue)}(ce,this.configurationService,this.languageService),this.configurations.set(ce,ve)),ve}};G=function(re,ce,ve,Ie){var ue,We=arguments.length,Ue=We<3?ce:null===Ie?Ie=Object.getOwnPropertyDescriptor(ce,ve):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(re,ce,ve,Ie);else for(var Ce=re.length-1;Ce>=0;Ce--)(ue=re[Ce])&&(Ue=(We<3?ue(Ue):We>3?ue(ce,ve,Ue):ue(ce,ve))||Ue);return We>3&&Ue&&Object.defineProperty(ce,ve,Ue),Ue}([I(0,L.Ui),I(1,N.O)],G);const de={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function pe(re){if(Array.isArray(re))return re.map(ce=>{if(Array.isArray(ce)&&2===ce.length)return[ce[0],ce[1]]}).filter(ce=>!!ce)}class ye{constructor(ce){this.languageId=ce}}const Q=new class{constructor(){this._entries=new Map,this._onDidChange=new D.Q5,this.onDidChange=this._onDidChange.event}register(ce,ve,Ie=0){let We=this._entries.get(ce);We||(We=new ee(ce),this._entries.set(ce,We));const Ue=We.register(ve,Ie);return this._onDidChange.fire(new ye(ce)),(0,g.OF)(()=>{Ue.dispose(),this._onDidChange.fire(new ye(ce))})}getLanguageConfiguration(ce){const ve=this._entries.get(ce);return(null==ve?void 0:ve.getResolvedConfiguration())||null}getComments(ce){const ve=this.getLanguageConfiguration(ce);return ve&&ve.comments||null}getIndentRulesSupport(ce){const ve=this.getLanguageConfiguration(ce);return ve&&ve.indentRulesSupport||null}getPrecedingValidLine(ce,ve,Ie){const We=ce.getLanguageIdAtPosition(ve,0);if(ve>1){let Ue,ue=-1;for(Ue=ve-1;Ue>=1;Ue--){if(ce.getLanguageIdAtPosition(Ue,0)!==We)return ue;const Ce=ce.getLineContent(Ue);if(!Ie.shouldIgnore(Ce)&&!/^\s+$/.test(Ce)&&""!==Ce)return Ue;ue=Ue}}return-1}getInheritIndentForLine(ce,ve,Ie,We=!0){if(ce<4)return null;const Ue=this.getIndentRulesSupport(ve.getLanguageId());if(!Ue)return null;if(Ie<=1)return{indentation:"",action:null};const ue=this.getPrecedingValidLine(ve,Ie,Ue);if(ue<0)return null;if(ue<1)return{indentation:"",action:null};const Ce=ve.getLineContent(ue);if(Ue.shouldIncrease(Ce)||Ue.shouldIndentNextLine(Ce))return{indentation:Y.V8(Ce),action:M.wU.Indent,line:ue};if(Ue.shouldDecrease(Ce))return{indentation:Y.V8(Ce),action:null,line:ue};{if(1===ue)return{indentation:Y.V8(ve.getLineContent(ue)),action:null,line:ue};const Ae=ue-1,et=Ue.getIndentMetadata(ve.getLineContent(Ae));if(!(3&et)&&4&et){let Ye=0;for(let Pe=Ae-1;Pe>0;Pe--)if(!Ue.shouldIndentNextLine(ve.getLineContent(Pe))){Ye=Pe;break}return{indentation:Y.V8(ve.getLineContent(Ye+1)),action:null,line:Ye+1}}if(We)return{indentation:Y.V8(ve.getLineContent(ue)),action:null,line:ue};for(let Ye=ue;Ye>0;Ye--){const Pe=ve.getLineContent(Ye);if(Ue.shouldIncrease(Pe))return{indentation:Y.V8(Pe),action:M.wU.Indent,line:Ye};if(Ue.shouldIndentNextLine(Pe)){let st=0;for(let ut=Ye-1;ut>0;ut--)if(!Ue.shouldIndentNextLine(ve.getLineContent(Ye))){st=ut;break}return{indentation:Y.V8(ve.getLineContent(st+1)),action:null,line:st+1}}if(Ue.shouldDecrease(Pe))return{indentation:Y.V8(Pe),action:null,line:Ye}}return{indentation:Y.V8(ve.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(ce,ve,Ie,We,Ue){if(ce<4)return null;const ue=this.getLanguageConfiguration(Ie);if(!ue)return null;const Ce=this.getIndentRulesSupport(Ie);if(!Ce)return null;const Ae=this.getInheritIndentForLine(ce,ve,We),et=ve.getLineContent(We);if(Ae){const Ye=Ae.line;if(void 0!==Ye){const Pe=ue.onEnter(ce,"",ve.getLineContent(Ye),"");if(Pe){let st=Y.V8(ve.getLineContent(Ye));return Pe.removeText&&(st=st.substring(0,st.length-Pe.removeText)),Pe.indentAction===M.wU.Indent||Pe.indentAction===M.wU.IndentOutdent?st=Ue.shiftIndent(st):Pe.indentAction===M.wU.Outdent&&(st=Ue.unshiftIndent(st)),Ce.shouldDecrease(et)&&(st=Ue.unshiftIndent(st)),Pe.appendText&&(st+=Pe.appendText),Y.V8(st)}}return Ce.shouldDecrease(et)?Ae.action===M.wU.Indent?Ae.indentation:Ue.unshiftIndent(Ae.indentation):Ae.action===M.wU.Indent?Ue.shiftIndent(Ae.indentation):Ae.indentation}return null}getIndentForEnter(ce,ve,Ie,We){if(ce<4)return null;ve.forceTokenization(Ie.startLineNumber);const Ue=ve.getLineTokens(Ie.startLineNumber),ue=(0,i.wH)(Ue,Ie.startColumn-1),Ce=ue.getLineContent();let et,Ye,Ae=!1;ue.firstCharOffset>0&&Ue.getLanguageId(0)!==ue.languageId?(Ae=!0,et=Ce.substr(0,Ie.startColumn-1-ue.firstCharOffset)):et=Ue.getLineContent().substring(0,Ie.startColumn-1),Ye=Ie.isEmpty()?Ce.substr(Ie.startColumn-1-ue.firstCharOffset):this.getScopedLineTokens(ve,Ie.endLineNumber,Ie.endColumn).getLineContent().substr(Ie.endColumn-1-ue.firstCharOffset);const Pe=this.getIndentRulesSupport(ue.languageId);if(!Pe)return null;const st=et,ut=Y.V8(et),nt={getLineTokens:Ct=>ve.getLineTokens(Ct),getLanguageId:()=>ve.getLanguageId(),getLanguageIdAtPosition:(Ct,jt)=>ve.getLanguageIdAtPosition(Ct,jt),getLineContent:Ct=>Ct===Ie.startLineNumber?st:ve.getLineContent(Ct)},Se=Y.V8(Ue.getLineContent()),Ne=this.getInheritIndentForLine(ce,nt,Ie.startLineNumber+1);if(!Ne){const Ct=Ae?Se:ut;return{beforeEnter:Ct,afterEnter:Ct}}let at=Ae?Se:Ne.indentation;return Ne.action===M.wU.Indent&&(at=We.shiftIndent(at)),Pe.shouldDecrease(Ye)&&(at=We.unshiftIndent(at)),{beforeEnter:Ae?Se:ut,afterEnter:at}}getIndentActionForType(ce,ve,Ie,We,Ue){if(ce<4)return null;const ue=this.getScopedLineTokens(ve,Ie.startLineNumber,Ie.startColumn);if(ue.firstCharOffset)return null;const Ce=this.getIndentRulesSupport(ue.languageId);if(!Ce)return null;const Ae=ue.getLineContent(),et=Ae.substr(0,Ie.startColumn-1-ue.firstCharOffset);let Ye;if(Ye=Ie.isEmpty()?Ae.substr(Ie.startColumn-1-ue.firstCharOffset):this.getScopedLineTokens(ve,Ie.endLineNumber,Ie.endColumn).getLineContent().substr(Ie.endColumn-1-ue.firstCharOffset),!Ce.shouldDecrease(et+Ye)&&Ce.shouldDecrease(et+We+Ye)){const Pe=this.getInheritIndentForLine(ce,ve,Ie.startLineNumber,!1);if(!Pe)return null;let st=Pe.indentation;return Pe.action!==M.wU.Indent&&(st=Ue.unshiftIndent(st)),st}return null}getIndentMetadata(ce,ve){const Ie=this.getIndentRulesSupport(ce.getLanguageId());return!Ie||ve<1||ve>ce.getLineCount()?null:Ie.getIndentMetadata(ce.getLineContent(ve))}getEnterAction(ce,ve,Ie){const We=this.getScopedLineTokens(ve,Ie.startLineNumber,Ie.startColumn),Ue=this.getLanguageConfiguration(We.languageId);if(!Ue)return null;const ue=We.getLineContent(),Ce=ue.substr(0,Ie.startColumn-1-We.firstCharOffset);let Ae;Ae=Ie.isEmpty()?ue.substr(Ie.startColumn-1-We.firstCharOffset):this.getScopedLineTokens(ve,Ie.endLineNumber,Ie.endColumn).getLineContent().substr(Ie.endColumn-1-We.firstCharOffset);let et="";if(Ie.startLineNumber>1&&0===We.firstCharOffset){const Se=this.getScopedLineTokens(ve,Ie.startLineNumber-1);Se.languageId===We.languageId&&(et=Se.getLineContent())}const Ye=Ue.onEnter(ce,et,Ce,Ae);if(!Ye)return null;const Pe=Ye.indentAction;let st=Ye.appendText;const ut=Ye.removeText||0;st?Pe===M.wU.Indent&&(st="\t"+st):st=Pe===M.wU.Indent||Pe===M.wU.IndentOutdent?"\t":"";let nt=this.getIndentationAtPosition(ve,Ie.startLineNumber,Ie.startColumn);return ut&&(nt=nt.substring(0,nt.length-ut)),{indentAction:Pe,appendText:st,removeText:ut,indentation:nt}}getIndentationAtPosition(ce,ve,Ie){const We=ce.getLineContent(ve);let Ue=Y.V8(We);return Ue.length>Ie-1&&(Ue=Ue.substring(0,Ie-1)),Ue}getScopedLineTokens(ce,ve,Ie){ce.forceTokenization(ve);const We=ce.getLineTokens(ve),Ue=void 0===Ie?ce.getLineMaxColumn(ve)-1:Ie-1;return(0,i.wH)(We,Ue)}};class ee{constructor(ce){this.languageId=ce,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(ce,ve){const Ie=new te(ce,ve,++this._order);return this._entries.push(Ie),this._resolved=null,(0,g.OF)(()=>{for(let We=0;We<this._entries.length;We++)if(this._entries[We]===Ie){this._entries.splice(We,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const ce=this._resolve();ce&&(this._resolved=new J(this.languageId,ce))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(te.cmp),le(this._entries.map(ce=>ce.configuration)))}}function le(re){let ce={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const ve of re)ce={comments:ve.comments||ce.comments,brackets:ve.brackets||ce.brackets,wordPattern:ve.wordPattern||ce.wordPattern,indentationRules:ve.indentationRules||ce.indentationRules,onEnterRules:ve.onEnterRules||ce.onEnterRules,autoClosingPairs:ve.autoClosingPairs||ce.autoClosingPairs,surroundingPairs:ve.surroundingPairs||ce.surroundingPairs,autoCloseBefore:ve.autoCloseBefore||ce.autoCloseBefore,folding:ve.folding||ce.folding,colorizedBracketPairs:ve.colorizedBracketPairs||ce.colorizedBracketPairs,__electricCharacterSupport:ve.__electricCharacterSupport||ce.__electricCharacterSupport};return ce}class te{constructor(ce,ve,Ie){this.configuration=ce,this.priority=ve,this.order=Ie}static cmp(ce,ve){return ce.priority===ve.priority?ce.order-ve.order:ce.priority-ve.priority}}class J{constructor(ce,ve){this.languageId=ce,this.underlyingConfig=ve,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new E(this.underlyingConfig):null,this.comments=J._handleComments(this.underlyingConfig),this.characterPair=new T(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||W.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new x(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,W.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new y.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new C(this.brackets)),this._electricCharacter}onEnter(ce,ve,Ie,We){return this._onEnterSupport?this._onEnterSupport.onEnter(ce,ve,Ie,We):null}getAutoClosingPairs(){return new M.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(ce){const ve=ce.comments;if(!ve)return null;const Ie={};if(ve.lineComment&&(Ie.lineCommentToken=ve.lineComment),ve.blockComment){const[We,Ue]=ve.blockComment;Ie.blockCommentStartToken=We,Ie.blockCommentEndToken=Ue}return Ie}}(0,Z.z)(j,G)},12282:(Fe,Ee,p)=>{p.d(Ee,{dQ:()=>P,bd:()=>y});var D=p(12918),g=p(71040),Y=p(92119),W=p(63779),M=p(48343),i=p(92778);const P=new class{constructor(){this._onDidChangeLanguages=new g.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(x){return this._languages.push(x),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let f=0,E=this._languages.length;f<E;f++)if(this._languages[f]===x)return void this._languages.splice(f,1)}}}getLanguages(){return this._languages}};W.B.add("editor.modesRegistry",P);const y="plaintext";P.registerLanguage({id:y,extensions:[".txt"],aliases:[D.N("plainText.alias","Plain Text"),"text"],mimetypes:[M.v.text]}),Y.zu.register(y,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),W.B.as(i.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},88057:(Fe,Ee,p)=>{p.d(Ee,{TJ:()=>g,Ri:()=>Y,Dy:()=>W});var D=p(33979);const g=new class{clone(){return this}equals(M){return this===M}};function Y(M,i){return new D.hG([new D.WU(0,"",M)],i)}function W(M,i){const T=new Uint32Array(2);return T[0]=0,T[1]=(16384|M<<0|2<<23)>>>0,new D.DI(T,null===i?g:i)}},20595:(Fe,Ee,p)=>{function D(W,M){const i=W.getCount(),T=W.findTokenIndexAtOffset(M),B=W.getLanguageId(T);let P=T;for(;P+1<i&&W.getLanguageId(P+1)===B;)P++;let y=T;for(;y>0&&W.getLanguageId(y-1)===B;)y--;return new g(W,B,y,P+1,W.getStartOffset(y),W.getEndOffset(P))}p.d(Ee,{wH:()=>D,Bu:()=>Y});class g{constructor(M,i,T,B,P,y){this._scopedLineTokensBrand=void 0,this._actual=M,this.languageId=i,this._firstTokenIndex=T,this._lastTokenIndex=B,this.firstCharOffset=P,this._lastCharOffset=y}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(M){return this._actual.getLineContent().substring(0,this.firstCharOffset+M)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(M){return this._actual.findTokenIndexAtOffset(M+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(M){return this._actual.getStandardTokenType(M+this._firstTokenIndex)}}function Y(W){return 0!=(3&W)}},29675:(Fe,Ee,p)=>{p.d(Ee,{EA:()=>i,Vr:()=>L});var D=p(74243),g=p(53269),Y=p(1873);class W{constructor(Z,O,I,$,j,G){this._richEditBracketBrand=void 0,this.languageId=Z,this.index=O,this.open=I,this.close=$,this.forwardRegex=j,this.reversedRegex=G,this._openSet=W._toSet(this.open),this._closeSet=W._toSet(this.close)}isOpen(Z){return this._openSet.has(Z)}isClose(Z){return this._closeSet.has(Z)}static _toSet(Z){const O=new Set;for(const I of Z)O.add(I);return O}}class i{constructor(Z,O){this._richEditBracketsBrand=void 0;const I=function(N){const Z=N.length;N=N.map(G=>[G[0].toLowerCase(),G[1].toLowerCase()]);const O=[];for(let G=0;G<Z;G++)O[G]=G;const I=(G,oe)=>{const[de,fe]=G,[pe,ye]=oe;return de===pe||de===ye||fe===pe||fe===ye},$=(G,oe)=>{const de=Math.min(G,oe),fe=Math.max(G,oe);for(let pe=0;pe<Z;pe++)O[pe]===fe&&(O[pe]=de)};for(let G=0;G<Z;G++){const oe=N[G];for(let de=G+1;de<Z;de++)I(oe,N[de])&&$(O[G],O[de])}const j=[];for(let G=0;G<Z;G++){const oe=[],de=[];for(let fe=0;fe<Z;fe++)if(O[fe]===G){const[pe,ye]=N[fe];oe.push(pe),de.push(ye)}oe.length>0&&j.push({open:oe,close:de})}return j}(O);this.brackets=I.map(($,j)=>new W(Z,j,$.open,$.close,function(N,Z,O,I){let $=[];$=$.concat(N),$=$.concat(Z);for(let j=0,G=$.length;j<G;j++)T($[j],O,I,$);return $=P($),$.sort(B),$.reverse(),E($)}($.open,$.close,I,j),function(N,Z,O,I){let $=[];$=$.concat(N),$=$.concat(Z);for(let j=0,G=$.length;j<G;j++)T($[j],O,I,$);return $=P($),$.sort(B),$.reverse(),E($.map(z))}($.open,$.close,I,j))),this.forwardRegex=function(N){let Z=[];for(const O of N){for(const I of O.open)Z.push(I);for(const I of O.close)Z.push(I)}return Z=P(Z),E(Z)}(this.brackets),this.reversedRegex=function(N){let Z=[];for(const O of N){for(const I of O.open)Z.push(I);for(const I of O.close)Z.push(I)}return Z=P(Z),E(Z.map(z))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const $ of this.brackets){for(const j of $.open)this.textIsBracket[j]=$,this.textIsOpenBracket[j]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,j.length);for(const j of $.close)this.textIsBracket[j]=$,this.textIsOpenBracket[j]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,j.length)}}}function T(N,Z,O,I){for(let $=0,j=Z.length;$<j;$++){if($===O)continue;const G=Z[$];for(const oe of G.open)oe.indexOf(N)>=0&&I.push(oe);for(const oe of G.close)oe.indexOf(N)>=0&&I.push(oe)}}function B(N,Z){return N.length-Z.length}function P(N){if(N.length<=1)return N;const Z=[],O=new Set;for(const I of N)O.has(I)||(Z.push(I),O.add(I));return Z}function f(N){const Z=/^[\w ]+$/.test(N);return N=D.ec(N),Z?`\\b${N}\\b`:N}function E(N){const Z=`(${N.map(f).join(")|(")})`;return D.GF(Z,!0)}const z=function(){let Z=null,O=null;return function($){return Z!==$&&(Z=$,O=function(I){if(g.lZ){const $=new Uint16Array(I.length);let j=0;for(let G=I.length-1;G>=0;G--)$[j++]=I.charCodeAt(G);return g.oe().decode($)}{const $=[];let j=0;for(let G=I.length-1;G>=0;G--)$[j++]=I.charAt(G);return $.join("")}}(Z)),O}}();class L{static _findPrevBracketInText(Z,O,I,$){const j=I.match(Z);if(!j)return null;const de=$+(I.length-(j.index||0));return new Y.e(O,de-j[0].length+1,O,de+1)}static findPrevBracketInRange(Z,O,I,$,j){const oe=z(I).substring(I.length-j,I.length-$);return this._findPrevBracketInText(Z,O,oe,$)}static findNextBracketInText(Z,O,I,$){const j=I.match(Z);if(!j)return null;const oe=j[0].length;if(0===oe)return null;const de=$+(j.index||0);return new Y.e(O,de+1,O,de+1+oe)}static findNextBracketInRange(Z,O,I,$,j){const G=I.substring($,j);return this.findNextBracketInText(Z,O,G,$)}}},42137:(Fe,Ee,p)=>{p.d(Ee,{C2:()=>T,Fq:()=>B});var D=p(74243),g=p(5928),Y=p(33979),W=p(88057);const i={getInitialState:()=>W.TJ,tokenizeEncoded:(y,C,b)=>(0,W.Dy)(0,b)};function T(y,C,b){return function(y,C,b,x){return new(b||(b=Promise))(function(E,z){function L(O){try{Z(x.next(O))}catch(I){z(I)}}function N(O){try{Z(x.throw(O))}catch(I){z(I)}}function Z(O){O.done?E(O.value):function(E){return E instanceof b?E:new b(function(z){z(E)})}(O.value).then(L,N)}Z((x=x.apply(y,C||[])).next())})}(this,void 0,void 0,function*(){if(!b)return P(C,y.languageIdCodec,i);const x=yield Y.RW.getOrCreate(b);return P(C,y.languageIdCodec,x||i)})}function B(y,C,b,x,f,E,z){let L="<div>",N=x,Z=0,O=!0;for(let I=0,$=C.getCount();I<$;I++){const j=C.getEndOffset(I);if(j<=x)continue;let G="";for(;N<j&&N<f;N++){const oe=y.charCodeAt(N);switch(oe){case 9:{let de=E-(N+Z)%E;for(Z+=de-1;de>0;)z&&O?(G+="&#160;",O=!1):(G+=" ",O=!0),de--;break}case 60:G+="&lt;",O=!1;break;case 62:G+="&gt;",O=!1;break;case 38:G+="&amp;",O=!1;break;case 0:G+="&#00;",O=!1;break;case 65279:case 8232:case 8233:case 133:G+="\ufffd",O=!1;break;case 13:G+="&#8203",O=!1;break;case 32:z&&O?(G+="&#160;",O=!1):(G+=" ",O=!0);break;default:G+=String.fromCharCode(oe),O=!1}}if(L+=`<span style="${C.getInlineStyle(I,b)}">${G}</span>`,j>f||N>=f)break}return L+="</div>",L}function P(y,C,b){let x='<div class="monaco-tokenized-source">';const f=D.uq(y);let E=b.getInitialState();for(let z=0,L=f.length;z<L;z++){const N=f[z];z>0&&(x+="<br/>");const Z=b.tokenizeEncoded(N,!0,E);g.A.convertToEndOffset(Z.tokens,N.length);const I=new g.A(Z.tokens,N,C).inflate();let $=0;for(let j=0,G=I.getCount();j<G;j++){const oe=I.getClassName(j),de=I.getEndOffset(j);x+=`<span class="${oe}">${D.YU(N.substring($,de))}</span>`,$=de}E=Z.endState}return x+="</div>",x}},80067:(Fe,Ee,p)=>{p.d(Ee,{sh:()=>g,F5:()=>Y,RM:()=>W,dJ:()=>M,tk:()=>i,Qi:()=>T,Tx:()=>B,je:()=>P,pt:()=>y});var D=p(60842),g=(()=>{return(C=g||(g={}))[C.Left=1]="Left",C[C.Center=2]="Center",C[C.Right=4]="Right",C[C.Full=7]="Full",g;var C})(),Y=(()=>{return(C=Y||(Y={}))[C.Inline=1]="Inline",C[C.Gutter=2]="Gutter",Y;var C})(),W=(()=>{return(C=W||(W={}))[C.Both=0]="Both",C[C.Right=1]="Right",C[C.Left=2]="Left",C[C.None=3]="None",W;var C})();class M{constructor(b){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|b.tabSize),this.indentSize=0|b.tabSize,this.insertSpaces=Boolean(b.insertSpaces),this.defaultEOL=0|b.defaultEOL,this.trimAutoWhitespace=Boolean(b.trimAutoWhitespace),this.bracketPairColorizationOptions=b.bracketPairColorizationOptions}equals(b){return this.tabSize===b.tabSize&&this.indentSize===b.indentSize&&this.insertSpaces===b.insertSpaces&&this.defaultEOL===b.defaultEOL&&this.trimAutoWhitespace===b.trimAutoWhitespace&&(0,D.fS)(this.bracketPairColorizationOptions,b.bracketPairColorizationOptions)}createChangeEvent(b){return{tabSize:this.tabSize!==b.tabSize,indentSize:this.indentSize!==b.indentSize,insertSpaces:this.insertSpaces!==b.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==b.trimAutoWhitespace}}}class i{constructor(b,x){this._findMatchBrand=void 0,this.range=b,this.matches=x}}class T{constructor(b,x,f,E,z,L){this.identifier=b,this.range=x,this.text=f,this.forceMoveMarkers=E,this.isAutoWhitespaceEdit=z,this._isTracked=L}}class B{constructor(b,x,f){this.regex=b,this.wordSeparators=x,this.simpleSearch=f}}class P{constructor(b,x,f){this.reverseEdits=b,this.changes=x,this.trimAutoWhitespaceLineNumbers=f}}function y(C){return!C.isTooLargeForSyncing()&&!C.isForSimpleWidget}},45612:(Fe,Ee,p)=>{p.d(Ee,{Kd:()=>M,Y0:()=>i,BH:()=>x,n2:()=>f,Dm:()=>E});var D=p(90784),g=p(79615),Y=p(25453);class W{constructor(L){this._length=L}get length(){return this._length}}class M extends W{constructor(L,N,Z,O,I){super(L),this.openingBracket=N,this.child=Z,this.closingBracket=O,this.missingOpeningBracketIds=I}static create(L,N,Z){let O=L.length;return N&&(O=(0,g.Ii)(O,N.length)),Z&&(O=(0,g.Ii)(O,Z.length)),new M(O,L,N,Z,N?N.missingOpeningBracketIds:Y.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(L){switch(L){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const L=new Array;return L.push(this.openingBracket),this.child&&L.push(this.child),this.closingBracket&&L.push(this.closingBracket),L}canBeReused(L){return!(null===this.closingBracket||L.intersects(this.missingOpeningBracketIds))}deepClone(){return new M(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(L,N){return this.child?this.child.computeMinIndentation((0,g.Ii)(L,this.openingBracket.length),N):Number.MAX_SAFE_INTEGER}}class i extends W{constructor(L,N,Z){super(L),this.listHeight=N,this._missingOpeningBracketIds=Z,this.cachedMinIndentation=-1}static create23(L,N,Z,O=!1){let I=L.length,$=L.missingOpeningBracketIds;if(L.listHeight!==N.listHeight)throw new Error("Invalid list heights");if(I=(0,g.Ii)(I,N.length),$=$.merge(N.missingOpeningBracketIds),Z){if(L.listHeight!==Z.listHeight)throw new Error("Invalid list heights");I=(0,g.Ii)(I,Z.length),$=$.merge(Z.missingOpeningBracketIds)}return O?new B(I,L.listHeight+1,L,N,Z,$):new T(I,L.listHeight+1,L,N,Z,$)}static getEmpty(){return new y(g.xl,0,[],Y.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const L=this.childrenLength;if(0===L)return;const N=this.getChild(L-1),Z=4===N.kind?N.toMutable():N;return N!==Z&&this.setChild(L-1,Z),Z}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const N=this.getChild(0),Z=4===N.kind?N.toMutable():N;return N!==Z&&this.setChild(0,Z),Z}canBeReused(L){if(L.intersects(this.missingOpeningBracketIds))return!1;let Z,N=this;for(;4===N.kind&&(Z=N.childrenLength)>0;)N=N.getChild(Z-1);return N.canBeReused(L)}handleChildrenChanged(){this.throwIfImmutable();const L=this.childrenLength;let N=this.getChild(0).length,Z=this.getChild(0).missingOpeningBracketIds;for(let O=1;O<L;O++){const I=this.getChild(O);N=(0,g.Ii)(N,I.length),Z=Z.merge(I.missingOpeningBracketIds)}this._length=N,this._missingOpeningBracketIds=Z,this.cachedMinIndentation=-1}computeMinIndentation(L,N){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let Z=Number.MAX_SAFE_INTEGER,O=L;for(let I=0;I<this.childrenLength;I++){const $=this.getChild(I);$&&(Z=Math.min(Z,$.computeMinIndentation(O,N)),O=(0,g.Ii)(O,$.length))}return this.cachedMinIndentation=Z,Z}}class T extends i{constructor(L,N,Z,O,I,$){super(L,N,$),this._item1=Z,this._item2=O,this._item3=I}get childrenLength(){return null!==this._item3?3:2}getChild(L){switch(L){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(L,N){switch(L){case 0:return void(this._item1=N);case 1:return void(this._item2=N);case 2:return void(this._item3=N)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new T(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(L){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=L,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const L=this._item3;return this._item3=null,this.handleChildrenChanged(),L}prependChildOfSameHeight(L){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=L,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const L=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),L}toMutable(){return this}}class B extends T{toMutable(){return new T(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class P extends i{constructor(L,N,Z,O){super(L,N,O),this._children=Z}get childrenLength(){return this._children.length}getChild(L){return this._children[L]}setChild(L,N){this._children[L]=N}get children(){return this._children}deepClone(){const L=new Array(this._children.length);for(let N=0;N<this._children.length;N++)L[N]=this._children[N].deepClone();return new P(this.length,this.listHeight,L,this.missingOpeningBracketIds)}appendChildOfSameHeight(L){this.throwIfImmutable(),this._children.push(L),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const L=this._children.pop();return this.handleChildrenChanged(),L}prependChildOfSameHeight(L){this.throwIfImmutable(),this._children.unshift(L),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const L=this._children.shift();return this.handleChildrenChanged(),L}toMutable(){return this}}class y extends P{toMutable(){return new P(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const C=[];class b extends W{get listHeight(){return 0}get childrenLength(){return 0}getChild(L){return null}get children(){return C}deepClone(){return this}}class x extends b{get kind(){return 0}get missingOpeningBracketIds(){return Y.tS.getEmpty()}canBeReused(L){return!0}computeMinIndentation(L,N){const Z=(0,g.Hw)(L),O=(0===Z.columnCount?Z.lineCount:Z.lineCount+1)+1,I=(0,g.W9)((0,g.Ii)(L,this.length))+1;let $=Number.MAX_SAFE_INTEGER;for(let j=O;j<=I;j++){const G=N.getLineFirstNonWhitespaceColumn(j),oe=N.getLineContent(j);if(0===G)continue;const de=D.i.visibleColumnFromColumn(oe,G,N.getOptions().tabSize);$=Math.min($,de)}return $}}class f extends b{constructor(L,N,Z){super(L),this.languageId=N,this.bracketIds=Z}static create(L,N,Z){return new f(L,N,Z)}get kind(){return 1}get missingOpeningBracketIds(){return Y.tS.getEmpty()}canBeReused(L){return!1}computeMinIndentation(L,N){return Number.MAX_SAFE_INTEGER}}class E extends b{constructor(L,N){super(N),this.missingOpeningBracketIds=L}get kind(){return 3}canBeReused(L){return!L.intersects(this.missingOpeningBracketIds)}computeMinIndentation(L,N){return Number.MAX_SAFE_INTEGER}}},91500:(Fe,Ee,p)=>{p.d(Ee,{Q:()=>g,Y:()=>Y});var D=p(79615);class g{constructor(i,T,B){this.startOffset=i,this.endOffset=T,this.newLength=B}}class Y{constructor(i,T){this.documentLength=T,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=i.map(B=>W.from(B))}getOffsetBeforeChange(i){return this.adjustNextEdit(i),this.translateCurToOld(i)}getDistanceToNextChange(i){this.adjustNextEdit(i);const T=this.edits[this.nextEditIdx],B=T?this.translateOldToCur(T.offsetObj):this.documentLength;return(0,D.BE)(i,B)}translateOldToCur(i){return(0,D.Hg)(i.lineCount+this.deltaOldToNewLineCount,i.lineCount===this.deltaLineIdxInOld?i.columnCount+this.deltaOldToNewColumnCount:i.columnCount)}translateCurToOld(i){const T=(0,D.Hw)(i);return(0,D.Hg)(T.lineCount-this.deltaOldToNewLineCount,T.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?T.columnCount-this.deltaOldToNewColumnCount:T.columnCount)}adjustNextEdit(i){for(;this.nextEditIdx<this.edits.length;){const T=this.edits[this.nextEditIdx],B=this.translateOldToCur(T.endOffsetAfterObj);if(!(0,D.By)(B,i))break;{this.nextEditIdx++;const P=(0,D.Hw)(B),y=(0,D.Hw)(this.translateOldToCur(T.endOffsetBeforeObj));this.deltaOldToNewLineCount+=P.lineCount-y.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===T.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(P.columnCount-y.columnCount),this.deltaLineIdxInOld=T.endOffsetBeforeObj.lineCount}}}}class W{constructor(i,T,B){this.endOffsetBeforeObj=(0,D.Hw)(T),this.endOffsetAfterObj=(0,D.Hw)((0,D.Ii)(i,B)),this.offsetObj=(0,D.Hw)(i)}static from(i){return new W(i.startOffset,i.endOffset,i.newLength)}}},67875:(Fe,Ee,p)=>{p.d(Ee,{Z:()=>B});var D=p(74243),g=p(45612),Y=p(79615),W=p(25453),M=p(21944);class i{constructor(y){this.map=y,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(y,C){function b(L,N){return C.getKey(`${L}:::${N}`)}const x=y.characterPair.getColorizedBrackets(),f=new Map,E=new Set;for(const[L,N]of x){E.add(L);let Z=f.get(N);const O=b(y.languageId,L);Z||(Z={openingBrackets:W.tS.getEmpty(),first:O},f.set(N,Z)),Z.openingBrackets=Z.openingBrackets.add(O,W.Qw)}const z=new Map;for(const[L,N]of f){const Z=(0,Y.Hg)(0,L.length);z.set(L,new M.WU(Z,2,N.first,N.openingBrackets,g.n2.create(Z,y.languageId,N.openingBrackets)))}for(const L of E){const N=(0,Y.Hg)(0,L.length),Z=b(y.languageId,L),O=W.tS.getEmpty().add(Z,W.Qw);z.set(L,new M.WU(N,1,Z,O,g.n2.create(N,y.languageId,O)))}return new i(z)}getRegExpStr(){if(this.isEmpty)return null;{const y=[...this.map.keys()];return y.sort(),y.reverse(),y.map(C=>function(P){const y=(0,D.ec)(P);return/^[\w ]+$/.test(P)?`\\b${y}\\b`:y}(C)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const y=this.getRegExpStr();this._regExpGlobal=y?new RegExp(y,"g"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(y){return this.map.get(y)}findClosingTokenText(y){for(const[C,b]of this.map)if(b.bracketIds.intersects(y))return C}get isEmpty(){return 0===this.map.size}}class B{constructor(y,C){this.denseKeyProvider=y,this.getLanguageConfiguration=C,this.languageIdToBracketTokens=new Map}didLanguageChange(y){const C=this.languageIdToBracketTokens.get(y);if(!C)return!1;const b=i.createFromLanguage(this.getLanguageConfiguration(y),this.denseKeyProvider).getRegExpStr();return C.getRegExpStr()!==b}getSingleLanguageBracketTokens(y){let C=this.languageIdToBracketTokens.get(y);return C||(C=i.createFromLanguage(this.getLanguageConfiguration(y),this.denseKeyProvider),this.languageIdToBracketTokens.set(y,C)),C}}},79615:(Fe,Ee,p)=>{p.d(Ee,{av:()=>W,xl:()=>M,xd:()=>i,Hg:()=>B,Hw:()=>P,W9:()=>y,F_:()=>C,Ii:()=>b,BE:()=>x,VR:()=>f,By:()=>E,Zq:()=>z,PZ:()=>L,Qw:()=>N,oR:()=>Z});var D=p(74243),g=p(1873);class Y{constructor(I,$){this.lineCount=I,this.columnCount=$}toString(){return`${this.lineCount},${this.columnCount}`}}function W(O,I,$,j){return O!==$?B($-O,j):B(0,j-I)}Y.zero=new Y(0,0);const M=0;function i(O){return 0===O}const T=Math.pow(2,26);function B(O,I){return O*T+I}function P(O){const I=O,$=Math.floor(I/T);return new Y($,I-$*T)}function y(O){return Math.floor(O/T)}function C(O){return O}function b(O,I){return I<T?O+I:O-O%T+I}function x(O,I){const $=O,j=I;if(j-$<=0)return M;const oe=Math.floor($/T),de=Math.floor(j/T),fe=j-de*T;return oe===de?B(0,fe-($-oe*T)):B(de-oe,fe)}function f(O,I){return O<I}function E(O,I){return O<=I}function z(O,I){return O>=I}function L(O){return B(O.lineNumber-1,O.column-1)}function N(O,I){const $=O,j=Math.floor($/T),G=$-j*T,oe=I,de=Math.floor(oe/T);return new g.e(j+1,G+1,de+1,oe-de*T+1)}function Z(O){const I=(0,D.uq)(O);return B(I.length-1,I[I.length-1].length)}},95818:(Fe,Ee,p)=>{p.d(Ee,{w:()=>f});var D=p(45612),g=p(91500),Y=p(25453),W=p(79615);function i(z,L=!1){if(0===z.length)return null;if(1===z.length)return z[0];let N=z.length;for(;N>3;){const Z=N>>1;for(let O=0;O<Z;O++){const I=O<<1;z[O]=D.Y0.create23(z[I],z[I+1],I+3===N?z[I+2]:null,L)}N=Z}return D.Y0.create23(z[0],z[1],N>=3?z[2]:null,L)}function T(z,L){return Math.abs(z.listHeight-L.listHeight)}function B(z,L){return z.listHeight===L.listHeight?D.Y0.create23(z,L,null,!1):z.listHeight>L.listHeight?function(z,L){let N=z=z.toMutable();const Z=new Array;let O;for(;;){if(L.listHeight===N.listHeight){O=L;break}if(4!==N.kind)throw new Error("unexpected");Z.push(N),N=N.makeLastElementMutable()}for(let I=Z.length-1;I>=0;I--){const $=Z[I];O?$.childrenLength>=3?O=D.Y0.create23($.unappendChild(),O,null,!1):($.appendChildOfSameHeight(O),O=void 0):$.handleChildrenChanged()}return O?D.Y0.create23(z,O,null,!1):z}(z,L):function(z,L){let N=z=z.toMutable();const Z=new Array;for(;L.listHeight!==N.listHeight;){if(4!==N.kind)throw new Error("unexpected");Z.push(N),N=N.makeFirstElementMutable()}let O=L;for(let I=Z.length-1;I>=0;I--){const $=Z[I];O?$.childrenLength>=3?O=D.Y0.create23(O,$.unprependChild(),null,!1):($.prependChildOfSameHeight(O),O=void 0):$.handleChildrenChanged()}return O?D.Y0.create23(O,z,null,!1):z}(L,z)}class C{constructor(L){this.lastOffset=W.xl,this.nextNodes=[L],this.offsets=[W.xl],this.idxs=[]}readLongestNodeAt(L,N){if((0,W.VR)(L,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=L;;){const Z=x(this.nextNodes);if(!Z)return;const O=x(this.offsets);if((0,W.VR)(L,O))return;if((0,W.VR)(O,L))if((0,W.Ii)(O,Z.length)<=L)this.nextNodeAfterCurrent();else{const I=b(Z);-1!==I?(this.nextNodes.push(Z.getChild(I)),this.offsets.push(O),this.idxs.push(I)):this.nextNodeAfterCurrent()}else{if(N(Z))return this.nextNodeAfterCurrent(),Z;{const I=b(Z);if(-1===I)return void this.nextNodeAfterCurrent();this.nextNodes.push(Z.getChild(I)),this.offsets.push(O),this.idxs.push(I)}}}}nextNodeAfterCurrent(){for(;;){const L=x(this.offsets),N=x(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const Z=x(this.nextNodes),O=b(Z,this.idxs[this.idxs.length-1]);if(-1!==O){this.nextNodes.push(Z.getChild(O)),this.offsets.push((0,W.Ii)(L,N.length)),this.idxs[this.idxs.length-1]=O;break}this.idxs.pop()}}}function b(z,L=-1){for(;;){if(++L>=z.childrenLength)return-1;if(z.getChild(L))return L}}function x(z){return z.length>0?z[z.length-1]:void 0}function f(z,L,N,Z){return new E(z,L,N,Z).parseDocument()}class E{constructor(L,N,Z,O){if(this.tokenizer=L,this.createImmutableLists=O,this._itemsConstructed=0,this._itemsFromCache=0,Z&&O)throw new Error("Not supported");this.oldNodeReader=Z?new C(Z):void 0,this.positionMapper=new g.Y(N,L.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let L=this.parseList(Y.tS.getEmpty());return L||(L=D.Y0.getEmpty()),L}parseList(L){const N=new Array;for(;;){const O=this.tokenizer.peek();if(!O||2===O.kind&&O.bracketIds.intersects(L))break;const I=this.parseChild(L);4===I.kind&&0===I.childrenLength||N.push(I)}return this.oldNodeReader?function(z){if(0===z.length)return null;if(1===z.length)return z[0];let L=0;function N(){if(L>=z.length)return null;const $=L,j=z[$].listHeight;for(L++;L<z.length&&z[L].listHeight===j;)L++;return L-$>=2?i(0===$&&L===z.length?z:z.slice($,L),!1):z[$]}let Z=N(),O=N();if(!O)return Z;for(let $=N();$;$=N())T(Z,O)<=T(O,$)?(Z=B(Z,O),O=$):O=B(O,$);return B(Z,O)}(N):i(N,this.createImmutableLists)}parseChild(L){if(this.oldNodeReader){const Z=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,W.xd)(Z)){const O=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),I=>!!(0,W.VR)(I.length,Z)&&I.canBeReused(L));if(O)return this._itemsFromCache++,this.tokenizer.skip(O.length),O}}this._itemsConstructed++;const N=this.tokenizer.read();switch(N.kind){case 2:return new D.Dm(N.bracketIds,N.length);case 0:return N.astNode;case 1:{const Z=L.merge(N.bracketIds),O=this.parseList(Z),I=this.tokenizer.peek();return I&&2===I.kind&&(I.bracketId===N.bracketId||I.bracketIds.intersects(N.bracketIds))?(this.tokenizer.read(),D.Kd.create(N.astNode,O,I.astNode)):D.Kd.create(N.astNode,O,null)}default:throw new Error("unexpected")}}}},25453:(Fe,Ee,p)=>{p.d(Ee,{tS:()=>g,Qw:()=>Y,FE:()=>W});const D=new Array;class g{constructor(i,T){this.items=i,this.additionalItems=T}static create(i,T){if(i<=128&&0===T.length){let B=g.cache[i];return B||(B=new g(i,T),g.cache[i]=B),B}return new g(i,T)}static getEmpty(){return this.empty}add(i,T){const B=T.getKey(i);let P=B>>5;if(0===P){const C=1<<B|this.items;return C===this.items?this:g.create(C,this.additionalItems)}P--;const y=this.additionalItems.slice(0);for(;y.length<P;)y.push(0);return y[P]|=1<<(31&B),g.create(this.items,y)}merge(i){const T=this.items|i.items;if(this.additionalItems===D&&i.additionalItems===D)return T===this.items?this:T===i.items?i:g.create(T,D);const B=new Array;for(let P=0;P<Math.max(this.additionalItems.length,i.additionalItems.length);P++)B.push((this.additionalItems[P]||0)|(i.additionalItems[P]||0));return g.create(T,B)}intersects(i){if(0!=(this.items&i.items))return!0;for(let T=0;T<Math.min(this.additionalItems.length,i.additionalItems.length);T++)if(0!=(this.additionalItems[T]&i.additionalItems[T]))return!0;return!1}}g.cache=new Array(129),g.empty=g.create(0,D);const Y={getKey:M=>M};class W{constructor(){this.items=new Map}getKey(i){let T=this.items.get(i);return void 0===T&&(T=this.items.size,this.items.set(i,T)),T}}},21944:(Fe,Ee,p)=>{p.d(Ee,{WU:()=>i,xH:()=>T,g:()=>P});var D=p(13226),g=p(33979),Y=p(45612),W=p(79615),M=p(25453);class i{constructor(C,b,x,f,E){this.length=C,this.kind=b,this.bracketId=x,this.bracketIds=f,this.astNode=E}}class T{constructor(C,b){this.textModel=C,this.bracketTokens=b,this.reader=new B(this.textModel,this.bracketTokens),this._offset=W.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=C.getLineCount(),this.textBufferLastLineLength=C.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,W.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(C){this.didPeek=!1,this._offset=(0,W.Ii)(this._offset,C);const b=(0,W.Hw)(this._offset);this.reader.setPosition(b.lineCount,b.columnCount)}read(){let C;return this.peeked?(this.didPeek=!1,C=this.peeked):C=this.reader.read(),C&&(this._offset=(0,W.Ii)(this._offset,C.length)),C}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class B{constructor(C,b){this.textModel=C,this.bracketTokens=b,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=C.getLineCount(),this.textBufferLastLineLength=C.getLineLength(this.textBufferLineCount)}setPosition(C,b){C===this.lineIdx?(this.lineCharOffset=b,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=C,this.lineCharOffset=b,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const E=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,W.F_)(E.length),E}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const C=this.lineIdx,b=this.lineCharOffset;let x=0;for(;;){const E=this.lineTokens,z=E.getCount();let L=null;if(this.lineTokenOffset<z){const N=E.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<z&&N===E.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const Z=0===g.NX.getTokenType(N),O=E.getEndOffset(this.lineTokenOffset);if(Z&&O!==this.lineCharOffset){const I=E.getLanguageId(this.lineTokenOffset),$=this.line.substring(this.lineCharOffset,O),j=this.bracketTokens.getSingleLanguageBracketTokens(I),G=j.regExpGlobal;if(G){G.lastIndex=0;const oe=G.exec($);oe&&(L=j.getToken(oe[0]),L&&(this.lineCharOffset+=oe.index))}}if(x+=O-this.lineCharOffset,L){if(C!==this.lineIdx||b!==this.lineCharOffset){this.peekedToken=L;break}return this.lineCharOffset+=(0,W.F_)(L.length),L}this.lineTokenOffset++,this.lineCharOffset=O}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,x+=33,x>1e3))break;if(x>1500)break}const f=(0,W.av)(C,b,this.lineIdx,this.lineCharOffset);return new i(f,0,-1,M.tS.getEmpty(),new Y.BH(f))}}class P{constructor(C,b){this.text=C,this._offset=W.xl,this.idx=0;const f=b.getRegExpStr()?new RegExp(b.getRegExpStr()+"|\n","g"):null,E=[];let z,L=0,N=0,Z=0,O=0;const I=new Array;for(let G=0;G<60;G++)I.push(new i((0,W.Hg)(0,G),0,-1,M.tS.getEmpty(),new Y.BH((0,W.Hg)(0,G))));const $=new Array;for(let G=0;G<60;G++)$.push(new i((0,W.Hg)(1,G),0,-1,M.tS.getEmpty(),new Y.BH((0,W.Hg)(1,G))));if(f)for(f.lastIndex=0;null!==(z=f.exec(C));){const G=z.index,oe=z[0];if("\n"===oe)L++,N=G+1;else{if(Z!==G){let de;if(O===L){const fe=G-Z;if(fe<I.length)de=I[fe];else{const pe=(0,W.Hg)(0,fe);de=new i(pe,0,-1,M.tS.getEmpty(),new Y.BH(pe))}}else{const fe=L-O,pe=G-N;if(1===fe&&pe<$.length)de=$[pe];else{const ye=(0,W.Hg)(fe,pe);de=new i(ye,0,-1,M.tS.getEmpty(),new Y.BH(ye))}}E.push(de)}E.push(b.getToken(oe)),Z=G+oe.length,O=L}}const j=C.length;if(Z!==j){const G=O===L?(0,W.Hg)(0,j-Z):(0,W.Hg)(L-O,j-N);E.push(new i(G,0,-1,M.tS.getEmpty(),new Y.BH(G)))}this.length=(0,W.Hg)(L,j-N),this.tokens=E}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(C){throw new D.B8}}},40822:(Fe,Ee,p)=>{p.d(Ee,{e9:()=>x,NL:()=>f});var D=p(12918),g=p(13226),Y=p(60745),W=p(85459),M=p(64978),i=p(90386),T=p(6228);function B(E){return E.toString()}class P{constructor(z,L,N,Z,O,I,$){this.beforeVersionId=z,this.afterVersionId=L,this.beforeEOL=N,this.afterEOL=Z,this.beforeCursorState=O,this.afterCursorState=I,this.changes=$}static create(z,L){const N=z.getAlternativeVersionId(),Z=b(z);return new P(N,N,Z,Z,L,L,[])}append(z,L,N,Z,O){L.length>0&&(this.changes=(0,M.b)(this.changes,L)),this.afterEOL=N,this.afterVersionId=Z,this.afterCursorState=O}static _writeSelectionsSize(z){return 4+16*(z?z.length:0)}static _writeSelections(z,L,N){if(i.T4(z,L?L.length:0,N),N+=4,L)for(const Z of L)i.T4(z,Z.selectionStartLineNumber,N),i.T4(z,Z.selectionStartColumn,N+=4),i.T4(z,Z.positionLineNumber,N+=4),i.T4(z,Z.positionColumn,N+=4),N+=4;return N}static _readSelections(z,L,N){const Z=i.Ag(z,L);L+=4;for(let O=0;O<Z;O++){const I=i.Ag(z,L),$=i.Ag(z,L+=4),j=i.Ag(z,L+=4),G=i.Ag(z,L+=4);L+=4,N.push(new Y.Y(I,$,j,G))}return L}serialize(){let z=10+P._writeSelectionsSize(this.beforeCursorState)+P._writeSelectionsSize(this.afterCursorState)+4;for(const Z of this.changes)z+=Z.writeSize();const L=new Uint8Array(z);let N=0;i.T4(L,this.beforeVersionId,N),N+=4,i.T4(L,this.afterVersionId,N),N+=4,i.Cg(L,this.beforeEOL,N),N+=1,i.Cg(L,this.afterEOL,N),N+=1,N=P._writeSelections(L,this.beforeCursorState,N),N=P._writeSelections(L,this.afterCursorState,N),i.T4(L,this.changes.length,N),N+=4;for(const Z of this.changes)N=Z.write(L,N);return L.buffer}static deserialize(z){const L=new Uint8Array(z);let N=0;const Z=i.Ag(L,N);N+=4;const O=i.Ag(L,N);N+=4;const I=i.Q$(L,N);N+=1;const $=i.Q$(L,N);N+=1;const j=[];N=P._readSelections(L,N,j);const G=[];N=P._readSelections(L,N,G);const oe=i.Ag(L,N);N+=4;const de=[];for(let fe=0;fe<oe;fe++)N=M.q.read(L,N,de);return new P(Z,O,I,$,j,G,de)}}class y{constructor(z,L){this.model=z,this._data=P.create(z,L)}get type(){return 0}get resource(){return W.o.isUri(this.model)?this.model:this.model.uri}get label(){return D.N("edit","Typing")}toString(){return(this._data instanceof P?this._data:P.deserialize(this._data)).changes.map(L=>L.toString()).join(", ")}matchesResource(z){return(W.o.isUri(this.model)?this.model:this.model.uri).toString()===z.toString()}setModel(z){this.model=z}canAppend(z){return this.model===z&&this._data instanceof P}append(z,L,N,Z,O){this._data instanceof P&&this._data.append(z,L,N,Z,O)}close(){this._data instanceof P&&(this._data=this._data.serialize())}open(){this._data instanceof P||(this._data=P.deserialize(this._data))}undo(){if(W.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof P&&(this._data=this._data.serialize());const z=P.deserialize(this._data);this.model._applyUndo(z.changes,z.beforeEOL,z.beforeVersionId,z.beforeCursorState)}redo(){if(W.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof P&&(this._data=this._data.serialize());const z=P.deserialize(this._data);this.model._applyRedo(z.changes,z.afterEOL,z.afterVersionId,z.afterCursorState)}heapSize(){return this._data instanceof P&&(this._data=this._data.serialize()),this._data.byteLength+168}}function b(E){return"\n"===E.getEOL()?0:1}function x(E){return!!E&&(E instanceof y||E instanceof class{constructor(z,L){this.type=1,this.label=z,this._isOpen=!0,this._editStackElementsArr=L.slice(0),this._editStackElementsMap=new Map;for(const N of this._editStackElementsArr){const Z=B(N.resource);this._editStackElementsMap.set(Z,N)}this._delegate=null}get resources(){return this._editStackElementsArr.map(z=>z.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(z){const L=B(z);return this._editStackElementsMap.has(L)}setModel(z){const L=B(W.o.isUri(z)?z:z.uri);this._editStackElementsMap.has(L)&&this._editStackElementsMap.get(L).setModel(z)}canAppend(z){if(!this._isOpen)return!1;const L=B(z.uri);return!!this._editStackElementsMap.has(L)&&this._editStackElementsMap.get(L).canAppend(z)}append(z,L,N,Z,O){const I=B(z.uri);this._editStackElementsMap.get(I).append(z,L,N,Z,O)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const z of this._editStackElementsArr)z.undo()}redo(){for(const z of this._editStackElementsArr)z.redo()}heapSize(z){const L=B(z);return this._editStackElementsMap.has(L)?this._editStackElementsMap.get(L).heapSize():0}split(){return this._editStackElementsArr}toString(){let z=[];for(const L of this._editStackElementsArr)z.push(`${(0,T.EZ)(L.resource)}: ${L}`);return`{${z.join(", ")}}`}})}class f{constructor(z,L){this._model=z,this._undoRedoService=L}pushStackElement(){const z=this._undoRedoService.getLastElement(this._model.uri);x(z)&&z.close()}popStackElement(){const z=this._undoRedoService.getLastElement(this._model.uri);x(z)&&z.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(z){const L=this._undoRedoService.getLastElement(this._model.uri);if(x(L)&&L.canAppend(this._model))return L;const N=new y(this._model,z);return this._undoRedoService.pushElement(N),N}pushEOL(z){const L=this._getOrCreateEditStackElement(null);this._model.setEOL(z),L.append(this._model,[],b(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(z,L,N){const Z=this._getOrCreateEditStackElement(z),O=this._model.applyEdits(L,!0),I=f._computeCursorState(N,O),$=O.map((j,G)=>({index:G,textChange:j.textChange}));return $.sort((j,G)=>j.textChange.oldPosition===G.textChange.oldPosition?j.index-G.index:j.textChange.oldPosition-G.textChange.oldPosition),Z.append(this._model,$.map(j=>j.textChange),b(this._model),this._model.getAlternativeVersionId(),I),I}static _computeCursorState(z,L){try{return z?z(L):null}catch(N){return(0,g.dL)(N),null}}}},21872:(Fe,Ee,p)=>{p.d(Ee,{W:()=>P,l:()=>B});var D=p(89822),g=p(74243),Y=p(90784),W=p(1873),i=p(50817),T=p(13151);class B extends class{constructor(){this._isDisposed=!1}dispose(){this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}{constructor(C,b){super(),this.textModel=C,this.languageConfigurationService=b}getLanguageConfiguration(C){return this.languageConfigurationService.getLanguageConfiguration(C)}_computeIndentLevel(C){return(0,i.q)(this.textModel.getLineContent(C+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(C,b,x){this.assertNotDisposed();const f=this.textModel.getLineCount();if(C<1||C>f)throw new Error("Illegal value for lineNumber");const E=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,z=Boolean(E&&E.offSide);let L=-2,N=-1,Z=-2,O=-1;const I=le=>{if(-1!==L&&(-2===L||L>le-1)){L=-1,N=-1;for(let te=le-2;te>=0;te--){const J=this._computeIndentLevel(te);if(J>=0){L=te,N=J;break}}}if(-2===Z){Z=-1,O=-1;for(let te=le;te<f;te++){const J=this._computeIndentLevel(te);if(J>=0){Z=te,O=J;break}}}};let $=-2,j=-1,G=-2,oe=-1;const de=le=>{if(-2===$){$=-1,j=-1;for(let te=le-2;te>=0;te--){const J=this._computeIndentLevel(te);if(J>=0){$=te,j=J;break}}}if(-1!==G&&(-2===G||G<le-1)){G=-1,oe=-1;for(let te=le;te<f;te++){const J=this._computeIndentLevel(te);if(J>=0){G=te,oe=J;break}}}};let fe=0,pe=!0,ye=0,ge=!0,Q=0,ee=0;for(let le=0;pe||ge;le++){const te=C-le,J=C+le;le>1&&(te<1||te<b)&&(pe=!1),le>1&&(J>f||J>x)&&(ge=!1),le>5e4&&(pe=!1,ge=!1);let re=-1;if(pe&&te>=1){const ve=this._computeIndentLevel(te-1);ve>=0?(Z=te-1,O=ve,re=Math.ceil(ve/this.textModel.getOptions().indentSize)):(I(te),re=this._getIndentLevelForWhitespaceLine(z,N,O))}let ce=-1;if(ge&&J<=f){const ve=this._computeIndentLevel(J-1);ve>=0?($=J-1,j=ve,ce=Math.ceil(ve/this.textModel.getOptions().indentSize)):(de(J),ce=this._getIndentLevelForWhitespaceLine(z,j,oe))}if(0!==le){if(1===le){if(J<=f&&ce>=0&&ee+1===ce){pe=!1,fe=J,ye=J,Q=ce;continue}if(te>=1&&re>=0&&re-1===ee){ge=!1,fe=te,ye=te,Q=re;continue}if(fe=C,ye=C,Q=ee,0===Q)return{startLineNumber:fe,endLineNumber:ye,indent:Q}}pe&&(re>=Q?fe=te:pe=!1),ge&&(ce>=Q?ye=J:ge=!1)}else ee=re}return{startLineNumber:fe,endLineNumber:ye,indent:Q}}getLinesBracketGuides(C,b,x,f){var E,z,L,N,Z;const O=[],I=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new W.e(C,1,b,this.textModel.getLineMaxColumn(b)));let $;if(x&&I.length>0){const fe=C<=x.lineNumber&&x.lineNumber<=b?I.filter(pe=>W.e.strictContainsPosition(pe.range,x)):this.textModel.bracketPairs.getBracketPairsInRange(W.e.fromPositions(x));$=null===(E=(0,D.dF)(fe,pe=>pe.range.startLineNumber!==pe.range.endLineNumber))||void 0===E?void 0:E.range}const j=new D.H9(I),G=new Array,oe=new Array,de=new P;for(let fe=C;fe<=b;fe++){let pe=new Array;oe.length>0&&(pe=pe.concat(oe),oe.length=0),O.push(pe);for(const ge of j.takeWhile(Q=>Q.openingBracketRange.startLineNumber<=fe)||[]){if(ge.range.startLineNumber===ge.range.endLineNumber)continue;const Q=Math.min(this.getVisibleColumnFromPosition(ge.openingBracketRange.getStartPosition()),this.getVisibleColumnFromPosition(null!==(L=null===(z=ge.closingBracketRange)||void 0===z?void 0:z.getStartPosition())&&void 0!==L?L:ge.range.getEndPosition()),ge.minVisibleColumnIndentation+1);let ee=!1;ge.closingBracketRange&&g.LC(this.textModel.getLineContent(ge.closingBracketRange.startLineNumber))<ge.closingBracketRange.startColumn-1&&(ee=!0);const le=ge.openingBracketRange.getStartPosition(),te=null!==(Z=null===(N=ge.closingBracketRange)||void 0===N?void 0:N.getStartPosition())&&void 0!==Z?Z:ge.range.getEndPosition();G[ge.nestingLevel]=void 0===ge.closingBracketRange?null:{nestingLevel:ge.nestingLevel,guideVisibleColumn:Q,start:le,visibleStartColumn:this.getVisibleColumnFromPosition(le),end:te,visibleEndColumn:this.getVisibleColumnFromPosition(te),bracketPair:ge,renderHorizontalEndLineAtTheBottom:ee}}for(const ge of G){if(!ge)continue;const Q=$&&ge.bracketPair.range.equalsRange($),ee=de.getInlineClassNameOfLevel(ge.nestingLevel)+(f.highlightActive&&Q?" "+de.activeClassName:"");(Q&&f.horizontalGuides!==T.s6.Disabled||f.includeInactive&&f.horizontalGuides===T.s6.Enabled)&&(ge.start.lineNumber===fe&&ge.guideVisibleColumn<ge.visibleStartColumn&&pe.push(new T.UO(ge.guideVisibleColumn,ee,new T.vW(!1,ge.start.column))),ge.end.lineNumber===fe+1&&ge.guideVisibleColumn<ge.visibleEndColumn&&oe.push(new T.UO(ge.guideVisibleColumn,ee,new T.vW(!ge.renderHorizontalEndLineAtTheBottom,ge.end.column))))}let ye=Number.MAX_SAFE_INTEGER;for(let ge=G.length-1;ge>=0;ge--){const Q=G[ge];if(!Q)continue;const ee=f.highlightActive&&$&&Q.bracketPair.range.equalsRange($),le=de.getInlineClassNameOfLevel(Q.nestingLevel)+(ee?" "+de.activeClassName:"");(ee||f.includeInactive)&&Q.renderHorizontalEndLineAtTheBottom&&Q.end.lineNumber===fe+1&&oe.push(new T.UO(Q.guideVisibleColumn,le,null)),!(Q.end.lineNumber<=fe||Q.start.lineNumber>=fe)&&(Q.guideVisibleColumn>=ye&&!ee||(ye=Q.guideVisibleColumn,(ee||f.includeInactive)&&pe.push(new T.UO(Q.guideVisibleColumn,le,null))))}pe.sort((ge,Q)=>ge.visibleColumn-Q.visibleColumn)}return O}getVisibleColumnFromPosition(C){return Y.i.visibleColumnFromColumn(this.textModel.getLineContent(C.lineNumber),C.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(C,b){this.assertNotDisposed();const x=this.textModel.getLineCount();if(C<1||C>x)throw new Error("Illegal value for startLineNumber");if(b<1||b>x)throw new Error("Illegal value for endLineNumber");const f=this.textModel.getOptions(),E=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,z=Boolean(E&&E.offSide),L=new Array(b-C+1);let N=-2,Z=-1,O=-2,I=-1;for(let $=C;$<=b;$++){const j=$-C,G=this._computeIndentLevel($-1);if(G>=0)N=$-1,Z=G,L[j]=Math.ceil(G/f.indentSize);else{if(-2===N){N=-1,Z=-1;for(let oe=$-2;oe>=0;oe--){const de=this._computeIndentLevel(oe);if(de>=0){N=oe,Z=de;break}}}if(-1!==O&&(-2===O||O<$-1)){O=-1,I=-1;for(let oe=$;oe<x;oe++){const de=this._computeIndentLevel(oe);if(de>=0){O=oe,I=de;break}}}L[j]=this._getIndentLevelForWhitespaceLine(z,Z,I)}}return L}_getIndentLevelForWhitespaceLine(C,b,x){const f=this.textModel.getOptions();return-1===b||-1===x?0:b<x?1+Math.floor(b/f.indentSize):b===x||C?Math.ceil(x/f.indentSize):1+Math.floor(x/f.indentSize)}}class P{constructor(){this.activeClassName="indent-active"}getInlineClassNameOfLevel(C){return"bracket-indent-guide lvl-"+C%30}}},69798:(Fe,Ee,p)=>{p.d(Ee,{oQ:()=>Y,Ck:()=>W});var D=p(89822),g=p(68733);class Y{constructor(T){this.values=T,this.prefixSum=new Uint32Array(T.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(T,B){T=(0,g.A)(T);const P=this.values,y=this.prefixSum,C=B.length;return 0!==C&&(this.values=new Uint32Array(P.length+C),this.values.set(P.subarray(0,T),0),this.values.set(P.subarray(T),T+C),this.values.set(B,T),T-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=T-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(y.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(T,B){return T=(0,g.A)(T),B=(0,g.A)(B),this.values[T]!==B&&(this.values[T]=B,T-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=T-1),!0)}removeValues(T,B){T=(0,g.A)(T),B=(0,g.A)(B);const P=this.values,y=this.prefixSum;if(T>=P.length)return!1;const C=P.length-T;return B>=C&&(B=C),0!==B&&(this.values=new Uint32Array(P.length-B),this.values.set(P.subarray(0,T),0),this.values.set(P.subarray(T+B),T),this.prefixSum=new Uint32Array(this.values.length),T-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=T-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(y.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(T){return T<0?0:(T=(0,g.A)(T),this._getPrefixSum(T))}_getPrefixSum(T){if(T<=this.prefixSumValidIndex[0])return this.prefixSum[T];let B=this.prefixSumValidIndex[0]+1;0===B&&(this.prefixSum[0]=this.values[0],B++),T>=this.values.length&&(T=this.values.length-1);for(let P=B;P<=T;P++)this.prefixSum[P]=this.prefixSum[P-1]+this.values[P];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],T),this.prefixSum[T]}getIndexOf(T){T=Math.floor(T),this.getTotalSum();let B=0,P=this.values.length-1,y=0,C=0,b=0;for(;B<=P;)if(y=B+(P-B)/2|0,C=this.prefixSum[y],b=C-this.values[y],T<b)P=y-1;else{if(!(T>=C))break;B=y+1}return new M(y,T-b)}}class W{constructor(T){this._values=T,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(T){return this._ensureValid(),0===T?0:this._prefixSum[T-1]}getIndexOf(T){this._ensureValid();const B=this._indexBySum[T];return new M(B,T-(B>0?this._prefixSum[B-1]:0))}removeValues(T,B){this._values.splice(T,B),this._invalidate(T)}insertValues(T,B){this._values=(0,D.Zv)(this._values,T,B),this._invalidate(T)}_invalidate(T){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,T-1)}_ensureValid(){if(!this._isValid){for(let T=this._validEndIndex+1,B=this._values.length;T<B;T++){const P=this._values[T],y=T>0?this._prefixSum[T-1]:0;this._prefixSum[T]=y+P;for(let C=0;C<P;C++)this._indexBySum[y+C]=T}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(T,B){this._values[T]!==B&&(this._values[T]=B,this._invalidate(T))}}class M{constructor(T,B){this.index=T,this.remainder=B,this._prefixSumIndexOfResultBrand=void 0,this.index=T,this.remainder=B}}},45023:(Fe,Ee,p)=>{p.d(Ee,{HS:()=>ji,qx:()=>Lo,yO:()=>So});var D=p(89822),g=p(81897),Y=p(13226),W=p(71040),M=p(40189),i=p(74243),T=p(85459),B=p(67947),P=p(1873),y=p(60745),C=p(80067);class b{constructor(h,S,V){this.range=h,this.nestingLevel=S,this.isInvalid=V}}class f extends class{constructor(h,S,V,ne){this.range=h,this.openingBracketRange=S,this.closingBracketRange=V,this.nestingLevel=ne}}{constructor(h,S,V,ne,ae){super(h,S,V,ne),this.minVisibleColumnIndentation=ae}}var E=p(91500),z=p(67875),L=p(79615),N=p(95818),Z=p(25453),O=p(21944);class I extends M.JT{constructor(h,S){if(super(),this.textModel=h,this.getLanguageConfiguration=S,this.didChangeEmitter=new W.Q5,this.denseKeyProvider=new Z.FE,this.brackets=new z.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,0===h.backgroundTokenizationState){const V=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),ne=new O.g(this.textModel.getValue(),V);this.initialAstWithoutTokens=(0,N.w)(ne,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===h.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===h.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(h){return this.brackets.didLanguageChange(h)}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.backgroundTokenizationState){const h=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,h||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:h}){const S=h.map(V=>new E.Q((0,L.Hg)(V.fromLineNumber-1,0),(0,L.Hg)(V.toLineNumber,0),(0,L.Hg)(V.toLineNumber-V.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(S,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(h){const S=h.changes.map(V=>{const ne=P.e.lift(V.range);return new E.Q((0,L.PZ)(ne.getStartPosition()),(0,L.PZ)(ne.getEndPosition()),(0,L.oR)(V.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(S,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(S,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(h,S,V){const ae=S,be=new O.xH(this.textModel,this.brackets);return(0,N.w)(be,h,ae,V)}getBracketsInRange(h){const S=(0,L.Hg)(h.startLineNumber-1,h.startColumn-1),V=(0,L.Hg)(h.endLineNumber-1,h.endColumn-1),ne=new Array,ae=this.initialAstWithoutTokens||this.astWithTokens;return $(ae,L.xl,ae.length,S,V,ne),ne}getBracketPairsInRange(h,S){const V=new Array,ne=(0,L.PZ)(h.getStartPosition()),ae=(0,L.PZ)(h.getEndPosition()),be=this.initialAstWithoutTokens||this.astWithTokens,Oe=new j(V,S,this.textModel);return G(be,L.xl,be.length,ne,ae,Oe),V}}function $(A,h,S,V,ne,ae,be=0){if(4===A.kind)for(const Oe of A.children)S=(0,L.Ii)(h,Oe.length),(0,L.By)(h,ne)&&(0,L.Zq)(S,V)&&$(Oe,h,S,V,ne,ae,be),h=S;else if(2===A.kind){if(be++,S=(0,L.Ii)(h,A.openingBracket.length),(0,L.By)(h,ne)&&(0,L.Zq)(S,V)){const Re=(0,L.Qw)(h,S);ae.push(new b(Re,be-1,!A.closingBracket))}if(h=S,A.child){const Oe=A.child;S=(0,L.Ii)(h,Oe.length),(0,L.By)(h,ne)&&(0,L.Zq)(S,V)&&$(Oe,h,S,V,ne,ae,be),h=S}if(A.closingBracket){if(S=(0,L.Ii)(h,A.closingBracket.length),(0,L.By)(h,ne)&&(0,L.Zq)(S,V)){const Re=(0,L.Qw)(h,S);ae.push(new b(Re,be-1,!1))}h=S}}else if(3===A.kind){const Oe=(0,L.Qw)(h,S);ae.push(new b(Oe,be-1,!0))}else if(1===A.kind){const Oe=(0,L.Qw)(h,S);ae.push(new b(Oe,be-1,!1))}}class j{constructor(h,S,V){this.result=h,this.includeMinIndentation=S,this.textModel=V}}function G(A,h,S,V,ne,ae,be=0){var Oe;if(2===A.kind){const Ze=(0,L.Ii)(h,A.openingBracket.length);let Qe=-1;ae.includeMinIndentation&&(Qe=A.computeMinIndentation(h,ae.textModel)),ae.result.push(new f((0,L.Qw)(h,S),(0,L.Qw)(h,Ze),A.closingBracket?(0,L.Qw)((0,L.Ii)(Ze,(null===(Oe=A.child)||void 0===Oe?void 0:Oe.length)||L.xl),S):void 0,be,Qe)),be++}let Re=h;for(const Ze of A.children){const Qe=Re;Re=(0,L.Ii)(Re,Ze.length),(0,L.By)(Qe,ne)&&(0,L.By)(V,Re)&&G(Ze,Qe,Re,V,ne,ae,be)}}var oe=p(20595),de=p(29675);class fe extends M.JT{constructor(h,S){super(),this.textModel=h,this.languageConfigurationService=S,this.bracketPairsTree=this._register(new M.XK),this.onDidChangeEmitter=new W.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(V=>{var ne;(!V.languageId||(null===(ne=this.bracketPairsTree.value)||void 0===ne?void 0:ne.object.didLanguageChange(V.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get isDocumentSupported(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(h){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(h){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(h){var S;null===(S=this.bracketPairsTree.value)||void 0===S||S.object.handleContentChanged(h)}handleDidChangeBackgroundTokenizationState(){var h;null===(h=this.bracketPairsTree.value)||void 0===h||h.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(h){var S;null===(S=this.bracketPairsTree.value)||void 0===S||S.object.handleDidChangeTokens(h)}updateBracketPairsTree(){if(this.bracketsRequested&&this.isDocumentSupported){if(!this.bracketPairsTree.value){const h=new M.SL;this.bracketPairsTree.value=function(A,h){return{object:A,dispose:()=>null==h?void 0:h.dispose()}}(h.add(new I(this.textModel,S=>this.languageConfigurationService.getLanguageConfiguration(S))),h),h.add(this.bracketPairsTree.value.object.onDidChange(S=>this.onDidChangeEmitter.fire(S))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(h){var S;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(S=this.bracketPairsTree.value)||void 0===S?void 0:S.object.getBracketPairsInRange(h,!1))||[]}getBracketPairsInRangeWithMinIndentation(h){var S;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(S=this.bracketPairsTree.value)||void 0===S?void 0:S.object.getBracketPairsInRange(h,!0))||[]}getBracketsInRange(h){var S;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(S=this.bracketPairsTree.value)||void 0===S?void 0:S.object.getBracketsInRange(h))||[]}findMatchingBracketUp(h,S,V){const ne=h.toLowerCase(),ae=this.textModel.validatePosition(S),be=this.textModel.getLanguageIdAtPosition(ae.lineNumber,ae.column),Oe=this.languageConfigurationService.getLanguageConfiguration(be).brackets;if(!Oe)return null;const Re=Oe.textIsBracket[ne];return Re?Q(this._findMatchingBracketUp(Re,ae,ye(V))):null}matchBracket(h,S){const V=ye(S);return this._matchBracket(this.textModel.validatePosition(h),V)}_establishBracketSearchOffsets(h,S,V,ne){const ae=S.getCount(),be=S.getLanguageId(ne);let Oe=Math.max(0,h.column-1-V.maxBracketLength);for(let Ze=ne-1;Ze>=0;Ze--){const Qe=S.getEndOffset(Ze);if(Qe<=Oe)break;if((0,oe.Bu)(S.getStandardTokenType(Ze))||S.getLanguageId(Ze)!==be){Oe=Qe;break}}let Re=Math.min(S.getLineContent().length,h.column-1+V.maxBracketLength);for(let Ze=ne+1;Ze<ae;Ze++){const Qe=S.getStartOffset(Ze);if(Qe>=Re)break;if((0,oe.Bu)(S.getStandardTokenType(Ze))||S.getLanguageId(Ze)!==be){Re=Qe;break}}return{searchStartOffset:Oe,searchEndOffset:Re}}_matchBracket(h,S){const V=h.lineNumber,ne=this.textModel.getLineTokens(V),ae=this.textModel.getLineContent(V),be=ne.findTokenIndexAtOffset(h.column-1);if(be<0)return null;const Oe=this.languageConfigurationService.getLanguageConfiguration(ne.getLanguageId(be)).brackets;if(Oe&&!(0,oe.Bu)(ne.getStandardTokenType(be))){let{searchStartOffset:Re,searchEndOffset:Ze}=this._establishBracketSearchOffsets(h,ne,Oe,be),Qe=null;for(;;){const ot=de.Vr.findNextBracketInRange(Oe.forwardRegex,V,ae,Re,Ze);if(!ot)break;if(ot.startColumn<=h.column&&h.column<=ot.endColumn){const ht=ae.substring(ot.startColumn-1,ot.endColumn-1).toLowerCase(),gt=this._matchFoundBracket(ot,Oe.textIsBracket[ht],Oe.textIsOpenBracket[ht],S);if(gt){if(gt instanceof ge)return null;Qe=gt}}Re=ot.endColumn-1}if(Qe)return Qe}if(be>0&&ne.getStartOffset(be)===h.column-1){const Re=be-1,Ze=this.languageConfigurationService.getLanguageConfiguration(ne.getLanguageId(Re)).brackets;if(Ze&&!(0,oe.Bu)(ne.getStandardTokenType(Re))){const{searchStartOffset:Qe,searchEndOffset:ot}=this._establishBracketSearchOffsets(h,ne,Ze,Re),ht=de.Vr.findPrevBracketInRange(Ze.reversedRegex,V,ae,Qe,ot);if(ht&&ht.startColumn<=h.column&&h.column<=ht.endColumn){const gt=ae.substring(ht.startColumn-1,ht.endColumn-1).toLowerCase(),Mt=this._matchFoundBracket(ht,Ze.textIsBracket[gt],Ze.textIsOpenBracket[gt],S);if(Mt)return Mt instanceof ge?null:Mt}}}return null}_matchFoundBracket(h,S,V,ne){if(!S)return null;const ae=V?this._findMatchingBracketDown(S,h.getEndPosition(),ne):this._findMatchingBracketUp(S,h.getStartPosition(),ne);return ae?ae instanceof ge?ae:[h,ae]:null}_findMatchingBracketUp(h,S,V){const ne=h.languageId,ae=h.reversedRegex;let be=-1,Oe=0;const Re=(Ze,Qe,ot,ht)=>{for(;;){if(V&&++Oe%100==0&&!V())return ge.INSTANCE;const gt=de.Vr.findPrevBracketInRange(ae,Ze,Qe,ot,ht);if(!gt)break;const Mt=Qe.substring(gt.startColumn-1,gt.endColumn-1).toLowerCase();if(h.isOpen(Mt)?be++:h.isClose(Mt)&&be--,0===be)return gt;ht=gt.startColumn-1}return null};for(let Ze=S.lineNumber;Ze>=1;Ze--){const Qe=this.textModel.getLineTokens(Ze),ot=Qe.getCount(),ht=this.textModel.getLineContent(Ze);let gt=ot-1,Mt=ht.length,Bt=ht.length;Ze===S.lineNumber&&(gt=Qe.findTokenIndexAtOffset(S.column-1),Mt=S.column-1,Bt=S.column-1);let Zt=!0;for(;gt>=0;gt--){const Nn=Qe.getLanguageId(gt)===ne&&!(0,oe.Bu)(Qe.getStandardTokenType(gt));if(Nn)Zt?Mt=Qe.getStartOffset(gt):(Mt=Qe.getStartOffset(gt),Bt=Qe.getEndOffset(gt));else if(Zt&&Mt!==Bt){const Xn=Re(Ze,ht,Mt,Bt);if(Xn)return Xn}Zt=Nn}if(Zt&&Mt!==Bt){const Nn=Re(Ze,ht,Mt,Bt);if(Nn)return Nn}}return null}_findMatchingBracketDown(h,S,V){const ne=h.languageId,ae=h.forwardRegex;let be=1,Oe=0;const Re=(Qe,ot,ht,gt)=>{for(;;){if(V&&++Oe%100==0&&!V())return ge.INSTANCE;const Mt=de.Vr.findNextBracketInRange(ae,Qe,ot,ht,gt);if(!Mt)break;const Bt=ot.substring(Mt.startColumn-1,Mt.endColumn-1).toLowerCase();if(h.isOpen(Bt)?be++:h.isClose(Bt)&&be--,0===be)return Mt;ht=Mt.endColumn-1}return null},Ze=this.textModel.getLineCount();for(let Qe=S.lineNumber;Qe<=Ze;Qe++){const ot=this.textModel.getLineTokens(Qe),ht=ot.getCount(),gt=this.textModel.getLineContent(Qe);let Mt=0,Bt=0,Zt=0;Qe===S.lineNumber&&(Mt=ot.findTokenIndexAtOffset(S.column-1),Bt=S.column-1,Zt=S.column-1);let Nn=!0;for(;Mt<ht;Mt++){const Xn=ot.getLanguageId(Mt)===ne&&!(0,oe.Bu)(ot.getStandardTokenType(Mt));if(Xn)Nn||(Bt=ot.getStartOffset(Mt)),Zt=ot.getEndOffset(Mt);else if(Nn&&Bt!==Zt){const ci=Re(Qe,gt,Bt,Zt);if(ci)return ci}Nn=Xn}if(Nn&&Bt!==Zt){const Xn=Re(Qe,gt,Bt,Zt);if(Xn)return Xn}}return null}findPrevBracket(h){const S=this.textModel.validatePosition(h);let V=null,ne=null;for(let ae=S.lineNumber;ae>=1;ae--){const be=this.textModel.getLineTokens(ae),Oe=be.getCount(),Re=this.textModel.getLineContent(ae);let Ze=Oe-1,Qe=Re.length,ot=Re.length;if(ae===S.lineNumber){Ze=be.findTokenIndexAtOffset(S.column-1),Qe=S.column-1,ot=S.column-1;const gt=be.getLanguageId(Ze);V!==gt&&(V=gt,ne=this.languageConfigurationService.getLanguageConfiguration(V).brackets)}let ht=!0;for(;Ze>=0;Ze--){const gt=be.getLanguageId(Ze);if(V!==gt){if(ne&&ht&&Qe!==ot){const Bt=de.Vr.findPrevBracketInRange(ne.reversedRegex,ae,Re,Qe,ot);if(Bt)return this._toFoundBracket(ne,Bt);ht=!1}V=gt,ne=this.languageConfigurationService.getLanguageConfiguration(V).brackets}const Mt=!!ne&&!(0,oe.Bu)(be.getStandardTokenType(Ze));if(Mt)ht?Qe=be.getStartOffset(Ze):(Qe=be.getStartOffset(Ze),ot=be.getEndOffset(Ze));else if(ne&&ht&&Qe!==ot){const Bt=de.Vr.findPrevBracketInRange(ne.reversedRegex,ae,Re,Qe,ot);if(Bt)return this._toFoundBracket(ne,Bt)}ht=Mt}if(ne&&ht&&Qe!==ot){const gt=de.Vr.findPrevBracketInRange(ne.reversedRegex,ae,Re,Qe,ot);if(gt)return this._toFoundBracket(ne,gt)}}return null}findNextBracket(h){const S=this.textModel.validatePosition(h),V=this.textModel.getLineCount();let ne=null,ae=null;for(let be=S.lineNumber;be<=V;be++){const Oe=this.textModel.getLineTokens(be),Re=Oe.getCount(),Ze=this.textModel.getLineContent(be);let Qe=0,ot=0,ht=0;if(be===S.lineNumber){Qe=Oe.findTokenIndexAtOffset(S.column-1),ot=S.column-1,ht=S.column-1;const Mt=Oe.getLanguageId(Qe);ne!==Mt&&(ne=Mt,ae=this.languageConfigurationService.getLanguageConfiguration(ne).brackets)}let gt=!0;for(;Qe<Re;Qe++){const Mt=Oe.getLanguageId(Qe);if(ne!==Mt){if(ae&&gt&&ot!==ht){const Zt=de.Vr.findNextBracketInRange(ae.forwardRegex,be,Ze,ot,ht);if(Zt)return this._toFoundBracket(ae,Zt);gt=!1}ne=Mt,ae=this.languageConfigurationService.getLanguageConfiguration(ne).brackets}const Bt=!!ae&&!(0,oe.Bu)(Oe.getStandardTokenType(Qe));if(Bt)gt||(ot=Oe.getStartOffset(Qe)),ht=Oe.getEndOffset(Qe);else if(ae&&gt&&ot!==ht){const Zt=de.Vr.findNextBracketInRange(ae.forwardRegex,be,Ze,ot,ht);if(Zt)return this._toFoundBracket(ae,Zt)}gt=Bt}if(ae&&gt&&ot!==ht){const Mt=de.Vr.findNextBracketInRange(ae.forwardRegex,be,Ze,ot,ht);if(Mt)return this._toFoundBracket(ae,Mt)}}return null}findEnclosingBrackets(h,S){const V=ye(S),ne=this.textModel.validatePosition(h),ae=this.textModel.getLineCount(),be=new Map;let Oe=[];const Re=(gt,Mt)=>{if(!be.has(gt)){const Bt=[];for(let Zt=0,Nn=Mt?Mt.brackets.length:0;Zt<Nn;Zt++)Bt[Zt]=0;be.set(gt,Bt)}Oe=be.get(gt)};let Ze=0;const Qe=(gt,Mt,Bt,Zt,Nn)=>{for(;;){if(V&&++Ze%100==0&&!V())return ge.INSTANCE;const Xn=de.Vr.findNextBracketInRange(gt.forwardRegex,Mt,Bt,Zt,Nn);if(!Xn)break;const ci=Bt.substring(Xn.startColumn-1,Xn.endColumn-1).toLowerCase(),_t=gt.textIsBracket[ci];if(_t&&(_t.isOpen(ci)?Oe[_t.index]++:_t.isClose(ci)&&Oe[_t.index]--,-1===Oe[_t.index]))return this._matchFoundBracket(Xn,_t,!1,V);Zt=Xn.endColumn-1}return null};let ot=null,ht=null;for(let gt=ne.lineNumber;gt<=ae;gt++){const Mt=this.textModel.getLineTokens(gt),Bt=Mt.getCount(),Zt=this.textModel.getLineContent(gt);let Nn=0,Xn=0,ci=0;if(gt===ne.lineNumber){Nn=Mt.findTokenIndexAtOffset(ne.column-1),Xn=ne.column-1,ci=ne.column-1;const Ai=Mt.getLanguageId(Nn);ot!==Ai&&(ot=Ai,ht=this.languageConfigurationService.getLanguageConfiguration(ot).brackets,Re(ot,ht))}let _t=!0;for(;Nn<Bt;Nn++){const Ai=Mt.getLanguageId(Nn);if(ot!==Ai){if(ht&&_t&&Xn!==ci){const go=Qe(ht,gt,Zt,Xn,ci);if(go)return Q(go);_t=!1}ot=Ai,ht=this.languageConfigurationService.getLanguageConfiguration(ot).brackets,Re(ot,ht)}const ai=!!ht&&!(0,oe.Bu)(Mt.getStandardTokenType(Nn));if(ai)_t||(Xn=Mt.getStartOffset(Nn)),ci=Mt.getEndOffset(Nn);else if(ht&&_t&&Xn!==ci){const go=Qe(ht,gt,Zt,Xn,ci);if(go)return Q(go)}_t=ai}if(ht&&_t&&Xn!==ci){const Ai=Qe(ht,gt,Zt,Xn,ci);if(Ai)return Q(Ai)}}return null}_toFoundBracket(h,S){if(!S)return null;let V=this.textModel.getValueInRange(S);V=V.toLowerCase();const ne=h.textIsBracket[V];return ne?{range:S,open:ne.open,close:ne.close,isOpen:h.textIsOpenBracket[V]}:null}}function ye(A){if(void 0===A)return()=>!0;{const h=Date.now();return()=>Date.now()-h<=A}}class ge{constructor(){this._searchCanceledBrand=void 0}}function Q(A){return A instanceof ge?null:A}ge.INSTANCE=new ge;var ee=p(79695),le=p(53323);class te extends M.JT{constructor(h){super(),this.textModel=h,this.colorProvider=new J,this.onDidChangeEmitter=new W.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=h.getOptions().bracketPairColorizationOptions,this._register(h.bracketPairs.onDidChange(S=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(h){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(h,S,V){if(void 0===S)return[];if(!this.colorizationOptions.enabled)return[];const ne=new Array,ae=this.textModel.bracketPairs.getBracketsInRange(h);for(const be of ae)ne.push({id:`bracket${be.range.toString()}-${be.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(be)},ownerId:0,range:be.range});return ne}getAllDecorations(h,S){return void 0===h?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new P.e(1,1,this.textModel.getLineCount(),1),h,S):[]}}class J{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(h){return h.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(h.nestingLevel)}getInlineClassNameOfLevel(h){return"bracket-highlighting-"+h%30}}(0,le.Ic)((A,h)=>{const S=[ee.zJ,ee.Vs,ee.CE,ee.UP,ee.r0,ee.m1],V=new J;h.addRule(`.monaco-editor .${V.unexpectedClosingBracketClassName} { color: ${A.getColor(ee.ts)}; }`);const ne=S.map(ae=>A.getColor(ae)).filter(ae=>!!ae).filter(ae=>!ae.isTransparent());for(let ae=0;ae<30;ae++){const be=ne[ae%ne.length];h.addRule(`.monaco-editor .${V.getInlineClassNameOfLevel(ae)} { color: ${be}; }`)}});var re=p(40822),ce=p(21872);class ve{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Ie(A,h,S,V,ne){let ae;for(ne.spacesDiff=0,ne.looksLikeAlignment=!1,ae=0;ae<h&&ae<V&&A.charCodeAt(ae)===S.charCodeAt(ae);ae++);let be=0,Oe=0;for(let ht=ae;ht<h;ht++)32===A.charCodeAt(ht)?be++:Oe++;let Re=0,Ze=0;for(let ht=ae;ht<V;ht++)32===S.charCodeAt(ht)?Re++:Ze++;if(be>0&&Oe>0||Re>0&&Ze>0)return;const Qe=Math.abs(Oe-Ze),ot=Math.abs(be-Re);if(0===Qe)return ne.spacesDiff=ot,void(ot>0&&0<=Re-1&&Re-1<A.length&&Re<S.length&&32!==S.charCodeAt(Re)&&32===A.charCodeAt(Re-1)&&44===A.charCodeAt(A.length-1)&&(ne.looksLikeAlignment=!0));ot%Qe!=0||(ne.spacesDiff=ot/Qe)}function We(A,h,S){const V=Math.min(A.getLineCount(),1e4);let ne=0,ae=0,be="",Oe=0;const Re=[2,4,6,8,3,5,7],Qe=[0,0,0,0,0,0,0,0,0],ot=new ve;for(let Mt=1;Mt<=V;Mt++){const Bt=A.getLineLength(Mt),Zt=A.getLineContent(Mt),Nn=Bt<=65536;let Xn=!1,ci=0,_t=0,Ai=0;for(let go=0,Fs=Bt;go<Fs;go++){const bs=Nn?Zt.charCodeAt(go):A.getLineCharCode(Mt,go);if(9===bs)Ai++;else{if(32!==bs){Xn=!0,ci=go;break}_t++}}if(!Xn||(Ai>0?ne++:_t>1&&ae++,Ie(be,Oe,Zt,ci,ot),ot.looksLikeAlignment&&(!S||h!==ot.spacesDiff)))continue;const ai=ot.spacesDiff;ai<=8&&Qe[ai]++,be=Zt,Oe=ci}let ht=S;ne!==ae&&(ht=ne<ae);let gt=h;if(ht){let Mt=ht?0:.1*V;Re.forEach(Bt=>{const Zt=Qe[Bt];Zt>Mt&&(Mt=Zt,gt=Bt)}),4===gt&&Qe[4]>0&&Qe[2]>0&&Qe[2]>=Qe[4]/2&&(gt=2)}return{insertSpaces:ht,tabSize:gt}}function Ue(A){return(1&A.metadata)>>>0}function ue(A,h){A.metadata=254&A.metadata|h<<0}function Ce(A){return(2&A.metadata)>>>1==1}function Ae(A,h){A.metadata=253&A.metadata|(h?1:0)<<1}function et(A){return(4&A.metadata)>>>2==1}function Ye(A,h){A.metadata=251&A.metadata|(h?1:0)<<2}function st(A,h){A.metadata=231&A.metadata|h<<3}function nt(A,h){A.metadata=223&A.metadata|(h?1:0)<<5}class Se{constructor(h,S,V){this.metadata=0,this.parent=this,this.left=this,this.right=this,ue(this,1),this.start=S,this.end=V,this.delta=0,this.maxEnd=V,this.id=h,this.ownerId=0,this.options=null,Ye(this,!1),st(this,1),nt(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=S,this.cachedAbsoluteEnd=V,this.range=null,Ae(this,!1)}reset(h,S,V,ne){this.start=S,this.end=V,this.maxEnd=V,this.cachedVersionId=h,this.cachedAbsoluteStart=S,this.cachedAbsoluteEnd=V,this.range=ne}setOptions(h){this.options=h;const S=this.options.className;Ye(this,"squiggly-error"===S||"squiggly-warning"===S||"squiggly-info"===S),st(this,this.options.stickiness),nt(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(h,S,V){this.cachedVersionId!==V&&(this.range=null),this.cachedVersionId=V,this.cachedAbsoluteStart=h,this.cachedAbsoluteEnd=S}detach(){this.parent=null,this.left=null,this.right=null}}const Ne=new Se(null,0,0);Ne.parent=Ne,Ne.left=Ne,Ne.right=Ne,ue(Ne,0);class at{constructor(){this.root=Ne,this.requestNormalizeDelta=!1}intervalSearch(h,S,V,ne,ae){return this.root===Ne?[]:function(A,h,S,V,ne,ae){let be=A.root,Oe=0,Re=0,Ze=0,Qe=0;const ot=[];let ht=0;for(;be!==Ne;)if(Ce(be))Ae(be.left,!1),Ae(be.right,!1),be===be.parent.right&&(Oe-=be.parent.delta),be=be.parent;else{if(!Ce(be.left)){if(Re=Oe+be.maxEnd,Re<h){Ae(be,!0);continue}if(be.left!==Ne){be=be.left;continue}}if(Ze=Oe+be.start,Ze>S)Ae(be,!0);else{if(Qe=Oe+be.end,Qe>=h){be.setCachedOffsets(Ze,Qe,ae);let gt=!0;V&&be.ownerId&&be.ownerId!==V&&(gt=!1),ne&&et(be)&&(gt=!1),gt&&(ot[ht++]=be)}Ae(be,!0),be.right===Ne||Ce(be.right)||(Oe+=be.delta,be=be.right)}}return Ae(A.root,!1),ot}(this,h,S,V,ne,ae)}search(h,S,V){return this.root===Ne?[]:function(A,h,S,V){let ne=A.root,ae=0,be=0,Oe=0;const Re=[];let Ze=0;for(;ne!==Ne;){if(Ce(ne)){Ae(ne.left,!1),Ae(ne.right,!1),ne===ne.parent.right&&(ae-=ne.parent.delta),ne=ne.parent;continue}if(ne.left!==Ne&&!Ce(ne.left)){ne=ne.left;continue}be=ae+ne.start,Oe=ae+ne.end,ne.setCachedOffsets(be,Oe,V);let Qe=!0;h&&ne.ownerId&&ne.ownerId!==h&&(Qe=!1),S&&et(ne)&&(Qe=!1),Qe&&(Re[Ze++]=ne),Ae(ne,!0),ne.right===Ne||Ce(ne.right)||(ae+=ne.delta,ne=ne.right)}return Ae(A.root,!1),Re}(this,h,S,V)}collectNodesFromOwner(h){return function(A,h){let S=A.root;const V=[];let ne=0;for(;S!==Ne;)Ce(S)?(Ae(S.left,!1),Ae(S.right,!1),S=S.parent):S.left===Ne||Ce(S.left)?(S.ownerId===h&&(V[ne++]=S),Ae(S,!0),S.right===Ne||Ce(S.right)||(S=S.right)):S=S.left;return Ae(A.root,!1),V}(this,h)}collectNodesPostOrder(){return function(A){let h=A.root;const S=[];let V=0;for(;h!==Ne;)Ce(h)?(Ae(h.left,!1),Ae(h.right,!1),h=h.parent):h.left===Ne||Ce(h.left)?h.right===Ne||Ce(h.right)?(S[V++]=h,Ae(h,!0)):h=h.right:h=h.left;return Ae(A.root,!1),S}(this)}insert(h){Lt(this,h),this._normalizeDeltaIfNecessary()}delete(h){dn(this,h),this._normalizeDeltaIfNecessary()}resolveNode(h,S){const V=h;let ne=0;for(;h!==this.root;)h===h.parent.right&&(ne+=h.parent.delta),h=h.parent;V.setCachedOffsets(V.start+ne,V.end+ne,S)}acceptReplace(h,S,V,ne){const ae=function(A,h,S){let V=A.root,ne=0,ae=0,be=0,Oe=0;const Re=[];let Ze=0;for(;V!==Ne;)if(Ce(V))Ae(V.left,!1),Ae(V.right,!1),V===V.parent.right&&(ne-=V.parent.delta),V=V.parent;else{if(!Ce(V.left)){if(ae=ne+V.maxEnd,ae<h){Ae(V,!0);continue}if(V.left!==Ne){V=V.left;continue}}be=ne+V.start,be>S?Ae(V,!0):(Oe=ne+V.end,Oe>=h&&(V.setCachedOffsets(be,Oe,0),Re[Ze++]=V),Ae(V,!0),V.right===Ne||Ce(V.right)||(ne+=V.delta,V=V.right))}return Ae(A.root,!1),Re}(this,h,h+S);for(let be=0,Oe=ae.length;be<Oe;be++)dn(this,ae[be]);this._normalizeDeltaIfNecessary(),function(A,h,S,V){let ne=A.root,ae=0,be=0,Oe=0;const Re=V-(S-h);for(;ne!==Ne;)if(Ce(ne))Ae(ne.left,!1),Ae(ne.right,!1),ne===ne.parent.right&&(ae-=ne.parent.delta),Rt(ne),ne=ne.parent;else{if(!Ce(ne.left)){if(be=ae+ne.maxEnd,be<h){Ae(ne,!0);continue}if(ne.left!==Ne){ne=ne.left;continue}}Oe=ae+ne.start,Oe>S?(ne.start+=Re,ne.end+=Re,ne.delta+=Re,(ne.delta<-1073741824||ne.delta>1073741824)&&(A.requestNormalizeDelta=!0),Ae(ne,!0)):(Ae(ne,!0),ne.right===Ne||Ce(ne.right)||(ae+=ne.delta,ne=ne.right))}Ae(A.root,!1)}(this,h,h+S,V),this._normalizeDeltaIfNecessary();for(let be=0,Oe=ae.length;be<Oe;be++){const Re=ae[be];Re.start=Re.cachedAbsoluteStart,Re.end=Re.cachedAbsoluteEnd,bn(Re,h,h+S,V,ne),Re.maxEnd=Re.end,Lt(this,Re)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,function(A){let h=A.root,S=0;for(;h!==Ne;)h.left===Ne||Ce(h.left)?h.right===Ne||Ce(h.right)?(h.start=S+h.start,h.end=S+h.end,h.delta=0,Rt(h),Ae(h,!0),Ae(h.left,!1),Ae(h.right,!1),h===h.parent.right&&(S-=h.parent.delta),h=h.parent):(S+=h.delta,h=h.right):h=h.left;Ae(A.root,!1)}(this))}}function jt(A,h,S,V){return A<S||!(A>S||1===V)&&(2===V||h)}function bn(A,h,S,V,ne){const ae=function(A){return(24&A.metadata)>>>3}(A),be=0===ae||2===ae,Oe=1===ae||2===ae,Re=S-h,Ze=V,Qe=Math.min(Re,Ze),ot=A.start;let ht=!1;const gt=A.end;let Mt=!1;h<=ot&&gt<=S&&function(A){return(32&A.metadata)>>>5==1}(A)&&(A.start=h,ht=!0,A.end=h,Mt=!0);{const Zt=ne?1:Re>0?2:0;!ht&&jt(ot,be,h,Zt)&&(ht=!0),!Mt&&jt(gt,Oe,h,Zt)&&(Mt=!0)}if(Qe>0&&!ne){const Zt=Re>Ze?2:0;!ht&&jt(ot,be,h+Qe,Zt)&&(ht=!0),!Mt&&jt(gt,Oe,h+Qe,Zt)&&(Mt=!0)}{const Zt=ne?1:0;!ht&&jt(ot,be,S,Zt)&&(A.start=h+Ze,ht=!0),!Mt&&jt(gt,Oe,S,Zt)&&(A.end=h+Ze,Mt=!0)}const Bt=Ze-Re;ht||(A.start=Math.max(0,ot+Bt)),Mt||(A.end=Math.max(0,gt+Bt)),A.start>A.end&&(A.end=A.start)}function Lt(A,h){if(A.root===Ne)return h.parent=Ne,h.left=Ne,h.right=Ne,ue(h,0),A.root=h,A.root;(function(A,h){let S=0,V=A.root;const ne=h.start,ae=h.end;for(;;)if(Yt(ne,ae,V.start+S,V.end+S)<0){if(V.left===Ne){h.start-=S,h.end-=S,h.maxEnd-=S,V.left=h;break}V=V.left}else{if(V.right===Ne){h.start-=S+V.delta,h.end-=S+V.delta,h.maxEnd-=S+V.delta,V.right=h;break}S+=V.delta,V=V.right}h.parent=V,h.left=Ne,h.right=Ne,ue(h,1)})(A,h),xi(h.parent);let S=h;for(;S!==A.root&&1===Ue(S.parent);)if(S.parent===S.parent.parent.left){const V=S.parent.parent.right;1===Ue(V)?(ue(S.parent,0),ue(V,0),ue(S.parent.parent,1),S=S.parent.parent):(S===S.parent.right&&(S=S.parent,hn(A,S)),ue(S.parent,0),ue(S.parent.parent,1),_n(A,S.parent.parent))}else{const V=S.parent.parent.left;1===Ue(V)?(ue(S.parent,0),ue(V,0),ue(S.parent.parent,1),S=S.parent.parent):(S===S.parent.left&&(S=S.parent,_n(A,S)),ue(S.parent,0),ue(S.parent.parent,1),hn(A,S.parent.parent))}return ue(A.root,0),h}function dn(A,h){let S,V;if(h.left===Ne?(S=h.right,V=h,S.delta+=h.delta,(S.delta<-1073741824||S.delta>1073741824)&&(A.requestNormalizeDelta=!0),S.start+=h.delta,S.end+=h.delta):h.right===Ne?(S=h.left,V=h):(V=function(A){for(;A.left!==Ne;)A=A.left;return A}(h.right),S=V.right,S.start+=V.delta,S.end+=V.delta,S.delta+=V.delta,(S.delta<-1073741824||S.delta>1073741824)&&(A.requestNormalizeDelta=!0),V.start+=h.delta,V.end+=h.delta,V.delta=h.delta,(V.delta<-1073741824||V.delta>1073741824)&&(A.requestNormalizeDelta=!0)),V===A.root)return A.root=S,ue(S,0),h.detach(),sn(),Rt(S),void(A.root.parent=Ne);const ne=1===Ue(V);if(V===V.parent.left?V.parent.left=S:V.parent.right=S,V===h?S.parent=V.parent:(S.parent=V.parent===h?V:V.parent,V.left=h.left,V.right=h.right,V.parent=h.parent,ue(V,Ue(h)),h===A.root?A.root=V:h===h.parent.left?h.parent.left=V:h.parent.right=V,V.left!==Ne&&(V.left.parent=V),V.right!==Ne&&(V.right.parent=V)),h.detach(),ne)return xi(S.parent),V!==h&&(xi(V),xi(V.parent)),void sn();let ae;for(xi(S),xi(S.parent),V!==h&&(xi(V),xi(V.parent));S!==A.root&&0===Ue(S);)S===S.parent.left?(ae=S.parent.right,1===Ue(ae)&&(ue(ae,0),ue(S.parent,1),hn(A,S.parent),ae=S.parent.right),0===Ue(ae.left)&&0===Ue(ae.right)?(ue(ae,1),S=S.parent):(0===Ue(ae.right)&&(ue(ae.left,0),ue(ae,1),_n(A,ae),ae=S.parent.right),ue(ae,Ue(S.parent)),ue(S.parent,0),ue(ae.right,0),hn(A,S.parent),S=A.root)):(ae=S.parent.left,1===Ue(ae)&&(ue(ae,0),ue(S.parent,1),_n(A,S.parent),ae=S.parent.left),0===Ue(ae.left)&&0===Ue(ae.right)?(ue(ae,1),S=S.parent):(0===Ue(ae.left)&&(ue(ae.right,0),ue(ae,1),hn(A,ae),ae=S.parent.left),ue(ae,Ue(S.parent)),ue(S.parent,0),ue(ae.left,0),_n(A,S.parent),S=A.root));ue(S,0),sn()}function sn(){Ne.parent=Ne,Ne.delta=0,Ne.start=0,Ne.end=0}function hn(A,h){const S=h.right;S.delta+=h.delta,(S.delta<-1073741824||S.delta>1073741824)&&(A.requestNormalizeDelta=!0),S.start+=h.delta,S.end+=h.delta,h.right=S.left,S.left!==Ne&&(S.left.parent=h),S.parent=h.parent,h.parent===Ne?A.root=S:h===h.parent.left?h.parent.left=S:h.parent.right=S,S.left=h,h.parent=S,Rt(h),Rt(S)}function _n(A,h){const S=h.left;h.delta-=S.delta,(h.delta<-1073741824||h.delta>1073741824)&&(A.requestNormalizeDelta=!0),h.start-=S.delta,h.end-=S.delta,h.left=S.right,S.right!==Ne&&(S.right.parent=h),S.parent=h.parent,h.parent===Ne?A.root=S:h===h.parent.right?h.parent.right=S:h.parent.left=S,S.right=h,h.parent=S,Rt(h),Rt(S)}function rn(A){let h=A.end;if(A.left!==Ne){const S=A.left.maxEnd;S>h&&(h=S)}if(A.right!==Ne){const S=A.right.maxEnd+A.delta;S>h&&(h=S)}return h}function Rt(A){A.maxEnd=rn(A)}function xi(A){for(;A!==Ne;){const h=rn(A);if(A.maxEnd===h)return;A.maxEnd=h,A=A.parent}}function Yt(A,h,S,V){return A===S?h-V:A-S}class He{constructor(h,S){this.piece=h,this.color=S,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==$e)return Xt(this.right);let h=this;for(;h.parent!==$e&&h.parent.left!==h;)h=h.parent;return h.parent===$e?$e:h.parent}prev(){if(this.left!==$e)return pn(this.left);let h=this;for(;h.parent!==$e&&h.parent.right!==h;)h=h.parent;return h.parent===$e?$e:h.parent}detach(){this.parent=null,this.left=null,this.right=null}}const $e=new He(null,0);function Xt(A){for(;A.left!==$e;)A=A.left;return A}function pn(A){for(;A.right!==$e;)A=A.right;return A}function ti(A){return A===$e?0:A.size_left+A.piece.length+ti(A.right)}function bi(A){return A===$e?0:A.lf_left+A.piece.lineFeedCnt+bi(A.right)}function Oi(){$e.parent=$e}function Li(A,h){const S=h.right;S.size_left+=h.size_left+(h.piece?h.piece.length:0),S.lf_left+=h.lf_left+(h.piece?h.piece.lineFeedCnt:0),h.right=S.left,S.left!==$e&&(S.left.parent=h),S.parent=h.parent,h.parent===$e?A.root=S:h.parent.left===h?h.parent.left=S:h.parent.right=S,S.left=h,h.parent=S}function vi(A,h){const S=h.left;h.left=S.right,S.right!==$e&&(S.right.parent=h),S.parent=h.parent,h.size_left-=S.size_left+(S.piece?S.piece.length:0),h.lf_left-=S.lf_left+(S.piece?S.piece.lineFeedCnt:0),h.parent===$e?A.root=S:h===h.parent.right?h.parent.right=S:h.parent.left=S,S.right=h,h.parent=S}function xt(A,h){let S,V;if(h.left===$e?(V=h,S=V.right):h.right===$e?(V=h,S=V.left):(V=Xt(h.right),S=V.right),V===A.root)return A.root=S,S.color=0,h.detach(),Oi(),void(A.root.parent=$e);const ne=1===V.color;if(V===V.parent.left?V.parent.left=S:V.parent.right=S,V===h?(S.parent=V.parent,Fn(A,S)):(S.parent=V.parent===h?V:V.parent,Fn(A,S),V.left=h.left,V.right=h.right,V.parent=h.parent,V.color=h.color,h===A.root?A.root=V:h===h.parent.left?h.parent.left=V:h.parent.right=V,V.left!==$e&&(V.left.parent=V),V.right!==$e&&(V.right.parent=V),V.size_left=h.size_left,V.lf_left=h.lf_left,Fn(A,V)),h.detach(),S.parent.left===S){const be=ti(S),Oe=bi(S);if(be!==S.parent.size_left||Oe!==S.parent.lf_left){const Re=be-S.parent.size_left,Ze=Oe-S.parent.lf_left;S.parent.size_left=be,S.parent.lf_left=Oe,$t(A,S.parent,Re,Ze)}}if(Fn(A,S.parent),ne)return void Oi();let ae;for(;S!==A.root&&0===S.color;)S===S.parent.left?(ae=S.parent.right,1===ae.color&&(ae.color=0,S.parent.color=1,Li(A,S.parent),ae=S.parent.right),0===ae.left.color&&0===ae.right.color?(ae.color=1,S=S.parent):(0===ae.right.color&&(ae.left.color=0,ae.color=1,vi(A,ae),ae=S.parent.right),ae.color=S.parent.color,S.parent.color=0,ae.right.color=0,Li(A,S.parent),S=A.root)):(ae=S.parent.left,1===ae.color&&(ae.color=0,S.parent.color=1,vi(A,S.parent),ae=S.parent.left),0===ae.left.color&&0===ae.right.color?(ae.color=1,S=S.parent):(0===ae.left.color&&(ae.right.color=0,ae.color=1,Li(A,ae),ae=S.parent.left),ae.color=S.parent.color,S.parent.color=0,ae.left.color=0,vi(A,S.parent),S=A.root));S.color=0,Oi()}function St(A,h){for(Fn(A,h);h!==A.root&&1===h.parent.color;)if(h.parent===h.parent.parent.left){const S=h.parent.parent.right;1===S.color?(h.parent.color=0,S.color=0,h.parent.parent.color=1,h=h.parent.parent):(h===h.parent.right&&Li(A,h=h.parent),h.parent.color=0,h.parent.parent.color=1,vi(A,h.parent.parent))}else{const S=h.parent.parent.left;1===S.color?(h.parent.color=0,S.color=0,h.parent.parent.color=1,h=h.parent.parent):(h===h.parent.left&&vi(A,h=h.parent),h.parent.color=0,h.parent.parent.color=1,Li(A,h.parent.parent))}A.root.color=0}function $t(A,h,S,V){for(;h!==A.root&&h!==$e;)h.parent.left===h&&(h.parent.size_left+=S,h.parent.lf_left+=V),h=h.parent}function Fn(A,h){let S=0,V=0;if(h!==A.root){for(;h!==A.root&&h===h.parent.right;)h=h.parent;if(h!==A.root)for(S=ti((h=h.parent).left)-h.size_left,V=bi(h.left)-h.lf_left,h.size_left+=S,h.lf_left+=V;h!==A.root&&(0!==S||0!==V);)h.parent.left===h&&(h.parent.size_left+=S,h.parent.lf_left+=V),h=h.parent}}$e.parent=$e,$e.left=$e,$e.right=$e,$e.color=0;var kt=p(82711);const Ve=65535;function Je(A){let h;return h=A[A.length-1]<65536?new Uint16Array(A.length):new Uint32Array(A.length),h.set(A,0),h}class lt{constructor(h,S,V,ne,ae){this.lineStarts=h,this.cr=S,this.lf=V,this.crlf=ne,this.isBasicASCII=ae}}function Et(A,h=!0){const S=[0];let V=1;for(let ne=0,ae=A.length;ne<ae;ne++){const be=A.charCodeAt(ne);13===be?ne+1<ae&&10===A.charCodeAt(ne+1)?(S[V++]=ne+2,ne++):S[V++]=ne+1:10===be&&(S[V++]=ne+1)}return h?Je(S):S}class Ut{constructor(h,S,V,ne,ae){this.bufferIndex=h,this.start=S,this.end=V,this.lineFeedCnt=ne,this.length=ae}}class ln{constructor(h,S){this.buffer=h,this.lineStarts=S}}class Sn{constructor(h,S){this._pieces=[],this._tree=h,this._BOM=S,this._index=0,h.root!==$e&&h.iterate(h.root,V=>(V!==$e&&this._pieces.push(V.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class qt{constructor(h){this._limit=h,this._cache=[]}get(h){for(let S=this._cache.length-1;S>=0;S--){const V=this._cache[S];if(V.nodeStartOffset<=h&&V.nodeStartOffset+V.node.piece.length>=h)return V}return null}get2(h){for(let S=this._cache.length-1;S>=0;S--){const V=this._cache[S];if(V.nodeStartLineNumber&&V.nodeStartLineNumber<h&&V.nodeStartLineNumber+V.node.piece.lineFeedCnt>=h)return V}return null}set(h){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(h)}validate(h){let S=!1;const V=this._cache;for(let ne=0;ne<V.length;ne++){const ae=V[ne];(null===ae.node.parent||ae.nodeStartOffset>=h)&&(V[ne]=null,S=!0)}if(S){const ne=[];for(const ae of V)null!==ae&&ne.push(ae);this._cache=ne}}}class Cn{constructor(h,S,V){this.create(h,S,V)}create(h,S,V){this._buffers=[new ln("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=$e,this._lineCnt=1,this._length=0,this._EOL=S,this._EOLLength=S.length,this._EOLNormalized=V;let ne=null;for(let ae=0,be=h.length;ae<be;ae++)if(h[ae].buffer.length>0){h[ae].lineStarts||(h[ae].lineStarts=Et(h[ae].buffer));const Oe=new Ut(ae+1,{line:0,column:0},{line:h[ae].lineStarts.length-1,column:h[ae].buffer.length-h[ae].lineStarts[h[ae].lineStarts.length-1]},h[ae].lineStarts.length-1,h[ae].buffer.length);this._buffers.push(h[ae]),ne=this.rbInsertRight(ne,Oe)}this._searchCache=new qt(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(h){const V=65535-Math.floor(21845),ne=2*V;let ae="",be=0;const Oe=[];if(this.iterate(this.root,Re=>{const Ze=this.getNodeContent(Re),Qe=Ze.length;if(be<=V||be+Qe<ne)return ae+=Ze,be+=Qe,!0;const ot=ae.replace(/\r\n|\r|\n/g,h);return Oe.push(new ln(ot,Et(ot))),ae=Ze,be=Qe,!0}),be>0){const Re=ae.replace(/\r\n|\r|\n/g,h);Oe.push(new ln(Re,Et(Re)))}this.create(Oe,h,!0)}getEOL(){return this._EOL}setEOL(h){this._EOL=h,this._EOLLength=this._EOL.length,this.normalizeEOL(h)}createSnapshot(h){return new Sn(this,h)}getOffsetAt(h,S){let V=0,ne=this.root;for(;ne!==$e;)if(ne.left!==$e&&ne.lf_left+1>=h)ne=ne.left;else{if(ne.lf_left+ne.piece.lineFeedCnt+1>=h)return V+=ne.size_left,V+(this.getAccumulatedValue(ne,h-ne.lf_left-2)+S-1);h-=ne.lf_left+ne.piece.lineFeedCnt,V+=ne.size_left+ne.piece.length,ne=ne.right}return V}getPositionAt(h){h=Math.floor(h),h=Math.max(0,h);let S=this.root,V=0;const ne=h;for(;S!==$e;)if(0!==S.size_left&&S.size_left>=h)S=S.left;else{if(S.size_left+S.piece.length>=h){const ae=this.getIndexOf(S,h-S.size_left);if(V+=S.lf_left+ae.index,0===ae.index){const be=this.getOffsetAt(V+1,1);return new B.L(V+1,ne-be+1)}return new B.L(V+1,ae.remainder+1)}if(h-=S.size_left+S.piece.length,V+=S.lf_left+S.piece.lineFeedCnt,S.right===$e){const ae=this.getOffsetAt(V+1,1);return new B.L(V+1,ne-h-ae+1)}S=S.right}return new B.L(1,1)}getValueInRange(h,S){if(h.startLineNumber===h.endLineNumber&&h.startColumn===h.endColumn)return"";const V=this.nodeAt2(h.startLineNumber,h.startColumn),ne=this.nodeAt2(h.endLineNumber,h.endColumn),ae=this.getValueInRange2(V,ne);return S?S===this._EOL&&this._EOLNormalized&&S===this.getEOL()&&this._EOLNormalized?ae:ae.replace(/\r\n|\r|\n/g,S):ae}getValueInRange2(h,S){if(h.node===S.node){const Oe=h.node,Re=this._buffers[Oe.piece.bufferIndex].buffer,Ze=this.offsetInBuffer(Oe.piece.bufferIndex,Oe.piece.start);return Re.substring(Ze+h.remainder,Ze+S.remainder)}let V=h.node;const ne=this._buffers[V.piece.bufferIndex].buffer,ae=this.offsetInBuffer(V.piece.bufferIndex,V.piece.start);let be=ne.substring(ae+h.remainder,ae+V.piece.length);for(V=V.next();V!==$e;){const Oe=this._buffers[V.piece.bufferIndex].buffer,Re=this.offsetInBuffer(V.piece.bufferIndex,V.piece.start);if(V===S.node){be+=Oe.substring(Re,Re+S.remainder);break}be+=Oe.substr(Re,V.piece.length),V=V.next()}return be}getLinesContent(){const h=[];let S=0,V="",ne=!1;return this.iterate(this.root,ae=>{if(ae===$e)return!0;const be=ae.piece;let Oe=be.length;if(0===Oe)return!0;const Re=this._buffers[be.bufferIndex].buffer,Ze=this._buffers[be.bufferIndex].lineStarts,Qe=be.start.line,ot=be.end.line;let ht=Ze[Qe]+be.start.column;if(ne&&(10===Re.charCodeAt(ht)&&(ht++,Oe--),h[S++]=V,V="",ne=!1,0===Oe))return!0;if(Qe===ot)return this._EOLNormalized||13!==Re.charCodeAt(ht+Oe-1)?V+=Re.substr(ht,Oe):(ne=!0,V+=Re.substr(ht,Oe-1)),!0;V+=this._EOLNormalized?Re.substring(ht,Math.max(ht,Ze[Qe+1]-this._EOLLength)):Re.substring(ht,Ze[Qe+1]).replace(/(\r\n|\r|\n)$/,""),h[S++]=V;for(let gt=Qe+1;gt<ot;gt++)V=this._EOLNormalized?Re.substring(Ze[gt],Ze[gt+1]-this._EOLLength):Re.substring(Ze[gt],Ze[gt+1]).replace(/(\r\n|\r|\n)$/,""),h[S++]=V;return this._EOLNormalized||13!==Re.charCodeAt(Ze[ot]+be.end.column-1)?V=Re.substr(Ze[ot],be.end.column):(ne=!0,0===be.end.column?S--:V=Re.substr(Ze[ot],be.end.column-1)),!0}),ne&&(h[S++]=V,V=""),h[S++]=V,h}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(h){return this._lastVisitedLine.lineNumber===h||(this._lastVisitedLine.lineNumber=h,this._lastVisitedLine.value=h===this._lineCnt?this.getLineRawContent(h):this._EOLNormalized?this.getLineRawContent(h,this._EOLLength):this.getLineRawContent(h).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(h){if(h.remainder===h.node.piece.length){const S=h.node.next();if(!S)return 0;const V=this._buffers[S.piece.bufferIndex],ne=this.offsetInBuffer(S.piece.bufferIndex,S.piece.start);return V.buffer.charCodeAt(ne)}{const S=this._buffers[h.node.piece.bufferIndex],ne=this.offsetInBuffer(h.node.piece.bufferIndex,h.node.piece.start)+h.remainder;return S.buffer.charCodeAt(ne)}}getLineCharCode(h,S){const V=this.nodeAt2(h,S+1);return this._getCharCode(V)}getLineLength(h){if(h===this.getLineCount()){const S=this.getOffsetAt(h,1);return this.getLength()-S}return this.getOffsetAt(h+1,1)-this.getOffsetAt(h,1)-this._EOLLength}findMatchesInNode(h,S,V,ne,ae,be,Oe,Re,Ze,Qe,ot){const ht=this._buffers[h.piece.bufferIndex],gt=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start),Mt=this.offsetInBuffer(h.piece.bufferIndex,ae),Bt=this.offsetInBuffer(h.piece.bufferIndex,be);let Zt;const Nn={line:0,column:0};let Xn,ci;S._wordSeparators?(Xn=ht.buffer.substring(Mt,Bt),ci=_t=>_t+Mt,S.reset(0)):(Xn=ht.buffer,ci=_t=>_t,S.reset(Mt));do{if(Zt=S.next(Xn),Zt){if(ci(Zt.index)>=Bt)return Qe;this.positionInBuffer(h,ci(Zt.index)-gt,Nn);const _t=this.getLineFeedCnt(h.piece.bufferIndex,ae,Nn),Ai=Nn.line===ae.line?Nn.column-ae.column+ne:Nn.column+1;if(ot[Qe++]=(0,kt.iE)(new P.e(V+_t,Ai,V+_t,Ai+Zt[0].length),Zt,Re),ci(Zt.index)+Zt[0].length>=Bt||Qe>=Ze)return Qe}}while(Zt);return Qe}findMatchesLineByLine(h,S,V,ne){const ae=[];let be=0;const Oe=new kt.sz(S.wordSeparators,S.regex);let Re=this.nodeAt2(h.startLineNumber,h.startColumn);if(null===Re)return[];const Ze=this.nodeAt2(h.endLineNumber,h.endColumn);if(null===Ze)return[];let Qe=this.positionInBuffer(Re.node,Re.remainder);const ot=this.positionInBuffer(Ze.node,Ze.remainder);if(Re.node===Ze.node)return this.findMatchesInNode(Re.node,Oe,h.startLineNumber,h.startColumn,Qe,ot,S,V,ne,be,ae),ae;let ht=h.startLineNumber,gt=Re.node;for(;gt!==Ze.node;){const Bt=this.getLineFeedCnt(gt.piece.bufferIndex,Qe,gt.piece.end);if(Bt>=1){const Nn=this._buffers[gt.piece.bufferIndex].lineStarts,Xn=this.offsetInBuffer(gt.piece.bufferIndex,gt.piece.start);if(be=this.findMatchesInNode(gt,Oe,ht,ht===h.startLineNumber?h.startColumn:1,Qe,this.positionInBuffer(gt,Nn[Qe.line+Bt]-Xn),S,V,ne,be,ae),be>=ne)return ae;ht+=Bt}const Zt=ht===h.startLineNumber?h.startColumn-1:0;if(ht===h.endLineNumber){const Nn=this.getLineContent(ht).substring(Zt,h.endColumn-1);return be=this._findMatchesInLine(S,Oe,Nn,h.endLineNumber,Zt,be,ae,V,ne),ae}if(be=this._findMatchesInLine(S,Oe,this.getLineContent(ht).substr(Zt),ht,Zt,be,ae,V,ne),be>=ne)return ae;ht++,Re=this.nodeAt2(ht,1),gt=Re.node,Qe=this.positionInBuffer(Re.node,Re.remainder)}if(ht===h.endLineNumber){const Bt=ht===h.startLineNumber?h.startColumn-1:0,Zt=this.getLineContent(ht).substring(Bt,h.endColumn-1);return be=this._findMatchesInLine(S,Oe,Zt,h.endLineNumber,Bt,be,ae,V,ne),ae}return be=this.findMatchesInNode(Ze.node,Oe,ht,ht===h.startLineNumber?h.startColumn:1,Qe,ot,S,V,ne,be,ae),ae}_findMatchesInLine(h,S,V,ne,ae,be,Oe,Re,Ze){const Qe=h.wordSeparators;if(!Re&&h.simpleSearch){const ht=h.simpleSearch,gt=ht.length,Mt=V.length;let Bt=-gt;for(;-1!==(Bt=V.indexOf(ht,Bt+gt));)if((!Qe||(0,kt.cM)(Qe,V,Mt,Bt,gt))&&(Oe[be++]=new C.tk(new P.e(ne,Bt+1+ae,ne,Bt+1+gt+ae),null),be>=Ze))return be;return be}let ot;S.reset(0);do{if(ot=S.next(V),ot&&(Oe[be++]=(0,kt.iE)(new P.e(ne,ot.index+1+ae,ne,ot.index+1+ot[0].length+ae),ot,Re),be>=Ze))return be}while(ot);return be}insert(h,S,V=!1){if(this._EOLNormalized=this._EOLNormalized&&V,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==$e){const{node:ne,remainder:ae,nodeStartOffset:be}=this.nodeAt(h),Oe=ne.piece,Re=Oe.bufferIndex,Ze=this.positionInBuffer(ne,ae);if(0===ne.piece.bufferIndex&&Oe.end.line===this._lastChangeBufferPos.line&&Oe.end.column===this._lastChangeBufferPos.column&&be+Oe.length===h&&S.length<Ve)return this.appendToNode(ne,S),void this.computeBufferMetadata();if(be===h)this.insertContentToNodeLeft(S,ne),this._searchCache.validate(h);else if(be+ne.piece.length>h){const Qe=[];let ot=new Ut(Oe.bufferIndex,Ze,Oe.end,this.getLineFeedCnt(Oe.bufferIndex,Ze,Oe.end),this.offsetInBuffer(Re,Oe.end)-this.offsetInBuffer(Re,Ze));if(this.shouldCheckCRLF()&&this.endWithCR(S)&&10===this.nodeCharCodeAt(ne,ae)){const Bt={line:ot.start.line+1,column:0};ot=new Ut(ot.bufferIndex,Bt,ot.end,this.getLineFeedCnt(ot.bufferIndex,Bt,ot.end),ot.length-1),S+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(S))if(13===this.nodeCharCodeAt(ne,ae-1)){const Bt=this.positionInBuffer(ne,ae-1);this.deleteNodeTail(ne,Bt),S="\r"+S,0===ne.piece.length&&Qe.push(ne)}else this.deleteNodeTail(ne,Ze);else this.deleteNodeTail(ne,Ze);const ht=this.createNewPieces(S);ot.length>0&&this.rbInsertRight(ne,ot);let gt=ne;for(let Mt=0;Mt<ht.length;Mt++)gt=this.rbInsertRight(gt,ht[Mt]);this.deleteNodes(Qe)}else this.insertContentToNodeRight(S,ne)}else{const ne=this.createNewPieces(S);let ae=this.rbInsertLeft(null,ne[0]);for(let be=1;be<ne.length;be++)ae=this.rbInsertRight(ae,ne[be])}this.computeBufferMetadata()}delete(h,S){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",S<=0||this.root===$e)return;const V=this.nodeAt(h),ne=this.nodeAt(h+S),ae=V.node,be=ne.node;if(ae===be){const ht=this.positionInBuffer(ae,V.remainder),gt=this.positionInBuffer(ae,ne.remainder);if(V.nodeStartOffset===h){if(S===ae.piece.length){const Mt=ae.next();return xt(this,ae),this.validateCRLFWithPrevNode(Mt),void this.computeBufferMetadata()}return this.deleteNodeHead(ae,gt),this._searchCache.validate(h),this.validateCRLFWithPrevNode(ae),void this.computeBufferMetadata()}return V.nodeStartOffset+ae.piece.length===h+S?(this.deleteNodeTail(ae,ht),this.validateCRLFWithNextNode(ae),void this.computeBufferMetadata()):(this.shrinkNode(ae,ht,gt),void this.computeBufferMetadata())}const Oe=[],Re=this.positionInBuffer(ae,V.remainder);this.deleteNodeTail(ae,Re),this._searchCache.validate(h),0===ae.piece.length&&Oe.push(ae);const Ze=this.positionInBuffer(be,ne.remainder);this.deleteNodeHead(be,Ze),0===be.piece.length&&Oe.push(be);for(let ht=ae.next();ht!==$e&&ht!==be;ht=ht.next())Oe.push(ht);const ot=0===ae.piece.length?ae.prev():ae;this.deleteNodes(Oe),this.validateCRLFWithNextNode(ot),this.computeBufferMetadata()}insertContentToNodeLeft(h,S){const V=[];if(this.shouldCheckCRLF()&&this.endWithCR(h)&&this.startWithLF(S)){const be=S.piece,Oe={line:be.start.line+1,column:0},Re=new Ut(be.bufferIndex,Oe,be.end,this.getLineFeedCnt(be.bufferIndex,Oe,be.end),be.length-1);S.piece=Re,h+="\n",$t(this,S,-1,-1),0===S.piece.length&&V.push(S)}const ne=this.createNewPieces(h);let ae=this.rbInsertLeft(S,ne[ne.length-1]);for(let be=ne.length-2;be>=0;be--)ae=this.rbInsertLeft(ae,ne[be]);this.validateCRLFWithPrevNode(ae),this.deleteNodes(V)}insertContentToNodeRight(h,S){this.adjustCarriageReturnFromNext(h,S)&&(h+="\n");const V=this.createNewPieces(h),ne=this.rbInsertRight(S,V[0]);let ae=ne;for(let be=1;be<V.length;be++)ae=this.rbInsertRight(ae,V[be]);this.validateCRLFWithPrevNode(ne)}positionInBuffer(h,S,V){const ne=h.piece,be=this._buffers[h.piece.bufferIndex].lineStarts,Re=be[ne.start.line]+ne.start.column+S;let Ze=ne.start.line,Qe=ne.end.line,ot=0,ht=0,gt=0;for(;Ze<=Qe&&(ot=Ze+(Qe-Ze)/2|0,gt=be[ot],ot!==Qe);)if(ht=be[ot+1],Re<gt)Qe=ot-1;else{if(!(Re>=ht))break;Ze=ot+1}return V?(V.line=ot,V.column=Re-gt,null):{line:ot,column:Re-gt}}getLineFeedCnt(h,S,V){if(0===V.column)return V.line-S.line;const ne=this._buffers[h].lineStarts;if(V.line===ne.length-1)return V.line-S.line;const be=ne[V.line]+V.column;return ne[V.line+1]>be+1?V.line-S.line:13===this._buffers[h].buffer.charCodeAt(be-1)?V.line-S.line+1:V.line-S.line}offsetInBuffer(h,S){return this._buffers[h].lineStarts[S.line]+S.column}deleteNodes(h){for(let S=0;S<h.length;S++)xt(this,h[S])}createNewPieces(h){if(h.length>Ve){const Qe=[];for(;h.length>Ve;){const ht=h.charCodeAt(Ve-1);let gt;13===ht||ht>=55296&&ht<=56319?(gt=h.substring(0,Ve-1),h=h.substring(Ve-1)):(gt=h.substring(0,Ve),h=h.substring(Ve));const Mt=Et(gt);Qe.push(new Ut(this._buffers.length,{line:0,column:0},{line:Mt.length-1,column:gt.length-Mt[Mt.length-1]},Mt.length-1,gt.length)),this._buffers.push(new ln(gt,Mt))}const ot=Et(h);return Qe.push(new Ut(this._buffers.length,{line:0,column:0},{line:ot.length-1,column:h.length-ot[ot.length-1]},ot.length-1,h.length)),this._buffers.push(new ln(h,ot)),Qe}let S=this._buffers[0].buffer.length;const V=Et(h,!1);let ne=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===S&&0!==S&&this.startWithLF(h)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},ne=this._lastChangeBufferPos;for(let Qe=0;Qe<V.length;Qe++)V[Qe]+=S+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(V.slice(1)),this._buffers[0].buffer+="_"+h,S+=1}else{if(0!==S)for(let Qe=0;Qe<V.length;Qe++)V[Qe]+=S;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(V.slice(1)),this._buffers[0].buffer+=h}const ae=this._buffers[0].buffer.length,be=this._buffers[0].lineStarts.length-1,Re={line:be,column:ae-this._buffers[0].lineStarts[be]},Ze=new Ut(0,ne,Re,this.getLineFeedCnt(0,ne,Re),ae-S);return this._lastChangeBufferPos=Re,[Ze]}getLineRawContent(h,S=0){let V=this.root,ne="";const ae=this._searchCache.get2(h);if(ae){V=ae.node;const be=this.getAccumulatedValue(V,h-ae.nodeStartLineNumber-1),Oe=this._buffers[V.piece.bufferIndex].buffer,Re=this.offsetInBuffer(V.piece.bufferIndex,V.piece.start);if(ae.nodeStartLineNumber+V.piece.lineFeedCnt!==h){const Ze=this.getAccumulatedValue(V,h-ae.nodeStartLineNumber);return Oe.substring(Re+be,Re+Ze-S)}ne=Oe.substring(Re+be,Re+V.piece.length)}else{let be=0;const Oe=h;for(;V!==$e;)if(V.left!==$e&&V.lf_left>=h-1)V=V.left;else{if(V.lf_left+V.piece.lineFeedCnt>h-1){const Re=this.getAccumulatedValue(V,h-V.lf_left-2),Ze=this.getAccumulatedValue(V,h-V.lf_left-1),Qe=this._buffers[V.piece.bufferIndex].buffer,ot=this.offsetInBuffer(V.piece.bufferIndex,V.piece.start);return be+=V.size_left,this._searchCache.set({node:V,nodeStartOffset:be,nodeStartLineNumber:Oe-(h-1-V.lf_left)}),Qe.substring(ot+Re,ot+Ze-S)}if(V.lf_left+V.piece.lineFeedCnt===h-1){const Re=this.getAccumulatedValue(V,h-V.lf_left-2),Ze=this._buffers[V.piece.bufferIndex].buffer,Qe=this.offsetInBuffer(V.piece.bufferIndex,V.piece.start);ne=Ze.substring(Qe+Re,Qe+V.piece.length);break}h-=V.lf_left+V.piece.lineFeedCnt,be+=V.size_left+V.piece.length,V=V.right}}for(V=V.next();V!==$e;){const be=this._buffers[V.piece.bufferIndex].buffer;if(V.piece.lineFeedCnt>0){const Oe=this.getAccumulatedValue(V,0),Re=this.offsetInBuffer(V.piece.bufferIndex,V.piece.start);return ne+=be.substring(Re,Re+Oe-S),ne}{const Oe=this.offsetInBuffer(V.piece.bufferIndex,V.piece.start);ne+=be.substr(Oe,V.piece.length)}V=V.next()}return ne}computeBufferMetadata(){let h=this.root,S=1,V=0;for(;h!==$e;)S+=h.lf_left+h.piece.lineFeedCnt,V+=h.size_left+h.piece.length,h=h.right;this._lineCnt=S,this._length=V,this._searchCache.validate(this._length)}getIndexOf(h,S){const V=h.piece,ne=this.positionInBuffer(h,S),ae=ne.line-V.start.line;if(this.offsetInBuffer(V.bufferIndex,V.end)-this.offsetInBuffer(V.bufferIndex,V.start)===S){const be=this.getLineFeedCnt(h.piece.bufferIndex,V.start,ne);if(be!==ae)return{index:be,remainder:0}}return{index:ae,remainder:ne.column}}getAccumulatedValue(h,S){if(S<0)return 0;const V=h.piece,ne=this._buffers[V.bufferIndex].lineStarts,ae=V.start.line+S+1;return ae>V.end.line?ne[V.end.line]+V.end.column-ne[V.start.line]-V.start.column:ne[ae]-ne[V.start.line]-V.start.column}deleteNodeTail(h,S){const V=h.piece,ne=V.lineFeedCnt,ae=this.offsetInBuffer(V.bufferIndex,V.end),be=S,Oe=this.offsetInBuffer(V.bufferIndex,be),Re=this.getLineFeedCnt(V.bufferIndex,V.start,be),Ze=Re-ne,Qe=Oe-ae;h.piece=new Ut(V.bufferIndex,V.start,be,Re,V.length+Qe),$t(this,h,Qe,Ze)}deleteNodeHead(h,S){const V=h.piece,ne=V.lineFeedCnt,ae=this.offsetInBuffer(V.bufferIndex,V.start),be=S,Oe=this.getLineFeedCnt(V.bufferIndex,be,V.end),Ze=Oe-ne,Qe=ae-this.offsetInBuffer(V.bufferIndex,be);h.piece=new Ut(V.bufferIndex,be,V.end,Oe,V.length+Qe),$t(this,h,Qe,Ze)}shrinkNode(h,S,V){const ne=h.piece,ae=ne.start,be=ne.end,Oe=ne.length,Re=ne.lineFeedCnt,Ze=S,Qe=this.getLineFeedCnt(ne.bufferIndex,ne.start,Ze),ot=this.offsetInBuffer(ne.bufferIndex,S)-this.offsetInBuffer(ne.bufferIndex,ae);h.piece=new Ut(ne.bufferIndex,ne.start,Ze,Qe,ot),$t(this,h,ot-Oe,Qe-Re);const ht=new Ut(ne.bufferIndex,V,be,this.getLineFeedCnt(ne.bufferIndex,V,be),this.offsetInBuffer(ne.bufferIndex,be)-this.offsetInBuffer(ne.bufferIndex,V)),gt=this.rbInsertRight(h,ht);this.validateCRLFWithPrevNode(gt)}appendToNode(h,S){this.adjustCarriageReturnFromNext(S,h)&&(S+="\n");const V=this.shouldCheckCRLF()&&this.startWithLF(S)&&this.endWithCR(h),ne=this._buffers[0].buffer.length;this._buffers[0].buffer+=S;const ae=Et(S,!1);for(let gt=0;gt<ae.length;gt++)ae[gt]+=ne;if(V){const gt=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:ne-gt}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ae.slice(1));const be=this._buffers[0].lineStarts.length-1,Re={line:be,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[be]},Ze=h.piece.length+S.length,Qe=h.piece.lineFeedCnt,ot=this.getLineFeedCnt(0,h.piece.start,Re),ht=ot-Qe;h.piece=new Ut(h.piece.bufferIndex,h.piece.start,Re,ot,Ze),this._lastChangeBufferPos=Re,$t(this,h,S.length,ht)}nodeAt(h){let S=this.root;const V=this._searchCache.get(h);if(V)return{node:V.node,nodeStartOffset:V.nodeStartOffset,remainder:h-V.nodeStartOffset};let ne=0;for(;S!==$e;)if(S.size_left>h)S=S.left;else{if(S.size_left+S.piece.length>=h){ne+=S.size_left;const ae={node:S,remainder:h-S.size_left,nodeStartOffset:ne};return this._searchCache.set(ae),ae}h-=S.size_left+S.piece.length,ne+=S.size_left+S.piece.length,S=S.right}return null}nodeAt2(h,S){let V=this.root,ne=0;for(;V!==$e;)if(V.left!==$e&&V.lf_left>=h-1)V=V.left;else{if(V.lf_left+V.piece.lineFeedCnt>h-1){const ae=this.getAccumulatedValue(V,h-V.lf_left-2),be=this.getAccumulatedValue(V,h-V.lf_left-1);return ne+=V.size_left,{node:V,remainder:Math.min(ae+S-1,be),nodeStartOffset:ne}}if(V.lf_left+V.piece.lineFeedCnt===h-1){const ae=this.getAccumulatedValue(V,h-V.lf_left-2);if(ae+S-1<=V.piece.length)return{node:V,remainder:ae+S-1,nodeStartOffset:ne};S-=V.piece.length-ae;break}h-=V.lf_left+V.piece.lineFeedCnt,ne+=V.size_left+V.piece.length,V=V.right}for(V=V.next();V!==$e;){if(V.piece.lineFeedCnt>0){const ae=this.getAccumulatedValue(V,0),be=this.offsetOfNode(V);return{node:V,remainder:Math.min(S-1,ae),nodeStartOffset:be}}if(V.piece.length>=S-1)return{node:V,remainder:S-1,nodeStartOffset:this.offsetOfNode(V)};S-=V.piece.length,V=V.next()}return null}nodeCharCodeAt(h,S){if(h.piece.lineFeedCnt<1)return-1;const V=this._buffers[h.piece.bufferIndex],ne=this.offsetInBuffer(h.piece.bufferIndex,h.piece.start)+S;return V.buffer.charCodeAt(ne)}offsetOfNode(h){if(!h)return 0;let S=h.size_left;for(;h!==this.root;)h.parent.right===h&&(S+=h.parent.size_left+h.parent.piece.length),h=h.parent;return S}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(h){if("string"==typeof h)return 10===h.charCodeAt(0);if(h===$e||0===h.piece.lineFeedCnt)return!1;const S=h.piece,V=this._buffers[S.bufferIndex].lineStarts,ne=S.start.line,ae=V[ne]+S.start.column;return!(ne===V.length-1||V[ne+1]>ae+1)&&10===this._buffers[S.bufferIndex].buffer.charCodeAt(ae)}endWithCR(h){return"string"==typeof h?13===h.charCodeAt(h.length-1):h!==$e&&0!==h.piece.lineFeedCnt&&13===this.nodeCharCodeAt(h,h.piece.length-1)}validateCRLFWithPrevNode(h){if(this.shouldCheckCRLF()&&this.startWithLF(h)){const S=h.prev();this.endWithCR(S)&&this.fixCRLF(S,h)}}validateCRLFWithNextNode(h){if(this.shouldCheckCRLF()&&this.endWithCR(h)){const S=h.next();this.startWithLF(S)&&this.fixCRLF(h,S)}}fixCRLF(h,S){const V=[],ne=this._buffers[h.piece.bufferIndex].lineStarts;let ae;ae=0===h.piece.end.column?{line:h.piece.end.line-1,column:ne[h.piece.end.line]-ne[h.piece.end.line-1]-1}:{line:h.piece.end.line,column:h.piece.end.column-1},h.piece=new Ut(h.piece.bufferIndex,h.piece.start,ae,h.piece.lineFeedCnt-1,h.piece.length-1),$t(this,h,-1,-1),0===h.piece.length&&V.push(h);const Re={line:S.piece.start.line+1,column:0},Ze=S.piece.length-1,Qe=this.getLineFeedCnt(S.piece.bufferIndex,Re,S.piece.end);S.piece=new Ut(S.piece.bufferIndex,Re,S.piece.end,Qe,Ze),$t(this,S,-1,-1),0===S.piece.length&&V.push(S);const ot=this.createNewPieces("\r\n");this.rbInsertRight(h,ot[0]);for(let ht=0;ht<V.length;ht++)xt(this,V[ht])}adjustCarriageReturnFromNext(h,S){if(this.shouldCheckCRLF()&&this.endWithCR(h)){const V=S.next();if(this.startWithLF(V)){if(h+="\n",1===V.piece.length)xt(this,V);else{const ne=V.piece,ae={line:ne.start.line+1,column:0},be=ne.length-1,Oe=this.getLineFeedCnt(ne.bufferIndex,ae,ne.end);V.piece=new Ut(ne.bufferIndex,ae,ne.end,Oe,be),$t(this,V,-1,-1)}return!0}}return!1}iterate(h,S){return h===$e?S($e):this.iterate(h.left,S)&&S(h)&&this.iterate(h.right,S)}getNodeContent(h){if(h===$e)return"";const S=this._buffers[h.piece.bufferIndex];let V;const ne=h.piece,ae=this.offsetInBuffer(ne.bufferIndex,ne.start),be=this.offsetInBuffer(ne.bufferIndex,ne.end);return V=S.buffer.substring(ae,be),V}getPieceContent(h){const S=this._buffers[h.bufferIndex],V=this.offsetInBuffer(h.bufferIndex,h.start),ne=this.offsetInBuffer(h.bufferIndex,h.end);return S.buffer.substring(V,ne)}rbInsertRight(h,S){const V=new He(S,1);if(V.left=$e,V.right=$e,V.parent=$e,V.size_left=0,V.lf_left=0,this.root===$e)this.root=V,V.color=0;else if(h.right===$e)h.right=V,V.parent=h;else{const ae=Xt(h.right);ae.left=V,V.parent=ae}return St(this,V),V}rbInsertLeft(h,S){const V=new He(S,1);if(V.left=$e,V.right=$e,V.parent=$e,V.size_left=0,V.lf_left=0,this.root===$e)this.root=V,V.color=0;else if(h.left===$e)h.left=V,V.parent=h;else{const ne=pn(h.left);ne.right=V,V.parent=ne}return St(this,V),V}}var yn=p(34048),xn=p(64978);class gn extends M.JT{constructor(h,S,V,ne,ae,be,Oe){super(),this._onDidChangeContent=this._register(new W.Q5),this._BOM=S,this._mightContainNonBasicASCII=!be,this._mightContainRTL=ne,this._mightContainUnusualLineTerminators=ae,this._pieceTree=new Cn(h,V,Oe)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(h){return this._pieceTree.createSnapshot(h?this._BOM:"")}getOffsetAt(h,S){return this._pieceTree.getOffsetAt(h,S)}getPositionAt(h){return this._pieceTree.getPositionAt(h)}getRangeAt(h,S){const V=h+S,ne=this.getPositionAt(h),ae=this.getPositionAt(V);return new P.e(ne.lineNumber,ne.column,ae.lineNumber,ae.column)}getValueInRange(h,S=0){if(h.isEmpty())return"";const V=this._getEndOfLine(S);return this._pieceTree.getValueInRange(h,V)}getValueLengthInRange(h,S=0){if(h.isEmpty())return 0;if(h.startLineNumber===h.endLineNumber)return h.endColumn-h.startColumn;const V=this.getOffsetAt(h.startLineNumber,h.startColumn);return this.getOffsetAt(h.endLineNumber,h.endColumn)-V}getCharacterCountInRange(h,S=0){if(this._mightContainNonBasicASCII){let V=0;const ne=h.startLineNumber,ae=h.endLineNumber;for(let be=ne;be<=ae;be++){const Oe=this.getLineContent(be),Ze=be===ae?h.endColumn-1:Oe.length;for(let Qe=be===ne?h.startColumn-1:0;Qe<Ze;Qe++)i.ZG(Oe.charCodeAt(Qe))?(V+=1,Qe+=1):V+=1}return V+=this._getEndOfLine(S).length*(ae-ne),V}return this.getValueLengthInRange(h,S)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(h){return this._pieceTree.getLineContent(h)}getLineCharCode(h,S){return this._pieceTree.getLineCharCode(h,S)}getLineLength(h){return this._pieceTree.getLineLength(h)}getLineFirstNonWhitespaceColumn(h){const S=i.LC(this.getLineContent(h));return-1===S?0:S+1}getLineLastNonWhitespaceColumn(h){const S=i.ow(this.getLineContent(h));return-1===S?0:S+2}_getEndOfLine(h){switch(h){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(h){this._pieceTree.setEOL(h)}applyEdits(h,S,V){let ne=this._mightContainRTL,ae=this._mightContainUnusualLineTerminators,be=this._mightContainNonBasicASCII,Oe=!0,Re=[];for(let Bt=0;Bt<h.length;Bt++){const Zt=h[Bt];Oe&&Zt._isTracked&&(Oe=!1);const Nn=Zt.range;if(Zt.text){let ai=!0;be||(ai=!i.$i(Zt.text),be=ai),!ne&&ai&&(ne=i.Ut(Zt.text)),!ae&&ai&&(ae=i.ab(Zt.text))}let Xn="",ci=0,_t=0,Ai=0;if(Zt.text){let ai;[ci,_t,Ai,ai]=(0,yn.Q)(Zt.text);const go=this.getEOL();Xn=0===ai||ai===("\r\n"===go?2:1)?Zt.text:Zt.text.replace(/\r\n|\r|\n/g,go)}Re[Bt]={sortIndex:Bt,identifier:Zt.identifier||null,range:Nn,rangeOffset:this.getOffsetAt(Nn.startLineNumber,Nn.startColumn),rangeLength:this.getValueLengthInRange(Nn),text:Xn,eolCount:ci,firstLineLength:_t,lastLineLength:Ai,forceMoveMarkers:Boolean(Zt.forceMoveMarkers),isAutoWhitespaceEdit:Zt.isAutoWhitespaceEdit||!1}}Re.sort(gn._sortOpsAscending);let Ze=!1;for(let Bt=0,Zt=Re.length-1;Bt<Zt;Bt++){const Nn=Re[Bt].range.getEndPosition(),Xn=Re[Bt+1].range.getStartPosition();if(Xn.isBeforeOrEqual(Nn)){if(Xn.isBefore(Nn))throw new Error("Overlapping ranges are not allowed!");Ze=!0}}Oe&&(Re=this._reduceOperations(Re));const Qe=V||S?gn._getInverseEditRanges(Re):[],ot=[];if(S)for(let Bt=0;Bt<Re.length;Bt++){const Zt=Re[Bt],Nn=Qe[Bt];if(Zt.isAutoWhitespaceEdit&&Zt.range.isEmpty())for(let Xn=Nn.startLineNumber;Xn<=Nn.endLineNumber;Xn++){let ci="";Xn===Nn.startLineNumber&&(ci=this.getLineContent(Zt.range.startLineNumber),-1!==i.LC(ci))||ot.push({lineNumber:Xn,oldContent:ci})}}let ht=null;if(V){let Bt=0;ht=[];for(let Zt=0;Zt<Re.length;Zt++){const Nn=Re[Zt],Xn=Qe[Zt],ci=this.getValueInRange(Nn.range),_t=Nn.rangeOffset+Bt;Bt+=Nn.text.length-ci.length,ht[Zt]={sortIndex:Nn.sortIndex,identifier:Nn.identifier,range:Xn,text:ci,textChange:new xn.q(Nn.rangeOffset,ci,_t,Nn.text)}}Ze||ht.sort((Zt,Nn)=>Zt.sortIndex-Nn.sortIndex)}this._mightContainRTL=ne,this._mightContainUnusualLineTerminators=ae,this._mightContainNonBasicASCII=be;const gt=this._doApplyEdits(Re);let Mt=null;if(S&&ot.length>0){ot.sort((Bt,Zt)=>Zt.lineNumber-Bt.lineNumber),Mt=[];for(let Bt=0,Zt=ot.length;Bt<Zt;Bt++){const Nn=ot[Bt].lineNumber;if(Bt>0&&ot[Bt-1].lineNumber===Nn)continue;const Xn=ot[Bt].oldContent,ci=this.getLineContent(Nn);0===ci.length||ci===Xn||-1!==i.LC(ci)||Mt.push(Nn)}}return this._onDidChangeContent.fire(),new C.je(ht,gt,Mt)}_reduceOperations(h){return h.length<1e3?h:[this._toSingleEditOperation(h)]}_toSingleEditOperation(h){let S=!1;const V=h[0].range,ne=h[h.length-1].range,ae=new P.e(V.startLineNumber,V.startColumn,ne.endLineNumber,ne.endColumn);let be=V.startLineNumber,Oe=V.startColumn;const Re=[];for(let gt=0,Mt=h.length;gt<Mt;gt++){const Bt=h[gt],Zt=Bt.range;S=S||Bt.forceMoveMarkers,Re.push(this.getValueInRange(new P.e(be,Oe,Zt.startLineNumber,Zt.startColumn))),Bt.text.length>0&&Re.push(Bt.text),be=Zt.endLineNumber,Oe=Zt.endColumn}const Ze=Re.join(""),[Qe,ot,ht]=(0,yn.Q)(Ze);return{sortIndex:0,identifier:h[0].identifier,range:ae,rangeOffset:this.getOffsetAt(ae.startLineNumber,ae.startColumn),rangeLength:this.getValueLengthInRange(ae,0),text:Ze,eolCount:Qe,firstLineLength:ot,lastLineLength:ht,forceMoveMarkers:S,isAutoWhitespaceEdit:!1}}_doApplyEdits(h){h.sort(gn._sortOpsDescending);const S=[];for(let V=0;V<h.length;V++){const ne=h[V],ae=ne.range.startLineNumber,be=ne.range.startColumn,Oe=ne.range.endLineNumber,Re=ne.range.endColumn;if(ae===Oe&&be===Re&&0===ne.text.length)continue;ne.text?(this._pieceTree.delete(ne.rangeOffset,ne.rangeLength),this._pieceTree.insert(ne.rangeOffset,ne.text,!0)):this._pieceTree.delete(ne.rangeOffset,ne.rangeLength);const Ze=new P.e(ae,be,Oe,Re);S.push({range:Ze,rangeLength:ne.rangeLength,text:ne.text,rangeOffset:ne.rangeOffset,forceMoveMarkers:ne.forceMoveMarkers})}return S}findMatchesLineByLine(h,S,V,ne){return this._pieceTree.findMatchesLineByLine(h,S,V,ne)}static _getInverseEditRanges(h){const S=[];let V=0,ne=0,ae=null;for(let be=0,Oe=h.length;be<Oe;be++){const Re=h[be];let Ze,Qe,ot;if(ae?ae.range.endLineNumber===Re.range.startLineNumber?(Ze=V,Qe=ne+(Re.range.startColumn-ae.range.endColumn)):(Ze=V+(Re.range.startLineNumber-ae.range.endLineNumber),Qe=Re.range.startColumn):(Ze=Re.range.startLineNumber,Qe=Re.range.startColumn),Re.text.length>0){const ht=Re.eolCount+1;ot=1===ht?new P.e(Ze,Qe,Ze,Qe+Re.firstLineLength):new P.e(Ze,Qe,Ze+ht-1,Re.lastLineLength+1)}else ot=new P.e(Ze,Qe,Ze,Qe);V=ot.endLineNumber,ne=ot.endColumn,S.push(ot),ae=Re}return S}static _sortOpsAscending(h,S){const V=P.e.compareRangesUsingEnds(h.range,S.range);return 0===V?h.sortIndex-S.sortIndex:V}static _sortOpsDescending(h,S){const V=P.e.compareRangesUsingEnds(h.range,S.range);return 0===V?S.sortIndex-h.sortIndex:-V}}class Pn{constructor(h,S,V,ne,ae,be,Oe,Re,Ze){this._chunks=h,this._bom=S,this._cr=V,this._lf=ne,this._crlf=ae,this._containsRTL=be,this._containsUnusualLineTerminators=Oe,this._isBasicASCII=Re,this._normalizeEOL=Ze}_getEOL(h){const S=this._cr+this._lf+this._crlf;return 0===S?1===h?"\n":"\r\n":this._cr+this._crlf>S/2?"\r\n":"\n"}create(h){const S=this._getEOL(h),V=this._chunks;if(this._normalizeEOL&&("\r\n"===S&&(this._cr>0||this._lf>0)||"\n"===S&&(this._cr>0||this._crlf>0)))for(let ae=0,be=V.length;ae<be;ae++){const Oe=V[ae].buffer.replace(/\r\n|\r|\n/g,S),Re=Et(Oe);V[ae]=new ln(Oe,Re)}const ne=new gn(V,this._bom,S,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:ne,disposable:ne}}}class kn{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(h){if(0===h.length)return;0===this.chunks.length&&i.uS(h)&&(this.BOM=i.c1,h=h.substr(1));const S=h.charCodeAt(h.length-1);13===S||S>=55296&&S<=56319?(this._acceptChunk1(h.substr(0,h.length-1),!1),this._hasPreviousChar=!0,this._previousChar=S):(this._acceptChunk1(h,!1),this._hasPreviousChar=!1,this._previousChar=S)}_acceptChunk1(h,S){!S&&0===h.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+h:h)}_acceptChunk2(h){const S=function(A,h){A.length=0,A[0]=0;let S=1,V=0,ne=0,ae=0,be=!0;for(let Re=0,Ze=h.length;Re<Ze;Re++){const Qe=h.charCodeAt(Re);13===Qe?Re+1<Ze&&10===h.charCodeAt(Re+1)?(ae++,A[S++]=Re+2,Re++):(V++,A[S++]=Re+1):10===Qe?(ne++,A[S++]=Re+1):be&&9!==Qe&&(Qe<32||Qe>126)&&(be=!1)}const Oe=new lt(Je(A),V,ne,ae,be);return A.length=0,Oe}(this._tmpLineStarts,h);this.chunks.push(new ln(h,S.lineStarts)),this.cr+=S.cr,this.lf+=S.lf,this.crlf+=S.crlf,this.isBasicASCII&&(this.isBasicASCII=S.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=i.Ut(h)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=i.ab(h))}finish(h=!0){return this._finish(),new Pn(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,h)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const h=this.chunks[this.chunks.length-1];h.buffer+=String.fromCharCode(this._previousChar);const S=Et(h.buffer);h.lineStarts=S,13===this._previousChar&&this.cr++}}}var jn=p(87604),Qn=p(5928),gi=p(33979),Mi=p(88057),Mn=p(39932);class Pi{constructor(h,S){this._startLineNumber=h,this._tokens=S}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(h){return this._tokens[h-this._startLineNumber]}appendLineTokens(h){this._tokens.push(h)}}class ri{constructor(){this._tokens=[]}add(h,S){if(this._tokens.length>0){const V=this._tokens[this._tokens.length-1];if(V.endLineNumber+1===h)return void V.appendLineTokens(S)}this._tokens.push(new Pi(h,[S]))}finalize(){return this._tokens}}var mi=p(89983),Dn=p(70700);class pi{constructor(h){this._default=h,this._store=[]}get(h){return h<this._store.length?this._store[h]:this._default}set(h,S){for(;h>=this._store.length;)this._store[this._store.length]=this._default;this._store[h]=S}delete(h,S){0===S||h>=this._store.length||this._store.splice(h,S)}insert(h,S){if(0===S||h>=this._store.length)return;const V=[];for(let ne=0;ne<S;ne++)V[ne]=this._default;this._store=D.Zv(this._store,h,V)}}class Di{constructor(h,S){this.tokenizationSupport=h,this.initialState=S,this._lineBeginState=new pi(null),this._lineNeedsTokenization=new pi(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(h){this._lineNeedsTokenization.set(h,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,h)}getBeginState(h){return this._lineBeginState.get(h)}setEndState(h,S,V){if(this._lineNeedsTokenization.set(S,!1),this._firstLineNeedsTokenization=S+1,S===h-1)return;const ne=this._lineBeginState.get(S+1);if(null===ne||!V.equals(ne))return this._lineBeginState.set(S+1,V),void this.markMustBeTokenized(S+1);let ae=S+1;for(;ae<h&&!this._lineNeedsTokenization.get(ae);)ae++;this._firstLineNeedsTokenization=ae}applyEdits(h,S){this.markMustBeTokenized(h.startLineNumber-1),this._lineBeginState.delete(h.startLineNumber,h.endLineNumber-h.startLineNumber),this._lineNeedsTokenization.delete(h.startLineNumber,h.endLineNumber-h.startLineNumber),this._lineBeginState.insert(h.startLineNumber,S),this._lineNeedsTokenization.insert(h.startLineNumber,S)}}class Ci extends M.JT{constructor(h,S){super(),this._textModel=h,this._languageIdCodec=S,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(gi.RW.onDidChange(V=>{const ne=this._textModel.getLanguageId();-1!==V.changedLanguages.indexOf(ne)&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(h){if(h.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let S=0,V=h.changes.length;S<V;S++){const ne=h.changes[S],[ae]=(0,yn.Q)(ne.text);this._tokenizationStateStore.applyEdits(ne.range,ae)}this._beginBackgroundTokenization()}}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(h){this._resetTokenizationState(),this._textModel.clearTokens()}_resetTokenizationState(){const[h,S]=function(A){if(A.isTooLargeForTokenization())return[null,null];const h=gi.RW.get(A.getLanguageId());if(!h)return[null,null];let S;try{S=h.getInitialState()}catch(V){return(0,Y.dL)(V),[null,null]}return[h,S]}(this._textModel);this._tokenizationStateStore=h&&S?new Di(h,S):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,mi.To)(h=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(h)}))}_backgroundTokenizeWithDeadline(h){const S=Date.now()+h.timeRemaining(),V=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<S?(0,Dn.fn)(V):this._beginBackgroundTokenization())};V()}_backgroundTokenizeForAtLeast1ms(){const h=this._textModel.getLineCount(),S=new ri,V=Mn.G.create(!1);do{if(V.elapsed()>1||this._tokenizeOneInvalidLine(S)>=h)break}while(this._hasLinesToTokenize());this._textModel.setTokens(S.finalize(),!this._hasLinesToTokenize())}tokenizeViewport(h,S){const V=new ri;this._tokenizeViewport(V,h,S),this._textModel.setTokens(V.finalize(),!this._hasLinesToTokenize())}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(h){const S=new ri;this._updateTokensUntilLine(S,h),this._textModel.setTokens(S.finalize(),!this._hasLinesToTokenize())}getTokenTypeIfInsertingCharacter(h,S){if(!this._tokenizationStateStore)return 0;this.forceTokenization(h.lineNumber);const V=this._tokenizationStateStore.getBeginState(h.lineNumber-1);if(!V)return 0;const ne=this._textModel.getLanguageId(),ae=this._textModel.getLineContent(h.lineNumber),be=ae.substring(0,h.column-1)+S+ae.substring(h.column-1),Oe=Kn(this._languageIdCodec,ne,this._tokenizationStateStore.tokenizationSupport,be,!0,V),Re=new Qn.A(Oe.tokens,be,this._languageIdCodec);if(0===Re.getCount())return 0;const Ze=Re.findTokenIndexAtOffset(h.column-1);return Re.getStandardTokenType(Ze)}tokenizeLineWithEdit(h,S,V){const ne=h.lineNumber,ae=h.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(ne);const be=this._tokenizationStateStore.getBeginState(ne-1);if(!be)return null;const Oe=this._textModel.getLineContent(ne),Re=Oe.substring(0,ae-1)+V+Oe.substring(ae-1+S),Ze=this._textModel.getLanguageIdAtPosition(ne,0),Qe=Kn(this._languageIdCodec,Ze,this._tokenizationStateStore.tokenizationSupport,Re,!0,be);return new Qn.A(Qe.tokens,Re,this._languageIdCodec)}isCheapToTokenize(h){if(!this._tokenizationStateStore)return!0;const S=this._tokenizationStateStore.invalidLineStartIndex+1;return!(h>S)&&(h<S||this._textModel.getLineLength(h)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(h){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const S=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(h,S),S}_updateTokensUntilLine(h,S){if(!this._tokenizationStateStore)return;const V=this._textModel.getLanguageId(),ne=this._textModel.getLineCount(),ae=S-1;for(let be=this._tokenizationStateStore.invalidLineStartIndex;be<=ae;be++){const Oe=this._textModel.getLineContent(be+1),Re=this._tokenizationStateStore.getBeginState(be),Ze=Kn(this._languageIdCodec,V,this._tokenizationStateStore.tokenizationSupport,Oe,!0,Re);h.add(be+1,Ze.tokens),this._tokenizationStateStore.setEndState(ne,be,Ze.endState),be=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(h,S,V){if(!this._tokenizationStateStore||V<=this._tokenizationStateStore.invalidLineStartIndex)return;if(S<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(h,V);let ne=this._textModel.getLineFirstNonWhitespaceColumn(S);const ae=[];let be=null;for(let Ze=S-1;ne>1&&Ze>=1;Ze--){const Qe=this._textModel.getLineFirstNonWhitespaceColumn(Ze);if(0!==Qe&&Qe<ne){if(be=this._tokenizationStateStore.getBeginState(Ze-1),be)break;ae.push(this._textModel.getLineContent(Ze)),ne=Qe}}be||(be=this._tokenizationStateStore.initialState);const Oe=this._textModel.getLanguageId();let Re=be;for(let Ze=ae.length-1;Ze>=0;Ze--)Re=Kn(this._languageIdCodec,Oe,this._tokenizationStateStore.tokenizationSupport,ae[Ze],!1,Re).endState;for(let Ze=S;Ze<=V;Ze++){const Qe=this._textModel.getLineContent(Ze),ot=Kn(this._languageIdCodec,Oe,this._tokenizationStateStore.tokenizationSupport,Qe,!0,Re);h.add(Ze,ot.tokens),this._tokenizationStateStore.markMustBeTokenized(Ze-1),Re=ot.endState}}}function Kn(A,h,S,V,ne,ae){let be=null;if(S)try{be=S.tokenizeEncoded(V,ne,ae.clone())}catch(Oe){(0,Y.dL)(Oe)}return be||(be=(0,Mi.Dy)(A.encodeLanguageId(h),ae)),Qn.A.convertToEndOffset(be.tokens,V.length),be}const Ui=new Uint32Array(0).buffer;class ao{static deleteBeginning(h,S){return null===h||h===Ui?h:ao.delete(h,0,S)}static deleteEnding(h,S){if(null===h||h===Ui)return h;const V=ni(h);return ao.delete(h,S,V[V.length-2])}static delete(h,S,V){if(null===h||h===Ui||S===V)return h;const ne=ni(h),ae=ne.length>>>1;if(0===S&&ne[ne.length-2]===V)return Ui;const be=Qn.A.findIndexInTokensArray(ne,S),Oe=be>0?ne[be-1<<1]:0;if(V<ne[be<<1]){const gt=V-S;for(let Mt=be;Mt<ae;Mt++)ne[Mt<<1]-=gt;return h}let Ze,Qe;Oe!==S?(ne[be<<1]=S,Ze=be+1<<1,Qe=S):(Ze=be<<1,Qe=Oe);const ot=V-S;for(let gt=be+1;gt<ae;gt++){const Mt=ne[gt<<1]-ot;Mt>Qe&&(ne[Ze++]=Mt,ne[Ze++]=ne[1+(gt<<1)],Qe=Mt)}if(Ze===ne.length)return h;const ht=new Uint32Array(Ze);return ht.set(ne.subarray(0,Ze),0),ht.buffer}static append(h,S){if(S===Ui)return h;if(h===Ui)return S;if(null===h)return h;if(null===S)return null;const V=ni(h),ne=ni(S),ae=ne.length>>>1,be=new Uint32Array(V.length+ne.length);be.set(V,0);let Oe=V.length;const Re=V[V.length-2];for(let Ze=0;Ze<ae;Ze++)be[Oe++]=ne[Ze<<1]+Re,be[Oe++]=ne[1+(Ze<<1)];return be.buffer}static insert(h,S,V){if(null===h||h===Ui)return h;const ne=ni(h),ae=ne.length>>>1;let be=Qn.A.findIndexInTokensArray(ne,S);be>0&&ne[be-1<<1]===S&&be--;for(let Oe=be;Oe<ae;Oe++)ne[Oe<<1]+=V;return h}}function ni(A){return A instanceof Uint32Array?A:new Uint32Array(A)}class Co{constructor(h){this._lineTokens=[],this._len=0,this._languageIdCodec=h}flush(){this._lineTokens=[],this._len=0}getTokens(h,S,V){let ne=null;if(S<this._len&&(ne=this._lineTokens[S]),null!==ne&&ne!==Ui)return new Qn.A(ni(ne),V,this._languageIdCodec);const ae=new Uint32Array(2);return ae[0]=V.length,ae[1]=Ei(this._languageIdCodec.encodeLanguageId(h)),new Qn.A(ae,V,this._languageIdCodec)}static _massageTokens(h,S,V){const ne=V?ni(V):null;if(0===S){let ae=!1;if(ne&&ne.length>1&&(ae=gi.NX.getLanguageId(ne[1])!==h),!ae)return Ui}if(!ne||0===ne.length){const ae=new Uint32Array(2);return ae[0]=S,ae[1]=Ei(h),ae.buffer}return ne[ne.length-2]=S,0===ne.byteOffset&&ne.byteLength===ne.buffer.byteLength?ne.buffer:ne}_ensureLine(h){for(;h>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(h,S){0!==S&&(h+S>this._len&&(S=this._len-h),this._lineTokens.splice(h,S),this._len-=S)}_insertLines(h,S){if(0===S)return;const V=[];for(let ne=0;ne<S;ne++)V[ne]=null;this._lineTokens=D.Zv(this._lineTokens,h,V),this._len+=S}setTokens(h,S,V,ne,ae){const be=Co._massageTokens(this._languageIdCodec.encodeLanguageId(h),V,ne);this._ensureLine(S);const Oe=this._lineTokens[S];return this._lineTokens[S]=be,!!ae&&!Co._equals(Oe,be)}static _equals(h,S){if(!h||!S)return!h&&!S;const V=ni(h),ne=ni(S);if(V.length!==ne.length)return!1;for(let ae=0,be=V.length;ae<be;ae++)if(V[ae]!==ne[ae])return!1;return!0}acceptEdit(h,S,V){this._acceptDeleteRange(h),this._acceptInsertText(new B.L(h.startLineNumber,h.startColumn),S,V)}_acceptDeleteRange(h){const S=h.startLineNumber-1;if(S>=this._len)return;if(h.startLineNumber===h.endLineNumber){if(h.startColumn===h.endColumn)return;return void(this._lineTokens[S]=ao.delete(this._lineTokens[S],h.startColumn-1,h.endColumn-1))}this._lineTokens[S]=ao.deleteEnding(this._lineTokens[S],h.startColumn-1);const V=h.endLineNumber-1;let ne=null;V<this._len&&(ne=ao.deleteBeginning(this._lineTokens[V],h.endColumn-1)),this._lineTokens[S]=ao.append(this._lineTokens[S],ne),this._deleteLines(h.startLineNumber,h.endLineNumber-h.startLineNumber)}_acceptInsertText(h,S,V){if(0===S&&0===V)return;const ne=h.lineNumber-1;if(!(ne>=this._len)){if(0===S)return void(this._lineTokens[ne]=ao.insert(this._lineTokens[ne],h.column-1,V));this._lineTokens[ne]=ao.deleteEnding(this._lineTokens[ne],h.column-1),this._lineTokens[ne]=ao.insert(this._lineTokens[ne],h.column-1,V),this._insertLines(h.lineNumber,S)}}}function Ei(A){return(16384|A<<0|2<<23)>>>0}class Po{constructor(h){this._pieces=[],this._isComplete=!1,this._languageIdCodec=h}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(h,S){this._pieces=h||[],this._isComplete=S}setPartial(h,S){let V=h;if(S.length>0){const ae=S[0].getRange(),be=S[S.length-1].getRange();if(!ae||!be)return h;V=h.plusRange(ae).plusRange(be)}let ne=null;for(let ae=0,be=this._pieces.length;ae<be;ae++){const Oe=this._pieces[ae];if(Oe.endLineNumber<V.startLineNumber)continue;if(Oe.startLineNumber>V.endLineNumber){ne=ne||{index:ae};break}if(Oe.removeTokens(V),Oe.isEmpty()){this._pieces.splice(ae,1),ae--,be--;continue}if(Oe.endLineNumber<V.startLineNumber)continue;if(Oe.startLineNumber>V.endLineNumber){ne=ne||{index:ae};continue}const[Re,Ze]=Oe.split(V);Re.isEmpty()?ne=ne||{index:ae}:Ze.isEmpty()||(this._pieces.splice(ae,1,Re,Ze),ae++,be++,ne=ne||{index:ae})}return ne=ne||{index:this._pieces.length},S.length>0&&(this._pieces=D.Zv(this._pieces,ne.index,S)),V}isComplete(){return this._isComplete}addSparseTokens(h,S){const V=this._pieces;if(0===V.length)return S;const ae=V[Po._findFirstPieceWithLine(V,h)].getLineTokens(h);if(!ae)return S;const be=S.getCount(),Oe=ae.getCount();let Re=0;const Ze=[];let Qe=0,ot=0;const ht=(gt,Mt)=>{gt!==ot&&(ot=gt,Ze[Qe++]=gt,Ze[Qe++]=Mt)};for(let gt=0;gt<Oe;gt++){const Mt=ae.getStartCharacter(gt),Bt=ae.getEndCharacter(gt),Zt=ae.getMetadata(gt),Nn=((1&Zt?1024:0)|(2&Zt?2048:0)|(4&Zt?4096:0)|(8&Zt?8192:0)|(16&Zt?8372224:0)|(32&Zt?4286578688:0))>>>0,Xn=~Nn>>>0;for(;Re<be&&S.getEndOffset(Re)<=Mt;)ht(S.getEndOffset(Re),S.getMetadata(Re)),Re++;for(Re<be&&S.getStartOffset(Re)<Mt&&ht(Mt,S.getMetadata(Re));Re<be&&S.getEndOffset(Re)<Bt;)ht(S.getEndOffset(Re),S.getMetadata(Re)&Xn|Zt&Nn),Re++;if(Re<be)ht(Bt,S.getMetadata(Re)&Xn|Zt&Nn),S.getEndOffset(Re)===Bt&&Re++;else{const ci=Math.min(Math.max(0,Re-1),be-1);ht(Bt,S.getMetadata(ci)&Xn|Zt&Nn)}}for(;Re<be;)ht(S.getEndOffset(Re),S.getMetadata(Re)),Re++;return new Qn.A(new Uint32Array(Ze),S.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(h,S){let V=0,ne=h.length-1;for(;V<ne;){let ae=V+Math.floor((ne-V)/2);if(h[ae].endLineNumber<S)V=ae+1;else{if(!(h[ae].startLineNumber>S)){for(;ae>V&&h[ae-1].startLineNumber<=S&&S<=h[ae-1].endLineNumber;)ae--;return ae}ne=ae-1}}return V}acceptEdit(h,S,V,ne,ae){for(const be of this._pieces)be.acceptEdit(h,S,V,ne,ae)}}var yo=p(54745),fo=p(92119),Io=p(80810),oo=p(10352),ko=p(27870),Ts=p(66200),Go=function(A,h){return function(S,V){h(S,V,A)}};function As(A,h){return("string"==typeof A?function(A){const h=new kn;return h.acceptChunk(A),h.finish()}(A):A).create(h)}let es=0;class Ao{constructor(h){this._source=h,this._eos=!1}read(){if(this._eos)return null;const h=[];let S=0,V=0;for(;;){const ne=this._source.read();if(null===ne)return this._eos=!0,0===S?null:h.join("");if(ne.length>0&&(h[S++]=ne,V+=ne.length),V>=65536)return h.join("")}}}const Ro=()=>{throw new Error("Invalid change accessor")};let So=class uu extends M.JT{constructor(h,S,V,ne=null,ae,be,Oe){super(),this._undoRedoService=ae,this._languageService=be,this._languageConfigurationService=Oe,this._onWillDispose=this._register(new W.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new bl(ht=>this.handleBeforeFireDecorationsChangedEvent(ht))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new W.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new W.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new W.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new W.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new W.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new W.Q5),this._eventEmitter=this._register(new yt),this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new W.Q5),es++,this.id="$model"+es,this.isForSimpleWidget=V.isForSimpleWidget,this._associatedResource=ne??T.o.parse("inmemory://model/"+es),this._attachedEditorCount=0;const{textBuffer:Re,disposable:Ze}=As(h,V.defaultEOL);this._buffer=Re,this._bufferDisposable=Ze,this._options=uu.resolveOptions(this._buffer,V);const Qe=this._buffer.getLineCount(),ot=this._buffer.getValueLengthInRange(new P.e(1,1,Qe,this._buffer.getLineLength(Qe)+1),0);this._isTooLargeForTokenization=!!V.largeFileOptimizations&&(ot>uu.LARGE_FILE_SIZE_THRESHOLD||Qe>uu.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=ot>uu.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageId=S,this._languageRegistryListener=this._languageConfigurationService.onDidChange(ht=>{ht.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=i.PJ(es),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Xs,this._commandManager=new re.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new Co(this._languageService.languageIdCodec),this._semanticTokens=new Po(this._languageService.languageIdCodec),this._tokenization=new Ci(this,this._languageService.languageIdCodec),this._bracketPairColorizer=this._register(new fe(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ce.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new te(this)),this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(h,S){if(S.detectIndentation){const V=We(h,S.tabSize,S.insertSpaces);return new C.dJ({tabSize:V.tabSize,indentSize:V.tabSize,insertSpaces:V.insertSpaces,trimAutoWhitespace:S.trimAutoWhitespace,defaultEOL:S.defaultEOL,bracketPairColorizationOptions:S.bracketPairColorizationOptions})}return new C.dJ({tabSize:S.tabSize,indentSize:S.indentSize,insertSpaces:S.insertSpaces,trimAutoWhitespace:S.trimAutoWhitespace,defaultEOL:S.defaultEOL,bracketPairColorizationOptions:S.bracketPairColorizationOptions})}onDidChangeContent(h){return this._eventEmitter.slowEvent(S=>h(S.contentChangedEvent))}onDidChangeContentOrInjectedText(h){return(0,M.F8)(this._eventEmitter.fastEvent(S=>h(S.rawContentChangedEvent)),this._onDidChangeInjectedText.event(S=>h(S)))}get bracketPairs(){return this._bracketPairColorizer}get guides(){return this._guidesTextModelPart}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(h){if(2===this._backgroundTokenizationState)return;const S=h?2:1;this._backgroundTokenizationState!==S&&(this._backgroundTokenizationState=S,this._bracketPairColorizer.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const h=new gn([],"","\n",!1,!1,!0,!0);h.dispose(),this._buffer=h,this._bufferDisposable=M.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(h,S){this._isDisposing||(this._bracketPairColorizer.handleDidChangeContent(S),this._tokenization.handleDidChangeContent(S),this._eventEmitter.fire(new jn.fV(h,S)))}setValue(h){if(this._assertNotDisposed(),null===h)return;const{textBuffer:S,disposable:V}=As(h,this._options.defaultEOL);this._setValueFromTextBuffer(S,V)}_createContentChanged2(h,S,V,ne,ae,be,Oe){return{changes:[{range:h,rangeOffset:S,rangeLength:V,text:ne}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:ae,isRedoing:be,isFlush:Oe}}_setValueFromTextBuffer(h,S){this._assertNotDisposed();const V=this.getFullModelRange(),ne=this.getValueLengthInRange(V),ae=this.getLineCount(),be=this.getLineMaxColumn(ae);this._buffer=h,this._bufferDisposable.dispose(),this._bufferDisposable=S,this._increaseVersionId(),this._tokens.flush(),this._semanticTokens.flush(),this._decorations=Object.create(null),this._decorationsTree=new Xs,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new jn.dQ([new jn.Jx],this._versionId,!1,!1),this._createContentChanged2(new P.e(1,1,ae,be),0,ne,this.getValue(),!1,!1,!0))}setEOL(h){this._assertNotDisposed();const S=1===h?"\r\n":"\n";if(this._buffer.getEOL()===S)return;const V=this.getFullModelRange(),ne=this.getValueLengthInRange(V),ae=this.getLineCount(),be=this.getLineMaxColumn(ae);this._onBeforeEOLChange(),this._buffer.setEOL(S),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new jn.dQ([new jn.CZ],this._versionId,!1,!1),this._createContentChanged2(new P.e(1,1,ae,be),0,ne,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const h=this.getVersionId(),S=this._decorationsTree.collectNodesPostOrder();for(let V=0,ne=S.length;V<ne;V++){const ae=S[V],be=ae.range,Oe=ae.cachedAbsoluteStart-ae.start,Re=this._buffer.getOffsetAt(be.startLineNumber,be.startColumn),Ze=this._buffer.getOffsetAt(be.endLineNumber,be.endColumn);ae.cachedAbsoluteStart=Re,ae.cachedAbsoluteEnd=Ze,ae.cachedVersionId=h,ae.start=Re-Oe,ae.end=Ze-Oe,Rt(ae)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenization.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let h=0,S=0;const V=this._buffer.getLineCount();for(let ne=1;ne<=V;ne++){const ae=this._buffer.getLineLength(ne);ae>=1e4?S+=ae:h+=ae}return S>h}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(h){this._assertNotDisposed();const Oe=new C.dJ({tabSize:void 0!==h.tabSize?h.tabSize:this._options.tabSize,indentSize:void 0!==h.indentSize?h.indentSize:this._options.indentSize,insertSpaces:void 0!==h.insertSpaces?h.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:void 0!==h.trimAutoWhitespace?h.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:void 0!==h.bracketColorizationOptions?h.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(Oe))return;const Re=this._options.createChangeEvent(Oe);this._options=Oe,this._bracketPairColorizer.handleDidChangeOptions(Re),this._decorationProvider.handleDidChangeOptions(Re),this._onDidChangeOptions.fire(Re)}detectIndentation(h,S){this._assertNotDisposed();const V=We(this._buffer,S,h);this.updateOptions({insertSpaces:V.insertSpaces,tabSize:V.tabSize,indentSize:V.tabSize})}normalizeIndentation(h){return this._assertNotDisposed(),(0,Ts.x)(h,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(h=null){const S=this.findMatches(i.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(h,S.map(V=>({range:V.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(h){this._assertNotDisposed();const S=this._validatePosition(h.lineNumber,h.column,0);return this._buffer.getOffsetAt(S.lineNumber,S.column)}getPositionAt(h){this._assertNotDisposed();const S=Math.min(this._buffer.getLength(),Math.max(0,h));return this._buffer.getPositionAt(S)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(h){this._versionId=h}_overwriteAlternativeVersionId(h){this._alternativeVersionId=h}_overwriteInitialUndoRedoSnapshot(h){this._initialUndoRedoSnapshot=h}getValue(h,S=!1){this._assertNotDisposed();const V=this.getFullModelRange(),ne=this.getValueInRange(V,h);return S?this._buffer.getBOM()+ne:ne}createSnapshot(h=!1){return new Ao(this._buffer.createSnapshot(h))}getValueLength(h,S=!1){this._assertNotDisposed();const V=this.getFullModelRange(),ne=this.getValueLengthInRange(V,h);return S?this._buffer.getBOM().length+ne:ne}getValueInRange(h,S=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(h),S)}getValueLengthInRange(h,S=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(h),S)}getCharacterCountInRange(h,S=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(h),S)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(h)}getLineLength(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(h)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(h){return this._assertNotDisposed(),1}getLineMaxColumn(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(h)+1}getLineFirstNonWhitespaceColumn(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(h)}getLineLastNonWhitespaceColumn(h){if(this._assertNotDisposed(),h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(h)}_validateRangeRelaxedNoAllocations(h){const S=this._buffer.getLineCount(),V=h.startLineNumber,ne=h.startColumn;let ae=Math.floor("number"!=typeof V||isNaN(V)?1:V),be=Math.floor("number"!=typeof ne||isNaN(ne)?1:ne);if(ae<1)ae=1,be=1;else if(ae>S)ae=S,be=this.getLineMaxColumn(ae);else if(be<=1)be=1;else{const ot=this.getLineMaxColumn(ae);be>=ot&&(be=ot)}const Oe=h.endLineNumber,Re=h.endColumn;let Ze=Math.floor("number"!=typeof Oe||isNaN(Oe)?1:Oe),Qe=Math.floor("number"!=typeof Re||isNaN(Re)?1:Re);if(Ze<1)Ze=1,Qe=1;else if(Ze>S)Ze=S,Qe=this.getLineMaxColumn(Ze);else if(Qe<=1)Qe=1;else{const ot=this.getLineMaxColumn(Ze);Qe>=ot&&(Qe=ot)}return V===ae&&ne===be&&Oe===Ze&&Re===Qe&&h instanceof P.e&&!(h instanceof y.Y)?h:new P.e(ae,be,Ze,Qe)}_isValidPosition(h,S,V){if("number"!=typeof h||"number"!=typeof S||isNaN(h)||isNaN(S)||h<1||S<1||(0|h)!==h||(0|S)!==S)return!1;if(h>this._buffer.getLineCount())return!1;if(1===S)return!0;if(S>this.getLineMaxColumn(h))return!1;if(1===V){const be=this._buffer.getLineCharCode(h,S-2);if(i.ZG(be))return!1}return!0}_validatePosition(h,S,V){const ne=Math.floor("number"!=typeof h||isNaN(h)?1:h),ae=Math.floor("number"!=typeof S||isNaN(S)?1:S),be=this._buffer.getLineCount();if(ne<1)return new B.L(1,1);if(ne>be)return new B.L(be,this.getLineMaxColumn(be));if(ae<=1)return new B.L(ne,1);const Oe=this.getLineMaxColumn(ne);if(ae>=Oe)return new B.L(ne,Oe);if(1===V){const Re=this._buffer.getLineCharCode(ne,ae-2);if(i.ZG(Re))return new B.L(ne,ae-1)}return new B.L(ne,ae)}validatePosition(h){return this._assertNotDisposed(),h instanceof B.L&&this._isValidPosition(h.lineNumber,h.column,1)?h:this._validatePosition(h.lineNumber,h.column,1)}_isValidRange(h,S){const V=h.startLineNumber,ne=h.startColumn,ae=h.endLineNumber,be=h.endColumn;if(!this._isValidPosition(V,ne,0)||!this._isValidPosition(ae,be,0))return!1;if(1===S){const Oe=ne>1?this._buffer.getLineCharCode(V,ne-2):0,Re=be>1&&be<=this._buffer.getLineLength(ae)?this._buffer.getLineCharCode(ae,be-2):0,Ze=i.ZG(Oe),Qe=i.ZG(Re);return!Ze&&!Qe}return!0}validateRange(h){if(this._assertNotDisposed(),h instanceof P.e&&!(h instanceof y.Y)&&this._isValidRange(h,1))return h;const V=this._validatePosition(h.startLineNumber,h.startColumn,0),ne=this._validatePosition(h.endLineNumber,h.endColumn,0),ae=V.lineNumber,be=V.column,Oe=ne.lineNumber,Re=ne.column;{const Ze=be>1?this._buffer.getLineCharCode(ae,be-2):0,Qe=Re>1&&Re<=this._buffer.getLineLength(Oe)?this._buffer.getLineCharCode(Oe,Re-2):0,ot=i.ZG(Ze),ht=i.ZG(Qe);return ot||ht?ae===Oe&&be===Re?new P.e(ae,be-1,Oe,Re-1):ot&&ht?new P.e(ae,be-1,Oe,Re+1):ot?new P.e(ae,be-1,Oe,Re):new P.e(ae,be,Oe,Re+1):new P.e(ae,be,Oe,Re)}}modifyPosition(h,S){this._assertNotDisposed();const V=this.getOffsetAt(h)+S;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,V)))}getFullModelRange(){this._assertNotDisposed();const h=this.getLineCount();return new P.e(1,1,h,this.getLineMaxColumn(h))}findMatchesLineByLine(h,S,V,ne){return this._buffer.findMatchesLineByLine(h,S,V,ne)}findMatches(h,S,V,ne,ae,be,Oe=999){this._assertNotDisposed();let Re=null;null!==S&&(Array.isArray(S)||(S=[S]),S.every(ot=>P.e.isIRange(ot))&&(Re=S.map(ot=>this.validateRange(ot)))),null===Re&&(Re=[this.getFullModelRange()]),Re=Re.sort((ot,ht)=>ot.startLineNumber-ht.startLineNumber||ot.startColumn-ht.startColumn);const Ze=[];let Qe;if(Ze.push(Re.reduce((ot,ht)=>P.e.areIntersecting(ot,ht)?ot.plusRange(ht):(Ze.push(ot),ht))),!V&&h.indexOf("\n")<0){const ht=new kt.bc(h,V,ne,ae).parseSearchRequest();if(!ht)return[];Qe=gt=>this.findMatchesLineByLine(gt,ht,be,Oe)}else Qe=ot=>kt.pM.findMatches(this,new kt.bc(h,V,ne,ae),ot,be,Oe);return Ze.map(Qe).reduce((ot,ht)=>ot.concat(ht),[])}findNextMatch(h,S,V,ne,ae,be){this._assertNotDisposed();const Oe=this.validatePosition(S);if(!V&&h.indexOf("\n")<0){const Ze=new kt.bc(h,V,ne,ae).parseSearchRequest();if(!Ze)return null;const Qe=this.getLineCount();let ot=new P.e(Oe.lineNumber,Oe.column,Qe,this.getLineMaxColumn(Qe)),ht=this.findMatchesLineByLine(ot,Ze,be,1);return kt.pM.findNextMatch(this,new kt.bc(h,V,ne,ae),Oe,be),ht.length>0||(ot=new P.e(1,1,Oe.lineNumber,this.getLineMaxColumn(Oe.lineNumber)),ht=this.findMatchesLineByLine(ot,Ze,be,1),ht.length>0)?ht[0]:null}return kt.pM.findNextMatch(this,new kt.bc(h,V,ne,ae),Oe,be)}findPreviousMatch(h,S,V,ne,ae,be){this._assertNotDisposed();const Oe=this.validatePosition(S);return kt.pM.findPreviousMatch(this,new kt.bc(h,V,ne,ae),Oe,be)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(h){if(("\n"===this.getEOL()?0:1)!==h)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(h)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(h){return h instanceof C.Qi?h:new C.Qi(h.identifier||null,this.validateRange(h.range),h.text,h.forceMoveMarkers||!1,h.isAutoWhitespaceEdit||!1,h._isTracked||!1)}_validateEditOperations(h){const S=[];for(let V=0,ne=h.length;V<ne;V++)S[V]=this._validateEditOperation(h[V]);return S}pushEditOperations(h,S,V){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(h,this._validateEditOperations(S),V)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(h,S,V){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const ne=S.map(be=>({range:this.validateRange(be.range),text:be.text}));let ae=!0;if(h)for(let be=0,Oe=h.length;be<Oe;be++){const Re=h[be];let Ze=!1;for(let Qe=0,ot=ne.length;Qe<ot;Qe++){const ht=ne[Qe].range,Mt=Re.startLineNumber>ht.endLineNumber;if(!(ht.startLineNumber>Re.endLineNumber||Mt)){Ze=!0;break}}if(!Ze){ae=!1;break}}if(ae)for(let be=0,Oe=this._trimAutoWhitespaceLines.length;be<Oe;be++){const Re=this._trimAutoWhitespaceLines[be],Ze=this.getLineMaxColumn(Re);let Qe=!0;for(let ot=0,ht=ne.length;ot<ht;ot++){const gt=ne[ot].range,Mt=ne[ot].text;if(!(Re<gt.startLineNumber||Re>gt.endLineNumber||Re===gt.startLineNumber&&gt.startColumn===Ze&&gt.isEmpty()&&Mt&&Mt.length>0&&"\n"===Mt.charAt(0)||Re===gt.startLineNumber&&1===gt.startColumn&&gt.isEmpty()&&Mt&&Mt.length>0&&"\n"===Mt.charAt(Mt.length-1))){Qe=!1;break}}if(Qe){const ot=new P.e(Re,1,Re,Ze);S.push(new C.Qi(null,ot,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(h,S,V)}_applyUndo(h,S,V,ne){const ae=h.map(be=>{const Oe=this.getPositionAt(be.newPosition),Re=this.getPositionAt(be.newEnd);return{range:new P.e(Oe.lineNumber,Oe.column,Re.lineNumber,Re.column),text:be.oldText}});this._applyUndoRedoEdits(ae,S,!0,!1,V,ne)}_applyRedo(h,S,V,ne){const ae=h.map(be=>{const Oe=this.getPositionAt(be.oldPosition),Re=this.getPositionAt(be.oldEnd);return{range:new P.e(Oe.lineNumber,Oe.column,Re.lineNumber,Re.column),text:be.newText}});this._applyUndoRedoEdits(ae,S,!1,!0,V,ne)}_applyUndoRedoEdits(h,S,V,ne,ae,be){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=V,this._isRedoing=ne,this.applyEdits(h,!1),this.setEOL(S),this._overwriteAlternativeVersionId(ae)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(be),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(h,S=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const V=this._validateEditOperations(h);return this._doApplyEdits(V,S)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(h,S){const V=this._buffer.getLineCount(),ne=this._buffer.applyEdits(h,this._options.trimAutoWhitespace,S),ae=this._buffer.getLineCount(),be=ne.changes;if(this._trimAutoWhitespaceLines=ne.trimAutoWhitespaceLineNumbers,0!==be.length){for(let Ze=0,Qe=be.length;Ze<Qe;Ze++){const ot=be[Ze],[ht,gt,Mt]=(0,yn.Q)(ot.text);this._tokens.acceptEdit(ot.range,ht,gt),this._semanticTokens.acceptEdit(ot.range,ht,gt,Mt,ot.text.length>0?ot.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(ot.rangeOffset,ot.rangeLength,ot.text.length,ot.forceMoveMarkers)}const Oe=[];this._increaseVersionId();let Re=V;for(let Ze=0,Qe=be.length;Ze<Qe;Ze++){const ot=be[Ze],[ht]=(0,yn.Q)(ot.text);this._onDidChangeDecorations.fire();const gt=ot.range.startLineNumber,Mt=ot.range.endLineNumber,Bt=Mt-gt,Zt=ht,Nn=Math.min(Bt,Zt),Xn=Zt-Bt,ci=ae-Re-Xn+gt,Ai=ci+Zt,ai=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new B.L(ci,1)),this.getOffsetAt(new B.L(Ai,this.getLineMaxColumn(Ai))),0),go=jn.gk.fromDecorations(ai),Fs=new D.H9(go);for(let bs=Nn;bs>=0;bs--){const Qr=gt+bs,bo=ci+bs;Fs.takeFromEndWhile(Yr=>Yr.lineNumber>bo);const Qi=Fs.takeFromEndWhile(Yr=>Yr.lineNumber===bo);Oe.push(new jn.rU(Qr,this.getLineContent(bo),Qi))}if(Nn<Bt&&Oe.push(new jn.lN(gt+Nn+1,Mt)),Nn<Zt){const bs=new D.H9(go),Qr=gt+Nn,bo=Zt-Nn,Qi=ae-Re-bo+Qr+1,Yr=[],Ka=[];for(let xr=0;xr<bo;xr++){const ts=Qi+xr;Ka[xr]=this.getLineContent(ts),bs.takeWhile(hr=>hr.lineNumber<ts),Yr[xr]=bs.takeWhile(hr=>hr.lineNumber===ts)}Oe.push(new jn.Tx(Qr+1,gt+Zt,Ka,Yr))}Re+=Xn}this._emitContentChangedEvent(new jn.dQ(Oe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:be,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===ne.reverseEdits?void 0:ne.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(h){if(null===h||0===h.size)return;const V=[...h].map(ne=>new jn.rU(ne,this.getLineContent(ne),this._getInjectedTextInLine(ne)));this._onDidChangeInjectedText.fire(new jn.D8(V))}changeDecorations(h,S=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(S,h)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(h,S){const V={addDecoration:(ae,be)=>this._deltaDecorationsImpl(h,[],[{range:ae,options:be}])[0],changeDecoration:(ae,be)=>{this._changeDecorationImpl(ae,be)},changeDecorationOptions:(ae,be)=>{this._changeDecorationOptionsImpl(ae,qs(be))},removeDecoration:ae=>{this._deltaDecorationsImpl(h,[ae],[])},deltaDecorations:(ae,be)=>0===ae.length&&0===be.length?[]:this._deltaDecorationsImpl(h,ae,be)};let ne=null;try{ne=S(V)}catch(ae){(0,Y.dL)(ae)}return V.addDecoration=Ro,V.changeDecoration=Ro,V.changeDecorationOptions=Ro,V.removeDecoration=Ro,V.deltaDecorations=Ro,ne}deltaDecorations(h,S,V=0){if(this._assertNotDisposed(),h||(h=[]),0===h.length&&0===S.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(V,h,S)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(h){return this.getDecorationRange(h)}_setTrackedRange(h,S,V){const ne=h?this._decorations[h]:null;if(!ne)return S?this._deltaDecorationsImpl(0,[],[{range:S,options:Rs[V]}])[0]:null;if(!S)return this._decorationsTree.delete(ne),delete this._decorations[ne.id],null;const ae=this._validateRangeRelaxedNoAllocations(S),be=this._buffer.getOffsetAt(ae.startLineNumber,ae.startColumn),Oe=this._buffer.getOffsetAt(ae.endLineNumber,ae.endColumn);return this._decorationsTree.delete(ne),ne.reset(this.getVersionId(),be,Oe,ae),ne.setOptions(Rs[V]),this._decorationsTree.insert(ne),ne.id}removeAllDecorationsWithOwnerId(h){if(this._isDisposed)return;const S=this._decorationsTree.collectNodesFromOwner(h);for(let V=0,ne=S.length;V<ne;V++){const ae=S[V];this._decorationsTree.delete(ae),delete this._decorations[ae.id]}}getDecorationOptions(h){const S=this._decorations[h];return S?S.options:null}getDecorationRange(h){const S=this._decorations[h];return S?this._decorationsTree.getNodeRange(this,S):null}getLineDecorations(h,S=0,V=!1){return h<1||h>this.getLineCount()?[]:this.getLinesDecorations(h,h,S,V)}getLinesDecorations(h,S,V=0,ne=!1){const ae=this.getLineCount(),be=Math.min(ae,Math.max(1,h)),Oe=Math.min(ae,Math.max(1,S)),Re=this.getLineMaxColumn(Oe),Ze=new P.e(be,1,Oe,Re),Qe=this._getDecorationsInRange(Ze,V,ne);return Qe.push(...this._decorationProvider.getDecorationsInRange(Ze,V,ne)),Qe}getDecorationsInRange(h,S=0,V=!1){const ne=this.validateRange(h),ae=this._getDecorationsInRange(ne,S,V);return ae.push(...this._decorationProvider.getDecorationsInRange(ne,S,V)),ae}getOverviewRulerDecorations(h=0,S=!1){return this._decorationsTree.getAll(this,h,S,!0)}getInjectedTextDecorations(h=0){return this._decorationsTree.getAllInjectedText(this,h)}_getInjectedTextInLine(h){const S=this._buffer.getOffsetAt(h,1),V=S+this._buffer.getLineLength(h),ne=this._decorationsTree.getInjectedTextInInterval(this,S,V,0);return jn.gk.fromDecorations(ne).filter(ae=>ae.lineNumber===h)}getAllDecorations(h=0,S=!1){let V=this._decorationsTree.getAll(this,h,S,!1);return V=V.concat(this._decorationProvider.getAllDecorations(h,S)),V}_getDecorationsInRange(h,S,V){const ne=this._buffer.getOffsetAt(h.startLineNumber,h.startColumn),ae=this._buffer.getOffsetAt(h.endLineNumber,h.endColumn);return this._decorationsTree.getAllInInterval(this,ne,ae,S,V)}getRangeAt(h,S){return this._buffer.getRangeAt(h,S-h)}_changeDecorationImpl(h,S){const V=this._decorations[h];if(!V)return;if(V.options.after){const Oe=this.getDecorationRange(h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Oe.endLineNumber)}if(V.options.before){const Oe=this.getDecorationRange(h);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Oe.startLineNumber)}const ne=this._validateRangeRelaxedNoAllocations(S),ae=this._buffer.getOffsetAt(ne.startLineNumber,ne.startColumn),be=this._buffer.getOffsetAt(ne.endLineNumber,ne.endColumn);this._decorationsTree.delete(V),V.reset(this.getVersionId(),ae,be,ne),this._decorationsTree.insert(V),this._onDidChangeDecorations.checkAffectedAndFire(V.options),V.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ne.endLineNumber),V.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ne.startLineNumber)}_changeDecorationOptionsImpl(h,S){const V=this._decorations[h];if(!V)return;const ne=!(!V.options.overviewRuler||!V.options.overviewRuler.color),ae=!(!S.overviewRuler||!S.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(V.options),this._onDidChangeDecorations.checkAffectedAndFire(S),V.options.after||S.after){const be=this._decorationsTree.getNodeRange(this,V);this._onDidChangeDecorations.recordLineAffectedByInjectedText(be.endLineNumber)}if(V.options.before||S.before){const be=this._decorationsTree.getNodeRange(this,V);this._onDidChangeDecorations.recordLineAffectedByInjectedText(be.startLineNumber)}ne!==ae?(this._decorationsTree.delete(V),V.setOptions(S),this._decorationsTree.insert(V)):V.setOptions(S)}_deltaDecorationsImpl(h,S,V){const ne=this.getVersionId(),ae=S.length;let be=0;const Oe=V.length;let Re=0;const Ze=new Array(Oe);for(;be<ae||Re<Oe;){let Qe=null;if(be<ae){do{Qe=this._decorations[S[be++]]}while(!Qe&&be<ae);if(Qe){if(Qe.options.after){const ot=this._decorationsTree.getNodeRange(this,Qe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ot.endLineNumber)}if(Qe.options.before){const ot=this._decorationsTree.getNodeRange(this,Qe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ot.startLineNumber)}this._decorationsTree.delete(Qe),this._onDidChangeDecorations.checkAffectedAndFire(Qe.options)}}if(Re<Oe){if(!Qe){const Zt=++this._lastDecorationId,Nn=`${this._instanceId};${Zt}`;Qe=new Se(Nn,0,0),this._decorations[Nn]=Qe}const ot=V[Re],ht=this._validateRangeRelaxedNoAllocations(ot.range),gt=qs(ot.options),Mt=this._buffer.getOffsetAt(ht.startLineNumber,ht.startColumn),Bt=this._buffer.getOffsetAt(ht.endLineNumber,ht.endColumn);Qe.ownerId=h,Qe.reset(ne,Mt,Bt,ht),Qe.setOptions(gt),Qe.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ht.endLineNumber),Qe.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ht.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(gt),this._decorationsTree.insert(Qe),Ze[Re]=Qe.id,Re++}else Qe&&delete this._decorations[Qe.id]}return Ze}setTokens(h,S=!1){if(0!==h.length){const V=[];for(let ne=0,ae=h.length;ne<ae;ne++){const be=h[ne];let Oe=0,Re=0,Ze=!1;for(let Qe=be.startLineNumber;Qe<=be.endLineNumber;Qe++)Ze?(this._tokens.setTokens(this._languageId,Qe-1,this._buffer.getLineLength(Qe),be.getLineTokens(Qe),!1),Re=Qe):this._tokens.setTokens(this._languageId,Qe-1,this._buffer.getLineLength(Qe),be.getLineTokens(Qe),!0)&&(Ze=!0,Oe=Qe,Re=Qe);Ze&&V.push({fromLineNumber:Oe,toLineNumber:Re})}V.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:V})}this.handleTokenizationProgress(S)}setSemanticTokens(h,S){this._semanticTokens.set(h,S),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==h,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(h,S){if(this.hasCompleteSemanticTokens())return;const V=this.validateRange(this._semanticTokens.setPartial(h,S));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:V.startLineNumber,toLineNumber:V.endLineNumber}]})}tokenizeViewport(h,S){h=Math.max(1,h),S=Math.min(this._buffer.getLineCount(),S),this._tokenization.tokenizeViewport(h,S)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(h){this._isDisposing||(this._bracketPairColorizer.handleDidChangeTokens(h),this._onDidChangeTokens.fire(h))}resetTokenization(){this._tokenization.reset()}forceTokenization(h){if(h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(h)}isCheapToTokenize(h){return this._tokenization.isCheapToTokenize(h)}tokenizeIfCheap(h){this.isCheapToTokenize(h)&&this.forceTokenization(h)}getLineTokens(h){if(h<1||h>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(h)}_getLineTokens(h){const S=this.getLineContent(h),V=this._tokens.getTokens(this._languageId,h-1,S);return this._semanticTokens.addSparseTokens(h,V)}getLanguageId(){return this._languageId}setMode(h){if(this._languageId===h)return;const S={oldLanguage:this._languageId,newLanguage:h};this._languageId=h,this._bracketPairColorizer.handleDidChangeLanguage(S),this._tokenization.handleDidChangeLanguage(S),this._onDidChangeLanguage.fire(S),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(h,S){const V=this.validatePosition(new B.L(h,S)),ne=this.getLineTokens(V.lineNumber);return ne.getLanguageId(ne.findTokenIndexAtOffset(V.column-1))}getTokenTypeIfInsertingCharacter(h,S,V){const ne=this.validatePosition(new B.L(h,S));return this._tokenization.getTokenTypeIfInsertingCharacter(ne,V)}tokenizeLineWithEdit(h,S,V){const ne=this.validatePosition(h);return this._tokenization.tokenizeLineWithEdit(ne,S,V)}getLanguageConfiguration(h){return this._languageConfigurationService.getLanguageConfiguration(h)}getWordAtPosition(h){this._assertNotDisposed();const S=this.validatePosition(h),V=this.getLineContent(S.lineNumber),ne=this._getLineTokens(S.lineNumber),ae=ne.findTokenIndexAtOffset(S.column-1),[be,Oe]=uu._findLanguageBoundaries(ne,ae),Re=(0,yo.t2)(S.column,this.getLanguageConfiguration(ne.getLanguageId(ae)).getWordDefinition(),V.substring(be,Oe),be);if(Re&&Re.startColumn<=h.column&&h.column<=Re.endColumn)return Re;if(ae>0&&be===S.column-1){const[Ze,Qe]=uu._findLanguageBoundaries(ne,ae-1),ot=(0,yo.t2)(S.column,this.getLanguageConfiguration(ne.getLanguageId(ae-1)).getWordDefinition(),V.substring(Ze,Qe),Ze);if(ot&&ot.startColumn<=h.column&&h.column<=ot.endColumn)return ot}return null}static _findLanguageBoundaries(h,S){const V=h.getLanguageId(S);let ne=0;for(let be=S;be>=0&&h.getLanguageId(be)===V;be--)ne=h.getStartOffset(be);let ae=h.getLineContent().length;for(let be=S,Oe=h.getCount();be<Oe&&h.getLanguageId(be)===V;be++)ae=h.getEndOffset(be);return[ne,ae]}getWordUntilPosition(h){const S=this.getWordAtPosition(h);return S?{word:S.word.substr(0,h.column-S.startColumn),startColumn:S.startColumn,endColumn:h.column}:{word:"",startColumn:h.column,endColumn:h.column}}normalizePosition(h,S){return h}getLineIndentColumn(h){return function(A){let h=0;for(const S of A){if(" "!==S&&"\t"!==S)break;h++}return h}(this.getLineContent(h))+1}};function Sr(A){return!(!A.options.overviewRuler||!A.options.overviewRuler.color)}function Qo(A){return!!A.options.after||!!A.options.before}So.MODEL_SYNC_LIMIT=52428800,So.LARGE_FILE_SIZE_THRESHOLD=20971520,So.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,So.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:ko.D.tabSize,indentSize:ko.D.indentSize,insertSpaces:ko.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:ko.D.trimAutoWhitespace,largeFileOptimizations:ko.D.largeFileOptimizations,bracketPairColorizationOptions:ko.D.bracketPairColorizationOptions},So=function(A,h,S,V){var be,ne=arguments.length,ae=ne<3?h:null===V?V=Object.getOwnPropertyDescriptor(h,S):V;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(A,h,S,V);else for(var Oe=A.length-1;Oe>=0;Oe--)(be=A[Oe])&&(ae=(ne<3?be(ae):ne>3?be(h,S,ae):be(h,S))||ae);return ne>3&&ae&&Object.defineProperty(h,S,ae),ae}([Go(4,oo.tJ),Go(5,Io.O),Go(6,fo.c_)],So);class Xs{constructor(){this._decorationsTree0=new at,this._decorationsTree1=new at,this._injectedTextDecorationsTree=new at}ensureAllNodesHaveRanges(h){this.getAll(h,0,!1,!1)}_ensureNodesHaveRanges(h,S){for(const V of S)null===V.range&&(V.range=h.getRangeAt(V.cachedAbsoluteStart,V.cachedAbsoluteEnd));return S}getAllInInterval(h,S,V,ne,ae){const be=h.getVersionId(),Oe=this._intervalSearch(S,V,ne,ae,be);return this._ensureNodesHaveRanges(h,Oe)}_intervalSearch(h,S,V,ne,ae){const be=this._decorationsTree0.intervalSearch(h,S,V,ne,ae),Oe=this._decorationsTree1.intervalSearch(h,S,V,ne,ae),Re=this._injectedTextDecorationsTree.intervalSearch(h,S,V,ne,ae);return be.concat(Oe).concat(Re)}getInjectedTextInInterval(h,S,V,ne){const ae=h.getVersionId(),be=this._injectedTextDecorationsTree.intervalSearch(S,V,ne,!1,ae);return this._ensureNodesHaveRanges(h,be).filter(Oe=>Oe.options.showIfCollapsed||!Oe.range.isEmpty())}getAllInjectedText(h,S){const V=h.getVersionId(),ne=this._injectedTextDecorationsTree.search(S,!1,V);return this._ensureNodesHaveRanges(h,ne).filter(ae=>ae.options.showIfCollapsed||!ae.range.isEmpty())}getAll(h,S,V,ne){const ae=h.getVersionId(),be=this._search(S,V,ne,ae);return this._ensureNodesHaveRanges(h,be)}_search(h,S,V,ne){if(V)return this._decorationsTree1.search(h,S,ne);{const ae=this._decorationsTree0.search(h,S,ne),be=this._decorationsTree1.search(h,S,ne),Oe=this._injectedTextDecorationsTree.search(h,S,ne);return ae.concat(be).concat(Oe)}}collectNodesFromOwner(h){const S=this._decorationsTree0.collectNodesFromOwner(h),V=this._decorationsTree1.collectNodesFromOwner(h),ne=this._injectedTextDecorationsTree.collectNodesFromOwner(h);return S.concat(V).concat(ne)}collectNodesPostOrder(){const h=this._decorationsTree0.collectNodesPostOrder(),S=this._decorationsTree1.collectNodesPostOrder(),V=this._injectedTextDecorationsTree.collectNodesPostOrder();return h.concat(S).concat(V)}insert(h){Qo(h)?this._injectedTextDecorationsTree.insert(h):Sr(h)?this._decorationsTree1.insert(h):this._decorationsTree0.insert(h)}delete(h){Qo(h)?this._injectedTextDecorationsTree.delete(h):Sr(h)?this._decorationsTree1.delete(h):this._decorationsTree0.delete(h)}getNodeRange(h,S){const V=h.getVersionId();return S.cachedVersionId!==V&&this._resolveNode(S,V),null===S.range&&(S.range=h.getRangeAt(S.cachedAbsoluteStart,S.cachedAbsoluteEnd)),S.range}_resolveNode(h,S){Qo(h)?this._injectedTextDecorationsTree.resolveNode(h,S):Sr(h)?this._decorationsTree1.resolveNode(h,S):this._decorationsTree0.resolveNode(h,S)}acceptReplace(h,S,V,ne){this._decorationsTree0.acceptReplace(h,S,V,ne),this._decorationsTree1.acceptReplace(h,S,V,ne),this._injectedTextDecorationsTree.acceptReplace(h,S,V,ne)}}function Vo(A){return A.replace(/[^a-z0-9\-_]/gi," ")}class Cs{constructor(h){this.color=h.color||"",this.darkColor=h.darkColor||""}}class ur extends Cs{constructor(h){super(h),this._resolvedColor=null,this.position="number"==typeof h.position?h.position:C.sh.Center}getColor(h){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==h.type&&this.darkColor?this.darkColor:this.color,h)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(h,S){if("string"==typeof h)return h;const V=h?S.getColor(h.id):null;return V?V.toString():""}}class Sa extends Cs{constructor(h){super(h),this.position=h.position}getColor(h){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==h.type&&this.darkColor?this.darkColor:this.color,h)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(h,S){return"string"==typeof h?g.Il.fromHex(h):S.getColor(h.id)}}class ji{constructor(h){this.content=h.content||"",this.inlineClassName=h.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=h.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=h.attachedData||null,this.cursorStops=h.cursorStops||null}static from(h){return h instanceof ji?h:new ji(h)}}class Lo{constructor(h){var S,V;this.description=h.description,this.stickiness=h.stickiness||0,this.zIndex=h.zIndex||0,this.className=h.className?Vo(h.className):null,this.hoverMessage=h.hoverMessage||null,this.glyphMarginHoverMessage=h.glyphMarginHoverMessage||null,this.isWholeLine=h.isWholeLine||!1,this.showIfCollapsed=h.showIfCollapsed||!1,this.collapseOnReplaceEdit=h.collapseOnReplaceEdit||!1,this.overviewRuler=h.overviewRuler?new ur(h.overviewRuler):null,this.minimap=h.minimap?new Sa(h.minimap):null,this.glyphMarginClassName=h.glyphMarginClassName?Vo(h.glyphMarginClassName):null,this.linesDecorationsClassName=h.linesDecorationsClassName?Vo(h.linesDecorationsClassName):null,this.firstLineDecorationClassName=h.firstLineDecorationClassName?Vo(h.firstLineDecorationClassName):null,this.marginClassName=h.marginClassName?Vo(h.marginClassName):null,this.inlineClassName=h.inlineClassName?Vo(h.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=h.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=h.beforeContentClassName?Vo(h.beforeContentClassName):null,this.afterContentClassName=h.afterContentClassName?Vo(h.afterContentClassName):null,this.after=h.after?ji.from(h.after):null,this.before=h.before?ji.from(h.before):null,this.hideInCommentTokens=null!==(S=h.hideInCommentTokens)&&void 0!==S&&S,this.hideInStringTokens=null!==(V=h.hideInStringTokens)&&void 0!==V&&V}static register(h){return new Lo(h)}static createDynamic(h){return new Lo(h)}}Lo.EMPTY=Lo.register({description:"empty"});const Rs=[Lo.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Lo.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Lo.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Lo.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function qs(A){return A instanceof Lo?A:Lo.createDynamic(A)}class bl extends M.JT{constructor(h){super(),this.handleBeforeFire=h,this._actual=this._register(new W.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var h;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const S={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(S)}null===(h=this._affectedInjectedTextLines)||void 0===h||h.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(h){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(h)}checkAffectedAndFire(h){this._affectsMinimap||(this._affectsMinimap=!(!h.minimap||!h.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!h.overviewRuler||!h.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class yt extends M.JT{constructor(){super(),this._fastEmitter=this._register(new W.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new W.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(h=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=h;const S=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(S),this._slowEmitter.fire(S)}}fire(h){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(h):h:(this._fastEmitter.fire(h),this._slowEmitter.fire(h))}}},82711:(Fe,Ee,p)=>{p.d(Ee,{bc:()=>T,iE:()=>P,pM:()=>C,cM:()=>f,sz:()=>E});var D=p(74243),g=p(81346),Y=p(67947),W=p(1873),M=p(80067);class T{constructor(L,N,Z,O){this.searchString=L,this.isRegex=N,this.matchCase=Z,this.wordSeparators=O}parseSearchRequest(){if(""===this.searchString)return null;let L;L=this.isRegex?function(z){if(!z||0===z.length)return!1;for(let L=0,N=z.length;L<N;L++)if(92===z.charCodeAt(L)){if(L++,L>=N)break;const O=z.charCodeAt(L);if(110===O||114===O||87===O)return!0}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let N=null;try{N=D.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:L,global:!0,unicode:!0})}catch{return null}if(!N)return null;let Z=!this.isRegex&&!L;return Z&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(Z=this.matchCase),new M.Tx(N,this.wordSeparators?(0,g.u)(this.wordSeparators):null,Z?this.searchString:null)}}function P(z,L,N){if(!N)return new M.tk(z,null);const Z=[];for(let O=0,I=L.length;O<I;O++)Z[O]=L[O];return new M.tk(z,Z)}class y{constructor(L){const N=[];let Z=0;for(let O=0,I=L.length;O<I;O++)10===L.charCodeAt(O)&&(N[Z++]=O);this._lineFeedsOffsets=N}findLineFeedCountBeforeOffset(L){const N=this._lineFeedsOffsets;let Z=0,O=N.length-1;if(-1===O||L<=N[0])return 0;for(;Z<O;){const I=Z+((O-Z)/2>>0);N[I]>=L?O=I-1:N[I+1]>=L?(Z=I,O=I):Z=I+1}return Z+1}}class C{static findMatches(L,N,Z,O,I){const $=N.parseSearchRequest();return $?$.regex.multiline?this._doFindMatchesMultiline(L,Z,new E($.wordSeparators,$.regex),O,I):this._doFindMatchesLineByLine(L,Z,$,O,I):[]}static _getMultilineMatchRange(L,N,Z,O,I,$){let j,oe,G=0;if(O?(G=O.findLineFeedCountBeforeOffset(I),j=N+I+G):j=N+I,O){const ye=O.findLineFeedCountBeforeOffset(I+$.length)-G;oe=j+$.length+ye}else oe=j+$.length;const de=L.getPositionAt(j),fe=L.getPositionAt(oe);return new W.e(de.lineNumber,de.column,fe.lineNumber,fe.column)}static _doFindMatchesMultiline(L,N,Z,O,I){const $=L.getOffsetAt(N.getStartPosition()),j=L.getValueInRange(N,1),G="\r\n"===L.getEOL()?new y(j):null,oe=[];let fe,de=0;for(Z.reset(0);fe=Z.next(j);)if(oe[de++]=P(this._getMultilineMatchRange(L,$,j,G,fe.index,fe[0]),fe,O),de>=I)return oe;return oe}static _doFindMatchesLineByLine(L,N,Z,O,I){const $=[];let j=0;if(N.startLineNumber===N.endLineNumber){const oe=L.getLineContent(N.startLineNumber).substring(N.startColumn-1,N.endColumn-1);return j=this._findMatchesInLine(Z,oe,N.startLineNumber,N.startColumn-1,j,$,O,I),$}const G=L.getLineContent(N.startLineNumber).substring(N.startColumn-1);j=this._findMatchesInLine(Z,G,N.startLineNumber,N.startColumn-1,j,$,O,I);for(let oe=N.startLineNumber+1;oe<N.endLineNumber&&j<I;oe++)j=this._findMatchesInLine(Z,L.getLineContent(oe),oe,0,j,$,O,I);if(j<I){const oe=L.getLineContent(N.endLineNumber).substring(0,N.endColumn-1);j=this._findMatchesInLine(Z,oe,N.endLineNumber,0,j,$,O,I)}return $}static _findMatchesInLine(L,N,Z,O,I,$,j,G){const oe=L.wordSeparators;if(!j&&L.simpleSearch){const pe=L.simpleSearch,ye=pe.length,ge=N.length;let Q=-ye;for(;-1!==(Q=N.indexOf(pe,Q+ye));)if((!oe||f(oe,N,ge,Q,ye))&&($[I++]=new M.tk(new W.e(Z,Q+1+O,Z,Q+1+ye+O),null),I>=G))return I;return I}const de=new E(L.wordSeparators,L.regex);let fe;de.reset(0);do{if(fe=de.next(N),fe&&($[I++]=P(new W.e(Z,fe.index+1+O,Z,fe.index+1+fe[0].length+O),fe,j),I>=G))return I}while(fe);return I}static findNextMatch(L,N,Z,O){const I=N.parseSearchRequest();if(!I)return null;const $=new E(I.wordSeparators,I.regex);return I.regex.multiline?this._doFindNextMatchMultiline(L,Z,$,O):this._doFindNextMatchLineByLine(L,Z,$,O)}static _doFindNextMatchMultiline(L,N,Z,O){const I=new Y.L(N.lineNumber,1),$=L.getOffsetAt(I),j=L.getLineCount(),G=L.getValueInRange(new W.e(I.lineNumber,I.column,j,L.getLineMaxColumn(j)),1),oe="\r\n"===L.getEOL()?new y(G):null;Z.reset(N.column-1);let de=Z.next(G);return de?P(this._getMultilineMatchRange(L,$,G,oe,de.index,de[0]),de,O):1!==N.lineNumber||1!==N.column?this._doFindNextMatchMultiline(L,new Y.L(1,1),Z,O):null}static _doFindNextMatchLineByLine(L,N,Z,O){const I=L.getLineCount(),$=N.lineNumber,j=L.getLineContent($),G=this._findFirstMatchInLine(Z,j,$,N.column,O);if(G)return G;for(let oe=1;oe<=I;oe++){const de=($+oe-1)%I,fe=L.getLineContent(de+1),pe=this._findFirstMatchInLine(Z,fe,de+1,1,O);if(pe)return pe}return null}static _findFirstMatchInLine(L,N,Z,O,I){L.reset(O-1);const $=L.next(N);return $?P(new W.e(Z,$.index+1,Z,$.index+1+$[0].length),$,I):null}static findPreviousMatch(L,N,Z,O){const I=N.parseSearchRequest();if(!I)return null;const $=new E(I.wordSeparators,I.regex);return I.regex.multiline?this._doFindPreviousMatchMultiline(L,Z,$,O):this._doFindPreviousMatchLineByLine(L,Z,$,O)}static _doFindPreviousMatchMultiline(L,N,Z,O){const I=this._doFindMatchesMultiline(L,new W.e(1,1,N.lineNumber,N.column),Z,O,9990);if(I.length>0)return I[I.length-1];const $=L.getLineCount();return N.lineNumber!==$||N.column!==L.getLineMaxColumn($)?this._doFindPreviousMatchMultiline(L,new Y.L($,L.getLineMaxColumn($)),Z,O):null}static _doFindPreviousMatchLineByLine(L,N,Z,O){const I=L.getLineCount(),$=N.lineNumber,j=L.getLineContent($).substring(0,N.column-1),G=this._findLastMatchInLine(Z,j,$,O);if(G)return G;for(let oe=1;oe<=I;oe++){const de=(I+$-oe-1)%I,fe=L.getLineContent(de+1),pe=this._findLastMatchInLine(Z,fe,de+1,O);if(pe)return pe}return null}static _findLastMatchInLine(L,N,Z,O){let $,I=null;for(L.reset(0);$=L.next(N);)I=P(new W.e(Z,$.index+1,Z,$.index+1+$[0].length),$,O);return I}}function f(z,L,N,Z,O){return function(z,L,N,Z,O){if(0===Z)return!0;const I=L.charCodeAt(Z-1);if(0!==z.get(I)||13===I||10===I)return!0;if(O>0){const $=L.charCodeAt(Z);if(0!==z.get($))return!0}return!1}(z,L,0,Z,O)&&function(z,L,N,Z,O){if(Z+O===N)return!0;const I=L.charCodeAt(Z+O);if(0!==z.get(I)||13===I||10===I)return!0;if(O>0){const $=L.charCodeAt(Z+O-1);if(0!==z.get($))return!0}return!1}(z,L,N,Z,O)}class E{constructor(L,N){this._wordSeparators=L,this._searchRegex=N,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(L){this._searchRegex.lastIndex=L,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(L){const N=L.length;let Z;do{if(this._prevMatchStartIndex+this._prevMatchLength===N||(Z=this._searchRegex.exec(L),!Z))return null;const O=Z.index,I=Z[0].length;if(O===this._prevMatchStartIndex&&I===this._prevMatchLength){if(0===I){D.ZH(L,N,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=O,this._prevMatchLength=I,!this._wordSeparators||f(this._wordSeparators,L,N,O,I))return Z}while(Z);return null}}},50817:(Fe,Ee,p)=>{function D(g,Y){let W=0,M=0;const i=g.length;for(;M<i;){const T=g.charCodeAt(M);if(32===T)W++;else{if(9!==T)break;W=W-W%Y+Y}M++}return M===i?-1:W}p.d(Ee,{q:()=>D})},78339:(Fe,Ee,p)=>{p.d(Ee,{p:()=>Y});const Y=(0,p(43569).yh)("editorWorkerService")},82437:(Fe,Ee,p)=>{p.d(Ee,{OG:()=>de,ML:()=>I,KO:()=>G,Jc:()=>Z,Vl:()=>z,Vj:()=>L});var D=p(66607),g=p(13226),Y=p(85459),W=p(39067),M=p(10467),i=p(99770),T=p(90386),B=p(70700);function C(fe){const pe=new Uint32Array(function(fe){let pe=0;if(pe+=2,"full"===fe.type)pe+=1+fe.data.length;else{pe+=1,pe+=3*fe.deltas.length;for(const ye of fe.deltas)ye.data&&(pe+=ye.data.length)}return pe}(fe));let ye=0;if(pe[ye++]=fe.id,"full"===fe.type)pe[ye++]=1,pe[ye++]=fe.data.length,pe.set(fe.data,ye),ye+=fe.data.length;else{pe[ye++]=2,pe[ye++]=fe.deltas.length;for(const ge of fe.deltas)pe[ye++]=ge.start,pe[ye++]=ge.deleteCount,ge.data?(pe[ye++]=ge.data.length,pe.set(ge.data,ye),ye+=ge.data.length):pe[ye++]=0}return function(fe){const pe=new Uint8Array(fe.buffer,fe.byteOffset,4*fe.length);return B.r()||function(fe){for(let pe=0,ye=fe.length;pe<ye;pe+=4){const ge=fe[pe+0],Q=fe[pe+1],ee=fe[pe+2];fe[pe+0]=fe[pe+3],fe[pe+1]=ee,fe[pe+2]=Q,fe[pe+3]=ge}}(pe),T.KN.wrap(pe)}(pe)}var x=p(1873),f=p(3494),E=function(fe,pe,ye,ge){return new(ye||(ye=Promise))(function(ee,le){function te(ce){try{re(ge.next(ce))}catch(ve){le(ve)}}function J(ce){try{re(ge.throw(ce))}catch(ve){le(ve)}}function re(ce){ce.done?ee(ce.value):function(ee){return ee instanceof ye?ee:new ye(function(le){le(ee)})}(ce.value).then(te,J)}re((ge=ge.apply(fe,pe||[])).next())})};function z(fe){return fe&&!!fe.data}function L(fe){return fe&&Array.isArray(fe.edits)}class N{constructor(pe,ye,ge){this.provider=pe,this.tokens=ye,this.error=ge}}function Z(fe,pe){return fe.has(pe)}function I(fe,pe,ye,ge,Q){return E(this,void 0,void 0,function*(){const ee=function(fe,pe){const ye=fe.orderedGroups(pe);return ye.length>0?ye[0]:[]}(fe,pe),le=yield Promise.all(ee.map(te=>E(this,void 0,void 0,function*(){let J,re=null;try{J=yield te.provideDocumentSemanticTokens(pe,te===ye?ge:null,Q)}catch(ce){re=ce,J=null}return(!J||!z(J)&&!L(J))&&(J=null),new N(te,J,re)})));for(const te of le){if(te.error)throw te.error;if(te.tokens)return te}return le.length>0?le[0]:null})}class j{constructor(pe,ye){this.provider=pe,this.tokens=ye}}function G(fe,pe){return fe.has(pe)}function oe(fe,pe){const ye=fe.orderedGroups(pe);return ye.length>0?ye[0]:[]}function de(fe,pe,ye,ge){return E(this,void 0,void 0,function*(){const Q=oe(fe,pe),ee=yield Promise.all(Q.map(le=>E(this,void 0,void 0,function*(){let te;try{te=yield le.provideDocumentRangeSemanticTokens(pe,ye,ge)}catch(J){(0,g.Cp)(J),te=null}return(!te||!z(te))&&(te=null),new j(le,te)})));for(const le of ee)if(le.tokens)return le;return ee.length>0?ee[0]:null})}M.P0.registerCommand("_provideDocumentSemanticTokensLegend",(fe,...pe)=>E(void 0,void 0,void 0,function*(){const[ye]=pe;(0,i.p_)(ye instanceof Y.o);const ge=fe.get(W.q).getModel(ye);if(!ge)return;const{documentSemanticTokensProvider:Q}=fe.get(f.p),ee=function(fe,pe){const ye=fe.orderedGroups(pe);return ye.length>0?ye[0]:null}(Q,ge);return ee?ee[0].getLegend():fe.get(M.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",ye)})),M.P0.registerCommand("_provideDocumentSemanticTokens",(fe,...pe)=>E(void 0,void 0,void 0,function*(){const[ye]=pe;(0,i.p_)(ye instanceof Y.o);const ge=fe.get(W.q).getModel(ye);if(!ge)return;const{documentSemanticTokensProvider:Q}=fe.get(f.p);if(!Z(Q,ge))return fe.get(M.Hy).executeCommand("_provideDocumentRangeSemanticTokens",ye,ge.getFullModelRange());const ee=yield I(Q,ge,null,null,D.T.None);if(!ee)return;const{provider:le,tokens:te}=ee;if(!te||!z(te))return;const J=C({id:0,type:"full",data:te.data});return te.resultId&&le.releaseDocumentSemanticTokens(te.resultId),J})),M.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(fe,...pe)=>E(void 0,void 0,void 0,function*(){const[ye,ge]=pe;(0,i.p_)(ye instanceof Y.o);const Q=fe.get(W.q).getModel(ye);if(!Q)return;const{documentRangeSemanticTokensProvider:ee}=fe.get(f.p),le=oe(ee,Q);if(0===le.length)return;if(1===le.length)return le[0].getLegend();if(!ge||!x.e.isIRange(ge))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),le[0].getLegend();const te=yield de(ee,Q,x.e.lift(ge),D.T.None);return te?te.provider.getLegend():void 0})),M.P0.registerCommand("_provideDocumentRangeSemanticTokens",(fe,...pe)=>E(void 0,void 0,void 0,function*(){const[ye,ge]=pe;(0,i.p_)(ye instanceof Y.o),(0,i.p_)(x.e.isIRange(ge));const Q=fe.get(W.q).getModel(ye);if(!Q)return;const{documentRangeSemanticTokensProvider:ee}=fe.get(f.p),le=yield de(ee,Q,x.e.lift(ge),D.T.None);return le&&le.tokens?C({id:0,type:"full",data:le.tokens.data}):void 0}))},85034:(Fe,Ee,p)=>{p.d(Ee,{A:()=>P});var D=p(11791),g=p(33439),Y=p(31096),W=p(26033),M=p(43569),i=p(2646);const P=(0,M.yh)("ILanguageFeatureDebounceService");var y;!function(x){const f=new WeakMap;let E=0;x.of=function(L){let N=f.get(L);return void 0===N&&(N=++E,f.set(L,N)),N}}(y||(y={}));class C{constructor(f,E,z,L,N,Z){this._logService=f,this._name=E,this._registry=z,this._default=L,this._min=N,this._max=Z,this._cache=new g.z6(50,.7)}_key(f){return f.id+this._registry.all(f).reduce((E,z)=>(0,D.SP)(y.of(z),E),0)}get(f){const E=this._key(f),z=this._cache.get(E);return z?(0,Y.uZ)(z.value,this._min,this._max):this.default()}update(f,E){const z=this._key(f);let L=this._cache.get(z);L||(L=new Y.N(6),this._cache.set(z,L));const N=(0,Y.uZ)(L.update(E),this._min,this._max);return this._logService.trace(`[DEBOUNCE: ${this._name}] for ${f.uri.toString()} is ${N}ms`),N}_overall(){const f=new Y.nM;for(const[,E]of this._cache)f.update(E.value);return f.value}default(){const f=0|this._overall()||this._default;return(0,Y.uZ)(f,this._min,this._max)}}let b=class{constructor(f){this._logService=f,this._data=new Map}for(f,E,z){var L,N,Z;const O=null!==(L=null==z?void 0:z.min)&&void 0!==L?L:50,I=null!==(N=null==z?void 0:z.max)&&void 0!==N?N:Math.pow(O,2),$=null!==(Z=null==z?void 0:z.key)&&void 0!==Z?Z:void 0,j=`${y.of(f)},${O}${$?","+$:""}`;let G=this._data.get(j);return G||(G=new C(this._logService,E,f,0|this._overallAverage()||1.5*O,O,I),this._data.set(j,G)),G}_overallAverage(){let f=new Y.nM;for(let E of this._data.values())f.update(E.default());return f.value}};var f;b=function(x,f,E,z){var Z,L=arguments.length,N=L<3?f:null===z?z=Object.getOwnPropertyDescriptor(f,E):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(x,f,E,z);else for(var O=x.length-1;O>=0;O--)(Z=x[O])&&(N=(L<3?Z(N):L>3?Z(f,E,N):Z(f,E))||N);return L>3&&N&&Object.defineProperty(f,E,N),N}([(0,f=i.VZ,function(E,z){f(E,z,0)})],b),(0,W.z)(P,b,!0)},3494:(Fe,Ee,p)=>{p.d(Ee,{p:()=>g});const g=(0,p(43569).yh)("ILanguageFeaturesService")},64757:(Fe,Ee,p)=>{p.d(Ee,{i:()=>g});const g=(0,p(43569).yh)("markerDecorationsService")},39067:(Fe,Ee,p)=>{p.d(Ee,{q:()=>g});const g=(0,p(43569).yh)("modelService")},18548:(Fe,Ee,p)=>{p.d(Ee,{b$:()=>te,e3:()=>J,tw:()=>re});var D=p(71040),g=p(40189),Y=p(70700),W=p(13226),M=p(45023),i=p(27870),T=p(12282),B=p(80810),P=p(39067),y=p(34276),C=p(13011),b=p(89983),x=p(66607),f=p(53323),E=p(2646),z=p(10352),L=p(11791),N=p(40822),Z=p(98318),O=p(31128),I=p(82437),$=p(60842),j=p(92119),G=p(85034),oe=p(39932),de=p(3494),fe=function(Ue,ue,Ce,Ae){var Pe,et=arguments.length,Ye=et<3?ue:null===Ae?Ae=Object.getOwnPropertyDescriptor(ue,Ce):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ye=Reflect.decorate(Ue,ue,Ce,Ae);else for(var st=Ue.length-1;st>=0;st--)(Pe=Ue[st])&&(Ye=(et<3?Pe(Ye):et>3?Pe(ue,Ce,Ye):Pe(ue,Ce))||Ye);return et>3&&Ye&&Object.defineProperty(ue,Ce,Ye),Ye},pe=function(Ue,ue){return function(Ce,Ae){ue(Ce,Ae,Ue)}};function ye(Ue){return Ue.toString()}function ge(Ue){const ue=new L.yP,Ce=Ue.createSnapshot();let Ae;for(;Ae=Ce.read();)ue.update(Ae);return ue.digest()}class Q{constructor(ue,Ce,Ae){this._modelEventListeners=new g.SL,this.model=ue,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(ue.onWillDispose(()=>Ce(ue))),this._modelEventListeners.add(ue.onDidChangeLanguage(et=>Ae(ue,et)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(ue){this._disposeLanguageSelection(),this._languageSelection=ue,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(ue.languageId)),this.model.setMode(ue.languageId)}}const ee=Y.IJ||Y.dz?1:2;class le{constructor(ue,Ce,Ae,et,Ye,Pe,st,ut){this.uri=ue,this.initialUndoRedoSnapshot=Ce,this.time=Ae,this.sharesUndoRedoStack=et,this.heapSize=Ye,this.sha1=Pe,this.versionId=st,this.alternativeVersionId=ut}}let te=class pg extends g.JT{constructor(ue,Ce,Ae,et,Ye,Pe,st,ut,nt){super(),this._configurationService=ue,this._resourcePropertiesService=Ce,this._themeService=Ae,this._logService=et,this._undoRedoService=Ye,this._languageService=Pe,this._languageConfigurationService=st,this._languageFeatureDebounceService=ut,this._onModelAdded=this._register(new D.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new D.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new D.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new ve(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new ce(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,nt))}static _readModelOptions(ue,Ce){var Ae;let et=i.D.tabSize;if(ue.editor&&void 0!==ue.editor.tabSize){const Ct=parseInt(ue.editor.tabSize,10);isNaN(Ct)||(et=Ct),et<1&&(et=1)}let Ye=et;if(ue.editor&&void 0!==ue.editor.indentSize&&"tabSize"!==ue.editor.indentSize){const Ct=parseInt(ue.editor.indentSize,10);isNaN(Ct)||(Ye=Ct),Ye<1&&(Ye=1)}let Pe=i.D.insertSpaces;ue.editor&&void 0!==ue.editor.insertSpaces&&(Pe="false"!==ue.editor.insertSpaces&&Boolean(ue.editor.insertSpaces));let st=ee;const ut=ue.eol;"\r\n"===ut?st=2:"\n"===ut&&(st=1);let nt=i.D.trimAutoWhitespace;ue.editor&&void 0!==ue.editor.trimAutoWhitespace&&(nt="false"!==ue.editor.trimAutoWhitespace&&Boolean(ue.editor.trimAutoWhitespace));let Se=i.D.detectIndentation;ue.editor&&void 0!==ue.editor.detectIndentation&&(Se="false"!==ue.editor.detectIndentation&&Boolean(ue.editor.detectIndentation));let Ne=i.D.largeFileOptimizations;ue.editor&&void 0!==ue.editor.largeFileOptimizations&&(Ne="false"!==ue.editor.largeFileOptimizations&&Boolean(ue.editor.largeFileOptimizations));let at=i.D.bracketPairColorizationOptions;return(null===(Ae=ue.editor)||void 0===Ae?void 0:Ae.bracketPairColorization)&&"object"==typeof ue.editor.bracketPairColorization&&(at={enabled:!!ue.editor.bracketPairColorization.enabled}),{isForSimpleWidget:Ce,tabSize:et,indentSize:Ye,insertSpaces:Pe,detectIndentation:Se,defaultEOL:st,trimAutoWhitespace:nt,largeFileOptimizations:Ne,bracketPairColorizationOptions:at}}_getEOL(ue,Ce){if(ue)return this._resourcePropertiesService.getEOL(ue,Ce);const Ae=this._configurationService.getValue("files.eol",{overrideIdentifier:Ce});return Ae&&"string"==typeof Ae&&"auto"!==Ae?Ae:3===Y.OS||2===Y.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const ue=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof ue||ue}getCreationOptions(ue,Ce,Ae){let et=this._modelCreationOptionsByLanguageAndResource[ue+Ce];if(!et){const Ye=this._configurationService.getValue("editor",{overrideIdentifier:ue,resource:Ce}),Pe=this._getEOL(Ce,ue);et=pg._readModelOptions({editor:Ye,eol:Pe},Ae),this._modelCreationOptionsByLanguageAndResource[ue+Ce]=et}return et}_updateModelOptions(){const ue=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Ce=Object.keys(this._models);for(let Ae=0,et=Ce.length;Ae<et;Ae++){const Pe=this._models[Ce[Ae]],st=Pe.model.getLanguageId(),ut=Pe.model.uri,nt=ue[st+ut],Se=this.getCreationOptions(st,ut,Pe.model.isForSimpleWidget);pg._setModelOptionsForModel(Pe.model,Se,nt)}}static _setModelOptionsForModel(ue,Ce,Ae){Ae&&Ae.defaultEOL!==Ce.defaultEOL&&1===ue.getLineCount()&&ue.setEOL(1===Ce.defaultEOL?0:1),(!Ae||Ae.detectIndentation!==Ce.detectIndentation||Ae.insertSpaces!==Ce.insertSpaces||Ae.tabSize!==Ce.tabSize||Ae.indentSize!==Ce.indentSize||Ae.trimAutoWhitespace!==Ce.trimAutoWhitespace||!(0,$.fS)(Ae.bracketPairColorizationOptions,Ce.bracketPairColorizationOptions))&&(Ce.detectIndentation?(ue.detectIndentation(Ce.insertSpaces,Ce.tabSize),ue.updateOptions({trimAutoWhitespace:Ce.trimAutoWhitespace,bracketColorizationOptions:Ce.bracketPairColorizationOptions})):ue.updateOptions({insertSpaces:Ce.insertSpaces,tabSize:Ce.tabSize,indentSize:Ce.indentSize,trimAutoWhitespace:Ce.trimAutoWhitespace,bracketColorizationOptions:Ce.bracketPairColorizationOptions}))}_insertDisposedModel(ue){this._disposedModels.set(ye(ue.uri),ue),this._disposedModelsHeapSize+=ue.heapSize}_removeDisposedModel(ue){const Ce=this._disposedModels.get(ye(ue));return Ce&&(this._disposedModelsHeapSize-=Ce.heapSize),this._disposedModels.delete(ye(ue)),Ce}_ensureDisposedModelsHeapSize(ue){if(this._disposedModelsHeapSize>ue){const Ce=[];for(this._disposedModels.forEach(Ae=>{Ae.sharesUndoRedoStack||Ce.push(Ae)}),Ce.sort((Ae,et)=>Ae.time-et.time);Ce.length>0&&this._disposedModelsHeapSize>ue;){const Ae=Ce.shift();this._removeDisposedModel(Ae.uri),null!==Ae.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(Ae.initialUndoRedoSnapshot)}}}_createModelData(ue,Ce,Ae,et){const Ye=this.getCreationOptions(Ce,Ae,et),Pe=new M.yO(ue,Ce,Ye,Ae,this._undoRedoService,this._languageService,this._languageConfigurationService);if(Ae&&this._disposedModels.has(ye(Ae))){const nt=this._removeDisposedModel(Ae),Se=this._undoRedoService.getElements(Ae),Ne=ge(Pe)===nt.sha1;if(Ne||nt.sharesUndoRedoStack){for(const at of Se.past)(0,N.e9)(at)&&at.matchesResource(Ae)&&at.setModel(Pe);for(const at of Se.future)(0,N.e9)(at)&&at.matchesResource(Ae)&&at.setModel(Pe);this._undoRedoService.setElementsValidFlag(Ae,!0,at=>(0,N.e9)(at)&&at.matchesResource(Ae)),Ne&&(Pe._overwriteVersionId(nt.versionId),Pe._overwriteAlternativeVersionId(nt.alternativeVersionId),Pe._overwriteInitialUndoRedoSnapshot(nt.initialUndoRedoSnapshot))}else null!==nt.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(nt.initialUndoRedoSnapshot)}const st=ye(Pe.uri);if(this._models[st])throw new Error("ModelService: Cannot add model because it already exists!");const ut=new Q(Pe,nt=>this._onWillDispose(nt),(nt,Se)=>this._onDidChangeLanguage(nt,Se));return this._models[st]=ut,ut}createModel(ue,Ce,Ae,et=!1){let Ye;return Ce?(Ye=this._createModelData(ue,Ce.languageId,Ae,et),this.setMode(Ye.model,Ce)):Ye=this._createModelData(ue,T.bd,Ae,et),this._onModelAdded.fire(Ye.model),Ye.model}setMode(ue,Ce){if(!Ce)return;const Ae=this._models[ye(ue.uri)];!Ae||Ae.setLanguage(Ce)}getModels(){const ue=[],Ce=Object.keys(this._models);for(let Ae=0,et=Ce.length;Ae<et;Ae++)ue.push(this._models[Ce[Ae]].model);return ue}getModel(ue){const Ce=ye(ue),Ae=this._models[Ce];return Ae?Ae.model:null}getSemanticTokensProviderStyling(ue){return this._semanticStyling.get(ue)}_schemaShouldMaintainUndoRedoElements(ue){return ue.scheme===Z.lg.file||ue.scheme===Z.lg.vscodeRemote||ue.scheme===Z.lg.userData||ue.scheme===Z.lg.vscodeNotebookCell||"fake-fs"===ue.scheme}_onWillDispose(ue){const Ce=ye(ue.uri),Ae=this._models[Ce],et=this._undoRedoService.getUriComparisonKey(ue.uri)!==ue.uri.toString();let Ye=!1,Pe=0;if(et||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(ue.uri)){const ut=this._undoRedoService.getElements(ue.uri);if(ut.past.length>0||ut.future.length>0){for(const nt of ut.past)(0,N.e9)(nt)&&nt.matchesResource(ue.uri)&&(Ye=!0,Pe+=nt.heapSize(ue.uri),nt.setModel(ue.uri));for(const nt of ut.future)(0,N.e9)(nt)&&nt.matchesResource(ue.uri)&&(Ye=!0,Pe+=nt.heapSize(ue.uri),nt.setModel(ue.uri))}}const st=pg.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(Ye)if(!et&&Pe>st){const ut=Ae.model.getInitialUndoRedoSnapshot();null!==ut&&this._undoRedoService.restoreSnapshot(ut)}else this._ensureDisposedModelsHeapSize(st-Pe),this._undoRedoService.setElementsValidFlag(ue.uri,!1,ut=>(0,N.e9)(ut)&&ut.matchesResource(ue.uri)),this._insertDisposedModel(new le(ue.uri,Ae.model.getInitialUndoRedoSnapshot(),Date.now(),et,Pe,ge(ue),ue.getVersionId(),ue.getAlternativeVersionId()));else if(!et){const ut=Ae.model.getInitialUndoRedoSnapshot();null!==ut&&this._undoRedoService.restoreSnapshot(ut)}delete this._models[Ce],Ae.dispose(),delete this._modelCreationOptionsByLanguageAndResource[ue.getLanguageId()+ue.uri],this._onModelRemoved.fire(ue)}_onDidChangeLanguage(ue,Ce){const Ae=Ce.oldLanguage,et=ue.getLanguageId(),Ye=this.getCreationOptions(Ae,ue.uri,ue.isForSimpleWidget),Pe=this.getCreationOptions(et,ue.uri,ue.isForSimpleWidget);pg._setModelOptionsForModel(ue,Pe,Ye),this._onModelModeChanged.fire({model:ue,oldLanguageId:Ae})}};te.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,te=fe([pe(0,C.Ui),pe(1,y.y),pe(2,f.XE),pe(3,E.VZ),pe(4,z.tJ),pe(5,B.O),pe(6,j.c_),pe(7,G.A),pe(8,de.p)],te);const J="editor.semanticHighlighting";function re(Ue,ue,Ce){var Ae;const et=null===(Ae=Ce.getValue(J,{overrideIdentifier:Ue.getLanguageId(),resource:Ue.uri}))||void 0===Ae?void 0:Ae.enabled;return"boolean"==typeof et?et:ue.getColorTheme().semanticHighlighting}let ce=class extends g.JT{constructor(ue,Ce,Ae,et,Ye,Pe){super(),this._watchers=Object.create(null),this._semanticStyling=ue;const st=Se=>{this._watchers[Se.uri.toString()]=new We(Se,this._semanticStyling,Ae,Ye,Pe)},ut=(Se,Ne)=>{Ne.dispose(),delete this._watchers[Se.uri.toString()]},nt=()=>{for(let Se of Ce.getModels()){const Ne=this._watchers[Se.uri.toString()];re(Se,Ae,et)?Ne||st(Se):Ne&&ut(Se,Ne)}};this._register(Ce.onModelAdded(Se=>{re(Se,Ae,et)&&st(Se)})),this._register(Ce.onModelRemoved(Se=>{const Ne=this._watchers[Se.uri.toString()];Ne&&ut(Se,Ne)})),this._register(et.onDidChangeConfiguration(Se=>{Se.affectsConfiguration(J)&&nt()})),this._register(Ae.onDidColorThemeChange(nt))}};ce=fe([pe(1,P.q),pe(2,f.XE),pe(3,C.Ui),pe(4,G.A),pe(5,de.p)],ce);class ve extends g.JT{constructor(ue,Ce,Ae){super(),this._themeService=ue,this._languageService=Ce,this._logService=Ae,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(ue){return this._caches.has(ue)||this._caches.set(ue,new O.$(ue.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(ue)}}class Ie{constructor(ue,Ce,Ae){this.provider=ue,this.resultId=Ce,this.data=Ae}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let We=class hu extends g.JT{constructor(ue,Ce,Ae,et,Ye){super(),this._isDisposed=!1,this._model=ue,this._semanticStyling=Ce,this._provider=Ye.documentSemanticTokensProvider,this._debounceInformation=et.for(this._provider,"DocumentSemanticTokens",{min:hu.REQUEST_MIN_DELAY,max:hu.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new b.pY(()=>this._fetchDocumentSemanticTokensNow(),hu.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const Pe=()=>{(0,g.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const st of this._provider.all(ue))"function"==typeof st.onDidChange&&this._documentProvidersChangeListeners.push(st.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};Pe(),this._register(this._provider.onDidChange(()=>{Pe(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(Ae.onDidColorThemeChange(st=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,I.Jc)(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const ue=new x.A,et=(0,I.ML)(this._provider,this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,ue.token);this._currentDocumentRequestCancellationTokenSource=ue;const Ye=[],Pe=this._model.onDidChangeContent(ut=>{Ye.push(ut)}),st=new oe.G(!1);et.then(ut=>{if(this._debounceInformation.update(this._model,st.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,Pe.dispose(),ut){const{provider:nt,tokens:Se}=ut,Ne=this._semanticStyling.get(nt);this._setDocumentSemanticTokens(nt,Se||null,Ne,Ye)}else this._setDocumentSemanticTokens(null,null,null,Ye)},ut=>{ut&&(W.n2(ut)||"string"==typeof ut.message&&-1!==ut.message.indexOf("busy"))||W.dL(ut),this._currentDocumentRequestCancellationTokenSource=null,Pe.dispose(),Ye.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(ue,Ce,Ae,et,Ye){for(let Pe=0;Pe<Ye;Pe++)Ae[et+Pe]=ue[Ce+Pe]}_setDocumentSemanticTokens(ue,Ce,Ae,et){const Ye=this._currentDocumentResponse,Pe=()=>{et.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)ue&&Ce&&ue.releaseDocumentSemanticTokens(Ce.resultId);else if(ue&&Ae){if(!Ce)return this._model.setSemanticTokens(null,!0),void Pe();if((0,I.Vj)(Ce)){if(!Ye)return void this._model.setSemanticTokens(null,!0);if(0===Ce.edits.length)Ce={resultId:Ce.resultId,data:Ye.data};else{let st=0;for(const at of Ce.edits)st+=(at.data?at.data.length:0)-at.deleteCount;const ut=Ye.data,nt=new Uint32Array(ut.length+st);let Se=ut.length,Ne=nt.length;for(let at=Ce.edits.length-1;at>=0;at--){const Ct=Ce.edits[at],jt=Se-(Ct.start+Ct.deleteCount);jt>0&&(hu._copy(ut,Se-jt,nt,Ne-jt,jt),Ne-=jt),Ct.data&&(hu._copy(Ct.data,0,nt,Ne-Ct.data.length,Ct.data.length),Ne-=Ct.data.length),Se=Ct.start}Se>0&&hu._copy(ut,0,nt,0,Se),Ce={resultId:Ce.resultId,data:nt}}}if((0,I.Vl)(Ce)){this._currentDocumentResponse=new Ie(ue,Ce.resultId,Ce.data);const st=(0,O.h)(Ce,Ae,this._model.getLanguageId());if(et.length>0)for(const ut of et)for(const nt of st)for(const Se of ut.changes)nt.applyEdit(Se.range,Se.text);this._model.setSemanticTokens(st,!0)}else this._model.setSemanticTokens(null,!0);Pe()}else this._model.setSemanticTokens(null,!1)}};We.REQUEST_MIN_DELAY=300,We.REQUEST_MAX_DELAY=2e3,We=fe([pe(2,f.XE),pe(3,G.A),pe(4,de.p)],We)},13591:(Fe,Ee,p)=>{p.d(Ee,{S:()=>g});const g=(0,p(43569).yh)("textModelService")},31128:(Fe,Ee,p)=>{p.d(Ee,{$:()=>x,h:()=>f});var D=p(33979),g=p(53323),Y=p(2646),W=p(67947),M=p(1873),i=p(34048);class T{constructor(N,Z){this._startLineNumber=N,this._tokens=Z,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(N,Z){return new T(N,new B(Z))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(N){return this._startLineNumber<=N&&N<=this._endLineNumber?this._tokens.getLineTokens(N-this._startLineNumber):null}getRange(){const N=this._tokens.getRange();return N&&new M.e(this._startLineNumber+N.startLineNumber,N.startColumn,this._startLineNumber+N.endLineNumber,N.endColumn)}removeTokens(N){this._startLineNumber+=this._tokens.removeTokens(N.startLineNumber-this._startLineNumber,N.startColumn-1,N.endLineNumber-this._startLineNumber,N.endColumn-1),this._updateEndLineNumber()}split(N){const Z=N.startLineNumber-this._startLineNumber,O=N.endLineNumber-this._startLineNumber,[I,$,j]=this._tokens.split(Z,N.startColumn-1,O,N.endColumn-1);return[new T(this._startLineNumber,I),new T(this._startLineNumber+j,$)]}applyEdit(N,Z){const[O,I,$]=(0,i.Q)(Z);this.acceptEdit(N,O,I,$,Z.length>0?Z.charCodeAt(0):0)}acceptEdit(N,Z,O,I,$){this._acceptDeleteRange(N),this._acceptInsertText(new W.L(N.startLineNumber,N.startColumn),Z,O,I,$),this._updateEndLineNumber()}_acceptDeleteRange(N){if(N.startLineNumber===N.endLineNumber&&N.startColumn===N.endColumn)return;const Z=N.startLineNumber-this._startLineNumber,O=N.endLineNumber-this._startLineNumber;if(O<0)return void(this._startLineNumber-=O-Z);const I=this._tokens.getMaxDeltaLine();if(!(Z>=I+1)){if(Z<0&&O>=I+1)return this._startLineNumber=0,void this._tokens.clear();Z<0?(this._startLineNumber-=-Z,this._tokens.acceptDeleteRange(N.startColumn-1,0,0,O,N.endColumn-1)):this._tokens.acceptDeleteRange(0,Z,N.startColumn-1,O,N.endColumn-1)}}_acceptInsertText(N,Z,O,I,$){if(0===Z&&0===O)return;const j=N.lineNumber-this._startLineNumber;j<0?this._startLineNumber+=Z:j>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(j,N.column-1,Z,O,I,$)}}class B{constructor(N){this._tokens=N,this._tokenCount=N.length/4}toString(N){const Z=[];for(let O=0;O<this._tokenCount;O++)Z.push(`(${this._getDeltaLine(O)+N},${this._getStartCharacter(O)}-${this._getEndCharacter(O)})`);return`[${Z.join(",")}]`}getMaxDeltaLine(){const N=this._getTokenCount();return 0===N?-1:this._getDeltaLine(N-1)}getRange(){const N=this._getTokenCount();if(0===N)return null;const Z=this._getStartCharacter(0),O=this._getDeltaLine(N-1),I=this._getEndCharacter(N-1);return new M.e(0,Z+1,O,I+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(N){return this._tokens[4*N]}_getStartCharacter(N){return this._tokens[4*N+1]}_getEndCharacter(N){return this._tokens[4*N+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(N){let Z=0,O=this._getTokenCount()-1;for(;Z<O;){const I=Z+Math.floor((O-Z)/2),$=this._getDeltaLine(I);if($<N)Z=I+1;else{if(!($>N)){let j=I;for(;j>Z&&this._getDeltaLine(j-1)===N;)j--;let G=I;for(;G<O&&this._getDeltaLine(G+1)===N;)G++;return new P(this._tokens.subarray(4*j,4*G+4))}O=I-1}}return this._getDeltaLine(Z)===N?new P(this._tokens.subarray(4*Z,4*Z+4)):null}clear(){this._tokenCount=0}removeTokens(N,Z,O,I){const $=this._tokens,j=this._tokenCount;let G=0,oe=!1,de=0;for(let fe=0;fe<j;fe++){const pe=4*fe,ye=$[pe],ge=$[pe+1],Q=$[pe+2],ee=$[pe+3];if((ye>N||ye===N&&Q>=Z)&&(ye<O||ye===O&&ge<=I))oe=!0;else{if(0===G&&(de=ye),oe){const le=4*G;$[le]=ye-de,$[le+1]=ge,$[le+2]=Q,$[le+3]=ee}G++}}return this._tokenCount=G,de}split(N,Z,O,I){const $=this._tokens,j=this._tokenCount,G=[],oe=[];let de=G,fe=0,pe=0;for(let ye=0;ye<j;ye++){const ge=4*ye,Q=$[ge],ee=$[ge+1],le=$[ge+2],te=$[ge+3];if(Q>N||Q===N&&le>=Z){if(Q<O||Q===O&&ee<=I)continue;de!==oe&&(de=oe,fe=0,pe=Q)}de[fe++]=Q-pe,de[fe++]=ee,de[fe++]=le,de[fe++]=te}return[new B(new Uint32Array(G)),new B(new Uint32Array(oe)),pe]}acceptDeleteRange(N,Z,O,I,$){const j=this._tokens,G=this._tokenCount,oe=I-Z;let de=0,fe=!1;for(let pe=0;pe<G;pe++){const ye=4*pe;let ge=j[ye],Q=j[ye+1],ee=j[ye+2];const le=j[ye+3];if(ge<Z||ge===Z&&ee<=O){de++;continue}if(ge===Z&&Q<O)ge===I&&ee>$?ee-=$-O:ee=O;else if(ge===Z&&Q===O){if(!(ge===I&&ee>$)){fe=!0;continue}ee-=$-O}else if(ge<I||ge===I&&Q<$){if(!(ge===I&&ee>$)){fe=!0;continue}ge===Z?(Q=O,ee=Q+(ee-$)):(Q=0,ee=Q+(ee-$))}else if(ge>I){if(0===oe&&!fe){de=G;break}ge-=oe}else{if(!(ge===I&&Q>=$))throw new Error("Not possible!");N&&0===ge&&(Q+=N,ee+=N),ge-=oe,Q-=$-O,ee-=$-O}const te=4*de;j[te]=ge,j[te+1]=Q,j[te+2]=ee,j[te+3]=le,de++}this._tokenCount=de}acceptInsertText(N,Z,O,I,$,j){const G=0===O&&1===I&&(j>=48&&j<=57||j>=65&&j<=90||j>=97&&j<=122),oe=this._tokens,de=this._tokenCount;for(let fe=0;fe<de;fe++){const pe=4*fe;let ye=oe[pe],ge=oe[pe+1],Q=oe[pe+2];if(!(ye<N||ye===N&&Q<Z)){if(ye===N&&Q===Z){if(!G)continue;Q+=1}else if(ye===N&&ge<Z&&Z<Q)0===O?Q+=I:Q=Z;else{if(ye===N&&ge===Z&&G)continue;if(ye===N)if(ye+=O,0===O)ge+=I,Q+=I;else{const ee=Q-ge;ge=$+(ge-Z),Q=ge+ee}else ye+=O}oe[pe]=ye,oe[pe+1]=ge,oe[pe+2]=Q}}}}class P{constructor(N){this._tokens=N}getCount(){return this._tokens.length/4}getStartCharacter(N){return this._tokens[4*N+1]}getEndCharacter(N){return this._tokens[4*N+2]}getMetadata(N){return this._tokens[4*N+3]}}var y=p(80810),b=function(L,N){return function(Z,O){N(Z,O,L)}};let x=class{constructor(N,Z,O,I){this._legend=N,this._themeService=Z,this._languageService=O,this._logService=I,this._hashTable=new z,this._hasWarnedOverlappingTokens=!1}getMetadata(N,Z,O){const I=this._languageService.languageIdCodec.encodeLanguageId(O),$=this._hashTable.get(N,Z,I);let j;if($)j=$.metadata,this._logService.getLevel()===Y.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${N} / ${Z}: foreground ${D.NX.getForeground(j)}, fontStyle ${D.NX.getFontStyle(j).toString(2)}`);else{let G=this._legend.tokenTypes[N];const oe=[];if(G){let de=Z;for(let pe=0;de>0&&pe<this._legend.tokenModifiers.length;pe++)1&de&&oe.push(this._legend.tokenModifiers[pe]),de>>=1;de>0&&this._logService.getLevel()===Y.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${Z.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),oe.push("not-in-legend"));const fe=this._themeService.getColorTheme().getTokenStyleMetadata(G,oe,O);void 0===fe?j=2147483647:(j=0,void 0!==fe.italic&&(j|=(fe.italic?1:0)<<10|1),void 0!==fe.bold&&(j|=(fe.bold?2:0)<<10|2),void 0!==fe.underline&&(j|=(fe.underline?4:0)<<10|4),void 0!==fe.strikethrough&&(j|=(fe.strikethrough?8:0)<<10|8),fe.foreground&&(j|=fe.foreground<<14|16),0===j&&(j=2147483647))}else this._logService.getLevel()===Y.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${N} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),j=2147483647,G="not-in-legend";this._hashTable.add(N,Z,I,j),this._logService.getLevel()===Y.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${N} (${G}) / ${Z} (${oe.join(" ")}): foreground ${D.NX.getForeground(j)}, fontStyle ${D.NX.getFontStyle(j).toString(2)}`)}return j}warnOverlappingSemanticTokens(N,Z){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${N}, column ${Z}`))}};function f(L,N,Z){const O=L.data,I=L.data.length/5|0,$=Math.max(Math.ceil(I/1024),400),j=[];let G=0,oe=1,de=0;for(;G<I;){const fe=G;let pe=Math.min(fe+$,I);if(pe<I){let re=pe;for(;re-1>fe&&0===O[5*re];)re--;if(re-1===fe){let ce=pe;for(;ce+1<I&&0===O[5*ce];)ce++;pe=ce}else pe=re}let ye=new Uint32Array(4*(pe-fe)),ge=0,Q=0,ee=0,le=0,te=0;for(;G<pe;){const re=5*G,ce=O[re],ve=O[re+1],Ie=oe+ce|0,We=0===ce?de+ve|0:ve,Ue=O[re+2],Ae=N.getMetadata(O[re+3],O[re+4],Z);2147483647!==Ae&&(0===Q&&(Q=Ie),ee===Ie&&te>We&&(N.warnOverlappingSemanticTokens(Ie,We+1),le<We?ye[ge-4+2]=We:ge-=4),ye[ge]=Ie-Q,ye[ge+1]=We,ye[ge+2]=We+Ue,ye[ge+3]=Ae,ge+=4,ee=Ie,le=We,te=We+Ue),oe=Ie,de=We,G++}ge!==ye.length&&(ye=ye.subarray(0,ge));const J=T.create(Q,ye);j.push(J)}return j}x=function(L,N,Z,O){var j,I=arguments.length,$=I<3?N:null===O?O=Object.getOwnPropertyDescriptor(N,Z):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(L,N,Z,O);else for(var G=L.length-1;G>=0;G--)(j=L[G])&&($=(I<3?j($):I>3?j(N,Z,$):j(N,Z))||$);return I>3&&$&&Object.defineProperty(N,Z,$),$}([b(1,g.XE),b(2,y.O),b(3,Y.VZ)],x);class E{constructor(N,Z,O,I){this.tokenTypeIndex=N,this.tokenModifierSet=Z,this.languageId=O,this.metadata=I,this.next=null}}let z=(()=>{class L{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=L._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<L._SIZES.length?2/3*this._currentLength:0),this._elements=[],L._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(Z,O){for(let I=0;I<O;I++)Z[I]=null}_hash2(Z,O){return(Z<<5)-Z+O|0}_hashFunc(Z,O,I){return this._hash2(this._hash2(Z,O),I)%this._currentLength}get(Z,O,I){const $=this._hashFunc(Z,O,I);let j=this._elements[$];for(;j;){if(j.tokenTypeIndex===Z&&j.tokenModifierSet===O&&j.languageId===I)return j;j=j.next}return null}add(Z,O,I,$){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const j=this._elements;this._currentLengthIndex++,this._currentLength=L._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<L._SIZES.length?2/3*this._currentLength:0),this._elements=[],L._nullOutEntries(this._elements,this._currentLength);for(const G of j){let oe=G;for(;oe;){const de=oe.next;oe.next=null,this._add(oe),oe=de}}}this._add(new E(Z,O,I,$))}_add(Z){const O=this._hashFunc(Z.tokenTypeIndex,Z.tokenModifierSet,Z.languageId);Z.next=this._elements[O],this._elements[O]=Z}}return L._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],L})()},34276:(Fe,Ee,p)=>{p.d(Ee,{V:()=>g,y:()=>Y});var D=p(43569);const g=(0,D.yh)("textResourceConfigurationService"),Y=(0,D.yh)("textResourcePropertiesService")},4263:(Fe,Ee,p)=>{p.d(Ee,{a:()=>i});var D=p(1873),g=p(82711),Y=p(74243),W=p(99770),M=p(54745);class i{static computeUnicodeHighlights(C,b,x){const f=x?x.startLineNumber:1,E=x?x.endLineNumber:C.getLineCount(),z=new B(b),L=z.getCandidateCodePoints();let N;var y;N="allNonBasicAscii"===L?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp((y=Array.from(L),`[${Y.ec(y.map(x=>String.fromCodePoint(x)).join(""))}]`),"g");const Z=new g.sz(null,N),O=[];let $,I=!1,j=0,G=0,oe=0;e:for(let de=f,fe=E;de<=fe;de++){const pe=C.getLineContent(de),ye=pe.length;Z.reset(0);do{if($=Z.next(pe),$){let ge=$.index,Q=$.index+$[0].length;if(ge>0){const J=pe.charCodeAt(ge-1);Y.ZG(J)&&ge--}if(Q+1<ye){const J=pe.charCodeAt(Q-1);Y.ZG(J)&&Q++}const ee=pe.substring(ge,Q),le=(0,M.t2)(ge+1,M.Af,pe,0),te=z.shouldHighlightNonBasicASCII(ee,le?le.word:null);if(0!==te){if(3===te?j++:2===te?G++:1===te?oe++:(0,W.vE)(te),O.length>=1e3){I=!0;break e}O.push(new D.e(de,ge+1,de,Q+1))}}}while($)}return{ranges:O,hasMore:I,ambiguousCharacterCount:j,invisibleCharacterCount:G,nonBasicAsciiCharacterCount:oe}}static computeUnicodeHighlightReason(C,b){const x=new B(b);switch(x.shouldHighlightNonBasicASCII(C,null)){case 0:return null;case 2:return{kind:1};case 3:{const E=C.codePointAt(0),z=x.ambiguousCharacters.getPrimaryConfusable(E),L=Y.ZK.getLocales().filter(N=>!Y.ZK.getInstance(new Set([...b.allowedLocales,N])).isAmbiguous(E));return{kind:0,confusableWith:String.fromCodePoint(z),notAmbiguousInLocales:L}}case 1:return{kind:2}}}}class B{constructor(C){this.options=C,this.allowedCodePoints=new Set(C.allowedCodePoints),this.ambiguousCharacters=Y.ZK.getInstance(new Set(C.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const C=new Set;if(this.options.invisibleCharacters)for(const b of Y.vU.codePoints)P(String.fromCodePoint(b))||C.add(b);if(this.options.ambiguousCharacters)for(const b of this.ambiguousCharacters.getConfusableCodePoints())C.add(b);for(const b of this.allowedCodePoints)C.delete(b);return C}shouldHighlightNonBasicASCII(C,b){const x=C.codePointAt(0);if(this.allowedCodePoints.has(x))return 0;if(this.options.nonBasicASCII)return 1;let f=!1,E=!1;if(b)for(let z of b){const L=z.codePointAt(0),N=Y.$i(z);f=f||N,!N&&!this.ambiguousCharacters.isAmbiguous(L)&&!Y.vU.isInvisibleCharacter(L)&&(E=!0)}return!f&&E?0:this.options.invisibleCharacters&&!P(C)&&Y.vU.isInvisibleCharacter(x)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(x)?3:0}}function P(y){return" "===y||"\n"===y||"\t"===y}},1598:(Fe,Ee,p)=>{p.d(Ee,{Oe:()=>g,ug:()=>Y,qq:()=>W,ld:()=>M,UX:()=>i,aq:()=>T,B8:()=>B,xi:()=>P,iN:()=>y});var g,C,Y,W,M,i,T,B,P,y,D=p(12918);(C=g||(g={})).noSelection=D.N("noSelection","No selection"),C.singleSelectionRange=D.N("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),C.singleSelection=D.N("singleSelection","Line {0}, Column {1}"),C.multiSelectionRange=D.N("multiSelectionRange","{0} selections ({1} characters selected)"),C.multiSelection=D.N("multiSelection","{0} selections"),C.emergencyConfOn=D.N("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),C.openingDocs=D.N("openingDocs","Now opening the Editor Accessibility documentation page."),C.readonlyDiffEditor=D.N("readonlyDiffEditor"," in a read-only pane of a diff editor."),C.editableDiffEditor=D.N("editableDiffEditor"," in a pane of a diff editor."),C.readonlyEditor=D.N("readonlyEditor"," in a read-only code editor"),C.editableEditor=D.N("editableEditor"," in a code editor"),C.changeConfigToOnMac=D.N("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),C.changeConfigToOnWinLinux=D.N("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),C.auto_on=D.N("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),C.auto_off=D.N("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),C.tabFocusModeOnMsg=D.N("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),C.tabFocusModeOnMsgNoKb=D.N("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),C.tabFocusModeOffMsg=D.N("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),C.tabFocusModeOffMsgNoKb=D.N("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),C.openDocMac=D.N("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),C.openDocWinLinux=D.N("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),C.outroMsg=D.N("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),C.showAccessibilityHelpAction=D.N("showAccessibilityHelpAction","Show Accessibility Help"),function(C){C.inspectTokensAction=D.N("inspectTokens","Developer: Inspect Tokens")}(Y||(Y={})),function(C){C.gotoLineActionLabel=D.N("gotoLineActionLabel","Go to Line/Column...")}(W||(W={})),function(C){C.helpQuickAccessActionLabel=D.N("helpQuickAccess","Show all Quick Access Providers")}(M||(M={})),function(C){C.quickCommandActionLabel=D.N("quickCommandActionLabel","Command Palette"),C.quickCommandHelp=D.N("quickCommandActionHelp","Show And Run Commands")}(i||(i={})),function(C){C.quickOutlineActionLabel=D.N("quickOutlineActionLabel","Go to Symbol..."),C.quickOutlineByCategoryActionLabel=D.N("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(T||(T={})),function(C){C.editorViewAccessibleLabel=D.N("editorViewAccessibleLabel","Editor content"),C.accessibilityHelpMessage=D.N("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(B||(B={})),function(C){C.toggleHighContrast=D.N("toggleHighContrast","Toggle High Contrast Theme")}(P||(P={})),function(C){C.bulkEditServiceSummary=D.N("bulkEditServiceSummary","Made {0} edits in {1} files")}(y||(y={}))},87604:(Fe,Ee,p)=>{p.d(Ee,{Jx:()=>D,gk:()=>g,rU:()=>Y,lN:()=>W,Tx:()=>M,CZ:()=>i,dQ:()=>T,D8:()=>B,fV:()=>P});class D{constructor(){this.changeType=1}}class g{constructor(C,b,x,f,E){this.ownerId=C,this.lineNumber=b,this.column=x,this.options=f,this.order=E}static applyInjectedText(C,b){if(!b||0===b.length)return C;let x="",f=0;for(const E of b)x+=C.substring(f,E.column-1),f=E.column-1,x+=E.options.content;return x+=C.substring(f),x}static fromDecorations(C){const b=[];for(const x of C)x.options.before&&x.options.before.content.length>0&&b.push(new g(x.ownerId,x.range.startLineNumber,x.range.startColumn,x.options.before,0)),x.options.after&&x.options.after.content.length>0&&b.push(new g(x.ownerId,x.range.endLineNumber,x.range.endColumn,x.options.after,1));return b.sort((x,f)=>x.lineNumber===f.lineNumber?x.column===f.column?x.order-f.order:x.column-f.column:x.lineNumber-f.lineNumber),b}}class Y{constructor(C,b,x){this.changeType=2,this.lineNumber=C,this.detail=b,this.injectedText=x}}class W{constructor(C,b){this.changeType=3,this.fromLineNumber=C,this.toLineNumber=b}}class M{constructor(C,b,x,f){this.changeType=4,this.injectedTexts=f,this.fromLineNumber=C,this.toLineNumber=b,this.detail=x}}class i{constructor(){this.changeType=5}}class T{constructor(C,b,x,f){this.changes=C,this.versionId=b,this.isUndoing=x,this.isRedoing=f,this.resultingSelection=null}containsEvent(C){for(let b=0,x=this.changes.length;b<x;b++)if(this.changes[b].changeType===C)return!0;return!1}static merge(C,b){const x=[].concat(C.changes).concat(b.changes);return new T(x,b.versionId,C.isUndoing||b.isUndoing,C.isRedoing||b.isRedoing)}}class B{constructor(C){this.changes=C}}class P{constructor(C,b){this.rawContentChangedEvent=C,this.contentChangedEvent=b}merge(C){const b=T.merge(this.rawContentChangedEvent,C.rawContentChangedEvent),x=P._mergeChangeEvents(this.contentChangedEvent,C.contentChangedEvent);return new P(b,x)}static _mergeChangeEvents(C,b){return{changes:[].concat(C.changes).concat(b.changes),eol:b.eol,versionId:b.versionId,isUndoing:C.isUndoing||b.isUndoing,isRedoing:C.isRedoing||b.isRedoing,isFlush:C.isFlush||b.isFlush}}}},13151:(Fe,Ee,p)=>{p.d(Ee,{s6:()=>D,UO:()=>g,vW:()=>Y});var D=(()=>{return(W=D||(D={}))[W.Disabled=0]="Disabled",W[W.EnabledForActive=1]="EnabledForActive",W[W.Enabled=2]="Enabled",D;var W})();class g{constructor(M,i,T){this.visibleColumn=M,this.className=i,this.horizontalLine=T}}class Y{constructor(M,i){this.top=M,this.endColumn=i}}},5928:(Fe,Ee,p)=>{p.d(Ee,{A:()=>g});var D=p(33979);let g=(()=>{class W{constructor(i,T,B){this._lineTokensBrand=void 0,this._tokens=i,this._tokensCount=this._tokens.length>>>1,this._text=T,this._languageIdCodec=B}static createEmpty(i,T){const B=W.defaultTokenMetadata,P=new Uint32Array(2);return P[0]=i.length,P[1]=B,new W(P,i,T)}equals(i){return i instanceof W&&this.slicedEquals(i,0,this._tokensCount)}slicedEquals(i,T,B){if(this._text!==i._text||this._tokensCount!==i._tokensCount)return!1;const P=T<<1,y=P+(B<<1);for(let C=P;C<y;C++)if(this._tokens[C]!==i._tokens[C])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(i){return i>0?this._tokens[i-1<<1]:0}getMetadata(i){return this._tokens[1+(i<<1)]}getLanguageId(i){const B=D.NX.getLanguageId(this._tokens[1+(i<<1)]);return this._languageIdCodec.decodeLanguageId(B)}getStandardTokenType(i){return D.NX.getTokenType(this._tokens[1+(i<<1)])}getForeground(i){return D.NX.getForeground(this._tokens[1+(i<<1)])}getClassName(i){return D.NX.getClassNameFromMetadata(this._tokens[1+(i<<1)])}getInlineStyle(i,T){return D.NX.getInlineStyleFromMetadata(this._tokens[1+(i<<1)],T)}getPresentation(i){return D.NX.getPresentationFromMetadata(this._tokens[1+(i<<1)])}getEndOffset(i){return this._tokens[i<<1]}findTokenIndexAtOffset(i){return W.findIndexInTokensArray(this._tokens,i)}inflate(){return this}sliceAndInflate(i,T,B){return new Y(this,i,T,B)}static convertToEndOffset(i,T){const P=(i.length>>>1)-1;for(let y=0;y<P;y++)i[y<<1]=i[y+1<<1];i[P<<1]=T}static findIndexInTokensArray(i,T){if(i.length<=2)return 0;let B=0,P=(i.length>>>1)-1;for(;B<P;){const y=B+Math.floor((P-B)/2),C=i[y<<1];if(C===T)return y+1;C<T?B=y+1:C>T&&(P=y)}return B}withInserted(i){if(0===i.length)return this;let T=0,B=0,P="";const y=new Array;let C=0;for(;;){const b=T<this._tokensCount?this._tokens[T<<1]:-1,x=B<i.length?i[B]:null;if(-1!==b&&(null===x||b<=x.offset))P+=this._text.substring(C,b),y.push(P.length,this._tokens[1+(T<<1)]),T++,C=b;else{if(!x)break;x.offset>C&&(P+=this._text.substring(C,x.offset),y.push(P.length,this._tokens[1+(T<<1)]),C=x.offset),P+=x.text,y.push(P.length,x.tokenMetadata),B++}}return new W(new Uint32Array(y),P,this._languageIdCodec)}}return W.defaultTokenMetadata=16793600,W})();class Y{constructor(M,i,T,B){this._source=M,this._startOffset=i,this._endOffset=T,this._deltaOffset=B,this._firstTokenIndex=M.findTokenIndexAtOffset(i),this._tokensCount=0;for(let P=this._firstTokenIndex,y=M.getCount();P<y&&!(M.getStartOffset(P)>=T);P++)this._tokensCount++}getMetadata(M){return this._source.getMetadata(this._firstTokenIndex+M)}getLanguageId(M){return this._source.getLanguageId(this._firstTokenIndex+M)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(M){return M instanceof Y&&this._startOffset===M._startOffset&&this._endOffset===M._endOffset&&this._deltaOffset===M._deltaOffset&&this._source.slicedEquals(M._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(M){return this._source.getForeground(this._firstTokenIndex+M)}getEndOffset(M){const i=this._source.getEndOffset(this._firstTokenIndex+M);return Math.min(this._endOffset,i)-this._startOffset+this._deltaOffset}getClassName(M){return this._source.getClassName(this._firstTokenIndex+M)}getInlineStyle(M,i){return this._source.getInlineStyle(this._firstTokenIndex+M,i)}getPresentation(M){return this._source.getPresentation(this._firstTokenIndex+M)}findTokenIndexAtOffset(M){return this._source.findTokenIndexAtOffset(M+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},82287:(Fe,Ee,p)=>{p.d(Ee,{Kp:()=>g,k:()=>M});var D=p(74243);class g{constructor(T,B,P,y){this.startColumn=T,this.endColumn=B,this.className=P,this.type=y,this._lineDecorationBrand=void 0}static _equals(T,B){return T.startColumn===B.startColumn&&T.endColumn===B.endColumn&&T.className===B.className&&T.type===B.type}static equalsArr(T,B){const P=T.length;if(P!==B.length)return!1;for(let C=0;C<P;C++)if(!g._equals(T[C],B[C]))return!1;return!0}static extractWrapped(T,B,P){if(0===T.length)return T;const y=B+1,C=P+1,b=P-B,x=[];let f=0;for(const E of T)E.endColumn<=y||E.startColumn>=C||(x[f++]=new g(Math.max(1,E.startColumn-y+1),Math.min(b+1,E.endColumn-y+1),E.className,E.type));return x}static filter(T,B,P,y){if(0===T.length)return[];const C=[];let b=0;for(let x=0,f=T.length;x<f;x++){const E=T[x],z=E.range;z.endLineNumber<B||z.startLineNumber>B||z.isEmpty()&&(0===E.type||3===E.type)||(C[b++]=new g(z.startLineNumber===B?z.startColumn:P,z.endLineNumber===B?z.endColumn:y,E.inlineClassName,E.type))}return C}static _typeCompare(T,B){const P=[2,0,1,3];return P[T]-P[B]}static compare(T,B){if(T.startColumn!==B.startColumn)return T.startColumn-B.startColumn;if(T.endColumn!==B.endColumn)return T.endColumn-B.endColumn;const P=g._typeCompare(T.type,B.type);return 0!==P?P:T.className!==B.className?T.className<B.className?-1:1:0}}class Y{constructor(T,B,P,y){this.startOffset=T,this.endOffset=B,this.className=P,this.metadata=y}}class W{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(T){let B=0;for(let P=0,y=T.length;P<y;P++)B|=T[P];return B}consumeLowerThan(T,B,P){for(;this.count>0&&this.stopOffsets[0]<T;){let y=0;for(;y+1<this.count&&this.stopOffsets[y]===this.stopOffsets[y+1];)y++;P.push(new Y(B,this.stopOffsets[y],this.classNames.join(" "),W._metadata(this.metadata))),B=this.stopOffsets[y]+1,this.stopOffsets.splice(0,y+1),this.classNames.splice(0,y+1),this.metadata.splice(0,y+1),this.count-=y+1}return this.count>0&&B<T&&(P.push(new Y(B,T-1,this.classNames.join(" "),W._metadata(this.metadata))),B=T),B}insert(T,B,P){if(0===this.count||this.stopOffsets[this.count-1]<=T)this.stopOffsets.push(T),this.classNames.push(B),this.metadata.push(P);else for(let y=0;y<this.count;y++)if(this.stopOffsets[y]>=T){this.stopOffsets.splice(y,0,T),this.classNames.splice(y,0,B),this.metadata.splice(y,0,P);break}this.count++}}class M{static normalize(T,B){if(0===B.length)return[];const P=[],y=new W;let C=0;for(let b=0,x=B.length;b<x;b++){const f=B[b];let E=f.startColumn,z=f.endColumn;const L=f.className,N=1===f.type?2:2===f.type?4:0;if(E>1){const I=T.charCodeAt(E-2);D.ZG(I)&&E--}if(z>1){const I=T.charCodeAt(z-2);D.ZG(I)&&z--}const Z=E-1,O=z-2;C=y.consumeLowerThan(Z,C,P),0===y.count&&(C=Z),y.insert(O,L,N)}return y.consumeLowerThan(1073741824,C,P),P}}},19362:(Fe,Ee,p)=>{p.d(Ee,{zG:()=>M,IJ:()=>i,Nd:()=>T,d1:()=>y,tF:()=>b});var D=p(74243),g=p(53269),Y=p(82287);class W{constructor(G,oe,de){this._linePartBrand=void 0,this.endIndex=G,this.type=oe,this.metadata=de}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class M{constructor(G,oe){this.startOffset=G,this.endOffset=oe}equals(G){return this.startOffset===G.startOffset&&this.endOffset===G.endOffset}}class i{constructor(G,oe,de,fe,pe,ye,ge,Q,ee,le,te,J,re,ce,ve,Ie,We,Ue,ue){this.useMonospaceOptimizations=G,this.canUseHalfwidthRightwardsArrow=oe,this.lineContent=de,this.continuesWithWrappedLine=fe,this.isBasicASCII=pe,this.containsRTL=ye,this.fauxIndentLength=ge,this.lineTokens=Q,this.lineDecorations=ee.sort(Y.Kp.compare),this.tabSize=le,this.startVisibleColumn=te,this.spaceWidth=J,this.stopRenderingLineAfter=ve,this.renderWhitespace="all"===Ie?4:"boundary"===Ie?1:"selection"===Ie?2:"trailing"===Ie?3:0,this.renderControlCharacters=We,this.fontLigatures=Ue,this.selectionsOnLine=ue&&ue.sort((et,Ye)=>et.startOffset<Ye.startOffset?-1:1),Math.abs(ce-J)<Math.abs(re-J)?(this.renderSpaceWidth=ce,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=re,this.renderSpaceCharCode=183)}sameSelection(G){if(null===this.selectionsOnLine)return null===G;if(null===G||G.length!==this.selectionsOnLine.length)return!1;for(let oe=0;oe<this.selectionsOnLine.length;oe++)if(!this.selectionsOnLine[oe].equals(G[oe]))return!1;return!0}equals(G){return this.useMonospaceOptimizations===G.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===G.canUseHalfwidthRightwardsArrow&&this.lineContent===G.lineContent&&this.continuesWithWrappedLine===G.continuesWithWrappedLine&&this.isBasicASCII===G.isBasicASCII&&this.containsRTL===G.containsRTL&&this.fauxIndentLength===G.fauxIndentLength&&this.tabSize===G.tabSize&&this.startVisibleColumn===G.startVisibleColumn&&this.spaceWidth===G.spaceWidth&&this.renderSpaceWidth===G.renderSpaceWidth&&this.renderSpaceCharCode===G.renderSpaceCharCode&&this.stopRenderingLineAfter===G.stopRenderingLineAfter&&this.renderWhitespace===G.renderWhitespace&&this.renderControlCharacters===G.renderControlCharacters&&this.fontLigatures===G.fontLigatures&&Y.Kp.equalsArr(this.lineDecorations,G.lineDecorations)&&this.lineTokens.equals(G.lineTokens)&&this.sameSelection(G.selectionsOnLine)}}class T{constructor(G,oe){this.partIndex=G,this.charIndex=oe}}class B{constructor(G,oe){this.length=G,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(G){return(4294901760&G)>>>16}static getCharIndex(G){return(65535&G)>>>0}setColumnInfo(G,oe,de,fe){this._data[G-1]=(oe<<16|de<<0)>>>0,this._absoluteOffsets[G-1]=fe+de}getAbsoluteOffset(G){return 0===this._absoluteOffsets.length?0:this._absoluteOffsets[G-1]}charOffsetToPartData(G){return 0===this.length?0:G<0?this._data[0]:G>=this.length?this._data[this.length-1]:this._data[G]}getDomPosition(G){const oe=this.charOffsetToPartData(G-1),de=B.getPartIndex(oe),fe=B.getCharIndex(oe);return new T(de,fe)}getColumn(G,oe){return this.partDataToCharOffset(G.partIndex,oe,G.charIndex)+1}partDataToCharOffset(G,oe,de){if(0===this.length)return 0;const fe=(G<<16|de<<0)>>>0;let pe=0,ye=this.length-1;for(;pe+1<ye;){const ve=pe+ye>>>1,Ie=this._data[ve];if(Ie===fe)return ve;Ie>fe?ye=ve:pe=ve}if(pe===ye)return pe;const ge=this._data[pe],Q=this._data[ye];if(ge===fe)return pe;if(Q===fe)return ye;const ee=B.getPartIndex(ge),le=B.getCharIndex(ge);let J;return J=ee!==B.getPartIndex(Q)?oe:B.getCharIndex(Q),de-le<=J-de?pe:ye}}class P{constructor(G,oe,de){this._renderLineOutputBrand=void 0,this.characterMapping=G,this.containsRTL=oe,this.containsForeignElements=de}}function y(j,G){if(0===j.lineContent.length){if(j.lineDecorations.length>0){G.appendASCIIString("<span>");let oe=0,de=0,fe=0;for(const ye of j.lineDecorations)(1===ye.type||2===ye.type)&&(G.appendASCIIString('<span class="'),G.appendASCIIString(ye.className),G.appendASCIIString('"></span>'),1===ye.type&&(fe|=1,oe++),2===ye.type&&(fe|=2,de++));G.appendASCIIString("</span>");const pe=new B(1,oe+de);return pe.setColumnInfo(1,oe,0,0),new P(pe,!1,fe)}return G.appendASCIIString("<span><span></span></span>"),new P(new B(0,0),!1,0)}return function(j,G){const oe=j.fontIsMonospace,de=j.canUseHalfwidthRightwardsArrow,fe=j.containsForeignElements,pe=j.lineContent,ye=j.len,ge=j.isOverflowing,Q=j.parts,ee=j.fauxIndentLength,le=j.tabSize,te=j.startVisibleColumn,J=j.containsRTL,re=j.spaceWidth,ce=j.renderSpaceCharCode,ve=j.renderWhitespace,Ie=j.renderControlCharacters,We=new B(ye+1,Q.length);let Ue=!1,ue=0,Ce=te,Ae=0,et=0,Ye=0,Pe=0;G.appendASCIIString(J?'<span dir="ltr">':"<span>");for(let st=0,ut=Q.length;st<ut;st++){Pe+=Ye;const nt=Q[st],Se=nt.endIndex,Ne=nt.type,at=0!==ve&&nt.isWhitespace(),Ct=at&&!oe&&("mtkw"===Ne||!fe),jt=ue===Se&&nt.isPseudoAfter();if(Ae=0,G.appendASCIIString('<span class="'),G.appendASCIIString(Ct?"mtkz":Ne),G.appendASCII(34),at){let bn=0;{let mt=ue,Ft=Ce;for(;mt<Se;mt++){const zt=0|(9===pe.charCodeAt(mt)?le-Ft%le:1);bn+=zt,mt>=ee&&(Ft+=zt)}}for(Ct&&(G.appendASCIIString(' style="width:'),G.appendASCIIString(String(re*bn)),G.appendASCIIString('px"')),G.appendASCII(62);ue<Se;ue++){let Ft;if(We.setColumnInfo(ue+1,st-et,Ae,Pe),et=0,9===pe.charCodeAt(ue)){Ft=le-Ce%le|0,G.write1(!de||Ft>1?8594:65515);for(let Wt=2;Wt<=Ft;Wt++)G.write1(160)}else Ft=1,G.write1(ce);Ae+=Ft,ue>=ee&&(Ce+=Ft)}Ye=bn}else{let bn=0;for(G.appendASCII(62);ue<Se;ue++){We.setColumnInfo(ue+1,st-et,Ae,Pe),et=0;const mt=pe.charCodeAt(ue);let Ft=1,Wt=1;switch(mt){case 9:Ft=le-Ce%le,Wt=Ft;for(let zt=1;zt<=Ft;zt++)G.write1(160);break;case 32:G.write1(160);break;case 60:G.appendASCIIString("&lt;");break;case 62:G.appendASCIIString("&gt;");break;case 38:G.appendASCIIString("&amp;");break;case 0:Ie?G.write1(9216):G.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:G.write1(65533);break;default:D.K7(mt)&&Wt++,Ie&&mt<32?G.write1(9216+mt):Ie&&127===mt?G.write1(9249):Ie&&L(mt)?(G.appendASCIIString("[U+"),G.appendASCIIString($(mt)),G.appendASCIIString("]"),Ft=8):G.write1(mt)}Ae+=Ft,bn+=Ft,ue>=ee&&(Ce+=Wt)}Ye=bn}jt?et++:et=0,ue>=ye&&!Ue&&nt.isPseudoAfter()&&(Ue=!0,We.setColumnInfo(ue+1,st,Ae,Pe)),G.appendASCIIString("</span>")}return Ue||We.setColumnInfo(ye+1,Q.length-1,Ae,Pe),ge&&G.appendASCIIString("<span>&hellip;</span>"),G.appendASCIIString("</span>"),new P(We,J,fe)}(function(j){const G=j.lineContent;let oe,de;-1!==j.stopRenderingLineAfter&&j.stopRenderingLineAfter<G.length?(oe=!0,de=j.stopRenderingLineAfter):(oe=!1,de=G.length);let fe=function(j,G,oe){const de=[];let fe=0;G>0&&(de[fe++]=new W(G,"",0));for(let pe=0,ye=j.getCount();pe<ye;pe++){const ge=j.getEndOffset(pe);if(ge<=G)continue;const Q=j.getClassName(pe);if(ge>=oe){de[fe++]=new W(oe,Q,0);break}de[fe++]=new W(ge,Q,0)}return de}(j.lineTokens,j.fauxIndentLength,de);j.renderControlCharacters&&!j.isBasicASCII&&(fe=function(j,G){const oe=[];let de=new W(0,"",0),fe=0;for(const pe of G){const ye=pe.endIndex;for(;fe<ye;fe++)L(j.charCodeAt(fe))&&(fe>de.endIndex&&(de=new W(fe,pe.type,pe.metadata),oe.push(de)),de=new W(fe+1,"mtkcontrol",pe.metadata),oe.push(de));fe>de.endIndex&&(de=new W(ye,pe.type,pe.metadata),oe.push(de))}return oe}(G,fe)),(4===j.renderWhitespace||1===j.renderWhitespace||2===j.renderWhitespace&&j.selectionsOnLine||3===j.renderWhitespace)&&(fe=function(j,G,oe,de){const fe=j.continuesWithWrappedLine,pe=j.fauxIndentLength,ye=j.tabSize,ge=j.startVisibleColumn,Q=j.useMonospaceOptimizations,ee=j.selectionsOnLine,le=1===j.renderWhitespace,te=3===j.renderWhitespace,J=j.renderSpaceWidth!==j.spaceWidth,re=[];let ce=0,ve=0,Ie=de[ve].type,We=de[ve].endIndex;const Ue=de.length;let Ae,ue=!1,Ce=D.LC(G);-1===Ce?(ue=!0,Ce=oe,Ae=oe):Ae=D.ow(G);let et=!1,Ye=0,Pe=ee&&ee[Ye],st=ge%ye;for(let nt=pe;nt<oe;nt++){const Se=G.charCodeAt(nt);let Ne;if(Pe&&nt>=Pe.endOffset&&(Ye++,Pe=ee&&ee[Ye]),nt<Ce||nt>Ae)Ne=!0;else if(9===Se)Ne=!0;else if(32===Se)if(le)if(et)Ne=!0;else{const at=nt+1<oe?G.charCodeAt(nt+1):0;Ne=32===at||9===at}else Ne=!0;else Ne=!1;if(Ne&&ee&&(Ne=!!Pe&&Pe.startOffset<=nt&&Pe.endOffset>nt),Ne&&te&&(Ne=ue||nt>Ae),et){if(!Ne||!Q&&st>=ye){if(J)for(let Ct=(ce>0?re[ce-1].endIndex:pe)+1;Ct<=nt;Ct++)re[ce++]=new W(Ct,"mtkw",1);else re[ce++]=new W(nt,"mtkw",1);st%=ye}}else(nt===We||Ne&&nt>pe)&&(re[ce++]=new W(nt,Ie,0),st%=ye);for(9===Se?st=ye:D.K7(Se)?st+=2:st++,et=Ne;nt===We&&(ve++,ve<Ue);)Ie=de[ve].type,We=de[ve].endIndex}let ut=!1;if(et)if(fe&&le){const nt=oe>0?G.charCodeAt(oe-1):0,Se=oe>1?G.charCodeAt(oe-2):0;32===nt&&32!==Se&&9!==Se||(ut=!0)}else ut=!0;if(ut)if(J)for(let Se=(ce>0?re[ce-1].endIndex:pe)+1;Se<=oe;Se++)re[ce++]=new W(Se,"mtkw",1);else re[ce++]=new W(oe,"mtkw",1);else re[ce++]=new W(oe,Ie,0);return re}(j,G,de,fe));let pe=0;if(j.lineDecorations.length>0){for(let ye=0,ge=j.lineDecorations.length;ye<ge;ye++){const Q=j.lineDecorations[ye];3===Q.type||1===Q.type?pe|=1:2===Q.type&&(pe|=2)}fe=function(j,G,oe,de){de.sort(Y.Kp.compare);const fe=Y.k.normalize(j,de),pe=fe.length;let ye=0;const ge=[];let Q=0,ee=0;for(let te=0,J=oe.length;te<J;te++){const re=oe[te],ce=re.endIndex,ve=re.type,Ie=re.metadata;for(;ye<pe&&fe[ye].startOffset<ce;){const We=fe[ye];if(We.startOffset>ee&&(ee=We.startOffset,ge[Q++]=new W(ee,ve,Ie)),!(We.endOffset+1<=ce)){ee=ce,ge[Q++]=new W(ee,ve+" "+We.className,Ie|We.metadata);break}ee=We.endOffset+1,ge[Q++]=new W(ee,ve+" "+We.className,Ie|We.metadata),ye++}ce>ee&&(ee=ce,ge[Q++]=new W(ee,ve,Ie))}const le=oe[oe.length-1].endIndex;if(ye<pe&&fe[ye].startOffset===le)for(;ye<pe&&fe[ye].startOffset===le;){const te=fe[ye];ge[Q++]=new W(ee,te.className,te.metadata),ye++}return ge}(G,0,fe,j.lineDecorations)}return j.containsRTL||(fe=function(j,G,oe){let de=0;const fe=[];let pe=0;if(oe)for(let ye=0,ge=G.length;ye<ge;ye++){const Q=G[ye],ee=Q.endIndex;if(de+50<ee){const le=Q.type,te=Q.metadata;let J=-1,re=de;for(let ce=de;ce<ee;ce++)32===j.charCodeAt(ce)&&(J=ce),-1!==J&&ce-re>=50&&(fe[pe++]=new W(J+1,le,te),re=J+1,J=-1);re!==ee&&(fe[pe++]=new W(ee,le,te))}else fe[pe++]=Q;de=ee}else for(let ye=0,ge=G.length;ye<ge;ye++){const Q=G[ye],ee=Q.endIndex,le=ee-de;if(le>50){const te=Q.type,J=Q.metadata,re=Math.ceil(le/50);for(let ce=1;ce<re;ce++)fe[pe++]=new W(de+50*ce,te,J);fe[pe++]=new W(ee,te,J)}else fe[pe++]=Q;de=ee}return fe}(G,fe,!j.isBasicASCII||j.fontLigatures)),new x(j.useMonospaceOptimizations,j.canUseHalfwidthRightwardsArrow,G,de,oe,fe,pe,j.fauxIndentLength,j.tabSize,j.startVisibleColumn,j.containsRTL,j.spaceWidth,j.renderSpaceCharCode,j.renderWhitespace,j.renderControlCharacters)}(j),G)}class C{constructor(G,oe,de,fe){this.characterMapping=G,this.html=oe,this.containsRTL=de,this.containsForeignElements=fe}}function b(j){const G=(0,g.l$)(1e4),oe=y(j,G);return new C(oe.characterMapping,G.build(),oe.containsRTL,oe.containsForeignElements)}class x{constructor(G,oe,de,fe,pe,ye,ge,Q,ee,le,te,J,re,ce,ve){this.fontIsMonospace=G,this.canUseHalfwidthRightwardsArrow=oe,this.lineContent=de,this.len=fe,this.isOverflowing=pe,this.parts=ye,this.containsForeignElements=ge,this.fauxIndentLength=Q,this.tabSize=ee,this.startVisibleColumn=le,this.containsRTL=te,this.spaceWidth=J,this.renderSpaceCharCode=re,this.renderWhitespace=ce,this.renderControlCharacters=ve}}function L(j){return j<32?9!==j:127===j||j>=8234&&j<=8238||j>=8294&&j<=8297||j>=8206&&j<=8207||1564===j}function $(j){return j.toString(16).toUpperCase().padStart(4,"0")}},42483:(Fe,Ee,p)=>{p.d(Ee,{l_:()=>Y,ud:()=>W,IP:()=>M,wA:()=>i,$t:()=>T,Wx:()=>B,$l:()=>P,SQ:()=>y});var D=p(74243),g=p(1873);class Y{constructor(b,x,f,E){this._viewportBrand=void 0,this.top=0|b,this.left=0|x,this.width=0|f,this.height=0|E}}class W{constructor(b,x){this.tabSize=b,this.data=x}}class M{constructor(b,x,f,E,z,L,N){this._viewLineDataBrand=void 0,this.content=b,this.continuesWithWrappedLine=x,this.minColumn=f,this.maxColumn=E,this.startVisibleColumn=z,this.tokens=L,this.inlineDecorations=N}}class i{constructor(b,x,f,E,z,L,N,Z,O,I){this.minColumn=b,this.maxColumn=x,this.content=f,this.continuesWithWrappedLine=E,this.isBasicASCII=i.isBasicASCII(f,L),this.containsRTL=i.containsRTL(f,this.isBasicASCII,z),this.tokens=N,this.inlineDecorations=Z,this.tabSize=O,this.startVisibleColumn=I}static isBasicASCII(b,x){return!x||D.$i(b)}static containsRTL(b,x,f){return!(x||!f)&&D.Ut(b)}}class T{constructor(b,x,f){this.range=b,this.inlineClassName=x,this.type=f}}class B{constructor(b,x,f,E){this.startOffset=b,this.endOffset=x,this.inlineClassName=f,this.inlineClassNameAffectsLetterSpacing=E}toInlineDecoration(b){return new T(new g.e(b,this.startOffset+1,b,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class P{constructor(b,x){this._viewModelDecorationBrand=void 0,this.range=b,this.options=x}}class y{constructor(b,x,f){this.color=b,this.zIndex=x,this.data=f}static cmp(b,x){return b.zIndex===x.zIndex?b.color<x.color?-1:b.color>x.color?1:0:b.zIndex-x.zIndex}}},31321:(Fe,Ee,p)=>{p.d(Ee,{EY:()=>g,Tj:()=>Y});class D{constructor(M,i,T){this._colorZoneBrand=void 0,this.from=0|M,this.to=0|i,this.colorId=0|T}static compare(M,i){return M.colorId===i.colorId?M.from===i.from?M.to-i.to:M.from-i.from:M.colorId-i.colorId}}class g{constructor(M,i,T,B){this._overviewRulerZoneBrand=void 0,this.startLineNumber=M,this.endLineNumber=i,this.heightInLines=T,this.color=B,this._colorZone=null}static compare(M,i){return M.color===i.color?M.startLineNumber===i.startLineNumber?M.heightInLines===i.heightInLines?M.endLineNumber-i.endLineNumber:M.heightInLines-i.heightInLines:M.startLineNumber-i.startLineNumber:M.color<i.color?-1:1}setColorZone(M){this._colorZone=M}getColorZones(){return this._colorZone}}class Y{constructor(M){this._getVerticalOffsetForLine=M,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(M){this._zones=M,this._zones.sort(g.compare)}setLineHeight(M){return this._lineHeight!==M&&(this._lineHeight=M,this._colorZonesInvalid=!0,!0)}setPixelRatio(M){this._pixelRatio=M,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(M){return this._domWidth!==M&&(this._domWidth=M,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(M){return this._domHeight!==M&&(this._domHeight=M,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(M){return this._outerHeight!==M&&(this._outerHeight=M,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const M=this._colorZonesInvalid,i=Math.floor(this._lineHeight),T=Math.floor(this.getCanvasHeight()),P=T/Math.floor(this._outerHeight),y=Math.floor(4*this._pixelRatio/2),C=[];for(let b=0,x=this._zones.length;b<x;b++){const f=this._zones[b];if(!M){const G=f.getColorZones();if(G){C.push(G);continue}}const E=this._getVerticalOffsetForLine(f.startLineNumber),z=0===f.heightInLines?this._getVerticalOffsetForLine(f.endLineNumber)+i:E+f.heightInLines*i,L=Math.floor(P*E),N=Math.floor(P*z);let Z=Math.floor((L+N)/2),O=N-Z;O<y&&(O=y),Z-O<0&&(Z=O),Z+O>T&&(Z=T-O);const I=f.color;let $=this._color2Id[I];$||($=++this._lastAssignedId,this._color2Id[I]=$,this._id2Color[$]=I);const j=new D(Z-O,Z+O,$);f.setColorZone(j),C.push(j)}return this._colorZonesInvalid=!1,C.sort(D.compare),C}}},18066:(Fe,Ee,p)=>{p.d(Ee,{CU:()=>M,Fd:()=>i,$t:()=>T,zg:()=>B});var D=p(67947),g=p(1873),Y=p(42483),W=p(52925);class M{constructor(C,b,x,f,E){this.editorId=C,this.model=b,this.configuration=x,this._linesCollection=f,this._coordinatesConverter=E,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(C){const b=C.id;let x=this._decorationsCache[b];if(!x){const f=C.range,E=C.options;let z;if(E.isWholeLine){const L=this._coordinatesConverter.convertModelPositionToViewPosition(new D.L(f.startLineNumber,1),0),N=this._coordinatesConverter.convertModelPositionToViewPosition(new D.L(f.endLineNumber,this.model.getLineMaxColumn(f.endLineNumber)),1);z=new g.e(L.lineNumber,L.column,N.lineNumber,N.column)}else z=this._coordinatesConverter.convertModelRangeToViewRange(f,1);x=new Y.$l(z,E),this._decorationsCache[b]=x}return x}getDecorationsViewportData(C){let b=null!==this._cachedModelDecorationsResolver;return b=b&&C.equalsRange(this._cachedModelDecorationsResolverViewRange),b||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(C),this._cachedModelDecorationsResolverViewRange=C),this._cachedModelDecorationsResolver}_getDecorationsViewportData(C){const b=this._linesCollection.getDecorationsInRange(C,this.editorId,(0,W.$J)(this.configuration.options)),x=C.startLineNumber,f=C.endLineNumber,E=[];let z=0;const L=[];for(let N=x;N<=f;N++)L[N-x]=[];for(let N=0,Z=b.length;N<Z;N++){const O=b[N],I=O.options;if(!i(this.model,O))continue;const $=this._getOrCreateViewModelDecoration(O),j=$.range;if(E[z++]=$,I.inlineClassName){const G=new Y.$t(j,I.inlineClassName,I.inlineClassNameAffectsLetterSpacing?3:0),oe=Math.max(x,j.startLineNumber),de=Math.min(f,j.endLineNumber);for(let fe=oe;fe<=de;fe++)L[fe-x].push(G)}if(I.beforeContentClassName&&x<=j.startLineNumber&&j.startLineNumber<=f){const G=new Y.$t(new g.e(j.startLineNumber,j.startColumn,j.startLineNumber,j.startColumn),I.beforeContentClassName,1);L[j.startLineNumber-x].push(G)}if(I.afterContentClassName&&x<=j.endLineNumber&&j.endLineNumber<=f){const G=new Y.$t(new g.e(j.endLineNumber,j.endColumn,j.endLineNumber,j.endColumn),I.afterContentClassName,2);L[j.endLineNumber-x].push(G)}}return{decorations:E,inlineDecorations:L}}}function i(y,C){return!(C.options.hideInCommentTokens&&T(y,C)||C.options.hideInStringTokens&&B(y,C))}function T(y,C){return P(y,C.range,b=>1===b)}function B(y,C){return P(y,C.range,b=>2===b)}function P(y,C,b){for(let x=C.startLineNumber;x<=C.endLineNumber;x++){const f=y.getLineTokens(x),z=x===C.endLineNumber;let L=x===C.startLineNumber?f.findTokenIndexAtOffset(C.startColumn-1):0;for(;L<f.getCount()&&!(z&&f.getStartOffset(L)>C.endColumn-1);){if(!b(f.getStandardTokenType(L)))return!1;L++}}return!0}},55550:(Fe,Ee,p)=>{p.d(Ee,{yy:()=>f,Dl:()=>E,YQ:()=>z});var D=p(74243),g=p(1873),Y=p(66607),W=p(40189),M=p(44346),i=p(6461),T=p(62253),B=p(43569),P=p(26033),y=p(12918);const C=(0,B.yh)("IEditorCancelService"),b=new i.uy("cancellableOperation",!1,(0,y.N)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,P.z)(C,class{constructor(){this._tokens=new WeakMap}add(L,N){let O,Z=this._tokens.get(L);return Z||(Z=L.invokeWithinContext(I=>({key:b.bindTo(I.get(i.i6)),tokens:new T.S})),this._tokens.set(L,Z)),Z.key.set(!0),O=Z.tokens.push(N),()=>{O&&(O(),Z.key.set(!Z.tokens.isEmpty()),O=void 0)}}cancel(L){const N=this._tokens.get(L);if(!N)return;const Z=N.tokens.pop();Z&&(Z.cancel(),N.key.set(!N.tokens.isEmpty()))}},!0);class x extends Y.A{constructor(N,Z){super(Z),this.editor=N,this._unregister=N.invokeWithinContext(O=>O.get(C).add(N,this))}dispose(){this._unregister(),super.dispose()}}(0,M.fK)(new class extends M._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:b})}runEditorCommand(L,N){L.get(C).cancel(N)}});class f{constructor(N,Z){if(this.flags=Z,0!=(1&this.flags)){const O=N.getModel();this.modelVersionId=O?D.WU("{0}#{1}",O.uri.toString(),O.getVersionId()):null}else this.modelVersionId=null;this.position=0!=(4&this.flags)?N.getPosition():null,this.selection=0!=(2&this.flags)?N.getSelection():null,0!=(8&this.flags)?(this.scrollLeft=N.getScrollLeft(),this.scrollTop=N.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(N){if(!(N instanceof f))return!1;const Z=N;return!(this.modelVersionId!==Z.modelVersionId||this.scrollLeft!==Z.scrollLeft||this.scrollTop!==Z.scrollTop||!this.position&&Z.position||this.position&&!Z.position||this.position&&Z.position&&!this.position.equals(Z.position)||!this.selection&&Z.selection||this.selection&&!Z.selection||this.selection&&Z.selection&&!this.selection.equalsRange(Z.selection))}validate(N){return this._equals(new f(N,this.flags))}}class E extends x{constructor(N,Z,O,I){super(N,I),this._listener=new W.SL,4&Z&&this._listener.add(N.onDidChangeCursorPosition($=>{(!O||!g.e.containsPosition(O,$.position))&&this.cancel()})),2&Z&&this._listener.add(N.onDidChangeCursorSelection($=>{(!O||!g.e.containsRange(O,$.selection))&&this.cancel()})),8&Z&&this._listener.add(N.onDidScrollChange($=>this.cancel())),1&Z&&(this._listener.add(N.onDidChangeModel($=>this.cancel())),this._listener.add(N.onDidChangeModelContent($=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class z extends Y.A{constructor(N,Z){super(Z),this._listener=N.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},86349:(Fe,Ee,p)=>{p.d(Ee,{xC:()=>oe,Zg:()=>j,x$:()=>de,Qq:()=>pe,Qs:()=>ee});var D=p(99034),g=p(89822),Y=p(66607),W=p(13226),M=p(58151),i=p(62253),T=p(99770),B=p(85459),P=p(55550),y=p(79837),C=p(67947),b=p(1873),x=p(60745),f=p(78339),E=p(13591),z=p(38696),L=p(12918),N=p(10467);class Z{constructor(te){this.value=te,this._lower=te.toLowerCase()}static toKey(te){return"string"==typeof te?te.toLowerCase():te._lower}}var O=p(43569),I=p(3494),$=function(le,te,J,re){return new(J||(J=Promise))(function(ve,Ie){function We(Ce){try{ue(re.next(Ce))}catch(Ae){Ie(Ae)}}function Ue(Ce){try{ue(re.throw(Ce))}catch(Ae){Ie(Ae)}}function ue(Ce){Ce.done?ve(Ce.value):function(ve){return ve instanceof J?ve:new J(function(Ie){Ie(ve)})}(Ce.value).then(We,Ue)}ue((re=re.apply(le,te||[])).next())})};function j(le){if(!(le=le.filter(ce=>ce.range)).length)return;let{range:te}=le[0];for(let ce=1;ce<le.length;ce++)te=b.e.plusRange(te,le[ce].range);const{startLineNumber:J,endLineNumber:re}=te;(0,D.Z9)(J===re?1===le.length?L.N("hint11","Made 1 formatting edit on line {0}",J):L.N("hintn1","Made {0} formatting edits on line {1}",le.length,J):1===le.length?L.N("hint1n","Made 1 formatting edit between lines {0} and {1}",J,re):L.N("hintnn","Made {0} formatting edits between lines {1} and {2}",le.length,J,re))}function G(le,te,J){const re=[],ce=new Set,ve=le.ordered(J);for(const We of ve)re.push(We),We.extensionId&&ce.add(Z.toKey(We.extensionId));const Ie=te.ordered(J);for(const We of Ie){if(We.extensionId){if(ce.has(Z.toKey(We.extensionId)))continue;ce.add(Z.toKey(We.extensionId))}re.push({displayName:We.displayName,extensionId:We.extensionId,provideDocumentFormattingEdits:(Ue,ue,Ce)=>We.provideDocumentRangeFormattingEdits(Ue,Ue.getFullModelRange(),ue,Ce)})}return re}class oe{static setFormatterSelector(te){return{dispose:oe._selectors.unshift(te)}}static select(te,J,re){return $(this,void 0,void 0,function*(){if(0===te.length)return;const ce=M.$.first(oe._selectors);return ce?yield ce(te,J,re):void 0})}}function de(le,te,J,re,ce,ve){return $(this,void 0,void 0,function*(){const Ie=le.get(O.TG),{documentRangeFormattingEditProvider:We}=le.get(I.p),Ue=(0,y.CL)(te)?te.getModel():te,ue=We.ordered(Ue),Ce=yield oe.select(ue,Ue,re);Ce&&(ce.report(Ce),yield Ie.invokeFunction(fe,Ce,te,J,ve))})}function fe(le,te,J,re,ce){return $(this,void 0,void 0,function*(){const ve=le.get(f.p);let Ie,We;(0,y.CL)(J)?(Ie=J.getModel(),We=new P.Dl(J,5,void 0,ce)):(Ie=J,We=new P.YQ(J,ce));let Ue=[],ue=0;for(let Pe of(0,g._2)(re).sort(b.e.compareRangesUsingStarts))ue>0&&b.e.areIntersectingOrTouching(Ue[ue-1],Pe)?Ue[ue-1]=b.e.fromPositions(Ue[ue-1].getStartPosition(),Pe.getEndPosition()):ue=Ue.push(Pe);const Ce=Pe=>$(this,void 0,void 0,function*(){return(yield te.provideDocumentRangeFormattingEdits(Ie,Pe,Ie.getFormattingOptions(),We.token))||[]}),Ae=(Pe,st)=>{if(!Pe.length||!st.length)return!1;const ut=Pe.reduce((nt,Se)=>b.e.plusRange(nt,Se.range),Pe[0].range);if(!st.some(nt=>b.e.intersectRanges(ut,nt.range)))return!1;for(let nt of Pe)for(let Se of st)if(b.e.intersectRanges(nt.range,Se.range))return!0;return!1},et=[],Ye=[];try{for(let Pe of Ue){if(We.token.isCancellationRequested)return!0;Ye.push(yield Ce(Pe))}for(let Pe=0;Pe<Ue.length;++Pe)for(let st=Pe+1;st<Ue.length;++st){if(We.token.isCancellationRequested)return!0;if(Ae(Ye[Pe],Ye[st])){const ut=b.e.plusRange(Ue[Pe],Ue[st]),nt=yield Ce(ut);Ue.splice(st,1),Ue.splice(Pe,1),Ue.push(ut),Ye.splice(st,1),Ye.splice(Pe,1),Ye.push(nt),Pe=0,st=0}}for(let Pe of Ye){if(We.token.isCancellationRequested)return!0;const st=yield ve.computeMoreMinimalEdits(Ie.uri,Pe);st&&et.push(...st)}}finally{We.dispose()}if(0===et.length)return!1;if((0,y.CL)(J))z.V.execute(J,et,!0),j(et),J.revealPositionInCenterIfOutsideViewport(J.getPosition(),1);else{const[{range:Pe}]=et,st=new x.Y(Pe.startLineNumber,Pe.startColumn,Pe.endLineNumber,Pe.endColumn);Ie.pushEditOperations([st],et.map(ut=>({text:ut.text,range:b.e.lift(ut.range),forceMoveMarkers:!0})),ut=>{for(const{range:nt}of ut)if(b.e.areIntersectingOrTouching(nt,st))return[new x.Y(nt.startLineNumber,nt.startColumn,nt.endLineNumber,nt.endColumn)];return null})}return!0})}function pe(le,te,J,re,ce){return $(this,void 0,void 0,function*(){const ve=le.get(O.TG),Ie=le.get(I.p),We=(0,y.CL)(te)?te.getModel():te,Ue=G(Ie.documentFormattingEditProvider,Ie.documentRangeFormattingEditProvider,We),ue=yield oe.select(Ue,We,J);ue&&(re.report(ue),yield ve.invokeFunction(ye,ue,te,J,ce))})}function ye(le,te,J,re,ce){return $(this,void 0,void 0,function*(){const ve=le.get(f.p);let Ie,We,Ue;(0,y.CL)(J)?(Ie=J.getModel(),We=new P.Dl(J,5,void 0,ce)):(Ie=J,We=new P.YQ(J,ce));try{const ue=yield te.provideDocumentFormattingEdits(Ie,Ie.getFormattingOptions(),We.token);if(Ue=yield ve.computeMoreMinimalEdits(Ie.uri,ue),We.token.isCancellationRequested)return!0}finally{We.dispose()}if(!Ue||0===Ue.length)return!1;if((0,y.CL)(J))z.V.execute(J,Ue,2!==re),2!==re&&(j(Ue),J.revealPositionInCenterIfOutsideViewport(J.getPosition(),1));else{const[{range:ue}]=Ue,Ce=new x.Y(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn);Ie.pushEditOperations([Ce],Ue.map(Ae=>({text:Ae.text,range:b.e.lift(Ae.range),forceMoveMarkers:!0})),Ae=>{for(const{range:et}of Ae)if(b.e.areIntersectingOrTouching(et,Ce))return[new x.Y(et.startLineNumber,et.startColumn,et.endLineNumber,et.endColumn)];return null})}return!0})}function ee(le,te,J,re,ce,ve,Ie){const We=te.onTypeFormattingEditProvider.ordered(J);return 0===We.length||We[0].autoFormatTriggerCharacters.indexOf(ce)<0?Promise.resolve(void 0):Promise.resolve(We[0].provideOnTypeFormattingEdits(J,re,ce,ve,Ie)).catch(W.Cp).then(Ue=>le.computeMoreMinimalEdits(J.uri,Ue))}oe._selectors=new i.S,N.P0.registerCommand("_executeFormatRangeProvider",function(le,...te){return $(this,void 0,void 0,function*(){const[J,re,ce]=te;(0,T.p_)(B.o.isUri(J)),(0,T.p_)(b.e.isIRange(re));const ve=le.get(E.S),Ie=le.get(f.p),We=le.get(I.p),Ue=yield ve.createModelReference(J);try{return function(le,te,J,re,ce,ve){return $(this,void 0,void 0,function*(){const Ie=te.documentRangeFormattingEditProvider.ordered(J);for(const We of Ie){let Ue=yield Promise.resolve(We.provideDocumentRangeFormattingEdits(J,re,ce,ve)).catch(W.Cp);if((0,g.Of)(Ue))return yield le.computeMoreMinimalEdits(J.uri,Ue)}})}(Ie,We,Ue.object.textEditorModel,b.e.lift(re),ce,Y.T.None)}finally{Ue.dispose()}})}),N.P0.registerCommand("_executeFormatDocumentProvider",function(le,...te){return $(this,void 0,void 0,function*(){const[J,re]=te;(0,T.p_)(B.o.isUri(J));const ce=le.get(E.S),ve=le.get(f.p),Ie=le.get(I.p),We=yield ce.createModelReference(J);try{return function(le,te,J,re,ce){return $(this,void 0,void 0,function*(){const ve=G(te.documentFormattingEditProvider,te.documentRangeFormattingEditProvider,J);for(const Ie of ve){let We=yield Promise.resolve(Ie.provideDocumentFormattingEdits(J,re,ce)).catch(W.Cp);if((0,g.Of)(We))return yield le.computeMoreMinimalEdits(J.uri,We)}})}(ve,Ie,We.object.textEditorModel,re,Y.T.None)}finally{We.dispose()}})}),N.P0.registerCommand("_executeFormatOnTypeProvider",function(le,...te){return $(this,void 0,void 0,function*(){const[J,re,ce,ve]=te;(0,T.p_)(B.o.isUri(J)),(0,T.p_)(C.L.isIPosition(re)),(0,T.p_)("string"==typeof ce);const Ie=le.get(E.S),We=le.get(f.p),Ue=le.get(I.p),ue=yield Ie.createModelReference(J);try{return ee(We,Ue,ue.object.textEditorModel,C.L.lift(re),ce,ve,Y.T.None)}finally{ue.dispose()}})})},38696:(Fe,Ee,p)=>{p.d(Ee,{V:()=>Y});var D=p(19420),g=p(1873);class Y{static _handleEolEdits(M,i){let T,B=[];for(let P of i)"number"==typeof P.eol&&(T=P.eol),P.range&&"string"==typeof P.text&&B.push(P);return"number"==typeof T&&M.hasModel()&&M.getModel().pushEOL(T),B}static _isFullModelReplaceEdit(M,i){if(!M.hasModel())return!1;const T=M.getModel(),B=T.validateRange(i.range);return T.getFullModelRange().equalsRange(B)}static execute(M,i,T){T&&M.pushUndoStop();const B=Y._handleEolEdits(M,i);1===B.length&&Y._isFullModelReplaceEdit(M,B[0])?M.executeEdits("formatEditsCommand",B.map(P=>D.h.replace(g.e.lift(P.range),P.text))):M.executeEdits("formatEditsCommand",B.map(P=>D.h.replaceMove(g.e.lift(P.range),P.text))),T&&M.pushUndoStop()}}},70031:(Fe,Ee,p)=>{p.r(Ee),p.d(Ee,{CancellationTokenSource:()=>Gl,Emitter:()=>al,KeyCode:()=>Ql,KeyMod:()=>dm,MarkerSeverity:()=>xf,MarkerTag:()=>um,Position:()=>Td,Range:()=>yf,Selection:()=>Yu,SelectionDirection:()=>Sf,Token:()=>Lf,Uri:()=>Ad,editor:()=>hm,languages:()=>fm});var D=p(52925),g=p(66607),Y=p(71040),W=p(64073),M=p(85459),i=p(67947),T=p(1873),B=p(60745),P=p(33979),y=(()=>{return(w=y||(y={}))[w.Unknown=0]="Unknown",w[w.Disabled=1]="Disabled",w[w.Enabled=2]="Enabled",y;var w})(),C=(()=>{return(w=C||(C={}))[w.KeepWhitespace=1]="KeepWhitespace",w[w.InsertAsSnippet=4]="InsertAsSnippet",C;var w})(),b=(()=>{return(w=b||(b={}))[w.Method=0]="Method",w[w.Function=1]="Function",w[w.Constructor=2]="Constructor",w[w.Field=3]="Field",w[w.Variable=4]="Variable",w[w.Class=5]="Class",w[w.Struct=6]="Struct",w[w.Interface=7]="Interface",w[w.Module=8]="Module",w[w.Property=9]="Property",w[w.Event=10]="Event",w[w.Operator=11]="Operator",w[w.Unit=12]="Unit",w[w.Value=13]="Value",w[w.Constant=14]="Constant",w[w.Enum=15]="Enum",w[w.EnumMember=16]="EnumMember",w[w.Keyword=17]="Keyword",w[w.Text=18]="Text",w[w.Color=19]="Color",w[w.File=20]="File",w[w.Reference=21]="Reference",w[w.Customcolor=22]="Customcolor",w[w.Folder=23]="Folder",w[w.TypeParameter=24]="TypeParameter",w[w.User=25]="User",w[w.Issue=26]="Issue",w[w.Snippet=27]="Snippet",b;var w})(),x=(()=>{return(w=x||(x={}))[w.Deprecated=1]="Deprecated",x;var w})(),f=(()=>{return(w=f||(f={}))[w.Invoke=0]="Invoke",w[w.TriggerCharacter=1]="TriggerCharacter",w[w.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",f;var w})(),E=(()=>{return(w=E||(E={}))[w.EXACT=0]="EXACT",w[w.ABOVE=1]="ABOVE",w[w.BELOW=2]="BELOW",E;var w})(),z=(()=>{return(w=z||(z={}))[w.NotSet=0]="NotSet",w[w.ContentFlush=1]="ContentFlush",w[w.RecoverFromMarkers=2]="RecoverFromMarkers",w[w.Explicit=3]="Explicit",w[w.Paste=4]="Paste",w[w.Undo=5]="Undo",w[w.Redo=6]="Redo",z;var w})(),L=(()=>{return(w=L||(L={}))[w.LF=1]="LF",w[w.CRLF=2]="CRLF",L;var w})(),N=(()=>{return(w=N||(N={}))[w.Text=0]="Text",w[w.Read=1]="Read",w[w.Write=2]="Write",N;var w})(),Z=(()=>{return(w=Z||(Z={}))[w.None=0]="None",w[w.Keep=1]="Keep",w[w.Brackets=2]="Brackets",w[w.Advanced=3]="Advanced",w[w.Full=4]="Full",Z;var w})(),O=(()=>{return(w=O||(O={}))[w.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",w[w.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",w[w.accessibilitySupport=2]="accessibilitySupport",w[w.accessibilityPageSize=3]="accessibilityPageSize",w[w.ariaLabel=4]="ariaLabel",w[w.autoClosingBrackets=5]="autoClosingBrackets",w[w.autoClosingDelete=6]="autoClosingDelete",w[w.autoClosingOvertype=7]="autoClosingOvertype",w[w.autoClosingQuotes=8]="autoClosingQuotes",w[w.autoIndent=9]="autoIndent",w[w.automaticLayout=10]="automaticLayout",w[w.autoSurround=11]="autoSurround",w[w.bracketPairColorization=12]="bracketPairColorization",w[w.guides=13]="guides",w[w.codeLens=14]="codeLens",w[w.codeLensFontFamily=15]="codeLensFontFamily",w[w.codeLensFontSize=16]="codeLensFontSize",w[w.colorDecorators=17]="colorDecorators",w[w.columnSelection=18]="columnSelection",w[w.comments=19]="comments",w[w.contextmenu=20]="contextmenu",w[w.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",w[w.cursorBlinking=22]="cursorBlinking",w[w.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",w[w.cursorStyle=24]="cursorStyle",w[w.cursorSurroundingLines=25]="cursorSurroundingLines",w[w.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",w[w.cursorWidth=27]="cursorWidth",w[w.disableLayerHinting=28]="disableLayerHinting",w[w.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",w[w.domReadOnly=30]="domReadOnly",w[w.dragAndDrop=31]="dragAndDrop",w[w.emptySelectionClipboard=32]="emptySelectionClipboard",w[w.extraEditorClassName=33]="extraEditorClassName",w[w.fastScrollSensitivity=34]="fastScrollSensitivity",w[w.find=35]="find",w[w.fixedOverflowWidgets=36]="fixedOverflowWidgets",w[w.folding=37]="folding",w[w.foldingStrategy=38]="foldingStrategy",w[w.foldingHighlight=39]="foldingHighlight",w[w.foldingImportsByDefault=40]="foldingImportsByDefault",w[w.foldingMaximumRegions=41]="foldingMaximumRegions",w[w.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",w[w.fontFamily=43]="fontFamily",w[w.fontInfo=44]="fontInfo",w[w.fontLigatures=45]="fontLigatures",w[w.fontSize=46]="fontSize",w[w.fontWeight=47]="fontWeight",w[w.formatOnPaste=48]="formatOnPaste",w[w.formatOnType=49]="formatOnType",w[w.glyphMargin=50]="glyphMargin",w[w.gotoLocation=51]="gotoLocation",w[w.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",w[w.hover=53]="hover",w[w.inDiffEditor=54]="inDiffEditor",w[w.inlineSuggest=55]="inlineSuggest",w[w.letterSpacing=56]="letterSpacing",w[w.lightbulb=57]="lightbulb",w[w.lineDecorationsWidth=58]="lineDecorationsWidth",w[w.lineHeight=59]="lineHeight",w[w.lineNumbers=60]="lineNumbers",w[w.lineNumbersMinChars=61]="lineNumbersMinChars",w[w.linkedEditing=62]="linkedEditing",w[w.links=63]="links",w[w.matchBrackets=64]="matchBrackets",w[w.minimap=65]="minimap",w[w.mouseStyle=66]="mouseStyle",w[w.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",w[w.mouseWheelZoom=68]="mouseWheelZoom",w[w.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",w[w.multiCursorModifier=70]="multiCursorModifier",w[w.multiCursorPaste=71]="multiCursorPaste",w[w.occurrencesHighlight=72]="occurrencesHighlight",w[w.overviewRulerBorder=73]="overviewRulerBorder",w[w.overviewRulerLanes=74]="overviewRulerLanes",w[w.padding=75]="padding",w[w.parameterHints=76]="parameterHints",w[w.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",w[w.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",w[w.quickSuggestions=79]="quickSuggestions",w[w.quickSuggestionsDelay=80]="quickSuggestionsDelay",w[w.readOnly=81]="readOnly",w[w.renameOnType=82]="renameOnType",w[w.renderControlCharacters=83]="renderControlCharacters",w[w.renderFinalNewline=84]="renderFinalNewline",w[w.renderLineHighlight=85]="renderLineHighlight",w[w.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",w[w.renderValidationDecorations=87]="renderValidationDecorations",w[w.renderWhitespace=88]="renderWhitespace",w[w.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",w[w.roundedSelection=90]="roundedSelection",w[w.rulers=91]="rulers",w[w.scrollbar=92]="scrollbar",w[w.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",w[w.scrollBeyondLastLine=94]="scrollBeyondLastLine",w[w.scrollPredominantAxis=95]="scrollPredominantAxis",w[w.selectionClipboard=96]="selectionClipboard",w[w.selectionHighlight=97]="selectionHighlight",w[w.selectOnLineNumbers=98]="selectOnLineNumbers",w[w.showFoldingControls=99]="showFoldingControls",w[w.showUnused=100]="showUnused",w[w.snippetSuggestions=101]="snippetSuggestions",w[w.smartSelect=102]="smartSelect",w[w.smoothScrolling=103]="smoothScrolling",w[w.stickyTabStops=104]="stickyTabStops",w[w.stopRenderingLineAfter=105]="stopRenderingLineAfter",w[w.suggest=106]="suggest",w[w.suggestFontSize=107]="suggestFontSize",w[w.suggestLineHeight=108]="suggestLineHeight",w[w.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",w[w.suggestSelection=110]="suggestSelection",w[w.tabCompletion=111]="tabCompletion",w[w.tabIndex=112]="tabIndex",w[w.unicodeHighlighting=113]="unicodeHighlighting",w[w.unusualLineTerminators=114]="unusualLineTerminators",w[w.useShadowDOM=115]="useShadowDOM",w[w.useTabStops=116]="useTabStops",w[w.wordSeparators=117]="wordSeparators",w[w.wordWrap=118]="wordWrap",w[w.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",w[w.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",w[w.wordWrapColumn=121]="wordWrapColumn",w[w.wordWrapOverride1=122]="wordWrapOverride1",w[w.wordWrapOverride2=123]="wordWrapOverride2",w[w.wrappingIndent=124]="wrappingIndent",w[w.wrappingStrategy=125]="wrappingStrategy",w[w.showDeprecated=126]="showDeprecated",w[w.inlayHints=127]="inlayHints",w[w.editorClassName=128]="editorClassName",w[w.pixelRatio=129]="pixelRatio",w[w.tabFocusMode=130]="tabFocusMode",w[w.layoutInfo=131]="layoutInfo",w[w.wrappingInfo=132]="wrappingInfo",O;var w})(),I=(()=>{return(w=I||(I={}))[w.TextDefined=0]="TextDefined",w[w.LF=1]="LF",w[w.CRLF=2]="CRLF",I;var w})(),$=(()=>{return(w=$||($={}))[w.LF=0]="LF",w[w.CRLF=1]="CRLF",$;var w})(),j=(()=>{return(w=j||(j={}))[w.None=0]="None",w[w.Indent=1]="Indent",w[w.IndentOutdent=2]="IndentOutdent",w[w.Outdent=3]="Outdent",j;var w})(),G=(()=>{return(w=G||(G={}))[w.Both=0]="Both",w[w.Right=1]="Right",w[w.Left=2]="Left",w[w.None=3]="None",G;var w})(),oe=(()=>{return(w=oe||(oe={}))[w.Type=1]="Type",w[w.Parameter=2]="Parameter",oe;var w})(),de=(()=>{return(w=de||(de={}))[w.Automatic=0]="Automatic",w[w.Explicit=1]="Explicit",de;var w})(),fe=(()=>{return(w=fe||(fe={}))[w.DependsOnKbLayout=-1]="DependsOnKbLayout",w[w.Unknown=0]="Unknown",w[w.Backspace=1]="Backspace",w[w.Tab=2]="Tab",w[w.Enter=3]="Enter",w[w.Shift=4]="Shift",w[w.Ctrl=5]="Ctrl",w[w.Alt=6]="Alt",w[w.PauseBreak=7]="PauseBreak",w[w.CapsLock=8]="CapsLock",w[w.Escape=9]="Escape",w[w.Space=10]="Space",w[w.PageUp=11]="PageUp",w[w.PageDown=12]="PageDown",w[w.End=13]="End",w[w.Home=14]="Home",w[w.LeftArrow=15]="LeftArrow",w[w.UpArrow=16]="UpArrow",w[w.RightArrow=17]="RightArrow",w[w.DownArrow=18]="DownArrow",w[w.Insert=19]="Insert",w[w.Delete=20]="Delete",w[w.Digit0=21]="Digit0",w[w.Digit1=22]="Digit1",w[w.Digit2=23]="Digit2",w[w.Digit3=24]="Digit3",w[w.Digit4=25]="Digit4",w[w.Digit5=26]="Digit5",w[w.Digit6=27]="Digit6",w[w.Digit7=28]="Digit7",w[w.Digit8=29]="Digit8",w[w.Digit9=30]="Digit9",w[w.KeyA=31]="KeyA",w[w.KeyB=32]="KeyB",w[w.KeyC=33]="KeyC",w[w.KeyD=34]="KeyD",w[w.KeyE=35]="KeyE",w[w.KeyF=36]="KeyF",w[w.KeyG=37]="KeyG",w[w.KeyH=38]="KeyH",w[w.KeyI=39]="KeyI",w[w.KeyJ=40]="KeyJ",w[w.KeyK=41]="KeyK",w[w.KeyL=42]="KeyL",w[w.KeyM=43]="KeyM",w[w.KeyN=44]="KeyN",w[w.KeyO=45]="KeyO",w[w.KeyP=46]="KeyP",w[w.KeyQ=47]="KeyQ",w[w.KeyR=48]="KeyR",w[w.KeyS=49]="KeyS",w[w.KeyT=50]="KeyT",w[w.KeyU=51]="KeyU",w[w.KeyV=52]="KeyV",w[w.KeyW=53]="KeyW",w[w.KeyX=54]="KeyX",w[w.KeyY=55]="KeyY",w[w.KeyZ=56]="KeyZ",w[w.Meta=57]="Meta",w[w.ContextMenu=58]="ContextMenu",w[w.F1=59]="F1",w[w.F2=60]="F2",w[w.F3=61]="F3",w[w.F4=62]="F4",w[w.F5=63]="F5",w[w.F6=64]="F6",w[w.F7=65]="F7",w[w.F8=66]="F8",w[w.F9=67]="F9",w[w.F10=68]="F10",w[w.F11=69]="F11",w[w.F12=70]="F12",w[w.F13=71]="F13",w[w.F14=72]="F14",w[w.F15=73]="F15",w[w.F16=74]="F16",w[w.F17=75]="F17",w[w.F18=76]="F18",w[w.F19=77]="F19",w[w.NumLock=78]="NumLock",w[w.ScrollLock=79]="ScrollLock",w[w.Semicolon=80]="Semicolon",w[w.Equal=81]="Equal",w[w.Comma=82]="Comma",w[w.Minus=83]="Minus",w[w.Period=84]="Period",w[w.Slash=85]="Slash",w[w.Backquote=86]="Backquote",w[w.BracketLeft=87]="BracketLeft",w[w.Backslash=88]="Backslash",w[w.BracketRight=89]="BracketRight",w[w.Quote=90]="Quote",w[w.OEM_8=91]="OEM_8",w[w.IntlBackslash=92]="IntlBackslash",w[w.Numpad0=93]="Numpad0",w[w.Numpad1=94]="Numpad1",w[w.Numpad2=95]="Numpad2",w[w.Numpad3=96]="Numpad3",w[w.Numpad4=97]="Numpad4",w[w.Numpad5=98]="Numpad5",w[w.Numpad6=99]="Numpad6",w[w.Numpad7=100]="Numpad7",w[w.Numpad8=101]="Numpad8",w[w.Numpad9=102]="Numpad9",w[w.NumpadMultiply=103]="NumpadMultiply",w[w.NumpadAdd=104]="NumpadAdd",w[w.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",w[w.NumpadSubtract=106]="NumpadSubtract",w[w.NumpadDecimal=107]="NumpadDecimal",w[w.NumpadDivide=108]="NumpadDivide",w[w.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",w[w.ABNT_C1=110]="ABNT_C1",w[w.ABNT_C2=111]="ABNT_C2",w[w.AudioVolumeMute=112]="AudioVolumeMute",w[w.AudioVolumeUp=113]="AudioVolumeUp",w[w.AudioVolumeDown=114]="AudioVolumeDown",w[w.BrowserSearch=115]="BrowserSearch",w[w.BrowserHome=116]="BrowserHome",w[w.BrowserBack=117]="BrowserBack",w[w.BrowserForward=118]="BrowserForward",w[w.MediaTrackNext=119]="MediaTrackNext",w[w.MediaTrackPrevious=120]="MediaTrackPrevious",w[w.MediaStop=121]="MediaStop",w[w.MediaPlayPause=122]="MediaPlayPause",w[w.LaunchMediaPlayer=123]="LaunchMediaPlayer",w[w.LaunchMail=124]="LaunchMail",w[w.LaunchApp2=125]="LaunchApp2",w[w.Clear=126]="Clear",w[w.MAX_VALUE=127]="MAX_VALUE",fe;var w})(),pe=(()=>{return(w=pe||(pe={}))[w.Hint=1]="Hint",w[w.Info=2]="Info",w[w.Warning=4]="Warning",w[w.Error=8]="Error",pe;var w})(),ye=(()=>{return(w=ye||(ye={}))[w.Unnecessary=1]="Unnecessary",w[w.Deprecated=2]="Deprecated",ye;var w})(),ge=(()=>{return(w=ge||(ge={}))[w.Inline=1]="Inline",w[w.Gutter=2]="Gutter",ge;var w})(),Q=(()=>{return(w=Q||(Q={}))[w.UNKNOWN=0]="UNKNOWN",w[w.TEXTAREA=1]="TEXTAREA",w[w.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",w[w.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",w[w.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",w[w.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",w[w.CONTENT_TEXT=6]="CONTENT_TEXT",w[w.CONTENT_EMPTY=7]="CONTENT_EMPTY",w[w.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",w[w.CONTENT_WIDGET=9]="CONTENT_WIDGET",w[w.OVERVIEW_RULER=10]="OVERVIEW_RULER",w[w.SCROLLBAR=11]="SCROLLBAR",w[w.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",w[w.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",Q;var w})(),ee=(()=>{return(w=ee||(ee={}))[w.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",w[w.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",w[w.TOP_CENTER=2]="TOP_CENTER",ee;var w})(),le=(()=>{return(w=le||(le={}))[w.Left=1]="Left",w[w.Center=2]="Center",w[w.Right=4]="Right",w[w.Full=7]="Full",le;var w})(),te=(()=>{return(w=te||(te={}))[w.Left=0]="Left",w[w.Right=1]="Right",w[w.None=2]="None",te;var w})(),J=(()=>{return(w=J||(J={}))[w.Off=0]="Off",w[w.On=1]="On",w[w.Relative=2]="Relative",w[w.Interval=3]="Interval",w[w.Custom=4]="Custom",J;var w})(),re=(()=>{return(w=re||(re={}))[w.None=0]="None",w[w.Text=1]="Text",w[w.Blocks=2]="Blocks",re;var w})(),ce=(()=>{return(w=ce||(ce={}))[w.Smooth=0]="Smooth",w[w.Immediate=1]="Immediate",ce;var w})(),ve=(()=>{return(w=ve||(ve={}))[w.Auto=1]="Auto",w[w.Hidden=2]="Hidden",w[w.Visible=3]="Visible",ve;var w})(),Ie=(()=>{return(w=Ie||(Ie={}))[w.LTR=0]="LTR",w[w.RTL=1]="RTL",Ie;var w})(),We=(()=>{return(w=We||(We={}))[w.Invoke=1]="Invoke",w[w.TriggerCharacter=2]="TriggerCharacter",w[w.ContentChange=3]="ContentChange",We;var w})(),Ue=(()=>{return(w=Ue||(Ue={}))[w.File=0]="File",w[w.Module=1]="Module",w[w.Namespace=2]="Namespace",w[w.Package=3]="Package",w[w.Class=4]="Class",w[w.Method=5]="Method",w[w.Property=6]="Property",w[w.Field=7]="Field",w[w.Constructor=8]="Constructor",w[w.Enum=9]="Enum",w[w.Interface=10]="Interface",w[w.Function=11]="Function",w[w.Variable=12]="Variable",w[w.Constant=13]="Constant",w[w.String=14]="String",w[w.Number=15]="Number",w[w.Boolean=16]="Boolean",w[w.Array=17]="Array",w[w.Object=18]="Object",w[w.Key=19]="Key",w[w.Null=20]="Null",w[w.EnumMember=21]="EnumMember",w[w.Struct=22]="Struct",w[w.Event=23]="Event",w[w.Operator=24]="Operator",w[w.TypeParameter=25]="TypeParameter",Ue;var w})(),ue=(()=>{return(w=ue||(ue={}))[w.Deprecated=1]="Deprecated",ue;var w})(),Ce=(()=>{return(w=Ce||(Ce={}))[w.Hidden=0]="Hidden",w[w.Blink=1]="Blink",w[w.Smooth=2]="Smooth",w[w.Phase=3]="Phase",w[w.Expand=4]="Expand",w[w.Solid=5]="Solid",Ce;var w})(),Ae=(()=>{return(w=Ae||(Ae={}))[w.Line=1]="Line",w[w.Block=2]="Block",w[w.Underline=3]="Underline",w[w.LineThin=4]="LineThin",w[w.BlockOutline=5]="BlockOutline",w[w.UnderlineThin=6]="UnderlineThin",Ae;var w})(),et=(()=>{return(w=et||(et={}))[w.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",w[w.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",w[w.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",w[w.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",et;var w})(),Ye=(()=>{return(w=Ye||(Ye={}))[w.None=0]="None",w[w.Same=1]="Same",w[w.Indent=2]="Indent",w[w.DeepIndent=3]="DeepIndent",Ye;var w})();let Pe=(()=>{class w{static chord(u,v){return(0,W.gx)(u,v)}}return w.CtrlCmd=2048,w.Shift=1024,w.Alt=512,w.WinCtrl=256,w})();function st(){return{editor:void 0,languages:void 0,CancellationTokenSource:g.A,Emitter:Y.Q5,KeyCode:fe,KeyMod:Pe,Position:i.L,Range:T.e,Selection:B.Y,SelectionDirection:Ie,MarkerSeverity:pe,MarkerTag:ye,Uri:M.o,Token:P.WU}}p(63317);var nt=p(74243),Se=p(12710),Ne=p(57623),at=p(37313),Ct=p(11358),jt=p(3760),bn=p(80067),mt=p(92119),Ft=p(88057),Wt=p(80810),zt=p(39067),mn=p(89983),Ge=p(40189),Lt=p(13226),vt=p(70700),dn=p(99770);let sn=!1;function hn(w){!vt.$L||(sn||(sn=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(w.message))}class _n{constructor(c,u,v,K){this.vsWorker=c,this.req=u,this.method=v,this.args=K,this.type=0}}class rn{constructor(c,u,v,K){this.vsWorker=c,this.seq=u,this.res=v,this.err=K,this.type=1}}class Rt{constructor(c,u,v,K){this.vsWorker=c,this.req=u,this.eventName=v,this.arg=K,this.type=2}}class xi{constructor(c,u,v){this.vsWorker=c,this.req=u,this.event=v,this.type=3}}class Yt{constructor(c,u){this.vsWorker=c,this.req=u,this.type=4}}class He{constructor(c){this._workerId=-1,this._handler=c,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(c){this._workerId=c}sendMessage(c,u){const v=String(++this._lastSentReq);return new Promise((K,X)=>{this._pendingReplies[v]={resolve:K,reject:X},this._send(new _n(this._workerId,v,c,u))})}listen(c,u){let v=null;const K=new Y.Q5({onFirstListenerAdd:()=>{v=String(++this._lastSentReq),this._pendingEmitters.set(v,K),this._send(new Rt(this._workerId,v,c,u))},onLastListenerRemove:()=>{this._pendingEmitters.delete(v),this._send(new Yt(this._workerId,v)),v=null}});return K.event}handleMessage(c){!c||!c.vsWorker||-1!==this._workerId&&c.vsWorker!==this._workerId||this._handleMessage(c)}_handleMessage(c){switch(c.type){case 1:return this._handleReplyMessage(c);case 0:return this._handleRequestMessage(c);case 2:return this._handleSubscribeEventMessage(c);case 3:return this._handleEventMessage(c);case 4:return this._handleUnsubscribeEventMessage(c)}}_handleReplyMessage(c){if(!this._pendingReplies[c.seq])return void console.warn("Got reply to unknown seq");let u=this._pendingReplies[c.seq];if(delete this._pendingReplies[c.seq],c.err){let v=c.err;return c.err.$isError&&(v=new Error,v.name=c.err.name,v.message=c.err.message,v.stack=c.err.stack),void u.reject(v)}u.resolve(c.res)}_handleRequestMessage(c){let u=c.req;this._handler.handleMessage(c.method,c.args).then(K=>{this._send(new rn(this._workerId,u,K,void 0))},K=>{K.detail instanceof Error&&(K.detail=(0,Lt.ri)(K.detail)),this._send(new rn(this._workerId,u,void 0,(0,Lt.ri)(K)))})}_handleSubscribeEventMessage(c){const u=c.req,v=this._handler.handleEvent(c.eventName,c.arg)(K=>{this._send(new xi(this._workerId,u,K))});this._pendingEvents.set(u,v)}_handleEventMessage(c){this._pendingEmitters.has(c.req)?this._pendingEmitters.get(c.req).fire(c.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(c){this._pendingEvents.has(c.req)?(this._pendingEvents.get(c.req).dispose(),this._pendingEvents.delete(c.req)):console.warn("Got unsubscribe for unknown req")}_send(c){let u=[];if(0===c.type)for(let v=0;v<c.args.length;v++)c.args[v]instanceof ArrayBuffer&&u.push(c.args[v]);else 1===c.type&&c.res instanceof ArrayBuffer&&u.push(c.res);this._handler.sendMessage(c,u)}}class $e extends Ge.JT{constructor(c,u,v){super();let K=null;this._worker=this._register(c.create("vs/base/common/worker/simpleWorker",Be=>{this._protocol.handleMessage(Be)},Be=>{K&&K(Be)})),this._protocol=new He({sendMessage:(Be,je)=>{this._worker.postMessage(Be,je)},handleMessage:(Be,je)=>{if("function"!=typeof v[Be])return Promise.reject(new Error("Missing method "+Be+" on main thread host."));try{return Promise.resolve(v[Be].apply(v,je))}catch(ft){return Promise.reject(ft)}},handleEvent:(Be,je)=>{if(pn(Be)){const ft=v[Be].call(v,je);if("function"!=typeof ft)throw new Error(`Missing dynamic event ${Be} on main thread host.`);return ft}if(Xt(Be)){const ft=v[Be];if("function"!=typeof ft)throw new Error(`Missing event ${Be} on main thread host.`);return ft}throw new Error(`Malformed event name ${Be}`)}}),this._protocol.setWorkerId(this._worker.getId());let X=null;void 0!==vt.li.require&&"function"==typeof vt.li.require.getConfig?X=vt.li.require.getConfig():void 0!==vt.li.requirejs&&(X=vt.li.requirejs.s.contexts._.config);const se=dn.$E(v);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(X)),u,se]);const me=(Be,je)=>this._request(Be,je),xe=(Be,je)=>this._protocol.listen(Be,je);this._lazyProxy=new Promise((Be,je)=>{K=je,this._onModuleLoaded.then(ft=>{Be(function(w,c,u){const v=se=>function(){const me=Array.prototype.slice.call(arguments,0);return c(se,me)},K=se=>function(me){return u(se,me)};let X={};for(const se of w)X[se]=pn(se)?K(se):Xt(se)?u(se,void 0):v(se);return X}(ft,me,xe))},ft=>{je(ft),this._onError("Worker failed to load "+u,ft)})})}getProxyObject(){return this._lazyProxy}_request(c,u){return new Promise((v,K)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(c,u).then(v,K)},K)})}_onError(c,u){console.error(c),console.info(u)}}function Xt(w){return"o"===w[0]&&"n"===w[1]&&nt.df(w.charCodeAt(2))}function pn(w){return/^onDynamic/.test(w)&&nt.df(w.charCodeAt(9))}var Li;const vi=null===(Li=window.trustedTypes)||void 0===Li?void 0:Li.createPolicy("defaultWorkerFactory",{createScriptURL:w=>w});class $t{constructor(c,u,v,K,X){this.id=u;const se=function(w){if(vt.li.MonacoEnvironment){if("function"==typeof vt.li.MonacoEnvironment.getWorker)return vt.li.MonacoEnvironment.getWorker("workerMain.js",w);if("function"==typeof vt.li.MonacoEnvironment.getWorkerUrl){const c=vt.li.MonacoEnvironment.getWorkerUrl("workerMain.js",w);return new Worker(vi?vi.createScriptURL(c):c,{name:w})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(v);this.worker="function"==typeof se.then?se:Promise.resolve(se),this.postMessage(c,[]),this.worker.then(me=>{me.onmessage=function(xe){K(xe.data)},me.onmessageerror=X,"function"==typeof me.addEventListener&&me.addEventListener("error",X)})}getId(){return this.id}postMessage(c,u){this.worker&&this.worker.then(v=>v.postMessage(c,u))}dispose(){this.worker&&this.worker.then(c=>c.terminate()),this.worker=null}}let Fn=(()=>{class w{constructor(u){this._label=u,this._webWorkerFailedBeforeError=!1}create(u,v,K){let X=++w.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new $t(u,X,this._label||"anonymous"+X,v,se=>{hn(se),this._webWorkerFailedBeforeError=se,K(se)})}}return w.LAST_WORKER_ID=0,w})();var kt=p(87481);function Je(w,c,u,v){return new kt.Hs(w,c,u).ComputeDiff(v)}class lt{constructor(c){const u=[],v=[];for(let K=0,X=c.length;K<X;K++)u[K]=qt(c[K],1),v[K]=Cn(c[K],1);this.lines=c,this._startColumns=u,this._endColumns=v}getElements(){const c=[];for(let u=0,v=this.lines.length;u<v;u++)c[u]=this.lines[u].substring(this._startColumns[u]-1,this._endColumns[u]-1);return c}getStrictElement(c){return this.lines[c]}getStartLineNumber(c){return c+1}getEndLineNumber(c){return c+1}createCharSequence(c,u,v){const K=[],X=[],se=[];let me=0;for(let xe=u;xe<=v;xe++){const Be=this.lines[xe],ft=c?this._endColumns[xe]:Be.length+1;for(let Jt=c?this._startColumns[xe]:1;Jt<ft;Jt++)K[me]=Be.charCodeAt(Jt-1),X[me]=xe+1,se[me]=Jt,me++}return new Et(K,X,se)}}class Et{constructor(c,u,v){this._charCodes=c,this._lineNumbers=u,this._columns=v}getElements(){return this._charCodes}getStartLineNumber(c){return this._lineNumbers[c]}getStartColumn(c){return this._columns[c]}getEndLineNumber(c){return this._lineNumbers[c]}getEndColumn(c){return this._columns[c]+1}}class Vt{constructor(c,u,v,K,X,se,me,xe){this.originalStartLineNumber=c,this.originalStartColumn=u,this.originalEndLineNumber=v,this.originalEndColumn=K,this.modifiedStartLineNumber=X,this.modifiedStartColumn=se,this.modifiedEndLineNumber=me,this.modifiedEndColumn=xe}static createFromDiffChange(c,u,v){let K,X,se,me,xe,Be,je,ft;return 0===c.originalLength?(K=0,X=0,se=0,me=0):(K=u.getStartLineNumber(c.originalStart),X=u.getStartColumn(c.originalStart),se=u.getEndLineNumber(c.originalStart+c.originalLength-1),me=u.getEndColumn(c.originalStart+c.originalLength-1)),0===c.modifiedLength?(xe=0,Be=0,je=0,ft=0):(xe=v.getStartLineNumber(c.modifiedStart),Be=v.getStartColumn(c.modifiedStart),je=v.getEndLineNumber(c.modifiedStart+c.modifiedLength-1),ft=v.getEndColumn(c.modifiedStart+c.modifiedLength-1)),new Vt(K,X,se,me,xe,Be,je,ft)}}class ln{constructor(c,u,v,K,X){this.originalStartLineNumber=c,this.originalEndLineNumber=u,this.modifiedStartLineNumber=v,this.modifiedEndLineNumber=K,this.charChanges=X}static createFromDiffResult(c,u,v,K,X,se,me){let xe,Be,je,ft,Jt;if(0===u.originalLength?(xe=v.getStartLineNumber(u.originalStart)-1,Be=0):(xe=v.getStartLineNumber(u.originalStart),Be=v.getEndLineNumber(u.originalStart+u.originalLength-1)),0===u.modifiedLength?(je=K.getStartLineNumber(u.modifiedStart)-1,ft=0):(je=K.getStartLineNumber(u.modifiedStart),ft=K.getEndLineNumber(u.modifiedStart+u.modifiedLength-1)),se&&u.originalLength>0&&u.originalLength<20&&u.modifiedLength>0&&u.modifiedLength<20&&X()){const fn=v.createCharSequence(c,u.originalStart,u.originalStart+u.originalLength-1),$n=K.createCharSequence(c,u.modifiedStart,u.modifiedStart+u.modifiedLength-1);let Ii=Je(fn,$n,X,!0).changes;me&&(Ii=function(w){if(w.length<=1)return w;const c=[w[0]];let u=c[0];for(let v=1,K=w.length;v<K;v++){const X=w[v];Math.min(X.originalStart-(u.originalStart+u.originalLength),X.modifiedStart-(u.modifiedStart+u.modifiedLength))<3?(u.originalLength=X.originalStart+X.originalLength-u.originalStart,u.modifiedLength=X.modifiedStart+X.modifiedLength-u.modifiedStart):(c.push(X),u=X)}return c}(Ii)),Jt=[];for(let _i=0,_o=Ii.length;_i<_o;_i++)Jt.push(Vt.createFromDiffChange(Ii[_i],fn,$n))}return new ln(xe,Be,je,ft,Jt)}}class Sn{constructor(c,u,v){this.shouldComputeCharChanges=v.shouldComputeCharChanges,this.shouldPostProcessCharChanges=v.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=v.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=v.shouldMakePrettyDiff,this.originalLines=c,this.modifiedLines=u,this.original=new lt(c),this.modified=new lt(u),this.continueLineDiff=yn(v.maxComputationTime),this.continueCharDiff=yn(0===v.maxComputationTime?0:Math.min(v.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const c=Je(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),u=c.changes,v=c.quitEarly;if(this.shouldIgnoreTrimWhitespace){const me=[];for(let xe=0,Be=u.length;xe<Be;xe++)me.push(ln.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u[xe],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:v,changes:me}}const K=[];let X=0,se=0;for(let me=-1,xe=u.length;me<xe;me++){const Be=me+1<xe?u[me+1]:null,je=Be?Be.originalStart:this.originalLines.length,ft=Be?Be.modifiedStart:this.modifiedLines.length;for(;X<je&&se<ft;){const Jt=this.originalLines[X],fn=this.modifiedLines[se];if(Jt!==fn){{let $n=qt(Jt,1),Ii=qt(fn,1);for(;$n>1&&Ii>1&&Jt.charCodeAt($n-2)===fn.charCodeAt(Ii-2);)$n--,Ii--;($n>1||Ii>1)&&this._pushTrimWhitespaceCharChange(K,X+1,1,$n,se+1,1,Ii)}{let $n=Cn(Jt,1),Ii=Cn(fn,1);const _i=Jt.length+1,_o=fn.length+1;for(;$n<_i&&Ii<_o&&Jt.charCodeAt($n-1)===Jt.charCodeAt(Ii-1);)$n++,Ii++;($n<_i||Ii<_o)&&this._pushTrimWhitespaceCharChange(K,X+1,$n,_i,se+1,Ii,_o)}}X++,se++}Be&&(K.push(ln.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Be,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),X+=Be.originalLength,se+=Be.modifiedLength)}return{quitEarly:v,changes:K}}_pushTrimWhitespaceCharChange(c,u,v,K,X,se,me){if(this._mergeTrimWhitespaceCharChange(c,u,v,K,X,se,me))return;let xe;this.shouldComputeCharChanges&&(xe=[new Vt(u,v,u,K,X,se,X,me)]),c.push(new ln(u,u,X,X,xe))}_mergeTrimWhitespaceCharChange(c,u,v,K,X,se,me){const xe=c.length;if(0===xe)return!1;const Be=c[xe-1];return 0!==Be.originalEndLineNumber&&0!==Be.modifiedEndLineNumber&&Be.originalEndLineNumber+1===u&&Be.modifiedEndLineNumber+1===X&&(Be.originalEndLineNumber=u,Be.modifiedEndLineNumber=X,this.shouldComputeCharChanges&&Be.charChanges&&Be.charChanges.push(new Vt(u,v,u,K,X,se,X,me)),!0)}}function qt(w,c){const u=nt.LC(w);return-1===u?c:u+1}function Cn(w,c){const u=nt.ow(w);return-1===u?c:u+2}function yn(w){if(0===w)return()=>!0;const c=Date.now();return()=>Date.now()-c<w}var xn=p(69798),Pn=p(54745),kn=p(59242);class jn{constructor(c,u,v){const K=new Uint8Array(c*u);for(let X=0,se=c*u;X<se;X++)K[X]=v;this._data=K,this.rows=c,this.cols=u}get(c,u){return this._data[c*this.cols+u]}set(c,u,v){this._data[c*this.cols+u]=v}}class Qn{constructor(c){let u=0,v=0;for(let X=0,se=c.length;X<se;X++){const[me,xe,Be]=c[X];xe>u&&(u=xe),me>v&&(v=me),Be>v&&(v=Be)}u++,v++;const K=new jn(v,u,0);for(let X=0,se=c.length;X<se;X++){const[me,xe,Be]=c[X];K.set(me,xe,Be)}this._states=K,this._maxCharCode=u}nextState(c,u){return u<0||u>=this._maxCharCode?0:this._states.get(c,u)}}let gi=null,Mn=null;class ri{static _createLink(c,u,v,K,X){let se=X-1;do{const me=u.charCodeAt(se);if(2!==c.get(me))break;se--}while(se>K);if(K>0){const me=u.charCodeAt(K-1),xe=u.charCodeAt(se);(40===me&&41===xe||91===me&&93===xe||123===me&&125===xe)&&se--}return{range:{startLineNumber:v,startColumn:K+1,endLineNumber:v,endColumn:se+2},url:u.substring(K,se+1)}}static computeLinks(c,u=function(){return null===gi&&(gi=new Qn([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),gi}()){const v=function(){if(null===Mn){Mn=new kn.N(0);const w=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let u=0;u<w.length;u++)Mn.set(w.charCodeAt(u),1);const c=".,;";for(let u=0;u<c.length;u++)Mn.set(c.charCodeAt(u),2)}return Mn}(),K=[];for(let X=1,se=c.getLineCount();X<=se;X++){const me=c.getLineContent(X),xe=me.length;let Be=0,je=0,ft=0,Jt=1,fn=!1,$n=!1,Ii=!1,_i=!1;for(;Be<xe;){let _o=!1;const uo=me.charCodeAt(Be);if(13===Jt){let Hi;switch(uo){case 40:fn=!0,Hi=0;break;case 41:Hi=fn?0:1;break;case 91:Ii=!0,$n=!0,Hi=0;break;case 93:Ii=!1,Hi=$n?0:1;break;case 123:_i=!0,Hi=0;break;case 125:Hi=_i?0:1;break;case 39:Hi=34===ft||96===ft?0:1;break;case 34:Hi=39===ft||96===ft?0:1;break;case 96:Hi=39===ft||34===ft?0:1;break;case 42:Hi=42===ft?1:0;break;case 124:Hi=124===ft?1:0;break;case 32:Hi=Ii?0:1;break;default:Hi=v.get(uo)}1===Hi&&(K.push(ri._createLink(v,me,X,je,Be)),_o=!0)}else if(12===Jt){let Hi;91===uo?($n=!0,Hi=0):Hi=v.get(uo),1===Hi?_o=!0:Jt=13}else Jt=u.nextState(Jt,uo),0===Jt&&(_o=!0);_o&&(Jt=1,fn=!1,$n=!1,_i=!1,je=Be+1,ft=uo),Be++}13===Jt&&K.push(ri._createLink(v,me,X,je,xe))}return K}}class Dn{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(c,u,v,K,X){if(c&&u){const se=this.doNavigateValueSet(u,X);if(se)return{range:c,value:se}}if(v&&K){const se=this.doNavigateValueSet(K,X);if(se)return{range:v,value:se}}return null}doNavigateValueSet(c,u){const v=this.numberReplace(c,u);return null!==v?v:this.textReplace(c,u)}numberReplace(c,u){const v=Math.pow(10,c.length-(c.lastIndexOf(".")+1));let K=Number(c),X=parseFloat(c);return isNaN(K)||isNaN(X)||K!==X?null:0!==K||u?(K=Math.floor(K*v),K+=u?v:-v,String(K/v)):null}textReplace(c,u){return this.valueSetsReplace(this._defaultValueSet,c,u)}valueSetsReplace(c,u,v){let K=null;for(let X=0,se=c.length;null===K&&X<se;X++)K=this.valueSetReplace(c[X],u,v);return K}valueSetReplace(c,u,v){let K=c.indexOf(u);return K>=0?(K+=v?1:-1,K<0?K=c.length-1:K%=c.length,c[K]):null}}Dn.INSTANCE=new Dn;var pi=p(39932),Di=p(4263),Ci=function(w,c,u,v){return new(u||(u=Promise))(function(X,se){function me(je){try{Be(v.next(je))}catch(ft){se(ft)}}function xe(je){try{Be(v.throw(je))}catch(ft){se(ft)}}function Be(je){je.done?X(je.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(je.value).then(me,xe)}Be((v=v.apply(w,c||[])).next())})};class Xi extends class{constructor(c,u,v,K){this._uri=c,this._lines=u,this._eol=v,this._versionId=K,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(c){c.eol&&c.eol!==this._eol&&(this._eol=c.eol,this._lineStarts=null);const u=c.changes;for(const v of u)this._acceptDeleteRange(v.range),this._acceptInsertText(new i.L(v.range.startLineNumber,v.range.startColumn),v.text);this._versionId=c.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const c=this._eol.length,u=this._lines.length,v=new Uint32Array(u);for(let K=0;K<u;K++)v[K]=this._lines[K].length+c;this._lineStarts=new xn.oQ(v)}}_setLineText(c,u){this._lines[c]=u,this._lineStarts&&this._lineStarts.setValue(c,this._lines[c].length+this._eol.length)}_acceptDeleteRange(c){if(c.startLineNumber!==c.endLineNumber)this._setLineText(c.startLineNumber-1,this._lines[c.startLineNumber-1].substring(0,c.startColumn-1)+this._lines[c.endLineNumber-1].substring(c.endColumn-1)),this._lines.splice(c.startLineNumber,c.endLineNumber-c.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(c.startLineNumber,c.endLineNumber-c.startLineNumber);else{if(c.startColumn===c.endColumn)return;this._setLineText(c.startLineNumber-1,this._lines[c.startLineNumber-1].substring(0,c.startColumn-1)+this._lines[c.startLineNumber-1].substring(c.endColumn-1))}}_acceptInsertText(c,u){if(0===u.length)return;const v=(0,nt.uq)(u);if(1===v.length)return void this._setLineText(c.lineNumber-1,this._lines[c.lineNumber-1].substring(0,c.column-1)+v[0]+this._lines[c.lineNumber-1].substring(c.column-1));v[v.length-1]+=this._lines[c.lineNumber-1].substring(c.column-1),this._setLineText(c.lineNumber-1,this._lines[c.lineNumber-1].substring(0,c.column-1)+v[0]);const K=new Uint32Array(v.length-1);for(let X=1;X<v.length;X++)this._lines.splice(c.lineNumber+X-1,0,v[X]),K[X-1]=v[X].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(c.lineNumber,K)}}{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(c){return this._lines[c-1]}getWordAtPosition(c,u){const v=(0,Pn.t2)(c.column,(0,Pn.eq)(u),this._lines[c.lineNumber-1],0);return v?new T.e(c.lineNumber,v.startColumn,c.lineNumber,v.endColumn):null}words(c){const u=this._lines,v=this._wordenize.bind(this);let K=0,X="",se=0,me=[];return{*[Symbol.iterator](){for(;;)if(se<me.length){const xe=X.substring(me[se].start,me[se].end);se+=1,yield xe}else{if(!(K<u.length))break;X=u[K],me=v(X,c),se=0,K+=1}}}}getLineWords(c,u){const v=this._lines[c-1],K=this._wordenize(v,u),X=[];for(const se of K)X.push({word:v.substring(se.start,se.end),startColumn:se.start+1,endColumn:se.end+1});return X}_wordenize(c,u){const v=[];let K;for(u.lastIndex=0;(K=u.exec(c))&&0!==K[0].length;)v.push({start:K.index,end:K.index+K[0].length});return v}getValueInRange(c){if((c=this._validateRange(c)).startLineNumber===c.endLineNumber)return this._lines[c.startLineNumber-1].substring(c.startColumn-1,c.endColumn-1);const u=this._eol,v=c.startLineNumber-1,K=c.endLineNumber-1,X=[];X.push(this._lines[v].substring(c.startColumn-1));for(let se=v+1;se<K;se++)X.push(this._lines[se]);return X.push(this._lines[K].substring(0,c.endColumn-1)),X.join(u)}offsetAt(c){return c=this._validatePosition(c),this._ensureLineStarts(),this._lineStarts.getPrefixSum(c.lineNumber-2)+(c.column-1)}positionAt(c){c=Math.floor(c),c=Math.max(0,c),this._ensureLineStarts();const u=this._lineStarts.getIndexOf(c);return{lineNumber:1+u.index,column:1+Math.min(u.remainder,this._lines[u.index].length)}}_validateRange(c){const u=this._validatePosition({lineNumber:c.startLineNumber,column:c.startColumn}),v=this._validatePosition({lineNumber:c.endLineNumber,column:c.endColumn});return u.lineNumber!==c.startLineNumber||u.column!==c.startColumn||v.lineNumber!==c.endLineNumber||v.column!==c.endColumn?{startLineNumber:u.lineNumber,startColumn:u.column,endLineNumber:v.lineNumber,endColumn:v.column}:c}_validatePosition(c){if(!i.L.isIPosition(c))throw new Error("bad position");let{lineNumber:u,column:v}=c,K=!1;if(u<1)u=1,v=1,K=!0;else if(u>this._lines.length)u=this._lines.length,v=this._lines[u-1].length+1,K=!0;else{const X=this._lines[u-1].length+1;v<1?(v=1,K=!0):v>X&&(v=X,K=!0)}return K?{lineNumber:u,column:v}:c}}let Kn=(()=>{class w{constructor(u,v){this._host=u,this._models=Object.create(null),this._foreignModuleFactory=v,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(u){return this._models[u]}_getModels(){const u=[];return Object.keys(this._models).forEach(v=>u.push(this._models[v])),u}acceptNewModel(u){this._models[u.url]=new Xi(M.o.parse(u.url),u.lines,u.EOL,u.versionId)}acceptModelChanged(u,v){this._models[u]&&this._models[u].onEvents(v)}acceptRemovedModel(u){!this._models[u]||delete this._models[u]}computeUnicodeHighlights(u,v,K){return Ci(this,void 0,void 0,function*(){const X=this._getModel(u);return X?Di.a.computeUnicodeHighlights(X,v,K):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(u,v,K,X){return Ci(this,void 0,void 0,function*(){const se=this._getModel(u),me=this._getModel(v);if(!se||!me)return null;const xe=se.getLinesContent(),Be=me.getLinesContent(),ft=new Sn(xe,Be,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:K,shouldMakePrettyDiff:!0,maxComputationTime:X}).computeDiff(),Jt=!(ft.changes.length>0)&&this._modelsAreIdentical(se,me);return{quitEarly:ft.quitEarly,identical:Jt,changes:ft.changes}})}_modelsAreIdentical(u,v){const K=u.getLineCount();if(K!==v.getLineCount())return!1;for(let se=1;se<=K;se++)if(u.getLineContent(se)!==v.getLineContent(se))return!1;return!0}computeMoreMinimalEdits(u,v){return Ci(this,void 0,void 0,function*(){const K=this._getModel(u);if(!K)return v;const X=[];let se;v=v.slice(0).sort((me,xe)=>me.range&&xe.range?T.e.compareRangesUsingStarts(me.range,xe.range):(me.range?0:1)-(xe.range?0:1));for(let{range:me,text:xe,eol:Be}of v){if("number"==typeof Be&&(se=Be),T.e.isEmpty(me)&&!xe)continue;const je=K.getValueInRange(me);if(xe=xe.replace(/\r\n|\n|\r/g,K.eol),je===xe)continue;if(Math.max(xe.length,je.length)>w._diffLimit){X.push({range:me,text:xe});continue}const ft=(0,kt.a$)(je,xe,!1),Jt=K.offsetAt(T.e.lift(me).getStartPosition());for(const fn of ft){const $n=K.positionAt(Jt+fn.originalStart),Ii=K.positionAt(Jt+fn.originalStart+fn.originalLength),_i={text:xe.substr(fn.modifiedStart,fn.modifiedLength),range:{startLineNumber:$n.lineNumber,startColumn:$n.column,endLineNumber:Ii.lineNumber,endColumn:Ii.column}};K.getValueInRange(_i.range)!==_i.text&&X.push(_i)}}return"number"==typeof se&&X.push({eol:se,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),X})}computeLinks(u){return Ci(this,void 0,void 0,function*(){const v=this._getModel(u);return v?function(w){return w&&"function"==typeof w.getLineCount&&"function"==typeof w.getLineContent?ri.computeLinks(w):[]}(v):null})}textualSuggest(u,v,K,X){return Ci(this,void 0,void 0,function*(){const se=new pi.G(!0),me=new RegExp(K,X),xe=new Set;e:for(let Be of u){const je=this._getModel(Be);if(je)for(let ft of je.words(me))if(ft!==v&&isNaN(Number(ft))&&(xe.add(ft),xe.size>w._suggestionsLimit))break e}return{words:Array.from(xe),duration:se.elapsed()}})}computeWordRanges(u,v,K,X){return Ci(this,void 0,void 0,function*(){const se=this._getModel(u);if(!se)return Object.create(null);const me=new RegExp(K,X),xe=Object.create(null);for(let Be=v.startLineNumber;Be<v.endLineNumber;Be++){const je=se.getLineWords(Be,me);for(const ft of je){if(!isNaN(Number(ft.word)))continue;let Jt=xe[ft.word];Jt||(Jt=[],xe[ft.word]=Jt),Jt.push({startLineNumber:Be,startColumn:ft.startColumn,endLineNumber:Be,endColumn:ft.endColumn})}}return xe})}navigateValueSet(u,v,K,X,se){return Ci(this,void 0,void 0,function*(){const me=this._getModel(u);if(!me)return null;const xe=new RegExp(X,se);v.startColumn===v.endColumn&&(v={startLineNumber:v.startLineNumber,startColumn:v.startColumn,endLineNumber:v.endLineNumber,endColumn:v.endColumn+1});const Be=me.getValueInRange(v),je=me.getWordAtPosition({lineNumber:v.startLineNumber,column:v.startColumn},xe);if(!je)return null;const ft=me.getValueInRange(je);return Dn.INSTANCE.navigateValueSet(v,Be,je,ft,K)})}loadForeignModule(u,v,K){const me={host:dn.IU(K,(xe,Be)=>this._host.fhr(xe,Be)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(me,v),Promise.resolve(dn.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(u,v){if(!this._foreignModule||"function"!=typeof this._foreignModule[u])return Promise.reject(new Error("Missing requestHandler or method: "+u));try{return Promise.resolve(this._foreignModule[u].apply(this._foreignModule,v))}catch(K){return Promise.reject(K)}}}return w._diffLimit=1e5,w._suggestionsLimit=1e4,w})();"function"==typeof importScripts&&(vt.li.monaco=st());var ao=p(34276),ni=p(89822),Co=p(2646),Ei=p(3494),yo=function(w,c){return function(u,v){c(u,v,w)}},fo=function(w,c,u,v){return new(u||(u=Promise))(function(X,se){function me(je){try{Be(v.next(je))}catch(ft){se(ft)}}function xe(je){try{Be(v.throw(je))}catch(ft){se(ft)}}function Be(je){je.done?X(je.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(je.value).then(me,xe)}Be((v=v.apply(w,c||[])).next())})};function ko(w,c){const u=w.getModel(c);return!(!u||u.isTooLargeForSyncing())}let Ts=class extends Ge.JT{constructor(c,u,v,K,X){super(),this._modelService=c,this._workerManager=this._register(new Go(this._modelService,K)),this._logService=v,this._register(X.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(se,me)=>ko(this._modelService,se.uri)?this._workerManager.withWorker().then(xe=>xe.computeLinks(se.uri)).then(xe=>xe&&{links:xe}):Promise.resolve({links:[]})})),this._register(X.completionProvider.register("*",new Ys(this._workerManager,u,this._modelService,K)))}dispose(){super.dispose()}canComputeUnicodeHighlights(c){return ko(this._modelService,c)}computedUnicodeHighlights(c,u,v){return this._workerManager.withWorker().then(K=>K.computedUnicodeHighlights(c,u,v))}computeDiff(c,u,v,K){return this._workerManager.withWorker().then(X=>X.computeDiff(c,u,v,K))}computeMoreMinimalEdits(c,u){if((0,ni.Of)(u)){if(!ko(this._modelService,c))return Promise.resolve(u);const v=pi.G.create(!0),K=this._workerManager.withWorker().then(X=>X.computeMoreMinimalEdits(c,u));return K.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",c.toString(!0),v.elapsed())),Promise.race([K,(0,mn.Vs)(1e3).then(()=>u)])}return Promise.resolve(void 0)}canNavigateValueSet(c){return ko(this._modelService,c)}navigateValueSet(c,u,v){return this._workerManager.withWorker().then(K=>K.navigateValueSet(c,u,v))}canComputeWordRanges(c){return ko(this._modelService,c)}computeWordRanges(c,u){return this._workerManager.withWorker().then(v=>v.computeWordRanges(c,u))}};Ts=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([yo(0,zt.q),yo(1,ao.V),yo(2,Co.VZ),yo(3,mt.c_),yo(4,Ei.p)],Ts);class Ys{constructor(c,u,v,K){this.languageConfigurationService=K,this._debugDisplayName="wordbasedCompletions",this._workerManager=c,this._configurationService=u,this._modelService=v}provideCompletionItems(c,u){return fo(this,void 0,void 0,function*(){const v=this._configurationService.getValue(c.uri,u,"editor");if(!v.wordBasedSuggestions)return;const K=[];if("currentDocument"===v.wordBasedSuggestionsMode)ko(this._modelService,c.uri)&&K.push(c.uri);else for(const ft of this._modelService.getModels())!ko(this._modelService,ft.uri)||(ft===c?K.unshift(ft.uri):("allDocuments"===v.wordBasedSuggestionsMode||ft.getLanguageId()===c.getLanguageId())&&K.push(ft.uri));if(0===K.length)return;const X=this.languageConfigurationService.getLanguageConfiguration(c.getLanguageId()).getWordDefinition(),se=c.getWordAtPosition(u),me=se?new T.e(u.lineNumber,se.startColumn,u.lineNumber,se.endColumn):T.e.fromPositions(u),xe=me.setEndPosition(u.lineNumber,u.column),je=yield(yield this._workerManager.withWorker()).textualSuggest(K,null==se?void 0:se.word,X);return je?{duration:je.duration,suggestions:je.words.map(ft=>({kind:18,label:ft,insertText:ft,range:{insert:xe,replace:me}}))}:void 0})}}class Go extends Ge.JT{constructor(c,u){super(),this.languageConfigurationService=u,this._modelService=c,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new mn.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(K=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new es(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Ss extends Ge.JT{constructor(c,u,v){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=c,this._modelService=u,!v){const K=new mn.zh;K.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(K)}}dispose(){for(let c in this._syncedModels)(0,Ge.B9)(this._syncedModels[c]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(c,u){for(const v of c){const K=v.toString();this._syncedModels[K]||this._beginModelSync(v,u),this._syncedModels[K]&&(this._syncedModelsLastUsedTime[K]=(new Date).getTime())}}_checkStopModelSync(){const c=(new Date).getTime(),u=[];for(let v in this._syncedModelsLastUsedTime)c-this._syncedModelsLastUsedTime[v]>6e4&&u.push(v);for(const v of u)this._stopModelSync(v)}_beginModelSync(c,u){const v=this._modelService.getModel(c);if(!v||!u&&v.isTooLargeForSyncing())return;const K=c.toString();this._proxy.acceptNewModel({url:v.uri.toString(),lines:v.getLinesContent(),EOL:v.getEOL(),versionId:v.getVersionId()});const X=new Ge.SL;X.add(v.onDidChangeContent(se=>{this._proxy.acceptModelChanged(K.toString(),se)})),X.add(v.onWillDispose(()=>{this._stopModelSync(K)})),X.add((0,Ge.OF)(()=>{this._proxy.acceptRemovedModel(K)})),this._syncedModels[K]=X}_stopModelSync(c){const u=this._syncedModels[c];delete this._syncedModels[c],delete this._syncedModelsLastUsedTime[c],(0,Ge.B9)(u)}}class xs{constructor(c){this._instance=c,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class As{constructor(c){this._workerClient=c}fhr(c,u){return this._workerClient.fhr(c,u)}}class es extends Ge.JT{constructor(c,u,v,K){super(),this.languageConfigurationService=K,this._disposed=!1,this._modelService=c,this._keepIdleModels=u,this._workerFactory=new Fn(v),this._worker=null,this._modelManager=null}fhr(c,u){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new $e(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new As(this)))}catch(c){hn(c),this._worker=new xs(new Kn(new As(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,c=>(hn(c),this._worker=new xs(new Kn(new As(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(c){return this._modelManager||(this._modelManager=this._register(new Ss(c,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(c,u=!1){return fo(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,Lt.F0)()):this._getProxy().then(v=>(this._getOrCreateModelManager(v).ensureSyncedResources(c,u),v))})}computedUnicodeHighlights(c,u,v){return this._withSyncedResources([c]).then(K=>K.computeUnicodeHighlights(c.toString(),u,v))}computeDiff(c,u,v,K){return this._withSyncedResources([c,u],!0).then(X=>X.computeDiff(c.toString(),u.toString(),v,K))}computeMoreMinimalEdits(c,u){return this._withSyncedResources([c]).then(v=>v.computeMoreMinimalEdits(c.toString(),u))}computeLinks(c){return this._withSyncedResources([c]).then(u=>u.computeLinks(c.toString()))}textualSuggest(c,u,v){return fo(this,void 0,void 0,function*(){const K=yield this._withSyncedResources(c),X=v.source,se=(0,nt.mr)(v);return K.textualSuggest(c.map(me=>me.toString()),u,X,se)})}computeWordRanges(c,u){return this._withSyncedResources([c]).then(v=>{const K=this._modelService.getModel(c);if(!K)return Promise.resolve(null);const X=this.languageConfigurationService.getLanguageConfiguration(K.getLanguageId()).getWordDefinition(),se=X.source,me=(0,nt.mr)(X);return v.computeWordRanges(c.toString(),u,se,me)})}navigateValueSet(c,u,v){return this._withSyncedResources([c]).then(K=>{const X=this._modelService.getModel(c);if(!X)return null;const se=this.languageConfigurationService.getLanguageConfiguration(X.getLanguageId()).getWordDefinition(),me=se.source,xe=(0,nt.mr)(se);return K.navigateValueSet(c.toString(),u,v,me,xe)})}dispose(){super.dispose(),this._disposed=!0}}class Js extends es{constructor(c,u,v){super(c,v.keepIdleModels||!1,v.label,u),this._foreignModuleId=v.moduleId,this._foreignModuleCreateData=v.createData||null,this._foreignModuleHost=v.host||null,this._foreignProxy=null}fhr(c,u){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[c])return Promise.reject(new Error("Missing method "+c+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[c].apply(this._foreignModuleHost,u))}catch(v){return Promise.reject(v)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(c=>{const u=this._foreignModuleHost?dn.$E(this._foreignModuleHost):[];return c.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,u).then(v=>{this._foreignModuleCreateData=null;const K=(me,xe)=>c.fmr(me,xe),X=(me,xe)=>function(){const Be=Array.prototype.slice.call(arguments,0);return xe(me,Be)},se={};for(const me of v)se[me]=X(me,K);return se})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(c){return this._withSyncedResources(c).then(u=>this.getProxy())}}var Ao=p(5928),Ro=p(19362),So=p(42483);function Sr(w){return!function(w){return Array.isArray(w)}(w)}function Qo(w){return"string"==typeof w}function Xs(w){return!Qo(w)}function Vo(w){return!w}function Cs(w,c){return w.ignoreCase&&c?c.toLowerCase():c}function ur(w){return w.replace(/[&<>'"_]/g,"-")}function Sa(w,c){console.log(`${w.languageId}: ${c}`)}function ji(w,c){return new Error(`${w.languageId}: ${c}`)}function Lo(w,c,u,v,K){let se=null;return c.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(me,xe,Be,je,ft,Jt,fn,$n,Ii){return Vo(Be)?Vo(je)?!Vo(ft)&&ft<v.length?Cs(w,v[ft]):!Vo(fn)&&w&&"string"==typeof w[fn]?w[fn]:(null===se&&(se=K.split("."),se.unshift(K)),!Vo(Jt)&&Jt<se.length?Cs(w,se[Jt]):""):Cs(w,u):"$"})}function Rs(w,c){let u=c;for(;u&&u.length>0;){const v=w.tokenizer[u];if(v)return v;const K=u.lastIndexOf(".");u=K<0?null:u.substr(0,K)}return null}class yt{constructor(c){this._maxCacheDepth=c,this._entries=Object.create(null)}static create(c,u){return this._INSTANCE.create(c,u)}create(c,u){if(null!==c&&c.depth>=this._maxCacheDepth)return new A(c,u);let v=A.getStackElementId(c);v.length>0&&(v+="|"),v+=u;let K=this._entries[v];return K||(K=new A(c,u),this._entries[v]=K,K)}}yt._INSTANCE=new yt(5);class A{constructor(c,u){this.parent=c,this.state=u,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(c){let u="";for(;null!==c;)u.length>0&&(u+="|"),u+=c.state,c=c.parent;return u}static _equals(c,u){for(;null!==c&&null!==u;){if(c===u)return!0;if(c.state!==u.state)return!1;c=c.parent,u=u.parent}return null===c&&null===u}equals(c){return A._equals(this,c)}push(c){return yt.create(this,c)}pop(){return this.parent}popall(){let c=this;for(;c.parent;)c=c.parent;return c}switchTo(c){return yt.create(this.parent,c)}}class h{constructor(c,u){this.languageId=c,this.state=u}equals(c){return this.languageId===c.languageId&&this.state.equals(c.state)}clone(){return this.state.clone()===this.state?this:new h(this.languageId,this.state)}}class S{constructor(c){this._maxCacheDepth=c,this._entries=Object.create(null)}static create(c,u){return this._INSTANCE.create(c,u)}create(c,u){if(null!==u)return new V(c,u);if(null!==c&&c.depth>=this._maxCacheDepth)return new V(c,u);const v=A.getStackElementId(c);let K=this._entries[v];return K||(K=new V(c,null),this._entries[v]=K,K)}}S._INSTANCE=new S(5);class V{constructor(c,u){this.stack=c,this.embeddedLanguageData=u}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:S.create(this.stack,this.embeddedLanguageData)}equals(c){return!!(c instanceof V&&this.stack.equals(c.stack))&&(null===this.embeddedLanguageData&&null===c.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==c.embeddedLanguageData&&this.embeddedLanguageData.equals(c.embeddedLanguageData))}}class ne{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(c){this._languageId=c}emit(c,u){this._lastTokenType===u&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=u,this._lastTokenLanguage=this._languageId,this._tokens.push(new P.WU(c,u,this._languageId)))}nestedLanguageTokenize(c,u,v,K){const X=v.languageId,se=v.state,me=P.RW.get(X);if(!me)return this.enterLanguage(X),this.emit(K,""),se;const xe=me.tokenize(c,u,se);if(0!==K)for(const Be of xe.tokens)this._tokens.push(new P.WU(Be.offset+K,Be.type,Be.language));else this._tokens=this._tokens.concat(xe.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,xe.endState}finalize(c){return new P.hG(this._tokens,c)}}class ae{constructor(c,u){this._languageService=c,this._theme=u,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(c){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(c)}emit(c,u){const v=this._theme.match(this._currentLanguageId,u);this._lastTokenMetadata!==v&&(this._lastTokenMetadata=v,this._tokens.push(c),this._tokens.push(v))}static _merge(c,u,v){const K=null!==c?c.length:0,X=u.length,se=null!==v?v.length:0;if(0===K&&0===X&&0===se)return new Uint32Array(0);if(0===K&&0===X)return v;if(0===X&&0===se)return c;const me=new Uint32Array(K+X+se);null!==c&&me.set(c);for(let xe=0;xe<X;xe++)me[K+xe]=u[xe];return null!==v&&me.set(v,K+X),me}nestedLanguageTokenize(c,u,v,K){const X=v.languageId,se=v.state,me=P.RW.get(X);if(!me)return this.enterLanguage(X),this.emit(K,""),se;const xe=me.tokenizeEncoded(c,u,se);if(0!==K)for(let Be=0,je=xe.tokens.length;Be<je;Be+=2)xe.tokens[Be]+=K;return this._prependTokens=ae._merge(this._prependTokens,this._tokens,xe.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,xe.endState}finalize(c){return new P.DI(ae._merge(this._prependTokens,this._tokens,null),c)}}class be{constructor(c,u,v,K){this._languageService=c,this._standaloneThemeService=u,this._languageId=v,this._lexer=K,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let X=!1;this._tokenizationRegistryListener=P.RW.onDidChange(se=>{if(X)return;let me=!1;for(let xe=0,Be=se.changedLanguages.length;xe<Be;xe++)if(this._embeddedLanguages[se.changedLanguages[xe]]){me=!0;break}me&&(X=!0,P.RW.fire([this._languageId]),X=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const c=[];for(let u in this._embeddedLanguages){const v=P.RW.get(u);if(v){if(v instanceof be){const K=v.getLoadStatus();!1===K.loaded&&c.push(K.promise)}}else P.RW.isResolved(u)||c.push(P.RW.getOrCreate(u))}return 0===c.length?{loaded:!0}:{loaded:!1,promise:Promise.all(c).then(u=>{})}}getInitialState(){const c=yt.create(null,this._lexer.start);return S.create(c,null)}tokenize(c,u,v){const K=new ne,X=this._tokenize(c,u,v,K);return K.finalize(X)}tokenizeEncoded(c,u,v){const K=new ae(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),X=this._tokenize(c,u,v,K);return K.finalize(X)}_tokenize(c,u,v,K){return v.embeddedLanguageData?this._nestedTokenize(c,u,v,0,K):this._myTokenize(c,u,v,0,K)}_findLeavingNestedLanguageOffset(c,u){let v=this._lexer.tokenizer[u.stack.state];if(!v&&(v=Rs(this._lexer,u.stack.state),!v))throw ji(this._lexer,"tokenizer state is not defined: "+u.stack.state);let K=-1,X=!1;for(const se of v){if(!Xs(se.action)||"@pop"!==se.action.nextEmbedded)continue;X=!0;let me=se.regex;const xe=se.regex.source;if("^(?:"===xe.substr(0,4)&&")"===xe.substr(xe.length-1,1)){const je=(me.ignoreCase?"i":"")+(me.unicode?"u":"");me=new RegExp(xe.substr(4,xe.length-5),je)}const Be=c.search(me);-1===Be||0!==Be&&se.matchOnlyAtLineStart||(-1===K||Be<K)&&(K=Be)}if(!X)throw ji(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+u.stack.state);return K}_nestedTokenize(c,u,v,K,X){const se=this._findLeavingNestedLanguageOffset(c,v);if(-1===se){const Be=X.nestedLanguageTokenize(c,u,v.embeddedLanguageData,K);return S.create(v.stack,new h(v.embeddedLanguageData.languageId,Be))}const me=c.substring(0,se);me.length>0&&X.nestedLanguageTokenize(me,!1,v.embeddedLanguageData,K);const xe=c.substring(se);return this._myTokenize(xe,u,v,K+se,X)}_safeRuleName(c){return c?c.name:"(unknown)"}_myTokenize(c,u,v,K,X){X.enterLanguage(this._languageId);const se=c.length,me=u&&this._lexer.includeLF?c+"\n":c,xe=me.length;let Be=v.embeddedLanguageData,je=v.stack,ft=0,Jt=null,fn=!0;for(;fn||ft<xe;){const $n=ft,Ii=je.depth,_i=Jt?Jt.groups.length:0,_o=je.state;let uo=null,Hi=null,Zi=null,_r=null,Ra=null;if(Jt){uo=Jt.matches;const no=Jt.groups.shift();Hi=no.matched,Zi=no.action,_r=Jt.rule,0===Jt.groups.length&&(Jt=null)}else{if(!fn&&ft>=xe)break;fn=!1;let no=this._lexer.tokenizer[_o];if(!no&&(no=Rs(this._lexer,_o),!no))throw ji(this._lexer,"tokenizer state is not defined: "+_o);let as=me.substr(ft);for(const io of no)if((0===ft||!io.matchOnlyAtLineStart)&&(uo=as.match(io.regex),uo)){Hi=uo[0],Zi=io.action;break}}if(uo||(uo=[""],Hi=""),Zi||(ft<xe&&(uo=[me.charAt(ft)],Hi=uo[0]),Zi=this._lexer.defaultToken),null===Hi)break;for(ft+=Hi.length;Sr(Zi)&&Xs(Zi)&&Zi.test;)Zi=Zi.test(Hi,uo,_o,ft===xe);let ks=null;if("string"==typeof Zi||Array.isArray(Zi))ks=Zi;else if(Zi.group)ks=Zi.group;else if(null!=Zi.token){if(ks=Zi.tokenSubst?Lo(this._lexer,Zi.token,Hi,uo,_o):Zi.token,Zi.nextEmbedded)if("@pop"===Zi.nextEmbedded){if(!Be)throw ji(this._lexer,"cannot pop embedded language if not inside one");Be=null}else{if(Be)throw ji(this._lexer,"cannot enter embedded language from within an embedded language");Ra=Lo(this._lexer,Zi.nextEmbedded,Hi,uo,_o)}if(Zi.goBack&&(ft=Math.max(0,ft-Zi.goBack)),Zi.switchTo&&"string"==typeof Zi.switchTo){let no=Lo(this._lexer,Zi.switchTo,Hi,uo,_o);if("@"===no[0]&&(no=no.substr(1)),!Rs(this._lexer,no))throw ji(this._lexer,"trying to switch to a state '"+no+"' that is undefined in rule: "+this._safeRuleName(_r));je=je.switchTo(no)}else{if(Zi.transform&&"function"==typeof Zi.transform)throw ji(this._lexer,"action.transform not supported");if(Zi.next)if("@push"===Zi.next){if(je.depth>=this._lexer.maxStack)throw ji(this._lexer,"maximum tokenizer stack size reached: ["+je.state+","+je.parent.state+",...]");je=je.push(_o)}else if("@pop"===Zi.next){if(je.depth<=1)throw ji(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(_r));je=je.pop()}else if("@popall"===Zi.next)je=je.popall();else{let no=Lo(this._lexer,Zi.next,Hi,uo,_o);if("@"===no[0]&&(no=no.substr(1)),!Rs(this._lexer,no))throw ji(this._lexer,"trying to set a next state '"+no+"' that is undefined in rule: "+this._safeRuleName(_r));je=je.push(no)}}Zi.log&&"string"==typeof Zi.log&&Sa(this._lexer,this._lexer.languageId+": "+Lo(this._lexer,Zi.log,Hi,uo,_o))}if(null===ks)throw ji(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(_r));const Or=no=>{const as=this._languageService.getLanguageIdByLanguageName(no)||this._languageService.getLanguageIdByMimeType(no)||no,io=this._getNestedEmbeddedLanguageData(as);if(ft<xe){const sr=c.substr(ft);return this._nestedTokenize(sr,u,S.create(je,io),K+ft,X)}return S.create(je,io)};if(Array.isArray(ks)){if(Jt&&Jt.groups.length>0)throw ji(this._lexer,"groups cannot be nested: "+this._safeRuleName(_r));if(uo.length!==ks.length+1)throw ji(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(_r));let no=0;for(let as=1;as<uo.length;as++)no+=uo[as].length;if(no!==Hi.length)throw ji(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(_r));Jt={rule:_r,matches:uo,groups:[]};for(let as=0;as<ks.length;as++)Jt.groups[as]={action:ks[as],matched:uo[as+1]};ft-=Hi.length}else{{if("@rematch"===ks&&(ft-=Hi.length,Hi="",uo=null,ks="",null!==Ra))return Or(Ra);if(0===Hi.length){if(0===xe||Ii!==je.depth||_o!==je.state||(Jt?Jt.groups.length:0)!==_i)continue;throw ji(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(_r))}let no=null;if(Qo(ks)&&0===ks.indexOf("@brackets")){const as=ks.substr("@brackets".length),io=Oe(this._lexer,Hi);if(!io)throw ji(this._lexer,"@brackets token returned but no bracket defined as: "+Hi);no=ur(io.token+as)}else no=ur(""===ks?"":ks+this._lexer.tokenPostfix);$n<se&&X.emit($n+K,no)}if(null!==Ra)return Or(Ra)}}return S.create(je,Be)}_getNestedEmbeddedLanguageData(c){if(!this._languageService.isRegisteredLanguageId(c))return new h(c,Ft.TJ);c!==this._languageId&&(P.RW.getOrCreate(c),this._embeddedLanguages[c]=!0);const u=P.RW.get(c);return new h(c,u?u.getInitialState():Ft.TJ)}}function Oe(w,c){if(!c)return null;c=Cs(w,c);const u=w.brackets;for(const v of u){if(v.open===c)return{token:v.token,bracketType:1};if(v.close===c)return{token:v.token,bracketType:-1}}return null}var Ze;const Qe=null===(Ze=window.trustedTypes)||void 0===Ze?void 0:Ze.createPolicy("standaloneColorizer",{createHTML:w=>w});class ot{static colorizeElement(c,u,v,K){const X=(K=K||{}).theme||"vs",se=K.mimeType||v.getAttribute("lang")||v.getAttribute("data-lang");if(!se)return console.error("Mode not detected"),Promise.resolve();const me=u.getLanguageIdByMimeType(se)||se;c.setTheme(X);const xe=v.firstChild?v.firstChild.nodeValue:"";return v.className+=" "+X,this.colorize(u,xe||"",me,K).then(je=>{var ft;const Jt=null!==(ft=null==Qe?void 0:Qe.createHTML(je))&&void 0!==ft?ft:je;v.innerHTML=Jt},je=>console.error(je))}static colorize(c,u,v,K){return function(w,c,u,v){return new(u||(u=Promise))(function(X,se){function me(je){try{Be(v.next(je))}catch(ft){se(ft)}}function xe(je){try{Be(v.throw(je))}catch(ft){se(ft)}}function Be(je){je.done?X(je.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(je.value).then(me,xe)}Be((v=v.apply(w,c||[])).next())})}(this,void 0,void 0,function*(){const X=c.languageIdCodec;let se=4;K&&"number"==typeof K.tabSize&&(se=K.tabSize),nt.uS(u)&&(u=u.substr(1));const me=nt.uq(u);if(!c.isRegisteredLanguageId(v))return gt(me,se,X);const xe=yield P.RW.getOrCreate(v);return xe?function(w,c,u,v){return new Promise((K,X)=>{const se=()=>{const me=function(w,c,u,v){let K=[],X=u.getInitialState();for(let se=0,me=w.length;se<me;se++){const xe=w[se],Be=u.tokenizeEncoded(xe,!0,X);Ao.A.convertToEndOffset(Be.tokens,xe.length);const je=new Ao.A(Be.tokens,xe,v),ft=So.wA.isBasicASCII(xe,!0),Jt=So.wA.containsRTL(xe,ft,!0),fn=(0,Ro.tF)(new Ro.IJ(!1,!0,xe,!1,ft,Jt,0,je.inflate(),[],c,0,0,0,0,-1,"none",!1,!1,null));K=K.concat(fn.html),K.push("<br/>"),X=Be.endState}return K.join("")}(w,c,u,v);if(u instanceof be){const xe=u.getLoadStatus();if(!1===xe.loaded)return void xe.promise.then(se,X)}K(me)};se()})}(me,se,xe,X):gt(me,se,X)})}static colorizeLine(c,u,v,K,X=4){const se=So.wA.isBasicASCII(c,u),me=So.wA.containsRTL(c,se,v);return(0,Ro.tF)(new Ro.IJ(!1,!0,c,!1,se,me,0,K,[],X,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(c,u,v=4){const K=c.getLineContent(u);c.forceTokenization(u);const se=c.getLineTokens(u).inflate();return this.colorizeLine(K,c.mightContainNonBasicASCII(),c.mightContainRTL(),se,v)}}function gt(w,c,u){let v=[];const X=new Uint32Array(2);X[0]=0,X[1]=16793600;for(let se=0,me=w.length;se<me;se++){const xe=w[se];X[0]=xe.length;const Be=new Ao.A(X,xe,u),je=So.wA.isBasicASCII(xe,!0),ft=So.wA.containsRTL(xe,je,!0),Jt=(0,Ro.tF)(new Ro.IJ(!1,!0,xe,!1,je,ft,0,Be,[],c,0,0,0,0,-1,"none",!1,!1,null));v=v.concat(Jt.html),v.push("<br/>")}return v.join("")}var Bt=p(99034),Zt=p(17703),Nn=p(87155),Xn=p(47804),ci=p(78339),_t=p(86678),Ai=p(98318),ai=p(53323);let bs=class extends Ge.JT{constructor(c){super(),this._themeService=c,this._onCodeEditorAdd=this._register(new Y.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Y.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Y.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new Y.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(c){this._codeEditors[c.getId()]=c,this._onCodeEditorAdd.fire(c)}removeCodeEditor(c){delete this._codeEditors[c.getId()]&&this._onCodeEditorRemove.fire(c)}listCodeEditors(){return Object.keys(this._codeEditors).map(c=>this._codeEditors[c])}addDiffEditor(c){this._diffEditors[c.getId()]=c,this._onDiffEditorAdd.fire(c)}removeDiffEditor(c){delete this._diffEditors[c.getId()]&&this._onDiffEditorRemove.fire(c)}listDiffEditors(){return Object.keys(this._diffEditors).map(c=>this._diffEditors[c])}getFocusedCodeEditor(){let c=null;const u=this.listCodeEditors();for(const v of u){if(v.hasTextFocus())return v;v.hasWidgetFocus()&&(c=v)}return c}removeDecorationType(c){const u=this._decorationOptionProviders.get(c);u&&(u.refCount--,u.refCount<=0&&(this._decorationOptionProviders.delete(c),u.dispose(),this.listCodeEditors().forEach(v=>v.removeDecorations(c))))}setModelProperty(c,u,v){const K=c.toString();let X;this._modelProperties.has(K)?X=this._modelProperties.get(K):(X=new Map,this._modelProperties.set(K,X)),X.set(u,v)}getModelProperty(c,u){const v=c.toString();if(this._modelProperties.has(v))return this._modelProperties.get(v).get(u)}};var c;bs=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([(0,c=ai.XE,function(u,v){c(u,v,0)})],bs);var bo=p(6461),Qi=p(26033),Ka=function(w,c){return function(u,v){c(u,v,w)}};let xr=class extends bs{constructor(c,u){super(u),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=c.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let c=!1;for(const u of this.listCodeEditors())if(!u.isSimpleWidget){c=!0;break}this._editorIsOpen.set(c)}setActiveCodeEditor(c){this._activeCodeEditor=c}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(c,u,v){return Promise.resolve(u?this.doOpenEditor(u,c):null)}doOpenEditor(c,u){if(!this.findModel(c,u.resource)){if(u.resource){const X=u.resource.scheme;if(X===Ai.lg.http||X===Ai.lg.https)return(0,_t.V3)(u.resource.toString()),c}return null}const K=u.options?u.options.selection:null;if(K)if("number"==typeof K.endLineNumber&&"number"==typeof K.endColumn)c.setSelection(K),c.revealRangeInCenter(K,1);else{const X={lineNumber:K.startLineNumber,column:K.startColumn};c.setPosition(X),c.revealPositionInCenter(X,1)}return c}findModel(c,u){const v=c.getModel();return v&&v.uri.toString()!==u.toString()?null:v}};xr=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([Ka(0,bo.i6),Ka(1,ai.XE)],xr),(0,Qi.z)(Ne.$,xr);var ts=p(43569);const hr=(0,ts.yh)("layoutService");var lc=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X},vl=function(w,c){return function(u,v){c(u,v,w)}};let er=class{constructor(c){this._codeEditorService=c,this.onDidLayout=Y.ju.None}get dimension(){return this._dimension||(this._dimension=_t.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var c;null===(c=this._codeEditorService.getFocusedCodeEditor())||void 0===c||c.focus()}};er=lc([vl(0,Ne.$)],er);let Wr=class extends er{constructor(c,u){super(u),this._container=c}get hasContainer(){return!1}get container(){return this._container}};Wr=lc([vl(1,Ne.$)],Wr),(0,Qi.z)(hr,er);var cs=p(13310),Jn=p(12918),oa=p(4890),Vr=p(8135),Bs=p(10352),Jr=function(w,c){return function(u,v){c(u,v,w)}},cc=function(w,c,u,v){return new(u||(u=Promise))(function(X,se){function me(je){try{Be(v.next(je))}catch(ft){se(ft)}}function xe(je){try{Be(v.throw(je))}catch(ft){se(ft)}}function Be(je){je.done?X(je.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(je.value).then(me,xe)}Be((v=v.apply(w,c||[])).next())})};function $a(w){return w.scheme===Ai.lg.file?w.fsPath:w.path}let dc=0;class ra{constructor(c,u,v,K,X,se,me){this.id=++dc,this.type=0,this.actual=c,this.label=c.label,this.confirmBeforeUndo=c.confirmBeforeUndo||!1,this.resourceLabel=u,this.strResource=v,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=K,this.groupOrder=X,this.sourceId=se,this.sourceOrder=me,this.isValid=!0}setValid(c){this.isValid=c}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class xa{constructor(c,u){this.resourceLabel=c,this.reason=u}}class uc{constructor(){this.elements=new Map}createMessage(){const c=[],u=[];for(const[,K]of this.elements)(0===K.reason?c:u).push(K.resourceLabel);let v=[];return c.length>0&&v.push(Jn.N({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",c.join(", "))),u.length>0&&v.push(Jn.N({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",u.join(", "))),v.join("\n")}get size(){return this.elements.size}has(c){return this.elements.has(c)}set(c,u){this.elements.set(c,u)}delete(c){return this.elements.delete(c)}}class sd{constructor(c,u,v,K,X,se,me){this.id=++dc,this.type=1,this.actual=c,this.label=c.label,this.confirmBeforeUndo=c.confirmBeforeUndo||!1,this.resourceLabels=u,this.strResources=v,this.groupId=K,this.groupOrder=X,this.sourceId=se,this.sourceOrder=me,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(c,u,v){this.removedResources||(this.removedResources=new uc),this.removedResources.has(u)||this.removedResources.set(u,new xa(c,v))}setValid(c,u,v){v?this.invalidatedResources&&(this.invalidatedResources.delete(u),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new uc),this.invalidatedResources.has(u)||this.invalidatedResources.set(u,new xa(c,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class hc{constructor(c,u){this.resourceLabel=c,this.strResource=u,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const c of this._past)1===c.type&&c.removeResource(this.resourceLabel,this.strResource,0);for(const c of this._future)1===c.type&&c.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let c=[];c.push(`* ${this.strResource}:`);for(let u=0;u<this._past.length;u++)c.push(`   * [UNDO] ${this._past[u]}`);for(let u=this._future.length-1;u>=0;u--)c.push(`   * [REDO] ${this._future[u]}`);return c.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(c,u){1===c.type?c.setValid(this.resourceLabel,this.strResource,u):c.setValid(u)}setElementsValidFlag(c,u){for(const v of this._past)u(v.actual)&&this._setElementValidFlag(v,c);for(const v of this._future)u(v.actual)&&this._setElementValidFlag(v,c)}pushElement(c){for(const u of this._future)1===u.type&&u.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(c),this.versionId++}createSnapshot(c){const u=[];for(let v=0,K=this._past.length;v<K;v++)u.push(this._past[v].id);for(let v=this._future.length-1;v>=0;v--)u.push(this._future[v].id);return new Bs.YO(c,u)}restoreSnapshot(c){const u=c.elements.length;let v=!0,K=0,X=-1;for(let me=0,xe=this._past.length;me<xe;me++,K++){const Be=this._past[me];v&&(K>=u||Be.id!==c.elements[K])&&(v=!1,X=0),!v&&1===Be.type&&Be.removeResource(this.resourceLabel,this.strResource,0)}let se=-1;for(let me=this._future.length-1;me>=0;me--,K++){const xe=this._future[me];v&&(K>=u||xe.id!==c.elements[K])&&(v=!1,se=me),!v&&1===xe.type&&xe.removeResource(this.resourceLabel,this.strResource,0)}-1!==X&&(this._past=this._past.slice(0,X)),-1!==se&&(this._future=this._future.slice(se+1)),this.versionId++}getElements(){const c=[],u=[];for(const v of this._past)c.push(v.actual);for(const v of this._future)u.push(v.actual);return{past:c,future:u}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(c,u){for(let v=this._past.length-1;v>=0;v--)if(this._past[v]===c){u.has(this.strResource)?this._past[v]=u.get(this.strResource):this._past.splice(v,1);break}this.versionId++}splitFutureWorkspaceElement(c,u){for(let v=this._future.length-1;v>=0;v--)if(this._future[v]===c){u.has(this.strResource)?this._future[v]=u.get(this.strResource):this._future.splice(v,1);break}this.versionId++}moveBackward(c){this._past.pop(),this._future.push(c),this.versionId++}moveForward(c){this._future.pop(),this._past.push(c),this.versionId++}}class wl{constructor(c){this.editStacks=c,this._versionIds=[];for(let u=0,v=this.editStacks.length;u<v;u++)this._versionIds[u]=this.editStacks[u].versionId}isValid(){for(let c=0,u=this.editStacks.length;c<u;c++)if(this._versionIds[c]!==this.editStacks[c].versionId)return!1;return!0}}const fc=new hc("","");fc.locked=!0;let yl=class{constructor(c,u){this._dialogService=c,this._notificationService=u,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(c){for(const u of this._uriComparisonKeyComputers)if(u[0]===c.scheme)return u[1].getComparisonKey(c);return c.toString()}_print(c){console.log("------------------------------------"),console.log(`AFTER ${c}: `);let u=[];for(const v of this._editStacks)u.push(v[1].toString());console.log(u.join("\n"))}pushElement(c,u=Bs.Xt.None,v=Bs.gJ.None){if(0===c.type){const K=$a(c.resource),X=this.getUriComparisonKey(c.resource);this._pushElement(new ra(c,K,X,u.id,u.nextOrder(),v.id,v.nextOrder()))}else{const K=new Set,X=[],se=[];for(const me of c.resources){const xe=$a(me),Be=this.getUriComparisonKey(me);K.has(Be)||(K.add(Be),X.push(xe),se.push(Be))}this._pushElement(1===X.length?new ra(c,X[0],se[0],u.id,u.nextOrder(),v.id,v.nextOrder()):new sd(c,X,se,u.id,u.nextOrder(),v.id,v.nextOrder()))}}_pushElement(c){for(let u=0,v=c.strResources.length;u<v;u++){const K=c.resourceLabels[u],X=c.strResources[u];let se;this._editStacks.has(X)?se=this._editStacks.get(X):(se=new hc(K,X),this._editStacks.set(X,se)),se.pushElement(c)}}getLastElement(c){const u=this.getUriComparisonKey(c);if(this._editStacks.has(u)){const v=this._editStacks.get(u);if(v.hasFutureElements())return null;const K=v.getClosestPastElement();return K?K.actual:null}return null}_splitPastWorkspaceElement(c,u){const v=c.actual.split(),K=new Map;for(const X of v){const se=$a(X.resource),me=this.getUriComparisonKey(X.resource),xe=new ra(X,se,me,0,0,0,0);K.set(xe.strResource,xe)}for(const X of c.strResources)u&&u.has(X)||this._editStacks.get(X).splitPastWorkspaceElement(c,K)}_splitFutureWorkspaceElement(c,u){const v=c.actual.split(),K=new Map;for(const X of v){const se=$a(X.resource),me=this.getUriComparisonKey(X.resource),xe=new ra(X,se,me,0,0,0,0);K.set(xe.strResource,xe)}for(const X of c.strResources)u&&u.has(X)||this._editStacks.get(X).splitFutureWorkspaceElement(c,K)}removeElements(c){const u="string"==typeof c?c:this.getUriComparisonKey(c);this._editStacks.has(u)&&(this._editStacks.get(u).dispose(),this._editStacks.delete(u))}setElementsValidFlag(c,u,v){const K=this.getUriComparisonKey(c);this._editStacks.has(K)&&this._editStacks.get(K).setElementsValidFlag(u,v)}createSnapshot(c){const u=this.getUriComparisonKey(c);return this._editStacks.has(u)?this._editStacks.get(u).createSnapshot(c):new Bs.YO(c,[])}restoreSnapshot(c){const u=this.getUriComparisonKey(c.resource);if(this._editStacks.has(u)){const v=this._editStacks.get(u);v.restoreSnapshot(c),!v.hasPastElements()&&!v.hasFutureElements()&&(v.dispose(),this._editStacks.delete(u))}}getElements(c){const u=this.getUriComparisonKey(c);return this._editStacks.has(u)?this._editStacks.get(u).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(c){if(!c)return[null,null];let u=null,v=null;for(const[K,X]of this._editStacks){const se=X.getClosestPastElement();!se||se.sourceId===c&&(!u||se.sourceOrder>u.sourceOrder)&&(u=se,v=K)}return[u,v]}canUndo(c){if(c instanceof Bs.gJ){const[,v]=this._findClosestUndoElementWithSource(c.id);return!!v}const u=this.getUriComparisonKey(c);return!!this._editStacks.has(u)&&this._editStacks.get(u).hasPastElements()}_onError(c,u){(0,Lt.dL)(c);for(const v of u.strResources)this.removeElements(v);this._notificationService.error(c)}_acquireLocks(c){for(const u of c.editStacks)if(u.locked)throw new Error("Cannot acquire edit stack lock");for(const u of c.editStacks)u.locked=!0;return()=>{for(const u of c.editStacks)u.locked=!1}}_safeInvokeWithLocks(c,u,v,K,X){const se=this._acquireLocks(v);let me;try{me=u()}catch(xe){return se(),K.dispose(),this._onError(xe,c)}return me?me.then(()=>(se(),K.dispose(),X()),xe=>(se(),K.dispose(),this._onError(xe,c))):(se(),K.dispose(),X())}_invokeWorkspacePrepare(c){return cc(this,void 0,void 0,function*(){if(void 0===c.actual.prepareUndoRedo)return Ge.JT.None;const u=c.actual.prepareUndoRedo();return void 0===u?Ge.JT.None:u})}_invokeResourcePrepare(c,u){if(1!==c.actual.type||void 0===c.actual.prepareUndoRedo)return u(Ge.JT.None);const v=c.actual.prepareUndoRedo();return v?(0,Ge.Wf)(v)?u(v):v.then(K=>u(K)):u(Ge.JT.None)}_getAffectedEditStacks(c){const u=[];for(const v of c.strResources)u.push(this._editStacks.get(v)||fc);return new wl(u)}_tryToSplitAndUndo(c,u,v,K){if(u.canSplit())return this._splitPastWorkspaceElement(u,v),this._notificationService.warn(K),new Oo(this._undo(c,0,!0));for(const X of u.strResources)this.removeElements(X);return this._notificationService.warn(K),new Oo}_checkWorkspaceUndo(c,u,v,K){if(u.removedResources)return this._tryToSplitAndUndo(c,u,u.removedResources,Jn.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",u.label,u.removedResources.createMessage()));if(K&&u.invalidatedResources)return this._tryToSplitAndUndo(c,u,u.invalidatedResources,Jn.N({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",u.label,u.invalidatedResources.createMessage()));const X=[];for(const me of v.editStacks)me.getClosestPastElement()!==u&&X.push(me.resourceLabel);if(X.length>0)return this._tryToSplitAndUndo(c,u,null,Jn.N({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",u.label,X.join(", ")));const se=[];for(const me of v.editStacks)me.locked&&se.push(me.resourceLabel);return se.length>0?this._tryToSplitAndUndo(c,u,null,Jn.N({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",u.label,se.join(", "))):v.isValid()?null:this._tryToSplitAndUndo(c,u,null,Jn.N({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",u.label))}_workspaceUndo(c,u,v){const K=this._getAffectedEditStacks(u),X=this._checkWorkspaceUndo(c,u,K,!1);return X?X.returnValue:this._confirmAndExecuteWorkspaceUndo(c,u,K,v)}_isPartOfUndoGroup(c){if(!c.groupId)return!1;for(const[,u]of this._editStacks){const v=u.getClosestPastElement();if(v){if(v===c){const K=u.getSecondClosestPastElement();if(K&&K.groupId===c.groupId)return!0}if(v.groupId===c.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(c,u,v,K){return cc(this,void 0,void 0,function*(){if(u.canSplit()&&!this._isPartOfUndoGroup(u)){const me=yield this._dialogService.show(cs.Z.Info,Jn.N("confirmWorkspace","Would you like to undo '{0}' across all files?",u.label),[Jn.N({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",v.editStacks.length),Jn.N("nok","Undo this File"),Jn.N("cancel","Cancel")],{cancelId:2});if(2===me.choice)return;if(1===me.choice)return this._splitPastWorkspaceElement(u,null),this._undo(c,0,!0);const xe=this._checkWorkspaceUndo(c,u,v,!1);if(xe)return xe.returnValue;K=!0}let X;try{X=yield this._invokeWorkspacePrepare(u)}catch(me){return this._onError(me,u)}const se=this._checkWorkspaceUndo(c,u,v,!0);if(se)return X.dispose(),se.returnValue;for(const me of v.editStacks)me.moveBackward(u);return this._safeInvokeWithLocks(u,()=>u.actual.undo(),v,X,()=>this._continueUndoInGroup(u.groupId,K))})}_resourceUndo(c,u,v){if(u.isValid){if(!c.locked)return this._invokeResourcePrepare(u,K=>(c.moveBackward(u),this._safeInvokeWithLocks(u,()=>u.actual.undo(),new wl([c]),K,()=>this._continueUndoInGroup(u.groupId,v))));{const K=Jn.N({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",u.label);this._notificationService.warn(K)}}else c.flushAllElements()}_findClosestUndoElementInGroup(c){if(!c)return[null,null];let u=null,v=null;for(const[K,X]of this._editStacks){const se=X.getClosestPastElement();!se||se.groupId===c&&(!u||se.groupOrder>u.groupOrder)&&(u=se,v=K)}return[u,v]}_continueUndoInGroup(c,u){if(!c)return;const[,v]=this._findClosestUndoElementInGroup(c);return v?this._undo(v,0,u):void 0}undo(c){if(c instanceof Bs.gJ){const[,u]=this._findClosestUndoElementWithSource(c.id);return u?this._undo(u,c.id,!1):void 0}return this._undo("string"==typeof c?c:this.getUriComparisonKey(c),0,!1)}_undo(c,u=0,v){if(!this._editStacks.has(c))return;const K=this._editStacks.get(c),X=K.getClosestPastElement();if(X){if(X.groupId){const[me,xe]=this._findClosestUndoElementInGroup(X.groupId);if(X!==me&&xe)return this._undo(xe,u,v)}if((X.sourceId!==u||X.confirmBeforeUndo)&&!v)return this._confirmAndContinueUndo(c,u,X);try{return 1===X.type?this._workspaceUndo(c,X,v):this._resourceUndo(K,X,v)}finally{}}}_confirmAndContinueUndo(c,u,v){return cc(this,void 0,void 0,function*(){if(1!==(yield this._dialogService.show(cs.Z.Info,Jn.N("confirmDifferentSource","Would you like to undo '{0}'?",v.label),[Jn.N("confirmDifferentSource.yes","Yes"),Jn.N("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(c,u,!0)})}_findClosestRedoElementWithSource(c){if(!c)return[null,null];let u=null,v=null;for(const[K,X]of this._editStacks){const se=X.getClosestFutureElement();!se||se.sourceId===c&&(!u||se.sourceOrder<u.sourceOrder)&&(u=se,v=K)}return[u,v]}canRedo(c){if(c instanceof Bs.gJ){const[,v]=this._findClosestRedoElementWithSource(c.id);return!!v}const u=this.getUriComparisonKey(c);return!!this._editStacks.has(u)&&this._editStacks.get(u).hasFutureElements()}_tryToSplitAndRedo(c,u,v,K){if(u.canSplit())return this._splitFutureWorkspaceElement(u,v),this._notificationService.warn(K),new Oo(this._redo(c));for(const X of u.strResources)this.removeElements(X);return this._notificationService.warn(K),new Oo}_checkWorkspaceRedo(c,u,v,K){if(u.removedResources)return this._tryToSplitAndRedo(c,u,u.removedResources,Jn.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",u.label,u.removedResources.createMessage()));if(K&&u.invalidatedResources)return this._tryToSplitAndRedo(c,u,u.invalidatedResources,Jn.N({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",u.label,u.invalidatedResources.createMessage()));const X=[];for(const me of v.editStacks)me.getClosestFutureElement()!==u&&X.push(me.resourceLabel);if(X.length>0)return this._tryToSplitAndRedo(c,u,null,Jn.N({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",u.label,X.join(", ")));const se=[];for(const me of v.editStacks)me.locked&&se.push(me.resourceLabel);return se.length>0?this._tryToSplitAndRedo(c,u,null,Jn.N({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",u.label,se.join(", "))):v.isValid()?null:this._tryToSplitAndRedo(c,u,null,Jn.N({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",u.label))}_workspaceRedo(c,u){const v=this._getAffectedEditStacks(u),K=this._checkWorkspaceRedo(c,u,v,!1);return K?K.returnValue:this._executeWorkspaceRedo(c,u,v)}_executeWorkspaceRedo(c,u,v){return cc(this,void 0,void 0,function*(){let K;try{K=yield this._invokeWorkspacePrepare(u)}catch(se){return this._onError(se,u)}const X=this._checkWorkspaceRedo(c,u,v,!0);if(X)return K.dispose(),X.returnValue;for(const se of v.editStacks)se.moveForward(u);return this._safeInvokeWithLocks(u,()=>u.actual.redo(),v,K,()=>this._continueRedoInGroup(u.groupId))})}_resourceRedo(c,u){if(u.isValid){if(!c.locked)return this._invokeResourcePrepare(u,v=>(c.moveForward(u),this._safeInvokeWithLocks(u,()=>u.actual.redo(),new wl([c]),v,()=>this._continueRedoInGroup(u.groupId))));{const v=Jn.N({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",u.label);this._notificationService.warn(v)}}else c.flushAllElements()}_findClosestRedoElementInGroup(c){if(!c)return[null,null];let u=null,v=null;for(const[K,X]of this._editStacks){const se=X.getClosestFutureElement();!se||se.groupId===c&&(!u||se.groupOrder<u.groupOrder)&&(u=se,v=K)}return[u,v]}_continueRedoInGroup(c){if(!c)return;const[,u]=this._findClosestRedoElementInGroup(c);return u?this._redo(u):void 0}redo(c){if(c instanceof Bs.gJ){const[,u]=this._findClosestRedoElementWithSource(c.id);return u?this._redo(u):void 0}return this._redo("string"==typeof c?c:this.getUriComparisonKey(c))}_redo(c){if(!this._editStacks.has(c))return;const u=this._editStacks.get(c),v=u.getClosestFutureElement();if(v){if(v.groupId){const[K,X]=this._findClosestRedoElementInGroup(v.groupId);if(v!==K&&X)return this._redo(X)}try{return 1===v.type?this._workspaceRedo(c,v):this._resourceRedo(u,v)}finally{}}}};yl=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([Jr(0,oa.S),Jr(1,Vr.lT)],yl);class Oo{constructor(c){this.returnValue=c}}(0,Qi.z)(Bs.tJ,yl),p(85034);var Ls=p(714),Hr=p(99315),gc=p(48882),fr=p(27870),tr=p(92778),La=p(63779);const gu=Object.freeze({id:"editor",order:5,type:"object",title:Jn.N("editorConfigurationTitle","Editor"),scope:5}),xl=Object.assign(Object.assign({},gu),{properties:{"editor.tabSize":{type:"number",default:fr.D.tabSize,minimum:1,markdownDescription:Jn.N("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:fr.D.insertSpaces,markdownDescription:Jn.N("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:fr.D.detectIndentation,markdownDescription:Jn.N("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:fr.D.trimAutoWhitespace,description:Jn.N("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:fr.D.largeFileOptimizations,description:Jn.N("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:Jn.N("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[Jn.N("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),Jn.N("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),Jn.N("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:Jn.N("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[Jn.N("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),Jn.N("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),Jn.N("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:Jn.N("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:Jn.N("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:Jn.N("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:"array",default:!1,description:Jn.N("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:Jn.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:Jn.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:"array",default:!1,description:Jn.N("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:Jn.N("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:Jn.N("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:Jn.N("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:Jn.N("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:Jn.N("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:Jn.N("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:Jn.N("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:Jn.N("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[Jn.N("wordWrap.off","Lines will never wrap."),Jn.N("wordWrap.on","Lines will wrap at the viewport width."),Jn.N("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function mu(w){return void 0!==w.type||void 0!==w.anyOf}for(const w of D.Bc){const c=w.schema;if(void 0!==c)if(mu(c))xl.properties[`editor.${w.name}`]=c;else for(const u in c)Object.hasOwnProperty.call(c,u)&&(xl.properties[u]=c[u])}let zr=null;function Za(){return null===zr&&(zr=Object.create(null),Object.keys(xl.properties).forEach(w=>{zr[w]=!0})),zr}La.B.as(tr.IP.Configuration).registerConfiguration(xl);var Lr=p(19420),fi=p(13591),ns=p(10467),fs=p(13011),Ms=p(33439),Jo=p(60842);class Ds{constructor(c={},u=[],v=[]){this._contents=c,this._keys=u,this._overrides=v,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(c){return c?(0,fs.Mt)(this.contents,c):this.contents}getOverrideValue(c,u){const v=this.getContentsForOverrideIdentifer(u);return v?c?(0,fs.Mt)(v,c):v:void 0}override(c){let u=this.overrideConfigurations.get(c);return u||(u=this.createOverrideConfigurationModel(c),this.overrideConfigurations.set(c,u)),u}merge(...c){const u=Jo.I8(this.contents),v=Jo.I8(this.overrides),K=[...this.keys];for(const X of c){this.mergeContents(u,X.contents);for(const se of X.overrides){const[me]=v.filter(xe=>ni.fS(xe.identifiers,se.identifiers));me?(this.mergeContents(me.contents,se.contents),me.keys.push(...se.keys),me.keys=ni.EB(me.keys)):v.push(Jo.I8(se))}for(const se of X.keys)-1===K.indexOf(se)&&K.push(se)}return new Ds(u,K,v)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(c){const u=this.getContentsForOverrideIdentifer(c);if(!u||"object"!=typeof u||!Object.keys(u).length)return this;let v={};for(const K of ni.EB([...Object.keys(this.contents),...Object.keys(u)])){let X=this.contents[K],se=u[K];se&&("object"==typeof X&&"object"==typeof se?(X=Jo.I8(X),this.mergeContents(X,se)):X=se),v[K]=X}return new Ds(v,this.keys,this.overrides)}mergeContents(c,u){for(const v of Object.keys(u))v in c&&dn.Kn(c[v])&&dn.Kn(u[v])?this.mergeContents(c[v],u[v]):c[v]=Jo.I8(u[v])}checkAndFreeze(c){return this.isFrozen&&!Object.isFrozen(c)?Jo._A(c):c}getContentsForOverrideIdentifer(c){let u=null,v=null;const K=X=>{X&&(v?this.mergeContents(v,X):v=Jo.I8(X))};for(const X of this.overrides)ni.fS(X.identifiers,[c])?u=X.contents:X.identifiers.includes(c)&&K(X.contents);return K(u),v}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(c,u){this.addKey(c),(0,fs.KV)(this.contents,c,u,v=>{throw new Error(v)})}removeValue(c){this.removeKey(c)&&(0,fs.xL)(this.contents,c)}addKey(c){let u=this.keys.length;for(let v=0;v<u;v++)0===c.indexOf(this.keys[v])&&(u=v);this.keys.splice(u,1,c)}removeKey(c){let u=this.keys.indexOf(c);return-1!==u&&(this.keys.splice(u,1),!0)}}class mc extends Ds{constructor(c={}){const u=La.B.as(tr.IP.Configuration).getConfigurationProperties(),v=Object.keys(u),K=Object.create(null),X=[];for(const se in u){const me=c[se];(0,fs.KV)(K,se,void 0!==me?me:u[se].default,Be=>console.error(`Conflict in default settings: ${Be}`))}for(const se of Object.keys(K))tr.eU.test(se)&&X.push({identifiers:(0,tr.ny)(se),keys:Object.keys(K[se]),contents:(0,fs.Od)(K[se],me=>console.error(`Conflict in default settings file: ${me}`))});super(K,v,X)}}class Ma{constructor(c,u,v=new Ds,K=new Ds,X=new Ms.Y9,se=new Ds,me=new Ms.Y9,xe=!0){this._defaultConfiguration=c,this._localUserConfiguration=u,this._remoteUserConfiguration=v,this._workspaceConfiguration=K,this._folderConfigurations=X,this._memoryConfiguration=se,this._memoryConfigurationByResource=me,this._freeze=xe,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ms.Y9,this._userConfiguration=null}getValue(c,u,v){return this.getConsolidateConfigurationModel(u,v).getValue(c)}updateValue(c,u,v={}){let K;v.resource?(K=this._memoryConfigurationByResource.get(v.resource),K||(K=new Ds,this._memoryConfigurationByResource.set(v.resource,K))):K=this._memoryConfiguration,void 0===u?K.removeValue(c):K.setValue(c,u),v.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(c,u,v){const K=this.getConsolidateConfigurationModel(u,v),X=this.getFolderConfigurationModelForResource(u.resource,v),se=u.resource&&this._memoryConfigurationByResource.get(u.resource)||this._memoryConfiguration,me=u.overrideIdentifier?this._defaultConfiguration.freeze().override(u.overrideIdentifier).getValue(c):this._defaultConfiguration.freeze().getValue(c),xe=u.overrideIdentifier?this.userConfiguration.freeze().override(u.overrideIdentifier).getValue(c):this.userConfiguration.freeze().getValue(c),Be=u.overrideIdentifier?this.localUserConfiguration.freeze().override(u.overrideIdentifier).getValue(c):this.localUserConfiguration.freeze().getValue(c),je=u.overrideIdentifier?this.remoteUserConfiguration.freeze().override(u.overrideIdentifier).getValue(c):this.remoteUserConfiguration.freeze().getValue(c),ft=v?u.overrideIdentifier?this._workspaceConfiguration.freeze().override(u.overrideIdentifier).getValue(c):this._workspaceConfiguration.freeze().getValue(c):void 0,Jt=X?u.overrideIdentifier?X.freeze().override(u.overrideIdentifier).getValue(c):X.freeze().getValue(c):void 0,fn=u.overrideIdentifier?se.override(u.overrideIdentifier).getValue(c):se.getValue(c),$n=K.getValue(c),Ii=ni.EB(ni.xH(K.overrides.map(_i=>_i.identifiers))).filter(_i=>void 0!==K.getOverrideValue(c,_i));return{defaultValue:me,userValue:xe,userLocalValue:Be,userRemoteValue:je,workspaceValue:ft,workspaceFolderValue:Jt,memoryValue:fn,value:$n,default:void 0!==me?{value:this._defaultConfiguration.freeze().getValue(c),override:u.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(c,u.overrideIdentifier):void 0}:void 0,user:void 0!==xe?{value:this.userConfiguration.freeze().getValue(c),override:u.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(c,u.overrideIdentifier):void 0}:void 0,userLocal:void 0!==Be?{value:this.localUserConfiguration.freeze().getValue(c),override:u.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(c,u.overrideIdentifier):void 0}:void 0,userRemote:void 0!==je?{value:this.remoteUserConfiguration.freeze().getValue(c),override:u.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(c,u.overrideIdentifier):void 0}:void 0,workspace:void 0!==ft?{value:this._workspaceConfiguration.freeze().getValue(c),override:u.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(c,u.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==Jt?{value:null==X?void 0:X.freeze().getValue(c),override:u.overrideIdentifier?null==X?void 0:X.freeze().getOverrideValue(c,u.overrideIdentifier):void 0}:void 0,memory:void 0!==fn?{value:se.getValue(c),override:u.overrideIdentifier?se.getOverrideValue(c,u.overrideIdentifier):void 0}:void 0,overrideIdentifiers:Ii.length?Ii:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(c,u){let v=this.getConsolidatedConfigurationModelForResource(c,u);return c.overrideIdentifier?v.override(c.overrideIdentifier):v}getConsolidatedConfigurationModelForResource({resource:c},u){let v=this.getWorkspaceConsolidatedConfiguration();if(u&&c){const K=u.getFolder(c);K&&(v=this.getFolderConsolidatedConfiguration(K.uri)||v);const X=this._memoryConfigurationByResource.get(c);X&&(v=v.merge(X))}return v}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(c){let u=this._foldersConsolidatedConfigurations.get(c);if(!u){const v=this.getWorkspaceConsolidatedConfiguration(),K=this._folderConfigurations.get(c);K?(u=v.merge(K),this._freeze&&(u=u.freeze()),this._foldersConsolidatedConfigurations.set(c,u)):u=v}return u}getFolderConfigurationModelForResource(c,u){if(u&&c){const v=u.getFolder(c);if(v)return this._folderConfigurations.get(v.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((c,u)=>{const{contents:v,overrides:K,keys:X}=this._folderConfigurations.get(u);return c.push([u,{contents:v,overrides:K,keys:X}]),c},[])}}static parse(c){const u=this.parseConfigurationModel(c.defaults),v=this.parseConfigurationModel(c.user),K=this.parseConfigurationModel(c.workspace),X=c.folders.reduce((se,me)=>(se.set(M.o.revive(me[0]),this.parseConfigurationModel(me[1])),se),new Ms.Y9);return new Ma(u,v,new Ds,K,X,new Ds,new Ms.Y9,!1)}static parseConfigurationModel(c){return new Ds(c.contents,c.keys,c.overrides).freeze()}}class Ri{constructor(c,u,v,K){this.change=c,this.previous=u,this.currentConfiguraiton=v,this.currentWorkspace=K,this._previousConfiguration=void 0;const X=new Set;c.keys.forEach(me=>X.add(me)),c.overrides.forEach(([,me])=>me.forEach(xe=>X.add(xe))),this.affectedKeys=[...X.values()];const se=new Ds;this.affectedKeys.forEach(me=>se.setValue(me,{})),this.affectedKeysTree=se.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Ma.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(c,u){var v;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,c)){if(u){const K=this.previousConfiguration?this.previousConfiguration.getValue(c,u,null===(v=this.previous)||void 0===v?void 0:v.workspace):void 0,X=this.currentConfiguraiton.getValue(c,u,this.currentWorkspace);return!Jo.fS(K,X)}return!0}return!1}doesAffectedKeysTreeContains(c,u){let K,v=(0,fs.Od)({[u]:!0},()=>{});for(;"object"==typeof v&&(K=Object.keys(v)[0]);){if(!(c=c[K]))return!1;v=v[K]}return!0}}const so=/^(cursor|delete)/;class Ho extends Ge.JT{constructor(c,u,v,K,X){super(),this._contextKeyService=c,this._commandService=u,this._telemetryService=v,this._notificationService=K,this._logService=X,this._onDidUpdateKeybindings=this._register(new Y.Q5),this._currentChord=null,this._currentChordChecker=new mn.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=To.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new mn._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Y.ju.None}dispose(){super.dispose()}_log(c){this._logging&&this._logService.info(`[KeybindingService]: ${c}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(c,u){const v=this._getResolver().lookupPrimaryKeybinding(c,u||this._contextKeyService);if(v)return v.resolvedKeybinding}dispatchEvent(c,u){return this._dispatch(c,u)}softDispatch(c,u){const v=this.resolveKeyboardEvent(c);if(v.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[K]=v.getDispatchParts();if(null===K)return null;const X=this._contextKeyService.getContext(u),se=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(X,se,K)}_enterChordMode(c,u){this._currentChord={keypress:c,label:u},this._currentChordStatusMessage=this._notificationService.status(Jn.N("first.chord","({0}) was pressed. Waiting for second key of chord...",u));const v=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-v>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(c,u){return this._doDispatch(this.resolveKeyboardEvent(c),u,!1)}_singleModifierDispatch(c,u){const v=this.resolveKeyboardEvent(c),[K]=v.getSingleModifierDispatchParts();if(K)return this._ignoreSingleModifiers.has(K)?(this._log(`+ Ignoring single modifier ${K} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=To.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=To.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${K}.`),this._currentSingleModifier=K,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):K===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${K} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(v,u,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${K}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[X]=v.getParts();return this._ignoreSingleModifiers=new To(X),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(c,u,v=!1){let K=!1;if(c.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let X=null,se=null;if(v){const[je]=c.getSingleModifierDispatchParts();X=je,se=je}else[X]=c.getDispatchParts(),se=this._currentChord?this._currentChord.keypress:null;if(null===X)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),K;const me=this._contextKeyService.getContext(u),xe=c.getLabel(),Be=this._getResolver().resolve(me,se,X);return this._logService.trace("KeybindingService#dispatch",xe,null==Be?void 0:Be.commandId),Be&&Be.enterChord?(K=!0,this._enterChordMode(X,xe),K):(this._currentChord&&(!Be||!Be.commandId)&&(this._notificationService.status(Jn.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,xe),{hideAfter:1e4}),K=!0),this._leaveChordMode(),Be&&Be.commandId&&(Be.bubble||(K=!0),void 0===Be.commandArgs?this._commandService.executeCommand(Be.commandId).then(void 0,je=>this._notificationService.warn(je)):this._commandService.executeCommand(Be.commandId,Be.commandArgs).then(void 0,je=>this._notificationService.warn(je)),so.test(Be.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Be.commandId,from:"keybinding"})),K)}mightProducePrintableCharacter(c){return!c.ctrlKey&&!c.metaKey&&(c.keyCode>=31&&c.keyCode<=56||c.keyCode>=21&&c.keyCode<=30)}}class To{constructor(c){this._ctrlKey=!!c&&c.ctrlKey,this._shiftKey=!!c&&c.shiftKey,this._altKey=!!c&&c.altKey,this._metaKey=!!c&&c.metaKey}has(c){switch(c){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}To.EMPTY=new To(null);var ds=p(96938);class Ti{constructor(c,u,v){this._log=v,this._defaultKeybindings=c,this._defaultBoundCommands=new Map;for(const K of c){const X=K.command;X&&"-"!==X.charAt(0)&&this._defaultBoundCommands.set(X,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Ti.handleRemovals([].concat(c).concat(u));for(let K=0,X=this._keybindings.length;K<X;K++){let se=this._keybindings[K];0!==se.keypressParts.length&&(se.when&&0===se.when.type||this._addKeyPress(se.keypressParts[0],se))}}static _isTargetedForRemoval(c,u,v,K){return!(u&&c.keypressParts[0]!==u||v&&c.keypressParts[1]!==v||K&&(!c.when||!(0,bo.Fb)(K,c.when)))}static handleRemovals(c){const u=new Map;for(let K=0,X=c.length;K<X;K++){const se=c[K];if(se.command&&"-"===se.command.charAt(0)){const me=se.command.substring(1);u.has(me)?u.get(me).push(se):u.set(me,[se])}}if(0===u.size)return c;const v=[];for(let K=0,X=c.length;K<X;K++){const se=c[K];if(!se.command||0===se.command.length){v.push(se);continue}if("-"===se.command.charAt(0))continue;const me=u.get(se.command);if(!me||!se.isDefault){v.push(se);continue}let xe=!1;for(const Be of me)if(this._isTargetedForRemoval(se,Be.keypressParts[0],Be.keypressParts[1],Be.when)){xe=!0;break}xe||v.push(se)}return v}_addKeyPress(c,u){const v=this._map.get(c);if(void 0===v)return this._map.set(c,[u]),void this._addToLookupMap(u);for(let K=v.length-1;K>=0;K--){let X=v[K];if(X.command===u.command)continue;const me=u.keypressParts.length>1;X.keypressParts.length>1&&me&&X.keypressParts[1]!==u.keypressParts[1]||Ti.whenIsEntirelyIncluded(X.when,u.when)&&this._removeFromLookupMap(X)}v.push(u),this._addToLookupMap(u)}_addToLookupMap(c){if(!c.command)return;let u=this._lookupMap.get(c.command);void 0===u?(u=[c],this._lookupMap.set(c.command,u)):u.push(c)}_removeFromLookupMap(c){if(!c.command)return;let u=this._lookupMap.get(c.command);if(void 0!==u)for(let v=0,K=u.length;v<K;v++)if(u[v]===c)return void u.splice(v,1)}static whenIsEntirelyIncluded(c,u){return!u||1===u.type||!(!c||1===c.type)&&(0,bo.K8)(c,u)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(c,u){const v=this._lookupMap.get(c);if(void 0===v||0===v.length)return null;if(1===v.length)return v[0];for(let K=v.length-1;K>=0;K--){const X=v[K];if(u.contextMatchesRules(X.when))return X}return v[v.length-1]}resolve(c,u,v){this._log(`| Resolving ${v}${u?` chorded from ${u}`:""}`);let K=null;if(null!==u){const se=this._map.get(u);if(void 0===se)return this._log("\\ No keybinding entries."),null;K=[];for(let me=0,xe=se.length;me<xe;me++){let Be=se[me];Be.keypressParts[1]===v&&K.push(Be)}}else{const se=this._map.get(v);if(void 0===se)return this._log("\\ No keybinding entries."),null;K=se}let X=this._findCommand(c,K);return X?null===u&&X.keypressParts.length>1&&null!==X.keypressParts[1]?(this._log(`\\ From ${K.length} keybinding entries, matched chord, when: ${nr(X.when)}, source: ${aa(X)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${K.length} keybinding entries, matched ${X.command}, when: ${nr(X.when)}, source: ${aa(X)}.`),{enterChord:!1,leaveChord:X.keypressParts.length>1,commandId:X.command,commandArgs:X.commandArgs,bubble:X.bubble}):(this._log(`\\ From ${K.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(c,u){for(let v=u.length-1;v>=0;v--){let K=u[v];if(Ti._contextMatchesRules(c,K.when))return K}return null}static _contextMatchesRules(c,u){return!u||u.evaluate(c)}}function nr(w){return w?`${w.serialize()}`:"no when condition"}function aa(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}var Rh=p(22115);class ad{constructor(c,u,v,K,X,se,me){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=c,this.keypressParts=c?Da(c.getDispatchParts()):[],c&&0===this.keypressParts.length&&(this.keypressParts=Da(c.getSingleModifierDispatchParts())),this.bubble=!!u&&94===u.charCodeAt(0),this.command=this.bubble?u.substr(1):u,this.commandArgs=v,this.when=K,this.isDefault=X,this.extensionId=se,this.isBuiltinExtension=me}}function Da(w){let c=[];for(let u=0,v=w.length;u<v;u++){const K=w[u];if(!K)return c;c.push(K)}return c}var Ll=p(99802);class Ga extends Hr.f1{constructor(c,u){if(super(),0===u.length)throw(0,Lt.b1)("parts");this._os=c,this._parts=u}getLabel(){return Ll.xo.toLabel(this._os,this._parts,c=>this._getLabel(c))}getAriaLabel(){return Ll.X4.toLabel(this._os,this._parts,c=>this._getAriaLabel(c))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:Ll.jC.toLabel(this._os,this._parts,c=>this._getElectronAccelerator(c))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(c=>this._getPart(c))}_getPart(c){return new Hr.BQ(c.ctrlKey,c.shiftKey,c.altKey,c.metaKey,this._getLabel(c),this._getAriaLabel(c))}getDispatchParts(){return this._parts.map(c=>this._getDispatchPart(c))}getSingleModifierDispatchParts(){return this._parts.map(c=>this._getSingleModifierDispatchPart(c))}}class Qa extends Ga{constructor(c,u){super(u,c.parts)}_keyCodeToUILabel(c){if(2===this._os)switch(c){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return W.kL.toString(c)}_getLabel(c){return c.isDuplicateModifierCase()?"":this._keyCodeToUILabel(c.keyCode)}_getAriaLabel(c){return c.isDuplicateModifierCase()?"":W.kL.toString(c.keyCode)}_getElectronAccelerator(c){return W.kL.toElectronAccelerator(c.keyCode)}_getDispatchPart(c){return Qa.getDispatchStr(c)}static getDispatchStr(c){if(c.isModifierKey())return null;let u="";return c.ctrlKey&&(u+="ctrl+"),c.shiftKey&&(u+="shift+"),c.altKey&&(u+="alt+"),c.metaKey&&(u+="meta+"),u+=W.kL.toString(c.keyCode),u}_getSingleModifierDispatchPart(c){return 5!==c.keyCode||c.shiftKey||c.altKey||c.metaKey?4!==c.keyCode||c.ctrlKey||c.altKey||c.metaKey?6!==c.keyCode||c.ctrlKey||c.shiftKey||c.metaKey?57!==c.keyCode||c.ctrlKey||c.shiftKey||c.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(c){const u=W.Vd[c];if(-1!==u)return u;switch(c){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(c){if(!c)return null;if(c instanceof Hr.QC)return c;const u=this._scanCodeToKeyCode(c.scanCode);return 0===u?null:new Hr.QC(c.ctrlKey,c.shiftKey,c.altKey,c.metaKey,u)}static resolveUserBinding(c,u){const v=Da(c.map(K=>this._resolveSimpleUserBinding(K)));return v.length>0?[new Qa(new Hr.X_(v),u)]:[]}}var ld=p(7022),co=p(24763),cd=p(87493),pc=p(17184),Bn=p(1598),Fh=p(73062),Ml=p(9719),Bh=p(96721),_u=p(32975),Ks=(p(72874),(()=>(function(w){w[w.AVOID=0]="AVOID",w[w.ALIGN=1]="ALIGN"}(Ks||(Ks={})),Ks))());function la(w,c,u){const v=u.mode===Ks.ALIGN?u.offset:u.offset+u.size,K=u.mode===Ks.ALIGN?u.offset+u.size:u.offset;return 0===u.position?c<=w-v?v:c<=K?K-c:Math.max(w-c,0):c<=K?K-c:c<=w-v?v:0}let dd=(()=>{class w extends Ge.JT{constructor(u,v){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Ge.JT.None,this.toDisposeOnSetContainer=Ge.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=_t.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,_t.Cp(this.view),this.setContainer(u,v),this._register((0,Ge.OF)(()=>this.setContainer(null,1)))}setContainer(u,v){var K;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(K=this.shadowRootHostElement)||void 0===K||K.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),u){if(this.container=u,this.useFixedPosition=1!==v,this.useShadowDOM=3===v,this.useShadowDOM){this.shadowRootHostElement=_t.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const se=document.createElement("style");se.textContent=ud,this.shadowRoot.appendChild(se),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(_t.$("slot"))}else this.container.appendChild(this.view);const X=new Ge.SL;w.BUBBLE_UP_EVENTS.forEach(se=>{X.add(_t.mu(this.container,se,me=>{this.onDOMEvent(me,!1)}))}),w.BUBBLE_DOWN_EVENTS.forEach(se=>{X.add(_t.mu(this.container,se,me=>{this.onDOMEvent(me,!0)},!0))}),this.toDisposeOnSetContainer=X}}show(u){this.isVisible()&&this.hide(),_t.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",_t.$Z(this.view),this.toDisposeOnClean=u.render(this.view)||Ge.JT.None,this.delegate=u,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||vt.gn&&Bh.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let v,u=this.delegate.getAnchor();if(_t.Re(u)){let Jt=_t.i(u);v={top:Jt.top,left:Jt.left,width:Jt.width,height:Jt.height}}else v={top:u.y,left:u.x,width:u.width||1,height:u.height||2};const K=_t.w(this.view),X=_t.wn(this.view),se=this.delegate.anchorPosition||0,me=this.delegate.anchorAlignment||0;let Be,je;if(0===(this.delegate.anchorAxisAlignment||0)){const Jt={offset:v.top-window.pageYOffset,size:v.height,position:0===se?0:1},fn={offset:v.left,size:v.width,position:0===me?0:1,mode:Ks.ALIGN};Be=la(window.innerHeight,X,Jt)+window.pageYOffset,_u.e.intersects({start:Be,end:Be+X},{start:Jt.offset,end:Jt.offset+Jt.size})&&(fn.mode=Ks.AVOID),je=la(window.innerWidth,K,fn)}else{const Jt={offset:v.left,size:v.width,position:0===me?0:1},fn={offset:v.top,size:v.height,position:0===se?0:1,mode:Ks.ALIGN};je=la(window.innerWidth,K,Jt),_u.e.intersects({start:je,end:je+K},{start:Jt.offset,end:Jt.offset+Jt.size})&&(fn.mode=Ks.AVOID),Be=la(window.innerHeight,X,fn)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===se?"bottom":"top"),this.view.classList.add(0===me?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const ft=_t.i(this.container);this.view.style.top=Be-(this.useFixedPosition?_t.i(this.view).top:ft.top)+"px",this.view.style.left=je-(this.useFixedPosition?_t.i(this.view).left:ft.left)+"px",this.view.style.width="initial"}hide(u){const v=this.delegate;this.delegate=null,(null==v?void 0:v.onHide)&&v.onHide(u),this.toDisposeOnClean.dispose(),_t.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(u,v){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(u,document.activeElement):v&&!_t.jg(u.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return w.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],w.BUBBLE_DOWN_EVENTS=["click"],w})(),ud='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n',bc=class extends Ge.JT{constructor(c){super(),this.layoutService=c,this.currentViewDisposable=Ge.JT.None,this.container=c.hasContainer?c.container:null,this.contextView=this._register(new dd(this.container,1)),this.layout(),this._register(c.onDidLayout(()=>this.layout()))}setContainer(c,u){this.contextView.setContainer(c,u||1)}showContextView(c,u,v){u?u!==this.container&&(this.container=u,this.setContainer(u,v?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(c);const K=(0,Ge.OF)(()=>{this.currentViewDisposable===K&&this.hideContextView()});return this.currentViewDisposable=K,K}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(c){this.contextView.hide(c)}};bc=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([function(w,c){return function(u,v){c(u,v,0)}}(0,hr)],bc);var Ya=p(46359),ir=p(84491);const wc="[^/\\\\]",yc=/\//g;function bu(w){switch(w){case 0:return"";case 1:return`${wc}*?`;default:return`(?:[/\\\\]|${wc}+[/\\\\]|[/\\\\]${wc}+)*?`}}function fd(w,c){if(!w)return[];const u=[];let v=!1,K=!1,X="";for(const se of w){switch(se){case c:if(!v&&!K){u.push(X),X="";continue}break;case"{":v=!0;break;case"}":v=!1;break;case"[":K=!0;break;case"]":K=!1}X+=se}return X&&u.push(X),u}function Ja(w){if(!w)return"";let c="";const u=fd(w,"/");if(u.every(v=>"**"===v))c=".*";else{let v=!1;u.forEach((K,X)=>{if("**"===K)return void(v||(c+=bu(2),v=!0));let se=!1,me="",xe=!1,Be="";for(const je of K)if("}"!==je&&se)me+=je;else if(!xe||"]"===je&&Be)switch(je){case"{":se=!0;continue;case"[":xe=!0;continue;case"}":c+=`(?:${fd(me,",").map(fn=>Ja(fn)).join("|")})`,se=!1,me="";break;case"]":c+="["+Be+"]",xe=!1,Be="";break;case"?":c+=wc;continue;case"*":c+=bu(1);continue;default:c+=(0,nt.ec)(je)}else{let ft;ft="-"===je?je:"^"!==je&&"!"!==je||Be?"/"===je?"":(0,nt.ec)(je):"^",Be+=ft}X<u.length-1&&("**"!==u[X+1]||X+2<u.length)&&(c+="[/\\\\]"),v=!1})}return c}const Sc=/^\*\*\/\*\.[\w\.-]+$/,El=/^\*\*\/([\w\.-]+)\/?$/,vu=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,wu=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,yu=/^\*\*((\/[\w\.-]+)+)\/?$/,Wh=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,gd=new Ms.z6(1e4),md=function(){return!1},Mr=function(){return null};function pd(w,c){if(!w)return Mr;let u;u="string"!=typeof w?w.pattern:w,u=u.trim();const v=`${u}_${!!c.trimForExclusions}`;let X,K=gd.get(v);if(K)return Su(K,w);if(Sc.test(u)){const se=u.substr(4);K=function(me,xe){return"string"==typeof me&&me.endsWith(se)?u:null}}else K=(X=El.exec(Xa(u,c)))?function(w,c){const u=`/${w}`,v=`\\${w}`,K=function(se,me){return"string"!=typeof se?null:me?me===w?c:null:se===w||se.endsWith(u)||se.endsWith(v)?c:null},X=[w];return K.basenames=X,K.patterns=[c],K.allBasenames=X,K}(X[1],u):(c.trimForExclusions?wu:vu).test(u)?function(w,c){const u=vd(w.slice(1,-1).split(",").map(me=>pd(me,c)).filter(me=>me!==Mr),w),v=u.length;if(!v)return Mr;if(1===v)return u[0];const K=function(me,xe){for(let Be=0,je=u.length;Be<je;Be++)if(u[Be](me,xe))return w;return null},X=u.find(me=>!!me.allBasenames);X&&(K.allBasenames=X.allBasenames);const se=u.reduce((me,xe)=>xe.allPaths?me.concat(xe.allPaths):me,[]);return se.length&&(K.allPaths=se),K}(u,c):(X=yu.exec(Xa(u,c)))?_d(X[1].substr(1),u,!0):(X=Wh.exec(Xa(u,c)))?_d(X[1],u,!1):function(w){try{const c=new RegExp(`^${Ja(w)}$`);return function(u){return c.lastIndex=0,"string"==typeof u&&c.test(u)?w:null}}catch{return Mr}}(u);return gd.set(v,K),Su(K,w)}function Su(w,c){return"string"==typeof c?w:function(u,v){return(0,Ya.KM)(u,c.base,!vt.IJ)?w(u.substr(c.base.length+1),v):null}}function Xa(w,c){return c.trimForExclusions&&w.endsWith("/**")?w.substr(0,w.length-2):w}function _d(w,c,u){const v=ir.ir===ir.KR.sep,K=v?w:w.replace(yc,ir.ir),X=ir.ir+K,se=ir.KR.sep+w,me=u?function(xe,Be){return"string"!=typeof xe||xe!==K&&!xe.endsWith(X)&&(v||xe!==w&&!xe.endsWith(se))?null:c}:function(xe,Be){return"string"!=typeof xe||xe!==K&&(v||xe!==w)?null:c};return me.allPaths=[(u?"*/":"./")+w],me}function ca(w,c={}){if(!w)return md;if("string"==typeof w||function(w){return!!w&&"string"==typeof w.base&&"string"==typeof w.pattern}(w)){const u=pd(w,c);if(u===Mr)return md;const v=function(K,X){return!!u(K,X)};return u.allBasenames&&(v.allBasenames=u.allBasenames),u.allPaths&&(v.allPaths=u.allPaths),v}return function(w,c){const u=vd(Object.getOwnPropertyNames(w).map(me=>function(w,c,u){if(!1===c)return Mr;const v=pd(w,u);if(v===Mr)return Mr;if("boolean"==typeof c)return v;if(c){const K=c.when;if("string"==typeof K){const X=(se,me,xe,Be)=>{if(!Be||!v(se,me))return null;const ft=Be(K.replace("$(basename)",xe));return(0,mn.J8)(ft)?ft.then(Jt=>Jt?w:null):ft?w:null};return X.requiresSiblings=!0,X}}return v}(me,w[me],c)).filter(me=>me!==Mr)),v=u.length;if(!v)return Mr;if(!u.some(me=>!!me.requiresSiblings)){if(1===v)return u[0];const me=function(je,ft){for(let Jt=0,fn=u.length;Jt<fn;Jt++){const $n=u[Jt](je,ft);if($n)return $n}return null},xe=u.find(je=>!!je.allBasenames);xe&&(me.allBasenames=xe.allBasenames);const Be=u.reduce((je,ft)=>ft.allPaths?je.concat(ft.allPaths):je,[]);return Be.length&&(me.allPaths=Be),me}const K=function(me,xe,Be){let je;for(let ft=0,Jt=u.length;ft<Jt;ft++){const fn=u[ft];fn.requiresSiblings&&Be&&(xe||(xe=(0,ir.EZ)(me)),je||(je=xe.substr(0,xe.length-(0,ir.DZ)(me).length)));const $n=fn(me,xe,je,Be);if($n)return $n}return null},X=u.find(me=>!!me.allBasenames);X&&(K.allBasenames=X.allBasenames);const se=u.reduce((me,xe)=>xe.allPaths?me.concat(xe.allPaths):me,[]);return se.length&&(K.allPaths=se),K}(w,c)}function vd(w,c){const u=w.filter(me=>!!me.basenames);if(u.length<2)return w;const v=u.reduce((me,xe)=>{const Be=xe.basenames;return Be?me.concat(Be):me},[]);let K;if(c){K=[];for(let me=0,xe=v.length;me<xe;me++)K.push(c)}else K=u.reduce((me,xe)=>{const Be=xe.patterns;return Be?me.concat(Be):me},[]);const X=function(me,xe){if("string"!=typeof me)return null;if(!xe){let je;for(je=me.length;je>0;je--){const ft=me.charCodeAt(je-1);if(47===ft||92===ft)break}xe=me.substr(je)}const Be=v.indexOf(xe);return-1!==Be?K[Be]:null};X.basenames=v,X.patterns=K,X.allBasenames=v;const se=w.filter(me=>!me.basenames);return se.push(X),se}var Il=p(48343),qa=p(6228);let jr=[],Pl=[],Lu=[];function kl(w,c=!1){!function(w,c,u){const v=function(w,c){return{id:w.id,mime:w.mime,filename:w.filename,extension:w.extension,filepattern:w.filepattern,firstline:w.firstline,userConfigured:false,filenameLowercase:w.filename?w.filename.toLowerCase():void 0,extensionLowercase:w.extension?w.extension.toLowerCase():void 0,filepatternLowercase:w.filepattern?ca(w.filepattern.toLowerCase()):void 0,filepatternOnPath:!!w.filepattern&&w.filepattern.indexOf(ir.KR.sep)>=0}}(w);jr.push(v),v.userConfigured?Lu.push(v):Pl.push(v),u&&!v.userConfigured&&jr.forEach(K=>{K.mime===v.mime||K.userConfigured||(v.extension&&K.extension===v.extension&&console.warn(`Overwriting extension <<${v.extension}>> to now point to mime <<${v.mime}>>`),v.filename&&K.filename===v.filename&&console.warn(`Overwriting filename <<${v.filename}>> to now point to mime <<${v.mime}>>`),v.filepattern&&K.filepattern===v.filepattern&&console.warn(`Overwriting filepattern <<${v.filepattern}>> to now point to mime <<${v.mime}>>`),v.firstline&&K.firstline===v.firstline&&console.warn(`Overwriting firstline <<${v.firstline}>> to now point to mime <<${v.mime}>>`))})}(w,0,c)}function Xe(w,c,u){var v;let K,X,se;for(let me=u.length-1;me>=0;me--){const xe=u[me];if(c===xe.filenameLowercase){K=xe;break}if(xe.filepattern&&(!X||xe.filepattern.length>X.filepattern.length)){const Be=xe.filepatternOnPath?w:c;(null===(v=xe.filepatternLowercase)||void 0===v?void 0:v.call(xe,Be))&&(X=xe)}xe.extension&&(!se||xe.extension.length>se.extension.length)&&c.endsWith(xe.extensionLowercase)&&(se=xe)}return K?K.mime:X?X.mime:se?se.mime:void 0}var pt=p(12282);const Me=Object.prototype.hasOwnProperty,Qt="vs.editor.nullLanguage";mt.zu.register(Qt,{});class Hh{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(Qt,0),this._register(pt.bd,1),this._nextLanguageId=2}_register(c,u){this._languageIdToLanguage[u]=c,this._languageToLanguageId.set(c,u)}register(c){if(this._languageToLanguageId.has(c))return;const u=this._nextLanguageId++;this._register(c,u)}encodeLanguageId(c){return this._languageToLanguageId.get(c)||0}decodeLanguageId(c){return this._languageIdToLanguage[c]||Qt}}let zh=(()=>{class w extends Ge.JT{constructor(u=!0,v=!1){super(),this._onDidChange=this._register(new Y.Q5),this.onDidChange=this._onDidChange.event,w.instanceCount++,this._warnOnOverwrite=v,this.languageIdCodec=new Hh,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},u&&(this._initializeFromRegistry(),this._register(pt.dQ.onDidChangeLanguages(K=>{this._initializeFromRegistry()})))}dispose(){w.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},jr=jr.filter(w=>w.userConfigured),Pl=[];const u=[].concat(pt.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(u)}_registerLanguages(u){for(const v of u)this._registerLanguage(v);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(v=>{const K=this._languages[v];K.name&&(this._nameMap[K.name]=K.identifier),K.aliases.forEach(X=>{this._lowercaseNameMap[X.toLowerCase()]=K.identifier}),K.mimetypes.forEach(X=>{this._mimeTypesMap[X]=K.identifier})}),La.B.as(tr.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(u){const v=u.id;let K;Me.call(this._languages,v)?K=this._languages[v]:(this.languageIdCodec.register(v),K={identifier:v,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[v]=K),this._mergeLanguage(K,u)}_mergeLanguage(u,v){const K=v.id;let X=null;if(Array.isArray(v.mimetypes)&&v.mimetypes.length>0&&(u.mimetypes.push(...v.mimetypes),X=v.mimetypes[0]),X||(X=`text/x-${K}`,u.mimetypes.push(X)),Array.isArray(v.extensions)){u.extensions=v.configuration?v.extensions.concat(u.extensions):u.extensions.concat(v.extensions);for(let xe of v.extensions)kl({id:K,mime:X,extension:xe},this._warnOnOverwrite)}if(Array.isArray(v.filenames))for(let xe of v.filenames)kl({id:K,mime:X,filename:xe},this._warnOnOverwrite),u.filenames.push(xe);if(Array.isArray(v.filenamePatterns))for(let xe of v.filenamePatterns)kl({id:K,mime:X,filepattern:xe},this._warnOnOverwrite);if("string"==typeof v.firstLine&&v.firstLine.length>0){let xe=v.firstLine;"^"!==xe.charAt(0)&&(xe="^"+xe);try{const Be=new RegExp(xe);(0,nt.IO)(Be)||kl({id:K,mime:X,firstline:Be},this._warnOnOverwrite)}catch(Be){(0,Lt.dL)(Be)}}u.aliases.push(K);let se=null;if(void 0!==v.aliases&&Array.isArray(v.aliases)&&(se=0===v.aliases.length?[null]:v.aliases),null!==se)for(const xe of se)!xe||0===xe.length||u.aliases.push(xe);const me=null!==se&&se.length>0;if(!me||null!==se[0]){const xe=(me?se[0]:null)||K;(me||!u.name)&&(u.name=xe)}v.configuration&&u.configurationFiles.push(v.configuration),v.icon&&u.icons.push(v.icon)}isRegisteredLanguageId(u){return!!u&&Me.call(this._languages,u)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(u){const v=u.toLowerCase();return Me.call(this._lowercaseNameMap,v)?this._lowercaseNameMap[v]:null}getLanguageIdByMimeType(u){return u&&Me.call(this._mimeTypesMap,u)?this._mimeTypesMap[u]:null}guessLanguageIdByFilepathOrFirstLine(u,v){if(!u&&!v)return[];const K=function(w,c){let u;if(w)switch(w.scheme){case Ai.lg.file:u=w.fsPath;break;case Ai.lg.data:u=qa.Vb.parseMetaData(w).get(qa.Vb.META_DATA_LABEL);break;default:u=w.path}if(!u)return[Il.v.unknown];u=u.toLowerCase();const v=(0,ir.EZ)(u),K=Xe(u,v,Lu);if(K)return[K,Il.v.text];const X=Xe(u,v,Pl);if(X)return[X,Il.v.text];if(c){const se=function(w){if((0,nt.uS)(w)&&(w=w.substr(1)),w.length>0)for(let c=jr.length-1;c>=0;c--){const u=jr[c];if(!u.firstline)continue;const v=w.match(u.firstline);if(v&&v.length>0)return u.mime}}(c);if(se)return[se,Il.v.text]}return[Il.v.unknown]}(u,v);return(0,ni.kX)(K.map(X=>this.getLanguageIdByMimeType(X)))}}return w.instanceCount=0,w})(),gr=(()=>{class w extends Ge.JT{constructor(u=!1){super(),this._onDidEncounterLanguage=this._register(new Y.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new Y.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,w.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new zh(!0,u)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){w.instanceCount--,super.dispose()}isRegisteredLanguageId(u){return this._registry.isRegisteredLanguageId(u)}getLanguageIdByLanguageName(u){return this._registry.getLanguageIdByLanguageName(u)}getLanguageIdByMimeType(u){return this._registry.getLanguageIdByMimeType(u)}guessLanguageIdByFilepathOrFirstLine(u,v){const K=this._registry.guessLanguageIdByFilepathOrFirstLine(u,v);return(0,ni.Xh)(K,null)}createById(u){return new Ol(this.onDidChange,()=>this._createAndGetLanguageIdentifier(u))}createByFilepathOrFirstLine(u,v){return new Ol(this.onDidChange,()=>{const K=this.guessLanguageIdByFilepathOrFirstLine(u,v);return this._createAndGetLanguageIdentifier(K)})}_createAndGetLanguageIdentifier(u){return(!u||!this.isRegisteredLanguageId(u))&&(u=pt.bd),this._encounteredLanguages.has(u)||(this._encounteredLanguages.add(u),P.RW.getOrCreate(u),this._onDidEncounterLanguage.fire(u)),u}}return w.instanceCount=0,w})();class Ol{constructor(c,u){this._onDidChangeLanguages=c,this._selector=u,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new Y.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const c=this._selector();c!==this.languageId&&(this.languageId=c,this._emitter&&this._emitter.fire(this.languageId))}}var Dr=p(2886),Tl=p(47306),Ea=p(23945),Lc=p(60291),Mu=p(48727),Hn=p(19226),At=p(6491),Na=p(50955),qn=p(78968),It=p(42623);const os=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,qi=/(&amp;)?(&amp;)([^\s&])/g;var Te=(()=>(function(w){w[w.Right=0]="Right",w[w.Left=1]="Left"}(Te||(Te={})),Te))();class r extends Lc.o{constructor(c,u,v={}){c.classList.add("monaco-menu-container"),c.setAttribute("role","presentation");const K=document.createElement("div");K.classList.add("monaco-menu"),K.setAttribute("role","presentation"),super(K,{orientation:1,actionViewItemProvider:me=>this.doGetActionViewItem(me,v,X),context:v.context,actionRunner:v.actionRunner,ariaLabel:v.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...vt.dz||vt.IJ?[10]:[]],keyDown:!0}}),this.menuElement=K,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Ge.SL),this.initializeOrUpdateStyleSheet(c,{}),this._register(Ea.o.addTarget(K)),(0,_t.nm)(K,_t.tw.KEY_DOWN,me=>{new Ls.y(me).equals(2)&&me.preventDefault()}),v.enableMnemonics&&this.menuDisposables.add((0,_t.nm)(K,_t.tw.KEY_DOWN,me=>{const xe=me.key.toLocaleLowerCase();if(this.mnemonics.has(xe)){_t.zB.stop(me,!0);const Be=this.mnemonics.get(xe);if(1===Be.length&&(Be[0]instanceof _&&Be[0].container&&this.focusItemByElement(Be[0].container),Be[0].onClick(me)),Be.length>1){const je=Be.shift();je&&je.container&&(this.focusItemByElement(je.container),Be.push(je)),this.mnemonics.set(xe,Be)}}})),vt.IJ&&this._register((0,_t.nm)(K,_t.tw.KEY_DOWN,me=>{const xe=new Ls.y(me);xe.equals(14)||xe.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),_t.zB.stop(me,!0)):(xe.equals(13)||xe.equals(12))&&(this.focusedItem=0,this.focusPrevious(),_t.zB.stop(me,!0))})),this._register((0,_t.nm)(this.domNode,_t.tw.MOUSE_OUT,me=>{(0,_t.jg)(me.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),me.stopPropagation())})),this._register((0,_t.nm)(this.actionsList,_t.tw.MOUSE_OVER,me=>{let xe=me.target;if(xe&&(0,_t.jg)(xe,this.actionsList)&&xe!==this.actionsList){for(;xe.parentElement!==this.actionsList&&null!==xe.parentElement;)xe=xe.parentElement;if(xe.classList.contains("action-item")){const Be=this.focusedItem;this.setFocusedItem(xe),Be!==this.focusedItem&&this.updateFocus()}}})),this._register(Ea.o.addTarget(this.actionsList)),this._register((0,_t.nm)(this.actionsList,Ea.t.Tap,me=>{let xe=me.initialTarget;if(xe&&(0,_t.jg)(xe,this.actionsList)&&xe!==this.actionsList){for(;xe.parentElement!==this.actionsList&&null!==xe.parentElement;)xe=xe.parentElement;if(xe.classList.contains("action-item")){const Be=this.focusedItem;this.setFocusedItem(xe),Be!==this.focusedItem&&this.updateFocus()}}}));let X={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new At.s$(K,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const se=this.scrollableElement.getDomNode();se.style.position="",this._register((0,_t.nm)(K,Ea.t.Change,me=>{_t.zB.stop(me,!0);const xe=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:xe-me.translationY})})),this._register((0,_t.nm)(se,_t.tw.MOUSE_UP,me=>{me.preventDefault()})),K.style.maxHeight=`${Math.max(10,window.innerHeight-c.getBoundingClientRect().top-35)}px`,u=u.filter(me=>{var xe;return!(null===(xe=v.submenuIds)||void 0===xe?void 0:xe.has(me.id))||(console.warn(`Found submenu cycle: ${me.id}`),!1)}),this.push(u,{icon:!0,label:!0,isMenu:!0}),c.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(me=>!(me instanceof k)).forEach((me,xe,Be)=>{me.updatePositionInSet(xe+1,Be.length)})}initializeOrUpdateStyleSheet(c,u){this.styleSheet||((0,_t.OO)(c)?this.styleSheet=(0,_t.dS)(c):(r.globalStyleSheet||(r.globalStyleSheet=(0,_t.dS)()),this.styleSheet=r.globalStyleSheet)),this.styleSheet.textContent=function(w,c){let u=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${(0,Hn.a)(qn.lA.menuSelection)}\n${(0,Hn.a)(qn.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(c){u+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const v=w.scrollbarShadow;v&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${v} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${v} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${v} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const K=w.scrollbarSliderBackground;K&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${K};\n\t\t\t\t}\n\t\t\t`);const X=w.scrollbarSliderHoverBackground;X&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${X};\n\t\t\t\t}\n\t\t\t`);const se=w.scrollbarSliderActiveBackground;se&&(u+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${se};\n\t\t\t\t}\n\t\t\t`)}return u}(u,(0,_t.OO)(c))}style(c){const u=this.getContainer();this.initializeOrUpdateStyleSheet(u,c);const v=c.foregroundColor?`${c.foregroundColor}`:"",K=c.backgroundColor?`${c.backgroundColor}`:"",se=c.shadowColor?`0 2px 4px ${c.shadowColor}`:"";u.style.border=c.borderColor?`1px solid ${c.borderColor}`:"",this.domNode.style.color=v,this.domNode.style.backgroundColor=K,u.style.boxShadow=se,this.viewItems&&this.viewItems.forEach(me=>{(me instanceof l||me instanceof k)&&me.style(c)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(c){const u=this.focusedItem;this.setFocusedItem(c),u!==this.focusedItem&&this.updateFocus()}setFocusedItem(c){for(let u=0;u<this.actionsList.children.length;u++)if(c===this.actionsList.children[u]){this.focusedItem=u;break}}updateFocus(c){super.updateFocus(c,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(c,u,v){if(c instanceof Na.Z0)return new k(u.context,c,{icon:!0});if(c instanceof Na.wY){const K=new _(c,c.actions,v,Object.assign(Object.assign({},u),{submenuIds:new Set([...u.submenuIds||[],c.id])}));if(u.enableMnemonics){const X=K.getMnemonic();if(X&&K.isEnabled()){let se=[];this.mnemonics.has(X)&&(se=this.mnemonics.get(X)),se.push(K),this.mnemonics.set(X,se)}}return K}{const K={enableMnemonics:u.enableMnemonics,useEventAsContext:u.useEventAsContext};if(u.getKeyBinding){const se=u.getKeyBinding(c);if(se){const me=se.getLabel();me&&(K.keybinding=me)}}const X=new l(u.context,c,K);if(u.enableMnemonics){const se=X.getMnemonic();if(se&&X.isEnabled()){let me=[];this.mnemonics.has(se)&&(me=this.mnemonics.get(se)),me.push(X),this.mnemonics.set(se,me)}}return X}}}class l extends Mu.Y{constructor(c,u,v={}){if(v.isMenu=!0,super(u,u,v),this.options=v,this.options.icon=void 0!==v.icon&&v.icon,this.options.label=void 0===v.label||v.label,this.cssClass="",this.options.label&&v.enableMnemonics){let K=this.getAction().label;if(K){let X=os.exec(K);X&&(this.mnemonic=(X[1]?X[1]:X[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new mn.pY(()=>{!this.element||(this._register((0,_t.nm)(this.element,_t.tw.MOUSE_UP,K=>{if(_t.zB.stop(K,!0),Tl.isFirefox){if(new Dr.n(K).rightButton)return;this.onClick(K)}else setTimeout(()=>{this.onClick(K)},0)})),this._register((0,_t.nm)(this.element,_t.tw.CONTEXT_MENU,K=>{_t.zB.stop(K,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(c){super.render(c),this.element&&(this.container=c,this.item=(0,_t.R3)(this.element,(0,_t.$)("a.action-menu-item")),this._action.id===Na.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,_t.R3)(this.item,(0,_t.$)("span.menu-item-check"+qn.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,_t.R3)(this.item,(0,_t.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,_t.R3)(this.item,(0,_t.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(c,u){this.item&&(this.item.setAttribute("aria-posinset",`${c}`),this.item.setAttribute("aria-setsize",`${u}`))}updateLabel(){if(this.label&&this.options.label){(0,_t.PO)(this.label);let c=(0,It.x$)(this.getAction().label);if(c){const u=function(w){const c=os,u=c.exec(w);return u?w.replace(c,u[1]?"":"$2$3").trim():w}(c);this.options.enableMnemonics||(c=u),this.label.setAttribute("aria-label",u.replace(/&&/g,"&"));const v=os.exec(c);if(v){c=nt.YU(c),qi.lastIndex=0;let K=qi.exec(c);for(;K&&K[1];)K=qi.exec(c);const X=se=>se.replace(/&amp;&amp;/g,"&amp;");K?this.label.append(nt.j3(X(c.substr(0,K.index))," "),(0,_t.$)("u",{"aria-hidden":"true"},K[3]),nt.oL(X(c.substr(K.index+K[0].length))," ")):this.label.innerText=X(c).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(v[1]?v[1]:v[3]).toLocaleLowerCase())}else this.label.innerText=c.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const c=this.getAction().checked;this.item.classList.toggle("checked",!!c),void 0!==c?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",c?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const c=this.element&&this.element.classList.contains("focused"),u=c&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,v=c&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,K=c&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=u?u.toString():"",this.item.style.backgroundColor=v?v.toString():""),this.check&&(this.check.style.color=u?u.toString():""),this.container&&(this.container.style.border=K)}style(c){this.menuStyle=c,this.applyStyle()}}class _ extends l{constructor(c,u,v,K){super(c,c,K),this.submenuActions=u,this.parentData=v,this.submenuOptions=K,this.mysubmenu=null,this.submenuDisposables=this._register(new Ge.SL),this.mouseOver=!1,this.expandDirection=K&&void 0!==K.expandDirection?K.expandDirection:Te.Right,this.showScheduler=new mn.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new mn.pY(()=>{this.element&&!(0,_t.jg)((0,_t.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(c){super.render(c),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,_t.R3)(this.item,(0,_t.$)("span.submenu-indicator"+qn.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,_t.nm)(this.element,_t.tw.KEY_UP,u=>{let v=new Ls.y(u);(v.equals(17)||v.equals(3))&&(_t.zB.stop(u,!0),this.createSubmenu(!0))})),this._register((0,_t.nm)(this.element,_t.tw.KEY_DOWN,u=>{let v=new Ls.y(u);(0,_t.vY)()===this.item&&(v.equals(17)||v.equals(3))&&_t.zB.stop(u,!0)})),this._register((0,_t.nm)(this.element,_t.tw.MOUSE_OVER,u=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,_t.nm)(this.element,_t.tw.MOUSE_LEAVE,u=>{this.mouseOver=!1})),this._register((0,_t.nm)(this.element,_t.tw.FOCUS_OUT,u=>{this.element&&!(0,_t.jg)((0,_t.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(c){_t.zB.stop(c,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(c){if(this.parentData.submenu&&(c||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(c,u,v,K){const X={top:0,left:0};return X.left=la(c.width,u.width,{position:K===Te.Right?0:1,offset:v.left,size:v.width}),X.left>=v.left&&X.left<v.left+v.width&&(v.left+10+u.width<=c.width&&(X.left=v.left+10),v.top+=10,v.height=0),X.top=la(c.height,u.height,{position:0,offset:v.top,size:0}),X.top+u.height===v.top&&X.top+v.height+u.height<=c.height&&(X.top+=v.height),X}createSubmenu(c=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,_t.R3)(this.element,(0,_t.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const u=getComputedStyle(this.parentData.parent.domNode),v=parseFloat(u.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new r(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Na.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const K=this.element.getBoundingClientRect(),X={top:K.top-v,left:K.left,height:K.height+2*v,width:K.width},se=this.submenuContainer.getBoundingClientRect(),{top:me,left:xe}=this.calculateSubmenuMenuLayout(new _t.Ro(window.innerWidth,window.innerHeight),_t.Ro.lift(se),X,this.expandDirection);this.submenuContainer.style.left=xe-se.left+"px",this.submenuContainer.style.top=me-se.top+"px",this.submenuDisposables.add((0,_t.nm)(this.submenuContainer,_t.tw.KEY_UP,Be=>{new Ls.y(Be).equals(15)&&(_t.zB.stop(Be,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,_t.nm)(this.submenuContainer,_t.tw.KEY_DOWN,Be=>{new Ls.y(Be).equals(15)&&_t.zB.stop(Be,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(c),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(c){var u;this.item&&(null===(u=this.item)||void 0===u||u.setAttribute("aria-expanded",c))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const u=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=u?`${u}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class k extends Mu.g{style(c){this.label&&(this.label.style.borderBottomColor=c.separatorColor?`${c.separatorColor}`:"")}}p(94321);var we=p(905);class Le{constructor(c,u,v,K,X){this.contextViewService=c,this.telemetryService=u,this.notificationService=v,this.keybindingService=K,this.themeService=X,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(c){this.options=c}showContextMenu(c){const u=c.getActions();if(!u.length)return;this.focusToReturn=document.activeElement;let v,K=(0,_t.Re)(c.domForShadowRoot)?c.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>c.getAnchor(),canRelayout:!1,anchorAlignment:c.anchorAlignment,anchorAxisAlignment:c.anchorAxisAlignment,render:X=>{let se=c.getMenuClassName?c.getMenuClassName():"";se&&(X.className+=" "+se),this.options.blockMouse&&(this.block=X.appendChild((0,_t.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,_t.nm)(this.block,_t.tw.MOUSE_DOWN,Be=>Be.stopPropagation()));const me=new Ge.SL,xe=c.actionRunner||new Na.Wi;return xe.onBeforeRun(this.onActionRun,this,me),xe.onDidRun(this.onDidActionRun,this,me),v=new r(X,u,{actionViewItemProvider:c.getActionViewItem,context:c.getActionsContext?c.getActionsContext():null,actionRunner:xe,getKeyBinding:c.getKeyBinding?c.getKeyBinding:Be=>this.keybindingService.lookupKeybinding(Be.id)}),me.add((0,we.tj)(v,this.themeService)),v.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,me),v.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,me),me.add((0,_t.nm)(window,_t.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),me.add((0,_t.nm)(window,_t.tw.MOUSE_DOWN,Be=>{if(Be.defaultPrevented)return;let je=new Dr.n(Be),ft=je.target;if(!je.rightButton){for(;ft;){if(ft===X)return;ft=ft.parentElement}this.contextViewService.hideContextView(!0)}})),(0,Ge.F8)(me,v)},focus:()=>{v&&v.focus(!!c.autoSelectFirstItem)},onHide:X=>{c.onHide&&c.onHide(!!X),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},K,!!K)}onActionRun(c){this.telemetryService.publicLog2("workbenchActionExecuted",{id:c.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(c){c.error&&!(0,Lt.n2)(c.error)&&this.notificationService.error(c.error)}}var ze=function(w,c){return function(u,v){c(u,v,w)}};let qe=class extends Ge.JT{constructor(c,u,v,K,X){super(),this._onDidShowContextMenu=new Y.Q5,this._onDidHideContextMenu=new Y.Q5,this.contextMenuHandler=new Le(v,c,u,K,X)}configure(c){this.contextMenuHandler.configure(c)}showContextMenu(c){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},c),{onHide:u=>{c.onHide&&c.onHide(u),this._onDidHideContextMenu.fire()}})),_t._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};qe=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([ze(0,cd.b),ze(1,Vr.lT),ze(2,Ml.u),ze(3,ds.d),ze(4,ai.XE)],qe);var it=p(62253),bt=p(7272),Dt=(()=>(function(w){w[w.API=0]="API",w[w.USER=1]="USER"}(Dt||(Dt={})),Dt))(),Nt=p(23813),Ht=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X},cn=function(w,c){return function(u,v){c(u,v,w)}},en=function(w,c,u,v){return new(u||(u=Promise))(function(X,se){function me(je){try{Be(v.next(je))}catch(ft){se(ft)}}function xe(je){try{Be(v.throw(je))}catch(ft){se(ft)}}function Be(je){je.done?X(je.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(je.value).then(me,xe)}Be((v=v.apply(w,c||[])).next())})};let On=class{constructor(c){this._commandService=c}open(c,u){return en(this,void 0,void 0,function*(){if(!(0,Nt.xn)(c,Ai.lg.command))return!1;if(!(null==u?void 0:u.allowCommands))return!0;"string"==typeof c&&(c=M.o.parse(c));let v=[];try{v=(0,bt.Q)(decodeURIComponent(c.query))}catch{try{v=(0,bt.Q)(c.query)}catch{}}return Array.isArray(v)||(v=[v]),yield this._commandService.executeCommand(c.path,...v),!0})}};On=Ht([cn(0,ns.Hy)],On);let Vn=class{constructor(c){this._editorService=c}open(c,u){return en(this,void 0,void 0,function*(){"string"==typeof c&&(c=M.o.parse(c));const{selection:v,uri:K}=(0,Nt.xI)(c);return(c=K).scheme===Ai.lg.file&&(c=(0,qa.AH)(c)),yield this._editorService.openCodeEditor({resource:c,options:Object.assign({selection:v,source:(null==u?void 0:u.fromUserGesture)?Dt.USER:Dt.API},null==u?void 0:u.editorOptions)},this._editorService.getFocusedCodeEditor(),null==u?void 0:u.openToSide),!0})}};Vn=Ht([cn(0,Ne.$)],Vn);let Tn=class{constructor(c,u){this._openers=new it.S,this._validators=new it.S,this._resolvers=new it.S,this._resolvedUriTargets=new Ms.Y9(v=>v.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new it.S,this._defaultExternalOpener={openExternal:v=>en(this,void 0,void 0,function*(){return(0,Nt.Gs)(v,Ai.lg.http,Ai.lg.https)?_t.V3(v):window.location.href=v,!0})},this._openers.push({open:(v,K)=>en(this,void 0,void 0,function*(){return!(!(null==K?void 0:K.openExternal)&&!(0,Nt.Gs)(v,Ai.lg.mailto,Ai.lg.http,Ai.lg.https,Ai.lg.vsls)||(yield this._doOpenExternal(v,K),0))})}),this._openers.push(new On(u)),this._openers.push(new Vn(c))}registerOpener(c){return{dispose:this._openers.unshift(c)}}registerValidator(c){return{dispose:this._validators.push(c)}}registerExternalUriResolver(c){return{dispose:this._resolvers.push(c)}}setDefaultExternalOpener(c){this._defaultExternalOpener=c}registerExternalOpener(c){return{dispose:this._externalOpeners.push(c)}}open(c,u){var v;return en(this,void 0,void 0,function*(){const K="string"==typeof c?M.o.parse(c):c,X=null!==(v=this._resolvedUriTargets.get(K))&&void 0!==v?v:c;for(const se of this._validators)if(!(yield se.shouldOpen(X)))return!1;for(const se of this._openers)if(yield se.open(c,u))return!0;return!1})}resolveExternalUri(c,u){return en(this,void 0,void 0,function*(){for(const v of this._resolvers)try{const K=yield v.resolveExternalUri(c,u);if(K)return this._resolvedUriTargets.has(K.resolved)||this._resolvedUriTargets.set(K.resolved,c),K}catch{}throw new Error("Could not resolve external URI: "+c.toString())})}_doOpenExternal(c,u){return en(this,void 0,void 0,function*(){const v="string"==typeof c?M.o.parse(c):c;let K,X;try{K=(yield this.resolveExternalUri(v,u)).resolved}catch{K=v}if(X="string"==typeof c&&v.toString()===K.toString()?c:encodeURI(K.toString(!0)),null==u?void 0:u.allowContributedOpeners){const se="string"==typeof(null==u?void 0:u.allowContributedOpeners)?null==u?void 0:u.allowContributedOpeners:void 0;for(const me of this._externalOpeners)if(yield me.openExternal(X,{sourceUri:v,preferredOpenerId:se},g.T.None))return!0}return this._defaultExternalOpener.openExternal(X,{sourceUri:v},g.T.None)})}dispose(){this._validators.clear()}};Tn=Ht([cn(0,Ne.$),cn(1,ns.Hy)],Tn);var Rn=p(81622),En=p(79695),vn=p(98275),li=function(w,c){return function(u,v){c(u,v,w)}};class Mo extends Ge.JT{constructor(c){super(),this.model=c,this._markersData=new Map,this._register((0,Ge.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(c,u){const v=[...this._markersData.keys()];this._markersData.clear();const K=this.model.deltaDecorations(v,u);for(let X=0;X<K.length;X++)this._markersData.set(K[X],c[X]);return 0!==v.length||0!==K.length}getMarker(c){return this._markersData.get(c.id)}}let mo=class extends Ge.JT{constructor(c,u){super(),this._markerService=u,this._onDidChangeMarker=this._register(new Y.Q5),this._markerDecorations=new Ms.Y9,c.getModels().forEach(v=>this._onModelAdded(v)),this._register(c.onModelAdded(this._onModelAdded,this)),this._register(c.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(c=>c.dispose()),this._markerDecorations.clear()}getMarker(c,u){const v=this._markerDecorations.get(c);return v&&v.getMarker(u)||null}_handleMarkerChange(c){c.forEach(u=>{const v=this._markerDecorations.get(u);v&&this._updateDecorations(v)})}_onModelAdded(c){const u=new Mo(c);this._markerDecorations.set(c.uri,u),this._updateDecorations(u)}_onModelRemoved(c){const u=this._markerDecorations.get(c.uri);u&&(u.dispose(),this._markerDecorations.delete(c.uri)),(c.uri.scheme===Ai.lg.inMemory||c.uri.scheme===Ai.lg.internal||c.uri.scheme===Ai.lg.vscode)&&this._markerService&&this._markerService.read({resource:c.uri}).map(v=>v.owner).forEach(v=>this._markerService.remove(v,[c.uri]))}_updateDecorations(c){const u=this._markerService.read({resource:c.model.uri,take:500}),v=u.map(K=>({range:this._createDecorationRange(c.model,K),options:this._createDecorationOption(K)}));c.update(u,v)&&this._onDidChangeMarker.fire(c.model)}_createDecorationRange(c,u){let v=T.e.lift(u);if(u.severity===Rn.ZL.Hint&&!this._hasMarkerTag(u,1)&&!this._hasMarkerTag(u,2)&&(v=v.setEndPosition(v.startLineNumber,v.startColumn+2)),v=c.validateRange(v),v.isEmpty()){const K=c.getLineLastNonWhitespaceColumn(v.startLineNumber)||c.getLineMaxColumn(v.startLineNumber);if(1===K||v.endColumn>=K)return v;const X=c.getWordAtPosition(v.getStartPosition());X&&(v=new T.e(v.startLineNumber,X.startColumn,v.endLineNumber,X.endColumn))}else if(u.endColumn===Number.MAX_VALUE&&1===u.startColumn&&v.startLineNumber===v.endLineNumber){let K=c.getLineFirstNonWhitespaceColumn(u.startLineNumber);K<v.endColumn&&(v=new T.e(v.startLineNumber,K,v.endLineNumber,v.endColumn),u.startColumn=K)}return v}_createDecorationOption(c){let u,v,K,X,se;switch(c.severity){case Rn.ZL.Hint:u=this._hasMarkerTag(c,2)?void 0:this._hasMarkerTag(c,1)?"squiggly-unnecessary":"squiggly-hint",K=0;break;case Rn.ZL.Warning:u="squiggly-warning",v=(0,ai.EN)(En.Re),K=20,se={color:(0,ai.EN)(vn.Ivo),position:bn.F5.Inline};break;case Rn.ZL.Info:u="squiggly-info",v=(0,ai.EN)(En.eS),K=10;break;default:u="squiggly-error",v=(0,ai.EN)(En.lK),K=30,se={color:(0,ai.EN)(vn.Gj_),position:bn.F5.Inline}}return c.tags&&(-1!==c.tags.indexOf(1)&&(X="squiggly-inline-unnecessary"),-1!==c.tags.indexOf(2)&&(X="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:u,showIfCollapsed:!0,overviewRuler:{color:v,position:bn.sh.Right},minimap:se,zIndex:K,inlineClassName:X}}_hasMarkerTag(c,u){return!!c.tags&&c.tags.indexOf(u)>=0}};mo=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([li(0,zt.q),li(1,Rn.lT)],mo);var ss=p(64757),eo=p(18548),Uo=(p(33050),p(44346)),In=p(13976),Ns=p(44339),wi=p(81897);p(27943);const Yn={buttonBackground:wi.Il.fromHex("#0E639C"),buttonHoverBackground:wi.Il.fromHex("#006BB3"),buttonForeground:wi.Il.white};class vo extends Ge.JT{constructor(c,u){super(),this._onDidClick=this._register(new Y.Q5),this.options=u||Object.create(null),(0,Jo.jB)(this.options,Yn,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),c.appendChild(this._element),this._register(Ea.o.addTarget(this._element)),[_t.tw.CLICK,Ea.t.Tap].forEach(v=>{this._register((0,_t.nm)(this._element,v,K=>{this.enabled?this._onDidClick.fire(K):_t.zB.stop(K)}))}),this._register((0,_t.nm)(this._element,_t.tw.KEY_DOWN,v=>{const K=new Ls.y(v);let X=!1;this.enabled&&(K.equals(3)||K.equals(10))?(this._onDidClick.fire(v),X=!0):K.equals(9)&&(this._element.blur(),X=!0),X&&_t.zB.stop(K,!0)})),this._register((0,_t.nm)(this._element,_t.tw.MOUSE_OVER,v=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,_t.nm)(this._element,_t.tw.MOUSE_OUT,v=>{this.applyStyles()})),this.focusTracker=this._register((0,_t.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let c;c=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,c&&(this._element.style.backgroundColor=c)}style(c){this.buttonForeground=c.buttonForeground,this.buttonBackground=c.buttonBackground,this.buttonHoverBackground=c.buttonHoverBackground,this.buttonSecondaryForeground=c.buttonSecondaryForeground,this.buttonSecondaryBackground=c.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=c.buttonSecondaryHoverBackground,this.buttonBorder=c.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let c,u;this.options.secondary?(u=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",c=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(u=this.buttonForeground?this.buttonForeground.toString():"",c=this.buttonBackground?this.buttonBackground.toString():"");const v=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=u,this._element.style.backgroundColor=c,this._element.style.borderWidth=v?"1px":"",this._element.style.borderStyle=v?"solid":"",this._element.style.borderColor=v}}get element(){return this._element}set label(c){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,_t.mc)(this._element,...(0,Ns.T)(c)):this._element.textContent=c,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=c)}set enabled(c){c?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var Al=p(24061);p(38744);const Fi="infinite",Uh="infinite-long-running",wg="discrete",yg={progressBarBackground:wi.Il.fromHex("#0E70C0")};let da=(()=>{class w extends Ge.JT{constructor(u,v){super(),this.options=v||Object.create(null),(0,Jo.jB)(this.options,yg,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new mn.pY(()=>(0,_t.$Z)(this.element),0)),this.longRunningScheduler=this._register(new mn.pY(()=>this.infiniteLongRunning(),w.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(u)}create(u){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),u.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active",Fi,Uh,wg),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(u){return this.element.classList.add("done"),this.element.classList.contains(Fi)?(this.bit.style.opacity="0",u?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",u?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(wg,"done",Uh),this.element.classList.add("active",Fi),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Uh)}getContainer(){return this.element}style(u){this.progressBarBackground=u.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const u=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=u}}}return w.LONG_RUNNING_INFINITE_THRESHOLD=1e4,w})();var jh=p(90546);p(51684);const Du={},Sg=new jh.R("quick-input-button-icon-");function wd(w){if(!w)return;let c;const u=w.dark.toString();return Du[u]?c=Du[u]:(c=Sg.nextId(),_t.fk(`.${c}`,`background-image: ${_t.wY(w.light||w.dark)}`),_t.fk(`.vs-dark .${c}, .hc-black .${c}`,`background-image: ${_t.wY(w.dark)}`),Du[u]=c),c}var mr=p(55552),xg=p(39402);const Kh=_t.$;class Lg extends Ge.JT{constructor(c){super(),this.parent=c,this.onKeyDown=u=>_t.nm(this.inputBox.inputElement,_t.tw.KEY_DOWN,v=>{u(new Ls.y(v))}),this.onMouseDown=u=>_t.nm(this.inputBox.inputElement,_t.tw.MOUSE_DOWN,v=>{u(new Dr.n(v))}),this.onDidChange=u=>this.inputBox.onDidChange(u),this.container=_t.R3(this.parent,Kh(".quick-input-box")),this.inputBox=this._register(new xg.W(this.container,void 0))}get value(){return this.inputBox.value}set value(c){this.inputBox.value=c}select(c=null){this.inputBox.select(c)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(c){this.inputBox.setPlaceHolder(c)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(c){this.inputBox.setAriaLabel(c)}get password(){return"password"===this.inputBox.inputElement.type}set password(c){this.inputBox.inputElement.type=c?"password":"text"}setAttribute(c,u){this.inputBox.inputElement.setAttribute(c,u)}removeAttribute(c){this.inputBox.inputElement.removeAttribute(c)}showDecoration(c){c===cs.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:c===cs.Z.Info?1:c===cs.Z.Warning?2:3,content:""})}stylesForType(c){return this.inputBox.stylesForType(c===cs.Z.Info?1:c===cs.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(c){this.inputBox.style(c)}}var Eu=p(25601);p(97348);const Nu=_t.$;class Mg{constructor(c,u,v){this.os=u,this.keyElements=new Set,this.options=v||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=_t.R3(c,Nu(".monaco-keybinding")),this.didEverRender=!1,c.appendChild(this.domNode)}get element(){return this.domNode}set(c,u){this.didEverRender&&this.keybinding===c&&Mg.areSame(this.matches,u)||(this.keybinding=c,this.matches=u,this.render())}render(){if(this.clear(),this.keybinding){let[c,u]=this.keybinding.getParts();c&&this.renderPart(this.domNode,c,this.matches?this.matches.firstPart:null),u&&(_t.R3(this.domNode,Nu("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,u,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){_t.PO(this.domNode),this.keyElements.clear()}renderPart(c,u,v){const K=Ll.xo.modifierLabels[this.os];u.ctrlKey&&this.renderKey(c,K.ctrlKey,Boolean(null==v?void 0:v.ctrlKey),K.separator),u.shiftKey&&this.renderKey(c,K.shiftKey,Boolean(null==v?void 0:v.shiftKey),K.separator),u.altKey&&this.renderKey(c,K.altKey,Boolean(null==v?void 0:v.altKey),K.separator),u.metaKey&&this.renderKey(c,K.metaKey,Boolean(null==v?void 0:v.metaKey),K.separator);const X=u.keyLabel;X&&this.renderKey(c,X,Boolean(null==v?void 0:v.keyCode),"")}renderKey(c,u,v,K){_t.R3(c,this.createKeyElement(u,v?".highlight":"")),K&&_t.R3(c,Nu("span.monaco-keybinding-key-separator",void 0,K))}renderUnbound(c){_t.R3(c,this.createKeyElement((0,Jn.N)("unbound","Unbound")))}createKeyElement(c,u=""){const v=Nu("span.monaco-keybinding-key"+u,void 0,c);return this.keyElements.add(v),v}style(c){this.labelBackground=c.keybindingLabelBackground,this.labelForeground=c.keybindingLabelForeground,this.labelBorder=c.keybindingLabelBorder,this.labelBottomBorder=c.keybindingLabelBottomBorder,this.labelShadow=c.keybindingLabelShadow,this.applyStyles()}applyStyles(){var c;if(this.element){for(const u of this.keyElements)this.labelBackground&&(u.style.backgroundColor=null===(c=this.labelBackground)||void 0===c?void 0:c.toString()),this.labelBorder&&(u.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(u.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(u.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(c,u){return c===u||!c&&!u||!!c&&!!u&&(0,Jo.fS)(c.firstPart,u.firstPart)&&(0,Jo.fS)(c.chordPart,u.chordPart)}}const Dg=new mn.Ue(()=>{const w=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:w,collatorIsNumeric:w.resolvedOptions().numeric}});new mn.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new mn.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var rt=p(94456),Ws=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X};const Xo=_t.$;class Op{constructor(c){this.hidden=!1,this._onChecked=new Y.Q5,this.onChecked=this._onChecked.event,Object.assign(this,c)}get checked(){return!!this._checked}set checked(c){c!==this._checked&&(this._checked=c,this._onChecked.fire(c))}dispose(){this._onChecked.dispose()}}let Iu=(()=>{class w{get templateId(){return w.ID}renderTemplate(u){const v=Object.create(null);v.toDisposeElement=[],v.toDisposeTemplate=[],v.entry=_t.R3(u,Xo(".quick-input-list-entry"));const K=_t.R3(v.entry,Xo("label.quick-input-list-label"));v.toDisposeTemplate.push(_t.mu(K,_t.tw.CLICK,je=>{v.checkbox.offsetParent||je.preventDefault()})),v.checkbox=_t.R3(K,Xo("input.quick-input-list-checkbox")),v.checkbox.type="checkbox",v.toDisposeTemplate.push(_t.mu(v.checkbox,_t.tw.CHANGE,je=>{v.element.checked=v.checkbox.checked}));const X=_t.R3(K,Xo(".quick-input-list-rows")),se=_t.R3(X,Xo(".quick-input-list-row")),me=_t.R3(X,Xo(".quick-input-list-row"));v.label=new Eu.g(se,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const xe=_t.R3(se,Xo(".quick-input-list-entry-keybinding"));v.keybinding=new Mg(xe,vt.OS);const Be=_t.R3(me,Xo(".quick-input-list-label-meta"));return v.detail=new Eu.g(Be,{supportHighlights:!0,supportIcons:!0}),v.separator=_t.R3(v.entry,Xo(".quick-input-list-separator")),v.actionBar=new Lc.o(v.entry),v.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),v.toDisposeTemplate.push(v.actionBar),v}renderElement(u,v,K){K.toDisposeElement=(0,Ge.B9)(K.toDisposeElement),K.element=u,K.checkbox.checked=u.checked,K.toDisposeElement.push(u.onChecked(je=>K.checkbox.checked=je));const{labelHighlights:X,descriptionHighlights:se,detailHighlights:me}=u,xe=Object.create(null);xe.matches=X||[],xe.descriptionTitle=u.saneDescription,xe.descriptionMatches=se||[],xe.extraClasses=u.item.iconClasses,xe.italic=u.item.italic,xe.strikethrough=u.item.strikethrough,K.label.setLabel(u.saneLabel,u.saneDescription,xe),K.keybinding.set(u.item.keybinding),u.saneDetail&&K.detail.setLabel(u.saneDetail,void 0,{matches:me,title:u.saneDetail}),u.separator&&u.separator.label?(K.separator.textContent=u.separator.label,K.separator.style.display=""):K.separator.style.display="none",K.entry.classList.toggle("quick-input-list-separator-border",!!u.separator),K.actionBar.clear();const Be=u.item.buttons;Be&&Be.length?(K.actionBar.push(Be.map((je,ft)=>{let Jt=je.iconClass||(je.iconPath?wd(je.iconPath):void 0);je.alwaysVisible&&(Jt=Jt?`${Jt} always-visible`:"always-visible");const fn=new Na.aU(`id-${ft}`,"",Jt,!0,()=>function(w,c,u,v){return new(u||(u=Promise))(function(X,se){function me(je){try{Be(v.next(je))}catch(ft){se(ft)}}function xe(je){try{Be(v.throw(je))}catch(ft){se(ft)}}function Be(je){je.done?X(je.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(je.value).then(me,xe)}Be((v=v.apply(w,c||[])).next())})}(this,void 0,void 0,function*(){u.fireButtonTriggered({button:je,item:u.item})}));return fn.tooltip=je.tooltip||"",fn}),{icon:!0,label:!1}),K.entry.classList.add("has-actions")):K.entry.classList.remove("has-actions")}disposeElement(u,v,K){K.toDisposeElement=(0,Ge.B9)(K.toDisposeElement)}disposeTemplate(u){u.toDisposeElement=(0,Ge.B9)(u.toDisposeElement),u.toDisposeTemplate=(0,Ge.B9)(u.toDisposeTemplate)}}return w.ID="listelement",w})();class Tp{getHeight(c){return c.saneDetail?44:22}getTemplateId(c){return Iu.ID}}var Fo=(()=>(function(w){w[w.First=1]="First",w[w.Second=2]="Second",w[w.Last=3]="Last",w[w.Next=4]="Next",w[w.Previous=5]="Previous",w[w.NextPage=6]="NextPage",w[w.PreviousPage=7]="PreviousPage"}(Fo||(Fo={})),Fo))();class $h{constructor(c,u,v){this.parent=c,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Y.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Y.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Y.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Y.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Y.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Y.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Y.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=u,this.container=_t.R3(this.parent,Xo(".quick-input-list"));const K=new Tp,X=new Ap;this.list=v.createList("QuickInput",this.container,K,[new Iu],{identityProvider:{getId:se=>se.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:X}),this.list.getHTMLElement().id=u,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(se=>{const me=new Ls.y(se);switch(me.keyCode){case 10:this.toggleCheckbox();break;case 31:(vt.dz?se.metaKey:se.ctrlKey)&&this.list.setFocus((0,ni.w6)(this.list.length));break;case 16:{const xe=this.list.getFocus();1===xe.length&&0===xe[0]&&this._onLeave.fire();break}case 18:{const xe=this.list.getFocus();1===xe.length&&xe[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(me)})),this.disposables.push(this.list.onMouseDown(se=>{2!==se.browserEvent.button&&se.browserEvent.preventDefault()})),this.disposables.push(_t.nm(this.container,_t.tw.CLICK,se=>{(se.x||se.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(se=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(se=>{"number"==typeof se.index&&(se.browserEvent.preventDefault(),this.list.setSelection([se.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Y.ju.map(this.list.onDidChangeFocus,c=>c.elements.map(u=>u.item))}get onDidChangeSelection(){return Y.ju.map(this.list.onDidChangeSelection,c=>({items:c.elements.map(u=>u.item),event:c.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(c){this.list.scrollTop=c}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(c,u=!0){for(let v=0,K=c.length;v<K;v++){const X=c[v];if(!X.hidden){if(!X.checked)return!1;u=!0}}return u}getCheckedCount(){let c=0;const u=this.elements;for(let v=0,K=u.length;v<K;v++)u[v].checked&&c++;return c}getVisibleCount(){let c=0;const u=this.elements;for(let v=0,K=u.length;v<K;v++)u[v].hidden||c++;return c}setAllVisibleChecked(c){try{this._fireCheckedEvents=!1,this.elements.forEach(u=>{u.hidden||(u.checked=c)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(c){this.elementDisposables=(0,Ge.B9)(this.elementDisposables);const u=v=>this.fireButtonTriggered(v);this.inputElements=c,this.elements=c.reduce((v,K,X)=>{var se,me,xe;if("separator"!==K.type){const Be=X&&c[X-1],je=K.label&&K.label.replace(/\r?\n/g," "),ft=K.meta&&K.meta.replace(/\r?\n/g," "),Jt=K.description&&K.description.replace(/\r?\n/g," "),fn=K.detail&&K.detail.replace(/\r?\n/g," "),$n=K.ariaLabel||[je,Jt,fn].map(_i=>(0,qn.JL)(_i)).filter(_i=>!!_i).join(", "),Ii=this.parent.classList.contains("show-checkboxes");v.push(new Op({hasCheckbox:Ii,index:X,item:K,saneLabel:je,saneMeta:ft,saneAriaLabel:$n,saneDescription:Jt,saneDetail:fn,labelHighlights:null===(se=K.highlights)||void 0===se?void 0:se.label,descriptionHighlights:null===(me=K.highlights)||void 0===me?void 0:me.description,detailHighlights:null===(xe=K.highlights)||void 0===xe?void 0:xe.detail,checked:!1,separator:Be&&"separator"===Be.type?Be:void 0,fireButtonTriggered:u}))}return v},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(v=>v.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((v,K,X)=>(v.set(K.item,X),v),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(c=>c.item)}setFocusedElements(c){if(this.list.setFocus(c.filter(u=>this.elementsToIndexes.has(u)).map(u=>this.elementsToIndexes.get(u))),c.length>0){const u=this.list.getFocus()[0];"number"==typeof u&&this.list.reveal(u)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(c){this.list.setSelection(c.filter(u=>this.elementsToIndexes.has(u)).map(u=>this.elementsToIndexes.get(u)))}getCheckedElements(){return this.elements.filter(c=>c.checked).map(c=>c.item)}setCheckedElements(c){try{this._fireCheckedEvents=!1;const u=new Set;for(const v of c)u.add(v);for(const v of this.elements)v.checked=u.has(v.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(c){this.list.getHTMLElement().style.pointerEvents=c?"":"none"}focus(c){if(!this.list.length)return;switch(c===Fo.Next&&this.list.getFocus()[0]===this.list.length-1&&(c=Fo.First),c===Fo.Previous&&0===this.list.getFocus()[0]&&(c=Fo.Last),c===Fo.Second&&this.list.length<2&&(c=Fo.First),c){case Fo.First:this.list.focusFirst();break;case Fo.Second:this.list.focusNth(1);break;case Fo.Last:this.list.focusLast();break;case Fo.Next:this.list.focusNext();break;case Fo.Previous:this.list.focusPrevious();break;case Fo.NextPage:this.list.focusNextPage();break;case Fo.PreviousPage:this.list.focusPreviousPage()}const u=this.list.getFocus()[0];"number"==typeof u&&this.list.reveal(u)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(c){this.list.getHTMLElement().style.maxHeight=c?`calc(${44*Math.floor(c/44)}px)`:"",this.list.layout()}filter(c){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if((c=c.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let v;this.elements.forEach(K=>{const X=this.matchOnLabel?(0,dn.f6)((0,It.Gt)(c,(0,It.Ho)(K.saneLabel))):void 0,se=this.matchOnDescription?(0,dn.f6)((0,It.Gt)(c,(0,It.Ho)(K.saneDescription||""))):void 0,me=this.matchOnDetail?(0,dn.f6)((0,It.Gt)(c,(0,It.Ho)(K.saneDetail||""))):void 0,xe=this.matchOnMeta?(0,dn.f6)((0,It.Gt)(c,(0,It.Ho)(K.saneMeta||""))):void 0;if(X||se||me||xe?(K.labelHighlights=X,K.descriptionHighlights=se,K.detailHighlights=me,K.hidden=!1):(K.labelHighlights=void 0,K.descriptionHighlights=void 0,K.detailHighlights=void 0,K.hidden=!K.item.alwaysShow),K.separator=void 0,!this.sortByLabel){const Be=K.index&&this.inputElements[K.index-1];v=Be&&"separator"===Be.type?Be:v,v&&!K.hidden&&(K.separator=v,v=void 0)}})}else this.elements.forEach(v=>{v.labelHighlights=void 0,v.descriptionHighlights=void 0,v.detailHighlights=void 0,v.hidden=!1;const K=v.index&&this.inputElements[v.index-1];v.separator=K&&"separator"===K.type?K:void 0});const u=this.elements.filter(v=>!v.hidden);if(this.sortByLabel&&c){const v=c.toLowerCase();u.sort((K,X)=>function(w,c,u){const v=w.labelHighlights||[],K=c.labelHighlights||[];return v.length&&!K.length?-1:!v.length&&K.length?1:0===v.length&&0===K.length?0:function(w,c,u){const v=w.toLowerCase(),K=c.toLowerCase(),X=function(w,c,u){const v=w.toLowerCase(),K=c.toLowerCase(),X=v.startsWith(u),se=K.startsWith(u);if(X!==se)return X?-1:1;if(X&&se){if(v.length<K.length)return-1;if(v.length>K.length)return 1}return 0}(w,c,u);if(X)return X;const se=v.endsWith(u);if(se!==K.endsWith(u))return se?-1:1;const xe=function(w,c,u=!1){const v=w||"",K=c||"",X=Dg.value.collator.compare(v,K);return Dg.value.collatorIsNumeric&&0===X&&v!==K?v<K?-1:1:X}(v,K);return 0!==xe?xe:v.localeCompare(K)}(w.saneLabel,c.saneLabel,u)}(K,X,v))}return this.elementsToIndexes=u.reduce((v,K,X)=>(v.set(K.item,X),v),new Map),this.list.splice(0,this.list.length,u),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(u.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const c=this.list.getFocusedElements(),u=this.allVisibleChecked(c);for(const v of c)v.checked=!u}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(c){this.container.style.display=c?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,Ge.B9)(this.elementDisposables),this.disposables=(0,Ge.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(c){this._onButtonTriggered.fire(c)}style(c){this.list.style(c)}}Ws([rt.H],$h.prototype,"onDidChangeFocus",null),Ws([rt.H],$h.prototype,"onDidChangeSelection",null);class Ap{getWidgetAriaLabel(){return(0,Jn.N)("quickInput","Quick Input")}getAriaLabel(c){return c.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(c){return c.hasCheckbox?"checkbox":"option"}isChecked(c){if(c.hasCheckbox)return{value:c.checked,onDidChange:c.onChecked}}}var Fl=function(w,c,u,v){return new(u||(u=Promise))(function(X,se){function me(je){try{Be(v.next(je))}catch(ft){se(ft)}}function xe(je){try{Be(v.throw(je))}catch(ft){se(ft)}}function Be(je){je.done?X(je.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(je.value).then(me,xe)}Be((v=v.apply(w,c||[])).next())})};const vs=_t.$,Zn={iconClass:qn.lA.quickInputBack.classNames,tooltip:(0,Jn.N)("quickInput.back","Back"),handle:-1};class zn extends Ge.JT{constructor(c){super(),this.ui=c,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=zn.noPromptMessage,this._severity=cs.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Y.Q5),this.onDidHideEmitter=this._register(new Y.Q5),this.onDisposeEmitter=this._register(new Y.Q5),this.visibleDisposables=this._register(new Ge.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(c){this._title=c,this.update()}get description(){return this._description}set description(c){this._description=c,this.update()}get step(){return this._steps}set step(c){this._steps=c,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(c){this._totalSteps=c,this.update()}get enabled(){return this._enabled}set enabled(c){this._enabled=c,this.update()}get contextKey(){return this._contextKey}set contextKey(c){this._contextKey=c,this.update()}get busy(){return this._busy}set busy(c){this._busy=c,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(c){const u=this._ignoreFocusOut!==c&&!vt.gn;this._ignoreFocusOut=c&&!vt.gn,u&&this.update()}get buttons(){return this._buttons}set buttons(c){this._buttons=c,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(c){this._validationMessage=c,this.update()}get severity(){return this._severity}set severity(c){this._severity=c,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(c=>{-1!==this.buttons.indexOf(c)&&this.onDidTriggerButtonEmitter.fire(c)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(c=mr.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:c})}update(){if(!this.visible)return;const c=this.getTitle();c&&this.ui.title.textContent!==c?this.ui.title.textContent=c:!c&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const u=this.getDescription();if(this.ui.description1.textContent!==u&&(this.ui.description1.textContent=u),this.ui.description2.textContent!==u&&(this.ui.description2.textContent=u),this.busy&&!this.busyDelay&&(this.busyDelay=new mn._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const K=this.buttons.filter(se=>se===Zn);this.ui.leftActionBar.push(K.map((se,me)=>{const xe=new Na.aU(`id-${me}`,"",se.iconClass||wd(se.iconPath),!0,()=>Fl(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(se)}));return xe.tooltip=se.tooltip||"",xe}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const X=this.buttons.filter(se=>se!==Zn);this.ui.rightActionBar.push(X.map((se,me)=>{const xe=new Na.aU(`id-${me}`,"",se.iconClass||wd(se.iconPath),!0,()=>Fl(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(se)}));return xe.tooltip=se.tooltip||"",xe}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const v=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==v&&(this._lastValidationMessage=v,_t.mc(this.ui.message,...(0,Ns.T)(v))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,Jn.N)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(c){if(this.ui.inputBox.showDecoration(c),c!==cs.Z.Ignore){const u=this.ui.inputBox.stylesForType(c);this.ui.message.style.color=u.foreground?`${u.foreground}`:"",this.ui.message.style.backgroundColor=u.background?`${u.background}`:"",this.ui.message.style.border=u.border?`1px solid ${u.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}zn.noPromptMessage=(0,Jn.N)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Pu extends zn{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Y.Q5),this.onWillAcceptEmitter=this._register(new Y.Q5),this.onDidAcceptEmitter=this._register(new Y.Q5),this.onDidCustomEmitter=this._register(new Y.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?mr.jG.NONE:mr.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Y.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Y.Q5),this.onDidTriggerItemButtonEmitter=this._register(new Y.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=c=>c,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(c){this._quickNavigate=c,this.update()}get value(){return this._value}set value(c){this.doSetValue(c)}doSetValue(c,u){this._value!==c&&(this._value=c,u||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(c){this._ariaLabel=c,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(c){this._placeholder=c,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(c){this.ui.list.scrollTop=c}set items(c){this._items=c,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(c){this._canSelectMany=c,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(c){this._canAcceptInBackground=c}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(c){this._matchOnDescription=c,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(c){this._matchOnDetail=c,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(c){this._matchOnLabel=c,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(c){this._sortByLabel=c,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(c){this._autoFocusOnList=c,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(c){this._keepScrollPosition=c}get itemActivation(){return this._itemActivation}set itemActivation(c){this._itemActivation=c}get activeItems(){return this._activeItems}set activeItems(c){this._activeItems=c,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(c){this._selectedItems=c,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?mr.X5:this.ui.keyMods}set valueSelection(c){this._valueSelection=c,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(c){this._customButton=c,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(c){this._customButtonLabel=c,this.update()}get customHover(){return this._customButtonHover}set customHover(c){this._customButtonHover=c,this.update()}get ok(){return this._ok}set ok(c){this._ok=c,this.update()}get hideInput(){return!!this._hideInput}set hideInput(c){this._hideInput=c,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Fo.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(c=>{this.doSetValue(c,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(c=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(c=>{switch(c.keyCode){case 18:this.ui.list.focus(Fo.Next),this.canSelectMany&&this.ui.list.domFocus(),_t.zB.stop(c,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Fo.Previous):this.ui.list.focus(Fo.Last),this.canSelectMany&&this.ui.list.domFocus(),_t.zB.stop(c,!0);break;case 12:this.ui.list.focus(Fo.NextPage),this.canSelectMany&&this.ui.list.domFocus(),_t.zB.stop(c,!0);break;case 11:this.ui.list.focus(Fo.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),_t.zB.stop(c,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(c.ctrlKey||c.metaKey)&&!c.shiftKey&&!c.altKey&&(this.ui.list.focus(Fo.First),_t.zB.stop(c,!0));break;case 13:(c.ctrlKey||c.metaKey)&&!c.shiftKey&&!c.altKey&&(this.ui.list.focus(Fo.Last),_t.zB.stop(c,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(c=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,ni.fS)(c,this._activeItems,(u,v)=>u===v)||(this._activeItems=c,this.onDidChangeActiveEmitter.fire(c))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:c,event:u})=>{this.canSelectMany?c.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,ni.fS)(c,this._selectedItems,(v,K)=>v===K)||(this._selectedItems=c,this.onDidChangeSelectionEmitter.fire(c),c.length&&this.handleAccept(u instanceof MouseEvent&&1===u.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(c=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,ni.fS)(c,this._selectedItems,(u,v)=>u===v)||(this._selectedItems=c,this.onDidChangeSelectionEmitter.fire(c))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(c=>this.onDidTriggerItemButtonEmitter.fire(c))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(c){let u=!1;this.onWillAcceptEmitter.fire({veto:()=>u=!0}),u||this.onDidAcceptEmitter.fire({inBackground:c})}registerQuickNavigation(){return _t.nm(this.ui.container,_t.tw.KEY_UP,c=>{if(this.canSelectMany||!this._quickNavigate)return;const u=new Ls.y(c),v=u.keyCode;this._quickNavigate.keybindings.some(se=>{const[me,xe]=se.getParts();return!(xe||(me.shiftKey&&4===v?u.ctrlKey||u.altKey||u.metaKey:!(me.altKey&&6===v||me.ctrlKey&&5===v||me.metaKey&&57===v)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const c=this.keepScrollPosition?this.scrollTop:0,u=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",u&&!this.description);const v={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!u,progressBar:!u,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(v),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const K=this.ariaLabel||this.placeholder||Pu.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==K&&(this.ui.inputBox.ariaLabel=K),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case mr.jG.NONE:this._itemActivation=mr.jG.FIRST;break;case mr.jG.SECOND:this.ui.list.focus(Fo.Second),this._itemActivation=mr.jG.FIRST;break;case mr.jG.LAST:this.ui.list.focus(Fo.Last),this._itemActivation=mr.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),v.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Fo.First)),this.keepScrollPosition&&(this.scrollTop=c)}}Pu.DEFAULT_ARIA_LABEL=(0,Jn.N)("quickInputBox.ariaLabel","Type to narrow down results.");let Gh=(()=>{class w extends Ge.JT{constructor(u){super(),this.options=u,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Y.Q5),this.onDidCustomEmitter=this._register(new Y.Q5),this.onDidTriggerButtonEmitter=this._register(new Y.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Y.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Y.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=u.idPrefix,this.parentElement=u.container,this.styles=u.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const u=v=>{this.keyMods.ctrlCmd=v.ctrlKey||v.metaKey,this.keyMods.alt=v.altKey};this._register(_t.nm(window,_t.tw.KEY_DOWN,u,!0)),this._register(_t.nm(window,_t.tw.KEY_UP,u,!0)),this._register(_t.nm(window,_t.tw.MOUSE_DOWN,u,!0))}getUI(){if(this.ui)return this.ui;const u=_t.R3(this.parentElement,vs(".quick-input-widget.show-file-icons"));u.tabIndex=-1,u.style.display="none";const v=_t.dS(u),K=_t.R3(u,vs(".quick-input-titlebar")),X=this._register(new Lc.o(K));X.domNode.classList.add("quick-input-left-action-bar");const se=_t.R3(K,vs(".quick-input-title")),me=this._register(new Lc.o(K));me.domNode.classList.add("quick-input-right-action-bar");const xe=_t.R3(u,vs(".quick-input-description")),Be=_t.R3(u,vs(".quick-input-header")),je=_t.R3(Be,vs("input.quick-input-check-all"));je.type="checkbox",this._register(_t.mu(je,_t.tw.CHANGE,io=>{Or.setAllVisibleChecked(je.checked)})),this._register(_t.nm(je,_t.tw.CLICK,io=>{(io.x||io.y)&&$n.setFocus()}));const ft=_t.R3(Be,vs(".quick-input-description")),Jt=_t.R3(Be,vs(".quick-input-and-message")),fn=_t.R3(Jt,vs(".quick-input-filter")),$n=this._register(new Lg(fn));$n.setAttribute("aria-describedby",`${this.idPrefix}message`);const Ii=_t.R3(fn,vs(".quick-input-visible-count"));Ii.setAttribute("aria-live","polite"),Ii.setAttribute("aria-atomic","true");const _i=new Al.Z(Ii,{countFormat:(0,Jn.N)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),_o=_t.R3(fn,vs(".quick-input-count"));_o.setAttribute("aria-live","polite");const uo=new Al.Z(_o,{countFormat:(0,Jn.N)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),Hi=_t.R3(Be,vs(".quick-input-action")),Zi=new vo(Hi);Zi.label=(0,Jn.N)("ok","OK"),this._register(Zi.onDidClick(io=>{this.onDidAcceptEmitter.fire()}));const _r=_t.R3(Be,vs(".quick-input-action")),Ra=new vo(_r);Ra.label=(0,Jn.N)("custom","Custom"),this._register(Ra.onDidClick(io=>{this.onDidCustomEmitter.fire()}));const ks=_t.R3(Jt,vs(`#${this.idPrefix}message.quick-input-message`)),Or=this._register(new $h(u,this.idPrefix+"list",this.options));this._register(Or.onChangedAllVisibleChecked(io=>{je.checked=io})),this._register(Or.onChangedVisibleCount(io=>{_i.setCount(io)})),this._register(Or.onChangedCheckedCount(io=>{uo.setCount(io)})),this._register(Or.onLeave(()=>{setTimeout(()=>{$n.setFocus(),this.controller instanceof Pu&&this.controller.canSelectMany&&Or.clearFocus()},0)})),this._register(Or.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const no=new da(u);no.getContainer().classList.add("quick-input-progress");const as=_t.go(u);return this._register(as),this._register(_t.nm(u,_t.tw.FOCUS,io=>{this.previousFocusElement=io.relatedTarget instanceof HTMLElement?io.relatedTarget:void 0},!0)),this._register(as.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(mr.Jq.Blur),this.previousFocusElement=void 0})),this._register(_t.nm(u,_t.tw.FOCUS,io=>{$n.setFocus()})),this._register(_t.nm(u,_t.tw.KEY_DOWN,io=>{const sr=new Ls.y(io);switch(sr.keyCode){case 3:_t.zB.stop(io,!0),this.onDidAcceptEmitter.fire();break;case 9:_t.zB.stop(io,!0),this.hide(mr.Jq.Gesture);break;case 2:if(!sr.altKey&&!sr.ctrlKey&&!sr.metaKey){const Rd=[".action-label.codicon"];u.classList.contains("show-checkboxes")?Rd.push("input"):Rd.push("input[type=text]"),this.getUI().list.isDisplayed()&&Rd.push(".monaco-list");const ll=u.querySelectorAll(Rd.join(", "));sr.shiftKey&&sr.target===ll[0]?(_t.zB.stop(io,!0),ll[ll.length-1].focus()):!sr.shiftKey&&sr.target===ll[ll.length-1]&&(_t.zB.stop(io,!0),ll[0].focus())}}})),this.ui={container:u,styleSheet:v,leftActionBar:X,titleBar:K,title:se,description1:xe,description2:ft,rightActionBar:me,checkAll:je,filterContainer:fn,inputBox:$n,visibleCountContainer:Ii,visibleCount:_i,countContainer:_o,count:uo,okContainer:Hi,ok:Zi,message:ks,customButtonContainer:_r,customButton:Ra,list:Or,progressBar:no,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:io=>this.show(io),hide:()=>this.hide(),setVisibilities:io=>this.setVisibilities(io),setComboboxAccessibility:io=>this.setComboboxAccessibility(io),setEnabled:io=>this.setEnabled(io),setContextKey:io=>this.options.setContextKey(io)},this.updateStyles(),this.ui}pick(u,v={},K=g.T.None){return new Promise((X,se)=>{let me=ft=>{me=X,v.onKeyMods&&v.onKeyMods(xe.keyMods),X(ft)};if(K.isCancellationRequested)return void me(void 0);const xe=this.createQuickPick();let Be;const je=[xe,xe.onDidAccept(()=>{if(xe.canSelectMany)me(xe.selectedItems.slice()),xe.hide();else{const ft=xe.activeItems[0];ft&&(me(ft),xe.hide())}}),xe.onDidChangeActive(ft=>{const Jt=ft[0];Jt&&v.onDidFocus&&v.onDidFocus(Jt)}),xe.onDidChangeSelection(ft=>{if(!xe.canSelectMany){const Jt=ft[0];Jt&&(me(Jt),xe.hide())}}),xe.onDidTriggerItemButton(ft=>v.onDidTriggerItemButton&&v.onDidTriggerItemButton(Object.assign(Object.assign({},ft),{removeItem:()=>{const Jt=xe.items.indexOf(ft.item);if(-1!==Jt){const fn=xe.items.slice(),$n=fn.splice(Jt,1),Ii=xe.activeItems.filter(_o=>_o!==$n[0]),_i=xe.keepScrollPosition;xe.keepScrollPosition=!0,xe.items=fn,Ii&&(xe.activeItems=Ii),xe.keepScrollPosition=_i}}}))),xe.onDidChangeValue(ft=>{Be&&!ft&&(1!==xe.activeItems.length||xe.activeItems[0]!==Be)&&(xe.activeItems=[Be])}),K.onCancellationRequested(()=>{xe.hide()}),xe.onDidHide(()=>{(0,Ge.B9)(je),me(void 0)})];xe.title=v.title,xe.canSelectMany=!!v.canPickMany,xe.placeholder=v.placeHolder,xe.ignoreFocusOut=!!v.ignoreFocusLost,xe.matchOnDescription=!!v.matchOnDescription,xe.matchOnDetail=!!v.matchOnDetail,xe.matchOnLabel=void 0===v.matchOnLabel||v.matchOnLabel,xe.autoFocusOnList=void 0===v.autoFocusOnList||v.autoFocusOnList,xe.quickNavigate=v.quickNavigate,xe.contextKey=v.contextKey,xe.busy=!0,Promise.all([u,v.activeItem]).then(([ft,Jt])=>{Be=Jt,xe.busy=!1,xe.items=ft,xe.canSelectMany&&(xe.selectedItems=ft.filter(fn=>"separator"!==fn.type&&fn.picked)),Be&&(xe.activeItems=[Be])}),xe.show(),Promise.resolve(u).then(void 0,ft=>{se(ft),xe.hide()})})}createQuickPick(){const u=this.getUI();return new Pu(u)}show(u){const v=this.getUI();this.onShowEmitter.fire();const K=this.controller;this.controller=u,K&&K.didHide(),this.setEnabled(!0),v.leftActionBar.clear(),v.title.textContent="",v.description1.textContent="",v.description2.textContent="",v.rightActionBar.clear(),v.checkAll.checked=!1,v.inputBox.placeholder="",v.inputBox.password=!1,v.inputBox.showDecoration(cs.Z.Ignore),v.visibleCount.setCount(0),v.count.setCount(0),_t.mc(v.message),v.progressBar.stop(),v.list.setElements([]),v.list.matchOnDescription=!1,v.list.matchOnDetail=!1,v.list.matchOnLabel=!0,v.list.sortByLabel=!0,v.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),v.inputBox.ariaLabel="";const X=this.options.backKeybindingLabel();Zn.tooltip=X?(0,Jn.N)("quickInput.backWithKeybinding","Back ({0})",X):(0,Jn.N)("quickInput.back","Back"),v.container.style.display="",this.updateLayout(),v.inputBox.setFocus()}setVisibilities(u){const v=this.getUI();v.title.style.display=u.title?"":"none",v.description1.style.display=u.description&&(u.inputBox||u.checkAll)?"":"none",v.description2.style.display=!u.description||u.inputBox||u.checkAll?"none":"",v.checkAll.style.display=u.checkAll?"":"none",v.filterContainer.style.display=u.inputBox?"":"none",v.visibleCountContainer.style.display=u.visibleCount?"":"none",v.countContainer.style.display=u.count?"":"none",v.okContainer.style.display=u.ok?"":"none",v.customButtonContainer.style.display=u.customButton?"":"none",v.message.style.display=u.message?"":"none",v.progressBar.getContainer().style.display=u.progressBar?"":"none",v.list.display(!!u.list),v.container.classList[u.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(u){if(u!==this.comboboxAccessibility){const v=this.getUI();this.comboboxAccessibility=u,this.comboboxAccessibility?(v.inputBox.setAttribute("role","combobox"),v.inputBox.setAttribute("aria-haspopup","true"),v.inputBox.setAttribute("aria-autocomplete","list"),v.inputBox.setAttribute("aria-activedescendant",v.list.getActiveDescendant()||"")):(v.inputBox.removeAttribute("role"),v.inputBox.removeAttribute("aria-haspopup"),v.inputBox.removeAttribute("aria-autocomplete"),v.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(u){if(u!==this.enabled){this.enabled=u;for(const v of this.getUI().leftActionBar.viewItems)v.getAction().enabled=u;for(const v of this.getUI().rightActionBar.viewItems)v.getAction().enabled=u;this.getUI().checkAll.disabled=!u,this.getUI().ok.enabled=u,this.getUI().list.enabled=u}}hide(u){var v;const K=this.controller;if(K){const X=!(null===(v=this.ui)||void 0===v?void 0:v.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!X){let se=this.previousFocusElement;for(;se&&!se.offsetParent;)se=(0,dn.f6)(se.parentElement);(null==se?void 0:se.offsetParent)?(se.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}K.didHide(u)}}layout(u,v){this.dimension=u,this.titleBarOffset=v,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const u=this.ui.container.style,v=Math.min(.62*this.dimension.width,w.MAX_WIDTH);u.width=v+"px",u.marginLeft="-"+v/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(u){this.styles=u,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:u,quickInputBackground:v,quickInputForeground:K,contrastBorder:X,widgetShadow:se}=this.styles.widget;this.ui.titleBar.style.backgroundColor=u?u.toString():"",this.ui.container.style.backgroundColor=v?v.toString():"",this.ui.container.style.color=K?K.toString():"",this.ui.container.style.border=X?`1px solid ${X}`:"",this.ui.container.style.boxShadow=se?`0 0 8px 2px ${se}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const me=[];this.styles.list.pickerGroupBorder&&me.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&me.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(me.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&me.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&me.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&me.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&me.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&me.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),me.push("}"));const xe=me.join("\n");xe!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=xe)}}}return w.MAX_WIDTH=600,w})();var Qh=p(68526),Yh=p(16811),Mc=p(76183),Dc=p(43413),Ng=function(w,c){return function(u,v){c(u,v,w)}};let yd=class extends Ge.JT{constructor(c,u){super(),this.quickInputService=c,this.instantiationService=u,this.registry=La.B.as(Mc.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(c="",u){this.doShowOrPick(c,!1,u)}doShowOrPick(c,u,v){var K;const[X,se]=this.getOrInstantiateProvider(c),me=this.visibleQuickAccess,xe=null==me?void 0:me.descriptor;if(me&&se&&xe===se)return c!==se.prefix&&!(null==v?void 0:v.preserveValue)&&(me.picker.value=c),void this.adjustValueSelection(me.picker,se,v);if(se&&!(null==v?void 0:v.preserveValue)){let fn;if(me&&xe&&xe!==se){const $n=me.value.substr(xe.prefix.length);$n&&(fn=`${se.prefix}${$n}`)}if(!fn){const $n=null==X?void 0:X.defaultFilterValue;$n===Mc.Ry.LAST?fn=this.lastAcceptedPickerValues.get(se):"string"==typeof $n&&(fn=`${se.prefix}${$n}`)}"string"==typeof fn&&(c=fn)}const Be=new Ge.SL,je=Be.add(this.quickInputService.createQuickPick());let ft;je.value=c,this.adjustValueSelection(je,se,v),je.placeholder=null==se?void 0:se.placeholder,je.quickNavigate=null==v?void 0:v.quickNavigateConfiguration,je.hideInput=!!je.quickNavigate&&!me,("number"==typeof(null==v?void 0:v.itemActivation)||(null==v?void 0:v.quickNavigateConfiguration))&&(je.itemActivation=null!==(K=null==v?void 0:v.itemActivation)&&void 0!==K?K:Dc.jG.SECOND),je.contextKey=null==se?void 0:se.contextKey,je.filterValue=fn=>fn.substring(se?se.prefix.length:0),(null==se?void 0:se.placeholder)&&(je.ariaLabel=null==se?void 0:se.placeholder),u&&(ft=new mn.CR,Be.add((0,Yh.I)(je.onWillAccept)(fn=>{fn.veto(),je.hide()}))),Be.add(this.registerPickerListeners(je,X,se,c));const Jt=Be.add(new g.A);return X&&Be.add(X.provide(je,Jt.token)),(0,Yh.I)(je.onDidHide)(()=>{0===je.selectedItems.length&&Jt.cancel(),Be.dispose(),null==ft||ft.complete(je.selectedItems.slice(0))}),je.show(),u?null==ft?void 0:ft.p:void 0}adjustValueSelection(c,u,v){var K;let X;X=(null==v?void 0:v.preserveValue)?[c.value.length,c.value.length]:[null!==(K=null==u?void 0:u.prefix.length)&&void 0!==K?K:0,c.value.length],c.valueSelection=X}registerPickerListeners(c,u,v,K){const X=new Ge.SL,se=this.visibleQuickAccess={picker:c,descriptor:v,value:K};return X.add((0,Ge.OF)(()=>{se===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),X.add(c.onDidChangeValue(me=>{const[xe]=this.getOrInstantiateProvider(me);xe!==u?this.show(me,{preserveValue:!0}):se.value=me})),v&&X.add(c.onDidAccept(()=>{this.lastAcceptedPickerValues.set(v,c.value)})),X}getOrInstantiateProvider(c){const u=this.registry.getQuickAccessProvider(c);if(!u)return[void 0,void 0];let v=this.mapProviderToDescriptor.get(u);return v||(v=this.instantiationService.createInstance(u.ctor),this.mapProviderToDescriptor.set(u,v)),[v,u]}};yd=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([Ng(0,Dc.eJ),Ng(1,ts.TG)],yd);var Sd=function(w,c){return function(u,v){c(u,v,w)}};let Ec=class extends ai.bB{constructor(c,u,v,K,X){super(v),this.instantiationService=c,this.contextKeyService=u,this.accessibilityService=K,this.layoutService=X,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(yd))),this._quickAccess}createController(c=this.layoutService,u){var v,K;const X={idPrefix:"quickInput_",container:c.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:me=>this.setContextKey(me),returnFocus:()=>c.focus(),createList:(me,xe,Be,je,ft)=>this.instantiationService.createInstance(Qh.ev,me,xe,Be,je,ft),styles:this.computeStyles()},se=this._register(new Gh(Object.assign(Object.assign({},X),u)));return se.layout(c.dimension,null!==(K=null===(v=c.offset)||void 0===v?void 0:v.top)&&void 0!==K?K:0),this._register(c.onDidLayout(me=>{var xe,Be;return se.layout(me,null!==(Be=null===(xe=c.offset)||void 0===xe?void 0:xe.top)&&void 0!==Be?Be:0)})),this._register(se.onShow(()=>this.resetContextKeys())),this._register(se.onHide(()=>this.resetContextKeys())),se}setContextKey(c){let u;c&&(u=this.contexts.get(c),u||(u=new bo.uy(c,!1).bindTo(this.contextKeyService),this.contexts.set(c,u))),(!u||!u.get())&&(this.resetContextKeys(),u&&u.set(!0))}resetContextKeys(){this.contexts.forEach(c=>{c.get()&&c.reset()})}pick(c,u={},v=g.T.None){return this.controller.pick(c,u,v)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,we.o)(this.theme,{quickInputBackground:vn.zKr,quickInputForeground:vn.tZ6,quickInputTitleBackground:vn.loF,contrastBorder:vn.lRK,widgetShadow:vn.rh})),inputBox:(0,we.o)(this.theme,{inputForeground:vn.zJb,inputBackground:vn.sEe,inputBorder:vn.dt_,inputValidationInfoBackground:vn._lC,inputValidationInfoForeground:vn.YI3,inputValidationInfoBorder:vn.EPQ,inputValidationWarningBackground:vn.RV_,inputValidationWarningForeground:vn.SUG,inputValidationWarningBorder:vn.C3g,inputValidationErrorBackground:vn.paE,inputValidationErrorForeground:vn._t9,inputValidationErrorBorder:vn.OZR}),countBadge:(0,we.o)(this.theme,{badgeBackground:vn.g8u,badgeForeground:vn.qeD,badgeBorder:vn.lRK}),button:(0,we.o)(this.theme,{buttonForeground:vn.j5u,buttonBackground:vn.b7$,buttonHoverBackground:vn.GO4,buttonBorder:vn.lRK}),progressBar:(0,we.o)(this.theme,{progressBarBackground:vn.zRJ}),keybindingLabel:(0,we.o)(this.theme,{keybindingLabelBackground:vn.oQ$,keybindingLabelForeground:vn.lWp,keybindingLabelBorder:vn.AWI,keybindingLabelBottomBorder:vn.K19,keybindingLabelShadow:vn.rh}),list:(0,we.o)(this.theme,{listBackground:vn.zKr,listInactiveFocusForeground:vn.NPS,listInactiveSelectionIconForeground:vn.cbQ,listInactiveFocusBackground:vn.Vqd,listFocusOutline:vn.xL1,listInactiveFocusOutline:vn.xL1,pickerGroupBorder:vn.opG,pickerGroupForeground:vn.kJk})}}};Ec=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([Sd(0,ts.TG),Sd(1,bo.i6),Sd(2,ai.XE),Sd(3,In.F),Sd(4,hr)],Ec);var ku=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X},Bo=function(w,c){return function(u,v){c(u,v,w)}};let gs=class extends Ec{constructor(c,u,v,K,X,se){super(u,v,K,X,new Wr(c.getContainerDomNode(),se)),this.host=void 0;const me=Do.get(c);if(me){const xe=me.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return xe.getDomNode()},get dimension(){return c.getLayoutInfo()},get onDidLayout(){return c.onDidLayoutChange},focus:()=>c.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};gs=ku([Bo(1,ts.TG),Bo(2,bo.i6),Bo(3,ai.XE),Bo(4,In.F),Bo(5,Ne.$)],gs);let Bl=class{constructor(c,u){this.instantiationService=c,this.codeEditorService=u,this.mapEditorToService=new Map}get activeService(){const c=this.codeEditorService.getFocusedCodeEditor();if(!c)throw new Error("Quick input service needs a focused editor to work.");let u=this.mapEditorToService.get(c);if(!u){const v=u=this.instantiationService.createInstance(gs,c);this.mapEditorToService.set(c,u),(0,Yh.I)(c.onDidDispose)(()=>{v.dispose(),this.mapEditorToService.delete(c)})}return u}get quickAccess(){return this.activeService.quickAccess}pick(c,u={},v=g.T.None){return this.activeService.pick(c,u,v)}createQuickPick(){return this.activeService.createQuickPick()}};Bl=ku([Bo(0,ts.TG),Bo(1,Ne.$)],Bl);let Do=(()=>{class w{constructor(u){this.editor=u,this.widget=new Jh(this.editor)}static get(u){return u.getContribution(w.ID)}dispose(){this.widget.dispose()}}return w.ID="editor.controller.quickInput",w})(),Jh=(()=>{class w{constructor(u){this.codeEditor=u,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return w.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return w.ID="editor.contrib.quickInputWidget",w})();(0,Uo._K)(Do.ID,Do);class Bp{constructor(c,u,v,K,X){this._parsedThemeRuleBrand=void 0,this.token=c,this.index=u,this.fontStyle=v,this.foreground=K,this.background=X}}const Wp=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class Wl{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(c){if(null===c)return 0;const u=c.match(Wp);if(!u)throw new Error("Illegal value for token color: "+c);c=u[1].toUpperCase();let v=this._color2id.get(c);return v||(v=++this._lastColorId,this._color2id.set(c,v),this._id2color[v]=wi.Il.fromHex("#"+c),v)}getColorMap(){return this._id2color.slice(0)}}class Pg{constructor(c,u){this._colorMap=c,this._root=u,this._cache=new Map}static createFromRawTokenTheme(c,u){return this.createFromParsedTokenTheme(function(w){if(!w||!Array.isArray(w))return[];const c=[];let u=0;for(let v=0,K=w.length;v<K;v++){const X=w[v];let se=-1;if("string"==typeof X.fontStyle){se=0;const Be=X.fontStyle.split(" ");for(let je=0,ft=Be.length;je<ft;je++)switch(Be[je]){case"italic":se|=1;break;case"bold":se|=2;break;case"underline":se|=4;break;case"strikethrough":se|=8}}let me=null;"string"==typeof X.foreground&&(me=X.foreground);let xe=null;"string"==typeof X.background&&(xe=X.background),c[u++]=new Bp(X.token||"",v,se,me,xe)}return c}(c),u)}static createFromParsedTokenTheme(c,u){return function(w,c){w.sort((je,ft)=>{const Jt=function(w,c){return w<c?-1:w>c?1:0}(je.token,ft.token);return 0!==Jt?Jt:je.index-ft.index});let u=0,v="000000",K="ffffff";for(;w.length>=1&&""===w[0].token;){const je=w.shift();-1!==je.fontStyle&&(u=je.fontStyle),null!==je.foreground&&(v=je.foreground),null!==je.background&&(K=je.background)}const X=new Wl;for(let je of c)X.getId(je);const se=X.getId(v),me=X.getId(K),xe=new Ou(u,se,me),Be=new Vl(xe);for(let je=0,ft=w.length;je<ft;je++){const Jt=w[je];Be.insert(Jt.token,Jt.fontStyle,X.getId(Jt.foreground),X.getId(Jt.background))}return new Pg(X,Be)}(c,u)}getColorMap(){return this._colorMap.getColorMap()}_match(c){return this._root.match(c)}match(c,u){let v=this._cache.get(u);if(void 0===v){const K=this._match(u),X=function(w){const c=w.match(Vp);if(!c)return 0;switch(c[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(u);v=(K.metadata|X<<8)>>>0,this._cache.set(u,v)}return(v|c<<0)>>>0}}const Vp=/\b(comment|string|regex|regexp)\b/;class Ou{constructor(c,u,v){this._themeTrieElementRuleBrand=void 0,this._fontStyle=c,this._foreground=u,this._background=v,this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}clone(){return new Ou(this._fontStyle,this._foreground,this._background)}acceptOverwrite(c,u,v){-1!==c&&(this._fontStyle=c),0!==u&&(this._foreground=u),0!==v&&(this._background=v),this.metadata=(this._fontStyle<<10|this._foreground<<14|this._background<<23)>>>0}}class Vl{constructor(c){this._themeTrieElementBrand=void 0,this._mainRule=c,this._children=new Map}match(c){if(""===c)return this._mainRule;const u=c.indexOf(".");let v,K;-1===u?(v=c,K=""):(v=c.substring(0,u),K=c.substring(u+1));const X=this._children.get(v);return void 0!==X?X.match(K):this._mainRule}insert(c,u,v,K){if(""===c)return void this._mainRule.acceptOverwrite(u,v,K);const X=c.indexOf(".");let se,me;-1===X?(se=c,me=""):(se=c.substring(0,X),me=c.substring(X+1));let xe=this._children.get(se);void 0===xe&&(xe=new Vl(this._mainRule.clone()),this._children.set(se,xe)),xe.insert(me,u,v,K)}}const Hl={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[vn.cvW]:"#FFFFFE",[vn.NOs]:"#000000",[vn.ES4]:"#E5EBF1",[En.tR]:"#D3D3D3",[En.Ym]:"#939393",[vn.Rzx]:"#ADD6FF4D"}},zp={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[vn.cvW]:"#1E1E1E",[vn.NOs]:"#D4D4D4",[vn.ES4]:"#3A3D41",[En.tR]:"#404040",[En.Ym]:"#707070",[vn.Rzx]:"#ADD6FF26"}},Up={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[vn.cvW]:"#000000",[vn.NOs]:"#FFFFFF",[En.tR]:"#FFFFFF",[En.Ym]:"#FFFFFF"}};var Pa=p(76804),Tu=p(80974);class kg{getIcon(c){const u=(0,Tu.Ks)();let v=c.defaults;for(;ai.kS.isThemeIcon(v);){const K=u.getIcon(v.id);if(!K)return;v=K.defaults}return v}}const zl="vs",Au="vs-dark",Ic="hc-black",qh=La.B.as(vn.IPX.ColorContribution),Og=La.B.as(ai.IP.ThemingContribution);class Pc{constructor(c,u){this.semanticHighlighting=!1,this.themeData=u;const v=u.base;c.length>0?(this.id=qo(c)?c:v+" "+c,this.themeName=c):(this.id=v,this.themeName=v),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const c=new Map;for(let u in this.themeData.colors)c.set(u,wi.Il.fromHex(this.themeData.colors[u]));if(this.themeData.inherit){const u=Ki(this.themeData.base);for(let v in u.colors)c.has(v)||c.set(v,wi.Il.fromHex(u.colors[v]))}this.colors=c}return this.colors}getColor(c,u){return this.getColors().get(c)||(!1!==u?this.getDefault(c):void 0)}getDefault(c){let u=this.defaultColors[c];return u||(u=qh.resolveDefaultColor(c,this),this.defaultColors[c]=u,u)}defines(c){return Object.prototype.hasOwnProperty.call(this.getColors(),c)}get type(){switch(this.base){case zl:return Pa.e.LIGHT;case Ic:return Pa.e.HIGH_CONTRAST;default:return Pa.e.DARK}}get tokenTheme(){if(!this._tokenTheme){let c=[],u=[];if(this.themeData.inherit){const X=Ki(this.themeData.base);c=X.rules,X.encodedTokensColors&&(u=X.encodedTokensColors)}const v=this.themeData.colors["editor.foreground"],K=this.themeData.colors["editor.background"];if(v||K){const X={token:""};v&&(X.foreground=v),K&&(X.background=K),c.push(X)}c=c.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(u=this.themeData.encodedTokensColors),this._tokenTheme=Pg.createFromRawTokenTheme(c,u)}return this._tokenTheme}getTokenStyleMetadata(c,u,v){const X=this.tokenTheme._match([c].concat(u).join(".")).metadata,se=P.NX.getForeground(X),me=P.NX.getFontStyle(X);return{foreground:se,italic:Boolean(1&me),bold:Boolean(2&me),underline:Boolean(4&me),strikethrough:Boolean(8&me)}}}function qo(w){return w===zl||w===Au||w===Ic}function Ki(w){switch(w){case zl:return Hl;case Au:return zp;case Ic:return Up}}function Ru(w){const c=Ki(w);return new Pc(w,c)}var Nr=p(92094),el=function(w,c){return function(u,v){c(u,v,w)}};let ka=class extends Ge.JT{constructor(c,u){super(),this._contextKeyService=c,this._configurationService=u,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Y.Q5,this._accessibilityModeEnabledContext=In.U.bindTo(this._contextKeyService);const v=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(K=>{K.affectsConfiguration("editor.accessibilitySupport")&&(v(),this._onDidChangeScreenReaderOptimized.fire())})),v(),this.onDidChangeScreenReaderOptimized(()=>v())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const c=this._configurationService.getValue("editor.accessibilitySupport");return"on"===c||"auto"===c&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};ka=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([el(0,bo.i6),el(1,fs.Ui)],ka);var rs=p(46842),Ag=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X},Fu=function(w,c){return function(u,v){c(u,v,w)}};let Bu=class{constructor(c){this._commandService=c}createMenu(c,u,v){return new Wu(c,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},v),this._commandService,u,this)}};Bu=Ag([Fu(0,ns.Hy)],Bu);let Wu=class Ah{constructor(c,u,v,K,X){this._id=c,this._options=u,this._commandService=v,this._contextKeyService=K,this._menuService=X,this._disposables=new Ge.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const se=new mn.pY(()=>{this._build(),this._onDidChange.fire(this)},u.eventDebounceDelay);this._disposables.add(se),this._disposables.add(rs.BH.onDidChangeMenu(Be=>{Be.has(c)&&se.schedule()}));const me=this._disposables.add(new Ge.SL);this._onDidChange=new Y.Q5({onFirstListenerAdd:()=>{const Be=new mn.pY(()=>this._onDidChange.fire(this),u.eventDebounceDelay);me.add(Be),me.add(K.onDidChangeContext(je=>{je.affectsSome(this._contextKeys)&&Be.schedule()}))},onLastListenerRemove:me.clear.bind(me)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const c=rs.BH.getMenuItems(this._id);let u;c.sort(Ah._compareMenuItems);for(const v of c){const K=v.group||"";(!u||u[0]!==K)&&(u=[K,[]],this._menuGroups.push(u)),u[1].push(v),this._collectContextKeys(v)}}_collectContextKeys(c){Ah._fillInKbExprKeys(c.when,this._contextKeys),(0,rs.vr)(c)?(c.command.precondition&&Ah._fillInKbExprKeys(c.command.precondition,this._contextKeys),c.command.toggled&&Ah._fillInKbExprKeys(c.command.toggled.condition||c.command.toggled,this._contextKeys)):this._options.emitEventsForSubmenuChanges&&rs.BH.getMenuItems(c.submenu).forEach(this._collectContextKeys,this)}getActions(c){const u=[];for(let v of this._menuGroups){const[K,X]=v,se=[];for(const me of X)if(this._contextKeyService.contextMatchesRules(me.when)){const xe=(0,rs.vr)(me)?new rs.U8(me.command,me.alt,c,this._contextKeyService,this._commandService):new rs.NZ(me,this._menuService,this._contextKeyService,c);se.push(xe)}se.length>0&&u.push([K,se])}return u}static _fillInKbExprKeys(c,u){if(c)for(let v of c.keys())u.add(v)}static _compareMenuItems(c,u){let v=c.group,K=u.group;if(v!==K){if(!v)return 1;if(!K)return-1;if("navigation"===v)return-1;if("navigation"===K)return 1;let me=v.localeCompare(K);if(0!==me)return me}let X=c.order||0,se=u.order||0;return X<se?-1:X>se?1:Ah._compareTitles((0,rs.vr)(c)?c.command.title:c.title,(0,rs.vr)(u)?u.command.title:u.title)}static _compareTitles(c,u){return("string"==typeof c?c:c.original).localeCompare("string"==typeof u?u:u.original)}};Wu=Ag([Fu(2,ns.Hy),Fu(3,bo.i6),Fu(4,rs.co)],Wu);var nf=function(w,c){return function(u,v){c(u,v,w)}},Vu=function(w,c,u,v){return new(u||(u=Promise))(function(X,se){function me(je){try{Be(v.next(je))}catch(ft){se(ft)}}function xe(je){try{Be(v.throw(je))}catch(ft){se(ft)}}function Be(je){je.done?X(je.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(je.value).then(me,xe)}Be((v=v.apply(w,c||[])).next())})};let of=class extends Ge.JT{constructor(c,u){super(),this.layoutService=c,this.logService=u,this.mapTextToType=new Map,this.findText="",(Tl.isSafari||Tl.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const c=()=>{const u=new mn.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=u,navigator.clipboard.write([new ClipboardItem({"text/plain":u.p})]).catch(v=>Vu(this,void 0,void 0,function*(){(!(v instanceof Error)||"NotAllowedError"!==v.name||!u.isRejected)&&this.logService.error(v)}))};this.layoutService.hasContainer&&(this._register((0,_t.nm)(this.layoutService.container,"click",c)),this._register((0,_t.nm)(this.layoutService.container,"keydown",c)))}writeText(c,u){return Vu(this,void 0,void 0,function*(){if(u)return void this.mapTextToType.set(u,c);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(c);try{return yield navigator.clipboard.writeText(c)}catch(X){console.error(X)}const v=document.activeElement,K=document.body.appendChild((0,_t.$)("textarea",{"aria-hidden":!0}));K.style.height="1px",K.style.width="1px",K.style.position="absolute",K.value=c,K.focus(),K.select(),document.execCommand("copy"),v instanceof HTMLElement&&v.focus(),document.body.removeChild(K)})}readText(c){return Vu(this,void 0,void 0,function*(){if(c)return this.mapTextToType.get(c)||"";try{return yield navigator.clipboard.readText()}catch(u){return console.error(u),""}})}readFindText(){return Vu(this,void 0,void 0,function*(){return this.findText})}writeFindText(c){return Vu(this,void 0,void 0,function*(){this.findText=c})}};of=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([nf(0,hr),nf(1,Co.VZ)],of);var Rg=p(37323),tl=p(58151);const Ir="data-keybinding-context";class sf{constructor(c,u){this._id=c,this._parent=u,this._value=Object.create(null),this._value._contextId=c}setValue(c,u){return this._value[c]!==u&&(this._value[c]=u,!0)}removeValue(c){return c in this._value&&(delete this._value[c],!0)}getValue(c){const u=this._value[c];return void 0===u&&this._parent?this._parent.getValue(c):u}}class ua extends sf{constructor(){super(-1,null)}setValue(c,u){return!1}removeValue(c){return!1}getValue(c){}}ua.INSTANCE=new ua;let Kp=(()=>{class w extends sf{constructor(u,v,K){super(u,null),this._configurationService=v,this._values=Ms.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(X=>{if(6===X.source){const se=Array.from(tl.$.map(this._values,([me])=>me));this._values.clear(),K.fire(new Xr(se))}else{const se=[];for(const me of X.affectedKeys){const xe=`config.${me}`,Be=this._values.findSuperstr(xe);void 0!==Be&&(se.push(...tl.$.map(Be,([je])=>je)),this._values.deleteSuperstr(xe)),this._values.has(xe)&&(se.push(xe),this._values.delete(xe))}K.fire(new Xr(se))}})}dispose(){this._listener.dispose()}getValue(u){if(0!==u.indexOf(w._keyPrefix))return super.getValue(u);if(this._values.has(u))return this._values.get(u);const v=u.substr(w._keyPrefix.length),K=this._configurationService.getValue(v);let X;switch(typeof K){case"number":case"boolean":case"string":X=K;break;default:X=Array.isArray(K)?JSON.stringify(K):K}return this._values.set(u,X),X}setValue(u,v){return super.setValue(u,v)}removeValue(u){return super.removeValue(u)}}return w._keyPrefix="config.",w})();class kc{constructor(c,u,v){this._service=c,this._key=u,this._defaultValue=v,this.reset()}set(c){this._service.setContext(this._key,c)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class $i{constructor(c){this.key=c}affectsSome(c){return c.has(this.key)}}class Xr{constructor(c){this.keys=c}affectsSome(c){for(const u of this.keys)if(c.has(u))return!0;return!1}}class Bg{constructor(c){this.events=c}affectsSome(c){for(const u of this.events)if(u.affectsSome(c))return!0;return!1}}class Wg{constructor(c){this._onDidChangeContext=new Y.K3({merge:u=>new Bg(u)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=c}createKey(c,u){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new kc(this,c,u)}bufferChangeEvents(c){this._onDidChangeContext.pause();try{c()}finally{this._onDidChangeContext.resume()}}createScoped(c){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Vs(this,c)}contextMatchesRules(c){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const u=this.getContextValuesContainer(this._myContextId);return!c||c.evaluate(u)}getContextKeyValue(c){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(c)}setContext(c,u){if(this._isDisposed)return;const v=this.getContextValuesContainer(this._myContextId);!v||v.setValue(c,u)&&this._onDidChangeContext.fire(new $i(c))}removeContext(c){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(c)&&this._onDidChangeContext.fire(new $i(c))}getContext(c){return this._isDisposed?ua.INSTANCE:this.getContextValuesContainer(function(w){for(;w;){if(w.hasAttribute(Ir)){const c=w.getAttribute(Ir);return c?parseInt(c,10):NaN}w=w.parentElement}return 0}(c))}}let Hu=class extends Wg{constructor(c){super(0),this._contexts=new Map,this._toDispose=new Ge.SL,this._lastContextId=0;const u=new Kp(this._myContextId,c,this._onDidChangeContext);this._contexts.set(this._myContextId,u),this._toDispose.add(u)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(c){return this._isDisposed?ua.INSTANCE:this._contexts.get(c)||ua.INSTANCE}createChildContext(c=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let u=++this._lastContextId;return this._contexts.set(u,new sf(u,this.getContextValuesContainer(c))),u}disposeContext(c){this._isDisposed||this._contexts.delete(c)}};Hu=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X}([function(w,c){return function(u,v){c(u,v,0)}}(0,fs.Ui)],Hu);class Vs extends Wg{constructor(c,u){if(super(c.createChildContext()),this._parentChangeListener=new Ge.XK,this._parent=c,this._updateParentChangeListener(),this._domNode=u,this._domNode.hasAttribute(Ir)){let v="";this._domNode.classList&&(v=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(v?": "+v:""))}this._domNode.setAttribute(Ir,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(Ir),this._isDisposed=!0)}getContextValuesContainer(c){return this._isDisposed?ua.INSTANCE:this._parent.getContextValuesContainer(c)}createChildContext(c=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(c)}disposeContext(c){this._isDisposed||this._parent.disposeContext(c)}}ns.P0.registerCommand(bo.Eq,function(w,c,u){w.get(bo.i6).createKey(String(c),u)}),ns.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...bo.uy.all()].sort((w,c)=>w.key.localeCompare(c.key)),description:{description:(0,Jn.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),ns.P0.registerCommand("_generateContextKeyInfo",function(){const w=[],c=new Set;for(let u of bo.uy.all())c.has(u.key)||(c.add(u.key),w.push(u));w.sort((u,v)=>u.key.localeCompare(v.key)),console.log(JSON.stringify(w,void 0,2))});var ha=p(24286);class Zp{constructor(c){this.incoming=new Map,this.outgoing=new Map,this.data=c}}class Vg{constructor(c){this._hashFn=c,this._nodes=new Map}roots(){const c=[];for(let u of this._nodes.values())0===u.outgoing.size&&c.push(u);return c}insertEdge(c,u){const v=this.lookupOrInsertNode(c),K=this.lookupOrInsertNode(u);v.outgoing.set(this._hashFn(u),K),K.incoming.set(this._hashFn(c),v)}removeNode(c){const u=this._hashFn(c);this._nodes.delete(u);for(let v of this._nodes.values())v.outgoing.delete(u),v.incoming.delete(u)}lookupOrInsertNode(c){const u=this._hashFn(c);let v=this._nodes.get(u);return v||(v=new Zp(c),this._nodes.set(u,v)),v}isEmpty(){return 0===this._nodes.size}toString(){let c=[];for(let[u,v]of this._nodes)c.push(`${u}, (incoming)[${[...v.incoming.keys()].join(", ")}], (outgoing)[${[...v.outgoing.keys()].join(",")}]`);return c.join("\n")}findCycleSlow(){for(let[c,u]of this._nodes){const v=new Set([c]),K=this._findCycle(u,v);if(K)return K}}_findCycle(c,u){for(let[v,K]of c.outgoing){if(u.has(v))return[...u,v].join(" -> ");u.add(v);const X=this._findCycle(K,u);if(X)return X;u.delete(v)}}}var Hg=p(9771);class zg extends Error{constructor(c){var u;super("cyclic dependency between services"),this.message=null!==(u=c.findCycleSlow())&&void 0!==u?u:`UNABLE to detect cycle, dumping graph: \n${c.toString()}`}}class fa{constructor(c=new Hg.y,u=!1,v){this._activeInstantiations=new Set,this._services=c,this._strict=u,this._parent=v,this._services.set(ts.TG,this)}createChild(c){return new fa(c,this._strict,this)}invokeFunction(c,...u){let v=Pr.traceInvocation(c),K=!1;try{return c({get:se=>{if(K)throw(0,Lt.L6)("service accessor is only valid during the invocation of its target method");const me=this._getOrCreateServiceInstance(se,v);if(!me)throw new Error(`[invokeFunction] unknown service '${se}'`);return me}},...u)}finally{K=!0,v.stop()}}createInstance(c,...u){let v,K;return c instanceof ha.M?(v=Pr.traceCreation(c.ctor),K=this._createInstance(c.ctor,c.staticArguments.concat(u),v)):(v=Pr.traceCreation(c),K=this._createInstance(c,u,v)),v.stop(),K}_createInstance(c,u=[],v){let K=ts.I8.getServiceDependencies(c).sort((me,xe)=>me.index-xe.index),X=[];for(const me of K){let xe=this._getOrCreateServiceInstance(me.id,v);xe||this._throwIfStrict(`[createInstance] ${c.name} depends on UNKNOWN service ${me.id}.`,!1),X.push(xe)}let se=K.length>0?K[0].index:u.length;if(u.length!==se){console.warn(`[createInstance] First service dependency of ${c.name} at position ${se+1} conflicts with ${u.length} static arguments`);let me=se-u.length;u=me>0?u.concat(new Array(me)):u.slice(0,se)}return new c(...[...u,...X])}_setServiceInstance(c,u){if(this._services.get(c)instanceof ha.M)this._services.set(c,u);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(c,u)}}_getServiceInstanceOrDescriptor(c){let u=this._services.get(c);return!u&&this._parent?this._parent._getServiceInstanceOrDescriptor(c):u}_getOrCreateServiceInstance(c,u){let v=this._getServiceInstanceOrDescriptor(c);return v instanceof ha.M?this._safeCreateAndCacheServiceInstance(c,v,u.branch(c,!0)):(u.branch(c,!1),v)}_safeCreateAndCacheServiceInstance(c,u,v){if(this._activeInstantiations.has(c))throw new Error(`illegal state - RECURSIVELY instantiating service '${c}'`);this._activeInstantiations.add(c);try{return this._createAndCacheServiceInstance(c,u,v)}finally{this._activeInstantiations.delete(c)}}_createAndCacheServiceInstance(c,u,v){const K=new Vg(me=>me.id.toString());let X=0;const se=[{id:c,desc:u,_trace:v}];for(;se.length;){const me=se.pop();if(K.lookupOrInsertNode(me),X++>1e3)throw new zg(K);for(let xe of ts.I8.getServiceDependencies(me.desc.ctor)){let Be=this._getServiceInstanceOrDescriptor(xe.id);if(Be||this._throwIfStrict(`[createInstance] ${c} depends on ${xe.id} which is NOT registered.`,!0),Be instanceof ha.M){const je={id:xe.id,desc:Be,_trace:me._trace.branch(xe.id,!0)};K.insertEdge(me,je),se.push(je)}}}for(;;){const me=K.roots();if(0===me.length){if(!K.isEmpty())throw new zg(K);break}for(const{data:xe}of me){if(this._getServiceInstanceOrDescriptor(xe.id)instanceof ha.M){const je=this._createServiceInstanceWithOwner(xe.id,xe.desc.ctor,xe.desc.staticArguments,xe.desc.supportsDelayedInstantiation,xe._trace);this._setServiceInstance(xe.id,je)}K.removeNode(xe)}}return this._getServiceInstanceOrDescriptor(c)}_createServiceInstanceWithOwner(c,u,v=[],K,X){if(this._services.get(c)instanceof ha.M)return this._createServiceInstance(u,v,K,X);if(this._parent)return this._parent._createServiceInstanceWithOwner(c,u,v,K,X);throw new Error(`illegalState - creating UNKNOWN service instance ${u.name}`)}_createServiceInstance(c,u=[],v,K){if(v){const X=new mn.Ue(()=>this._createInstance(c,u,K));return new Proxy(Object.create(null),{get(se,me){if(me in se)return se[me];let xe=X.value,Be=xe[me];return"function"!=typeof Be||(Be=Be.bind(xe),se[me]=Be),Be},set:(se,me,xe)=>(X.value[me]=xe,!0)})}return this._createInstance(c,u,K)}_throwIfStrict(c,u){if(u&&console.warn(u),this._strict)throw new Error(c)}}class Pr{constructor(c,u){this.type=c,this.name=u,this._start=Date.now(),this._dep=[]}static traceInvocation(c){return Pr._None}static traceCreation(c){return Pr._None}branch(c,u){let v=new Pr(2,c.toString());return this._dep.push([c,u,v]),v}stop(){let c=Date.now()-this._start;Pr._totals+=c;let u=!1,K=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function v(X,se){let me=[],xe=new Array(X+1).join("\t");for(const[Be,je,ft]of se._dep)if(je&&ft){u=!0,me.push(`${xe}CREATES -> ${Be}`);let Jt=v(X+1,ft);Jt&&me.push(Jt)}else me.push(`${xe}uses -> ${Be}`);return me.join("\n")}(1,this)}`,`DONE, took ${c.toFixed(2)}ms (grand total ${Pr._totals.toFixed(2)}ms)`];(c>2||u)&&console.log(K.join("\n"))}}Pr._None=new class extends Pr{constructor(){super(-1,null)}stop(){}branch(){return this}},Pr._totals=0;class qr{constructor(){this._byResource=new Ms.Y9,this._byOwner=new Map}set(c,u,v){let K=this._byResource.get(c);K||(K=new Map,this._byResource.set(c,K)),K.set(u,v);let X=this._byOwner.get(u);X||(X=new Ms.Y9,this._byOwner.set(u,X)),X.set(c,v)}get(c,u){let v=this._byResource.get(c);return null==v?void 0:v.get(u)}delete(c,u){let v=!1,K=!1,X=this._byResource.get(c);X&&(v=X.delete(u));let se=this._byOwner.get(u);if(se&&(K=se.delete(c)),v!==K)throw new Error("illegal state");return v&&K}values(c){var u,v,K,X;return"string"==typeof c?null!==(v=null===(u=this._byOwner.get(c))||void 0===u?void 0:u.values())&&void 0!==v?v:tl.$.empty():M.o.isUri(c)?null!==(X=null===(K=this._byResource.get(c))||void 0===K?void 0:K.values())&&void 0!==X?X:tl.$.empty():tl.$.map(tl.$.concat(...this._byOwner.values()),se=>se[1])}}class Gp{constructor(c){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ms.Y9,this._service=c,this._subscription=c.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(c){for(const u of c){const v=this._data.get(u);v&&this._substract(v);const K=this._resourceStats(u);this._add(K),this._data.set(u,K)}}_resourceStats(c){const u={errors:0,warnings:0,infos:0,unknowns:0};if(c.scheme===Ai.lg.inMemory||c.scheme===Ai.lg.walkThrough||c.scheme===Ai.lg.walkThroughSnippet)return u;for(const{severity:v}of this._service.read({resource:c}))v===Rn.ZL.Error?u.errors+=1:v===Rn.ZL.Warning?u.warnings+=1:v===Rn.ZL.Info?u.infos+=1:u.unknowns+=1;return u}_substract(c){this.errors-=c.errors,this.warnings-=c.warnings,this.infos-=c.infos,this.unknowns-=c.unknowns}_add(c){this.errors+=c.errors,this.warnings+=c.warnings,this.infos+=c.infos,this.unknowns+=c.unknowns}}class jl{constructor(){this._onMarkerChanged=new Y.D0({delay:0,merge:jl._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new qr,this._stats=new Gp(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(c,u){for(const v of u||[])this.changeOne(c,v,[])}changeOne(c,u,v){if((0,ni.XY)(v))this._data.delete(u,c)&&this._onMarkerChanged.fire([u]);else{const K=[];for(const X of v){const se=jl._toMarker(c,u,X);se&&K.push(se)}this._data.set(u,c,K),this._onMarkerChanged.fire([u])}}static _toMarker(c,u,v){let{code:K,severity:X,message:se,source:me,startLineNumber:xe,startColumn:Be,endLineNumber:je,endColumn:ft,relatedInformation:Jt,tags:fn}=v;if(se)return xe=xe>0?xe:1,Be=Be>0?Be:1,je=je>=xe?je:xe,ft=ft>0?ft:Be,{resource:u,owner:c,code:K,severity:X,message:se,source:me,startLineNumber:xe,startColumn:Be,endLineNumber:je,endColumn:ft,relatedInformation:Jt,tags:fn}}read(c=Object.create(null)){let{owner:u,resource:v,severities:K,take:X}=c;if((!X||X<0)&&(X=-1),u&&v){const se=this._data.get(v,u);if(se){const me=[];for(const xe of se)if(jl._accept(xe,K)){const Be=me.push(xe);if(X>0&&Be===X)break}return me}return[]}if(u||v){const se=this._data.values(v??u),me=[];for(const xe of se)for(const Be of xe)if(jl._accept(Be,K)){const je=me.push(Be);if(X>0&&je===X)return me}return me}{const se=[];for(let me of this._data.values())for(let xe of me)if(jl._accept(xe,K)){const Be=se.push(xe);if(X>0&&Be===X)return se}return se}}static _accept(c,u){return void 0===u||(u&c.severity)===c.severity}static _merge(c){const u=new Ms.Y9;for(let v of c)for(let K of v)u.set(K,!0);return Array.from(u.keys())}}var Ug=p(58070);function rf(w,c,u,v,K){if(Array.isArray(w)){let X=0;for(const se of w){const me=rf(se,c,u,v,K);if(10===me)return me;me>X&&(X=me)}return X}if("string"==typeof w)return v?"*"===w?5:w===u?10:0:0;if(w){const{language:X,pattern:se,scheme:me,hasAccessToAllModels:xe,notebookType:Be}=w;if(!v&&!xe)return 0;let je=0;if(me)if(me===c.scheme)je=10;else{if("*"!==me)return 0;je=5}if(X)if(X===u)je=10;else{if("*"!==X)return 0;je=Math.max(je,5)}if(Be)if(Be===K)je=10;else{if("*"!==Be)return 0;je=Math.max(je,5)}if(se){let ft;if(ft="string"==typeof se?se:Object.assign(Object.assign({},se),{base:(0,ir.Fv)(se.base)}),ft!==c.fsPath&&!function(w,c,u){return!(!w||"string"!=typeof c)&&ca(w)(c,void 0,void 0)}(ft,c.fsPath))return 0;je=10}return je}return 0}function jg(w){return"string"!=typeof w&&(Array.isArray(w)?w.every(jg):!!w.exclusive)}class Wo{constructor(c){this._notebookTypeResolver=c,this._clock=0,this._entries=[],this._onDidChange=new Y.Q5,this.onDidChange=this._onDidChange.event}register(c,u){let v={selector:c,provider:u,_score:-1,_time:this._clock++};return this._entries.push(v),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,Ge.OF)(()=>{if(v){const K=this._entries.indexOf(v);K>=0&&(this._entries.splice(K,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),v=void 0)}})}has(c){return this.all(c).length>0}all(c){if(!c)return[];this._updateScores(c);const u=[];for(let v of this._entries)v._score>0&&u.push(v.provider);return u}ordered(c){const u=[];return this._orderedForEach(c,v=>u.push(v.provider)),u}orderedGroups(c){const u=[];let v,K;return this._orderedForEach(c,X=>{v&&K===X._score?v.push(X.provider):(K=X._score,v=[X.provider],u.push(v))}),u}_orderedForEach(c,u){if(c){this._updateScores(c);for(const v of this._entries)v._score>0&&u(v)}}_updateScores(c){var u;const v=null===(u=this._notebookTypeResolver)||void 0===u?void 0:u.call(this,c.uri),K={uri:c.uri.toString(),language:c.getLanguageId(),notebookType:v};if(!this._lastCandidate||this._lastCandidate.language!==K.language||this._lastCandidate.uri!==K.uri||this._lastCandidate.notebookType!==K.notebookType){this._lastCandidate=K;for(let X of this._entries)if(X._score=rf(X.selector,c.uri,c.getLanguageId(),(0,bn.pt)(c),v),jg(X.selector)&&X._score>0){for(let se of this._entries)se._score=0;X._score=1e3;break}this._entries.sort(Wo._compareByScoreAndTime)}}static _compareByScoreAndTime(c,u){return c._score<u._score?1:c._score>u._score?-1:c._time<u._time?1:c._time>u._time?-1:0}}(0,Qi.z)(Ei.p,class{constructor(){this.referenceProvider=new Wo(this._score.bind(this)),this.renameProvider=new Wo(this._score.bind(this)),this.codeActionProvider=new Wo(this._score.bind(this)),this.definitionProvider=new Wo(this._score.bind(this)),this.typeDefinitionProvider=new Wo(this._score.bind(this)),this.declarationProvider=new Wo(this._score.bind(this)),this.implementationProvider=new Wo(this._score.bind(this)),this.documentSymbolProvider=new Wo(this._score.bind(this)),this.inlayHintsProvider=new Wo(this._score.bind(this)),this.colorProvider=new Wo(this._score.bind(this)),this.codeLensProvider=new Wo(this._score.bind(this)),this.documentFormattingEditProvider=new Wo(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Wo(this._score.bind(this)),this.onTypeFormattingEditProvider=new Wo(this._score.bind(this)),this.signatureHelpProvider=new Wo(this._score.bind(this)),this.hoverProvider=new Wo(this._score.bind(this)),this.documentHighlightProvider=new Wo(this._score.bind(this)),this.selectionRangeProvider=new Wo(this._score.bind(this)),this.foldingRangeProvider=new Wo(this._score.bind(this)),this.linkProvider=new Wo(this._score.bind(this)),this.inlineCompletionsProvider=new Wo(this._score.bind(this)),this.completionProvider=new Wo(this._score.bind(this)),this.linkedEditingRangeProvider=new Wo(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Wo(this._score.bind(this)),this.documentSemanticTokensProvider=new Wo(this._score.bind(this))}_score(c){var u;return null===(u=this._notebookTypeResolver)||void 0===u?void 0:u.call(this,c)}},!0);var il=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X},Is=function(w,c){return function(u,v){c(u,v,w)}},af=function(w,c,u,v){return new(u||(u=Promise))(function(X,se){function me(je){try{Be(v.next(je))}catch(ft){se(ft)}}function xe(je){try{Be(v.throw(je))}catch(ft){se(ft)}}function Be(je){je.done?X(je.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(je.value).then(me,xe)}Be((v=v.apply(w,c||[])).next())})};class Yp{constructor(c){this.disposed=!1,this.model=c,this._onWillDispose=new Y.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Ld=class{constructor(c){this.modelService=c}createModelReference(c){const u=this.modelService.getModel(c);return u?Promise.resolve(new Ge.Jz(new Yp(u))):Promise.reject(new Error("Model not found"))}};Ld=il([Is(0,zt.q)],Ld);let $r=(()=>{class w{show(){return w.NULL_PROGRESS_RUNNER}showWhile(u,v){return af(this,void 0,void 0,function*(){yield u})}}return w.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},w})();class pr{info(c){return this.notify({severity:cs.Z.Info,message:c})}warn(c){return this.notify({severity:cs.Z.Warning,message:c})}error(c){return this.notify({severity:cs.Z.Error,message:c})}notify(c){switch(c.severity){case cs.Z.Error:console.error(c.message);break;case cs.Z.Warning:console.warn(c.message);break;default:console.log(c.message)}return pr.NO_OP}status(c,u){return Ge.JT.None}}pr.NO_OP=new Vr.EO;let Md=class{constructor(c){this._onWillExecuteCommand=new Y.Q5,this._onDidExecuteCommand=new Y.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=c}executeCommand(c,...u){const v=ns.P0.getCommand(c);if(!v)return Promise.reject(new Error(`command '${c}' not found`));try{this._onWillExecuteCommand.fire({commandId:c,args:u});const K=this._instantiationService.invokeFunction.apply(this._instantiationService,[v.handler,...u]);return this._onDidExecuteCommand.fire({commandId:c,args:u}),Promise.resolve(K)}catch(K){return Promise.reject(K)}}};Md=il([Is(0,ts.TG)],Md);let Oc=class extends Ho{constructor(c,u,v,K,X,se){super(c,u,v,K,X),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const me=fn=>{const $n=new Ge.SL;$n.add(_t.nm(fn,_t.tw.KEY_DOWN,Ii=>{const _i=new Ls.y(Ii);this._dispatch(_i,_i.target)&&(_i.preventDefault(),_i.stopPropagation())})),$n.add(_t.nm(fn,_t.tw.KEY_UP,Ii=>{const _i=new Ls.y(Ii);this._singleModifierDispatch(_i,_i.target)&&_i.preventDefault()})),this._domNodeListeners.push(new Kg(fn,$n))},xe=fn=>{for(let $n=0;$n<this._domNodeListeners.length;$n++){const Ii=this._domNodeListeners[$n];Ii.domNode===fn&&(this._domNodeListeners.splice($n,1),Ii.dispose())}},Be=fn=>{fn.getOption(54)||me(fn.getContainerDomNode())};this._register(se.onCodeEditorAdd(Be)),this._register(se.onCodeEditorRemove(fn=>{fn.getOption(54)||xe(fn.getContainerDomNode())})),se.listCodeEditors().forEach(Be);const ft=fn=>{me(fn.getContainerDomNode())};this._register(se.onDiffEditorAdd(ft)),this._register(se.onDiffEditorRemove(fn=>{xe(fn.getContainerDomNode())})),se.listDiffEditors().forEach(ft)}addDynamicKeybinding(c,u,v,K){const X=(0,Hr.gm)(u,vt.OS),se=new Ge.SL;return X&&(this._dynamicKeybindings.push({keybinding:X.parts,command:c,when:K,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),se.add((0,Ge.OF)(()=>{for(let me=0;me<this._dynamicKeybindings.length;me++)if(this._dynamicKeybindings[me].command===c)return this._dynamicKeybindings.splice(me,1),void this.updateResolver({source:1})}))),se.add(ns.P0.registerCommand(c,v)),this.updateResolver({source:1}),se}updateResolver(c){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(c)}_getResolver(){if(!this._cachedResolver){const c=this._toNormalizedKeybindingItems(Rh.W.getDefaultKeybindings(),!0),u=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Ti(c,u,v=>this._log(v))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(c,u){const v=[];let K=0;for(const X of c){const se=X.when||void 0,me=X.keybinding;if(me){const xe=Qa.resolveUserBinding(me,vt.OS);for(const Be of xe)v[K++]=new ad(Be,X.command,X.commandArgs,se,u,null,!1)}else v[K++]=new ad(void 0,X.command,X.commandArgs,se,u,null,!1)}return v}resolveKeyboardEvent(c){const u=new Hr.QC(c.ctrlKey,c.shiftKey,c.altKey,c.metaKey,c.keyCode).toChord();return new Qa(u,vt.OS)}};Oc=il([Is(0,bo.i6),Is(1,ns.Hy),Is(2,cd.b),Is(3,Vr.lT),Is(4,Co.VZ),Is(5,Ne.$)],Oc);class Kg extends Ge.JT{constructor(c,u){super(),this.domNode=c,this._register(u)}}function Dd(w){return w&&"object"==typeof w&&(!w.overrideIdentifier||"string"==typeof w.overrideIdentifier)&&(!w.resource||w.resource instanceof M.o)}class lf{constructor(){this._onDidChangeConfiguration=new Y.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Ma(new mc,new Ds)}getValue(c,u){const v="string"==typeof c?c:void 0,K=Dd(c)?c:Dd(u)?u:{};return this._configuration.getValue(v,K,void 0)}updateValues(c){const u={data:this._configuration.toData()},v=[];for(const K of c){const[X,se]=K;this.getValue(X)!==se&&(this._configuration.updateValue(X,se),v.push(X))}if(v.length>0){const K=new Ri({keys:v,overrides:[]},u,this._configuration);K.source=7,K.sourceConfig=null,this._onDidChangeConfiguration.fire(K)}return Promise.resolve()}updateValue(c,u,v,K){return this.updateValues([[c,u]])}inspect(c,u={}){return this._configuration.inspect(c,u,void 0)}}let Ed=class{constructor(c){this.configurationService=c,this._onDidChangeConfiguration=new Y.Q5,this.configurationService.onDidChangeConfiguration(u=>{this._onDidChangeConfiguration.fire({affectedKeys:u.affectedKeys,affectsConfiguration:(v,K)=>u.affectsConfiguration(K)})})}getValue(c,u,v){const X=i.L.isIPosition(u)&&u?"string"==typeof v?v:void 0:"string"==typeof u?u:void 0;return void 0===X?this.configurationService.getValue():this.configurationService.getValue(X)}};Ed=il([Is(0,fs.Ui)],Ed);let Tc=class{constructor(c){this.configurationService=c}getEOL(c,u){const v=this.configurationService.getValue("files.eol",{overrideIdentifier:u,resource:c});return v&&"string"==typeof v&&"auto"!==v?v:vt.IJ||vt.dz?"\n":"\r\n"}};Tc=il([Is(0,fs.Ui)],Tc);let R1=(()=>{class w{constructor(){const u=M.o.from({scheme:w.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new pc.md({uri:u,name:"",index:0})]}}getWorkspace(){return this.workspace}}return w.SCHEME="inmemory",w})();function Oa(w,c,u){if(!(c&&w instanceof lf))return;const v=[];Object.keys(c).forEach(K=>{(function(w){return Za()[`editor.${w}`]||!1})(K)&&v.push([`editor.${K}`,c[K]]),u&&function(w){return Za()[`diffEditor.${w}`]||!1}(K)&&v.push([`diffEditor.${K}`,c[K]])}),v.length>0&&w.updateValues(v)}let jo=class{constructor(c){this._modelService=c}hasPreviewHandler(){return!1}apply(c,u){return af(this,void 0,void 0,function*(){const v=new Map;for(let se of c){if(!(se instanceof gc.Gl))throw new Error("bad edit - only text edits are supported");const me=this._modelService.getModel(se.resource);if(!me)throw new Error("bad edit - model not found");if("number"==typeof se.versionId&&me.getVersionId()!==se.versionId)throw new Error("bad state - model changed in the meantime");let xe=v.get(me);xe||(xe=[],v.set(me,xe)),xe.push(Lr.h.replaceMove(T.e.lift(se.textEdit.range),se.textEdit.text))}let K=0,X=0;for(const[se,me]of v)se.pushStackElement(),se.pushEditOperations([],me,()=>[]),se.pushStackElement(),X+=1,K+=me.length;return{ariaSummary:nt.WU(Bn.iN.bulkEditServiceSummary,K,X)}})}};jo=il([Is(0,zt.q)],jo);let ea=class extends bc{constructor(c,u){super(c),this._codeEditorService=u}showContextView(c,u,v){if(!u){const K=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();K&&(u=K.getContainerDomNode())}return super.showContextView(c,u,v)}};ea=il([Is(0,hr),Is(1,Ne.$)],ea);let $g=class extends qe{constructor(c,u,v,K,X){super(c,u,v,K,X),this.configure({blockMouse:!1})}};var hi;$g=il([Is(0,cd.b),Is(1,Vr.lT),Is(2,Ml.u),Is(3,ds.d),Is(4,ai.XE)],$g),(0,Qi.z)(fs.Ui,lf),(0,Qi.z)(ao.V,Ed),(0,Qi.z)(ao.y,Tc),(0,Qi.z)(pc.ec,R1),(0,Qi.z)(ld.e,class{getUriLabel(c,u){return"file"===c.scheme?c.fsPath:c.path}}),(0,Qi.z)(cd.b,class{publicLog(c,u){return Promise.resolve(void 0)}publicLog2(c,u){return this.publicLog(c,u)}}),(0,Qi.z)(oa.S,class{confirm(c){return this.doConfirm(c).then(u=>({confirmed:u,checkboxChecked:!1}))}doConfirm(c){let u=c.message;return c.detail&&(u=u+"\n\n"+c.detail),Promise.resolve(window.confirm(u))}show(c,u,v,K){return Promise.resolve({choice:0})}}),(0,Qi.z)(Vr.lT,pr),(0,Qi.z)(Rn.lT,jl),(0,Qi.z)(Wt.O,class extends gr{constructor(){super()}}),(0,Qi.z)(Nr.Z,class extends Ge.JT{constructor(){super(),this._onColorThemeChange=this._register(new Y.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new Y.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new kg,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(zl,Ru(zl)),this._knownThemes.set(Au,Ru(Au)),this._knownThemes.set(Ic,Ru(Ic));const c=function(w){const c=new Y.Q5,u=(0,Tu.Ks)();return u.onDidChange(()=>c.fire()),null==w||w.onDidProductIconThemeChange(()=>c.fire()),{onDidChange:c.event,getCSS(){const v=w?w.getProductIconTheme():new kg,K={},X=me=>{const xe=v.getIcon(me);if(!xe)return;const Be=xe.font;return Be?(K[Be.id]=Be.definition,`.codicon-${me.id}:before { content: '${xe.fontCharacter}'; font-family: ${(0,_t._h)(Be.id)}; }`):`.codicon-${me.id}:before { content: '${xe.fontCharacter}'; }`},se=[];for(let me of u.getIcons()){const xe=X(me);xe&&se.push(xe)}for(let me in K){const xe=K[me],Be=xe.weight?`font-weight: ${xe.weight};`:"",je=xe.style?`font-style: ${xe.style};`:"",ft=xe.src.map(Jt=>`${(0,_t.wY)(Jt.location)} format('${Jt.format}')`).join(", ");se.push(`@font-face { src: ${ft}; font-family: ${(0,_t._h)(me)};${Be}${je} font-display: block; }`)}return se.join("\n")}}}(this);this._codiconCSS=c.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(zl),c.onDidChange(()=>{this._codiconCSS=c.getCSS(),this._updateCSS()}),_t.uB("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(c){return _t.OO(c)?this._registerShadowDomContainer(c):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=_t.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Ge.JT.None}_registerShadowDomContainer(c){const u=_t.dS(c);return u.className="monaco-colors",u.textContent=this._allCSS,this._styleElements.push(u),{dispose:()=>{for(let v=0;v<this._styleElements.length;v++)if(this._styleElements[v]===u)return void this._styleElements.splice(v,1)}}}defineTheme(c,u){if(!/^[a-z0-9\-]+$/i.test(c))throw new Error("Illegal theme name!");if(!qo(u.base)&&!qo(c))throw new Error("Illegal theme base!");this._knownThemes.set(c,new Pc(c,u)),qo(c)&&this._knownThemes.forEach(v=>{v.base===c&&v.notifyBaseUpdated()}),this._theme.themeName===c&&this.setTheme(c)}getColorTheme(){return this._theme}setColorMapOverride(c){this._colorMapOverride=c,this._updateThemeOrColorMap()}setTheme(c){let u;u=this._knownThemes.has(c)?this._knownThemes.get(c):this._knownThemes.get(zl),this._desiredTheme=u,this._updateActualTheme()}_updateActualTheme(){const c=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(Ic):this._desiredTheme;this._theme!==c&&(this._theme=c,this._updateThemeOrColorMap())}setAutoDetectHighContrast(c){this._autoDetectHighContrast=c,this._updateActualTheme()}_updateThemeOrColorMap(){const c=[],u={},v={addRule:se=>{u[se]||(c.push(se),u[se]=!0)}};Og.getThemingParticipants().forEach(se=>se(this._theme,v,this._environment));const K=[];for(const se of qh.getColors()){const me=this._theme.getColor(se.id,!0);me&&K.push(`${(0,vn.QO2)(se.id)}: ${me.toString()};`)}v.addRule(`.monaco-editor { ${K.join("\n")} }`);const X=this._colorMapOverride||this._theme.tokenTheme.getColorMap();v.addRule(function(w){const c=[];for(let u=1,v=w.length;u<v;u++)c[u]=`.mtk${u} { color: ${w[u]}; }`;return c.push(".mtki { font-style: italic; }"),c.push(".mtkb { font-weight: bold; }"),c.push(".mtku { text-decoration: underline; text-underline-position: under; }"),c.push(".mtks { text-decoration: line-through; }"),c.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),c.join("\n")}(X)),this._themeCSS=c.join("\n"),this._updateCSS(),P.RW.setColorMap(X),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(c=>c.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}),(0,Qi.z)(Co.VZ,class extends Co.$V{constructor(){super(new Co.kw)}}),(0,Qi.z)(zt.q,eo.b$),(0,Qi.z)(ss.i,mo),(0,Qi.z)(bo.i6,Hu),(0,Qi.z)(co.ek,$r),(0,Qi.z)(Ug.Uy,Ug.vm),(0,Qi.z)(ci.p,Ts),(0,Qi.z)(gc.vu,jo),(0,Qi.z)(Fh.Y,class{constructor(){this._neverEmitter=new Y.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,Qi.z)(fi.S,Ld),(0,Qi.z)(In.F,ka),(0,Qi.z)(Qh.Lw,Qh.XN),(0,Qi.z)(ns.Hy,Md),(0,Qi.z)(ds.d,Oc),(0,Qi.z)(Dc.eJ,Bl),(0,Qi.z)(Ml.u,ea),(0,Qi.z)(Nt.v4,Tn),(0,Qi.z)(Rg.p,of),(0,Qi.z)(Ml.i,$g),(0,Qi.z)(rs.co,Bu),function(w){const c=new Hg.y;for(const[se,me]of(0,Qi.d)())c.set(se,me);const u=new fa(c,!0);c.set(ts.TG,u),w.get=function(se){const me=c.get(se);if(!me)throw new Error("Missing service "+se);return me instanceof ha.M?u.invokeFunction(xe=>xe.get(se)):me};let K=!1;w.initialize=function(se){if(K)return u;K=!0;for(const[me,xe]of(0,Qi.d)())c.get(me)||c.set(me,xe);for(const me in se)if(se.hasOwnProperty(me)){const xe=(0,ts.yh)(me);c.get(xe)instanceof ha.M&&c.set(xe,se[me])}return u}}(hi||(hi={}));var df=function(w,c,u,v){var se,K=arguments.length,X=K<3?c:null===v?v=Object.getOwnPropertyDescriptor(c,u):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(w,c,u,v);else for(var me=w.length-1;me>=0;me--)(se=w[me])&&(X=(K<3?se(X):K>3?se(c,u,X):se(c,u))||X);return K>3&&X&&Object.defineProperty(c,u,X),X},wo=function(w,c){return function(u,v){c(u,v,w)}};let Xp=0,Zg=!1,Uu=class extends Zt.Gm{constructor(c,u,v,K,X,se,me,xe,Be,je,ft,Jt){const fn=Object.assign({},u);fn.ariaLabel=fn.ariaLabel||Bn.B8.editorViewAccessibleLabel,fn.ariaLabel=fn.ariaLabel+";"+Bn.B8.accessibilityHelpMessage,super(c,fn,{},v,K,X,se,xe,Be,je,ft,Jt),this._standaloneKeybindingService=me instanceof Oc?me:null,function(w){if(!w){if(Zg)return;Zg=!0}Bt.wW(w||document.body)}(fn.ariaContainerElement)}addCommand(c,u,v){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const K="DYNAMIC_"+ ++Xp,X=bo.Ao.deserialize(v);return this._standaloneKeybindingService.addDynamicKeybinding(K,c,u,X),K}createContextKey(c,u){return this._contextKeyService.createKey(c,u)}addAction(c){if("string"!=typeof c.id||"string"!=typeof c.label||"function"!=typeof c.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Ge.JT.None;const u=c.id,v=c.label,K=bo.Ao.and(bo.Ao.equals("editorId",this.getId()),bo.Ao.deserialize(c.precondition)),X=c.keybindings,se=bo.Ao.and(K,bo.Ao.deserialize(c.keybindingContext)),me=c.contextMenuGroupId||null,xe=c.contextMenuOrder||0,Be=(fn,...$n)=>Promise.resolve(c.run(this,...$n)),je=new Ge.SL,ft=this.getId()+":"+u;if(je.add(ns.P0.registerCommand(ft,Be)),me&&je.add(rs.BH.appendMenuItem(rs.eH.EditorContext,{command:{id:ft,title:v},when:K,group:me,order:xe})),Array.isArray(X))for(const fn of X)je.add(this._standaloneKeybindingService.addDynamicKeybinding(ft,fn,Be,se));const Jt=new Xn.p(ft,v,v,K,Be,this._contextKeyService);return this._actions[u]=Jt,je.add((0,Ge.OF)(()=>{delete this._actions[u]})),je}_triggerCommand(c,u){if(this._codeEditorService instanceof xr)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(c,u)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(c,u)}};Uu=df([wo(2,ts.TG),wo(3,Ne.$),wo(4,ns.Hy),wo(5,bo.i6),wo(6,ds.d),wo(7,ai.XE),wo(8,Vr.lT),wo(9,In.F),wo(10,mt.c_),wo(11,Ei.p)],Uu);let $l=class extends Uu{constructor(c,u,v,K,X,se,me,xe,Be,je,ft,Jt,fn,$n,Ii){const _i=Object.assign({},u);Oa(je,_i,!1);const _o=xe.registerEditorContainer(c);"string"==typeof _i.theme&&xe.setTheme(_i.theme),void 0!==_i.autoDetectHighContrast&&xe.setAutoDetectHighContrast(Boolean(_i.autoDetectHighContrast));const uo=_i.model;let Hi;if(delete _i.model,super(c,_i,v,K,X,se,me,xe,Be,ft,$n,Ii),this._configurationService=je,this._standaloneThemeService=xe,this._register(_o),void 0===uo){const Zi=fn.getLanguageIdByMimeType(_i.language)||_i.language||pt.bd;Hi=qp(Jt,fn,_i.value||"",Zi,void 0),this._ownsModel=!0}else Hi=uo,this._ownsModel=!1;this._attachModel(Hi),Hi&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:Hi.uri})}dispose(){super.dispose()}updateOptions(c){Oa(this._configurationService,c,!1),"string"==typeof c.theme&&this._standaloneThemeService.setTheme(c.theme),void 0!==c.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(c.autoDetectHighContrast)),super.updateOptions(c)}_postDetachModelCleanup(c){super._postDetachModelCleanup(c),c&&this._ownsModel&&(c.dispose(),this._ownsModel=!1)}};$l=df([wo(2,ts.TG),wo(3,Ne.$),wo(4,ns.Hy),wo(5,bo.i6),wo(6,ds.d),wo(7,Nr.Z),wo(8,Vr.lT),wo(9,fs.Ui),wo(10,In.F),wo(11,zt.q),wo(12,Wt.O),wo(13,mt.c_),wo(14,Ei.p)],$l);let Zl=class extends Nn.p{constructor(c,u,v,K,X,se,me,xe,Be,je,ft,Jt){const fn=Object.assign({},u);Oa(Be,fn,!0);const $n=me.registerEditorContainer(c);"string"==typeof fn.theme&&me.setTheme(fn.theme),void 0!==fn.autoDetectHighContrast&&me.setAutoDetectHighContrast(Boolean(fn.autoDetectHighContrast)),super(c,fn,{},Jt,X,K,v,se,me,xe,je,ft),this._configurationService=Be,this._standaloneThemeService=me,this._register($n)}dispose(){super.dispose()}updateOptions(c){Oa(this._configurationService,c,!0),"string"==typeof c.theme&&this._standaloneThemeService.setTheme(c.theme),void 0!==c.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(c.autoDetectHighContrast)),super.updateOptions(c)}_createInnerEditor(c,u,v){return c.createInstance(Uu,u,v)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(c,u,v){return this.getModifiedEditor().addCommand(c,u,v)}createContextKey(c,u){return this.getModifiedEditor().createContextKey(c,u)}addAction(c){return this.getModifiedEditor().addAction(c)}};function qp(w,c,u,v,K){if(u=u||"",!v){const X=u.indexOf("\n");let se=u;return-1!==X&&(se=u.substring(0,X)),Gg(w,u,c.createByFilepathOrFirstLine(K||null,se),K)}return Gg(w,u,c.createById(v),K)}function Gg(w,c,u,v){return w.createModel(c,u,v)}function Ku(w,c){return"boolean"==typeof w?w:c}function d0(w,c){return"string"==typeof w?w:c}function u0(w,c=!1){c&&(w=w.map(function(v){return v.toLowerCase()}));const u=function(w){const c={};for(const u of w)c[u]=!0;return c}(w);return c?function(v){return void 0!==u[v.toLowerCase()]&&u.hasOwnProperty(v.toLowerCase())}:function(v){return void 0!==u[v]&&u.hasOwnProperty(v)}}function nm(w,c){c=c.replace(/@@/g,"\x01");let v,u=0;do{v=!1,c=c.replace(/@(\w+)/g,function(X,se){v=!0;let me="";if("string"==typeof w[se])me=w[se];else{if(!(w[se]&&w[se]instanceof RegExp))throw ji(w,void 0===w[se]?"language definition does not contain attribute '"+se+"', used at: "+c:"attribute reference '"+se+"' must be a string, used at: "+c);me=w[se].source}return Vo(me)?"":"(?:"+me+")"}),u++}while(v&&u<5);return c=c.replace(/\x01/g,"@"),new RegExp(c,(w.ignoreCase?"i":"")+(w.unicode?"u":""))}function W1(w,c,u,v){let K=-1,X=u,se=u.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);se&&(se[3]&&(K=parseInt(se[3]),se[2]&&(K+=100)),X=se[4]);let Be,me="~",xe=X;if(X&&0!==X.length?/^\w*$/.test(xe)?me="==":(se=X.match(/^(@|!@|~|!~|==|!=)(.*)$/),se&&(me=se[1],xe=se[2])):(me="!=",xe=""),"~"!==me&&"!~"!==me||!/^(\w|\|)*$/.test(xe))if("@"===me||"!@"===me){const je=w[xe];if(!je)throw ji(w,"the @ match target '"+xe+"' is not defined, in rule: "+c);if(!function(w,c){if(!c||!Array.isArray(c))return!1;for(const u of c)if("string"!=typeof u)return!1;return!0}(0,je))throw ji(w,"the @ match target '"+xe+"' must be an array of strings, in rule: "+c);const ft=u0(je,w.ignoreCase);Be=function(Jt){return"@"===me?ft(Jt):!ft(Jt)}}else if("~"===me||"!~"===me)if(xe.indexOf("$")<0){const je=nm(w,"^"+xe+"$");Be=function(ft){return"~"===me?je.test(ft):!je.test(ft)}}else Be=function(je,ft,Jt,fn){return nm(w,"^"+Lo(w,xe,ft,Jt,fn)+"$").test(je)};else if(xe.indexOf("$")<0){const je=Cs(w,xe);Be=function(ft){return"=="===me?ft===je:ft!==je}}else{const je=Cs(w,xe);Be=function(ft,Jt,fn,$n,Ii){const _i=Lo(w,je,Jt,fn,$n);return"=="===me?ft===_i:ft!==_i}}else{const je=u0(xe.split("|"),w.ignoreCase);Be=function(ft){return"~"===me?je(ft):!je(ft)}}return-1===K?{name:u,value:v,test:function(je,ft,Jt,fn){return Be(je,je,ft,Jt,fn)}}:{name:u,value:v,test:function(je,ft,Jt,fn){const $n=function(w,c,u,v){if(v<0)return w;if(v<c.length)return c[v];if(v>=100){v-=100;const K=u.split(".");if(K.unshift(u),v<K.length)return K[v]}return null}(je,ft,Jt,K);return Be($n||"",je,ft,Jt,fn)}}}function im(w,c,u){if(u){if("string"==typeof u)return u;if(u.token||""===u.token){if("string"!=typeof u.token)throw ji(w,"a 'token' attribute must be of type string, in rule: "+c);{const v={token:u.token};if(u.token.indexOf("$")>=0&&(v.tokenSubst=!0),"string"==typeof u.bracket)if("@open"===u.bracket)v.bracket=1;else{if("@close"!==u.bracket)throw ji(w,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+c);v.bracket=-1}if(u.next){if("string"!=typeof u.next)throw ji(w,"the next state must be a string value in rule: "+c);{let K=u.next;if(!/^(@pop|@push|@popall)$/.test(K)&&("@"===K[0]&&(K=K.substr(1)),K.indexOf("$")<0&&!function(w,c){let u=c;for(;u&&u.length>0;){if(w.stateNames[u])return!0;const K=u.lastIndexOf(".");u=K<0?null:u.substr(0,K)}return!1}(w,Lo(w,K,"",[],""))))throw ji(w,"the next state '"+u.next+"' is not defined in rule: "+c);v.next=K}}return"number"==typeof u.goBack&&(v.goBack=u.goBack),"string"==typeof u.switchTo&&(v.switchTo=u.switchTo),"string"==typeof u.log&&(v.log=u.log),"string"==typeof u.nextEmbedded&&(v.nextEmbedded=u.nextEmbedded,w.usesEmbedded=!0),v}}if(Array.isArray(u)){const v=[];for(let K=0,X=u.length;K<X;K++)v[K]=im(w,c,u[K]);return{group:v}}if(u.cases){const v=[];for(let X in u.cases)if(u.cases.hasOwnProperty(X)){const se=im(w,c,u.cases[X]);v.push("@default"===X||"@"===X||""===X?{test:void 0,value:se,name:X}:"@eos"===X?{test:function(me,xe,Be,je){return je},value:se,name:X}:W1(w,c,X,se))}const K=w.defaultToken;return{test:function(X,se,me,xe){for(const Be of v)if(!Be.test||Be.test(X,se,me,xe))return Be.value;return K}}}throw ji(w,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+c)}return{token:""}}Zl=df([wo(2,ts.TG),wo(3,bo.i6),wo(4,ci.p),wo(5,Ne.$),wo(6,Nr.Z),wo(7,Vr.lT),wo(8,fs.Ui),wo(9,Ml.i),wo(10,co.ek),wo(11,Rg.p)],Zl);class V1{constructor(c){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=c}setRegex(c,u){let v;if("string"==typeof u)v=u;else{if(!(u instanceof RegExp))throw ji(c,"rules must start with a match string or regular expression: "+this.name);v=u.source}this.matchOnlyAtLineStart=v.length>0&&"^"===v[0],this.name=this.name+": "+v,this.regex=nm(c,"^(?:"+(this.matchOnlyAtLineStart?v.substr(1):v)+")")}setAction(c,u){this.action=im(c,this.name,u)}}function h0(w,c){if(!c||"object"!=typeof c)throw new Error("Monarch: expecting a language definition object");const u={};u.languageId=w,u.includeLF=Ku(c.includeLF,!1),u.noThrow=!1,u.maxStack=100,u.start="string"==typeof c.start?c.start:null,u.ignoreCase=Ku(c.ignoreCase,!1),u.unicode=Ku(c.unicode,!1),u.tokenPostfix=d0(c.tokenPostfix,"."+u.languageId),u.defaultToken=d0(c.defaultToken,"source"),u.usesEmbedded=!1;const v=c;function K(se,me,xe){for(const Be of xe){let je=Be.include;if(je){if("string"!=typeof je)throw ji(u,"an 'include' attribute must be a string at: "+se);if("@"===je[0]&&(je=je.substr(1)),!c.tokenizer[je])throw ji(u,"include target '"+je+"' is not defined at: "+se);K(se+"."+je,me,c.tokenizer[je])}else{const ft=new V1(se);if(Array.isArray(Be)&&Be.length>=1&&Be.length<=3)if(ft.setRegex(v,Be[0]),Be.length>=3)if("string"==typeof Be[1])ft.setAction(v,{token:Be[1],next:Be[2]});else{if("object"!=typeof Be[1])throw ji(u,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+se);{const Jt=Be[1];Jt.next=Be[2],ft.setAction(v,Jt)}}else ft.setAction(v,Be[1]);else{if(!Be.regex)throw ji(u,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+se);Be.name&&"string"==typeof Be.name&&(ft.name=Be.name),Be.matchOnlyAtStart&&(ft.matchOnlyAtLineStart=Ku(Be.matchOnlyAtLineStart,!1)),ft.setRegex(v,Be.regex),ft.setAction(v,Be.action)}me.push(ft)}}}if(v.languageId=w,v.includeLF=u.includeLF,v.ignoreCase=u.ignoreCase,v.unicode=u.unicode,v.noThrow=u.noThrow,v.usesEmbedded=u.usesEmbedded,v.stateNames=c.tokenizer,v.defaultToken=u.defaultToken,!c.tokenizer||"object"!=typeof c.tokenizer)throw ji(u,"a language definition must define the 'tokenizer' attribute as an object");u.tokenizer=[];for(let se in c.tokenizer)if(c.tokenizer.hasOwnProperty(se)){u.start||(u.start=se);const me=c.tokenizer[se];u.tokenizer[se]=new Array,K("tokenizer."+se,u.tokenizer[se],me)}if(u.usesEmbedded=v.usesEmbedded,c.brackets){if(!Array.isArray(c.brackets))throw ji(u,"the 'brackets' attribute must be defined as an array")}else c.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const X=[];for(let se of c.brackets){let me=se;if(me&&Array.isArray(me)&&3===me.length&&(me={token:me[2],open:me[0],close:me[1]}),me.open===me.close)throw ji(u,"open and close brackets in a 'brackets' attribute must be different: "+me.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof me.open||"string"!=typeof me.token||"string"!=typeof me.close)throw ji(u,"every element in the 'brackets' array must be a '{open,close,token}' object or array");X.push({token:me.token+u.tokenPostfix,open:Cs(u,me.open),close:Cs(u,me.close)})}return u.brackets=X,u.noThrow=!0,u}class g0{constructor(c,u){this._languageId=c,this._actual=u}getInitialState(){return this._actual.getInitialState()}tokenize(c,u,v){if("function"==typeof this._actual.tokenize)return Ta.adaptTokenize(this._languageId,this._actual,c,v);throw new Error("Not supported!")}tokenizeEncoded(c,u,v){const K=this._actual.tokenizeEncoded(c,v);return new P.DI(K.tokens,K.endState)}}class Ta{constructor(c,u,v,K){this._languageId=c,this._actual=u,this._languageService=v,this._standaloneThemeService=K}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(c,u){const v=[];let K=0;for(let X=0,se=c.length;X<se;X++){const me=c[X];let xe=me.startIndex;0===X?xe=0:xe<K&&(xe=K),v[X]=new P.WU(xe,me.scopes,u),K=xe}return v}static adaptTokenize(c,u,v,K){const X=u.tokenize(v,K),se=Ta._toClassicTokens(X.tokens,c);let me;return me=X.endState.equals(K)?K:X.endState,new P.hG(se,me)}tokenize(c,u,v){return Ta.adaptTokenize(this._languageId,this._actual,c,v)}_toBinaryTokens(c,u){const v=c.encodeLanguageId(this._languageId),K=this._standaloneThemeService.getColorTheme().tokenTheme,X=[];let se=0,me=0;for(let Be=0,je=u.length;Be<je;Be++){const ft=u[Be],Jt=K.match(v,ft.scopes);if(se>0&&X[se-1]===Jt)continue;let fn=ft.startIndex;0===Be?fn=0:fn<me&&(fn=me),X[se++]=fn,X[se++]=Jt,me=fn}const xe=new Uint32Array(se);for(let Be=0;Be<se;Be++)xe[Be]=X[Be];return xe}tokenizeEncoded(c,u,v){const K=this._actual.tokenize(c,v),X=this._toBinaryTokens(this._languageService.languageIdCodec,K.tokens);let se;return se=K.endState.equals(v)?v:K.endState,new P.DI(X,se)}}function ms(w){return w&&"function"==typeof w.then}function $u(w,c){return function(w){return"tokenizeEncoded"in w}(c)?new g0(w,c):new Ta(w,c,hi.get(Wt.O),hi.get(Nr.Z))}function pf(w,c){return P.RW.registerFactory(w,{createTokenizationSupport:()=>function(w,c,u,v){return new(u||(u=Promise))(function(X,se){function me(je){try{Be(v.next(je))}catch(ft){se(ft)}}function xe(je){try{Be(v.throw(je))}catch(ft){se(ft)}}function Be(je){je.done?X(je.value):function(X){return X instanceof u?X:new u(function(se){se(X)})}(je.value).then(me,xe)}Be((v=v.apply(w,c||[])).next())})}(this,void 0,void 0,function*(){const v=yield Promise.resolve(c.create());return v?function(w){return"function"==typeof w.getInitialState}(v)?$u(w,v):new be(hi.get(Wt.O),hi.get(Nr.Z),w,h0(w,v)):null})})}var rl,x0=p(86349);D.BH.wrappingIndent.defaultValue=0,D.BH.glyphMargin.defaultValue=!1,D.BH.autoIndent.defaultValue=3,D.BH.overviewRulerLanes.defaultValue=2,x0.xC.setFormatterSelector((w,c,u)=>Promise.resolve(w[0]));const Ps=st();Ps.editor={create:function(w,c,u){return hi.initialize(u||{}).createInstance($l,w,c)},onDidCreateEditor:function(w){return hi.get(Ne.$).onCodeEditorAdd(u=>{w(u)})},createDiffEditor:function(w,c,u){return hi.initialize(u||{}).createInstance(Zl,w,c)},createDiffNavigator:function(w,c){return new at.F(w,c)},createModel:function(w,c,u){const v=hi.get(Wt.O),K=v.getLanguageIdByMimeType(c)||c;return qp(hi.get(zt.q),v,w,K,u)},setModelLanguage:function(w,c){const u=hi.get(Wt.O);hi.get(zt.q).setMode(w,u.createById(c))},setModelMarkers:function(w,c,u){w&&hi.get(Rn.lT).changeOne(c,w.uri,u)},getModelMarkers:function(w){return hi.get(Rn.lT).read(w)},onDidChangeMarkers:function(w){return hi.get(Rn.lT).onMarkerChanged(w)},getModels:function(){return hi.get(zt.q).getModels()},getModel:function(w){return hi.get(zt.q).getModel(w)},onDidCreateModel:function(w){return hi.get(zt.q).onModelAdded(w)},onWillDisposeModel:function(w){return hi.get(zt.q).onModelRemoved(w)},onDidChangeModelLanguage:function(w){return hi.get(zt.q).onModelLanguageChanged(u=>{w({model:u.model,oldLanguage:u.oldLanguageId})})},createWebWorker:function(w){return function(w,c,u){return new Js(w,c,u)}(hi.get(zt.q),hi.get(mt.c_),w)},colorizeElement:function(w,c){const u=hi.get(Wt.O),v=hi.get(Nr.Z);return v.registerEditorContainer(w),ot.colorizeElement(v,u,w,c)},colorize:function(w,c,u){const v=hi.get(Wt.O);return hi.get(Nr.Z).registerEditorContainer(document.body),ot.colorize(v,w,c,u)},colorizeModelLine:function(w,c,u=4){return hi.get(Nr.Z).registerEditorContainer(document.body),ot.colorizeModelLine(w,c,u)},tokenize:function(w,c){P.RW.getOrCreate(c);const u=function(w){return P.RW.get(w)||{getInitialState:()=>Ft.TJ,tokenize:(u,v,K)=>(0,Ft.Ri)(w,K)}}(c),v=(0,nt.uq)(w),K=[];let X=u.getInitialState();for(let se=0,me=v.length;se<me;se++){const Be=u.tokenize(v[se],!0,X);K[se]=Be.tokens,X=Be.endState}return K},defineTheme:function(w,c){hi.get(Nr.Z).defineTheme(w,c)},setTheme:function(w){hi.get(Nr.Z).setTheme(w)},remeasureFonts:function(){Se.g.clearAllFontInfos()},registerCommand:function(w,c){return ns.P0.registerCommand({id:w,handler:c})},AccessibilitySupport:y,ContentWidgetPositionPreference:E,CursorChangeReason:z,DefaultEndOfLine:L,EditorAutoIndentStrategy:Z,EditorOption:O,EndOfLinePreference:I,EndOfLineSequence:$,MinimapPosition:ge,MouseTargetType:Q,OverlayWidgetPositionPreference:ee,OverviewRulerLane:le,RenderLineNumbersType:J,RenderMinimap:re,ScrollbarVisibility:ve,ScrollType:ce,TextEditorCursorBlinkingStyle:Ce,TextEditorCursorStyle:Ae,TrackedRangeStickiness:et,WrappingIndent:Ye,InjectedTextCursorStops:G,PositionAffinity:te,ConfigurationChangedEvent:D.Bb,BareFontInfo:Ct.E4,FontInfo:Ct.pR,TextModelResolvedOptions:bn.dJ,FindMatch:bn.tk,ApplyUpdateResult:D.rk,EditorType:jt.g,EditorOptions:D.BH},Ps.languages={register:function(w){pt.dQ.registerLanguage(w)},getLanguages:function(){let w=[];return w=w.concat(pt.dQ.getLanguages()),w},onLanguage:function(w,c){const v=hi.get(Wt.O).onDidEncounterLanguage(K=>{K===w&&(v.dispose(),c())});return v},getEncodedLanguageId:function(w){return hi.get(Wt.O).languageIdCodec.encodeLanguageId(w)},setLanguageConfiguration:function(w,c){if(!hi.get(Wt.O).isRegisteredLanguageId(w))throw new Error(`Cannot set configuration for unknown language ${w}`);return mt.zu.register(w,c,100)},setColorMap:function(w){const c=hi.get(Nr.Z);if(w){const u=[null];for(let v=1,K=w.length;v<K;v++)u[v]=wi.Il.fromHex(w[v]);c.setColorMapOverride(u)}else c.setColorMapOverride(null)},registerTokensProviderFactory:pf,setTokensProvider:function(w,c){if(!hi.get(Wt.O).isRegisteredLanguageId(w))throw new Error(`Cannot set tokens provider for unknown language ${w}`);return ms(c)?pf(w,{create:()=>c}):P.RW.register(w,$u(w,c))},setMonarchTokensProvider:function(w,c){return ms(c)?pf(w,{create:()=>c}):P.RW.register(w,(v=c,new be(hi.get(Wt.O),hi.get(Nr.Z),w,h0(w,v))));var v},registerReferenceProvider:function(w,c){return hi.get(Ei.p).referenceProvider.register(w,c)},registerRenameProvider:function(w,c){return hi.get(Ei.p).renameProvider.register(w,c)},registerCompletionItemProvider:function(w,c){return hi.get(Ei.p).completionProvider.register(w,c)},registerSignatureHelpProvider:function(w,c){return hi.get(Ei.p).signatureHelpProvider.register(w,c)},registerHoverProvider:function(w,c){return hi.get(Ei.p).hoverProvider.register(w,{provideHover:(v,K,X)=>{const se=v.getWordAtPosition(K);return Promise.resolve(c.provideHover(v,K,X)).then(me=>{if(me)return!me.range&&se&&(me.range=new T.e(K.lineNumber,se.startColumn,K.lineNumber,se.endColumn)),me.range||(me.range=new T.e(K.lineNumber,K.column,K.lineNumber,K.column)),me})}})},registerDocumentSymbolProvider:function(w,c){return hi.get(Ei.p).documentSymbolProvider.register(w,c)},registerDocumentHighlightProvider:function(w,c){return hi.get(Ei.p).documentHighlightProvider.register(w,c)},registerLinkedEditingRangeProvider:function(w,c){return hi.get(Ei.p).linkedEditingRangeProvider.register(w,c)},registerDefinitionProvider:function(w,c){return hi.get(Ei.p).definitionProvider.register(w,c)},registerImplementationProvider:function(w,c){return hi.get(Ei.p).implementationProvider.register(w,c)},registerTypeDefinitionProvider:function(w,c){return hi.get(Ei.p).typeDefinitionProvider.register(w,c)},registerCodeLensProvider:function(w,c){return hi.get(Ei.p).codeLensProvider.register(w,c)},registerCodeActionProvider:function(w,c,u){return hi.get(Ei.p).codeActionProvider.register(w,{providedCodeActionKinds:null==u?void 0:u.providedCodeActionKinds,provideCodeActions:(K,X,se,me)=>{const Be=hi.get(Rn.lT).read({resource:K.uri}).filter(je=>T.e.areIntersectingOrTouching(je,X));return c.provideCodeActions(K,X,{markers:Be,only:se.only},me)},resolveCodeAction:c.resolveCodeAction})},registerDocumentFormattingEditProvider:function(w,c){return hi.get(Ei.p).documentFormattingEditProvider.register(w,c)},registerDocumentRangeFormattingEditProvider:function(w,c){return hi.get(Ei.p).documentRangeFormattingEditProvider.register(w,c)},registerOnTypeFormattingEditProvider:function(w,c){return hi.get(Ei.p).onTypeFormattingEditProvider.register(w,c)},registerLinkProvider:function(w,c){return hi.get(Ei.p).linkProvider.register(w,c)},registerColorProvider:function(w,c){return hi.get(Ei.p).colorProvider.register(w,c)},registerFoldingRangeProvider:function(w,c){return hi.get(Ei.p).foldingRangeProvider.register(w,c)},registerDeclarationProvider:function(w,c){return hi.get(Ei.p).declarationProvider.register(w,c)},registerSelectionRangeProvider:function(w,c){return hi.get(Ei.p).selectionRangeProvider.register(w,c)},registerDocumentSemanticTokensProvider:function(w,c){return hi.get(Ei.p).documentSemanticTokensProvider.register(w,c)},registerDocumentRangeSemanticTokensProvider:function(w,c){return hi.get(Ei.p).documentRangeSemanticTokensProvider.register(w,c)},registerInlineCompletionsProvider:function(w,c){return hi.get(Ei.p).inlineCompletionsProvider.register(w,c)},registerInlayHintsProvider:function(w,c){return hi.get(Ei.p).inlayHintsProvider.register(w,c)},DocumentHighlightKind:N,CompletionItemKind:b,CompletionItemTag:x,CompletionItemInsertTextRule:C,SymbolKind:Ue,SymbolTag:ue,IndentAction:j,CompletionTriggerKind:f,SignatureHelpTriggerKind:We,InlayHintKind:oe,InlineCompletionTriggerKind:de,FoldingRangeKind:P.AD};const Gl=Ps.CancellationTokenSource,al=Ps.Emitter,Ql=Ps.KeyCode,dm=Ps.KeyMod,Td=Ps.Position,yf=Ps.Range,Yu=Ps.Selection,Sf=Ps.SelectionDirection,xf=Ps.MarkerSeverity,um=Ps.MarkerTag,Ad=Ps.Uri,Lf=Ps.Token,hm=Ps.editor,fm=Ps.languages;((null===(rl=vt.li.MonacoEnvironment)||void 0===rl?void 0:rl.globalAPI)||"function"==typeof define&&p.amdO)&&(self.monaco=Ps),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},92094:(Fe,Ee,p)=>{p.d(Ee,{Z:()=>g});const g=(0,p(43569).yh)("themeService")},99174:(Fe,Ee,p)=>{p.d(Ee,{TG:()=>z});var D=p(70031),g=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,W=Object.getOwnPropertyNames,M=Object.prototype.hasOwnProperty,B={};((I,$,j,G)=>{if($&&"object"==typeof $||"function"==typeof $)for(let oe of W($))!M.call(I,oe)&&"default"!==oe&&g(I,oe,{get:()=>$[oe],enumerable:!(G=Y($,oe))||G.enumerable})})(B,D);var P=(I=>(I[I.None=0]="None",I[I.CommonJS=1]="CommonJS",I[I.AMD=2]="AMD",I[I.UMD=3]="UMD",I[I.System=4]="System",I[I.ES2015=5]="ES2015",I[I.ESNext=99]="ESNext",I))(P||{}),y=(I=>(I[I.None=0]="None",I[I.Preserve=1]="Preserve",I[I.React=2]="React",I[I.ReactNative=3]="ReactNative",I[I.ReactJSX=4]="ReactJSX",I[I.ReactJSXDev=5]="ReactJSXDev",I))(y||{}),C=(I=>(I[I.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",I[I.LineFeed=1]="LineFeed",I))(C||{}),b=(I=>(I[I.ES3=0]="ES3",I[I.ES5=1]="ES5",I[I.ES2015=2]="ES2015",I[I.ES2016=3]="ES2016",I[I.ES2017=4]="ES2017",I[I.ES2018=5]="ES2018",I[I.ES2019=6]="ES2019",I[I.ES2020=7]="ES2020",I[I.ESNext=99]="ESNext",I[I.JSON=100]="JSON",I[I.Latest=99]="Latest",I))(b||{}),x=(I=>(I[I.Classic=1]="Classic",I[I.NodeJs=2]="NodeJs",I))(x||{}),f=class{constructor(I,$,j,G){Zo(this,"_onDidChange",new B.Emitter),Zo(this,"_onDidExtraLibsChange",new B.Emitter),Zo(this,"_extraLibs"),Zo(this,"_removedExtraLibs"),Zo(this,"_eagerModelSync"),Zo(this,"_compilerOptions"),Zo(this,"_diagnosticsOptions"),Zo(this,"_workerOptions"),Zo(this,"_onDidExtraLibsChangeTimeout"),Zo(this,"_inlayHintsOptions"),this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(I),this.setDiagnosticsOptions($),this.setWorkerOptions(j),this.setInlayHintsOptions(G),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(I,$){let j;if(j=void 0===$?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:$,this._extraLibs[j]&&this._extraLibs[j].content===I)return{dispose:()=>{}};let G=1;return this._removedExtraLibs[j]&&(G=this._removedExtraLibs[j]+1),this._extraLibs[j]&&(G=this._extraLibs[j].version+1),this._extraLibs[j]={content:I,version:G},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let oe=this._extraLibs[j];!oe||oe.version===G&&(delete this._extraLibs[j],this._removedExtraLibs[j]=G,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(I){for(const $ in this._extraLibs)this._removedExtraLibs[$]=this._extraLibs[$].version;if(this._extraLibs=Object.create(null),I&&I.length>0)for(const $ of I){const j=$.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let oe=1;this._removedExtraLibs[j]&&(oe=this._removedExtraLibs[j]+1),this._extraLibs[j]={content:$.content,version:oe}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(I){this._compilerOptions=I||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(I){this._diagnosticsOptions=I||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(I){this._workerOptions=I||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(I){this._inlayHintsOptions=I||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(I){}setEagerModelSync(I){this._eagerModelSync=I}getEagerModelSync(){return this._eagerModelSync}},z=new f({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),L=new f({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{});function O(){return p.e(8695).then(p.bind(p,48695))}B.languages.typescript={ModuleKind:P,JsxEmit:y,NewLineKind:C,ScriptTarget:b,ModuleResolutionKind:x,typescriptVersion:"4.5.5",typescriptDefaults:z,javascriptDefaults:L,getTypeScriptWorker:()=>O().then(I=>I.getTypeScriptWorker()),getJavaScriptWorker:()=>O().then(I=>I.getJavaScriptWorker())},B.languages.onLanguage("typescript",()=>O().then(I=>I.setupTypeScript(z))),B.languages.onLanguage("javascript",()=>O().then(I=>I.setupJavaScript(L)))},12918:(Fe,Ee,p)=>{function g(Y,W,...M){return function(Y,W){let M;return M=0===W.length?Y:Y.replace(/\{(\d+)\}/g,function(i,T){const B=T[0];return void 0!==W[B]?W[B]:i}),M}(W,M)}p.d(Ee,{N:()=>g})},13976:(Fe,Ee,p)=>{p.d(Ee,{F:()=>Y,U:()=>W});var D=p(6461);const Y=(0,p(43569).yh)("accessibilityService"),W=new D.uy("accessibilityModeEnabled",!1)},46842:(Fe,Ee,p)=>{p.d(Ee,{vr:()=>x,eH:()=>f,co:()=>E,BH:()=>z,NZ:()=>L,U8:()=>N});var D=p(50955),g=p(78968),Y=p(71040),W=p(58151),M=p(40189),i=p(62253),T=p(10467),B=p(6461),P=p(43569),y=p(53323),b=function(Z,O){return function(I,$){O(I,$,Z)}};function x(Z){return void 0!==Z.command}class f{constructor(O){this.id=f._idPool++,this._debugName=O}}f._idPool=0,f.CommandPalette=new f("CommandPalette"),f.DebugBreakpointsContext=new f("DebugBreakpointsContext"),f.DebugCallStackContext=new f("DebugCallStackContext"),f.DebugConsoleContext=new f("DebugConsoleContext"),f.DebugVariablesContext=new f("DebugVariablesContext"),f.DebugWatchContext=new f("DebugWatchContext"),f.DebugToolBar=new f("DebugToolBar"),f.EditorContext=new f("EditorContext"),f.SimpleEditorContext=new f("SimpleEditorContext"),f.EditorContextCopy=new f("EditorContextCopy"),f.EditorContextPeek=new f("EditorContextPeek"),f.EditorTitle=new f("EditorTitle"),f.EditorTitleRun=new f("EditorTitleRun"),f.EditorTitleContext=new f("EditorTitleContext"),f.EmptyEditorGroup=new f("EmptyEditorGroup"),f.EmptyEditorGroupContext=new f("EmptyEditorGroupContext"),f.ExplorerContext=new f("ExplorerContext"),f.ExtensionContext=new f("ExtensionContext"),f.GlobalActivity=new f("GlobalActivity"),f.LayoutControlMenuSubmenu=new f("LayoutControlMenuSubmenu"),f.LayoutControlMenu=new f("LayoutControlMenu"),f.MenubarMainMenu=new f("MenubarMainMenu"),f.MenubarAppearanceMenu=new f("MenubarAppearanceMenu"),f.MenubarDebugMenu=new f("MenubarDebugMenu"),f.MenubarEditMenu=new f("MenubarEditMenu"),f.MenubarCopy=new f("MenubarCopy"),f.MenubarFileMenu=new f("MenubarFileMenu"),f.MenubarGoMenu=new f("MenubarGoMenu"),f.MenubarHelpMenu=new f("MenubarHelpMenu"),f.MenubarLayoutMenu=new f("MenubarLayoutMenu"),f.MenubarNewBreakpointMenu=new f("MenubarNewBreakpointMenu"),f.MenubarPanelAlignmentMenu=new f("MenubarPanelAlignmentMenu"),f.MenubarPanelPositionMenu=new f("MenubarPanelPositionMenu"),f.MenubarPreferencesMenu=new f("MenubarPreferencesMenu"),f.MenubarRecentMenu=new f("MenubarRecentMenu"),f.MenubarSelectionMenu=new f("MenubarSelectionMenu"),f.MenubarSwitchEditorMenu=new f("MenubarSwitchEditorMenu"),f.MenubarSwitchGroupMenu=new f("MenubarSwitchGroupMenu"),f.MenubarTerminalMenu=new f("MenubarTerminalMenu"),f.MenubarViewMenu=new f("MenubarViewMenu"),f.MenubarHomeMenu=new f("MenubarHomeMenu"),f.OpenEditorsContext=new f("OpenEditorsContext"),f.ProblemsPanelContext=new f("ProblemsPanelContext"),f.SCMChangeContext=new f("SCMChangeContext"),f.SCMResourceContext=new f("SCMResourceContext"),f.SCMResourceFolderContext=new f("SCMResourceFolderContext"),f.SCMResourceGroupContext=new f("SCMResourceGroupContext"),f.SCMSourceControl=new f("SCMSourceControl"),f.SCMTitle=new f("SCMTitle"),f.SearchContext=new f("SearchContext"),f.StatusBarWindowIndicatorMenu=new f("StatusBarWindowIndicatorMenu"),f.StatusBarRemoteIndicatorMenu=new f("StatusBarRemoteIndicatorMenu"),f.TestItem=new f("TestItem"),f.TestItemGutter=new f("TestItemGutter"),f.TestPeekElement=new f("TestPeekElement"),f.TestPeekTitle=new f("TestPeekTitle"),f.TouchBarContext=new f("TouchBarContext"),f.TitleBarContext=new f("TitleBarContext"),f.TunnelContext=new f("TunnelContext"),f.TunnelPrivacy=new f("TunnelPrivacy"),f.TunnelProtocol=new f("TunnelProtocol"),f.TunnelPortInline=new f("TunnelInline"),f.TunnelTitle=new f("TunnelTitle"),f.TunnelLocalAddressInline=new f("TunnelLocalAddressInline"),f.TunnelOriginInline=new f("TunnelOriginInline"),f.ViewItemContext=new f("ViewItemContext"),f.ViewContainerTitle=new f("ViewContainerTitle"),f.ViewContainerTitleContext=new f("ViewContainerTitleContext"),f.ViewTitle=new f("ViewTitle"),f.ViewTitleContext=new f("ViewTitleContext"),f.CommentThreadTitle=new f("CommentThreadTitle"),f.CommentThreadActions=new f("CommentThreadActions"),f.CommentTitle=new f("CommentTitle"),f.CommentActions=new f("CommentActions"),f.InteractiveToolbar=new f("InteractiveToolbar"),f.InteractiveCellTitle=new f("InteractiveCellTitle"),f.InteractiveCellExecute=new f("InteractiveCellExecute"),f.InteractiveInputExecute=new f("InteractiveInputExecute"),f.NotebookToolbar=new f("NotebookToolbar"),f.NotebookCellTitle=new f("NotebookCellTitle"),f.NotebookCellInsert=new f("NotebookCellInsert"),f.NotebookCellBetween=new f("NotebookCellBetween"),f.NotebookCellListTop=new f("NotebookCellTop"),f.NotebookCellExecute=new f("NotebookCellExecute"),f.NotebookCellExecutePrimary=new f("NotebookCellExecutePrimary"),f.NotebookDiffCellInputTitle=new f("NotebookDiffCellInputTitle"),f.NotebookDiffCellMetadataTitle=new f("NotebookDiffCellMetadataTitle"),f.NotebookDiffCellOutputsTitle=new f("NotebookDiffCellOutputsTitle"),f.NotebookOutputToolbar=new f("NotebookOutputToolbar"),f.NotebookEditorLayoutConfigure=new f("NotebookEditorLayoutConfigure"),f.BulkEditTitle=new f("BulkEditTitle"),f.BulkEditContext=new f("BulkEditContext"),f.TimelineItemContext=new f("TimelineItemContext"),f.TimelineTitle=new f("TimelineTitle"),f.TimelineTitleContext=new f("TimelineTitleContext"),f.AccountsContext=new f("AccountsContext"),f.PanelTitle=new f("PanelTitle"),f.AuxiliaryBarTitle=new f("AuxiliaryBarTitle"),f.TerminalInstanceContext=new f("TerminalInstanceContext"),f.TerminalEditorInstanceContext=new f("TerminalEditorInstanceContext"),f.TerminalNewDropdownContext=new f("TerminalNewDropdownContext"),f.TerminalTabContext=new f("TerminalTabContext"),f.TerminalTabEmptyAreaContext=new f("TerminalTabEmptyAreaContext"),f.TerminalInlineTabContext=new f("TerminalInlineTabContext"),f.WebviewContext=new f("WebviewContext"),f.InlineCompletionsActions=new f("InlineCompletionsActions"),f.NewFile=new f("NewFile");const E=(0,P.yh)("menuService"),z=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Y.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:Z=>Z===f.CommandPalette}}addCommand(Z){return this.addCommands(W.$.single(Z))}addCommands(Z){for(const O of Z)this._commands.set(O.id,O);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,M.OF)(()=>{let O=!1;for(const I of Z)O=this._commands.delete(I.id)||O;O&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(Z){return this._commands.get(Z)}getCommands(){const Z=new Map;return this._commands.forEach((O,I)=>Z.set(I,O)),Z}appendMenuItem(Z,O){return this.appendMenuItems(W.$.single({id:Z,item:O}))}appendMenuItems(Z){const O=new Set,I=new i.S;for(const{id:$,item:j}of Z){let G=this._menuItems.get($);G||(G=new i.S,this._menuItems.set($,G)),I.push(G.push(j)),O.add($)}return this._onDidChangeMenu.fire(O),(0,M.OF)(()=>{if(I.size>0){for(let $ of I)$();this._onDidChangeMenu.fire(O),I.clear()}})}getMenuItems(Z){let O;return O=this._menuItems.has(Z)?[...this._menuItems.get(Z)]:[],Z===f.CommandPalette&&this._appendImplicitItems(O),O}_appendImplicitItems(Z){const O=new Set;for(const I of Z)x(I)&&(O.add(I.command.id),I.alt&&O.add(I.alt.id));this._commands.forEach((I,$)=>{O.has($)||Z.push({command:I})})}};class L extends D.wY{constructor(O,I,$,j){super(`submenuitem.${O.submenu.id}`,"string"==typeof O.title?O.title:O.title.value,[],"submenu"),this.item=O,this._menuService=I,this._contextKeyService=$,this._options=j}get actions(){const O=[],I=this._menuService.createMenu(this.item.submenu,this._contextKeyService),$=I.getActions(this._options);I.dispose();for(const[,j]of $)j.length>0&&(O.push(...j),O.push(new D.Z0));return O.length&&O.pop(),O}}let N=class ew{constructor(O,I,$,j,G){var oe,de;if(this._commandService=G,this.id=O.id,this.label=(null==$?void 0:$.renderShortTitle)&&O.shortTitle?"string"==typeof O.shortTitle?O.shortTitle:O.shortTitle.value:"string"==typeof O.title?O.title:O.title.value,this.tooltip=null!==(de="string"==typeof O.tooltip?O.tooltip:null===(oe=O.tooltip)||void 0===oe?void 0:oe.value)&&void 0!==de?de:"",this.enabled=!O.precondition||j.contextMatchesRules(O.precondition),this.checked=void 0,O.toggled){const fe=O.toggled.condition?O.toggled:{condition:O.toggled};this.checked=j.contextMatchesRules(fe.condition),this.checked&&fe.tooltip&&(this.tooltip="string"==typeof fe.tooltip?fe.tooltip:fe.tooltip.value),fe.title&&(this.label="string"==typeof fe.title?fe.title:fe.title.value)}this.item=O,this.alt=I?new ew(I,void 0,$,j,G):void 0,this._options=$,y.kS.isThemeIcon(O.icon)&&(this.class=g.dT.asClassName(O.icon))}dispose(){}run(...O){var I,$;let j=[];return(null===(I=this._options)||void 0===I?void 0:I.arg)&&(j=[...j,this._options.arg]),(null===($=this._options)||void 0===$?void 0:$.shouldForwardArgs)&&(j=[...j,...O]),this._commandService.executeCommand(this.id,...j)}};N=function(Z,O,I,$){var oe,j=arguments.length,G=j<3?O:null===$?$=Object.getOwnPropertyDescriptor(O,I):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(Z,O,I,$);else for(var de=Z.length-1;de>=0;de--)(oe=Z[de])&&(G=(j<3?oe(G):j>3?oe(O,I,G):oe(O,I))||G);return j>3&&G&&Object.defineProperty(O,I,G),G}([b(3,B.i6),b(4,T.Hy)],N)},37323:(Fe,Ee,p)=>{p.d(Ee,{p:()=>g});const g=(0,p(43569).yh)("clipboardService")},10467:(Fe,Ee,p)=>{p.d(Ee,{Hy:()=>T,P0:()=>B});var D=p(71040),g=p(58151),Y=p(40189),W=p(62253),M=p(99770);const T=(0,p(43569).yh)("commandService"),B=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new D.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(y,C){if(!y)throw new Error("invalid command");if("string"==typeof y){if(!C)throw new Error("invalid command");return this.registerCommand({id:y,handler:C})}if(y.description){const z=[];for(let N of y.description.args)z.push(N.constraint);const L=y.handler;y.handler=function(N,...Z){return(0,M.D8)(Z,z),L(N,...Z)}}const{id:b}=y;let x=this._commands.get(b);x||(x=new W.S,this._commands.set(b,x));let f=x.unshift(y),E=(0,Y.OF)(()=>{f();const z=this._commands.get(b);(null==z?void 0:z.isEmpty())&&this._commands.delete(b)});return this._onDidRegisterCommand.fire(b),E}registerCommandAlias(y,C){return B.registerCommand(y,(b,...x)=>b.get(T).executeCommand(C,...x))}getCommand(y){const C=this._commands.get(y);if(C&&!C.isEmpty())return g.$.first(C)}getCommands(){const y=new Map;for(const C of this._commands.keys()){const b=this.getCommand(C);b&&y.set(C,b)}return y}};B.registerCommand("noop",()=>{})},13011:(Fe,Ee,p)=>{p.d(Ee,{Ui:()=>g,Od:()=>Y,KV:()=>W,xL:()=>M,Mt:()=>T});const g=(0,p(43569).yh)("configurationService");function Y(B,P){const y=Object.create(null);for(let C in B)W(y,C,B[C],P);return y}function W(B,P,y,C){const b=P.split("."),x=b.pop();let f=B;for(let E=0;E<b.length;E++){let z=b[E],L=f[z];switch(typeof L){case"undefined":L=f[z]=Object.create(null);break;case"object":break;default:return void C(`Ignoring ${P} as ${b.slice(0,E+1).join(".")} is ${JSON.stringify(L)}`)}f=L}if("object"==typeof f&&null!==f)try{f[x]=y}catch{C(`Ignoring ${P} as ${b.join(".")} is ${JSON.stringify(f)}`)}else C(`Ignoring ${P} as ${b.join(".")} is ${JSON.stringify(f)}`)}function M(B,P){i(B,P.split("."))}function i(B,P){const y=P.shift();if(0!==P.length){if(-1!==Object.keys(B).indexOf(y)){const C=B[y];"object"==typeof C&&!Array.isArray(C)&&(i(C,P),0===Object.keys(C).length&&delete B[y])}}else delete B[y]}function T(B,P,y){const x=function(f,E){let z=f;for(const L of E){if("object"!=typeof z||null===z)return;z=z[L]}return z}(B,P.split("."));return void 0===x?y:x}},92778:(Fe,Ee,p)=>{p.d(Ee,{IP:()=>T,eU:()=>O,ny:()=>I});var D=p(89822),g=p(71040),Y=p(99770),W=p(12918),M=p(42620),i=p(63779);const T={Configuration:"base.contributions.configuration"},B={properties:{},patternProperties:{}},P={properties:{},patternProperties:{}},y={properties:{},patternProperties:{}},C={properties:{},patternProperties:{}},b={properties:{},patternProperties:{}},x={properties:{},patternProperties:{}},f="vscode://schemas/settings/resourceLanguage",E=i.B.as(M.I.JSONContribution),L="\\[([^\\]]+)\\]",N=new RegExp(L,"g"),Z=`^(${L})+$`,O=new RegExp(Z);function I(oe){const de=[];if(O.test(oe)){let fe=N.exec(oe);for(;null==fe?void 0:fe.length;){const pe=fe[1].trim();pe&&de.push(pe),fe=N.exec(oe)}}return(0,D.EB)(de)}const j=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new g.Q5,this._onDidUpdateConfiguration=new g.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:W.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},E.registerSchema(f,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(de,fe=!0){this.registerConfigurations([de],fe)}registerConfigurations(de,fe=!0){const pe=this.doRegisterConfigurations(de,fe);E.registerSchema(f,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:pe})}registerDefaultConfigurations(de){var fe;const pe=[],ye=[];for(const{overrides:ge,source:Q}of de)for(const ee in ge)if(pe.push(ee),O.test(ee)){const le=Object.assign(Object.assign({},(null===(fe=this.configurationDefaultsOverrides.get(ee))||void 0===fe?void 0:fe.value)||{}),ge[ee]);this.configurationDefaultsOverrides.set(ee,{source:Q,value:le});const te={type:"object",default:le,description:W.N("defaultLanguageConfiguration.description","Configure settings to be overridden for {0} language.",ee),$ref:f,defaultDefaultValue:le,source:Y.HD(Q)?void 0:Q};ye.push(...I(ee)),this.configurationProperties[ee]=te,this.defaultLanguageConfigurationOverridesNode.properties[ee]=te}else{this.configurationDefaultsOverrides.set(ee,{value:ge[ee],source:Q});const le=this.configurationProperties[ee];le&&(this.updatePropertyDefaultValue(ee,le),this.updateSchema(ee,le))}this.registerOverrideIdentifiers(ye),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:pe,defaultsOverrides:!0})}registerOverrideIdentifiers(de){for(const fe of de)this.overrideIdentifiers.add(fe);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(de,fe){const pe=[];return de.forEach(ye=>{pe.push(...this.validateAndRegisterProperties(ye,fe,ye.extensionInfo,ye.restrictedProperties)),this.configurationContributors.push(ye),this.registerJSONConfiguration(ye)}),pe}validateAndRegisterProperties(de,fe=!0,pe,ye,ge=3){ge=Y.Jp(de.scope)?ge:de.scope;let Q=[],ee=de.properties;if(ee)for(let te in ee){if(fe&&((oe=te).trim()?O.test(oe)?W.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",oe):void 0!==j.getConfigurationProperties()[oe]&&W.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",oe):W.N("config.property.empty","Cannot register an empty property"))){delete ee[te];continue}const J=ee[te];J.source=pe,J.defaultDefaultValue=ee[te].default,this.updatePropertyDefaultValue(te,J),O.test(te)?J.scope=void 0:(J.scope=Y.Jp(J.scope)?ge:J.scope,J.restricted=Y.Jp(J.restricted)?!!(null==ye?void 0:ye.includes(te)):J.restricted),!ee[te].hasOwnProperty("included")||ee[te].included?(this.configurationProperties[te]=ee[te],!ee[te].deprecationMessage&&ee[te].markdownDeprecationMessage&&(ee[te].deprecationMessage=ee[te].markdownDeprecationMessage),Q.push(te)):(this.excludedConfigurationProperties[te]=ee[te],delete ee[te])}var oe;let le=de.allOf;if(le)for(let te of le)Q.push(...this.validateAndRegisterProperties(te,fe,pe,ye,ge));return Q}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(de){const fe=pe=>{let ye=pe.properties;if(ye)for(const Q in ye)this.updateSchema(Q,ye[Q]);let ge=pe.allOf;ge&&ge.forEach(fe)};fe(de)}updateSchema(de,fe){switch(B.properties[de]=fe,fe.scope){case 1:P.properties[de]=fe;break;case 2:y.properties[de]=fe;break;case 6:C.properties[de]=fe;break;case 3:b.properties[de]=fe;break;case 4:x.properties[de]=fe;break;case 5:x.properties[de]=fe,this.resourceLanguageSettingsSchema.properties[de]=fe}}updateOverridePropertyPatternKey(){for(const de of this.overrideIdentifiers.values()){const fe=`[${de}]`,pe={type:"object",description:W.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:W.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:f};this.updatePropertyDefaultValue(fe,pe),B.properties[fe]=pe,P.properties[fe]=pe,y.properties[fe]=pe,C.properties[fe]=pe,b.properties[fe]=pe,x.properties[fe]=pe}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const de={type:"object",description:W.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:W.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:f};B.patternProperties[Z]=de,P.patternProperties[Z]=de,y.patternProperties[Z]=de,C.patternProperties[Z]=de,b.patternProperties[Z]=de,x.patternProperties[Z]=de,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(de,fe){const pe=this.configurationDefaultsOverrides.get(de);let ye=null==pe?void 0:pe.value,ge=null==pe?void 0:pe.source;Y.o8(ye)&&(ye=fe.defaultDefaultValue,ge=void 0),Y.o8(ye)&&(ye=function(oe){switch(Array.isArray(oe)?oe[0]:oe){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(fe.type)),fe.default=ye,fe.defaultValueSource=ge}};i.B.add(T.Configuration,j)},6461:(Fe,Ee,p)=>{p.d(Ee,{Ao:()=>i,Fb:()=>T,uy:()=>fe,i6:()=>pe,Eq:()=>ye,K8:()=>ee});var D=p(70700),g=p(74243),Y=p(43569);const W=new Map;W.set("false",!1),W.set("true",!0),W.set("isMac",D.dz),W.set("isLinux",D.IJ),W.set("isWindows",D.ED),W.set("isWeb",D.$L),W.set("isMacNative",D.dz&&!D.$L),W.set("isEdge",D.un),W.set("isFirefox",D.vU),W.set("isChrome",D.i7),W.set("isSafari",D.G6);const M=Object.prototype.hasOwnProperty;class i{static has(J){return C.create(J)}static equals(J,re){return b.create(J,re)}static regex(J,re){return $.create(J,re)}static not(J){return z.create(J)}static and(...J){return oe.create(J,null)}static or(...J){return de.create(J,null,!0)}static deserialize(J,re=!1){if(J)return this._deserializeOrExpression(J,re)}static _deserializeOrExpression(J,re){let ce=J.split("||");return de.create(ce.map(ve=>this._deserializeAndExpression(ve,re)),null,!0)}static _deserializeAndExpression(J,re){let ce=J.split("&&");return oe.create(ce.map(ve=>this._deserializeOne(ve,re)),null)}static _deserializeOne(J,re){if((J=J.trim()).indexOf("!=")>=0){let ce=J.split("!=");return E.create(ce[0].trim(),this._deserializeValue(ce[1],re))}if(J.indexOf("==")>=0){let ce=J.split("==");return b.create(ce[0].trim(),this._deserializeValue(ce[1],re))}if(J.indexOf("=~")>=0){let ce=J.split("=~");return $.create(ce[0].trim(),this._deserializeRegexValue(ce[1],re))}if(J.indexOf(" in ")>=0){let ce=J.split(" in ");return x.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(J)){const ce=J.split(">=");return Z.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(J)){const ce=J.split(">");return N.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(J)){const ce=J.split("<=");return I.create(ce[0].trim(),ce[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(J)){const ce=J.split("<");return O.create(ce[0].trim(),ce[1].trim())}return/^\!\s*/.test(J)?z.create(J.substr(1).trim()):C.create(J)}static _deserializeValue(J,re){if("true"===(J=J.trim()))return!0;if("false"===J)return!1;let ce=/^'([^']*)'$/.exec(J);return ce?ce[1].trim():J}static _deserializeRegexValue(J,re){if((0,g.m5)(J)){if(re)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let ce=J.indexOf("/"),ve=J.lastIndexOf("/");if(ce===ve||ce<0){if(re)throw new Error(`bad regexp-value '${J}', missing /-enclosure`);return console.warn(`bad regexp-value '${J}', missing /-enclosure`),null}let Ie=J.slice(ce+1,ve),We="i"===J[ve+1]?"i":"";try{return new RegExp(Ie,We)}catch(Ue){if(re)throw new Error(`bad regexp-value '${J}', parse error: ${Ue}`);return console.warn(`bad regexp-value '${J}', parse error: ${Ue}`),null}}}function T(te,J){const re=te?te.substituteConstants():void 0,ce=J?J.substituteConstants():void 0;return!re&&!ce||!(!re||!ce)&&re.equals(ce)}function B(te,J){return te.cmp(J)}class P{constructor(){this.type=0}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!1}serialize(){return"false"}keys(){return[]}negate(){return y.INSTANCE}}P.INSTANCE=new P;class y{constructor(){this.type=1}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!0}serialize(){return"true"}keys(){return[]}negate(){return P.INSTANCE}}y.INSTANCE=new y;class C{constructor(J,re){this.key=J,this.negated=re,this.type=2}static create(J,re=null){const ce=W.get(J);return"boolean"==typeof ce?ce?y.INSTANCE:P.INSTANCE:new C(J,re)}cmp(J){return J.type!==this.type?this.type-J.type:ge(this.key,J.key)}equals(J){return J.type===this.type&&this.key===J.key}substituteConstants(){const J=W.get(this.key);return"boolean"==typeof J?J?y.INSTANCE:P.INSTANCE:this}evaluate(J){return!!J.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=z.create(this.key,this)),this.negated}}class b{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=4}static create(J,re,ce=null){if("boolean"==typeof re)return re?C.create(J,ce):z.create(J,ce);const ve=W.get(J);return"boolean"==typeof ve?re===(ve?"true":"false")?y.INSTANCE:P.INSTANCE:new b(J,re,ce)}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){const J=W.get(this.key);return"boolean"==typeof J?this.value===(J?"true":"false")?y.INSTANCE:P.INSTANCE:this}evaluate(J){return J.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}class x{constructor(J,re){this.key=J,this.valueKey=re,this.type=10,this.negated=null}static create(J,re){return new x(J,re)}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.valueKey,J.key,J.valueKey)}equals(J){return J.type===this.type&&this.key===J.key&&this.valueKey===J.valueKey}substituteConstants(){return this}evaluate(J){const re=J.getValue(this.valueKey),ce=J.getValue(this.key);return Array.isArray(re)?re.indexOf(ce)>=0:"string"==typeof ce&&"object"==typeof re&&null!==re&&M.call(re,ce)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=f.create(this)),this.negated}}class f{constructor(J){this._actual=J,this.type=11}static create(J){return new f(J)}cmp(J){return J.type!==this.type?this.type-J.type:this._actual.cmp(J._actual)}equals(J){return J.type===this.type&&this._actual.equals(J._actual)}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class E{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=5}static create(J,re,ce=null){if("boolean"==typeof re)return re?z.create(J,ce):C.create(J,ce);const ve=W.get(J);return"boolean"==typeof ve?re===(ve?"true":"false")?P.INSTANCE:y.INSTANCE:new E(J,re,ce)}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){const J=W.get(this.key);return"boolean"==typeof J?this.value===(J?"true":"false")?P.INSTANCE:y.INSTANCE:this}evaluate(J){return J.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class z{constructor(J,re){this.key=J,this.negated=re,this.type=3}static create(J,re=null){const ce=W.get(J);return"boolean"==typeof ce?ce?P.INSTANCE:y.INSTANCE:new z(J,re)}cmp(J){return J.type!==this.type?this.type-J.type:ge(this.key,J.key)}equals(J){return J.type===this.type&&this.key===J.key}substituteConstants(){const J=W.get(this.key);return"boolean"==typeof J?J?P.INSTANCE:y.INSTANCE:this}evaluate(J){return!J.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this)),this.negated}}function L(te,J){if("string"==typeof te){const re=parseFloat(te);isNaN(re)||(te=re)}return"string"==typeof te||"number"==typeof te?J(te):P.INSTANCE}class N{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=12}static create(J,re,ce=null){return L(re,ve=>new N(J,ve,ce))}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){return this}evaluate(J){return"string"!=typeof this.value&&parseFloat(J.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this.value,this)),this.negated}}class Z{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=13}static create(J,re,ce=null){return L(re,ve=>new Z(J,ve,ce))}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){return this}evaluate(J){return"string"!=typeof this.value&&parseFloat(J.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=O.create(this.key,this.value,this)),this.negated}}class O{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=14}static create(J,re,ce=null){return L(re,ve=>new O(J,ve,ce))}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){return this}evaluate(J){return"string"!=typeof this.value&&parseFloat(J.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Z.create(this.key,this.value,this)),this.negated}}class I{constructor(J,re,ce){this.key=J,this.value=re,this.negated=ce,this.type=15}static create(J,re,ce=null){return L(re,ve=>new I(J,ve,ce))}cmp(J){return J.type!==this.type?this.type-J.type:Q(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type&&this.key===J.key&&this.value===J.value}substituteConstants(){return this}evaluate(J){return"string"!=typeof this.value&&parseFloat(J.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}class ${constructor(J,re){this.key=J,this.regexp=re,this.type=7,this.negated=null}static create(J,re){return new $(J,re)}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.key<J.key)return-1;if(this.key>J.key)return 1;const re=this.regexp?this.regexp.source:"",ce=J.regexp?J.regexp.source:"";return re<ce?-1:re>ce?1:0}equals(J){if(J.type===this.type){const re=this.regexp?this.regexp.source:"",ce=J.regexp?J.regexp.source:"";return this.key===J.key&&re===ce}return!1}substituteConstants(){return this}evaluate(J){let re=J.getValue(this.key);return!!this.regexp&&this.regexp.test(re)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=j.create(this)),this.negated}}class j{constructor(J){this._actual=J,this.type=8}static create(J){return new j(J)}cmp(J){return J.type!==this.type?this.type-J.type:this._actual.cmp(J._actual)}equals(J){return J.type===this.type&&this._actual.equals(J._actual)}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function G(te){let J=null;for(let re=0,ce=te.length;re<ce;re++){const ve=te[re].substituteConstants();if(te[re]!==ve&&null===J){J=[];for(let Ie=0;Ie<re;Ie++)J[Ie]=te[Ie]}null!==J&&(J[re]=ve)}return null===J?te:J}class oe{constructor(J,re){this.expr=J,this.negated=re,this.type=6}static create(J,re){return oe._normalizeArr(J,re)}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let re=0,ce=this.expr.length;re<ce;re++){const ve=B(this.expr[re],J.expr[re]);if(0!==ve)return ve}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let re=0,ce=this.expr.length;re<ce;re++)if(!this.expr[re].equals(J.expr[re]))return!1;return!0}return!1}substituteConstants(){const J=G(this.expr);return J===this.expr?this:oe.create(J,this.negated)}evaluate(J){for(let re=0,ce=this.expr.length;re<ce;re++)if(!this.expr[re].evaluate(J))return!1;return!0}static _normalizeArr(J,re){const ce=[];let ve=!1;for(const Ie of J)if(Ie){if(1===Ie.type){ve=!0;continue}if(0===Ie.type)return P.INSTANCE;if(6===Ie.type){ce.push(...Ie.expr);continue}ce.push(Ie)}if(0===ce.length&&ve)return y.INSTANCE;if(0!==ce.length){if(1===ce.length)return ce[0];ce.sort(B);for(let Ie=1;Ie<ce.length;Ie++)ce[Ie-1].equals(ce[Ie])&&(ce.splice(Ie,1),Ie--);if(1===ce.length)return ce[0];for(;ce.length>1;){const Ie=ce[ce.length-1];if(9!==Ie.type)break;ce.pop();const We=ce.pop(),Ue=0===ce.length,ue=de.create(Ie.expr.map(Ce=>oe.create([Ce,We],null)),null,Ue);ue&&(ce.push(ue),ce.sort(B))}return 1===ce.length?ce[0]:new oe(ce,re)}}serialize(){return this.expr.map(J=>J.serialize()).join(" && ")}keys(){const J=[];for(let re of this.expr)J.push(...re.keys());return J}negate(){if(!this.negated){const J=[];for(let re of this.expr)J.push(re.negate());this.negated=de.create(J,this,!0)}return this.negated}}class de{constructor(J,re){this.expr=J,this.negated=re,this.type=9}static create(J,re,ce){return de._normalizeArr(J,re,ce)}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let re=0,ce=this.expr.length;re<ce;re++){const ve=B(this.expr[re],J.expr[re]);if(0!==ve)return ve}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let re=0,ce=this.expr.length;re<ce;re++)if(!this.expr[re].equals(J.expr[re]))return!1;return!0}return!1}substituteConstants(){const J=G(this.expr);return J===this.expr?this:de.create(J,this.negated,!1)}evaluate(J){for(let re=0,ce=this.expr.length;re<ce;re++)if(this.expr[re].evaluate(J))return!0;return!1}static _normalizeArr(J,re,ce){let ve=[],Ie=!1;if(J){for(let We=0,Ue=J.length;We<Ue;We++){const ue=J[We];if(ue){if(0===ue.type){Ie=!0;continue}if(1===ue.type)return y.INSTANCE;if(9===ue.type){ve=ve.concat(ue.expr);continue}ve.push(ue)}}if(0===ve.length&&Ie)return P.INSTANCE;ve.sort(B)}if(0!==ve.length){if(1===ve.length)return ve[0];for(let We=1;We<ve.length;We++)ve[We-1].equals(ve[We])&&(ve.splice(We,1),We--);if(1===ve.length)return ve[0];if(ce){for(let We=0;We<ve.length;We++)for(let Ue=We+1;Ue<ve.length;Ue++)ee(ve[We],ve[Ue])&&(ve.splice(Ue,1),Ue--);if(1===ve.length)return ve[0]}return new de(ve,re)}}serialize(){return this.expr.map(J=>J.serialize()).join(" || ")}keys(){const J=[];for(let re of this.expr)J.push(...re.keys());return J}negate(){if(!this.negated){let J=[];for(let re of this.expr)J.push(re.negate());for(;J.length>1;){const re=J.shift(),ce=J.shift(),ve=[];for(const We of le(re))for(const Ue of le(ce))ve.push(oe.create([We,Ue],null));J.unshift(de.create(ve,null,0===J.length))}this.negated=J[0]}return this.negated}}let fe=(()=>{class te extends C{constructor(re,ce,ve){super(re,null),this._defaultValue=ce,"object"==typeof ve?te._info.push(Object.assign(Object.assign({},ve),{key:re})):!0!==ve&&te._info.push({key:re,description:ve,type:null!=ce?typeof ce:void 0})}static all(){return te._info.values()}bindTo(re){return re.createKey(this.key,this._defaultValue)}getValue(re){return re.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(re){return b.create(this.key,re)}}return te._info=[],te})();const pe=(0,Y.yh)("contextKeyService"),ye="setContext";function ge(te,J){return te<J?-1:te>J?1:0}function Q(te,J,re,ce){return te<re?-1:te>re?1:J<ce?-1:J>ce?1:0}function ee(te,J){if(6===J.type&&9!==te.type&&6!==te.type)for(const ve of J.expr)if(te.equals(ve))return!0;const ce=le(te.negate()).concat(le(J));ce.sort(B);for(let ve=0;ve<ce.length;ve++){const We=ce[ve].negate();for(let Ue=ve+1;Ue<ce.length;Ue++)if(We.equals(ce[Ue]))return!0}return!1}function le(te){return 9===te.type?te.expr:[te]}},70114:(Fe,Ee,p)=>{p.d(Ee,{cv:()=>i,d0:()=>C});var D=p(70700),g=p(12918),Y=p(6461);new Y.uy("isMac",D.dz,(0,g.N)("isMac","Whether the operating system is macOS")),new Y.uy("isLinux",D.IJ,(0,g.N)("isLinux","Whether the operating system is Linux"));const i=new Y.uy("isWindows",D.ED,(0,g.N)("isWindows","Whether the operating system is Windows")),C=(new Y.uy("isWeb",D.$L,(0,g.N)("isWeb","Whether the platform is a web browser")),new Y.uy("isMacNative",D.dz&&!D.$L,(0,g.N)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new Y.uy("isIOS",D.gn,(0,g.N)("isIOS","Whether the operating system is iOS")),new Y.uy("isDevelopment",!1,!0),"inputFocus");new Y.uy(C,!1,(0,g.N)("inputFocus","Whether keyboard focus is inside an input box"))},9719:(Fe,Ee,p)=>{p.d(Ee,{u:()=>g,i:()=>Y});var D=p(43569);const g=(0,D.yh)("contextViewService"),Y=(0,D.yh)("contextMenuService")},4890:(Fe,Ee,p)=>{p.d(Ee,{S:()=>g});const g=(0,p(43569).yh)("dialogService")},24286:(Fe,Ee,p)=>{p.d(Ee,{M:()=>D});class D{constructor(Y,W=[],M=!1){this.ctor=Y,this.staticArguments=W,this.supportsDelayedInstantiation=M}}},26033:(Fe,Ee,p)=>{p.d(Ee,{z:()=>Y,d:()=>W});var D=p(24286);const g=[];function Y(M,i,T){i instanceof D.M||(i=new D.M(i,[],T)),g.push([M,i])}function W(){return g}},43569:(Fe,Ee,p)=>{var D,M;p.d(Ee,{I8:()=>D,TG:()=>g,yh:()=>W}),(M=D||(D={})).serviceIds=new Map,M.DI_TARGET="$di$target",M.DI_DEPENDENCIES="$di$dependencies",M.getServiceDependencies=function(T){return T[M.DI_DEPENDENCIES]||[]};const g=W("instantiationService");function Y(M,i,T){i[D.DI_TARGET]===i?i[D.DI_DEPENDENCIES].push({id:M,index:T}):(i[D.DI_DEPENDENCIES]=[{id:M,index:T}],i[D.DI_TARGET]=i)}function W(M){if(D.serviceIds.has(M))return D.serviceIds.get(M);const i=function(T,B,P){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Y(i,T,P)};return i.toString=()=>M,D.serviceIds.set(M,i),i}},9771:(Fe,Ee,p)=>{p.d(Ee,{y:()=>D});class D{constructor(...Y){this._entries=new Map;for(let[W,M]of Y)this.set(W,M)}set(Y,W){const M=this._entries.get(Y);return this._entries.set(Y,W),M}get(Y){return this._entries.get(Y)}}},42620:(Fe,Ee,p)=>{p.d(Ee,{I:()=>Y});var D=p(71040),g=p(63779);const Y={JSONContribution:"base.contributions.json"},i=new class{constructor(){this._onDidChangeSchema=new D.Q5,this.schemasById={}}registerSchema(B,P){var T;this.schemasById[(T=B,T.length>0&&"#"===T.charAt(T.length-1)?T.substring(0,T.length-1):T)]=P,this._onDidChangeSchema.fire(B)}notifySchemaChanged(B){this._onDidChangeSchema.fire(B)}};g.B.add(Y.JSONContribution,i)},96938:(Fe,Ee,p)=>{p.d(Ee,{d:()=>g});const g=(0,p(43569).yh)("keybindingService")},22115:(Fe,Ee,p)=>{p.d(Ee,{W:()=>i});var D=p(99315),g=p(70700),Y=p(10467),W=p(63779);class M{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(y){if(1===g.OS){if(y&&y.win)return y.win}else if(2===g.OS){if(y&&y.mac)return y.mac}else if(y&&y.linux)return y.linux;return y}registerKeybindingRule(y){const C=M.bindToCurrentPlatform(y);if(C&&C.primary){const b=(0,D.gm)(C.primary,g.OS);b&&this._registerDefaultKeybinding(b,y.id,y.args,y.weight,0,y.when)}if(C&&Array.isArray(C.secondary))for(let b=0,x=C.secondary.length;b<x;b++){const E=(0,D.gm)(C.secondary[b],g.OS);E&&this._registerDefaultKeybinding(E,y.id,y.args,y.weight,-b-1,y.when)}}registerCommandAndKeybindingRule(y){this.registerKeybindingRule(y),Y.P0.registerCommand(y)}static _mightProduceChar(y){return y>=21&&y<=30||y>=31&&y<=56||80===y||81===y||82===y||83===y||84===y||85===y||86===y||110===y||111===y||87===y||88===y||89===y||90===y||91===y||92===y}_assertNoCtrlAlt(y,C){y.ctrlKey&&y.altKey&&!y.metaKey&&M._mightProduceChar(y.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",y," for ",C)}_registerDefaultKeybinding(y,C,b,x,f,E){1===g.OS&&this._assertNoCtrlAlt(y.parts[0],C),this._coreKeybindings.push({keybinding:y.parts,command:C,commandArgs:b,when:E,weight1:x,weight2:f,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(B)),this._cachedMergedKeybindings.slice(0)}}const i=new M;function B(P,y){return P.weight1!==y.weight1?P.weight1-y.weight1:P.command<y.command?-1:P.command>y.command?1:P.weight2-y.weight2}W.B.add("platform.keybindingsRegistry",i)},7022:(Fe,Ee,p)=>{p.d(Ee,{e:()=>g});const g=(0,p(43569).yh)("labelService")},68526:(Fe,Ee,p)=>{p.d(Ee,{Lw:()=>Pi,XN:()=>ri,ls:()=>ji,ev:()=>Ao,CQ:()=>pi,PS:()=>Ui,uJ:()=>ni});var D=p(86678),g=p(89822),Y=p(66607),W=p(71040),M=p(40189),T=(p(72010),p(2393));class B{constructor(A,h){this.renderer=A,this.modelProvider=h}get templateId(){return this.renderer.templateId}renderTemplate(A){return{data:this.renderer.renderTemplate(A),disposable:M.JT.None}}renderElement(A,h,S,V){if(S.disposable&&S.disposable.dispose(),!S.data)return;const ne=this.modelProvider();if(ne.isResolved(A))return this.renderer.renderElement(ne.get(A),A,S.data,V);const ae=new Y.A,be=ne.resolve(A,ae.token);S.disposable={dispose:()=>ae.cancel()},this.renderer.renderPlaceholder(A,S.data),be.then(Oe=>this.renderer.renderElement(Oe,A,S.data,V))}disposeTemplate(A){A.disposable&&(A.disposable.dispose(),A.disposable=void 0),A.data&&(this.renderer.disposeTemplate(A.data),A.data=void 0)}}class P{constructor(A,h){this.modelProvider=A,this.accessibilityProvider=h}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(A){const h=this.modelProvider();return h.isResolved(A)?this.accessibilityProvider.getAriaLabel(h.get(A)):null}}var b=p(14410);p(75601);let f=(()=>{class yt{constructor(h,S,V){this.columns=h,this.getColumnSize=V,this.templateId=yt.TemplateId,this.renderedTemplates=new Set;const ne=new Map(S.map(ae=>[ae.templateId,ae]));this.renderers=[];for(const ae of h){const be=ne.get(ae.templateId);if(!be)throw new Error(`Table cell renderer for template id ${ae.templateId} not found.`);this.renderers.push(be)}}renderTemplate(h){const S=(0,D.R3)(h,(0,D.$)(".monaco-table-tr")),V=[],ne=[];for(let be=0;be<this.columns.length;be++){const Oe=this.renderers[be],Re=(0,D.R3)(S,(0,D.$)(".monaco-table-td",{"data-col-index":be}));Re.style.width=`${this.getColumnSize(be)}px`,V.push(Re),ne.push(Oe.renderTemplate(Re))}const ae={container:h,cellContainers:V,cellTemplateData:ne};return this.renderedTemplates.add(ae),ae}renderElement(h,S,V,ne){for(let ae=0;ae<this.columns.length;ae++){const Oe=this.columns[ae].project(h);this.renderers[ae].renderElement(Oe,S,V.cellTemplateData[ae],ne)}}disposeElement(h,S,V,ne){for(let ae=0;ae<this.columns.length;ae++){const be=this.renderers[ae];if(be.disposeElement){const Re=this.columns[ae].project(h);be.disposeElement(Re,S,V.cellTemplateData[ae],ne)}}}disposeTemplate(h){for(let S=0;S<this.columns.length;S++)this.renderers[S].disposeTemplate(h.cellTemplateData[S]);(0,D.PO)(h.container),this.renderedTemplates.delete(h)}layoutColumn(h,S){for(const{cellContainers:V}of this.renderedTemplates)V[h].style.width=`${S}px`}}return yt.TemplateId="row",yt})();class z{constructor(A,h){this.column=A,this.index=h,this._onDidLayout=new W.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,D.$)(".monaco-table-th",{"data-col-index":h,title:A.tooltip},A.label)}get minimumSize(){var A;return null!==(A=this.column.minimumWidth)&&void 0!==A?A:120}get maximumSize(){var A;return null!==(A=this.column.maximumWidth)&&void 0!==A?A:Number.POSITIVE_INFINITY}get onDidChange(){var A;return null!==(A=this.column.onDidChangeWidthConstraints)&&void 0!==A?A:W.ju.None}layout(A){this._onDidLayout.fire([this.index,A])}}let L=(()=>{class yt{constructor(h,S,V,ne,ae,be){this.virtualDelegate=V,this.domId="table_id_"+ ++yt.InstanceCount,this.disposables=new M.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,D.R3)(S,(0,D.$)(`.monaco-table.${this.domId}`));const Oe=ne.map((Qe,ot)=>new z(Qe,ot)),Re={size:Oe.reduce((Qe,ot)=>Qe+ot.column.weight,0),views:Oe.map(Qe=>({size:Qe.column.weight,view:Qe}))};this.splitview=this.disposables.add(new b.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Re})),this.splitview.el.style.height=`${V.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${V.headerRowHeight}px`;const Ze=new f(ne,ae,Qe=>this.splitview.getViewSize(Qe));this.list=this.disposables.add(new T.aV(h,this.domNode,function(yt){return{getHeight:A=>yt.getHeight(A),getTemplateId:()=>f.TemplateId}}(V),[Ze],be)),W.ju.any(...Oe.map(Qe=>Qe.onDidLayout))(([Qe,ot])=>Ze.layoutColumn(Qe,ot),null,this.disposables),this.splitview.onDidSashReset(Qe=>{const ot=ne.reduce((gt,Mt)=>gt+Mt.weight,0);this.splitview.resizeView(Qe,ne[Qe].weight/ot*this.cachedWidth)},null,this.disposables),this.styleElement=(0,D.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(h){this.list.updateOptions(h)}splice(h,S,V=[]){this.list.splice(h,S,V)}getHTMLElement(){return this.domNode}style(h){const S=[];S.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=S.join("\n"),this.list.style(h)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return yt.InstanceCount=0,yt})();var N=p(87136),Z=p(34122),O=p(71172),I=p(714),$=(()=>{return(yt=$||($={}))[yt.Unknown=0]="Unknown",yt[yt.Twistie=1]="Twistie",yt[yt.Element=2]="Element",$;var yt})();class j extends Error{constructor(A,h){super(`TreeError [${A}] ${h}`)}}class G{constructor(A){this.fn=A,this._map=new WeakMap}map(A){let h=this._map.get(A);return h||(h=this.fn(A),this._map.set(A,h)),h}}var oe=p(89983),de=p(87481),fe=p(58151);function pe(yt){return"object"==typeof yt&&"visibility"in yt&&"data"in yt}function ye(yt){switch(yt){case!0:return 1;case!1:return 0;default:return yt}}function ge(yt){return"boolean"==typeof yt.collapsible}class Q{constructor(A,h,S,V={}){this.user=A,this.list=h,this.rootRef=[],this.eventBufferer=new W.E7,this._onDidChangeCollapseState=new W.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new W.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new W.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new oe.vp(oe.ne),this.collapseByDefault=void 0!==V.collapseByDefault&&V.collapseByDefault,this.filter=V.filter,this.autoExpandSingleChildren=void 0!==V.autoExpandSingleChildren&&V.autoExpandSingleChildren,this.root={parent:void 0,element:S,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(A,h,S=fe.$.empty(),V={}){if(0===A.length)throw new j(this.user,"Invalid tree location");V.diffIdentityProvider?this.spliceSmart(V.diffIdentityProvider,A,h,S,V):this.spliceSimple(A,h,S,V)}spliceSmart(A,h,S,V,ne,ae){var be;void 0===V&&(V=fe.$.empty()),void 0===ae&&(ae=null!==(be=ne.diffDepth)&&void 0!==be?be:0);const{parentNode:Oe}=this.getParentNodeWithListIndex(h);if(!Oe.lastDiffIds)return this.spliceSimple(h,S,V,ne);const Re=[...V],Ze=h[h.length-1],Qe=new de.Hs({getElements:()=>Oe.lastDiffIds},{getElements:()=>[...Oe.children.slice(0,Ze),...Re,...Oe.children.slice(Ze+S)].map(Bt=>A.getId(Bt.element).toString())}).ComputeDiff(!1);if(Qe.quitEarly)return Oe.lastDiffIds=void 0,this.spliceSimple(h,S,Re,ne);const ot=h.slice(0,-1),ht=(Bt,Zt,Nn)=>{if(ae>0)for(let Xn=0;Xn<Nn;Xn++)Bt--,Zt--,this.spliceSmart(A,[...ot,Bt,0],Number.MAX_SAFE_INTEGER,Re[Zt].children,ne,ae-1)};let gt=Math.min(Oe.children.length,Ze+S),Mt=Re.length;for(const Bt of Qe.changes.sort((Zt,Nn)=>Nn.originalStart-Zt.originalStart))ht(gt,Mt,gt-(Bt.originalStart+Bt.originalLength)),gt=Bt.originalStart,Mt=Bt.modifiedStart-Ze,this.spliceSimple([...ot,gt],Bt.originalLength,fe.$.slice(Re,Mt,Mt+Bt.modifiedLength),ne);ht(gt,Mt,gt)}spliceSimple(A,h,S=fe.$.empty(),{onDidCreateNode:V,onDidDeleteNode:ne,diffIdentityProvider:ae}){const{parentNode:be,listIndex:Oe,revealed:Re,visible:Ze}=this.getParentNodeWithListIndex(A),Qe=[],ot=fe.$.map(S,ai=>this.createTreeNode(ai,be,be.visible?1:0,Re,Qe,V)),ht=A[A.length-1],gt=be.children.length>0;let Mt=0;for(let ai=ht;ai>=0&&ai<be.children.length;ai--){const go=be.children[ai];if(go.visible){Mt=go.visibleChildIndex;break}}const Bt=[];let Zt=0,Nn=0;for(const ai of ot)Bt.push(ai),Nn+=ai.renderNodeCount,ai.visible&&(ai.visibleChildIndex=Mt+Zt++);const Xn=(0,g.db)(be.children,ht,h,Bt);ae?be.lastDiffIds?(0,g.db)(be.lastDiffIds,ht,h,Bt.map(ai=>ae.getId(ai.element).toString())):be.lastDiffIds=be.children.map(ai=>ae.getId(ai.element).toString()):be.lastDiffIds=void 0;let ci=0;for(const ai of Xn)ai.visible&&ci++;if(0!==ci)for(let ai=ht+Bt.length;ai<be.children.length;ai++){const go=be.children[ai];go.visible&&(go.visibleChildIndex-=ci)}if(be.visibleChildrenCount+=Zt-ci,Re&&Ze){const ai=Xn.reduce((go,Fs)=>go+(Fs.visible?Fs.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(be,Nn-ai),this.list.splice(Oe,ai,Qe)}if(Xn.length>0&&ne){const ai=go=>{ne(go),go.children.forEach(ai)};Xn.forEach(ai)}this._onDidSplice.fire({insertedNodes:Bt,deletedNodes:Xn});const _t=be.children.length>0;gt!==_t&&this.setCollapsible(A.slice(0,-1),_t);let Ai=be;for(;Ai;){if(2===Ai.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}Ai=Ai.parent}}rerender(A){if(0===A.length)throw new j(this.user,"Invalid tree location");const{node:h,listIndex:S,revealed:V}=this.getTreeNodeWithListIndex(A);h.visible&&V&&this.list.splice(S,1,[h])}has(A){return this.hasTreeNode(A)}getListIndex(A){const{listIndex:h,visible:S,revealed:V}=this.getTreeNodeWithListIndex(A);return S&&V?h:-1}getListRenderCount(A){return this.getTreeNode(A).renderNodeCount}isCollapsible(A){return this.getTreeNode(A).collapsible}setCollapsible(A,h){const S=this.getTreeNode(A);void 0===h&&(h=!S.collapsible);const V={collapsible:h};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(A,V))}isCollapsed(A){return this.getTreeNode(A).collapsed}setCollapsed(A,h,S){const V=this.getTreeNode(A);void 0===h&&(h=!V.collapsed);const ne={collapsed:h,recursive:S||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(A,ne))}_setCollapseState(A,h){const{node:S,listIndex:V,revealed:ne}=this.getTreeNodeWithListIndex(A),ae=this._setListNodeCollapseState(S,V,ne,h);if(S!==this.root&&this.autoExpandSingleChildren&&ae&&!ge(h)&&S.collapsible&&!S.collapsed&&!h.recursive){let be=-1;for(let Oe=0;Oe<S.children.length;Oe++)if(S.children[Oe].visible){if(be>-1){be=-1;break}be=Oe}be>-1&&this._setCollapseState([...A,be],h)}return ae}_setListNodeCollapseState(A,h,S,V){const ne=this._setNodeCollapseState(A,V,!1);if(!S||!A.visible||!ne)return ne;const ae=A.renderNodeCount,be=this.updateNodeAfterCollapseChange(A);return this.list.splice(h+1,ae-(-1===h?0:1),be.slice(1)),ne}_setNodeCollapseState(A,h,S){let V;if(A===this.root?V=!1:(ge(h)?(V=A.collapsible!==h.collapsible,A.collapsible=h.collapsible):A.collapsible?(V=A.collapsed!==h.collapsed,A.collapsed=h.collapsed):V=!1,V&&this._onDidChangeCollapseState.fire({node:A,deep:S})),!ge(h)&&h.recursive)for(const ne of A.children)V=this._setNodeCollapseState(ne,h,!0)||V;return V}expandTo(A){this.eventBufferer.bufferEvents(()=>{let h=this.getTreeNode(A);for(;h.parent;)h=h.parent,A=A.slice(0,A.length-1),h.collapsed&&this._setCollapseState(A,{collapsed:!1,recursive:!1})})}refilter(){const A=this.root.renderNodeCount,h=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,A,h),this.refilterDelayer.cancel()}createTreeNode(A,h,S,V,ne,ae){const be={parent:h,element:A.element,children:[],depth:h.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof A.collapsible?A.collapsible:void 0!==A.collapsed,collapsed:void 0===A.collapsed?this.collapseByDefault:A.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},Oe=this._filterNode(be,S);be.visibility=Oe,V&&ne.push(be);const Re=A.children||fe.$.empty(),Ze=V&&0!==Oe&&!be.collapsed,Qe=fe.$.map(Re,gt=>this.createTreeNode(gt,be,Oe,Ze,ne,ae));let ot=0,ht=1;for(const gt of Qe)be.children.push(gt),ht+=gt.renderNodeCount,gt.visible&&(gt.visibleChildIndex=ot++);return be.collapsible=be.collapsible||be.children.length>0,be.visibleChildrenCount=ot,be.visible=2===Oe?ot>0:1===Oe,be.visible?be.collapsed||(be.renderNodeCount=ht):(be.renderNodeCount=0,V&&ne.pop()),ae&&ae(be),be}updateNodeAfterCollapseChange(A){const h=A.renderNodeCount,S=[];return this._updateNodeAfterCollapseChange(A,S),this._updateAncestorsRenderNodeCount(A.parent,S.length-h),S}_updateNodeAfterCollapseChange(A,h){if(!1===A.visible)return 0;if(h.push(A),A.renderNodeCount=1,!A.collapsed)for(const S of A.children)A.renderNodeCount+=this._updateNodeAfterCollapseChange(S,h);return this._onDidChangeRenderNodeCount.fire(A),A.renderNodeCount}updateNodeAfterFilterChange(A){const h=A.renderNodeCount,S=[];return this._updateNodeAfterFilterChange(A,A.visible?1:0,S),this._updateAncestorsRenderNodeCount(A.parent,S.length-h),S}_updateNodeAfterFilterChange(A,h,S,V=!0){let ne;if(A!==this.root){if(ne=this._filterNode(A,h),0===ne)return A.visible=!1,A.renderNodeCount=0,!1;V&&S.push(A)}const ae=S.length;A.renderNodeCount=A===this.root?0:1;let be=!1;if(A.collapsed&&0===ne)A.visibleChildrenCount=0;else{let Oe=0;for(const Re of A.children)be=this._updateNodeAfterFilterChange(Re,ne,S,V&&!A.collapsed)||be,Re.visible&&(Re.visibleChildIndex=Oe++);A.visibleChildrenCount=Oe}return A!==this.root&&(A.visible=2===ne?be:1===ne,A.visibility=ne),A.visible?A.collapsed||(A.renderNodeCount+=S.length-ae):(A.renderNodeCount=0,V&&S.pop()),this._onDidChangeRenderNodeCount.fire(A),A.visible}_updateAncestorsRenderNodeCount(A,h){if(0!==h)for(;A;)A.renderNodeCount+=h,this._onDidChangeRenderNodeCount.fire(A),A=A.parent}_filterNode(A,h){const S=this.filter?this.filter.filter(A.element,h):1;return"boolean"==typeof S?(A.filterData=void 0,S?1:0):pe(S)?(A.filterData=S.data,ye(S.visibility)):(A.filterData=void 0,ye(S))}hasTreeNode(A,h=this.root){if(!A||0===A.length)return!0;const[S,...V]=A;return!(S<0||S>h.children.length)&&this.hasTreeNode(V,h.children[S])}getTreeNode(A,h=this.root){if(!A||0===A.length)return h;const[S,...V]=A;if(S<0||S>h.children.length)throw new j(this.user,"Invalid tree location");return this.getTreeNode(V,h.children[S])}getTreeNodeWithListIndex(A){if(0===A.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:h,listIndex:S,revealed:V,visible:ne}=this.getParentNodeWithListIndex(A),ae=A[A.length-1];if(ae<0||ae>h.children.length)throw new j(this.user,"Invalid tree location");const be=h.children[ae];return{node:be,listIndex:S,revealed:V,visible:ne&&be.visible}}getParentNodeWithListIndex(A,h=this.root,S=0,V=!0,ne=!0){const[ae,...be]=A;if(ae<0||ae>h.children.length)throw new j(this.user,"Invalid tree location");for(let Oe=0;Oe<ae;Oe++)S+=h.children[Oe].renderNodeCount;return V=V&&!h.collapsed,ne=ne&&h.visible,0===be.length?{parentNode:h,listIndex:S,revealed:V,visible:ne}:this.getParentNodeWithListIndex(be,h.children[ae],S+1,V,ne)}getNode(A=[]){return this.getTreeNode(A)}getNodeLocation(A){const h=[];let S=A;for(;S.parent;)h.push(S.parent.children.indexOf(S)),S=S.parent;return h.reverse()}getParentNodeLocation(A){if(0!==A.length)return 1===A.length?[]:(0,g.JH)(A)[0]}getFirstElementChild(A){const h=this.getTreeNode(A);if(0!==h.children.length)return h.children[0].element}}var ee=p(78968),le=p(81530),te=p(56260),J=p(31096),re=p(70700),ve=(p(79652),p(12918));class Ie extends N.kX{constructor(A){super(A.elements.map(h=>h.element)),this.data=A}}function We(yt){return yt instanceof N.kX?new Ie(yt):yt}class Ue{constructor(A,h){this.modelProvider=A,this.dnd=h,this.autoExpandDisposable=M.JT.None}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,h){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(S=>S.element),h)}onDragStart(A,h){this.dnd.onDragStart&&this.dnd.onDragStart(We(A),h)}onDragOver(A,h,S,V,ne=!0){const ae=this.dnd.onDragOver(We(A),h&&h.element,S,V),be=this.autoExpandNode!==h;if(be&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=h),void 0===h)return ae;if(be&&"boolean"!=typeof ae&&ae.autoExpand&&(this.autoExpandDisposable=(0,oe.Vg)(()=>{const ot=this.modelProvider(),ht=ot.getNodeLocation(h);ot.isCollapsed(ht)&&ot.setCollapsed(ht,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof ae||!ae.accept||void 0===ae.bubble||ae.feedback)return ne?ae:{accept:"boolean"==typeof ae?ae:ae.accept,effect:"boolean"==typeof ae?void 0:ae.effect,feedback:[S]};if(1===ae.bubble){const ot=this.modelProvider(),ht=ot.getNodeLocation(h),gt=ot.getParentNodeLocation(ht),Mt=ot.getNode(gt),Bt=gt&&ot.getListIndex(gt);return this.onDragOver(A,Mt,Bt,V,!1)}const Oe=this.modelProvider(),Re=Oe.getNodeLocation(h),Ze=Oe.getListIndex(Re),Qe=Oe.getListRenderCount(Re);return Object.assign(Object.assign({},ae),{feedback:(0,g.w6)(Ze,Ze+Qe)})}drop(A,h,S,V){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(We(A),h&&h.element,S,V)}onDragEnd(A){this.dnd.onDragEnd&&this.dnd.onDragEnd(A)}}class Ce{constructor(A){this.delegate=A}getHeight(A){return this.delegate.getHeight(A.element)}getTemplateId(A){return this.delegate.getTemplateId(A.element)}hasDynamicHeight(A){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(A.element)}setDynamicHeight(A,h){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(A.element,h)}}var Ae=(()=>{return(yt=Ae||(Ae={})).None="none",yt.OnHover="onHover",yt.Always="always",Ae;var yt})();class et{constructor(A,h=[]){this._elements=h,this.onDidChange=W.ju.forEach(A,S=>this._elements=S)}get elements(){return this._elements}}let Ye=(()=>{class yt{constructor(h,S,V,ne,ae={}){this.renderer=h,this.modelProvider=S,this.activeNodes=ne,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=yt.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new le.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=M.JT.None,this.disposables=new M.SL,this.templateId=h.templateId,this.updateOptions(ae),W.ju.map(V,be=>be.node)(this.onDidChangeNodeTwistieState,this,this.disposables),h.onDidChangeTwistieState&&h.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(h={}){if(void 0!==h.indent&&(this.indent=(0,J.uZ)(h.indent,0,40)),void 0!==h.renderIndentGuides){const S=h.renderIndentGuides!==Ae.None;if(S!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=S,this.indentGuidesDisposable.dispose(),S)){const V=new M.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,V),this.indentGuidesDisposable=V,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==h.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=h.hideTwistiesOfChildlessElements)}renderTemplate(h){const S=(0,D.R3)(h,(0,D.$)(".monaco-tl-row")),V=(0,D.R3)(S,(0,D.$)(".monaco-tl-indent")),ne=(0,D.R3)(S,(0,D.$)(".monaco-tl-twistie")),ae=(0,D.R3)(S,(0,D.$)(".monaco-tl-contents")),be=this.renderer.renderTemplate(ae);return{container:h,indent:V,twistie:ne,indentGuidesDisposable:M.JT.None,templateData:be}}renderElement(h,S,V,ne){"number"==typeof ne&&(this.renderedNodes.set(h,{templateData:V,height:ne}),this.renderedElements.set(h.element,h));const ae=yt.DefaultIndent+(h.depth-1)*this.indent;V.twistie.style.paddingLeft=`${ae}px`,V.indent.style.width=ae+this.indent-16+"px",this.renderTwistie(h,V),"number"==typeof ne&&this.renderIndentGuides(h,V),this.renderer.renderElement(h,S,V.templateData,ne)}disposeElement(h,S,V,ne){V.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(h,S,V.templateData,ne),"number"==typeof ne&&(this.renderedNodes.delete(h),this.renderedElements.delete(h.element))}disposeTemplate(h){this.renderer.disposeTemplate(h.templateData)}onDidChangeTwistieState(h){const S=this.renderedElements.get(h);!S||this.onDidChangeNodeTwistieState(S)}onDidChangeNodeTwistieState(h){const S=this.renderedNodes.get(h);!S||(this.renderTwistie(h,S.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(h,S.templateData))}renderTwistie(h,S){S.twistie.classList.remove(...ee.lA.treeItemExpanded.classNamesArray);let V=!1;this.renderer.renderTwistie&&(V=this.renderer.renderTwistie(h.element,S.twistie)),h.collapsible&&(!this.hideTwistiesOfChildlessElements||h.visibleChildrenCount>0)?(V||S.twistie.classList.add(...ee.lA.treeItemExpanded.classNamesArray),S.twistie.classList.add("collapsible"),S.twistie.classList.toggle("collapsed",h.collapsed)):S.twistie.classList.remove("collapsible","collapsed"),h.collapsible?S.container.setAttribute("aria-expanded",String(!h.collapsed)):S.container.removeAttribute("aria-expanded")}renderIndentGuides(h,S){if((0,D.PO)(S.indent),S.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const V=new M.SL,ne=this.modelProvider();let ae=h;for(;;){const be=ne.getNodeLocation(ae),Oe=ne.getParentNodeLocation(be);if(!Oe)break;const Re=ne.getNode(Oe),Ze=(0,D.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Re)&&Ze.classList.add("active"),0===S.indent.childElementCount?S.indent.appendChild(Ze):S.indent.insertBefore(Ze,S.indent.firstElementChild),this.renderedIndentGuides.add(Re,Ze),V.add((0,M.OF)(()=>this.renderedIndentGuides.delete(Re,Ze))),ae=Re}S.indentGuidesDisposable=V}_onDidChangeActiveNodes(h){if(!this.shouldRenderIndentGuides)return;const S=new Set,V=this.modelProvider();h.forEach(ne=>{const ae=V.getNodeLocation(ne);try{const be=V.getParentNodeLocation(ae);ne.collapsible&&ne.children.length>0&&!ne.collapsed?S.add(ne):be&&S.add(V.getNode(be))}catch{}}),this.activeIndentNodes.forEach(ne=>{S.has(ne)||this.renderedIndentGuides.forEach(ne,ae=>ae.classList.remove("active"))}),S.forEach(ne=>{this.activeIndentNodes.has(ne)||this.renderedIndentGuides.forEach(ne,ae=>ae.classList.add("active"))}),this.activeIndentNodes=S}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,M.B9)(this.disposables)}}return yt.DefaultIndent=8,yt})();class Pe{constructor(A,h,S){this.tree=A,this.keyboardNavigationLabelProvider=h,this._filter=S,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new M.SL,A.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(A){this._pattern=A,this._lowercasePattern=A.toLowerCase()}filter(A,h){if(this._filter){const ne=this._filter.filter(A,h);if(this.tree.options.simpleKeyboardNavigation)return ne;let ae;if(ae="boolean"==typeof ne?ne?1:0:pe(ne)?ye(ne.visibility):ne,0===ae)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:te.CL.Default,visibility:!0};const S=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A),V=Array.isArray(S)?S:[S];for(const ne of V){const ae=ne&&ne.toString();if(void 0===ae)return{data:te.CL.Default,visibility:!0};const be=(0,te.EW)(this._pattern,this._lowercasePattern,0,ae,ae.toLowerCase(),0,!0);if(be)return this._matchCount++,1===V.length?{data:be,visibility:!0}:{data:{label:ae,score:be},visibility:!0}}return this.tree.options.filterOnType?2:{data:te.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,M.B9)(this.disposables)}}class st{constructor(A,h,S,V,ne){this.tree=A,this.view=S,this.filter=V,this.keyboardNavigationDelegate=ne,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new W.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new W.Q5,this.enabledDisposables=new M.SL,this.disposables=new M.SL,this.domNode=(0,D.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,D.nm)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,D.R3)(S.getHTMLElement(),(0,D.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,D.R3)(this.domNode,(0,D.$)("span.label"));const ae=(0,D.R3)(this.domNode,(0,D.$)(".controls"));this._filterOnType=!!A.options.filterOnType,this.filterOnTypeDomNode=(0,D.R3)(ae,(0,D.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,D.nm)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,D.R3)(ae,(0,D.$)("button.clear"+ee.lA.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,ve.N)("clear","Clear"),this.keyboardNavigationEventFilter=A.options.keyboardNavigationEventFilter,h.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(A.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(A){A.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==A.filterOnType&&(this._filterOnType=!!A.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==A.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=A.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const A=this.enabledDisposables.add(new O.Y(this.view.getHTMLElement(),"keydown")),h=W.ju.chain(A.event).filter(V=>!(0,T.cK)(V.target)||V.target===this.filterOnTypeDomNode).filter(V=>"Dead"!==V.key&&!/^Media/.test(V.key)).map(V=>new I.y(V)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(V=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(V)&&!(18===V.keyCode||16===V.keyCode||15===V.keyCode||17===V.keyCode)||(this.pattern.length>0||this.triggered)&&(9===V.keyCode||1===V.keyCode)&&!V.altKey&&!V.ctrlKey&&!V.metaKey||1===V.keyCode&&(re.dz?V.altKey&&!V.metaKey:V.ctrlKey)&&!V.shiftKey).forEach(V=>{V.stopPropagation(),V.preventDefault()}).event,S=this.enabledDisposables.add(new O.Y(this.clearDomNode,"click"));W.ju.chain(W.ju.any(h,S.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(A){"string"==typeof A?this.onInput(A):A instanceof MouseEvent||9===A.keyCode||1===A.keyCode&&(re.dz?A.altKey:A.ctrlKey)?this.onInput(""):this.onInput(1===A.keyCode?0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1):this.pattern+A.browserEvent.key)}onInput(A){const h=this.view.getHTMLElement();A&&!this.domNode.parentElement?h.append(this.domNode):!A&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=A,this._onDidChangePattern.fire(A),this.filter.pattern=A,this.tree.refilter(),A&&this.tree.focusNext(0,!0,void 0,V=>!te.CL.isDefault(V.filterData));const S=this.tree.getFocus();if(S.length>0){const V=S[0];null===this.tree.getRelativeTop(V)&&this.tree.reveal(V,.5)}this.render(),A||(this.triggered=!1)}onDragStart(){const A=this.view.getHTMLElement(),{left:h}=(0,D.i)(A),S=A.clientWidth,V=S/2,ne=this.domNode.clientWidth,ae=new M.SL;let be=this.positionClassName;const Oe=()=>{switch(be){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=S-ne-6+"px"}},Ze=()=>{this.positionClassName=be,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,M.B9)(ae)};Oe(),this.domNode.classList.remove(be),this.domNode.classList.add("dragging"),ae.add((0,M.OF)(()=>this.domNode.classList.remove("dragging"))),ae.add((0,D.nm)(document,"dragover",Qe=>(Qe=>{Qe.preventDefault();const ot=Qe.clientX-h;Qe.dataTransfer&&(Qe.dataTransfer.dropEffect="none"),be=ot<V?"nw":"ne",Oe()})(Qe))),ae.add((0,D.nm)(this.domNode,"dragend",()=>Ze())),Z.P$.CurrentDragAndDropData=new Z.TN("vscode-ui"),ae.add((0,M.OF)(()=>Z.P$.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||0===this.pattern.length||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...ee.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...ee.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,ve.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...ee.lA.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...ee.lA.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,ve.N)("enable filter on type","Enable Filter on Type"))}render(){const A=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&A?(this.messageDomNode.textContent=(0,ve.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",A),this.domNode.title=(0,ve.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(A){return!(this.enabled&&this.pattern&&!this.filterOnType&&!(this.filter.totalCount>0&&this.filter.matchCount<=1)&&te.CL.isDefault(A.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,M.B9)(this.disposables)}}function ut(yt){let A=$.Unknown;return(0,D.uU)(yt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?A=$.Twistie:(0,D.uU)(yt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(A=$.Element),{browserEvent:yt.browserEvent,element:yt.element?yt.element.element:null,target:A}}function nt(yt,A){A(yt),yt.children.forEach(h=>nt(h,A))}class Se{constructor(A,h){this.getFirstViewElementWithTrait=A,this.identityProvider=h,this.nodes=[],this._onDidChange=new W.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(A,h){!(null==h?void 0:h.__forceEvent)&&(0,g.fS)(this.nodes,A)||this._set(A,!1,h)}_set(A,h,S){if(this.nodes=[...A],this.elements=void 0,this._nodeSet=void 0,!h){const V=this;this._onDidChange.fire({get elements(){return V.get()},browserEvent:S})}}get(){return this.elements||(this.elements=this.nodes.map(A=>A.element)),[...this.elements]}getNodes(){return this.nodes}has(A){return this.nodeSet.has(A)}onDidModelSplice({insertedNodes:A,deletedNodes:h}){if(!this.identityProvider){const Oe=this.createNodeSet(),Re=Ze=>Oe.delete(Ze);return h.forEach(Ze=>nt(Ze,Re)),void this.set([...Oe.values()])}const S=new Set,V=Oe=>S.add(this.identityProvider.getId(Oe.element).toString());h.forEach(Oe=>nt(Oe,V));const ne=new Map,ae=Oe=>ne.set(this.identityProvider.getId(Oe.element).toString(),Oe);A.forEach(Oe=>nt(Oe,ae));const be=[];for(const Oe of this.nodes){const Re=this.identityProvider.getId(Oe.element).toString();if(S.has(Re)){const Qe=ne.get(Re);Qe&&be.push(Qe)}else be.push(Oe)}if(this.nodes.length>0&&0===be.length){const Oe=this.getFirstViewElementWithTrait();Oe&&be.push(Oe)}this._set(be,!0)}createNodeSet(){const A=new Set;for(const h of this.nodes)A.add(h);return A}}class Ne extends T.sx{constructor(A,h){super(A),this.tree=h}onViewPointer(A){if((0,T.cK)(A.browserEvent.target)||(0,T.hD)(A.browserEvent.target))return;const h=A.element;if(!h)return super.onViewPointer(A);if(this.isSelectionRangeChangeEvent(A)||this.isSelectionSingleChangeEvent(A))return super.onViewPointer(A);const S=A.browserEvent.target,V=S.classList.contains("monaco-tl-twistie")||S.classList.contains("monaco-icon-label")&&S.classList.contains("folder-icon")&&A.browserEvent.offsetX<16;let ne=!1;if(ne="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(h.element):!!this.tree.expandOnlyOnTwistieClick,ne&&!V&&2!==A.browserEvent.detail)return super.onViewPointer(A);if(!this.tree.expandOnDoubleClick&&2===A.browserEvent.detail)return super.onViewPointer(A);if(h.collapsible){const ae=this.tree.model,be=ae.getNodeLocation(h),Oe=A.browserEvent.altKey;if(this.tree.setFocus([be]),ae.setCollapsed(be,void 0,Oe),ne&&V)return}super.onViewPointer(A)}onDoubleClick(A){A.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(A)}}class at extends T.aV{constructor(A,h,S,V,ne,ae,be,Oe){super(A,h,S,V,Oe),this.focusTrait=ne,this.selectionTrait=ae,this.anchorTrait=be}createMouseController(A){return new Ne(this,A.tree)}splice(A,h,S=[]){if(super.splice(A,h,S),0===S.length)return;const V=[],ne=[];let ae;S.forEach((be,Oe)=>{this.focusTrait.has(be)&&V.push(A+Oe),this.selectionTrait.has(be)&&ne.push(A+Oe),this.anchorTrait.has(be)&&(ae=A+Oe)}),V.length>0&&super.setFocus((0,g.EB)([...super.getFocus(),...V])),ne.length>0&&super.setSelection((0,g.EB)([...super.getSelection(),...ne])),"number"==typeof ae&&super.setAnchor(ae)}setFocus(A,h,S=!1){super.setFocus(A,h),S||this.focusTrait.set(A.map(V=>this.element(V)),h)}setSelection(A,h,S=!1){super.setSelection(A,h),S||this.selectionTrait.set(A.map(V=>this.element(V)),h)}setAnchor(A,h=!1){super.setAnchor(A),h||this.anchorTrait.set(void 0===A?[]:[this.element(A)])}}class Ct{constructor(A,h,S,V,ne={}){this._user=A,this._options=ne,this.eventBufferer=new W.E7,this.disposables=new M.SL,this._onWillRefilter=new W.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new W.Q5;const ae=new Ce(S),be=new W.ZD,Oe=new W.ZD,Re=new et(Oe.event);this.renderers=V.map(ot=>new Ye(ot,()=>this.model,be.event,Re,ne));for(let ot of this.renderers)this.disposables.add(ot);let Ze;ne.keyboardNavigationLabelProvider&&(Ze=new Pe(this,ne.keyboardNavigationLabelProvider,ne.filter),ne=Object.assign(Object.assign({},ne),{filter:Ze}),this.disposables.add(Ze)),this.focus=new Se(()=>this.view.getFocusedElements()[0],ne.identityProvider),this.selection=new Se(()=>this.view.getSelectedElements()[0],ne.identityProvider),this.anchor=new Se(()=>this.view.getAnchorElement(),ne.identityProvider),this.view=new at(A,h,ae,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function(yt,A){return A&&Object.assign(Object.assign({},A),{identityProvider:A.identityProvider&&{getId:h=>A.identityProvider.getId(h.element)},dnd:A.dnd&&new Ue(yt,A.dnd),multipleSelectionController:A.multipleSelectionController&&{isSelectionSingleChangeEvent:h=>A.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},h),{element:h.element})),isSelectionRangeChangeEvent:h=>A.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},h),{element:h.element}))},accessibilityProvider:A.accessibilityProvider&&Object.assign(Object.assign({},A.accessibilityProvider),{getSetSize(h){const S=yt(),V=S.getNodeLocation(h),ne=S.getParentNodeLocation(V);return S.getNode(ne).visibleChildrenCount},getPosInSet:h=>h.visibleChildIndex+1,isChecked:A.accessibilityProvider&&A.accessibilityProvider.isChecked?h=>A.accessibilityProvider.isChecked(h.element):void 0,getRole:A.accessibilityProvider&&A.accessibilityProvider.getRole?h=>A.accessibilityProvider.getRole(h.element):()=>"treeitem",getAriaLabel:h=>A.accessibilityProvider.getAriaLabel(h.element),getWidgetAriaLabel:()=>A.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:A.accessibilityProvider&&A.accessibilityProvider.getWidgetRole?()=>A.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:A.accessibilityProvider&&A.accessibilityProvider.getAriaLevel?h=>A.accessibilityProvider.getAriaLevel(h.element):h=>h.depth,getActiveDescendantId:A.accessibilityProvider.getActiveDescendantId&&(h=>A.accessibilityProvider.getActiveDescendantId(h.element))}),keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:h=>A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(h.element)}),enableKeyboardNavigation:A.simpleKeyboardNavigation})}(()=>this.model,ne)),{tree:this})),this.model=this.createModel(A,this.view,ne),be.input=this.model.onDidChangeCollapseState;const Qe=W.ju.forEach(this.model.onDidSplice,ot=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(ot),this.selection.onDidModelSplice(ot)})});if(Qe(()=>null,null,this.disposables),Oe.input=W.ju.chain(W.ju.any(Qe,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const ot=new Set;for(const ht of this.focus.getNodes())ot.add(ht);for(const ht of this.selection.getNodes())ot.add(ht);return[...ot.values()]}).event,!1!==ne.keyboardSupport){const ot=W.ju.chain(this.view.onKeyDown).filter(ht=>!(0,T.cK)(ht.target)).map(ht=>new I.y(ht));ot.filter(ht=>15===ht.keyCode).on(this.onLeftArrow,this,this.disposables),ot.filter(ht=>17===ht.keyCode).on(this.onRightArrow,this,this.disposables),ot.filter(ht=>10===ht.keyCode).on(this.onSpace,this,this.disposables)}ne.keyboardNavigationLabelProvider&&(this.typeFilterController=new st(this,this.model,this.view,Ze,ne.keyboardNavigationDelegate||T.WK),this.focusNavigationFilter=ht=>this.typeFilterController.shouldAllowFocus(ht),this.disposables.add(this.typeFilterController)),this.styleElement=(0,D.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ae.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return W.ju.map(this.view.onMouseDblClick,ut)}get onPointer(){return W.ju.map(this.view.onPointer,ut)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return W.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(A={}){this._options=Object.assign(Object.assign({},this._options),A);for(const h of this.renderers)h.updateOptions(A);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ae.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(A){this.view.scrollTop=A}domFocus(){this.view.domFocus()}layout(A,h){this.view.layout(A,h)}style(A){const h=`.${this.view.domId}`,S=[];A.treeIndentGuidesStroke&&(S.push(`.monaco-list${h}:hover .monaco-tl-indent > .indent-guide, .monaco-list${h}.always .monaco-tl-indent > .indent-guide  { border-color: ${A.treeIndentGuidesStroke.transparent(.4)}; }`),S.push(`.monaco-list${h} .monaco-tl-indent > .indent-guide.active { border-color: ${A.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=S.join("\n"),this.view.style(A)}getParentElement(A){const h=this.model.getParentNodeLocation(A);return this.model.getNode(h).element}getFirstElementChild(A){return this.model.getFirstElementChild(A)}getNode(A){return this.model.getNode(A)}collapse(A,h=!1){return this.model.setCollapsed(A,!0,h)}expand(A,h=!1){return this.model.setCollapsed(A,!1,h)}isCollapsible(A){return this.model.isCollapsible(A)}setCollapsible(A,h){return this.model.setCollapsible(A,h)}isCollapsed(A){return this.model.isCollapsed(A)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(A,h){const S=A.map(ne=>this.model.getNode(ne));this.selection.set(S,h);const V=A.map(ne=>this.model.getListIndex(ne)).filter(ne=>ne>-1);this.view.setSelection(V,h,!0)}getSelection(){return this.selection.get()}setFocus(A,h){const S=A.map(ne=>this.model.getNode(ne));this.focus.set(S,h);const V=A.map(ne=>this.model.getListIndex(ne)).filter(ne=>ne>-1);this.view.setFocus(V,h,!0)}focusNext(A=1,h=!1,S,V=this.focusNavigationFilter){this.view.focusNext(A,h,S,V)}getFocus(){return this.focus.get()}reveal(A,h){this.model.expandTo(A);const S=this.model.getListIndex(A);-1!==S&&this.view.reveal(S,h)}getRelativeTop(A){const h=this.model.getListIndex(A);return-1===h?null:this.view.getRelativeTop(h)}onLeftArrow(A){A.preventDefault(),A.stopPropagation();const h=this.view.getFocusedElements();if(0===h.length)return;const V=this.model.getNodeLocation(h[0]);if(!this.model.setCollapsed(V,!0)){const ae=this.model.getParentNodeLocation(V);if(!ae)return;const be=this.model.getListIndex(ae);this.view.reveal(be),this.view.setFocus([be])}}onRightArrow(A){A.preventDefault(),A.stopPropagation();const h=this.view.getFocusedElements();if(0===h.length)return;const S=h[0],V=this.model.getNodeLocation(S);if(!this.model.setCollapsed(V,!1)){if(!S.children.some(Oe=>Oe.visible))return;const[ae]=this.view.getFocus(),be=ae+1;this.view.reveal(be),this.view.setFocus([be])}}onSpace(A){A.preventDefault(),A.stopPropagation();const h=this.view.getFocusedElements();if(0===h.length)return;const V=this.model.getNodeLocation(h[0]);this.model.setCollapsed(V,void 0,A.browserEvent.altKey)}dispose(){(0,M.B9)(this.disposables),this.view.dispose()}}class jt{constructor(A,h,S={}){this.user=A,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Q(A,h,null,S),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,S.sorter&&(this.sorter={compare:(V,ne)=>S.sorter.compare(V.element,ne.element)}),this.identityProvider=S.identityProvider}setChildren(A,h=fe.$.empty(),S={}){const V=this.getElementLocation(A);this._setChildren(V,this.preserveCollapseState(h),S)}_setChildren(A,h=fe.$.empty(),S){const V=new Set,ne=new Set;this.model.splice([...A,0],Number.MAX_VALUE,h,Object.assign(Object.assign({},S),{onDidCreateNode:Oe=>{var Re;if(null===Oe.element)return;const Ze=Oe;if(V.add(Ze.element),this.nodes.set(Ze.element,Ze),this.identityProvider){const Qe=this.identityProvider.getId(Ze.element).toString();ne.add(Qe),this.nodesByIdentity.set(Qe,Ze)}null===(Re=S.onDidCreateNode)||void 0===Re||Re.call(S,Ze)},onDidDeleteNode:Oe=>{var Re;if(null===Oe.element)return;const Ze=Oe;if(V.has(Ze.element)||this.nodes.delete(Ze.element),this.identityProvider){const Qe=this.identityProvider.getId(Ze.element).toString();ne.has(Qe)||this.nodesByIdentity.delete(Qe)}null===(Re=S.onDidDeleteNode)||void 0===Re||Re.call(S,Ze)}}))}preserveCollapseState(A=fe.$.empty()){return this.sorter&&(A=[...A].sort(this.sorter.compare.bind(this.sorter))),fe.$.map(A,h=>{let S=this.nodes.get(h.element);if(!S&&this.identityProvider){const ae=this.identityProvider.getId(h.element).toString();S=this.nodesByIdentity.get(ae)}if(!S)return Object.assign(Object.assign({},h),{children:this.preserveCollapseState(h.children)});const V="boolean"==typeof h.collapsible?h.collapsible:S.collapsible,ne=void 0!==h.collapsed?h.collapsed:S.collapsed;return Object.assign(Object.assign({},h),{collapsible:V,collapsed:ne,children:this.preserveCollapseState(h.children)})})}rerender(A){const h=this.getElementLocation(A);this.model.rerender(h)}getFirstElementChild(A=null){const h=this.getElementLocation(A);return this.model.getFirstElementChild(h)}has(A){return this.nodes.has(A)}getListIndex(A){const h=this.getElementLocation(A);return this.model.getListIndex(h)}getListRenderCount(A){const h=this.getElementLocation(A);return this.model.getListRenderCount(h)}isCollapsible(A){const h=this.getElementLocation(A);return this.model.isCollapsible(h)}setCollapsible(A,h){const S=this.getElementLocation(A);return this.model.setCollapsible(S,h)}isCollapsed(A){const h=this.getElementLocation(A);return this.model.isCollapsed(h)}setCollapsed(A,h,S){const V=this.getElementLocation(A);return this.model.setCollapsed(V,h,S)}expandTo(A){const h=this.getElementLocation(A);this.model.expandTo(h)}refilter(){this.model.refilter()}getNode(A=null){if(null===A)return this.model.getNode(this.model.rootRef);const h=this.nodes.get(A);if(!h)throw new j(this.user,`Tree element not found: ${A}`);return h}getNodeLocation(A){return A.element}getParentNodeLocation(A){if(null===A)throw new j(this.user,"Invalid getParentNodeLocation call");const h=this.nodes.get(A);if(!h)throw new j(this.user,`Tree element not found: ${A}`);const S=this.model.getNodeLocation(h),V=this.model.getParentNodeLocation(S);return this.model.getNode(V).element}getElementLocation(A){if(null===A)return[];const h=this.nodes.get(A);if(!h)throw new j(this.user,`Tree element not found: ${A}`);return this.model.getNodeLocation(h)}}function bn(yt){return{element:{elements:[yt.element],incompressible:yt.incompressible||!1},children:fe.$.map(fe.$.from(yt.children),bn),collapsible:yt.collapsible,collapsed:yt.collapsed}}function mt(yt){const A=[yt.element],h=yt.incompressible||!1;let S,V;for(;[V,S]=fe.$.consume(fe.$.from(yt.children),2),1===V.length&&!V[0].incompressible;)A.push((yt=V[0]).element);return{element:{elements:A,incompressible:h},children:fe.$.map(fe.$.concat(V,S),mt),collapsible:yt.collapsible,collapsed:yt.collapsed}}function Ft(yt,A=0){let h;return h=A<yt.element.elements.length-1?[Ft(yt,A+1)]:fe.$.map(fe.$.from(yt.children),S=>Ft(S,0)),0===A&&yt.element.incompressible?{element:yt.element.elements[A],children:h,incompressible:!0,collapsible:yt.collapsible,collapsed:yt.collapsed}:{element:yt.element.elements[A],children:h,collapsible:yt.collapsible,collapsed:yt.collapsed}}function Wt(yt){return Ft(yt,0)}function zt(yt,A,h){return Object.assign(Object.assign({},yt),yt.element===A?{children:h}:{children:fe.$.map(fe.$.from(yt.children),S=>zt(S,A,h))})}class Ge{constructor(A,h,S={}){this.user=A,this.rootRef=null,this.nodes=new Map,this.model=new jt(A,h,S),this.enabled=void 0===S.compressionEnabled||S.compressionEnabled,this.identityProvider=S.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(A,h=fe.$.empty(),S){const V=S.diffIdentityProvider&&(yt=S.diffIdentityProvider,{getId:A=>A.elements.map(h=>yt.getId(h).toString()).join("\0")});var yt;if(null===A){const ht=fe.$.map(h,this.enabled?mt:bn);return void this._setChildren(null,ht,{diffIdentityProvider:V,diffDepth:1/0})}const ne=this.nodes.get(A);if(!ne)throw new Error("Unknown compressed tree node");const ae=this.model.getNode(ne),be=this.model.getParentNodeLocation(ne),Oe=this.model.getNode(be),Ze=zt(Wt(ae),A,h),Qe=(this.enabled?mt:bn)(Ze),ot=Oe.children.map(ht=>ht===ae?Qe:ht);this._setChildren(Oe.element,ot,{diffIdentityProvider:V,diffDepth:ae.depth-Oe.depth})}setCompressionEnabled(A){if(A===this.enabled)return;this.enabled=A;const S=this.model.getNode().children,V=fe.$.map(S,Wt),ne=fe.$.map(V,A?mt:bn);this._setChildren(null,ne,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(A,h,S){const V=new Set;this.model.setChildren(A,h,Object.assign(Object.assign({},S),{onDidCreateNode:be=>{for(const Oe of be.element.elements)V.add(Oe),this.nodes.set(Oe,be.element)},onDidDeleteNode:be=>{for(const Oe of be.element.elements)V.has(Oe)||this.nodes.delete(Oe)}}))}has(A){return this.nodes.has(A)}getListIndex(A){const h=this.getCompressedNode(A);return this.model.getListIndex(h)}getListRenderCount(A){const h=this.getCompressedNode(A);return this.model.getListRenderCount(h)}getNode(A){if(void 0===A)return this.model.getNode();const h=this.getCompressedNode(A);return this.model.getNode(h)}getNodeLocation(A){const h=this.model.getNodeLocation(A);return null===h?null:h.elements[h.elements.length-1]}getParentNodeLocation(A){const h=this.getCompressedNode(A),S=this.model.getParentNodeLocation(h);return null===S?null:S.elements[S.elements.length-1]}getFirstElementChild(A){const h=this.getCompressedNode(A);return this.model.getFirstElementChild(h)}isCollapsible(A){const h=this.getCompressedNode(A);return this.model.isCollapsible(h)}setCollapsible(A,h){const S=this.getCompressedNode(A);return this.model.setCollapsible(S,h)}isCollapsed(A){const h=this.getCompressedNode(A);return this.model.isCollapsed(h)}setCollapsed(A,h,S){const V=this.getCompressedNode(A);return this.model.setCollapsed(V,h,S)}expandTo(A){const h=this.getCompressedNode(A);this.model.expandTo(h)}rerender(A){const h=this.getCompressedNode(A);this.model.rerender(h)}refilter(){this.model.refilter()}getCompressedNode(A){if(null===A)return null;const h=this.nodes.get(A);if(!h)throw new j(this.user,`Tree element not found: ${A}`);return h}}const Lt=yt=>yt[yt.length-1];class vt{constructor(A,h){this.unwrapper=A,this.node=h}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(A=>new vt(this.unwrapper,A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class sn{constructor(A,h,S={}){this.rootRef=null,this.elementMapper=S.elementMapper||Lt;const V=ne=>this.elementMapper(ne.elements);this.nodeMapper=new G(ne=>new vt(V,ne)),this.model=new Ge(A,function(yt,A){return{splice(h,S,V){A.splice(h,S,V.map(ne=>yt.map(ne)))},updateElementHeight(h,S){A.updateElementHeight(h,S)}}}(this.nodeMapper,h),function(yt,A){return Object.assign(Object.assign({},A),{identityProvider:A.identityProvider&&{getId:h=>A.identityProvider.getId(yt(h))},sorter:A.sorter&&{compare:(h,S)=>A.sorter.compare(h.elements[0],S.elements[0])},filter:A.filter&&{filter:(h,S)=>A.filter.filter(yt(h),S)}})}(V,S))}get onDidSplice(){return W.ju.map(this.model.onDidSplice,({insertedNodes:A,deletedNodes:h})=>({insertedNodes:A.map(S=>this.nodeMapper.map(S)),deletedNodes:h.map(S=>this.nodeMapper.map(S))}))}get onDidChangeCollapseState(){return W.ju.map(this.model.onDidChangeCollapseState,({node:A,deep:h})=>({node:this.nodeMapper.map(A),deep:h}))}get onDidChangeRenderNodeCount(){return W.ju.map(this.model.onDidChangeRenderNodeCount,A=>this.nodeMapper.map(A))}setChildren(A,h=fe.$.empty(),S={}){this.model.setChildren(A,h,S)}setCompressionEnabled(A){this.model.setCompressionEnabled(A)}has(A){return this.model.has(A)}getListIndex(A){return this.model.getListIndex(A)}getListRenderCount(A){return this.model.getListRenderCount(A)}getNode(A){return this.nodeMapper.map(this.model.getNode(A))}getNodeLocation(A){return A.element}getParentNodeLocation(A){return this.model.getParentNodeLocation(A)}getFirstElementChild(A){const h=this.model.getFirstElementChild(A);return null==h?h:this.elementMapper(h.elements)}isCollapsible(A){return this.model.isCollapsible(A)}setCollapsible(A,h){return this.model.setCollapsible(A,h)}isCollapsed(A){return this.model.isCollapsed(A)}setCollapsed(A,h,S){return this.model.setCollapsed(A,h,S)}expandTo(A){return this.model.expandTo(A)}rerender(A){return this.model.rerender(A)}refilter(){return this.model.refilter()}getCompressedTreeNode(A=null){return this.model.getNode(A)}}var hn=p(94456);class rn extends Ct{constructor(A,h,S,V,ne={}){super(A,h,S,V,ne),this.user=A}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(A,h=fe.$.empty(),S){this.model.setChildren(A,h,S)}rerender(A){void 0!==A?this.model.rerender(A):this.view.rerender()}hasElement(A){return this.model.has(A)}createModel(A,h,S){return new jt(A,h,S)}}class Rt{constructor(A,h){this._compressedTreeNodeProvider=A,this.renderer=h,this.templateId=h.templateId,h.onDidChangeTwistieState&&(this.onDidChangeTwistieState=h.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(A){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(A)}}renderElement(A,h,S,V){const ne=this.compressedTreeNodeProvider.getCompressedTreeNode(A.element);1===ne.element.elements.length?(S.compressedTreeNode=void 0,this.renderer.renderElement(A,h,S.data,V)):(S.compressedTreeNode=ne,this.renderer.renderCompressedElements(ne,h,S.data,V))}disposeElement(A,h,S,V){S.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(S.compressedTreeNode,h,S.data,V):this.renderer.disposeElement&&this.renderer.disposeElement(A,h,S.data,V)}disposeTemplate(A){this.renderer.disposeTemplate(A.data)}renderTwistie(A,h){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(A,h)}}!function(yt,A,h,S){var ae,V=arguments.length,ne=V<3?A:null===S?S=Object.getOwnPropertyDescriptor(A,h):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(yt,A,h,S);else for(var be=yt.length-1;be>=0;be--)(ae=yt[be])&&(ne=(V<3?ae(ne):V>3?ae(A,h,ne):ae(A,h))||ne);V>3&&ne&&Object.defineProperty(A,h,ne)}([hn.H],Rt.prototype,"compressedTreeNodeProvider",null);class Yt extends rn{constructor(A,h,S,V,ne={}){const ae=()=>this;super(A,h,S,V.map(Oe=>new Rt(ae,Oe)),function(yt,A){return A&&Object.assign(Object.assign({},A),{keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(h){let S;try{S=yt().getCompressedTreeNode(h)}catch{return A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(h)}return 1===S.element.elements.length?A.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(h):A.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(S.element.elements)}}})}(ae,ne))}setChildren(A,h=fe.$.empty(),S){this.model.setChildren(A,h,S)}createModel(A,h,S){return new sn(A,h,S)}updateOptions(A={}){super.updateOptions(A),void 0!==A.compressionEnabled&&this.model.setCompressionEnabled(A.compressionEnabled)}getCompressedTreeNode(A=null){return this.model.getCompressedTreeNode(A)}}var He=p(13226),$e=p(99770),Xt=function(yt,A,h,S){return new(h||(h=Promise))(function(ne,ae){function be(Ze){try{Re(S.next(Ze))}catch(Qe){ae(Qe)}}function Oe(Ze){try{Re(S.throw(Ze))}catch(Qe){ae(Qe)}}function Re(Ze){Ze.done?ne(Ze.value):function(ne){return ne instanceof h?ne:new h(function(ae){ae(ne)})}(Ze.value).then(be,Oe)}Re((S=S.apply(yt,A||[])).next())})};function pn(yt){return Object.assign(Object.assign({},yt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function ti(yt,A){return!!A.parent&&(A.parent===yt||ti(yt,A.parent))}class Oi{constructor(A){this.node=A}get element(){return this.node.element.element}get children(){return this.node.children.map(A=>new Oi(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Li{constructor(A,h,S){this.renderer=A,this.nodeMapper=h,this.onDidChangeTwistieState=S,this.renderedNodes=new Map,this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,h,S,V){this.renderer.renderElement(this.nodeMapper.map(A),h,S.templateData,V)}renderTwistie(A,h){return A.slow?(h.classList.add(...ee.lA.treeItemLoading.classNamesArray),!0):(h.classList.remove(...ee.lA.treeItemLoading.classNamesArray),!1)}disposeElement(A,h,S,V){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(A),h,S.templateData,V)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear()}}function vi(yt){return{browserEvent:yt.browserEvent,elements:yt.elements.map(A=>A.element)}}function xt(yt){return{browserEvent:yt.browserEvent,element:yt.element&&yt.element.element,target:yt.target}}class St extends N.kX{constructor(A){super(A.elements.map(h=>h.element)),this.data=A}}function $t(yt){return yt instanceof N.kX?new St(yt):yt}class Fn{constructor(A){this.dnd=A}getDragURI(A){return this.dnd.getDragURI(A.element)}getDragLabel(A,h){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(A.map(S=>S.element),h)}onDragStart(A,h){this.dnd.onDragStart&&this.dnd.onDragStart($t(A),h)}onDragOver(A,h,S,V,ne=!0){return this.dnd.onDragOver($t(A),h&&h.element,S,V)}drop(A,h,S,V){this.dnd.drop($t(A),h&&h.element,S,V)}onDragEnd(A){this.dnd.onDragEnd&&this.dnd.onDragEnd(A)}}function kt(yt){return yt&&Object.assign(Object.assign({},yt),{collapseByDefault:!0,identityProvider:yt.identityProvider&&{getId:A=>yt.identityProvider.getId(A.element)},dnd:yt.dnd&&new Fn(yt.dnd),multipleSelectionController:yt.multipleSelectionController&&{isSelectionSingleChangeEvent:A=>yt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},A),{element:A.element})),isSelectionRangeChangeEvent:A=>yt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},A),{element:A.element}))},accessibilityProvider:yt.accessibilityProvider&&Object.assign(Object.assign({},yt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:yt.accessibilityProvider.getRole?A=>yt.accessibilityProvider.getRole(A.element):()=>"treeitem",isChecked:yt.accessibilityProvider.isChecked?A=>{var h;return!!(null===(h=yt.accessibilityProvider)||void 0===h?void 0:h.isChecked(A.element))}:void 0,getAriaLabel:A=>yt.accessibilityProvider.getAriaLabel(A.element),getWidgetAriaLabel:()=>yt.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:yt.accessibilityProvider.getWidgetRole?()=>yt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:yt.accessibilityProvider.getAriaLevel&&(A=>yt.accessibilityProvider.getAriaLevel(A.element)),getActiveDescendantId:yt.accessibilityProvider.getActiveDescendantId&&(A=>yt.accessibilityProvider.getActiveDescendantId(A.element))}),filter:yt.filter&&{filter:(A,h)=>yt.filter.filter(A.element,h)},keyboardNavigationLabelProvider:yt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},yt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:A=>yt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(A.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===yt.expandOnlyOnTwistieClick?void 0:"function"!=typeof yt.expandOnlyOnTwistieClick?yt.expandOnlyOnTwistieClick:A=>yt.expandOnlyOnTwistieClick(A.element),additionalScrollHeight:yt.additionalScrollHeight})}function Ve(yt,A){A(yt),yt.children.forEach(h=>Ve(h,A))}class Je{constructor(A,h,S,V,ne,ae={}){this.user=A,this.dataSource=ne,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new W.Q5,this._onDidChangeNodeSlowState=new W.Q5,this.nodeMapper=new G(be=>new Oi(be)),this.disposables=new M.SL,this.identityProvider=ae.identityProvider,this.autoExpandSingleChildren=void 0!==ae.autoExpandSingleChildren&&ae.autoExpandSingleChildren,this.sorter=ae.sorter,this.collapseByDefault=ae.collapseByDefault,this.tree=this.createTree(A,h,S,V,ae),this.root=pn({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return W.ju.map(this.tree.onDidChangeFocus,vi)}get onDidChangeSelection(){return W.ju.map(this.tree.onDidChangeSelection,vi)}get onMouseDblClick(){return W.ju.map(this.tree.onMouseDblClick,xt)}get onPointer(){return W.ju.map(this.tree.onPointer,xt)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(A,h,S,V,ne){const ae=new Ce(S),be=V.map(Re=>new Li(Re,this.nodeMapper,this._onDidChangeNodeSlowState.event)),Oe=kt(ne)||{};return new rn(A,h,ae,be,Oe)}updateOptions(A={}){this.tree.updateOptions(A)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(A){this.tree.scrollTop=A}domFocus(){this.tree.domFocus()}layout(A,h){this.tree.layout(A,h)}style(A){this.tree.style(A)}getInput(){return this.root.element}setInput(A,h){return Xt(this,void 0,void 0,function*(){this.refreshPromises.forEach(V=>V.cancel()),this.refreshPromises.clear(),this.root.element=A;const S=h&&{viewState:h,focus:[],selection:[]};yield this._updateChildren(A,!0,!1,S),S&&(this.tree.setFocus(S.focus),this.tree.setSelection(S.selection)),h&&"number"==typeof h.scrollTop&&(this.scrollTop=h.scrollTop)})}_updateChildren(A=this.root.element,h=!0,S=!1,V,ne){return Xt(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new j(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield W.ju.toPromise(this._onDidRender.event));const ae=this.getDataNode(A);if(yield this.refreshAndRenderNode(ae,h,V,ne),S)try{this.tree.rerender(ae)}catch{}})}rerender(A){if(void 0===A||A===this.root.element)return void this.tree.rerender();const h=this.getDataNode(A);this.tree.rerender(h)}getNode(A=this.root.element){const h=this.getDataNode(A),S=this.tree.getNode(h===this.root?null:h);return this.nodeMapper.map(S)}collapse(A,h=!1){const S=this.getDataNode(A);return this.tree.collapse(S===this.root?null:S,h)}expand(A,h=!1){return Xt(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new j(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield W.ju.toPromise(this._onDidRender.event));const S=this.getDataNode(A);if(this.tree.hasElement(S)&&!this.tree.isCollapsible(S)||(S.refreshPromise&&(yield this.root.refreshPromise,yield W.ju.toPromise(this._onDidRender.event)),S!==this.root&&!S.refreshPromise&&!this.tree.isCollapsed(S)))return!1;const V=this.tree.expand(S===this.root?null:S,h);return S.refreshPromise&&(yield this.root.refreshPromise,yield W.ju.toPromise(this._onDidRender.event)),V})}setSelection(A,h){const S=A.map(V=>this.getDataNode(V));this.tree.setSelection(S,h)}getSelection(){return this.tree.getSelection().map(h=>h.element)}setFocus(A,h){const S=A.map(V=>this.getDataNode(V));this.tree.setFocus(S,h)}getFocus(){return this.tree.getFocus().map(h=>h.element)}reveal(A,h){this.tree.reveal(this.getDataNode(A),h)}getParentElement(A){const h=this.tree.getParentElement(this.getDataNode(A));return h&&h.element}getFirstElementChild(A=this.root.element){const h=this.getDataNode(A),S=this.tree.getFirstElementChild(h===this.root?null:h);return S&&S.element}getDataNode(A){const h=this.nodes.get(A===this.root.element?null:A);if(!h)throw new j(this.user,`Data tree node not found: ${A}`);return h}refreshAndRenderNode(A,h,S,V){return Xt(this,void 0,void 0,function*(){yield this.refreshNode(A,h,S),this.render(A,S,V)})}refreshNode(A,h,S){return Xt(this,void 0,void 0,function*(){let V;return this.subTreeRefreshPromises.forEach((ne,ae)=>{!V&&function(yt,A){return yt===A||ti(yt,A)||ti(A,yt)}(ae,A)&&(V=ne.then(()=>this.refreshNode(A,h,S)))}),V||this.doRefreshSubTree(A,h,S)})}doRefreshSubTree(A,h,S){return Xt(this,void 0,void 0,function*(){let V;A.refreshPromise=new Promise(ne=>V=ne),this.subTreeRefreshPromises.set(A,A.refreshPromise),A.refreshPromise.finally(()=>{A.refreshPromise=void 0,this.subTreeRefreshPromises.delete(A)});try{const ne=yield this.doRefreshNode(A,h,S);A.stale=!1,yield oe.jT.settled(ne.map(ae=>this.doRefreshSubTree(ae,h,S)))}finally{V()}})}doRefreshNode(A,h,S){return Xt(this,void 0,void 0,function*(){let V;if(A.hasChildren=!!this.dataSource.hasChildren(A.element),A.hasChildren){const ne=this.doGetChildren(A);if((0,$e.TW)(ne))V=Promise.resolve(ne);else{const ae=(0,oe.Vs)(800);ae.then(()=>{A.slow=!0,this._onDidChangeNodeSlowState.fire(A)},be=>null),V=ne.finally(()=>ae.cancel())}}else V=Promise.resolve(fe.$.empty());try{const ne=yield V;return this.setChildren(A,ne,h,S)}catch(ne){if(A!==this.root&&this.tree.hasElement(A)&&this.tree.collapse(A),(0,He.n2)(ne))return[];throw ne}finally{A.slow&&(A.slow=!1,this._onDidChangeNodeSlowState.fire(A))}})}doGetChildren(A){let h=this.refreshPromises.get(A);if(h)return h;const S=this.dataSource.getChildren(A.element);return(0,$e.TW)(S)?this.processChildren(S):(h=(0,oe.PG)(()=>Xt(this,void 0,void 0,function*(){return this.processChildren(yield S)})),this.refreshPromises.set(A,h),h.finally(()=>{this.refreshPromises.delete(A)}))}_onDidChangeCollapseState({node:A,deep:h}){null!==A.element&&!A.collapsed&&A.element.stale&&(h?this.collapse(A.element.element):this.refreshAndRenderNode(A.element,!1).catch(He.dL))}setChildren(A,h,S,V){const ne=[...h];if(0===A.children.length&&0===ne.length)return[];const ae=new Map,be=new Map;for(const Ze of A.children)if(ae.set(Ze.element,Ze),this.identityProvider){const Qe=this.tree.isCollapsed(Ze);be.set(Ze.id,{node:Ze,collapsed:Qe})}const Oe=[],Re=ne.map(Ze=>{const Qe=!!this.dataSource.hasChildren(Ze);if(!this.identityProvider){const Mt=pn({element:Ze,parent:A,hasChildren:Qe});return Qe&&this.collapseByDefault&&!this.collapseByDefault(Ze)&&(Mt.collapsedByDefault=!1,Oe.push(Mt)),Mt}const ot=this.identityProvider.getId(Ze).toString(),ht=be.get(ot);if(ht){const Mt=ht.node;return ae.delete(Mt.element),this.nodes.delete(Mt.element),this.nodes.set(Ze,Mt),Mt.element=Ze,Mt.hasChildren=Qe,S?ht.collapsed?(Mt.children.forEach(Bt=>Ve(Bt,Zt=>this.nodes.delete(Zt.element))),Mt.children.splice(0,Mt.children.length),Mt.stale=!0):Oe.push(Mt):Qe&&this.collapseByDefault&&!this.collapseByDefault(Ze)&&(Mt.collapsedByDefault=!1,Oe.push(Mt)),Mt}const gt=pn({element:Ze,parent:A,id:ot,hasChildren:Qe});return V&&V.viewState.focus&&V.viewState.focus.indexOf(ot)>-1&&V.focus.push(gt),V&&V.viewState.selection&&V.viewState.selection.indexOf(ot)>-1&&V.selection.push(gt),V&&V.viewState.expanded&&V.viewState.expanded.indexOf(ot)>-1?Oe.push(gt):Qe&&this.collapseByDefault&&!this.collapseByDefault(Ze)&&(gt.collapsedByDefault=!1,Oe.push(gt)),gt});for(const Ze of ae.values())Ve(Ze,Qe=>this.nodes.delete(Qe.element));for(const Ze of Re)this.nodes.set(Ze.element,Ze);return A.children.splice(0,A.children.length,...Re),A!==this.root&&this.autoExpandSingleChildren&&1===Re.length&&0===Oe.length&&(Re[0].collapsedByDefault=!1,Oe.push(Re[0])),Oe}render(A,h,S){const V=A.children.map(ae=>this.asTreeElement(ae,h)),ne=S&&Object.assign(Object.assign({},S),{diffIdentityProvider:S.diffIdentityProvider&&{getId:ae=>S.diffIdentityProvider.getId(ae.element)}});this.tree.setChildren(A===this.root?null:A,V,ne),A!==this.root&&this.tree.setCollapsible(A,A.hasChildren),this._onDidRender.fire()}asTreeElement(A,h){if(A.stale)return{element:A,collapsible:A.hasChildren,collapsed:!0};let S;return S=!(h&&h.viewState.expanded&&A.id&&h.viewState.expanded.indexOf(A.id)>-1)&&A.collapsedByDefault,A.collapsedByDefault=void 0,{element:A,children:A.hasChildren?fe.$.map(A.children,V=>this.asTreeElement(V,h)):[],collapsible:A.hasChildren,collapsed:S}}processChildren(A){return this.sorter&&(A=[...A].sort(this.sorter.compare.bind(this.sorter))),A}dispose(){this.disposables.dispose()}}class lt{constructor(A){this.node=A}get element(){return{elements:this.node.element.elements.map(A=>A.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(A=>new lt(A))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Et{constructor(A,h,S,V){this.renderer=A,this.nodeMapper=h,this.compressibleNodeMapperProvider=S,this.onDidChangeTwistieState=V,this.renderedNodes=new Map,this.disposables=[],this.templateId=A.templateId}renderTemplate(A){return{templateData:this.renderer.renderTemplate(A)}}renderElement(A,h,S,V){this.renderer.renderElement(this.nodeMapper.map(A),h,S.templateData,V)}renderCompressedElements(A,h,S,V){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(A),h,S.templateData,V)}renderTwistie(A,h){return A.slow?(h.classList.add(...ee.lA.treeItemLoading.classNamesArray),!0):(h.classList.remove(...ee.lA.treeItemLoading.classNamesArray),!1)}disposeElement(A,h,S,V){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(A),h,S.templateData,V)}disposeCompressedElements(A,h,S,V){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(A),h,S.templateData,V)}disposeTemplate(A){this.renderer.disposeTemplate(A.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,M.B9)(this.disposables)}}class Ut extends Je{constructor(A,h,S,V,ne,ae,be={}){super(A,h,S,ne,ae,be),this.compressionDelegate=V,this.compressibleNodeMapper=new G(Oe=>new lt(Oe)),this.filter=be.filter}createTree(A,h,S,V,ne){const ae=new Ce(S),be=V.map(Re=>new Et(Re,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),Oe=function(yt){const A=yt&&kt(yt);return A&&Object.assign(Object.assign({},A),{keyboardNavigationLabelProvider:A.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},A.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:h=>yt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(h.map(S=>S.element))})})}(ne)||{};return new Yt(A,h,ae,be,Oe)}asTreeElement(A,h){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(A.element)},super.asTreeElement(A,h))}updateOptions(A={}){this.tree.updateOptions(A)}render(A,h){if(!this.identityProvider)return super.render(A,h);const S=ot=>this.identityProvider.getId(ot).toString(),V=ot=>{const ht=new Set;for(const gt of ot){const Mt=this.tree.getCompressedTreeNode(gt===this.root?null:gt);if(Mt.element)for(const Bt of Mt.element.elements)ht.add(S(Bt.element))}return ht},ne=V(this.tree.getSelection()),ae=V(this.tree.getFocus());super.render(A,h);const be=this.getSelection();let Oe=!1;const Re=this.getFocus();let Ze=!1;const Qe=ot=>{const ht=ot.element;if(ht)for(let gt=0;gt<ht.elements.length;gt++){const Mt=S(ht.elements[gt].element),Bt=ht.elements[ht.elements.length-1].element;ne.has(Mt)&&-1===be.indexOf(Bt)&&(be.push(Bt),Oe=!0),ae.has(Mt)&&-1===Re.indexOf(Bt)&&(Re.push(Bt),Ze=!0)}ot.children.forEach(Qe)};Qe(this.tree.getCompressedTreeNode(A===this.root?null:A)),Oe&&this.setSelection(be),Ze&&this.setFocus(Re)}processChildren(A){return this.filter&&(A=fe.$.filter(A,h=>{const V="boolean"==typeof(yt=this.filter.filter(h,1))?yt?1:0:pe(yt)?ye(yt.visibility):ye(yt);var yt;if(2===V)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===V})),super.processChildren(A)}}class Sn extends Ct{constructor(A,h,S,V,ne,ae={}){super(A,h,S,V,ae),this.user=A,this.dataSource=ne,this.identityProvider=ae.identityProvider}createModel(A,h,S){return new jt(A,h,S)}}var qt=p(13976),Cn=p(13011),yn=p(92778),xn=p(6461),gn=p(70114),Pn=p(43569),kn=p(96938),jn=p(63779),Qn=p(905),gi=p(53323),Mi=function(yt,A,h,S){var ae,V=arguments.length,ne=V<3?A:null===S?S=Object.getOwnPropertyDescriptor(A,h):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(yt,A,h,S);else for(var be=yt.length-1;be>=0;be--)(ae=yt[be])&&(ne=(V<3?ae(ne):V>3?ae(A,h,ne):ae(A,h))||ne);return V>3&&ne&&Object.defineProperty(A,h,ne),ne},Mn=function(yt,A){return function(h,S){A(h,S,yt)}};const Pi=(0,Pn.yh)("listService");let ri=class{constructor(A){this._themeService=A,this.disposables=new M.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(A){var h,S;A!==this._lastFocusedWidget&&(null===(h=this._lastFocusedWidget)||void 0===h||h.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=A,null===(S=this._lastFocusedWidget)||void 0===S||S.getHTMLElement().classList.add("last-focused"))}register(A,h){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const V=new T.wD((0,D.dS)(),"");this.disposables.add((0,Qn.Jl)(V,this._themeService))}if(this.lists.some(V=>V.widget===A))throw new Error("Cannot register the same widget multiple times");const S={widget:A,extraContextKeys:h};return this.lists.push(S),A.getHTMLElement()===document.activeElement&&this.setLastFocusedList(A),(0,M.F8)(A.onDidFocus(()=>this.setLastFocusedList(A)),(0,M.OF)(()=>this.lists.splice(this.lists.indexOf(S),1)),A.onDidDispose(()=>{this.lists=this.lists.filter(V=>V!==S),this._lastFocusedWidget===A&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};ri=Mi([Mn(0,gi.XE)],ri);const mi=new xn.uy("listFocus",!0),Dn=new xn.uy("listSupportsMultiselect",!0),pi=xn.Ao.and(mi,xn.Ao.not(gn.d0)),Di=new xn.uy("listHasSelectionOrFocus",!1),Ci=new xn.uy("listDoubleSelection",!1),Xi=new xn.uy("listMultiSelection",!1),Kn=new xn.uy("listSelectionNavigation",!1),Ui=new xn.uy("treeElementCanCollapse",!1),ao=new xn.uy("treeElementHasParent",!1),ni=new xn.uy("treeElementCanExpand",!1),Co=new xn.uy("treeElementHasChild",!1),Ei="listAutomaticKeyboardNavigation";function Po(yt,A){const h=yt.createScoped(A.getHTMLElement());return mi.bindTo(h),h}const yo="workbench.list.multiSelectModifier",fo="workbench.list.openMode",Io="workbench.list.horizontalScrolling",oo="workbench.list.keyboardNavigation",ko="workbench.list.automaticKeyboardNavigation",Ts="workbench.tree.indent",Ys="workbench.tree.renderIndentGuides",Go="workbench.list.smoothScrolling",Ss="workbench.list.mouseWheelScrollSensitivity",xs="workbench.list.fastScrollSensitivity",As="workbench.tree.expandMode";function es(yt){return"alt"===yt.getValue(yo)}class lo extends M.JT{constructor(A){super(),this.configurationService=A,this.useAltAsMultipleSelectionModifier=es(A),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(A=>{A.affectsConfiguration(yo)&&(this.useAltAsMultipleSelectionModifier=es(this.configurationService))}))}isSelectionSingleChangeEvent(A){return this.useAltAsMultipleSelectionModifier?A.browserEvent.altKey:(0,T.Zo)(A)}isSelectionRangeChangeEvent(A){return(0,T.wn)(A)}}function Js(yt,A,h){var S;const V=new M.SL;return[Object.assign(Object.assign({},yt),{keyboardNavigationDelegate:{mightProducePrintableCharacter:ae=>h.mightProducePrintableCharacter(ae)},smoothScrolling:Boolean(A.getValue(Go)),mouseWheelScrollSensitivity:A.getValue(Ss),fastScrollSensitivity:A.getValue(xs),multipleSelectionController:null!==(S=yt.multipleSelectionController)&&void 0!==S?S:V.add(new lo(A))}),V]}let Ao=class extends T.aV{constructor(A,h,S,V,ne,ae,be,Oe,Re,Ze){const Qe=void 0!==ne.horizontalScrolling?ne.horizontalScrolling:Boolean(Re.getValue(Io)),[ot,ht]=Js(ne,Re,Ze);super(A,h,S,V,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Qn.o)(Oe.getColorTheme(),Qn.O2)),ot),{horizontalScrolling:Qe})),this.disposables.add(ht),this.contextKeyService=Po(ae,this),this.themeService=Oe,this.listSupportsMultiSelect=Dn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==ne.multipleSelectionSupport),Kn.bindTo(this.contextKeyService).set(Boolean(ne.selectionNavigation)),this.listHasSelectionOrFocus=Di.bindTo(this.contextKeyService),this.listDoubleSelection=Ci.bindTo(this.contextKeyService),this.listMultiSelection=Xi.bindTo(this.contextKeyService),this.horizontalScrolling=ne.horizontalScrolling,this._useAltAsMultipleSelectionModifier=es(Re),this.disposables.add(this.contextKeyService),this.disposables.add(be.register(this)),ne.overrideStyles&&this.updateStyles(ne.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Mt=this.getSelection(),Bt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Mt.length>0||Bt.length>0),this.listMultiSelection.set(Mt.length>1),this.listDoubleSelection.set(2===Mt.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Mt=this.getSelection(),Bt=this.getFocus();this.listHasSelectionOrFocus.set(Mt.length>0||Bt.length>0)})),this.disposables.add(Re.onDidChangeConfiguration(Mt=>{Mt.affectsConfiguration(yo)&&(this._useAltAsMultipleSelectionModifier=es(Re));let Bt={};if(Mt.affectsConfiguration(Io)&&void 0===this.horizontalScrolling){const Zt=Boolean(Re.getValue(Io));Bt=Object.assign(Object.assign({},Bt),{horizontalScrolling:Zt})}if(Mt.affectsConfiguration(Go)){const Zt=Boolean(Re.getValue(Go));Bt=Object.assign(Object.assign({},Bt),{smoothScrolling:Zt})}if(Mt.affectsConfiguration(Ss)){const Zt=Re.getValue(Ss);Bt=Object.assign(Object.assign({},Bt),{mouseWheelScrollSensitivity:Zt})}if(Mt.affectsConfiguration(xs)){const Zt=Re.getValue(xs);Bt=Object.assign(Object.assign({},Bt),{fastScrollSensitivity:Zt})}Object.keys(Bt).length>0&&this.updateOptions(Bt)})),this.navigator=new Sr(this,Object.assign({configurationService:Re},ne)),this.disposables.add(this.navigator)}updateOptions(A){super.updateOptions(A),A.overrideStyles&&this.updateStyles(A.overrideStyles),void 0!==A.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyles(A){var h;null===(h=this._styler)||void 0===h||h.dispose(),this._styler=(0,Qn.Jl)(this,this.themeService,A)}dispose(){var A;null===(A=this._styler)||void 0===A||A.dispose(),super.dispose()}};Ao=Mi([Mn(5,xn.i6),Mn(6,Pi),Mn(7,gi.XE),Mn(8,Cn.Ui),Mn(9,kn.d)],Ao);let Ro=class extends class{constructor(A,h,S,V,ne={}){const ae=()=>this.model,be=V.map(Oe=>new B(Oe,ae));this.list=new T.aV(A,h,S,be,function(yt,A){return Object.assign(Object.assign({},A),{accessibilityProvider:A.accessibilityProvider&&new P(yt,A.accessibilityProvider)})}(ae,ne))}updateOptions(A){this.list.updateOptions(A)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return W.ju.map(this.list.onMouseDblClick,({element:A,index:h,browserEvent:S})=>({element:void 0===A?void 0:this._model.get(A),index:h,browserEvent:S}))}get onPointer(){return W.ju.map(this.list.onPointer,({element:A,index:h,browserEvent:S})=>({element:void 0===A?void 0:this._model.get(A),index:h,browserEvent:S}))}get onDidChangeSelection(){return W.ju.map(this.list.onDidChangeSelection,({elements:A,indexes:h,browserEvent:S})=>({elements:A.map(V=>this._model.get(V)),indexes:h,browserEvent:S}))}get model(){return this._model}set model(A){this._model=A,this.list.splice(0,this.list.length,(0,g.w6)(A.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(A=>this.model.get(A))}style(A){this.list.style(A)}dispose(){this.list.dispose()}}{constructor(A,h,S,V,ne,ae,be,Oe,Re,Ze){const Qe=void 0!==ne.horizontalScrolling?ne.horizontalScrolling:Boolean(Re.getValue(Io)),[ot,ht]=Js(ne,Re,Ze);super(A,h,S,V,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Qn.o)(Oe.getColorTheme(),Qn.O2)),ot),{horizontalScrolling:Qe})),this.disposables=new M.SL,this.disposables.add(ht),this.contextKeyService=Po(ae,this),this.themeService=Oe,this.horizontalScrolling=ne.horizontalScrolling,this.listSupportsMultiSelect=Dn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==ne.multipleSelectionSupport),Kn.bindTo(this.contextKeyService).set(Boolean(ne.selectionNavigation)),this._useAltAsMultipleSelectionModifier=es(Re),this.disposables.add(this.contextKeyService),this.disposables.add(be.register(this)),ne.overrideStyles&&this.updateStyles(ne.overrideStyles),ne.overrideStyles&&this.disposables.add((0,Qn.Jl)(this,Oe,ne.overrideStyles)),this.disposables.add(Re.onDidChangeConfiguration(Mt=>{Mt.affectsConfiguration(yo)&&(this._useAltAsMultipleSelectionModifier=es(Re));let Bt={};if(Mt.affectsConfiguration(Io)&&void 0===this.horizontalScrolling){const Zt=Boolean(Re.getValue(Io));Bt=Object.assign(Object.assign({},Bt),{horizontalScrolling:Zt})}if(Mt.affectsConfiguration(Go)){const Zt=Boolean(Re.getValue(Go));Bt=Object.assign(Object.assign({},Bt),{smoothScrolling:Zt})}if(Mt.affectsConfiguration(Ss)){const Zt=Re.getValue(Ss);Bt=Object.assign(Object.assign({},Bt),{mouseWheelScrollSensitivity:Zt})}if(Mt.affectsConfiguration(xs)){const Zt=Re.getValue(xs);Bt=Object.assign(Object.assign({},Bt),{fastScrollSensitivity:Zt})}Object.keys(Bt).length>0&&this.updateOptions(Bt)})),this.navigator=new Sr(this,Object.assign({configurationService:Re},ne)),this.disposables.add(this.navigator)}updateOptions(A){super.updateOptions(A),A.overrideStyles&&this.updateStyles(A.overrideStyles),void 0!==A.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyles(A){var h;null===(h=this._styler)||void 0===h||h.dispose(),this._styler=(0,Qn.Jl)(this,this.themeService,A)}dispose(){var A;null===(A=this._styler)||void 0===A||A.dispose(),this.disposables.dispose(),super.dispose()}};Ro=Mi([Mn(5,xn.i6),Mn(6,Pi),Mn(7,gi.XE),Mn(8,Cn.Ui),Mn(9,kn.d)],Ro);let So=class extends L{constructor(A,h,S,V,ne,ae,be,Oe,Re,Ze,Qe){const ot=void 0!==ae.horizontalScrolling?ae.horizontalScrolling:Boolean(Ze.getValue(Io)),[ht,gt]=Js(ae,Ze,Qe);super(A,h,S,V,ne,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Qn.o)(Re.getColorTheme(),Qn.O2)),ht),{horizontalScrolling:ot})),this.disposables.add(gt),this.contextKeyService=Po(be,this),this.themeService=Re,this.listSupportsMultiSelect=Dn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==ae.multipleSelectionSupport),Kn.bindTo(this.contextKeyService).set(Boolean(ae.selectionNavigation)),this.listHasSelectionOrFocus=Di.bindTo(this.contextKeyService),this.listDoubleSelection=Ci.bindTo(this.contextKeyService),this.listMultiSelection=Xi.bindTo(this.contextKeyService),this.horizontalScrolling=ae.horizontalScrolling,this._useAltAsMultipleSelectionModifier=es(Ze),this.disposables.add(this.contextKeyService),this.disposables.add(Oe.register(this)),ae.overrideStyles&&this.updateStyles(ae.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Bt=this.getSelection(),Zt=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Bt.length>0||Zt.length>0),this.listMultiSelection.set(Bt.length>1),this.listDoubleSelection.set(2===Bt.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Bt=this.getSelection(),Zt=this.getFocus();this.listHasSelectionOrFocus.set(Bt.length>0||Zt.length>0)})),this.disposables.add(Ze.onDidChangeConfiguration(Bt=>{Bt.affectsConfiguration(yo)&&(this._useAltAsMultipleSelectionModifier=es(Ze));let Zt={};if(Bt.affectsConfiguration(Io)&&void 0===this.horizontalScrolling){const Nn=Boolean(Ze.getValue(Io));Zt=Object.assign(Object.assign({},Zt),{horizontalScrolling:Nn})}if(Bt.affectsConfiguration(Go)){const Nn=Boolean(Ze.getValue(Go));Zt=Object.assign(Object.assign({},Zt),{smoothScrolling:Nn})}if(Bt.affectsConfiguration(Ss)){const Nn=Ze.getValue(Ss);Zt=Object.assign(Object.assign({},Zt),{mouseWheelScrollSensitivity:Nn})}if(Bt.affectsConfiguration(xs)){const Nn=Ze.getValue(xs);Zt=Object.assign(Object.assign({},Zt),{fastScrollSensitivity:Nn})}Object.keys(Zt).length>0&&this.updateOptions(Zt)})),this.navigator=new Qo(this,Object.assign({configurationService:Ze},ae)),this.disposables.add(this.navigator)}updateOptions(A){super.updateOptions(A),A.overrideStyles&&this.updateStyles(A.overrideStyles),void 0!==A.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyles(A){var h;null===(h=this._styler)||void 0===h||h.dispose(),this._styler=(0,Qn.Jl)(this,this.themeService,A)}dispose(){var A;null===(A=this._styler)||void 0===A||A.dispose(),this.disposables.dispose(),super.dispose()}};So=Mi([Mn(6,xn.i6),Mn(7,Pi),Mn(8,gi.XE),Mn(9,Cn.Ui),Mn(10,kn.d)],So);class dr extends M.JT{constructor(A,h){var S;super(),this.widget=A,this._onDidOpen=this._register(new W.Q5),this.onDidOpen=this._onDidOpen.event,this._register(W.ju.filter(this.widget.onDidChangeSelection,V=>V.browserEvent instanceof KeyboardEvent)(V=>this.onSelectionFromKeyboard(V))),this._register(this.widget.onPointer(V=>this.onPointer(V.element,V.browserEvent))),this._register(this.widget.onMouseDblClick(V=>this.onMouseDblClick(V.element,V.browserEvent))),"boolean"!=typeof(null==h?void 0:h.openOnSingleClick)&&(null==h?void 0:h.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==h?void 0:h.configurationService.getValue(fo)),this._register(null==h?void 0:h.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null==h?void 0:h.configurationService.getValue(fo))}))):this.openOnSingleClick=null===(S=null==h?void 0:h.openOnSingleClick)||void 0===S||S}onSelectionFromKeyboard(A){if(1!==A.elements.length)return;const h=A.browserEvent,S="boolean"!=typeof h.preserveFocus||h.preserveFocus,V="boolean"==typeof h.pinned?h.pinned:!S;this._open(this.getSelectedElement(),S,V,!1,A.browserEvent)}onPointer(A,h){this.openOnSingleClick&&2!==h.detail&&this._open(A,!0,1===h.button,h.ctrlKey||h.metaKey||h.altKey,h)}onMouseDblClick(A,h){if(!h)return;const S=h.target;S.classList.contains("monaco-tl-twistie")||S.classList.contains("monaco-icon-label")&&S.classList.contains("folder-icon")&&h.offsetX<16||this._open(A,!1,!0,h.ctrlKey||h.metaKey||h.altKey,h)}_open(A,h,S,V,ne){!A||this._onDidOpen.fire({editorOptions:{preserveFocus:h,pinned:S,revealIfVisible:!0},sideBySide:V,element:A,browserEvent:ne})}}class Sr extends dr{constructor(A,h){super(A,h),this.widget=A}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Qo extends dr{constructor(A,h){super(A,h)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Xs extends dr{constructor(A,h){super(A,h)}getSelectedElement(){var A;return null!==(A=this.widget.getSelection()[0])&&void 0!==A?A:void 0}}function Vo(yt,A){let h=!1;return S=>{if(S.toKeybinding().isModifierKey())return!1;if(h)return h=!1,!1;const V=A.softDispatch(S,yt);return V&&V.enterChord?(h=!0,!1):(h=!1,!0)}}let Cs=class extends rn{constructor(A,h,S,V,ne,ae,be,Oe,Re,Ze,Qe){const{options:ot,getAutomaticKeyboardNavigation:ht,disposable:gt}=Rs(h,ne,ae,Re,Ze,Qe);super(A,h,S,V,ot),this.disposables.add(gt),this.internals=new qs(this,ne,ht,ne.overrideStyles,ae,be,Oe,Re,Qe),this.disposables.add(this.internals)}updateOptions(A){super.updateOptions(A),this.internals.updateOptions(A)}};Cs=Mi([Mn(5,xn.i6),Mn(6,Pi),Mn(7,gi.XE),Mn(8,Cn.Ui),Mn(9,kn.d),Mn(10,qt.F)],Cs);let ur=class extends Yt{constructor(A,h,S,V,ne,ae,be,Oe,Re,Ze,Qe){const{options:ot,getAutomaticKeyboardNavigation:ht,disposable:gt}=Rs(h,ne,ae,Re,Ze,Qe);super(A,h,S,V,ot),this.disposables.add(gt),this.internals=new qs(this,ne,ht,ne.overrideStyles,ae,be,Oe,Re,Qe),this.disposables.add(this.internals)}updateOptions(A={}){super.updateOptions(A),A.overrideStyles&&this.internals.updateStyleOverrides(A.overrideStyles),this.internals.updateOptions(A)}};ur=Mi([Mn(5,xn.i6),Mn(6,Pi),Mn(7,gi.XE),Mn(8,Cn.Ui),Mn(9,kn.d),Mn(10,qt.F)],ur);let Sa=class extends Sn{constructor(A,h,S,V,ne,ae,be,Oe,Re,Ze,Qe,ot){const{options:ht,getAutomaticKeyboardNavigation:gt,disposable:Mt}=Rs(h,ae,be,Ze,Qe,ot);super(A,h,S,V,ne,ht),this.disposables.add(Mt),this.internals=new qs(this,ae,gt,ae.overrideStyles,be,Oe,Re,Ze,ot),this.disposables.add(this.internals)}updateOptions(A={}){super.updateOptions(A),A.overrideStyles&&this.internals.updateStyleOverrides(A.overrideStyles),this.internals.updateOptions(A)}};Sa=Mi([Mn(6,xn.i6),Mn(7,Pi),Mn(8,gi.XE),Mn(9,Cn.Ui),Mn(10,kn.d),Mn(11,qt.F)],Sa);let ji=class extends Je{constructor(A,h,S,V,ne,ae,be,Oe,Re,Ze,Qe,ot){const{options:ht,getAutomaticKeyboardNavigation:gt,disposable:Mt}=Rs(h,ae,be,Ze,Qe,ot);super(A,h,S,V,ne,ht),this.disposables.add(Mt),this.internals=new qs(this,ae,gt,ae.overrideStyles,be,Oe,Re,Ze,ot),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(A={}){super.updateOptions(A),A.overrideStyles&&this.internals.updateStyleOverrides(A.overrideStyles),this.internals.updateOptions(A)}};ji=Mi([Mn(6,xn.i6),Mn(7,Pi),Mn(8,gi.XE),Mn(9,Cn.Ui),Mn(10,kn.d),Mn(11,qt.F)],ji);let Lo=class extends Ut{constructor(A,h,S,V,ne,ae,be,Oe,Re,Ze,Qe,ot,ht){const{options:gt,getAutomaticKeyboardNavigation:Mt,disposable:Bt}=Rs(h,be,Oe,Qe,ot,ht);super(A,h,S,V,ne,ae,gt),this.disposables.add(Bt),this.internals=new qs(this,be,Mt,be.overrideStyles,Oe,Re,Ze,Qe,ht),this.disposables.add(this.internals)}updateOptions(A){super.updateOptions(A),this.internals.updateOptions(A)}};function Rs(yt,A,h,S,V,ne){var ae;const be=()=>{let gt=Boolean(h.getContextKeyValue(Ei));return gt&&(gt=Boolean(S.getValue(ko))),gt},Oe=ne.isScreenReaderOptimized(),Re=A.simpleKeyboardNavigation||Oe?"simple":S.getValue(oo),Ze=void 0!==A.horizontalScrolling?A.horizontalScrolling:Boolean(S.getValue(Io)),[Qe,ot]=Js(A,S,V),ht=A.additionalScrollHeight;return{getAutomaticKeyboardNavigation:be,disposable:ot,options:Object.assign(Object.assign({keyboardSupport:!1},Qe),{indent:"number"==typeof S.getValue(Ts)?S.getValue(Ts):void 0,renderIndentGuides:S.getValue(Ys),smoothScrolling:Boolean(S.getValue(Go)),automaticKeyboardNavigation:be(),simpleKeyboardNavigation:"simple"===Re,filterOnType:"filter"===Re,horizontalScrolling:Ze,keyboardNavigationEventFilter:Vo(yt,V),additionalScrollHeight:ht,hideTwistiesOfChildlessElements:A.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(ae=A.expandOnlyOnTwistieClick)&&void 0!==ae?ae:"doubleClick"===S.getValue(As)})}}Lo=Mi([Mn(7,xn.i6),Mn(8,Pi),Mn(9,gi.XE),Mn(10,Cn.Ui),Mn(11,kn.d),Mn(12,qt.F)],Lo);let qs=class{constructor(A,h,S,V,ne,ae,be,Oe,Re){this.tree=A,this.themeService=be,this.disposables=[],this.contextKeyService=Po(ne,A),this.listSupportsMultiSelect=Dn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==h.multipleSelectionSupport),Kn.bindTo(this.contextKeyService).set(Boolean(h.selectionNavigation)),this.hasSelectionOrFocus=Di.bindTo(this.contextKeyService),this.hasDoubleSelection=Ci.bindTo(this.contextKeyService),this.hasMultiSelection=Xi.bindTo(this.contextKeyService),this.treeElementCanCollapse=Ui.bindTo(this.contextKeyService),this.treeElementHasParent=ao.bindTo(this.contextKeyService),this.treeElementCanExpand=ni.bindTo(this.contextKeyService),this.treeElementHasChild=Co.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=es(Oe);const Qe=new Set;Qe.add(Ei);const ot=()=>{const Mt=Re.isScreenReaderOptimized()?"simple":Oe.getValue(oo);A.updateOptions({simpleKeyboardNavigation:"simple"===Mt,filterOnType:"filter"===Mt})};this.updateStyleOverrides(V);const ht=()=>{const gt=A.getFocus()[0];if(!gt)return;const Mt=A.getNode(gt);this.treeElementCanCollapse.set(Mt.collapsible&&!Mt.collapsed),this.treeElementHasParent.set(!!A.getParentElement(gt)),this.treeElementCanExpand.set(Mt.collapsible&&Mt.collapsed),this.treeElementHasChild.set(!!A.getFirstElementChild(gt))};this.disposables.push(this.contextKeyService,ae.register(A),A.onDidChangeSelection(()=>{const gt=A.getSelection(),Mt=A.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(gt.length>0||Mt.length>0),this.hasMultiSelection.set(gt.length>1),this.hasDoubleSelection.set(2===gt.length)})}),A.onDidChangeFocus(()=>{const gt=A.getSelection(),Mt=A.getFocus();this.hasSelectionOrFocus.set(gt.length>0||Mt.length>0),ht()}),A.onDidChangeCollapseState(ht),A.onDidChangeModel(ht),Oe.onDidChangeConfiguration(gt=>{let Mt={};if(gt.affectsConfiguration(yo)&&(this._useAltAsMultipleSelectionModifier=es(Oe)),gt.affectsConfiguration(Ts)){const Bt=Oe.getValue(Ts);Mt=Object.assign(Object.assign({},Mt),{indent:Bt})}if(gt.affectsConfiguration(Ys)){const Bt=Oe.getValue(Ys);Mt=Object.assign(Object.assign({},Mt),{renderIndentGuides:Bt})}if(gt.affectsConfiguration(Go)){const Bt=Boolean(Oe.getValue(Go));Mt=Object.assign(Object.assign({},Mt),{smoothScrolling:Bt})}if(gt.affectsConfiguration(oo)&&ot(),gt.affectsConfiguration(ko)&&(Mt=Object.assign(Object.assign({},Mt),{automaticKeyboardNavigation:S()})),gt.affectsConfiguration(Io)&&void 0===h.horizontalScrolling){const Bt=Boolean(Oe.getValue(Io));Mt=Object.assign(Object.assign({},Mt),{horizontalScrolling:Bt})}if(gt.affectsConfiguration(As)&&void 0===h.expandOnlyOnTwistieClick&&(Mt=Object.assign(Object.assign({},Mt),{expandOnlyOnTwistieClick:"doubleClick"===Oe.getValue(As)})),gt.affectsConfiguration(Ss)){const Bt=Oe.getValue(Ss);Mt=Object.assign(Object.assign({},Mt),{mouseWheelScrollSensitivity:Bt})}if(gt.affectsConfiguration(xs)){const Bt=Oe.getValue(xs);Mt=Object.assign(Object.assign({},Mt),{fastScrollSensitivity:Bt})}Object.keys(Mt).length>0&&A.updateOptions(Mt)}),this.contextKeyService.onDidChangeContext(gt=>{gt.affectsSome(Qe)&&A.updateOptions({automaticKeyboardNavigation:S()})}),Re.onDidChangeScreenReaderOptimized(()=>ot())),this.navigator=new Xs(A,Object.assign({configurationService:Oe},h)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(A){void 0!==A.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!A.multipleSelectionSupport)}updateStyleOverrides(A){(0,M.B9)(this.styler),this.styler=A?(0,Qn.Jl)(this.tree,this.themeService,A):M.JT.None}dispose(){this.disposables=(0,M.B9)(this.disposables),(0,M.B9)(this.styler),this.styler=void 0}};qs=Mi([Mn(4,xn.i6),Mn(5,Pi),Mn(6,gi.XE),Mn(7,Cn.Ui),Mn(8,qt.F)],qs),jn.B.as(yn.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,ve.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[yo]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,ve.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,ve.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,ve.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[fo]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ve.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Io]:{type:"boolean",default:!1,description:(0,ve.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Ts]:{type:"number",default:8,minimum:4,maximum:40,description:(0,ve.N)("tree indent setting","Controls tree indentation in pixels.")},[Ys]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,ve.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[Go]:{type:"boolean",default:!1,description:(0,ve.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Ss]:{type:"number",default:1,description:(0,ve.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[xs]:{type:"number",default:5,description:(0,ve.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[oo]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,ve.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,ve.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,ve.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,ve.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[ko]:{type:"boolean",default:!0,markdownDescription:(0,ve.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[As]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ve.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},2646:(Fe,Ee,p)=>{p.d(Ee,{VZ:()=>W,in:()=>M,kw:()=>B,$V:()=>P});var D=p(71040),g=p(40189);const W=(0,p(43569).yh)("logService");var M=(()=>{return(y=M||(M={}))[y.Trace=0]="Trace",y[y.Debug=1]="Debug",y[y.Info=2]="Info",y[y.Warning=3]="Warning",y[y.Error=4]="Error",y[y.Critical=5]="Critical",y[y.Off=6]="Off",M;var y})();const i=M.Info;class T extends g.JT{constructor(){super(...arguments),this.level=i,this._onDidChangeLogLevel=this._register(new D.Q5)}setLevel(C){this.level!==C&&(this.level=C,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class B extends T{constructor(C=i){super(),this.setLevel(C)}trace(C,...b){this.getLevel()<=M.Trace&&console.log("%cTRACE","color: #888",C,...b)}debug(C,...b){this.getLevel()<=M.Debug&&console.log("%cDEBUG","background: #eee; color: #888",C,...b)}info(C,...b){this.getLevel()<=M.Info&&console.log("%c INFO","color: #33f",C,...b)}error(C,...b){this.getLevel()<=M.Error&&console.log("%c  ERR","color: #f33",C,...b)}dispose(){}}class P extends g.JT{constructor(C){super(),this.logger=C,this._register(C)}getLevel(){return this.logger.getLevel()}trace(C,...b){this.logger.trace(C,...b)}debug(C,...b){this.logger.debug(C,...b)}info(C,...b){this.logger.info(C,...b)}error(C,...b){this.logger.error(C,...b)}}},81622:(Fe,Ee,p)=>{p.d(Ee,{ZL:()=>W,H0:()=>M,lT:()=>i});var M,D=p(13310),g=p(12918),Y=p(43569),W=(()=>{return(T=W||(W={}))[T.Hint=1]="Hint",T[T.Info=2]="Info",T[T.Warning=4]="Warning",T[T.Error=8]="Error",W;var T})();!function(T){T.compare=function(x,f){return f-x};const P=Object.create(null);P[T.Error]=(0,g.N)("sev.error","Error"),P[T.Warning]=(0,g.N)("sev.warning","Warning"),P[T.Info]=(0,g.N)("sev.info","Info"),T.toString=function(x){return P[x]||""},T.fromSeverity=function(x){switch(x){case D.Z.Error:return T.Error;case D.Z.Warning:return T.Warning;case D.Z.Info:return T.Info;case D.Z.Ignore:return T.Hint}},T.toSeverity=function(x){switch(x){case T.Error:return D.Z.Error;case T.Warning:return D.Z.Warning;case T.Info:return D.Z.Info;case T.Hint:return D.Z.Ignore}}}(W||(W={})),function(T){const B="";function y(C,b){let x=[B];return x.push(C.source?C.source.replace("\xa6","\\\xa6"):B),x.push(C.code?"string"==typeof C.code?C.code.replace("\xa6","\\\xa6"):C.code.value.replace("\xa6","\\\xa6"):B),x.push(null!=C.severity?W.toString(C.severity):B),x.push(C.message&&b?C.message.replace("\xa6","\\\xa6"):B),x.push(null!=C.startLineNumber?C.startLineNumber.toString():B),x.push(null!=C.startColumn?C.startColumn.toString():B),x.push(null!=C.endLineNumber?C.endLineNumber.toString():B),x.push(null!=C.endColumn?C.endColumn.toString():B),x.push(B),x.join("\xa6")}T.makeKey=function(C){return y(C,!0)},T.makeKeyOptionalMessage=y}(M||(M={}));const i=(0,Y.yh)("markerService")},8135:(Fe,Ee,p)=>{p.d(Ee,{zb:()=>Y,lT:()=>W,EO:()=>M});var D=p(13310),g=p(43569),Y=D.Z;const W=(0,g.yh)("notificationService");class M{}},23813:(Fe,Ee,p)=>{p.d(Ee,{v4:()=>i,SW:()=>T,xn:()=>B,Gs:()=>P,xI:()=>y});var D=p(40189),g=p(74243),Y=p(85459),W=p(43569),M=function(C,b,x,f){return new(x||(x=Promise))(function(z,L){function N(I){try{O(f.next(I))}catch($){L($)}}function Z(I){try{O(f.throw(I))}catch($){L($)}}function O(I){I.done?z(I.value):function(z){return z instanceof x?z:new x(function(L){L(z)})}(I.value).then(N,Z)}O((f=f.apply(C,b||[])).next())})};const i=(0,W.yh)("openerService"),T=Object.freeze({_serviceBrand:void 0,registerOpener:()=>D.JT.None,registerValidator:()=>D.JT.None,registerExternalUriResolver:()=>D.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>D.JT.None,open(){return M(this,void 0,void 0,function*(){return!1})},resolveExternalUri(C){return M(this,void 0,void 0,function*(){return{resolved:C,dispose(){}}})}});function B(C,b){return Y.o.isUri(C)?(0,g.qq)(C.scheme,b):(0,g.ok)(C,b+":")}function P(C,...b){return b.some(x=>B(C,x))}function y(C){let b;const x=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(C.fragment);return x&&(b={startLineNumber:parseInt(x[1]),startColumn:x[2]?parseInt(x[2]):1,endLineNumber:x[4]?parseInt(x[4]):void 0,endColumn:x[4]?x[5]?parseInt(x[5]):1:void 0},C=C.with({fragment:""})),{selection:b,uri:C}}},24763:(Fe,Ee,p)=>{p.d(Ee,{Ex:()=>Y,ek:()=>W});var D=p(43569);Object.freeze({total(){},worked(){},done(){}});class Y{constructor(i){this.callback=i}report(i){this._value=i,this.callback(this._value)}}Y.None=Object.freeze({report(){}});const W=(0,D.yh)("editorProgressService")},76183:(Fe,Ee,p)=>{p.d(Ee,{Ry:()=>W,IP:()=>M});var D=p(89822),g=p(40189),Y=p(63779),W=(()=>{return(T=W||(W={}))[T.PRESERVE=0]="PRESERVE",T[T.LAST=1]="LAST",W;var T})();const M={Quickaccess:"workbench.contributions.quickaccess"};Y.B.add(M.Quickaccess,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(B){return 0===B.prefix.length?this.defaultProvider=B:this.providers.push(B),this.providers.sort((P,y)=>y.prefix.length-P.prefix.length),(0,g.OF)(()=>{this.providers.splice(this.providers.indexOf(B),1),this.defaultProvider===B&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,D.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(B){return B&&this.providers.find(y=>B.startsWith(y.prefix))||this.defaultProvider}})},43413:(Fe,Ee,p)=>{p.d(Ee,{jG:()=>g.jG,eJ:()=>Y});var D=p(43569),g=p(55552);const Y=(0,D.yh)("quickInputService")},63779:(Fe,Ee,p)=>{p.d(Ee,{B:()=>W});var D=p(59126),g=p(99770);const W=new class{constructor(){this.data=new Map}add(i,T){D.ok(g.HD(i)),D.ok(g.Kn(T)),D.ok(!this.data.has(i),"There is already an extension with this id"),this.data.set(i,T)}as(i){return this.data.get(i)||null}}},58070:(Fe,Ee,p)=>{p.d(Ee,{Uy:()=>C,vm:()=>f,fk:()=>b});var D=p(71040),g=p(40189),Y=p(99770),W=p(89983),M=function(E,z,L,N){return new(L||(L=Promise))(function(O,I){function $(oe){try{G(N.next(oe))}catch(de){I(de)}}function j(oe){try{G(N.throw(oe))}catch(de){I(de)}}function G(oe){oe.done?O(oe.value):function(O){return O instanceof L?O:new L(function(I){I(O)})}(oe.value).then($,j)}G((N=N.apply(E,z||[])).next())})},i=(()=>{return(E=i||(i={}))[E.None=0]="None",E[E.Initialized=1]="Initialized",E[E.Closed=2]="Closed",i;var E})();let T=(()=>{class E extends g.JT{constructor(L,N=Object.create(null)){super(),this.database=L,this.options=N,this._onDidChangeStorage=this._register(new D.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=i.None,this.cache=new Map,this.flushDelayer=new W.rH(E.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(L=>this.onDidChangeItemsExternal(L)))}onDidChangeItemsExternal(L){var N,Z;null===(N=L.changed)||void 0===N||N.forEach((O,I)=>this.accept(I,O)),null===(Z=L.deleted)||void 0===Z||Z.forEach(O=>this.accept(O,void 0))}accept(L,N){if(this.state===i.Closed)return;let Z=!1;(0,Y.Jp)(N)?Z=this.cache.delete(L):this.cache.get(L)!==N&&(this.cache.set(L,N),Z=!0),Z&&this._onDidChangeStorage.fire(L)}get(L,N){const Z=this.cache.get(L);return(0,Y.Jp)(Z)?N:Z}getBoolean(L,N){const Z=this.get(L);return(0,Y.Jp)(Z)?N:"true"===Z}getNumber(L,N){const Z=this.get(L);return(0,Y.Jp)(Z)?N:parseInt(Z,10)}set(L,N){return M(this,void 0,void 0,function*(){if(this.state===i.Closed)return;if((0,Y.Jp)(N))return this.delete(L);const Z=String(N);return this.cache.get(L)!==Z?(this.cache.set(L,Z),this.pendingInserts.set(L,Z),this.pendingDeletes.delete(L),this._onDidChangeStorage.fire(L),this.doFlush()):void 0})}delete(L){return M(this,void 0,void 0,function*(){if(this.state!==i.Closed&&this.cache.delete(L))return this.pendingDeletes.has(L)||this.pendingDeletes.add(L),this.pendingInserts.delete(L),this._onDidChangeStorage.fire(L),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return M(this,void 0,void 0,function*(){if(!this.hasPending)return;const L={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(L).finally(()=>{var N;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(N=this.whenFlushedCallbacks.pop())||void 0===N||N()})})}doFlush(L){return M(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),L)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return E.DEFAULT_FLUSH_DELAY=100,E})();class B{constructor(){this.onDidChangeItemsExternal=D.ju.None,this.items=new Map}updateItems(z){return M(this,void 0,void 0,function*(){z.insert&&z.insert.forEach((L,N)=>this.items.set(N,L)),z.delete&&z.delete.forEach(L=>this.items.delete(L))})}}var P=p(43569);const y="__$__targetStorageMarker",C=(0,P.yh)("storageService");var b=(()=>{return(E=b||(b={}))[E.NONE=0]="NONE",E[E.SHUTDOWN=1]="SHUTDOWN",b;var E})();let x=(()=>{class E extends g.JT{constructor(L={flushInterval:E.DEFAULT_FLUSH_INTERVAL}){super(),this.options=L,this._onDidChangeValue=this._register(new D.K3),this._onDidChangeTarget=this._register(new D.K3),this._onWillSaveState=this._register(new D.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(L,N){N===y?(0===L?this._globalKeyTargets=void 0:1===L&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:L})):this._onDidChangeValue.fire({scope:L,key:N,target:this.getKeyTargets(L)[N]})}get(L,N,Z){var O;return null===(O=this.getStorage(N))||void 0===O?void 0:O.get(L,Z)}getBoolean(L,N,Z){var O;return null===(O=this.getStorage(N))||void 0===O?void 0:O.getBoolean(L,Z)}getNumber(L,N,Z){var O;return null===(O=this.getStorage(N))||void 0===O?void 0:O.getNumber(L,Z)}store(L,N,Z,O){(0,Y.Jp)(N)?this.remove(L,Z):this.withPausedEmitters(()=>{var I;this.updateKeyTarget(L,Z,O),null===(I=this.getStorage(Z))||void 0===I||I.set(L,N)})}remove(L,N){this.withPausedEmitters(()=>{var Z;this.updateKeyTarget(L,N,void 0),null===(Z=this.getStorage(N))||void 0===Z||Z.delete(L)})}withPausedEmitters(L){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{L()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(L,N,Z){var O,I;const $=this.getKeyTargets(N);"number"==typeof Z?$[L]!==Z&&($[L]=Z,null===(O=this.getStorage(N))||void 0===O||O.set(y,JSON.stringify($))):"number"==typeof $[L]&&(delete $[L],null===(I=this.getStorage(N))||void 0===I||I.set(y,JSON.stringify($)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(L){return 0===L?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(L){const N=this.get(y,L);if(N)try{return JSON.parse(N)}catch{}return Object.create(null)}}return E.DEFAULT_FLUSH_INTERVAL=6e4,E})();class f extends x{constructor(){super(),this.globalStorage=this._register(new T(new B)),this.workspaceStorage=this._register(new T(new B)),this._register(this.workspaceStorage.onDidChangeStorage(z=>this.emitDidChangeValue(1,z))),this._register(this.globalStorage.onDidChangeStorage(z=>this.emitDidChangeValue(0,z)))}getStorage(z){return 0===z?this.globalStorage:this.workspaceStorage}}},87493:(Fe,Ee,p)=>{p.d(Ee,{b:()=>g});const g=(0,p(43569).yh)("telemetryService")},98275:(Fe,Ee,p)=>{p.d(Ee,{QO2:()=>B,IPX:()=>P,P6G:()=>b,dRz:()=>x,Ido:()=>f,XZx:()=>z,R80:()=>L,lRK:()=>N,xL1:()=>Z,url:()=>$,sgC:()=>j,SwI:()=>fe,rh:()=>pe,sEe:()=>ye,zJb:()=>ge,dt_:()=>Q,PRb:()=>ee,XEs:()=>te,Pvw:()=>J,_lC:()=>ce,YI3:()=>ve,EPQ:()=>Ie,RV_:()=>We,SUG:()=>Ue,C3g:()=>ue,paE:()=>Ce,_t9:()=>Ae,OZR:()=>et,j5u:()=>at,b7$:()=>Ct,GO4:()=>jt,g8u:()=>zt,qeD:()=>mn,_wn:()=>Ge,etL:()=>Lt,ABB:()=>vt,ynu:()=>dn,zRJ:()=>Ln,L_H:()=>sn,lXJ:()=>hn,b6y:()=>_n,gpD:()=>rn,uoC:()=>Rt,pW3:()=>xi,few:()=>Yt,c63:()=>He,T83:()=>$e,Dut:()=>Xt,fEB:()=>pn,cvW:()=>bi,NOs:()=>Oi,D0T:()=>Li,Hfx:()=>vi,D1_:()=>xt,Ng6:()=>St,zKr:()=>$t,tZ6:()=>Fn,loF:()=>kt,kJk:()=>Ve,opG:()=>Je,oQ$:()=>lt,lWp:()=>Et,AWI:()=>Vt,K19:()=>Ut,hEj:()=>ln,yb5:()=>Sn,ES4:()=>qt,Rzx:()=>Cn,g_n:()=>yn,nyM:()=>xn,MUv:()=>gn,jUe:()=>Pn,pnM:()=>kn,EiJ:()=>jn,gkn:()=>Qn,ptc:()=>Mn,yJx:()=>Pi,Sbf:()=>ri,CNo:()=>mi,LoV:()=>Dn,_Yy:()=>pi,VVv:()=>Di,PpC:()=>Ci,hX8:()=>Xi,bKB:()=>Kn,HCL:()=>Ui,phM:()=>ao,Fu1:()=>ni,sKV:()=>Co,CzK:()=>Ei,keg:()=>Po,ypS:()=>yo,P4M:()=>fo,hzo:()=>Io,xi6:()=>oo,j51:()=>ko,zOm:()=>Ts,P6Y:()=>Ys,F9q:()=>Go,XL$:()=>Ss,mHy:()=>xs,LLc:()=>As,L_t:()=>es,_bK:()=>lo,_2n:()=>Js,Oop:()=>Ao,dCr:()=>Ro,M6C:()=>So,Tnx:()=>dr,rg2:()=>Sr,ytC:()=>Qo,kvU:()=>Xs,s$:()=>Vo,F3d:()=>Cs,mV1:()=>ur,$d5:()=>Sa,AS1:()=>ji,Gwp:()=>Lo,PX0:()=>Rs,vGG:()=>A,oSI:()=>h,Saq:()=>S,UnT:()=>ae,uxu:()=>be,EQn:()=>Oe,NPS:()=>Qe,cbQ:()=>ot,Vqd:()=>ht,Cdg:()=>gt,DEr:()=>Mt,Hz8:()=>Bt,jbW:()=>Zt,$DX:()=>Nn,E3h:()=>Xn,ZGJ:()=>ci,lUq:()=>_t,Fm_:()=>dc,SPM:()=>ra,SUY:()=>xa,IYc:()=>uc,ov3:()=>sd,Gj_:()=>hc,Ivo:()=>wl,kVY:()=>fc,Itd:()=>yl,CA6:()=>Oo,Xy4:()=>Sl,brw:()=>Ls,JpG:()=>Hr,BOY:()=>gc,OLZ:()=>fr,ZnX:()=>fi,kwl:()=>ns,Snq:()=>Jo});var D=p(89983),g=p(81897),Y=p(71040),W=p(99770),M=p(12918),i=p(42620),T=p(63779);function B(Ri){return`--vscode-${Ri.replace(/\./g,"-")}`}const P={ColorContribution:"base.contributions.colors"},C=new class{constructor(){this._onDidChangeSchema=new Y.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(so,Ho,To,ds=!1,Ti){this.colorsById[so]={id:so,description:To,defaults:Ho,needsTransparency:ds,deprecationMessage:Ti};let aa={type:"string",description:To,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Ti&&(aa.deprecationMessage=Ti),this.colorSchema.properties[so]=aa,this.colorReferenceSchema.enum.push(so),this.colorReferenceSchema.enumDescriptions.push(To),this._onDidChangeSchema.fire(),so}getColors(){return Object.keys(this.colorsById).map(so=>this.colorsById[so])}resolveDefaultColor(so,Ho){const To=this.colorsById[so];if(To&&To.defaults)return Jo(To.defaults[Ho.type],Ho)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((Ho,To)=>{let ds=-1===Ho.indexOf(".")?0:1,Ti=-1===To.indexOf(".")?0:1;return ds!==Ti?ds-Ti:Ho.localeCompare(To)}).map(Ho=>`- \`${Ho}\`: ${this.colorsById[Ho].description}`).join("\n")}};function b(Ri,so,Ho,To,ds){return C.registerColor(Ri,so,Ho,To,ds)}T.B.add(P.ColorContribution,C);const x=b("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},M.N("foreground","Overall foreground color. This color is only used if not overridden by a component.")),f=b("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},M.N("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),z=(b("descriptionForeground",{light:"#717171",dark:fi(x,.7),hc:fi(x,.7)},M.N("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),b("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},M.N("iconForeground","The default color for icons in the workbench."))),L=b("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},M.N("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),N=b("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},M.N("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Z=b("contrastActiveBorder",{light:null,dark:null,hc:L},M.N("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),$=(b("selection.background",{light:null,dark:null,hc:null},M.N("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),b("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:g.Il.black},M.N("textSeparatorForeground","Color for text separators.")),b("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},M.N("textLinkForeground","Foreground color for links in text."))),j=b("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},M.N("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),fe=(b("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},M.N("textPreformatForeground","Foreground color for preformatted text segments.")),b("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},M.N("textBlockQuoteBackground","Background color for block quotes in text.")),b("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:g.Il.white},M.N("textBlockQuoteBorder","Border color for block quotes in text.")),b("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:g.Il.black},M.N("textCodeBlockBackground","Background color for code blocks in text."))),pe=b("widget.shadow",{dark:fi(g.Il.black,.36),light:fi(g.Il.black,.16),hc:null},M.N("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),ye=b("input.background",{dark:"#3C3C3C",light:g.Il.white,hc:g.Il.black},M.N("inputBoxBackground","Input box background.")),ge=b("input.foreground",{dark:x,light:x,hc:x},M.N("inputBoxForeground","Input box foreground.")),Q=b("input.border",{dark:null,light:null,hc:N},M.N("inputBoxBorder","Input box border.")),ee=b("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:N},M.N("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),te=(b("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hc:null},M.N("inputOption.hoverBackground","Background color of activated options in input fields.")),b("inputOption.activeBackground",{dark:fi(L,.4),light:fi(L,.2),hc:g.Il.transparent},M.N("inputOption.activeBackground","Background hover color of options in input fields."))),J=b("inputOption.activeForeground",{dark:g.Il.white,light:g.Il.black,hc:null},M.N("inputOption.activeForeground","Foreground color of activated options in input fields.")),ce=(b("input.placeholderForeground",{light:fi(x,.5),dark:fi(x,.5),hc:fi(x,.7)},M.N("inputPlaceholderForeground","Input box foreground color for placeholder text.")),b("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:g.Il.black},M.N("inputValidationInfoBackground","Input validation background color for information severity."))),ve=b("inputValidation.infoForeground",{dark:null,light:null,hc:null},M.N("inputValidationInfoForeground","Input validation foreground color for information severity.")),Ie=b("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:N},M.N("inputValidationInfoBorder","Input validation border color for information severity.")),We=b("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:g.Il.black},M.N("inputValidationWarningBackground","Input validation background color for warning severity.")),Ue=b("inputValidation.warningForeground",{dark:null,light:null,hc:null},M.N("inputValidationWarningForeground","Input validation foreground color for warning severity.")),ue=b("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:N},M.N("inputValidationWarningBorder","Input validation border color for warning severity.")),Ce=b("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:g.Il.black},M.N("inputValidationErrorBackground","Input validation background color for error severity.")),Ae=b("inputValidation.errorForeground",{dark:null,light:null,hc:null},M.N("inputValidationErrorForeground","Input validation foreground color for error severity.")),et=b("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:N},M.N("inputValidationErrorBorder","Input validation border color for error severity.")),Ye=b("dropdown.background",{dark:"#3C3C3C",light:g.Il.white,hc:g.Il.black},M.N("dropdownBackground","Dropdown background.")),st=(b("dropdown.listBackground",{dark:null,light:null,hc:g.Il.black},M.N("dropdownListBackground","Dropdown list background.")),b("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:g.Il.white},M.N("dropdownForeground","Dropdown foreground."))),ut=b("dropdown.border",{dark:Ye,light:"#CECECE",hc:N},M.N("dropdownBorder","Dropdown border.")),at=(b("checkbox.background",{dark:Ye,light:Ye,hc:Ye},M.N("checkbox.background","Background color of checkbox widget.")),b("checkbox.foreground",{dark:st,light:st,hc:st},M.N("checkbox.foreground","Foreground color of checkbox widget.")),b("checkbox.border",{dark:ut,light:ut,hc:ut},M.N("checkbox.border","Border color of checkbox widget.")),b("button.foreground",{dark:g.Il.white,light:g.Il.white,hc:g.Il.white},M.N("buttonForeground","Button foreground color."))),Ct=b("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},M.N("buttonBackground","Button background color.")),jt=b("button.hoverBackground",{dark:Lr(Ct,.2),light:Ur(Ct,.2),hc:null},M.N("buttonHoverBackground","Button background color when hovering.")),Ft=(b("button.border",{dark:N,light:N,hc:N},M.N("buttonBorder","Button border color.")),b("button.secondaryForeground",{dark:g.Il.white,light:g.Il.white,hc:g.Il.white},M.N("buttonSecondaryForeground","Secondary button foreground color.")),b("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hc:null},M.N("buttonSecondaryBackground","Secondary button background color."))),zt=(b("button.secondaryHoverBackground",{dark:Lr(Ft,.2),light:Ur(Ft,.2),hc:null},M.N("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),b("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:g.Il.black},M.N("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."))),mn=b("badge.foreground",{dark:g.Il.white,light:"#333",hc:g.Il.white},M.N("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Ge=b("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},M.N("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Lt=b("scrollbarSlider.background",{dark:g.Il.fromHex("#797979").transparent(.4),light:g.Il.fromHex("#646464").transparent(.4),hc:fi(N,.6)},M.N("scrollbarSliderBackground","Scrollbar slider background color.")),vt=b("scrollbarSlider.hoverBackground",{dark:g.Il.fromHex("#646464").transparent(.7),light:g.Il.fromHex("#646464").transparent(.7),hc:fi(N,.8)},M.N("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),dn=b("scrollbarSlider.activeBackground",{dark:g.Il.fromHex("#BFBFBF").transparent(.4),light:g.Il.fromHex("#000000").transparent(.6),hc:N},M.N("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Ln=b("progressBar.background",{dark:g.Il.fromHex("#0E70C0"),light:g.Il.fromHex("#0E70C0"),hc:N},M.N("progressBarBackground","Background color of the progress bar that can show for long running operations.")),sn=b("editorError.background",{dark:null,light:null,hc:null},M.N("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),hn=b("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hc:null},M.N("editorError.foreground","Foreground color of error squigglies in the editor.")),_n=b("editorError.border",{dark:null,light:null,hc:g.Il.fromHex("#E47777").transparent(.8)},M.N("errorBorder","Border color of error boxes in the editor.")),rn=b("editorWarning.background",{dark:null,light:null,hc:null},M.N("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Rt=b("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},M.N("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),xi=b("editorWarning.border",{dark:null,light:null,hc:g.Il.fromHex("#FFCC00").transparent(.8)},M.N("warningBorder","Border color of warning boxes in the editor.")),Yt=b("editorInfo.background",{dark:null,light:null,hc:null},M.N("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),He=b("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hc:"#3794FF"},M.N("editorInfo.foreground","Foreground color of info squigglies in the editor.")),$e=b("editorInfo.border",{dark:null,light:null,hc:g.Il.fromHex("#3794FF").transparent(.8)},M.N("infoBorder","Border color of info boxes in the editor.")),Xt=b("editorHint.foreground",{dark:g.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},M.N("editorHint.foreground","Foreground color of hint squigglies in the editor.")),pn=b("editorHint.border",{dark:null,light:null,hc:g.Il.fromHex("#eeeeee").transparent(.8)},M.N("hintBorder","Border color of hint boxes in the editor.")),bi=(b("sash.hoverBorder",{dark:L,light:L,hc:L},M.N("sashActiveBorder","Border color of active sashes.")),b("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:g.Il.black},M.N("editorBackground","Editor background color."))),Oi=b("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:g.Il.white},M.N("editorForeground","Editor default foreground color.")),Li=b("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},M.N("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),vi=b("editorWidget.foreground",{dark:x,light:x,hc:x},M.N("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),xt=b("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:N},M.N("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),St=b("editorWidget.resizeBorder",{light:null,dark:null,hc:null},M.N("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),$t=b("quickInput.background",{dark:Li,light:Li,hc:Li},M.N("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Fn=b("quickInput.foreground",{dark:vi,light:vi,hc:vi},M.N("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),kt=b("quickInputTitle.background",{dark:new g.Il(new g.VS(255,255,255,.105)),light:new g.Il(new g.VS(0,0,0,.06)),hc:"#000000"},M.N("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Ve=b("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:g.Il.white},M.N("pickerGroupForeground","Quick picker color for grouping labels.")),Je=b("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:g.Il.white},M.N("pickerGroupBorder","Quick picker color for grouping borders.")),lt=b("keybindingLabel.background",{dark:new g.Il(new g.VS(128,128,128,.17)),light:new g.Il(new g.VS(221,221,221,.4)),hc:g.Il.transparent},M.N("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Et=b("keybindingLabel.foreground",{dark:g.Il.fromHex("#CCCCCC"),light:g.Il.fromHex("#555555"),hc:g.Il.white},M.N("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Vt=b("keybindingLabel.border",{dark:new g.Il(new g.VS(51,51,51,.6)),light:new g.Il(new g.VS(204,204,204,.4)),hc:new g.Il(new g.VS(111,195,223))},M.N("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Ut=b("keybindingLabel.bottomBorder",{dark:new g.Il(new g.VS(68,68,68,.6)),light:new g.Il(new g.VS(187,187,187,.4)),hc:new g.Il(new g.VS(111,195,223))},M.N("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),ln=b("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},M.N("editorSelectionBackground","Color of the editor selection.")),Sn=b("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},M.N("editorSelectionForeground","Color of the selected text for high contrast.")),qt=b("editor.inactiveSelectionBackground",{light:fi(ln,.5),dark:fi(ln,.5),hc:fi(ln,.5)},M.N("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Cn=b("editor.selectionHighlightBackground",{light:Ms(ln,bi,.3,.6),dark:Ms(ln,bi,.3,.6),hc:null},M.N("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),yn=b("editor.selectionHighlightBorder",{light:null,dark:null,hc:Z},M.N("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),xn=b("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},M.N("editorFindMatch","Color of the current search match.")),gn=b("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},M.N("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Pn=b("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},M.N("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),kn=b("editor.findMatchBorder",{light:null,dark:null,hc:Z},M.N("editorFindMatchBorder","Border color of the current search match.")),jn=b("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Z},M.N("findMatchHighlightBorder","Border color of the other search matches.")),Qn=b("editor.findRangeHighlightBorder",{dark:null,light:null,hc:fi(Z,.4)},M.N("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Mn=(b("searchEditor.findMatchBackground",{light:fi(gn,.66),dark:fi(gn,.66),hc:gn},M.N("searchEditor.queryMatch","Color of the Search Editor query matches.")),b("searchEditor.findMatchBorder",{light:fi(jn,.66),dark:fi(jn,.66),hc:jn},M.N("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),b("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},M.N("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0)),Pi=b("editorHoverWidget.background",{light:Li,dark:Li,hc:Li},M.N("hoverBackground","Background color of the editor hover.")),ri=b("editorHoverWidget.foreground",{light:vi,dark:vi,hc:vi},M.N("hoverForeground","Foreground color of the editor hover.")),mi=b("editorHoverWidget.border",{light:xt,dark:xt,hc:xt},M.N("hoverBorder","Border color of the editor hover.")),Dn=b("editorHoverWidget.statusBarBackground",{dark:Lr(Pi,.2),light:Ur(Pi,.05),hc:Li},M.N("statusBarBackground","Background color of the editor hover status bar.")),pi=b("editorLink.activeForeground",{dark:"#4E94CE",light:g.Il.blue,hc:g.Il.cyan},M.N("activeLinkForeground","Color of active links.")),Di=b("editorInlayHint.foreground",{dark:fi(mn,.8),light:fi(mn,.8),hc:mn},M.N("editorInlayHintForeground","Foreground color of inline hints")),Ci=b("editorInlayHint.background",{dark:fi(zt,.6),light:fi(zt,.3),hc:zt},M.N("editorInlayHintBackground","Background color of inline hints")),Xi=b("editorInlayHint.typeForeground",{dark:Di,light:Di,hc:Di},M.N("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Kn=b("editorInlayHint.typeBackground",{dark:Ci,light:Ci,hc:Ci},M.N("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Ui=b("editorInlayHint.parameterForeground",{dark:Di,light:Di,hc:Di},M.N("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),ao=b("editorInlayHint.parameterBackground",{dark:Ci,light:Ci,hc:Ci},M.N("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),ni=b("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},M.N("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Co=b("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},M.N("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),Ei=new g.Il(new g.VS(155,185,85,.2)),Po=new g.Il(new g.VS(255,0,0,.2)),yo=b("diffEditor.insertedTextBackground",{dark:Ei,light:Ei,hc:null},M.N("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),fo=b("diffEditor.removedTextBackground",{dark:Po,light:Po,hc:null},M.N("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Io=b("diffEditor.insertedLineBackground",{dark:null,light:null,hc:null},M.N("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),oo=b("diffEditor.removedLineBackground",{dark:null,light:null,hc:null},M.N("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ko=b("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hc:null},M.N("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Ts=b("diffEditorGutter.removedLineBackground",{dark:null,light:null,hc:null},M.N("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Ys=b("diffEditorOverview.insertedForeground",{dark:null,light:null,hc:null},M.N("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Go=b("diffEditorOverview.removedForeground",{dark:null,light:null,hc:null},M.N("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Ss=b("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},M.N("diffEditorInsertedOutline","Outline color for the text that got inserted.")),xs=b("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},M.N("diffEditorRemovedOutline","Outline color for text that got removed.")),As=b("diffEditor.border",{dark:null,light:null,hc:N},M.N("diffEditorBorder","Border color between the two text editors.")),es=b("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},M.N("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),lo=b("list.focusBackground",{dark:null,light:null,hc:null},M.N("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Js=b("list.focusForeground",{dark:null,light:null,hc:null},M.N("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ao=b("list.focusOutline",{dark:L,light:L,hc:Z},M.N("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ro=b("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},M.N("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),So=b("list.activeSelectionForeground",{dark:g.Il.white,light:g.Il.white,hc:null},M.N("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),dr=b("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},M.N("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Sr=b("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},M.N("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Qo=b("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},M.N("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Xs=b("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},M.N("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Vo=b("list.inactiveFocusBackground",{dark:null,light:null,hc:null},M.N("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Cs=b("list.inactiveFocusOutline",{dark:null,light:null,hc:null},M.N("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ur=b("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},M.N("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Sa=b("list.hoverForeground",{dark:null,light:null,hc:null},M.N("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),ji=b("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},M.N("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Lo=b("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:L},M.N("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Rs=b("list.focusHighlightForeground",{dark:Lo,light:(Ri=Ro,so=Lo,"#9DDDFF",{op:5,if:Ri,then:so,else:"#9DDDFF"}),hc:Lo},M.N("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),A=(b("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},M.N("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),b("list.errorForeground",{dark:"#F88070",light:"#B01011",hc:null},M.N("listErrorForeground","Foreground color of list items containing errors.")),b("list.warningForeground",{dark:"#CCA700",light:"#855F00",hc:null},M.N("listWarningForeground","Foreground color of list items containing warnings.")),b("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:g.Il.black},M.N("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),h=b("listFilterWidget.outline",{dark:g.Il.transparent,light:g.Il.transparent,hc:"#f38518"},M.N("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),S=b("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:N},M.N("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),ae=(b("list.filterMatchBackground",{dark:gn,light:gn,hc:null},M.N("listFilterMatchHighlight","Background color of the filtered match.")),b("list.filterMatchBorder",{dark:jn,light:jn,hc:N},M.N("listFilterMatchHighlightBorder","Border color of the filtered match.")),b("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},M.N("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),be=b("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},M.N("tableColumnsBorder","Table border color between columns.")),Oe=b("tree.tableOddRowsBackground",{dark:fi(x,.04),light:fi(x,.04),hc:null},M.N("tableOddRowsBackgroundColor","Background color for odd table rows.")),Ze=(b("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hc:"#A7A8A9"},M.N("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),b("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,M.N("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),Qe=b("quickInputList.focusForeground",{dark:So,light:So,hc:So},M.N("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),ot=b("quickInputList.focusIconForeground",{dark:dr,light:dr,hc:dr},M.N("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),ht=b("quickInputList.focusBackground",{dark:ns(Ze,Ro),light:ns(Ze,Ro),hc:null},M.N("quickInput.listFocusBackground","Quick picker background color for the focused item.")),gt=b("menu.border",{dark:null,light:null,hc:N},M.N("menuBorder","Border color of menus.")),Mt=b("menu.foreground",{dark:st,light:x,hc:st},M.N("menuForeground","Foreground color of menu items.")),Bt=b("menu.background",{dark:Ye,light:Ye,hc:Ye},M.N("menuBackground","Background color of menu items.")),Zt=b("menu.selectionForeground",{dark:So,light:So,hc:So},M.N("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Nn=b("menu.selectionBackground",{dark:Ro,light:Ro,hc:Ro},M.N("menuSelectionBackground","Background color of the selected menu item in menus.")),Xn=b("menu.selectionBorder",{dark:null,light:null,hc:Z},M.N("menuSelectionBorder","Border color of the selected menu item in menus.")),ci=b("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:N},M.N("menuSeparatorBackground","Color of a separator menu item in menus.")),_t=b("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hc:null},M.N("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),hr=(b("toolbar.hoverOutline",{dark:null,light:null,hc:Z},M.N("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),b("toolbar.activeBackground",{dark:Lr(_t,.1),light:Ur(_t,.1),hc:null},M.N("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),b("editor.snippetTabstopHighlightBackground",{dark:new g.Il(new g.VS(124,124,124,.3)),light:new g.Il(new g.VS(10,50,100,.2)),hc:new g.Il(new g.VS(124,124,124,.3))},M.N("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),b("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},M.N("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),b("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},M.N("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),b("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new g.Il(new g.VS(10,50,100,.5)),hc:"#525252"},M.N("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),b("breadcrumb.foreground",{light:fi(x,.8),dark:fi(x,.8),hc:fi(x,.8)},M.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),b("breadcrumb.background",{light:bi,dark:bi,hc:bi},M.N("breadcrumbsBackground","Background color of breadcrumb items.")),b("breadcrumb.focusForeground",{light:Ur(x,.2),dark:Lr(x,.1),hc:Lr(x,.1)},M.N("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),b("breadcrumb.activeSelectionForeground",{light:Ur(x,.2),dark:Lr(x,.1),hc:Lr(x,.1)},M.N("breadcrumbsSelectedForegound","Color of selected breadcrumb items.")),b("breadcrumbPicker.background",{light:Li,dark:Li,hc:Li},M.N("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),g.Il.fromHex("#40C8AE").transparent(.5)),lc=g.Il.fromHex("#40A6FF").transparent(.5),vl=g.Il.fromHex("#606060").transparent(.4),er=.4,cs=b("merge.currentHeaderBackground",{dark:hr,light:hr,hc:null},M.N("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),oa=(b("merge.currentContentBackground",{dark:fi(cs,er),light:fi(cs,er),hc:fi(cs,er)},M.N("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.incomingHeaderBackground",{dark:lc,light:lc,hc:null},M.N("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Bs=(b("merge.incomingContentBackground",{dark:fi(oa,er),light:fi(oa,er),hc:fi(oa,er)},M.N("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.commonHeaderBackground",{dark:vl,light:vl,hc:null},M.N("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Jr=(b("merge.commonContentBackground",{dark:fi(Bs,er),light:fi(Bs,er),hc:fi(Bs,er)},M.N("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),b("merge.border",{dark:null,light:null,hc:"#C3DF6F"},M.N("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),dc=(b("editorOverviewRuler.currentContentForeground",{dark:fi(cs,1),light:fi(cs,1),hc:Jr},M.N("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.incomingContentForeground",{dark:fi(oa,1),light:fi(oa,1),hc:Jr},M.N("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.commonContentForeground",{dark:fi(Bs,1),light:fi(Bs,1),hc:Jr},M.N("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),b("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},M.N("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),ra=b("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},M.N("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),xa=b("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},M.N("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),uc=b("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hc:"#ffffff"},M.N("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),sd=b("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},M.N("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),hc=b("minimap.errorHighlight",{dark:new g.Il(new g.VS(255,18,18,.7)),light:new g.Il(new g.VS(255,18,18,.7)),hc:new g.Il(new g.VS(255,50,50,1))},M.N("minimapError","Minimap marker color for errors.")),wl=b("minimap.warningHighlight",{dark:Rt,light:Rt,hc:xi},M.N("overviewRuleWarning","Minimap marker color for warnings.")),fc=b("minimap.background",{dark:null,light:null,hc:null},M.N("minimapBackground","Minimap background color.")),yl=b("minimap.foregroundOpacity",{dark:g.Il.fromHex("#000f"),light:g.Il.fromHex("#000f"),hc:g.Il.fromHex("#000f")},M.N("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Oo=b("minimapSlider.background",{light:fi(Lt,.5),dark:fi(Lt,.5),hc:fi(Lt,.5)},M.N("minimapSliderBackground","Minimap slider background color.")),Sl=b("minimapSlider.hoverBackground",{light:fi(vt,.5),dark:fi(vt,.5),hc:fi(vt,.5)},M.N("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Ls=b("minimapSlider.activeBackground",{light:fi(dn,.5),dark:fi(dn,.5),hc:fi(dn,.5)},M.N("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Hr=b("problemsErrorIcon.foreground",{dark:hn,light:hn,hc:hn},M.N("problemsErrorIconForeground","The color used for the problems error icon.")),gc=b("problemsWarningIcon.foreground",{dark:Rt,light:Rt,hc:Rt},M.N("problemsWarningIconForeground","The color used for the problems warning icon.")),fr=b("problemsInfoIcon.foreground",{dark:He,light:He,hc:He},M.N("problemsInfoIconForeground","The color used for the problems info icon."));var Ri,so;function Ur(Ri,so){return{op:0,value:Ri,factor:so}}function Lr(Ri,so){return{op:1,value:Ri,factor:so}}function fi(Ri,so){return{op:2,value:Ri,factor:so}}function ns(...Ri){return{op:3,values:Ri}}function Ms(Ri,so,Ho,To){return{op:4,value:Ri,background:so,factor:Ho,transparency:To}}function Jo(Ri,so){if(null!==Ri){if("string"==typeof Ri)return"#"===Ri[0]?g.Il.fromHex(Ri):so.getColor(Ri);if(Ri instanceof g.Il)return Ri;if("object"==typeof Ri)return function(Ri,so){var Ho,To,ds;switch(Ri.op){case 0:return null===(Ho=Jo(Ri.value,so))||void 0===Ho?void 0:Ho.darken(Ri.factor);case 1:return null===(To=Jo(Ri.value,so))||void 0===To?void 0:To.lighten(Ri.factor);case 2:return null===(ds=Jo(Ri.value,so))||void 0===ds?void 0:ds.transparent(Ri.factor);case 3:for(const Ti of Ri.values){const nr=Jo(Ti,so);if(nr)return nr}return;case 5:return Jo(so.defines(Ri.if)?Ri.then:Ri.else,so);case 4:{const Ti=Jo(Ri.value,so);if(!Ti)return;const nr=Jo(Ri.background,so);return nr?Ti.isDarkerThan(nr)?g.Il.getLighterColor(Ti,nr,Ri.factor).transparent(Ri.transparency):g.Il.getDarkerColor(Ti,nr,Ri.factor).transparent(Ri.transparency):Ti.transparent(Ri.factor*Ri.transparency)}default:throw(0,W.vE)(Ri)}}(Ri,so)}}b("charts.foreground",{dark:x,light:x,hc:x},M.N("chartsForeground","The foreground color used in charts.")),b("charts.lines",{dark:fi(x,.5),light:fi(x,.5),hc:fi(x,.5)},M.N("chartsLines","The color used for horizontal lines in charts.")),b("charts.red",{dark:hn,light:hn,hc:hn},M.N("chartsRed","The red color used in chart visualizations.")),b("charts.blue",{dark:He,light:He,hc:He},M.N("chartsBlue","The blue color used in chart visualizations.")),b("charts.yellow",{dark:Rt,light:Rt,hc:Rt},M.N("chartsYellow","The yellow color used in chart visualizations.")),b("charts.orange",{dark:xa,light:xa,hc:xa},M.N("chartsOrange","The orange color used in chart visualizations.")),b("charts.green",{dark:"#89D185",light:"#388A34",hc:"#89D185"},M.N("chartsGreen","The green color used in chart visualizations.")),b("charts.purple",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},M.N("chartsPurple","The purple color used in chart visualizations."));const Ds="vscode://schemas/workbench-colors";let mc=T.B.as(i.I.JSONContribution);mc.registerSchema(Ds,C.getColorSchema());const Ma=new D.pY(()=>mc.notifySchemaChanged(Ds),200);C.onDidChangeSchema(()=>{Ma.isScheduled()||Ma.schedule()})},80974:(Fe,Ee,p)=>{p.d(Ee,{q5:()=>b,Ks:()=>x,s_:()=>N});var P,D=p(89983),g=p(78968),Y=p(71040),W=p(12918),M=p(42620),i=p(63779),T=p(53323);(P||(P={})).getDefinition=function(oe,de){let fe=oe.defaults;for(;T.kS.isThemeIcon(fe);){const pe=C.getIcon(fe.id);if(!pe)return;fe=pe.defaults}return fe};const C=new class{constructor(){this._onDidChange=new Y.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,W.N)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,W.N)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${g.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(G,oe,de,fe){const pe=this.iconsById[G];if(pe){if(de&&!pe.description){pe.description=de,this.iconSchema.properties[G].markdownDescription=`${de} $(${G})`;const Q=this.iconReferenceSchema.enum.indexOf(G);-1!==Q&&(this.iconReferenceSchema.enumDescriptions[Q]=de),this._onDidChange.fire()}return pe}this.iconsById[G]={id:G,description:de,defaults:oe,deprecationMessage:fe};let ge={$ref:"#/definitions/icons"};return fe&&(ge.deprecationMessage=fe),de&&(ge.markdownDescription=`${de}: $(${G})`),this.iconSchema.properties[G]=ge,this.iconReferenceSchema.enum.push(G),this.iconReferenceSchema.enumDescriptions.push(de||""),this._onDidChange.fire(),{id:G}}getIcons(){return Object.keys(this.iconsById).map(G=>this.iconsById[G])}getIcon(G){return this.iconsById[G]}getIconSchema(){return this.iconSchema}toString(){const G=(pe,ye)=>pe.id.localeCompare(ye.id),oe=pe=>{for(;T.kS.isThemeIcon(pe.defaults);)pe=this.iconsById[pe.defaults.id];return`codicon codicon-${pe?pe.id:""}`};let de=[];de.push("| preview     | identifier                        | default codicon ID                | description"),de.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const fe=Object.keys(this.iconsById).map(pe=>this.iconsById[pe]);for(const pe of fe.filter(ye=>!!ye.description).sort(G))de.push(`|<i class="${oe(pe)}"></i>|${pe.id}|${T.kS.isThemeIcon(pe.defaults)?pe.defaults.id:pe.id}|${pe.description||""}|`);de.push("| preview     | identifier                        "),de.push("| ----------- | --------------------------------- |");for(const pe of fe.filter(ye=>!T.kS.isThemeIcon(ye.defaults)).sort(G))de.push(`|<i class="${oe(pe)}"></i>|${pe.id}|`);return de.join("\n")}};function b(j,G,oe,de){return C.registerIcon(j,G,oe,de)}function x(){return C}i.B.add("base.contributions.icons",C),function(){for(const j of g.lA.getAll())C.registerIcon(j.id,j.definition,j.description)}();const E="vscode://schemas/icons";let z=i.B.as(M.I.JSONContribution);z.registerSchema(E,C.getIconSchema());const L=new D.pY(()=>z.notifySchemaChanged(E),200);C.onDidChange(()=>{L.isScheduled()||L.schedule()});const N=b("widget-close",g.lA.close,(0,W.N)("widgetClose","Icon for the close action in widgets."));b("goto-previous-location",g.lA.arrowUp,(0,W.N)("previousChangeIcon","Icon for goto previous editor location.")),b("goto-next-location",g.lA.arrowDown,(0,W.N)("nextChangeIcon","Icon for goto next editor location.")),T.kS.modify(g.lA.sync,"spin"),T.kS.modify(g.lA.loading,"spin")},905:(Fe,Ee,p)=>{p.d(Ee,{o:()=>g,WZ:()=>W,Jl:()=>M,O2:()=>i,tj:()=>B});var D=p(98275);function g(P,y){const C=Object.create(null);for(let b in y){const x=y[b];x&&(C[b]=(0,D.Snq)(x,P))}return C}function Y(P,y,C){function b(){const x=g(P.getColorTheme(),y);"function"==typeof C?C(x):C.style(x)}return b(),P.onDidColorThemeChange(b)}function W(P,y,C){return Y(y,{badgeBackground:(null==C?void 0:C.badgeBackground)||D.g8u,badgeForeground:(null==C?void 0:C.badgeForeground)||D.qeD,badgeBorder:D.lRK},P)}function M(P,y,C){return Y(y,Object.assign(Object.assign({},i),C||{}),P)}const i={listFocusBackground:D._bK,listFocusForeground:D._2n,listFocusOutline:D.Oop,listActiveSelectionBackground:D.dCr,listActiveSelectionForeground:D.M6C,listActiveSelectionIconForeground:D.Tnx,listFocusAndSelectionBackground:D.dCr,listFocusAndSelectionForeground:D.M6C,listInactiveSelectionBackground:D.rg2,listInactiveSelectionIconForeground:D.kvU,listInactiveSelectionForeground:D.ytC,listInactiveFocusBackground:D.s$,listInactiveFocusOutline:D.F3d,listHoverBackground:D.mV1,listHoverForeground:D.$d5,listDropBackground:D.AS1,listSelectionOutline:D.xL1,listHoverOutline:D.xL1,listFilterWidgetBackground:D.vGG,listFilterWidgetOutline:D.oSI,listFilterWidgetNoMatchesOutline:D.Saq,listMatchesShadow:D.rh,treeIndentGuidesStroke:D.UnT,tableColumnsBorder:D.uxu,tableOddRowsBackgroundColor:D.EQn},T={shadowColor:D.rh,borderColor:D.Cdg,foregroundColor:D.DEr,backgroundColor:D.Hz8,selectionForegroundColor:D.jbW,selectionBackgroundColor:D.$DX,selectionBorderColor:D.E3h,separatorColor:D.ZGJ,scrollbarShadow:D._wn,scrollbarSliderBackground:D.etL,scrollbarSliderHoverBackground:D.ABB,scrollbarSliderActiveBackground:D.ynu};function B(P,y,C){return Y(y,Object.assign(Object.assign({},T),C),P)}},76804:(Fe,Ee,p)=>{p.d(Ee,{e:()=>D});var D=(()=>{return(g=D||(D={})).DARK="dark",g.LIGHT="light",g.HIGH_CONTRAST="hc",D;var g})()},53323:(Fe,Ee,p)=>{p.d(Ee,{XE:()=>T,EN:()=>P,kS:()=>y,m6:()=>C,IP:()=>b,Ic:()=>E,bB:()=>z});var D=p(78968),g=p(71040),Y=p(40189),W=p(43569),M=p(63779),i=p(76804);const T=(0,W.yh)("themeService");var B,y;function P(L){return{id:L}}function C(L){switch(L){case i.e.DARK:return"vs-dark";case i.e.HIGH_CONTRAST:return"hc-black";default:return"vs"}}(B||(B={})).isThemeColor=function(Z){return Z&&"object"==typeof Z&&"string"==typeof Z.id},function(L){L.isThemeIcon=function(de){return de&&"object"==typeof de&&"string"==typeof de.id&&(void 0===de.color||B.isThemeColor(de.color))};const Z=new RegExp(`^\\$\\((${D.dT.iconNameExpression}(?:${D.dT.iconModifierExpression})?)\\)$`);L.fromString=function(de){const fe=Z.exec(de);if(!fe)return;let[,pe]=fe;return{id:pe}},L.fromId=function(de){return{id:de}},L.modify=function(de,fe){let pe=de.id;const ye=pe.lastIndexOf("~");return-1!==ye&&(pe=pe.substring(0,ye)),fe&&(pe=`${pe}~${fe}`),{id:pe}},L.getModifier=function(de){const fe=de.id.lastIndexOf("~");if(-1!==fe)return de.id.substring(fe+1)},L.isEqual=function(de,fe){var pe,ye;return de.id===fe.id&&(null===(pe=de.color)||void 0===pe?void 0:pe.id)===(null===(ye=fe.color)||void 0===ye?void 0:ye.id)},L.asThemeIcon=function(de,fe){return{id:de.id,color:fe?P(fe):void 0}},L.asClassNameArray=D.dT.asClassNameArray,L.asClassName=D.dT.asClassName,L.asCSSSelector=D.dT.asCSSSelector}(y||(y={}));const b={ThemingContribution:"base.contributions.theming"};let f=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new g.Q5}onColorThemeChange(N){return this.themingParticipants.push(N),this.onThemingParticipantAddedEmitter.fire(N),(0,Y.OF)(()=>{const Z=this.themingParticipants.indexOf(N);this.themingParticipants.splice(Z,1)})}getThemingParticipants(){return this.themingParticipants}};function E(L){return f.onColorThemeChange(L)}M.B.add(b.ThemingContribution,f);class z extends Y.JT{constructor(N){super(),this.themeService=N,this.theme=N.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(Z=>this.onThemeChange(Z)))}onThemeChange(N){this.theme=N,this.updateStyles()}updateStyles(){}}},10352:(Fe,Ee,p)=>{p.d(Ee,{tJ:()=>g,YO:()=>Y,Xt:()=>W,gJ:()=>M});const g=(0,p(43569).yh)("undoRedoService");class Y{constructor(T,B){this.resource=T,this.elements=B}}class W{constructor(){this.id=W._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}W._ID=0,W.None=new W;class M{constructor(){this.id=M._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}M._ID=0,M.None=new M},17184:(Fe,Ee,p)=>{p.d(Ee,{ec:()=>M,eb:()=>i,uT:()=>T,md:()=>P,A6:()=>y});var D=p(12918),Y=(p(33439),p(85459));const M=(0,p(43569).yh)("contextService");function i(b){return"string"==typeof(null==b?void 0:b.id)&&Y.o.isUri(b.uri)}function T(b){return b.configuration?{id:b.id,configPath:b.configuration}:1===b.folders.length?{id:b.id,uri:b.folders[0].uri}:void 0}class P{constructor(x,f){this.raw=f,this.uri=x.uri,this.index=x.index,this.name=x.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const y="code-workspace";(0,D.N)("codeWorkspace","Code Workspace")},73062:(Fe,Ee,p)=>{p.d(Ee,{Y:()=>g});const g=(0,p(43569).yh)("workspaceTrustManagementService")},33483:Fe=>{Fe.exports={mode:"lazy"}},66680:(Fe,Ee,p)=>{const D=p(33483),g=p(45381),Y=p(34038),W=new WeakMap;function B(pe){let ye=W.get(pe);ye||(ye=function(pe){const ye=Y.transform(pe,O);return new Y.TransformResult(ye.getAST(),C)}(Y.parse(`/${pe.source}/${pe.flags}`)),W.set(pe,ye));const ge=ye.getExtra();return{measurementRegExp:ye.toRegExp(),groupInfos:ge}}function P(pe,ye){const ge=pe.index,Q=ge+pe[0].length,le=[],te=pe.groups?Object.create(null):void 0;y(le,0,[ge,Q]);for(const J of ye){let re;if(void 0!==pe[J.newGroupNumber]){let ce=ge;if(J.measurementGroups)for(const Ie of J.measurementGroups)ce+=pe[Ie].length;re=[ce,ce+pe[J.newGroupNumber].length]}y(le,J.oldGroupNumber,re),te&&void 0!==J.groupName&&y(te,J.groupName,re)}return y(le,"groups",te),le}function y(pe,ye,ge){const Q=Object.getOwnPropertyDescriptor(pe,ye);(Q?Q.configurable:Object.isExtensible(pe))&&Object.defineProperty(pe,ye,{enumerable:!Q||Q.enumerable,configurable:!Q||Q.configurable,writable:!0,value:ge})}let C,b=!1,x=new Set,f=[],E=!1,z=1,L=[],N=new Map,Z=new Map;const O={init(){b=!1,x.clear(),f.length=0,E=!1,z=1,L.length=0,N.clear(),Z.clear(),C=[]},RegExp:pe=>(Y.traverse(pe.node,$),x.size>0&&(Y.transform(pe.node,j),Y.transform(pe.node,G),b&&Y.transform(pe.node,oe)),!1)},I={pre(pe){f.push(E),E="Group"===pe.node.type&&pe.node.capturing},post(pe){E&&x.add(pe.node),E=f.pop()||E}},$={Alternative:I,Disjunction:I,Assertion:I,Group:I,Repetition:I,Backreference(pe){b=!0}},j={Alternative(pe){if(x.has(pe.node)){let ye=0,ge=[];const Q=[],ee=[];for(let le=0;le<pe.node.expressions.length;le++){const te=pe.node.expressions[le];if(x.has(te)){if(le>ye){const J={type:"Group",capturing:!0,number:-1,expression:ge.length>1?{type:"Alternative",expressions:ge}:1===ge.length?ge[0]:null};ee.push(J),Q.push(J),ye=le,ge=[]}L.push(Q),Y.transform(te,j),L.pop(),ge.push(te)}else ge.push(te)}pe.update({expressions:ee.concat(ge)})}return!1},Group(pe){!pe.node.capturing||N.set(pe.node,function(){const pe=[];for(const ye of L)for(const ge of ye)pe.push(ge);return pe}())}},G={Group(pe){if(!C)throw new Error("Not initialized.");if(!pe.node.capturing)return;const ye=pe.node.number,ge=z++,Q=N.get(pe.node);-1!==ye&&(C.push({oldGroupNumber:ye,newGroupNumber:ge,measurementGroups:Q&&Q.map(ee=>ee.number),groupName:pe.node.name}),Z.set(ye,ge)),pe.update({number:ge})}},oe={Backreference(pe){const ye=Z.get(pe.node.number);ye&&pe.update("number"===pe.node.kind?{number:ye,reference:ye}:{number:ye})}};Fe.exports=function(pe){return"spec-compliant"===D.mode?function(pe,ye){const{measurementRegExp:ge,groupInfos:Q}=B(pe);ge.lastIndex=pe.lastIndex;const ee=g.call(ge,ye);if(null===ee)return null;pe.lastIndex=ge.lastIndex;const le=[];y(le,0,ee[0]);for(const te of Q)y(le,te.oldGroupNumber,ee[te.newGroupNumber]);return y(le,"index",ee.index),y(le,"input",ee.input),y(le,"groups",ee.groups),y(le,"indices",P(ee,Q)),le}(this,pe):function(pe,ye){const ge=pe.lastIndex,Q=g.call(pe,ye);if(null===Q)return null;let ee;return Object.defineProperty(Q,"indices",{enumerable:!0,configurable:!0,get(){if(void 0===ee){const{measurementRegExp:le,groupInfos:te}=B(pe);le.lastIndex=ge;const J=g.call(le,ye);if(null===J)throw new TypeError;y(Q,"indices",ee=P(J,te))}return ee},set(le){y(Q,"indices",le)}}),Q}(this,pe)}},52771:(Fe,Ee,p)=>{const D=p(66680),g=p(45381),Y=p(74010),W=p(44181),M=p(33483),i=Y();function T(B,P){return i.call(B,P)}T.implementation=D,T.native=g,T.getPolyfill=Y,T.shim=W,T.config=M,T||(T={}),Fe.exports=T},45381:Fe=>{const Ee=RegExp.prototype.exec;Fe.exports=Ee},74010:(Fe,Ee,p)=>{const D=p(45381),g=p(66680);Fe.exports=function(){const W=new RegExp("a");return D.call(W,"a").indices?D:g}},44181:(Fe,Ee,p)=>{const D=p(74010);Fe.exports=function(){const Y=D();RegExp.prototype.exec!==Y&&(RegExp.prototype.exec=Y)}},99833:(Fe,Ee,p)=>{var D=p(8316),g=p(86207);Fe.exports={transform:function(W){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=M.length>0?M:Object.keys(D),T=void 0,B={};return i.forEach(function(P){if(!D.hasOwnProperty(P))throw new Error("Unknown compat-transform: "+P+". Available transforms are: "+Object.keys(D).join(", "));var y=D[P];T=g.transform(W,y),W=T.getAST(),"function"==typeof y.getExtra&&(B[P]=y.getExtra())}),T.setExtra(B),T}}},69137:Fe=>{var Ee=function(){function g(Y,W){for(var M=0;M<W.length;M++){var i=W[M];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(Y,i.key,i)}}return function(Y,W,M){return W&&g(Y.prototype,W),M&&g(Y,M),Y}}(),D=function(){function g(Y,W){var M=W.flags,i=W.groups,T=W.source;(function(g,Y){if(!(g instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,g),this._re=Y,this._groups=i,this.flags=M,this.source=T||Y.source,this.dotAll=M.includes("s"),this.global=Y.global,this.ignoreCase=Y.ignoreCase,this.multiline=Y.multiline,this.sticky=Y.sticky,this.unicode=Y.unicode}return Ee(g,[{key:"test",value:function(W){return this._re.test(W)}},{key:"compile",value:function(W){return this._re.compile(W)}},{key:"toString",value:function(){return this._toStringResult||(this._toStringResult="/"+this.source+"/"+this.flags),this._toStringResult}},{key:"exec",value:function(W){var M=this._re.exec(W);if(!this._groups||!M)return M;for(var i in M.groups={},this._groups)M.groups[i]=M[this._groups[i]];return M}}]),g}();Fe.exports={RegExpTree:D}},21455:Fe=>{Fe.exports={_hasUFlag:!1,shouldRun:function(p){return!!p.flags.includes("s")&&(p.flags=p.flags.replace("s",""),this._hasUFlag=p.flags.includes("u"),!0)},Char:function(p){var D=p.node;if("meta"===D.kind&&"."===D.value){var g="\\uFFFF",Y="\uffff";this._hasUFlag&&(g="\\u{10FFFF}",Y="\u{10ffff}"),p.replace({type:"CharacterClass",expressions:[{type:"ClassRange",from:{type:"Char",value:"\\0",kind:"decimal",symbol:"\0"},to:{type:"Char",value:g,kind:"unicode",symbol:Y}}]})}}}},6597:Fe=>{Fe.exports={_groupNames:{},init:function(){this._groupNames={}},getExtra:function(){return this._groupNames},Group:function(p){var D=p.node;!D.name||(this._groupNames[D.name]=D.number,delete D.name,delete D.nameRaw)},Backreference:function(p){var D=p.node;"name"===D.kind&&(D.kind="number",D.reference=D.number,delete D.referenceRaw)}}},87124:Fe=>{Fe.exports={RegExp:function(p){var D=p.node;D.flags.includes("x")&&(D.flags=D.flags.replace("x",""))}}},8316:(Fe,Ee,p)=>{Fe.exports={dotAll:p(21455),namedCapturingGroups:p(6597),xFlag:p(87124)}},35123:Fe=>{function Ee(D){return D?p[D.type](D):""}var p={RegExp:function(g){return"/"+Ee(g.body)+"/"+g.flags},Alternative:function(g){return(g.expressions||[]).map(Ee).join("")},Disjunction:function(g){return Ee(g.left)+"|"+Ee(g.right)},Group:function(g){var Y=Ee(g.expression);return g.capturing?g.name?"(?<"+(g.nameRaw||g.name)+">"+Y+")":"("+Y+")":"(?:"+Y+")"},Backreference:function(g){switch(g.kind){case"number":return"\\"+g.reference;case"name":return"\\k<"+(g.referenceRaw||g.reference)+">";default:throw new TypeError("Unknown Backreference kind: "+g.kind)}},Assertion:function(g){switch(g.kind){case"^":case"$":case"\\b":case"\\B":return g.kind;case"Lookahead":var Y=Ee(g.assertion);return g.negative?"(?!"+Y+")":"(?="+Y+")";case"Lookbehind":var W=Ee(g.assertion);return g.negative?"(?<!"+W+")":"(?<="+W+")";default:throw new TypeError("Unknown Assertion kind: "+g.kind)}},CharacterClass:function(g){var Y=g.expressions.map(Ee).join("");return g.negative?"[^"+Y+"]":"["+Y+"]"},ClassRange:function(g){return Ee(g.from)+"-"+Ee(g.to)},Repetition:function(g){return""+Ee(g.expression)+Ee(g.quantifier)},Quantifier:function(g){var Y=void 0,W=g.greedy?"":"?";switch(g.kind){case"+":case"?":case"*":Y=g.kind;break;case"Range":Y=g.from===g.to?"{"+g.from+"}":g.to?"{"+g.from+","+g.to+"}":"{"+g.from+",}";break;default:throw new TypeError("Unknown Quantifier kind: "+g.kind)}return""+Y+W},Char:function(g){var Y=g.value;switch(g.kind){case"simple":return g.escaped?"\\"+Y:Y;case"hex":case"unicode":case"oct":case"decimal":case"control":case"meta":return Y;default:throw new TypeError("Unknown Char kind: "+g.kind)}},UnicodeProperty:function(g){return"\\"+(g.negative?"P":"p")+"{"+(g.shorthand||g.binary?"":g.name+"=")+g.value+"}"}};Fe.exports={generate:Ee}},10163:Fe=>{var Ee=function(B,P){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return function(B,P){var y=[],C=!0,b=!1,x=void 0;try{for(var E,f=B[Symbol.iterator]();!(C=(E=f.next()).done)&&(y.push(E.value),!P||y.length!==P);C=!0);}catch(z){b=!0,x=z}finally{try{!C&&f.return&&f.return()}finally{if(b)throw x}}return y}(B,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function p(T){return Array.isArray(T)?T:Array.from(T)}function D(T){if(Array.isArray(T)){for(var B=0,P=Array(T.length);B<T.length;B++)P[B]=T[B];return P}return Array.from(T)}var g=null;function W(T,B){if(!B||T.length!==B.length)return!1;for(var P=0;P<T.length;P++){var y=T[P],C=B[P];if(y.size!==C.size||[].concat(D(y)).sort().join(",")!==[].concat(D(C)).sort().join(","))return!1}return!0}function M(T,B,P,y){var C=!0,b=!1,x=void 0;try{for(var E,f=y[Symbol.iterator]();!(C=(E=f.next()).done);C=!0)if(!i(T,B,P,E.value))return!1}catch(L){b=!0,x=L}finally{try{!C&&f.return&&f.return()}finally{if(b)throw x}}return!0}function i(T,B,P,y){if(!g[T]||!g[B])return!1;var C=P[T][y],b=P[B][y];return!C&&!b||g[T].has(C)&&g[B].has(b)}Fe.exports={minimize:function(T){var B=T.getTransitionTable(),P=Object.keys(B),y=T.getAlphabet(),C=T.getAcceptingStateNumbers();g={};var b=new Set;P.forEach(function(Ae){Ae=Number(Ae),C.has(Ae)?g[Ae]=C:(b.add(Ae),g[Ae]=b)});var x=[[b,C].filter(function(Ae){return Ae.size>0})],f=void 0,E=void 0;f=x[x.length-1],E=x[x.length-2];for(var z=function(){var et={},Ye=!0,Pe=!1,st=void 0;try{for(var nt,ut=f[Symbol.iterator]();!(Ye=(nt=ut.next()).done);Ye=!0){var Ne={},at=p(nt.value),Ct=at[0],jt=at.slice(1);Ne[Ct]=new Set([Ct]);var bn=!0,mt=!1,Ft=void 0;try{e:for(var zt,Wt=jt[Symbol.iterator]();!(bn=(zt=Wt.next()).done);bn=!0){var mn=zt.value,Ge=!0,Lt=!1,vt=void 0;try{for(var Ln,dn=Object.keys(Ne)[Symbol.iterator]();!(Ge=(Ln=dn.next()).done);Ge=!0){var sn=Ln.value;if(M(mn,sn,B,y)){Ne[sn].add(mn),Ne[mn]=Ne[sn];continue e}}}catch(_n){Lt=!0,vt=_n}finally{try{!Ge&&dn.return&&dn.return()}finally{if(Lt)throw vt}}Ne[mn]=new Set([mn])}}catch(_n){mt=!0,Ft=_n}finally{try{!bn&&Wt.return&&Wt.return()}finally{if(mt)throw Ft}}Object.assign(et,Ne)}}catch(_n){Pe=!0,st=_n}finally{try{!Ye&&ut.return&&ut.return()}finally{if(Pe)throw st}}g=et;var hn=new Set(Object.keys(et).map(function(_n){return et[_n]}));x.push([].concat(D(hn))),f=x[x.length-1],E=x[x.length-2]};!W(f,E);)z();var L=new Map,N=1;f.forEach(function(Ae){return L.set(Ae,N++)});var Z={},O=new Set,I=function(et,Ye){var Pe=!0,st=!1,ut=void 0;try{for(var Se,nt=et[Symbol.iterator]();!(Pe=(Se=nt.next()).done);Pe=!0)C.has(Se.value)&&O.add(Ye)}catch(at){st=!0,ut=at}finally{try{!Pe&&nt.return&&nt.return()}finally{if(st)throw ut}}},$=!0,j=!1,G=void 0;try{for(var de,oe=L.entries()[Symbol.iterator]();!($=(de=oe.next()).done);$=!0){var pe=Ee(de.value,2),ye=pe[0],ge=pe[1];Z[ge]={};var Q=!0,ee=!1,le=void 0;try{for(var J,te=y[Symbol.iterator]();!(Q=(J=te.next()).done);Q=!0){var re=J.value;I(ye,ge);var ce=void 0,ve=!0,Ie=!1,We=void 0;try{for(var ue,Ue=ye[Symbol.iterator]();!(ve=(ue=Ue.next()).done)&&!(ce=B[ue.value][re]);ve=!0);}catch(Ae){Ie=!0,We=Ae}finally{try{!ve&&Ue.return&&Ue.return()}finally{if(Ie)throw We}}ce&&(Z[ge][re]=L.get(g[ce]))}}catch(Ae){ee=!0,le=Ae}finally{try{!Q&&te.return&&te.return()}finally{if(ee)throw le}}}}catch(Ae){j=!0,G=Ae}finally{try{!$&&oe.return&&oe.return()}finally{if(j)throw G}}return T.setTransitionTable(Z),T.setAcceptingStateNumbers(O),T}}},75216:(Fe,Ee,p)=>{var D=function(){function B(P,y){for(var C=0;C<y.length;C++){var b=y[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(P,b.key,b)}}return function(P,y,C){return y&&B(P.prototype,y),C&&B(P,C),P}}();function g(B){if(Array.isArray(B)){for(var P=0,y=Array(B.length);P<B.length;P++)y[P]=B[P];return y}return Array.from(B)}var W=p(10163),i=p(10458).EPSILON_CLOSURE,T=function(){function B(P){(function(B,P){if(!(B instanceof P))throw new TypeError("Cannot call a class as a function")})(this,B),this._nfa=P}return D(B,[{key:"minimize",value:function(){this.getTransitionTable(),this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._originalTransitionTable=this._transitionTable,W.minimize(this)}},{key:"getAlphabet",value:function(){return this._nfa.getAlphabet()}},{key:"getAcceptingStateNumbers",value:function(){return this._acceptingStateNumbers||this.getTransitionTable(),this._acceptingStateNumbers}},{key:"getOriginaAcceptingStateNumbers",value:function(){return this._originalAcceptingStateNumbers||this.getTransitionTable(),this._originalAcceptingStateNumbers}},{key:"setTransitionTable",value:function(y){this._transitionTable=y}},{key:"setAcceptingStateNumbers",value:function(y){this._acceptingStateNumbers=y}},{key:"getTransitionTable",value:function(){var y=this;if(this._transitionTable)return this._transitionTable;var C=this._nfa.getTransitionTable(),b=Object.keys(C);this._acceptingStateNumbers=new Set;for(var f=[C[b[0]][i]],E=this.getAlphabet(),z=this._nfa.getAcceptingStateNumbers(),L={},N=function(et){var Ye=!0,Pe=!1,st=void 0;try{for(var nt,ut=z[Symbol.iterator]();!(Ye=(nt=ut.next()).done);Ye=!0)if(-1!==et.indexOf(nt.value)){y._acceptingStateNumbers.add(et.join(","));break}}catch(Ne){Pe=!0,st=Ne}finally{try{!Ye&&ut.return&&ut.return()}finally{if(Pe)throw st}}};f.length>0;){var Z=f.shift(),O=Z.join(",");L[O]={};var I=!0,$=!1,j=void 0;try{for(var oe,G=E[Symbol.iterator]();!(I=(oe=G.next()).done);I=!0){var de=oe.value,fe=[];N(Z);var pe=!0,ye=!1,ge=void 0;try{for(var ee,Q=Z[Symbol.iterator]();!(pe=(ee=Q.next()).done);pe=!0){var te=C[ee.value][de];if(te){var J=!0,re=!1,ce=void 0;try{for(var Ie,ve=te[Symbol.iterator]();!(J=(Ie=ve.next()).done);J=!0){var We=Ie.value;!C[We]||fe.push.apply(fe,g(C[We][i]))}}catch(Ae){re=!0,ce=Ae}finally{try{!J&&ve.return&&ve.return()}finally{if(re)throw ce}}}}}catch(Ae){ye=!0,ge=Ae}finally{try{!pe&&Q.return&&Q.return()}finally{if(ye)throw ge}}var Ue=new Set(fe),ue=[].concat(g(Ue));if(ue.length>0){var Ce=ue.join(",");L[O][de]=Ce,L.hasOwnProperty(Ce)||f.unshift(ue)}}}catch(Ae){$=!0,j=Ae}finally{try{!I&&G.return&&G.return()}finally{if($)throw j}}}return this._transitionTable=this._remapStateNumbers(L)}},{key:"_remapStateNumbers",value:function(y){var C={};this._originalTransitionTable=y;var b={};for(var x in Object.keys(y).forEach(function(j,G){C[j]=G+1}),y){var f=y[x],E={};for(var z in f)E[z]=C[f[z]];b[C[x]]=E}this._originalAcceptingStateNumbers=this._acceptingStateNumbers,this._acceptingStateNumbers=new Set;var L=!0,N=!1,Z=void 0;try{for(var I,O=this._originalAcceptingStateNumbers[Symbol.iterator]();!(L=(I=O.next()).done);L=!0)this._acceptingStateNumbers.add(C[I.value])}catch(j){N=!0,Z=j}finally{try{!L&&O.return&&O.return()}finally{if(N)throw Z}}return b}},{key:"getOriginalTransitionTable",value:function(){return this._originalTransitionTable||this.getTransitionTable(),this._originalTransitionTable}},{key:"matches",value:function(y){for(var C=1,b=0,x=this.getTransitionTable();y[b];)if(!(C=x[C][y[b++]]))return!1;return!!this.getAcceptingStateNumbers().has(C)}}]),B}();Fe.exports=T},38327:(Fe,Ee,p)=>{var D=p(47884),g=p(75216),Y=p(30830),W=p(70394);Fe.exports={NFA:D,DFA:g,builders:W,toNFA:function(i){return Y.build(i)},toDFA:function(i){return new g(this.toNFA(i))},test:function(i,T){return this.toDFA(i).matches(T)}}},70394:(Fe,Ee,p)=>{var D=p(47884),g=p(46809),W=p(10458).EPSILON;function M(E){var z=new g,L=new g({accepting:!0});return new D(z.addTransition(E,L),L)}function T(E,z){return E.out.accepting=!1,z.out.accepting=!0,E.out.addTransition(W,z.in),new D(E.in,z.out)}function P(E,z){var L=new g,N=new g;return L.addTransition(W,E.in),L.addTransition(W,z.in),N.accepting=!0,E.out.accepting=!1,z.out.accepting=!1,E.out.addTransition(W,N),z.out.addTransition(W,N),new D(L,N)}Fe.exports={alt:function(E){for(var z=arguments.length,L=Array(z>1?z-1:0),N=1;N<z;N++)L[N-1]=arguments[N];var Z=!0,O=!1,I=void 0;try{for(var j,$=L[Symbol.iterator]();!(Z=(j=$.next()).done);Z=!0){var G=j.value;E=T(E,G)}}catch(oe){O=!0,I=oe}finally{try{!Z&&$.return&&$.return()}finally{if(O)throw I}}return E},char:M,e:function(){return M(W)},or:function(E){for(var z=arguments.length,L=Array(z>1?z-1:0),N=1;N<z;N++)L[N-1]=arguments[N];var Z=!0,O=!1,I=void 0;try{for(var j,$=L[Symbol.iterator]();!(Z=(j=$.next()).done);Z=!0){var G=j.value;E=P(E,G)}}catch(oe){O=!0,I=oe}finally{try{!Z&&$.return&&$.return()}finally{if(O)throw I}}return E},rep:function(E){return E.in.addTransition(W,E.out),E.out.addTransition(W,E.in),E},repExplicit:function(E){var z=new g,L=new g({accepting:!0});return z.addTransition(W,E.in),z.addTransition(W,L),E.out.accepting=!1,E.out.addTransition(W,L),L.addTransition(W,E.in),new D(z,L)},plusRep:function(E){return E.out.addTransition(W,E.in),E},questionRep:function(E){return E.in.addTransition(W,E.out),E}}},30830:(Fe,Ee,p)=>{var g=p(30525),Y=p(70394),W=Y.alt,M=Y.char,i=Y.or,T=Y.rep,B=Y.plusRep,P=Y.questionRep;function y(b){if(b&&!C[b.type])throw new Error(b.type+" is not supported in NFA/DFA interpreter.");return b?C[b.type](b):""}var C={RegExp:function(x){if(""!==x.flags)throw new Error("NFA/DFA: Flags are not supported yet.");return y(x.body)},Alternative:function(x){var f=(x.expressions||[]).map(y);return W.apply(void 0,function(b){if(Array.isArray(b)){for(var x=0,f=Array(b.length);x<b.length;x++)f[x]=b[x];return f}return Array.from(b)}(f))},Disjunction:function(x){return i(y(x.left),y(x.right))},Repetition:function(x){switch(x.quantifier.kind){case"*":return T(y(x.expression));case"+":return B(y(x.expression));case"?":return P(y(x.expression));default:throw new Error("Unknown repeatition: "+x.quantifier.kind+".")}},Char:function(x){if("simple"!==x.kind)throw new Error("NFA/DFA: Only simple chars are supported yet.");return M(x.value)},Group:function(x){return y(x.expression)}};Fe.exports={build:function(x){var f=x;return x instanceof RegExp&&(x=""+x),"string"==typeof x&&(f=g.parse(x,{captureLocations:!0})),y(f)}}},46809:(Fe,Ee,p)=>{var D=function(){function P(y,C){for(var b=0;b<C.length;b++){var x=C[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,C,b){return C&&P(y.prototype,C),b&&P(y,b),y}}();function g(P,y){if(!(P instanceof y))throw new TypeError("Cannot call a class as a function")}function Y(P,y){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?P:y}var M=p(26777),T=p(10458).EPSILON,B=function(P){function y(){return g(this,y),Y(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function(P,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);P.prototype=Object.create(y&&y.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(P,y):P.__proto__=y)}(y,P),D(y,[{key:"matches",value:function(b){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(x.has(this))return!1;if(x.add(this),0===b.length){if(this.accepting)return!0;var f=!0,E=!1,z=void 0;try{for(var N,L=this.getTransitionsOnSymbol(T)[Symbol.iterator]();!(f=(N=L.next()).done);f=!0){var Z=N.value;if(Z.matches("",x))return!0}}catch(J){E=!0,z=J}finally{try{!f&&L.return&&L.return()}finally{if(E)throw z}}return!1}var O=b[0],I=b.slice(1),$=this.getTransitionsOnSymbol(O),j=!0,G=!1,oe=void 0;try{for(var fe,de=$[Symbol.iterator]();!(j=(fe=de.next()).done);j=!0){var pe=fe.value;if(pe.matches(I))return!0}}catch(J){G=!0,oe=J}finally{try{!j&&de.return&&de.return()}finally{if(G)throw oe}}var ye=!0,ge=!1,Q=void 0;try{for(var le,ee=this.getTransitionsOnSymbol(T)[Symbol.iterator]();!(ye=(le=ee.next()).done);ye=!0){var te=le.value;if(te.matches(b,x))return!0}}catch(J){ge=!0,Q=J}finally{try{!ye&&ee.return&&ee.return()}finally{if(ge)throw Q}}return!1}},{key:"getEpsilonClosure",value:function(){var b=this;return this._epsilonClosure||function(){var x=b.getTransitionsOnSymbol(T),f=b._epsilonClosure=new Set;f.add(b);var E=!0,z=!1,L=void 0;try{for(var Z,N=x[Symbol.iterator]();!(E=(Z=N.next()).done);E=!0){var O=Z.value;f.has(O)||(f.add(O),O.getEpsilonClosure().forEach(function($){return f.add($)}))}}catch($){z=!0,L=$}finally{try{!E&&N.return&&N.return()}finally{if(z)throw L}}}(),this._epsilonClosure}}]),y}(M);Fe.exports=B},47884:(Fe,Ee,p)=>{var D=function(y,C){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return function(y,C){var b=[],x=!0,f=!1,E=void 0;try{for(var L,z=y[Symbol.iterator]();!(x=(L=z.next()).done)&&(b.push(L.value),!C||b.length!==C);x=!0);}catch(N){f=!0,E=N}finally{try{!x&&z.return&&z.return()}finally{if(f)throw E}}return b}(y,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function(){function P(y,C){for(var b=0;b<C.length;b++){var x=C[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,C,b){return C&&P(y.prototype,C),b&&P(y,b),y}}(),M=p(10458),i=M.EPSILON,T=M.EPSILON_CLOSURE,B=function(){function P(y,C){(function(P,y){if(!(P instanceof y))throw new TypeError("Cannot call a class as a function")})(this,P),this.in=y,this.out=C}return g(P,[{key:"matches",value:function(C){return this.in.matches(C)}},{key:"getAlphabet",value:function(){if(!this._alphabet){this._alphabet=new Set;var C=this.getTransitionTable();for(var b in C){var x=C[b];for(var f in x)f!==T&&this._alphabet.add(f)}}return this._alphabet}},{key:"getAcceptingStates",value:function(){return this._acceptingStates||this.getTransitionTable(),this._acceptingStates}},{key:"getAcceptingStateNumbers",value:function(){if(!this._acceptingStateNumbers){this._acceptingStateNumbers=new Set;var C=!0,b=!1,x=void 0;try{for(var E,f=this.getAcceptingStates()[Symbol.iterator]();!(C=(E=f.next()).done);C=!0)this._acceptingStateNumbers.add(E.value.number)}catch(L){b=!0,x=L}finally{try{!C&&f.return&&f.return()}finally{if(b)throw x}}}return this._acceptingStateNumbers}},{key:"getTransitionTable",value:function(){var C=this;if(!this._transitionTable){this._transitionTable={},this._acceptingStates=new Set;var b=new Set,x=new Set;(function E(z){if(!b.has(z)){b.add(z),z.number=b.size,C._transitionTable[z.number]={},z.accepting&&C._acceptingStates.add(z);var L=z.getTransitions(),N=!0,Z=!1,O=void 0;try{for(var $,I=L[Symbol.iterator]();!(N=($=I.next()).done);N=!0){var G=D($.value,2),oe=G[0],de=G[1],fe=[];x.add(oe);var pe=!0,ye=!1,ge=void 0;try{for(var ee,Q=de[Symbol.iterator]();!(pe=(ee=Q.next()).done);pe=!0){var le=ee.value;E(le),fe.push(le.number)}}catch(te){ye=!0,ge=te}finally{try{!pe&&Q.return&&Q.return()}finally{if(ye)throw ge}}C._transitionTable[z.number][oe]=fe}}catch(te){Z=!0,O=te}finally{try{!N&&I.return&&I.return()}finally{if(Z)throw O}}}})(this.in),b.forEach(function(E){delete C._transitionTable[E.number][i],C._transitionTable[E.number][T]=[].concat(function(P){if(Array.isArray(P)){for(var y=0,C=Array(P.length);y<P.length;y++)C[y]=P[y];return C}return Array.from(P)}(E.getEpsilonClosure())).map(function(z){return z.number})})}return this._transitionTable}}]),P}();Fe.exports=B},10458:Fe=>{Fe.exports={EPSILON:"\u03b5",EPSILON_CLOSURE:"\u03b5*"}},26777:Fe=>{var Ee=function(){function g(Y,W){for(var M=0;M<W.length;M++){var i=W[M];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(Y,i.key,i)}}return function(Y,W,M){return W&&g(Y.prototype,W),M&&g(Y,M),Y}}();function p(g,Y){if(!(g instanceof Y))throw new TypeError("Cannot call a class as a function")}var D=function(){function g(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},W=Y.accepting,M=void 0!==W&&W;p(this,g),this._transitions=new Map,this.accepting=M}return Ee(g,[{key:"getTransitions",value:function(){return this._transitions}},{key:"addTransition",value:function(W,M){return this.getTransitionsOnSymbol(W).add(M),this}},{key:"getTransitionsOnSymbol",value:function(W){var M=this._transitions.get(W);return M||(M=new Set,this._transitions.set(W,M)),M}}]),g}();Fe.exports=D},30489:(Fe,Ee,p)=>{var D=p(42082),g=p(30525),Y=p(86207),W=p(69472);Fe.exports={optimize:function(i){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},B=T.whitelist,P=void 0===B?[]:B,y=T.blacklist,C=void 0===y?[]:y,b=P.length>0?P:Array.from(W.keys()),x=b.filter(function(L){return!C.includes(L)}),f=i;i instanceof RegExp&&(i=""+i),"string"==typeof i&&(f=g.parse(i));var E=new Y.TransformResult(f),z=void 0;do{z=E.toString(),f=D(E.getAST()),x.forEach(function(L){if(!W.has(L))throw new Error("Unknown optimization-transform: "+L+". Available transforms are: "+Array.from(W.keys()).join(", "));var N=W.get(L),Z=Y.transform(f,N);Z.toString()!==E.toString()&&(Z.toString().length<=E.toString().length?E=Z:f=D(E.getAST()))})}while(E.toString()!==z);return E}}},75833:Fe=>{var Ee="A".codePointAt(0),p="Z".codePointAt(0);Fe.exports={_AZClassRanges:null,_hasUFlag:!1,init:function(M){this._AZClassRanges=new Set,this._hasUFlag=M.flags.includes("u")},shouldRun:function(M){return M.flags.includes("i")},Char:function(M){var i=M.node,T=M.parent;if(!isNaN(i.codePoint)&&(this._hasUFlag||!(i.codePoint>=4096))){if("ClassRange"===T.type){if(!this._AZClassRanges.has(T)&&!function(W){var M=W.from,i=W.to;return M.codePoint>=Ee&&M.codePoint<=p&&i.codePoint>=Ee&&i.codePoint<=p}(T))return;this._AZClassRanges.add(T)}var B=i.symbol.toLowerCase();B!==i.symbol&&(i.value=function(W,M){var i=W.codePointAt(0);if("decimal"===M.kind)return"\\"+i;if("oct"===M.kind)return"\\0"+i.toString(8);if("hex"===M.kind)return"\\x"+i.toString(16);if("unicode"===M.kind){if(M.isSurrogatePair){var T=function(W){var i=(W-65536)%1024+56320;return{lead:(Math.floor((W-65536)/1024)+55296).toString(16),trail:i.toString(16)}}(i),B=T.lead,P=T.trail;return"\\u"+"0".repeat(4-B.length)+B+"\\u"+"0".repeat(4-P.length)+P}if(M.value.includes("{"))return"\\u{"+i.toString(16)+"}";var y=i.toString(16);return"\\u"+"0".repeat(4-y.length)+y}return W}(B,i),i.symbol=B,i.codePoint=B.codePointAt(0))}}}},44140:Fe=>{function Ee(x,f){var E=p(x),z=p(f);if(E===z){if("ClassRange"===x.type&&"ClassRange"!==f.type)return-1;if("ClassRange"===f.type&&"ClassRange"!==x.type)return 1;if("ClassRange"===x.type&&"ClassRange"===f.type)return p(x.to)-p(f.to);if(D(x)&&D(f)||g(x)&&g(f))return x.value<f.value?-1:1}return E-z}function p(x){return"Char"===x.type?"-"===x.value||"control"===x.kind?1/0:"meta"===x.kind&&isNaN(x.codePoint)?-1:x.codePoint:x.from.codePoint}function D(x){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"Char"===x.type&&"meta"===x.kind&&(f?x.value===f:/^\\[dws]$/i.test(x.value))}function g(x){return"Char"===x.type&&"control"===x.kind}function Y(x,f,E){for(var z=0;z<f.length;z++)if(W(x,f[z],E))return!0;return!1}function W(x,f,E){return"ClassRange"===x.type?W(x.from,f,E)&&W(x.to,f,E):!!("\\S"===f&&(D(x,"\\w")||D(x,"\\d"))||"\\D"===f&&(D(x,"\\W")||D(x,"\\s"))||"\\w"===f&&D(x,"\\d")||"\\W"===f&&D(x,"\\s"))||"Char"===x.type&&!isNaN(x.codePoint)&&("\\s"===f?M(x):"\\S"===f?!M(x):"\\d"===f?i(x):"\\D"===f?!i(x):"\\w"===f?T(x,E):"\\W"===f&&!T(x,E))}function M(x){return 9===x.codePoint||10===x.codePoint||11===x.codePoint||12===x.codePoint||13===x.codePoint||32===x.codePoint||160===x.codePoint||5760===x.codePoint||x.codePoint>=8192&&x.codePoint<=8202||8232===x.codePoint||8233===x.codePoint||8239===x.codePoint||8287===x.codePoint||12288===x.codePoint||65279===x.codePoint}function i(x){return x.codePoint>=48&&x.codePoint<=57}function T(x,f){return i(x)||x.codePoint>=65&&x.codePoint<=90||x.codePoint>=97&&x.codePoint<=122||"_"===x.value||f&&(383===x.codePoint||8490===x.codePoint)}function B(x,f){if(f&&"ClassRange"===f.type){if(y(x,f))return!0;if(b(x)&&f.to.codePoint===x.codePoint-1)return f.to=x,!0;if("ClassRange"===x.type&&x.from.codePoint<=f.to.codePoint+1&&x.to.codePoint>=f.from.codePoint-1)return x.from.codePoint<f.from.codePoint&&(f.from=x.from),x.to.codePoint>f.to.codePoint&&(f.to=x.to),!0}return!1}function P(x,f){return!(!f||"ClassRange"!==f.type||!b(x)||f.from.codePoint!==x.codePoint+1||(f.from=x,0))}function y(x,f){return("Char"!==x.type||!isNaN(x.codePoint))&&("ClassRange"===x.type?y(x.from,f)&&y(x.to,f):x.codePoint>=f.from.codePoint&&x.codePoint<=f.to.codePoint)}function C(x,f,E){if(!b(x))return 0;for(var z=0;f>0;){var L=E[f],N=E[f-1];if(!b(N)||N.codePoint!==L.codePoint-1)break;z++,f--}return z>1?(E[f]={type:"ClassRange",from:E[f],to:x},z):0}function b(x){return x&&"Char"===x.type&&!isNaN(x.codePoint)&&(T(x,!1)||"unicode"===x.kind||"hex"===x.kind||"oct"===x.kind||"decimal"===x.kind)}Fe.exports={_hasIUFlags:!1,init:function(f){this._hasIUFlags=f.flags.includes("i")&&f.flags.includes("u")},CharacterClass:function(f){var z=f.node.expressions,L=[];z.forEach(function(I){D(I)&&L.push(I.value)}),z.sort(Ee);for(var N=0;N<z.length;N++){var Z=z[N];if(Y(Z,L,this._hasIUFlags)||B(Z,z[N-1])||P(Z,z[N+1]))z.splice(N,1),N--;else{var O=C(Z,N,z);z.splice(N-O+1,O),N-=O}}}}},95254:Fe=>{Fe.exports={ClassRange:function(p){var D=p.node;D.from.codePoint===D.to.codePoint?p.replace(D.from):D.from.codePoint===D.to.codePoint-1&&(p.getParent().insertChildAt(D.to,p.index+1),p.replace(D.from))}}},63574:Fe=>{Fe.exports={CharacterClass:function(p){for(var D=p.node,g={},Y=0;Y<D.expressions.length;Y++){var W=p.getChild(Y),M=W.jsonEncode();g.hasOwnProperty(M)&&(W.remove(),Y--),g[M]=!0}}}},8576:Fe=>{function Ee(C){if(Array.isArray(C)){for(var b=0,x=Array(C.length);b<C.length;b++)x[b]=C[b];return x}return Array.from(C)}Fe.exports={_hasIFlag:!1,_hasUFlag:!1,init:function(b){this._hasIFlag=b.flags.includes("i"),this._hasUFlag=b.flags.includes("u")},CharacterClass:function(b){var C;(C=b).node.expressions.forEach(function(x,f){(function(C){return"ClassRange"===C.type&&"0"===C.from.value&&"9"===C.to.value})(x)&&C.getChild(f).replace({type:"Char",value:"\\d",kind:"meta"})}),function(C,b,x){var E=null,z=null,L=null,N=null,Z=null,O=null;C.node.expressions.forEach(function(I,$){i(I,"\\d")?E=C.getChild($):function(C){return"ClassRange"===C.type&&"a"===C.from.value&&"z"===C.to.value}(I)?z=C.getChild($):function(C){return"ClassRange"===C.type&&"A"===C.from.value&&"Z"===C.to.value}(I)?L=C.getChild($):function(C){return"Char"===C.type&&"_"===C.value&&"simple"===C.kind}(I)?N=C.getChild($):b&&x&&y(I,383)?Z=C.getChild($):b&&x&&y(I,8490)&&(O=C.getChild($))}),E&&(z&&L||b&&(z||L))&&N&&(!x||!b||Z&&O)&&(E.replace({type:"Char",value:"\\w",kind:"meta"}),z&&z.remove(),L&&L.remove(),N.remove(),Z&&Z.remove(),O&&O.remove())}(b,this._hasIFlag,this._hasUFlag),function(C){var b=C.node;if(!(b.expressions.length<g.length)&&g.every(function(f){return b.expressions.some(function(E){return f(E)})})){var x=b.expressions.find(function(f){return i(f,"\\n")});x.value="\\s",x.symbol=void 0,x.codePoint=NaN,b.expressions.map(function(f,E){return g.some(function(z){return z(f)})?C.getChild(E):void 0}).filter(Boolean).forEach(function(f){return f.remove()})}}(b)}};var g=[function(C){return M(C," ")}].concat(Ee(["\\f","\\n","\\r","\\t","\\v"].map(function(C){return function(b){return i(b,C)}})),Ee([160,5760,8232,8233,8239,8287,12288,65279].map(function(C){return function(b){return y(b,C)}})),[function(C){return"ClassRange"===C.type&&y(C.from,8192)&&y(C.to,8202)}]);function M(C,b){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"simple";return"Char"===C.type&&C.value===b&&C.kind===x}function i(C,b){return M(C,b,"meta")}function y(C,b){return"Char"===C.type&&"unicode"===C.kind&&C.codePoint===b}},61861:Fe=>{function Y(W){return/[*[()+?$./{}|]/.test(W)}Fe.exports={CharacterClass:function(M){var W,i=M.node;if(1===i.expressions.length&&function(W){var M=W.parent;if("Alternative"!==M.type)return!0;var T=M.expressions[W.index-1];return null==T||!("Backreference"===T.type&&"number"===T.kind||"Char"===T.type&&"decimal"===T.kind)}(M)&&"Char"===(W=i.expressions[0]).type&&"\\b"!==W.value){var T=i.expressions[0],B=T.value,P=T.kind,y=T.escaped;if(i.negative){if(!function(W){return/^\\[dwsDWS]$/.test(W)}(B))return;B=function(W){return/[dws]/.test(W)?W.toUpperCase():W.toLowerCase()}(B)}M.replace({type:"Char",value:B,kind:P,escaped:y||Y(B)})}}}},77683:Fe=>{var Ee="A".codePointAt(0),p="Z".codePointAt(0),D="a".codePointAt(0),g="z".codePointAt(0),Y="0".codePointAt(0),W="9".codePointAt(0);Fe.exports={Char:function(P){var B,y=P.node,C=P.parent;if(!isNaN(y.codePoint)&&"simple"!==y.kind&&("ClassRange"!==C.type||function(B){var P=B.from,y=B.to;return P.codePoint>=Y&&P.codePoint<=W&&y.codePoint>=Y&&y.codePoint<=W||P.codePoint>=Ee&&P.codePoint<=p&&y.codePoint>=Ee&&y.codePoint<=p||P.codePoint>=D&&P.codePoint<=g&&y.codePoint>=D&&y.codePoint<=g}(C))&&(B=y.codePoint)>=32&&B<=126){var b=String.fromCodePoint(y.codePoint),x={type:"Char",kind:"simple",value:b,symbol:b,codePoint:y.codePoint};(function(B,P){return"ClassRange"===P||"CharacterClass"===P?/[\]\\^-]/.test(B):/[*[()+?^$./\\|{}]/.test(B)})(b,C.type)&&(x.escaped=!0),P.replace(x)}}}},60085:Fe=>{function g(i,T,B){for(var P=i,y=(B?P>=0:P<T.expressions.length)&&T.expressions[P];y&&"Char"===y.type&&"simple"===y.kind&&!y.escaped&&/\d/.test(y.value);)B?P--:P++,y=(B?P>=0:P<T.expressions.length)&&T.expressions[P];return Math.abs(i-P)}function Y(i,T){return i&&"Char"===i.type&&"simple"===i.kind&&!i.escaped&&i.value===T}Fe.exports={_hasXFlag:!1,init:function(T){this._hasXFlag=T.flags.includes("x")},Char:function(T){var B=T.node;!B.escaped||function(i,T){var B=i.node.value,P=i.index,y=i.parent;return"CharacterClass"!==y.type&&"ClassRange"!==y.type?!function(i,T,B,P){return"{"===i?function(i,T){if(null==i)return!1;var B=g(i+1,T),P=i+B+1,y=P<T.expressions.length&&T.expressions[P];if(B){if(Y(y,"}"))return!0;if(Y(y,","))return Y(y=(P=P+(B=g(P+1,T))+1)<T.expressions.length&&T.expressions[P],"}")}return!1}(T,B):"}"===i?function(i,T){if(null==i)return!1;var B=g(i-1,T,!0),P=i-B-1,y=P>=0&&T.expressions[P];return!(!B||!Y(y,"{"))||!!Y(y,",")&&(y=(P=P-(B=g(P-1,T,!0))-1)<T.expressions.length&&T.expressions[P],B&&Y(y,"{"))}(T,B):!(!P||!/[ #]/.test(i))||/[*[()+?^$./\\|]/.test(i)}(B,P,y,T):!function(i,T,B){return"^"===i?0===T&&!B.negative:"-"===i||/[\]\\]/.test(i)}(B,P,y)}(T,this._hasXFlag)&&delete B.escaped}}},92143:Fe=>{Fe.exports={shouldRun:function(p){return p.flags.includes("u")},Char:function(p){var D=p.node;"unicode"!==D.kind||!D.isSurrogatePair||isNaN(D.codePoint)||(D.value="\\u{"+D.codePoint.toString(16)+"}",delete D.isSurrogatePair)}}},19284:(Fe,Ee,p)=>{function D(B){if(Array.isArray(B)){for(var P=0,y=Array(B.length);P<B.length;P++)y[P]=B[P];return y}return Array.from(B)}var g=p(93027),W=p(63495).increaseQuantifierByOne;function M(B,P,y){for(var C=B.node,b=Math.ceil(y/2),x=0;x<b;){var f=y-2*x-1,E=void 0,z=void 0;if(0===x?(E=P,z=B.getChild(f)):(E=g.getForNode({type:"Alternative",expressions:[].concat(D(C.expressions.slice(y-x,y)),[P.node])}),z=g.getForNode({type:"Alternative",expressions:[].concat(D(C.expressions.slice(f,y-x)))})),E.hasEqualSource(z)){for(var L=0;L<2*x+1;L++)B.getChild(f).remove();return P.replace({type:"Repetition",expression:0===x&&"Repetition"!==E.node.type?E.node:{type:"Group",capturing:!1,expression:E.node},quantifier:{type:"Quantifier",kind:"Range",from:2,to:2,greedy:!0}}),f}x++}return y}function i(B,P,y){for(var C=B.node,b=0;b<y;){var x=B.getChild(b);if("Repetition"===x.node.type&&x.node.quantifier.greedy){var f=x.getChild(),E=void 0;if("Group"===f.node.type&&!f.node.capturing&&(f=f.getChild()),b+1===y?"Group"===(E=P).node.type&&!E.node.capturing&&(E=E.getChild()):E=g.getForNode({type:"Alternative",expressions:[].concat(D(C.expressions.slice(b+1,y+1)))}),f.hasEqualSource(E)){for(var z=b;z<y;z++)B.getChild(b+1).remove();return W(x.node.quantifier),b}}b++}return y}function T(B,P,y){var C=B.node;if("Repetition"===P.node.type&&P.node.quantifier.greedy){var b=P.getChild(),x=void 0;"Group"===b.node.type&&!b.node.capturing&&(b=b.getChild());var f=void 0;if("Alternative"===b.node.type?x=g.getForNode({type:"Alternative",expressions:[].concat(D(C.expressions.slice(y-(f=b.node.expressions.length),y)))}):(f=1,"Group"===(x=B.getChild(y-1)).node.type&&!x.node.capturing&&(x=x.getChild())),x.hasEqualSource(b)){for(var E=y-f;E<y;E++)B.getChild(y-f).remove();return W(P.node.quantifier),y-f}}return y}Fe.exports={Alternative:function(P){for(var y=P.node,C=1;C<y.expressions.length;){var b=P.getChild(C);if((C=Math.max(1,M(P,b,C)))>=y.expressions.length||(b=P.getChild(C),(C=Math.max(1,i(P,b,C)))>=y.expressions.length))break;b=P.getChild(C),C=Math.max(1,T(P,b,C)),C++}}}},82415:(Fe,Ee,p)=>{var D=p(93027),g=p(63495),Y=g.disjunctionToList,W=g.listToDisjunction;Fe.exports={Disjunction:function(i){var B={},P=Y(i.node).filter(function(y){var C=y?D.getForNode(y).jsonEncode():"null";return!B.hasOwnProperty(C)&&(B[C]=y,!0)});i.replace(W(P))}}},84465:Fe=>{Fe.exports={Disjunction:function(g){var Y=g.node,W=g.parent;if(Ee[W.type]){var M=new Map;if(p(Y,M)&&M.size){var i={type:"CharacterClass",expressions:Array.from(M.keys()).sort().map(function(T){return M.get(T)})};Ee[W.type](g.getParent(),i)}}}};var Ee={RegExp:function(g,Y){g.node.body=Y},Group:function(g,Y){var W=g.node;W.capturing?W.expression=Y:g.replace(Y)}};function p(D,g){if(!D)return!1;var Y=D.type;if("Disjunction"===Y){var M=D.right;return p(D.left,g)&&p(M,g)}return"Char"===Y?(g.set(D.value,D),!0):"CharacterClass"===Y&&!D.negative&&D.expressions.every(function(T){return p(T,g)})}},69472:(Fe,Ee,p)=>{Fe.exports=new Map([["charSurrogatePairToSingleUnicode",p(92143)],["charCodeToSimpleChar",p(77683)],["charCaseInsensitiveLowerCaseTransform",p(75833)],["charClassRemoveDuplicates",p(63574)],["quantifiersMerge",p(17180)],["quantifierRangeToSymbol",p(96229)],["charClassClassrangesToChars",p(95254)],["charClassToMeta",p(8576)],["charClassToSingleChar",p(61861)],["charEscapeUnescape",p(60085)],["charClassClassrangesMerge",p(44140)],["disjunctionRemoveDuplicates",p(82415)],["groupSingleCharsToCharClass",p(84465)],["removeEmptyGroup",p(39365)],["ungroup",p(97329)],["combineRepeatingPatterns",p(19284)]])},96229:Fe=>{Fe.exports={Quantifier:function(Y){"Range"===Y.node.kind&&(function(g){var Y=g.node;0!==Y.from||Y.to||(Y.kind="*",delete Y.from)}(Y),function(g){var Y=g.node;1!==Y.from||Y.to||(Y.kind="+",delete Y.from)}(Y),function(g){var Y=g.node;1!==Y.from||1!==Y.to||g.parentPath.replace(g.parentPath.node.expression)}(Y))}}},17180:(Fe,Ee,p)=>{var g=p(63495).increaseQuantifierByOne;function Y(M){return M.greedy&&("+"===M.kind||"*"===M.kind||"Range"===M.kind&&!M.to)}function W(M){var i=void 0,T=void 0;return"*"===M.kind?i=0:"+"===M.kind?i=1:"?"===M.kind?(i=0,T=1):(i=M.from,M.to&&(T=M.to)),{from:i,to:T}}Fe.exports={Repetition:function(i){var T=i.node;if("Alternative"===i.parent.type&&i.index){var P=i.getPreviousSibling();if(P)if("Repetition"===P.node.type){if(!P.getChild().hasEqualSource(i.getChild()))return;var y=W(P.node.quantifier),C=y.from,b=y.to,x=W(T.quantifier),f=x.from,E=x.to;if(P.node.quantifier.greedy!==T.quantifier.greedy&&!Y(P.node.quantifier)&&!Y(T.quantifier))return;T.quantifier.kind="Range",T.quantifier.from=C+f,b&&E?T.quantifier.to=b+E:delete T.quantifier.to,(Y(P.node.quantifier)||Y(T.quantifier))&&(T.quantifier.greedy=!0),P.remove()}else{if(!P.hasEqualSource(i.getChild()))return;g(T.quantifier),P.remove()}}}}},39365:Fe=>{Fe.exports={Group:function(p){var D=p.node,g=p.parent,Y=p.getChild();D.capturing||Y||("Repetition"===g.type?p.getParent().replace(D):"RegExp"!==g.type&&p.remove())}}},97329:Fe=>{function Ee(D){if(Array.isArray(D)){for(var g=0,Y=Array(D.length);g<D.length;g++)Y[g]=D[g];return Y}return Array.from(D)}Fe.exports={Group:function(g){var Y=g.node,W=g.parent,M=g.getChild();if(!Y.capturing&&M&&function(D){var g=D.parent;if("Alternative"!==g.type)return!0;var W=g.expressions[D.index-1];return null==W||!("Backreference"===W.type&&"number"===W.kind||"Char"===W.type&&"decimal"===W.kind)}(g)&&("Disjunction"!==M.node.type||"RegExp"===W.type)&&("Repetition"!==W.type||"Char"===M.node.type||"CharacterClass"===M.node.type))if("Alternative"===M.node.type){var i=g.getParent();"Alternative"===i.node.type&&i.replace({type:"Alternative",expressions:[].concat(Ee(W.expressions.slice(0,g.index)),Ee(M.node.expressions),Ee(W.expressions.slice(g.index+1)))})}else g.replace(M.node)}}},55776:(Fe,Ee,p)=>{function g(ue){if(Array.isArray(ue)){for(var Ce=0,Ae=Array(ue.length);Ce<ue.length;Ce++)Ae[Ce]=ue[Ce];return Ae}return Array.from(ue)}var Y=void 0,M={},i=void 0,T=void 0;function B(ue,Ce){return M.options.captureLocations?ue&&Ce?{startOffset:ue.startOffset,endOffset:Ce.endOffset,startLine:ue.startLine,endLine:Ce.endLine,startColumn:ue.startColumn,endColumn:Ce.endColumn}:ue||Ce:null}var y=[[-1,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[0,4,function(ue,Ce,Ae,et,Ye,Pe,st,ut){T=B(Ye,ut),i=ce({type:"RegExp",body:Ce,flags:pe(et)},ve(Ye,ut||st))}],[1,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[1,0,function(){T=null,i=""}],[2,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[2,2,function(ue,Ce,Ae,et){T=B(Ae,et),i=ue+Ce}],[3,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[4,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[4,3,function(ue,Ce,Ae,et,Ye,Pe){T=B(et,Pe);var st=null;Ye&&(st=ve(et||Ye,Pe||Ye)),i=ce({type:"Disjunction",left:ue,right:Ae},st)}],[5,1,function(ue,Ce){T=B(Ce,Ce),i=0!==ue.length?ce(1===ue.length?ue[0]:{type:"Alternative",expressions:ue},T):null}],[6,0,function(){T=null,i=[]}],[6,2,function(ue,Ce,Ae,et){T=B(Ae,et),i=ue.concat(Ce)}],[7,1,function(ue,Ce){T=B(Ce,Ce),i=ce(Object.assign({type:"Assertion"},ue),T)}],[7,2,function(ue,Ce,Ae,et){T=B(Ae,et),i=ue,Ce&&(i=ce({type:"Repetition",expression:ue,quantifier:Ce},T))}],[8,1,function(ue,Ce){T=B(Ce,Ce),i={kind:"^"}}],[8,1,function(ue,Ce){T=B(Ce,Ce),i={kind:"$"}}],[8,1,function(ue,Ce){T=B(Ce,Ce),i={kind:"\\b"}}],[8,1,function(ue,Ce){T=B(Ce,Ce),i={kind:"\\B"}}],[8,3,function(ue,Ce,Ae,et,Ye,Pe){T=B(et,Pe),i={kind:"Lookahead",assertion:Ce}}],[8,3,function(ue,Ce,Ae,et,Ye,Pe){T=B(et,Pe),i={kind:"Lookahead",negative:!0,assertion:Ce}}],[8,3,function(ue,Ce,Ae,et,Ye,Pe){T=B(et,Pe),i={kind:"Lookbehind",assertion:Ce}}],[8,3,function(ue,Ce,Ae,et,Ye,Pe){T=B(et,Pe),i={kind:"Lookbehind",negative:!0,assertion:Ce}}],[9,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[9,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[9,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[10,1,function(ue,Ce){T=B(Ce,Ce),i=de(ue,"simple",T)}],[10,1,function(ue,Ce){T=B(Ce,Ce),(i=de(ue.slice(1),"simple",T)).escaped=!0}],[10,1,function(ue,Ce){T=B(Ce,Ce),(i=de(ue,"unicode",T)).isSurrogatePair=!0}],[10,1,function(ue,Ce){T=B(Ce,Ce),i=de(ue,"unicode",T)}],[10,1,function(ue,Ce){T=B(Ce,Ce),i=function(ue,Ce){var Ae="P"===ue[1],et=ue.indexOf("="),Ye=ue.slice(3,-1!==et?et:-1),Pe=void 0,st=-1===et&&G.isGeneralCategoryValue(Ye),ut=-1===et&&G.isBinaryPropertyName(Ye);if(st)Pe=Ye,Ye="General_Category";else if(ut)Pe=Ye;else{if(!G.isValidName(Ye))throw new SyntaxError("Invalid unicode property name: "+Ye+".");if(Pe=ue.slice(et+1,-1),!G.isValidValue(Ye,Pe))throw new SyntaxError("Invalid "+Ye+" unicode property value: "+Pe+".")}return ce({type:"UnicodeProperty",name:Ye,value:Pe,negative:Ae,shorthand:st,binary:ut,canonicalName:G.getCanonicalName(Ye)||Ye,canonicalValue:G.getCanonicalValue(Pe)||Pe},Ce)}(ue,T)}],[10,1,function(ue,Ce){T=B(Ce,Ce),i=de(ue,"control",T)}],[10,1,function(ue,Ce){T=B(Ce,Ce),i=de(ue,"hex",T)}],[10,1,function(ue,Ce){T=B(Ce,Ce),i=de(ue,"oct",T)}],[10,1,function(ue,Ce){T=B(Ce,Ce),i=function(ue,Ce){var Ae=Number(ue.slice(1));return Ae>0&&Ae<=Z?ce({type:"Backreference",kind:"number",number:Ae,reference:Ae},Ce):de(ue,"decimal",Ce)}(ue,T)}],[10,1,function(ue,Ce){T=B(Ce,Ce),i=de(ue,"meta",T)}],[10,1,function(ue,Ce){T=B(Ce,Ce),i=de(ue,"meta",T)}],[10,1,function(ue,Ce){T=B(Ce,Ce),i=function(ue,Ce){var Ae=ue.slice(3,-1),et=J(Ae);if(O.hasOwnProperty(et))return ce({type:"Backreference",kind:"name",number:O[et],reference:et,referenceRaw:Ae},Ce);var Ye=null,Pe=null,st=null,ut=null;Ce&&(Ye=Ce.startOffset,Pe=Ce.startLine,st=Ce.endLine,ut=Ce.startColumn);var nt=/^[\w$<>]/,Se=void 0,Ne=[de(ue.slice(1,2),"simple",Ye?{startLine:Pe,endLine:st,startColumn:ut,startOffset:Ye,endOffset:Ye+=2,endColumn:ut+=2}:null)];for(Ne[0].escaped=!0,ue=ue.slice(2);ue.length>0;){var at=null;(at=ue.match(ge))||(at=ue.match(Q))?(Ye&&(Se={startLine:Pe,endLine:st,startColumn:ut,startOffset:Ye,endOffset:Ye+=at[0].length,endColumn:ut+=at[0].length}),Ne.push(de(at[0],"unicode",Se)),ue=ue.slice(at[0].length)):(at=ue.match(nt))&&(Ye&&(Se={startLine:Pe,endLine:st,startColumn:ut,startOffset:Ye,endOffset:++Ye,endColumn:++ut}),Ne.push(de(at[0],"simple",Se)),ue=ue.slice(1))}return Ne}(ue,Ce)}],[11,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[11,0],[12,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[12,2,function(ue,Ce,Ae,et){T=B(Ae,et),ue.greedy=!1,i=ue}],[13,1,function(ue,Ce){T=B(Ce,Ce),i=ce({type:"Quantifier",kind:ue,greedy:!0},T)}],[13,1,function(ue,Ce){T=B(Ce,Ce),i=ce({type:"Quantifier",kind:ue,greedy:!0},T)}],[13,1,function(ue,Ce){T=B(Ce,Ce),i=ce({type:"Quantifier",kind:ue,greedy:!0},T)}],[13,1,function(ue,Ce){T=B(Ce,Ce);var Ae=$(ue);i=ce({type:"Quantifier",kind:"Range",from:Ae[0],to:Ae[0],greedy:!0},T)}],[13,1,function(ue,Ce){T=B(Ce,Ce),i=ce({type:"Quantifier",kind:"Range",from:$(ue)[0],greedy:!0},T)}],[13,1,function(ue,Ce){T=B(Ce,Ce);var Ae=$(ue);i=ce({type:"Quantifier",kind:"Range",from:Ae[0],to:Ae[1],greedy:!0},T)}],[14,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[14,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[15,3,function(ue,Ce,Ae,et,Ye,Pe){T=B(et,Pe);var st=String(ue),ut=J(st);if(!M.options.allowGroupNameDuplicates&&O.hasOwnProperty(ut))throw new SyntaxError('Duplicate of the named group "'+ut+'".');O[ut]=ue.groupNumber,i=ce({type:"Group",capturing:!0,name:ut,nameRaw:st,number:ue.groupNumber,expression:Ce},T)}],[15,3,function(ue,Ce,Ae,et,Ye,Pe){T=B(et,Pe),i=ce({type:"Group",capturing:!0,number:ue.groupNumber,expression:Ce},T)}],[16,3,function(ue,Ce,Ae,et,Ye,Pe){T=B(et,Pe),i=ce({type:"Group",capturing:!1,expression:Ce},T)}],[17,3,function(ue,Ce,Ae,et,Ye,Pe){T=B(et,Pe),i=ce({type:"CharacterClass",negative:!0,expressions:Ce},T)}],[17,3,function(ue,Ce,Ae,et,Ye,Pe){T=B(et,Pe),i=ce({type:"CharacterClass",expressions:Ce},T)}],[18,0,function(){T=null,i=[]}],[18,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[19,1,function(ue,Ce){T=B(Ce,Ce),i=[ue]}],[19,2,function(ue,Ce,Ae,et){T=B(Ae,et),i=[ue].concat(Ce)}],[19,4,function(ue,Ce,Ae,et,Ye,Pe,st,ut){T=B(Ye,ut),j(ue,Ae),i=[ce({type:"ClassRange",from:ue,to:Ae},ve(Ye,st))],et&&(i=i.concat(et))}],[20,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[20,2,function(ue,Ce,Ae,et){T=B(Ae,et),i=[ue].concat(Ce)}],[20,4,function(ue,Ce,Ae,et,Ye,Pe,st,ut){T=B(Ye,ut),j(ue,Ae),i=[ce({type:"ClassRange",from:ue,to:Ae},ve(Ye,st))],et&&(i=i.concat(et))}],[21,1,function(ue,Ce){T=B(Ce,Ce),i=de(ue,"simple",T)}],[21,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[22,1,function(ue,Ce){T=B(Ce,Ce),i=ue}],[22,1,function(ue,Ce){T=B(Ce,Ce),i=de(ue,"meta",T)}]],C={SLASH:"23",CHAR:"24",BAR:"25",BOS:"26",EOS:"27",ESC_b:"28",ESC_B:"29",POS_LA_ASSERT:"30",R_PAREN:"31",NEG_LA_ASSERT:"32",POS_LB_ASSERT:"33",NEG_LB_ASSERT:"34",ESC_CHAR:"35",U_CODE_SURROGATE:"36",U_CODE:"37",U_PROP_VALUE_EXP:"38",CTRL_CH:"39",HEX_CODE:"40",OCT_CODE:"41",DEC_CODE:"42",META_CHAR:"43",ANY:"44",NAMED_GROUP_REF:"45",Q_MARK:"46",STAR:"47",PLUS:"48",RANGE_EXACT:"49",RANGE_OPEN:"50",RANGE_CLOSED:"51",NAMED_CAPTURE_GROUP:"52",L_PAREN:"53",NON_CAPTURE_GROUP:"54",NEG_CLASS:"55",R_BRACKET:"56",L_BRACKET:"57",DASH:"58",$:"59"},b=[{0:1,23:"s2"},{59:"acc"},{3:3,4:4,5:5,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"s7"},{23:"r6",25:"s12"},{23:"r7",25:"r7",31:"r7"},{7:14,8:15,9:16,10:25,14:27,15:42,16:43,17:26,23:"r9",24:"s28",25:"r9",26:"s17",27:"s18",28:"s19",29:"s20",30:"s21",31:"r9",32:"s22",33:"s23",34:"s24",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",52:"s44",53:"s45",54:"s46",55:"s40",57:"s41"},{1:8,2:9,24:"s10",59:"r3"},{59:"r1"},{24:"s11",59:"r2"},{24:"r4",59:"r4"},{24:"r5",59:"r5"},{5:13,6:6,23:"r10",24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r8",25:"r8",31:"r8"},{23:"r11",24:"r11",25:"r11",26:"r11",27:"r11",28:"r11",29:"r11",30:"r11",31:"r11",32:"r11",33:"r11",34:"r11",35:"r11",36:"r11",37:"r11",38:"r11",39:"r11",40:"r11",41:"r11",42:"r11",43:"r11",44:"r11",45:"r11",52:"r11",53:"r11",54:"r11",55:"r11",57:"r11"},{23:"r12",24:"r12",25:"r12",26:"r12",27:"r12",28:"r12",29:"r12",30:"r12",31:"r12",32:"r12",33:"r12",34:"r12",35:"r12",36:"r12",37:"r12",38:"r12",39:"r12",40:"r12",41:"r12",42:"r12",43:"r12",44:"r12",45:"r12",52:"r12",53:"r12",54:"r12",55:"r12",57:"r12"},{11:47,12:48,13:49,23:"r38",24:"r38",25:"r38",26:"r38",27:"r38",28:"r38",29:"r38",30:"r38",31:"r38",32:"r38",33:"r38",34:"r38",35:"r38",36:"r38",37:"r38",38:"r38",39:"r38",40:"r38",41:"r38",42:"r38",43:"r38",44:"r38",45:"r38",46:"s52",47:"s50",48:"s51",49:"s53",50:"s54",51:"s55",52:"r38",53:"r38",54:"r38",55:"r38",57:"r38"},{23:"r14",24:"r14",25:"r14",26:"r14",27:"r14",28:"r14",29:"r14",30:"r14",31:"r14",32:"r14",33:"r14",34:"r14",35:"r14",36:"r14",37:"r14",38:"r14",39:"r14",40:"r14",41:"r14",42:"r14",43:"r14",44:"r14",45:"r14",52:"r14",53:"r14",54:"r14",55:"r14",57:"r14"},{23:"r15",24:"r15",25:"r15",26:"r15",27:"r15",28:"r15",29:"r15",30:"r15",31:"r15",32:"r15",33:"r15",34:"r15",35:"r15",36:"r15",37:"r15",38:"r15",39:"r15",40:"r15",41:"r15",42:"r15",43:"r15",44:"r15",45:"r15",52:"r15",53:"r15",54:"r15",55:"r15",57:"r15"},{23:"r16",24:"r16",25:"r16",26:"r16",27:"r16",28:"r16",29:"r16",30:"r16",31:"r16",32:"r16",33:"r16",34:"r16",35:"r16",36:"r16",37:"r16",38:"r16",39:"r16",40:"r16",41:"r16",42:"r16",43:"r16",44:"r16",45:"r16",52:"r16",53:"r16",54:"r16",55:"r16",57:"r16"},{23:"r17",24:"r17",25:"r17",26:"r17",27:"r17",28:"r17",29:"r17",30:"r17",31:"r17",32:"r17",33:"r17",34:"r17",35:"r17",36:"r17",37:"r17",38:"r17",39:"r17",40:"r17",41:"r17",42:"r17",43:"r17",44:"r17",45:"r17",52:"r17",53:"r17",54:"r17",55:"r17",57:"r17"},{4:57,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:59,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:61,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:63,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r22",24:"r22",25:"r22",26:"r22",27:"r22",28:"r22",29:"r22",30:"r22",31:"r22",32:"r22",33:"r22",34:"r22",35:"r22",36:"r22",37:"r22",38:"r22",39:"r22",40:"r22",41:"r22",42:"r22",43:"r22",44:"r22",45:"r22",46:"r22",47:"r22",48:"r22",49:"r22",50:"r22",51:"r22",52:"r22",53:"r22",54:"r22",55:"r22",57:"r22"},{23:"r23",24:"r23",25:"r23",26:"r23",27:"r23",28:"r23",29:"r23",30:"r23",31:"r23",32:"r23",33:"r23",34:"r23",35:"r23",36:"r23",37:"r23",38:"r23",39:"r23",40:"r23",41:"r23",42:"r23",43:"r23",44:"r23",45:"r23",46:"r23",47:"r23",48:"r23",49:"r23",50:"r23",51:"r23",52:"r23",53:"r23",54:"r23",55:"r23",57:"r23"},{23:"r24",24:"r24",25:"r24",26:"r24",27:"r24",28:"r24",29:"r24",30:"r24",31:"r24",32:"r24",33:"r24",34:"r24",35:"r24",36:"r24",37:"r24",38:"r24",39:"r24",40:"r24",41:"r24",42:"r24",43:"r24",44:"r24",45:"r24",46:"r24",47:"r24",48:"r24",49:"r24",50:"r24",51:"r24",52:"r24",53:"r24",54:"r24",55:"r24",57:"r24"},{23:"r25",24:"r25",25:"r25",26:"r25",27:"r25",28:"r25",29:"r25",30:"r25",31:"r25",32:"r25",33:"r25",34:"r25",35:"r25",36:"r25",37:"r25",38:"r25",39:"r25",40:"r25",41:"r25",42:"r25",43:"r25",44:"r25",45:"r25",46:"r25",47:"r25",48:"r25",49:"r25",50:"r25",51:"r25",52:"r25",53:"r25",54:"r25",55:"r25",56:"r25",57:"r25",58:"r25"},{23:"r26",24:"r26",25:"r26",26:"r26",27:"r26",28:"r26",29:"r26",30:"r26",31:"r26",32:"r26",33:"r26",34:"r26",35:"r26",36:"r26",37:"r26",38:"r26",39:"r26",40:"r26",41:"r26",42:"r26",43:"r26",44:"r26",45:"r26",46:"r26",47:"r26",48:"r26",49:"r26",50:"r26",51:"r26",52:"r26",53:"r26",54:"r26",55:"r26",56:"r26",57:"r26",58:"r26"},{23:"r27",24:"r27",25:"r27",26:"r27",27:"r27",28:"r27",29:"r27",30:"r27",31:"r27",32:"r27",33:"r27",34:"r27",35:"r27",36:"r27",37:"r27",38:"r27",39:"r27",40:"r27",41:"r27",42:"r27",43:"r27",44:"r27",45:"r27",46:"r27",47:"r27",48:"r27",49:"r27",50:"r27",51:"r27",52:"r27",53:"r27",54:"r27",55:"r27",56:"r27",57:"r27",58:"r27"},{23:"r28",24:"r28",25:"r28",26:"r28",27:"r28",28:"r28",29:"r28",30:"r28",31:"r28",32:"r28",33:"r28",34:"r28",35:"r28",36:"r28",37:"r28",38:"r28",39:"r28",40:"r28",41:"r28",42:"r28",43:"r28",44:"r28",45:"r28",46:"r28",47:"r28",48:"r28",49:"r28",50:"r28",51:"r28",52:"r28",53:"r28",54:"r28",55:"r28",56:"r28",57:"r28",58:"r28"},{23:"r29",24:"r29",25:"r29",26:"r29",27:"r29",28:"r29",29:"r29",30:"r29",31:"r29",32:"r29",33:"r29",34:"r29",35:"r29",36:"r29",37:"r29",38:"r29",39:"r29",40:"r29",41:"r29",42:"r29",43:"r29",44:"r29",45:"r29",46:"r29",47:"r29",48:"r29",49:"r29",50:"r29",51:"r29",52:"r29",53:"r29",54:"r29",55:"r29",56:"r29",57:"r29",58:"r29"},{23:"r30",24:"r30",25:"r30",26:"r30",27:"r30",28:"r30",29:"r30",30:"r30",31:"r30",32:"r30",33:"r30",34:"r30",35:"r30",36:"r30",37:"r30",38:"r30",39:"r30",40:"r30",41:"r30",42:"r30",43:"r30",44:"r30",45:"r30",46:"r30",47:"r30",48:"r30",49:"r30",50:"r30",51:"r30",52:"r30",53:"r30",54:"r30",55:"r30",56:"r30",57:"r30",58:"r30"},{23:"r31",24:"r31",25:"r31",26:"r31",27:"r31",28:"r31",29:"r31",30:"r31",31:"r31",32:"r31",33:"r31",34:"r31",35:"r31",36:"r31",37:"r31",38:"r31",39:"r31",40:"r31",41:"r31",42:"r31",43:"r31",44:"r31",45:"r31",46:"r31",47:"r31",48:"r31",49:"r31",50:"r31",51:"r31",52:"r31",53:"r31",54:"r31",55:"r31",56:"r31",57:"r31",58:"r31"},{23:"r32",24:"r32",25:"r32",26:"r32",27:"r32",28:"r32",29:"r32",30:"r32",31:"r32",32:"r32",33:"r32",34:"r32",35:"r32",36:"r32",37:"r32",38:"r32",39:"r32",40:"r32",41:"r32",42:"r32",43:"r32",44:"r32",45:"r32",46:"r32",47:"r32",48:"r32",49:"r32",50:"r32",51:"r32",52:"r32",53:"r32",54:"r32",55:"r32",56:"r32",57:"r32",58:"r32"},{23:"r33",24:"r33",25:"r33",26:"r33",27:"r33",28:"r33",29:"r33",30:"r33",31:"r33",32:"r33",33:"r33",34:"r33",35:"r33",36:"r33",37:"r33",38:"r33",39:"r33",40:"r33",41:"r33",42:"r33",43:"r33",44:"r33",45:"r33",46:"r33",47:"r33",48:"r33",49:"r33",50:"r33",51:"r33",52:"r33",53:"r33",54:"r33",55:"r33",56:"r33",57:"r33",58:"r33"},{23:"r34",24:"r34",25:"r34",26:"r34",27:"r34",28:"r34",29:"r34",30:"r34",31:"r34",32:"r34",33:"r34",34:"r34",35:"r34",36:"r34",37:"r34",38:"r34",39:"r34",40:"r34",41:"r34",42:"r34",43:"r34",44:"r34",45:"r34",46:"r34",47:"r34",48:"r34",49:"r34",50:"r34",51:"r34",52:"r34",53:"r34",54:"r34",55:"r34",56:"r34",57:"r34",58:"r34"},{23:"r35",24:"r35",25:"r35",26:"r35",27:"r35",28:"r35",29:"r35",30:"r35",31:"r35",32:"r35",33:"r35",34:"r35",35:"r35",36:"r35",37:"r35",38:"r35",39:"r35",40:"r35",41:"r35",42:"r35",43:"r35",44:"r35",45:"r35",46:"r35",47:"r35",48:"r35",49:"r35",50:"r35",51:"r35",52:"r35",53:"r35",54:"r35",55:"r35",56:"r35",57:"r35",58:"r35"},{23:"r36",24:"r36",25:"r36",26:"r36",27:"r36",28:"r36",29:"r36",30:"r36",31:"r36",32:"r36",33:"r36",34:"r36",35:"r36",36:"r36",37:"r36",38:"r36",39:"r36",40:"r36",41:"r36",42:"r36",43:"r36",44:"r36",45:"r36",46:"r36",47:"r36",48:"r36",49:"r36",50:"r36",51:"r36",52:"r36",53:"r36",54:"r36",55:"r36",56:"r36",57:"r36",58:"r36"},{10:70,18:65,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{10:70,18:83,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{23:"r47",24:"r47",25:"r47",26:"r47",27:"r47",28:"r47",29:"r47",30:"r47",31:"r47",32:"r47",33:"r47",34:"r47",35:"r47",36:"r47",37:"r47",38:"r47",39:"r47",40:"r47",41:"r47",42:"r47",43:"r47",44:"r47",45:"r47",46:"r47",47:"r47",48:"r47",49:"r47",50:"r47",51:"r47",52:"r47",53:"r47",54:"r47",55:"r47",57:"r47"},{23:"r48",24:"r48",25:"r48",26:"r48",27:"r48",28:"r48",29:"r48",30:"r48",31:"r48",32:"r48",33:"r48",34:"r48",35:"r48",36:"r48",37:"r48",38:"r48",39:"r48",40:"r48",41:"r48",42:"r48",43:"r48",44:"r48",45:"r48",46:"r48",47:"r48",48:"r48",49:"r48",50:"r48",51:"r48",52:"r48",53:"r48",54:"r48",55:"r48",57:"r48"},{4:85,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:87,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{4:89,5:5,6:6,24:"r10",25:"r10",26:"r10",27:"r10",28:"r10",29:"r10",30:"r10",31:"r10",32:"r10",33:"r10",34:"r10",35:"r10",36:"r10",37:"r10",38:"r10",39:"r10",40:"r10",41:"r10",42:"r10",43:"r10",44:"r10",45:"r10",52:"r10",53:"r10",54:"r10",55:"r10",57:"r10"},{23:"r13",24:"r13",25:"r13",26:"r13",27:"r13",28:"r13",29:"r13",30:"r13",31:"r13",32:"r13",33:"r13",34:"r13",35:"r13",36:"r13",37:"r13",38:"r13",39:"r13",40:"r13",41:"r13",42:"r13",43:"r13",44:"r13",45:"r13",52:"r13",53:"r13",54:"r13",55:"r13",57:"r13"},{23:"r37",24:"r37",25:"r37",26:"r37",27:"r37",28:"r37",29:"r37",30:"r37",31:"r37",32:"r37",33:"r37",34:"r37",35:"r37",36:"r37",37:"r37",38:"r37",39:"r37",40:"r37",41:"r37",42:"r37",43:"r37",44:"r37",45:"r37",52:"r37",53:"r37",54:"r37",55:"r37",57:"r37"},{23:"r39",24:"r39",25:"r39",26:"r39",27:"r39",28:"r39",29:"r39",30:"r39",31:"r39",32:"r39",33:"r39",34:"r39",35:"r39",36:"r39",37:"r39",38:"r39",39:"r39",40:"r39",41:"r39",42:"r39",43:"r39",44:"r39",45:"r39",46:"s56",52:"r39",53:"r39",54:"r39",55:"r39",57:"r39"},{23:"r41",24:"r41",25:"r41",26:"r41",27:"r41",28:"r41",29:"r41",30:"r41",31:"r41",32:"r41",33:"r41",34:"r41",35:"r41",36:"r41",37:"r41",38:"r41",39:"r41",40:"r41",41:"r41",42:"r41",43:"r41",44:"r41",45:"r41",46:"r41",52:"r41",53:"r41",54:"r41",55:"r41",57:"r41"},{23:"r42",24:"r42",25:"r42",26:"r42",27:"r42",28:"r42",29:"r42",30:"r42",31:"r42",32:"r42",33:"r42",34:"r42",35:"r42",36:"r42",37:"r42",38:"r42",39:"r42",40:"r42",41:"r42",42:"r42",43:"r42",44:"r42",45:"r42",46:"r42",52:"r42",53:"r42",54:"r42",55:"r42",57:"r42"},{23:"r43",24:"r43",25:"r43",26:"r43",27:"r43",28:"r43",29:"r43",30:"r43",31:"r43",32:"r43",33:"r43",34:"r43",35:"r43",36:"r43",37:"r43",38:"r43",39:"r43",40:"r43",41:"r43",42:"r43",43:"r43",44:"r43",45:"r43",46:"r43",52:"r43",53:"r43",54:"r43",55:"r43",57:"r43"},{23:"r44",24:"r44",25:"r44",26:"r44",27:"r44",28:"r44",29:"r44",30:"r44",31:"r44",32:"r44",33:"r44",34:"r44",35:"r44",36:"r44",37:"r44",38:"r44",39:"r44",40:"r44",41:"r44",42:"r44",43:"r44",44:"r44",45:"r44",46:"r44",52:"r44",53:"r44",54:"r44",55:"r44",57:"r44"},{23:"r45",24:"r45",25:"r45",26:"r45",27:"r45",28:"r45",29:"r45",30:"r45",31:"r45",32:"r45",33:"r45",34:"r45",35:"r45",36:"r45",37:"r45",38:"r45",39:"r45",40:"r45",41:"r45",42:"r45",43:"r45",44:"r45",45:"r45",46:"r45",52:"r45",53:"r45",54:"r45",55:"r45",57:"r45"},{23:"r46",24:"r46",25:"r46",26:"r46",27:"r46",28:"r46",29:"r46",30:"r46",31:"r46",32:"r46",33:"r46",34:"r46",35:"r46",36:"r46",37:"r46",38:"r46",39:"r46",40:"r46",41:"r46",42:"r46",43:"r46",44:"r46",45:"r46",46:"r46",52:"r46",53:"r46",54:"r46",55:"r46",57:"r46"},{23:"r40",24:"r40",25:"r40",26:"r40",27:"r40",28:"r40",29:"r40",30:"r40",31:"r40",32:"r40",33:"r40",34:"r40",35:"r40",36:"r40",37:"r40",38:"r40",39:"r40",40:"r40",41:"r40",42:"r40",43:"r40",44:"r40",45:"r40",52:"r40",53:"r40",54:"r40",55:"r40",57:"r40"},{25:"s12",31:"s58"},{23:"r18",24:"r18",25:"r18",26:"r18",27:"r18",28:"r18",29:"r18",30:"r18",31:"r18",32:"r18",33:"r18",34:"r18",35:"r18",36:"r18",37:"r18",38:"r18",39:"r18",40:"r18",41:"r18",42:"r18",43:"r18",44:"r18",45:"r18",52:"r18",53:"r18",54:"r18",55:"r18",57:"r18"},{25:"s12",31:"s60"},{23:"r19",24:"r19",25:"r19",26:"r19",27:"r19",28:"r19",29:"r19",30:"r19",31:"r19",32:"r19",33:"r19",34:"r19",35:"r19",36:"r19",37:"r19",38:"r19",39:"r19",40:"r19",41:"r19",42:"r19",43:"r19",44:"r19",45:"r19",52:"r19",53:"r19",54:"r19",55:"r19",57:"r19"},{25:"s12",31:"s62"},{23:"r20",24:"r20",25:"r20",26:"r20",27:"r20",28:"r20",29:"r20",30:"r20",31:"r20",32:"r20",33:"r20",34:"r20",35:"r20",36:"r20",37:"r20",38:"r20",39:"r20",40:"r20",41:"r20",42:"r20",43:"r20",44:"r20",45:"r20",52:"r20",53:"r20",54:"r20",55:"r20",57:"r20"},{25:"s12",31:"s64"},{23:"r21",24:"r21",25:"r21",26:"r21",27:"r21",28:"r21",29:"r21",30:"r21",31:"r21",32:"r21",33:"r21",34:"r21",35:"r21",36:"r21",37:"r21",38:"r21",39:"r21",40:"r21",41:"r21",42:"r21",43:"r21",44:"r21",45:"r21",52:"r21",53:"r21",54:"r21",55:"r21",57:"r21"},{56:"s72"},{56:"r55"},{10:70,20:73,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r56",58:"s74"},{24:"r62",28:"r62",35:"r62",36:"r62",37:"r62",38:"r62",39:"r62",40:"r62",41:"r62",42:"r62",43:"r62",44:"r62",45:"r62",56:"r62",58:"r62"},{24:"r63",28:"r63",35:"r63",36:"r63",37:"r63",38:"r63",39:"r63",40:"r63",41:"r63",42:"r63",43:"r63",44:"r63",45:"r63",56:"r63",58:"r63"},{24:"r64",28:"r64",35:"r64",36:"r64",37:"r64",38:"r64",39:"r64",40:"r64",41:"r64",42:"r64",43:"r64",44:"r64",45:"r64",56:"r64",58:"r64"},{24:"r65",28:"r65",35:"r65",36:"r65",37:"r65",38:"r65",39:"r65",40:"r65",41:"r65",42:"r65",43:"r65",44:"r65",45:"r65",56:"r65",58:"r65"},{23:"r52",24:"r52",25:"r52",26:"r52",27:"r52",28:"r52",29:"r52",30:"r52",31:"r52",32:"r52",33:"r52",34:"r52",35:"r52",36:"r52",37:"r52",38:"r52",39:"r52",40:"r52",41:"r52",42:"r52",43:"r52",44:"r52",45:"r52",46:"r52",47:"r52",48:"r52",49:"r52",50:"r52",51:"r52",52:"r52",53:"r52",54:"r52",55:"r52",57:"r52"},{56:"r57"},{10:70,21:77,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{56:"r59"},{10:70,20:79,21:75,22:76,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r63",58:"s80"},{10:70,18:78,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r58"},{56:"r60"},{10:70,21:81,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r62",58:"s68"},{10:70,18:82,19:66,21:67,22:69,24:"s28",28:"s71",35:"s29",36:"s30",37:"s31",38:"s32",39:"s33",40:"s34",41:"s35",42:"s36",43:"s37",44:"s38",45:"s39",56:"r54",58:"s68"},{56:"r61"},{56:"s84"},{23:"r53",24:"r53",25:"r53",26:"r53",27:"r53",28:"r53",29:"r53",30:"r53",31:"r53",32:"r53",33:"r53",34:"r53",35:"r53",36:"r53",37:"r53",38:"r53",39:"r53",40:"r53",41:"r53",42:"r53",43:"r53",44:"r53",45:"r53",46:"r53",47:"r53",48:"r53",49:"r53",50:"r53",51:"r53",52:"r53",53:"r53",54:"r53",55:"r53",57:"r53"},{25:"s12",31:"s86"},{23:"r49",24:"r49",25:"r49",26:"r49",27:"r49",28:"r49",29:"r49",30:"r49",31:"r49",32:"r49",33:"r49",34:"r49",35:"r49",36:"r49",37:"r49",38:"r49",39:"r49",40:"r49",41:"r49",42:"r49",43:"r49",44:"r49",45:"r49",46:"r49",47:"r49",48:"r49",49:"r49",50:"r49",51:"r49",52:"r49",53:"r49",54:"r49",55:"r49",57:"r49"},{25:"s12",31:"s88"},{23:"r50",24:"r50",25:"r50",26:"r50",27:"r50",28:"r50",29:"r50",30:"r50",31:"r50",32:"r50",33:"r50",34:"r50",35:"r50",36:"r50",37:"r50",38:"r50",39:"r50",40:"r50",41:"r50",42:"r50",43:"r50",44:"r50",45:"r50",46:"r50",47:"r50",48:"r50",49:"r50",50:"r50",51:"r50",52:"r50",53:"r50",54:"r50",55:"r50",57:"r50"},{25:"s12",31:"s90"},{23:"r51",24:"r51",25:"r51",26:"r51",27:"r51",28:"r51",29:"r51",30:"r51",31:"r51",32:"r51",33:"r51",34:"r51",35:"r51",36:"r51",37:"r51",38:"r51",39:"r51",40:"r51",41:"r51",42:"r51",43:"r51",44:"r51",45:"r51",46:"r51",47:"r51",48:"r51",49:"r51",50:"r51",51:"r51",52:"r51",53:"r51",54:"r51",55:"r51",57:"r51"}],x=[],f=void 0,E=[[/^#[^\n]+/,function(){}],[/^\s+/,function(){}],[/^-/,function(){return"DASH"}],[/^\//,function(){return"CHAR"}],[/^#/,function(){return"CHAR"}],[/^\|/,function(){return"CHAR"}],[/^\./,function(){return"CHAR"}],[/^\{/,function(){return"CHAR"}],[/^\{\d+\}/,function(){return"RANGE_EXACT"}],[/^\{\d+,\}/,function(){return"RANGE_OPEN"}],[/^\{\d+,\d+\}/,function(){return"RANGE_CLOSED"}],[/^\\k<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return le(Y.slice(3,-1),this.getCurrentState()),"NAMED_GROUP_REF"}],[/^\\b/,function(){return"ESC_b"}],[/^\\B/,function(){return"ESC_B"}],[/^\\c[a-zA-Z]/,function(){return"CTRL_CH"}],[/^\\0\d{1,2}/,function(){return"OCT_CODE"}],[/^\\0/,function(){return"DEC_CODE"}],[/^\\\d{1,3}/,function(){return"DEC_CODE"}],[/^\\u[dD][89abAB][0-9a-fA-F]{2}\\u[dD][c-fC-F][0-9a-fA-F]{2}/,function(){return"U_CODE_SURROGATE"}],[/^\\u\{[0-9a-fA-F]{1,}\}/,function(){return"U_CODE"}],[/^\\u[0-9a-fA-F]{4}/,function(){return"U_CODE"}],[/^\\[pP]\{\w+(?:=\w+)?\}/,function(){return"U_PROP_VALUE_EXP"}],[/^\\x[0-9a-fA-F]{2}/,function(){return"HEX_CODE"}],[/^\\[tnrdDsSwWvf]/,function(){return"META_CHAR"}],[/^\\\//,function(){return"ESC_CHAR"}],[/^\\[ #]/,function(){return"ESC_CHAR"}],[/^\\[\^\$\.\*\+\?\(\)\\\[\]\{\}\|\/]/,function(){return"ESC_CHAR"}],[/^\\[^*?+\[()\\|]/,function(){var ue=this.getCurrentState();if("u_class"===ue&&"\\-"===Y)return"ESC_CHAR";if("u"===ue||"xu"===ue||"u_class"===ue)throw new SyntaxError("invalid Unicode escape "+Y);return"ESC_CHAR"}],[/^\(/,function(){return"CHAR"}],[/^\)/,function(){return"CHAR"}],[/^\(\?=/,function(){return"POS_LA_ASSERT"}],[/^\(\?!/,function(){return"NEG_LA_ASSERT"}],[/^\(\?<=/,function(){return"POS_LB_ASSERT"}],[/^\(\?<!/,function(){return"NEG_LB_ASSERT"}],[/^\(\?:/,function(){return"NON_CAPTURE_GROUP"}],[/^\(\?<(([\u0041-\u005a\u0061-\u007a\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4-\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u09fc\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0af9\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60-\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0cf1-\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae-\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5-\u1cf6\u1cfa\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309b-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a-\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd-\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4-\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08-\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67-\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\}))(([\u0030-\u0039\u0041-\u005a\u005f\u0061-\u007a\u00aa\u00b5\u00b7\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376-\u0377\u037a-\u037d\u037f\u0386-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05ef-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u07fd\u0800-\u082d\u0840-\u085b\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u08d3-\u08e1\u08e3-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7-\u09c8\u09cb-\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e3\u09e6-\u09f1\u09fc\u09fe\u0a01-\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0af9-\u0aff\u0b01-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b5c-\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82-\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c58-\u0c5a\u0c60-\u0c63\u0c66-\u0c6f\u0c80-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1-\u0cf2\u0d00-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d54-\u0d57\u0d5f-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e86-\u0e8a\u0e8c-\u0ea3\u0ea5\u0ea7-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18-\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1369-\u1371\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772-\u1773\u1780-\u17d3\u17d7\u17dc-\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1878\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1cd0-\u1cd2\u1cd4-\u1cfa\u1d00-\u1df9\u1dfb-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2118-\u211d\u2124\u2126\u2128\u212a-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua7bf\ua7c2-\ua7c6\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c5\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua8fd-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab67\uab70-\uabea\uabec-\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2f\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]|\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c-\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udca0-\udca9\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37-\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4-\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe-\uddbf\ude00-\ude03\ude05-\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udd30-\udd39\udf00-\udf1c\udf27\udf30-\udf50\udfe0-\udff6]|\ud804[\udc00-\udc46\udc66-\udc6f\udc7f-\udcba\udcd0-\udce8\udcf0-\udcf9\udd00-\udd34\udd36-\udd3f\udd44-\udd46\udd50-\udd73\udd76\udd80-\uddc4\uddc9-\uddcc\uddd0-\uddda\udddc\ude00-\ude11\ude13-\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udeea\udef0-\udef9\udf00-\udf03\udf05-\udf0c\udf0f-\udf10\udf13-\udf28\udf2a-\udf30\udf32-\udf33\udf35-\udf39\udf3b-\udf44\udf47-\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc00-\udc4a\udc50-\udc59\udc5e-\udc5f\udc80-\udcc5\udcc7\udcd0-\udcd9\udd80-\uddb5\uddb8-\uddc0\uddd8-\udddd\ude00-\ude40\ude44\ude50-\ude59\ude80-\udeb8\udec0-\udec9\udf00-\udf1a\udf1d-\udf2b\udf30-\udf39]|\ud806[\udc00-\udc3a\udca0-\udce9\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udde1\udde3-\udde4\ude00-\ude3e\ude47\ude50-\ude99\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc40\udc50-\udc59\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08-\udd09\udd0b-\udd36\udd3a\udd3c-\udd3d\udd3f-\udd47\udd50-\udd59\udd60-\udd65\udd67-\udd68\udd6a-\udd8e\udd90-\udd91\udd93-\udd98\udda0-\udda9\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude60-\ude69\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf50-\udf59\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0-\udfe1\udfe3]|\ud81c[\udc00-\udfff]|\ud81d[\udc00-\udfff]|\ud81e[\udc00-\udfff]|\ud81f[\udc00-\udfff]|\ud820[\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d-\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e-\udc9f\udca2\udca5-\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb\udfce-\udfff]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23-\udc24\udc26-\udc2a\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udec0-\udef9]|\ud83a[\udc00-\udcc4\udcd0-\udcd6\udd00-\udd4b\udd50-\udd59]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21-\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51-\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61-\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud86f[\udc00-\udfff]|\ud870[\udc00-\udfff]|\ud871[\udc00-\udfff]|\ud872[\udc00-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud874[\udc00-\udfff]|\ud875[\udc00-\udfff]|\ud876[\udc00-\udfff]|\ud877[\udc00-\udfff]|\ud878[\udc00-\udfff]|\ud879[\udc00-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef])|[$_]|(\\u[0-9a-fA-F]{4}|\\u\{[0-9a-fA-F]{1,}\})|[\u200c\u200d])*>/,function(){return le(Y=Y.slice(3,-1),this.getCurrentState()),"NAMED_CAPTURE_GROUP"}],[/^\(/,function(){return"L_PAREN"}],[/^\)/,function(){return"R_PAREN"}],[/^[*?+[^$]/,function(){return"CHAR"}],[/^\\\]/,function(){return"ESC_CHAR"}],[/^\]/,function(){return this.popState(),"R_BRACKET"}],[/^\^/,function(){return"BOS"}],[/^\$/,function(){return"EOS"}],[/^\*/,function(){return"STAR"}],[/^\?/,function(){return"Q_MARK"}],[/^\+/,function(){return"PLUS"}],[/^\|/,function(){return"BAR"}],[/^\./,function(){return"ANY"}],[/^\//,function(){return"SLASH"}],[/^[^*?+\[()\\|]/,function(){return"CHAR"}],[/^\[\^/,function(){var ue=this.getCurrentState();return this.pushState("u"===ue||"xu"===ue?"u_class":"class"),"NEG_CLASS"}],[/^\[/,function(){var ue=this.getCurrentState();return this.pushState("u"===ue||"xu"===ue?"u_class":"class"),"L_BRACKET"}]],z={INITIAL:[8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u:[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],xu:[0,1,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],x:[0,1,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,30,31,32,33,34,35,36,37,41,42,43,44,45,46,47,48,49,50,51],u_class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],class:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,22,23,24,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]},L={type:"$",value:""};M.lexer=f={initString:function(Ce){return this._string=Ce,this._cursor=0,this._states=["INITIAL"],this._tokensQueue=[],this._currentLine=1,this._currentColumn=0,this._currentLineBeginOffset=0,this._tokenStartOffset=0,this._tokenEndOffset=0,this._tokenStartLine=1,this._tokenEndLine=1,this._tokenStartColumn=0,this._tokenEndColumn=0,this},getStates:function(){return this._states},getCurrentState:function(){return this._states[this._states.length-1]},pushState:function(Ce){this._states.push(Ce)},begin:function(Ce){this.pushState(Ce)},popState:function(){return this._states.length>1?this._states.pop():this._states[0]},getNextToken:function(){if(this._tokensQueue.length>0)return this.onToken(this._toToken(this._tokensQueue.shift()));if(!this.hasMoreTokens())return this.onToken(L);for(var Ce=this._string.slice(this._cursor),Ae=z[this.getCurrentState()],et=0;et<Ae.length;et++){var Pe=E[Ae[et]],st=this._match(Ce,Pe[0]);if(""===Ce&&""===st&&this._cursor++,null!==st){Y=st;var ut=Pe[1].call(this);if(!ut)return this.getNextToken();if(Array.isArray(ut)){var Se,nt=ut.slice(1);ut=ut[0],nt.length>0&&(Se=this._tokensQueue).unshift.apply(Se,g(nt))}return this.onToken(this._toToken(ut,Y))}}if(this.isEOF())return this._cursor++,L;this.throwUnexpectedToken(Ce[0],this._currentLine,this._currentColumn)},throwUnexpectedToken:function(Ce,Ae,et){var Ye=this._string.split("\n")[Ae-1],Pe="";throw Ye&&(Pe="\n\n"+Ye+"\n"+" ".repeat(et)+"^\n"),new SyntaxError(Pe+'Unexpected token: "'+Ce+'" at '+Ae+":"+et+".")},getCursor:function(){return this._cursor},getCurrentLine:function(){return this._currentLine},getCurrentColumn:function(){return this._currentColumn},_captureLocation:function(Ce){var Ae=/\n/g;this._tokenStartOffset=this._cursor,this._tokenStartLine=this._currentLine,this._tokenStartColumn=this._tokenStartOffset-this._currentLineBeginOffset;for(var et=void 0;null!==(et=Ae.exec(Ce));)this._currentLine++,this._currentLineBeginOffset=this._tokenStartOffset+et.index+1;this._tokenEndOffset=this._cursor+Ce.length,this._tokenEndLine=this._currentLine,this._tokenEndColumn=this._currentColumn=this._tokenEndOffset-this._currentLineBeginOffset},_toToken:function(Ce){var Ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:Ce,value:Ae,startOffset:this._tokenStartOffset,endOffset:this._tokenEndOffset,startLine:this._tokenStartLine,endLine:this._tokenEndLine,startColumn:this._tokenStartColumn,endColumn:this._tokenEndColumn}},isEOF:function(){return this._cursor===this._string.length},hasMoreTokens:function(){return this._cursor<=this._string.length},_match:function(Ce,Ae){var et=Ce.match(Ae);return et?(this._captureLocation(et[0]),this._cursor+=et[0].length,et[0]):null},onToken:function(Ce){return Ce}},M.tokenizer=f,M.options={captureLocations:!0};var N={setOptions:function(Ce){return M.options=Ce,this},getOptions:function(){return M.options},parse:function(Ce,Ae){if(!f)throw new Error("Tokenizer instance wasn't specified.");f.initString(Ce);var et=M.options;Ae&&(M.options=Object.assign({},M.options,Ae)),N.onParseBegin(Ce,f,M.options),x.length=0,x.push(0);var Ye=f.getNextToken(),Pe=null;do{Ye||(M.options=et,We());var st=x[x.length-1],ut=C[Ye.type];b[st].hasOwnProperty(ut)||(M.options=et,Ie(Ye));var nt=b[st][ut];if("s"===nt[0]){var Se=null;M.options.captureLocations&&(Se={startOffset:Ye.startOffset,endOffset:Ye.endOffset,startLine:Ye.startLine,endLine:Ye.endLine,startColumn:Ye.startColumn,endColumn:Ye.endColumn}),Pe=this.onShift(Ye),x.push({symbol:C[Pe.type],semanticValue:Pe.value,loc:Se},Number(nt.slice(1))),Ye=f.getNextToken()}else if("r"===nt[0]){var Ne=nt.slice(1),at=y[Ne],Ct="function"==typeof at[2],jt=Ct?[]:null,bn=Ct&&M.options.captureLocations?[]:null;if(0!==at[1])for(var mt=at[1];mt-- >0;){x.pop();var Ft=x.pop();Ct&&(jt.unshift(Ft.semanticValue),bn&&bn.unshift(Ft.loc))}var Wt={symbol:at[0]};if(Ct){Y=Pe?Pe.value:null;var zt=null!==bn?jt.concat(bn):jt;at[2].apply(at,g(zt)),Wt.semanticValue=i,bn&&(Wt.loc=T)}x.push(Wt,b[x[x.length-1]][at[0]])}else if("acc"===nt){x.pop();var Lt=x.pop();return(1!==x.length||0!==x[0]||f.hasMoreTokens())&&(M.options=et,Ie(Ye)),Lt.hasOwnProperty("semanticValue")?(M.options=et,N.onParseEnd(Lt.semanticValue),Lt.semanticValue):(N.onParseEnd(),M.options=et,!0)}}while(f.hasMoreTokens()||x.length>1)},setTokenizer:function(Ce){return f=Ce,N},getTokenizer:function(){return f},onParseBegin:function(Ce,Ae,et){},onParseEnd:function(Ce){},onShift:function(Ce){return Ce}},Z=0,O={},I="";function $(ue){var Ce=ue.match(/\d+/g).map(Number);if(Number.isFinite(Ce[1])&&Ce[1]<Ce[0])throw new SyntaxError("Numbers out of order in "+ue+" quantifier");return Ce}function j(ue,Ce){if("control"===ue.kind||"control"===Ce.kind||!isNaN(ue.codePoint)&&!isNaN(Ce.codePoint)&&ue.codePoint>Ce.codePoint)throw new SyntaxError("Range "+ue.value+"-"+Ce.value+" out of order in character class")}N.onParseBegin=function(ue,Ce){I=ue,Z=0,O={};var Ae=ue.lastIndexOf("/"),et=ue.slice(Ae);et.includes("x")&&et.includes("u")?Ce.pushState("xu"):(et.includes("x")&&Ce.pushState("x"),et.includes("u")&&Ce.pushState("u"))},N.onShift=function(ue){return("L_PAREN"===ue.type||"NAMED_CAPTURE_GROUP"===ue.type)&&(ue.value=new String(ue.value),ue.value.groupNumber=++Z),ue};var G=p(46801);function de(ue,Ce,Ae){var et=void 0,Ye=void 0;switch(Ce){case"decimal":Ye=Number(ue.slice(1)),et=String.fromCodePoint(Ye);break;case"oct":Ye=parseInt(ue.slice(1),8),et=String.fromCodePoint(Ye);break;case"hex":case"unicode":if(ue.lastIndexOf("\\u")>0){var st=function(Ce,Ae){if(Array.isArray(Ce))return Ce;if(Symbol.iterator in Object(Ce))return function(Ce,Ae){var et=[],Ye=!0,Pe=!1,st=void 0;try{for(var nt,ut=Ce[Symbol.iterator]();!(Ye=(nt=ut.next()).done)&&(et.push(nt.value),!Ae||et.length!==Ae);Ye=!0);}catch(Se){Pe=!0,st=Se}finally{try{!Ye&&ut.return&&ut.return()}finally{if(Pe)throw st}}return et}(Ce,Ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(ue.split("\\u").slice(1),2),ut=st[0],nt=st[1];Ye=1024*((ut=parseInt(ut,16))-55296)+((nt=parseInt(nt,16))-56320)+65536,et=String.fromCodePoint(Ye)}else{var Se=ue.slice(2).replace("{","");if((Ye=parseInt(Se,16))>1114111)throw new SyntaxError("Bad character escape sequence: "+ue);et=String.fromCodePoint(Ye)}break;case"meta":switch(ue){case"\\t":Ye=(et="\t").codePointAt(0);break;case"\\n":Ye=(et="\n").codePointAt(0);break;case"\\r":Ye=(et="\r").codePointAt(0);break;case"\\v":Ye=(et="\v").codePointAt(0);break;case"\\f":Ye=(et="\f").codePointAt(0);break;case"\\b":Ye=(et="\b").codePointAt(0);case"\\0":et="\0",Ye=0;case".":et=".",Ye=NaN;break;default:Ye=NaN}break;case"simple":Ye=(et=ue).codePointAt(0)}return ce({type:"Char",value:ue,kind:Ce,symbol:et,codePoint:Ye},Ae)}function pe(ue){var Ce=new Set,Ae=!0,et=!1,Ye=void 0;try{for(var st,Pe=ue[Symbol.iterator]();!(Ae=(st=Pe.next()).done);Ae=!0){var ut=st.value;if(Ce.has(ut)||!"gimsuxy".includes(ut))throw new SyntaxError("Invalid flags: "+ue);Ce.add(ut)}}catch(nt){et=!0,Ye=nt}finally{try{!Ae&&Pe.return&&Pe.return()}finally{if(et)throw Ye}}return ue.split("").sort().join("")}var ge=/^\\u[0-9a-fA-F]{4}/,Q=/^\\u\{[0-9a-fA-F]{1,}\}/,ee=/\\u\{[0-9a-fA-F]{1,}\}/;function le(ue,Ce){if(ee.test(ue)&&"u"!==Ce&&"xu"!==Ce&&"u_class"!==Ce)throw new SyntaxError('invalid group Unicode name "'+ue+'", use `u` flag.');return ue}var te=/\\u(?:([dD][89aAbB][0-9a-fA-F]{2})\\u([dD][c-fC-F][0-9a-fA-F]{2})|([dD][89aAbB][0-9a-fA-F]{2})|([dD][c-fC-F][0-9a-fA-F]{2})|([0-9a-ce-fA-CE-F][0-9a-fA-F]{3}|[dD][0-7][0-9a-fA-F]{2})|\{(0*(?:[0-9a-fA-F]{1,5}|10[0-9a-fA-F]{4}))\})/;function J(ue){return ue.replace(new RegExp(te,"g"),function(Ce,Ae,et,Ye,Pe,st,ut){return Ae?String.fromCodePoint(parseInt(Ae,16),parseInt(et,16)):Ye?String.fromCodePoint(parseInt(Ye,16)):Pe?String.fromCodePoint(parseInt(Pe,16)):st?String.fromCodePoint(parseInt(st,16)):ut?String.fromCodePoint(parseInt(ut,16)):Ce})}function ce(ue,Ce){return M.options.captureLocations&&(ue.loc={source:I.slice(Ce.startOffset,Ce.endOffset),start:{line:Ce.startLine,column:Ce.startColumn,offset:Ce.startOffset},end:{line:Ce.endLine,column:Ce.endColumn,offset:Ce.endOffset}}),ue}function ve(ue,Ce){return M.options.captureLocations?{startOffset:ue.startOffset,endOffset:Ce.endOffset,startLine:ue.startLine,endLine:Ce.endLine,startColumn:ue.startColumn,endColumn:Ce.endColumn}:null}function Ie(ue){"$"===ue.type&&We(),f.throwUnexpectedToken(ue.value,ue.startLine,ue.startColumn)}function We(){!function(ue){throw new SyntaxError("Unexpected end of input.")}()}Fe.exports=N},30525:(Fe,Ee,p)=>{var D=p(55776),g=D.parse.bind(D);D.parse=function(Y,W){return g(""+Y,W)},D.setOptions({captureLocations:!1}),Fe.exports=D},46801:Fe=>{var Ee={General_Category:"gc",Script:"sc",Script_Extensions:"scx"},p=T(Ee),D={ASCII:"ASCII",ASCII_Hex_Digit:"AHex",Alphabetic:"Alpha",Any:"Any",Assigned:"Assigned",Bidi_Control:"Bidi_C",Bidi_Mirrored:"Bidi_M",Case_Ignorable:"CI",Cased:"Cased",Changes_When_Casefolded:"CWCF",Changes_When_Casemapped:"CWCM",Changes_When_Lowercased:"CWL",Changes_When_NFKC_Casefolded:"CWKCF",Changes_When_Titlecased:"CWT",Changes_When_Uppercased:"CWU",Dash:"Dash",Default_Ignorable_Code_Point:"DI",Deprecated:"Dep",Diacritic:"Dia",Emoji:"Emoji",Emoji_Component:"Emoji_Component",Emoji_Modifier:"Emoji_Modifier",Emoji_Modifier_Base:"Emoji_Modifier_Base",Emoji_Presentation:"Emoji_Presentation",Extended_Pictographic:"Extended_Pictographic",Extender:"Ext",Grapheme_Base:"Gr_Base",Grapheme_Extend:"Gr_Ext",Hex_Digit:"Hex",IDS_Binary_Operator:"IDSB",IDS_Trinary_Operator:"IDST",ID_Continue:"IDC",ID_Start:"IDS",Ideographic:"Ideo",Join_Control:"Join_C",Logical_Order_Exception:"LOE",Lowercase:"Lower",Math:"Math",Noncharacter_Code_Point:"NChar",Pattern_Syntax:"Pat_Syn",Pattern_White_Space:"Pat_WS",Quotation_Mark:"QMark",Radical:"Radical",Regional_Indicator:"RI",Sentence_Terminal:"STerm",Soft_Dotted:"SD",Terminal_Punctuation:"Term",Unified_Ideograph:"UIdeo",Uppercase:"Upper",Variation_Selector:"VS",White_Space:"space",XID_Continue:"XIDC",XID_Start:"XIDS"},g=T(D),Y={Cased_Letter:"LC",Close_Punctuation:"Pe",Connector_Punctuation:"Pc",Control:["Cc","cntrl"],Currency_Symbol:"Sc",Dash_Punctuation:"Pd",Decimal_Number:["Nd","digit"],Enclosing_Mark:"Me",Final_Punctuation:"Pf",Format:"Cf",Initial_Punctuation:"Pi",Letter:"L",Letter_Number:"Nl",Line_Separator:"Zl",Lowercase_Letter:"Ll",Mark:["M","Combining_Mark"],Math_Symbol:"Sm",Modifier_Letter:"Lm",Modifier_Symbol:"Sk",Nonspacing_Mark:"Mn",Number:"N",Open_Punctuation:"Ps",Other:"C",Other_Letter:"Lo",Other_Number:"No",Other_Punctuation:"Po",Other_Symbol:"So",Paragraph_Separator:"Zp",Private_Use:"Co",Punctuation:["P","punct"],Separator:"Z",Space_Separator:"Zs",Spacing_Mark:"Mc",Surrogate:"Cs",Symbol:"S",Titlecase_Letter:"Lt",Unassigned:"Cn",Uppercase_Letter:"Lu"},W=T(Y),M={Adlam:"Adlm",Ahom:"Ahom",Anatolian_Hieroglyphs:"Hluw",Arabic:"Arab",Armenian:"Armn",Avestan:"Avst",Balinese:"Bali",Bamum:"Bamu",Bassa_Vah:"Bass",Batak:"Batk",Bengali:"Beng",Bhaiksuki:"Bhks",Bopomofo:"Bopo",Brahmi:"Brah",Braille:"Brai",Buginese:"Bugi",Buhid:"Buhd",Canadian_Aboriginal:"Cans",Carian:"Cari",Caucasian_Albanian:"Aghb",Chakma:"Cakm",Cham:"Cham",Cherokee:"Cher",Common:"Zyyy",Coptic:["Copt","Qaac"],Cuneiform:"Xsux",Cypriot:"Cprt",Cyrillic:"Cyrl",Deseret:"Dsrt",Devanagari:"Deva",Dogra:"Dogr",Duployan:"Dupl",Egyptian_Hieroglyphs:"Egyp",Elbasan:"Elba",Ethiopic:"Ethi",Georgian:"Geor",Glagolitic:"Glag",Gothic:"Goth",Grantha:"Gran",Greek:"Grek",Gujarati:"Gujr",Gunjala_Gondi:"Gong",Gurmukhi:"Guru",Han:"Hani",Hangul:"Hang",Hanifi_Rohingya:"Rohg",Hanunoo:"Hano",Hatran:"Hatr",Hebrew:"Hebr",Hiragana:"Hira",Imperial_Aramaic:"Armi",Inherited:["Zinh","Qaai"],Inscriptional_Pahlavi:"Phli",Inscriptional_Parthian:"Prti",Javanese:"Java",Kaithi:"Kthi",Kannada:"Knda",Katakana:"Kana",Kayah_Li:"Kali",Kharoshthi:"Khar",Khmer:"Khmr",Khojki:"Khoj",Khudawadi:"Sind",Lao:"Laoo",Latin:"Latn",Lepcha:"Lepc",Limbu:"Limb",Linear_A:"Lina",Linear_B:"Linb",Lisu:"Lisu",Lycian:"Lyci",Lydian:"Lydi",Mahajani:"Mahj",Makasar:"Maka",Malayalam:"Mlym",Mandaic:"Mand",Manichaean:"Mani",Marchen:"Marc",Medefaidrin:"Medf",Masaram_Gondi:"Gonm",Meetei_Mayek:"Mtei",Mende_Kikakui:"Mend",Meroitic_Cursive:"Merc",Meroitic_Hieroglyphs:"Mero",Miao:"Plrd",Modi:"Modi",Mongolian:"Mong",Mro:"Mroo",Multani:"Mult",Myanmar:"Mymr",Nabataean:"Nbat",New_Tai_Lue:"Talu",Newa:"Newa",Nko:"Nkoo",Nushu:"Nshu",Ogham:"Ogam",Ol_Chiki:"Olck",Old_Hungarian:"Hung",Old_Italic:"Ital",Old_North_Arabian:"Narb",Old_Permic:"Perm",Old_Persian:"Xpeo",Old_Sogdian:"Sogo",Old_South_Arabian:"Sarb",Old_Turkic:"Orkh",Oriya:"Orya",Osage:"Osge",Osmanya:"Osma",Pahawh_Hmong:"Hmng",Palmyrene:"Palm",Pau_Cin_Hau:"Pauc",Phags_Pa:"Phag",Phoenician:"Phnx",Psalter_Pahlavi:"Phlp",Rejang:"Rjng",Runic:"Runr",Samaritan:"Samr",Saurashtra:"Saur",Sharada:"Shrd",Shavian:"Shaw",Siddham:"Sidd",SignWriting:"Sgnw",Sinhala:"Sinh",Sogdian:"Sogd",Sora_Sompeng:"Sora",Soyombo:"Soyo",Sundanese:"Sund",Syloti_Nagri:"Sylo",Syriac:"Syrc",Tagalog:"Tglg",Tagbanwa:"Tagb",Tai_Le:"Tale",Tai_Tham:"Lana",Tai_Viet:"Tavt",Takri:"Takr",Tamil:"Taml",Tangut:"Tang",Telugu:"Telu",Thaana:"Thaa",Thai:"Thai",Tibetan:"Tibt",Tifinagh:"Tfng",Tirhuta:"Tirh",Ugaritic:"Ugar",Vai:"Vaii",Warang_Citi:"Wara",Yi:"Yiii",Zanabazar_Square:"Zanb"},i=T(M);function T(N){var Z={};for(var O in N)if(N.hasOwnProperty(O)){var I=N[O];if(Array.isArray(I))for(var $=0;$<I.length;$++)Z[I[$]]=O;else Z[I]=O}return Z}function x(N){return Y.hasOwnProperty(N)||W.hasOwnProperty(N)}function f(N){return M.hasOwnProperty(N)||i.hasOwnProperty(N)}Fe.exports={isAlias:function(N){return p.hasOwnProperty(N)||g.hasOwnProperty(N)},isValidName:function(N){return Ee.hasOwnProperty(N)||p.hasOwnProperty(N)||D.hasOwnProperty(N)||g.hasOwnProperty(N)},isValidValue:function(N,Z){return function(N){return"General_Category"===N||"gc"==N}(N)?x(Z):!!function(N){return"Script"===N||"Script_Extensions"===N||"sc"===N||"scx"===N}(N)&&f(Z)},isGeneralCategoryValue:x,isScriptCategoryValue:f,isBinaryPropertyName:function(N){return D.hasOwnProperty(N)||g.hasOwnProperty(N)},getCanonicalName:function(N){return p.hasOwnProperty(N)?p[N]:g.hasOwnProperty(N)?g[N]:null},getCanonicalValue:function(N){return W.hasOwnProperty(N)?W[N]:i.hasOwnProperty(N)?i[N]:g.hasOwnProperty(N)?g[N]:null},NON_BINARY_PROP_NAMES_TO_ALIASES:Ee,NON_BINARY_ALIASES_TO_PROP_NAMES:p,BINARY_PROP_NAMES_TO_ALIASES:D,BINARY_ALIASES_TO_PROP_NAMES:g,GENERAL_CATEGORY_VALUE_TO_ALIASES:Y,GENERAL_CATEGORY_VALUE_ALIASES_TO_VALUES:W,SCRIPT_VALUE_TO_ALIASES:M,SCRIPT_VALUE_ALIASES_TO_VALUE:i}},17512:(Fe,Ee,p)=>{var D=p(99833),g=p(35123),Y=p(30489),W=p(30525),M=p(86207),i=p(9958),T=p(38327),P=p(69137).RegExpTree;Fe.exports={parser:W,fa:T,TransformResult:M.TransformResult,parse:function(b,x){return W.parse(""+b,x)},traverse:function(b,x,f){return i.traverse(b,x,f)},transform:function(b,x){return M.transform(b,x)},generate:function(b){return g.generate(b)},toRegExp:function(b){var x=this.compatTranspile(b);return new RegExp(x.getSource(),x.getFlags())},optimize:function(b,x){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},E=f.blacklist;return Y.optimize(b,{whitelist:x,blacklist:E})},compatTranspile:function(b,x){return D.transform(b,x)},exec:function(b,x){if("string"==typeof b){var f=this.compatTranspile(b),E=f.getExtra();b=E.namedCapturingGroups?new P(f.toRegExp(),{flags:f.getFlags(),source:f.getSource(),groups:E.namedCapturingGroups}):f.toRegExp()}return b.exec(x)}}},86207:(Fe,Ee,p)=>{var D=function(){function T(B,P){for(var y=0;y<P.length;y++){var C=P[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(B,C.key,C)}}return function(B,P,y){return P&&T(B.prototype,P),y&&T(B,y),B}}();function g(T,B){if(!(T instanceof B))throw new TypeError("Cannot call a class as a function")}var Y=p(35123),W=p(30525),M=p(9958),i=function(){function T(B){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g(this,T),this._ast=B,this._source=null,this._string=null,this._regexp=null,this._extra=P}return D(T,[{key:"getAST",value:function(){return this._ast}},{key:"setExtra",value:function(P){this._extra=P}},{key:"getExtra",value:function(){return this._extra}},{key:"toRegExp",value:function(){return this._regexp||(this._regexp=new RegExp(this.getSource(),this._ast.flags)),this._regexp}},{key:"getSource",value:function(){return this._source||(this._source=Y.generate(this._ast.body)),this._source}},{key:"getFlags",value:function(){return this._ast.flags}},{key:"toString",value:function(){return this._string||(this._string=Y.generate(this._ast)),this._string}}]),T}();Fe.exports={TransformResult:i,transform:function(B,P){var y=B;return B instanceof RegExp&&(B=""+B),"string"==typeof B&&(y=W.parse(B,{captureLocations:!0})),M.traverse(y,P),new i(y)}}},63495:Fe=>{Fe.exports={disjunctionToList:function p(Y){if("Disjunction"!==Y.type)throw new TypeError('Expected "Disjunction" node, got "'+Y.type+'"');var W=[];return Y.left&&"Disjunction"===Y.left.type?W.push.apply(W,function(Y){if(Array.isArray(Y)){for(var W=0,M=Array(Y.length);W<Y.length;W++)M[W]=Y[W];return M}return Array.from(Y)}(p(Y.left)).concat([Y.right])):W.push(Y.left,Y.right),W},listToDisjunction:function(Y){return Y.reduce(function(W,M){return{type:"Disjunction",left:W,right:M}})},increaseQuantifierByOne:function(Y){"*"===Y.kind?Y.kind="+":"+"===Y.kind?(Y.kind="Range",Y.from=2,delete Y.to):"?"===Y.kind?(Y.kind="Range",Y.from=1,Y.to=2):"Range"===Y.kind&&(Y.from+=1,Y.to&&(Y.to+=1))}}},9958:(Fe,Ee,p)=>{var D=p(93027);function g(Y){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},M=W.pre,i=W.post,T=W.skipProperty;function B(P,y,C,b){if(P&&"string"==typeof P.type){var x=void 0;if(M&&(x=M(P,y,C,b)),!1!==x)for(var f in y&&y[C]&&(P=isNaN(b)?y[C]:y[C][b]),P)if(P.hasOwnProperty(f)){if(T?T(f,P):"$"===f[0])continue;var E=P[f];if(Array.isArray(E)){var z=0;for(D.traversingIndexStack.push(z);z<E.length;)B(E[z],P,f,z),z=D.updateTraversingIndex(1);D.traversingIndexStack.pop()}else B(E,P,f)}i&&i(P,y,C,b)}}B(Y,null)}Fe.exports={traverse:function(W,M){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{asNodes:!1};function T(B,P,y,C){var b=D.getForNode(P);return D.getForNode(B,b,y,C)}Array.isArray(M)||(M=[M]),M=M.filter(function(B){return"function"!=typeof B.shouldRun||B.shouldRun(W)}),D.initRegistry(),M.forEach(function(B){"function"==typeof B.init&&B.init(W)}),g(W,{pre:function(P,y,C,b){var x=void 0;i.asNodes||(x=T(P,y,C,b));var f=!0,E=!1,z=void 0;try{for(var N,L=M[Symbol.iterator]();!(f=(N=L.next()).done);f=!0){var Z=N.value;if("function"==typeof Z["*"])if(x){if(!x.isRemoved()&&!1===Z["*"](x))return!1}else Z["*"](P,y,C,b);var I=void 0;if("function"==typeof Z[P.type]?I=Z[P.type]:"object"==typeof Z[P.type]&&"function"==typeof Z[P.type].pre&&(I=Z[P.type].pre),I)if(x){if(!x.isRemoved()&&!1===I.call(Z,x))return!1}else I.call(Z,P,y,C,b)}}catch(j){E=!0,z=j}finally{try{!f&&L.return&&L.return()}finally{if(E)throw z}}},post:function(P,y,C,b){if(P){var x=void 0;i.asNodes||(x=T(P,y,C,b));var f=!0,E=!1,z=void 0;try{for(var N,L=M[Symbol.iterator]();!(f=(N=L.next()).done);f=!0){var Z=N.value,O=void 0;if("object"==typeof Z[P.type]&&"function"==typeof Z[P.type].post&&(O=Z[P.type].post),O)if(x){if(!x.isRemoved()&&!1===O.call(Z,x))return!1}else O.call(Z,P,y,C,b)}}catch($){E=!0,z=$}finally{try{!f&&L.return&&L.return()}finally{if(E)throw z}}}},skipProperty:function(P){return"loc"===P}})}}},93027:Fe=>{var Ee=function(){function M(i,T){for(var B=0;B<T.length;B++){var P=T[B];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(i,P.key,P)}}return function(i,T,B){return T&&M(i.prototype,T),B&&M(i,B),i}}();function p(M,i){if(!(M instanceof i))throw new TypeError("Cannot call a class as a function")}var D="expressions",g="expression",Y=function(){function M(i){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,M),this.node=i,this.parentPath=T,this.parent=T?T.node:null,this.property=B,this.index=P}return Ee(M,[{key:"_enforceProp",value:function(T){if(!this.node.hasOwnProperty(T))throw new Error("Node of type "+this.node.type+" doesn't have \""+T+'" collection.')}},{key:"setChild",value:function(T){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,y=void 0;return null!=B?(P||(P=D),this._enforceProp(P),this.node[P][B]=T,y=M.getForNode(T,this,P,B)):(P||(P=g),this._enforceProp(P),this.node[P]=T,y=M.getForNode(T,this,P,null)),y}},{key:"appendChild",value:function(T){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;B||(B=D),this._enforceProp(B);var P=this.node[B].length;return this.setChild(T,P,B)}},{key:"insertChildAt",value:function(T,B){var P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;this._enforceProp(P),this.node[P].splice(B,0,T),B<=M.getTraversingIndex()&&M.updateTraversingIndex(1),this._rebuildIndex(this.node,P)}},{key:"remove",value:function(){if(!this.isRemoved()&&(M.registry.delete(this.node),this.node=null,this.parent)){if(null!==this.index)return this.parent[this.property].splice(this.index,1),this.index<=M.getTraversingIndex()&&M.updateTraversingIndex(-1),this._rebuildIndex(this.parent,this.property),this.index=null,void(this.property=null);delete this.parent[this.property],this.property=null}}},{key:"_rebuildIndex",value:function(T,B){for(var P=M.getForNode(T),y=0;y<T[B].length;y++)M.getForNode(T[B][y],P,B,y).index=y}},{key:"isRemoved",value:function(){return null===this.node}},{key:"replace",value:function(T){return M.registry.delete(this.node),this.node=T,this.parent?(null!==this.index?this.parent[this.property][this.index]=T:this.parent[this.property]=T,M.getForNode(T,this.parentPath,this.property,this.index)):null}},{key:"update",value:function(T){Object.assign(this.node,T)}},{key:"getParent",value:function(){return this.parentPath}},{key:"getChild",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.node.expressions?M.getForNode(this.node.expressions[T],this,D,T):this.node.expression&&0==T?M.getForNode(this.node.expression,this,g):null}},{key:"hasEqualSource",value:function(T){return JSON.stringify(this.node,W)===JSON.stringify(T.node,W)}},{key:"jsonEncode",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},B=T.format,P=T.useLoc;return JSON.stringify(this.node,P?null:W,B)}},{key:"getPreviousSibling",value:function(){return this.parent&&null!=this.index?M.getForNode(this.parent[this.property][this.index-1],M.getForNode(this.parent),this.property,this.index-1):null}},{key:"getNextSibling",value:function(){return this.parent&&null!=this.index?M.getForNode(this.parent[this.property][this.index+1],M.getForNode(this.parent),this.property,this.index+1):null}}],[{key:"getForNode",value:function(T){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(!T)return null;M.registry.has(T)||M.registry.set(T,new M(T,B,P,-1==y?null:y));var C=M.registry.get(T);return null!==B&&(C.parentPath=B,C.parent=C.parentPath.node),null!==P&&(C.property=P),y>=0&&(C.index=y),C}},{key:"initRegistry",value:function(){M.registry||(M.registry=new Map),M.registry.clear()}},{key:"updateTraversingIndex",value:function(T){return M.traversingIndexStack[M.traversingIndexStack.length-1]+=T}},{key:"getTraversingIndex",value:function(){return M.traversingIndexStack[M.traversingIndexStack.length-1]}}]),M}();function W(M,i){if("loc"!==M)return i}Y.initRegistry(),Y.traversingIndexStack=[],Fe.exports=Y},42082:Fe=>{Fe.exports=function Ee(p){if(null===p||"object"!=typeof p)return p;var D=void 0;for(var g in D=Array.isArray(p)?[]:{},p)D[g]=Ee(p[g]);return D}},34038:(Fe,Ee,p)=>{Fe.exports=p(17512)},85692:(Fe,Ee,p)=>{p.d(Ee,{l:()=>P});var D=p(5711),g=p(63303),Y=p(35634),W=p(53542),M=p(62879),i=p(74580),T=p(83668),B=p(55106);let P=(()=>{class y extends((0,M.j)(W.A)){constructor(b,x){super(),this.overlay=b,this.viewContainerRef=x,this.overlayRef=null,this.closeMenu=()=>{this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)},this.openMenu=(f,E)=>{this.closeMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:f,y:E}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new D.UE(this.menuTemplate,this.viewContainerRef,{data:this.data})),(0,i.t)(this.overlayRef).pipe((0,g.q)(1),(0,Y.R)(this.destroyed$)).subscribe(this.closeMenu)},this.toggleMenu=(f,E)=>{this.overlayRef?this.closeMenu():this.openMenu(f,E)}}contextmenuListener(b){b.preventDefault(),b.stopPropagation(),this.openMenu(b.x,b.y)}ngOnDestroy(){super.ngOnDestroy(),this.closeMenu()}}return y.\u0275fac=function(b){return new(b||y)(T.Y36(B.aV),T.Y36(T.s_b))},y.\u0275dir=T.lG2({type:y,selectors:[["","appContextMenu",""]],hostBindings:function(b,x){1&b&&T.NdJ("contextmenu",function(E){return x.contextmenuListener(E)})},inputs:{menuTemplate:["appContextMenu","menuTemplate"],data:["appContextMenuData","data"]},exportAs:["appContextMenu"],features:[T.qOj]}),y})()},22570:(Fe,Ee,p)=>{p.r(Ee),p.d(Ee,{DefaultLayoutModule:()=>BI});var D=p(1869),g=p(15304),Y=p(53050),W=p(28167),M=p(10138),i=p(83668);let T=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[g.Is,Y.To,W.lN,M.c,D.I]]}),a})();var B=p(80888),P=p(76769);let y=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[D.I,B.QW,M.c,P.c]]}),a})();var C=p(85918),b=p(83530),x=p(16400);let f=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[g.Is,W.lN,M.c,x.LD,D.I]]}),a})(),E=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[D.I,b.Tx,f]]}),a})();var z=p(42663);let L=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[D.I,B.QW,M.c,z.ie]]}),a})();var N=p(67348),Z=p(44191);let O=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[],imports:[[N.vV,g.Is,Z.nm,D.I,C.m]]}),a})();var I=p(6731),$=p(47497),j=p(80348),G=p(45351),oe=p(49133),de=p(39555);const fe=["input"],pe=function(a){return{enterDuration:a}},ye=["*"],ge=new i.OlP("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let ee=0;const le={provide:oe.JU,useExisting:(0,i.Gpc)(()=>ce),multi:!0};class te{constructor(t,e){this.source=t,this.value=e}}const J=new i.OlP("MatRadioGroup");let re=(()=>{class a{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+ee++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new i.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,j.Ig)(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=(0,j.Ig)(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new te(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.sBO))},a.\u0275dir=i.lG2({type:a,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),a})(),ce=(()=>{class a extends re{}return a.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(a)))(n||a)}}(),a.\u0275dir=i.lG2({type:a,selectors:[["mat-radio-group"]],contentQueries:function(e,n,o){if(1&e&&i.Suo(o,Ue,5),2&e){let s;i.iGM(s=i.CRH())&&(n._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[i._Bn([le,{provide:J,useExisting:a}]),i.qOj]}),a})();class ve{constructor(t){this._elementRef=t}}const Ie=(0,I.Kr)((0,I.sb)(ve));let We=(()=>{class a extends Ie{constructor(e,n,o,s,d,m,R,U){super(n),this._changeDetector=o,this._focusMonitor=s,this._radioDispatcher=d,this._providerOverride=R,this._uniqueId="mat-radio-"+ ++ee,this.id=this._uniqueId,this.change=new i.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===m,U&&(this.tabIndex=(0,j.su)(U,0)),this._removeUniqueSelectionListener=d.listen((F,q)=>{F!==this.id&&q===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const n=(0,j.Ig)(e);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled((0,j.Ig)(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=(0,j.Ig)(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,n){n?this._focusMonitor.focusVia(this._inputElement,n,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new te(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}}return a.\u0275fac=function(e){i.$Z()},a.\u0275dir=i.lG2({type:a,viewQuery:function(e,n){if(1&e&&i.Gf(fe,5),2&e){let o;i.iGM(o=i.CRH())&&(n._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[i.qOj]}),a})(),Ue=(()=>{class a extends We{constructor(e,n,o,s,d,m,R,U){super(e,n,o,s,d,m,R,U)}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(J,8),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36($.tE),i.Y36(G.A8),i.Y36(de.Qb,8),i.Y36(ge,8),i.$8M("tabindex"))},a.\u0275cmp=i.Xpm({type:a,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,n){1&e&&i.NdJ("focus",function(){return n._inputElement.nativeElement.focus()}),2&e&&(i.uIk("tabindex",null)("id",n.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),i.ekj("mat-radio-checked",n.checked)("mat-radio-disabled",n.disabled)("_mat-animation-noopable",n._noopAnimations)("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[i.qOj],ngContentSelectors:ye,decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,n){if(1&e&&(i.F$t(),i.TgZ(0,"label",0,1),i.TgZ(2,"span",2),i._UZ(3,"span",3),i._UZ(4,"span",4),i.TgZ(5,"input",5,6),i.NdJ("change",function(s){return n._onInputInteraction(s)})("click",function(s){return n._onInputClick(s)}),i.qZA(),i.TgZ(7,"span",7),i._UZ(8,"span",8),i.qZA(),i.qZA(),i.TgZ(9,"span",9),i.TgZ(10,"span",10),i._uU(11,"\xa0"),i.qZA(),i.Hsn(12),i.qZA(),i.qZA()),2&e){const o=i.MAs(1);i.uIk("for",n.inputId),i.xp6(5),i.Q6J("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("tabIndex",n.tabIndex)("required",n.required),i.uIk("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),i.xp6(2),i.Q6J("matRippleTrigger",o)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",i.VKq(18,pe,n._noopAnimations?0:150)),i.xp6(2),i.ekj("mat-radio-label-before","before"==n.labelPosition)}},directives:[I.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),a})(),ue=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[I.si,I.BQ],I.BQ]}),a})(),Ce=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[N.vV,g.Is,W.lN,M.c,b.Tx,ue,D.I,f]]}),a})();var Ae=p(31818),et=p(61855),Ye=p(69814),Pe=p(52324),st=p(40452),ut=p(82429),nt=p(98771),Se=p(35634),Ne=p(7060),at=p(41510),Ct=p(72007),jt=p(59449);const bn={leading:!0,trailing:!1};class mn{constructor(t,e,n,o){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=o}call(t,e){return e.subscribe(new Ge(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Ge extends Ct.L{constructor(t,e,n,o,s){super(t),this.duration=e,this.scheduler=n,this.leading=o,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Lt,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Lt(a){const{subscriber:t}=a;t.clearThrottle()}var vt=p(63303),dn=p(62879),Ln=p(53542),sn=p(1653),hn=p(80032),_n=p(83664),rn=p(42155),Rt=p(60468),xi=p(42328),Yt=p(95332),He=p(5711),$e=p(93489),Xt=p(44496),pn=p(37810),ti=p(24778),bi=p(74314),Oi=p(23653);function Li(...a){return t=>{let e;return"function"==typeof a[a.length-1]&&(e=a.pop()),t.lift(new vi(a,e))}}class vi{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new xt(t,this.observables,this.project))}}class xt extends bi.L{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const o=e.length;this.values=new Array(o);for(let s=0;s<o;s++)this.toRespond.push(s);for(let s=0;s<o;s++)this.add((0,Oi.D)(this,e[s],void 0,s))}notifyNext(t,e,n){this.values[n]=e;const o=this.toRespond;if(o.length>0){const s=o.indexOf(n);-1!==s&&o.splice(s,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var St=p(30366),$t=p(24305),Fn=p(74580),kt=p(35956),Ve=p(28681),Je=p(55106),lt=p(5441),Et=p(43334),Vt=p(67254),Ut=p(83912),ln=p(81968);let Sn=(()=>{class a{constructor(){this.colorsByCommitId=new pn.X({}),this.commitDetailsByCommitId=new pn.X({})}getColors(){return this.colorsByCommitId.asObservable()}setColors(e){this.colorsByCommitId.next(e)}getCommits(){return this.commitDetailsByCommitId.asObservable()}setCommits(e){this.commitDetailsByCommitId.next(e)}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var qt=p(86019),Cn=p(59112),yn=p(90086),xn=p(51552);function gn(a,t){1&a&&(i.ynx(0),i._uU(1,"Loading..."),i.BQk())}function Pn(a,t){1&a&&(i.TgZ(0,"div",5),i.TgZ(1,"mat-icon",6),i._uU(2,"warning"),i.qZA(),i._uU(3," There are changes to the working copy that will be lost. "),i.qZA())}function kn(a,t){if(1&a&&(i.TgZ(0,"li",9),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("title",e.id),i.xp6(1),i.AsE(" ",e.message," - ",e.id," ")}}function jn(a,t){if(1&a&&(i.TgZ(0,"div",5),i.TgZ(1,"mat-icon",6),i._uU(2,"warning"),i.qZA(),i._uU(3," The following commits will no longer be reachable by any branch or tag and may be lost: "),i.TgZ(4,"ul",7),i.YNc(5,kn,2,3,"li",8),i.ALo(6,"async"),i.qZA(),i.qZA()),2&a){const e=i.oxw(2);i.xp6(5),i.Q6J("ngForOf",i.lcZ(6,1,e.atRiskCommits))}}function Qn(a,t){if(1&a&&(i.ynx(0),i.YNc(1,Pn,4,0,"div",4),i.ALo(2,"async"),i.YNc(3,jn,7,3,"div",4),i.ALo(4,"nullEmpty"),i.ALo(5,"async"),i.BQk()),2&a){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,2,e.workingCopyAtRisk)),i.xp6(2),i.Q6J("ngIf",i.lcZ(4,4,i.lcZ(5,6,e.atRiskCommits)))}}function gi(a,t){1&a&&(i.TgZ(0,"button",10),i._uU(1,"Cancel"),i.qZA()),2&a&&i.Q6J("mat-dialog-close",void 0)}function Mi(a,t){1&a&&(i.TgZ(0,"button",11),i._uU(1,"Confirm"),i.qZA()),2&a&&i.Q6J("mat-dialog-close",!0)}let Mn=(()=>{class a extends((0,dn.j)(Ln.A)){constructor(e,n,o){super(),this.data=e,this.dialogRef=n,this.graphSharedService=o,this.loading=!0,this.atRiskCommits=new pn.X([]),this.workingCopyAtRisk=new pn.X(!1)}ngOnInit(){this.graphSharedService.getCommits().pipe((0,Se.R)(this.destroyed$)).subscribe(e=>{const n=this.data.branchName.startsWith("refs/heads/")?this.data.branchName:`refs/heads/${this.data.branchName}`,o={...e},s=Object.values(e).filter(U=>U.commit.references.length>0&&U.commit.references.some(F=>F!==n)).map(U=>U.id);o.head&&delete o.head;const d=this.data.toCommitId?[...s,this.data.toCommitId]:s;let m=0;for(;m<d.length;){const U=d[m],F=o[U];F&&(delete o[U],d.push(...F.commit.parentIds)),m++}const R=Object.values(o).map(U=>U.commit);this.atRiskCommits.next(R),this.loading&&0===R.length&&!this.workingCopyAtRisk.value?setTimeout(()=>this.dialogRef.close(!0),0):this.loading=!1})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(g.WI),i.Y36(g.so),i.Y36(Sn))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i.qOj],decls:8,vars:5,consts:[["mat-dialog-title",""],[4,"ngIf"],["type","button","mat-button","",3,"mat-dialog-close",4,"ngIf"],["type","button","mat-button","","color","warn",3,"mat-dialog-close",4,"ngIf"],["class","text-block",4,"ngIf"],[1,"text-block"],[1,"warning-icon"],[1,"commit-list"],[3,"title",4,"ngFor","ngForOf"],[3,"title"],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(e,n){1&e&&(i.TgZ(0,"h2",0),i._uU(1),i.qZA(),i.TgZ(2,"mat-dialog-content"),i.YNc(3,gn,2,0,"ng-container",1),i.YNc(4,Qn,6,8,"ng-container",1),i.qZA(),i.TgZ(5,"mat-dialog-actions"),i.YNc(6,gi,2,1,"button",2),i.YNc(7,Mi,2,1,"button",3),i.qZA()),2&e&&(i.xp6(1),i.Oqu(n.data.title),i.xp6(2),i.Q6J("ngIf",n.loading),i.xp6(1),i.Q6J("ngIf",!n.loading),i.xp6(2),i.Q6J("ngIf",!n.loading),i.xp6(1),i.Q6J("ngIf",!n.loading))},directives:[g.uh,g.xY,qt.O5,g.H8,Cn.Hw,qt.sg,yn.lW,g.ZT],pipes:[qt.Ov,xn.x],styles:[".text-block[_ngcontent-%COMP%]{margin-bottom:10px}",".warning-icon[_ngcontent-%COMP%]{margin-right:5px}",".commit-list[_ngcontent-%COMP%]{list-style:inside;padding-left:20px;margin-top:10px;overflow-x:hidden}",".commit-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{height:26px;line-height:26px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:16px}"],changeDetection:0}),a})();var Pi=p(20373);let ri=(()=>{class a{constructor(e){this.data=e,this.form=new Xt.CN({name:new Xt.rV(null,Pi.Y$.required)})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(g.WI))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:13,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["type","text","matInput","","required","","formControlName","name"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close","disabled"]],template:function(e,n){1&e&&(i.TgZ(0,"h2",0),i._uU(1),i.qZA(),i.TgZ(2,"form",1),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"mat-form-field"),i.TgZ(5,"mat-label"),i._uU(6,"Name"),i.qZA(),i._UZ(7,"input",2),i.qZA(),i.qZA(),i.TgZ(8,"mat-dialog-actions"),i.TgZ(9,"button",3),i._uU(10,"Cancel"),i.qZA(),i.TgZ(11,"button",4),i._uU(12,"Save"),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(1),i.hij("Create ",n.data.title,""),i.xp6(1),i.Q6J("formGroup",n.form.ng),i.xp6(7),i.Q6J("mat-dialog-close",void 0),i.xp6(2),i.Q6J("mat-dialog-close",n.form.value)("disabled",n.form.invalid))},directives:[g.uh,oe._Y,oe.JL,oe.sg,g.xY,W.KE,W.hX,M.Nt,oe.Fj,oe.Q7,oe.JJ,oe.u,g.H8,yn.lW,g.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"],changeDetection:0}),a})(),mi=(()=>{class a{constructor(e){this.data=e,this.form=new Xt.CN({name:new Xt.rV(this.data.name,Pi.Y$.required)})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(g.WI))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:13,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["type","text","matInput","","required","","formControlName","name"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close","disabled"]],template:function(e,n){1&e&&(i.TgZ(0,"h2",0),i._uU(1),i.qZA(),i.TgZ(2,"form",1),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"mat-form-field"),i.TgZ(5,"mat-label"),i._uU(6,"Name"),i.qZA(),i._UZ(7,"input",2),i.qZA(),i.qZA(),i.TgZ(8,"mat-dialog-actions"),i.TgZ(9,"button",3),i._uU(10,"Cancel"),i.qZA(),i.TgZ(11,"button",4),i._uU(12,"Save"),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(1),i.hij("Rename ",n.data.title,""),i.xp6(1),i.Q6J("formGroup",n.form.ng),i.xp6(7),i.Q6J("mat-dialog-close",void 0),i.xp6(2),i.Q6J("mat-dialog-close",n.form.value.name)("disabled",n.form.invalid))},directives:[g.uh,oe._Y,oe.JL,oe.sg,g.xY,W.KE,W.hX,M.Nt,oe.Fj,oe.Q7,oe.JJ,oe.u,g.H8,yn.lW,g.ZT],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}"],changeDetection:0}),a})();var Dn=p(31387),pi=p(37791);let Di=(()=>{class a{constructor(e,n,o,s,d){this.dialog=e,this.store=n,this.commitsApi=o,this.repositoriesApi=s,this.submodulesApi=d,this.fetchFromRemote=(m,R)=>this.repositoriesApi.fetchAll(m,R).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m))),(0,Vt.K)(U=>Ut.Ay.matches(U)||Ut.T0.matches(U)||ln.OV.matches(U)?this.store.dispatch(new kt.NN("error",U.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,U))):this.raiseRefreshAndThrow(m,U))),this.push=(m,R,U,F,q=!1)=>(R?this.repositoriesApi.push(m,U,R,F,q):this.repositoriesApi.pushToAllRemotes(m,U,F,q)).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m))),(0,Vt.K)(_e=>Ut.Ay.matches(_e)||Ut.a9.matches(_e)||Ut.T0.matches(_e)?this.store.dispatch(new kt.NN("error",_e.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,_e))):this.raiseRefreshAndThrow(m,_e))),this.pull=(m,R,U,F)=>(R?this.repositoriesApi.fetch(m,R,U):this.repositoriesApi.fetchAll(m,U)).pipe((0,Ne.w)(()=>this.commitsApi.getBranchUpstreamCommitId(m,`refs/heads/${F}`)),(0,Ne.w)(q=>{if(q)return this.updateBranch(m,`refs/heads/${F}`,q);throw new ln.aK(F)}),(0,Vt.K)(q=>Ut.Ay.matches(q)||Ut.Nu.matches(q)||ln.aK.matches(q)||Ut.T0.matches(q)||ln.OV.matches(q)?this.store.dispatch(new kt.NN("error",q.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,q))):this.raiseRefreshAndThrow(m,q))),this.checkoutBranch=(m,R)=>this.repositoriesApi.checkoutBranch(m,R).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m))),(0,Vt.K)(U=>Ut.Nu.matches(U)?this.store.dispatch(new kt.NN("error",U.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,U))):this.raiseRefreshAndThrow(m,U))),this.createBranch=(m,R,U=!0)=>this.dialog.open(ri,{data:{title:"Branch"}}).afterClosed().pipe((0,Ne.w)(q=>q?this.repositoriesApi.createBranch(m,R,q.name).pipe((0,Ne.w)(()=>U?this.repositoriesApi.checkoutBranch(m,q.name):lt.E),(0,Vt.K)(_e=>ln.bG.matches(_e)?this.store.dispatch(new kt.NN("error",_e.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,_e))):Ut.Nu.matches(_e)?this.store.dispatch(new _n.Vu(m)):ln.OV.matches(_e)?this.store.dispatch(new kt.NN("error",_e.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,_e))):this.raiseRefreshAndThrow(m,_e)),(0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m)))):lt.E)),this.createBranchWithDetails=(m,R,U,F=null,q=!0)=>this.repositoriesApi.createBranch(m,R,U).pipe((0,Ne.w)(()=>q?this.repositoriesApi.checkoutBranch(m,U):lt.E),(0,Vt.K)(_e=>ln.bG.matches(_e)?this.store.dispatch(new kt.NN("error",_e.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,_e))):Ut.Nu.matches(_e)?this.store.dispatch(new _n.Vu(m)):ln.OV.matches(_e)?this.store.dispatch(new kt.NN("error",_e.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,_e))):this.raiseRefreshAndThrow(m,_e)),(0,Ne.w)(()=>F?this.repositoriesApi.setUpstreamBranch(m,U,F):lt.E),(0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m)))),this.createTag=(m,R,U="")=>this.dialog.open(ri,{data:{title:"Tag"}}).afterClosed().pipe((0,Ne.w)(q=>q?this.repositoriesApi.createTag(m,R,q.name,U).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m))),(0,Vt.K)(_e=>ln.OV.matches(_e)?this.store.dispatch(new kt.NN("error",_e.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,_e))):this.raiseRefreshAndThrow(m,_e))):lt.E)),this.renameBranch=(m,R)=>this.dialog.open(mi,{data:{title:"Branch",name:R}}).afterClosed().pipe((0,Ne.w)(F=>F?this.repositoriesApi.renameBranch(m,R,`refs/heads/${F}`).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m))),(0,Vt.K)(q=>ln.bG.matches(q)||ln.OV.matches(q)?this.store.dispatch(new kt.NN("error",q.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,q))):this.raiseRefreshAndThrow(m,q))):lt.E)),this.deleteBranch=(m,R)=>this.dialog.open(Mn,{data:{title:"Delete Branch",branchName:R,toCommitId:null}}).afterClosed().pipe((0,Ne.w)(F=>F?this.repositoriesApi.deleteBranch(m,R).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m))),(0,Vt.K)(q=>this.raiseRefreshAndThrow(m,q))):lt.E)),this.deleteTag=(m,R)=>this.repositoriesApi.deleteTag(m,R).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m))),(0,Vt.K)(U=>this.raiseRefreshAndThrow(m,U))),this.createMerge=(m,R,U,F)=>{const q=this.store.selectSnapshot(xi.$.selectedProfile);return this.repositoriesApi.createMerge(m,U,F,q?.name??null,q?.email??null,`merge: ${R??U} into ${F}`).pipe((0,Ne.w)(_e=>this.store.dispatch([new _n.Vu(m),"string"==typeof _e?new _n.jQ(m,_e):new Rt.hb(m,_e.fromCommitId,_e.toCommitId)])),(0,Vt.K)(_e=>Ut.Nu.matches(_e)?this.store.dispatch(new kt.NN("error",_e.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,_e))):this.raiseRefreshAndThrow(m,_e)))},this.commitMerge=(m,R,U,F,q)=>{const _e=this.store.selectSnapshot(xi.$.selectedProfile);return this.repositoriesApi.commitMerge(m,R,U,q,_e?.name??null,_e?.email??null,F).pipe((0,Ne.w)(De=>this.store.dispatch([new _n.Vu(m),new _n.jQ(m,De)])),(0,Vt.K)(De=>Ut.Nu.matches(De)?this.store.dispatch(new kt.NN("error",De.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,De))):this.raiseRefreshAndThrow(m,De)))},this.updateBranch=(m,R,U)=>this.dialog.open(Mn,{data:{title:"Move Branch",branchName:R,toCommitId:U}}).afterClosed().pipe((0,Ne.w)(q=>q?this.repositoriesApi.updateBranch(m,R,U).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m))),(0,Vt.K)(_e=>Ut.Nu.matches(_e)?this.store.dispatch(new kt.NN("error",_e.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,_e))):this.raiseRefreshAndThrow(m,_e))):lt.E)),this.setUpstreamBranch=(m,R,U)=>this.repositoriesApi.setUpstreamBranch(m,R,U).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m))),(0,Vt.K)(F=>this.raiseRefreshAndThrow(m,F))),this.startEdit=(m,R)=>this.commitsApi.startCommitEditing(m,R).pipe((0,Vt.K)(U=>Ut.Ao.matches(U)?this.store.dispatch(new kt.NN("error",`Tried to edit too many commits. ${U.message}`)).pipe((0,Ne.w)(()=>(0,Et._)(U))):ln.bk.matches(U)?this.store.dispatch(new kt.NN("error",U.message)).pipe((0,Ne.w)(()=>(0,Et._)(U))):this.raiseRefreshAndThrow(m,U))),this.discardEdit=m=>this.commitsApi.discardCommitEditing(m),this.revertCommit=(m,R)=>{const U=this.store.selectSnapshot(xi.$.selectedProfile);return this.commitsApi.revertCommit(m,R,U?.name??null,U?.email??null).pipe((0,Ne.w)(F=>this.store.dispatch([new _n.Vu(m),new _n.jQ(m,F)])),(0,Vt.K)(F=>Ut.fD.matches(F)||Ut.Nu.matches(F)?this.store.dispatch(new kt.NN("error",F.message)).pipe((0,Ne.w)(()=>(0,Et._)(F))):this.raiseRefreshAndThrow(m,F)))},this.undoHeadCommit=m=>this.commitsApi.undoHeadCommit(m).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.Vu(m))),(0,Vt.K)(R=>ln.OV.matches(R)?this.store.dispatch(new kt.NN("error",R.message)).pipe((0,Ne.w)(()=>(0,Et._)(R))):this.raiseRefreshAndThrow(m,R))),this.addSubmodule=(m,R,U,F)=>this.submodulesApi.addSubmodule(m,R,U,F).pipe((0,Ne.w)(q=>this.store.dispatch(new _n.Vu(m)).pipe((0,nt.U)(()=>q)))),this.editSubmodule=(m,R,U)=>this.submodulesApi.editSubmodule(m,R,U).pipe((0,Ne.w)(F=>this.store.dispatch(new _n.Vu(m)).pipe((0,nt.U)(()=>F))),(0,Vt.K)(F=>Ut.vV.matches(F)?this.store.dispatch(new kt.NN("error",F.message)).pipe((0,Ne.w)(()=>this.refreshAndThrow(m,F))):this.raiseRefreshAndThrow(m,F))),this.refreshAndThrow=(m,R)=>this.store.dispatch(new _n.Vu(m)).pipe((0,Ne.w)(()=>(0,Et._)(R))),this.raiseRefreshAndThrow=(m,R)=>this.store.dispatch([new kt.NN("unhandled",`${R}`),new _n.Vu(m)]).pipe((0,Ne.w)(()=>(0,Et._)(R)))}}return a.\u0275fac=function(e){return new(e||a)(i.LFG(g.uw),i.LFG(Pe.yh),i.LFG(Yt.T),i.LFG(Dn.a),i.LFG(pi.N))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:f}),(0,et.gn)([(0,Pe.Ph)(xi.$.selectedProfile)],a.prototype,"selectedProfile",void 0),a})(),Ci=(()=>{class a extends i.SBq{constructor(e){super(e.nativeElement)}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.SBq))},a.\u0275dir=i.lG2({type:a,selectors:[["","appElementRef",""]],exportAs:["appElementRef"],features:[i.qOj]}),a})();var Xi=p(88784);function Kn(a,t){if(1&a&&(i.TgZ(0,"mat-radio-button",34),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("value",e.name),i.xp6(1),i.Oqu(e.name)}}function Ui(a,t){if(1&a&&(i.TgZ(0,"div",32),i.TgZ(1,"mat-radio-group",33),i.TgZ(2,"mat-radio-button",34),i._uU(3,"All remotes"),i.qZA(),i.YNc(4,Kn,2,2,"mat-radio-button",35),i.qZA(),i.qZA()),2&a){const e=i.oxw(2).ngIf,n=i.oxw();i.xp6(1),i.Q6J("formControl",n.selectedRemoteControl.ng),i.xp6(1),i.Q6J("value",null),i.xp6(2),i.Q6J("ngForOf",e)}}function ao(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",26),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(3).pushBranch(s)}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(3);i.xp6(1),i.hij("Push ",n.getBranchName(e.name),"")}}function ni(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",23),i.YNc(1,Ui,5,3,"div",24),i.TgZ(2,"div",25),i.TgZ(3,"button",26),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).pushEverything()}),i.TgZ(4,"mat-icon"),i._uU(5,"public"),i.qZA(),i._uU(6,"Push everything"),i.qZA(),i.TgZ(7,"button",26),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).pushAllBranches()}),i._UZ(8,"mat-icon",27),i._uU(9,"Push all branches"),i.qZA(),i.TgZ(10,"button",26),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).pushAllTags()}),i.TgZ(11,"mat-icon"),i._uU(12,"label"),i.qZA(),i._uU(13,"Push all tags"),i.qZA(),i.TgZ(14,"button",28,29),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(15);i.oxw();const d=i.MAs(30);return i.oxw().openSubMenu(o,s,d)}),i.TgZ(16,"mat-icon"),i._uU(17,"warning_amber"),i.qZA(),i.TgZ(18,"span"),i._uU(19,"Force push"),i.qZA(),i.TgZ(20,"mat-icon",30),i._uU(21,"chevron_right"),i.qZA(),i.qZA(),i.YNc(22,ao,2,1,"button",31),i.ALo(23,"async"),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngIf",e.length>0),i.xp6(21),i.Q6J("ngForOf",i.lcZ(23,2,n.pushableBranches))}}function Co(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",26),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(3).pushBranch(s,!0)}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(3);i.xp6(1),i.Oqu(n.getBranchName(e.name))}}function Ei(a,t){if(1&a&&(i.TgZ(0,"div",36),i.YNc(1,Co,2,1,"button",31),i.ALo(2,"async"),i.qZA()),2&a){const e=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,e.pushableBranches))}}function Po(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",4),i.TgZ(1,"button",5),i.NdJ("click",function(){return i.CHM(e),i.oxw().fetchFromRemote()}),i.ALo(2,"async"),i.ALo(3,"plural"),i.TgZ(4,"mat-icon",6),i._uU(5,"autorenew"),i.qZA(),i.qZA(),i.TgZ(6,"button",5),i.NdJ("click",function(){return i.CHM(e),i.oxw().pullFromRemote()}),i.ALo(7,"async"),i.ALo(8,"async"),i.ALo(9,"async"),i.ALo(10,"async"),i.ALo(11,"async"),i.ALo(12,"async"),i.TgZ(13,"mat-icon",7),i._uU(14,"arrow_downward"),i.qZA(),i.qZA(),i.TgZ(15,"div",8),i.TgZ(16,"button",9),i.NdJ("click",function(){return i.CHM(e),i.oxw().pushCurrentBranch()}),i.ALo(17,"async"),i.ALo(18,"async"),i.ALo(19,"async"),i.TgZ(20,"mat-icon",10),i._uU(21,"arrow_upward"),i.qZA(),i.qZA(),i.TgZ(22,"button",11,12),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(23),d=i.MAs(28);return i.oxw().openMenu(o,s,d)}),i.ALo(24,"async"),i.TgZ(25,"mat-icon"),i._uU(26,"keyboard_arrow_down"),i.qZA(),i.qZA(),i.qZA(),i.YNc(27,ni,24,4,"ng-template",null,13,i.W1O),i.YNc(29,Ei,3,3,"ng-template",null,14,i.W1O),i.TgZ(31,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw().openTagDialog()}),i.ALo(32,"async"),i.ALo(33,"async"),i.TgZ(34,"mat-icon",16),i._uU(35,"label"),i.qZA(),i.qZA(),i.TgZ(36,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw().createBranch()}),i.ALo(37,"async"),i.ALo(38,"async"),i._UZ(39,"mat-icon",17),i.qZA(),i.TgZ(40,"button",15),i.NdJ("click",function(){return i.CHM(e),i.oxw().editCommits()}),i.ALo(41,"async"),i.ALo(42,"async"),i.TgZ(43,"mat-icon",18),i._uU(44,"create"),i.qZA(),i.qZA(),i.TgZ(45,"button",19),i.NdJ("click",function(){return i.CHM(e),i.oxw().openSearch()}),i.TgZ(46,"mat-icon",20),i._uU(47,"search"),i.qZA(),i.qZA(),i.TgZ(48,"button",21),i.NdJ("click",function(){return i.CHM(e),i.oxw().openSettings()}),i.TgZ(49,"mat-icon",22),i._uU(50,"miscellaneous_services"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw();i.xp6(1),i.Q6J("disabled",e.length<=0||i.lcZ(2,13,n.isLoading))("title",e.length<=0?"Cannot fetch when no remote is configured":i.xi3(3,15,"Fetch from remote",e.length)),i.xp6(5),i.Q6J("disabled",e.length<=0||i.lcZ(7,18,n.isLoading)||null===i.lcZ(8,20,n.currentUpstreamBranch))("title",e.length<=0?"Cannot pull when no remote is configured":null===i.lcZ(9,22,n.currentUpstreamBranch)?"Cannot pull when no upstream branch is configured for "+n.getBranchName(i.lcZ(10,24,n.currentBranch)):"Pull branch "+(n.getBranchName(i.lcZ(11,26,n.currentBranch))||"?")+" from "+n.getRemoteBranchName(i.lcZ(12,28,n.currentUpstreamBranch))),i.xp6(10),i.Q6J("disabled",e.length<=0||i.lcZ(17,30,n.isLoading))("title",e.length<=0?"Cannot push when no remote is configured":"Push "+(n.getBranchName(i.lcZ(18,32,n.currentBranch))||"?")+" to "+i.lcZ(19,34,n.selectedRemoteName)),i.xp6(6),i.Q6J("disabled",e.length<=0||i.lcZ(24,36,n.isLoading)),i.xp6(9),i.Q6J("title",i.lcZ(32,38,n.hideCreateButtons)?"Cannot create tag when no commit is selected":"Create Tag")("disabled",i.lcZ(33,40,n.hideCreateButtons)),i.xp6(5),i.Q6J("title",i.lcZ(37,42,n.hideCreateButtons)?"Cannot create branch when no commit is selected":"Create Branch")("disabled",i.lcZ(38,44,n.hideCreateButtons)),i.xp6(4),i.Q6J("title",i.lcZ(41,46,n.hideCreateButtons)?"Cannot edit commits when no commit is selected":"Rewrite the commit history from this point onwards")("disabled",i.lcZ(42,48,n.hideCreateButtons))}}let yo=(()=>{class a extends((0,dn.j)(Ln.A)){constructor(e,n,o,s,d){super(),this.router=e,this.overlay=n,this.viewContainerRef=o,this.store=s,this.repositoryActionsService=d,this.menuOverlayRef=new pn.X(null),this.subMenuOverlayRef=new pn.X(null),this.hideCreateButtons=this.store.select(rn.E.selectedCommitId).pipe((0,nt.U)(m=>!m||"head"===m)),this.selectedRemoteControl=new Xt.rV,this.selectedRemoteName=this.selectedRemote.pipe((0,nt.U)(m=>m??"all remotes"),(0,at.d)(1)),this.isLoading=new pn.X(!1),this.getBranchName=m=>m?.replace(/^refs\/heads\//,""),this.getRemoteBranchName=m=>m?.replace(/^refs\/remotes\//,""),this.openMenu=(m,R,U)=>{m.preventDefault(),m.stopPropagation(),this.closeMenu();const F=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(R).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.menuOverlayRef.next(F),F.attach(new He.UE(U,this.viewContainerRef)),(0,Fn.t)(F,!1).pipe((0,vt.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeMenu())},this.closeMenu=()=>{this.menuOverlayRef.value&&(this.menuOverlayRef.value.dispose(),this.menuOverlayRef.next(null))},this.openSubMenu=(m,R,U)=>{m.preventDefault(),m.stopPropagation(),this.closeSubMenu();const F=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(R).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(F),F.attach(new He.UE(U,this.viewContainerRef)),(0,Fn.t)(F).pipe((0,vt.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.toggleBranches=()=>{this.defaultLayoutSizes.pipe((0,vt.q)(1)).subscribe(m=>{this.store.dispatch(new Ve.ct("default-layout",["0"===m[0]||"0px"===m[0]||"0%"===m[0]?hn.q:"0px",...m.slice(1)]))})},this.fetchFromRemote=()=>{this.store.selectOnce(rn.E.selectedRepositoryPath).pipe(Li(this.selectedRepositoryCredentials),(0,Ne.w)(([m,R])=>{if(!m)throw new Error("Cannot fetch when no repository is selected.");return this.isLoading.next(!0),this.repositoryActionsService.fetchFromRemote(m,R)}),(0,St.x)(()=>{this.isLoading.next(!1)}),(0,Se.R)(this.destroyed$)).subscribe()},this.pullFromRemote=()=>{const m=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!m)throw new Error("Cannot pull when no repository is selected.");const R=this.store.selectSnapshot(rn.E.selectedRepositoryCredentials),U=this.store.selectSnapshot(rn.E.selectedRepositoryCurrentBranch);if(!U)throw new Error("Cannot pull when no branch is checked out.");const F=this.selectedRemoteControl.value;if(!F)throw this.store.dispatch(new kt.NN("error","Cannot pull from all remotes.")),new Error("Cannot pull from all remotes.");this.isLoading.next(!0),this.repositoryActionsService.pull(m,F,R,U.replace(/^refs\/heads\//,"")).pipe((0,St.x)(()=>{this.isLoading.next(!1)})).subscribe()},this.pushBranch=(m,R=!1)=>{this.push([m.name],R).subscribe(),this.closeMenu()},this.pushCurrentBranch=()=>{this.currentBranch.pipe((0,vt.q)(1)).subscribe(m=>{if(m){const R=this.selectedRemoteControl.value,U=this.store.selectSnapshot(rn.E.selectedRepositoryCurrentBranchUpstreamBranch);this.push([m]).pipe((0,$t.b)(()=>{if(!U&&R){const F=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!F)throw new Error("Cannot set upstream branch when no repository is selected.");const q=m.replace(/^refs\/heads\//,"");this.repositoryActionsService.setUpstreamBranch(F,q,`${R}/${q}`).subscribe()}})).subscribe()}else this.store.dispatch(new kt.NN("error","Cannot push current branch when not on a branch"))}),this.closeMenu()},this.pushEverything=(m=!1)=>{(0,st.aj)([this.pushableBranches,this.tags]).pipe((0,vt.q)(1)).subscribe(([R,U])=>{const F=[...R,...U??[]];0===F.length&&this.store.dispatch(new kt.NN("warn","There are no branches or tags to push")),this.push(F.map(q=>q.name),m).subscribe(),this.closeMenu()})},this.pushAllBranches=(m=!1)=>{this.pushableBranches.pipe((0,vt.q)(1)).subscribe(R=>{0===R.length&&this.store.dispatch(new kt.NN("warn","There are no branches to push")),this.push(R.map(U=>U.name),m).subscribe(),this.closeMenu()})},this.pushAllTags=(m=!1)=>{this.tags.pipe((0,vt.q)(1)).subscribe(R=>{R||this.store.dispatch(new kt.NN("warn","There are no tags to push")),this.push((R??[]).map(U=>U.name),m).subscribe(),this.closeMenu()})},this.push=(m,R=!1)=>this.store.selectOnce(rn.E.selectedRepositoryPath).pipe(Li(this.selectedRepositoryCredentials),(0,Ne.w)(([U,F])=>{if(!U)throw new Error("Cannot push when no repository is selected.");return this.isLoading.next(!0),this.repositoryActionsService.push(U,this.selectedRemoteControl.value,F,m,R)}),(0,St.x)(()=>{this.isLoading.next(!1)}),(0,Se.R)(this.destroyed$)),this.openTagDialog=()=>{const m=this.store.selectSnapshot(rn.E.selectedRepositoryPath),R=this.store.selectSnapshot(rn.E.selectedCommitId);if(!m)throw new Error("Cannot create tag when no repository is selected.");if(!R)throw new Error("Cannot create tag when no commit is selected.");this.repositoryActionsService.createTag(m,R).subscribe()},this.createBranch=()=>{(0,ti.D)([this.store.selectOnce(rn.E.selectedRepositoryPath),this.store.selectOnce(rn.E.selectedCommitId)]).pipe((0,Ne.w)(([m,R])=>{if(!m)throw new Error("Cannot create branch when no repository is selected.");if(!R)throw new Error("Cannot create branch when no commit is selected.");return this.repositoryActionsService.createBranch(m,R)})).subscribe()},this.createMerge=()=>{},this.editCommits=()=>{(0,ti.D)([this.store.selectOnce(rn.E.selectedRepositoryPath),this.store.selectOnce(rn.E.selectedCommitId)]).pipe((0,Ne.w)(([m,R])=>{if(!m)throw new Error("Cannot edit commits when no repository is selected.");if(!R)throw new Error("Cannot edit commits when no commit is selected.");return this.repositoryActionsService.startEdit(m,R).pipe((0,Ne.w)(()=>this.router.navigate(["/standard/rebase"])))})).subscribe()},this.openSearch=()=>{this.router.navigate(["/standard/search"])},this.openSettings=()=>{this.store.selectOnce(rn.E.selectedRepositoryPath).subscribe(m=>{this.router.navigate(["/settings/repositories"],{queryParams:{id:m}})})}}ngOnInit(){this.selectedRemote.pipe((0,Se.R)(this.destroyed$)).subscribe(e=>{this.selectedRemoteControl.setValue(e,{emitEvent:!1})}),this.branchesVisible=this.defaultLayoutSizes.pipe((0,nt.U)(e=>"0"!==e[0]&&"0px"!==e[0]&&"0%"!==e[0])),this.selectedRemoteControl.valueChanges.pipe(Li(this.store.select(rn.E.selectedRepositoryPath)),(0,Se.R)(this.destroyed$)).subscribe(([e,n])=>{if(!n)throw new Error("Cannot change default remote when no repository is selected.");this.store.dispatch(new _n.J2(n,e))}),this.pushableBranches=(0,st.aj)([this.localBranches,this.remoteBranches,this.selectedRemote]).pipe((0,nt.U)(([e,n,o])=>{const s=o?(n??[]).filter(m=>m.name.startsWith(`refs/remotes/${o}/`)):n,d=(0,$e.Z)(s,m=>m.name.replace(/^refs\/remotes\/[^\/]*\//,""));return(e??[]).filter(m=>{const R=/^refs\/heads\/(.*)$/.exec(m.name)?.[1];return R&&(!d[R]||d[R].some(U=>U.target!==m.target))})}),(0,at.d)(1))}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Ae.F0),i.Y36(Je.aV),i.Y36(i.s_b),i.Y36(Pe.yh),i.Y36(Di))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-repository-action-view"]],features:[i.qOj],decls:8,vars:9,consts:[[1,"items","items-left"],["type","button","mat-stroked-button","",1,"item",3,"title","click"],[1,"branches-icon"],["class","items",4,"ngIf"],[1,"items"],["type","button","mat-stroked-button","",1,"item",3,"disabled","title","click"],[1,"fetch-icon"],[1,"pull-icon"],[1,"split-button","item"],["type","button","mat-stroked-button","",3,"disabled","title","click"],[1,"push-icon"],["type","button","mat-stroked-button","","appElementRef","",3,"disabled","click"],["pushMenuBtn","appElementRef"],["pushMenu",""],["forcePushMenu",""],["mat-stroked-button","",1,"item",3,"title","disabled","click"],[1,"tag-icon"],["svgIcon","source-branch",1,"branch-icon"],[1,"edit-icon"],["mat-stroked-button","","title","Search",1,"item",3,"click"],[1,"search-icon"],["mat-stroked-button","","title","Repository Settings",1,"item",3,"click"],[1,"settings-icon"],[1,"push-menu"],["class","remotes",4,"ngIf"],[1,"branches"],[1,"menu-item",3,"click"],["svgIcon","source-branch"],["title","Warning: this can cause commits on the remote to become lost","appElementRef","",1,"menu-item","warn",3,"click"],["forcePushMenuBtn","appElementRef"],[1,"expand-icon"],["class","menu-item",3,"click",4,"ngFor","ngForOf"],[1,"remotes"],[3,"formControl"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["title","Warning: this can cause commits on the remote to become lost",1,"force-push-menu"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"button",1),i.NdJ("click",function(){return n.toggleBranches()}),i.ALo(2,"async"),i.TgZ(3,"mat-icon",2),i._uU(4),i.ALo(5,"async"),i.qZA(),i.qZA(),i.qZA(),i.YNc(6,Po,51,50,"div",3),i.ALo(7,"async")),2&e&&(i.xp6(1),i.Q6J("title",i.lcZ(2,3,n.branchesVisible)?"Hide branches":"Show branches"),i.xp6(3),i.Oqu(i.lcZ(5,5,n.branchesVisible)?"unfold_less":"unfold_more"),i.xp6(2),i.Q6J("ngIf",i.lcZ(7,7,n.remotes)))},directives:[yn.lW,Cn.Hw,qt.O5,Ci,qt.sg,ce,oe.JJ,oe.oH,Ue],pipes:[qt.Ov,Xi.r],styles:["[_nghost-%COMP%]{position:relative;display:block}.items-left[_ngcontent-%COMP%]{position:absolute;left:0;top:0;padding:0 10px}.items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.item[_ngcontent-%COMP%]{cursor:pointer;font-size:0;margin-right:5px;min-width:45px;padding:0 10px}.item[_ngcontent-%COMP%]:last-child{margin-right:0}.branches-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.split-button[_ngcontent-%COMP%]{padding:0}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border-radius:0;font-size:0}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px;padding:0 2px;min-width:10px}.split-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(:last-child){border-right:none;margin-right:0;min-width:45px;padding:0 10px}.push-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto;display:flex;max-width:400px}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.push-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.push-menu[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;overflow-x:hidden}.push-menu[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]   .warn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:not(.expand-icon){color:#e57373;margin-right:10px}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]{padding:15px}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.push-menu[_ngcontent-%COMP%]   .remotes[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-bottom:10px}.force-push-menu[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.force-push-menu[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.force-push-menu[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.force-push-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.force-push-menu.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}"],changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryCredentials)],a.prototype,"selectedRepositoryCredentials",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRemotes)],a.prototype,"remotes",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRemote)],a.prototype,"selectedRemote",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryLocalBranches)],a.prototype,"localBranches",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryRemoteBranches)],a.prototype,"remoteBranches",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryTags)],a.prototype,"tags",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryCurrentBranch)],a.prototype,"currentBranch",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryCurrentBranchUpstreamBranch)],a.prototype,"currentUpstreamBranch",void 0),(0,et.gn)([(0,Pe.Ph)(xi.$.gridSizes("default-layout"))],a.prototype,"defaultLayoutSizes",void 0),a})();var fo=p(6939),Io=p(33116),oo=p(10257),ko=p(748),Ts=p(7765);const Go=function(a,t,e,n){return null==a?[]:((0,Ts.Z)(t)||(t=null==t?[]:[t]),(0,Ts.Z)(e=n?void 0:e)||(e=null==e?[]:[e]),(0,ko.Z)(a,t,e))};var Ss=p(4998),xs=p(27807),As=p(65944),es=p(85148),lo=p(91979),Js=p(10688),Ao=p(50439),Ro=p(54140),So=p(46656),dr=p(21934),Sr=p(73967),Qo=p(66196),Xs=p(13358),Vo=p(16702),Cs=p(85339);function ur(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"mat-icon",9),i.NdJ("contextmenu",function(o){const d=i.CHM(e).$implicit,m=i.oxw().$implicit;return i.oxw(2).contextMenuClicked(o,m,d)})("dblclick",function(o){const d=i.CHM(e).$implicit,m=i.oxw().$implicit;return i.oxw(2).dblClicked(o,m,d)}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit;i.Q6J("title",e.name),i.xp6(1),i.Oqu(e.icon)}}function Sa(a,t){1&a&&(i.TgZ(0,"span",10),i.TgZ(1,"mat-icon"),i._uU(2,"expand_more"),i.qZA(),i.qZA())}function ji(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",4),i.NdJ("contextmenu",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).contextMenuClicked(o,d)})("dblclick",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).dblClicked(o,d)}),i.TgZ(1,"span",5),i.YNc(2,ur,2,2,"mat-icon",6),i.qZA(),i.TgZ(3,"span",7),i.ALo(4,"async"),i._uU(5),i.qZA(),i.YNc(6,Sa,3,0,"span",8),i.qZA()}if(2&a){const e=t.$implicit,n=t.first,o=i.oxw(2);i.Q6J("ngClass","color-"+o.color),i.xp6(1),i.Q6J("ngClass","color-"+o.color),i.xp6(1),i.Q6J("ngForOf",e.sources)("ngForTrackBy",o.trackBranchSource),i.xp6(1),i.ekj("current",o.branchMatches(i.lcZ(4,9,o.currentBranch),e)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name),i.xp6(1),i.Q6J("ngIf",n&&(o.branches.length>1||o.branches[0].sources.length>2))}}function Lo(a,t){if(1&a&&(i.TgZ(0,"ul",2),i.YNc(1,ji,7,11,"li",3),i.qZA()),2&a){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.branches)("ngForTrackBy",e.trackBranch)}}function Rs(a,t){if(1&a&&(i.TgZ(0,"mat-icon"),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.xp6(1),i.Oqu(e.icon)}}function qs(a,t){1&a&&(i.TgZ(0,"span",10),i.TgZ(1,"mat-icon"),i._uU(2,"expand_more"),i.qZA(),i.qZA())}function bl(a,t){if(1&a&&(i.TgZ(0,"div",11),i.TgZ(1,"span",12),i.YNc(2,Rs,2,1,"mat-icon",13),i.qZA(),i.TgZ(3,"span",14),i._uU(4),i.qZA(),i.YNc(5,qs,3,0,"span",8),i.qZA()),2&a){const e=t.ngIf,n=i.oxw();i.xp6(2),i.Q6J("ngForOf",e.sources)("ngForTrackBy",n.trackBranchSource),i.xp6(2),i.Oqu(e.name),i.xp6(1),i.Q6J("ngIf",n.branches.length>1||n.branches[0].sources.length>2)}}let yt=(()=>{class a{constructor(e,n,o){this.cdr=e,this.store=n,this.repositoryActionsService=o,this.contextMenu=new i.vpe,this.branchMatches=(s,d)=>d.sources.some(m=>"local"===m.type)&&`refs/heads/${d.name}`===s,this.contextMenuClicked=(s,d,m)=>{this.contextMenu.next({event:s,branch:d,source:m})},this.dblClicked=(s,d,m)=>{s.preventDefault(),s.stopPropagation();const R=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(R)if("local"===m?.type||!m&&d.sources.some(U=>"local"===U.type))this.repositoryActionsService.checkoutBranch(R,`refs/heads/${d.name}`).subscribe();else if("remote"===m?.type||!m&&d.sources.some(U=>"remote"===U.type)){const U=m?.name??d.sources.find(_e=>"remote"===_e.type)?.name;if(this.store.selectSnapshot(rn.E.selectedRepositoryLocalBranches)?.find(_e=>_e.name===`refs/heads/${d.name}`))this.repositoryActionsService.checkoutBranch(R,`refs/heads/${d.name}`).subscribe();else{const De=this.store.selectSnapshot(rn.E.selectedRepositoryRemoteBranches)?.find(Ke=>Ke.name===`refs/remotes/${U}/${d.name}`);De&&this.repositoryActionsService.createBranchWithDetails(R,De.target,d.name,`${U}/${d.name}`,!0).subscribe()}}},this.trackBranch=(s,d)=>d.name+d.sources.reduce((m,R,U)=>`${m},${this.trackBranchSource(U,R)}`,""),this.trackBranchSource=(s,d)=>`${d.type}:${d.name}`}ngOnChanges(e){!e.branches||!e.branches.currentValue||this.cdr.detectChanges()}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.sBO),i.Y36(Pe.yh),i.Y36(Di))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-branches"]],inputs:{branches:"branches",color:"color"},outputs:{contextMenu:"contextMenu"},features:[i.TTD],decls:3,vars:4,consts:[["class","branches",4,"ngIf"],["class","spacer branch",4,"ngIf"],[1,"branches"],["class","branch",3,"ngClass","contextmenu","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"branch",3,"ngClass","contextmenu","dblclick"],[1,"icons",3,"ngClass"],[3,"title","contextmenu","dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[1,"name",3,"title"],["class","expandable",4,"ngIf"],[3,"title","contextmenu","dblclick"],[1,"expandable"],[1,"spacer","branch"],[1,"icons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"name"]],template:function(e,n){1&e&&(i.YNc(0,Lo,2,2,"ul",0),i.ALo(1,"nullEmpty"),i.YNc(2,bl,6,4,"div",1)),2&e&&(i.Q6J("ngIf",i.lcZ(1,2,n.branches)),i.xp6(2),i.Q6J("ngIf",n.branches.length>0&&n.branches[0]))},directives:[qt.O5,qt.sg,qt.mk,Cn.Hw],pipes:[xn.x,qt.Ov],styles:["[_nghost-%COMP%]{display:block;position:relative}.branches[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:auto;max-width:250px;border:1px solid #616161;border-radius:6px;background:#3c3c3c}.branches[_ngcontent-%COMP%]:hover{width:fit-content;max-width:max-content;z-index:100}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]{display:flex}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:none;border-radius:0}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:first-child   .icons[_ngcontent-%COMP%]{border-top-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:last-child   .icons[_ngcontent-%COMP%]{border-bottom-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{visibility:hidden}.branch[_ngcontent-%COMP%]{display:none;height:24px;line-height:24px}.branch[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:5px}.branch[_ngcontent-%COMP%]   .name.current[_ngcontent-%COMP%]{font-weight:600}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:67px;flex-shrink:0;overflow:hidden;padding:0 5px;border-radius:6px 0 0 6px;margin-right:5px}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{background:#4363d8}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%]{background:#469990}.branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{background:#fabed4}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{background:#e6194B}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%]{background:#42d4f4}.branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%]{background:#f58231}.branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%]{background:#ffe119}.branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{background:#3cb44b}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{background:#f032e6}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{background:#ffffff}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%]{background:#800000}.branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{background:#9A6324}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%]{background:#fffac8}.branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%]{background:#aaffc3}.branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{background:#dcbeff}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px;padding-left:1px;width:26px}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:first-child{margin-left:0}.branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{margin-right:5px}.branch[_ngcontent-%COMP%]:first-child{display:flex}.branch.spacer[_ngcontent-%COMP%]{display:flex;user-select:none;max-width:250px;visibility:hidden}"],changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryCurrentBranch)],a.prototype,"currentBranch",void 0),a})();const A=["graphSvg"],h=["graphWrapper"],S=["floatingDates"],V=["contextMenu"];function ne(a,t){if(1&a&&(i.O4$(),i._UZ(0,"rect",17)),2&a){const e=t.ngIf,n=i.oxw();i.uIk("y",n.getYCoord(e.yIndex)-n.yOffset)("height",n.yUnit)}}function ae(a,t){if(1&a&&(i.O4$(),i.TgZ(0,"g",18),i._UZ(1,"path",19),i.qZA()),2&a){const e=t.$implicit,n=i.oxw();i.xp6(1),i.ekj("dashed",e.isDashed),i.Q6J("ngClass","color-"+n.getTrailColorIndex(e.from.trail)),i.uIk("d",e.path)}}function be(a,t){if(1&a&&(i.O4$(),i.TgZ(0,"g",20),i._UZ(1,"path",19),i.qZA()),2&a){const e=t.$implicit,n=i.oxw();i.xp6(1),i.ekj("dashed",e.isDashed),i.Q6J("ngClass","color-"+n.getTrailColorIndex(e)),i.uIk("d",n.drawTrail(e))}}function Oe(a,t){if(1&a&&(i.O4$(),i.TgZ(0,"g"),i._UZ(1,"circle",21),i.qZA()),2&a){const e=t.$implicit,n=i.oxw();i.xp6(1),i.ekj("dashed","head"===e.id||e.id.startsWith("merge:")),i.Q6J("ngClass","color-"+n.getTrailColorIndex(e.trail)),i.uIk("cx",n.getXCoord(e.trail.lane.xIndex))("cy",n.getYCoord(e.yIndex))}}function Re(a,t){if(1&a&&(i._UZ(0,"app-avatar",29),i.ALo(1,"async")),2&a){const e=i.oxw().$implicit,n=i.oxw();i.Q6J("title",e.commit.authorName+" ("+e.commit.authorEmail+")")("remotes",i.lcZ(1,3,n.remotes))("email",e.commit.authorEmail)}}function Ze(a,t){1&a&&(i.TgZ(0,"mat-icon",30),i._uU(1,"unpublished"),i.qZA())}function Qe(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"span",31),i.TgZ(1,"app-branches",32),i.NdJ("contextMenu",function(o){i.CHM(e);const s=i.oxw().$implicit;return i.oxw().openContextMenu(o.event,s,o.branch,o.source)}),i.qZA(),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw().$implicit,o=i.oxw();i.xp6(1),i.Q6J("branches",e)("color",o.getTrailColorIndex(n.trail))}}function ot(a,t){if(1&a&&(i.TgZ(0,"span",33),i.ALo(1,"async"),i._uU(2),i.qZA()),2&a){const e=i.oxw().$implicit,n=i.oxw();i.ekj("bold",e.id===i.lcZ(1,3,n.headCommitId)),i.xp6(2),i.hij(" ",n.getCommitSummary(e)," ")}}function ht(a,t){if(1&a&&(i.TgZ(0,"span",34),i._uU(1," You have "),i.TgZ(2,"strong"),i._uU(3),i.ALo(4,"async"),i.qZA(),i._uU(5),i.ALo(6,"plural"),i.ALo(7,"async"),i.qZA()),2&a){const e=i.oxw(2);i.xp6(3),i.Oqu(i.lcZ(4,2,e.uncommittedChangesCount)),i.xp6(2),i.hij(" ",i.xi3(6,4,"change",i.lcZ(7,7,e.uncommittedChangesCount))," in your working copy ")}}function gt(a,t){if(1&a&&(i.TgZ(0,"span",35),i._uU(1),i.qZA()),2&a){const e=i.oxw().$implicit,n=i.oxw();i.xp6(1),i.hij(" ",n.getCommitSummary(e)," ")}}function Mt(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",22),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw().changeCommit.next(s.id)})("dblclick",function(){const s=i.CHM(e).$implicit;return i.oxw().commitDblClicked(s)})("contextmenu",function(o){const d=i.CHM(e).$implicit;return i.oxw().openContextMenu(o,d)}),i.ALo(1,"async"),i.YNc(2,Re,2,5,"app-avatar",23),i.YNc(3,Ze,2,0,"mat-icon",24),i.YNc(4,Qe,2,2,"span",25),i.ALo(5,"nullEmpty"),i.ALo(6,"async"),i.YNc(7,ot,3,5,"span",26),i.YNc(8,ht,8,9,"span",27),i.YNc(9,gt,2,1,"span",28),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw();i.ekj("selected",e.id===i.lcZ(1,8,n.selectedCommitDetailId)),i.xp6(2),i.Q6J("ngIf","head"!==e.id&&!e.id.startsWith("merge:")),i.xp6(1),i.Q6J("ngIf","head"===e.id||e.id.startsWith("merge:")),i.xp6(1),i.Q6J("ngIf",i.lcZ(5,10,i.lcZ(6,12,n.getBranches(e)))),i.xp6(3),i.Q6J("ngIf","head"!==e.id&&!e.id.startsWith("merge:")),i.xp6(1),i.Q6J("ngIf","head"===e.id),i.xp6(1),i.Q6J("ngIf",e.id.startsWith("merge:"))}}function Bt(a,t){if(1&a&&(i.TgZ(0,"div",36),i.ALo(1,"async"),i.ALo(2,"async"),i._uU(3),i.ALo(4,"date"),i.qZA()),2&a){const e=t.ngIf,n=i.oxw();i.ekj("scrolled-to-top",i.lcZ(1,5,n.scrolledToTop))("selected",i.lcZ(2,7,n.topCommitSelected)),i.xp6(3),i.hij(" ",i.xi3(4,9,e,"d MMM yyyy")," ")}}function Zt(a,t){if(1&a&&(i.TgZ(0,"li"),i.ALo(1,"async"),i._uU(2),i.ALo(3,"date"),i.qZA()),2&a){const e=t.$implicit,n=i.oxw();i.Udp("top",e[0]*n.yUnit,"px"),i.ekj("selected",e[1].id===i.lcZ(1,5,n.selectedCommitDetailId)),i.xp6(2),i.Oqu(i.xi3(3,7,e[1].time,"MMM yyyy"))}}function Nn(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",45),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2).data,s=i.oxw();return s.checkout(o.commit,o.ref),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"get_app"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw(2).data;i.Q6J("title","Checkout "+e.ref.typeName+" "+e.ref.fullName),i.xp6(4),i.AsE("Checkout ",e.ref.typeName," ",e.ref.fullName,"")}}function Xn(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",45),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(5).data,m=i.oxw();return m.merge(d.ref.shortName,s.commitId,s.name),m.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(6);i.ekj("bold",e.name===i.lcZ(1,4,n.currentBranchName)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name)}}function ci(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",45),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(5).data,m=i.oxw();return m.merge(d.ref.shortName,s.commitId,s.name),m.closeContextMenu()}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit;i.Q6J("title",e.name),i.xp6(1),i.Oqu(e.name)}}function _t(a,t){if(1&a&&(i.TgZ(0,"div",50),i.YNc(1,Xn,3,6,"button",51),i.YNc(2,ci,2,2,"button",52),i.ALo(3,"async"),i.qZA()),2&a){const e=i.oxw().ngIf,n=i.oxw(3).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(e,n.commit.id)),i.xp6(1),i.Q6J("ngForOf",o.filterBranches(i.lcZ(3,2,o.remoteBranches),n.commit.id))}}function Ai(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",45,46),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(2),d=i.MAs(9);return i.oxw(4).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",47),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",48),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,_t,4,4,"ng-template",null,49,i.W1O),i.BQk()}if(2&a){const e=i.oxw(3).data;i.xp6(1),i.Q6J("title","Merge into "+e.ref.shortName+" from..."),i.xp6(4),i.hij("Merge into ",e.ref.shortName," from")}}function ai(a,t){if(1&a&&(i.ynx(0),i.YNc(1,Ai,10,2,"ng-container",38),i.ALo(2,"async"),i.BQk()),2&a){const e=i.oxw(3);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,e.localBranches))}}function go(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",56),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(5).data,m=i.oxw();return m.merge(s.name,d.commit.id,null==d.ref?null:d.ref.fullName),m.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(6);i.ekj("bold",e.name===i.lcZ(1,4,n.currentBranchName)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name)}}function Fs(a,t){if(1&a&&(i.TgZ(0,"div",50),i.YNc(1,go,3,6,"button",55),i.qZA()),2&a){const e=i.oxw().ngIf,n=i.oxw(3).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(e,n.commit.id))}}function bs(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",45,53),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(2),d=i.MAs(9);return i.oxw(4).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",47),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",48),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,Fs,2,1,"ng-template",null,54,i.W1O),i.BQk()}if(2&a){const e=i.oxw(3).data;let n,o;i.xp6(1),i.Q6J("title","Merge from "+(null!==(n="tag"!==(null==e.ref?null:e.ref.type)?null==e.ref?null:e.ref.fullName:null)&&void 0!==n?n:"this commit")+" into..."),i.xp6(4),i.hij("Merge from ",null!==(o="tag"!==(null==e.ref?null:e.ref.type)?null==e.ref?null:e.ref.fullName:null)&&void 0!==o?o:"this commit"," into")}}function Qr(a,t){if(1&a&&(i.ynx(0),i.YNc(1,bs,10,2,"ng-container",38),i.ALo(2,"async"),i.BQk()),2&a){const e=i.oxw(3);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,e.localBranches))}}function bo(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",45),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2).data;return i.oxw().pull(o.ref.fullName)}),i.TgZ(1,"mat-icon"),i._uU(2,"arrow_downward"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw(2).data;i.Q6J("title","Pull from upstream branch "+e.upstreamName),i.xp6(4),i.hij("Pull from ",e.upstreamName,"")}}function Qi(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",56),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(5).data,m=i.oxw();return m.moveBranchToCommit(s.name,d.commit.id),m.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(6);i.ekj("bold",e.name===i.lcZ(1,4,n.currentBranchName)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name)}}function Yr(a,t){if(1&a&&(i.TgZ(0,"div",50),i.YNc(1,Qi,3,6,"button",55),i.qZA()),2&a){const e=i.oxw().ngIf,n=i.oxw(3).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(e,n.commit.id))}}function Ka(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",57,58),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(2),d=i.MAs(10);return i.oxw(4).openSubMenu(o,s,d)}),i.TgZ(3,"mat-icon"),i._uU(4,"move_up"),i.qZA(),i.TgZ(5,"span"),i._uU(6,"Move branch to this commit"),i.qZA(),i.TgZ(7,"mat-icon",48),i._uU(8,"chevron_right"),i.qZA(),i.qZA(),i.YNc(9,Yr,2,1,"ng-template",null,59,i.W1O),i.BQk()}}function xr(a,t){if(1&a&&(i.ynx(0),i.YNc(1,Ka,11,0,"ng-container",38),i.ALo(2,"async"),i.BQk()),2&a){const e=i.oxw(3);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,e.localBranches))}}function ts(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",60),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2).data,s=i.oxw();return s.editCommits(o.commit.id),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"create"),i.qZA(),i.TgZ(3,"span"),i._uU(4,"Edit commits from here"),i.qZA(),i.qZA()}}function hr(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",61),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return o.undoHeadCommit(),o.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"history"),i.qZA(),i.TgZ(3,"span"),i._uU(4,"Undo commit"),i.qZA(),i.qZA()}}function lc(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",45),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2).data,s=i.oxw();return s.renameBranch(o.ref),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"drive_file_rename_outline"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw(2).data;i.Q6J("title","Rename "+e.ref.typeName+" "+e.ref.shortName),i.xp6(4),i.AsE("Rename ",e.ref.typeName," ",e.ref.shortName,"")}}function vl(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",45),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2).data,s=i.oxw();return s.deleteBranchOrTag(o.ref),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"delete"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw(2).data;i.Q6J("title","Delete "+e.ref.typeName+" "+e.ref.fullName),i.xp6(4),i.AsE("Delete ",e.ref.typeName," ",e.ref.fullName,"")}}function er(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.YNc(1,Nn,5,3,"button",39),i.ALo(2,"async"),i.YNc(3,ai,3,3,"ng-container",38),i.YNc(4,Qr,3,3,"ng-container",38),i.YNc(5,bo,5,2,"button",39),i.YNc(6,xr,3,3,"ng-container",38),i.YNc(7,ts,5,0,"button",40),i.TgZ(8,"button",41),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.revertCommit(o.commit.id),s.closeContextMenu()}),i.TgZ(9,"mat-icon"),i._uU(10,"undo"),i.qZA(),i.TgZ(11,"span"),i._uU(12,"Revert commit"),i.qZA(),i.qZA(),i.YNc(13,hr,5,0,"button",42),i.ALo(14,"async"),i.TgZ(15,"button",43),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.createBranch(o.commit.id),s.closeContextMenu()}),i._UZ(16,"mat-icon",44),i.TgZ(17,"span"),i._uU(18,"Create branch"),i.qZA(),i.qZA(),i.TgZ(19,"button",43),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.createTag(o.commit.id),s.closeContextMenu()}),i.TgZ(20,"mat-icon"),i._uU(21,"label"),i.qZA(),i.TgZ(22,"span"),i._uU(23,"Create tag"),i.qZA(),i.qZA(),i.YNc(24,lc,5,3,"button",39),i.YNc(25,vl,5,3,"button",39),i.BQk()}if(2&a){const e=i.oxw().data,n=i.oxw();i.xp6(1),i.Q6J("ngIf",e.ref&&"tag"!==e.ref.type&&e.ref.shortName!==i.lcZ(2,9,n.currentBranchName)),i.xp6(2),i.Q6J("ngIf","local"===(null==e.ref?null:e.ref.type)),i.xp6(1),i.Q6J("ngIf","stash"!==(null==e.ref?null:e.ref.type)),i.xp6(1),i.Q6J("ngIf","local"===(null==e.ref?null:e.ref.type)&&e.upstreamName),i.xp6(1),i.Q6J("ngIf","stash"!==(null==e.ref?null:e.ref.type)),i.xp6(1),i.Q6J("ngIf","stash"!==(null==e.ref?null:e.ref.type)),i.xp6(6),i.Q6J("ngIf",e.commit.id===i.lcZ(14,11,n.headCommitId)),i.xp6(11),i.Q6J("ngIf",e.ref&&"local"===e.ref.type),i.xp6(1),i.Q6J("ngIf",e.ref&&"remote"!==e.ref.type)}}function Wr(a,t){1&a&&(i.ynx(0),i.TgZ(1,"button",62),i._uU(2," No actions here "),i.qZA(),i.BQk())}function cs(a,t){if(1&a&&(i.TgZ(0,"div",37),i.YNc(1,er,26,13,"ng-container",38),i.YNc(2,Wr,3,0,"ng-container",38),i.qZA()),2&a){const e=t.data;i.xp6(1),i.Q6J("ngIf","head"!==e.commit.id),i.xp6(1),i.Q6J("ngIf","head"===e.commit.id)}}let Jn=(()=>{class a extends((0,dn.j)(Ln.A)){constructor(e,n,o,s,d,m,R,U,F,q){super(),this.element=e,this.router=n,this.overlay=o,this.viewContainerRef=s,this.store=d,this.repositoriesApi=m,this.repositoryActionsService=R,this.branchesService=U,this.graphCalculatorService=F,this.graphSharedService=q,this.changeCommit=new i.vpe,this.commits=[],this.idToCommitDetail={},this.commitTrails=[],this.mergePaths=[],this.commitDetails=new pn.X([]),this.visibleCommitDetails=new pn.X([]),this.visibleCommitTrails=new pn.X([]),this.visibleMergePaths=new pn.X([]),this.visibleDates=new pn.X([]),this.topDate=new pn.X(null),this.scrolledToTop=new pn.X(!1),this.topCommitSelected=new pn.X(!1),this.xUnit=Xs.$.xUnit,this.yUnit=Xs.$.yUnit,this.xOffset=Xs.$.xOffset,this.yOffset=Xs.$.yOffset,this.totalColors=15,this.overlayRef=new pn.X(null),this.subMenuOverlayRef=new pn.X(null),this.getTrailColorIndex=_e=>_e.colorIndex%this.totalColors,this.getXCoord=_e=>this.xOffset+this.xUnit*_e,this.getYCoord=_e=>this.yOffset+this.yUnit*_e,this.getCommitSummary=_e=>_e.commit.message.split("\n")[0],this.getCommitTime=_e=>new Date(_e.time),this.openContextMenu=(_e,De,Ke,ct)=>{_e.preventDefault(),_e.stopPropagation(),this.closeContextMenu();const Tt=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:_e.x,y:_e.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.getReferenceDetails(De,Ke,ct).pipe((0,vt.q)(1),(0,Ne.w)(Ot=>"local"===Ot?.type?this.repository.pipe((0,vt.q)(1),(0,Ne.w)(tn=>tn?this.repositoriesApi.getUpstreamBranch(tn.path,Ot.fullName):(0,ut.of)(null)),(0,nt.U)(tn=>[Ot,tn?.replace(/^refs\/remotes\//,"")])):(0,ut.of)([Ot,null]))).subscribe(([Ot,tn])=>{this.overlayRef.next(Tt),Tt.attach(new He.UE(this.menuTemplate,this.viewContainerRef,{data:{commit:De,ref:Ot,upstreamName:tn}})),(0,Fn.t)(Tt).pipe((0,vt.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())})},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null)),this.closeSubMenu()},this.openSubMenu=(_e,De,Ke)=>{_e.preventDefault(),_e.stopPropagation(),this.closeSubMenu();const ct=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(De).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(ct),ct.attach(new He.UE(Ke,this.viewContainerRef)),(0,Fn.t)(ct).pipe((0,vt.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.getBranches=_e=>this.currentBranch.pipe((0,nt.U)(De=>this.branchesService.calculateBranches(_e.commit.references,De))),this.getFirstBranch=_e=>this.getBranches(_e).pipe((0,nt.U)(De=>De.length>0?De[0]:void 0)),this.getReferenceDetails=(_e,De,Ke)=>("head"===_e.id?(0,ut.of)(void 0):De?(0,ut.of)(De):this.getFirstBranch(_e)).pipe((0,nt.U)(ct=>{if(!ct)return;const Tt=Ke??ct.sources[0];let Ot,tn;switch(Tt.type){case"local":Ot=ct.name,tn="branch";break;case"tag":Ot=ct.name,tn="tag";break;case"remote":Ot=`${Tt.name}/${ct.name}`,tn="branch";break;case"stash":Ot="",tn="stash";break;default:throw new Error(`Invalid branch source type: ${Tt.type}`)}return{shortName:ct.name,fullName:Ot,type:Tt.type,typeName:tn}})),this.filterBranches=(_e,De)=>(_e??[]).filter(Ke=>Ke.commitId!==De),this.checkout=(_e,De)=>{if(De)switch(De.type){case"local":this.repository.pipe((0,vt.q)(1)).subscribe(Ke=>{if(!Ke)throw new Error("Cannot checkout when no repository is selected");this.repositoryActionsService.checkoutBranch(Ke.path,De.shortName).subscribe()});break;case"remote":this.repository.pipe((0,vt.q)(1)).subscribe(Ke=>{if(!Ke)throw new Error("Cannot checkout branch when no repository is selected");Ke.references.filter(Ot=>"local"===Ot.type)?.find(Ot=>Ot.name===`refs/heads/${De.shortName}`)?this.repositoryActionsService.checkoutBranch(Ke.path,De.shortName).subscribe():this.repositoryActionsService.createBranchWithDetails(Ke.path,_e.id,De.shortName,De.fullName,!0).subscribe()});break;case"tag":this.store.dispatch(new kt.NN("error","Cannot checkout a tag!"));break;case"stash":this.store.dispatch(new kt.NN("info","Checkout stash functionality not yet implemented!"))}else this.store.dispatch(new kt.NN("info","Detach HEAD functionality not yet implemented!"))},this.editCommits=_e=>{this.repository.pipe((0,vt.q)(1)).subscribe(De=>{if(!De)throw new Error("Cannot edit commits when no repository is selected");this.repositoryActionsService.startEdit(De.path,_e).pipe((0,Ne.w)(()=>this.router.navigate(["/standard/rebase"]))).subscribe()})},this.revertCommit=_e=>{this.repository.pipe((0,vt.q)(1)).subscribe(De=>{if(!De)throw new Error("Cannot revert commit when no repository is selected");this.repositoryActionsService.revertCommit(De.path,_e).subscribe()})},this.undoHeadCommit=()=>{this.repository.pipe((0,vt.q)(1)).subscribe(_e=>{if(!_e)throw new Error("Cannot undo head commit when no repository is selected");this.repositoryActionsService.undoHeadCommit(_e.path).subscribe()})},this.createBranch=_e=>{this.repository.pipe((0,vt.q)(1)).subscribe(De=>{if(!De)throw new Error("Cannot create branch when no repository is selected");this.repositoryActionsService.createBranch(De.path,_e).subscribe()})},this.createTag=_e=>{this.repository.pipe((0,vt.q)(1)).subscribe(De=>{if(!De)throw new Error("Cannot create tag when no repository is selected");this.repositoryActionsService.createTag(De.path,_e).subscribe()})},this.renameBranch=_e=>{this.repository.pipe((0,vt.q)(1)).subscribe(De=>{if(!De)throw new Error("Cannot rename branch when no repository is selected");if("local"!==_e.type)throw new Error(`Can only rename local branches, '${_e.fullName}' is not valid`);this.repositoryActionsService.renameBranch(De.path,_e.shortName).subscribe()})},this.deleteBranchOrTag=_e=>{this.repository.pipe((0,vt.q)(1)).subscribe(De=>{if(!De)throw new Error("Cannot delete branch/tag when no repository is selected");"local"===_e.type?this.repositoryActionsService.deleteBranch(De.path,_e.fullName).subscribe():"tag"===_e.type?this.repositoryActionsService.deleteTag(De.path,_e.fullName).subscribe():this.store.dispatch("stash"===_e.type?new kt.NN("info","Delete stash functionality not yet implemented!"):new kt.NN("error","Cannot delete remote branches"))})},this.merge=(_e,De,Ke)=>{this.repository.pipe((0,vt.q)(1)).subscribe(ct=>{if(!ct)throw new Error("Cannot merge when no repository is selected");this.repositoryActionsService.createMerge(ct.path,Ke??null,De,_e).subscribe()})},this.pull=_e=>{this.repository.pipe((0,vt.q)(1)).subscribe(De=>{if(!De)throw new Error("Cannot pull from upstream branch when no repository is selected");const Ke=this.store.selectSnapshot(xi.$.selectedProfileId),ct=De.profiles.get(Ke)?.remotes,Tt=ct?Object.fromEntries(Object.entries(ct).map(([Ot,{credentialId:tn}])=>[Ot,null===tn?null:this.store.selectSnapshot(xi.$.credentials).get(tn)??null])):{};this.repositoryActionsService.pull(De.path,De.selectedRemote,Tt,_e).subscribe()})},this.moveBranchToCommit=(_e,De)=>{this.repository.pipe((0,vt.q)(1)).subscribe(Ke=>{if(!Ke)throw new Error("Cannot update current branch when no repository is selected");this.repositoryActionsService.updateBranch(Ke.path,_e,De).subscribe()})}}ngOnInit(){this.localBranchReferences=this.repository.pipe((0,nt.U)(s=>s?.references.filter(d=>"local"===d.type)??null)),this.remoteBranchReferences=this.repository.pipe((0,nt.U)(s=>s?.references.filter(d=>"remote"===d.type)??null)),this.currentBranch=this.repository.pipe((0,nt.U)(s=>s?.currentBranch??null)),this.currentBranchCommitId=this.repository.pipe((0,nt.U)(s=>s?.currentBranchCommitId??null)),this.selectedStagedChanges=this.repository.pipe((0,nt.U)(s=>s?.stagedChanges??null)),this.selectedUnstagedChanges=this.repository.pipe((0,nt.U)(s=>s?.unstagedChanges??null)),this.mergeHeads=this.repository.pipe((0,nt.U)(s=>s?.mergeHeads??null)),this.remotes=this.repository.pipe((0,nt.U)(s=>s?.remotes??[])),this.localBranches=(0,st.aj)([this.localBranchReferences,this.currentBranch]).pipe((0,nt.U)(([s,d])=>{const m=s?.find(R=>R.name===d);return[...m?[m]:[],...Go(s??[],R=>R.name).filter(R=>R.name!==d)]}),(0,nt.U)(s=>s.map(d=>({commitId:d.target,name:d.name.replace(/^refs\/heads\//,"")})))),this.remoteBranches=this.remoteBranchReferences.pipe((0,nt.U)(s=>Go(s??[],d=>d.name)),(0,nt.U)(s=>s.map(d=>({commitId:d.target,name:d.name.replace(/^refs\/remotes\//,"")})))),this.currentBranchName=this.currentBranch.pipe((0,nt.U)(s=>s?.replace(/^refs\/heads\//,"")??null)),this.headCommitId=this.repository.pipe((0,nt.U)(s=>s?.headCommitId??null)),this.uncommittedChangesCount=(0,st.aj)([this.selectedStagedChanges,this.selectedUnstagedChanges]).pipe((0,nt.U)(([s,d])=>(s?.patches?.filter(m=>m.status!==Sr.v.Conflicted).length??0)+(d?.patches.length??0))),this.selectedCommitDetailId=(0,st.aj)([this.commitId,this.selectedMerge]).pipe((0,nt.U)(([s,d])=>s??(d?`merge:${d?.fromCommitId}:${d?.toCommitId}`:null))),this.selectedCommitDetailId.pipe((0,Se.R)(this.destroyed$)).subscribe(s=>{this.topCommitSelected.next(s===this.commits[0]?.id)});const e=new pn.X(!1),n=new pn.X(!1);this.repository.pipe((0,As.x)((s,d)=>s?.path===d?.path&&s?.commits===d?.commits&&s?.headCommitId===d?.headCommitId&&(s?.stagedChanges||s?.unstagedChanges)===(d?.stagedChanges||d?.unstagedChanges)&&s?.merges===d?.merges),(0,$t.b)(s=>{n.next(!0),this.calculate(s?.commits??[],s?.headCommitId??null,s?.merges??[])}),(0,es.O)(null),(0,lo.G)(),(0,$t.b)(([s,d])=>{s?.path!==d?.path&&(e.next(!0),this.viewport.scrollToIndex(d?.scrollIndex??0))}),(0,Js.g)(0),(0,$t.b)(()=>n.next(!1)),(0,Ao.h)(([s,d])=>s?.path!==d?.path),(0,$t.b)(([s,d])=>{e.next(!0),this.viewport.scrollToIndex(d?.scrollIndex??0)}),(0,Js.g)(0),(0,$t.b)(()=>{e.next(!1)}),(0,Se.R)(this.destroyed$)).subscribe(),this.repository.pipe((0,es.O)(null),(0,lo.G)(),(0,Ao.h)(([s,d])=>s?.path===d?.path),(0,nt.U)(([s,d])=>d?.scrollIndex),(0,Ao.h)(Qo.$K),(0,As.x)(),(0,Ao.h)(()=>!e.value),(0,Ne.w)(s=>(0,st.aj)([e,n]).pipe((0,Ao.h)(([d,m])=>!d&&!m),(0,vt.q)(1),(0,nt.U)(()=>s))),(0,$t.b)(s=>{e.next(!0);const d=this.viewport.measureScrollOffset("top"),m=d+this.viewport.getViewportSize();this.scrolledToTop.next(d<=0),this.graphCalculatorService.isIndexInBounds(s,d,m)||this.viewport.scrollToIndex(s)}),(0,Js.g)(0),(0,$t.b)(()=>e.next(!1)),(0,Se.R)(this.destroyed$)).subscribe(),(0,Ss.R)(this.graphSvgElement.nativeElement,"wheel",{passive:!0}).pipe((0,Se.R)(this.destroyed$)).subscribe(s=>{this.viewport.scrollTo({top:this.viewport.measureScrollOffset("top")+s.deltaY})}),this.viewport.elementScrolled().pipe((0,$t.b)(()=>{const s=this.viewport.measureScrollOffset("top"),d=`translateY(-${s}px)`;this.graphWrapperElement.nativeElement.style.transform=d,this.floatingDatesElement.nativeElement.style.transform=d,this.scrolledToTop.next(s<=0)}),(0,Ro.e)(20),(0,Se.R)(this.destroyed$)).subscribe(()=>{this.updateFloatingDates()});const o=new xs.xQ;o.pipe((0,As.x)(),Li(this.repository),(0,Se.R)(this.destroyed$)).subscribe(([s,d])=>{s&&d&&this.store.dispatch(new _n._o(d.path)).subscribe(()=>{o.next(!1)})}),this.viewport.scrolledIndexChange.pipe(Li(this.repository),(0,$t.b)(([s,d])=>{this.updateVisibleCommits(),d&&!d.allCommitsLoaded&&s+dr.W/2>d.commits.length&&o.next(!0)}),(0,Ao.h)(()=>!e.value),(0,Ne.w)(s=>(0,st.aj)([e,n]).pipe((0,Ao.h)(([d,m])=>!d&&!m),(0,vt.q)(1),(0,nt.U)(()=>s))),(0,So.b)(100),(0,$t.b)(([s,d])=>{e.next(!0),null!==d&&this.store.dispatch(new _n.AL(d.path,s))}),(0,Js.g)(0),(0,$t.b)(()=>e.next(!1)),(0,Se.R)(this.destroyed$)).subscribe()}ngAfterViewInit(){this.updateFloatingDates()}graphClicked(e){const n=this.getCommitFromPosition(e.offsetY);n&&this.changeCommit.next(n.id)}graphDblClicked(e){const n=this.getCommitFromPosition(e.offsetY);n&&this.commitDblClicked(this.idToCommitDetail[n.id])}graphContextMenu(e){const n=this.getCommitFromPosition(e.offsetY);n&&this.openContextMenu(e,this.idToCommitDetail[n.id])}commitDblClicked(e){(0,ti.D)([this.repository.pipe((0,vt.q)(1)),this.getFirstBranch(e).pipe((0,vt.q)(1))]).subscribe(([n,o])=>{n&&o&&this.repositoryActionsService.checkoutBranch(n.path,o.name).subscribe()})}keyPressed(e){e.preventDefault(),(0,st.aj)([this.repository,this.selectedCommitDetailId]).pipe((0,vt.q)(1),(0,Se.R)(this.destroyed$)).subscribe(([n,o])=>{if(!n)return;const s=this.commits.findIndex(m=>m.id===o);if(-1===s)return;let d=null;switch(e.key){case"ArrowUp":if(!e.ctrlKey){s>0&&(d=this.commits[s-1].id);break}case"Home":d=this.commits[0].id;break;case"ArrowDown":if(!e.ctrlKey){s<this.commits.length-1&&(d=this.commits[s+1].id);break}case"End":d=this.commits[this.commits.length-1].id}if(d)if(d.startsWith("merge:")){const m=d.match(/^merge:([^:]+):([^:]+)$/);m&&this.store.dispatch([new Rt.hb(n.path,m[1],m[2]),new _n.BK(n.path,d)])}else this.store.dispatch([new _n.jQ(n.path,d),new _n.BK(n.path,d)])})}drawTrail(e){const n=e.isDashed?{x:0,y:.05}:{x:0,y:0};if(e.commits.length<1)return[`M ${this.getXCoord(e.lane.xIndex+n.x)} ${this.getYCoord(e.minYIndex+n.y)}`,`V ${this.getYCoord(e.maxYIndex-.5)}`,`L ${this.getXCoord(e.lane.xIndex)} ${this.getYCoord(e.maxYIndex)}`].join(" ");const o=e.commits[0],s=e.commits[e.commits.length-1],d=s.commit.parentIds.length>0?this.idToCommitDetail[s.commit.parentIds[0]]??s:s;return d||console.error(`Could not find parent ${s.commit.parentIds[0]}`,e),o.id===s.id&&s.id===d.id?"":[`M ${this.getXCoord(o.trail.lane.xIndex+n.x)} ${this.getYCoord(e.minYIndex+n.y)}`,`V ${this.getYCoord(e.maxYIndex-.5)}`,`L ${this.getXCoord(d.trail.lane.xIndex)} ${this.getYCoord(e.maxYIndex)}`].join(" ")}trackCommitDetail(e,n){return n.id}trackCommitTrail(e,n){return n.trailIndex}trackMergePath(e,n){return`${n.from.id}|${n.to.map(o=>o.id).join(";")}`}trackFloatingDate(e,n){return`${n[0]}:${n[1].id}`}updateFloatingDates(){if(this.selectedCommitDetailId.pipe((0,vt.q)(1)).subscribe(F=>{this.topCommitSelected.next(F===this.commits[0]?.id)}),this.commits.length<=1)return this.visibleDates.next([]),this.topDate.next(null),void this.scrolledToTop.next(!0);const n=Math.ceil(this.element.nativeElement.clientHeight/this.yUnit),o=this.viewport.measureScrollOffset("top");let s=Math.floor(Math.max(0,o/this.yUnit));const d=Math.min(this.commits.length-1,s+n);if(!this.commits[s])return this.visibleDates.next([]),void this.scrolledToTop.next(o<=0);for(;"head"===this.commits[s].id||this.commits[s].id.startsWith("merge:");)s++;const m=this.commits[s].time,R=[];let U=new Date(m);for(let F=s;F<d;F++){const q=new Date(this.commits[F].time);(q.getMonth()!==U.getMonth()||q.getFullYear()!==U.getFullYear())&&(U=q,R.push([F,this.commits[F]]))}this.visibleDates.next(R),this.topDate.next(m),this.scrolledToTop.next(o<=0)}updateVisibleCommits(){const o=Math.ceil((600+this.element.nativeElement.clientHeight)/this.yUnit),s=this.viewport.measureScrollOffset("top"),d=Math.floor(Math.max(0,(s-300)/this.yUnit)),m=this.graphCalculatorService.calculateVisible(this.commitDetails.value,this.commitTrails,this.mergePaths,d,d+o);this.visibleCommitDetails.next(m.commitDetails),this.visibleCommitTrails.next(m.commitTrails),this.visibleMergePaths.next(m.mergePaths),this.updateFloatingDates()}calculate(e,n,o){(0,st.aj)([this.selectedStagedChanges,this.selectedUnstagedChanges,this.mergeHeads]).pipe((0,vt.q)(1),(0,Se.R)(this.destroyed$)).subscribe(([s,d,m])=>{const U=this.graphCalculatorService.calculate(s?.patches?.length||d?.patches?.length||!e.length?{parentId:n,mergeHeads:m??[]}:null,o,e,this.getXCoord,this.getYCoord,this.totalColors);this.idToCommitDetail=U.commitDetails,this.commitTrails=U.commitTrails,this.mergePaths=U.mergePaths,this.commits=U.orderedCommits,this.commitDetails.next(this.commits.map(F=>U.commitDetails[F.id])),this.graphSharedService.setColors((0,Qo.Tj)(U.commitDetails,(F,q)=>this.getTrailColorIndex(q.trail))),this.graphSharedService.setCommits(this.idToCommitDetail),this.updateVisibleCommits()})}getCommitFromPosition(e){const n=this.viewport.measureScrollOffset("top"),o=Math.floor((n+e)/this.yUnit);return this.commits[o]}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.SBq),i.Y36(Ae.F0),i.Y36(Je.aV),i.Y36(i.s_b),i.Y36(Pe.yh),i.Y36(Dn.a),i.Y36(Di),i.Y36(Vo.p),i.Y36(Xs.$),i.Y36(Sn))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-graph-view"]],viewQuery:function(e,n){if(1&e&&(i.Gf(oo.N7,7),i.Gf(A,7),i.Gf(h,7),i.Gf(S,5),i.Gf(V,5)),2&e){let o;i.iGM(o=i.CRH())&&(n.viewport=o.first),i.iGM(o=i.CRH())&&(n.graphSvgElement=o.first),i.iGM(o=i.CRH())&&(n.graphWrapperElement=o.first),i.iGM(o=i.CRH())&&(n.floatingDatesElement=o.first),i.iGM(o=i.CRH())&&(n.menuTemplate=o.first)}},inputs:{repository:"repository",commitId:"commitId",selectedMerge:"selectedMerge",branchOrder:"branchOrder"},outputs:{changeCommit:"changeCommit"},features:[i.qOj],decls:27,vars:25,consts:[["id","graph-view","tabindex","0",3,"keydown"],[1,"graph",3,"click","dblclick","contextmenu"],["graphSvg",""],[1,"wrapper"],["graphWrapper",""],["class","selected-background","x","0","width","100%",4,"ngIf"],["class","merge-path",4,"ngFor","ngForOf","ngForTrackBy"],["class","commit-path",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"selected","click","dblclick","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"floating-dates"],["class","top-date",3,"scrolled-to-top","selected",4,"ngIf"],["floatingDates",""],[3,"selected","top",4,"ngFor","ngForOf","ngForTrackBy"],["contextMenu",""],["x","0","width","100%",1,"selected-background"],[1,"merge-path"],[3,"ngClass"],[1,"commit-path"],["r","5",1,"commit-circle",3,"ngClass"],[3,"click","dblclick","contextmenu"],[3,"title","remotes","email",4,"ngIf"],["class","uncommitted-icon","title","These changes have not yet been committed to the repository",4,"ngIf"],["class","branches",4,"ngIf"],["class","summary",3,"bold",4,"ngIf"],["class","summary dimmed",4,"ngIf"],["class","summary summary-merge dimmed",4,"ngIf"],[3,"title","remotes","email"],["title","These changes have not yet been committed to the repository",1,"uncommitted-icon"],[1,"branches"],[3,"branches","color","contextMenu"],[1,"summary"],[1,"summary","dimmed"],[1,"summary","summary-merge","dimmed"],[1,"top-date"],[1,"menu-panel"],[4,"ngIf"],["class","menu-item",3,"title","click",4,"ngIf"],["class","menu-item","title","Rewrite the commit history from this point onwards",3,"click",4,"ngIf"],["title","Create a new commit reverting the changes in this one",1,"menu-item",3,"click"],["class","menu-item","title","Delete this commit, but keep the changes in the working copy",3,"click",4,"ngIf"],[1,"menu-item",3,"click"],["svgIcon","source-branch"],[1,"menu-item",3,"title","click"],["mergeToButton",""],["svgIcon","source-merge"],[1,"expand-icon"],["mergeTo",""],[1,"menu-panel","sub-menu-1"],["class","menu-item",3,"bold","title","click",4,"ngFor","ngForOf"],["class","menu-item",3,"title","click",4,"ngFor","ngForOf"],["mergeFromButton",""],["mergeFrom",""],["mat-menu-item","","class","menu-item",3,"bold","title","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"menu-item",3,"title","click"],["title","Move branch to this commit...",1,"menu-item",3,"click"],["moveBranchButton",""],["moveBranch",""],["title","Rewrite the commit history from this point onwards",1,"menu-item",3,"click"],["title","Delete this commit, but keep the changes in the working copy",1,"menu-item",3,"click"],[1,"menu-item"]],template:function(e,n){1&e&&(i.TgZ(0,"app-grid",0),i.NdJ("keydown",function(s){return n.keyPressed(s)}),i.TgZ(1,"app-grid-cell"),i.O4$(),i.TgZ(2,"svg",1,2),i.NdJ("click",function(s){return n.graphClicked(s)})("dblclick",function(s){return n.graphDblClicked(s)})("contextmenu",function(s){return n.graphContextMenu(s)}),i.TgZ(4,"g",3,4),i.YNc(6,ne,1,2,"rect",5),i.ALo(7,"async"),i.YNc(8,ae,2,4,"g",6),i.ALo(9,"async"),i.YNc(10,be,2,4,"g",7),i.ALo(11,"async"),i.YNc(12,Oe,2,5,"g",8),i.ALo(13,"async"),i.qZA(),i.qZA(),i.qZA(),i.kcU(),i.TgZ(14,"app-grid-cell"),i.TgZ(15,"cdk-virtual-scroll-viewport",9),i.TgZ(16,"ul",10),i.YNc(17,Mt,10,14,"li",11),i.qZA(),i.qZA(),i.TgZ(18,"div",12),i.YNc(19,Bt,5,12,"div",13),i.ALo(20,"async"),i.TgZ(21,"ul",null,14),i.YNc(23,Zt,4,10,"li",15),i.ALo(24,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(25,cs,3,2,"ng-template",null,16,i.W1O)),2&e&&(i.xp6(6),i.Q6J("ngIf",n.idToCommitDetail[i.lcZ(7,13,n.selectedCommitDetailId)||""]),i.xp6(2),i.Q6J("ngForOf",i.lcZ(9,15,n.visibleMergePaths))("ngForTrackBy",n.trackMergePath),i.xp6(2),i.Q6J("ngForOf",i.lcZ(11,17,n.visibleCommitTrails))("ngForTrackBy",n.trackCommitTrail),i.xp6(2),i.Q6J("ngForOf",i.lcZ(13,19,n.visibleCommitDetails))("ngForTrackBy",n.trackCommitDetail),i.xp6(3),i.Q6J("itemSize",n.yUnit),i.xp6(2),i.Q6J("cdkVirtualForOf",n.commitDetails)("cdkVirtualForTrackBy",n.trackCommitDetail),i.xp6(2),i.Q6J("ngIf",i.lcZ(20,21,n.topDate)),i.xp6(4),i.Q6J("ngForOf",i.lcZ(24,23,n.visibleDates))("ngForTrackBy",n.trackFloatingDate))},directives:[fo.M,Io.Y,qt.O5,qt.sg,oo.N7,oo.xd,oo.x0,qt.mk,Cs.A,Cn.Hw,yt,b.OP],pipes:[qt.Ov,xn.x,Xi.r,qt.uU],styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%}app-grid[_ngcontent-%COMP%]{outline:none}.graph[_ngcontent-%COMP%]{display:block;width:100%;height:100%;cursor:pointer}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:10}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:20}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .commit-circle[_ngcontent-%COMP%]{stroke:#000;stroke-width:1.5;z-index:30}.graph[_ngcontent-%COMP%]   .commit-circle.color-0[_ngcontent-%COMP%]{fill:#4363d8}.graph[_ngcontent-%COMP%]   .commit-circle.color-1[_ngcontent-%COMP%]{fill:#469990}.graph[_ngcontent-%COMP%]   .commit-circle.color-2[_ngcontent-%COMP%]{fill:#fabed4}.graph[_ngcontent-%COMP%]   .commit-circle.color-3[_ngcontent-%COMP%]{fill:#e6194b}.graph[_ngcontent-%COMP%]   .commit-circle.color-4[_ngcontent-%COMP%]{fill:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-circle.color-5[_ngcontent-%COMP%]{fill:#f58231}.graph[_ngcontent-%COMP%]   .commit-circle.color-6[_ngcontent-%COMP%]{fill:#ffe119}.graph[_ngcontent-%COMP%]   .commit-circle.color-7[_ngcontent-%COMP%]{fill:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-circle.color-8[_ngcontent-%COMP%]{fill:#f032e6}.graph[_ngcontent-%COMP%]   .commit-circle.color-9[_ngcontent-%COMP%]{fill:#fff}.graph[_ngcontent-%COMP%]   .commit-circle.color-10[_ngcontent-%COMP%]{fill:maroon}.graph[_ngcontent-%COMP%]   .commit-circle.color-11[_ngcontent-%COMP%]{fill:#9a6324}.graph[_ngcontent-%COMP%]   .commit-circle.color-12[_ngcontent-%COMP%]{fill:#fffac8}.graph[_ngcontent-%COMP%]   .commit-circle.color-13[_ngcontent-%COMP%]{fill:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-circle.color-14[_ngcontent-%COMP%]{fill:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-circle.dashed[_ngcontent-%COMP%]{fill:none;stroke:#ffffff80}.graph[_ngcontent-%COMP%]   .selected-background[_ngcontent-%COMP%]{fill:#424242}.viewport[_ngcontent-%COMP%]{height:100%}.messages-viewport[_ngcontent-%COMP%]{overflow-y:scroll}.messages-viewport[_ngcontent-%COMP%]  .cdk-virtual-scroll-content-wrapper{contain:layout}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:26px;line-height:26px;padding-left:5px;padding-right:130px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{display:inline-block;height:26px;vertical-align:middle;font-size:16px;margin-right:10px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:16px;vertical-align:middle}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary.bold[_ngcontent-%COMP%]{font-weight:600}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary.dimmed[_ngcontent-%COMP%]{color:#ffffff80}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .uncommitted-icon[_ngcontent-%COMP%]{margin-right:5px;color:#ffffff80}@property --bgColor{syntax: "<color>"; initial-value: transparent; inherits: false;}.floating-dates[_ngcontent-%COMP%]{position:absolute;top:0;right:12px;font-size:16px;pointer-events:none;overflow:hidden;height:100%;width:50%}.floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;right:0;padding-left:30px;padding-right:10px;height:26px;line-height:26px;color:#78909c;background:linear-gradient(to right,transparent,var(--bgColor) 25px,var(--bgColor));--bgColor: #1e1e1e}.floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%]{z-index:200}.floating-dates[_ngcontent-%COMP%]   .top-date.selected[_ngcontent-%COMP%]:not(.scrolled-to-top){transition:--bgColor .3s ease-in-out}.floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}'],changeDetection:0}),a})();var oa=p(16553),Vr=p(38056),Bs=p(85692);const fu=["branchContextMenu"],Jr=["remoteContextMenu"],cc=["addSubmoduleDialog"],sa=["editSubmoduleDialog"],$a=["removeSubmoduleDialog"],dc=["addSubmoduleDialogFormField1","addSubmoduleDialogFormField2"],ra=["editSubmoduleDialogFormField1"];function xa(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",16),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw().jumpToCommit(s.commitId)})("dblclick",function(){const s=i.CHM(e).$implicit;return i.oxw().checkoutBranch(s.name)})("contextmenu",function(o){const d=i.CHM(e).$implicit;return i.oxw().openContextMenu(o,"local",d.name,d.commitId,d.upstreamName)}),i.ALo(1,"async"),i.TgZ(2,"span",17),i._uU(3),i.qZA(),i.TgZ(4,"button",18),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw().toggleRefVisibility(o,d.refName)}),i.TgZ(5,"mat-icon"),i._uU(6),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw();i.ekj("selected",e.name===i.lcZ(1,8,n.currentBranch)),i.Q6J("title",e.refName),i.xp6(3),i.Oqu(e.name),i.xp6(1),i.ekj("show",null!==e.invisible),i.Q6J("title",n.visibilityTitle(e.invisible)),i.xp6(2),i.Oqu(e.invisible?"visibility_off":"visibility")}}function uc(a,t){1&a&&(i.TgZ(0,"mat-icon",24),i._uU(1,"visibility_off"),i.qZA())}function sd(a,t){if(1&a&&(i.TgZ(0,"mat-icon"),i._uU(1),i.qZA()),2&a){const e=i.oxw().$implicit;i.xp6(1),i.Oqu(e.isExpanded?"expand_less":"expand_more")}}function hc(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",16),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).clickRemoteItem(d),o.stopPropagation()})("dblclick",function(){const s=i.CHM(e).$implicit;return i.oxw(2).dblClickRemoteItem(s)})("contextmenu",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).openRemoteItemContextMenu(o,d)}),i.TgZ(1,"span",17),i._uU(2),i.qZA(),i.TgZ(3,"div",25),i.TgZ(4,"button",18),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).toggleRemoteItemVisibility(o,d)}),i.TgZ(5,"mat-icon"),i._uU(6),i.qZA(),i.qZA(),i.YNc(7,sd,2,1,"mat-icon",26),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(2);i.ekj("is-sub-item","remote-branch"===e.type),i.Q6J("title",e.title),i.xp6(2),i.Oqu(e.name),i.xp6(2),i.ekj("show",null!==e.invisible),i.Q6J("title",n.visibilityTitle(e.invisible)),i.xp6(2),i.Oqu(e.invisible?"visibility_off":"visibility"),i.xp6(1),i.Q6J("ngIf","remote"===e.type)}}function wl(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"mat-expansion-panel",19),i.NdJ("afterCollapse",function(){return i.CHM(e),i.oxw().updateViewportSizes()})("afterExpand",function(){return i.CHM(e),i.oxw().updateViewportSizes()}),i.TgZ(1,"mat-expansion-panel-header"),i.TgZ(2,"mat-panel-title"),i.TgZ(3,"mat-icon",2),i._uU(4,"cloud_queue"),i.qZA(),i._uU(5," Remote "),i.YNc(6,uc,2,0,"mat-icon",20),i.qZA(),i.qZA(),i.TgZ(7,"cdk-virtual-scroll-viewport",3,21),i.TgZ(9,"ul",22),i.YNc(10,hc,8,9,"li",23),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw();i.xp6(6),i.Q6J("ngIf",n.remotesInvisible(e)),i.xp6(1),i.Q6J("itemSize",28),i.xp6(3),i.Q6J("cdkVirtualForOf",e)("cdkVirtualForTrackBy",n.remoteItemTrackBy)}}function fc(a,t){1&a&&(i.TgZ(0,"mat-icon",24),i._uU(1,"visibility_off"),i.qZA())}function yl(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",28),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).jumpToCommit(s.commitId)})("contextmenu",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).openContextMenu(o,"tag",d.name,d.commitId)}),i.TgZ(1,"span",17),i._uU(2),i.qZA(),i.TgZ(3,"button",18),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).toggleRefVisibility(o,d.refName)}),i.TgZ(4,"mat-icon"),i._uU(5),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(2);i.Q6J("title",e.refName),i.xp6(2),i.Oqu(e.name),i.xp6(1),i.ekj("show",null!==e.invisible),i.Q6J("title",n.visibilityTitle(e.invisible)),i.xp6(2),i.Oqu(e.invisible?"visibility_off":"visibility")}}function Oo(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"mat-expansion-panel",19),i.NdJ("afterCollapse",function(){return i.CHM(e),i.oxw().updateViewportSizes()})("afterExpand",function(){return i.CHM(e),i.oxw().updateViewportSizes()}),i.TgZ(1,"mat-expansion-panel-header"),i.TgZ(2,"mat-panel-title"),i.TgZ(3,"mat-icon",2),i._uU(4,"label"),i.qZA(),i._uU(5," Tag "),i.YNc(6,fc,2,0,"mat-icon",20),i.qZA(),i.qZA(),i.TgZ(7,"cdk-virtual-scroll-viewport",3),i.TgZ(8,"ul",4),i.YNc(9,yl,6,6,"li",27),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw();i.xp6(6),i.Q6J("ngIf",n.tagsInvisible(e)),i.xp6(1),i.Q6J("itemSize",28),i.xp6(2),i.Q6J("cdkVirtualForOf",e)("cdkVirtualForTrackBy",n.branchTrackBy)}}function Sl(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.checkoutBranch(o.name),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"get_app"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data;i.Q6J("title","Checkout branch "+e.name),i.xp6(4),i.hij("Checkout branch ",e.name,"")}}function Ls(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.checkoutRemoteBranch(o.remoteName,o.commitId,s.removeRemoteFromName(o.name)),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"get_app"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data,n=i.oxw();i.Q6J("title","Checkout branch "+n.removeRemoteFromName(e.name)),i.xp6(4),i.hij("Checkout branch ",n.removeRemoteFromName(e.name),"")}}function Hr(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.checkoutRemoteBranch(o.remoteName,o.commitId,s.removeRemoteFromName(o.name)),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"arrow_downward"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data;i.Q6J("title","Create local branch from "+e.name),i.xp6(4),i.hij("Create local branch from ",e.name,"")}}function gc(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(4).data,m=i.oxw();return m.merge(d.name,s.commitId,s.name),m.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(5);i.ekj("bold",e.name===i.lcZ(1,4,n.currentBranch)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name)}}function fr(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(4).data,m=i.oxw();return m.merge(d.name,s.commitId,s.name),m.closeContextMenu()}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit;i.Q6J("title",e.name),i.xp6(1),i.Oqu(e.name)}}function tr(a,t){if(1&a&&(i.TgZ(0,"div",37),i.YNc(1,gc,3,6,"button",38),i.YNc(2,fr,2,2,"button",39),i.ALo(3,"async"),i.qZA()),2&a){const e=i.oxw().ngIf,n=i.oxw(2).data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(e,n.commitId)),i.xp6(1),i.Q6J("ngForOf",o.filterBranches(i.lcZ(3,2,o.remoteBranches),n.commitId))}}function La(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",32,33),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(2),d=i.MAs(9);return i.oxw(3).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",34),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",35),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,tr,4,4,"ng-template",null,36,i.W1O),i.BQk()}if(2&a){const e=i.oxw(2).data;i.xp6(1),i.Q6J("title","Merge into "+e.name+" from..."),i.xp6(4),i.hij("Merge into ",e.name," from")}}function gu(a,t){if(1&a&&(i.ynx(0),i.YNc(1,La,10,2,"ng-container",26),i.ALo(2,"async"),i.BQk()),2&a){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,e.local))}}function xl(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(3).data,m=i.oxw();return m.merge(s.name,d.commitId,d.name),m.closeContextMenu()}),i.ALo(1,"async"),i._uU(2),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(4);i.ekj("bold",e.name===i.lcZ(1,4,n.currentBranch)),i.Q6J("title",e.name),i.xp6(2),i.Oqu(e.name)}}function mu(a,t){if(1&a&&(i.TgZ(0,"div",37),i.YNc(1,xl,3,6,"button",38),i.qZA()),2&a){const e=i.oxw().ngIf,n=i.oxw().data,o=i.oxw();i.xp6(1),i.Q6J("ngForOf",o.filterBranches(e,n.commitId))}}function zr(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",32,40),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(2),d=i.MAs(9);return i.oxw(2).openSubMenu(o,s,d)}),i._UZ(3,"mat-icon",34),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.TgZ(6,"mat-icon",35),i._uU(7,"chevron_right"),i.qZA(),i.qZA(),i.YNc(8,mu,2,1,"ng-template",null,41,i.W1O),i.BQk()}if(2&a){const e=i.oxw().data;let n,o;i.xp6(1),i.Q6J("title","Merge from "+(null!==(n="tag"!==e.type?e.name:null)&&void 0!==n?n:"this commit")+" into..."),i.xp6(4),i.hij("Merge from ",null!==(o="tag"!==e.type?e.name:null)&&void 0!==o?o:"this commit"," into")}}function Za(a,t){if(1&a&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&a){const e=i.oxw(2).data,n=i.oxw();i.xp6(1),i.hij("Pull from ",n.formatUpstreamName(e.upstreamName),"")}}function pu(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data;return i.oxw().pull(o.name)}),i.TgZ(1,"mat-icon"),i._uU(2,"arrow_downward"),i.qZA(),i.YNc(3,Za,2,1,"span",26),i.qZA()}if(2&a){const e=i.oxw().data,n=i.oxw();i.Q6J("title","Pull from upstream branch "+n.formatUpstreamName(e.upstreamName)),i.xp6(3),i.Q6J("ngIf",e.upstreamName)}}function rd(a,t){if(1&a&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&a){const e=i.oxw(2).data,n=i.oxw();i.xp6(1),i.hij("Change upstream branch from ",n.formatUpstreamName(e.upstreamName)," to")}}function Ur(a,t){1&a&&(i.TgZ(0,"span"),i._uU(1,"Set upstream branch to"),i.qZA())}function Lr(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32,42),i.NdJ("click",function(o){i.CHM(e);const s=i.MAs(1);i.oxw();const d=i.MAs(11);return i.oxw().openSubMenu(o,s,d)}),i.TgZ(2,"mat-icon"),i._uU(3,"keyboard_double_arrow_up"),i.qZA(),i.YNc(4,rd,2,1,"span",26),i.YNc(5,Ur,2,0,"span",26),i.TgZ(6,"mat-icon",35),i._uU(7,"chevron_right"),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data,n=i.oxw();i.Q6J("title",e.upstreamName?"Change upstream branch from "+n.formatUpstreamName(e.upstreamName)+" to":"Set upstream branch to"),i.xp6(4),i.Q6J("ngIf",e.upstreamName),i.xp6(1),i.Q6J("ngIf",!e.upstreamName)}}function fi(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){const s=i.CHM(e).$implicit,d=i.oxw(2).data,m=i.oxw();return m.setUpstreamBranch(d.name,s.name),m.closeContextMenu()}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit;i.Q6J("title",e.name),i.xp6(1),i.Oqu(e.name)}}function ns(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",37),i.TgZ(1,"button",43),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.setUpstreamBranch(o.name,null),s.closeContextMenu()}),i._uU(2,"None"),i.qZA(),i.YNc(3,fi,2,2,"button",39),i.ALo(4,"async"),i.qZA()}if(2&a){const e=i.oxw(2);i.xp6(3),i.Q6J("ngForOf",i.lcZ(4,1,e.remoteBranches))}}function fs(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.renameBranch(o.name,o.type),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"drive_file_rename_outline"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data;i.Q6J("title","Rename "+e.typeName+" "+e.name),i.xp6(4),i.AsE("Rename ",e.typeName," ",e.name,"")}}function Ms(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"button",32),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().data,s=i.oxw();return s.deleteBranchOrTag(o.name,o.type),s.closeContextMenu()}),i.TgZ(1,"mat-icon"),i._uU(2,"delete"),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().data;i.Q6J("title","Delete "+e.typeName+" "+e.name),i.xp6(4),i.AsE("Delete ",e.typeName," ",e.name,"")}}function Jo(a,t){if(1&a&&(i.TgZ(0,"div",29),i.YNc(1,Sl,5,2,"button",30),i.ALo(2,"async"),i.YNc(3,Ls,5,2,"button",30),i.YNc(4,Hr,5,2,"button",30),i.YNc(5,gu,3,3,"ng-container",26),i.YNc(6,zr,10,2,"ng-container",26),i.ALo(7,"async"),i.YNc(8,pu,4,2,"button",30),i.YNc(9,Lr,8,3,"button",30),i.YNc(10,ns,5,3,"ng-template",null,31,i.W1O),i.YNc(12,fs,5,3,"button",30),i.YNc(13,Ms,5,3,"button",30),i.qZA()),2&a){const e=t.data,n=i.oxw();i.xp6(1),i.Q6J("ngIf","local"===e.type&&e.name!==i.lcZ(2,9,n.currentBranch)),i.xp6(2),i.Q6J("ngIf","remote"===e.type&&n.localBranchExists(n.removeRemoteFromName(e.name))),i.xp6(1),i.Q6J("ngIf","remote"===e.type&&!n.localBranchExists(n.removeRemoteFromName(e.name))),i.xp6(1),i.Q6J("ngIf","local"===e.type),i.xp6(1),i.Q6J("ngIf",i.lcZ(7,11,n.local)),i.xp6(2),i.Q6J("ngIf","local"===e.type&&e.upstreamName),i.xp6(1),i.Q6J("ngIf","local"===e.type),i.xp6(3),i.Q6J("ngIf","local"===e.type),i.xp6(1),i.Q6J("ngIf","remote"!==e.type)}}function Ds(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",29),i.TgZ(1,"button",32),i.NdJ("click",function(){const s=i.CHM(e).data,d=i.oxw();return d.editRemote(s),d.closeContextMenu()}),i.TgZ(2,"mat-icon"),i._uU(3,"edit"),i.qZA(),i.TgZ(4,"span"),i._uU(5),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.data;i.xp6(1),i.Q6J("title","Edit remote "+e),i.xp6(4),i.hij("Edit remote ",e,"")}}function mc(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",44),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw().openSubmodule(s)}),i.TgZ(1,"span",17),i._uU(2),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit;i.oxw();const n=i.MAs(36);i.Q6J("title",e)("appContextMenu",n)("appContextMenuData",e),i.xp6(2),i.Oqu(e)}}function Ma(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",29),i.TgZ(1,"button",32),i.NdJ("click",function(){const s=i.CHM(e).data;return i.oxw().editSubmodule(s)}),i.TgZ(2,"mat-icon"),i._uU(3,"edit"),i.qZA(),i.TgZ(4,"span"),i._uU(5,"Edit"),i.qZA(),i.qZA(),i.TgZ(6,"button",32),i.NdJ("click",function(){const s=i.CHM(e).data;return i.oxw().deleteSubmodule(s)}),i.TgZ(7,"mat-icon"),i._uU(8,"delete"),i.qZA(),i.TgZ(9,"span"),i._uU(10,"Delete"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.data;i.xp6(1),i.Q6J("title",e.name),i.xp6(5),i.Q6J("title",e.name)}}function Ri(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"h2",45),i._uU(1,"Add Submodule"),i.qZA(),i.TgZ(2,"form",46),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"div"),i.TgZ(5,"mat-form-field",47,48),i.TgZ(7,"mat-icon",49),i._uU(8,"public"),i.qZA(),i.TgZ(9,"mat-label"),i._uU(10,"URL"),i.qZA(),i._UZ(11,"input",50),i.qZA(),i.TgZ(12,"mat-form-field",51,52),i.TgZ(14,"mat-label"),i._uU(15,"Path to clone to"),i.qZA(),i.TgZ(16,"mat-icon",49),i._uU(17,"folder"),i.qZA(),i._UZ(18,"input",53),i.TgZ(19,"button",54),i.NdJ("click",function(){return i.CHM(e),i.oxw().browsePath()}),i._uU(20,"Browse"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(21,"mat-dialog-actions"),i.TgZ(22,"button",55),i._uU(23,"Cancel"),i.qZA(),i.TgZ(24,"button",56),i._uU(25,"Add"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=i.oxw();i.xp6(2),i.Q6J("formGroup",e.addSubmoduleForm.ng),i.xp6(20),i.Q6J("mat-dialog-close",null),i.xp6(2),i.Q6J("mat-dialog-close",e.addSubmoduleForm.value)("disabled",e.addSubmoduleForm.invalid)}}function so(a,t){if(1&a&&(i.TgZ(0,"h2",45),i._uU(1),i.qZA(),i.TgZ(2,"form",57),i.TgZ(3,"mat-dialog-content"),i.TgZ(4,"div"),i.TgZ(5,"mat-form-field",47,58),i.TgZ(7,"mat-icon",49),i._uU(8,"public"),i.qZA(),i.TgZ(9,"mat-label"),i._uU(10,"URL"),i.qZA(),i._UZ(11,"input",50),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"mat-dialog-actions"),i.TgZ(13,"button",55),i._uU(14,"Cancel"),i.qZA(),i.TgZ(15,"button",59),i._uU(16,"Confirm"),i.qZA(),i.qZA(),i.qZA()),2&a){const e=t.$implicit,n=i.oxw();i.xp6(1),i.hij("Edit Submodule ",e.name,""),i.xp6(1),i.Q6J("formGroup",n.editSubmoduleForm.ng),i.xp6(11),i.Q6J("mat-dialog-close",null),i.xp6(2),i.Q6J("mat-dialog-close",n.editSubmoduleForm.value)}}function Ho(a,t){if(1&a&&(i.TgZ(0,"h2",45),i._uU(1,"Remove Submodule"),i.qZA(),i.TgZ(2,"mat-dialog-content"),i._uU(3),i.qZA(),i.TgZ(4,"mat-dialog-actions"),i.TgZ(5,"button",55),i._uU(6,"Cancel"),i.qZA(),i.TgZ(7,"button",60),i._uU(8,"Confirm"),i.qZA(),i.qZA()),2&a){const e=t.$implicit;i.xp6(3),i.hij(" Submodule ",e.name," has uncommitted changes, are you sure you want to remove it? "),i.xp6(2),i.Q6J("mat-dialog-close",null),i.xp6(2),i.Q6J("mat-dialog-close",!0)}}let To=(()=>{class a extends((0,dn.j)(Ln.A)){constructor(e,n,o,s,d,m,R,U){super(),this.overlay=e,this.router=n,this.viewContainerRef=o,this.dialog=s,this.store=d,this.filesApi=m,this.submodulesApi=R,this.repositoryActionsService=U,this.currentBranch=this.store.select(rn.E.selectedRepositoryCurrentBranch).pipe((0,nt.U)(F=>F?.replace(/^refs\/heads\//,""))),this.hasSubmodules=this.selectedRepositorySubmodules.pipe((0,nt.U)(F=>F.length>0)),this.addSubmoduleForm=new Xt.CN({path:new Xt.rV,url:new Xt.rV}),this.editSubmoduleForm=new Xt.CN({url:new Xt.rV}),this.addSubmoduleDialogRef=null,this.editSubmoduleDialogRef=null,this.overlayRef=new pn.X(null),this.subMenuOverlayRef=new pn.X(null),this.tagSortCollator=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),this.openContextMenu=(F,q,_e,De,Ke=null,ct=null)=>{F.preventDefault(),F.stopPropagation(),this.closeContextMenu();const Tt=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:F.x,y:F.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});let Ot;switch(q){case"local":case"remote":Ot="branch";break;case"tag":Ot="tag";break;default:throw new Error(`Invalid branch type: ${q}`)}this.overlayRef.next(Tt),Tt.attach(new He.UE(this.branchMenuTemplate,this.viewContainerRef,{data:{type:q,typeName:Ot,name:_e,commitId:De,upstreamName:Ke,remoteName:ct}})),(0,Fn.t)(Tt).pipe((0,vt.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())},this.openRemoteContextMenu=(F,q)=>{F.preventDefault(),F.stopPropagation(),this.closeContextMenu();const _e=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:F.x,y:F.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.overlayRef.next(_e),_e.attach(new He.UE(this.remoteMenuTemplate,this.viewContainerRef,{data:q})),(0,Fn.t)(_e).pipe((0,vt.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null)),this.closeSubMenu()},this.openSubMenu=(F,q,_e)=>{F.preventDefault(),F.stopPropagation(),this.closeSubMenu();const De=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(q).withPositions([{originX:"end",originY:"top",overlayX:"start",overlayY:"top"}])});this.subMenuOverlayRef.next(De),De.attach(new He.UE(_e,this.viewContainerRef)),(0,Fn.t)(De).pipe((0,vt.q)(1),(0,Se.R)(this.destroyed$)).subscribe(()=>this.closeSubMenu())},this.closeSubMenu=()=>{this.subMenuOverlayRef.value&&(this.subMenuOverlayRef.value.dispose(),this.subMenuOverlayRef.next(null))},this.filterBranches=(F,q)=>(F??[]).filter(_e=>_e.commitId!==q),this.merge=(F,q,_e)=>{const De=this.store.selectSnapshot(rn.E.selectedRepositoryPath);De&&this.repositoryActionsService.createMerge(De,_e??null,q,F).subscribe()},this.pull=F=>{const q=this.store.selectSnapshot(rn.E.selectedRepository);if(!q)throw new Error("Cannot pull when no repository is selected");this.repositoryActionsService.pull(q.path,q.selectedRemote,this.store.selectSnapshot(rn.E.selectedRepositoryCredentials),F).subscribe()},this.browsePath=()=>{const F=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!F)throw new Error("Cannot browse submodule path when no repository is selected");this.filesApi.openFolderDialog(F).pipe((0,Ao.h)(Qo.$K),(0,Ne.w)(q=>this.filesApi.getRelativePath(F,q)),(0,Se.R)(this.destroyed$)).subscribe(q=>{this.addSubmoduleForm.controls.path.setValue(q)})},this.addSubmodule=()=>{this.addSubmoduleDialogRef&&this.addSubmoduleDialogRef.close(),this.addSubmoduleForm.reset(),this.addSubmoduleDialogRef=this.dialog.open(this.addSubmoduleDialog),this.addSubmoduleDialogRef.afterOpened().pipe((0,Se.R)(this.destroyed$)).subscribe(()=>{this.addSubmoduleDialogFormFields.forEach(F=>{F.updateOutlineGap()})}),this.addSubmoduleDialogRef.afterClosed().pipe((0,Se.R)(this.destroyed$)).subscribe(F=>{if(!F)return;if(!F.path)throw new Error("Cannot add a submodule with no path");if(!F.url)throw new Error("Cannot add a submodule with no url");const q=this.store.selectSnapshot(rn.E.selectedRepository);if(!q)throw new Error("Cannot add a submodule with no repository selected");const _e=this.store.selectSnapshot(rn.E.selectedRepositoryCredentials),De=q.selectedRemote;this.repositoryActionsService.addSubmodule(q.path,F.url,F.path,De?_e[De]??void 0:void 0).subscribe(ct=>this.store.dispatch(new _n.gz(ct.path,{profiles:q.profiles,selectedRemote:q.selectedRemote})))})},this.editSubmodule=F=>{this.editSubmoduleDialogRef&&this.editSubmoduleDialogRef.close();const q=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!q)throw new Error("Cannot edit a submodule with no repository selected");this.editSubmoduleForm.reset(),this.submodulesApi.getSubmodule(q,F).subscribe(_e=>{this.editSubmoduleForm.controls.url.setValue(_e.url,{emitEvent:!1})}),this.editSubmoduleDialogRef=this.dialog.open(this.editSubmoduleDialog,{data:{name:F}}),this.editSubmoduleDialogRef.afterOpened().pipe((0,Se.R)(this.destroyed$)).subscribe(()=>{this.editSubmoduleDialogFormFields.forEach(_e=>{_e.updateOutlineGap()})}),this.editSubmoduleDialogRef.afterClosed().pipe((0,Se.R)(this.destroyed$)).subscribe(_e=>{if(_e){if(!_e.url)throw new Error("Cannot edit a submodule with no url");this.repositoryActionsService.editSubmodule(q,F,_e.url).subscribe()}})},this.deleteSubmodule=F=>{const q=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!q)throw new Error("Cannot add a submodule with no repository selected");this.submodulesApi.deleteSubmodule(q,F,!1).pipe((0,Vt.K)(_e=>Ut.Nu.matches(_e)?(this.dialog.open(this.removeSubmoduleDialog,{data:{name:F}}).afterClosed().pipe((0,Se.R)(this.destroyed$)).subscribe(Ke=>{Ke&&this.submodulesApi.deleteSubmodule(q,F,!0).subscribe()}),lt.E):this.store.dispatch(new kt.NN("unhandled",`${_e}`)).pipe((0,Ne.w)(()=>(0,Et._)(_e))))).subscribe()},this.deleteBranchOrTag=(F,q)=>{const _e=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!_e)throw new Error("Cannot delete branch when no repository is selected");if("local"===q)this.repositoryActionsService.deleteBranch(_e,`refs/heads/${F}`).subscribe();else{if("tag"!==q)throw new Error(`Cannot delete remote branch '${F}'`);this.repositoryActionsService.deleteTag(_e,F).subscribe()}},this.renameBranch=(F,q)=>{const _e=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!_e)throw new Error("Cannot rename branch when no repository is selected");if("local"!==q)throw new Error(`Can only rename local branches, '${F}' is not valid`);this.repositoryActionsService.renameBranch(_e,F).subscribe()},this.mergeToCurrentBranch=(F,q,_e,De)=>{const Ke=this.store.selectSnapshot(rn.E.selectedRepositoryPath),ct=this.store.selectSnapshot(rn.E.selectedRepositoryCurrentBranch);if(!Ke)throw new Error("Cannot merge when no repository is selected");if(!ct)throw new Error("Cannot merge when no branch is checked out");if("local"!==_e&&"remote"!==_e&&"tag"!==_e)throw new Error("Cannot merge from the stash");this.repositoryActionsService.createMerge(Ke,"local"===_e?q:"remote"===_e?`${De}/${q}`:"tag"===_e?q:null,F,ct).subscribe()},this.getBranchName=(F,q,_e)=>{switch(q){case"local":case"tag":return F;case"remote":return`${_e}/${F}`;default:throw new Error(`Invalid branch type: ${q}`)}},this.getBranchType=F=>{switch(F){case"local":case"remote":return"branch";case"tag":return"tag";default:throw new Error(`Invalid branch type: ${F}`)}},this.toggleRefVisibility=(F,q)=>{F.preventDefault(),F.stopPropagation();const _e=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!_e)throw new Error("Cannot toggle reference visibility if no repository is selected.");let De=this.store.selectSnapshot(rn.E.selectedRepositoryVisibleReferences);De?De.findIndex(ct=>ct===q)>=0?(De=De.filter(ct=>ct!==q),De.length<=0&&(De=null)):De=[...De,q]:De=[q],this.store.dispatch([new Rt.Dr(_e,De),new _n.Vu(_e)])},this.visibilityTitle=F=>F?"Show":null===F?"Show only this":"Hide",this.remotesInvisible=F=>F.every(q=>q.invisible),this.tagsInvisible=F=>F.every(q=>q.invisible),this.localBranchExists=F=>this.store.selectSnapshot(rn.E.selectedRepositoryLocalBranches)?.some(_e=>_e.name===`refs/heads/${F}`)??!1,this.formatUpstreamName=F=>F?.replace(/^refs\/remotes\//,""),this.removeRemoteFromName=F=>F.replace(/^.*?\//,""),this.getLocalBranchName=F=>F.name.replace(/^refs\/heads\//,""),this.getRemoteName=F=>(/^refs\/remotes\/([^\/]+)\//.exec(F.name)??[])[1],this.getRemoteBranchName=F=>F.name.replace(/^refs\/remotes\/[^\/]+\//,""),this.getRemoteBranchFullName=F=>F.name.replace(/^refs\/remotes\//,""),this.getTagName=F=>F.name.replace(/^refs\/tags\//,"")}ngOnInit(){this.local=(0,st.aj)([this.selectedRepositoryLocalBranches,this.store.select(rn.E.selectedRepositoryCurrentBranch),this.store.select(rn.E.selectedRepositoryVisibleReferences)]).pipe((0,nt.U)(([n,o,s])=>{const d=n?.find(R=>R.name===o);return[...d?[d]:[],...Go(n??[],R=>R.name).filter(R=>R.name!==o)].map(R=>({commitId:R.target,name:this.getLocalBranchName(R),refName:R.name,upstreamName:R.upstreamName,invisible:s?!s.includes(R.name):null}))})),this.remoteBranches=(0,st.aj)([this.selectedRepositoryRemoteBranches,this.store.select(rn.E.selectedRepositoryVisibleReferences)]).pipe((0,nt.U)(([n,o])=>Go(n??[],s=>s.name).map(s=>({commitId:s.target,name:this.getRemoteBranchFullName(s),refName:s.name,upstreamName:null,invisible:o?!o.includes(s.name):null})))),this.remoteItems=(0,st.aj)([this.selectedRepositoryRemoteBranches,this.store.select(rn.E.selectedRepositoryVisibleReferences)]).pipe(Li(this.remoteSettings),(0,nt.U)(([[n,o],s])=>{const d=(0,$e.Z)(n,m=>this.getRemoteName(m));return Object.entries(d).flatMap(([m,R])=>{const U={type:"remote",isExpanded:s?.get(m)?.isExpanded??!1,invisible:o?!o.some(q=>q.startsWith(`refs/remotes/${m}/`)):null,name:m,title:m};return U.isExpanded?[U,...Go(R.map(q=>({type:"remote-branch",commitId:q.target,refName:q.name,remoteName:m,invisible:o?!o.includes(q.name):null,name:this.getRemoteBranchName(q),title:q.name})),q=>q.name)]:[U]})})),this.tags=(0,st.aj)([this.selectedRepositoryTags,this.store.select(rn.E.selectedRepositoryVisibleReferences)]).pipe((0,nt.U)(([n,o])=>(n??[]).map(s=>({commitId:s.target,name:this.getTagName(s),refName:s.name,upstreamName:null,invisible:o?!o.includes(s.name):null}))),(0,nt.U)(n=>n.sort((o,s)=>-this.tagSortCollator.compare(o.name,s.name))));const e=/\/([^/]*?)(?:\.git)?\/?$/;this.addSubmoduleForm.controls.url.valueChanges.pipe((0,Se.R)(this.destroyed$)).subscribe(n=>{if(this.addSubmoduleForm.controls.path.pristine||!this.addSubmoduleForm.controls.path.value){const o=e.exec(n);o&&this.addSubmoduleForm.controls.path.setValue(o[1])}})}jumpToCommit(e){this.store.selectOnce(rn.E.selectedRepositoryPath).subscribe(n=>{if(!n)throw new Error("Cannot jump to commit when no repository is selected.");this.store.dispatch([new _n.jQ(n,e),new _n.BK(n,e)])})}checkoutBranch(e){const n=this.store.selectSnapshot(rn.E.selectedRepositoryPath);n&&this.repositoryActionsService.checkoutBranch(n,`refs/heads/${e}`).subscribe()}checkoutRemoteBranch(e,n,o){if(this.store.selectSnapshot(rn.E.selectedRepositoryLocalBranches)?.find(m=>m.name===`refs/heads/${o}`))this.checkoutBranch(o);else{const m=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!m)throw new Error("Cannot checkout branch when no repository is selected");this.repositoryActionsService.createBranchWithDetails(m,n,o,`${e}/${o}`,!0).subscribe()}}openSubmodule(e){const n=this.store.selectSnapshot(rn.E.selectedRepository);if(!n)throw new Error("Cannot open a submodule when no repository is selected");const o=n.selectedRemote,s=this.store.selectSnapshot(rn.E.selectedRepositoryCredentials);this.submodulesApi.updateSubmodule(n.path,e,o?s[o]??void 0:void 0).pipe((0,Vt.K)(m=>oa.L_.matches(m)?(0,ut.of)(m.submodulePath):this.store.dispatch(new kt.NN("unhandled",`${m}`)).pipe((0,Ne.w)(()=>(0,Et._)(m)))),(0,Ne.w)(m=>this.store.dispatch(new _n.gz(m)).pipe((0,Ne.w)(()=>this.store.dispatch(new _n.he(m))),(0,Ne.w)(()=>this.store.dispatch(new _n.BZ(m)))))).subscribe()}clickRemoteItem(e){if("remote"===e.type){const n=this.store.selectSnapshot(rn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.Q7(n,e.name,{isExpanded:!e.isExpanded}))}else this.jumpToCommit(e.commitId)}dblClickRemoteItem(e){"remote-branch"===e.type&&this.checkoutRemoteBranch(e.remoteName,e.commitId,e.name)}openRemoteItemContextMenu(e,n){"remote-branch"===n.type?this.openContextMenu(e,"remote",`${n.remoteName}/${n.name}`,n.commitId,null,n.remoteName):this.openRemoteContextMenu(e,n.name)}toggleRemoteItemVisibility(e,n){if("remote-branch"===n.type)return void this.toggleRefVisibility(e,n.refName);e.preventDefault(),e.stopPropagation();const o=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!o)throw new Error("Cannot toggle reference visibility if no repository is selected.");const s=this.store.selectSnapshot(rn.E.selectedRepositoryRemoteBranches);if(!s)throw new Error("Cannot toggle remote branch visibility if there no remote branches on the repository.");let d=this.store.selectSnapshot(rn.E.selectedRepositoryVisibleReferences);d?(d=!0===n.invisible?[...d.filter(m=>!m.startsWith(`refs/remotes/${n.name}`)),...s.filter(m=>m.name.startsWith(`refs/remotes/${n.name}`)).map(m=>m.name)]:d.filter(m=>!m.startsWith(`refs/remotes/${n.name}`)),d.length<=0&&(d=null)):d=s.filter(m=>m.name.startsWith(`refs/remotes/${n.name}`)).map(m=>m.name),this.store.dispatch([new Rt.Dr(o,d),new _n.Vu(o)])}branchTrackBy(e,n){return`${n.commitId}:${n.refName}`}remoteItemTrackBy(e,n){return"remote"===n.type?n.name:n.refName}submoduleTrackBy(e,n){return n}setUpstreamBranch(e,n){const o=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!o)throw new Error("Cannot merge when no repository is selected");this.repositoryActionsService.setUpstreamBranch(o,e,n).subscribe()}editRemote(e){const n=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(!n)throw new Error("Cannot edit remote when no repository is selected");this.router.navigate(["/settings/repositories"],{queryParams:{id:n}})}updateViewportSizes(){this.viewports?.forEach(e=>e.checkViewportSize())}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Je.aV),i.Y36(Ae.F0),i.Y36(i.s_b),i.Y36(g.uw),i.Y36(Pe.yh),i.Y36(Vr.k),i.Y36(pi.N),i.Y36(Di))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-branches-view"]],viewQuery:function(e,n){if(1&e&&(i.Gf(fu,5),i.Gf(Jr,5),i.Gf(cc,5),i.Gf(sa,5),i.Gf($a,5),i.Gf(dc,5),i.Gf(ra,5),i.Gf(oo.N7,5)),2&e){let o;i.iGM(o=i.CRH())&&(n.branchMenuTemplate=o.first),i.iGM(o=i.CRH())&&(n.remoteMenuTemplate=o.first),i.iGM(o=i.CRH())&&(n.addSubmoduleDialog=o.first),i.iGM(o=i.CRH())&&(n.editSubmoduleDialog=o.first),i.iGM(o=i.CRH())&&(n.removeSubmoduleDialog=o.first),i.iGM(o=i.CRH())&&(n.addSubmoduleDialogFormFields=o),i.iGM(o=i.CRH())&&(n.editSubmoduleDialogFormFields=o),i.iGM(o=i.CRH())&&(n.viewports=o)}},features:[i.qOj],decls:43,vars:23,consts:[["multi",""],["expanded","",1,"local-panel",3,"afterCollapse","afterExpand"],[1,"title-icon"],[1,"item-list-container",3,"itemSize"],[1,"item-list"],["class","item",3,"selected","title","click","dblclick","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"afterCollapse","afterExpand",4,"ngIf"],["branchContextMenu",""],["remoteContextMenu",""],[1,"submodules-panel",3,"expanded","afterCollapse","afterExpand"],["class","item",3,"title","appContextMenu","appContextMenuData","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["type","button","mat-stroked-button","","title","Add submodule",1,"add-submodule-button",3,"click"],["submoduleContextMenu",""],["addSubmoduleDialog",""],["editSubmoduleDialog",""],["removeSubmoduleDialog",""],[1,"item",3,"title","click","dblclick","contextmenu"],[1,"text"],["type","button","mat-icon-button","",1,"visibility-button",3,"title","click"],[3,"afterCollapse","afterExpand"],["class","visible-icon",4,"ngIf"],["remoteViewport",""],[1,"item-list","remote-item-list"],["class","item",3,"is-sub-item","title","click","dblclick","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"visible-icon"],[1,"icons"],[4,"ngIf"],["class","item",3,"title","click","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"item",3,"title","click","contextmenu"],[1,"menu-panel"],["class","menu-item",3,"title","click",4,"ngIf"],["upstream",""],[1,"menu-item",3,"title","click"],["mergeToButton",""],["svgIcon","source-merge"],[1,"expand-icon"],["mergeTo",""],[1,"menu-panel","sub-menu-1"],["class","menu-item",3,"bold","title","click",4,"ngFor","ngForOf"],["class","menu-item",3,"title","click",4,"ngFor","ngForOf"],["mergeFromButton",""],["mergeFrom",""],["upstreamButton",""],[1,"menu-item",3,"click"],[1,"item",3,"title","appContextMenu","appContextMenuData","click"],["mat-dialog-title",""],[1,"add-submodule-form",3,"formGroup"],[1,"url"],["addSubmoduleDialogFormField1",""],["matPrefix",""],["type","text","matInput","","required","","formControlName","url"],[1,"path"],["addSubmoduleDialogFormField2",""],["type","text","matInput","","required","","formControlName","path"],["type","button","matSuffix","","mat-button","",3,"click"],["type","button","mat-button","",3,"mat-dialog-close"],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close","disabled"],[1,"edit-submodule-form",3,"formGroup"],["editSubmoduleDialogFormField1",""],["type","submit","mat-flat-button","","color","primary",3,"mat-dialog-close"],["type","submit","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(e,n){1&e&&(i.TgZ(0,"mat-accordion",0),i.TgZ(1,"mat-expansion-panel",1),i.NdJ("afterCollapse",function(){return n.updateViewportSizes()})("afterExpand",function(){return n.updateViewportSizes()}),i.TgZ(2,"mat-expansion-panel-header"),i.TgZ(3,"mat-panel-title"),i.TgZ(4,"mat-icon",2),i._uU(5,"desktop_windows"),i.qZA(),i._uU(6," Local"),i.qZA(),i.qZA(),i.TgZ(7,"cdk-virtual-scroll-viewport",3),i.TgZ(8,"ul",4),i.YNc(9,xa,7,10,"li",5),i.ALo(10,"async"),i.qZA(),i.qZA(),i.qZA(),i.YNc(11,wl,11,4,"mat-expansion-panel",6),i.ALo(12,"nullEmpty"),i.ALo(13,"async"),i.YNc(14,Oo,10,4,"mat-expansion-panel",6),i.ALo(15,"nullEmpty"),i.ALo(16,"async"),i.YNc(17,Jo,14,13,"ng-template",null,7,i.W1O),i.YNc(19,Ds,6,2,"ng-template",null,8,i.W1O),i.TgZ(21,"mat-expansion-panel",9),i.NdJ("afterCollapse",function(){return n.updateViewportSizes()})("afterExpand",function(){return n.updateViewportSizes()}),i.ALo(22,"async"),i.TgZ(23,"mat-expansion-panel-header"),i.TgZ(24,"mat-panel-title"),i.TgZ(25,"mat-icon",2),i._uU(26,"layers"),i.qZA(),i._uU(27," Submodule"),i.qZA(),i.qZA(),i.TgZ(28,"cdk-virtual-scroll-viewport",3),i.TgZ(29,"ul",4),i.YNc(30,mc,3,4,"li",10),i.ALo(31,"async"),i.qZA(),i.qZA(),i.TgZ(32,"button",11),i.NdJ("click",function(){return n.addSubmodule()}),i.TgZ(33,"mat-icon"),i._uU(34,"add"),i.qZA(),i.qZA(),i.YNc(35,Ma,11,2,"ng-template",null,12,i.W1O),i.YNc(37,Ri,26,4,"ng-template",null,13,i.W1O),i.YNc(39,so,17,4,"ng-template",null,14,i.W1O),i.YNc(41,Ho,9,3,"ng-template",null,15,i.W1O),i.qZA(),i.qZA()),2&e&&(i.xp6(7),i.Q6J("itemSize",28),i.xp6(2),i.Q6J("cdkVirtualForOf",i.lcZ(10,9,n.local))("cdkVirtualForTrackBy",n.branchTrackBy),i.xp6(2),i.Q6J("ngIf",i.lcZ(12,11,i.lcZ(13,13,n.remoteItems))),i.xp6(3),i.Q6J("ngIf",i.lcZ(15,15,i.lcZ(16,17,n.tags))),i.xp6(7),i.Q6J("expanded",i.lcZ(22,19,n.hasSubmodules)),i.xp6(7),i.Q6J("itemSize",28),i.xp6(2),i.Q6J("cdkVirtualForOf",i.lcZ(31,21,n.selectedRepositorySubmodules))("cdkVirtualForTrackBy",n.submoduleTrackBy))},directives:[Y.pp,Y.ib,Y.yz,Y.yK,Cn.Hw,oo.N7,oo.xd,oo.x0,qt.O5,yn.lW,qt.sg,Bs.l,g.uh,oe._Y,oe.JL,oe.sg,g.xY,W.KE,W.qo,W.hX,M.Nt,oe.Fj,oe.Q7,oe.JJ,oe.u,W.R9,g.H8,g.ZT],pipes:[qt.Ov,xn.x],styles:["[_nghost-%COMP%]{display:block;height:100%;padding:0 10px 10px}mat-accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:100%}mat-expansion-panel[_ngcontent-%COMP%]{flex-shrink:3;display:flex;flex-direction:column;min-height:36px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]{min-height:96px}mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%] + mat-expansion-panel.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0 0 16px}mat-expansion-panel.mat-expansion-panel-spacing.submodules-panel[_ngcontent-%COMP%]{min-height:146px;margin-bottom:0!important}mat-expansion-panel.local-panel[_ngcontent-%COMP%]{flex-shrink:1}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:36px;padding:0 20px;flex:0 0 auto}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{height:48px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{line-height:24px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{margin-right:10px}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   .visible-icon[_ngcontent-%COMP%]{position:absolute;right:42px}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content{overflow:hidden}mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content .mat-expansion-panel-body{display:flex;flex-direction:column;overflow:hidden;padding:0 0 20px 16px}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]{contain:content;scrollbar-gutter:stable}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}mat-expansion-panel[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%] > .item-list[_ngcontent-%COMP%]{padding-right:8px}.item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;cursor:pointer;line-height:28px;height:28px;user-select:none}.item.is-sub-item[_ngcontent-%COMP%]{padding-left:10px}.item.selected[_ngcontent-%COMP%]{font-weight:700}.item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:1px}.item[_ngcontent-%COMP%] > .icons[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#ffffffb3;line-height:28px;margin-left:5px}.item[_ngcontent-%COMP%]   .visibility-button[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px;font-size:0;opacity:0;transition:opacity .3s ease-in-out}.item[_ngcontent-%COMP%]   .visibility-button[_ngcontent-%COMP%]:hover{opacity:1}.item[_ngcontent-%COMP%]   .visibility-button.show[_ngcontent-%COMP%]{opacity:1}.sub-list[_ngcontent-%COMP%]{margin-left:10px}.add-submodule-button[_ngcontent-%COMP%]{align-self:stretch;margin-top:10px;margin-right:20px}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:Montserrat;font-size:14px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:bold}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}.add-submodule-form[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]{min-width:600px}.add-submodule-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .edit-submodule-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.add-submodule-form[_ngcontent-%COMP%]     .mat-form-field-prefix, .edit-submodule-form[_ngcontent-%COMP%]     .mat-form-field-prefix{margin-right:10px}.add-submodule-form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]     .mat-form-field-suffix, .edit-submodule-form[_ngcontent-%COMP%]   .path[_ngcontent-%COMP%]     .mat-form-field-suffix{top:-.25em}"],changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryPath)],a.prototype,"selectedRepositoryPath",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryLocalBranches)],a.prototype,"selectedRepositoryLocalBranches",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryRemoteBranches)],a.prototype,"selectedRepositoryRemoteBranches",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryTags)],a.prototype,"selectedRepositoryTags",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositorySubmodules)],a.prototype,"selectedRepositorySubmodules",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryRemoteSettings)],a.prototype,"remoteSettings",void 0),a})();var ds=p(98798),Ti=p(70031),nr=p(14724),aa=Object.defineProperty,Rh=Object.getOwnPropertyDescriptor,ad=Object.getOwnPropertyNames,Da=Object.prototype.hasOwnProperty,Ga={};((a,t,e,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of ad(t))!Da.call(a,o)&&"default"!==o&&aa(a,o,{get:()=>t[o],enumerable:!(n=Rh(t,o))||n.enumerable})})(Ga,Ti);var Qa={},ld={},co=class{constructor(a){Zo(this,"_languageId"),Zo(this,"_loadingTriggered"),Zo(this,"_lazyLoadPromise"),Zo(this,"_lazyLoadPromiseResolve"),Zo(this,"_lazyLoadPromiseReject"),this._languageId=a,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,e)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=e})}static getOrCreate(a){return ld[a]||(ld[a]=new co(a)),ld[a]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,Qa[this._languageId].loader().then(a=>this._lazyLoadPromiseResolve(a),a=>this._lazyLoadPromiseReject(a))),this._lazyLoadPromise}};function Bn(a){const t=a.id;Qa[t]=a,Ga.languages.register(a);const e=co.getOrCreate(t);var n;Ga.languages.registerTokensProviderFactory(t,{create:(n=(0,nr.Z)(function*(){return(yield e.load()).language}),function(){return n.apply(this,arguments)})}),Ga.languages.onLanguage(t,(0,nr.Z)(function*(){const n=yield e.load();Ga.languages.setLanguageConfiguration(t,n.conf)}))}Bn({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>p.e(1537).then(p.bind(p,61537))}),Bn({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>p.e(1567).then(p.bind(p,11567))}),Bn({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>p.e(9815).then(p.bind(p,89815))}),Bn({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>p.e(929).then(p.bind(p,929))}),Bn({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>p.e(2925).then(p.bind(p,99307))}),Bn({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>p.e(1564).then(p.bind(p,41564))}),Bn({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>p.e(8948).then(p.bind(p,44689))}),Bn({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>p.e(9952).then(p.bind(p,79952))}),Bn({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>p.e(3902).then(p.bind(p,83902))}),Bn({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>p.e(3902).then(p.bind(p,83902))}),Bn({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>p.e(1695).then(p.bind(p,11695))}),Bn({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>p.e(3417).then(p.bind(p,43417))}),Bn({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>p.e(5344).then(p.bind(p,5344))}),Bn({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>p.e(8183).then(p.bind(p,48183))}),Bn({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>p.e(4387).then(p.bind(p,14387))}),Bn({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>p.e(8401).then(p.bind(p,48401))}),Bn({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>p.e(2503).then(p.bind(p,32503))}),Bn({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>p.e(5437).then(p.bind(p,95437))}),Bn({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>p.e(8248).then(p.bind(p,38248))}),Bn({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>p.e(3980).then(p.bind(p,13980)).then(a=>a.TagAutoInterpolationDollar)}),Bn({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>p.e(3980).then(p.bind(p,13980)).then(a=>a.TagAngleInterpolationDollar)}),Bn({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>p.e(3980).then(p.bind(p,13980)).then(a=>a.TagBracketInterpolationDollar)}),Bn({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>p.e(3980).then(p.bind(p,13980)).then(a=>a.TagAngleInterpolationBracket)}),Bn({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>p.e(3980).then(p.bind(p,13980)).then(a=>a.TagBracketInterpolationBracket)}),Bn({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>p.e(3980).then(p.bind(p,13980)).then(a=>a.TagAutoInterpolationDollar)}),Bn({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>p.e(3980).then(p.bind(p,13980)).then(a=>a.TagAutoInterpolationBracket)}),Bn({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>p.e(1842).then(p.bind(p,91842))}),Bn({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>p.e(2799).then(p.bind(p,32799))}),Bn({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>p.e(8379).then(p.bind(p,68379))}),Bn({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>p.e(2874).then(p.bind(p,82874))}),Bn({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>p.e(835).then(p.bind(p,80835))}),Bn({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>p.e(3531).then(p.bind(p,73531))}),Bn({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>p.e(9572).then(p.bind(p,19572))}),Bn({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([p.e(8592),p.e(6187)]).then(p.bind(p,26187))}),Bn({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>p.e(6863).then(p.bind(p,56863))}),Bn({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>p.e(9778).then(p.bind(p,79778))}),Bn({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>p.e(4374).then(p.bind(p,44374))}),Bn({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>p.e(8826).then(p.bind(p,68826))}),Bn({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>p.e(2741).then(p.bind(p,32741))}),Bn({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>p.e(409).then(p.bind(p,60409))}),Bn({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>p.e(7264).then(p.bind(p,57264))}),Bn({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>p.e(727).then(p.bind(p,80727))}),Bn({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>p.e(4624).then(p.bind(p,44624))}),Bn({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>p.e(7965).then(p.bind(p,27965))}),Bn({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>p.e(5984).then(p.bind(p,25984))}),Bn({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>p.e(5798).then(p.bind(p,75798))}),Bn({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>p.e(9626).then(p.bind(p,89626))}),Bn({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>p.e(12).then(p.bind(p,10012))}),Bn({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>p.e(247).then(p.bind(p,247))}),Bn({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>p.e(1343).then(p.bind(p,41343))}),Bn({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>p.e(2994).then(p.bind(p,52994))}),Bn({id:"pla",extensions:[".pla"],loader:()=>p.e(1823).then(p.bind(p,51823))}),Bn({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>p.e(3546).then(p.bind(p,23546))}),Bn({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>p.e(6419).then(p.bind(p,6419))}),Bn({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>p.e(3976).then(p.bind(p,33976))}),Bn({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>p.e(8142).then(p.bind(p,88142))}),Bn({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>p.e(1837).then(p.bind(p,41837))}),Bn({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>p.e(4677).then(p.bind(p,54677))}),Bn({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>p.e(2262).then(p.bind(p,32262))}),Bn({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>p.e(9526).then(p.bind(p,59526))}),Bn({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>p.e(3851).then(p.bind(p,33851))}),Bn({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>p.e(7498).then(p.bind(p,47498))}),Bn({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>p.e(7261).then(p.bind(p,87261))}),Bn({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>p.e(2469).then(p.bind(p,42469))}),Bn({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>p.e(2493).then(p.bind(p,52493))}),Bn({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>p.e(3432).then(p.bind(p,13432))}),Bn({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>p.e(603).then(p.bind(p,50603))}),Bn({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>p.e(1822).then(p.bind(p,1822))}),Bn({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>p.e(1533).then(p.bind(p,51533))}),Bn({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>p.e(3502).then(p.bind(p,33502))}),Bn({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>p.e(6010).then(p.bind(p,86010))}),Bn({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>p.e(8014).then(p.bind(p,78014))}),Bn({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>p.e(5271).then(p.bind(p,65271))}),Bn({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>p.e(5797).then(p.bind(p,75797))}),Bn({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>p.e(2792).then(p.bind(p,32792))}),Bn({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>p.e(2604).then(p.bind(p,2604))}),Bn({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>p.e(9110).then(p.bind(p,29110))}),Bn({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>p.e(4623).then(p.bind(p,94623))}),Bn({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>p.e(4623).then(p.bind(p,94623))}),Bn({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>p.e(2621).then(p.bind(p,2621))}),Bn({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>p.e(3648).then(p.bind(p,33648))}),Bn({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>p.e(8592).then(p.bind(p,41245))}),Bn({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>p.e(435).then(p.bind(p,20435))}),Bn({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>p.e(470).then(p.bind(p,50470))}),Bn({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>p.e(5462).then(p.bind(p,25462))});var Fh=Object.defineProperty,Ml=Object.getOwnPropertyDescriptor,Bh=Object.getOwnPropertyNames,_u=Object.prototype.hasOwnProperty,Ks={};((a,t,e,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of Bh(t))!_u.call(a,o)&&"default"!==o&&Fh(a,o,{get:()=>t[o],enumerable:!(n=Ml(t,o))||n.enumerable})})(Ks,Ti);var la=class{constructor(a,t,e){Zo(this,"_onDidChange",new Ks.Emitter),Zo(this,"_options"),Zo(this,"_modeConfiguration"),Zo(this,"_languageId"),this._languageId=a,this.setOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(a){this._options=a||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(a){this.setOptions(a)}setModeConfiguration(a){this._modeConfiguration=a||Object.create(null),this._onDidChange.fire(this)}},dd={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},ud={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Cu=new la("css",dd,ud),Cc=new la("scss",dd,ud),bc=new la("less",dd,ud);function Ya(){return p.e(6765).then(p.bind(p,26765))}Ks.languages.css={cssDefaults:Cu,lessDefaults:bc,scssDefaults:Cc},Ks.languages.onLanguage("less",()=>{Ya().then(a=>a.setupMode(bc))}),Ks.languages.onLanguage("scss",()=>{Ya().then(a=>a.setupMode(Cc))}),Ks.languages.onLanguage("css",()=>{Ya().then(a=>a.setupMode(Cu))});var ir=Object.defineProperty,Dl=Object.getOwnPropertyDescriptor,hd=Object.getOwnPropertyNames,vc=Object.prototype.hasOwnProperty,yc={};((a,t,e,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of hd(t))!vc.call(a,o)&&"default"!==o&&ir(a,o,{get:()=>t[o],enumerable:!(n=Dl(t,o))||n.enumerable})})(yc,Ti);var Ja={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function Sc(a){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:a===El,documentFormattingEdits:a===El,documentRangeFormattingEdits:a===El}}var El="html",vu="handlebars",yu=Xa(El,Ja,Sc(El)),Wh=yu.defaults,gd=Xa(vu,Ja,Sc(vu)),md=gd.defaults,Mr=Xa("razor",Ja,Sc("razor"));function Xa(a,t=Ja,e=Sc(a)){const n=new class{constructor(a,t,e){Zo(this,"_onDidChange",new yc.Emitter),Zo(this,"_options"),Zo(this,"_modeConfiguration"),Zo(this,"_languageId"),this._languageId=a,this.setOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(a){this._options=a||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(a){this._modeConfiguration=a||Object.create(null),this._onDidChange.fire(this)}}(a,t,e);let o;const s=yc.languages.onLanguage(a,(0,nr.Z)(function*(){o=(yield p.e(9630).then(p.bind(p,49630))).setupMode(n)}));return{defaults:n,dispose(){s.dispose(),o?.dispose(),o=void 0}}}yc.languages.html={htmlDefaults:Wh,razorDefaults:Mr.defaults,handlebarDefaults:md,htmlLanguageService:yu,handlebarLanguageService:gd,razorLanguageService:Mr,registerHTMLLanguageService:Xa};var Nl=Object.defineProperty,xu=Object.getOwnPropertyDescriptor,_d=Object.getOwnPropertyNames,bg=Object.prototype.hasOwnProperty,ca={};((a,t,e,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of _d(t))!bg.call(a,o)&&"default"!==o&&Nl(a,o,{get:()=>t[o],enumerable:!(n=xu(t,o))||n.enumerable})})(ca,Ti);var vd=new class{constructor(a,t,e){Zo(this,"_onDidChange",new ca.Emitter),Zo(this,"_diagnosticsOptions"),Zo(this,"_modeConfiguration"),Zo(this,"_languageId"),this._languageId=a,this.setDiagnosticsOptions(t),this.setModeConfiguration(e)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(a){this._diagnosticsOptions=a||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(a){this._modeConfiguration=a||Object.create(null),this._onDidChange.fire(this)}}("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});ca.languages.json={jsonDefaults:vd},ca.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),ca.languages.onLanguage("json",()=>{p.e(8026).then(p.bind(p,28026)).then(a=>a.setupMode(vd))}),p(99174);var jr=p(20545),Pl=p(17703),Es=(p(87155),p(37313),p(99034)),zo=p(3102),is=p(64073),Xe=(p(75777),p(44346)),ui=p(60745),pt=p(20296),Me=p(12918),Qt=p(6461),gr=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};const Ol=new Qt.uy("selectionAnchorSet",!1);let Dr=class tw{constructor(t,e){this.editor=t,this.selectionAnchorSetContextKey=Ol.bindTo(e),this.modelChangeListener=t.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(t){return t.getContribution(tw.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const t=this.editor.getPosition(),n=this.editor.deltaDecorations(this.decorationId?[this.decorationId]:[],[{range:ui.Y.fromPositions(t,t),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new zo.W5).appendText((0,Me.N)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,Es.Z9)((0,Me.N)("anchorSet","Anchor set at {0}:{1}",t.lineNumber,t.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const t=this.editor.getModel().getDecorationRange(this.decorationId);t&&this.editor.setPosition(t.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const t=this.editor.getModel().getDecorationRange(this.decorationId);if(t){const e=this.editor.getPosition();this.editor.setSelection(ui.Y.fromPositions(t.getStartPosition(),e)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var t;Dr.ID="editor.contrib.selectionAnchorController",Dr=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([(1,t=Qt.i6,function(e,n){t(e,n,1)})],Dr),(0,Xe._K)(Dr.ID,Dr),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,Me.N)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2080),weight:100}})}run(t,e){var n;return gr(this,void 0,void 0,function*(){null===(n=Dr.get(e))||void 0===n||n.setSelectionAnchor()})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,Me.N)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:Ol})}run(t,e){var n;return gr(this,void 0,void 0,function*(){null===(n=Dr.get(e))||void 0===n||n.goToSelectionAnchor()})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,Me.N)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:Ol,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2089),weight:100}})}run(t,e){var n;return gr(this,void 0,void 0,function*(){null===(n=Dr.get(e))||void 0===n||n.selectFromAnchorToCursor()})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,Me.N)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:Ol,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:9,weight:100}})}run(t,e){var n;return gr(this,void 0,void 0,function*(){null===(n=Dr.get(e))||void 0===n||n.cancelSelectionAnchor()})}});var Hn=p(89983),At=p(40189),qn=(p(11009),p(67947)),It=p(1873),os=p(80067),qi=p(45023),Te=p(79695),r=p(46842),l=p(98275),_=p(53323);const k=(0,l.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},Me.N("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class he{constructor(t,e,n){this.position=t,this.brackets=e,this.options=n}}class we extends At.JT{constructor(t){super(),this._editor=t,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new Hn.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(t.onDidChangeCursorPosition(e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModelContent(e=>{this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModel(e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeModelLanguageConfiguration(e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(t.onDidChangeConfiguration(e=>{e.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(t.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(t.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(t){return t.getContribution(we.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const t=this._editor.getModel(),e=this._editor.getSelections().map(n=>{const o=n.getStartPosition(),s=t.bracketPairs.matchBracket(o);let d=null;if(s)s[0].containsPosition(o)?d=s[1].getStartPosition():s[1].containsPosition(o)&&(d=s[0].getStartPosition());else{const m=t.bracketPairs.findEnclosingBrackets(o);if(m)d=m[0].getStartPosition();else{const R=t.bracketPairs.findNextBracket(o);R&&R.range&&(d=R.range.getStartPosition())}}return d?new ui.Y(d.lineNumber,d.column,d.lineNumber,d.column):new ui.Y(o.lineNumber,o.column,o.lineNumber,o.column)});this._editor.setSelections(e),this._editor.revealRange(e[0])}selectToBracket(t){if(!this._editor.hasModel())return;const e=this._editor.getModel(),n=[];this._editor.getSelections().forEach(o=>{const s=o.getStartPosition();let d=e.bracketPairs.matchBracket(s);if(!d&&(d=e.bracketPairs.findEnclosingBrackets(s),!d)){const U=e.bracketPairs.findNextBracket(s);U&&U.range&&(d=e.bracketPairs.matchBracket(U.range.getStartPosition()))}let m=null,R=null;if(d){d.sort(It.e.compareRangesUsingStarts);const[U,F]=d;if(m=t?U.getStartPosition():U.getEndPosition(),R=t?F.getEndPosition():F.getStartPosition(),F.containsPosition(s)){const q=m;m=R,R=q}}m&&R&&n.push(new ui.Y(m.lineNumber,m.column,R.lineNumber,R.column))}),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let t=[],e=0;for(const n of this._lastBracketsData){let o=n.brackets;o&&(t[e++]={range:o[0],options:n.options},t[e++]={range:o[1],options:n.options})}this._decorations=this._editor.deltaDecorations(this._decorations,t)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getSelections();if(t.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getModel(),n=e.getVersionId();let o=[];this._lastVersionId===n&&(o=this._lastBracketsData);let s=[],d=0;for(let q=0,_e=t.length;q<_e;q++){let De=t[q];De.isEmpty()&&(s[d++]=De.getStartPosition())}s.length>1&&s.sort(qn.L.compare);let m=[],R=0,U=0,F=o.length;for(let q=0,_e=s.length;q<_e;q++){let De=s[q];for(;U<F&&o[U].position.isBefore(De);)U++;if(U<F&&o[U].position.equals(De))m[R++]=o[U];else{let Ke=e.bracketPairs.matchBracket(De,20),ct=we._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!Ke&&"always"===this._matchBrackets&&(Ke=e.bracketPairs.findEnclosingBrackets(De,20),ct=we._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),m[R++]=new he(De,Ke,ct)}}this._lastBracketsData=m,this._lastVersionId=n}}we.ID="editor.contrib.bracketMatchingController",we._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=qi.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,_.EN)(k),position:os.sh.Center}}),we._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=qi.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,Xe._K)(we.ID,we),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.selectToBracket",label:Me.N("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(t,e,n){var o;let s=!0;n&&!1===n.selectBrackets&&(s=!1),null===(o=we.get(e))||void 0===o||o.selectToBracket(s)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.jumpToBracket",label:Me.N("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:3160,weight:100}})}run(t,e){var n;null===(n=we.get(e))||void 0===n||n.jumpToBracket()}}),(0,_.Ic)((a,t)=>{const e=a.getColor(Te.TC);e&&t.addRule(`.monaco-editor .bracket-match { background-color: ${e}; }`);const n=a.getColor(Te.Dl);n&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)}),r.BH.appendMenuItem(r.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:Me.N({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class Le{constructor(t,e){this._selection=t,this._isMovingLeft=e}getEditOperations(t,e){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,o=this._selection.startColumn,s=this._selection.endColumn;if((!this._isMovingLeft||1!==o)&&(this._isMovingLeft||s!==t.getLineMaxColumn(n)))if(this._isMovingLeft){const d=new It.e(n,o-1,n,o),m=t.getValueInRange(d);e.addEditOperation(d,null),e.addEditOperation(new It.e(n,s,n,s),m)}else{const d=new It.e(n,s,n,s+1),m=t.getValueInRange(d);e.addEditOperation(d,null),e.addEditOperation(new It.e(n,o,n,o),m)}}computeCursorState(t,e){return this._isMovingLeft?new ui.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new ui.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class ke extends Xe.R6{constructor(t,e){super(e),this.left=t}run(t,e){if(!e.hasModel())return;const n=[],o=e.getSelections();for(const s of o)n.push(new Le(s,this.left));e.pushUndoStop(),e.executeCommands(this.id,n),e.pushUndoStop()}}(0,Xe.Qr)(class extends ke{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:Me.N("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:pt.u.writable})}}),(0,Xe.Qr)(class extends ke{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:Me.N("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:pt.u.writable})}});var it=p(49317),bt=p(98596);(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.transposeLetters",label:Me.N("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(t,e){if(!e.hasModel())return;let n=e.getModel(),o=[],s=e.getSelections();for(let d of s){if(!d.isEmpty())continue;let m=d.startLineNumber,R=d.startColumn,U=n.getLineMaxColumn(m);if(1===m&&(1===R||2===R&&2===U))continue;let F=R===U?d.getPosition():bt.o.rightPosition(n,d.getPosition().lineNumber,d.getPosition().column),q=bt.o.leftPosition(n,F),_e=bt.o.leftPosition(n,q),De=n.getValueInRange(It.e.fromPositions(_e,q)),Ke=n.getValueInRange(It.e.fromPositions(q,F)),ct=It.e.fromPositions(_e,F);o.push(new it.T4(ct,Ke+De))}o.length>0&&(e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop())}});var Nt=p(47306),Ht=p(70700),cn=p(78230),en=p(57623),On=p(37323);const Tn="9_cutcopypaste",Rn=Ht.tY||document.queryCommandSupported("cut"),En=Ht.tY||document.queryCommandSupported("copy"),vn=void 0!==navigator.clipboard&&!Nt.isFirefox||document.queryCommandSupported("paste");function Ni(a){return a.register(),a}const li=Rn?Ni(new Xe.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Ht.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:r.eH.MenubarEditMenu,group:"2_ccp",title:Me.N({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:r.eH.EditorContext,group:Tn,title:Me.N("actions.clipboard.cutLabel","Cut"),when:pt.u.writable,order:1},{menuId:r.eH.CommandPalette,group:"",title:Me.N("actions.clipboard.cutLabel","Cut"),order:1},{menuId:r.eH.SimpleEditorContext,group:Tn,title:Me.N("actions.clipboard.cutLabel","Cut"),when:pt.u.writable,order:1}]})):void 0,Mo=En?Ni(new Xe.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Ht.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:r.eH.MenubarEditMenu,group:"2_ccp",title:Me.N({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:r.eH.EditorContext,group:Tn,title:Me.N("actions.clipboard.copyLabel","Copy"),order:2},{menuId:r.eH.CommandPalette,group:"",title:Me.N("actions.clipboard.copyLabel","Copy"),order:1},{menuId:r.eH.SimpleEditorContext,group:Tn,title:Me.N("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;r.BH.appendMenuItem(r.eH.MenubarEditMenu,{submenu:r.eH.MenubarCopy,title:{value:Me.N("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),r.BH.appendMenuItem(r.eH.EditorContext,{submenu:r.eH.EditorContextCopy,title:{value:Me.N("copy as","Copy As"),original:"Copy As"},group:Tn,order:3});const mo=vn?Ni(new Xe.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Ht.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:r.eH.MenubarEditMenu,group:"2_ccp",title:Me.N({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:r.eH.EditorContext,group:Tn,title:Me.N("actions.clipboard.pasteLabel","Paste"),when:pt.u.writable,order:4},{menuId:r.eH.CommandPalette,group:"",title:Me.N("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:r.eH.SimpleEditorContext,group:Tn,title:Me.N("actions.clipboard.pasteLabel","Paste"),when:pt.u.writable,order:4}]})):void 0;function eo(a,t){!a||(a.addImplementation(1e4,"code-editor",(e,n)=>{const o=e.get(en.$).getFocusedCodeEditor();if(o&&o.hasTextFocus()){const s=o.getOption(32),d=o.getSelection();return d&&d.isEmpty()&&!s||document.execCommand(t),!0}return!1}),a.addImplementation(0,"generic-dom",(e,n)=>(document.execCommand(t),!0)))}eo(li,"cut"),eo(Mo,"copy"),mo&&(mo.addImplementation(1e4,"code-editor",(a,t)=>{const e=a.get(en.$),n=a.get(On.p),o=e.getFocusedCodeEditor();return!(!o||!o.hasTextFocus())&&(!(!document.execCommand("paste")&&Ht.$L)||function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(void 0,void 0,void 0,function*(){const d=yield n.readText();if(""!==d){const m=cn.Nl.INSTANCE.get(d);let R=!1,U=null,F=null;m&&(R=o.getOption(32)&&!!m.isFromEmptySelection,U=void 0!==m.multicursorText?m.multicursorText:null,F=m.mode),o.trigger("keyboard","paste",{text:d,pasteOnNewLine:R,multicursorText:U,mode:F})}}))}),mo.addImplementation(0,"generic-dom",(a,t)=>(document.execCommand("paste"),!0))),En&&(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:Me.N("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:pt.u.textInputFocus,primary:0,weight:100}})}run(t,e){!e.hasModel()||!e.getOption(32)&&e.getSelection().isEmpty()||(cn.RA.forceCopyWithSyntaxHighlighting=!0,e.focus(),document.execCommand("copy"),cn.RA.forceCopyWithSyntaxHighlighting=!1)}});var ii=p(66607),Uo=p(90341),In=p(74243),Ns=p(48882),wi=p(3494),po=p(89822),Yn=p(13226),vo=p(85459),Al=p(55550),Ia=p(39067),to=p(10467),Kr=p(24763);class Fi{constructor(t){this.value=t}equals(t){return this.value===t.value}contains(t){return this.equals(t)||""===this.value||t.value.startsWith(this.value+Fi.sep)}intersects(t){return this.contains(t)||t.contains(this)}append(t){return new Fi(this.value+Fi.sep+t)}}function yg(a,t,e){return!(!t.contains(a)||e&&t.contains(e))}Fi.sep=".",Fi.None=new Fi("@@none@@"),Fi.Empty=new Fi(""),Fi.QuickFix=new Fi("quickfix"),Fi.Refactor=new Fi("refactor"),Fi.Source=new Fi("source"),Fi.SourceOrganizeImports=Fi.Source.append("organizeImports"),Fi.SourceFixAll=Fi.Source.append("fixAll");class da{constructor(t,e,n){this.kind=t,this.apply=e,this.preferred=n}static fromUser(t,e){return t&&"object"==typeof t?new da(da.getKindFromUser(t,e.kind),da.getApplyFromUser(t,e.apply),da.getPreferredUser(t)):new da(e.kind,e.apply,!1)}static getApplyFromUser(t,e){switch("string"==typeof t.apply?t.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return e}}static getKindFromUser(t,e){return"string"==typeof t.kind?new Fi(t.kind):e}static getPreferredUser(t){return"boolean"==typeof t.preferred&&t.preferred}}var jh=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};const Pp="editor.action.codeAction",Du="editor.action.refactor",Sg="editor.action.sourceAction",wd="editor.action.organizeImports",mr="editor.action.fixAll";class xg{constructor(t,e){this.action=t,this.provider=e}resolve(t){var e;return jh(this,void 0,void 0,function*(){if((null===(e=this.provider)||void 0===e?void 0:e.resolveCodeAction)&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,t)}catch(o){(0,Yn.Cp)(o)}n&&(this.action.edit=n.edit)}return this})}}class Kh extends At.JT{constructor(t,e,n){super(),this.documentation=e,this._register(n),this.allActions=[...t].sort(Kh.codeActionsComparator),this.validActions=this.allActions.filter(({action:o})=>!o.disabled)}static codeActionsComparator({action:t},{action:e}){return t.isPreferred&&!e.isPreferred?-1:!t.isPreferred&&e.isPreferred?1:(0,po.Of)(t.diagnostics)?(0,po.Of)(e.diagnostics)?t.diagnostics[0].message.localeCompare(e.diagnostics[0].message):-1:(0,po.Of)(e.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:t})=>!!t.kind&&Fi.QuickFix.contains(new Fi(t.kind))&&!!t.isPreferred)}}const Lg={actions:[],documentation:void 0};function Eu(a,t,e,n,o,s){var d;const m=n.filter||{},R={only:null===(d=m.include)||void 0===d?void 0:d.value,trigger:n.type},U=new Al.YQ(t,s),F=function(a,t,e){return a.all(t).filter(n=>!n.providedCodeActionKinds||n.providedCodeActionKinds.some(o=>function(a,t){return!(a.include&&!a.include.intersects(t)||a.excludes&&a.excludes.some(e=>yg(t,e,a.include))||!a.includeSourceActions&&Fi.Source.contains(t))}(e,new Fi(o))))}(a,t,m),q=new At.SL,_e=F.map(Ke=>jh(this,void 0,void 0,function*(){try{o.report(Ke);const ct=yield Ke.provideCodeActions(t,e,R,U.token);if(ct&&q.add(ct),U.token.isCancellationRequested)return Lg;const Tt=((null==ct?void 0:ct.actions)||[]).filter(tn=>tn&&function(a,t){const e=t.kind?new Fi(t.kind):void 0;return!(a.include&&(!e||!a.include.contains(e))||a.excludes&&e&&a.excludes.some(n=>yg(e,n,a.include))||!a.includeSourceActions&&e&&Fi.Source.contains(e)||a.onlyIncludePreferredActions&&!t.isPreferred)}(m,tn)),Ot=function(a,t,e){if(!a.documentation)return;const n=a.documentation.map(o=>({kind:new Fi(o.kind),command:o.command}));if(e){let o;for(const s of n)s.kind.contains(e)&&(o?o.kind.contains(s.kind)&&(o=s):o=s);if(o)return null==o?void 0:o.command}for(const o of t)if(o.kind)for(const s of n)if(s.kind.contains(new Fi(o.kind)))return s.command}(Ke,Tt,m.include);return{actions:Tt.map(tn=>new xg(tn,Ke)),documentation:Ot}}catch(ct){if((0,Yn.n2)(ct))throw ct;return(0,Yn.Cp)(ct),Lg}})),De=a.onDidChange(()=>{const Ke=a.all(t);(0,po.fS)(Ke,F)||U.cancel()});return Promise.all(_e).then(Ke=>{const ct=(0,po.xH)(Ke.map(Ot=>Ot.actions)),Tt=(0,po.kX)(Ke.map(Ot=>Ot.documentation));return new Kh(ct,Tt,q)}).finally(()=>{De.dispose(),U.dispose()})}to.P0.registerCommand("_executeCodeActionProvider",function(a,t,e,n,o){return jh(this,void 0,void 0,function*(){if(!(t instanceof vo.o))throw(0,Yn.b1)();const{codeActionProvider:s}=a.get(wi.p),d=a.get(Ia.q).getModel(t);if(!d)throw(0,Yn.b1)();const m=ui.Y.isISelection(e)?ui.Y.liftSelection(e):It.e.isIRange(e)?d.validateRange(e):void 0;if(!m)throw(0,Yn.b1)();const R="string"==typeof n?new Fi(n):void 0,U=yield Eu(s,d,m,{type:1,filter:{includeSourceActions:!0,include:R}},Kr.Ex.None,ii.T.None),F=[],q=Math.min(U.validActions.length,"number"==typeof o?o:0);for(let _e=0;_e<q;_e++)F.push(U.validActions[_e].resolve(ii.T.None));try{return yield Promise.all(F),U.validActions.map(_e=>_e.action)}finally{setTimeout(()=>U.dispose(),100)}})}),p(8546);let Er=class S1{constructor(t,e){this._messageWidget=new At.XK,this._messageListeners=new At.SL,this._editor=t,this._visible=S1.MESSAGE_VISIBLE.bindTo(e),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(S1.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(t,e){let n;(0,Es.Z9)(t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Eg(this._editor,e,t),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new Hn._F(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(o=>{!o.target.position||(n?n.containsPosition(o.target.position)||this.closeMessage():n=new It.e(e.lineNumber-3,1,o.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Eg.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(Me.N("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};Er.ID="editor.contrib.messageController",Er.MESSAGE_VISIBLE=new Qt.uy("messageVisible",!1,Me.N("messageVisible","Whether the editor is currently showing an inline message")),Er=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Qt.i6)],Er);const kp=Xe._l.bindToContribution(Er.get);(0,Xe.fK)(new kp({id:"leaveEditorMessage",precondition:Er.MESSAGE_VISIBLE,handler:a=>a.closeMessage(),kbOpts:{weight:130,primary:9}}));class Eg{constructor(t,{lineNumber:e,column:n},o){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(e,e,0),this._position={lineNumber:e,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const s=document.createElement("div");s.classList.add("anchor","top"),this._domNode.appendChild(s);const d=document.createElement("div");d.classList.add("message"),d.textContent=o,this._domNode.appendChild(d);const m=document.createElement("div");m.classList.add("anchor","below"),this._domNode.appendChild(m),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(t){let e;const n=()=>{t.dispose(),clearTimeout(e),t.getDomNode().removeEventListener("animationend",n)};return e=setTimeout(n,110),t.getDomNode().addEventListener("animationend",n),t.getDomNode().classList.add("fadeOut"),{dispose:n}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(t){this._domNode.classList.toggle("below",2===t)}}(0,Xe._K)(Er.ID,Er);var Yi=p(43569),rt=p(86678),Ws=p(50955),Rl=p(9719),Xo=p(96938),Iu=function(a,t){return function(e,n){t(e,n,a)}};class Fo extends Ws.aU{constructor(t,e){super(t.command?t.command.id:t.title,function(a){return a.replace(/\r\n|\r|\n/g," ")}(t.title),void 0,!t.disabled,e),this.action=t}}let Zh=class extends At.JT{constructor(t,e,n,o,s){super(),this._editor=t,this._delegate=e,this._contextMenuService=n,this._languageFeaturesService=s,this._visible=!1,this._showingActions=this._register(new At.XK),this._keybindingResolver=new Ap({getKeybindings:()=>o.getKeybindings()})}get isVisible(){return this._visible}show(t,e,n,o){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const s=o.includeDisabledActions?e.allActions:e.validActions;if(!s.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,Yn.F0)();this._visible=!0,this._showingActions.value=e;const d=this.getMenuActions(t,s,e.documentation),m=qn.L.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},R=this._keybindingResolver.getResolver(),U=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:U?this._editor.getDomNode():void 0,getAnchor:()=>m,getActions:()=>d,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:F=>F instanceof Fo?R(F.action):void 0})})}getMenuActions(t,e,n){var o,s;const d=F=>new Fo(F.action,()=>this._delegate.onSelectCodeAction(F)),m=e.map(d),R=[...n],U=this._editor.getModel();if(U&&m.length)for(const F of this._languageFeaturesService.codeActionProvider.all(U))F._getAdditionalMenuItems&&R.push(...F._getAdditionalMenuItems({trigger:t.type,only:null===(s=null===(o=t.filter)||void 0===o?void 0:o.include)||void 0===s?void 0:s.value},e.map(q=>q.action)));return R.length&&m.push(new Ws.Z0,...R.map(F=>d(new xg({title:F.title,command:F},void 0)))),m}_toCoords(t){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(t,1),this._editor.render();const e=this._editor.getScrolledVisiblePosition(t),n=(0,rt.i)(this._editor.getDomNode());return{x:n.left+e.left,y:n.top+e.top+e.height}}};Zh=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Iu(2,Rl.i),Iu(3,Xo.d),Iu(4,wi.p)],Zh);let Ap=(()=>{class a{constructor(e){this._keybindingProvider=e}getResolver(){const e=new Uo.o(()=>this._keybindingProvider.getKeybindings().filter(n=>a.codeActionCommands.indexOf(n.command)>=0).filter(n=>n.resolvedKeybinding).map(n=>{let o=n.commandArgs;return n.command===wd?o={kind:Fi.SourceOrganizeImports.value}:n.command===mr&&(o={kind:Fi.SourceFixAll.value}),Object.assign({resolvedKeybinding:n.resolvedKeybinding},da.fromUser(o,{kind:Fi.None,apply:"never"}))}));return n=>{if(n.kind){const o=this.bestKeybindingForCodeAction(n,e.getValue());return null==o?void 0:o.resolvedKeybinding}}}bestKeybindingForCodeAction(e,n){if(!e.kind)return;const o=new Fi(e.kind);return n.filter(s=>s.kind.contains(o)).filter(s=>!s.preferred||e.isPreferred).reduceRight((s,d)=>s?s.kind.contains(d.kind)?d:s:d,void 0)}}return a.codeActionCommands=[Du,Pp,Sg,wd,mr],a})();var Mc,Fl=p(8535),vs=p(23945),Zn=p(78968),zn=p(71040),Gh=(p(62803),p(50817));!function(a){a.Hidden={type:0},a.Showing=class{constructor(n,o,s,d){this.actions=n,this.trigger=o,this.editorPosition=s,this.widgetPosition=d,this.type=1}}}(Mc||(Mc={}));let Dc=class nw extends At.JT{constructor(t,e,n,o){super(),this._editor=t,this._quickFixActionId=e,this._preferredFixActionId=n,this._keybindingService=o,this._onClick=this._register(new zn.Q5),this.onClick=this._onClick.event,this._state=Mc.Hidden,this._domNode=document.createElement("div"),this._domNode.className=Zn.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{const d=this._editor.getModel();(1!==this.state.type||!d||this.state.editorPosition.lineNumber>=d.getLineCount())&&this.hide()})),vs.o.ignoreTarget(this._domNode),this._register(rt.GQ(this._domNode,s=>{if(1!==this.state.type)return;this._editor.focus(),s.preventDefault();const{top:d,height:m}=rt.i(this._domNode),R=this._editor.getOption(59);let U=Math.floor(R/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(U+=R),this._onClick.fire({x:s.posx,y:d+m+U,actions:this.state.actions,trigger:this.state.trigger})})),this._register(rt.nm(this._domNode,"mouseenter",s=>{if(1!=(1&s.buttons))return;this.hide();const d=new Fl.Z;d.startMonitoring(s.target,s.buttons,Fl.e,()=>{},()=>{d.dispose()})})),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,e,n){if(t.validActions.length<=0)return this.hide();const o=this._editor.getOptions();if(!o.get(57).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:d,column:m}=s.validatePosition(n),R=s.getOptions().tabSize,U=o.get(44),F=s.getLineContent(d),q=(0,Gh.q)(F,R),De=ct=>ct>2&&this._editor.getTopForLineNumber(ct)===this._editor.getTopForLineNumber(ct-1);let Ke=d;if(!(U.spaceWidth*q>22))if(d>1&&!De(d-1))Ke-=1;else if(De(d+1)){if(m*U.spaceWidth<22)return this.hide()}else Ke+=1;this.state=new Mc.Showing(t,e,n,{position:{lineNumber:Ke,column:1},preference:nw._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Mc.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(t){this._state=t,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...Zn.lA.lightBulb.classNamesArray),this._domNode.classList.add(...Zn.lA.lightbulbAutofix.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=Me.N("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",e.getLabel()))}this._domNode.classList.remove(...Zn.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...Zn.lA.lightBulb.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=t?Me.N("codeActionWithKb","Show Code Actions ({0})",t.getLabel()):Me.N("codeAction","Show Code Actions")}set title(t){this._domNode.title=t}};Dc._posPref=[0],Dc=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,3)}}(0,Xo.d)],Dc),(0,_.Ic)((a,t)=>{var e;const n=null===(e=a.getColor(l.cvW))||void 0===e?void 0:e.transparent(.7),o=a.getColor(l.Fu1);o&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${Zn.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${o};\n\t\t\tbackground-color: ${n};\n\t\t}`);const s=a.getColor(l.sKV);s&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${Zn.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${s};\n\t\t\tbackground-color: ${n};\n\t\t}`)});var Ec,yd=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};let ku=class extends At.JT{constructor(t,e,n,o,s){super(),this._editor=t,this.delegate=o,this._activeCodeActions=this._register(new At.XK),Ec.set(this,!1),this._codeActionWidget=new Uo.o(()=>this._register(s.createInstance(Zh,this._editor,{onSelectCodeAction:d=>yd(this,void 0,void 0,function*(){this.delegate.applyCodeAction(d,!0)})}))),this._lightBulbWidget=new Uo.o(()=>{const d=this._register(s.createInstance(Dc,this._editor,e,n));return this._register(d.onClick(m=>this.showCodeActionList(m.trigger,m.actions,m,{includeDisabledActions:!1}))),d})}dispose(){(function(a,t,e,n,o){if("function"==typeof t||!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");t.set(a,e)})(this,Ec,!0),super.dispose()}update(t){var e,n,o,s,d;return yd(this,void 0,void 0,function*(){if(1!==t.type)return void(null===(e=this._lightBulbWidget.rawValue)||void 0===e||e.hide());let m;try{m=yield t.actions}catch(R){return void(0,Yn.dL)(R)}if(!function(a,t,e,n){if("function"==typeof t||!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(a)}(this,Ec))if(this._lightBulbWidget.getValue().update(m,t.trigger,t.position),1===t.trigger.type){if(null===(n=t.trigger.filter)||void 0===n?void 0:n.include){const U=this.tryGetValidActionToApply(t.trigger,m);if(U){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(U,!1)}finally{m.dispose()}return}if(t.trigger.context){const F=this.getInvalidActionThatWouldHaveBeenApplied(t.trigger,m);if(F&&F.action.disabled)return null===(o=Er.get(this._editor))||void 0===o||o.showMessage(F.action.disabled,t.trigger.context.position),void m.dispose()}}const R=!!(null===(s=t.trigger.filter)||void 0===s?void 0:s.include);if(t.trigger.context&&(!m.allActions.length||!R&&!m.validActions.length))return null===(d=Er.get(this._editor))||void 0===d||d.showMessage(t.trigger.context.notAvailableMessage,t.trigger.context.position),this._activeCodeActions.value=m,void m.dispose();this._activeCodeActions.value=m,this._codeActionWidget.getValue().show(t.trigger,m,t.position,{includeDisabledActions:R})}else this._codeActionWidget.getValue().isVisible?m.dispose():this._activeCodeActions.value=m})}getInvalidActionThatWouldHaveBeenApplied(t,e){if(e.allActions.length&&("first"===t.autoApply&&0===e.validActions.length||"ifSingle"===t.autoApply&&1===e.allActions.length))return e.allActions.find(({action:n})=>n.disabled)}tryGetValidActionToApply(t,e){if(e.validActions.length&&("first"===t.autoApply&&e.validActions.length>0||"ifSingle"===t.autoApply&&1===e.validActions.length))return e.validActions[0]}showCodeActionList(t,e,n,o){return yd(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(t,e,n,o)})}};Ec=new WeakMap,ku=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,4)}}(0,Yi.TG)],ku);var Nc,Bo=p(81622),gs=p(8135),Bl=p(87493),Do=p(6228),Jh=function(a,t,e,n){if("a"===e&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?a!==t||!n:!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?n:"a"===e?n.call(a):n?n.value:t.get(a)};const Ig=new Qt.uy("supportedCodeAction","");class Wp extends At.JT{constructor(t,e,n,o=250){super(),this._editor=t,this._markerService=e,this._signalChange=n,this._delay=o,this._autoTriggerTimer=this._register(new Hn._F),this._register(this._markerService.onMarkerChanged(s=>this._onMarkerChanges(s))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(t){const e=this._getRangeOfSelectionUnlessWhitespaceEnclosed(t);return this._createEventAndSignalChange(t,e)}_onMarkerChanges(t){const e=this._editor.getModel();!e||t.some(n=>(0,Do.Xy)(n,e.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(t){const e=this._editor.getModel();if(e)for(const n of this._markerService.read({resource:e.uri})){const o=e.validateRange(n);if(It.e.intersectRanges(o,t))return It.e.lift(o)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(t){if(!this._editor.hasModel())return;const e=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&2===t.type){const{lineNumber:o,column:s}=n.getPosition(),d=e.getLineContent(o);if(0===d.length)return;if(1===s){if(/\s/.test(d[0]))return}else if(s===e.getLineMaxColumn(o)){if(/\s/.test(d[d.length-1]))return}else if(/\s/.test(d[s-2])&&/\s/.test(d[s-1]))return}return n}_createEventAndSignalChange(t,e){const n=this._editor.getModel();if(!e||!n)return void this._signalChange(void 0);const o=this._getRangeOfMarker(e),s=o?o.getStartPosition():e.getStartPosition(),d={trigger:t,selection:e,position:s};return this._signalChange(d),d}}var Wl;!function(a){a.Empty={type:0},a.Triggered=class{constructor(n,o,s,d){this.trigger=n,this.rangeOrSelection=o,this.position=s,this._cancellablePromise=d,this.type=1,this.actions=d.catch(m=>{if((0,Yn.n2)(m))return Pg;throw m})}cancel(){this._cancellablePromise.cancel()}}}(Wl||(Wl={}));const Pg={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class Vp extends At.JT{constructor(t,e,n,o,s){super(),this._editor=t,this._registry=e,this._markerService=n,this._progressService=s,this._codeActionOracle=this._register(new At.XK),this._state=Wl.Empty,this._onDidChangeState=this._register(new zn.Q5),this.onDidChangeState=this._onDidChangeState.event,Nc.set(this,!1),this._supportedCodeActions=Ig.bindTo(o),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Jh(this,Nc,"f")||(function(a,t,e,n,o){if("function"==typeof t||!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");t.set(a,e)}(this,Nc,!0),super.dispose(),this.setState(Wl.Empty,!0))}_update(){if(Jh(this,Nc,"f"))return;this._codeActionOracle.value=void 0,this.setState(Wl.Empty);const t=this._editor.getModel();if(t&&this._registry.has(t)&&!this._editor.getOption(81)){const e=[];for(const n of this._registry.all(t))Array.isArray(n.providedCodeActionKinds)&&e.push(...n.providedCodeActionKinds);this._supportedCodeActions.set(e.join(" ")),this._codeActionOracle.value=new Wp(this._editor,this._markerService,n=>{var o;if(!n)return void this.setState(Wl.Empty);const s=(0,Hn.PG)(d=>Eu(this._registry,t,n.selection,n.trigger,Kr.Ex.None,d));1===n.trigger.type&&(null===(o=this._progressService)||void 0===o||o.showWhile(s,250)),this.setState(new Wl.Triggered(n.trigger,n.selection,n.position,s))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(t){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(t)}setState(t,e){t!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=t,!e&&!Jh(this,Nc,"f")&&this._onDidChangeState.fire(t))}}Nc=new WeakMap;var xd=function(a,t){return function(e,n){t(e,n,a)}},Ou=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};function Vl(a){return Qt.Ao.regex(Ig.keys()[0],new RegExp("(\\s|^)"+(0,In.ec)(a.value)+"\\b"))}const Xh={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:Me.N("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:Me.N("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[Me.N("args.schema.apply.first","Always apply the first returned code action."),Me.N("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),Me.N("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:Me.N("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Hl=class iw extends At.JT{constructor(t,e,n,o,s,d){super(),this._instantiationService=s,this._editor=t,this._model=this._register(new Vp(this._editor,d.codeActionProvider,e,n,o)),this._register(this._model.onDidChangeState(m=>this.update(m))),this._ui=new Uo.o(()=>this._register(new ku(t,Tu.Id,qh.Id,{applyCodeAction:(m,R)=>Ou(this,void 0,void 0,function*(){try{yield this._applyCodeAction(m)}finally{R&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(t){return t.getContribution(iw.ID)}update(t){this._ui.getValue().update(t)}showCodeActions(t,e,n){return this._ui.getValue().showCodeActionList(t,e,n,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(t,e,n){var o;if(!this._editor.hasModel())return;null===(o=Er.get(this._editor))||void 0===o||o.closeMessage();const s=this._editor.getPosition();this._trigger({type:1,filter:e,autoApply:n,context:{notAvailableMessage:t,position:s}})}_trigger(t){return this._model.trigger(t)}_applyCodeAction(t){return this._instantiationService.invokeFunction(zp,t,this._editor)}};function zp(a,t,e){return Ou(this,void 0,void 0,function*(){const n=a.get(Ns.vu),o=a.get(to.Hy),s=a.get(Bl.b),d=a.get(gs.lT);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred}),yield t.resolve(ii.T.None),t.action.edit&&(yield n.apply(Ns.fo.convert(t.action.edit),{editor:e,label:t.action.title})),t.action.command)try{yield o.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(m){const R=function(a){return"string"==typeof a?a:a instanceof Error&&"string"==typeof a.message?a.message:void 0}(m);d.error("string"==typeof R?R:Me.N("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Pa(a,t,e,n){if(a.hasModel()){const o=Hl.get(a);o&&o.manualTriggerAtCurrentPosition(t,e,n)}}Hl.ID="editor.contrib.quickFixController",Hl=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([xd(1,Bo.lT),xd(2,Qt.i6),xd(3,Kr.ek),xd(4,Yi.TG),xd(5,wi.p)],Hl);let Tu=(()=>{class a extends Xe.R6{constructor(){super({id:a.Id,label:Me.N("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Qt.Ao.and(pt.u.writable,pt.u.hasCodeActionsProvider),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:2132,weight:100}})}run(e,n){return Pa(n,Me.N("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}return a.Id="editor.action.quickFix",a})(),qh=(()=>{class a extends Xe.R6{constructor(){super({id:a.Id,label:Me.N("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Qt.Ao.and(pt.u.writable,Vl(Fi.QuickFix)),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,n){return Pa(n,Me.N("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Fi.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}return a.Id="editor.action.autoFix",a})();(0,Xe._K)(Hl.ID,Hl),(0,Xe.Qr)(Tu),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:Du,label:Me.N("refactor.label","Refactor..."),alias:"Refactor...",precondition:Qt.Ao.and(pt.u.writable,pt.u.hasCodeActionsProvider),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Qt.Ao.and(pt.u.writable,Vl(Fi.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Xh}]}})}run(t,e,n){const o=da.fromUser(n,{kind:Fi.Refactor,apply:"never"});return Pa(e,"string"==typeof(null==n?void 0:n.kind)?o.preferred?Me.N("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):Me.N("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):o.preferred?Me.N("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):Me.N("editor.action.refactor.noneMessage","No refactorings available"),{include:Fi.Refactor.contains(o.kind)?o.kind:Fi.None,onlyIncludePreferredActions:o.preferred},o.apply)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:Sg,label:Me.N("source.label","Source Action..."),alias:"Source Action...",precondition:Qt.Ao.and(pt.u.writable,pt.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Qt.Ao.and(pt.u.writable,Vl(Fi.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Xh}]}})}run(t,e,n){const o=da.fromUser(n,{kind:Fi.Source,apply:"never"});return Pa(e,"string"==typeof(null==n?void 0:n.kind)?o.preferred?Me.N("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):Me.N("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):o.preferred?Me.N("editor.action.source.noneMessage.preferred","No preferred source actions available"):Me.N("editor.action.source.noneMessage","No source actions available"),{include:Fi.Source.contains(o.kind)?o.kind:Fi.None,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:wd,label:Me.N("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Qt.Ao.and(pt.u.writable,Vl(Fi.SourceOrganizeImports)),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1581,weight:100}})}run(t,e){return Pa(e,Me.N("editor.action.organize.noneMessage","No organize imports action available"),{include:Fi.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}),(0,Xe.Qr)(qh),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:mr,label:Me.N("fixAll.label","Fix All"),alias:"Fix All",precondition:Qt.Ao.and(pt.u.writable,Vl(Fi.SourceFixAll))})}run(t,e){return Pa(e,Me.N("fixAll.noneMessage","No fix all action available"),{include:Fi.SourceFixAll,includeSourceActions:!0},"ifSingle")}}),(0,Xe.fK)(new class extends Xe._l{constructor(){super({id:Pp,precondition:Qt.Ao.and(pt.u.writable,pt.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Xh}]}})}runEditorCommand(t,e,n){const o=da.fromUser(n,{kind:Fi.Empty,apply:"ifSingle"});return Pa(e,"string"==typeof(null==n?void 0:n.kind)?o.preferred?Me.N("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):Me.N("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):o.preferred?Me.N("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):Me.N("editor.action.codeAction.noneMessage","No code actions available"),{include:o.kind,includeSourceActions:!0,onlyIncludePreferredActions:o.preferred},o.apply)}});var Og=p(11791),Pc=p(78622),qo=p(52925),Ki=p(99770),Ru=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};class ef{constructor(){this.lenses=[],this._disposables=new At.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,e){this._disposables.add(t);for(const n of t.lenses)this.lenses.push({symbol:n,provider:e})}}function Nr(a,t,e){return Ru(this,void 0,void 0,function*(){const n=a.ordered(t),o=new Map,s=new ef,d=n.map((m,R)=>Ru(this,void 0,void 0,function*(){o.set(m,R);try{const U=yield Promise.resolve(m.provideCodeLenses(t,e));U&&s.add(U,m)}catch(U){(0,Yn.Cp)(U)}}));return yield Promise.all(d),s.lenses=s.lenses.sort((m,R)=>m.symbol.range.startLineNumber<R.symbol.range.startLineNumber?-1:m.symbol.range.startLineNumber>R.symbol.range.startLineNumber?1:o.get(m.provider)<o.get(R.provider)?-1:o.get(m.provider)>o.get(R.provider)?1:m.symbol.range.startColumn<R.symbol.range.startColumn?-1:m.symbol.range.startColumn>R.symbol.range.startColumn?1:0),s})}to.P0.registerCommand("_executeCodeLensProvider",function(a,...t){let[e,n]=t;(0,Ki.p_)(vo.o.isUri(e)),(0,Ki.p_)("number"==typeof n||!n);const{codeLensProvider:o}=a.get(wi.p),s=a.get(Ia.q).getModel(e);if(!s)throw(0,Yn.b1)();const d=[],m=new At.SL;return Nr(o,s,ii.T.None).then(R=>{m.add(R);let U=[];for(const F of R.lenses)null==n||Boolean(F.symbol.command)?d.push(F.symbol):n-- >0&&F.provider.resolveCodeLens&&U.push(Promise.resolve(F.provider.resolveCodeLens(s,F.symbol,ii.T.None)).then(q=>d.push(q||F.symbol)));return Promise.all(U)}).then(()=>d).finally(()=>{setTimeout(()=>m.dispose(),100)})});var Tg=p(16811),el=p(33439),ka=p(26033),rs=p(58070);const Bu=(0,Yi.yh)("ICodeLensCache");class Wu{constructor(t,e){this.lineCount=t,this.data=e}}let tf=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new el.z6(20,.75),(0,Hn.To)(()=>t.remove("codelens/cache",1));const n="codelens/cache2",o=t.get(n,1,"{}");this._deserialize(o),(0,Tg.I)(t.onWillSaveState)(s=>{s.reason===rs.fk.SHUTDOWN&&t.store(n,this._serialize(),1,1)})}put(t,e){const n=e.lenses.map(d=>{var m;return{range:d.symbol.range,command:d.symbol.command&&{id:"",title:null===(m=d.symbol.command)||void 0===m?void 0:m.title}}}),o=new ef;o.add({lenses:n,dispose:()=>{}},this._fakeProvider);const s=new Wu(t.getLineCount(),o);this._cache.set(t.uri.toString(),s)}get(t){const e=this._cache.get(t.uri.toString());return e&&e.lineCount===t.getLineCount()?e.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[e,n]of this._cache){const o=new Set;for(const s of n.data.lenses)o.add(s.symbol.range.startLineNumber);t[e]={lineCount:n.lineCount,lines:[...o.values()]}}return JSON.stringify(t)}_deserialize(t){try{const e=JSON.parse(t);for(const n in e){const o=e[n],s=[];for(const m of o.lines)s.push({range:new It.e(m,1,m,11)});const d=new ef;d.add({lenses:s,dispose(){}},this._fakeProvider),this._cache.set(n,new Wu(o.lineCount,d))}}catch{}}};tf=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,0)}}(0,rs.Uy)],tf),(0,ka.z)(Bu,tf);var nf=p(44339);p(50269);class of{constructor(t,e,n){this.afterColumn=1073741824,this.afterLineNumber=t,this.heightInPx=e,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(t){void 0===this._lastHeight?this._lastHeight=t:this._lastHeight!==t&&(this._lastHeight=t,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}let Rg=(()=>{class a{constructor(e,n,o){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+a._idPool++,this.updatePosition(o),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${n}`}withCommands(e,n){this._commands.clear();let o=[],s=!1;for(let d=0;d<e.length;d++){const m=e[d];if(m&&(s=!0,m.command)){const R=(0,nf.T)(m.command.title.trim());m.command.id?(o.push(rt.$("a",{id:String(d),title:m.command.tooltip},...R)),this._commands.set(String(d),m.command)):o.push(rt.$("span",{title:m.command.tooltip},...R)),d+1<e.length&&o.push(rt.$("span",void 0,"\xa0|\xa0"))}}s?(rt.mc(this._domNode,...o),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):rt.mc(this._domNode,rt.$("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const n=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:n},preference:[1]}}getPosition(){return this._widgetPosition||null}}return a._idPool=0,a})();class tl{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(t,e){this._addDecorations.push(t),this._addDecorationsCallbacks.push(e)}removeDecoration(t){this._removeDecorations.push(t)}commit(t){let e=t.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,o=e.length;n<o;n++)this._addDecorationsCallbacks[n](e[n])}}class Fg{constructor(t,e,n,o,s,d,m){this._isDisposed=!1,this._editor=e,this._className=n,this._data=t,this._decorationIds=[];let R,U=[];this._data.forEach((F,q)=>{F.symbol.command&&U.push(F.symbol),o.addDecoration({range:F.symbol.range,options:qi.qx.EMPTY},_e=>this._decorationIds[q]=_e),R=R?It.e.plusRange(R,F.symbol.range):It.e.lift(F.symbol.range)}),this._viewZone=new of(R.startLineNumber-1,d,m),this._viewZoneId=s.addZone(this._viewZone),U.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(U,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Rg(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(t,e){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],e&&e.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((t,e)=>{const n=this._editor.getModel().getDecorationRange(t);return!(!n||It.e.isEmpty(this._data[e].symbol.range)!==n.isEmpty())})}updateCodeLensSymbols(t,e){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],this._data=t,this._data.forEach((n,o)=>{e.addDecoration({range:n.symbol.range,options:qi.qx.EMPTY},s=>this._decorationIds[o]=s)})}updateHeight(t,e){this._viewZone.heightInPx=t,e.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(t){if(!this._viewZone.isVisible())return null;for(let e=0;e<this._decorationIds.length;e++){const n=t.getDecorationRange(this._decorationIds[e]);n&&(this._data[e].symbol.range=n)}return this._data}updateCommands(t){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(t,!0);for(let e=0;e<this._data.length;e++){const n=t[e];if(n){const{symbol:o}=this._data[e];o.command=n.command||o.command}}}getCommand(t){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.getCommand(t)}getLineNumber(){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return t?t.startLineNumber:-1}update(t){if(this.isValid()){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);e&&(this._viewZone.afterLineNumber=e.startLineNumber-1,t.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(e.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var Ul=p(43413),Ir=p(85034),ua=function(a,t){return function(e,n){t(e,n,a)}};let kc=class{constructor(t,e,n,o,s,d){this._editor=t,this._languageFeaturesService=e,this._commandService=o,this._notificationService=s,this._codeLensCache=d,this._disposables=new At.SL,this._localToDispose=new At.SL,this._lenses=[],this._oldCodeLensModels=new At.SL,this._provideCodeLensDebounce=n.for(e.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=n.for(e.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new Hn.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(m=>{(m.hasChanged(44)||m.hasChanged(16)||m.hasChanged(15))&&this._updateLensStyle(),m.hasChanged(14)&&this._onModelChange()})),this._disposables.add(e.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,Og.vp)(this._editor.getId()).toString(16),this._styleElement=rt.dS(rt.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var t;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(t=this._currentCodeLensModel)||void 0===t||t.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e,t=this._editor.getOption(16);return!t||t<5?(t=.9*this._editor.getOption(46)|0,e=this._editor.getOption(59)):e=t*Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46))|0,{codeLensHeight:e,fontSize:t}}_updateLensStyle(){const{codeLensHeight:t,fontSize:e}=this._getLayoutInfo(),n=this._editor.getOption(15),o=this._editor.getOption(44),s=`--codelens-font-family${this._styleClassName}`,d=`--codelens-font-features${this._styleClassName}`;let m=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${t}px; font-size: ${e}px; padding-right: ${Math.round(.5*e)}px; font-feature-settings: var(${d}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${t}px; font-size: ${e}px; }\n\t\t`;n&&(m+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${s}), ${qo.hL.fontFamily}}`),this._styleElement.textContent=m,this._editor.getContainerDomNode().style.setProperty(s,n??"inherit"),this._editor.getContainerDomNode().style.setProperty(d,o.fontFeatureSettings),this._editor.changeViewZones(R=>{for(let U of this._lenses)U.updateHeight(t,R)})}_localDispose(){var t,e,n;null===(t=this._getCodeLensModelPromise)||void 0===t||t.cancel(),this._getCodeLensModelPromise=void 0,null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(n=this._currentCodeLensModel)||void 0===n||n.dispose()}_onModelChange(){this._localDispose();const t=this._editor.getModel();if(!t||!this._editor.getOption(14))return;const e=this._codeLensCache.get(t);if(e&&this._renderCodeLensSymbols(e),!this._languageFeaturesService.codeLensProvider.has(t))return void(e&&this._localToDispose.add((0,Hn.Vg)(()=>{const o=this._codeLensCache.get(t);e===o&&(this._codeLensCache.delete(t),this._onModelChange())},3e4)));for(const o of this._languageFeaturesService.codeLensProvider.all(t))if("function"==typeof o.onDidChange){let s=o.onDidChange(()=>n.schedule());this._localToDispose.add(s)}const n=new Hn.pY(()=>{var o;const s=Date.now();null===(o=this._getCodeLensModelPromise)||void 0===o||o.cancel(),this._getCodeLensModelPromise=(0,Hn.PG)(d=>Nr(this._languageFeaturesService.codeLensProvider,t,d)),this._getCodeLensModelPromise.then(d=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=d,this._codeLensCache.put(t,d);const m=this._provideCodeLensDebounce.update(t,Date.now()-s);n.delay=m,this._renderCodeLensSymbols(d),this._resolveCodeLensesInViewportSoon()},Yn.dL)},this._provideCodeLensDebounce.get(t));this._localToDispose.add(n),this._localToDispose.add((0,At.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(o=>{this._editor.changeViewZones(s=>{let d=[],m=-1;this._lenses.forEach(U=>{U.isValid()&&m!==U.getLineNumber()?(U.update(s),m=U.getLineNumber()):d.push(U)});let R=new tl;d.forEach(U=>{U.dispose(R,s),this._lenses.splice(this._lenses.indexOf(U),1)}),R.commit(o)})}),n.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{n.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(o=>{o.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,At.OF)(()=>{if(this._editor.getModel()){const o=Pc.Z.capture(this._editor);this._editor.changeDecorations(s=>{this._editor.changeViewZones(d=>{this._disposeAllLenses(s,d)})}),o.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(o=>{if(9!==o.target.type)return;let s=o.target.element;if("SPAN"===(null==s?void 0:s.tagName)&&(s=s.parentElement),"A"===(null==s?void 0:s.tagName))for(const d of this._lenses){let m=d.getCommand(s);if(m){this._commandService.executeCommand(m.id,...m.arguments||[]).catch(R=>this._notificationService.error(R));break}}})),n.schedule()}_disposeAllLenses(t,e){const n=new tl;for(const o of this._lenses)o.dispose(n,e);t&&n.commit(t),this._lenses.length=0}_renderCodeLensSymbols(t){if(!this._editor.hasModel())return;let o,e=this._editor.getModel().getLineCount(),n=[];for(let m of t.lenses){let R=m.symbol.range.startLineNumber;R<1||R>e||(o&&o[o.length-1].symbol.range.startLineNumber===R?o.push(m):(o=[m],n.push(o)))}const s=Pc.Z.capture(this._editor),d=this._getLayoutInfo();this._editor.changeDecorations(m=>{this._editor.changeViewZones(R=>{const U=new tl;let F=0,q=0;for(;q<n.length&&F<this._lenses.length;){let _e=n[q][0].symbol.range.startLineNumber,De=this._lenses[F].getLineNumber();De<_e?(this._lenses[F].dispose(U,R),this._lenses.splice(F,1)):De===_e?(this._lenses[F].updateCodeLensSymbols(n[q],U),q++,F++):(this._lenses.splice(F,0,new Fg(n[q],this._editor,this._styleClassName,U,R,d.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),F++,q++)}for(;F<this._lenses.length;)this._lenses[F].dispose(U,R),this._lenses.splice(F,1);for(;q<n.length;)this._lenses.push(new Fg(n[q],this._editor,this._styleClassName,U,R,d.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),q++;U.commit(m)})}),s.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var t;null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0;const e=this._editor.getModel();if(!e)return;const n=[],o=[];if(this._lenses.forEach(m=>{const R=m.computeIfNecessary(e);R&&(n.push(R),o.push(m))}),0===n.length)return;const s=Date.now(),d=(0,Hn.PG)(m=>{const R=n.map((U,F)=>{const q=new Array(U.length),_e=U.map((De,Ke)=>De.symbol.command||"function"!=typeof De.provider.resolveCodeLens?(q[Ke]=De.symbol,Promise.resolve(void 0)):Promise.resolve(De.provider.resolveCodeLens(e,De.symbol,m)).then(ct=>{q[Ke]=ct},Yn.Cp));return Promise.all(_e).then(()=>{!m.isCancellationRequested&&!o[F].isDisposed()&&o[F].updateCommands(q)})});return Promise.all(R)});this._resolveCodeLensesPromise=d,this._resolveCodeLensesPromise.then(()=>{const m=this._resolveCodeLensesDebounce.update(e,Date.now()-s);this._resolveCodeLensesScheduler.delay=m,this._currentCodeLensModel&&this._codeLensCache.put(e,this._currentCodeLensModel),this._oldCodeLensModels.clear(),d===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},m=>{(0,Yn.dL)(m),d===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};kc.ID="css.editor.codeLens",kc=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([ua(1,wi.p),ua(2,Ir.A),ua(3,to.Hy),ua(4,gs.lT),ua(5,Bu)],kc),(0,Xe._K)(kc.ID,kc),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:pt.u.hasCodeLensProvider,label:(0,Me.N)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(t,e){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if(!e.hasModel())return;const n=t.get(Ul.eJ),o=t.get(to.Hy),s=t.get(gs.lT),d=e.getSelection().positionLineNumber,m=e.getContribution(kc.ID);if(!m)return;const R=m.getModel();if(!R)return;const U=[];for(const q of R.lenses)q.symbol.command&&q.symbol.range.startLineNumber===d&&U.push({label:q.symbol.command.title,command:q.symbol.command});if(0===U.length)return;const F=yield n.pick(U,{canPickMany:!1});if(F){if(R.isDisposed)return yield o.executeCommand(this.id);try{yield o.executeCommand(F.command.id,...F.command.arguments||[])}catch(q){s.error(q)}}})}});var $i=p(81897),Xr=p(39932),Bg=p(96132);function Hu(a,t,e,n){return Promise.resolve(e.provideColorPresentations(a,t,n))}to.P0.registerCommand("_executeDocumentColorProvider",function(a,...t){const[e]=t;if(!(e instanceof vo.o))throw(0,Yn.b1)();const{colorProvider:n}=a.get(wi.p),o=a.get(Ia.q).getModel(e);if(!o)throw(0,Yn.b1)();const s=[],m=n.ordered(o).reverse().map(R=>Promise.resolve(R.provideDocumentColors(o,ii.T.None)).then(U=>{if(Array.isArray(U))for(let F of U)s.push({range:F.range,color:[F.color.red,F.color.green,F.color.blue,F.color.alpha]})}));return Promise.all(m).then(()=>s)}),to.P0.registerCommand("_executeColorPresentationProvider",function(a,...t){const[e,n]=t,{uri:o,range:s}=n;if(!(o instanceof vo.o&&Array.isArray(e)&&4===e.length&&It.e.isIRange(s)))throw(0,Yn.b1)();const[d,m,R,U]=e,{colorProvider:F}=a.get(wi.p),q=a.get(Ia.q).getModel(o);if(!q)throw(0,Yn.b1)();const _e={range:s,color:{red:d,green:m,blue:R,alpha:U}},De=[],ct=F.ordered(q).reverse().map(Tt=>Promise.resolve(Tt.provideColorPresentations(q,_e,ii.T.None)).then(Ot=>{Array.isArray(Ot)&&De.push(...Ot)}));return Promise.all(ct).then(()=>De)});var Vs=p(13011),ha=function(a,t){return function(e,n){t(e,n,a)}};const Vg=Object.create({});let nl=class ow extends At.JT{constructor(t,e,n,o){super(),this._editor=t,this._configurationService=e,this._languageFeaturesService=n,this._localToDispose=this._register(new At.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new Bg.t7(this._editor),this._colorDecorationClassRefs=this._register(new At.SL),this._debounceInformation=o.for(n.colorProvider,"Document Colors",{min:ow.RECOMPUTE_TIME}),this._register(t.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(t.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(n.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(t.onDidChangeConfiguration(()=>{let s=this._isEnabled;this._isEnabled=this.isEnabled(),s!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const t=this._editor.getModel();if(!t)return!1;const e=t.getLanguageId(),n=this._configurationService.getValue(e);if(n&&"object"==typeof n){const o=n.colorDecorators;if(o&&void 0!==o.enable&&!o.enable)return o.enable}return this._editor.getOption(17)}static get(t){return t.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const t=this._editor.getModel();!t||!this._languageFeaturesService.colorProvider.has(t)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new Hn._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(t)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,Hn.PG)(t=>function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const e=this._editor.getModel();if(!e)return Promise.resolve([]);const n=new Xr.G(!1),o=yield function(a,t,e){const n=[],s=a.ordered(t).reverse().map(d=>Promise.resolve(d.provideDocumentColors(t,e)).then(m=>{if(Array.isArray(m))for(let R of m)n.push({colorInfo:R,provider:d})}));return Promise.all(s).then(()=>n)}(this._languageFeaturesService.colorProvider,e,t);return this._debounceInformation.update(e,n.elapsed()),o})),this._computePromise.then(t=>{this.updateDecorations(t),this.updateColorDecorators(t),this._computePromise=null},Yn.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(t){const e=t.map(n=>({range:{startLineNumber:n.colorInfo.range.startLineNumber,startColumn:n.colorInfo.range.startColumn,endLineNumber:n.colorInfo.range.endLineNumber,endColumn:n.colorInfo.range.endColumn},options:qi.qx.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,e),this._colorDatas=new Map,this._decorationsIds.forEach((n,o)=>this._colorDatas.set(n,t[o]))}updateColorDecorators(t){this._colorDecorationClassRefs.clear();let e=[];for(let n=0;n<t.length&&e.length<500;n++){const{red:o,green:s,blue:d,alpha:m}=t[n].colorInfo.color,R=new $i.VS(Math.round(255*o),Math.round(255*s),Math.round(255*d),m),F=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:`rgba(${R.r}, ${R.g}, ${R.b}, ${R.a})`}));e.push({range:{startLineNumber:t[n].colorInfo.range.startLineNumber,startColumn:t[n].colorInfo.range.startColumn,endLineNumber:t[n].colorInfo.range.endLineNumber,endColumn:t[n].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:In.B4,inlineClassName:`${F.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:Vg}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],e))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(t){const e=this._editor.getModel();if(!e)return null;const n=e.getDecorationsInRange(It.e.fromPositions(t,t)).filter(o=>this._colorDatas.has(o.id));return 0===n.length?null:this._colorDatas.get(n[0].id)}isColorDecorationId(t){return this._colorDecoratorIds.has(t)}};nl.ID="editor.contrib.colorDetector",nl.RECOMPUTE_TIME=1e3,nl=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([ha(1,Vs.Ui),ha(2,wi.p),ha(3,Ir.A)],nl),(0,Xe._K)(nl.ID,nl);class zg{constructor(t,e,n){this.presentationIndex=n,this._onColorFlushed=new zn.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new zn.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new zn.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=t,this._color=t,this._colorPresentations=e}get color(){return this._color}set color(t){this._color.equals(t)||(this._color=t,this._onDidChangeColor.fire(t))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(t){this._colorPresentations=t,this.presentationIndex>t.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(t,e){for(let n=0;n<this.colorPresentations.length;n++)if(e.toLowerCase()===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var fa=p(37450);p(77725);const qr=rt.$;class Gp extends At.JT{constructor(t,e,n){super(),this.model=e,this.domNode=qr(".colorpicker-header"),rt.R3(t,this.domNode),this.pickedColorNode=rt.R3(this.domNode,qr(".picked-color"));const o=(0,Me.N)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",o);const s=rt.R3(this.domNode,qr(".original-color"));s.style.backgroundColor=$i.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(l.yJx)||$i.Il.white,this._register((0,_.Ic)((d,m)=>{this.backgroundColor=d.getColor(l.yJx)||$i.Il.white})),this._register(rt.nm(this.pickedColorNode,rt.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(rt.nm(s,rt.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(e.onDidChangeColor(this.onDidChangeColor,this)),this._register(e.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=$i.Il.Format.CSS.format(e.color)||"",this.pickedColorNode.classList.toggle("light",e.color.rgba.a<.5?this.backgroundColor.isLighter():e.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(t){this.pickedColorNode.style.backgroundColor=$i.Il.Format.CSS.format(t)||"",this.pickedColorNode.classList.toggle("light",t.rgba.a<.5?this.backgroundColor.isLighter():t.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(qr(".codicon.codicon-color-mode"))}}class jl extends At.JT{constructor(t,e,n){super(),this.model=e,this.pixelRatio=n,this.domNode=qr(".colorpicker-body"),rt.R3(t,this.domNode),this.saturationBox=new Ug(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new jg(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Wo(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:t,v:e}){const n=this.model.color.hsva;this.model.color=new $i.Il(new $i.tx(n.h,t,e,n.a))}onDidOpacityChange(t){const e=this.model.color.hsva;this.model.color=new $i.Il(new $i.tx(e.h,e.s,e.v,t))}onDidHueChange(t){const e=this.model.color.hsva,n=360*(1-t);this.model.color=new $i.Il(new $i.tx(360===n?0:n,e.s,e.v,e.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Ug extends At.JT{constructor(t,e,n){super(),this.model=e,this.pixelRatio=n,this._onDidChange=new zn.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new zn.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=qr(".saturation-wrap"),rt.R3(t,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",rt.R3(this.domNode,this.canvas),this.selection=qr(".saturation-selection"),rt.R3(this.domNode,this.selection),this.layout(),this._register(rt.u0(this.domNode,o=>this.onMouseDown(o))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(t){this.monitor=this._register(new Fl.Z);const e=rt.i(this.domNode);t.target!==this.selection&&this.onDidChangePosition(t.offsetX,t.offsetY),this.monitor.startMonitoring(t.target,t.buttons,Fl.e,o=>this.onDidChangePosition(o.posx-e.left,o.posy-e.top),()=>null);const n=rt.q6(document,()=>{this._onColorFlushed.fire(),n.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(t,e){const n=Math.max(0,Math.min(1,t/this.width)),o=Math.max(0,Math.min(1,1-e/this.height));this.paintSelection(n,o),this._onDidChange.fire({s:n,v:o})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const t=this.model.color.hsva;this.paintSelection(t.s,t.v)}paint(){const e=new $i.Il(new $i.tx(this.model.color.hsva.h,1,1,1)),n=this.canvas.getContext("2d"),o=n.createLinearGradient(0,0,this.canvas.width,0);o.addColorStop(0,"rgba(255, 255, 255, 1)"),o.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),o.addColorStop(1,"rgba(255, 255, 255, 0)");const s=n.createLinearGradient(0,0,0,this.canvas.height);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=$i.Il.Format.CSS.format(e),n.fill(),n.fillStyle=o,n.fill(),n.fillStyle=s,n.fill()}paintSelection(t,e){this.selection.style.left=t*this.width+"px",this.selection.style.top=this.height-e*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class rf extends At.JT{constructor(t,e){super(),this.model=e,this._onDidChange=new zn.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new zn.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=rt.R3(t,qr(".strip")),this.overlay=rt.R3(this.domNode,qr(".overlay")),this.slider=rt.R3(this.domNode,qr(".slider")),this.slider.style.top="0px",this._register(rt.u0(this.domNode,n=>this.onMouseDown(n))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const t=this.getValue(this.model.color);this.updateSliderPosition(t)}onMouseDown(t){const e=this._register(new Fl.Z),n=rt.i(this.domNode);this.domNode.classList.add("grabbing"),t.target!==this.slider&&this.onDidChangeTop(t.offsetY),e.startMonitoring(t.target,t.buttons,Fl.e,s=>this.onDidChangeTop(s.posy-n.top),()=>null);const o=rt.q6(document,()=>{this._onColorFlushed.fire(),o.dispose(),e.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(t){const e=Math.max(0,Math.min(1,1-t/this.height));this.updateSliderPosition(e),this._onDidChange.fire(e)}updateSliderPosition(t){this.slider.style.top=(1-t)*this.height+"px"}}class jg extends rf{constructor(t,e){super(t,e),this.domNode.classList.add("opacity-strip"),this._register(e.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(t){const{r:e,g:n,b:o}=t.rgba,s=new $i.Il(new $i.VS(e,n,o,1)),d=new $i.Il(new $i.VS(e,n,o,0));this.overlay.style.background=`linear-gradient(to bottom, ${s} 0%, ${d} 100%)`}getValue(t){return t.hsva.a}}class Wo extends rf{constructor(t,e){super(t,e),this.domNode.classList.add("hue-strip")}getValue(t){return 1-t.hsva.h/360}}class Qp extends fa.${constructor(t,e,n,o){super(),this.model=e,this.pixelRatio=n,this._register(Nt.PixelRatio.onDidChange(()=>this.layout()));const s=qr(".colorpicker-widget");t.appendChild(s);const d=new Gp(s,this.model,o);this.body=new jl(s,this.model,this.pixelRatio),this._register(d),this._register(this.body)}layout(){this.body.layout()}}var af=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};class Yp{constructor(t,e,n,o){this.owner=t,this.range=e,this.model=n,this.provider=o,this.forceShowAtRange=!0}isValidForHoverAnchor(t){return 1===t.type&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}let Ld=class{constructor(t,e){this._editor=t,this._themeService=e,this.hoverOrdinal=1}computeSync(t,e){return[]}computeAsync(t,e,n){return Hn.Aq.fromPromise(this._computeAsync(t,e,n))}_computeAsync(t,e,n){return af(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const o=nl.get(this._editor);if(!o)return[];for(const s of e){if(!o.isColorDecorationId(s.id))continue;const d=o.getColorData(s.range.getStartPosition());if(d)return[yield this._createColorHover(this._editor.getModel(),d.colorInfo,d.provider)]}return[]})}_createColorHover(t,e,n){return af(this,void 0,void 0,function*(){const o=t.getValueInRange(e.range),{red:s,green:d,blue:m,alpha:R}=e.color,U=new $i.VS(Math.round(255*s),Math.round(255*d),Math.round(255*m),R),F=new $i.Il(U),q=yield Hu(t,e,n,ii.T.None),_e=new zg(F,[],0);return _e.colorPresentations=q||[],_e.guessColorPresentation(F,o),new Yp(this,It.e.lift(e.range),_e,n)})}renderHoverParts(t,e){if(0===e.length||!this._editor.hasModel())return At.JT.None;const n=new At.SL,o=e[0],s=this._editor.getModel(),d=o.model,m=n.add(new Qp(t.fragment,d,this._editor.getOption(129),this._themeService));t.setColorPicker(m);let R=new It.e(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn);const U=()=>{let q,_e;if(d.presentation.textEdit){q=[d.presentation.textEdit],_e=new It.e(d.presentation.textEdit.range.startLineNumber,d.presentation.textEdit.range.startColumn,d.presentation.textEdit.range.endLineNumber,d.presentation.textEdit.range.endColumn);const De=this._editor.getModel()._setTrackedRange(null,_e,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",q),_e=this._editor.getModel()._getTrackedRange(De)||_e}else q=[{range:R,text:d.presentation.label,forceMoveMarkers:!1}],_e=R.setEndPosition(R.endLineNumber,R.startColumn+d.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",q);d.presentation.additionalTextEdits&&(q=[...d.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",q),t.hide()),this._editor.pushUndoStop(),R=_e},F=q=>Hu(s,{range:R,color:{red:q.rgba.r/255,green:q.rgba.g/255,blue:q.rgba.b/255,alpha:q.rgba.a}},o.provider,ii.T.None).then(_e=>{d.colorPresentations=_e||[]});return n.add(d.onColorFlushed(q=>{F(q).then(U)})),n.add(d.onDidChangeColor(F)),n}};Ld=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,_.XE)],Ld);var $r=p(80810),pr=(p(55753),p(13591));function Md(a,t){return!!a[t]}class Oc{constructor(t,e){this.target=t.target,this.hasTriggerModifier=Md(t.event,e.triggerModifier),this.hasSideBySideModifier=Md(t.event,e.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=t.event.detail<=1}}class Kg{constructor(t,e){this.keyCodeIsTriggerKey=t.keyCode===e.triggerKey,this.keyCodeIsSideBySideKey=t.keyCode===e.triggerSideBySideKey,this.hasTriggerModifier=Md(t,e.triggerModifier)}}class Dd{constructor(t,e,n,o){this.triggerKey=t,this.triggerModifier=e,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=o}equals(t){return this.triggerKey===t.triggerKey&&this.triggerModifier===t.triggerModifier&&this.triggerSideBySideKey===t.triggerSideBySideKey&&this.triggerSideBySideModifier===t.triggerSideBySideModifier}}function lf(a){return"altKey"===a?Ht.dz?new Dd(57,"metaKey",6,"altKey"):new Dd(5,"ctrlKey",6,"altKey"):Ht.dz?new Dd(6,"altKey",57,"metaKey"):new Dd(6,"altKey",5,"ctrlKey")}class Ed extends At.JT{constructor(t){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new zn.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new zn.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new zn.Q5),this.onCancel=this._onCancel.event,this._editor=t,this._opts=lf(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(e=>{if(e.hasChanged(70)){const n=lf(this._editor.getOption(70));if(this._opts.equals(n))return;this._opts=n,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(e=>this._onEditorMouseMove(new Oc(e,this._opts)))),this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(new Oc(e,this._opts)))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(new Oc(e,this._opts)))),this._register(this._editor.onKeyDown(e=>this._onEditorKeyDown(new Kg(e,this._opts)))),this._register(this._editor.onKeyUp(e=>this._onEditorKeyUp(new Kg(e,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(e=>this._onDidChangeCursorSelection(e))),this._register(this._editor.onDidChangeModel(e=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(t){t.selection&&t.selection.startColumn!==t.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(t){this._lastMouseMoveEvent=t,this._onMouseMoveOrRelevantKeyDown.fire([t,null])}_onEditorMouseDown(t){this._hasTriggerKeyOnMouseDown=t.hasTriggerModifier,this._lineNumberOnMouseDown=t.target.position?t.target.position.lineNumber:0}_onEditorMouseUp(t){this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===(t.target.position?t.target.position.lineNumber:0)&&this._onExecute.fire(t)}_onEditorKeyDown(t){this._lastMouseMoveEvent&&(t.keyCodeIsTriggerKey||t.keyCodeIsSideBySideKey&&t.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,t]):t.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(t){t.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var Tc=p(60291),Nd=p(60842),Oa=(p(68819),p(13976)),jo=p(92119),ea=function(a,t){return function(e,n){t(e,n,a)}};let Kl=class extends Pl.Gm{constructor(t,e,n,o,s,d,m,R,U,F,q,_e){super(t,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),{},o,s,d,m,R,U,F,q,_e),this._parentEditor=n,this._overwriteOptions=e,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration(De=>this._onParentConfigurationChanged(De)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(t){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(t){Nd.jB(this._overwriteOptions,t,!0),super.updateOptions(this._overwriteOptions)}};Kl=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([ea(3,Yi.TG),ea(4,en.$),ea(5,to.Hy),ea(6,Qt.i6),ea(7,_.XE),ea(8,gs.lT),ea(9,Oa.F),ea(10,jo.c_),ea(11,wi.p)],Kl);var ol=p(54789),cf=p(90546);p(13911);const hi=new $i.Il(new $i.VS(0,122,204)),df={showArrow:!0,showFrame:!0,className:"",frameColor:hi,arrowColor:hi,keepEditorSelection:!1};class Xp{constructor(t,e,n,o,s,d){this.id="",this.domNode=t,this.afterLineNumber=e,this.afterColumn=n,this.heightInLines=o,this._onDomNodeTop=s,this._onComputedHeight=d}onDomNodeTop(t){this._onDomNodeTop(t)}onComputedHeight(t){this._onComputedHeight(t)}}class Zg{constructor(t,e){this._id=t,this._domNode=e}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class zu{constructor(t){this._editor=t,this._ruleName=zu._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),rt.uN(this._ruleName)}set color(t){this._color!==t&&(this._color=t,this._updateStyle())}set height(t){this._height!==t&&(this._height=t,this._updateStyle())}_updateStyle(){rt.uN(this._ruleName),rt.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(t){1===t.column&&(t={lineNumber:t.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:It.e.fromPositions(t),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}zu._IdGenerator=new cf.R(".arrow-decoration-");var $l=p(714),Zl=p(48727);p(98735);class Gg extends Ws.Wi{constructor(t,e){super(),this._onDidChangeVisibility=this._register(new zn.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,rt.R3)(t,(0,rt.$)(".monaco-dropdown")),this._label=(0,rt.R3)(this._element,(0,rt.$)(".dropdown-label"));let n=e.labelRenderer;n||(n=s=>(s.textContent=e.label||"",null));for(const s of[rt.tw.CLICK,rt.tw.MOUSE_DOWN,vs.t.Tap])this._register((0,rt.nm)(this.element,s,d=>rt.zB.stop(d,!0)));for(const s of[rt.tw.MOUSE_DOWN,vs.t.Tap])this._register((0,rt.nm)(this._label,s,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register((0,rt.nm)(this._label,rt.tw.KEY_UP,s=>{const d=new $l.y(s);(d.equals(3)||d.equals(10))&&(rt.zB.stop(s,!0),this.visible?this.hide():this.show())}));const o=n(this._label);o&&this._register(o),this._register(vs.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class e0 extends Gg{constructor(t,e){super(t,e),this._actions=[],this._contextMenuProvider=e.contextMenuProvider,this.actions=e.actions||[],this.actionProvider=e.actionProvider,this.menuClassName=e.menuClassName||"",this.menuAsChild=!!e.menuAsChild}set menuOptions(t){this._menuOptions=t}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(t){this._actions=t}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:t=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(t):void 0,getKeyBinding:t=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(t):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class Qg extends Zl.Y{constructor(t,e,n,o=Object.create(null)){super(null,t,o),this.actionItem=null,this._onDidChangeVisibility=this._register(new zn.Q5),this.menuActionsOrProvider=e,this.contextMenuProvider=n,this.options=o,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(t){this.actionItem=t;const n=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new e0(t,{contextMenuProvider:this.contextMenuProvider,labelRenderer:s=>{this.element=(0,rt.R3)(s,(0,rt.$)("a.action-label"));let d=[];return"string"==typeof this.options.classNames?d=this.options.classNames.split(/\s+/g).filter(m=>!!m):this.options.classNames&&(d=this.options.classNames),d.find(m=>"icon"===m)||d.push("codicon"),this.element.classList.add(...d),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider})),this._register(this.dropdownMenu.onDidChangeVisibility(s=>{var d;null===(d=this.element)||void 0===d||d.setAttribute("aria-expanded",`${s}`),this._onDidChangeVisibility.fire(s)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const s=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return s.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(t){super.setActionContext(t),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=t:this.dropdownMenu.menuOptions={context:t})}updateEnabled(){var t,e;const n=!this.getAction().enabled;null===(t=this.actionItem)||void 0===t||t.classList.toggle("disabled",n),null===(e=this.element)||void 0===e||e.classList.toggle("disabled",n)}}var t0=p(99802),uf=(p(62922),function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}),ga=function(a,t){return function(e,n){t(e,n,a)}},Yg=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};let Ac=class extends Zl.g{constructor(t,e,n,o,s){super(void 0,t,{icon:!(!t.class&&!t.item.icon),label:!t.class&&!t.item.icon,draggable:null==e?void 0:e.draggable}),this._keybindingService=n,this._notificationService=o,this._contextKeyService=s,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new At.XK),this._altKey=rt._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(t){return Yg(this,void 0,void 0,function*(){t.preventDefault(),t.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(e){this._notificationService.error(e)}})}render(t){super.render(t),t.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let e=!1,n=this._altKey.keyStatus.altKey||(Ht.ED||Ht.IJ)&&this._altKey.keyStatus.shiftKey;const o=()=>{const s=e&&n;s!==this._wantsAltCommand&&(this._wantsAltCommand=s,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(s=>{n=s.altKey||(Ht.ED||Ht.IJ)&&s.shiftKey,o()})),this._register((0,rt.nm)(t,"mouseleave",s=>{e=!1,o()})),this._register((0,rt.nm)(t,"mouseenter",s=>{e=!0,o()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),e=t&&t.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let o=e?(0,Me.N)("titleAndKb","{0} ({1})",n,e):n;if(!this._wantsAltCommand&&this._menuItemAction.alt){const s=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,d=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),m=d&&d.getLabel(),R=m?(0,Me.N)("titleAndKb","{0} ({1})",s,m):s;o+=`\n[${t0.xo.modifierLabels[Ht.OS].altKey}] ${R}`}this.label.title=o}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(t){var e;this._itemClassDispose.value=void 0;const{element:n,label:o}=this;if(!n||!o)return;const s=this._commandAction.checked&&(null===(e=t.toggled)||void 0===e?void 0:e.icon)?t.toggled.icon:t.icon;if(s)if(_.kS.isThemeIcon(s)){const d=_.kS.asClassNameArray(s);o.classList.add(...d),this._itemClassDispose.value=(0,At.OF)(()=>{o.classList.remove(...d)})}else s.light&&o.style.setProperty("--menu-entry-icon-light",(0,rt.wY)(s.light)),s.dark&&o.style.setProperty("--menu-entry-icon-dark",(0,rt.wY)(s.dark)),o.classList.add("icon"),this._itemClassDispose.value=(0,At.OF)(()=>{o.classList.remove("icon"),o.style.removeProperty("--menu-entry-icon-light"),o.style.removeProperty("--menu-entry-icon-dark")})}};Ac=uf([ga(2,Xo.d),ga(3,gs.lT),ga(4,Qt.i6)],Ac);let hf=class extends Qg{constructor(t,e,n){var o,s;const d=Object.assign({},e??Object.create(null),{menuAsChild:null!==(o=null==e?void 0:e.menuAsChild)&&void 0!==o&&o,classNames:null!==(s=null==e?void 0:e.classNames)&&void 0!==s?s:_.kS.isThemeIcon(t.item.icon)?_.kS.asClassName(t.item.icon):void 0});super(t,{getActions:()=>t.actions},n,d)}render(t){if(super.render(t),this.element){t.classList.add("menu-entry");const{icon:e}=this._action.item;e&&!_.kS.isThemeIcon(e)&&(this.element.classList.add("icon"),e.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,rt.wY)(e.light)),e.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,rt.wY)(e.dark)))}}};hf=uf([ga(2,Rl.i)],hf);let ff=class extends Zl.Y{constructor(t,e,n,o,s,d,m,R){var U,F,q;super(null,t),this._keybindingService=n,this._notificationService=o,this._contextMenuService=s,this._menuService=d,this._instaService=m,this._storageService=R,this._container=null,this._storageKey=`${t.item.submenu._debugName}_lastActionId`;let _e,De=R.get(this._storageKey,1);De&&(_e=t.actions.find(ct=>De===ct.id)),_e||(_e=t.actions[0]),this._defaultAction=this._instaService.createInstance(Ac,_e,void 0);const Ke=Object.assign({},e??Object.create(null),{menuAsChild:null===(U=null==e?void 0:e.menuAsChild)||void 0===U||U,classNames:null!==(F=null==e?void 0:e.classNames)&&void 0!==F?F:["codicon","codicon-chevron-down"],actionRunner:null!==(q=null==e?void 0:e.actionRunner)&&void 0!==q?q:new Ws.Wi});this._dropdown=new Qg(t,t.actions,this._contextMenuService,Ke),this._dropdown.actionRunner.onDidRun(ct=>{ct.action instanceof r.U8&&this.update(ct.action)})}update(t){this._storageService.store(this._storageKey,t.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Ac,t,void 0),this._defaultAction.actionRunner=new class extends Ws.Wi{runAction(e,n){return Yg(this,void 0,void 0,function*(){yield e.run(void 0)})}},this._container&&this._defaultAction.render((0,rt.Ce)(this._container,(0,rt.$)(".action-container")))}setActionContext(t){super.setActionContext(t),this._defaultAction.setActionContext(t),this._dropdown.setActionContext(t)}render(t){this._container=t,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const e=(0,rt.$)(".action-container");this._defaultAction.render((0,rt.R3)(this._container,e)),this._register((0,rt.nm)(e,rt.tw.KEY_DOWN,o=>{const s=new $l.y(o);s.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),s.stopPropagation())}));const n=(0,rt.$)(".dropdown-action-container");this._dropdown.render((0,rt.R3)(this._container,n)),this._register((0,rt.nm)(n,rt.tw.KEY_DOWN,o=>{var s;const d=new $l.y(o);d.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(s=this._defaultAction.element)||void 0===s||s.focus(),d.stopPropagation())}))}focus(t){t?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(t){t?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function s0(a,t,e){return t instanceof r.U8?a.createInstance(Ac,t,void 0):t instanceof r.NZ?a.createInstance(t.item.rememberDefaultAction?ff:hf,t,e):void 0}ff=uf([ga(2,Xo.d),ga(3,gs.lT),ga(4,Rl.i),ga(5,r.co),ga(6,Yi.TG),ga(7,rs.Uy)],ff);var Jg=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Xg=function(a,t){return function(e,n){t(e,n,a)}};const qg=(0,Yi.yh)("IPeekViewService");var $s;(0,ka.z)(qg,class{constructor(){this._widgets=new Map}addExclusiveWidget(a,t){const e=this._widgets.get(a);e&&(e.listener.dispose(),e.widget.dispose()),this._widgets.set(a,{widget:t,listener:t.onDidClose(()=>{const o=this._widgets.get(a);o&&o.widget===t&&(o.listener.dispose(),this._widgets.delete(a))})})}}),function(a){a.inPeekEditor=new Qt.uy("inReferenceSearchEditor",!0,Me.N("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),a.notInPeekEditor=a.inPeekEditor.toNegated()}($s||($s={}));let Id=class{constructor(t,e){t instanceof Kl&&$s.inPeekEditor.bindTo(e)}dispose(){}};Id.ID="editor.contrib.referenceController",Id=Jg([Xg(1,Qt.i6)],Id),(0,Xe._K)(Id.ID,Id);const a0={headerBackgroundColor:$i.Il.white,primaryHeadingColor:$i.Il.fromHex("#333333"),secondaryHeadingColor:$i.Il.fromHex("#6c6c6cb3")};let ju=class extends class{constructor(t,e={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new At.SL,this.container=null,this._isShowing=!1,this.editor=t,this.options=Nd.I8(e),Nd.jB(this.options,df,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(n=>{const o=this._getWidth(n);this.domNode.style.width=o+"px",this.domNode.style.left=this._getLeft(n)+"px",this._onWidth(o)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new zu(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(t){t.frameColor&&(this.options.frameColor=t.frameColor),t.arrowColor&&(this.options.arrowColor=t.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let t=this.options.frameColor.toString();this.container.style.borderTopColor=t,this.container.style.borderBottomColor=t}if(this._arrow&&this.options.arrowColor){let t=this.options.arrowColor.toString();this._arrow.color=t}}_getWidth(t){return t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}_getLeft(t){return t.minimap.minimapWidth>0&&0===t.minimap.minimapLeft?t.minimap.minimapWidth:0}_onViewZoneTop(t){this.domNode.style.top=t+"px"}_onViewZoneHeight(t){if(this.domNode.style.height=`${t}px`,this.container){let e=t-this._decoratingElementsHeight();this.container.style.height=`${e}px`;const n=this.editor.getLayoutInfo();this._doLayout(e,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}get position(){const[t]=this._positionMarkerId;if(!t)return;const e=this.editor.getModel();if(!e)return;const n=e.getDecorationRange(t);return n?n.getStartPosition():void 0}show(t,e){const n=It.e.isIRange(t)?It.e.lift(t):It.e.fromPositions(t);this._isShowing=!0,this._showImpl(n,e),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:qi.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let t=this.editor.getOption(59),e=0;return this.options.showArrow&&(e+=2*Math.round(t/3)),this.options.showFrame&&(e+=2*Math.round(t/9)),e}_showImpl(t,e){const n=t.getStartPosition(),o=this.editor.getLayoutInfo(),s=this._getWidth(o);this.domNode.style.width=`${s}px`,this.domNode.style.left=this._getLeft(o)+"px";const d=document.createElement("div");d.style.overflow="hidden";const m=this.editor.getOption(59),R=Math.max(12,this.editor.getLayoutInfo().height/m*.8);e=Math.min(e,R);let U=0,F=0;if(this._arrow&&this.options.showArrow&&(U=Math.round(m/3),this._arrow.height=U,this._arrow.show(n)),this.options.showFrame&&(F=Math.round(m/9)),this.editor.changeViewZones(De=>{this._viewZone&&De.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new Xp(d,n.lineNumber,n.column,e,Ke=>this._onViewZoneTop(Ke),Ke=>this._onViewZoneHeight(Ke)),this._viewZone.id=De.addZone(this._viewZone),this._overlayWidget=new Zg("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const De=this.options.frameWidth?this.options.frameWidth:F;this.container.style.borderTopWidth=De+"px",this.container.style.borderBottomWidth=De+"px"}let q=e*m-this._decoratingElementsHeight();this.container&&(this.container.style.top=U+"px",this.container.style.height=q+"px",this.container.style.overflow="hidden"),this._doLayout(q,s),this.options.keepEditorSelection||this.editor.setSelection(t);const _e=this.editor.getModel();if(_e){const De=t.endLineNumber+1;De<=_e.getLineCount()?this.revealLine(De,!1):this.revealLine(_e.getLineCount(),!0)}}revealLine(t,e){e?this.editor.revealLineInCenter(t,0):this.editor.revealLine(t,0)}setCssClass(t,e){!this.container||(e&&this.container.classList.remove(e),this.container.classList.add(t))}_onWidth(t){}_doLayout(t,e){}_relayout(t){this._viewZone&&this._viewZone.heightInLines!==t&&this.editor.changeViewZones(e=>{this._viewZone&&(this._viewZone.heightInLines=t,e.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let t;this._resizeSash=this._disposables.add(new ol.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(e=>{this._viewZone&&(t={startY:e.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{t=void 0})),this._disposables.add(this._resizeSash.onDidChange(e=>{if(t){let n=(e.currentY-t.startY)/this.editor.getOption(59),o=n<0?Math.ceil(n):Math.floor(n),s=t.heightInLines+o;s>5&&s<35&&this._relayout(s)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const t=this.editor.getLayoutInfo();return t.width-t.minimap.minimapWidth}}{constructor(t,e,n){super(t,e),this.instantiationService=n,this._onDidClose=new zn.Q5,this.onDidClose=this._onDidClose.event,Nd.jB(this.options,a0,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(t){let e=this.options;t.headerBackgroundColor&&(e.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(e.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(e.secondaryHeadingColor=t.secondaryHeadingColor),super.style(t)}_applyStyles(){super._applyStyles();let t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())}_fillContainer(t){this.setCssClass("peekview-widget"),this._headElement=rt.$(".head"),this._bodyElement=rt.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),t.appendChild(this._headElement),t.appendChild(this._bodyElement)}_fillHead(t,e){const n=rt.$(".peekview-title");this.options.supportOnTitleClick&&(n.classList.add("clickable"),rt.mu(n,"click",d=>this._onTitleClick(d))),rt.R3(this._headElement,n),this._fillTitleIcon(n),this._primaryHeading=rt.$("span.filename"),this._secondaryHeading=rt.$("span.dirname"),this._metaHeading=rt.$("span.meta"),rt.R3(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);const o=rt.$(".peekview-actions");rt.R3(this._headElement,o);const s=this._getActionBarOptions();this._actionbarWidget=new Tc.o(o,s),this._disposables.add(this._actionbarWidget),e||this._actionbarWidget.push(new Ws.aU("peekview.close",Me.N("label.close","Close"),Zn.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(t){}_getActionBarOptions(){return{actionViewItemProvider:s0.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(t){}setTitle(t,e){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=t,this._primaryHeading.setAttribute("title",t),e?this._secondaryHeading.innerText=e:rt.PO(this._secondaryHeading))}setMetaTitle(t){this._metaHeading&&(t?(this._metaHeading.innerText=t,rt.$Z(this._metaHeading)):rt.Cp(this._metaHeading))}_doLayout(t,e){if(!this._isShowing&&t<0)return void this.dispose();const n=Math.ceil(1.2*this.editor.getOption(59)),o=Math.round(t-(n+2));this._doLayoutHead(n,e),this._doLayoutBody(o,e)}_doLayoutHead(t,e){this._headElement&&(this._headElement.style.height=`${t}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(t,e){this._bodyElement&&(this._bodyElement.style.height=`${t}px`)}};ju=Jg([Xg(2,Yi.TG)],ju);const l0=(0,l.P6G)("peekViewTitle.background",{dark:(0,l.ZnX)(l.c63,.1),light:(0,l.ZnX)(l.c63,.1),hc:null},Me.N("peekViewTitleBackground","Background color of the peek view title area.")),em=(0,l.P6G)("peekViewTitleLabel.foreground",{dark:$i.Il.white,light:$i.Il.black,hc:$i.Il.white},Me.N("peekViewTitleForeground","Color of the peek view title.")),tm=(0,l.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},Me.N("peekViewTitleInfoForeground","Color of the peek view title info.")),c0=(0,l.P6G)("peekView.border",{dark:l.c63,light:l.c63,hc:l.lRK},Me.N("peekViewBorder","Color of the peek view borders and arrow.")),Ku=(0,l.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:$i.Il.black},Me.N("peekViewResultsBackground","Background color of the peek view result list.")),gf=((0,l.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:$i.Il.white},Me.N("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,l.P6G)("peekViewResult.fileForeground",{dark:$i.Il.white,light:"#1E1E1E",hc:$i.Il.white},Me.N("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,l.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},Me.N("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,l.P6G)("peekViewResult.selectionForeground",{dark:$i.Il.white,light:"#6C6C6C",hc:$i.Il.white},Me.N("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,l.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:$i.Il.black},Me.N("peekViewEditorBackground","Background color of the peek view editor.")));(0,l.P6G)("peekViewEditorGutter.background",{dark:gf,light:gf,hc:gf},Me.N("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,l.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},Me.N("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,l.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},Me.N("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,l.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:l.xL1},Me.N("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var Pd=p(79837),Ji=p(33979),kr=p(22115),ma=p(68526);class sl{constructor(t,e,n,o){this.isProviderFirst=t,this.parent=e,this.link=n,this._rangeCallback=o,this.id=cf.a.nextId()}get uri(){return this.link.uri}get range(){var t,e;return null!==(e=null!==(t=this._range)&&void 0!==t?t:this.link.targetSelectionRange)&&void 0!==e?e:this.link.range}set range(t){this._range=t,this._rangeCallback(this)}get ariaMessage(){var t;const e=null===(t=this.parent.getPreview(this))||void 0===t?void 0:t.preview(this.range);return e?(0,Me.N)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,Do.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,e.value):(0,Me.N)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,Do.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class g0{constructor(t){this._modelReference=t}dispose(){this._modelReference.dispose()}preview(t,e=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:o,startColumn:s,endLineNumber:d,endColumn:m}=t,R=n.getWordUntilPosition({lineNumber:o,column:s-e}),U=new It.e(o,R.startColumn,o,s),F=new It.e(d,m,d,1073741824),q=n.getValueInRange(U).replace(/^\s+/,""),_e=n.getValueInRange(t);return{value:q+_e+n.getValueInRange(F).replace(/\s+$/,""),highlight:{start:q.length,end:q.length+_e.length}}}}class Ta{constructor(t,e){this.parent=t,this.uri=e,this.children=[],this._previews=new el.Y9}dispose(){(0,At.B9)(this._previews.values()),this._previews.clear()}getPreview(t){return this._previews.get(t.uri)}get ariaMessage(){const t=this.children.length;return 1===t?(0,Me.N)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,Do.EZ)(this.uri),this.uri.fsPath):(0,Me.N)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",t,(0,Do.EZ)(this.uri),this.uri.fsPath)}resolve(t){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(let e of this.children)if(!this._previews.has(e.uri))try{const n=yield t.createModelReference(e.uri);this._previews.set(e.uri,new g0(n))}catch(n){(0,Yn.dL)(n)}return this})}}class or{constructor(t,e){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new zn.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=t,this._title=e;const[n]=t;let o;t.sort(or._compareReferences);for(let s of t)if((!o||!Do.SF.isEqual(o.uri,s.uri,!0))&&(o=new Ta(this,s.uri),this.groups.push(o)),0===o.children.length||0!==or._compareReferences(s,o.children[o.children.length-1])){const d=new sl(n===s,o,s,m=>this._onDidChangeReferenceRange.fire(m));this.references.push(d),o.children.push(d)}}dispose(){(0,At.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new or(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,Me.N)("aria.result.0","No results found"):1===this.references.length?(0,Me.N)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,Me.N)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,Me.N)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(t,e){let{parent:n}=t,o=n.children.indexOf(t),s=n.children.length,d=n.parent.groups.length;return 1===d||e&&o+1<s||!e&&o>0?(o=e?(o+1)%s:(o+s-1)%s,n.children[o]):(o=n.parent.groups.indexOf(n),e?(o=(o+1)%d,n.parent.groups[o].children[0]):(o=(o+d-1)%d,n.parent.groups[o].children[n.parent.groups[o].children.length-1]))}nearestReference(t,e){const n=this.references.map((o,s)=>({idx:s,prefixLen:In.Mh(o.uri.toString(),t.toString()),offsetDist:100*Math.abs(o.range.startLineNumber-e.lineNumber)+Math.abs(o.range.startColumn-e.column)})).sort((o,s)=>o.prefixLen>s.prefixLen?-1:o.prefixLen<s.prefixLen?1:o.offsetDist<s.offsetDist?-1:o.offsetDist>s.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(t,e){for(const n of this.references)if(n.uri.toString()===t.toString()&&It.e.containsPosition(n.range,e))return n}firstReference(){for(const t of this.references)if(t.isProviderFirst)return t;return this.references[0]}static _compareReferences(t,e){return Do.SF.compare(t.uri,e.uri)||It.e.compareRangesUsingStarts(t.range,e.range)}}var mf=p(14410),ms=p(98318),$u=(p(86414),p(12282)),pf=p(24061),m0=p(54708),om=p(25601),Zs=p(56260),sm=p(46359);function rm(a){if(!a)return;"string"==typeof a&&(a=vo.o.file(a));const t=(0,Do.EZ)(a)||(a.scheme===ms.lg.file?a.fsPath:a.path);return Ht.ED&&(0,sm.vY)(t)?_f(t):t}function _f(a,t){return(0,sm.oP)(a,t)?a.charAt(0).toUpperCase()+a.slice(1):a}Object.create(null);var Zu=p(7022),am=p(905),Gu=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},kd=function(a,t){return function(e,n){t(e,n,a)}};let Cf=class{constructor(t){this._resolverService=t}hasChildren(t){return t instanceof or||t instanceof Ta}getChildren(t){if(t instanceof or)return t.groups;if(t instanceof Ta)return t.resolve(this._resolverService).then(e=>e.children);throw new Error("bad tree")}};Cf=Gu([kd(0,pr.S)],Cf);class p0{getHeight(){return 23}getTemplateId(t){return t instanceof Ta?Od.id:lm.id}}let bf=class{constructor(t){this._keybindingService=t}getKeyboardNavigationLabel(t){var e;if(t instanceof sl){const n=null===(e=t.parent.getPreview(t))||void 0===e?void 0:e.preview(t.range);if(n)return n.value}return(0,Do.EZ)(t.uri)}};bf=Gu([kd(0,Xo.d)],bf);class _0{getId(t){return t instanceof sl?t.id:t.uri}}let vf=class extends At.JT{constructor(t,e,n){super(),this._uriLabel=e;const o=document.createElement("div");o.classList.add("reference-file"),this.file=this._register(new om.g(o,{supportHighlights:!0})),this.badge=new pf.Z(rt.R3(o,rt.$(".count"))),this._register((0,am.WZ)(this.badge,n)),t.appendChild(o)}set(t,e){let n=(0,Do.XX)(t.uri);this.file.setLabel(rm(t.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(t.uri),matches:e});const o=t.children.length;this.badge.setCount(o),this.badge.setTitleFormat(o>1?(0,Me.N)("referencesCount","{0} references",o):(0,Me.N)("referenceCount","{0} reference",o))}};vf=Gu([kd(1,Zu.e),kd(2,_.XE)],vf);let Od=class sw{constructor(t){this._instantiationService=t,this.templateId=sw.id}renderTemplate(t){return this._instantiationService.createInstance(vf,t)}renderElement(t,e,n){n.set(t.element,(0,Zs.mB)(t.filterData))}disposeTemplate(t){t.dispose()}};Od.id="FileReferencesRenderer",Od=Gu([kd(0,Yi.TG)],Od);class C0{constructor(t){this.label=new m0.q(t)}set(t,e){var n;const o=null===(n=t.parent.getPreview(t))||void 0===n?void 0:n.preview(t.range);if(o&&o.value){const{value:s,highlight:d}=o;e&&!Zs.CL.isDefault(e)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(s,(0,Zs.mB)(e))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(s,[d]))}else this.label.set(`${(0,Do.EZ)(t.uri)}:${t.range.startLineNumber+1}:${t.range.startColumn+1}`)}}let lm=(()=>{class a{constructor(){this.templateId=a.id}renderTemplate(e){return new C0(e)}renderElement(e,n,o){o.set(e.element,e.filterData)}disposeTemplate(){}}return a.id="OneReferenceRenderer",a})();class b0{getWidgetAriaLabel(){return(0,Me.N)("treeAriaLabel","References")}getAriaLabel(t){return t.ariaMessage}}var v0=p(10352),Aa=function(a,t){return function(e,n){t(e,n,a)}},cm=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};class Qu{constructor(t,e){this._editor=t,this._model=e,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new At.SL,this._callOnModelChange=new At.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const t=this._editor.getModel();if(t)for(let e of this._model.references)if(e.uri.toString()===t.uri.toString())return void this._addDecorations(e.parent)}_addDecorations(t){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const e=[],n=[];for(let s=0,d=t.children.length;s<d;s++){let m=t.children[s];this._decorationIgnoreSet.has(m.id)||m.uri.toString()===this._editor.getModel().uri.toString()&&(e.push({range:m.range,options:Qu.DecorationOptions}),n.push(s))}const o=this._editor.deltaDecorations([],e);for(let s=0;s<o.length;s++)this._decorations.set(o[s],t.children[n[s]])}_onDecorationChanged(){const t=[],e=this._editor.getModel();if(e){for(let[n,o]of this._decorations){const s=e.getDecorationRange(n);if(!s)continue;let d=!1;It.e.equalsRange(s,o.range)||((It.e.spansMultipleLines(s)||o.range.endColumn-o.range.startColumn!=s.endColumn-s.startColumn)&&(d=!0),d?(this._decorationIgnoreSet.add(o.id),t.push(n)):o.range=s)}for(let n=0,o=t.length;n<o;n++)this._decorations.delete(t[n]);this._editor.deltaDecorations(t,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}Qu.DecorationOptions=qi.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class S0 extends ma.ls{}let wf=class extends ju{constructor(t,e,n,o,s,d,m,R,U,F,q,_e){super(t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},d),this._defaultTreeKeyboardSupport=e,this.layoutData=n,this._textModelResolverService=s,this._instantiationService=d,this._peekViewService=m,this._uriLabel=R,this._undoRedoService=U,this._keybindingService=F,this._languageService=q,this._languageConfigurationService=_e,this._disposeOnNewModel=new At.SL,this._callOnDispose=new At.SL,this._onDidSelectReference=new zn.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new rt.Ro(0,0),this._applyTheme(o.getColorTheme()),this._callOnDispose.add(o.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(t,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,At.B9)(this._preview),(0,At.B9)(this._previewNotAvailableMessage),(0,At.B9)(this._tree),(0,At.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(t){const e=t.getColor(c0)||$i.Il.transparent;this.style({arrowColor:e,frameColor:e,headerBackgroundColor:t.getColor(l0)||$i.Il.transparent,primaryHeadingColor:t.getColor(em),secondaryHeadingColor:t.getColor(tm)})}show(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),super.show(t,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(t){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"title"})}_fillBody(t){this.setCssClass("reference-zone-widget"),this._messageContainer=rt.R3(t,rt.$("div.messages")),rt.Cp(this._messageContainer),this._splitView=new mf.z(t,{orientation:1}),this._previewContainer=rt.R3(t,rt.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(Kl,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),rt.Cp(this._previewContainer),this._previewNotAvailableMessage=new qi.yO(Me.N("missingPreviewMessage","no preview available"),$u.bd,qi.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=rt.R3(t,rt.$("div.ref-tree.inline"));const n={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new b0,keyboardNavigationLabelProvider:this._instantiationService.createInstance(bf),identityProvider:new _0,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:Ku}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(rt.mu(this._treeContainer,"keydown",s=>{s.equals(9)&&(this._keybindingService.dispatchEvent(s,s.target),s.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(S0,"ReferencesWidget",this._treeContainer,new p0,[this._instantiationService.createInstance(Od),this._instantiationService.createInstance(lm)],this._instantiationService.createInstance(Cf),n),this._splitView.addView({onDidChange:zn.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:s=>{this._preview.layout({height:this._dim.height,width:s})}},mf.M.Distribute),this._splitView.addView({onDidChange:zn.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:s=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${s}px`,this._tree.layout(this._dim.height,s)}},mf.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let o=(s,d)=>{s instanceof sl&&("show"===d&&this._revealReference(s,!1),this._onDidSelectReference.fire({element:s,kind:d,source:"tree"}))};this._tree.onDidOpen(s=>{o(s.element,s.sideBySide?"side":s.editorOptions.pinned?"goto":"show")}),rt.Cp(this._treeContainer)}_onWidth(t){this._dim&&this._doLayoutBody(this._dim.height,t)}_doLayoutBody(t,e){super._doLayoutBody(t,e),this._dim=new rt.Ro(e,t),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(e),this._splitView.resizeView(0,e*this.layoutData.ratio)}setSelection(t){return this._revealReference(t,!0).then(()=>{!this._model||(this._tree.setSelection([t]),this._tree.setFocus([t]))})}setModel(t){return this._disposeOnNewModel.clear(),this._model=t,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=Me.N("noResults","No results"),rt.$Z(this._messageContainer),Promise.resolve(void 0)):(rt.Cp(this._messageContainer),this._decorationsManager=new Qu(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(t=>this._tree.rerender(t))),this._disposeOnNewModel.add(this._preview.onMouseDown(t=>{const{event:e,target:n}=t;if(2!==e.detail)return;const o=this._getFocusedReference();!o||this._onDidSelectReference.fire({element:{uri:o.uri,range:n.range},kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),rt.$Z(this._treeContainer),rt.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[t]=this._tree.getFocus();return t instanceof sl?t:t instanceof Ta&&t.children.length>0?t.children[0]:void 0}revealReference(t){return cm(this,void 0,void 0,function*(){yield this._revealReference(t,!1),this._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"})})}_revealReference(t,e){return cm(this,void 0,void 0,function*(){if(this._revealedReference===t)return;this._revealedReference=t,t.uri.scheme!==ms.lg.inMemory?this.setTitle((0,Do.Hx)(t.uri),this._uriLabel.getUriLabel((0,Do.XX)(t.uri))):this.setTitle(Me.N("peekView.alternateTitle","References"));const n=this._textModelResolverService.createModelReference(t.uri);this._tree.getInput()===t.parent||(e&&this._tree.reveal(t.parent),yield this._tree.expand(t.parent)),this._tree.reveal(t);const o=yield n;if(!this._model)return void o.dispose();(0,At.B9)(this._previewModelReference);const s=o.object;if(s){const d=this._preview.getModel()===s.textEditorModel?0:1,m=It.e.lift(t.range).collapseToStart();this._previewModelReference=o,this._preview.setModel(s.textEditorModel),this._preview.setSelection(m),this._preview.revealRangeInCenter(m,d)}else this._preview.setModel(this._previewNotAvailableMessage),o.dispose()})}};wf=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Aa(3,_.XE),Aa(4,pr.S),Aa(5,Yi.TG),Aa(6,qg),Aa(7,Zu.e),Aa(8,v0.tJ),Aa(9,Xo.d),Aa(10,$r.O),Aa(11,jo.c_)],wf);var rl=function(a,t){return function(e,n){t(e,n,a)}},Ps=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};const Gl=new Qt.uy("referenceSearchVisible",!1,Me.N("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let al=class x1{constructor(t,e,n,o,s,d,m,R){this._defaultTreeKeyboardSupport=t,this._editor=e,this._editorService=o,this._notificationService=s,this._instantiationService=d,this._storageService=m,this._configurationService=R,this._disposables=new At.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Gl.bindTo(n)}static get(t){return t.getContribution(x1.ID)}dispose(){var t,e;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(t=this._widget)||void 0===t||t.dispose(),null===(e=this._model)||void 0===e||e.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(t,e,n){let o;if(this._widget&&(o=this._widget.position),this.closeWidget(),o&&t.containsPosition(o))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const s="peekViewLayout",d=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(t){let e,n;try{const o=JSON.parse(t);e=o.ratio,n=o.heightInLines}catch{}return{ratio:e||.7,heightInLines:n||18}}}.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(wf,this._editor,this._defaultTreeKeyboardSupport,d),this._widget.setTitle(Me.N("labelLoading","Loading...")),this._widget.show(t),this._disposables.add(this._widget.onDidClose(()=>{e.cancel(),this._widget&&(this._storageService.store(s,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(R=>{let{element:U,kind:F}=R;if(U)switch(F){case"open":("editor"!==R.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(U,!1,!1);break;case"side":this.openReference(U,!0,!1);break;case"goto":n?this._gotoReference(U):this.openReference(U,!1,!0)}}));const m=++this._requestIdPool;e.then(R=>{var U;if(m===this._requestIdPool&&this._widget)return null===(U=this._model)||void 0===U||U.dispose(),this._model=R,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":Me.N("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let F=this._editor.getModel().uri,q=new qn.L(t.startLineNumber,t.startColumn),_e=this._model.nearestReference(F,q);if(_e)return this._widget.setSelection(_e).then(()=>{this._widget&&"editor"===this._editor.getOption(77)&&this._widget.focusOnPreviewEditor()})}});R.dispose()},R=>{this._notificationService.error(R)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(t){return Ps(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const e=this._widget.position;if(!e)return;const n=this._model.nearestReference(this._editor.getModel().uri,e);if(!n)return;const o=this._model.nextOrPreviousReference(n,t),s=this._editor.hasTextFocus(),d=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(o),yield this._gotoReference(o),s?this._editor.focus():this._widget&&d&&this._widget.focusOnPreviewEditor()})}revealReference(t){return Ps(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(t))})}closeWidget(t=!0){var e,n;null===(e=this._widget)||void 0===e||e.dispose(),null===(n=this._model)||void 0===n||n.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,t&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const e=It.e.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:e,selectionSource:"code.jump"}},this._editor).then(n=>{var o;if(this._ignoreModelChangeEvent=!1,n&&this._widget)if(this._editor===n)this._widget.show(e),this._widget.focusOnReferenceTree();else{const s=x1.get(n),d=this._model.clone();this.closeWidget(),n.focus(),null==s||s.toggleWidget(e,(0,Hn.PG)(m=>Promise.resolve(d)),null!==(o=this._peekMode)&&void 0!==o&&o)}else this.closeWidget()},n=>{this._ignoreModelChangeEvent=!1,(0,Yn.dL)(n)})}openReference(t,e,n){e||this.closeWidget();const{uri:o,range:s}=t;this._editorService.openCodeEditor({resource:o,options:{selection:s,selectionSource:"code.jump",pinned:n}},this._editor,e)}};function Ql(a,t){const e=function(a){let t=a.get(en.$).getFocusedCodeEditor();return t instanceof Kl?t.getParentEditor():t}(a);if(!e)return;const n=al.get(e);n&&t(n)}al.ID="editor.contrib.referencesController",al=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([rl(2,Qt.i6),rl(3,en.$),rl(4,gs.lT),rl(5,Yi.TG),rl(6,rs.Uy),rl(7,Vs.Ui)],al),kr.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,is.gx)(2089,60),when:Qt.Ao.or(Gl,$s.inPeekEditor),handler(a){Ql(a,t=>{t.changeFocusBetweenPreviewAndReferences()})}}),kr.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:Qt.Ao.or(Gl,$s.inPeekEditor),handler(a){Ql(a,t=>{t.goToNextOrPreviousReference(!0)})}}),kr.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:Qt.Ao.or(Gl,$s.inPeekEditor),handler(a){Ql(a,t=>{t.goToNextOrPreviousReference(!1)})}}),to.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),to.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),to.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),to.P0.registerCommand("closeReferenceSearch",a=>Ql(a,t=>t.closeWidget())),kr.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:Qt.Ao.and($s.inPeekEditor,Qt.Ao.not("config.editor.stablePeek"))}),kr.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Qt.Ao.and(Gl,Qt.Ao.not("config.editor.stablePeek"))}),kr.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Qt.Ao.and(Gl,ma.CQ,ma.PS.negate(),ma.uJ.negate()),handler(a){var t;const n=null===(t=a.get(ma.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof sl&&Ql(a,o=>o.revealReference(n[0]))}}),kr.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Qt.Ao.and(Gl,ma.CQ,ma.PS.negate(),ma.uJ.negate()),handler(a){var t;const n=null===(t=a.get(ma.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof sl&&Ql(a,o=>o.openReference(n[0],!0,!0))}}),to.P0.registerCommand("openReference",a=>{var t;const n=null===(t=a.get(ma.Lw).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof sl&&Ql(a,o=>o.openReference(n[0],!1,!0))});var dm=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Td=function(a,t){return function(e,n){t(e,n,a)}};const yf=new Qt.uy("hasSymbols",!1,(0,Me.N)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),Yu=(0,Yi.yh)("ISymbolNavigationService");let Sf=class{constructor(t,e,n,o){this._editorService=e,this._notificationService=n,this._keybindingService=o,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=yf.bindTo(t)}reset(){var t,e;this._ctxHasSymbols.reset(),null===(t=this._currentState)||void 0===t||t.dispose(),null===(e=this._currentMessage)||void 0===e||e.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(t){const e=t.parent.parent;if(e.references.length<=1)return void this.reset();this._currentModel=e,this._currentIdx=e.references.indexOf(t),this._ctxHasSymbols.set(!0),this._showMessage();const n=new xf(this._editorService),o=n.onDidChange(s=>{if(this._ignoreEditorChange)return;const d=this._editorService.getActiveCodeEditor();if(!d)return;const m=d.getModel(),R=d.getPosition();if(!m||!R)return;let U=!1,F=!1;for(const q of e.references)if((0,Do.Xy)(q.uri,m.uri))U=!0,F=F||It.e.containsPosition(q.range,R);else if(U)break;(!U||!F)&&this.reset()});this._currentState=(0,At.F8)(n,o)}revealNext(t){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const e=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:e.uri,options:{selection:It.e.collapseToStart(e.range),selectionRevealType:3}},t).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var t;null===(t=this._currentMessage)||void 0===t||t.dispose();const e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=e?(0,Me.N)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):(0,Me.N)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}};Sf=dm([Td(0,Qt.i6),Td(1,en.$),Td(2,gs.lT),Td(3,Xo.d)],Sf),(0,ka.z)(Yu,Sf,!0),(0,Xe.fK)(new class extends Xe._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:yf,kbOpts:{weight:100,primary:70}})}runEditorCommand(a,t){return a.get(Yu).revealNext(t)}}),kr.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:yf,primary:9,handler(a){a.get(Yu).reset()}});let xf=class{constructor(t){this._listener=new Map,this._disposables=new At.SL,this._onDidChange=new zn.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(t.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(t.onCodeEditorAdd(this._onDidAddEditor,this)),t.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,At.B9)(this._listener.values())}_onDidAddEditor(t){this._listener.set(t,(0,At.F8)(t.onDidChangeCursorPosition(e=>this._onDidChange.fire({editor:t})),t.onDidChangeModelContent(e=>this._onDidChange.fire({editor:t}))))}_onDidRemoveEditor(t){var e;null===(e=this._listener.get(t))||void 0===e||e.dispose(),this._listener.delete(t)}};xf=dm([Td(0,en.$)],xf);var um=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};function Ad(a,t,e,n){const s=e.ordered(a).map(d=>Promise.resolve(n(d,a,t)).then(void 0,m=>{(0,Yn.Cp)(m)}));return Promise.all(s).then(d=>{const m=[];for(let R of d)Array.isArray(R)?m.push(...R):R&&m.push(R);return m})}function Lf(a,t,e,n){return Ad(t,e,a,(o,s,d)=>o.provideDefinition(s,d,n))}function hm(a,t,e,n){return Ad(t,e,a,(o,s,d)=>o.provideDeclaration(s,d,n))}function fm(a,t,e,n){return Ad(t,e,a,(o,s,d)=>o.provideImplementation(s,d,n))}function w(a,t,e,n){return Ad(t,e,a,(o,s,d)=>o.provideTypeDefinition(s,d,n))}function c(a,t,e,n,o){return Ad(t,e,a,(s,d,m)=>um(this,void 0,void 0,function*(){const R=yield s.provideReferences(d,m,{includeDeclaration:!0},o);if(!n||!R||2!==R.length)return R;const U=yield s.provideReferences(d,m,{includeDeclaration:!1},o);return U&&1===U.length?U:R}))}function u(a){return um(this,void 0,void 0,function*(){const t=yield a(),e=new or(t,""),n=e.references.map(o=>o.link);return e.dispose(),n})}(0,Xe.sb)("_executeDefinitionProvider",(a,t,e)=>{const o=Lf(a.get(wi.p).definitionProvider,t,e,ii.T.None);return u(()=>o)}),(0,Xe.sb)("_executeTypeDefinitionProvider",(a,t,e)=>{const o=w(a.get(wi.p).typeDefinitionProvider,t,e,ii.T.None);return u(()=>o)}),(0,Xe.sb)("_executeDeclarationProvider",(a,t,e)=>{const o=hm(a.get(wi.p).declarationProvider,t,e,ii.T.None);return u(()=>o)}),(0,Xe.sb)("_executeReferenceProvider",(a,t,e)=>{const o=c(a.get(wi.p).referenceProvider,t,e,!1,ii.T.None);return u(()=>o)}),(0,Xe.sb)("_executeImplementationProvider",(a,t,e)=>{const o=fm(a.get(wi.p).implementationProvider,t,e,ii.T.None);return u(()=>o)});var K,X,se,me,xe,Be,je,ft,v=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};r.BH.appendMenuItem(r.eH.EditorContext,{submenu:r.eH.EditorContextPeek,title:Me.N("peek.submenu","Peek"),group:"navigation",order:100});const Jt=new Set;function fn(a){const t=new a;return(0,Xe.QG)(t),Jt.add(t.id),t}class $n{constructor(t,e){this.model=t,this.position=e}static is(t){return!(!t||"object"!=typeof t||!(t instanceof $n||qn.L.isIPosition(t.position)&&t.model))}}class Ii extends Xe.R6{constructor(t,e){super(e),this.configuration=t}run(t,e,n){if(!e.hasModel())return Promise.resolve(void 0);const o=t.get(gs.lT),s=t.get(en.$),d=t.get(Kr.ek),m=t.get(Yu),R=t.get(wi.p),U=e.getModel(),F=e.getPosition(),q=$n.is(n)?n:new $n(U,F),_e=new Al.Dl(e,5),De=(0,Hn.eP)(this._getLocationModel(R,q.model,q.position,_e.token),_e.token).then(Ke=>v(this,void 0,void 0,function*(){var ct;if(!Ke||_e.token.isCancellationRequested)return;let Tt;if((0,Es.Z9)(Ke.ariaMessage),Ke.referenceAt(U.uri,F)){const tn=this._getAlternativeCommand(e);tn!==this.id&&Jt.has(tn)&&(Tt=e.getAction(tn))}const Ot=Ke.references.length;if(0===Ot){if(!this.configuration.muteMessage){const tn=U.getWordAtPosition(F);null===(ct=Er.get(e))||void 0===ct||ct.showMessage(this._getNoResultFoundMessage(tn),F)}}else{if(1!==Ot||!Tt)return this._onResult(s,m,e,Ke);Tt.run()}}),Ke=>{o.error(Ke)}).finally(()=>{_e.dispose()});return d.showWhile(De,250),De}_onResult(t,e,n,o){return v(this,void 0,void 0,function*(){const s=this._getGoToPreference(n);if(n instanceof Kl||!(this.configuration.openInPeek||"peek"===s&&o.references.length>1)){const d=o.firstReference(),m=o.references.length>1&&"gotoAndPeek"===s,R=yield this._openReference(n,t,d,this.configuration.openToSide,!m);m&&R?this._openInPeek(R,o):o.dispose(),"goto"===s&&e.put(d)}else this._openInPeek(n,o)})}_openReference(t,e,n,o,s){return v(this,void 0,void 0,function*(){let d;if((0,Ji.vx)(n)&&(d=n.targetSelectionRange),d||(d=n.range),!d)return;const m=yield e.openCodeEditor({resource:n.uri,options:{selection:It.e.collapseToStart(d),selectionRevealType:3,selectionSource:"code.jump"}},t,o);if(m){if(s){const R=m.getModel(),U=m.deltaDecorations([],[{range:d,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{m.getModel()===R&&m.deltaDecorations(U,[])},350)}return m}})}_openInPeek(t,e){const n=al.get(t);n&&t.hasModel()?n.toggleWidget(t.getSelection(),(0,Hn.PG)(o=>Promise.resolve(e)),this.configuration.openInPeek):e.dispose()}}class _i extends Ii{_getLocationModel(t,e,n,o){return v(this,void 0,void 0,function*(){return new or(yield Lf(t.definitionProvider,e,n,o),Me.N("def.title","Definitions"))})}_getNoResultFoundMessage(t){return t&&t.word?Me.N("noResultWord","No definition found for '{0}'",t.word):Me.N("generic.noResults","No definition found")}_getAlternativeCommand(t){return t.getOption(51).alternativeDefinitionCommand}_getGoToPreference(t){return t.getOption(51).multipleDefinitions}}const _o=Ht.$L&&!Nt.isStandalone?2118:70;fn(((K=class L1 extends _i{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:L1.id,label:Me.N("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Qt.Ao.and(pt.u.hasDefinitionProvider,pt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:_o,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),to.P0.registerCommandAlias("editor.action.goToDeclaration",L1.id)}}).id="editor.action.revealDefinition",K)),fn(((X=class M1 extends _i{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:M1.id,label:Me.N("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Qt.Ao.and(pt.u.hasDefinitionProvider,pt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,_o),weight:100}}),to.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",M1.id)}}).id="editor.action.revealDefinitionAside",X)),fn(((se=class D1 extends _i{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:D1.id,label:Me.N("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Qt.Ao.and(pt.u.hasDefinitionProvider,$s.notInPeekEditor,pt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:r.eH.EditorContextPeek,group:"peek",order:2}}),to.P0.registerCommandAlias("editor.action.previewDeclaration",D1.id)}}).id="editor.action.peekDefinition",se));class uo extends Ii{_getLocationModel(t,e,n,o){return v(this,void 0,void 0,function*(){return new or(yield hm(t.declarationProvider,e,n,o),Me.N("decl.title","Declarations"))})}_getNoResultFoundMessage(t){return t&&t.word?Me.N("decl.noResultWord","No declaration found for '{0}'",t.word):Me.N("decl.generic.noResults","No declaration found")}_getAlternativeCommand(t){return t.getOption(51).alternativeDeclarationCommand}_getGoToPreference(t){return t.getOption(51).multipleDeclarations}}fn((me=class rw extends uo{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:rw.id,label:Me.N("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Qt.Ao.and(pt.u.hasDeclarationProvider,pt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(t){return t&&t.word?Me.N("decl.noResultWord","No declaration found for '{0}'",t.word):Me.N("decl.generic.noResults","No declaration found")}},me.id="editor.action.revealDeclaration",me)),fn(class extends uo{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:Me.N("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Qt.Ao.and(pt.u.hasDeclarationProvider,$s.notInPeekEditor,pt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:r.eH.EditorContextPeek,group:"peek",order:3}})}});class Hi extends Ii{_getLocationModel(t,e,n,o){return v(this,void 0,void 0,function*(){return new or(yield w(t.typeDefinitionProvider,e,n,o),Me.N("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(t){return t&&t.word?Me.N("goToTypeDefinition.noResultWord","No type definition found for '{0}'",t.word):Me.N("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(t){return t.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(t){return t.getOption(51).multipleTypeDefinitions}}fn(((xe=class aw extends Hi{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:aw.ID,label:Me.N("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Qt.Ao.and(pt.u.hasTypeDefinitionProvider,pt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",xe)),fn(((Be=class lw extends Hi{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:lw.ID,label:Me.N("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Qt.Ao.and(pt.u.hasTypeDefinitionProvider,$s.notInPeekEditor,pt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:r.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",Be));class Zi extends Ii{_getLocationModel(t,e,n,o){return v(this,void 0,void 0,function*(){return new or(yield fm(t.implementationProvider,e,n,o),Me.N("impl.title","Implementations"))})}_getNoResultFoundMessage(t){return t&&t.word?Me.N("goToImplementation.noResultWord","No implementation found for '{0}'",t.word):Me.N("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(t){return t.getOption(51).alternativeImplementationCommand}_getGoToPreference(t){return t.getOption(51).multipleImplementations}}fn(((je=class cw extends Zi{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:cw.ID,label:Me.N("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Qt.Ao.and(pt.u.hasImplementationProvider,pt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",je)),fn(((ft=class dw extends Zi{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:dw.ID,label:Me.N("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Qt.Ao.and(pt.u.hasImplementationProvider,$s.notInPeekEditor,pt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:r.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",ft));class _r extends Ii{_getNoResultFoundMessage(t){return t?Me.N("references.no","No references found for '{0}'",t.word):Me.N("references.noGeneric","No references found")}_getAlternativeCommand(t){return t.getOption(51).alternativeReferenceCommand}_getGoToPreference(t){return t.getOption(51).multipleReferences}}fn(class extends _r{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:Me.N("goToReferences.label","Go to References"),alias:"Go to References",precondition:Qt.Ao.and(pt.u.hasReferenceProvider,$s.notInPeekEditor,pt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(t,e,n,o){return v(this,void 0,void 0,function*(){return new or(yield c(t.referenceProvider,e,n,!0,o),Me.N("ref.title","References"))})}}),fn(class extends _r{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:Me.N("references.action.label","Peek References"),alias:"Peek References",precondition:Qt.Ao.and(pt.u.hasReferenceProvider,$s.notInPeekEditor,pt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:r.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(t,e,n,o){return v(this,void 0,void 0,function*(){return new or(yield c(t.referenceProvider,e,n,!1,o),Me.N("ref.title","References"))})}});class Ra extends Ii{constructor(t,e,n){super(t,{id:"editor.action.goToLocation",label:Me.N("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:Qt.Ao.and($s.notInPeekEditor,pt.u.isInWalkThroughSnippet.toNegated())}),this._references=e,this._gotoMultipleBehaviour=n}_getLocationModel(t,e,n,o){return v(this,void 0,void 0,function*(){return new or(this._references,Me.N("generic.title","Locations"))})}_getNoResultFoundMessage(t){return t&&Me.N("generic.noResult","No results for '{0}'",t.word)||""}_getGoToPreference(t){var e;return null!==(e=this._gotoMultipleBehaviour)&&void 0!==e?e:t.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}to.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:vo.o},{name:"position",description:"The position at which to start",constraint:qn.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(a,t,e,n,o,s,d)=>v(void 0,void 0,void 0,function*(){(0,Ki.p_)(vo.o.isUri(t)),(0,Ki.p_)(qn.L.isIPosition(e)),(0,Ki.p_)(Array.isArray(n)),(0,Ki.p_)(void 0===o||"string"==typeof o),(0,Ki.p_)(void 0===d||"boolean"==typeof d);const m=a.get(en.$),R=yield m.openCodeEditor({resource:t},m.getFocusedCodeEditor());if((0,Pd.CL)(R))return R.setPosition(e),R.revealPositionInCenterIfOutsideViewport(e,0),R.invokeWithinContext(U=>{const F=new class extends Ra{_getNoResultFoundMessage(q){return s||super._getNoResultFoundMessage(q)}}({muteMessage:!Boolean(s),openInPeek:Boolean(d),openToSide:!1},n,o);U.get(Yi.TG).invokeFunction(F.run.bind(F),R)})})}),to.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:vo.o},{name:"position",description:"The position at which to start",constraint:qn.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(a,t,e,n,o)=>v(void 0,void 0,void 0,function*(){a.get(to.Hy).executeCommand("editor.action.goToLocations",t,e,n,o,void 0,!0)})}),to.P0.registerCommand({id:"editor.action.findReferences",handler:(a,t,e)=>{(0,Ki.p_)(vo.o.isUri(t)),(0,Ki.p_)(qn.L.isIPosition(e));const n=a.get(wi.p),o=a.get(en.$);return o.openCodeEditor({resource:t},o.getFocusedCodeEditor()).then(s=>{if(!(0,Pd.CL)(s)||!s.hasModel())return;const d=al.get(s);if(!d)return;const m=(0,Hn.PG)(U=>c(n.referenceProvider,s.getModel(),qn.L.lift(e),!1,U).then(F=>new or(F,Me.N("ref.title","References")))),R=new It.e(e.lineNumber,e.column,e.lineNumber,e.column);return Promise.resolve(d.toggleWidget(R,m,!1))})}}),to.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),r.BH.appendMenuItems([{id:r.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:Me.N({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:r.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:Me.N({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:r.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:Me.N({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:r.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:Me.N({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:r.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:Me.N({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var Or=function(a,t){return function(e,n){t(e,n,a)}};let no=class _g{constructor(t,e,n,o){this.textModelResolverService=e,this.languageService=n,this.languageFeaturesService=o,this.toUnhook=new At.SL,this.toUnhookForKeyboard=new At.SL,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=t;let s=new Ed(t);this.toUnhook.add(s),this.toUnhook.add(s.onMouseMoveOrRelevantKeyDown(([d,m])=>{this.startFindDefinitionFromMouse(d,(0,Ki.f6)(m))})),this.toUnhook.add(s.onExecute(d=>{this.isEnabled(d)&&this.gotoDefinition(d.target.position,d.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},m=>{this.removeLinkDecorations(),(0,Yn.dL)(m)})})),this.toUnhook.add(s.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(t){return t.getContribution(_g.ID)}startFindDefinitionFromCursor(t){return this.startFindDefinition(t).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(t,e){if(!(9===t.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(t,e)?void this.startFindDefinition(t.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(t){var e;this.toUnhookForKeyboard.clear();const n=t?null===(e=this.editor.getModel())||void 0===e?void 0:e.getWordAtPosition(t):null;if(!n)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return Promise.resolve(0);this.currentWordAtPosition=n;let o=new Al.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,Hn.PG)(s=>this.findDefinition(t,s)),this.previousPromise.then(s=>{if(s&&s.length&&o.validate(this.editor))if(s.length>1)this.addDecoration(new It.e(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn),(new zo.W5).appendText(Me.N("multipleResults","Click to show {0} definitions.",s.length)));else{let d=s[0];if(!d.uri)return;this.textModelResolverService.createModelReference(d.uri).then(m=>{if(!m.object||!m.object.textEditorModel)return void m.dispose();const{object:{textEditorModel:R}}=m,{startLineNumber:U}=d.range;if(U<1||U>R.getLineCount())return void m.dispose();const F=this.getPreviewValue(R,U,d);let q;q=d.originSelectionRange?It.e.lift(d.originSelectionRange):new It.e(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn);const _e=this.languageService.guessLanguageIdByFilepathOrFirstLine(R.uri);this.addDecoration(q,(new zo.W5).appendCodeblock(_e||"",F)),m.dispose()})}else this.removeLinkDecorations()}).then(void 0,Yn.dL)}getPreviewValue(t,e,n){let o=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(t,e);return o.endLineNumber-o.startLineNumber>=_g.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,e)),this.stripIndentationFromPreviewRange(t,e,o)}stripIndentationFromPreviewRange(t,e,n){let s=t.getLineFirstNonWhitespaceColumn(e);for(let m=e+1;m<n.endLineNumber;m++){const R=t.getLineFirstNonWhitespaceColumn(m);s=Math.min(s,R)}return t.getValueInRange(n).replace(new RegExp(`^\\s{${s-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,e){const n=t.getLineFirstNonWhitespaceColumn(e),o=Math.min(t.getLineCount(),e+_g.MAX_SOURCE_PREVIEW_LINES);let s=e+1;for(;s<o&&n!==t.getLineFirstNonWhitespaceColumn(s);s++);return new It.e(e,1,s+1,1)}getPreviewRangeBasedOnBrackets(t,e){const n=Math.min(t.getLineCount(),e+_g.MAX_SOURCE_PREVIEW_LINES),o=[];let s=!0,d=t.bracketPairs.findNextBracket(new qn.L(e,1));for(;null!==d;){if(0===o.length)o.push(d);else{const F=o[o.length-1];if(F.open[0]===d.open[0]&&F.isOpen&&!d.isOpen?o.pop():o.push(d),0===o.length){if(!s)return new It.e(e,1,d.range.endLineNumber+1,1);s=!1}}const m=t.getLineMaxColumn(e);let R=d.range.endLineNumber,U=d.range.endColumn;if(m===d.range.endColumn&&(R++,U=1),R>n)return new It.e(e,1,n+1,1);d=t.bracketPairs.findNextBracket(new qn.L(R,U))}return new It.e(e,1,n+1,1)}addDecoration(t,e){this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[{range:t,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:e}}])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(t,e){return this.editor.hasModel()&&t.isNoneOrSingleMouseDown&&6===t.target.type&&(t.hasTriggerModifier||!!e&&e.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(t,e){const n=this.editor.getModel();return n?Lf(this.languageFeaturesService.definitionProvider,n,t,e):Promise.resolve(null)}gotoDefinition(t,e){return this.editor.setPosition(t),this.editor.invokeWithinContext(n=>{const o=!e&&this.editor.getOption(78)&&!this.isInPeekEditor(n);return new _i({openToSide:e,openInPeek:o,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(n,this.editor)})}isInPeekEditor(t){const e=t.get(Qt.i6);return $s.inPeekEditor.getValue(e)}dispose(){this.toUnhook.dispose()}};no.ID="editor.contrib.gotodefinitionatposition",no.MAX_SOURCE_PREVIEW_LINES=8,no=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Or(1,pr.S),Or(2,$r.O),Or(3,wi.p)],no),(0,Xe._K)(no.ID,no),(0,_.Ic)((a,t)=>{const e=a.getColor(l._Yy);e&&t.addRule(`.monaco-editor .goto-definition-link { color: ${e} !important; }`)});var as=p(6491);p(97886);const sr=rt.$;class Rd extends At.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new as.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class ll extends At.JT{constructor(t,e,n){super(),this.actionContainer=rt.R3(t,sr("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=rt.R3(this.actionContainer,sr("a.action")),this.action.setAttribute("role","button"),e.iconClass&&rt.R3(this.action,sr(`span.icon.${e.iconClass}`)),rt.R3(this.action,sr("span")).textContent=n?`${e.label} (${n})`:e.label,this._register(rt.nm(this.actionContainer,rt.tw.CLICK,s=>{s.stopPropagation(),s.preventDefault(),e.run(this.actionContainer)})),this._register(rt.nm(this.actionContainer,rt.tw.KEY_UP,s=>{new $l.y(s).equals(3)&&(s.stopPropagation(),s.preventDefault(),e.run(this.actionContainer))})),this.setEnabled(!0)}static render(t,e,n){return new ll(t,e,n)}setEnabled(t){t?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}class Ow{constructor(t,e,n){this.value=t,this.isComplete=e,this.hasLoadingMessage=n}}class U1 extends At.JT{constructor(t,e){super(),this._editor=t,this._computer=e,this._onResult=this._register(new zn.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new Hn.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new Hn.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new Hn.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(t,e=!0){this._state=t,e&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,Hn.zS)(t=>this._computer.computeAsync(t)),(()=>{!function(a,t,e,n){new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){var t,e;try{try{for(var o,n=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=a[Symbol.asyncIterator];return t?t.call(a):(a="function"==typeof __values?__values(a):a[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=a[s]&&function(d){return new Promise(function(m,R){!function(s,d,m,R){Promise.resolve(R).then(function(U){s({value:U,done:m})},d)}(m,R,(d=a[s](d)).done,d.value)})}}}(this._asyncIterable);!(o=yield n.next()).done;){const s=o.value;s&&(this._result.push(s),this._fireResult())}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=n.return)&&(yield e.call(n))}finally{if(t)throw t.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(s){(0,Yn.dL)(s)}})})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const t=0===this._state,e=4===this._state;this._onResult.fire(new Ow(this._result.slice(0),t,e))}start(t){if(0===t)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class L0{constructor(t,e){this.priority=t,this.range=e,this.type=1}equals(t){return 1===t.type&&this.range.equalsRange(t.range)}canAdoptVisibleHover(t,e){return 1===t.type&&e.lineNumber===this.range.startLineNumber}}class gm{constructor(t,e,n){this.priority=t,this.owner=e,this.range=n,this.type=2}equals(t){return 2===t.type&&this.owner===t.owner}canAdoptVisibleHover(t,e){return 2===t.type&&this.owner===t.owner}}const Fd=new class{constructor(){this._participants=[]}register(t){this._participants.push(t)}getAll(){return this._participants}};let Tw=(()=>{class a{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let s,e=this.pos,n=0,o=this.value.charCodeAt(e);if(s=a._table[o],"number"==typeof s)return this.pos+=1,{type:s,pos:e,len:1};if(a.isDigitCharacter(o)){s=8;do{n+=1,o=this.value.charCodeAt(e+n)}while(a.isDigitCharacter(o));return this.pos+=n,{type:s,pos:e,len:n}}if(a.isVariableCharacter(o)){s=9;do{o=this.value.charCodeAt(e+ ++n)}while(a.isVariableCharacter(o)||a.isDigitCharacter(o));return this.pos+=n,{type:s,pos:e,len:n}}s=10;do{n+=1,o=this.value.charCodeAt(e+n)}while(!isNaN(o)&&void 0===a._table[o]&&!a.isDigitCharacter(o)&&!a.isVariableCharacter(o));return this.pos+=n,{type:s,pos:e,len:n}}}return a._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},a})();class Ju{constructor(){this._children=[]}appendChild(t){return t instanceof Tr&&this._children[this._children.length-1]instanceof Tr?this._children[this._children.length-1].value+=t.value:(t.parent=this,this._children.push(t)),this}replace(t,e){const{parent:n}=t,o=n.children.indexOf(t),s=n.children.slice(0);s.splice(o,1,...e),n._children=s,function d(m,R){for(const U of m)U.parent=R,d(U.children,U)}(e,n)}get children(){return this._children}get snippet(){let t=this;for(;;){if(!t)return;if(t instanceof mm)return t;t=t.parent}}toString(){return this.children.reduce((t,e)=>t+e.toString(),"")}len(){return 0}}class Tr extends Ju{constructor(t){super(),this.value=t}toString(){return this.value}len(){return this.value.length}clone(){return new Tr(this.value)}}class j1 extends Ju{}class pa extends j1{constructor(t){super(),this.index=t}static compareByIndex(t,e){return t.index===e.index?0:t.isFinalTabstop?1:e.isFinalTabstop||t.index<e.index?-1:t.index>e.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof Mf?this._children[0]:void 0}clone(){let t=new pa(this.index);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(e=>e.clone()),t}}class Mf extends Ju{constructor(){super(...arguments),this.options=[]}appendChild(t){return t instanceof Tr&&(t.parent=this,this.options.push(t)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let t=new Mf;return this.options.forEach(t.appendChild,t),t}}class M0 extends Ju{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(t){const e=this;let n=!1,o=t.replace(this.regexp,function(){return n=!0,e._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(s=>s instanceof Fa&&Boolean(s.elseValue))&&(o=this._replace([])),o}_replace(t){let e="";for(const n of this._children)if(n instanceof Fa){let o=t[n.index]||"";o=n.resolve(o),e+=o}else e+=n.toString();return e}toString(){return""}clone(){let t=new M0;return t.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),t._children=this.children.map(e=>e.clone()),t}}class Fa extends Ju{constructor(t,e,n,o){super(),this.index=t,this.shorthandName=e,this.ifValue=n,this.elseValue=o}resolve(t){return"upcase"===this.shorthandName?t?t.toLocaleUpperCase():"":"downcase"===this.shorthandName?t?t.toLocaleLowerCase():"":"capitalize"===this.shorthandName?t?t[0].toLocaleUpperCase()+t.substr(1):"":"pascalcase"===this.shorthandName?t?this._toPascalCase(t):"":"camelcase"===this.shorthandName?t?this._toCamelCase(t):"":Boolean(t)&&"string"==typeof this.ifValue?this.ifValue:Boolean(t)||"string"!=typeof this.elseValue?t||"":this.elseValue}_toPascalCase(t){const e=t.match(/[a-z0-9]+/gi);return e?e.map(n=>n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):t}_toCamelCase(t){const e=t.match(/[a-z0-9]+/gi);return e?e.map((n,o)=>0===o?n.toLowerCase():n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()).join(""):t}clone(){return new Fa(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class Df extends j1{constructor(t){super(),this.name=t}resolve(t){let e=t.resolve(this);return this.transform&&(e=this.transform.resolve(e||"")),void 0!==e&&(this._children=[new Tr(e)],!0)}clone(){const t=new Df(this.name);return this.transform&&(t.transform=this.transform.clone()),t._children=this.children.map(e=>e.clone()),t}}function K1(a,t){const e=[...a];for(;e.length>0;){const n=e.shift();if(!t(n))break;e.unshift(...n.children)}}class mm extends Ju{get placeholderInfo(){if(!this._placeholders){let e,t=[];this.walk(function(n){return n instanceof pa&&(t.push(n),e=!e||e.index<n.index?n:e),!0}),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){const{all:t}=this.placeholderInfo;return t}offset(t){let e=0,n=!1;return this.walk(o=>o===t?(n=!0,!1):(e+=o.len(),!0)),n?e:-1}fullLen(t){let e=0;return K1([t],n=>(e+=n.len(),!0)),e}enclosingPlaceholders(t){let e=[],{parent:n}=t;for(;n;)n instanceof pa&&e.push(n),n=n.parent;return e}resolveVariables(t){return this.walk(e=>(e instanceof Df&&e.resolve(t)&&(this._placeholders=void 0),!0)),this}appendChild(t){return this._placeholders=void 0,super.appendChild(t)}replace(t,e){return this._placeholders=void 0,super.replace(t,e)}clone(){let t=new mm;return this._children=this.children.map(e=>e.clone()),t}walk(t){K1(this.children,t)}}class pm{constructor(){this._scanner=new Tw,this._token={type:14,pos:0,len:0}}static escape(t){return t.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(t){return/\${?CLIPBOARD/.test(t)}parse(t,e,n){this._scanner.text(t),this._token=this._scanner.next();const o=new mm;for(;this._parse(o););const s=new Map,d=[];let m=0;o.walk(R=>(R instanceof pa&&(m+=1,R.isFinalTabstop?s.set(0,void 0):!s.has(R.index)&&R.children.length>0?s.set(R.index,R.children):d.push(R)),!0));for(const R of d){const U=s.get(R.index);if(U){const F=new pa(R.index);F.transform=R.transform;for(const q of U)F.appendChild(q.clone());o.replace(R,[F])}}return n||(n=m>0&&e),!s.has(0)&&n&&o.appendChild(new pa(0)),o}_accept(t,e){if(void 0===t||this._token.type===t){let n=!e||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1}_backTo(t){return this._scanner.pos=t.pos+t.len,this._token=t,!1}_until(t){const e=this._token;for(;this._token.type!==t;){if(14===this._token.type)return!1;if(5===this._token.type){const o=this._scanner.next();if(0!==o.type&&4!==o.type&&5!==o.type)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(e.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(t){return this._parseEscaped(t)||this._parseTabstopOrVariableName(t)||this._parseComplexPlaceholder(t)||this._parseComplexVariable(t)||this._parseAnything(t)}_parseEscaped(t){let e;return!!(e=this._accept(5,!0))&&(e=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||e,t.appendChild(new Tr(e)),!0)}_parseTabstopOrVariableName(t){let e;const n=this._token;return this._accept(0)&&(e=this._accept(9,!0)||this._accept(8,!0))?(t.appendChild(/^\d+$/.test(e)?new pa(Number(e)):new Df(e)),!0):this._backTo(n)}_parseComplexPlaceholder(t){let e;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(e=this._accept(8,!0))))return this._backTo(n);const s=new pa(Number(e));if(this._accept(1))for(;;){if(this._accept(4))return t.appendChild(s),!0;if(!this._parse(s))return t.appendChild(new Tr("${"+e+":")),s.children.forEach(t.appendChild,t),!0}else{if(!(s.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(s)?(t.appendChild(s),!0):(this._backTo(n),!1):this._accept(4)?(t.appendChild(s),!0):this._backTo(n);{const d=new Mf;for(;;){if(this._parseChoiceElement(d)){if(this._accept(2))continue;if(this._accept(7)&&(s.appendChild(d),this._accept(4)))return t.appendChild(s),!0}return this._backTo(n),!1}}}}_parseChoiceElement(t){const e=this._token,n=[];for(;2!==this._token.type&&7!==this._token.type;){let o;if(o=(o=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||o:this._accept(void 0,!0),!o)return this._backTo(e),!1;n.push(o)}return 0===n.length?(this._backTo(e),!1):(t.appendChild(new Tr(n.join(""))),!0)}_parseComplexVariable(t){let e;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(e=this._accept(9,!0))))return this._backTo(n);const s=new Df(e);if(!this._accept(1))return this._accept(6)?this._parseTransform(s)?(t.appendChild(s),!0):(this._backTo(n),!1):this._accept(4)?(t.appendChild(s),!0):this._backTo(n);for(;;){if(this._accept(4))return t.appendChild(s),!0;if(!this._parse(s))return t.appendChild(new Tr("${"+e+":")),s.children.forEach(t.appendChild,t),!0}}_parseTransform(t){let e=new M0,n="",o="";for(;!this._accept(6);){let s;if(s=this._accept(5,!0))s=this._accept(6,!0)||s,n+=s;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){let s;if(s=this._accept(5,!0))s=this._accept(5,!0)||this._accept(6,!0)||s,e.appendChild(new Tr(s));else if(!this._parseFormatString(e)&&!this._parseAnything(e))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;o+=this._accept(void 0,!0)}try{e.regexp=new RegExp(n,o)}catch{return!1}return t.transform=e,!0}_parseFormatString(t){const e=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let o=this._accept(8,!0);if(!o)return this._backTo(e),!1;if(!n)return t.appendChild(new Fa(Number(o))),!0;if(this._accept(4))return t.appendChild(new Fa(Number(o))),!0;if(!this._accept(1))return this._backTo(e),!1;if(this._accept(6)){let s=this._accept(9,!0);return s&&this._accept(4)?(t.appendChild(new Fa(Number(o),s)),!0):(this._backTo(e),!1)}if(this._accept(11)){let s=this._until(4);if(s)return t.appendChild(new Fa(Number(o),void 0,s,void 0)),!0}else if(this._accept(12)){let s=this._until(4);if(s)return t.appendChild(new Fa(Number(o),void 0,void 0,s)),!0}else if(this._accept(13)){let s=this._until(1);if(s){let d=this._until(4);if(d)return t.appendChild(new Fa(Number(o),void 0,s,d)),!0}}else{let s=this._until(4);if(s)return t.appendChild(new Fa(Number(o),void 0,void 0,s)),!0}return this._backTo(e),!1}_parseAnything(t){return 14!==this._token.type&&(t.appendChild(new Tr(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}p(84570);const Aw={inputActiveOptionBorder:$i.Il.fromHex("#007ACC00"),inputActiveOptionForeground:$i.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:$i.Il.fromHex("#0E639C50")};class Ef extends fa.${constructor(t){super(),this._onChange=this._register(new zn.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new zn.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},Aw),t),this._checked=this._opts.isChecked;const e=["monaco-custom-checkbox"];this._opts.icon&&e.push(...Zn.dT.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&e.push(...this._opts.actionClassName.split(" ")),this._checked&&e.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...e),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,n=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),n.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,n=>{if(10===n.keyCode||3===n.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void n.preventDefault();this._onKeyDown.fire(n)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(t){t.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=t.inputActiveOptionBorder),t.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=t.inputActiveOptionForeground),t.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=t.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}const Rw=Me.N("caseDescription","Match Case"),Fw=Me.N("wordsDescription","Match Whole Word"),Bw=Me.N("regexDescription","Use Regular Expression");class $1 extends Ef{constructor(t){super({icon:Zn.lA.caseSensitive,title:Rw+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class Z1 extends Ef{constructor(t){super({icon:Zn.lA.wholeWord,title:Fw+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class G1 extends Ef{constructor(t){super({icon:Zn.lA.regex,title:Bw+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}var Q1=p(39402);p(80090);const Ww=Me.N("defaultLabel","input");class Vw extends fa.${constructor(t,e,n,o){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new zn.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new zn.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new zn.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new zn.Q5),this._onKeyUp=this._register(new zn.Q5),this._onCaseSensitiveKeyDown=this._register(new zn.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new zn.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=e,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||Ww,this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground;const s=o.appendCaseSensitiveLabel||"",d=o.appendWholeWordsLabel||"",m=o.appendRegexLabel||"",R=o.history||[],U=!!o.flexibleHeight,F=!!o.flexibleWidth,q=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Q1.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:R,showHistoryHint:o.showHistoryHint,flexibleHeight:U,flexibleWidth:F,flexibleMaxHeight:q})),this.regex=this._register(new G1({appendTitle:m,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(De=>{this._onDidOptionChange.fire(De),!De&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(De=>{this._onRegexKeyDown.fire(De)})),this.wholeWords=this._register(new Z1({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(De=>{this._onDidOptionChange.fire(De),!De&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new $1({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(De=>{this._onDidOptionChange.fire(De),!De&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(De=>{this._onCaseSensitiveKeyDown.fire(De)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let _e=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,De=>{if(De.equals(15)||De.equals(17)||De.equals(9)){let Ke=_e.indexOf(document.activeElement);if(Ke>=0){let ct=-1;De.equals(17)?ct=(Ke+1)%_e.length:De.equals(15)&&(ct=0===Ke?_e.length-1:Ke-1),De.equals(9)?(_e[Ke].blur(),this.inputBox.focus()):ct>=0&&_e[ct].focus(),rt.zB.stop(De,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),t&&t.appendChild(this.domNode),this._register(rt.nm(this.inputBox.inputElement,"compositionstart",De=>{this.imeSessionInProgress=!0})),this._register(rt.nm(this.inputBox.inputElement,"compositionend",De=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,De=>this._onKeyDown.fire(De)),this.onkeyup(this.inputBox.inputElement,De=>this._onKeyUp.fire(De)),this.oninput(this.inputBox.inputElement,De=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,De=>this._onMouseDown.fire(De))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(t){this.fixFocusOnOptionClickEnabled=t}setEnabled(t){t?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(t){this.inputBox.value!==t&&(this.inputBox.value=t)}style(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const t={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(t),this.wholeWords.style(t),this.caseSensitive.style(t),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder})}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(t){this.caseSensitive.checked=t}getWholeWords(){return this.wholeWords.checked}setWholeWords(t){this.wholeWords.checked=t}getRegex(){return this.regex.checked}setRegex(t){this.regex.checked=t,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const Hw=Me.N("defaultLabel","input"),zw=Me.N("label.preserveCaseCheckbox","Preserve Case");class Uw extends Ef{constructor(t){super({icon:Zn.lA.preserveCase,title:zw+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class jw extends fa.${constructor(t,e,n,o){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new zn.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new zn.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new zn.Q5),this._onInput=this._register(new zn.Q5),this._onKeyUp=this._register(new zn.Q5),this._onPreserveCaseKeyDown=this._register(new zn.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=e,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||Hw,this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground;const s=o.appendPreserveCaseLabel||"",d=o.history||[],m=!!o.flexibleHeight,R=!!o.flexibleWidth,U=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Q1.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:d,showHistoryHint:o.showHistoryHint,flexibleHeight:m,flexibleWidth:R,flexibleMaxHeight:U})),this.preserveCase=this._register(new Uw({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(_e=>{this._onDidOptionChange.fire(_e),!_e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(_e=>{this._onPreserveCaseKeyDown.fire(_e)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;let F=[this.preserveCase.domNode];this.onkeydown(this.domNode,_e=>{if(_e.equals(15)||_e.equals(17)||_e.equals(9)){let De=F.indexOf(document.activeElement);if(De>=0){let Ke=-1;_e.equals(17)?Ke=(De+1)%F.length:_e.equals(15)&&(Ke=0===De?F.length-1:De-1),_e.equals(9)?(F[De].blur(),this.inputBox.focus()):Ke>=0&&F[Ke].focus(),rt.zB.stop(_e,!0)}}});let q=document.createElement("div");q.className="controls",q.style.display=this._showOptionButtons?"block":"none",q.appendChild(this.preserveCase.domNode),this.domNode.appendChild(q),t&&t.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,_e=>this._onKeyDown.fire(_e)),this.onkeyup(this.inputBox.inputElement,_e=>this._onKeyUp.fire(_e)),this.oninput(this.inputBox.inputElement,_e=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,_e=>this._onMouseDown.fire(_e))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(t){t?this.enable():this.disable()}style(t){this.inputActiveOptionBorder=t.inputActiveOptionBorder,this.inputActiveOptionForeground=t.inputActiveOptionForeground,this.inputActiveOptionBackground=t.inputActiveOptionBackground,this.inputBackground=t.inputBackground,this.inputForeground=t.inputForeground,this.inputBorder=t.inputBorder,this.inputValidationInfoBackground=t.inputValidationInfoBackground,this.inputValidationInfoForeground=t.inputValidationInfoForeground,this.inputValidationInfoBorder=t.inputValidationInfoBorder,this.inputValidationWarningBackground=t.inputValidationWarningBackground,this.inputValidationWarningForeground=t.inputValidationWarningForeground,this.inputValidationWarningBorder=t.inputValidationWarningBorder,this.inputValidationErrorBackground=t.inputValidationErrorBackground,this.inputValidationErrorForeground=t.inputValidationErrorForeground,this.inputValidationErrorBorder=t.inputValidationErrorBorder,this.applyStyles()}applyStyles(){this.domNode&&(this.preserveCase.style({inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground}),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder}))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(t){this.preserveCase.checked=t}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=t,this.domNode.style.width=t+"px"}dispose(){super.dispose()}}var Y1=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},J1=function(a,t){return function(e,n){t(e,n,a)}};const D0=new Qt.uy("suggestWidgetVisible",!1,(0,Me.N)("suggestWidgetVisible","Whether suggestion are visible")),Nf="historyNavigationWidget",X1="historyNavigationForwardsEnabled",q1="historyNavigationBackwardsEnabled";function eC(a,t){return a.getContext(document.activeElement).getValue(t)}function tC(a,t){const e=function(a,t){return a.createScoped(t.target)}(a,t);return function(a,t,e){new Qt.uy("historyNavigationWidget",t).bindTo(a)}(e,t),{scopedContextKeyService:e,historyNavigationForwardsEnablement:new Qt.uy(X1,!0).bindTo(e),historyNavigationBackwardsEnablement:new Qt.uy(q1,!0).bindTo(e)}}let E0=class extends Vw{constructor(t,e,n,o,s=!1){super(t,e,s,n),this._register(tC(o,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};E0=Y1([J1(3,Qt.i6)],E0);let N0=class extends jw{constructor(t,e,n,o,s=!1){super(t,e,s,n),this._register(tC(o,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};N0=Y1([J1(3,Qt.i6)],N0),kr.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Qt.Ao.and(Qt.Ao.has(Nf),Qt.Ao.equals(q1,!0),D0.isEqualTo(!1)),primary:16,secondary:[528],handler:a=>{const t=eC(a.get(Qt.i6),Nf);t&&t.historyNavigator.showPreviousValue()}}),kr.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Qt.Ao.and(Qt.Ao.has(Nf),Qt.Ao.equals(X1,!0),D0.isEqualTo(!1)),primary:18,secondary:[530],handler:a=>{const t=eC(a.get(Qt.i6),Nf);t&&t.historyNavigator.showNextValue()}});var If=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};const Gi={Visible:D0,DetailsVisible:new Qt.uy("suggestWidgetDetailsVisible",!1,(0,Me.N)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new Qt.uy("suggestWidgetMultipleSuggestions",!1,(0,Me.N)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new Qt.uy("suggestionMakesTextEdit",!0,(0,Me.N)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new Qt.uy("acceptSuggestionOnEnter",!0,(0,Me.N)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new Qt.uy("suggestionHasInsertAndReplaceRange",!1,(0,Me.N)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new Qt.uy("suggestionInsertMode",void 0,{type:"string",description:(0,Me.N)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new Qt.uy("suggestionCanResolve",!1,(0,Me.N)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},Rc=new r.eH("suggestWidgetStatusBar");class Zw{constructor(t,e,n,o){this.position=t,this.completion=e,this.container=n,this.provider=o,this.isInvalid=!1,this.score=Zs.CL.Default,this.distance=0,this.textLabel="string"==typeof e.label?e.label:e.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=e.sortText&&e.sortText.toLowerCase(),this.filterTextLow=e.filterText&&e.filterText.toLowerCase(),It.e.isIRange(e.range)?(this.editStart=new qn.L(e.range.startLineNumber,e.range.startColumn),this.editInsertEnd=new qn.L(e.range.endLineNumber,e.range.endColumn),this.editReplaceEnd=new qn.L(e.range.endLineNumber,e.range.endColumn),this.isInvalid=this.isInvalid||It.e.spansMultipleLines(e.range)||e.range.startLineNumber!==t.lineNumber):(this.editStart=new qn.L(e.range.insert.startLineNumber,e.range.insert.startColumn),this.editInsertEnd=new qn.L(e.range.insert.endLineNumber,e.range.insert.endColumn),this.editReplaceEnd=new qn.L(e.range.replace.endLineNumber,e.range.replace.endColumn),this.isInvalid=this.isInvalid||It.e.spansMultipleLines(e.range.insert)||It.e.spansMultipleLines(e.range.replace)||e.range.insert.startLineNumber!==t.lineNumber||e.range.replace.startLineNumber!==t.lineNumber||e.range.insert.startColumn!==e.range.replace.startColumn),"function"!=typeof o.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(t){return If(this,void 0,void 0,function*(){if(!this._resolveCache){const e=t.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,t)).then(n=>{Object.assign(this.completion,n),this._isResolved=!0,e.dispose()},n=>{(0,Yn.n2)(n)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class _m{constructor(t=2,e=new Set,n=new Set,o=!0){this.snippetSortOrder=t,this.kindFilter=e,this.providerFilter=n,this.showDeprecated=o}}_m.default=new _m;class Qw{constructor(t,e,n,o){this.items=t,this.needsClipboard=e,this.durations=n,this.disposable=o}}function nC(a,t,e,n=_m.default,o={triggerKind:0},s=ii.T.None){return If(this,void 0,void 0,function*(){const d=new Xr.G(!0);e=e.clone();const m=t.getWordAtPosition(e),R=m?new It.e(e.lineNumber,m.startColumn,e.lineNumber,m.endColumn):It.e.fromPositions(e),U={replace:R,insert:R.setEndPosition(e.lineNumber,e.column)},F=[],q=new At.SL,_e=[];let De=!1;const Ke=(Tt,Ot,tn)=>{var on,Wn,An;let Bi=!1;if(!Ot)return Bi;for(let yi of Ot.suggestions)if(!n.kindFilter.has(yi.kind)){if(!n.showDeprecated&&(null===(on=null==yi?void 0:yi.tags)||void 0===on?void 0:on.includes(1)))continue;yi.range||(yi.range=U),yi.sortText||(yi.sortText="string"==typeof yi.label?yi.label:yi.label.label),!De&&yi.insertTextRules&&4&yi.insertTextRules&&(De=pm.guessNeedsClipboard(yi.insertText)),F.push(new Zw(e,yi,Ot,Tt)),Bi=!0}return(0,At.Wf)(Ot)&&q.add(Ot),_e.push({providerName:null!==(Wn=Tt._debugDisplayName)&&void 0!==Wn?Wn:"unknown_provider",elapsedProvider:null!==(An=Ot.duration)&&void 0!==An?An:-1,elapsedOverall:tn.elapsed()}),Bi},ct=(()=>If(this,void 0,void 0,function*(){}))();for(let Tt of a.orderedGroups(t)){let Ot=!1;if(yield Promise.all(Tt.map(tn=>If(this,void 0,void 0,function*(){if(!(n.providerFilter.size>0)||n.providerFilter.has(tn))try{const on=new Xr.G(!0),Wn=yield tn.provideCompletionItems(t,e,o,s);Ot=Ke(tn,Wn,on)||Ot}catch(on){(0,Yn.Cp)(on)}}))),Ot||s.isCancellationRequested)break}return yield ct,s.isCancellationRequested?(q.dispose(),Promise.reject((0,Yn.F0)())):new Qw(F.sort(iC(n.snippetSortOrder)),De,{entries:_e,elapsed:d.elapsed()},q)})}function I0(a,t){if(a.sortTextLow&&t.sortTextLow){if(a.sortTextLow<t.sortTextLow)return-1;if(a.sortTextLow>t.sortTextLow)return 1}return a.completion.label<t.completion.label?-1:a.completion.label>t.completion.label?1:a.completion.kind-t.completion.kind}const Cm=new Map;function iC(a){return Cm.get(a)}Cm.set(0,function(a,t){if(a.completion.kind!==t.completion.kind){if(27===a.completion.kind)return-1;if(27===t.completion.kind)return 1}return I0(a,t)}),Cm.set(2,function(a,t){if(a.completion.kind!==t.completion.kind){if(27===a.completion.kind)return 1;if(27===t.completion.kind)return-1}return I0(a,t)}),Cm.set(1,I0),to.P0.registerCommand("_executeCompletionItemProvider",(a,...t)=>If(void 0,void 0,void 0,function*(){const[e,n,o,s]=t;(0,Ki.p_)(vo.o.isUri(e)),(0,Ki.p_)(qn.L.isIPosition(n)),(0,Ki.p_)("string"==typeof o||!o),(0,Ki.p_)("number"==typeof s||!s);const{completionProvider:d}=a.get(wi.p),m=yield a.get(pr.S).createModelReference(e);try{const R={incomplete:!1,suggestions:[]},U=[],F=yield nC(d,m.object.textEditorModel,qn.L.lift(n),void 0,{triggerCharacter:o,triggerKind:o?1:0});for(const q of F.items)U.length<(s??0)&&U.push(q.resolve(ii.T.None)),R.incomplete=R.incomplete||q.container.incomplete,R.suggestions.push(q.completion);try{return yield Promise.all(U),R}finally{setTimeout(()=>F.disposable.dispose(),100)}}finally{m.dispose()}}));let bm,P0=[];function Xw(a,t,e){const{completionProvider:n}=a.get(wi.p);bm||(bm=new class{provideCompletionItems(){let s={suggestions:P0.slice(0)};return P0.length=0,s}},n.register("*",bm)),setTimeout(()=>{var o;P0.push(...e),null===(o=t.getContribution("editor.contrib.suggestController"))||void 0===o||o.triggerSuggest((new Set).add(bm))},0)}var k0=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},vm=function(a,t){return function(e,n){t(e,n,a)}};const oC=rt.$;let wm=class uw extends At.JT{constructor(t,e,n){super(),this._editor=t,this._instantiationService=e,this._keybindingService=n,this._widget=this._register(this._instantiationService.createInstance(Bd,this._editor)),this._decorationsChangerListener=this._register(new qw(this._editor)),this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const o of Fd.getAll())this._participants.push(this._instantiationService.createInstance(o,this._editor));this._participants.sort((o,s)=>o.hoverOrdinal-s.hoverOrdinal),this._computer=new ym(this._editor,this._participants),this._hoverOperation=this._register(new U1(this._editor,this._computer)),this._register(this._hoverOperation.onResult(o=>{this._withResult(o.value,o.isComplete,o.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(rt.mu(this._widget.getDomNode(),"keydown",o=>{o.equals(9)&&this.hide()})),this._register(Ji.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(t){const e=[];for(const o of this._participants)if(o.suggestHoverAnchor){const s=o.suggestHoverAnchor(t);s&&e.push(s)}const n=t.target;if(6===n.type&&e.push(new L0(0,n.range)),7===n.type){const o=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!n.detail.isAfterLines&&"number"==typeof n.detail.horizontalDistanceToText&&n.detail.horizontalDistanceToText<o&&e.push(new L0(0,n.range))}return 0!==e.length&&(e.sort((o,s)=>s.priority-o.priority),this._startShowingAt(e[0],0,!1),!0)}startShowingAtRange(t,e,n){this._startShowingAt(new L0(0,t),e,n)}_startShowingAt(t,e,n){if(!this._computer.anchor||!this._computer.anchor.equals(t)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&t.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){const o=this._messages.filter(s=>s.isValidForHoverAnchor(t));if(0===o.length)this.hide();else{if(o.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(t,o)}}else this.hide();this._computer.anchor=t,this._computer.shouldFocus=n,this._hoverOperation.start(e)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}_addLoadingMessage(t){if(this._computer.anchor)for(const e of this._participants)if(e.createLoadingMessage){const n=e.createLoadingMessage(this._computer.anchor);if(n)return t.slice(0).concat([n])}return t}_withResult(t,e,n){this._messages=n?this._addLoadingMessage(t):t,this._messagesAreComplete=e,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):e&&this.hide()}_renderMessages(t,e){let n=1073741824,o=e[0].range,s=null;for(const q of e)n=Math.min(n,q.range.startColumn),o=It.e.plusRange(o,q.range),q.forceShowAtRange&&(s=q.range);const d=new At.SL,m=d.add(new O0(this._keybindingService)),R=document.createDocumentFragment();let U=null;const F={fragment:R,statusBar:m,setColorPicker:q=>U=q,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const q of this._participants){const _e=e.filter(De=>De.owner===q);_e.length>0&&d.add(q.renderHoverParts(F,_e))}if(m.hasContent&&R.appendChild(m.hoverElement),R.hasChildNodes()){if(o){const q=this._decorationsChangerListener.deltaDecorations([],[{range:o,options:uw._DECORATION_OPTIONS}]);d.add((0,At.OF)(()=>{this._decorationsChangerListener.deltaDecorations(q,[])}))}this._widget.showAt(R,new ey(U,s?s.getStartPosition():new qn.L(t.range.startLineNumber,n),s||o,this._editor.getOption(53).above,this._computer.shouldFocus,d))}else d.dispose()}};wm._DECORATION_OPTIONS=qi.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),wm=k0([vm(1,Yi.TG),vm(2,Xo.d)],wm);class qw extends At.JT{constructor(t){super(),this._editor=t,this._onDidChangeModelDecorations=this._register(new zn.Q5),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(e=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(e)}))}deltaDecorations(t,e){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(t,e)}finally{this._isChangingDecorations=!1}}}class ey{constructor(t,e,n,o,s,d){this.colorPicker=t,this.showAtPosition=e,this.showAtRange=n,this.preferAbove=o,this.stoleFocus=s,this.disposables=d}}let Bd=class hw extends At.JT{constructor(t,e){super(),this._editor=t,this._contextKeyService=e,this.allowEditorOverflow=!0,this._hoverVisibleKey=pt.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new Rd),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var t,e;return null!==(e=null===(t=this._visibleData)||void 0===t?void 0:t.showAtPosition)&&void 0!==e?e:null}get isColorPickerVisible(){var t;return Boolean(null===(t=this._visibleData)||void 0===t?void 0:t.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return hw.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let t=this._visibleData.preferAbove;return!t&&this._contextKeyService.getContextKeyValue(Gi.Visible.key)&&(t=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:t?[1,2]:[2,1]}}_setVisibleData(t){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=t,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const t=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:e,lineHeight:n}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${e}px`,this._hover.contentsDomNode.style.lineHeight=""+n/e,this._hover.contentsDomNode.style.maxHeight=`${t}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(e=>this._editor.applyFontInfo(e))}showAt(t,e){this._setVisibleData(e),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),e.stoleFocus&&this._hover.containerDomNode.focus(),e.colorPicker&&e.colorPicker.layout()}hide(){if(this._visibleData){const t=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),t&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const t=this._hover.scrollbar.getScrollDimensions();if(t.scrollWidth>t.width){const n=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==n&&(this._hover.contentsDomNode.style.paddingBottom=n,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};Bd.ID="editor.contrib.contentHoverWidget",Bd=k0([vm(1,Qt.i6)],Bd);let O0=class extends At.JT{constructor(t){super(),this._keybindingService=t,this._hasContent=!1,this.hoverElement=oC("div.hover-row.status-bar"),this.actionsElement=rt.R3(this.hoverElement,oC("div.actions"))}get hasContent(){return this._hasContent}addAction(t){const e=this._keybindingService.lookupKeybinding(t.commandId),n=e?e.getLabel():null;return this._hasContent=!0,this._register(ll.render(this.actionsElement,t,n))}append(t){const e=rt.R3(this.actionsElement,t);return this._hasContent=!0,e}};O0=k0([vm(0,Xo.d)],O0);class ym{constructor(t,e){this._editor=t,this._participants=e,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(t){this._anchor=t}get shouldFocus(){return this._shouldFocus}set shouldFocus(t){this._shouldFocus=t}static _getLineDecorations(t,e){if(1!==e.type)return[];const n=t.getModel(),o=e.range.startLineNumber,s=n.getLineMaxColumn(o);return t.getLineDecorations(o).filter(d=>{if(d.options.isWholeLine)return!0;const m=d.range.startLineNumber===o?d.range.startColumn:1,R=d.range.endLineNumber===o?d.range.endColumn:s;if(d.options.showIfCollapsed){if(m>e.range.startColumn+1||e.range.endColumn-1>R)return!1}else if(m>e.range.startColumn||e.range.endColumn>R)return!1;return!0})}computeAsync(t){const e=this._anchor;if(!this._editor.hasModel()||!e)return Hn.Aq.EMPTY;const n=ym._getLineDecorations(this._editor,e);return Hn.Aq.merge(this._participants.map(o=>o.computeAsync?o.computeAsync(e,n,t):Hn.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const t=ym._getLineDecorations(this._editor,this._anchor);let e=[];for(const n of this._participants)e=e.concat(n.computeSync(this._anchor,t));return(0,po.kX)(e)}}var ny=Object.hasOwnProperty,sC=Object.setPrototypeOf,iy=Object.isFrozen,oy=Object.getPrototypeOf,sy=Object.getOwnPropertyDescriptor,Ar=Object.freeze,Yl=Object.seal,ry=Object.create,rC="undefined"!=typeof Reflect&&Reflect,Sm=rC.apply,T0=rC.construct;Sm||(Sm=function(t,e,n){return t.apply(e,n)}),Ar||(Ar=function(t){return t}),Yl||(Yl=function(t){return t}),T0||(T0=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(a){if(Array.isArray(a)){for(var t=0,e=Array(a.length);t<a.length;t++)e[t]=a[t];return e}return Array.from(a)}(e))))});var ay=Ba(Array.prototype.forEach),aC=Ba(Array.prototype.pop),kf=Ba(Array.prototype.push),Wd=Ba(String.prototype.toLowerCase),lC=Ba(String.prototype.match),Fc=Ba(String.prototype.replace),ly=Ba(String.prototype.indexOf),cy=Ba(String.prototype.trim),Jl=Ba(RegExp.prototype.test),cC=function(a){return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return T0(a,e)}}(TypeError);function Ba(a){return function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return Sm(a,t,n)}}function ho(a,t){sC&&sC(a,null);for(var e=t.length;e--;){var n=t[e];if("string"==typeof n){var o=Wd(n);o!==n&&(iy(t)||(t[e]=o),n=o)}a[n]=!0}return a}function Vd(a){var t=ry(null),e=void 0;for(e in a)Sm(ny,a,[e])&&(t[e]=a[e]);return t}function xm(a,t){for(;null!==a;){var e=sy(a,t);if(e){if(e.get)return Ba(e.get);if("function"==typeof e.value)return Ba(e.value)}a=oy(a)}return function(o){return console.warn("fallback value for",o),null}}var dC=Ar(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A0=Ar(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R0=Ar(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uy=Ar(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),F0=Ar(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),hy=Ar(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),uC=Ar(["#text"]),hC=Ar(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),B0=Ar(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),fC=Ar(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lm=Ar(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fy=Yl(/\{\{[\s\S]*|[\s\S]*\}\}/gm),gy=Yl(/<%[\s\S]*|[\s\S]*%>/gm),my=Yl(/^data-[\-\w.\u00B7-\uFFFF]/),py=Yl(/^aria-[\-\w]+$/),_y=Yl(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Cy=Yl(/^(?:\w+script|data):/i),by=Yl(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function cl(a){if(Array.isArray(a)){for(var t=0,e=Array(a.length);t<a.length;t++)e[t]=a[t];return e}return Array.from(a)}var vy=function(){return"undefined"==typeof window?null:window},wy=function(t,e){if("object"!==(void 0===t?"undefined":Of(t))||"function"!=typeof t.createPolicy)return null;var n=null,o="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(o)&&(n=e.currentScript.getAttribute(o));var s="dompurify"+(n?"#"+n:"");try{return t.createPolicy(s,{createHTML:function(m){return m}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},dl=function gC(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vy(),t=function(nn){return gC(nn)};if(t.version="2.3.1",t.removed=[],!a||!a.document||9!==a.document.nodeType)return t.isSupported=!1,t;var e=a.document,n=a.document,o=a.DocumentFragment,s=a.HTMLTemplateElement,d=a.Node,m=a.Element,R=a.NodeFilter,U=a.NamedNodeMap,F=void 0===U?a.NamedNodeMap||a.MozNamedAttrMap:U,q=a.Text,_e=a.Comment,De=a.DOMParser,Ke=a.trustedTypes,ct=m.prototype,Tt=xm(ct,"cloneNode"),Ot=xm(ct,"nextSibling"),tn=xm(ct,"childNodes"),on=xm(ct,"parentNode");if("function"==typeof s){var Wn=n.createElement("template");Wn.content&&Wn.content.ownerDocument&&(n=Wn.content.ownerDocument)}var An=wy(Ke,e),Bi=An&&Oh?An.createHTML(""):"",yi=n,us=yi.implementation,zs=yi.createNodeIterator,Us=yi.createDocumentFragment,ya=yi.getElementsByTagName,Va=e.importNode,cr={};try{cr=Vd(n).documentMode?n.documentMode:{}}catch{}var br={};t.isSupported="function"==typeof on&&us&&void 0!==us.createHTMLDocument&&9!==cr;var Ha=fy,Xc=gy,ru=my,au=py,_p=Cy,Cp=by,qc=_y,oi=null,si=ho({},[].concat(cl(dC),cl(A0),cl(R0),cl(F0),cl(uC))),Qs=null,ug=ho({},[].concat(cl(hC),cl(B0),cl(fC),cl(Lm))),za=null,ed=null,Ph=!0,lu=!0,Cl=!1,ki=!1,td=!1,hg=!1,fg=!1,nd=!1,kh=!1,bp=!0,Oh=!1,vp=!0,an=!0,Kt=!1,Gt={},tt=null,dt=ho({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Pt=null,wt=ho({},["audio","video","img","source","image","track"]),un=null,wn=ho({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ei="http://www.w3.org/1998/Math/MathML",Gn="http://www.w3.org/2000/svg",Wi="http://www.w3.org/1999/xhtml",Vi=Wi,No=!1,ro=null,di=n.createElement("form"),hs=function(nn){ro&&ro===nn||((!nn||"object"!==(void 0===nn?"undefined":Of(nn)))&&(nn={}),nn=Vd(nn),oi="ALLOWED_TAGS"in nn?ho({},nn.ALLOWED_TAGS):si,Qs="ALLOWED_ATTR"in nn?ho({},nn.ALLOWED_ATTR):ug,un="ADD_URI_SAFE_ATTR"in nn?ho(Vd(wn),nn.ADD_URI_SAFE_ATTR):wn,Pt="ADD_DATA_URI_TAGS"in nn?ho(Vd(wt),nn.ADD_DATA_URI_TAGS):wt,tt="FORBID_CONTENTS"in nn?ho({},nn.FORBID_CONTENTS):dt,za="FORBID_TAGS"in nn?ho({},nn.FORBID_TAGS):{},ed="FORBID_ATTR"in nn?ho({},nn.FORBID_ATTR):{},Ph=!1!==nn.ALLOW_ARIA_ATTR,lu=!1!==nn.ALLOW_DATA_ATTR,Cl=nn.ALLOW_UNKNOWN_PROTOCOLS||!1,td=nn.WHOLE_DOCUMENT||!1,nd=nn.RETURN_DOM||!1,bp=!1!==nn.RETURN_DOM_IMPORT,Oh=nn.RETURN_TRUSTED_TYPE||!1,fg=nn.FORCE_BODY||!1,vp=!1!==nn.SANITIZE_DOM,an=!1!==nn.KEEP_CONTENT,Kt=nn.IN_PLACE||!1,qc=nn.ALLOWED_URI_REGEXP||qc,Vi=nn.NAMESPACE||Wi,(ki=nn.SAFE_FOR_TEMPLATES||!1)&&(lu=!1),(kh=nn.RETURN_DOM_FRAGMENT||!1)&&(nd=!0),(Gt="USE_PROFILES"in nn&&nn.USE_PROFILES)&&(oi=ho({},[].concat(cl(uC))),Qs=[],!0===Gt.html&&(ho(oi,dC),ho(Qs,hC)),!0===Gt.svg&&(ho(oi,A0),ho(Qs,B0),ho(Qs,Lm)),!0===Gt.svgFilters&&(ho(oi,R0),ho(Qs,B0),ho(Qs,Lm)),!0===Gt.mathMl&&(ho(oi,F0),ho(Qs,fC),ho(Qs,Lm))),nn.ADD_TAGS&&(oi===si&&(oi=Vd(oi)),ho(oi,nn.ADD_TAGS)),nn.ADD_ATTR&&(Qs===ug&&(Qs=Vd(Qs)),ho(Qs,nn.ADD_ATTR)),nn.ADD_URI_SAFE_ATTR&&ho(un,nn.ADD_URI_SAFE_ATTR),nn.FORBID_CONTENTS&&(tt===dt&&(tt=Vd(tt)),ho(tt,nn.FORBID_CONTENTS)),an&&(oi["#text"]=!0),td&&ho(oi,["html","head","body"]),oi.table&&(ho(oi,["tbody"]),delete za.tbody),Ar&&Ar(nn),ro=nn)},Yo=ho({},["mi","mo","mn","ms","mtext"]),ia=ho({},["foreignobject","desc","title","annotation-xml"]),Ko=ho({},A0);ho(Ko,R0),ho(Ko,uy);var ys=ho({},F0);ho(ys,hy);var cu=function(nn){var Un=on(nn);(!Un||!Un.tagName)&&(Un={namespaceURI:Wi,tagName:"template"});var Si=Wd(nn.tagName),$o=Wd(Un.tagName);if(nn.namespaceURI===Gn)return Un.namespaceURI===Wi?"svg"===Si:Un.namespaceURI===ei?"svg"===Si&&("annotation-xml"===$o||Yo[$o]):Boolean(Ko[Si]);if(nn.namespaceURI===ei)return Un.namespaceURI===Wi?"math"===Si:Un.namespaceURI===Gn?"math"===Si&&ia[$o]:Boolean(ys[Si]);if(nn.namespaceURI===Wi){if(Un.namespaceURI===Gn&&!ia[$o]||Un.namespaceURI===ei&&!Yo[$o])return!1;var vr=ho({},["title","style","font","a","script"]);return!ys[Si]&&(vr[Si]||!Ko[Si])}return!1},Gr=function(nn){kf(t.removed,{element:nn});try{nn.parentNode.removeChild(nn)}catch{try{nn.outerHTML=Bi}catch{nn.remove()}}},Ua=function(nn,Un){try{kf(t.removed,{attribute:Un.getAttributeNode(nn),from:Un})}catch{kf(t.removed,{attribute:null,from:Un})}if(Un.removeAttribute(nn),"is"===nn&&!Qs[nn])if(nd||kh)try{Gr(Un)}catch{}else try{Un.setAttribute(nn,"")}catch{}},id=function(nn){var Un=void 0,Si=void 0;if(fg)nn="<remove></remove>"+nn;else{var $o=lC(nn,/^[\r\n\t ]+/);Si=$o&&$o[0]}var vr=An?An.createHTML(nn):nn;if(Vi===Wi)try{Un=(new De).parseFromString(vr,"text/html")}catch{}if(!Un||!Un.documentElement){Un=us.createDocument(Vi,"template",null);try{Un.documentElement.innerHTML=No?"":vr}catch{}}var wr=Un.body||Un.documentElement;return nn&&Si&&wr.insertBefore(n.createTextNode(Si),wr.childNodes[0]||null),Vi===Wi?ya.call(Un,td?"html":"body")[0]:td?Un.documentElement:wr},rc=function(nn){return zs.call(nn.ownerDocument||nn,nn,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,null,!1)},Th=function(nn){return!(nn instanceof q||nn instanceof _e||"string"==typeof nn.nodeName&&"string"==typeof nn.textContent&&"function"==typeof nn.removeChild&&nn.attributes instanceof F&&"function"==typeof nn.removeAttribute&&"function"==typeof nn.setAttribute&&"string"==typeof nn.namespaceURI&&"function"==typeof nn.insertBefore)},od=function(nn){return"object"===(void 0===d?"undefined":Of(d))?nn instanceof d:nn&&"object"===(void 0===nn?"undefined":Of(nn))&&"number"==typeof nn.nodeType&&"string"==typeof nn.nodeName},ja=function(nn,Un,Si){!br[nn]||ay(br[nn],function($o){$o.call(t,Un,Si,ro)})},gg=function(nn){var Un=void 0;if(ja("beforeSanitizeElements",nn,null),Th(nn)||lC(nn.nodeName,/[\u0080-\uFFFF]/))return Gr(nn),!0;var Si=Wd(nn.nodeName);if(ja("uponSanitizeElement",nn,{tagName:Si,allowedTags:oi}),!od(nn.firstElementChild)&&(!od(nn.content)||!od(nn.content.firstElementChild))&&Jl(/<[/\w]/g,nn.innerHTML)&&Jl(/<[/\w]/g,nn.textContent)||"select"===Si&&Jl(/<template/i,nn.innerHTML))return Gr(nn),!0;if(!oi[Si]||za[Si]){if(an&&!tt[Si]){var $o=on(nn)||nn.parentNode,vr=tn(nn)||nn.childNodes;if(vr&&$o)for(var yr=vr.length-1;yr>=0;--yr)$o.insertBefore(Tt(vr[yr],!0),Ot(nn))}return Gr(nn),!0}return nn instanceof m&&!cu(nn)||("noscript"===Si||"noembed"===Si)&&Jl(/<\/no(script|embed)/i,nn.innerHTML)?(Gr(nn),!0):(ki&&3===nn.nodeType&&(Un=Fc(Un=nn.textContent,Ha," "),Un=Fc(Un,Xc," "),nn.textContent!==Un&&(kf(t.removed,{element:nn.cloneNode()}),nn.textContent=Un)),ja("afterSanitizeElements",nn,null),!1)},wp=function(nn,Un,Si){if(vp&&("id"===Un||"name"===Un)&&(Si in n||Si in di))return!1;if((!lu||ed[Un]||!Jl(ru,Un))&&(!Ph||!Jl(au,Un))){if(!Qs[Un]||ed[Un])return!1;if(!un[Un]&&!Jl(qc,Fc(Si,Cp,""))&&("src"!==Un&&"xlink:href"!==Un&&"href"!==Un||"script"===nn||0!==ly(Si,"data:")||!Pt[nn])&&(!Cl||Jl(_p,Fc(Si,Cp,"")))&&Si)return!1}return!0},Xv=function(nn){var Un=void 0,Si=void 0,$o=void 0,vr=void 0;ja("beforeSanitizeAttributes",nn,null);var wr=nn.attributes;if(wr){var yr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Qs};for(vr=wr.length;vr--;){var mg=(Un=wr[vr]).name,qv=Un.namespaceURI;if(Si=cy(Un.value),$o=Wd(mg),yr.attrName=$o,yr.attrValue=Si,yr.keepAttr=!0,yr.forceKeepAttr=void 0,ja("uponSanitizeAttribute",nn,yr),Si=yr.attrValue,!yr.forceKeepAttr&&(Ua(mg,nn),yr.keepAttr)){if(Jl(/\/>/i,Si)){Ua(mg,nn);continue}ki&&(Si=Fc(Si,Ha," "),Si=Fc(Si,Xc," "));var VI=nn.nodeName.toLowerCase();if(wp(VI,$o,Si))try{qv?nn.setAttributeNS(qv,mg,Si):nn.setAttribute(mg,Si),aC(t.removed)}catch{}}}ja("afterSanitizeAttributes",nn,null)}},WI=function zi(nn){var Un=void 0,Si=rc(nn);for(ja("beforeSanitizeShadowDOM",nn,null);Un=Si.nextNode();)ja("uponSanitizeShadowNode",Un,null),!gg(Un)&&(Un.content instanceof o&&zi(Un.content),Xv(Un));ja("afterSanitizeShadowDOM",nn,null)};return t.sanitize=function(zi,nn){var Un=void 0,Si=void 0,$o=void 0,vr=void 0,wr=void 0;if((No=!zi)&&(zi="\x3c!--\x3e"),"string"!=typeof zi&&!od(zi)){if("function"!=typeof zi.toString)throw cC("toString is not a function");if("string"!=typeof(zi=zi.toString()))throw cC("dirty is not a string, aborting")}if(!t.isSupported){if("object"===Of(a.toStaticHTML)||"function"==typeof a.toStaticHTML){if("string"==typeof zi)return a.toStaticHTML(zi);if(od(zi))return a.toStaticHTML(zi.outerHTML)}return zi}if(hg||hs(nn),t.removed=[],"string"==typeof zi&&(Kt=!1),!Kt)if(zi instanceof d)1===(Si=(Un=id("\x3c!----\x3e")).ownerDocument.importNode(zi,!0)).nodeType&&"BODY"===Si.nodeName||"HTML"===Si.nodeName?Un=Si:Un.appendChild(Si);else{if(!nd&&!ki&&!td&&-1===zi.indexOf("<"))return An&&Oh?An.createHTML(zi):zi;if(!(Un=id(zi)))return nd?null:Bi}Un&&fg&&Gr(Un.firstChild);for(var yr=rc(Kt?zi:Un);$o=yr.nextNode();)3===$o.nodeType&&$o===vr||gg($o)||($o.content instanceof o&&WI($o.content),Xv($o),vr=$o);if(vr=null,Kt)return zi;if(nd){if(kh)for(wr=Us.call(Un.ownerDocument);Un.firstChild;)wr.appendChild(Un.firstChild);else wr=Un;return bp&&(wr=Va.call(e,wr,!0)),wr}var ac=td?Un.outerHTML:Un.innerHTML;return ki&&(ac=Fc(ac,Ha," "),ac=Fc(ac,Xc," ")),An&&Oh?An.createHTML(ac):ac},t.setConfig=function(zi){hs(zi),hg=!0},t.clearConfig=function(){ro=null,hg=!1},t.isValidAttribute=function(zi,nn,Un){ro||hs({});var Si=Wd(zi),$o=Wd(nn);return wp(Si,$o,Un)},t.addHook=function(zi,nn){"function"==typeof nn&&(br[zi]=br[zi]||[],kf(br[zi],nn))},t.removeHook=function(zi){br[zi]&&aC(br[zi])},t.removeHooks=function(zi){br[zi]&&(br[zi]=[])},t.removeAllHooks=function(){br={}},t}();const yy=dl.sanitize,mC=dl.addHook,pC=dl.removeHook;var Tf=p(71172),_C=p(25662),Sy=p(2886),CC=p(42623);let bC={};!function(){function a(t,e){e(bC)}a.amd=!0,function(t,e){"object"==typeof exports?e(exports):a.amd?a(0,e):e((t="undefined"!=typeof globalThis?globalThis:t||self).marked={})}(this,function(t){function e(an,Kt){for(var Gt=0;Gt<Kt.length;Gt++){var tt=Kt[Gt];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(an,tt.key,tt)}}function s(an,Kt){(null==Kt||Kt>an.length)&&(Kt=an.length);for(var Gt=0,tt=new Array(Kt);Gt<Kt;Gt++)tt[Gt]=an[Gt];return tt}function d(an,Kt){var Gt="undefined"!=typeof Symbol&&an[Symbol.iterator]||an["@@iterator"];if(Gt)return(Gt=Gt.call(an)).next.bind(Gt);if(Array.isArray(an)||(Gt=function(an,Kt){if(an){if("string"==typeof an)return s(an,undefined);var Gt=Object.prototype.toString.call(an).slice(8,-1);if("Object"===Gt&&an.constructor&&(Gt=an.constructor.name),"Map"===Gt||"Set"===Gt)return Array.from(an);if("Arguments"===Gt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Gt))return s(an,undefined)}}(an))||Kt&&an&&"number"==typeof an.length){Gt&&(an=Gt);var tt=0;return function(){return tt>=an.length?{done:!0}:{done:!1,value:an[tt++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var U=/[&<>"']/,F=/[&<>"']/g,q=/[<>"']|&(?!#?\w+;)/,_e=/[<>"']|&(?!#?\w+;)/g,De={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ke=function(Kt){return De[Kt]};function ct(an,Kt){if(Kt){if(U.test(an))return an.replace(F,Ke)}else if(q.test(an))return an.replace(_e,Ke);return an}var Tt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Ot(an){return an.replace(Tt,function(Kt,Gt){return"colon"===(Gt=Gt.toLowerCase())?":":"#"===Gt.charAt(0)?"x"===Gt.charAt(1)?String.fromCharCode(parseInt(Gt.substring(2),16)):String.fromCharCode(+Gt.substring(1)):""})}var tn=/(^|[^\[])\^/g;function on(an,Kt){an=an.source||an,Kt=Kt||"";var Gt={replace:function(dt,Pt){return Pt=(Pt=Pt.source||Pt).replace(tn,"$1"),an=an.replace(dt,Pt),Gt},getRegex:function(){return new RegExp(an,Kt)}};return Gt}var Wn=/[^\w:]/g,An=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Bi(an,Kt,Gt){if(an){var tt;try{tt=decodeURIComponent(Ot(Gt)).replace(Wn,"").toLowerCase()}catch{return null}if(0===tt.indexOf("javascript:")||0===tt.indexOf("vbscript:")||0===tt.indexOf("data:"))return null}Kt&&!An.test(Gt)&&(Gt=function(an,Kt){yi[" "+an]||(yi[" "+an]=us.test(an)?an+"/":Ha(an,"/",!0));var Gt=-1===(an=yi[" "+an]).indexOf(":");return"//"===Kt.substring(0,2)?Gt?Kt:an.replace(zs,"$1")+Kt:"/"===Kt.charAt(0)?Gt?Kt:an.replace(Us,"$1")+Kt:an+Kt}(Kt,Gt));try{Gt=encodeURI(Gt).replace(/%25/g,"%")}catch{return null}return Gt}var yi={},us=/^[^:]+:\/*[^/]*$/,zs=/^([^:]+:)[\s\S]*$/,Us=/^([^:]+:\/*[^/]*)[\s\S]*$/,Va={exec:function(){}};function cr(an){for(var Gt,tt,Kt=1;Kt<arguments.length;Kt++)for(tt in Gt=arguments[Kt])Object.prototype.hasOwnProperty.call(Gt,tt)&&(an[tt]=Gt[tt]);return an}function br(an,Kt){var tt=an.replace(/\|/g,function(Pt,wt,un){for(var wn=!1,ei=wt;--ei>=0&&"\\"===un[ei];)wn=!wn;return wn?"|":" |"}).split(/ \|/),dt=0;if(tt[0].trim()||tt.shift(),tt[tt.length-1].trim()||tt.pop(),tt.length>Kt)tt.splice(Kt);else for(;tt.length<Kt;)tt.push("");for(;dt<tt.length;dt++)tt[dt]=tt[dt].trim().replace(/\\\|/g,"|");return tt}function Ha(an,Kt,Gt){var tt=an.length;if(0===tt)return"";for(var dt=0;dt<tt;){var Pt=an.charAt(tt-dt-1);if(Pt!==Kt||Gt){if(Pt===Kt||!Gt)break;dt++}else dt++}return an.substr(0,tt-dt)}function ru(an){an&&an.sanitize&&!an.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function au(an,Kt){if(Kt<1)return"";for(var Gt="";Kt>1;)1&Kt&&(Gt+=an),Kt>>=1,an+=an;return Gt+an}function _p(an,Kt,Gt,tt){var dt=Kt.href,Pt=Kt.title?ct(Kt.title):null,wt=an[1].replace(/\\([\[\]])/g,"$1");if("!"!==an[0].charAt(0)){tt.state.inLink=!0;var un={type:"link",raw:Gt,href:dt,title:Pt,text:wt,tokens:tt.inlineTokens(wt,[])};return tt.state.inLink=!1,un}return{type:"image",raw:Gt,href:dt,title:Pt,text:ct(wt)}}var qc=function(){function an(Gt){this.options=Gt||t.defaults}var Kt=an.prototype;return Kt.space=function(tt){var dt=this.rules.block.newline.exec(tt);if(dt&&dt[0].length>0)return{type:"space",raw:dt[0]}},Kt.code=function(tt){var dt=this.rules.block.code.exec(tt);if(dt){var Pt=dt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:dt[0],codeBlockStyle:"indented",text:this.options.pedantic?Pt:Ha(Pt,"\n")}}},Kt.fences=function(tt){var dt=this.rules.block.fences.exec(tt);if(dt){var Pt=dt[0],wt=function(an,Kt){var Gt=an.match(/^(\s+)(?:```)/);if(null===Gt)return Kt;var tt=Gt[1];return Kt.split("\n").map(function(dt){var Pt=dt.match(/^\s+/);return null===Pt?dt:Pt[0].length>=tt.length?dt.slice(tt.length):dt}).join("\n")}(Pt,dt[3]||"");return{type:"code",raw:Pt,lang:dt[2]?dt[2].trim():dt[2],text:wt}}},Kt.heading=function(tt){var dt=this.rules.block.heading.exec(tt);if(dt){var Pt=dt[2].trim();if(/#$/.test(Pt)){var wt=Ha(Pt,"#");(this.options.pedantic||!wt||/ $/.test(wt))&&(Pt=wt.trim())}var un={type:"heading",raw:dt[0],depth:dt[1].length,text:Pt,tokens:[]};return this.lexer.inline(un.text,un.tokens),un}},Kt.hr=function(tt){var dt=this.rules.block.hr.exec(tt);if(dt)return{type:"hr",raw:dt[0]}},Kt.blockquote=function(tt){var dt=this.rules.block.blockquote.exec(tt);if(dt){var Pt=dt[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:dt[0],tokens:this.lexer.blockTokens(Pt,[]),text:Pt}}},Kt.list=function(tt){var dt=this.rules.block.list.exec(tt);if(dt){var Pt,wt,un,wn,ei,Gn,Wi,Vi,No,ro,di,hs,Yo=dt[1].trim(),ia=Yo.length>1,Ko={type:"list",raw:"",ordered:ia,start:ia?+Yo.slice(0,-1):"",loose:!1,items:[]};Yo=ia?"\\d{1,9}\\"+Yo.slice(-1):"\\"+Yo,this.options.pedantic&&(Yo=ia?Yo:"[*+-]");for(var ys=new RegExp("^( {0,3}"+Yo+")((?: [^\\n]*)?(?:\\n|$))");tt&&(hs=!1,(dt=ys.exec(tt))&&!this.rules.block.hr.test(tt));){if(tt=tt.substring((Pt=dt[0]).length),Vi=dt[2].split("\n",1)[0],No=tt.split("\n",1)[0],this.options.pedantic?(wn=2,di=Vi.trimLeft()):(wn=dt[2].search(/[^ ]/),di=Vi.slice(wn=wn>4?1:wn),wn+=dt[1].length),Gn=!1,!Vi&&/^ *$/.test(No)&&(Pt+=No+"\n",tt=tt.substring(No.length+1),hs=!0),!hs)for(var cu=new RegExp("^ {0,"+Math.min(3,wn-1)+"}(?:[*+-]|\\d{1,9}[.)])");tt&&(Vi=ro=tt.split("\n",1)[0],this.options.pedantic&&(Vi=Vi.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!cu.test(Vi));){if(Vi.search(/[^ ]/)>=wn||!Vi.trim())di+="\n"+Vi.slice(wn);else{if(Gn)break;di+="\n"+Vi}!Gn&&!Vi.trim()&&(Gn=!0),Pt+=ro+"\n",tt=tt.substring(ro.length+1)}Ko.loose||(Wi?Ko.loose=!0:/\n *\n *$/.test(Pt)&&(Wi=!0)),this.options.gfm&&(wt=/^\[[ xX]\] /.exec(di))&&(un="[ ] "!==wt[0],di=di.replace(/^\[[ xX]\] +/,"")),Ko.items.push({type:"list_item",raw:Pt,task:!!wt,checked:un,loose:!1,text:di}),Ko.raw+=Pt}Ko.items[Ko.items.length-1].raw=Pt.trimRight(),Ko.items[Ko.items.length-1].text=di.trimRight(),Ko.raw=Ko.raw.trimRight();var Gr=Ko.items.length;for(ei=0;ei<Gr;ei++){this.lexer.state.top=!1,Ko.items[ei].tokens=this.lexer.blockTokens(Ko.items[ei].text,[]);var Ua=Ko.items[ei].tokens.filter(function(rc){return"space"===rc.type}),id=Ua.every(function(rc){for(var gg,od=0,ja=d(rc.raw.split(""));!(gg=ja()).done;)if("\n"===gg.value&&(od+=1),od>1)return!0;return!1});!Ko.loose&&Ua.length&&id&&(Ko.loose=!0,Ko.items[ei].loose=!0)}return Ko}},Kt.html=function(tt){var dt=this.rules.block.html.exec(tt);if(dt){var Pt={type:"html",raw:dt[0],pre:!this.options.sanitizer&&("pre"===dt[1]||"script"===dt[1]||"style"===dt[1]),text:dt[0]};return this.options.sanitize&&(Pt.type="paragraph",Pt.text=this.options.sanitizer?this.options.sanitizer(dt[0]):ct(dt[0]),Pt.tokens=[],this.lexer.inline(Pt.text,Pt.tokens)),Pt}},Kt.def=function(tt){var dt=this.rules.block.def.exec(tt);if(dt)return dt[3]&&(dt[3]=dt[3].substring(1,dt[3].length-1)),{type:"def",tag:dt[1].toLowerCase().replace(/\s+/g," "),raw:dt[0],href:dt[2],title:dt[3]}},Kt.table=function(tt){var dt=this.rules.block.table.exec(tt);if(dt){var Pt={type:"table",header:br(dt[1]).map(function(Wi){return{text:Wi}}),align:dt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:dt[3]?dt[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(Pt.header.length===Pt.align.length){Pt.raw=dt[0];var un,wn,ei,Gn,wt=Pt.align.length;for(un=0;un<wt;un++)Pt.align[un]=/^ *-+: *$/.test(Pt.align[un])?"right":/^ *:-+: *$/.test(Pt.align[un])?"center":/^ *:-+ *$/.test(Pt.align[un])?"left":null;for(wt=Pt.rows.length,un=0;un<wt;un++)Pt.rows[un]=br(Pt.rows[un],Pt.header.length).map(function(Wi){return{text:Wi}});for(wt=Pt.header.length,wn=0;wn<wt;wn++)Pt.header[wn].tokens=[],this.lexer.inlineTokens(Pt.header[wn].text,Pt.header[wn].tokens);for(wt=Pt.rows.length,wn=0;wn<wt;wn++)for(Gn=Pt.rows[wn],ei=0;ei<Gn.length;ei++)Gn[ei].tokens=[],this.lexer.inlineTokens(Gn[ei].text,Gn[ei].tokens);return Pt}}},Kt.lheading=function(tt){var dt=this.rules.block.lheading.exec(tt);if(dt){var Pt={type:"heading",raw:dt[0],depth:"="===dt[2].charAt(0)?1:2,text:dt[1],tokens:[]};return this.lexer.inline(Pt.text,Pt.tokens),Pt}},Kt.paragraph=function(tt){var dt=this.rules.block.paragraph.exec(tt);if(dt){var Pt={type:"paragraph",raw:dt[0],text:"\n"===dt[1].charAt(dt[1].length-1)?dt[1].slice(0,-1):dt[1],tokens:[]};return this.lexer.inline(Pt.text,Pt.tokens),Pt}},Kt.text=function(tt){var dt=this.rules.block.text.exec(tt);if(dt){var Pt={type:"text",raw:dt[0],text:dt[0],tokens:[]};return this.lexer.inline(Pt.text,Pt.tokens),Pt}},Kt.escape=function(tt){var dt=this.rules.inline.escape.exec(tt);if(dt)return{type:"escape",raw:dt[0],text:ct(dt[1])}},Kt.tag=function(tt){var dt=this.rules.inline.tag.exec(tt);if(dt)return!this.lexer.state.inLink&&/^<a /i.test(dt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(dt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(dt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(dt[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:dt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(dt[0]):ct(dt[0]):dt[0]}},Kt.link=function(tt){var dt=this.rules.inline.link.exec(tt);if(dt){var Pt=dt[2].trim();if(!this.options.pedantic&&/^</.test(Pt)){if(!/>$/.test(Pt))return;var wt=Ha(Pt.slice(0,-1),"\\");if((Pt.length-wt.length)%2==0)return}else{var un=function(an,Kt){if(-1===an.indexOf("()"[1]))return-1;for(var Gt=an.length,tt=0,dt=0;dt<Gt;dt++)if("\\"===an[dt])dt++;else if(an[dt]==="()"[0])tt++;else if(an[dt]==="()"[1]&&--tt<0)return dt;return-1}(dt[2]);if(un>-1){var ei=(0===dt[0].indexOf("!")?5:4)+dt[1].length+un;dt[2]=dt[2].substring(0,un),dt[0]=dt[0].substring(0,ei).trim(),dt[3]=""}}var Gn=dt[2],Wi="";if(this.options.pedantic){var Vi=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Gn);Vi&&(Gn=Vi[1],Wi=Vi[3])}else Wi=dt[3]?dt[3].slice(1,-1):"";return Gn=Gn.trim(),/^</.test(Gn)&&(Gn=this.options.pedantic&&!/>$/.test(Pt)?Gn.slice(1):Gn.slice(1,-1)),_p(dt,{href:Gn&&Gn.replace(this.rules.inline._escapes,"$1"),title:Wi&&Wi.replace(this.rules.inline._escapes,"$1")},dt[0],this.lexer)}},Kt.reflink=function(tt,dt){var Pt;if((Pt=this.rules.inline.reflink.exec(tt))||(Pt=this.rules.inline.nolink.exec(tt))){var wt=(Pt[2]||Pt[1]).replace(/\s+/g," ");if(!(wt=dt[wt.toLowerCase()])||!wt.href){var un=Pt[0].charAt(0);return{type:"text",raw:un,text:un}}return _p(Pt,wt,Pt[0],this.lexer)}},Kt.emStrong=function(tt,dt,Pt){void 0===Pt&&(Pt="");var wt=this.rules.inline.emStrong.lDelim.exec(tt);if(wt&&(!wt[3]||!Pt.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var un=wt[1]||wt[2]||"";if(!un||un&&(""===Pt||this.rules.inline.punctuation.exec(Pt))){var ei,Gn,wn=wt[0].length-1,Wi=wn,Vi=0,No="*"===wt[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(No.lastIndex=0,dt=dt.slice(-1*tt.length+wn);null!=(wt=No.exec(dt));)if(ei=wt[1]||wt[2]||wt[3]||wt[4]||wt[5]||wt[6]){if(Gn=ei.length,wt[3]||wt[4]){Wi+=Gn;continue}if((wt[5]||wt[6])&&wn%3&&!((wn+Gn)%3)){Vi+=Gn;continue}if(!((Wi-=Gn)>0)){if(Gn=Math.min(Gn,Gn+Wi+Vi),Math.min(wn,Gn)%2){var ro=tt.slice(1,wn+wt.index+Gn);return{type:"em",raw:tt.slice(0,wn+wt.index+Gn+1),text:ro,tokens:this.lexer.inlineTokens(ro,[])}}var di=tt.slice(2,wn+wt.index+Gn-1);return{type:"strong",raw:tt.slice(0,wn+wt.index+Gn+1),text:di,tokens:this.lexer.inlineTokens(di,[])}}}}}},Kt.codespan=function(tt){var dt=this.rules.inline.code.exec(tt);if(dt){var Pt=dt[2].replace(/\n/g," "),wt=/[^ ]/.test(Pt),un=/^ /.test(Pt)&&/ $/.test(Pt);return wt&&un&&(Pt=Pt.substring(1,Pt.length-1)),Pt=ct(Pt,!0),{type:"codespan",raw:dt[0],text:Pt}}},Kt.br=function(tt){var dt=this.rules.inline.br.exec(tt);if(dt)return{type:"br",raw:dt[0]}},Kt.del=function(tt){var dt=this.rules.inline.del.exec(tt);if(dt)return{type:"del",raw:dt[0],text:dt[2],tokens:this.lexer.inlineTokens(dt[2],[])}},Kt.autolink=function(tt,dt){var wt,un,Pt=this.rules.inline.autolink.exec(tt);if(Pt)return un="@"===Pt[2]?"mailto:"+(wt=ct(this.options.mangle?dt(Pt[1]):Pt[1])):wt=ct(Pt[1]),{type:"link",raw:Pt[0],text:wt,href:un,tokens:[{type:"text",raw:wt,text:wt}]}},Kt.url=function(tt,dt){var Pt;if(Pt=this.rules.inline.url.exec(tt)){var wt,un;if("@"===Pt[2])un="mailto:"+(wt=ct(this.options.mangle?dt(Pt[0]):Pt[0]));else{var wn;do{wn=Pt[0],Pt[0]=this.rules.inline._backpedal.exec(Pt[0])[0]}while(wn!==Pt[0]);wt=ct(Pt[0]),un="www."===Pt[1]?"http://"+wt:wt}return{type:"link",raw:Pt[0],text:wt,href:un,tokens:[{type:"text",raw:wt,text:wt}]}}},Kt.inlineText=function(tt,dt){var wt,Pt=this.rules.inline.text.exec(tt);if(Pt)return wt=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Pt[0]):ct(Pt[0]):Pt[0]:ct(this.options.smartypants?dt(Pt[0]):Pt[0]),{type:"text",raw:Pt[0],text:wt}},an}(),oi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Va,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};oi.def=on(oi.def).replace("label",oi._label).replace("title",oi._title).getRegex(),oi.bullet=/(?:[*+-]|\d{1,9}[.)])/,oi.listItemStart=on(/^( *)(bull) */).replace("bull",oi.bullet).getRegex(),oi.list=on(oi.list).replace(/bull/g,oi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+oi.def.source+")").getRegex(),oi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",oi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,oi.html=on(oi.html,"i").replace("comment",oi._comment).replace("tag",oi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oi.paragraph=on(oi._paragraph).replace("hr",oi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oi._tag).getRegex(),oi.blockquote=on(oi.blockquote).replace("paragraph",oi.paragraph).getRegex(),oi.normal=cr({},oi),oi.gfm=cr({},oi.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),oi.gfm.table=on(oi.gfm.table).replace("hr",oi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oi._tag).getRegex(),oi.gfm.paragraph=on(oi._paragraph).replace("hr",oi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",oi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oi._tag).getRegex(),oi.pedantic=cr({},oi.normal,{html:on("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",oi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Va,paragraph:on(oi.normal._paragraph).replace("hr",oi.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",oi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var si={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Va,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Va,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Qs(an){return an.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function ug(an){var Gt,tt,Kt="",dt=an.length;for(Gt=0;Gt<dt;Gt++)tt=an.charCodeAt(Gt),Math.random()>.5&&(tt="x"+tt.toString(16)),Kt+="&#"+tt+";";return Kt}si._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",si.punctuation=on(si.punctuation).replace(/punctuation/g,si._punctuation).getRegex(),si.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,si.escapedEmSt=/\\\*|\\_/g,si._comment=on(oi._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),si.emStrong.lDelim=on(si.emStrong.lDelim).replace(/punct/g,si._punctuation).getRegex(),si.emStrong.rDelimAst=on(si.emStrong.rDelimAst,"g").replace(/punct/g,si._punctuation).getRegex(),si.emStrong.rDelimUnd=on(si.emStrong.rDelimUnd,"g").replace(/punct/g,si._punctuation).getRegex(),si._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,si._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,si._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,si.autolink=on(si.autolink).replace("scheme",si._scheme).replace("email",si._email).getRegex(),si._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,si.tag=on(si.tag).replace("comment",si._comment).replace("attribute",si._attribute).getRegex(),si._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,si._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,si._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,si.link=on(si.link).replace("label",si._label).replace("href",si._href).replace("title",si._title).getRegex(),si.reflink=on(si.reflink).replace("label",si._label).replace("ref",oi._label).getRegex(),si.nolink=on(si.nolink).replace("ref",oi._label).getRegex(),si.reflinkSearch=on(si.reflinkSearch,"g").replace("reflink",si.reflink).replace("nolink",si.nolink).getRegex(),si.normal=cr({},si),si.pedantic=cr({},si.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:on(/^!?\[(label)\]\((.*?)\)/).replace("label",si._label).getRegex(),reflink:on(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",si._label).getRegex()}),si.gfm=cr({},si.normal,{escape:on(si.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),si.gfm.url=on(si.gfm.url,"i").replace("email",si.gfm._extended_email).getRegex(),si.breaks=cr({},si.gfm,{br:on(si.br).replace("{2,}","*").getRegex(),text:on(si.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var za=function(){function an(Gt){this.tokens=[],this.tokens.links=Object.create(null),this.options=Gt||t.defaults,this.options.tokenizer=this.options.tokenizer||new qc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var tt={block:oi.normal,inline:si.normal};this.options.pedantic?(tt.block=oi.pedantic,tt.inline=si.pedantic):this.options.gfm&&(tt.block=oi.gfm,tt.inline=this.options.breaks?si.breaks:si.gfm),this.tokenizer.rules=tt}an.lex=function(tt,dt){return new an(dt).lex(tt)},an.lexInline=function(tt,dt){return new an(dt).inlineTokens(tt)};var Kt=an.prototype;return Kt.lex=function(tt){tt=tt.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(tt,this.tokens);for(var dt;dt=this.inlineQueue.shift();)this.inlineTokens(dt.src,dt.tokens);return this.tokens},Kt.blockTokens=function(tt,dt){var wt,un,wn,ei,Pt=this;for(void 0===dt&&(dt=[]),this.options.pedantic&&(tt=tt.replace(/^ +$/gm,""));tt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Wi){return!!(wt=Wi.call({lexer:Pt},tt,dt))&&(tt=tt.substring(wt.raw.length),dt.push(wt),!0)}))){if(wt=this.tokenizer.space(tt)){tt=tt.substring(wt.raw.length),1===wt.raw.length&&dt.length>0?dt[dt.length-1].raw+="\n":dt.push(wt);continue}if(wt=this.tokenizer.code(tt)){tt=tt.substring(wt.raw.length),!(un=dt[dt.length-1])||"paragraph"!==un.type&&"text"!==un.type?dt.push(wt):(un.raw+="\n"+wt.raw,un.text+="\n"+wt.text,this.inlineQueue[this.inlineQueue.length-1].src=un.text);continue}if(wt=this.tokenizer.fences(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.heading(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.hr(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.blockquote(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.list(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.html(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.def(tt)){tt=tt.substring(wt.raw.length),!(un=dt[dt.length-1])||"paragraph"!==un.type&&"text"!==un.type?this.tokens.links[wt.tag]||(this.tokens.links[wt.tag]={href:wt.href,title:wt.title}):(un.raw+="\n"+wt.raw,un.text+="\n"+wt.raw,this.inlineQueue[this.inlineQueue.length-1].src=un.text);continue}if(wt=this.tokenizer.table(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.lheading(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wn=tt,this.options.extensions&&this.options.extensions.startBlock&&function(){var Wi=1/0,Vi=tt.slice(1),No=void 0;Pt.options.extensions.startBlock.forEach(function(ro){"number"==typeof(No=ro.call({lexer:this},Vi))&&No>=0&&(Wi=Math.min(Wi,No))}),Wi<1/0&&Wi>=0&&(wn=tt.substring(0,Wi+1))}(),this.state.top&&(wt=this.tokenizer.paragraph(wn))){un=dt[dt.length-1],ei&&"paragraph"===un.type?(un.raw+="\n"+wt.raw,un.text+="\n"+wt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=un.text):dt.push(wt),ei=wn.length!==tt.length,tt=tt.substring(wt.raw.length);continue}if(wt=this.tokenizer.text(tt)){tt=tt.substring(wt.raw.length),(un=dt[dt.length-1])&&"text"===un.type?(un.raw+="\n"+wt.raw,un.text+="\n"+wt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=un.text):dt.push(wt);continue}if(tt){var Gn="Infinite loop on byte: "+tt.charCodeAt(0);if(this.options.silent){console.error(Gn);break}throw new Error(Gn)}}return this.state.top=!0,dt},Kt.inline=function(tt,dt){this.inlineQueue.push({src:tt,tokens:dt})},Kt.inlineTokens=function(tt,dt){var Pt=this;void 0===dt&&(dt=[]);var wt,un,wn,Gn,Wi,Vi,ei=tt;if(this.tokens.links){var No=Object.keys(this.tokens.links);if(No.length>0)for(;null!=(Gn=this.tokenizer.rules.inline.reflinkSearch.exec(ei));)No.includes(Gn[0].slice(Gn[0].lastIndexOf("[")+1,-1))&&(ei=ei.slice(0,Gn.index)+"["+au("a",Gn[0].length-2)+"]"+ei.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Gn=this.tokenizer.rules.inline.blockSkip.exec(ei));)ei=ei.slice(0,Gn.index)+"["+au("a",Gn[0].length-2)+"]"+ei.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Gn=this.tokenizer.rules.inline.escapedEmSt.exec(ei));)ei=ei.slice(0,Gn.index)+"++"+ei.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;tt;)if(Wi||(Vi=""),Wi=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(di){return!!(wt=di.call({lexer:Pt},tt,dt))&&(tt=tt.substring(wt.raw.length),dt.push(wt),!0)}))){if(wt=this.tokenizer.escape(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.tag(tt)){tt=tt.substring(wt.raw.length),(un=dt[dt.length-1])&&"text"===wt.type&&"text"===un.type?(un.raw+=wt.raw,un.text+=wt.text):dt.push(wt);continue}if(wt=this.tokenizer.link(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.reflink(tt,this.tokens.links)){tt=tt.substring(wt.raw.length),(un=dt[dt.length-1])&&"text"===wt.type&&"text"===un.type?(un.raw+=wt.raw,un.text+=wt.text):dt.push(wt);continue}if(wt=this.tokenizer.emStrong(tt,ei,Vi)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.codespan(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.br(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.del(tt)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wt=this.tokenizer.autolink(tt,ug)){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(!this.state.inLink&&(wt=this.tokenizer.url(tt,ug))){tt=tt.substring(wt.raw.length),dt.push(wt);continue}if(wn=tt,this.options.extensions&&this.options.extensions.startInline&&function(){var di=1/0,hs=tt.slice(1),Yo=void 0;Pt.options.extensions.startInline.forEach(function(ia){"number"==typeof(Yo=ia.call({lexer:this},hs))&&Yo>=0&&(di=Math.min(di,Yo))}),di<1/0&&di>=0&&(wn=tt.substring(0,di+1))}(),wt=this.tokenizer.inlineText(wn,Qs)){tt=tt.substring(wt.raw.length),"_"!==wt.raw.slice(-1)&&(Vi=wt.raw.slice(-1)),Wi=!0,(un=dt[dt.length-1])&&"text"===un.type?(un.raw+=wt.raw,un.text+=wt.text):dt.push(wt);continue}if(tt){var ro="Infinite loop on byte: "+tt.charCodeAt(0);if(this.options.silent){console.error(ro);break}throw new Error(ro)}}return dt},function(an,Kt,Gt){Gt&&e(an,Gt),Object.defineProperty(an,"prototype",{writable:!1})}(an,0,[{key:"rules",get:function(){return{block:oi,inline:si}}}]),an}(),ed=function(){function an(Gt){this.options=Gt||t.defaults}var Kt=an.prototype;return Kt.code=function(tt,dt,Pt){var wt=(dt||"").match(/\S*/)[0];if(this.options.highlight){var un=this.options.highlight(tt,wt);null!=un&&un!==tt&&(Pt=!0,tt=un)}return tt=tt.replace(/\n$/,"")+"\n",wt?'<pre><code class="'+this.options.langPrefix+ct(wt,!0)+'">'+(Pt?tt:ct(tt,!0))+"</code></pre>\n":"<pre><code>"+(Pt?tt:ct(tt,!0))+"</code></pre>\n"},Kt.blockquote=function(tt){return"<blockquote>\n"+tt+"</blockquote>\n"},Kt.html=function(tt){return tt},Kt.heading=function(tt,dt,Pt,wt){return this.options.headerIds?"<h"+dt+' id="'+this.options.headerPrefix+wt.slug(Pt)+'">'+tt+"</h"+dt+">\n":"<h"+dt+">"+tt+"</h"+dt+">\n"},Kt.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Kt.list=function(tt,dt,Pt){var wt=dt?"ol":"ul";return"<"+wt+(dt&&1!==Pt?' start="'+Pt+'"':"")+">\n"+tt+"</"+wt+">\n"},Kt.listitem=function(tt){return"<li>"+tt+"</li>\n"},Kt.checkbox=function(tt){return"<input "+(tt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Kt.paragraph=function(tt){return"<p>"+tt+"</p>\n"},Kt.table=function(tt,dt){return dt&&(dt="<tbody>"+dt+"</tbody>"),"<table>\n<thead>\n"+tt+"</thead>\n"+dt+"</table>\n"},Kt.tablerow=function(tt){return"<tr>\n"+tt+"</tr>\n"},Kt.tablecell=function(tt,dt){var Pt=dt.header?"th":"td";return(dt.align?"<"+Pt+' align="'+dt.align+'">':"<"+Pt+">")+tt+"</"+Pt+">\n"},Kt.strong=function(tt){return"<strong>"+tt+"</strong>"},Kt.em=function(tt){return"<em>"+tt+"</em>"},Kt.codespan=function(tt){return"<code>"+tt+"</code>"},Kt.br=function(){return this.options.xhtml?"<br/>":"<br>"},Kt.del=function(tt){return"<del>"+tt+"</del>"},Kt.link=function(tt,dt,Pt){if(null===(tt=Bi(this.options.sanitize,this.options.baseUrl,tt)))return Pt;var wt='<a href="'+ct(tt)+'"';return dt&&(wt+=' title="'+dt+'"'),wt+">"+Pt+"</a>"},Kt.image=function(tt,dt,Pt){if(null===(tt=Bi(this.options.sanitize,this.options.baseUrl,tt)))return Pt;var wt='<img src="'+tt+'" alt="'+Pt+'"';return dt&&(wt+=' title="'+dt+'"'),wt+(this.options.xhtml?"/>":">")},Kt.text=function(tt){return tt},an}(),Ph=function(){function an(){}var Kt=an.prototype;return Kt.strong=function(tt){return tt},Kt.em=function(tt){return tt},Kt.codespan=function(tt){return tt},Kt.del=function(tt){return tt},Kt.html=function(tt){return tt},Kt.text=function(tt){return tt},Kt.link=function(tt,dt,Pt){return""+Pt},Kt.image=function(tt,dt,Pt){return""+Pt},Kt.br=function(){return""},an}(),lu=function(){function an(){this.seen={}}var Kt=an.prototype;return Kt.serialize=function(tt){return tt.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Kt.getNextSafeSlug=function(tt,dt){var Pt=tt,wt=0;if(this.seen.hasOwnProperty(Pt)){wt=this.seen[tt];do{Pt=tt+"-"+ ++wt}while(this.seen.hasOwnProperty(Pt))}return dt||(this.seen[tt]=wt,this.seen[Pt]=0),Pt},Kt.slug=function(tt,dt){void 0===dt&&(dt={});var Pt=this.serialize(tt);return this.getNextSafeSlug(Pt,dt.dryrun)},an}(),Cl=function(){function an(Gt){this.options=Gt||t.defaults,this.options.renderer=this.options.renderer||new ed,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Ph,this.slugger=new lu}an.parse=function(tt,dt){return new an(dt).parse(tt)},an.parseInline=function(tt,dt){return new an(dt).parseInline(tt)};var Kt=an.prototype;return Kt.parse=function(tt,dt){void 0===dt&&(dt=!0);var wt,un,wn,ei,Gn,Wi,Vi,No,ro,di,hs,Yo,ia,Ko,ys,cu,Gr,Ua,id,Pt="",rc=tt.length;for(wt=0;wt<rc;wt++)if(di=tt[wt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[di.type]&&(!1!==(id=this.options.extensions.renderers[di.type].call({parser:this},di))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(di.type)))Pt+=id||"";else switch(di.type){case"space":continue;case"hr":Pt+=this.renderer.hr();continue;case"heading":Pt+=this.renderer.heading(this.parseInline(di.tokens),di.depth,Ot(this.parseInline(di.tokens,this.textRenderer)),this.slugger);continue;case"code":Pt+=this.renderer.code(di.text,di.lang,di.escaped);continue;case"table":for(No="",Vi="",ei=di.header.length,un=0;un<ei;un++)Vi+=this.renderer.tablecell(this.parseInline(di.header[un].tokens),{header:!0,align:di.align[un]});for(No+=this.renderer.tablerow(Vi),ro="",ei=di.rows.length,un=0;un<ei;un++){for(Vi="",Gn=(Wi=di.rows[un]).length,wn=0;wn<Gn;wn++)Vi+=this.renderer.tablecell(this.parseInline(Wi[wn].tokens),{header:!1,align:di.align[wn]});ro+=this.renderer.tablerow(Vi)}Pt+=this.renderer.table(No,ro);continue;case"blockquote":ro=this.parse(di.tokens),Pt+=this.renderer.blockquote(ro);continue;case"list":for(hs=di.ordered,Yo=di.start,ia=di.loose,ei=di.items.length,ro="",un=0;un<ei;un++)cu=(ys=di.items[un]).checked,Gr=ys.task,Ko="",ys.task&&(Ua=this.renderer.checkbox(cu),ia?ys.tokens.length>0&&"paragraph"===ys.tokens[0].type?(ys.tokens[0].text=Ua+" "+ys.tokens[0].text,ys.tokens[0].tokens&&ys.tokens[0].tokens.length>0&&"text"===ys.tokens[0].tokens[0].type&&(ys.tokens[0].tokens[0].text=Ua+" "+ys.tokens[0].tokens[0].text)):ys.tokens.unshift({type:"text",text:Ua}):Ko+=Ua),Ko+=this.parse(ys.tokens,ia),ro+=this.renderer.listitem(Ko,Gr,cu);Pt+=this.renderer.list(ro,hs,Yo);continue;case"html":Pt+=this.renderer.html(di.text);continue;case"paragraph":Pt+=this.renderer.paragraph(this.parseInline(di.tokens));continue;case"text":for(ro=di.tokens?this.parseInline(di.tokens):di.text;wt+1<rc&&"text"===tt[wt+1].type;)ro+="\n"+((di=tt[++wt]).tokens?this.parseInline(di.tokens):di.text);Pt+=dt?this.renderer.paragraph(ro):ro;continue;default:var Th='Token with "'+di.type+'" type was not found.';if(this.options.silent)return void console.error(Th);throw new Error(Th)}return Pt},Kt.parseInline=function(tt,dt){dt=dt||this.renderer;var wt,un,wn,Pt="",ei=tt.length;for(wt=0;wt<ei;wt++)if(un=tt[wt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[un.type]&&(!1!==(wn=this.options.extensions.renderers[un.type].call({parser:this},un))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(un.type)))Pt+=wn||"";else switch(un.type){case"escape":case"text":Pt+=dt.text(un.text);break;case"html":Pt+=dt.html(un.text);break;case"link":Pt+=dt.link(un.href,un.title,this.parseInline(un.tokens,dt));break;case"image":Pt+=dt.image(un.href,un.title,un.text);break;case"strong":Pt+=dt.strong(this.parseInline(un.tokens,dt));break;case"em":Pt+=dt.em(this.parseInline(un.tokens,dt));break;case"codespan":Pt+=dt.codespan(un.text);break;case"br":Pt+=dt.br();break;case"del":Pt+=dt.del(this.parseInline(un.tokens,dt));break;default:var Gn='Token with "'+un.type+'" type was not found.';if(this.options.silent)return void console.error(Gn);throw new Error(Gn)}return Pt},an}();function ki(an,Kt,Gt){if(null==an)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof an)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(an)+", string expected");if("function"==typeof Kt&&(Gt=Kt,Kt=null),ru(Kt=cr({},ki.defaults,Kt||{})),Gt){var dt,tt=Kt.highlight;try{dt=za.lex(an,Kt)}catch(wn){return Gt(wn)}var Pt=function(ei){var Gn;if(!ei)try{Kt.walkTokens&&ki.walkTokens(dt,Kt.walkTokens),Gn=Cl.parse(dt,Kt)}catch(Wi){ei=Wi}return Kt.highlight=tt,ei?Gt(ei):Gt(null,Gn)};if(!tt||tt.length<3||(delete Kt.highlight,!dt.length))return Pt();var wt=0;return ki.walkTokens(dt,function(wn){"code"===wn.type&&(wt++,setTimeout(function(){tt(wn.text,wn.lang,function(ei,Gn){if(ei)return Pt(ei);null!=Gn&&Gn!==wn.text&&(wn.text=Gn,wn.escaped=!0),0==--wt&&Pt()})},0))}),void(0===wt&&Pt())}try{var un=za.lex(an,Kt);return Kt.walkTokens&&ki.walkTokens(un,Kt.walkTokens),Cl.parse(un,Kt)}catch(wn){if(wn.message+="\nPlease report this to https://github.com/markedjs/marked.",Kt.silent)return"<p>An error occurred:</p><pre>"+ct(wn.message+"",!0)+"</pre>";throw wn}}ki.options=ki.setOptions=function(an){return cr(ki.defaults,an),function(an){t.defaults=an}(ki.defaults),ki},ki.getDefaults=m,ki.defaults=t.defaults,ki.use=function(){for(var an=arguments.length,Kt=new Array(an),Gt=0;Gt<an;Gt++)Kt[Gt]=arguments[Gt];var Pt,tt=cr.apply(void 0,[{}].concat(Kt)),dt=ki.defaults.extensions||{renderers:{},childTokens:{}};Kt.forEach(function(wt){if(wt.extensions&&(Pt=!0,wt.extensions.forEach(function(wn){if(!wn.name)throw new Error("extension name required");if(wn.renderer){var ei=dt.renderers?dt.renderers[wn.name]:null;dt.renderers[wn.name]=ei?function(){for(var Gn=arguments.length,Wi=new Array(Gn),Vi=0;Vi<Gn;Vi++)Wi[Vi]=arguments[Vi];var No=wn.renderer.apply(this,Wi);return!1===No&&(No=ei.apply(this,Wi)),No}:wn.renderer}if(wn.tokenizer){if(!wn.level||"block"!==wn.level&&"inline"!==wn.level)throw new Error("extension level must be 'block' or 'inline'");dt[wn.level]?dt[wn.level].unshift(wn.tokenizer):dt[wn.level]=[wn.tokenizer],wn.start&&("block"===wn.level?dt.startBlock?dt.startBlock.push(wn.start):dt.startBlock=[wn.start]:"inline"===wn.level&&(dt.startInline?dt.startInline.push(wn.start):dt.startInline=[wn.start]))}wn.childTokens&&(dt.childTokens[wn.name]=wn.childTokens)})),wt.renderer&&function(){var wn=ki.defaults.renderer||new ed,ei=function(Vi){var No=wn[Vi];wn[Vi]=function(){for(var ro=arguments.length,di=new Array(ro),hs=0;hs<ro;hs++)di[hs]=arguments[hs];var Yo=wt.renderer[Vi].apply(wn,di);return!1===Yo&&(Yo=No.apply(wn,di)),Yo}};for(var Gn in wt.renderer)ei(Gn);tt.renderer=wn}(),wt.tokenizer&&function(){var wn=ki.defaults.tokenizer||new qc,ei=function(Vi){var No=wn[Vi];wn[Vi]=function(){for(var ro=arguments.length,di=new Array(ro),hs=0;hs<ro;hs++)di[hs]=arguments[hs];var Yo=wt.tokenizer[Vi].apply(wn,di);return!1===Yo&&(Yo=No.apply(wn,di)),Yo}};for(var Gn in wt.tokenizer)ei(Gn);tt.tokenizer=wn}(),wt.walkTokens){var un=ki.defaults.walkTokens;tt.walkTokens=function(wn){wt.walkTokens.call(this,wn),un&&un.call(this,wn)}}Pt&&(tt.extensions=dt),ki.setOptions(tt)})},ki.walkTokens=function(an,Kt){for(var dt,Gt=function(){var wt=dt.value;switch(Kt.call(ki,wt),wt.type){case"table":for(var wn,un=d(wt.header);!(wn=un()).done;)ki.walkTokens(wn.value.tokens,Kt);for(var Wi,Gn=d(wt.rows);!(Wi=Gn()).done;)for(var ro,No=d(Wi.value);!(ro=No()).done;)ki.walkTokens(ro.value.tokens,Kt);break;case"list":ki.walkTokens(wt.items,Kt);break;default:ki.defaults.extensions&&ki.defaults.extensions.childTokens&&ki.defaults.extensions.childTokens[wt.type]?ki.defaults.extensions.childTokens[wt.type].forEach(function(hs){ki.walkTokens(wt[hs],Kt)}):wt.tokens&&ki.walkTokens(wt.tokens,Kt)}},tt=d(an);!(dt=tt()).done;)Gt()},ki.parseInline=function(an,Kt){if(null==an)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof an)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(an)+", string expected");ru(Kt=cr({},ki.defaults,Kt||{}));try{var Gt=za.lexInline(an,Kt);return Kt.walkTokens&&ki.walkTokens(Gt,Kt.walkTokens),Cl.parseInline(Gt,Kt)}catch(tt){if(tt.message+="\nPlease report this to https://github.com/markedjs/marked.",Kt.silent)return"<p>An error occurred:</p><pre>"+ct(tt.message+"",!0)+"</pre>";throw tt}},ki.Parser=Cl,ki.parser=Cl.parse,ki.Renderer=ed,ki.TextRenderer=Ph,ki.Lexer=za,ki.lexer=za.lex,ki.Tokenizer=qc,ki.Slugger=lu,ki.parse=ki;var td=ki.options,hg=ki.setOptions,fg=ki.use,nd=ki.walkTokens,kh=ki.parseInline,bp=ki,Oh=Cl.parse,vp=za.lex;t.Lexer=za,t.Parser=Cl,t.Renderer=ed,t.Slugger=lu,t.TextRenderer=Ph,t.Tokenizer=qc,t.getDefaults=m,t.lexer=vp,t.marked=ki,t.options=td,t.parse=bp,t.parseInline=kh,t.parser=Oh,t.setOptions=hg,t.use=fg,t.walkTokens=nd,Object.defineProperty(t,"__esModule",{value:!0})})}();var vC=bC||exports,xy=p(7272);function Ly(a,t={},e={}){var n;const o=new At.SL;let s=!1;const d=o.add(new ii.A),m=(0,_C.az)(t),R=function(Ot){let tn;try{tn=(0,xy.Q)(decodeURIComponent(Ot))}catch{}return tn?(tn=(0,Nd.rs)(tn,on=>{if(a.uris&&a.uris[on])return vo.o.revive(a.uris[on])}),encodeURIComponent(JSON.stringify(tn))):Ot},U=function(Ot,tn){let Wn=vo.o.revive(a.uris&&a.uris[Ot]);return tn?Ot.startsWith(ms.lg.data+":")?Ot:(Wn||(Wn=vo.o.parse(Ot)),ms.Gi.asBrowserUri(Wn).toString(!0)):Wn&&vo.o.parse(Ot).toString()!==Wn.toString()?(Wn.query&&(Wn=Wn.with({query:R(Wn.query)})),Wn.toString()):Ot};let F;const q=new Promise(Ot=>F=Ot),_e=new vC.Renderer;if(_e.image=(Ot,tn,on)=>{let Wn=[],An=[];return Ot&&(({href:Ot,dimensions:Wn}=(0,zo.v1)(Ot)),An.push(`src="${Ot}"`)),on&&An.push(`alt="${on}"`),tn&&An.push(`title="${tn}"`),Wn.length&&(An=An.concat(Wn)),"<img "+An.join(" ")+">"},_e.link=(Ot,tn,on)=>"string"!=typeof Ot?"":(Ot===on&&(on=(0,zo.oR)(on)),Ot=U(Ot,!1),a.baseUri&&(Ot=W0(vo.o.from(a.baseUri),Ot)),tn="string"==typeof tn?(0,zo.oR)(tn):"",!(Ot=(0,zo.oR)(Ot))||/^data:|javascript:/i.test(Ot)||/^command:/i.test(Ot)&&!a.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Ot)?on:`<a data-href="${Ot=Ot.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${tn||Ot}">${on}</a>`),_e.paragraph=Ot=>`<p>${Ot}</p>`,t.codeBlockRenderer&&(_e.code=(Ot,tn)=>{const on=t.codeBlockRenderer(tn??"",Ot),Wn=cf.a.nextId();return(0,Hn.eP)(Promise.all([on,q]),d.token).then(An=>{var Bi;if(!s&&An){const yi=m.querySelector(`div[data-code="${Wn}"]`);yi&&rt.mc(yi,An[0]),null===(Bi=t.asyncRenderCallback)||void 0===Bi||Bi.call(t)}}).catch(()=>{}),`<div class="code" data-code="${Wn}">${(0,In.YU)(Ot)}</div>`}),t.actionHandler){const Ot=t.actionHandler.disposables.add(new Tf.Y(m,"click")),tn=t.actionHandler.disposables.add(new Tf.Y(m,"auxclick"));t.actionHandler.disposables.add(zn.ju.any(Ot.event,tn.event)(on=>{const Wn=new Sy.n(on);if(!Wn.leftButton&&!Wn.middleButton)return;let An=Wn.target;if("A"===An.tagName||(An=An.parentElement,An&&"A"===An.tagName))try{let Bi=An.dataset.href;Bi&&(a.baseUri&&(Bi=W0(vo.o.from(a.baseUri),Bi)),t.actionHandler.callback(Bi,Wn))}catch(Bi){(0,Yn.dL)(Bi)}finally{Wn.preventDefault()}}))}a.supportHtml||(e.sanitizer=Ot=>(a.isTrusted?Ot.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Ot:"",e.sanitize=!0,e.silent=!0),e.renderer=_e;let De=null!==(n=a.value)&&void 0!==n?n:"";De.length>1e5&&(De=`${De.substr(0,1e5)}\u2026`),a.supportThemeIcons&&(De=(0,CC.f$)(De));let Ke=vC.parse(De,e);a.supportThemeIcons&&(Ke=(0,nf.T)(Ke).map(tn=>"string"==typeof tn?tn:tn.outerHTML).join(""));const Tt=(new DOMParser).parseFromString(wC(a,Ke),"text/html");if(Tt.body.querySelectorAll("img").forEach(Ot=>{const tn=Ot.getAttribute("src");if(tn){let on=tn;try{a.baseUri&&(on=W0(vo.o.from(a.baseUri),on))}catch{}Ot.src=U(on,!0)}}),m.innerHTML=wC(a,Tt.body.innerHTML),F(),t.asyncRenderCallback)for(const Ot of m.getElementsByTagName("img")){const tn=o.add(rt.nm(Ot,"load",()=>{tn.dispose(),t.asyncRenderCallback()}))}return{element:m,dispose:()=>{s=!0,d.cancel(),o.dispose()}}}function W0(a,t){return/^\w[\w\d+.-]*:/.test(t)?t:a.path.endsWith("/")?(0,Do.i3)(a,t).toString():(0,Do.i3)((0,Do.XX)(a),t).toString()}function wC(a,t){const{config:e,allowedSchemes:n}=function(a){const t=[ms.lg.http,ms.lg.https,ms.lg.mailto,ms.lg.data,ms.lg.file,ms.lg.vscodeFileResource,ms.lg.vscodeRemote,ms.lg.vscodeRemoteResource];return a.isTrusted&&t.push(ms.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:t}}(a);mC("uponSanitizeAttribute",(s,d)=>{if("style"!==d.attrName&&"class"!==d.attrName);else{if("SPAN"===s.tagName){if("style"===d.attrName)return void(d.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(d.attrValue));if("class"===d.attrName)return void(d.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(d.attrValue))}d.keepAttr=!1}});const o=document.createElement("a");mC("afterSanitizeAttributes",s=>{for(const d of["href","src"])s.hasAttribute(d)&&(o.href=s.getAttribute(d),n.includes(o.protocol.replace(/:$/,""))||s.removeAttribute(d))});try{return yy(t,Object.assign(Object.assign({},e),{RETURN_TRUSTED_TYPE:!0}))}finally{pC("uponSanitizeAttribute"),pC("afterSanitizeAttributes")}}var H0,ta=p(23813),Dy=p(42137),V0=p(6809),yC=function(a,t){return function(e,n){t(e,n,a)}};let Xl=class fw{constructor(t,e,n){this._options=t,this._languageService=e,this._openerService=n,this._onDidRenderAsync=new zn.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(t,e,n){if(!t)return{element:document.createElement("span"),dispose:()=>{}};const o=new At.SL;return{element:o.add(Ly(t,Object.assign(Object.assign({},this._getRenderOptions(t,o)),e),n)).element,dispose:()=>o.dispose()}}_getRenderOptions(t,e){return{codeBlockRenderer:(n,o)=>function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){var s,d,m;let R;n?R=this._languageService.getLanguageIdByLanguageName(n):this._options.editor&&(R=null===(s=this._options.editor.getModel())||void 0===s?void 0:s.getLanguageId()),R||(R=$u.bd);const U=yield(0,Dy.C2)(this._languageService,o,R),F=document.createElement("span");if(F.innerHTML=null!==(m=null===(d=fw._ttpTokenizer)||void 0===d?void 0:d.createHTML(U))&&void 0!==m?m:U,this._options.editor){const q=this._options.editor.getOption(44);(0,V0.N)(F,q)}else this._options.codeBlockFontFamily&&(F.style.fontFamily=this._options.codeBlockFontFamily);return F}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:n=>this._openerService.open(n,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:t.isTrusted}).catch(Yn.dL),disposables:e}}}};Xl._ttpTokenizer=null===(H0=window.trustedTypes)||void 0===H0?void 0:H0.createPolicy("tokenizeToString",{createHTML:a=>a}),Xl=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([yC(1,$r.O),yC(2,ta.v4)],Xl);const SC=rt.$;let z0=(()=>{class a extends At.JT{constructor(e,n,o=ta.SW){super(),this._renderDisposeables=this._register(new At.SL),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new Rd),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Xl({editor:this._editor},n,o)),this._computer=new Iy(this._editor),this._hoverOperation=this._register(new U1(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(n=>this._editor.applyFontInfo(n))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,n){this._renderDisposeables.clear();const o=document.createDocumentFragment();for(const s of n){const d=SC("div.hover-row.markdown-hover"),m=rt.R3(d,SC("div.hover-contents")),R=this._renderDisposeables.add(this._markdownRenderer.render(s.value));m.appendChild(R.element),o.appendChild(d)}this._updateContents(o),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const n=this._editor.getLayoutInfo(),o=this._editor.getTopForLineNumber(e),s=this._editor.getScrollTop(),d=this._editor.getOption(59),R=o-s-(this._hover.containerDomNode.clientHeight-d)/2;this._hover.containerDomNode.style.left=`${n.glyphMarginLeft+n.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(R),0)}px`}}return a.ID="editor.contrib.modesGlyphHoverWidget",a})();class Iy{constructor(t){this._editor=t,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(t){this._lineNumber=t}computeSync(){const t=o=>({value:o}),e=this._editor.getLineDecorations(this._lineNumber),n=[];if(!e)return n;for(const o of e){if(!o.options.glyphMarginClassName)continue;const s=o.options.glyphMarginHoverMessage;!s||(0,zo.CP)(s)||n.push(...(0,po._2)(s).map(t))}return n}}class ky{constructor(t,e,n){this.provider=t,this.hover=e,this.ordinal=n}}function U0(a,t,e,n){const s=a.ordered(t).map((d,m)=>function(a,t,e,n,o){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(a.provideHover(e,n,o));if(s&&function(a){return void 0!==a.range&&void 0!==a.contents&&a.contents&&a.contents.length>0}(s))return new ky(a,s,t)}catch(s){(0,Yn.Cp)(s)}})}(d,m,t,e,n));return Hn.Aq.fromPromises(s).coalesce()}(0,Xe.sb)("_executeHoverProvider",(a,t,e)=>function(a,t,e,n){return U0(a,t,e,n).map(o=>o.hover).toPromise()}(a.get(wi.p).hoverProvider,t,e,ii.T.None));var Mm=function(a,t){return function(e,n){t(e,n,a)}};const xC=rt.$;class ql{constructor(t,e,n,o){this.owner=t,this.range=e,this.contents=n,this.ordinal=o}isValidForHoverAnchor(t){return 1===t.type&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}let Dm=class{constructor(t,e,n,o,s){this._editor=t,this._languageService=e,this._openerService=n,this._configurationService=o,this._languageFeaturesService=s,this.hoverOrdinal=2}createLoadingMessage(t){return new ql(this,t.range,[(new zo.W5).appendText(Me.N("modesContentHover.loading","Loading..."))],2e3)}computeSync(t,e){if(!this._editor.hasModel()||1!==t.type)return[];const n=this._editor.getModel(),o=t.range.startLineNumber,s=n.getLineMaxColumn(o),d=[];let m=1e3;const R=n.getLineLength(o),U=n.getLanguageIdAtPosition(t.range.startLineNumber,t.range.startColumn),F=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:U});"number"==typeof F&&R>=F&&d.push(new ql(this,t.range,[{value:Me.N("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],m++));for(const q of e){const _e=q.range.startLineNumber===o?q.range.startColumn:1,De=q.range.endLineNumber===o?q.range.endColumn:s,Ke=q.options.hoverMessage;if(!Ke||(0,zo.CP)(Ke))continue;const ct=new It.e(t.range.startLineNumber,_e,t.range.startLineNumber,De);d.push(new ql(this,ct,(0,po._2)(Ke),m++))}return d}computeAsync(t,e,n){if(!this._editor.hasModel()||1!==t.type)return Hn.Aq.EMPTY;const o=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(o))return Hn.Aq.EMPTY;const s=new qn.L(t.range.startLineNumber,t.range.startColumn);return U0(this._languageFeaturesService.hoverProvider,o,s,n).filter(d=>!(0,zo.CP)(d.hover.contents)).map(d=>{const m=d.hover.range?It.e.lift(d.hover.range):t.range;return new ql(this,m,d.hover.contents,d.ordinal)})}renderHoverParts(t,e){return LC(t,e,this._editor,this._languageService,this._openerService)}};function LC(a,t,e,n,o){t.sort((d,m)=>d.ordinal-m.ordinal);const s=new At.SL;for(const d of t)for(const m of d.contents){if((0,zo.CP)(m))continue;const R=xC("div.hover-row.markdown-hover"),U=rt.R3(R,xC("div.hover-contents")),F=s.add(new Xl({editor:e},n,o));s.add(F.onDidRenderAsync(()=>{U.className="hover-contents code-hover-contents",a.onContentsChanged()}));const q=s.add(F.render(m));U.appendChild(q.element),a.fragment.appendChild(R)}return s}Dm=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Mm(1,$r.O),Mm(2,ta.v4),Mm(3,Vs.Ui),Mm(4,wi.p)],Dm);var Fy=p(64757),MC=p(62253),DC=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Em=function(a,t){return function(e,n){t(e,n,a)}};class EC{constructor(t,e,n){this.marker=t,this.index=e,this.total=n}}let j0=class{constructor(t,e,n){this._markerService=e,this._configService=n,this._onDidChange=new zn.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new At.SL,this._markers=[],this._nextIdx=-1,vo.o.isUri(t)?this._resourceFilter=m=>m.toString()===t.toString():t&&(this._resourceFilter=t);const o=this._configService.getValue("problems.sortOrder"),s=(m,R)=>{let U=(0,In.qu)(m.resource.toString(),R.resource.toString());return 0===U&&(U="position"===o?It.e.compareRangesUsingStarts(m,R)||Bo.ZL.compare(m.severity,R.severity):Bo.ZL.compare(m.severity,R.severity)||It.e.compareRangesUsingStarts(m,R)),U},d=()=>{this._markers=this._markerService.read({resource:vo.o.isUri(t)?t:void 0,severities:Bo.ZL.Error|Bo.ZL.Warning|Bo.ZL.Info}),"function"==typeof t&&(this._markers=this._markers.filter(m=>this._resourceFilter(m.resource))),this._markers.sort(s)};d(),this._dispoables.add(e.onMarkerChanged(m=>{(!this._resourceFilter||m.some(R=>this._resourceFilter(R)))&&(d(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(t){return!this._resourceFilter&&!t||!(!this._resourceFilter||!t)&&this._resourceFilter(t)}get selected(){const t=this._markers[this._nextIdx];return t&&new EC(t,this._nextIdx+1,this._markers.length)}_initIdx(t,e,n){let o=!1,s=this._markers.findIndex(d=>d.resource.toString()===t.uri.toString());s<0&&(s=(0,po.ry)(this._markers,{resource:t.uri},(d,m)=>(0,In.qu)(d.resource.toString(),m.resource.toString())),s<0&&(s=~s));for(let d=s;d<this._markers.length;d++){let m=It.e.lift(this._markers[d]);if(m.isEmpty()){const R=t.getWordAtPosition(m.getStartPosition());R&&(m=new It.e(m.startLineNumber,R.startColumn,m.startLineNumber,R.endColumn))}if(e&&(m.containsPosition(e)||e.isBeforeOrEqual(m.getStartPosition()))){this._nextIdx=d,o=!0;break}if(this._markers[d].resource.toString()!==t.uri.toString())break}o||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(t,e,n){if(0===this._markers.length)return!1;let o=this._nextIdx;return-1===this._nextIdx?this._initIdx(e,n,t):t?this._nextIdx=(this._nextIdx+1)%this._markers.length:t||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),o!==this._nextIdx}find(t,e){let n=this._markers.findIndex(o=>o.resource.toString()===t.toString());if(!(n<0))for(;n<this._markers.length;n++)if(It.e.containsPosition(this._markers[n],e))return new EC(this._markers[n],n+1,this._markers.length)}};j0=DC([Em(1,Bo.lT),Em(2,Vs.Ui)],j0);const NC=(0,Yi.yh)("IMarkerNavigationService");let K0=class{constructor(t,e){this._markerService=t,this._configService=e,this._provider=new MC.S}getMarkerList(t){for(let e of this._provider){const n=e.getMarkerList(t);if(n)return n}return new j0(t,this._markerService,this._configService)}};K0=DC([Em(0,Bo.lT),Em(1,Vs.Ui)],K0),(0,ka.z)(NC,K0,!0);var $0,rr=p(80974),Xu=(p(76149),p(13310));(function(a){a.className=function(e){switch(e){case Xu.Z.Ignore:return"severity-ignore "+Zn.lA.info.classNames;case Xu.Z.Info:return Zn.lA.info.classNames;case Xu.Z.Warning:return Zn.lA.warning.classNames;case Xu.Z.Error:return Zn.lA.error.classNames;default:return""}}})($0||($0={})),(0,_.Ic)((a,t)=>{const e=a.getColor(l.JpG);if(e){const s=Zn.lA.error.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${s},\n\t\t\t.markers-panel .marker-icon${s},\n\t\t\t.text-search-provider-messages .providerMessage ${s},\n\t\t\t.extensions-viewlet > .extensions ${s} {\n\t\t\t\tcolor: ${e};\n\t\t\t}\n\t\t`)}const n=a.getColor(l.BOY);if(n){const s=Zn.lA.warning.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${s},\n\t\t\t.markers-panel .marker-icon${s},\n\t\t\t.extensions-viewlet > .extensions ${s},\n\t\t\t.extension-editor ${s},\n\t\t\t.text-search-provider-messages .providerMessage ${s},\n\t\t\t.preferences-editor ${s} {\n\t\t\t\tcolor: ${n};\n\t\t\t}\n\t\t`)}const o=a.getColor(l.OLZ);if(o){const s=Zn.lA.info.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${s},\n\t\t\t.markers-panel .marker-icon${s},\n\t\t\t.extensions-viewlet > .extensions ${s},\n\t\t\t.text-search-provider-messages .providerMessage ${s},\n\t\t\t.extension-editor ${s} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`)}});var qu=function(a,t){return function(e,n){t(e,n,a)}};class Wy{constructor(t,e,n,o,s){this._openerService=o,this._labelService=s,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new At.SL,this._editor=e;const d=document.createElement("div");d.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),d.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),d.appendChild(this._relatedBlock),this._disposables.add(rt.mu(this._relatedBlock,"click",m=>{m.preventDefault();const R=this._relatedDiagnostics.get(m.target);R&&n(R)})),this._scrollable=new as.NB(d,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),t.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(m=>{d.style.left=`-${m.scrollLeft}px`,d.style.top=`-${m.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,At.B9)(this._disposables)}update(t){const{source:e,message:n,relatedInformation:o,code:s}=t;let d=((null==e?void 0:e.length)||0)+"()".length;s&&(d+="string"==typeof s?s.length:s.value.length);const m=(0,In.uq)(n);this._lines=m.length,this._longestLineLength=0;for(const _e of m)this._longestLineLength=Math.max(_e.length+d,this._longestLineLength);rt.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(t)),this._editor.applyFontInfo(this._messageBlock);let R=this._messageBlock;for(const _e of m)R=document.createElement("div"),R.innerText=_e,""===_e&&(R.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(R);if(e||s){const _e=document.createElement("span");if(_e.classList.add("details"),R.appendChild(_e),e){const De=document.createElement("span");De.innerText=e,De.classList.add("source"),_e.appendChild(De)}if(s)if("string"==typeof s){const De=document.createElement("span");De.innerText=`(${s})`,De.classList.add("code"),_e.appendChild(De)}else this._codeLink=rt.$("a.code-link"),this._codeLink.setAttribute("href",`${s.target.toString()}`),this._codeLink.onclick=Ke=>{this._openerService.open(s.target,{allowCommands:!0}),Ke.preventDefault(),Ke.stopPropagation()},rt.R3(this._codeLink,rt.$("span")).innerText=s.value,_e.appendChild(this._codeLink)}if(rt.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,po.Of)(o)){const _e=this._relatedBlock.appendChild(document.createElement("div"));_e.style.paddingTop=`${Math.floor(.66*this._editor.getOption(59))}px`,this._lines+=1;for(const De of o){let Ke=document.createElement("div"),ct=document.createElement("a");ct.classList.add("filename"),ct.innerText=`${rm(De.resource)}(${De.startLineNumber}, ${De.startColumn}): `,ct.title=this._labelService.getUriLabel(De.resource),this._relatedDiagnostics.set(ct,De);let Tt=document.createElement("span");Tt.innerText=De.message,Ke.appendChild(ct),Ke.appendChild(Tt),this._lines+=1,_e.appendChild(Ke)}}const U=this._editor.getOption(44),F=Math.ceil(U.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:F,scrollHeight:U.lineHeight*this._lines})}layout(t,e){this._scrollable.getDomNode().style.height=`${t}px`,this._scrollable.getDomNode().style.width=`${e}px`,this._scrollable.setScrollDimensions({width:e,height:t})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(t){let e="";switch(t.severity){case Bo.ZL.Error:e=Me.N("Error","Error");break;case Bo.ZL.Warning:e=Me.N("Warning","Warning");break;case Bo.ZL.Info:e=Me.N("Info","Info");break;case Bo.ZL.Hint:e=Me.N("Hint","Hint")}let n=Me.N("marker aria","{0} at {1}. ",e,t.startLineNumber+":"+t.startColumn);const o=this._editor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1&&(n=`${o.getLineContent(t.startLineNumber)}, ${n}`),n}}let eh=class gw extends ju{constructor(t,e,n,o,s,d,m){super(t,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},s),this._themeService=e,this._openerService=n,this._menuService=o,this._contextKeyService=d,this._labelService=m,this._callOnDispose=new At.SL,this._onDidSelectRelatedInformation=new zn.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Bo.ZL.Warning,this._backgroundColor=$i.Il.white,this._applyTheme(e.getColorTheme()),this._callOnDispose.add(e.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(t){this._backgroundColor=t.getColor(Uy);let e=Z0,n=Vy;this._severity===Bo.ZL.Warning?(e=G0,n=Hy):this._severity===Bo.ZL.Info&&(e=Q0,n=zy);const o=t.getColor(e),s=t.getColor(n);this.style({arrowColor:o,frameColor:o,headerBackgroundColor:s,primaryHeadingColor:t.getColor(em),secondaryHeadingColor:t.getColor(tm)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(o=>this.editor.focus()));const e=[],n=this._menuService.createMenu(gw.TitleMenu,this._contextKeyService);(function(a,t,e,n,o,s,d){const m=a.getActions(t);(function(a,t,e,n=(m=>"navigation"===m),o=Number.MAX_SAFE_INTEGER,s=(()=>!1),d=!1){let m,R;Array.isArray(t)?(m=t,R=t):(m=t.primary,R=t.secondary);const U=new Set;for(const[F,q]of a){let _e;n(F)?(_e=m,_e.length>0&&d&&_e.push(new Ws.Z0)):(_e=R,_e.length>0&&_e.push(new Ws.Z0));for(let De of q){e&&(De=De instanceof r.U8&&De.alt?De.alt:De);const Ke=_e.push(De);De instanceof Ws.wY&&U.add({group:F,action:De,index:Ke-1})}}for(const{group:F,action:q,index:_e}of U){const De=n(F)?m:R,Ke=q.actions;(Ke.length<=1||De.length+Ke.length-2<=o)&&s(q,F,De.length)&&De.splice(_e,1,...Ke)}if(m!==R&&m.length>o){const F=m.splice(o,m.length-o);R.unshift(...F,new Ws.Z0)}})(m,e,!1,"string"==typeof n?U=>U===n:n,o,s,d),function(a){const t=new At.SL;for(const[,e]of a)for(const n of e)t.add(n)}(m)})(n,void 0,e),this._actionbarWidget.push(e,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(t){this._icon=rt.R3(t,rt.$(""))}_fillBody(t){this._parentContainer=t,t.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),t.appendChild(this._container),this._message=new Wy(this._container,this.editor,e=>this._onDidSelectRelatedInformation.fire(e),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(t,e,n){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getColorTheme());let o=It.e.lift(t);const s=this.editor.getPosition();let d=s&&o.containsPosition(s)?s:o.getStartPosition();super.show(d,this.computeRequiredHeight());const m=this.editor.getModel();if(m){const R=n>1?Me.N("problems","{0} of {1} problems",e,n):Me.N("change","{0} of {1} problem",e,n);this.setTitle((0,Do.EZ)(m.uri),R)}this._icon.className=`codicon ${$0.className(Bo.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(d,0),this.editor.focus()}updateMarker(t){this._container.classList.remove("stale"),this._message.update(t)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(t,e){super._doLayoutBody(t,e),this._heightInPixel=t,this._message.layout(t,e),this._container.style.height=`${t}px`}_onWidth(t){this._message.layout(this._heightInPixel,t)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};eh.TitleMenu=new r.eH("gotoErrorTitleMenu"),eh=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([qu(1,_.XE),qu(2,ta.v4),qu(3,r.co),qu(4,Yi.TG),qu(5,Qt.i6),qu(6,Zu.e)],eh);let IC=(0,l.kwl)(l.lXJ,l.b6y),PC=(0,l.kwl)(l.uoC,l.pW3),kC=(0,l.kwl)(l.c63,l.T83);const Z0=(0,l.P6G)("editorMarkerNavigationError.background",{dark:IC,light:IC,hc:l.lRK},Me.N("editorMarkerNavigationError","Editor marker navigation widget error color.")),Vy=(0,l.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,l.ZnX)(Z0,.1),light:(0,l.ZnX)(Z0,.1),hc:null},Me.N("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),G0=(0,l.P6G)("editorMarkerNavigationWarning.background",{dark:PC,light:PC,hc:l.lRK},Me.N("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Hy=(0,l.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,l.ZnX)(G0,.1),light:(0,l.ZnX)(G0,.1),hc:"#0C141F"},Me.N("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Q0=(0,l.P6G)("editorMarkerNavigationInfo.background",{dark:kC,light:kC,hc:l.lRK},Me.N("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),zy=(0,l.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,l.ZnX)(Q0,.1),light:(0,l.ZnX)(Q0,.1),hc:null},Me.N("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Uy=(0,l.P6G)("editorMarkerNavigation.background",{dark:l.cvW,light:l.cvW,hc:l.cvW},Me.N("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Nm=function(a,t){return function(e,n){t(e,n,a)}},OC=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};let Bc=class Sp{constructor(t,e,n,o,s){this._markerNavigationService=e,this._contextKeyService=n,this._editorService=o,this._instantiationService=s,this._sessionDispoables=new At.SL,this._editor=t,this._widgetVisible=TC.bindTo(this._contextKeyService)}static get(t){return t.getContribution(Sp.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(t){if(this._model&&this._model.matches(t))return this._model;let e=!1;return this._model&&(e=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(t),e&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(eh,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(n=>{var o,s,d;(!(null===(o=this._model)||void 0===o?void 0:o.selected)||!It.e.containsPosition(null===(s=this._model)||void 0===s?void 0:s.selected.marker,n.position))&&(null===(d=this._model)||void 0===d||d.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const n=this._model.find(this._editor.getModel().uri,this._widget.position);n?this._widget.updateMarker(n.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(n=>{this._editorService.openCodeEditor({resource:n.resource,options:{pinned:!0,revealIfOpened:!0,selection:It.e.lift(n).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(t=!0){this._cleanUp(),t&&this._editor.focus()}showAtMarker(t){if(this._editor.hasModel()){const e=this._getOrCreateModel(this._editor.getModel().uri);e.resetIndex(),e.move(!0,this._editor.getModel(),new qn.L(t.startLineNumber,t.startColumn)),e.selected&&this._widget.showAtMarker(e.selected.marker,e.selected.index,e.selected.total)}}nagivate(t,e){var n,o;return OC(this,void 0,void 0,function*(){if(this._editor.hasModel()){const s=this._getOrCreateModel(e?void 0:this._editor.getModel().uri);if(s.move(t,this._editor.getModel(),this._editor.getPosition()),!s.selected)return;if(s.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const d=yield this._editorService.openCodeEditor({resource:s.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:s.selected.marker}},this._editor);d&&(null===(n=Sp.get(d))||void 0===n||n.close(),null===(o=Sp.get(d))||void 0===o||o.nagivate(t,e))}else this._widget.showAtMarker(s.selected.marker,s.selected.index,s.selected.total)}})}};Bc.ID="editor.contrib.markerController",Bc=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Nm(1,NC),Nm(2,Qt.i6),Nm(3,en.$),Nm(4,Yi.TG)],Bc);class Im extends Xe.R6{constructor(t,e,n){super(n),this._next=t,this._multiFile=e}run(t,e){var n;return OC(this,void 0,void 0,function*(){e.hasModel()&&(null===(n=Bc.get(e))||void 0===n||n.nagivate(this._next,this._multiFile))})}}class Wc extends Im{constructor(){super(!0,!1,{id:Wc.ID,label:Wc.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:578,weight:100},menuOpts:{menuId:eh.TitleMenu,title:Wc.LABEL,icon:(0,rr.q5)("marker-navigation-next",Zn.lA.arrowDown,Me.N("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Wc.ID="editor.action.marker.next",Wc.LABEL=Me.N("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Hd extends Im{constructor(){super(!1,!1,{id:Hd.ID,label:Hd.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:1602,weight:100},menuOpts:{menuId:eh.TitleMenu,title:Hd.LABEL,icon:(0,rr.q5)("marker-navigation-previous",Zn.lA.arrowUp,Me.N("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Hd.ID="editor.action.marker.prev",Hd.LABEL=Me.N("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,Xe._K)(Bc.ID,Bc),(0,Xe.Qr)(Wc),(0,Xe.Qr)(Hd),(0,Xe.Qr)(class extends Im{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:Me.N("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:66,weight:100},menuOpts:{menuId:r.eH.MenubarGoMenu,title:Me.N({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,Xe.Qr)(class extends Im{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:Me.N("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:1090,weight:100},menuOpts:{menuId:r.eH.MenubarGoMenu,title:Me.N({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const TC=new Qt.uy("markersNavigationVisible",!1),Zy=Xe._l.bindToContribution(Bc.get);(0,Xe.fK)(new Zy({id:"closeMarkersNavigation",precondition:TC,handler:a=>a.close(),kbOpts:{weight:150,kbExpr:pt.u.focus,primary:9,secondary:[1033]}}));var Y0=function(a,t){return function(e,n){t(e,n,a)}};const _a=rt.$;class Qy{constructor(t,e,n){this.owner=t,this.range=e,this.marker=n}isValidForHoverAnchor(t){return 1===t.type&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}}const AC={type:1,filter:{include:Fi.QuickFix}};let J0=class{constructor(t,e,n,o){this._editor=t,this._markerDecorationsService=e,this._openerService=n,this._languageFeaturesService=o,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(t,e){if(!this._editor.hasModel()||1!==t.type)return[];const n=this._editor.getModel(),o=t.range.startLineNumber,s=n.getLineMaxColumn(o),d=[];for(const m of e){const R=m.range.startLineNumber===o?m.range.startColumn:1,U=m.range.endLineNumber===o?m.range.endColumn:s,F=this._markerDecorationsService.getMarker(n.uri,m);if(!F)continue;const q=new It.e(t.range.startLineNumber,R,t.range.startLineNumber,U);d.push(new Qy(this,q,F))}return d}renderHoverParts(t,e){if(!e.length)return At.JT.None;const n=new At.SL;e.forEach(s=>t.fragment.appendChild(this.renderMarkerHover(s,n)));const o=1===e.length?e[0]:e.sort((s,d)=>Bo.ZL.compare(s.marker.severity,d.marker.severity))[0];return this.renderMarkerStatusbar(t,o,n),n}renderMarkerHover(t,e){const n=_a("div.hover-row"),o=rt.R3(n,_a("div.marker.hover-contents")),{source:s,message:d,code:m,relatedInformation:R}=t.marker;this._editor.applyFontInfo(o);const U=rt.R3(o,_a("span"));if(U.style.whiteSpace="pre-wrap",U.innerText=d,s||m)if(m&&"string"!=typeof m){const F=_a("span");s&&(rt.R3(F,_a("span")).innerText=s);const q=rt.R3(F,_a("a.code-link"));q.setAttribute("href",m.target.toString()),e.add(rt.nm(q,"click",Ke=>{this._openerService.open(m.target,{allowCommands:!0}),Ke.preventDefault(),Ke.stopPropagation()})),rt.R3(q,_a("span")).innerText=m.value;const De=rt.R3(o,F);De.style.opacity="0.6",De.style.paddingLeft="6px"}else{const F=rt.R3(o,_a("span"));F.style.opacity="0.6",F.style.paddingLeft="6px",F.innerText=s&&m?`${s}(${m})`:s||`(${m})`}if((0,po.Of)(R))for(const{message:F,resource:q,startLineNumber:_e,startColumn:De}of R){const Ke=rt.R3(o,_a("div"));Ke.style.marginTop="8px";const ct=rt.R3(Ke,_a("a"));ct.innerText=`${(0,Do.EZ)(q)}(${_e}, ${De}): `,ct.style.cursor="pointer",e.add(rt.nm(ct,"click",Ot=>{Ot.stopPropagation(),Ot.preventDefault(),this._openerService&&this._openerService.open(q,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:_e,startColumn:De}}}).catch(Yn.dL)}));const Tt=rt.R3(Ke,_a("span"));Tt.innerText=F,this._editor.applyFontInfo(Tt)}return n}renderMarkerStatusbar(t,e,n){if((e.marker.severity===Bo.ZL.Error||e.marker.severity===Bo.ZL.Warning||e.marker.severity===Bo.ZL.Info)&&t.statusBar.addAction({label:Me.N("view problem","View Problem"),commandId:Wc.ID,run:()=>{var o;t.hide(),null===(o=Bc.get(this._editor))||void 0===o||o.showAtMarker(e.marker),this._editor.focus()}}),!this._editor.getOption(81)){const o=t.statusBar.append(_a("div"));this.recentMarkerCodeActionsInfo&&(Bo.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===Bo.H0.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=Me.N("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const s=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?At.JT.None:n.add((0,Hn.Vg)(()=>o.textContent=Me.N("checkingForQuickFixes","Checking for quick fixes..."),200));o.textContent||(o.textContent=String.fromCharCode(160));const d=this.getCodeActions(e.marker);n.add((0,At.OF)(()=>d.cancel())),d.then(m=>{if(s.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:m.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return m.dispose(),void(o.textContent=Me.N("noQuickFixes","No quick fixes available"));o.style.display="none";let R=!1;n.add((0,At.OF)(()=>{R||m.dispose()})),t.statusBar.addAction({label:Me.N("quick fixes","Quick Fix..."),commandId:Tu.Id,run:U=>{R=!0;const F=Hl.get(this._editor),q=rt.i(U);t.hide(),null==F||F.showCodeActions(AC,m,{x:q.left+6,y:q.top+q.height+6})}})},Yn.dL)}}getCodeActions(t){return(0,Hn.PG)(e=>Eu(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new It.e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),AC,Kr.Ex.None,e))}};J0=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Y0(1,Fy.i),Y0(2,ta.v4),Y0(3,wi.p)],J0),(0,_.Ic)((a,t)=>{const e=a.getColor(l.url);e&&t.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${e}; }`);const n=a.getColor(l.sgC);n&&t.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)});var Pm=function(a,t){return function(e,n){t(e,n,a)}};let Vc=class mw{constructor(t,e,n,o,s){this._editor=t,this._instantiationService=e,this._openerService=n,this._languageService=o,this._toUnhook=new At.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(d=>{d.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(t){return t.getContribution(mw.ID)}_hookEvents(){const t=()=>this._hideWidgets(),e=this._editor.getOption(53);this._isHoverEnabled=e.enabled,this._isHoverSticky=e.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(n=>this._onEditorMouseDown(n))),this._toUnhook.add(this._editor.onMouseUp(n=>this._onEditorMouseUp(n))),this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))):(this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))),this._toUnhook.add(this._editor.onMouseLeave(t)),this._toUnhook.add(this._editor.onDidChangeModel(t)),this._toUnhook.add(this._editor.onDidScrollChange(n=>this._onEditorScrollChanged(n)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(t){(t.scrollTopChanged||t.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(t){this._isMouseDown=!0;const e=t.target;9!==e.type||e.detail!==Bd.ID?12===e.type&&e.detail===z0.ID||(12!==e.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(t){this._isMouseDown=!1}_onEditorMouseMove(t){var e,n,o,s,d;const m=t.target;if(!(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===m.type&&m.detail===Bd.ID||this._isHoverSticky&&!(null===(n=null===(e=t.event.browserEvent.view)||void 0===e?void 0:e.getSelection())||void 0===n?void 0:n.isCollapsed)||!this._isHoverSticky&&9===m.type&&m.detail===Bd.ID&&(null===(o=this._contentWidget)||void 0===o?void 0:o.isColorPickerVisible())||this._isHoverSticky&&12===m.type&&m.detail===z0.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(t))return 2===m.type&&m.position?(null===(d=this._contentWidget)||void 0===d||d.hide(),this._glyphWidget||(this._glyphWidget=new z0(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(m.position.lineNumber)):void this._hideWidgets();null===(s=this._glyphWidget)||void 0===s||s.hide()}else this._hideWidgets()}_onKeyDown(t){5!==t.keyCode&&6!==t.keyCode&&57!==t.keyCode&&4!==t.keyCode&&this._hideWidgets()}_hideWidgets(){var t,e,n;this._isMouseDown&&this._hoverClicked&&(null===(t=this._contentWidget)||void 0===t?void 0:t.isColorPickerVisible())||(this._hoverClicked=!1,null===(e=this._glyphWidget)||void 0===e||e.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(wm,this._editor)),this._contentWidget}isColorPickerVisible(){var t;return(null===(t=this._contentWidget)||void 0===t?void 0:t.isColorPickerVisible())||!1}showContentHover(t,e,n){this._getOrCreateContentWidget().startShowingAtRange(t,e,n)}dispose(){var t,e;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(t=this._glyphWidget)||void 0===t||t.dispose(),null===(e=this._contentWidget)||void 0===e||e.dispose()}};Vc.ID="editor.contrib.hover",Vc=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Pm(1,Yi.TG),Pm(2,ta.v4),Pm(3,$r.O),Pm(4,Qt.i6)],Vc),(0,Xe._K)(Vc.ID,Vc),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.showHover",label:Me.N({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2087),weight:100}})}run(t,e){if(!e.hasModel())return;let n=Vc.get(e);if(!n)return;const o=e.getPosition(),s=new It.e(o.lineNumber,o.column,o.lineNumber,o.column),d=2===e.getOption(2);n.showContentHover(s,1,d)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:Me.N({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(t,e){const n=Vc.get(e);if(!n)return;const o=e.getPosition();if(!o)return;const s=new It.e(o.lineNumber,o.column,o.lineNumber,o.column),d=no.get(e);d&&d.startFindDefinitionFromCursor(o).then(()=>{n.showContentHover(s,1,!0)})}}),Fd.register(Dm),Fd.register(J0),(0,_.Ic)((a,t)=>{const e=a.getColor(l.ptc);e&&t.addRule(`.monaco-editor .hoverHighlight { background-color: ${e}; }`);const n=a.getColor(l.yJx);n&&t.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const o=a.getColor(l.CNo);o&&(t.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${o.transparent(.5)}; }`));const s=a.getColor(l.url);s&&t.addRule(`.monaco-editor .monaco-hover a { color: ${s}; }`);const d=a.getColor(l.sgC);d&&t.addRule(`.monaco-editor .monaco-hover a:hover { color: ${d}; }`);const m=a.getColor(l.Sbf);m&&t.addRule(`.monaco-editor .monaco-hover { color: ${m}; }`);const R=a.getColor(l.LoV);R&&t.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${R}; }`);const U=a.getColor(l.SwI);U&&t.addRule(`.monaco-editor .monaco-hover code { background-color: ${U}; }`)});let RC=(()=>{class a extends At.JT{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(n=>this.onMouseDown(n)))}dispose(){super.dispose()}onMouseDown(e){const n=e.target;if(6!==n.type||!n.detail.injectedText||n.detail.injectedText.options.attachedData!==Vg||!n.range)return;const o=this._editor.getContribution(Vc.ID);if(o&&!o.isColorPickerVisible()){const s=new It.e(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);o.showContentHover(s,1,!1)}}}return a.ID="editor.contrib.colorContribution",a})();(0,Xe._K)(RC.ID,RC),Fd.register(Ld);var ls=p(19420);class Hc{constructor(t,e,n){this.languageConfigurationService=n,this._selection=t,this._insertSpace=e,this._usedEndToken=null}static _haystackHasNeedleAtOffset(t,e,n){if(n<0)return!1;const o=e.length;if(n+o>t.length)return!1;for(let d=0;d<o;d++){const m=t.charCodeAt(n+d),R=e.charCodeAt(d);if(!(m===R||m>=65&&m<=90&&m+32===R||R>=65&&R<=90&&R+32===m))return!1}return!0}_createOperationsForBlockComment(t,e,n,o,s,d){const m=t.startLineNumber,R=t.startColumn,U=t.endLineNumber,F=t.endColumn,q=s.getLineContent(m),_e=s.getLineContent(U);let ct,De=q.lastIndexOf(e,R-1+e.length),Ke=_e.indexOf(n,F-1-n.length);if(-1!==De&&-1!==Ke)if(m===U)q.substring(De+e.length,Ke).indexOf(n)>=0&&(De=-1,Ke=-1);else{const Tt=q.substring(De+e.length),Ot=_e.substring(0,Ke);(Tt.indexOf(n)>=0||Ot.indexOf(n)>=0)&&(De=-1,Ke=-1)}-1!==De&&-1!==Ke?(o&&De+e.length<q.length&&32===q.charCodeAt(De+e.length)&&(e+=" "),o&&Ke>0&&32===_e.charCodeAt(Ke-1)&&(n=" "+n,Ke-=1),ct=Hc._createRemoveBlockCommentOperations(new It.e(m,De+e.length+1,U,Ke+1),e,n)):(ct=Hc._createAddBlockCommentOperations(t,e,n,this._insertSpace),this._usedEndToken=1===ct.length?n:null);for(const Tt of ct)d.addTrackedEditOperation(Tt.range,Tt.text)}static _createRemoveBlockCommentOperations(t,e,n){let o=[];return It.e.isEmpty(t)?o.push(ls.h.delete(new It.e(t.startLineNumber,t.startColumn-e.length,t.endLineNumber,t.endColumn+n.length))):(o.push(ls.h.delete(new It.e(t.startLineNumber,t.startColumn-e.length,t.startLineNumber,t.startColumn))),o.push(ls.h.delete(new It.e(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn+n.length)))),o}static _createAddBlockCommentOperations(t,e,n,o){let s=[];return It.e.isEmpty(t)?s.push(ls.h.replace(new It.e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),e+"  "+n)):(s.push(ls.h.insert(new qn.L(t.startLineNumber,t.startColumn),e+(o?" ":""))),s.push(ls.h.insert(new qn.L(t.endLineNumber,t.endColumn),(o?" ":"")+n))),s}getEditOperations(t,e){const n=this._selection.startLineNumber,o=this._selection.startColumn;t.tokenizeIfCheap(n);const s=t.getLanguageIdAtPosition(n,o),d=this.languageConfigurationService.getLanguageConfiguration(s).comments;!d||!d.blockCommentStartToken||!d.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,d.blockCommentStartToken,d.blockCommentEndToken,this._insertSpace,t,e)}computeCursorState(t,e){const n=e.getInverseEditOperations();if(2===n.length){const o=n[0],s=n[1];return new ui.Y(o.range.endLineNumber,o.range.endColumn,s.range.startLineNumber,s.range.startColumn)}{const o=n[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new ui.Y(o.endLineNumber,o.endColumn+s,o.endLineNumber,o.endColumn+s)}}}class ec{constructor(t,e,n,o,s,d,m){this.languageConfigurationService=t,this._selection=e,this._tabSize=n,this._type=o,this._insertSpace=s,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=m||!1}static _gatherPreflightCommentStrings(t,e,n,o){t.tokenizeIfCheap(e);const s=t.getLanguageIdAtPosition(e,1),d=o.getLanguageConfiguration(s).comments,m=d?d.lineCommentToken:null;if(!m)return null;let R=[];for(let U=0,F=n-e+1;U<F;U++)R[U]={ignore:!1,commentStr:m,commentStrOffset:0,commentStrLength:m.length};return R}static _analyzeLines(t,e,n,o,s,d,m,R){let F,U=!0;F=0===t||1!==t;for(let q=0,_e=o.length;q<_e;q++){const De=o[q],Ke=s+q;if(Ke===s&&m){De.ignore=!0;continue}const ct=n.getLineContent(Ke),Tt=In.LC(ct);if(-1!==Tt){if(U=!1,De.ignore=!1,De.commentStrOffset=Tt,F&&!Hc._haystackHasNeedleAtOffset(ct,De.commentStr,Tt)&&(0===t?F=!1:1===t||(De.ignore=!0)),F&&e){const Ot=Tt+De.commentStrLength;Ot<ct.length&&32===ct.charCodeAt(Ot)&&(De.commentStrLength+=1)}}else De.ignore=d,De.commentStrOffset=ct.length}if(0===t&&U){F=!1;for(let q=0,_e=o.length;q<_e;q++)o[q].ignore=!1}return{supported:!0,shouldRemoveComments:F,lines:o}}static _gatherPreflightData(t,e,n,o,s,d,m,R){const U=ec._gatherPreflightCommentStrings(n,o,s,R);return null===U?{supported:!1}:ec._analyzeLines(t,e,n,U,o,d,m,R)}_executeLineComments(t,e,n,o){let s;n.shouldRemoveComments?s=ec._createRemoveLineCommentsOperations(n.lines,o.startLineNumber):(ec._normalizeInsertionPoint(t,n.lines,o.startLineNumber,this._tabSize),s=this._createAddLineCommentsOperations(n.lines,o.startLineNumber));const d=new qn.L(o.positionLineNumber,o.positionColumn);for(let m=0,R=s.length;m<R;m++)e.addEditOperation(s[m].range,s[m].text),It.e.isEmpty(s[m].range)&&It.e.getStartPosition(s[m].range).equals(d)&&t.getLineContent(d.lineNumber).length+1===d.column&&(this._deltaColumn=(s[m].text||"").length);this._selectionId=e.trackSelection(o)}_attemptRemoveBlockComment(t,e,n,o){let s=e.startLineNumber,d=e.endLineNumber,m=o.length+Math.max(t.getLineFirstNonWhitespaceColumn(e.startLineNumber),e.startColumn),R=t.getLineContent(s).lastIndexOf(n,m-1),U=t.getLineContent(d).indexOf(o,e.endColumn-1-n.length);return-1!==R&&-1===U&&(U=t.getLineContent(s).indexOf(o,R+n.length),d=s),-1===R&&-1!==U&&(R=t.getLineContent(d).lastIndexOf(n,U),s=d),e.isEmpty()&&(-1===R||-1===U)&&(R=t.getLineContent(s).indexOf(n),-1!==R&&(U=t.getLineContent(s).indexOf(o,R+n.length))),-1!==R&&32===t.getLineContent(s).charCodeAt(R+n.length)&&(n+=" "),-1!==U&&32===t.getLineContent(d).charCodeAt(U-1)&&(o=" "+o,U-=1),-1!==R&&-1!==U?Hc._createRemoveBlockCommentOperations(new It.e(s,R+n.length+1,d,U+1),n,o):null}_executeBlockComment(t,e,n){t.tokenizeIfCheap(n.startLineNumber);let o=t.getLanguageIdAtPosition(n.startLineNumber,1),s=jo.zu.getComments(o);if(!s||!s.blockCommentStartToken||!s.blockCommentEndToken)return;const d=s.blockCommentStartToken,m=s.blockCommentEndToken;let R=this._attemptRemoveBlockComment(t,n,d,m);if(!R){if(n.isEmpty()){const U=t.getLineContent(n.startLineNumber);let F=In.LC(U);-1===F&&(F=U.length),R=Hc._createAddBlockCommentOperations(new It.e(n.startLineNumber,F+1,n.startLineNumber,U.length+1),d,m,this._insertSpace)}else R=Hc._createAddBlockCommentOperations(new It.e(n.startLineNumber,t.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),d,m,this._insertSpace);1===R.length&&(this._deltaColumn=d.length+1)}this._selectionId=e.trackSelection(n);for(const U of R)e.addEditOperation(U.range,U.text)}getEditOperations(t,e){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine)return e.addEditOperation(new It.e(n.startLineNumber,t.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===t.getLineCount()?"":"\n"),void(this._selectionId=e.trackSelection(n));n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,t.getLineMaxColumn(n.endLineNumber-1)));const o=ec._gatherPreflightData(this._type,this._insertSpace,t,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return o.supported?this._executeLineComments(t,e,o,n):this._executeBlockComment(t,e,n)}computeCursorState(t,e){let n=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new ui.Y(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(t,e){let n=[];for(let o=0,s=t.length;o<s;o++){const d=t[o];d.ignore||n.push(ls.h.delete(new It.e(e+o,d.commentStrOffset+1,e+o,d.commentStrOffset+d.commentStrLength+1)))}return n}_createAddLineCommentsOperations(t,e){let n=[];const o=this._insertSpace?" ":"";for(let s=0,d=t.length;s<d;s++){const m=t[s];m.ignore||n.push(ls.h.insert(new qn.L(e+s,m.commentStrOffset+1),m.commentStr+o))}return n}static nextVisibleColumn(t,e,n,o){return n?t+(e-t%e):t+o}static _normalizeInsertionPoint(t,e,n,o){let d,m,s=1073741824;for(let R=0,U=e.length;R<U;R++){if(e[R].ignore)continue;const F=t.getLineContent(n+R);let q=0;for(let _e=0,De=e[R].commentStrOffset;q<s&&_e<De;_e++)q=ec.nextVisibleColumn(q,o,9===F.charCodeAt(_e),1);q<s&&(s=q)}s=Math.floor(s/o)*o;for(let R=0,U=e.length;R<U;R++){if(e[R].ignore)continue;const F=t.getLineContent(n+R);let q=0;for(d=0,m=e[R].commentStrOffset;q<s&&d<m;d++)q=ec.nextVisibleColumn(q,o,9===F.charCodeAt(d),1);e[R].commentStrOffset=q>s?d-1:d}}}class X0 extends Xe.R6{constructor(t,e){super(e),this._type=t}run(t,e){const n=t.get(jo.c_);if(!e.hasModel())return;const s=[],d=e.getModel().getOptions(),m=e.getOption(19),R=e.getSelections().map((F,q)=>({selection:F,index:q,ignoreFirstLine:!1}));R.sort((F,q)=>It.e.compareRangesUsingStarts(F.selection,q.selection));let U=R[0];for(let F=1;F<R.length;F++){const q=R[F];U.selection.endLineNumber===q.selection.startLineNumber&&(U.index<q.index?q.ignoreFirstLine=!0:(U.ignoreFirstLine=!0,U=q))}for(const F of R)s.push(new ec(n,F.selection,d.tabSize,this._type,m.insertSpace,m.ignoreEmptyLines,F.ignoreFirstLine));e.pushUndoStop(),e.executeCommands(this.id,s),e.pushUndoStop()}}(0,Xe.Qr)(class extends X0{constructor(){super(0,{id:"editor.action.commentLine",label:Me.N("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:r.eH.MenubarEditMenu,group:"5_insert",title:Me.N({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,Xe.Qr)(class extends X0{constructor(){super(1,{id:"editor.action.addCommentLine",label:Me.N("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2081),weight:100}})}}),(0,Xe.Qr)(class extends X0{constructor(){super(2,{id:"editor.action.removeCommentLine",label:Me.N("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2099),weight:100}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.blockComment",label:Me.N("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:r.eH.MenubarEditMenu,group:"5_insert",title:Me.N({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(t,e){const n=t.get(jo.c_);if(!e.hasModel())return;const o=e.getOption(19),s=[],d=e.getSelections();for(const m of d)s.push(new Hc(m,o.insertSpace,n));e.pushUndoStop(),e.executeCommands(this.id,s),e.pushUndoStop()}});var Af=function(a,t){return function(e,n){t(e,n,a)}};let th=class pw{constructor(t,e,n,o,s,d){this._contextMenuService=e,this._contextViewService=n,this._contextKeyService=o,this._keybindingService=s,this._menuService=d,this._toDispose=new At.SL,this._contextMenuIsBeingShownCount=0,this._editor=t,this._toDispose.add(this._editor.onContextMenu(m=>this._onContextMenu(m))),this._toDispose.add(this._editor.onMouseWheel(m=>{if(this._contextMenuIsBeingShownCount>0){const R=this._contextViewService.getContextViewElement(),U=m.srcElement;U.shadowRoot&&rt.Ay(R)===U.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(m=>{58===m.keyCode&&(m.preventDefault(),m.stopPropagation(),this.showContextMenu())}))}static get(t){return t.getContribution(pw.ID)}_onContextMenu(t){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(t.target.position&&!this._editor.getSelection().containsPosition(t.target.position)&&this._editor.setPosition(t.target.position));if(12===t.target.type||6===t.target.type&&t.target.detail.injectedText||(t.event.preventDefault(),t.event.stopPropagation(),6!==t.target.type&&7!==t.target.type&&1!==t.target.type))return;if(this._editor.focus(),t.target.position){let n=!1;for(const o of this._editor.getSelections())if(o.containsPosition(t.target.position)){n=!0;break}n||this._editor.setPosition(t.target.position)}let e=null;1!==t.target.type&&(e={x:t.event.posx-1,width:2,y:t.event.posy-1,height:2}),this.showContextMenu(e)}showContextMenu(t){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const e=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?r.eH.SimpleEditorContext:r.eH.EditorContext);e.length>0&&this._doShowContextMenu(e,t)}_getMenuActions(t,e){const n=[],o=this._menuService.createMenu(e,this._contextKeyService),s=o.getActions({arg:t.uri});o.dispose();for(let d of s){const[,m]=d;let R=0;for(const U of m)if(U instanceof r.NZ){const F=this._getMenuActions(t,U.item.submenu);F.length>0&&(n.push(new Ws.wY(U.id,U.label,F)),R++)}else n.push(U),R++;R&&n.push(new Ws.Z0)}return n.length&&n.pop(),n}_doShowContextMenu(t,e=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!e){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),d=rt.i(this._editor.getDomNode());e={x:d.left+s.left,y:d.top+s.top+s.height}}const o=this._editor.getOption(115)&&!Ht.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>t,getActionViewItem:s=>{const d=this._keybindingFor(s);return d?new Zl.g(s,s,{label:!0,keybinding:d.getLabel(),isMenu:!0}):"function"==typeof s.getActionViewItem?s.getActionViewItem():new Zl.g(s,s,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:s=>this._keybindingFor(s),onHide:s=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}_keybindingFor(t){return this._keybindingService.lookupKeybinding(t.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};th.ID="editor.contrib.contextmenu",th=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Af(1,Rl.i),Af(2,Rl.u),Af(3,Qt.i6),Af(4,Xo.d),Af(5,r.co)],th),(0,Xe._K)(th.ID,th),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.showContextMenu",label:Me.N("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:pt.u.textInputFocus,primary:1092,weight:100}})}run(t,e){var n;null===(n=th.get(e))||void 0===n||n.showContextMenu()}});class q0{constructor(t){this.selections=t}equals(t){const e=this.selections.length;if(e!==t.selections.length)return!1;for(let o=0;o<e;o++)if(!this.selections[o].equalsSelection(t.selections[o]))return!1;return!0}}class e_{constructor(t,e,n){this.cursorState=t,this.scrollTop=e,this.scrollLeft=n}}let km=(()=>{class a extends At.JT{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(n=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(n=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(n=>{if(this._isCursorUndoRedo||!n.oldSelections||n.oldModelVersionId!==n.modelVersionId)return;const o=new q0(n.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o)||(this._undoStack.push(new e_(o,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(a.ID)}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new e_(new q0(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new e_(new q0(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}return a.ID="editor.contrib.cursorUndoRedoController",a})();(0,Xe._K)(km.ID,km),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"cursorUndo",label:Me.N("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:pt.u.textInputFocus,primary:2099,weight:100}})}run(t,e,n){var o;null===(o=km.get(e))||void 0===o||o.cursorUndo()}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"cursorRedo",label:Me.N("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(t,e,n){var o;null===(o=km.get(e))||void 0===o||o.cursorRedo()}}),p(63593);class aS{constructor(t,e,n){this.selection=t,this.targetPosition=e,this.copy=n,this.targetSelection=null}getEditOperations(t,e){let n=t.getValueInRange(this.selection);this.copy||e.addEditOperation(this.selection,null),e.addEditOperation(new It.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new ui.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new ui.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new ui.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new ui.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new ui.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(t,e){return this.targetSelection}}function nh(a){return Ht.dz?a.altKey:a.ctrlKey}class tc extends At.JT{constructor(t){super(),this._editor=t,this._register(this._editor.onMouseDown(e=>this._onEditorMouseDown(e))),this._register(this._editor.onMouseUp(e=>this._onEditorMouseUp(e))),this._register(this._editor.onMouseDrag(e=>this._onEditorMouseDrag(e))),this._register(this._editor.onMouseDrop(e=>this._onEditorMouseDrop(e))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(e=>this.onEditorKeyDown(e))),this._register(this._editor.onKeyUp(e=>this.onEditorKeyUp(e))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(31)||this._editor.getOption(18)||(nh(t)&&(this._modifierPressed=!0),this._mouseDown&&nh(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(31)||this._editor.getOption(18)||(nh(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===tc.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){let e=t.target;if(null===this._dragSelection){let o=(this._editor.getSelections()||[]).filter(s=>e.position&&s.containsPosition(e.position));if(1!==o.length)return;this._dragSelection=o[0]}nh(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),e.position&&(this._dragSelection.containsPosition(e.position)?this._removeDecoration():this.showAt(e.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){let e=new qn.L(t.target.position.lineNumber,t.target.position.column);if(null===this._dragSelection){let n=null;if(t.event.shiftKey){let o=this._editor.getSelection();if(o){const{selectionStartLineNumber:s,selectionStartColumn:d}=o;n=[new ui.Y(s,d,e.lineNumber,e.column)]}}else n=(this._editor.getSelections()||[]).map(o=>o.containsPosition(e)?new ui.Y(e.lineNumber,e.column,e.lineNumber,e.column):o);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(e)||(nh(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(e)||this._dragSelection.getStartPosition().equals(e)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(tc.ID,new aS(this._dragSelection,e,nh(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(t){let e=[{range:new It.e(t.lineNumber,t.column,t.lineNumber,t.column),options:tc._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,e),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(t){return 6===t.type||7===t.type}_hitMargin(t){return 2===t.type||3===t.type||4===t.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}tc.ID="editor.contrib.dragAndDrop",tc.TRIGGER_KEY_VALUE=Ht.dz?6:5,tc._DECORATION_OPTIONS=qi.qx.register({description:"dnd-target",className:"dnd-target"}),(0,Xe._K)(tc.ID,tc);var lS=p(82711);class Gs{constructor(t){this._editor=t,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const t=this._findScopeDecorationIds.map(e=>this._editor.getModel().getDecorationRange(e)).filter(e=>!!e);if(t.length)return t}return null}getStartPosition(){return this._startPosition}setStartPosition(t){this._startPosition=t,this.setCurrentFindMatch(null)}_getDecorationIndex(t){const e=this._decorations.indexOf(t);return e>=0?e+1:1}getCurrentMatchesPosition(t){let e=this._editor.getModel().getDecorationsInRange(t);for(const n of e){const o=n.options;if(o===Gs._FIND_MATCH_DECORATION||o===Gs._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(t){let e=null,n=0;if(t)for(let o=0,s=this._decorations.length;o<s;o++){let d=this._editor.getModel().getDecorationRange(this._decorations[o]);if(t.equalsRange(d)){e=this._decorations[o],n=o+1;break}}return(null!==this._highlightedDecorationId||null!==e)&&this._editor.changeDecorations(o=>{if(null!==this._highlightedDecorationId&&(o.changeDecorationOptions(this._highlightedDecorationId,Gs._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==e&&(this._highlightedDecorationId=e,o.changeDecorationOptions(this._highlightedDecorationId,Gs._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==e){let s=this._editor.getModel().getDecorationRange(e);if(s.startLineNumber!==s.endLineNumber&&1===s.endColumn){let d=s.endLineNumber-1,m=this._editor.getModel().getLineMaxColumn(d);s=new It.e(s.startLineNumber,s.startColumn,d,m)}this._rangeHighlightDecorationId=o.addDecoration(s,Gs._RANGE_HIGHLIGHT_DECORATION)}}),n}set(t,e){this._editor.changeDecorations(n=>{let o=Gs._FIND_MATCH_DECORATION,s=[];if(t.length>1e3){o=Gs._FIND_MATCH_NO_OVERVIEW_DECORATION;const m=this._editor.getModel().getLineCount(),U=this._editor.getLayoutInfo().height/m,F=Math.max(2,Math.ceil(3/U));let q=t[0].range.startLineNumber,_e=t[0].range.endLineNumber;for(let De=1,Ke=t.length;De<Ke;De++){const ct=t[De].range;_e+F>=ct.startLineNumber?ct.endLineNumber>_e&&(_e=ct.endLineNumber):(s.push({range:new It.e(q,1,_e,1),options:Gs._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),q=ct.startLineNumber,_e=ct.endLineNumber)}s.push({range:new It.e(q,1,_e,1),options:Gs._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let d=new Array(t.length);for(let m=0,R=t.length;m<R;m++)d[m]={range:t[m].range,options:o};this._decorations=n.deltaDecorations(this._decorations,d),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,s),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(m=>n.removeDecoration(m)),this._findScopeDecorationIds=[]),(null==e?void 0:e.length)&&(this._findScopeDecorationIds=e.map(m=>n.addDecoration(m,Gs._FIND_SCOPE_DECORATION)))})}matchBeforePosition(t){if(0===this._decorations.length)return null;for(let e=this._decorations.length-1;e>=0;e--){let n=this._decorations[e],o=this._editor.getModel().getDecorationRange(n);if(o&&!(o.endLineNumber>t.lineNumber)){if(o.endLineNumber<t.lineNumber)return o;if(!(o.endColumn>t.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(t){if(0===this._decorations.length)return null;for(let e=0,n=this._decorations.length;e<n;e++){let o=this._decorations[e],s=this._editor.getModel().getDecorationRange(o);if(s&&!(s.startLineNumber<t.lineNumber)){if(s.startLineNumber>t.lineNumber)return s;if(!(s.startColumn<t.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let t=[];return t=t.concat(this._decorations),t=t.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&t.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&t.push(this._rangeHighlightDecorationId),t}}Gs._CURRENT_FIND_MATCH_DECORATION=qi.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,_.EN)(l.Fm_),position:os.sh.Center},minimap:{color:(0,_.EN)(l.SUY),position:os.F5.Inline}}),Gs._FIND_MATCH_DECORATION=qi.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,_.EN)(l.Fm_),position:os.sh.Center},minimap:{color:(0,_.EN)(l.SUY),position:os.F5.Inline}}),Gs._FIND_MATCH_NO_OVERVIEW_DECORATION=qi.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),Gs._FIND_MATCH_ONLY_OVERVIEW_DECORATION=qi.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,_.EN)(l.Fm_),position:os.sh.Center}}),Gs._RANGE_HIGHLIGHT_DECORATION=qi.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),Gs._FIND_SCOPE_DECORATION=qi.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class cS{constructor(t,e,n){this._editorSelection=t,this._ranges=e,this._replaceStrings=n,this._trackedEditorSelectionId=null}getEditOperations(t,e){if(this._ranges.length>0){let n=[];for(let d=0;d<this._ranges.length;d++)n.push({range:this._ranges[d],text:this._replaceStrings[d]});n.sort((d,m)=>It.e.compareRangesUsingStarts(d.range,m.range));let o=[],s=n[0];for(let d=1;d<n.length;d++)s.range.endLineNumber===n[d].range.startLineNumber&&s.range.endColumn===n[d].range.startColumn?(s.range=s.range.plusRange(n[d].range),s.text=s.text+n[d].text):(o.push(s),s=n[d]);o.push(s);for(const d of o)e.addEditOperation(d.range,d.text)}this._trackedEditorSelectionId=e.trackSelection(this._editorSelection)}computeCursorState(t,e){return e.getTrackedSelection(this._trackedEditorSelectionId)}}function FC(a,t){if(a&&""!==a[0]){const e=BC(a,t,"-"),n=BC(a,t,"_");return e&&!n?WC(a,t,"-"):!e&&n?WC(a,t,"_"):a[0].toUpperCase()===a[0]?t.toUpperCase():a[0].toLowerCase()===a[0]?t.toLowerCase():In.Kw(a[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):a[0][0].toUpperCase()!==a[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function BC(a,t,e){return-1!==a[0].indexOf(e)&&-1!==t.indexOf(e)&&a[0].split(e).length===t.split(e).length}function WC(a,t,e){const n=t.split(e),o=a[0].split(e);let s="";return n.forEach((d,m)=>{s+=FC([o[m]],d)+e}),s.slice(0,-1)}class VC{constructor(t){this.staticValue=t,this.kind=0}}class dS{constructor(t){this.pieces=t,this.kind=1}}class ih{constructor(t){this._state=t&&0!==t.length?1===t.length&&null!==t[0].staticValue?new VC(t[0].staticValue):new dS(t):new VC("")}static fromStaticValue(t){return new ih([zd.staticValue(t)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(t,e){if(0===this._state.kind)return e?FC(t,this._state.staticValue):this._state.staticValue;let n="";for(let o=0,s=this._state.pieces.length;o<s;o++){let d=this._state.pieces[o];if(null!==d.staticValue){n+=d.staticValue;continue}let m=ih._substitute(d.matchIndex,t);if(null!==d.caseOps&&d.caseOps.length>0){let R=[],U=d.caseOps.length,F=0;for(let q=0,_e=m.length;q<_e;q++){if(F>=U){R.push(m.slice(q));break}switch(d.caseOps[F]){case"U":R.push(m[q].toUpperCase());break;case"u":R.push(m[q].toUpperCase()),F++;break;case"L":R.push(m[q].toLowerCase());break;case"l":R.push(m[q].toLowerCase()),F++;break;default:R.push(m[q])}}m=R.join("")}n+=m}return n}static _substitute(t,e){if(null===e)return"";if(0===t)return e[0];let n="";for(;t>0;){if(t<e.length)return(e[t]||"")+n;n=String(t%10)+n,t=Math.floor(t/10)}return"$"+n}}class zd{constructor(t,e,n){this.staticValue=t,this.matchIndex=e,this.caseOps=n&&0!==n.length?n.slice(0):null}static staticValue(t){return new zd(t,-1,null)}static caseOps(t,e){return new zd(null,t,e)}}class uS{constructor(t){this._source=t,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(t){this._emitStatic(this._source.substring(this._lastCharIndex,t)),this._lastCharIndex=t}emitStatic(t,e){this._emitStatic(t),this._lastCharIndex=e}_emitStatic(t){0!==t.length&&(this._currentStaticPiece+=t)}emitMatchIndex(t,e,n){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=zd.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=zd.caseOps(t,n),this._lastCharIndex=e}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=zd.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new ih(this._result)}}const zc=new Qt.uy("findWidgetVisible",!1),Om=(zc.toNegated(),new Qt.uy("findInputFocussed",!1)),t_=new Qt.uy("replaceInputFocussed",!1),Tm={primary:545,mac:{primary:2593}},Am={primary:565,mac:{primary:2613}},Rm={primary:560,mac:{primary:2608}},Fm={primary:554,mac:{primary:2602}},Bm={primary:558,mac:{primary:2606}},Uc=19999;class Rf{constructor(t,e){this._toDispose=new At.SL,this._editor=t,this._state=e,this._isDisposed=!1,this._startSearchingTimer=new Hn._F,this._decorations=new Gs(t),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Hn.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(n=>{(3===n.reason||5===n.reason||6===n.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(n=>{this._ignoreModelContentChanged||(n.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(n=>this._onStateChanged(n))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,At.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(t){this._isDisposed||!this._editor.hasModel()||(t.searchString||t.isReplaceRevealed||t.isRegex||t.wholeWord||t.matchCase||t.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor)},240)):t.searchScope?this.research(t.moveCursor,this._state.searchScope):this.research(t.moveCursor))}static _getSearchRange(t,e){return e||t.getFullModelRange()}research(t,e){let n=null;void 0!==e?null!==e&&(n=Array.isArray(e)?e:[e]):n=this._decorations.getFindScopes(),null!==n&&(n=n.map(m=>{if(m.startLineNumber!==m.endLineNumber){let R=m.endLineNumber;return 1===m.endColumn&&(R-=1),new It.e(m.startLineNumber,1,R,this._editor.getModel().getLineMaxColumn(R))}return m}));let o=this._findMatches(n,!1,Uc);this._decorations.set(o,n);const s=this._editor.getSelection();let d=this._decorations.getCurrentMatchesPosition(s);if(0===d&&o.length>0){const m=(0,po.lG)(o.map(R=>R.range),R=>It.e.compareRangesUsingStarts(R,s)>=0);d=m>0?m-1+1:d}this._state.changeMatchInfo(d,this._decorations.getCount(),void 0),t&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let t=this._decorations.getFindScope();return t&&this._editor.revealRangeInCenterIfOutsideViewport(t,0),!0}return!1}_setCurrentFindMatch(t){let e=this._decorations.setCurrentFindMatch(t);this._state.changeMatchInfo(e,this._decorations.getCount(),t),this._editor.setSelection(t),this._editor.revealRangeInCenterIfOutsideViewport(t,0)}_prevSearchPosition(t){let e=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:o}=t,s=this._editor.getModel();return e||1===o?(1===n?n=s.getLineCount():n--,o=s.getLineMaxColumn(n)):o--,new qn.L(n,o)}_moveToPrevMatch(t,e=!1){if(!this._state.canNavigateBack()){const F=this._decorations.matchAfterPosition(t);return void(F&&this._setCurrentFindMatch(F))}if(this._decorations.getCount()<Uc){let F=this._decorations.matchBeforePosition(t);return F&&F.isEmpty()&&F.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),F=this._decorations.matchBeforePosition(t)),void(F&&this._setCurrentFindMatch(F))}if(this._cannotFind())return;let n=this._decorations.getFindScope(),o=Rf._getSearchRange(this._editor.getModel(),n);o.getEndPosition().isBefore(t)&&(t=o.getEndPosition()),t.isBefore(o.getStartPosition())&&(t=o.getEndPosition());let{lineNumber:s,column:d}=t,m=this._editor.getModel(),R=new qn.L(s,d),U=m.findPreviousMatch(this._state.searchString,R,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(U&&U.range.isEmpty()&&U.range.getStartPosition().equals(R)&&(R=this._prevSearchPosition(R),U=m.findPreviousMatch(this._state.searchString,R,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),U){if(!e&&!o.containsRange(U.range))return this._moveToPrevMatch(U.range.getStartPosition(),!0);this._setCurrentFindMatch(U.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(t){let e=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:o}=t,s=this._editor.getModel();return e||o===s.getLineMaxColumn(n)?(n===s.getLineCount()?n=1:n++,o=1):o++,new qn.L(n,o)}_moveToNextMatch(t){if(!this._state.canNavigateForward()){const n=this._decorations.matchBeforePosition(t);return void(n&&this._setCurrentFindMatch(n))}if(this._decorations.getCount()<Uc){let n=this._decorations.matchAfterPosition(t);return n&&n.isEmpty()&&n.getStartPosition().equals(t)&&(t=this._nextSearchPosition(t),n=this._decorations.matchAfterPosition(t)),void(n&&this._setCurrentFindMatch(n))}let e=this._getNextMatch(t,!1,!0);e&&this._setCurrentFindMatch(e.range)}_getNextMatch(t,e,n,o=!1){if(this._cannotFind())return null;let s=this._decorations.getFindScope(),d=Rf._getSearchRange(this._editor.getModel(),s);d.getEndPosition().isBefore(t)&&(t=d.getStartPosition()),t.isBefore(d.getStartPosition())&&(t=d.getStartPosition());let{lineNumber:m,column:R}=t,U=this._editor.getModel(),F=new qn.L(m,R),q=U.findNextMatch(this._state.searchString,F,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,e);return n&&q&&q.range.isEmpty()&&q.range.getStartPosition().equals(F)&&(F=this._nextSearchPosition(F),q=U.findNextMatch(this._state.searchString,F,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,e)),q?o||d.containsRange(q.range)?q:this._getNextMatch(q.range.getEndPosition(),e,n,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function(a){if(!a||0===a.length)return new ih(null);let t=[],e=new uS(a);for(let n=0,o=a.length;n<o;n++){let s=a.charCodeAt(n);if(92!==s){if(36===s){if(n++,n>=o)break;let d=a.charCodeAt(n);if(36===d){e.emitUnchanged(n-1),e.emitStatic("$",n+1);continue}if(48===d||38===d){e.emitUnchanged(n-1),e.emitMatchIndex(0,n+1,t),t.length=0;continue}if(49<=d&&d<=57){let m=d-48;if(n+1<o){let R=a.charCodeAt(n+1);if(48<=R&&R<=57){n++,m=10*m+(R-48),e.emitUnchanged(n-2),e.emitMatchIndex(m,n+1,t),t.length=0;continue}}e.emitUnchanged(n-1),e.emitMatchIndex(m,n+1,t),t.length=0;continue}}}else{if(n++,n>=o)break;let d=a.charCodeAt(n);switch(d){case 92:e.emitUnchanged(n-1),e.emitStatic("\\",n+1);break;case 110:e.emitUnchanged(n-1),e.emitStatic("\n",n+1);break;case 116:e.emitUnchanged(n-1),e.emitStatic("\t",n+1);break;case 117:case 85:case 108:case 76:e.emitUnchanged(n-1),e.emitStatic("",n+1),t.push(String.fromCharCode(d))}}}return e.finalize()}(this._state.replaceString):ih.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let t=this._getReplacePattern(),e=this._editor.getSelection(),n=this._getNextMatch(e.getStartPosition(),!0,!1);if(n)if(e.equalsRange(n.range)){let o=t.buildReplaceString(n.matches,this._state.preserveCase),s=new it.T4(e,o);this._executeEditorCommand("replace",s),this._decorations.setStartPosition(new qn.L(e.startLineNumber,e.startColumn+o.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(t,e,n){const o=(t||[null]).map(s=>Rf._getSearchRange(this._editor.getModel(),s));return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,e,n)}replaceAll(){if(!this._hasMatches())return;const t=this._decorations.getFindScopes();null===t&&this._state.matchesCount>=Uc?this._largeReplaceAll():this._regularReplaceAll(t),this.research(!1)}_largeReplaceAll(){const e=new lS.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!e)return;let n=e.regex;if(!n.multiline){let q="mu";n.ignoreCase&&(q+="i"),n.global&&(q+="g"),n=new RegExp(n.source,q)}const o=this._editor.getModel(),s=o.getValue(1),d=o.getFullModelRange(),m=this._getReplacePattern();let R;const U=this._state.preserveCase;R=s.replace(n,m.hasReplacementPatterns||U?function(){return m.buildReplaceString(arguments,U)}:m.buildReplaceString(null,U));let F=new it.hP(d,R,this._editor.getSelection());this._executeEditorCommand("replaceAll",F)}_regularReplaceAll(t){const e=this._getReplacePattern();let n=this._findMatches(t,e.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[];for(let d=0,m=n.length;d<m;d++)o[d]=e.buildReplaceString(n[d].matches,this._state.preserveCase);let s=new cS(this._editor.getSelection(),n.map(d=>d.range),o);this._executeEditorCommand("replaceAll",s)}selectAllMatches(){if(!this._hasMatches())return;let t=this._decorations.getFindScopes(),n=this._findMatches(t,!1,1073741824).map(s=>new ui.Y(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn)),o=this._editor.getSelection();for(let s=0,d=n.length;s<d;s++)if(n[s].equalsRange(o)){n=[o].concat(n.slice(0,s)).concat(n.slice(s+1));break}this._editor.setSelections(n)}_executeEditorCommand(t,e){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(t,e),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}let gS=(()=>{class a extends fa.${constructor(e,n,o,s){super(),this._hideSoon=this._register(new Hn.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=n,this._keybindingService=o,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=s.getColorTheme().getColor(l.PRb),m=s.getColorTheme().getColor(l.Pvw),R=s.getColorTheme().getColor(l.XEs);this.caseSensitive=this._register(new $1({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:m,inputActiveOptionBackground:R})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Z1({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:m,inputActiveOptionBackground:R})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new G1({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:m,inputActiveOptionBackground:R})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(U=>{let F=!1;U.isRegex&&(this.regex.checked=this._state.isRegex,F=!0),U.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,F=!0),U.matchCase&&(this.caseSensitive.checked=this._state.matchCase,F=!0),!this._state.isRevealed&&F&&this._revealTemporarily()})),this._register(rt.j_(this._domNode,U=>this._onMouseOut())),this._register(rt.nm(this._domNode,"mouseover",U=>this._onMouseOver())),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let n=this._keybindingService.lookupKeybinding(e);return n?` (${n.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let n={inputActiveOptionBorder:e.getColor(l.PRb),inputActiveOptionForeground:e.getColor(l.Pvw),inputActiveOptionBackground:e.getColor(l.XEs)};this.caseSensitive.style(n),this.wholeWords.style(n),this.regex.style(n)}}return a.ID="editor.contrib.findOptionsWidget",a})();function Wm(a,t){return 1===a||2!==a&&t}(0,_.Ic)((a,t)=>{const e=a.getColor(l.D0T);e&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${e}; }`);const n=a.getColor(l.Hfx);n&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const o=a.getColor(l.rh);o&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const s=a.getColor(l.lRK);s&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${s}; }`)});class mS extends At.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new zn.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Wm(this._isRegexOverride,this._isRegex)}get wholeWord(){return Wm(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Wm(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Wm(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(t,e,n){let o={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},s=!1;0===e&&(t=0),t>e&&(t=e),this._matchesPosition!==t&&(this._matchesPosition=t,o.matchesPosition=!0,s=!0),this._matchesCount!==e&&(this._matchesCount=e,o.matchesCount=!0,s=!0),void 0!==n&&(It.e.equalsRange(this._currentMatch,n)||(this._currentMatch=n,o.currentMatch=!0,s=!0)),s&&this._onFindReplaceStateChange.fire(o)}change(t,e,n=!0){var o;let s={moveCursor:e,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},d=!1;const m=this.isRegex,R=this.wholeWord,U=this.matchCase,F=this.preserveCase;void 0!==t.searchString&&this._searchString!==t.searchString&&(this._searchString=t.searchString,s.searchString=!0,d=!0),void 0!==t.replaceString&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,s.replaceString=!0,d=!0),void 0!==t.isRevealed&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,s.isRevealed=!0,d=!0),void 0!==t.isReplaceRevealed&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,s.isReplaceRevealed=!0,d=!0),void 0!==t.isRegex&&(this._isRegex=t.isRegex),void 0!==t.wholeWord&&(this._wholeWord=t.wholeWord),void 0!==t.matchCase&&(this._matchCase=t.matchCase),void 0!==t.preserveCase&&(this._preserveCase=t.preserveCase),void 0!==t.searchScope&&((null===(o=t.searchScope)||void 0===o?void 0:o.every(q=>{var _e;return null===(_e=this._searchScope)||void 0===_e?void 0:_e.some(De=>!It.e.equalsRange(De,q))}))||(this._searchScope=t.searchScope,s.searchScope=!0,d=!0)),void 0!==t.loop&&this._loop!==t.loop&&(this._loop=t.loop,s.loop=!0,d=!0),void 0!==t.isSearching&&this._isSearching!==t.isSearching&&(this._isSearching=t.isSearching,s.isSearching=!0,d=!0),void 0!==t.filters&&(this._filters?this._filters.update(t.filters):this._filters=t.filters,s.filters=!0,d=!0),this._isRegexOverride=void 0!==t.isRegexOverride?t.isRegexOverride:0,this._wholeWordOverride=void 0!==t.wholeWordOverride?t.wholeWordOverride:0,this._matchCaseOverride=void 0!==t.matchCaseOverride?t.matchCaseOverride:0,this._preserveCaseOverride=void 0!==t.preserveCaseOverride?t.preserveCaseOverride:0,m!==this.isRegex&&(d=!0,s.isRegex=!0),R!==this.wholeWord&&(d=!0,s.wholeWord=!0),U!==this.matchCase&&(d=!0,s.matchCase=!0),F!==this.preserveCase&&(d=!0,s.preserveCase=!0),d&&this._onFindReplaceStateChange.fire(s)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Uc}}function HC(a){var t,e;return"Up"===(null===(t=a.lookupKeybinding("history.showPrevious"))||void 0===t?void 0:t.getElectronAccelerator())&&"Down"===(null===(e=a.lookupKeybinding("history.showNext"))||void 0===e?void 0:e.getElectronAccelerator())}p(47009);const _S=(0,rr.q5)("find-selection",Zn.lA.selection,Me.N("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),zC=(0,rr.q5)("find-collapsed",Zn.lA.chevronRight,Me.N("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),UC=(0,rr.q5)("find-expanded",Zn.lA.chevronDown,Me.N("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),CS=(0,rr.q5)("find-replace",Zn.lA.replace,Me.N("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),bS=(0,rr.q5)("find-replace-all",Zn.lA.replaceAll,Me.N("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),vS=(0,rr.q5)("find-previous-match",Zn.lA.arrowUp,Me.N("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),wS=(0,rr.q5)("find-next-match",Zn.lA.arrowDown,Me.N("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),yS=Me.N("label.find","Find"),SS=Me.N("placeholder.find","Find"),xS=Me.N("label.previousMatchButton","Previous Match"),LS=Me.N("label.nextMatchButton","Next Match"),MS=Me.N("label.toggleSelectionFind","Find in Selection"),DS=Me.N("label.closeButton","Close"),ES=Me.N("label.replace","Replace"),NS=Me.N("placeholder.replace","Replace"),IS=Me.N("label.replaceButton","Replace"),PS=Me.N("label.replaceAllButton","Replace All"),kS=Me.N("label.toggleReplaceButton","Toggle Replace"),OS=Me.N("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Uc),TS=Me.N("label.matchesLocation","{0} of {1}"),jC=Me.N("label.noResults","No results");let Ff=69;const KC="ctrlEnterReplaceAll.windows.donotask",$C=Ht.dz?256:2048;class n_{constructor(t){this.afterLineNumber=t,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function ZC(a,t,e){const n=!!t.match(/\n/);e&&n&&e.selectionStart>0&&a.stopPropagation()}function GC(a,t,e){const n=!!t.match(/\n/);e&&n&&e.selectionEnd<e.value.length&&a.stopPropagation()}let FS=(()=>{class a extends fa.${constructor(e,n,o,s,d,m,R,U,F){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=n,this._state=o,this._contextViewProvider=s,this._keybindingService=d,this._contextKeyService=m,this._storageService=U,this._notificationService=F,this._ctrlEnterReplaceAllWarningPrompted=!!U.getBoolean(KC,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new Hn.vp(500),this._register((0,At.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(q=>this._onStateChanged(q))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(q=>{if(q.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),q.hasChanged(131)&&this._tryUpdateWidgetWidth(),q.hasChanged(2)&&this.updateAccessibilitySupport(),q.hasChanged(35)){const _e=this._codeEditor.getOption(35).addExtraSpaceOnTop;_e&&!this._viewZone&&(this._viewZone=new n_(0),this._showViewZone()),!_e&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){let q=yield this._controller.getGlobalBufferTerm();q&&q!==this._state.searchString&&(this._state.change({searchString:q},!1),this._findInput.select())}}))),this._findInputFocused=Om.bindTo(m),this._findFocusTracker=this._register(rt.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=t_.bindTo(m),this._replaceFocusTracker=this._register(rt.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new n_(0)),this._applyTheme(R.getColorTheme()),this._register(R.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(q=>{q.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return a.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=rt.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(e.searchString||e.matchesCount||e.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Yn.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=Ff+"px",this._matchesCount.title=this._state.matchesCount>=Uc?OS:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let n=String(this._state.matchesCount);this._state.matchesCount>=Uc&&(n+="+");let o=String(this._state.matchesPosition);"0"===o&&(o="?"),e=In.WU(TS,o,n)}else e=jC;this._matchesCount.appendChild(document.createTextNode(e)),(0,Es.Z9)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Ff=Math.max(Ff,this._matchesCount.clientWidth)}_getAriaLabel(e,n,o){if(e===jC)return""===o?Me.N("ariaSearchNoResultEmpty","{0} found",e):Me.N("ariaSearchNoResult","{0} found for '{1}'",e,o);if(n){const s=Me.N("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,o,n.startLineNumber+":"+n.startColumn),d=this._codeEditor.getModel();return d&&n.startLineNumber<=d.getLineCount()&&n.startLineNumber>=1?`${d.getLineContent(n.startLineNumber)}, ${s}`:s}return Me.N("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,o)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,n=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&n&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&n&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let o=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&o)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!e&&e.startLineNumber!==e.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let n=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&e){const o=this._codeEditor.getDomNode();if(o){const s=rt.i(o),d=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),m=s.left+(d?d.left:0),R=d?d.top:0;if(this._viewZone&&R<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(n=!1);const U=rt.xQ(this._domNode).left;m>U&&(n=!1);const F=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());s.left+(F?F.left:0)>U&&(n=!1)}}}this._showViewZone(n)}}_hide(e){this._revealTimeouts.forEach(n=>{clearTimeout(n)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const o=this._viewZone;void 0!==this._viewZoneId||!o||this._codeEditor.changeViewZones(s=>{o.heightInPx=this._getHeight(),this._viewZoneId=s.addZone(o),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+o.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new n_(0));const o=this._viewZone;this._codeEditor.changeViewZones(s=>{if(void 0!==this._viewZoneId){const d=this._getHeight();if(d===o.heightInPx)return;let m=d-o.heightInPx;return o.heightInPx=d,s.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+m))}{let d=this._getHeight();if(d-=this._codeEditor.getOption(75).top,d<=0)return;o.heightInPx=d,this._viewZoneId=s.addZone(o),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+d)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let n={inputActiveOptionBorder:e.getColor(l.PRb),inputActiveOptionBackground:e.getColor(l.XEs),inputActiveOptionForeground:e.getColor(l.Pvw),inputBackground:e.getColor(l.sEe),inputForeground:e.getColor(l.zJb),inputBorder:e.getColor(l.dt_),inputValidationInfoBackground:e.getColor(l._lC),inputValidationInfoForeground:e.getColor(l.YI3),inputValidationInfoBorder:e.getColor(l.EPQ),inputValidationWarningBackground:e.getColor(l.RV_),inputValidationWarningForeground:e.getColor(l.SUG),inputValidationWarningBorder:e.getColor(l.C3g),inputValidationErrorBackground:e.getColor(l.paE),inputValidationErrorForeground:e.getColor(l._t9),inputValidationErrorBorder:e.getColor(l.OZR)};this._findInput.style(n),this._replaceInput.style(n),this._toggleSelectionFind.style(n)}_tryUpdateWidgetWidth(){if(!this._isVisible||!rt.Uw(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const o=e.width,s=e.minimap.minimapWidth;let d=!1,m=!1,R=!1;if(this._resized&&rt.w(this._domNode)>419)return this._domNode.style.maxWidth=o-28-s-15+"px",void(this._replaceInput.width=rt.w(this._findInput.domNode));if(447+s>=o&&(m=!0),447+s-Ff>=o&&(R=!0),447+s-Ff>=o+50&&(d=!0),this._domNode.classList.toggle("collapsed-find-widget",d),this._domNode.classList.toggle("narrow-find-widget",R),this._domNode.classList.toggle("reduced-find-widget",m),!R&&!d&&(this._domNode.style.maxWidth=o-28-s-15+"px"),this._resized){this._findInput.inputBox.layout();let U=this._findInput.inputBox.element.clientWidth;U>0&&(this._replaceInput.width=U)}else this._isReplaceVisible&&(this._replaceInput.width=rt.w(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(n=>(1===n.endColumn&&n.endLineNumber>n.startLineNumber&&(n=n.setEndPosition(n.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(n.endLineNumber-1))),n.startLineNumber===n.endLineNumber||It.e.equalsRange(n,this._state.currentMatch)?null:n)).filter(n=>!!n),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|$C)?(this._keybindingService.dispatchEvent(e,e.target)||this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?ZC(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?GC(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|$C)?(this._keybindingService.dispatchEvent(e,e.target)||(Ht.ED&&Ht.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Me.N("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(KC,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?ZC(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?GC(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let n=this._keybindingService.lookupKeybinding(e);return n?` (${n.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new E0(null,this._contextViewProvider,{width:221,label:yS,placeholder:SS,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:U=>{if(0===U.length||!this._findInput.getRegex())return null;try{return new RegExp(U,"gu"),null}catch(F){return{content:F.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>HC(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(U=>this._onFindInputKeyDown(U))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(U=>{U.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),U.preventDefault())})),this._register(this._findInput.onRegexKeyDown(U=>{U.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),U.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(U=>{this._tryUpdateHeight()&&this._showViewZone()})),Ht.IJ&&this._register(this._findInput.onMouseDown(U=>this._onFindInputMouseDown(U))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new oh({label:xS+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:vS,onTrigger:()=>{this._codeEditor.getAction("editor.action.previousMatchFindAction").run().then(void 0,Yn.dL)}})),this._nextBtn=this._register(new oh({label:LS+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:wS,onTrigger:()=>{this._codeEditor.getAction("editor.action.nextMatchFindAction").run().then(void 0,Yn.dL)}}));let o=document.createElement("div");o.className="find-part",o.appendChild(this._findInput.domNode);const s=document.createElement("div");s.className="find-actions",o.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Ef({icon:_S,title:MS+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let U=this._codeEditor.getSelections();U.map(F=>(1===F.endColumn&&F.endLineNumber>F.startLineNumber&&(F=F.setEndPosition(F.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(F.endLineNumber-1))),F.isEmpty()?null:F)).filter(F=>!!F),U.length&&this._state.change({searchScope:U},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new oh({label:DS+this._keybindingLabelFor("closeFindWidget"),icon:rr.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:U=>{U.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),U.preventDefault())}})),s.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new N0(null,void 0,{label:ES,placeholder:NS,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>HC(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(U=>this._onReplaceInputKeyDown(U))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(U=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(U=>{U.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),U.preventDefault())})),this._replaceBtn=this._register(new oh({label:IS+this._keybindingLabelFor("editor.action.replaceOne"),icon:CS,onTrigger:()=>{this._controller.replace()},onKeyDown:U=>{U.equals(1026)&&(this._closeBtn.focus(),U.preventDefault())}})),this._replaceAllBtn=this._register(new oh({label:PS+this._keybindingLabelFor("editor.action.replaceAll"),icon:bS,onTrigger:()=>{this._controller.replaceAll()}}));let d=document.createElement("div");d.className="replace-part",d.appendChild(this._replaceInput.domNode);const m=document.createElement("div");m.className="replace-actions",d.appendChild(m),m.appendChild(this._replaceBtn.domNode),m.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new oh({label:kS,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=rt.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(o),this._domNode.appendChild(d),this._resizeSash=new ol.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let R=419;this._register(this._resizeSash.onDidStart(()=>{R=rt.w(this._domNode)})),this._register(this._resizeSash.onDidChange(U=>{this._resized=!0;let F=R+U.startX-U.currentX;F<419||F>(parseFloat(rt.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${F}px`,this._isReplaceVisible&&(this._replaceInput.width=rt.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const U=rt.w(this._domNode);if(U<419)return;let F=419;if(!this._resized||419===U){const q=this._codeEditor.getLayoutInfo();F=q.width-28-q.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${F}px`,this._isReplaceVisible&&(this._replaceInput.width=rt.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}return a.ID="editor.contrib.findWidget",a})();class oh extends fa.${constructor(t){super(),this._opts=t;let e="button";this._opts.className&&(e=e+" "+this._opts.className),this._opts.icon&&(e=e+" "+_.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=e,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,n=>{this._opts.onTrigger(),n.preventDefault()}),this.onkeydown(this._domNode,n=>{if(n.equals(10)||n.equals(3))return this._opts.onTrigger(),void n.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(n)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(t){this._domNode.classList.toggle("disabled",!t),this._domNode.setAttribute("aria-disabled",String(!t)),this._domNode.tabIndex=t?0:-1}setExpanded(t){this._domNode.setAttribute("aria-expanded",String(!!t)),t?(this._domNode.classList.remove(..._.kS.asClassNameArray(zC)),this._domNode.classList.add(..._.kS.asClassNameArray(UC))):(this._domNode.classList.remove(..._.kS.asClassNameArray(UC)),this._domNode.classList.add(..._.kS.asClassNameArray(zC)))}}(0,_.Ic)((a,t)=>{const e=(Ke,ct)=>{ct&&t.addRule(`.monaco-editor ${Ke} { background-color: ${ct}; }`)};e(".findMatch",a.getColor(l.MUv)),e(".currentFindMatch",a.getColor(l.nyM)),e(".findScope",a.getColor(l.jUe)),e(".find-widget",a.getColor(l.D0T));const o=a.getColor(l.rh);o&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${o}; }`);const s=a.getColor(l.EiJ);s&&t.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===a.type?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const d=a.getColor(l.pnM);d&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${d}; padding: 1px; box-sizing: border-box; }`);const m=a.getColor(l.gkn);m&&t.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===a.type?"dashed":"solid"} ${m}; }`);const R=a.getColor(l.lRK);R&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${R}; }`);const U=a.getColor(l.Hfx);U&&t.addRule(`.monaco-editor .find-widget { color: ${U}; }`);const F=a.getColor(l.Ido);F&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${F}; }`);const q=a.getColor(l.Ng6);if(q)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${q}; }`);else{const Ke=a.getColor(l.D1_);Ke&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Ke}; }`)}const _e=a.getColor(l.lUq);_e&&t.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${_e} !important;\n\t\t}\n\t`);const De=a.getColor(l.R80);De&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${De}; }`)});var QC=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},hl=function(a,t){return function(e,n){t(e,n,a)}},Ud=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};function i_(a,t="single",e=!1){if(!a.hasModel())return null;const n=a.getSelection();if("single"===t&&n.startLineNumber===n.endLineNumber||"multiple"===t)if(n.isEmpty()){const o=a.getConfiguredWordAtPosition(n.getStartPosition());if(o&&!1===e)return o.word}else if(a.getModel().getValueLengthInRange(n)<524288)return a.getModel().getValueInRange(n);return null}let Rr=class _w extends At.JT{constructor(t,e,n,o){super(),this._editor=t,this._findWidgetVisible=zc.bindTo(e),this._contextKeyService=e,this._storageService=n,this._clipboardService=o,this._updateHistoryDelayer=new Hn.vp(500),this._state=this._register(new mS),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let s=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),s&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(t){return t.getContribution(_w.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(t){this.saveQueryState(t),t.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),t.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(t){t.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),t.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),t.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),t.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!Om.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let t=this._editor.getSelections();t.map(e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e)).filter(e=>!!e),t.length&&this._state.change({searchScope:t},!0)}}setSearchString(t){this._state.isRegex&&(t=In.ec(t)),this._state.change({searchString:t},!1)}highlightFindOptions(t=!1){}_start(t,e){return Ud(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let n=Object.assign(Object.assign({},e),{isRevealed:!0});if("single"===t.seedSearchStringFromSelection){let o=i_(this._editor,t.seedSearchStringFromSelection,t.seedSearchStringFromNonEmptySelection);o&&(n.searchString=this._state.isRegex?In.ec(o):o)}else if("multiple"===t.seedSearchStringFromSelection&&!t.updateSearchScope){let o=i_(this._editor,t.seedSearchStringFromSelection);o&&(n.searchString=o)}if(!n.searchString&&t.seedSearchStringFromGlobalClipboard){let o=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;o&&(n.searchString=o)}if(t.forceRevealReplace||n.isReplaceRevealed?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),t.updateSearchScope){let o=this._editor.getSelections();o.some(s=>!s.isEmpty())&&(n.searchScope=o)}n.loop=t.loop,this._state.change(n,!1),this._model||(this._model=new Rf(this._editor,this._state))})}start(t,e){return this._start(t,e)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return Ud(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(t){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(t)}};Rr.ID="editor.contrib.findController",Rr=QC([hl(1,Qt.i6),hl(2,rs.Uy),hl(3,On.p)],Rr);let o_=class extends Rr{constructor(t,e,n,o,s,d,m,R){super(t,n,m,R),this._contextViewService=e,this._keybindingService=o,this._themeService=s,this._notificationService=d,this._widget=null,this._findOptionsWidget=null}_start(t,e){const n=Object.create(null,{_start:{get:()=>super._start}});return Ud(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const o=this._editor.getSelection();let s=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":s=!0;break;case"never":s=!1;break;case"multiline":s=!!o&&o.startLineNumber!==o.endLineNumber}t.updateSearchScope=t.updateSearchScope||s,yield n._start.call(this,t,e),this._widget&&(2===t.shouldFocus?this._widget.focusReplaceInput():1===t.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(t=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!t?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new FS(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new gS(this._editor,this._state,this._keybindingService,this._themeService))}};o_=QC([hl(1,Rl.u),hl(2,Qt.i6),hl(3,Xo.d),hl(4,_.XE),hl(5,gs.lT),hl(6,rs.Uy),hl(7,On.p)],o_),(0,Xe.rn)(new Xe.jY({id:"actions.find",label:Me.N("startFindAction","Find"),alias:"Find",precondition:Qt.Ao.or(pt.u.focus,Qt.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:r.eH.MenubarEditMenu,group:"3_find",title:Me.N({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(a,t,e)=>{const n=Rr.get(t);return!!n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop})});const WS={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:Me.N("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:Me.N("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:Me.N("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:Me.N("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class YC extends Xe.R6{run(t,e){return Ud(this,void 0,void 0,function*(){const n=Rr.get(e);n&&!this._run(n)&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===n.getState().searchString.length&&"never"!==e.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===e.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}),this._run(n))})}}class JC extends Xe.R6{run(t,e){return Ud(this,void 0,void 0,function*(){const n=Rr.get(e);if(!n)return;const o="selection"===e.getOption(35).seedSearchStringFromSelection;let s=null;"never"!==e.getOption(35).seedSearchStringFromSelection&&(s=i_(e,"single",o)),s&&n.setSearchString(s),this._run(n)||(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==e.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:o,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}),this._run(n))})}}(0,Xe.rn)(new Xe.jY({id:"editor.action.startFindReplaceAction",label:Me.N("startReplace","Replace"),alias:"Replace",precondition:Qt.Ao.or(pt.u.focus,Qt.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:r.eH.MenubarEditMenu,group:"3_find",title:Me.N({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(a,t,e)=>{if(!t.hasModel()||t.getOption(81))return!1;const n=Rr.get(t);if(!n)return!1;const o=t.getSelection(),s=n.isFindInputFocused(),d=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&"never"!==t.getOption(35).seedSearchStringFromSelection&&!s,m=s||d?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:d?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(35).seedSearchStringFromSelection,shouldFocus:m,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(35).loop})}),(0,Xe._K)(Rr.ID,o_),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.actions.findWithArgs",label:Me.N("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:WS})}run(t,e,n){return Ud(this,void 0,void 0,function*(){const o=Rr.get(e);if(o){const s=n?{searchString:n.searchString,replaceString:n.replaceString,isReplaceRevealed:void 0!==n.replaceString,isRegex:n.isRegex,wholeWord:n.matchWholeWord,matchCase:n.isCaseSensitive,preserveCase:n.preserveCase}:{};yield o.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===o.getState().searchString.length&&"never"!==e.getOption(35).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===e.getOption(35).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(null==n?void 0:n.findInSelection)||!1,loop:e.getOption(35).loop},s),o.setGlobalBufferTerm(o.getState().searchString)}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"actions.findWithSelection",label:Me.N("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(t,e){return Ud(this,void 0,void 0,function*(){const n=Rr.get(e);n&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(35).loop}),n.setGlobalBufferTerm(n.getState().searchString))})}}),(0,Xe.Qr)(class extends YC{constructor(){super({id:"editor.action.nextMatchFindAction",label:Me.N("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:pt.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Qt.Ao.and(pt.u.focus,Om),primary:3,weight:100}]})}_run(t){return!!t.moveToNextMatch()&&(t.editor.pushUndoStop(),!0)}}),(0,Xe.Qr)(class extends YC{constructor(){super({id:"editor.action.previousMatchFindAction",label:Me.N("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:pt.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Qt.Ao.and(pt.u.focus,Om),primary:1027,weight:100}]})}_run(t){return t.moveToPrevMatch()}}),(0,Xe.Qr)(class extends JC{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:Me.N("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:2109,weight:100}})}_run(t){return t.moveToNextMatch()}}),(0,Xe.Qr)(class extends JC{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:Me.N("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:3133,weight:100}})}_run(t){return t.moveToPrevMatch()}});const Wa=Xe._l.bindToContribution(Rr.get);(0,Xe.fK)(new Wa({id:"closeFindWidget",precondition:zc,handler:a=>a.closeFindWidget(),kbOpts:{weight:105,kbExpr:Qt.Ao.and(pt.u.focus,Qt.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,Xe.fK)(new Wa({id:"toggleFindCaseSensitive",precondition:void 0,handler:a=>a.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:pt.u.focus,primary:Tm.primary,mac:Tm.mac,win:Tm.win,linux:Tm.linux}})),(0,Xe.fK)(new Wa({id:"toggleFindWholeWord",precondition:void 0,handler:a=>a.toggleWholeWords(),kbOpts:{weight:105,kbExpr:pt.u.focus,primary:Am.primary,mac:Am.mac,win:Am.win,linux:Am.linux}})),(0,Xe.fK)(new Wa({id:"toggleFindRegex",precondition:void 0,handler:a=>a.toggleRegex(),kbOpts:{weight:105,kbExpr:pt.u.focus,primary:Rm.primary,mac:Rm.mac,win:Rm.win,linux:Rm.linux}})),(0,Xe.fK)(new Wa({id:"toggleFindInSelection",precondition:void 0,handler:a=>a.toggleSearchScope(),kbOpts:{weight:105,kbExpr:pt.u.focus,primary:Fm.primary,mac:Fm.mac,win:Fm.win,linux:Fm.linux}})),(0,Xe.fK)(new Wa({id:"togglePreserveCase",precondition:void 0,handler:a=>a.togglePreserveCase(),kbOpts:{weight:105,kbExpr:pt.u.focus,primary:Bm.primary,mac:Bm.mac,win:Bm.win,linux:Bm.linux}})),(0,Xe.fK)(new Wa({id:"editor.action.replaceOne",precondition:zc,handler:a=>a.replace(),kbOpts:{weight:105,kbExpr:pt.u.focus,primary:3094}})),(0,Xe.fK)(new Wa({id:"editor.action.replaceOne",precondition:zc,handler:a=>a.replace(),kbOpts:{weight:105,kbExpr:Qt.Ao.and(pt.u.focus,t_),primary:3}})),(0,Xe.fK)(new Wa({id:"editor.action.replaceAll",precondition:zc,handler:a=>a.replaceAll(),kbOpts:{weight:105,kbExpr:pt.u.focus,primary:2563}})),(0,Xe.fK)(new Wa({id:"editor.action.replaceAll",precondition:zc,handler:a=>a.replaceAll(),kbOpts:{weight:105,kbExpr:Qt.Ao.and(pt.u.focus,t_),primary:void 0,mac:{primary:2051}}})),(0,Xe.fK)(new Wa({id:"editor.action.selectAllMatches",precondition:zc,handler:a=>a.selectAllMatches(),kbOpts:{weight:105,kbExpr:pt.u.focus,primary:515}})),p(45618);const nc=16777215,qC=4278190080;class Bf{constructor(t,e,n){if(t.length!==e.length||t.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=t,this._endIndexes=e,this._collapseStates=new Uint32Array(Math.ceil(t.length/32)),this._types=n,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let t=[],e=(n,o)=>{let s=t[t.length-1];return this.getStartLineNumber(s)<=n&&this.getEndLineNumber(s)>=o};for(let n=0,o=this._startIndexes.length;n<o;n++){let s=this._startIndexes[n],d=this._endIndexes[n];if(s>nc||d>nc)throw new Error("startLineNumber or endLineNumber must not exceed "+nc);for(;t.length>0&&!e(s,d);)t.pop();let m=t.length>0?t[t.length-1]:-1;t.push(n),this._startIndexes[n]=s+((255&m)<<24),this._endIndexes[n]=d+((65280&m)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(t){return this._startIndexes[t]&nc}getEndLineNumber(t){return this._endIndexes[t]&nc}getType(t){return this._types?this._types[t]:void 0}hasTypes(){return!!this._types}isCollapsed(t){return 0!=(this._collapseStates[t/32|0]&1<<t%32)}setCollapsed(t,e){let n=t/32|0,o=t%32,s=this._collapseStates[n];this._collapseStates[n]=e?s|1<<o:s&~(1<<o)}setCollapsedAllOfType(t,e){let n=!1;if(this._types)for(let o=0;o<this._types.length;o++)this._types[o]===t&&(this.setCollapsed(o,e),n=!0);return n}toRegion(t){return new $S(this,t)}getParentIndex(t){this.ensureParentIndices();let e=((this._startIndexes[t]&qC)>>>24)+((this._endIndexes[t]&qC)>>>16);return 65535===e?-1:e}contains(t,e){return this.getStartLineNumber(t)<=e&&this.getEndLineNumber(t)>=e}findIndex(t){let e=0,n=this._startIndexes.length;if(0===n)return-1;for(;e<n;){let o=Math.floor((e+n)/2);t<this.getStartLineNumber(o)?n=o:e=o+1}return e-1}findRange(t){let e=this.findIndex(t);if(e>=0){if(this.getEndLineNumber(e)>=t)return e;for(e=this.getParentIndex(e);-1!==e;){if(this.contains(e,t))return e;e=this.getParentIndex(e)}}return-1}toString(){let t=[];for(let e=0;e<this.length;e++)t[e]=`[${this.isCollapsed(e)?"+":"-"}] ${this.getStartLineNumber(e)}/${this.getEndLineNumber(e)}`;return t.join(", ")}}class $S{constructor(t,e){this.ranges=t,this.index=e}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(t){return t.startLineNumber<=this.startLineNumber&&t.endLineNumber>=this.endLineNumber}containsLine(t){return this.startLineNumber<=t&&t<=this.endLineNumber}}class ZS{constructor(t,e){this._updateEventEmitter=new zn.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=t,this._decorationProvider=e,this._regions=new Bf(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(t){if(!t.length)return;t=t.sort((n,o)=>n.regionIndex-o.regionIndex);const e={};this._decorationProvider.changeDecorations(n=>{let o=0,s=-1,d=-1;const m=R=>{for(;o<R;){const U=this._regions.getEndLineNumber(o),F=this._regions.isCollapsed(o);U<=s&&n.changeDecorationOptions(this._editorDecorationIds[o],this._decorationProvider.getDecorationOption(F,U<=d)),F&&U>d&&(d=U),o++}};for(let R of t){let U=R.regionIndex,F=this._editorDecorationIds[U];if(F&&!e[F]){e[F]=!0,m(U);let q=!this._regions.isCollapsed(U);this._regions.setCollapsed(U,q),s=Math.max(s,this._regions.getEndLineNumber(U))}}m(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:t})}update(t,e=[]){let n=[],s=-1,d=(q,_e)=>{const De=t.getStartLineNumber(q),Ke=t.getEndLineNumber(q);_e||(_e=t.isCollapsed(q)),_e&&((q,_e)=>{for(let De of e)if(q<De&&De<=_e)return!0;return!1})(De,Ke)&&(_e=!1),t.setCollapsed(q,_e);const ct=this._textModel.getLineMaxColumn(De),Tt={startLineNumber:De,startColumn:Math.max(ct-1,1),endLineNumber:De,endColumn:ct};n.push({range:Tt,options:this._decorationProvider.getDecorationOption(_e,Ke<=s)}),_e&&Ke>s&&(s=Ke)},m=0,R=()=>{for(;m<this._regions.length;){let q=this._regions.isCollapsed(m);if(m++,q)return m-1}return-1},U=0,F=R();for(;-1!==F&&U<t.length;){let q=this._textModel.getDecorationRange(this._editorDecorationIds[F]);if(q){let _e=q.startLineNumber;if(q.startColumn===Math.max(q.endColumn-1,1)&&this._textModel.getLineMaxColumn(_e)===q.endColumn)for(;U<t.length;){let De=t.getStartLineNumber(U);if(!(_e>=De))break;d(U,_e===De),U++}}F=R()}for(;U<t.length;)d(U,!1),U++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,n),this._regions=t,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let t=[];for(let e=0;e<this._regions.length;e++)if(this._regions.isCollapsed(e)){let n=this._textModel.getDecorationRange(this._editorDecorationIds[e]);if(n){let o=n.startLineNumber,s=n.endLineNumber+this._regions.getEndLineNumber(e)-this._regions.getStartLineNumber(e);t.push({startLineNumber:o,endLineNumber:s})}}if(t.length>0)return t}applyMemento(t){if(!Array.isArray(t))return;let e=[];for(let n of t){let o=this.getRegionAtLine(n.startLineNumber);o&&!o.isCollapsed&&e.push(o)}this.toggleCollapseState(e)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(t,e){let n=[];if(this._regions){let o=this._regions.findRange(t),s=1;for(;o>=0;){let d=this._regions.toRegion(o);(!e||e(d,s))&&n.push(d),s++,o=d.parentIndex}}return n}getRegionAtLine(t){if(this._regions){let e=this._regions.findRange(t);if(e>=0)return this._regions.toRegion(e)}return null}getRegionsInside(t,e){let n=[],o=t?t.regionIndex+1:0,s=t?t.endLineNumber:Number.MAX_VALUE;if(e&&2===e.length){const d=[];for(let m=o,R=this._regions.length;m<R;m++){let U=this._regions.toRegion(m);if(!(this._regions.getStartLineNumber(m)<s))break;for(;d.length>0&&!U.containedBy(d[d.length-1]);)d.pop();d.push(U),e(U,d.length)&&n.push(U)}}else for(let d=o,m=this._regions.length;d<m;d++){let R=this._regions.toRegion(d);if(!(this._regions.getStartLineNumber(d)<s))break;(!e||e(R))&&n.push(R)}return n}}function sh(a,t,e=Number.MAX_VALUE,n){let o=[];if(n&&n.length>0)for(let s of n){let d=a.getRegionAtLine(s);if(d&&(d.isCollapsed!==t&&o.push(d),e>1)){let m=a.getRegionsInside(d,(R,U)=>R.isCollapsed!==t&&U<e);o.push(...m)}}else{let s=a.getRegionsInside(null,(d,m)=>d.isCollapsed!==t&&m<e);o.push(...s)}a.toggleCollapseState(o)}function eb(a,t,e,n){let o=[];for(let s of n){let d=a.getAllRegionsAtLine(s,(m,R)=>m.isCollapsed!==t&&R<=e);o.push(...d)}a.toggleCollapseState(o)}function tb(a,t,e){let n=[];for(let d of e){const m=a.getAllRegionsAtLine(d,void 0);m.length>0&&n.push(m[0])}let s=a.getRegionsInside(null,d=>n.every(m=>!m.containedBy(d)&&!d.containedBy(m))&&d.isCollapsed!==t);a.toggleCollapseState(s)}function s_(a,t,e){let n=a.textModel,o=a.regions,s=[];for(let d=o.length-1;d>=0;d--)if(e!==o.isCollapsed(d)){let m=o.getStartLineNumber(d);t.test(n.getLineContent(m))&&s.push(o.toRegion(d))}a.toggleCollapseState(s)}function r_(a,t,e){let n=a.regions,o=[];for(let s=n.length-1;s>=0;s--)e!==n.isCollapsed(s)&&t===n.getType(s)&&o.push(n.toRegion(s));a.toggleCollapseState(o)}var ex=p(34048);class tx{constructor(t){this._updateEventEmitter=new zn.Q5,this._hasLineChanges=!1,this._foldingModel=t,this._foldingModelListener=t.onDidChange(e=>this.updateHiddenRanges()),this._hiddenRanges=[],t.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(t){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=t.changes.some(e=>e.range.endLineNumber!==e.range.startLineNumber||0!==(0,ex.Q)(e.text)[0]))}updateHiddenRanges(){let t=!1,e=[],n=0,o=0,s=Number.MAX_VALUE,d=-1,m=this._foldingModel.regions;for(;n<m.length;n++){if(!m.isCollapsed(n))continue;let R=m.getStartLineNumber(n)+1,U=m.getEndLineNumber(n);s<=R&&U<=d||(!t&&o<this._hiddenRanges.length&&this._hiddenRanges[o].startLineNumber===R&&this._hiddenRanges[o].endLineNumber===U?(e.push(this._hiddenRanges[o]),o++):(t=!0,e.push(new It.e(R,1,U,1))),s=R,d=U)}(this._hasLineChanges||t||o<this._hiddenRanges.length)&&this.applyHiddenRanges(e)}applyMemento(t){if(!Array.isArray(t)||0===t.length)return!1;let e=[];for(let n of t){if(!n.startLineNumber||!n.endLineNumber)return!1;e.push(new It.e(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(e),!0}getMemento(){return this._hiddenRanges.map(t=>({startLineNumber:t.startLineNumber-1,endLineNumber:t.endLineNumber}))}applyHiddenRanges(t){this._hiddenRanges=t,this._hasLineChanges=!1,this._updateEventEmitter.fire(t)}hasRanges(){return this._hiddenRanges.length>0}isHidden(t){return null!==nb(this._hiddenRanges,t)}adjustSelections(t){let e=!1,n=this._foldingModel.textModel,o=null,s=d=>((!o||!function(a,t){return a>=t.startLineNumber&&a<=t.endLineNumber}(d,o))&&(o=nb(this._hiddenRanges,d)),o?o.startLineNumber-1:null);for(let d=0,m=t.length;d<m;d++){let R=t[d],U=s(R.startLineNumber);U&&(R=R.setStartPosition(U,n.getLineMaxColumn(U)),e=!0);let F=s(R.endLineNumber);F&&(R=R.setEndPosition(F,n.getLineMaxColumn(F)),e=!0),t[d]=R}return e}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function nb(a,t){let e=(0,po.lG)(a,n=>t<n.startLineNumber)-1;return e>=0&&a[e].endLineNumber>=t?a[e]:null}class sx{constructor(t,e,n){this.editorModel=t,this.languageConfigurationService=e,this.maxFoldingRegions=n,this.id="indent"}dispose(){}compute(t,e){let n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;return Promise.resolve(function(a,t,e,n,o){const s=a.getOptions().tabSize;let m,d=new rx(n=n??5e3,o);e&&(m=new RegExp(`(${e.start.source})|(?:${e.end.source})`));let R=[],U=a.getLineCount()+1;R.push({indent:-1,endAbove:U,line:U});for(let F=a.getLineCount();F>0;F--){let Ke,q=a.getLineContent(F),_e=(0,Gh.q)(q,s),De=R[R.length-1];if(-1!==_e){if(m&&(Ke=q.match(m))){if(!Ke[1]){R.push({indent:-2,endAbove:F,line:F});continue}{let ct=R.length-1;for(;ct>0&&-2!==R[ct].indent;)ct--;if(ct>0){R.length=ct+1,De=R[ct],d.insertFirst(F,De.line,_e),De.line=F,De.indent=_e,De.endAbove=F;continue}}}if(De.indent>_e){do{R.pop(),De=R[R.length-1]}while(De.indent>_e);let ct=De.endAbove-1;ct-F>=1&&d.insertFirst(F,ct,_e)}De.indent===_e?De.endAbove=F:R.push({indent:_e,endAbove:F,line:F})}else t&&(De.endAbove=F)}return d.toIndentRanges(a)}(this.editorModel,n&&!!n.offSide,n&&n.markers,this.maxFoldingRegions,e))}}class rx{constructor(t,e){this._notifyTooManyRegions=e,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=t}insertFirst(t,e,n){if(t>nc||e>nc)return;let o=this._length;this._startIndexes[o]=t,this._endIndexes[o]=e,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(t){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let o=this._length-1,s=0;o>=0;o--,s++)e[s]=this._startIndexes[o],n[s]=this._endIndexes[o];return new Bf(e,n)}{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let e=0,n=this._indentOccurrences.length;for(let m=0;m<this._indentOccurrences.length;m++){let R=this._indentOccurrences[m];if(R){if(R+e>this._foldingRangesLimit){n=m;break}e+=R}}const o=t.getOptions().tabSize;let s=new Uint32Array(this._foldingRangesLimit),d=new Uint32Array(this._foldingRangesLimit);for(let m=this._length-1,R=0;m>=0;m--){let U=this._startIndexes[m],F=t.getLineContent(U),q=(0,Gh.q)(F,o);(q<n||q===n&&e++<this._foldingRangesLimit)&&(s[R]=U,d[R]=this._endIndexes[m],R++)}return new Bf(s,d)}}}const lx={};class cx{constructor(t,e,n,o){this.editorModel=t,this.providers=e,this.limit=o,this.id="syntax";for(const s of e)"function"==typeof s.onDidChange&&(this.disposables||(this.disposables=new At.SL),this.disposables.add(s.onDidChange(n)))}compute(t,e){return function(a,t,e){let n=null,o=a.map((s,d)=>Promise.resolve(s.provideFoldingRanges(t,lx,e)).then(m=>{if(!e.isCancellationRequested&&Array.isArray(m)){Array.isArray(n)||(n=[]);let R=t.getLineCount();for(let U of m)U.start>0&&U.end>U.start&&U.end<=R&&n.push({start:U.start,end:U.end,rank:d,kind:U.kind})}},Yn.Cp));return Promise.all(o).then(s=>n)}(this.providers,this.editorModel,t).then(n=>n?ob(n,this.limit,e):null)}dispose(){var t;null===(t=this.disposables)||void 0===t||t.dispose()}}class ux{constructor(t,e){this._notifyTooManyRegions=e,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=t}add(t,e,n,o){if(t>nc||e>nc)return;let s=this._length;this._startIndexes[s]=t,this._endIndexes[s]=e,this._nestingLevels[s]=o,this._types[s]=n,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let t=new Uint32Array(this._length),e=new Uint32Array(this._length);for(let n=0;n<this._length;n++)t[n]=this._startIndexes[n],e[n]=this._endIndexes[n];return new Bf(t,e,this._types)}{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let t=0,e=this._nestingLevelCounts.length;for(let d=0;d<this._nestingLevelCounts.length;d++){let m=this._nestingLevelCounts[d];if(m){if(m+t>this._foldingRangesLimit){e=d;break}t+=m}}let n=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit),s=[];for(let d=0,m=0;d<this._length;d++){let R=this._nestingLevels[d];(R<e||R===e&&t++<this._foldingRangesLimit)&&(n[m]=this._startIndexes[d],o[m]=this._endIndexes[d],s[m]=this._types[d],m++)}return new Bf(n,o,s)}}}function ob(a,t,e){let s,n=a.sort((m,R)=>{let U=m.start-R.start;return 0===U&&(U=m.rank-R.rank),U}),o=new ux(t,e),d=[];for(let m of n)if(s){if(m.start>s.start)if(m.end<=s.end)d.push(s),s=m,o.add(m.start,m.end,m.kind&&m.kind.value,d.length);else{if(m.start>s.end){do{s=d.pop()}while(s&&m.start>s.end);s&&d.push(s),s=m}o.add(m.start,m.end,m.kind&&m.kind.value,d.length)}}else s=m,o.add(m.start,m.end,m.kind&&m.kind.value,d.length);return o.toIndentRanges()}class hx{constructor(t,e,n,o){if(this.editorModel=t,this.id="init",e.length){let s=d=>({range:{startLineNumber:d.startLineNumber,startColumn:0,endLineNumber:d.endLineNumber,endColumn:t.getLineLength(d.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=t.deltaDecorations([],e.map(s)),this.timeout=setTimeout(n,o)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(t){let e=[];if(this.decorationIds)for(let n of this.decorationIds){let o=this.editorModel.getDecorationRange(n);o&&e.push({start:o.startLineNumber,end:o.endLineNumber,rank:1})}return Promise.resolve(ob(e,Number.MAX_VALUE))}}const a_=(0,rr.q5)("folding-expanded",Zn.lA.chevronDown,(0,Me.N)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),l_=(0,rr.q5)("folding-collapsed",Zn.lA.chevronRight,(0,Me.N)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class Ca{constructor(t){this.editor=t,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(t,e){return e?Ca.HIDDEN_RANGE_DECORATION:t?this.showFoldingHighlights?Ca.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Ca.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?Ca.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Ca.EXPANDED_VISUAL_DECORATION}deltaDecorations(t,e){return this.editor.deltaDecorations(t,e)}changeDecorations(t){return this.editor.changeDecorations(t)}}Ca.COLLAPSED_VISUAL_DECORATION=qi.qx.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:_.kS.asClassName(l_)}),Ca.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=qi.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:_.kS.asClassName(l_)}),Ca.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=qi.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:_.kS.asClassName(a_)}),Ca.EXPANDED_VISUAL_DECORATION=qi.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+_.kS.asClassName(a_)}),Ca.HIDDEN_RANGE_DECORATION=qi.qx.register({description:"folding-hidden-range-decoration",stickiness:1});var Wf=function(a,t){return function(e,n){t(e,n,a)}};const ar=new Qt.uy("foldingEnabled",!1);let rh=class Cw extends At.JT{constructor(t,e,n,o,s,d){super(),this.contextKeyService=e,this.languageConfigurationService=n,this.languageFeaturesService=d,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new At.SL),this.editor=t;const m=this.editor.getOptions();this._isEnabled=m.get(37),this._useFoldingProviders="indentation"!==m.get(38),this._unfoldOnClickAfterEndOfLine=m.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=m.get(40),this._maxFoldingRegions=m.get(41),this.updateDebounceInfo=s.for(d.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new Ca(t),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===m.get(99),this.foldingDecorationProvider.showFoldingHighlights=m.get(39),this.foldingEnabled=ar.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=R=>{this._tooManyRegionsNotified||(o.notify({severity:Xu.Z.Warning,sticky:!0,message:Me.N("maximum fold ranges","The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",R)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(R=>{if(R.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),R.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),R.hasChanged(99)||R.hasChanged(39)){const U=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===U.get(99),this.foldingDecorationProvider.showFoldingHighlights=U.get(39),this.triggerFoldingModelChanged()}R.hasChanged(38)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(38),this.onFoldingStrategyChanged()),R.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),R.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(t){return t.getContribution(Cw.ID)}saveViewState(){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization())return{};if(this.foldingModel){let e=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:e,lineCount:t.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(t){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization()||!this.hiddenRangeModel||!t||t.lineCount!==e.getLineCount()||(this._currentModelHasFoldedImports=!!t.foldedImports,!t.collapsedRegions))return;("syntax"===t.provider||"init"===t.provider)&&(this.foldingStateMemento=t);const n=t.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){const o=this.getFoldingModel();o&&o.then(s=>{if(s){this._restoringViewState=!0;try{s.applyMemento(n)}finally{this._restoringViewState=!1}}}).then(void 0,Yn.dL)}}onModelChanged(){this.localToDispose.clear();let t=this.editor.getModel();!this._isEnabled||!t||t.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new ZS(t,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new tx(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(e=>this.onHiddenRangesChanges(e))),this.updateScheduler=new Hn.vp(this.updateDebounceInfo.get(t)),this.cursorChangedScheduler=new Hn.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(e=>this.onDidChangeModelContent(e))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(e=>this.onEditorMouseDown(e))),this.localToDispose.add(this.editor.onMouseUp(e=>this.onEditorMouseUp(e))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(t){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new sx(t,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let e=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);if(0===e.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new hx(t,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);e.length>0&&(this.rangeProvider=new cx(t,e,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(t){var e;null===(e=this.hiddenRangeModel)||void 0===e||e.notifyChangeModelContent(t),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const t=this.foldingModel;if(!t)return null;const e=new Xr.G(!0),n=this.getRangeProvider(t.textModel);let o=this.foldingRegionPromise=(0,Hn.PG)(s=>n.compute(s,this._notifyTooManyRegions));return o.then(s=>{if(s&&o===this.foldingRegionPromise){let d;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const F=s.setCollapsedAllOfType(Ji.AD.Imports.value,!0);F&&(d=Pc.Z.capture(this.editor),this._currentModelHasFoldedImports=F)}let m=this.editor.getSelections(),R=m?m.map(F=>F.startLineNumber):[];t.update(s,R),d&&d.restore(this.editor);const U=this.updateDebounceInfo.update(t.textModel,e.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=U)}return t})}).then(void 0,t=>((0,Yn.dL)(t),null)))}onHiddenRangesChanges(t){if(this.hiddenRangeModel&&t.length&&!this._restoringViewState){let e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(t)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const t=this.getFoldingModel();!t||t.then(e=>{if(e){let n=this.editor.getSelections();if(n&&n.length>0){let o=[];for(let s of n){let d=s.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(d)&&o.push(...e.getAllRegionsAtLine(d,m=>m.isCollapsed&&d>m.startLineNumber))}o.length&&(e.toggleCollapseState(o),this.reveal(n[0].getPosition()))}}}).then(void 0,Yn.dL)}onEditorMouseDown(t){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!t.target||!t.target.range||!t.event.leftButton&&!t.event.middleButton)return;const e=t.target.range;let n=!1;switch(t.target.type){case 4:if(t.target.detail.offsetX-t.target.element.offsetLeft<5)return;n=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!t.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){let o=this.editor.getModel();if(o&&e.startColumn===o.getLineMaxColumn(e.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:e.startLineNumber,iconClicked:n}}onEditorMouseUp(t){const e=this.getFoldingModel();if(!e||!this.mouseDownInfo||!t.target)return;let n=this.mouseDownInfo.lineNumber,o=this.mouseDownInfo.iconClicked,s=t.target.range;if(s&&s.startLineNumber===n){if(o){if(4!==t.target.type)return}else{let d=this.editor.getModel();if(!d||s.startColumn!==d.getLineMaxColumn(n))return}e.then(d=>{if(d){let m=d.getRegionAtLine(n);if(m&&m.startLineNumber===n){let R=m.isCollapsed;if(o||R){let F=[];if(t.event.altKey){let _e=d.getRegionsInside(null,De=>!De.containedBy(m)&&!m.containedBy(De));for(const De of _e)De.isCollapsed&&F.push(De);0===F.length&&(F=_e)}else{let q=t.event.middleButton||t.event.shiftKey;if(q)for(const _e of d.getRegionsInside(m))_e.isCollapsed===R&&F.push(_e);(R||!q||0===F.length)&&F.push(m)}d.toggleCollapseState(F),this.reveal({lineNumber:n,column:1})}}}}).then(void 0,Yn.dL)}}reveal(t){this.editor.revealPositionInCenterIfOutsideViewport(t,0)}};rh.ID="editor.contrib.folding",rh=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Wf(1,Qt.i6),Wf(2,jo.c_),Wf(3,gs.lT),Wf(4,Ir.A),Wf(5,wi.p)],rh);class Cr extends Xe.R6{runEditorCommand(t,e,n){const o=t.get(jo.c_),s=rh.get(e);if(!s)return;const d=s.getFoldingModel();return d?(this.reportTelemetry(t,e),d.then(m=>{if(m){this.invoke(s,m,e,n,o);const R=e.getSelection();R&&s.reveal(R.getStartPosition())}})):void 0}getSelectedLines(t){let e=t.getSelections();return e?e.map(n=>n.startLineNumber):[]}getLineNumbers(t,e){return t&&t.selectionLines?t.selectionLines.map(n=>n+1):this.getSelectedLines(e)}run(t,e){}}function rb(a){if(!Ki.o8(a)){if(!Ki.Kn(a))return!1;const t=a;if(!Ki.o8(t.levels)&&!Ki.hj(t.levels)||!Ki.o8(t.direction)&&!Ki.HD(t.direction)||!Ki.o8(t.selectionLines)&&(!Ki.kJ(t.selectionLines)||!t.selectionLines.every(Ki.hj)))return!1}return!0}let ab=(()=>{class a extends Cr{getFoldingLevel(){return parseInt(this.id.substr(a.ID_PREFIX.length))}invoke(e,n,o){!function(a,t,e,n){let s=a.getRegionsInside(null,(d,m)=>m===t&&true!==d.isCollapsed&&!n.some(R=>d.containsLine(R)));a.toggleCollapseState(s)}(n,this.getFoldingLevel(),0,this.getSelectedLines(o))}}return a.ID_PREFIX="editor.foldLevel",a.ID=t=>a.ID_PREFIX+t,a})();(0,Xe._K)(rh.ID,rh),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.unfold",label:Me.N("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:rb,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(t,e,n,o){let s=o&&o.levels||1,d=this.getLineNumbers(o,n);o&&"up"===o.direction?eb(e,!1,s,d):sh(e,!1,s,d)}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.unfoldRecursively",label:Me.N("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2137),weight:100}})}invoke(t,e,n,o){sh(e,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.fold",label:Me.N("foldAction.label","Fold"),alias:"Fold",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:rb,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(t,e,n,o){let s=this.getLineNumbers(o,n);const d=o&&o.levels,m=o&&o.direction;"number"!=typeof d&&"string"!=typeof m?function(a,t,e){let n=[];for(let o of e){let s=a.getAllRegionsAtLine(o,d=>true!==d.isCollapsed);s.length>0&&n.push(s[0])}a.toggleCollapseState(n)}(e,0,s):"up"===m?eb(e,!0,d||1,s):sh(e,!0,d||1,s)}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.foldRecursively",label:Me.N("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2135),weight:100}})}invoke(t,e,n){let o=this.getSelectedLines(n);sh(e,!0,Number.MAX_VALUE,o)}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.foldAll",label:Me.N("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2069),weight:100}})}invoke(t,e,n){sh(e,!0)}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.unfoldAll",label:Me.N("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2088),weight:100}})}invoke(t,e,n){sh(e,!1)}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.foldAllBlockComments",label:Me.N("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2133),weight:100}})}invoke(t,e,n,o,s){if(e.regions.hasTypes())r_(e,Ji.AD.Comment.value,!0);else{const d=n.getModel();if(!d)return;const m=s.getLanguageConfiguration(d.getLanguageId()).comments;m&&m.blockCommentStartToken&&s_(e,new RegExp("^\\s*"+(0,In.ec)(m.blockCommentStartToken)),!0)}}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.foldAllMarkerRegions",label:Me.N("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2077),weight:100}})}invoke(t,e,n,o,s){if(e.regions.hasTypes())r_(e,Ji.AD.Region.value,!0);else{const d=n.getModel();if(!d)return;const m=s.getLanguageConfiguration(d.getLanguageId()).foldingRules;m&&m.markers&&m.markers.start&&s_(e,new RegExp(m.markers.start),!0)}}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:Me.N("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2078),weight:100}})}invoke(t,e,n,o,s){if(e.regions.hasTypes())r_(e,Ji.AD.Region.value,!1);else{const d=n.getModel();if(!d)return;const m=s.getLanguageConfiguration(d.getLanguageId()).foldingRules;m&&m.markers&&m.markers.start&&s_(e,new RegExp(m.markers.start),!1)}}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.foldAllExcept",label:Me.N("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2131),weight:100}})}invoke(t,e,n){tb(e,!0,this.getSelectedLines(n))}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.unfoldAllExcept",label:Me.N("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2129),weight:100}})}invoke(t,e,n){tb(e,!1,this.getSelectedLines(n))}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.toggleFold",label:Me.N("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2090),weight:100}})}invoke(t,e,n){!function(a,t,e){let n=[];for(let o of e){let s=a.getRegionAtLine(o);if(s){n.push(s),0}}a.toggleCollapseState(n)}(e,0,this.getSelectedLines(n))}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.gotoParentFold",label:Me.N("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,weight:100}})}invoke(t,e,n){let o=this.getSelectedLines(n);if(o.length>0){let s=function(a,t){let e=null,n=t.getRegionAtLine(a);if(null!==n&&(e=n.startLineNumber,a===e)){let o=n.parentIndex;e=-1!==o?t.regions.getStartLineNumber(o):null}return e}(o[0],e);null!==s&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.gotoPreviousFold",label:Me.N("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,weight:100}})}invoke(t,e,n){let o=this.getSelectedLines(n);if(o.length>0){let s=function(a,t){let e=t.getRegionAtLine(a);if(null!==e&&e.startLineNumber===a){if(a!==e.startLineNumber)return e.startLineNumber;{let n=e.parentIndex,o=0;for(-1!==n&&(o=t.regions.getStartLineNumber(e.parentIndex));null!==e;){if(!(e.regionIndex>0))return null;if(e=t.regions.toRegion(e.regionIndex-1),e.startLineNumber<=o)return null;if(e.parentIndex===n)return e.startLineNumber}}}else if(t.regions.length>0)for(e=t.regions.toRegion(t.regions.length-1);null!==e;){if(e.startLineNumber<a)return e.startLineNumber;e=e.regionIndex>0?t.regions.toRegion(e.regionIndex-1):null}return null}(o[0],e);null!==s&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}}),(0,Xe.Qr)(class extends Cr{constructor(){super({id:"editor.gotoNextFold",label:Me.N("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,weight:100}})}invoke(t,e,n){let o=this.getSelectedLines(n);if(o.length>0){let s=function(a,t){let e=t.getRegionAtLine(a);if(null!==e&&e.startLineNumber===a){let n=e.parentIndex,o=0;if(-1!==n)o=t.regions.getEndLineNumber(e.parentIndex);else{if(0===t.regions.length)return null;o=t.regions.getEndLineNumber(t.regions.length-1)}for(;null!==e;){if(!(e.regionIndex<t.regions.length))return null;if(e=t.regions.toRegion(e.regionIndex+1),e.startLineNumber>=o)return null;if(e.parentIndex===n)return e.startLineNumber}}else if(t.regions.length>0)for(e=t.regions.toRegion(0);null!==e;){if(e.startLineNumber>a)return e.startLineNumber;e=e.regionIndex<t.regions.length?t.regions.toRegion(e.regionIndex+1):null}return null}(o[0],e);null!==s&&n.setSelection({startLineNumber:s,startColumn:1,endLineNumber:s,endColumn:1})}}});for(let a=1;a<=7;a++)(0,Xe.QG)(new ab({id:ab.ID(a),label:Me.N("foldLevelAction.label","Fold Level {0}",a),alias:`Fold Level ${a}`,precondition:ar,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2048|21+a),weight:100}}));const Nx=(0,l.P6G)("editor.foldBackground",{light:(0,l.ZnX)(l.hEj,.3),dark:(0,l.ZnX)(l.hEj,.3),hc:null},Me.N("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),Ix=(0,l.P6G)("editorGutter.foldingControlForeground",{dark:l.XZx,light:l.XZx,hc:l.XZx},Me.N("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,_.Ic)((a,t)=>{const e=a.getColor(Nx);e&&t.addRule(`.monaco-editor .folded-background { background-color: ${e}; }`);const n=a.getColor(Ix);n&&t.addRule(`\n\t\t.monaco-editor .cldr${_.kS.asCSSSelector(a_)},\n\t\t.monaco-editor .cldr${_.kS.asCSSSelector(l_)} {\n\t\t\tcolor: ${n} !important;\n\t\t}\n\t\t`)});var Vf=p(86627);(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.fontZoomIn",label:Me.N("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(t,e){Vf.C.setZoomLevel(Vf.C.getZoomLevel()+1)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.fontZoomOut",label:Me.N("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(t,e){Vf.C.setZoomLevel(Vf.C.getZoomLevel()-1)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.fontZoomReset",label:Me.N("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(t,e){Vf.C.setZoomLevel(0)}});var ah=p(59242),Hf=p(78339),zf=p(86349),Tx=p(38696),lb=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Vm=function(a,t){return function(e,n){t(e,n,a)}},c_=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};let Uf=class{constructor(t,e,n){this._editor=t,this._languageFeaturesService=e,this._workerService=n,this._disposables=new At.SL,this._sessionDisposables=new At.SL,this._disposables.add(e.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(o=>{o.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const t=this._editor.getModel(),[e]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(t);if(!e||!e.autoFormatTriggerCharacters)return;let n=new ah.q;for(let o of e.autoFormatTriggerCharacters)n.add(o.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(o=>{let s=o.charCodeAt(o.length-1);n.has(s)&&this._trigger(String.fromCharCode(s))}))}_trigger(t){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const e=this._editor.getModel(),n=this._editor.getPosition(),o=new ii.A,s=this._editor.onDidChangeModelContent(d=>{if(d.isFlush)return o.cancel(),void s.dispose();for(let m=0,R=d.changes.length;m<R;m++)if(d.changes[m].range.endLineNumber<=n.lineNumber)return o.cancel(),void s.dispose()});(0,zf.Qs)(this._workerService,this._languageFeaturesService,e,n,t,e.getFormattingOptions(),o.token).then(d=>{o.token.isCancellationRequested||(0,po.Of)(d)&&(Tx.V.execute(this._editor,d,!0),(0,zf.Zg)(d))}).finally(()=>{s.dispose()})}};Uf.ID="editor.contrib.autoFormat",Uf=lb([Vm(1,wi.p),Vm(2,Hf.p)],Uf);let jf=class{constructor(t,e,n){this.editor=t,this._languageFeaturesService=e,this._instantiationService=n,this._callOnDispose=new At.SL,this._callOnModel=new At.SL,this._callOnDispose.add(t.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(t.onDidChangeModel(()=>this._update())),this._callOnDispose.add(t.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(e.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(48)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:t})=>this._trigger(t))))}_trigger(t){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(zf.x$,this.editor,t,2,Kr.Ex.None,ii.T.None).catch(Yn.dL)}};jf.ID="editor.contrib.formatOnPaste",jf=lb([Vm(1,wi.p),Vm(2,Yi.TG)],jf),(0,Xe._K)(Uf.ID,Uf),(0,Xe._K)(jf.ID,jf),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.formatDocument",label:Me.N("formatDocument.label","Format Document"),alias:"Format Document",precondition:Qt.Ao.and(pt.u.notInCompositeEditor,pt.u.writable,pt.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(t,e){return c_(this,void 0,void 0,function*(){if(e.hasModel()){const n=t.get(Yi.TG);yield t.get(Kr.ek).showWhile(n.invokeFunction(zf.Qq,e,1,Kr.Ex.None,ii.T.None),250)}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.formatSelection",label:Me.N("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Qt.Ao.and(pt.u.writable,pt.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2084),weight:100},contextMenuOpts:{when:pt.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(t,e){return c_(this,void 0,void 0,function*(){if(!e.hasModel())return;const n=t.get(Yi.TG),o=e.getModel(),s=e.getSelections().map(m=>m.isEmpty()?new It.e(m.startLineNumber,1,m.startLineNumber,o.getLineMaxColumn(m.startLineNumber)):m);yield t.get(Kr.ek).showWhile(n.invokeFunction(zf.x$,e,s,1,Kr.Ex.None,ii.T.None),250)})}}),to.P0.registerCommand("editor.action.format",a=>c_(void 0,void 0,void 0,function*(){const t=a.get(en.$).getFocusedCodeEditor();if(!t||!t.hasModel())return;const e=a.get(to.Hy);t.getSelection().isEmpty()?yield e.executeCommand("editor.action.formatDocument"):yield e.executeCommand("editor.action.formatSelection")}));var cb=p(58151),d_=function(a,t){return function(e,n){t(e,n,a)}};class lh{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(t,e){let n;"string"==typeof t?n=`${e.id}/${t}`:(n=`${e.id}/${t.name}`,void 0!==e.children.get(n)&&(n=`${e.id}/${t.name}_${t.range.startLineNumber}_${t.range.startColumn}`));let o=n;for(let s=0;void 0!==e.children.get(o);s++)o=`${n}_${s}`;return o}static empty(t){return 0===t.children.size}}class db extends lh{constructor(t,e,n){super(),this.id=t,this.parent=e,this.symbol=n,this.children=new Map}}class Wx extends lh{constructor(t,e,n,o){super(),this.id=t,this.parent=e,this.label=n,this.order=o,this.children=new Map}}class jc extends lh{constructor(t){super(),this.uri=t,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(t,e,n){const o=new ii.A(n),s=new jc(e.uri),d=t.ordered(e),m=d.map((U,F)=>{var q;let _e=lh.findId(`provider_${F}`,s),De=new Wx(_e,s,null!==(q=U.displayName)&&void 0!==q?q:"Unknown Outline Provider",F);return Promise.resolve(U.provideDocumentSymbols(e,o.token)).then(Ke=>{for(const ct of Ke||[])jc._makeOutlineElement(ct,De);return De},Ke=>((0,Yn.Cp)(Ke),De)).then(Ke=>{lh.empty(Ke)?Ke.remove():s._groups.set(_e,Ke)})}),R=t.onDidChange(()=>{const U=t.ordered(e);(0,po.fS)(U,d)||o.cancel()});return Promise.all(m).then(()=>o.token.isCancellationRequested&&!n.isCancellationRequested?jc.create(t,e,n):s._compact()).finally(()=>{R.dispose()})}static _makeOutlineElement(t,e){let n=lh.findId(t,e),o=new db(n,e,t);if(t.children)for(const s of t.children)jc._makeOutlineElement(s,o);e.children.set(o.id,o)}_compact(){let t=0;for(const[e,n]of this._groups)0===n.children.size?this._groups.delete(e):t+=1;if(1!==t)this.children=this._groups;else{let e=cb.$.first(this._groups.values());for(let[,n]of e.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const t=[];for(const e of this.children.values())e instanceof db?t.push(e.symbol):t.push(...cb.$.map(e.children.values(),n=>n.symbol));return t.sort((e,n)=>It.e.compareRangesUsingStarts(e.range,n.range))}asListOfDocumentSymbols(){const t=this.getTopLevelSymbols(),e=[];return jc._flattenDocumentSymbols(e,t,""),e.sort((n,o)=>qn.L.compare(It.e.getStartPosition(n.range),It.e.getStartPosition(o.range))||qn.L.compare(It.e.getEndPosition(o.range),It.e.getEndPosition(n.range)))}static _flattenDocumentSymbols(t,e,n){for(const o of e)t.push({kind:o.kind,tags:o.tags,name:o.name,detail:o.detail,containerName:o.containerName||n,range:o.range,selectionRange:o.selectionRange,children:void 0}),o.children&&jc._flattenDocumentSymbols(t,o.children,o.name)}}const Hm=(0,Yi.yh)("IOutlineModelService");let u_=class{constructor(t,e,n){this._languageFeaturesService=t,this._disposables=new At.SL,this._cache=new el.z6(10,.7),this._debounceInformation=e.for(t.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(n.onModelRemoved(o=>{this._cache.delete(o.id)}))}dispose(){this._disposables.dispose()}getOrCreate(t,e){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const n=this._languageFeaturesService.documentSymbolProvider,o=n.ordered(t);let s=this._cache.get(t.id);if(!s||s.versionId!==t.getVersionId()||!(0,po.fS)(s.provider,o)){let m=new ii.A;s={versionId:t.getVersionId(),provider:o,promiseCnt:0,source:m,promise:jc.create(n,t,m.token),model:void 0},this._cache.set(t.id,s);const R=Date.now();s.promise.then(U=>{s.model=U,this._debounceInformation.update(t,Date.now()-R)}).catch(U=>{this._cache.delete(t.id)})}if(s.model)return s.model;s.promiseCnt+=1;const d=e.onCancellationRequested(()=>{0==--s.promiseCnt&&(s.source.cancel(),this._cache.delete(t.id))});try{return yield s.promise}finally{d.dispose()}})}};u_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([d_(0,wi.p),d_(1,Ir.A),d_(2,Ia.q)],u_),(0,ka.z)(Hm,u_,!0);to.P0.registerCommand("_executeDocumentSymbolProvider",function(a,...t){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const[e]=t;(0,Ki.p_)(vo.o.isUri(e));const n=a.get(Hm),s=yield a.get(pr.S).createModelReference(e);try{return(yield n.getOrCreate(s.object.textEditorModel,ii.T.None)).getTopLevelSymbols()}finally{s.dispose()}})});var Hx=p(90784);const ub="editor.action.inlineSuggest.commit";class hb{constructor(t,e,n=0){this.lineNumber=t,this.parts=e,this.additionalReservedLineCount=n}renderForScreenReader(t){return 0===this.parts.length?"":function(a,t){const e=new zx(a),n=t.map(o=>{const s=It.e.lift(o.range);return{startOffset:e.getOffset(s.getStartPosition()),endOffset:e.getOffset(s.getEndPosition()),text:o.text}});n.sort((o,s)=>s.startOffset-o.startOffset);for(const o of n)a=a.substring(0,o.startOffset)+o.text+a.substring(o.endOffset);return a}(t.substr(0,this.parts[this.parts.length-1].column-1),this.parts.map(s=>({range:{startLineNumber:1,endLineNumber:1,startColumn:s.column,endColumn:s.column},text:s.lines.join("\n")}))).substring(this.parts[0].column-1)}}class zx{constructor(t){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let e=0;e<t.length;e++)"\n"===t.charAt(e)&&this.lineStartOffsetByLineIdx.push(e+1)}getOffset(t){return this.lineStartOffsetByLineIdx[t.lineNumber-1]+t.column-1}}class fb{constructor(t,e,n){this.column=t,this.lines=e,this.preview=n}}class gb extends At.JT{constructor(t){super(),this.editor=t,this._expanded=void 0,this.onDidChangeEmitter=new zn.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(t.onDidChangeConfiguration(e=>{e.hasChanged(106)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(t){this._expanded=!0,this.onDidChangeEmitter.fire()}}var jx=p(87481);function mb(a,t,e,n,o=0){if(a.range.startLineNumber!==a.range.endLineNumber)return;const s=t.getLineContent(a.range.startLineNumber),d=In.V8(s).length;if(a.range.startColumn-1<=d){const De=In.V8(a.text).length,Ke=s.substring(a.range.startColumn-1,d),ct=It.e.fromPositions(a.range.getStartPosition().delta(0,Ke.length),a.range.getEndPosition()),Tt=a.text.startsWith(Ke)?a.text.substring(Ke.length):a.text.substring(De);a={range:ct,text:Tt,command:a.command}}const R=t.getValueInRange(a.range),U=function(a,t){if((null==fl?void 0:fl.originalValue)===a&&(null==fl?void 0:fl.newValue)===t)return null==fl?void 0:fl.changes;{const e=function(a,t){if(a.length>5e3||t.length>5e3)return;function e(R){let U=0;for(let F=0,q=R.length;F<q;F++){const _e=R.charCodeAt(F);_e>U&&(U=_e)}return U}const n=Math.max(e(a),e(t));function o(R){if(R<0)throw new Error("unexpected");return n+R+1}function s(R){let U=0,F=0;const q=new Int32Array(R.length);for(let _e=0,De=R.length;_e<De;_e++){const Ke=100*F+U;"("===R[_e]?(q[_e]=o(2*Ke),U++):")"===R[_e]?(q[_e]=o(2*Ke+1),1===U&&F++,U=Math.max(U-1,0)):q[_e]=R.charCodeAt(_e)}return q}const d=s(a),m=s(t);return new jx.Hs({getElements:()=>d},{getElements:()=>m}).ComputeDiff(!1).changes}(a,t);return fl={originalValue:a,newValue:t,changes:e},e}}(R,a.text);if(!U)return;const F=a.range.startLineNumber,q=new Array;if("prefix"===e){const De=U.filter(Ke=>0===Ke.originalLength);if(De.length>1||1===De.length&&De[0].originalStart!==R.length)return}const _e=a.text.length-o;for(const De of U){const Ke=a.range.startColumn+De.originalStart+De.originalLength;if("subwordSmart"===e&&n&&n.lineNumber===a.range.startLineNumber&&Ke<n.column||De.originalLength>0)return;if(0===De.modifiedLength)continue;const ct=De.modifiedStart+De.modifiedLength,Tt=Math.max(De.modifiedStart,Math.min(ct,_e)),Ot=a.text.substring(De.modifiedStart,Tt),tn=a.text.substring(Tt,Math.max(De.modifiedStart,ct));if(Ot.length>0){const on=In.uq(Ot);q.push(new fb(Ke,on,!1))}if(tn.length>0){const on=In.uq(tn);q.push(new fb(Ke,on,!0))}}return new hb(F,q,0)}let fl;var Gx=p(67875),Kc=p(79615),Qx=p(95818),Yx=p(25453),Jx=p(21944);class qx{constructor(t){this.lines=t}getLineCount(){return this.lines.length}getLineLength(t){return this.lines[t-1].getLineContent().length}getLineTokens(t){return this.lines[t-1]}}var zm=function(a,t){return function(e,n){t(e,n,a)}},ic=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};let h_=class extends At.JT{constructor(t,e,n,o,s,d){super(),this.editor=t,this.cache=e,this.commandService=n,this.languageConfigurationService=o,this.languageFeaturesService=s,this.debounceService=d,this.onDidChangeEmitter=new zn.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new At.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:200}),this._register(n.onDidExecuteCommand(m=>{new Set([jr.wk.Tab.id,jr.wk.DeleteLeft.id,jr.wk.DeleteRight.id,ub,"acceptSelectedSuggestion"]).has(m.commandId)&&t.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(m=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(m=>{this.session&&!this.session.isValid&&this.hide()})),this._register((0,At.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var t;return null===(t=this.session)||void 0===t?void 0:t.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(t){var e;null===(e=this.session)||void 0===e||e.setExpanded(t)}setActive(t){var e;this.active=t,t&&(null===(e=this.session)||void 0===e||e.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(Ji.bw.Automatic)}trigger(t){this.completionSession.value?t===Ji.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new tL(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,t,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var t;null===(t=this.session)||void 0===t||t.commitCurrentCompletion()}showNext(){var t;null===(t=this.session)||void 0===t||t.showNextInlineCompletion()}showPrevious(){var t;null===(t=this.session)||void 0===t||t.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var t;return ic(this,void 0,void 0,function*(){const e=yield null===(t=this.session)||void 0===t?void 0:t.hasMultipleInlineCompletions();return void 0!==e&&e})}};h_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([zm(2,to.Hy),zm(3,jo.c_),zm(4,wi.p),zm(5,Ir.A)],h_);class tL extends gb{constructor(t,e,n,o,s,d,m,R,U){let F;super(t),this.triggerPosition=e,this.shouldUpdate=n,this.commandService=o,this.cache=s,this.initialTriggerKind=d,this.languageConfigurationService=m,this.registry=R,this.debounce=U,this.minReservedLineCount=0,this.updateOperation=this._register(new At.XK),this.updateSoon=this._register(new Hn.pY(()=>{let q=this.initialTriggerKind;return this.initialTriggerKind=Ji.bw.Automatic,this.update(q)},50)),this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange(()=>{const q=this.currentCompletion;if(q&&q.sourceInlineCompletion!==F){F=q.sourceInlineCompletion;const _e=q.sourceProvider;_e.handleItemDidShow&&_e.handleItemDidShow(q.sourceInlineCompletions,F)}})),this._register((0,At.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(q=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(q=>{this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;const t=this.cache.value.completions.findIndex(e=>e.semanticId===this.currentlySelectedCompletionId);return-1===t?(this.currentlySelectedCompletionId=void 0,0):t}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var t;return ic(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const e=(null===(t=this.cache.value)||void 0===t?void 0:t.completions)||[];if(e.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+1)%e.length;this.currentlySelectedCompletionId=e[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){var t;return ic(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const e=(null===(t=this.cache.value)||void 0===t?void 0:t.completions)||[];if(e.length>0){const n=(this.fixAndGetIndexOfCurrentSelection()+e.length-1)%e.length;this.currentlySelectedCompletionId=e[n].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var t;return ic(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===Ji.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(Ji.bw.Explicit):(null===(t=this.cache.value)||void 0===t?void 0:t.triggerKind)!==Ji.bw.Explicit&&(yield this.update(Ji.bw.Explicit))})}hasMultipleInlineCompletions(){var t;return ic(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(t=this.cache.value)||void 0===t?void 0:t.completions.length)||0)>1})}get ghostText(){const t=this.currentCompletion,e=this.editor.getOptions().get(55).mode;return t?mb(t,this.editor.getModel(),e,this.editor.getPosition()):void 0}get currentCompletion(){const t=this.currentCachedCompletion;if(t)return t.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(t){return ic(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const e=this.editor.getPosition(),n=new Date,o=(0,Hn.PG)(d=>ic(this,void 0,void 0,function*(){let m;try{m=yield _b(this.registry,e,this.editor.getModel(),{triggerKind:t,selectedSuggestionInfo:void 0},d,this.languageConfigurationService);const R=new Date;this.debounce.update(this.editor.getModel(),R.getTime()-n.getTime())}catch(R){return void(0,Yn.dL)(R)}d.isCancellationRequested||(this.cache.setValue(this.editor,m,t),this.onDidChangeEmitter.fire())})),s=new pb(o,t);this.updateOperation.value=s,yield o,this.updateOperation.value===s&&this.updateOperation.clear()})}takeOwnership(t){this._register(t)}commitCurrentCompletion(){if(!this.ghostText)return;const t=this.currentCompletion;t&&this.commit(t)}commit(t){const e=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[ls.h.replaceMove(t.range,t.text)]),t.command?this.commandService.executeCommand(t.command.id,...t.command.arguments||[]).finally(()=>{null==e||e.dispose()}).then(void 0,Yn.Cp):null==e||e.dispose(),this.onDidChangeEmitter.fire()}}class pb{constructor(t,e){this.promise=t,this.triggerKind=e}dispose(){this.promise.cancel()}}class nL extends At.JT{constructor(t,e,n,o){super(),this.triggerKind=o;const s=t.deltaDecorations([],e.items.map(d=>({range:d.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,At.OF)(()=>{t.deltaDecorations(s,[])})),this.completions=e.items.map((d,m)=>new iL(d,s[m])),this._register(t.onDidChangeModelContent(()=>{let d=!1;const m=t.getModel();for(const R of this.completions){const U=m.getDecorationRange(R.decorationId);U?R.synchronizedRange.equalsRange(U)||(d=!0,R.synchronizedRange=U):(0,Yn.dL)(new Error("Decoration has no range"))}d&&n()})),this._register(e)}}class iL{constructor(t,e){this.inlineCompletion=t,this.decorationId=e,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=t.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function _b(a,t,e,n,o=ii.T.None,s){return ic(this,void 0,void 0,function*(){const d=function(a,t){const e=t.getWordAtPosition(a),n=t.getLineMaxColumn(a.lineNumber);return e?new It.e(a.lineNumber,e.startColumn,a.lineNumber,n):It.e.fromPositions(a,a.with(void 0,n))}(t,e),m=a.all(e),R=yield Promise.all(m.map(F=>ic(this,void 0,void 0,function*(){const q=yield Promise.resolve(F.provideInlineCompletions(e,t,n,o)).catch(Yn.Cp);return{completions:q,provider:F,dispose:()=>{q&&F.freeInlineCompletions(q)}}}))),U=new Map;for(const F of R){const q=F.completions;if(q)for(const _e of q.items){const De=_e.range?It.e.lift(_e.range):d;if(De.startLineNumber!==De.endLineNumber)continue;const Ke=s&&_e.completeBracketPairs?sL(_e.text,De.getStartPosition(),e,s):_e.text,ct={text:Ke,range:De,command:_e.command,sourceProvider:F.provider,sourceInlineCompletions:q,sourceInlineCompletion:_e};U.set(JSON.stringify({text:Ke,range:_e.range}),ct)}}return{items:[...U.values()],dispose:()=>{for(const F of R)F.dispose()}}})}function sL(a,t,e,n){const s=e.getLineContent(t.lineNumber).substring(0,t.column-1)+a,d=e.tokenizeLineWithEdit(t,s.length-(t.column-1),a),m=null==d?void 0:d.sliceAndInflate(t.column-1,s.length,0);return m?(console.log(m),function(a,t){const e=new Yx.FE,n=new Gx.Z(e,U=>t.getLanguageConfiguration(U)),o=new Jx.xH(new qx([a]),n),s=(0,Qx.w)(o,[],void 0,!0);let d="";const m=a.getLineContent();return function R(U,F){if(2===U.kind)R(U.openingBracket,F),F=(0,Kc.Ii)(F,U.openingBracket.length),U.child&&(R(U.child,F),F=(0,Kc.Ii)(F,U.child.length)),U.closingBracket?(R(U.closingBracket,F),F=(0,Kc.Ii)(F,U.closingBracket.length)):d+=n.getSingleLanguageBracketTokens(U.openingBracket.languageId).findClosingTokenText(U.openingBracket.bracketIds);else if(3!==U.kind)if(0===U.kind||1===U.kind)d+=m.substring((0,Kc.F_)(F),(0,Kc.F_)((0,Kc.Ii)(F,U.length)));else if(4===U.kind)for(const q of U.children)R(q,F),F=(0,Kc.Ii)(F,q.length)}(s,Kc.xl),d}(m,n)):a}function Um(a,t){if(!t)return t;const e=a.getValueInRange(t.range),n=(0,In.Mh)(e,t.text),o=a.getOffsetAt(t.range.getStartPosition())+n,s=a.getPositionAt(o),d=e.substr(n),m=(0,In.P1)(d,t.text),R=a.getPositionAt(Math.max(o,a.getOffsetAt(t.range.getEndPosition())-m));return{range:It.e.fromPositions(s,R),text:t.text.substr(n,t.text.length-n-m)}}p(14700);var ch=p(17184),oc=p(84491);const ws=new Uint8Array(16),lr=[];for(let a=0;a<256;a++)lr.push(a.toString(16).padStart(2,"0"));let f_;f_="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(a){for(let t=0;t<a.length;t++)a[t]=Math.floor(256*Math.random());return a},Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class aL{constructor(t){this._delegates=t}resolve(t){for(const e of this._delegates){let n=e.resolve(t);if(void 0!==n)return n}}}class lL{constructor(t,e,n,o){this._model=t,this._selection=e,this._selectionIdx=n,this._overtypingCapturer=o}resolve(t){const{name:e}=t;if("SELECTION"===e||"TM_SELECTED_TEXT"===e){let n=this._model.getValueInRange(this._selection)||void 0,o=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){const s=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);s&&(n=s.value,o=s.multiline)}if(n&&o&&t.snippet){const s=this._model.getLineContent(this._selection.startLineNumber),d=(0,In.V8)(s,0,this._selection.startColumn-1);let m=d;t.snippet.walk(U=>U!==t&&(U instanceof Tr&&(m=(0,In.V8)((0,In.uq)(U.value).pop())),!0));const R=(0,In.Mh)(m,d);n=n.replace(/(\r\n|\r|\n)(.*)/g,(U,F,q)=>`${F}${m.substr(R)}${q}`)}return n}if("TM_CURRENT_LINE"===e)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===e){const n=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return n&&n.word||void 0}return"TM_LINE_INDEX"===e?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===e?String(this._selection.positionLineNumber):void 0}}class cL{constructor(t,e){this._labelService=t,this._model=e}resolve(t){const{name:e}=t;if("TM_FILENAME"===e)return oc.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===e){const n=oc.EZ(this._model.uri.fsPath),o=n.lastIndexOf(".");return o<=0?n:n.slice(0,o)}return"TM_DIRECTORY"===e?"."===oc.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,Do.XX)(this._model.uri)):"TM_FILEPATH"===e?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===e?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class dL{constructor(t,e,n,o){this._readClipboardText=t,this._selectionIdx=e,this._selectionCount=n,this._spread=o}resolve(t){if("CLIPBOARD"!==t.name)return;const e=this._readClipboardText();if(e){if(this._spread){const n=e.split(/\r\n|\n|\r/).filter(o=>!(0,In.m5)(o));if(n.length===this._selectionCount)return n[this._selectionIdx]}return e}}}class uL{constructor(t,e){this._model=t,this._selection=e}resolve(t){const{name:e}=t,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),o=jo.zu.getComments(n);if(o){if("LINE_COMMENT"===e)return o.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===e)return o.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===e)return o.blockCommentEndToken||void 0}}}class gl{constructor(){this._date=new Date}resolve(t){const{name:e}=t;return"CURRENT_YEAR"===e?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===e?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===e?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===e?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===e?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===e?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===e?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===e?gl.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===e?gl.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===e?gl.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===e?gl.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===e?String(Math.floor(this._date.getTime()/1e3)):void 0}}gl.dayNames=[Me.N("Sunday","Sunday"),Me.N("Monday","Monday"),Me.N("Tuesday","Tuesday"),Me.N("Wednesday","Wednesday"),Me.N("Thursday","Thursday"),Me.N("Friday","Friday"),Me.N("Saturday","Saturday")],gl.dayNamesShort=[Me.N("SundayShort","Sun"),Me.N("MondayShort","Mon"),Me.N("TuesdayShort","Tue"),Me.N("WednesdayShort","Wed"),Me.N("ThursdayShort","Thu"),Me.N("FridayShort","Fri"),Me.N("SaturdayShort","Sat")],gl.monthNames=[Me.N("January","January"),Me.N("February","February"),Me.N("March","March"),Me.N("April","April"),Me.N("May","May"),Me.N("June","June"),Me.N("July","July"),Me.N("August","August"),Me.N("September","September"),Me.N("October","October"),Me.N("November","November"),Me.N("December","December")],gl.monthNamesShort=[Me.N("JanuaryShort","Jan"),Me.N("FebruaryShort","Feb"),Me.N("MarchShort","Mar"),Me.N("AprilShort","Apr"),Me.N("MayShort","May"),Me.N("JuneShort","Jun"),Me.N("JulyShort","Jul"),Me.N("AugustShort","Aug"),Me.N("SeptemberShort","Sep"),Me.N("OctoberShort","Oct"),Me.N("NovemberShort","Nov"),Me.N("DecemberShort","Dec")];class hL{constructor(t){this._workspaceService=t}resolve(t){if(!this._workspaceService)return;const e=(0,ch.uT)(this._workspaceService.getWorkspace());if(e){if("WORKSPACE_NAME"===t.name)return this._resolveWorkspaceName(e);if("WORKSPACE_FOLDER"===t.name)return this._resoveWorkspacePath(e)}}_resolveWorkspaceName(t){if((0,ch.eb)(t))return oc.EZ(t.uri.path);let e=oc.EZ(t.configPath.path);return e.endsWith(ch.A6)&&(e=e.substr(0,e.length-ch.A6.length-1)),e}_resoveWorkspacePath(t){if((0,ch.eb)(t))return _f(t.uri.fsPath);let e=oc.EZ(t.configPath.path),n=t.configPath.fsPath;return n.endsWith(e)&&(n=n.substr(0,n.length-e.length-1)),n?_f(n):"/"}}class fL{resolve(t){const{name:e}=t;return"RANDOM"===e?Math.random().toString().slice(-6):"RANDOM_HEX"===e?Math.random().toString(16).slice(-6):"UUID"===e?function(){f_(ws),ws[6]=15&ws[6]|64,ws[8]=63&ws[8]|128;let a=0,t="";return t+=lr[ws[a++]],t+=lr[ws[a++]],t+=lr[ws[a++]],t+=lr[ws[a++]],t+="-",t+=lr[ws[a++]],t+=lr[ws[a++]],t+="-",t+=lr[ws[a++]],t+=lr[ws[a++]],t+="-",t+=lr[ws[a++]],t+=lr[ws[a++]],t+="-",t+=lr[ws[a++]],t+=lr[ws[a++]],t+=lr[ws[a++]],t+=lr[ws[a++]],t+=lr[ws[a++]],t+=lr[ws[a++]],t}():void 0}}class ba{constructor(t,e,n,o){this._editor=t,this._snippet=e,this._offset=n,this._snippetLineLeadingWhitespace=o,this._nestingLevel=1,this._placeholderGroups=(0,po.vM)(e.placeholders,pa.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const t=this._editor.getModel();this._editor.changeDecorations(e=>{for(const n of this._snippet.placeholders){const o=this._snippet.offset(n),s=this._snippet.fullLen(n),d=It.e.fromPositions(t.getPositionAt(this._offset+o),t.getPositionAt(this._offset+o+s)),R=e.addDecoration(d,n.isFinalTabstop?ba._decor.inactiveFinal:ba._decor.inactive);this._placeholderDecorations.set(n,R)}})}move(t){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let o=[];for(const s of this._placeholderGroups[this._placeholderGroupsIdx])if(s.transform){const d=this._placeholderDecorations.get(s),m=this._editor.getModel().getDecorationRange(d),R=this._editor.getModel().getValueInRange(m),U=s.transform.resolve(R).split(/\r\n|\r|\n/);for(let F=1;F<U.length;F++)U[F]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+U[F]);o.push(ls.h.replace(m,U.join(this._editor.getModel().getEOL())))}o.length>0&&this._editor.executeEdits("snippet.placeholderTransform",o)}let e=!1;!0===t&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,e=!0):!1===t&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,e=!0);const n=this._editor.getModel().changeDecorations(o=>{const s=new Set,d=[];for(const m of this._placeholderGroups[this._placeholderGroupsIdx]){const R=this._placeholderDecorations.get(m),U=this._editor.getModel().getDecorationRange(R);d.push(new ui.Y(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn)),e=e&&this._hasPlaceholderBeenCollapsed(m),o.changeDecorationOptions(R,m.isFinalTabstop?ba._decor.activeFinal:ba._decor.active),s.add(m);for(const F of this._snippet.enclosingPlaceholders(m)){const q=this._placeholderDecorations.get(F);o.changeDecorationOptions(q,F.isFinalTabstop?ba._decor.activeFinal:ba._decor.active),s.add(F)}}for(const[m,R]of this._placeholderDecorations)s.has(m)||o.changeDecorationOptions(R,m.isFinalTabstop?ba._decor.inactiveFinal:ba._decor.inactive);return d});return e?this.move(t):n??[]}_hasPlaceholderBeenCollapsed(t){let e=t;for(;e;){if(e instanceof pa){const n=this._placeholderDecorations.get(e);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&e.toString().length>0)return!0}e=e.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const t=new Map;for(const e of this._placeholderGroups){let n;for(const o of e){if(o.isFinalTabstop)break;n||(n=[],t.set(o.index,n));const s=this._placeholderDecorations.get(o),d=this._editor.getModel().getDecorationRange(s);if(!d){t.delete(o.index);break}n.push(d)}}return t}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(t){const e=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(n=>{for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const s=t.shift();console.assert(!s._placeholderDecorations);const d=s._snippet.placeholderInfo.last.index;for(const R of s._snippet.placeholderInfo.all)R.index=R.isFinalTabstop?o.index+(d+1)/this._nestingLevel:o.index+R.index/this._nestingLevel;this._snippet.replace(o,s._snippet.children);const m=this._placeholderDecorations.get(o);n.removeDecoration(m),this._placeholderDecorations.delete(o);for(const R of s._snippet.placeholders){const U=s._snippet.offset(R),F=s._snippet.fullLen(R),q=It.e.fromPositions(e.getPositionAt(s._offset+U),e.getPositionAt(s._offset+U+F)),_e=n.addDecoration(q,ba._decor.inactive);this._placeholderDecorations.set(R,_e)}}this._placeholderGroups=(0,po.vM)(this._snippet.placeholders,pa.compareByIndex)})}}ba._decor={active:qi.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:qi.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:qi.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:qi.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const Cb={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class ml{constructor(t,e,n=Cb){this._templateMerges=[],this._snippets=[],this._editor=t,this._template=e,this._options=n}static adjustWhitespace(t,e,n,o,s){const d=t.getLineContent(e.lineNumber),m=(0,In.V8)(d,0,e.column-1);let R;return n.walk(U=>{if(!(U instanceof Tr)||U.parent instanceof Mf)return!0;const F=U.value.split(/\r\n|\r|\n/);if(o){const _e=n.offset(U);if(0===_e)F[0]=t.normalizeIndentation(F[0]);else{R=R??n.toString();let De=R.charCodeAt(_e-1);(10===De||13===De)&&(F[0]=t.normalizeIndentation(m+F[0]))}for(let De=1;De<F.length;De++)F[De]=t.normalizeIndentation(m+F[De])}const q=F.join(t.getEOL());return q!==U.value&&(U.parent.replace(U,[new Tr(q)]),R=void 0),!0}),m}static adjustSelection(t,e,n,o){if(0!==n||0!==o){const{positionLineNumber:s,positionColumn:d}=e,U=t.validateRange({startLineNumber:s,startColumn:d-n,endLineNumber:s,endColumn:d+o});e=ui.Y.createWithDirection(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn,e.getDirection())}return e}static createEditsAndSnippets(t,e,n,o,s,d,m,R){const U=[],F=[];if(!t.hasModel())return{edits:U,snippets:F};const q=t.getModel(),_e=t.invokeWithinContext(Wn=>Wn.get(ch.ec)),De=t.invokeWithinContext(Wn=>new cL(Wn.get(Zu.e),q)),Ke=()=>m;let ct=0,Tt=q.getValueInRange(ml.adjustSelection(q,t.getSelection(),n,0)),Ot=q.getValueInRange(ml.adjustSelection(q,t.getSelection(),0,o)),tn=q.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber);const on=t.getSelections().map((Wn,An)=>({selection:Wn,idx:An})).sort((Wn,An)=>It.e.compareRangesUsingStarts(Wn.selection,An.selection));for(const{selection:Wn,idx:An}of on){let Bi=ml.adjustSelection(q,Wn,n,0),yi=ml.adjustSelection(q,Wn,0,o);Tt!==q.getValueInRange(Bi)&&(Bi=Wn),Ot!==q.getValueInRange(yi)&&(yi=Wn);const us=Wn.setStartPosition(Bi.startLineNumber,Bi.startColumn).setEndPosition(yi.endLineNumber,yi.endColumn),zs=(new pm).parse(e,!0,s),Us=us.getStartPosition(),ya=ml.adjustWhitespace(q,Us,zs,d||An>0&&tn!==q.getLineFirstNonWhitespaceColumn(Wn.positionLineNumber),!0);zs.resolveVariables(new aL([De,new dL(Ke,An,on.length,"spread"===t.getOption(71)),new lL(q,Wn,An,R),new uL(q,Wn),new gl,new hL(_e),new fL]));const Va=q.getOffsetAt(Us)+ct;ct+=zs.toString().length-q.getValueLengthInRange(us),U[An]=ls.h.replace(us,zs.toString()),U[An].identifier={major:An,minor:0},F[An]=new ba(t,zs,Va,ya)}return{edits:U,snippets:F}}dispose(){(0,At.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:t,snippets:e}=ml.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=e,this._editor.executeEdits("snippet",t,n=>this._snippets[0].hasPlaceholder?this._move(!0):n.filter(o=>!!o.identifier).map(o=>ui.Y.fromPositions(o.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(t,e=Cb){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);const{edits:n,snippets:o}=ml.createEditsAndSnippets(this._editor,t,e.overwriteBefore,e.overwriteAfter,!0,e.adjustWhitespace,e.clipboardText,e.overtypingCapturer);this._editor.executeEdits("snippet",n,s=>{for(const d of this._snippets)d.merge(o);return console.assert(0===o.length),this._snippets[0].hasPlaceholder?this._move(void 0):s.filter(d=>!!d.identifier).map(d=>ui.Y.fromPositions(d.range.getEndPosition()))})}next(){const t=this._move(!0);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}prev(){const t=this._move(!1);this._editor.setSelections(t),this._editor.revealPositionInCenterIfOutsideViewport(t[0].getPosition())}_move(t){const e=[];for(const n of this._snippets){const o=n.move(t);e.push(...o)}return e}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const t=this._editor.getSelections();if(t.length<this._snippets.length)return!1;let e=new Map;for(const n of this._snippets){const o=n.computePossibleSelections();if(0===e.size)for(const[s,d]of o){d.sort(It.e.compareRangesUsingStarts);for(const m of t)if(d[0].containsRange(m)){e.set(s,[]);break}}if(0===e.size)return!1;e.forEach((s,d)=>{s.push(...o.get(d))})}t.sort(It.e.compareRangesUsingStarts);for(let[n,o]of e)if(o.length===t.length){o.sort(It.e.compareRangesUsingStarts);for(let s=0;s<o.length;s++)if(!o[s].containsRange(t[s])){e.delete(n);continue}}else e.delete(n);return e.size>0}}var bb=p(99315),jm=p(2646),g_=function(a,t){return function(e,n){t(e,n,a)}};const vb={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Os=class Cg{constructor(t,e,n,o){this._editor=t,this._instantiationService=e,this._logService=n,this._snippetListener=new At.SL,this._modelVersionId=-1,this._inSnippet=Cg.InSnippetMode.bindTo(o),this._hasNextTabstop=Cg.HasNextTabstop.bindTo(o),this._hasPrevTabstop=Cg.HasPrevTabstop.bindTo(o)}static get(t){return t.getContribution(Cg.ID)}dispose(){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(t=this._session)||void 0===t||t.dispose(),this._snippetListener.dispose()}insert(t,e){try{this._doInsert(t,void 0===e?vb:Object.assign(Object.assign({},vb),e))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",t),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(t,e){!this._editor.hasModel()||(this._snippetListener.clear(),e.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(t,e):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new ml(this._editor,t,e),this._session.insert()),e.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(n=>n.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:t}=this._session;if(t){if(this._currentChoice!==t){this._currentChoice=t,this._editor.setSelections(this._editor.getSelections().map(n=>ui.Y.fromPositions(n.getStartPosition())));const[e]=t.options;this._instantiationService.invokeFunction(Xw,this._editor,t.options.map((n,o)=>({kind:13,label:n.value,insertText:n.value,sortText:"a".repeat(o+1),range:It.e.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,e.value.length))})))}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(t=!1){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(e=this._session)||void 0===e||e.dispose(),this._session=void 0,this._modelVersionId=-1,t&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};Os.ID="snippetController2",Os.InSnippetMode=new Qt.uy("inSnippetMode",!1,(0,Me.N)("inSnippetMode","Whether the editor in current in snippet mode")),Os.HasNextTabstop=new Qt.uy("hasNextTabstop",!1,(0,Me.N)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),Os.HasPrevTabstop=new Qt.uy("hasPrevTabstop",!1,(0,Me.N)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),Os=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([g_(1,Yi.TG),g_(2,jm.VZ),g_(3,Qt.i6)],Os),(0,Xe._K)(Os.ID,Os);const Km=Xe._l.bindToContribution(Os.get);(0,Xe.fK)(new Km({id:"jumpToNextSnippetPlaceholder",precondition:Qt.Ao.and(Os.InSnippetMode,Os.HasNextTabstop),handler:a=>a.next(),kbOpts:{weight:130,kbExpr:pt.u.editorTextFocus,primary:2}})),(0,Xe.fK)(new Km({id:"jumpToPrevSnippetPlaceholder",precondition:Qt.Ao.and(Os.InSnippetMode,Os.HasPrevTabstop),handler:a=>a.prev(),kbOpts:{weight:130,kbExpr:pt.u.editorTextFocus,primary:1026}})),(0,Xe.fK)(new Km({id:"leaveSnippet",precondition:Os.InSnippetMode,handler:a=>a.cancel(!0),kbOpts:{weight:130,kbExpr:pt.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,Xe.fK)(new Km({id:"acceptSnippet",precondition:Os.InSnippetMode,handler:a=>a.finish()}));var wb=function(a,t){return function(e,n){t(e,n,a)}};class m_{constructor(t){this.name=t}select(t,e,n){if(0===n.length)return 0;let o=n[0].score[0];for(let s=0;s<n.length;s++){const{score:d,completion:m}=n[s];if(d[0]!==o)break;if(m.preselect)return s}return 0}}class yb extends m_{constructor(){super("first")}memorize(t,e,n){}toJSON(){}fromJSON(){}}let Kf=class xp{constructor(t,e){this._storageService=t,this._configService=e,this._disposables=new At.SL,this._persistSoon=new Hn.pY(()=>this._saveState(),500),this._disposables.add(t.onWillSaveState(n=>{n.reason===rs.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(t,e,n){this._withStrategy(t,e).memorize(t,e,n),this._persistSoon.schedule()}select(t,e,n){return this._withStrategy(t,e).select(t,e,n)}_withStrategy(t,e){var n;const o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(e.lineNumber,e.column),resource:t.uri});if((null===(n=this._strategy)||void 0===n?void 0:n.name)!==o){this._saveState();const s=xp._strategyCtors.get(o)||yb;this._strategy=new s;try{const m=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,R=this._storageService.get(`${xp._storagePrefix}/${o}`,m);R&&this._strategy.fromJSON(JSON.parse(R))}catch{}}return this._strategy}_saveState(){if(this._strategy){const e=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${xp._storagePrefix}/${this._strategy.name}`,n,e,1)}}};Kf._strategyCtors=new Map([["recentlyUsedByPrefix",class extends m_{constructor(){super("recentlyUsedByPrefix"),this._trie=el.Id.forStrings(),this._seq=0}memorize(t,e,n){const{word:o}=t.getWordUntilPosition(e),s=`${t.getLanguageId()}/${o}`;this._trie.set(s,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(t,e,n){let{word:o}=t.getWordUntilPosition(e);if(!o)return super.select(t,e,n);let s=`${t.getLanguageId()}/${o}`,d=this._trie.get(s);if(d||(d=this._trie.findSubstr(s)),d)for(let m=0;m<n.length;m++){let{kind:R,insertText:U}=n[m].completion;if(R===d.type&&U===d.insertText)return m}return super.select(t,e,n)}toJSON(){let t=[];return this._trie.forEach((e,n)=>t.push([n,e])),t.sort((e,n)=>-(e[1].touch-n[1].touch)).forEach((e,n)=>e[1].touch=n),t.slice(0,200)}fromJSON(t){if(this._trie.clear(),t.length>0){this._seq=t[0][1].touch+1;for(const[e,n]of t)n.type="number"==typeof n.type?n.type:Ji.gX.fromString(n.type),this._trie.set(e,n)}}}],["recentlyUsed",class extends m_{constructor(){super("recentlyUsed"),this._cache=new el.z6(300,.66),this._seq=0}memorize(t,e,n){const o=`${t.getLanguageId()}/${n.textLabel}`;this._cache.set(o,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(t,e,n){if(0===n.length)return 0;const o=t.getLineContent(e.lineNumber).substr(e.column-10,e.column-1);if(/\s$/.test(o))return super.select(t,e,n);let s=n[0].score[0],m=-1,R=-1;for(let U=0;U<n.length&&n[U].score[0]===s;U++){const F=`${t.getLanguageId()}/${n[U].textLabel}`,q=this._cache.peek(F);if(q&&q.touch>R&&q.type===n[U].completion.kind&&q.insertText===n[U].completion.insertText&&(R=q.touch,m=U),n[U].completion.preselect)return U}return-1!==m?m:0}toJSON(){return this._cache.toJSON()}fromJSON(t){this._cache.clear();for(const[n,o]of t)o.touch=0,o.type="number"==typeof o.type?o.type:Ji.gX.fromString(o.type),this._cache.set(n,o);this._seq=this._cache.size}}],["first",yb]]),Kf._storagePrefix="suggest/memories",Kf=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([wb(0,rs.Uy),wb(1,Vs.Ui)],Kf);const Sb=(0,Yi.yh)("ISuggestMemories");(0,ka.z)(Sb,Kf,!0);let $f=class bw{constructor(t,e){this._editor=t,this._enabled=!1,this._ckAtEnd=bw.AtEnd.bindTo(e),this._configListener=this._editor.onDidChangeConfiguration(n=>n.hasChanged(111)&&this._update()),this._update()}dispose(){var t;this._configListener.dispose(),null===(t=this._selectionListener)||void 0===t||t.dispose(),this._ckAtEnd.reset()}_update(){const t="on"===this._editor.getOption(111);if(this._enabled!==t)if(this._enabled=t,this._enabled){const e=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const n=this._editor.getModel(),o=this._editor.getSelection(),s=n.getWordAtPosition(o.getStartPosition());this._ckAtEnd.set(!!s&&s.endColumn===o.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};$f.AtEnd=new Qt.uy("atEndOfWord",!1),$f=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Qt.i6)],$f);let jd=class Lp{constructor(t,e){this._editor=t,this._index=0,this._ckOtherSuggestions=Lp.OtherSuggestions.bindTo(e)}dispose(){this.reset()}reset(){var t;this._ckOtherSuggestions.reset(),null===(t=this._listener)||void 0===t||t.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:e},n){0!==t.items.length&&Lp._moveIndex(!0,t,e)!==e?(this._acceptNext=n,this._model=t,this._index=e,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(t,e,n){let o=n;for(;o=(o+e.items.length+(t?1:-1))%e.items.length,o!==n&&e.items[o].completion.additionalTextEdits;);return o}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=Lp._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};jd.OtherSuggestions=new Qt.uy("hasOtherSuggestions",!1),jd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Qt.i6)],jd);class yL{constructor(t,e,n){this._disposables=new At.SL,this._disposables.add(e.onDidShow(()=>this._onItem(e.getFocusedItem()))),this._disposables.add(e.onDidFocus(this._onItem,this)),this._disposables.add(e.onDidHide(this.reset,this)),this._disposables.add(t.onWillType(o=>{if(this._active&&!e.isFrozen()){const s=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(s)&&t.getOption(0)&&n(this._active.item)}}))}_onItem(t){if(!t||!(0,po.Of)(t.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===t.item)return;const e=new ah.q;for(const n of t.item.completion.commitCharacters)n.length>0&&e.add(n.charCodeAt(0));this._active={acceptCharacters:e,item:t}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}let xb=(()=>{class a{provideSelectionRanges(e,n){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const o=[];for(const s of n){const d=[];o.push(d);const m=new Map;yield new Promise(R=>a._bracketsRightYield(R,0,e,s,m)),yield new Promise(R=>a._bracketsLeftYield(R,0,e,s,m,d))}return o})}static _bracketsRightYield(e,n,o,s,d){const m=new Map,R=Date.now();for(;;){if(n>=a._maxRounds){e();break}if(!s){e();break}let U=o.bracketPairs.findNextBracket(s);if(!U){e();break}if(Date.now()-R>a._maxDuration){setTimeout(()=>a._bracketsRightYield(e,n+1,o,s,d));break}const q=U.close[0];if(U.isOpen){let _e=m.has(q)?m.get(q):0;m.set(q,_e+1)}else{let _e=m.has(q)?m.get(q):0;if(_e-=1,m.set(q,Math.max(0,_e)),_e<0){let De=d.get(q);De||(De=new MC.S,d.set(q,De)),De.push(U.range)}}s=U.range.getEndPosition()}}static _bracketsLeftYield(e,n,o,s,d,m){const R=new Map,U=Date.now();for(;;){if(n>=a._maxRounds&&0===d.size){e();break}if(!s){e();break}let F=o.bracketPairs.findPrevBracket(s);if(!F){e();break}if(Date.now()-U>a._maxDuration){setTimeout(()=>a._bracketsLeftYield(e,n+1,o,s,d,m));break}const _e=F.close[0];if(F.isOpen){let De=R.has(_e)?R.get(_e):0;if(De-=1,R.set(_e,Math.max(0,De)),De<0){let Ke=d.get(_e);if(Ke){let ct=Ke.shift();0===Ke.size&&d.delete(_e);const Tt=It.e.fromPositions(F.range.getEndPosition(),ct.getStartPosition()),Ot=It.e.fromPositions(F.range.getStartPosition(),ct.getEndPosition());m.push({range:Tt}),m.push({range:Ot}),a._addBracketLeading(o,Ot,m)}}}else{let De=R.has(_e)?R.get(_e):0;R.set(_e,De+1)}s=F.range.getStartPosition()}}static _addBracketLeading(e,n,o){if(n.startLineNumber===n.endLineNumber)return;const s=n.startLineNumber,d=e.getLineFirstNonWhitespaceColumn(s);0!==d&&d!==n.startColumn&&(o.push({range:It.e.fromPositions(new qn.L(s,d),n.getEndPosition())}),o.push({range:It.e.fromPositions(new qn.L(s,1),n.getEndPosition())}));const m=s-1;if(m>0){const R=e.getLineFirstNonWhitespaceColumn(m);R===n.startColumn&&R!==e.getLineLastNonWhitespaceColumn(m)&&(o.push({range:It.e.fromPositions(new qn.L(m,R),n.getEndPosition())}),o.push({range:It.e.fromPositions(new qn.L(m,1),n.getEndPosition())}))}}}return a._maxDuration=30,a._maxRounds=2,a})();class pl{static create(t,e){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if(!e.getOption(106).localityBonus||!e.hasModel())return pl.None;const n=e.getModel(),o=e.getPosition();if(!t.canComputeWordRanges(n.uri))return pl.None;const[s]=yield(new xb).provideSelectionRanges(n,[o]);if(0===s.length)return pl.None;const d=yield t.computeWordRanges(n.uri,s[0].range);if(!d)return pl.None;const m=n.getWordUntilPosition(o);return delete d[m.word],new class extends pl{distance(R,U){if(!o.equals(e.getPosition()))return 0;if(17===U.kind)return 2<<20;let q=d["string"==typeof U.label?U.label:U.label.label];if((0,po.XY)(q))return 2<<20;let _e=(0,po.ry)(q,It.e.fromPositions(R),It.e.compareRangesUsingStarts),De=_e>=0?q[_e]:q[Math.max(0,~_e-1)],Ke=s.length;for(const ct of s){if(!It.e.containsRange(ct.range,De))break;Ke-=1}return Ke}}})}}pl.None=new class extends pl{distance(){return 0}};class Kd{constructor(t,e,n,o,s,d,m){this.clipboardText=m,this._snippetCompareFn=Kd._compareCompletionItems,this._items=t,this._column=e,this._wordDistance=o,this._options=s,this._refilterKind=1,this._lineContext=n,"top"===d?this._snippetCompareFn=Kd._compareCompletionItemsSnippetsUp:"bottom"===d&&(this._snippetCompareFn=Kd._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(t){(this._lineContext.leadingLineContent!==t.leadingLineContent||this._lineContext.characterCountDelta!==t.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<t.characterCountDelta&&this._filteredItems?2:1,this._lineContext=t)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const t=new Set;for(let[e,n]of this._providerInfo)n&&t.add(e);return t}adopt(t){let e=[];for(let n=0;n<this._items.length;)t.has(this._items[n].provider)?n++:(e.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,e}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const t=[],{leadingLineContent:e,characterCountDelta:n}=this._lineContext;let o="",s="";const d=1===this._refilterKind?this._items:this._filteredItems,m=[],R=!this._options.filterGraceful||d.length>2e3?Zs.EW:Zs.l7;for(let U=0;U<d.length;U++){const F=d[U];if(F.isInvalid)continue;this._providerInfo.set(F.provider,Boolean(F.container.incomplete));const q=F.position.column-F.editStart.column,_e=q+n-(F.position.column-this._column);if(o.length!==_e&&(o=0===_e?"":e.slice(-_e),s=o.toLowerCase()),F.word=o,0===_e)F.score=Zs.CL.Default;else{let De=0;for(;De<q;){const Ke=o.charCodeAt(De);if(32!==Ke&&9!==Ke)break;De+=1}if(De>=_e)F.score=Zs.CL.Default;else if("string"==typeof F.completion.filterText){let Ke=R(o,s,De,F.completion.filterText,F.filterTextLow,0,!1);if(!Ke)continue;0===(0,In.zY)(F.completion.filterText,F.textLabel)?F.score=Ke:(F.score=(0,Zs.jB)(o,s,De,F.textLabel,F.labelLow,0),F.score[0]=Ke[0])}else{let Ke=R(o,s,De,F.textLabel,F.labelLow,0,!1);if(!Ke)continue;F.score=Ke}}F.idx=U,F.distance=this._wordDistance.distance(F.position,F.completion),m.push(F),t.push(F.textLabel.length)}this._filteredItems=m.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:t.length?(0,po.HW)(t.length-.85,t,(U,F)=>U-F):0}}static _compareCompletionItems(t,e){return t.score[0]>e.score[0]?-1:t.score[0]<e.score[0]?1:t.distance<e.distance?-1:t.distance>e.distance?1:t.idx<e.idx?-1:t.idx>e.idx?1:0}static _compareCompletionItemsSnippetsDown(t,e){if(t.completion.kind!==e.completion.kind){if(27===t.completion.kind)return 1;if(27===e.completion.kind)return-1}return Kd._compareCompletionItems(t,e)}static _compareCompletionItemsSnippetsUp(t,e){if(t.completion.kind!==e.completion.kind){if(27===t.completion.kind)return-1;if(27===e.completion.kind)return 1}return Kd._compareCompletionItems(t,e)}}var $d=function(a,t){return function(e,n){t(e,n,a)}};class dh{constructor(t,e,n,o){this.leadingLineContent=t.getLineContent(e.lineNumber).substr(0,e.column-1),this.leadingWord=t.getWordUntilPosition(e),this.lineNumber=e.lineNumber,this.column=e.column,this.auto=n,this.shy=o}static shouldAutoTrigger(t){if(!t.hasModel())return!1;const e=t.getModel(),n=t.getPosition();e.tokenizeIfCheap(n.lineNumber);const o=e.getWordAtPosition(n);return!(!o||o.endColumn!==n.column||!isNaN(Number(o.word)))}}let p_=class vw{constructor(t,e,n,o,s,d,m,R){this._editor=t,this._editorWorkerService=e,this._clipboardService=n,this._telemetryService=o,this._logService=s,this._contextKeyService=d,this._configurationService=m,this._languageFeaturesService=R,this._toDispose=new At.SL,this._quickSuggestDelay=10,this._triggerCharacterListener=new At.SL,this._triggerQuickSuggest=new Hn._F,this._state=0,this._completionDisposables=new At.SL,this._onDidCancel=new zn.Q5,this._onDidTrigger=new zn.Q5,this._onDidSuggest=new zn.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new ui.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let U=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{U=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{U=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(F=>{U||this._onCursorChange(F)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{U||this._refilterCompletionItems()})),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){(0,At.B9)(this._triggerCharacterListener),(0,At.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(80),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const t=new Map;for(const n of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const o of n.triggerCharacters||[]){let s=t.get(o);s||(s=new Set,s.add(undefined),t.set(o,s)),s.add(n)}const e=n=>{if(!function(a,t,e){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=e.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==n&&Boolean(n)}(0,this._contextKeyService,this._configurationService)||dh.shouldAutoTrigger(this._editor))return;if(!n){const d=this._editor.getPosition();n=this._editor.getModel().getLineContent(d.lineNumber).substr(0,d.column-1)}let o="";(0,In.YK)(n.charCodeAt(n.length-1))?(0,In.ZG)(n.charCodeAt(n.length-2))&&(o=n.substr(n.length-2)):o=n.charAt(n.length-1);const s=t.get(o);if(s){const d=this._completionModel?{items:this._completionModel.adopt(s),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:o},Boolean(this._completionModel),s,d)}};this._triggerCharacterListener.add(this._editor.onDidType(e)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>e()))}get state(){return this._state}cancel(t=!1){var e;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(e=this._requestToken)||void 0===e||e.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:t}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(t){if(!this._editor.hasModel())return;const e=this._currentSelection;this._currentSelection=this._editor.getSelection(),!t.selection.isEmpty()||0!==t.reason&&3!==t.reason||"keyboard"!==t.source&&"deleteLeft"!==t.source?this.cancel():0===this._state&&0===t.reason?(e.containsRange(this._currentSelection)||e.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===t.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var t;!1!==this._editor.getOption(79)&&(this._editor.getOption(106).snippetsPreventQuickSuggestions&&(null===(t=Os.get(this._editor))||void 0===t?void 0:t.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state||!dh.shouldAutoTrigger(this._editor)||!this._editor.hasModel())return;const e=this._editor.getModel(),n=this._editor.getPosition(),o=this._editor.getOption(79);if(!1!==o){if(!0!==o){e.tokenizeIfCheap(n.lineNumber);const s=e.getLineTokens(n.lineNumber),d=s.getStandardTokenType(s.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if(!(o.other&&0===d||o.comments&&1===d||o.strings&&2===d))return}!function(a,t,e){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=e.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==n&&Boolean(n)}(0,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(e)||this.trigger({auto:!0,shy:!1})}},this._quickSuggestDelay)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state||!this._editor.hasModel())return;const t=this._editor.getModel(),e=this._editor.getPosition(),n=new dh(t,e,2===this._state,!1);this._onNewContext(n)})}trigger(t,e=!1,n,o){var s;if(!this._editor.hasModel())return;const d=this._editor.getModel(),m=t.auto,R=new dh(d,this._editor.getPosition(),m,t.shy);this.cancel(e),this._state=m?2:1,this._onDidTrigger.fire({auto:m,shy:t.shy,position:this._editor.getPosition()}),this._context=R;let U={triggerKind:null!==(s=t.triggerKind)&&void 0!==s?s:0};t.triggerCharacter&&(U={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new ii.A;const F=this._editor.getOption(101);let q=1;switch(F){case"top":q=0;break;case"bottom":q=2}const{itemKind:_e,showDeprecated:De}=vw._createSuggestFilter(this._editor),Ke=pl.create(this._editorWorkerService,this._editor),ct=nC(this._languageFeaturesService.completionProvider,d,this._editor.getPosition(),new _m(q,_e,n,De),U,this._requestToken.token);Promise.all([ct,Ke]).then(([Tt,Ot])=>function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){var tn;if(null===(tn=this._requestToken)||void 0===tn||tn.dispose(),!this._editor.hasModel())return;let on=null==o?void 0:o.clipboardText;if(!on&&Tt.needsClipboard&&(on=yield this._clipboardService.readText()),0===this._state)return;const Wn=this._editor.getModel();let An=Tt.items;if(o){const yi=iC(q);An=An.concat(o.items).sort(yi)}const Bi=new dh(Wn,this._editor.getPosition(),m,t.shy);this._completionModel=new Kd(An,this._context.column,{leadingLineContent:Bi.leadingLineContent,characterCountDelta:Bi.column-this._context.column},Ot,this._editor.getOption(106),this._editor.getOption(101),on),this._completionDisposables.add(Tt.disposable),this._onNewContext(Bi),this._reportDurationsTelemetry(Tt.durations)})).catch(Yn.dL)}_reportDurationsTelemetry(t){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(t)}),this._logService.debug("suggest.durations.json",t)})}static _createSuggestFilter(t){const e=new Set;"none"===t.getOption(101)&&e.add(27);const o=t.getOption(106);return o.showMethods||e.add(0),o.showFunctions||e.add(1),o.showConstructors||e.add(2),o.showFields||e.add(3),o.showVariables||e.add(4),o.showClasses||e.add(5),o.showStructs||e.add(6),o.showInterfaces||e.add(7),o.showModules||e.add(8),o.showProperties||e.add(9),o.showEvents||e.add(10),o.showOperators||e.add(11),o.showUnits||e.add(12),o.showValues||e.add(13),o.showConstants||e.add(14),o.showEnums||e.add(15),o.showEnumMembers||e.add(16),o.showKeywords||e.add(17),o.showWords||e.add(18),o.showColors||e.add(19),o.showFiles||e.add(20),o.showReferences||e.add(21),o.showColors||e.add(22),o.showFolders||e.add(23),o.showTypeParameters||e.add(24),o.showSnippets||e.add(27),o.showUsers||e.add(25),o.showIssues||e.add(26),{itemKind:e,showDeprecated:o.showDeprecated}}_onNewContext(t){if(this._context){if(t.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,In.V8)(t.leadingLineContent)!==(0,In.V8)(this._context.leadingLineContent))return void this.cancel();if(t.column<this._context.column)return void(t.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel());if(this._completionModel){if(0!==t.leadingWord.word.length&&t.leadingWord.startColumn>this._context.leadingWord.startColumn){const e=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(let o of this._completionModel.allProvider)e.delete(o);const n=this._completionModel.adopt(new Set);return void this.trigger({auto:this._context.auto,shy:!1},!0,e,{items:n,clipboardText:this._completionModel.clipboardText})}if(t.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==t.leadingWord.word.length){const{incomplete:e}=this._completionModel,n=this._completionModel.adopt(e);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,e,{items:n,clipboardText:this._completionModel.clipboardText})}else{let e=this._completionModel.lineContext,n=!1;if(this._completionModel.lineContext={leadingLineContent:t.leadingLineContent,characterCountDelta:t.column-this._context.column},0===this._completionModel.items.length){if(dh.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<t.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=e,n=this._completionModel.items.length>0,n&&0===t.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:n})}}}}};p_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([$d(1,Hf.p),$d(2,On.p),$d(3,Bl.b),$d(4,jm.VZ),$d(5,Qt.i6),$d(6,Vs.Ui),$d(7,wi.p)],p_);let NL=(()=>{class a{constructor(e,n){this._disposables=new At.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty||!e.hasModel())return;const o=e.getSelections(),s=o.length;let d=!1;for(let R=0;R<s;R++)if(!o[R].isEmpty()){d=!0;break}if(!d)return;this._lastOvertyped=[];const m=e.getModel();for(let R=0;R<s;R++){const U=o[R];if(m.getValueLengthInRange(U)>a._maxSelectionLength)return;this._lastOvertyped[R]={value:m.getValueInRange(U),multiline:U.startLineNumber!==U.endLineNumber}}this._empty=!1})),this._disposables.add(n.onDidCancel(o=>{!this._empty&&!o.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}return a._maxSelectionLength=51200,a})();p(19226);var IL=p(2393),PL=p(31096),__=(p(1494),function(a,t){return function(e,n){t(e,n,a)}});class C_ extends Ac{updateLabel(){const t=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!t)return super.updateLabel();this.label&&(this.label.textContent=(0,Me.N)("ddd","{0} ({1})",this._action.label,C_.symbolPrintEnter(t)))}static symbolPrintEnter(t){var e;return null===(e=t.getLabel())||void 0===e?void 0:e.replace(/\benter\b/gi,"\u23ce")}}let b_=class{constructor(t,e,n,o){this._menuService=n,this._contextKeyService=o,this._menuDisposables=new At.SL,this.element=rt.R3(t,rt.$(".suggest-status-bar"));const s=d=>d instanceof r.U8?e.createInstance(C_,d,void 0):void 0;this._leftActions=new Tc.o(this.element,{actionViewItemProvider:s}),this._rightActions=new Tc.o(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const t=this._menuService.createMenu(Rc,this._contextKeyService),e=()=>{const n=[],o=[];for(let[s,d]of t.getActions())"left"===s?n.push(...d):o.push(...d);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(o)};this._menuDisposables.add(t.onDidChange(()=>e())),this._menuDisposables.add(t)}hide(){this._menuDisposables.clear()}};b_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([__(1,Yi.TG),__(2,r.co),__(3,Qt.i6)],b_);const OL=(0,l.P6G)("symbolIcon.arrayForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),TL=(0,l.P6G)("symbolIcon.booleanForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),AL=(0,l.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,Me.N)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),RL=(0,l.P6G)("symbolIcon.colorForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),FL=(0,l.P6G)("symbolIcon.constantForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),BL=(0,l.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,Me.N)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),WL=(0,l.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,Me.N)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),VL=(0,l.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Me.N)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),HL=(0,l.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,Me.N)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zL=(0,l.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Me.N)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),UL=(0,l.P6G)("symbolIcon.fileForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jL=(0,l.P6G)("symbolIcon.folderForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),KL=(0,l.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,Me.N)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$L=(0,l.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Me.N)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ZL=(0,l.P6G)("symbolIcon.keyForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),GL=(0,l.P6G)("symbolIcon.keywordForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),QL=(0,l.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,Me.N)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),YL=(0,l.P6G)("symbolIcon.moduleForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),JL=(0,l.P6G)("symbolIcon.namespaceForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),XL=(0,l.P6G)("symbolIcon.nullForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qL=(0,l.P6G)("symbolIcon.numberForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e2=(0,l.P6G)("symbolIcon.objectForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),t2=(0,l.P6G)("symbolIcon.operatorForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n2=(0,l.P6G)("symbolIcon.packageForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i2=(0,l.P6G)("symbolIcon.propertyForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),o2=(0,l.P6G)("symbolIcon.referenceForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),s2=(0,l.P6G)("symbolIcon.snippetForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),r2=(0,l.P6G)("symbolIcon.stringForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a2=(0,l.P6G)("symbolIcon.structForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l2=(0,l.P6G)("symbolIcon.textForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c2=(0,l.P6G)("symbolIcon.typeParameterForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d2=(0,l.P6G)("symbolIcon.unitForeground",{dark:l.dRz,light:l.dRz,hc:l.dRz},(0,Me.N)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u2=(0,l.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,Me.N)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,_.Ic)((a,t)=>{const e=a.getColor(OL);e&&t.addRule(`${Zn.lA.symbolArray.cssSelector} { color: ${e}; }`);const n=a.getColor(TL);n&&t.addRule(`${Zn.lA.symbolBoolean.cssSelector} { color: ${n}; }`);const o=a.getColor(AL);o&&t.addRule(`${Zn.lA.symbolClass.cssSelector} { color: ${o}; }`);const s=a.getColor(QL);s&&t.addRule(`${Zn.lA.symbolMethod.cssSelector} { color: ${s}; }`);const d=a.getColor(RL);d&&t.addRule(`${Zn.lA.symbolColor.cssSelector} { color: ${d}; }`);const m=a.getColor(FL);m&&t.addRule(`${Zn.lA.symbolConstant.cssSelector} { color: ${m}; }`);const R=a.getColor(BL);R&&t.addRule(`${Zn.lA.symbolConstructor.cssSelector} { color: ${R}; }`);const U=a.getColor(WL);U&&t.addRule(`\n\t\t\t${Zn.lA.symbolValue.cssSelector},${Zn.lA.symbolEnum.cssSelector} { color: ${U}; }`);const F=a.getColor(VL);F&&t.addRule(`${Zn.lA.symbolEnumMember.cssSelector} { color: ${F}; }`);const q=a.getColor(HL);q&&t.addRule(`${Zn.lA.symbolEvent.cssSelector} { color: ${q}; }`);const _e=a.getColor(zL);_e&&t.addRule(`${Zn.lA.symbolField.cssSelector} { color: ${_e}; }`);const De=a.getColor(UL);De&&t.addRule(`${Zn.lA.symbolFile.cssSelector} { color: ${De}; }`);const Ke=a.getColor(jL);Ke&&t.addRule(`${Zn.lA.symbolFolder.cssSelector} { color: ${Ke}; }`);const ct=a.getColor(KL);ct&&t.addRule(`${Zn.lA.symbolFunction.cssSelector} { color: ${ct}; }`);const Tt=a.getColor($L);Tt&&t.addRule(`${Zn.lA.symbolInterface.cssSelector} { color: ${Tt}; }`);const Ot=a.getColor(ZL);Ot&&t.addRule(`${Zn.lA.symbolKey.cssSelector} { color: ${Ot}; }`);const tn=a.getColor(GL);tn&&t.addRule(`${Zn.lA.symbolKeyword.cssSelector} { color: ${tn}; }`);const on=a.getColor(YL);on&&t.addRule(`${Zn.lA.symbolModule.cssSelector} { color: ${on}; }`);const Wn=a.getColor(JL);Wn&&t.addRule(`${Zn.lA.symbolNamespace.cssSelector} { color: ${Wn}; }`);const An=a.getColor(XL);An&&t.addRule(`${Zn.lA.symbolNull.cssSelector} { color: ${An}; }`);const Bi=a.getColor(qL);Bi&&t.addRule(`${Zn.lA.symbolNumber.cssSelector} { color: ${Bi}; }`);const yi=a.getColor(e2);yi&&t.addRule(`${Zn.lA.symbolObject.cssSelector} { color: ${yi}; }`);const us=a.getColor(t2);us&&t.addRule(`${Zn.lA.symbolOperator.cssSelector} { color: ${us}; }`);const zs=a.getColor(n2);zs&&t.addRule(`${Zn.lA.symbolPackage.cssSelector} { color: ${zs}; }`);const Us=a.getColor(i2);Us&&t.addRule(`${Zn.lA.symbolProperty.cssSelector} { color: ${Us}; }`);const ya=a.getColor(o2);ya&&t.addRule(`${Zn.lA.symbolReference.cssSelector} { color: ${ya}; }`);const Va=a.getColor(s2);Va&&t.addRule(`${Zn.lA.symbolSnippet.cssSelector} { color: ${Va}; }`);const cr=a.getColor(r2);cr&&t.addRule(`${Zn.lA.symbolString.cssSelector} { color: ${cr}; }`);const br=a.getColor(a2);br&&t.addRule(`${Zn.lA.symbolStruct.cssSelector} { color: ${br}; }`);const Ha=a.getColor(l2);Ha&&t.addRule(`${Zn.lA.symbolText.cssSelector} { color: ${Ha}; }`);const Xc=a.getColor(c2);Xc&&t.addRule(`${Zn.lA.symbolTypeParameter.cssSelector} { color: ${Xc}; }`);const ru=a.getColor(d2);ru&&t.addRule(`${Zn.lA.symbolUnit.cssSelector} { color: ${ru}; }`);const au=a.getColor(u2);au&&t.addRule(`${Zn.lA.symbolVariable.cssSelector} { color: ${au}; }`)});class Lb{constructor(){this._onDidWillResize=new zn.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new zn.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new At.SL,this._size=new rt.Ro(0,0),this._minSize=new rt.Ro(0,0),this._maxSize=new rt.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new ol.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new ol.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new ol.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:ol.l.North}),this._southSash=new ol.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:ol.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t,e=0,n=0;this._sashListener.add(zn.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===t&&(this._onDidWillResize.fire(),t=this._size,e=0,n=0)})),this._sashListener.add(zn.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==t&&(t=void 0,e=0,n=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(o=>{t&&(n=o.currentX-o.startX,this.layout(t.height+e,t.width+n),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(o=>{t&&(n=-(o.currentX-o.startX),this.layout(t.height+e,t.width+n),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(o=>{t&&(e=-(o.currentY-o.startY),this.layout(t.height+e,t.width+n),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(o=>{t&&(e=o.currentY-o.startY,this.layout(t.height+e,t.width+n),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(zn.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(zn.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(t,e,n,o){this._northSash.state=t?3:0,this._eastSash.state=e?3:0,this._southSash.state=n?3:0,this._westSash.state=o?3:0}layout(t=this.size.height,e=this.size.width){const{height:n,width:o}=this._minSize,{height:s,width:d}=this._maxSize;t=Math.max(n,Math.min(s,t)),e=Math.max(o,Math.min(d,e));const m=new rt.Ro(e,t);rt.Ro.equals(m,this._size)||(this.domNode.style.height=t+"px",this.domNode.style.width=e+"px",this._size=m,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(t){this._maxSize=t}get maxSize(){return this._maxSize}set minSize(t){this._minSize=t}get minSize(){return this._minSize}set preferredSize(t){this._preferredSize=t}get preferredSize(){return this._preferredSize}}function v_(a){return!!a&&Boolean(a.completion.documentation||a.completion.detail&&a.completion.detail!==a.completion.label)}let w_=class{constructor(t,e){this._editor=t,this._onDidClose=new zn.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new zn.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new At.SL,this._renderDisposeable=new At.SL,this._borderWidth=1,this._size=new rt.Ro(330,0),this.domNode=rt.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=e.createInstance(Xl,{editor:t}),this._body=rt.$(".body"),this._scrollbar=new as.s$(this._body,{}),rt.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=rt.R3(this._body,rt.$(".header")),this._close=rt.R3(this._header,rt.$("span"+Zn.lA.close.cssSelector)),this._close.title=Me.N("details.close","Close"),this._type=rt.R3(this._header,rt.$("p.type")),this._docs=rt.R3(this._body,rt.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const t=this._editor.getOptions(),e=t.get(44),n=e.getMassagedFontFamily(Nt.isSafari?qo.hL.fontFamily:null),o=t.get(107)||e.fontSize,s=t.get(108)||e.lineHeight,d=e.fontWeight,R=`${s}px`;this.domNode.style.fontSize=`${o}px`,this.domNode.style.lineHeight=""+s/o,this.domNode.style.fontWeight=d,this.domNode.style.fontFeatureSettings=e.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=R,this._close.style.width=R}getLayoutInfo(){const t=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,e=this._borderWidth;return{lineHeight:t,borderWidth:e,borderHeight:2*e,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=Me.N("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(t,e){var n,o;this._renderDisposeable.clear();let{detail:s,documentation:d}=t.completion;if(e){let m="";m+=`score: ${t.score[0]}\n`,m+=`prefix: ${null!==(n=t.word)&&void 0!==n?n:"(no prefix)"}\n`,m+=`word: ${t.completion.filterText?t.completion.filterText+" (filterText)":t.textLabel}\n`,m+=`distance: ${t.distance} (localityBonus-setting)\n`,m+=`index: ${t.idx}, based on ${t.completion.sortText&&`sortText: "${t.completion.sortText}"`||"label"}\n`,m+=`commit_chars: ${null===(o=t.completion.commitCharacters)||void 0===o?void 0:o.join("")}\n`,d=(new zo.W5).appendCodeblock("empty",m),s=`Provider: ${t.provider._debugDisplayName}`}if(e||v_(t)){if(this.domNode.classList.remove("no-docs","no-type"),s){const m=s.length>1e5?`${s.substr(0,1e5)}\u2026`:s;this._type.textContent=m,this._type.title=m,rt.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(m))}else rt.PO(this._type),this._type.title="",rt.Cp(this._type),this.domNode.classList.add("no-type");if(rt.PO(this._docs),"string"==typeof d)this._docs.classList.remove("markdown-docs"),this._docs.textContent=d;else if(d){this._docs.classList.add("markdown-docs"),rt.PO(this._docs);const m=this._markdownRenderer.render(d);this._docs.appendChild(m.element),this._renderDisposeable.add(m),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=m=>{m.preventDefault(),m.stopPropagation()},this._close.onclick=m=>{m.preventDefault(),m.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(t,e){const n=new rt.Ro(t,e);rt.Ro.equals(n,this._size)||(this._size=n,rt.dp(this.domNode,t,e)),this._scrollbar.scanDomNode()}scrollDown(t=8){this._body.scrollTop+=t}scrollUp(t=8){this._body.scrollTop-=t}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(t){this._borderWidth=t}get borderWidth(){return this._borderWidth}};w_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Yi.TG)],w_);class g2{constructor(t,e){this.widget=t,this._editor=e,this._disposables=new At.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Lb,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(t.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let n,o,s=0,d=0;this._disposables.add(this._resizable.onDidWillResize(()=>{n=this._topLeft,o=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(m=>{if(n&&o){this.widget.layout(m.dimension.width,m.dimension.height);let R=!1;m.west&&(d=o.width-m.dimension.width,R=!0),m.north&&(s=o.height-m.dimension.height,R=!0),R&&this._applyTopLeft({top:n.top+s,left:n.left+d})}m.done&&(n=void 0,o=void 0,s=0,d=0,this._userSize=m.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var m;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(m=this._userSize)&&void 0!==m?m:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(t=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),t&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(t,e){var n;const o=t.getBoundingClientRect();this._anchorBox=o,this._preferAlignAtTop=e,this._placeAtAnchor(this._anchorBox,null!==(n=this._userSize)&&void 0!==n?n:this.widget.size,e)}_placeAtAnchor(t,e,n){var o;const s=rt.D6(document.body),d=this.widget.getLayoutInfo(),m=new rt.Ro(220,2*d.lineHeight),R=t.top,U=function(){const on=s.width-(t.left+t.width+d.borderWidth+d.horizontalPadding),Wn=-d.borderWidth+t.left+t.width,An=new rt.Ro(on,s.height-t.top-d.borderHeight-d.verticalPadding),Bi=An.with(void 0,t.top+t.height-d.borderHeight-d.verticalPadding);return{top:R,left:Wn,fit:on-e.width,maxSizeTop:An,maxSizeBottom:Bi,minSize:m.with(Math.min(on,m.width))}}(),_e=[U,function(){const on=t.left-d.borderWidth-d.horizontalPadding,Wn=Math.max(d.horizontalPadding,t.left-e.width-d.borderWidth),An=new rt.Ro(on,s.height-t.top-d.borderHeight-d.verticalPadding),Bi=An.with(void 0,t.top+t.height-d.borderHeight-d.verticalPadding);return{top:R,left:Wn,fit:on-e.width,maxSizeTop:An,maxSizeBottom:Bi,minSize:m.with(Math.min(on,m.width))}}(),function(){const on=t.left,Wn=-d.borderWidth+t.top+t.height,An=new rt.Ro(t.width-d.borderHeight,s.height-t.top-t.height-d.verticalPadding);return{top:Wn,left:on,fit:An.height-e.height,maxSizeBottom:An,maxSizeTop:An,minSize:m.with(An.width)}}()],De=null!==(o=_e.find(on=>on.fit>=0))&&void 0!==o?o:_e.sort((on,Wn)=>Wn.fit-on.fit)[0],Ke=t.top+t.height-d.borderHeight;let ct,Tt=e.height;const Ot=Math.max(De.maxSizeTop.height,De.maxSizeBottom.height);let tn;Tt>Ot&&(Tt=Ot),n?Tt<=De.maxSizeTop.height?(ct=!0,tn=De.maxSizeTop):(ct=!1,tn=De.maxSizeBottom):Tt<=De.maxSizeBottom.height?(ct=!1,tn=De.maxSizeBottom):(ct=!0,tn=De.maxSizeTop),this._applyTopLeft({left:De.left,top:ct?De.top:Ke-Tt}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!ct,De===U,ct,De!==U),this._resizable.minSize=De.minSize,this._resizable.maxSize=tn,this._resizable.layout(Tt,Math.min(tn.width,e.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(t){this._topLeft=t,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var _l=(()=>(function(a){a[a.FILE=0]="FILE",a[a.FOLDER=1]="FOLDER",a[a.ROOT_FOLDER=2]="ROOT_FOLDER"}(_l||(_l={})),_l))();const m2=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function $m(a,t,e,n){const o=n===_l.ROOT_FOLDER?["rootfolder-icon"]:n===_l.FOLDER?["folder-icon"]:["file-icon"];if(e){let s;if(e.scheme===ms.lg.data)s=Do.Vb.parseMetaData(e).get(Do.Vb.META_DATA_LABEL);else{const d=e.path.match(m2);d?(s=Zm(d[2].toLowerCase()),d[1]&&o.push(`${Zm(d[1].toLowerCase())}-name-dir-icon`)):s=Zm(e.authority.toLowerCase())}if(n===_l.FOLDER)o.push(`${s}-name-folder-icon`);else{if(s){if(o.push(`${s}-name-file-icon`),o.push("name-file-icon"),s.length<=255){const m=s.split(".");for(let R=1;R<m.length;R++)o.push(`${m.slice(R).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const d=function(a,t,e){if(!e)return null;let n=null;if(e.scheme===ms.lg.data){const s=Do.Vb.parseMetaData(e).get(Do.Vb.META_DATA_MIME);s&&(n=t.getLanguageIdByMimeType(s))}else{const o=a.getModel(e);o&&(n=o.getLanguageId())}return n&&n!==$u.bd?n:t.guessLanguageIdByFilepathOrFirstLine(e)}(a,t,e);d&&o.push(`${Zm(d)}-lang-file-icon`)}}return o}function Zm(a){return a.replace(/[\11\12\14\15\40]/g,"/")}var Zf,y_=function(a,t){return function(e,n){t(e,n,a)}};function Mb(a){return`suggest-aria-id:${a}`}const C2=(0,rr.q5)("suggest-more-info",Zn.lA.chevronRight,Me.N("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),b2=new(Zf=class Mp{extract(t,e){if(t.textLabel.match(Mp._regexStrict))return e[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(Mp._regexStrict))return e[0]=t.completion.detail,!0;if("string"==typeof t.completion.documentation){const n=Mp._regexRelaxed.exec(t.completion.documentation);if(n&&(0===n.index||n.index+n[0].length===t.completion.documentation.length))return e[0]=n[0],!0}return!1}},Zf._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Zf._regexStrict=new RegExp(`^${Zf._regexRelaxed.source}$`,"i"),Zf);let S_=class{constructor(t,e,n,o){this._editor=t,this._modelService=e,this._languageService=n,this._themeService=o,this._onDidToggleDetails=new zn.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(t){const e=Object.create(null);e.disposables=new At.SL,e.root=t,e.root.classList.add("show-file-icons"),e.icon=(0,rt.R3)(t,(0,rt.$)(".icon")),e.colorspan=(0,rt.R3)(e.icon,(0,rt.$)("span.colorspan"));const n=(0,rt.R3)(t,(0,rt.$)(".contents")),o=(0,rt.R3)(n,(0,rt.$)(".main"));e.iconContainer=(0,rt.R3)(o,(0,rt.$)(".icon-label.codicon")),e.left=(0,rt.R3)(o,(0,rt.$)("span.left")),e.right=(0,rt.R3)(o,(0,rt.$)("span.right")),e.iconLabel=new om.g(e.left,{supportHighlights:!0,supportIcons:!0}),e.disposables.add(e.iconLabel),e.parametersLabel=(0,rt.R3)(e.left,(0,rt.$)("span.signature-label")),e.qualifierLabel=(0,rt.R3)(e.left,(0,rt.$)("span.qualifier-label")),e.detailsLabel=(0,rt.R3)(e.right,(0,rt.$)("span.details-label")),e.readMore=(0,rt.R3)(e.right,(0,rt.$)("span.readMore"+_.kS.asCSSSelector(C2))),e.readMore.title=Me.N("readMore","Read More");const s=()=>{const d=this._editor.getOptions(),m=d.get(44),R=m.getMassagedFontFamily(Nt.isSafari?qo.hL.fontFamily:null),U=m.fontFeatureSettings,F=d.get(107)||m.fontSize,q=d.get(108)||m.lineHeight,_e=m.fontWeight,Ke=`${q}px`;e.root.style.fontSize=`${F}px`,e.root.style.fontWeight=_e,o.style.fontFamily=R,o.style.fontFeatureSettings=U,o.style.lineHeight=Ke,e.icon.style.height=Ke,e.icon.style.width=Ke,e.readMore.style.height=Ke,e.readMore.style.width=Ke};return s(),e.disposables.add(this._editor.onDidChangeConfiguration(d=>{(d.hasChanged(44)||d.hasChanged(107)||d.hasChanged(108))&&s()})),e}renderElement(t,e,n){const{completion:o}=t;n.root.id=Mb(e),n.colorspan.style.backgroundColor="";const s={labelEscapeNewLines:!0,matches:(0,Zs.mB)(t.score)};let d=[];if(19===o.kind&&b2.extract(t,d))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=d[0];else if(20===o.kind&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const m=$m(this._modelService,this._languageService,vo.o.from({scheme:"fake",path:t.textLabel}),_l.FILE),R=$m(this._modelService,this._languageService,vo.o.from({scheme:"fake",path:o.detail}),_l.FILE);s.extraClasses=m.length>R.length?m:R}else 23===o.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",s.extraClasses=(0,po.xH)([$m(this._modelService,this._languageService,vo.o.from({scheme:"fake",path:t.textLabel}),_l.FOLDER),$m(this._modelService,this._languageService,vo.o.from({scheme:"fake",path:o.detail}),_l.FOLDER)])):(n.icon.className="icon hide",n.iconContainer.className="",n.iconContainer.classList.add("suggest-icon",...Zn.dT.asClassNameArray(Ji.gX.toIcon(o.kind))));o.tags&&o.tags.indexOf(1)>=0&&(s.extraClasses=(s.extraClasses||[]).concat(["deprecated"]),s.matches=[]),n.iconLabel.setLabel(t.textLabel,void 0,s),"string"==typeof o.label?(n.parametersLabel.textContent="",n.detailsLabel.textContent=x_(o.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=x_(o.label.detail||""),n.detailsLabel.textContent=x_(o.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,rt.$Z)(n.detailsLabel):(0,rt.Cp)(n.detailsLabel),v_(t)?(n.right.classList.add("can-expand-details"),(0,rt.$Z)(n.readMore),n.readMore.onmousedown=m=>{m.stopPropagation(),m.preventDefault()},n.readMore.onclick=m=>{m.stopPropagation(),m.preventDefault(),this._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),(0,rt.Cp)(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(t){t.disposables.dispose()}};function x_(a){return a.replace(/\r\n|\r|\n/g,"")}S_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([y_(1,Ia.q),y_(2,$r.O),y_(3,_.XE)],S_);var Gm=function(a,t){return function(e,n){t(e,n,a)}};(0,l.P6G)("editorSuggestWidget.background",{dark:l.D0T,light:l.D0T,hc:l.D0T},Me.N("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,l.P6G)("editorSuggestWidget.border",{dark:l.D1_,light:l.D1_,hc:l.D1_},Me.N("editorSuggestWidgetBorder","Border color of the suggest widget."));const L_=(0,l.P6G)("editorSuggestWidget.foreground",{dark:l.NOs,light:l.NOs,hc:l.NOs},Me.N("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),y2=((0,l.P6G)("editorSuggestWidget.selectedForeground",{dark:l.NPS,light:l.NPS,hc:l.NPS},Me.N("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,l.P6G)("editorSuggestWidget.selectedIconForeground",{dark:l.cbQ,light:l.cbQ,hc:l.cbQ},Me.N("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,l.P6G)("editorSuggestWidget.selectedBackground",{dark:l.Vqd,light:l.Vqd,hc:l.Vqd},Me.N("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")));(0,l.P6G)("editorSuggestWidget.highlightForeground",{dark:l.Gwp,light:l.Gwp,hc:l.Gwp},Me.N("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,l.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:l.PX0,light:l.PX0,hc:l.PX0},Me.N("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,l.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,l.ZnX)(L_,.5),light:(0,l.ZnX)(L_,.5),hc:(0,l.ZnX)(L_,.5)},Me.N("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class S2{constructor(t,e){this._service=t,this._key=`suggestWidget.size/${e.getEditorType()}/${e instanceof Kl}`}restore(){var t;const e=null!==(t=this._service.get(this._key,0))&&void 0!==t?t:"";try{const n=JSON.parse(e);if(rt.Ro.is(n))return rt.Ro.lift(n)}catch{}}store(t){this._service.store(this._key,JSON.stringify(t),0,1)}reset(){this._service.remove(this._key,0)}}let Gf=class E1{constructor(t,e,n,o,s){this.editor=t,this._storageService=e,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new Hn._F,this._disposables=new At.SL,this._onDidSelect=new zn.Q5,this._onDidFocus=new zn.Q5,this._onDidHide=new zn.Q5,this._onDidShow=new zn.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new zn.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Lb,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new x2(this,t),this._persistedSize=new S2(e,t);class d{constructor(De,Ke,ct=!1,Tt=!1){this.persistedSize=De,this.currentSize=Ke,this.persistHeight=ct,this.persistWidth=Tt}}let m;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),m=new d(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(_e=>{var De,Ke,ct,Tt;if(this._resize(_e.dimension.width,_e.dimension.height),m&&(m.persistHeight=m.persistHeight||!!_e.north||!!_e.south,m.persistWidth=m.persistWidth||!!_e.east||!!_e.west),_e.done){if(m){const{itemHeight:Ot,defaultSize:tn}=this.getLayoutInfo(),on=Math.round(Ot/2);let{width:Wn,height:An}=this.element.size;(!m.persistHeight||Math.abs(m.currentSize.height-An)<=on)&&(An=null!==(Ke=null===(De=m.persistedSize)||void 0===De?void 0:De.height)&&void 0!==Ke?Ke:tn.height),(!m.persistWidth||Math.abs(m.currentSize.width-Wn)<=on)&&(Wn=null!==(Tt=null===(ct=m.persistedSize)||void 0===ct?void 0:ct.width)&&void 0!==Tt?Tt:tn.width),this._persistedSize.store(new rt.Ro(Wn,An))}this._contentWidget.unlockPreference(),m=void 0}})),this._messageElement=rt.R3(this.element.domNode,rt.$(".message")),this._listElement=rt.R3(this.element.domNode,rt.$(".tree"));const R=s.createInstance(w_,this.editor);R.onDidClose(this.toggleDetails,this,this._disposables),this._details=new g2(R,this.editor);const U=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);U();const F=s.createInstance(S_,this.editor);this._disposables.add(F),this._disposables.add(F.onDidToggleDetails(()=>this.toggleDetails())),this._list=new IL.aV("SuggestWidget",this._listElement,{getHeight:_e=>this.getLayoutInfo().itemHeight,getTemplateId:_e=>"suggestion"},[F],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>Me.N("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:_e=>{let De=_e.textLabel;if("string"!=typeof _e.completion.label){const{detail:Ot,description:tn}=_e.completion.label;Ot&&tn?De=Me.N("label.full","{0}{1}, {2}",De,Ot,tn):Ot?De=Me.N("label.detail","{0}{1}",De,Ot):tn&&(De=Me.N("label.desc","{0}, {1}",De,tn))}if(!_e.isResolved||!this._isDetailsVisible())return De;const{documentation:Ke,detail:ct}=_e.completion,Tt=In.WU("{0}{1}",ct||"",Ke?"string"==typeof Ke?Ke:Ke.value:"");return Me.N("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",De,Tt)}}}),this._status=s.createInstance(b_,this.element.domNode);const q=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);q(),this._disposables.add((0,am.Jl)(this._list,o,{listInactiveFocusBackground:y2,listInactiveFocusOutline:l.xL1})),this._disposables.add(o.onDidColorThemeChange(_e=>this._onThemeChange(_e))),this._onThemeChange(o.getColorTheme()),this._disposables.add(this._list.onMouseDown(_e=>this._onListMouseDownOrTap(_e))),this._disposables.add(this._list.onTap(_e=>this._onListMouseDownOrTap(_e))),this._disposables.add(this._list.onDidChangeSelection(_e=>this._onListSelection(_e))),this._disposables.add(this._list.onDidChangeFocus(_e=>this._onListFocus(_e))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(_e=>{_e.hasChanged(106)&&(q(),U())})),this._ctxSuggestWidgetVisible=Gi.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=Gi.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=Gi.MultipleSuggestions.bindTo(n),this._disposables.add(rt.mu(this._details.widget.domNode,"keydown",_e=>{this._onDetailsKeydown.fire(_e)})),this._disposables.add(this.editor.onMouseDown(_e=>this._onEditorMouseDown(_e)))}dispose(){var t;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(t=this._loadingTimeout)||void 0===t||t.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(t){this._details.widget.domNode.contains(t.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(t.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(t){void 0===t.element||void 0===t.index||(t.browserEvent.preventDefault(),t.browserEvent.stopPropagation(),this._select(t.element,t.index))}_onListSelection(t){t.elements.length&&this._select(t.elements[0],t.indexes[0])}_select(t,e){const n=this._completionModel;n&&(this._onDidSelect.fire({item:t,index:e,model:n}),this.editor.focus())}_onThemeChange(t){this._details.widget.borderWidth="hc"===t.type?2:1}_onListFocus(t){var e;if(this._ignoreFocusEvents)return;if(!t.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this._completionModel)return;const n=t.elements[0],o=t.indexes[0];n!==this._focusedItem&&(null===(e=this._currentSuggestionDetails)||void 0===e||e.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(o),this._currentSuggestionDetails=(0,Hn.PG)(s=>function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const d=(0,Hn.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),m=s.onCancellationRequested(()=>d.dispose()),R=yield n.resolve(s);return d.dispose(),m.dispose(),R})),this._currentSuggestionDetails.then(()=>{o>=this._list.length||n!==this._list.element(o)||(this._ignoreFocusEvents=!0,this._list.splice(o,1,[n]),this._list.setFocus([o]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Mb(o)}))}).catch(Yn.dL)),this._onDidFocus.fire({item:n,index:o,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:rt.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=E1.LOADING_MESSAGE,rt.Cp(this._listElement,this._status.element),rt.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=E1.NO_SUGGESTIONS_MESSAGE,rt.Cp(this._listElement,this._status.element),rt.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:rt.Cp(this._messageElement),rt.$Z(this._listElement,this._status.element),this._show();break;case 5:rt.Cp(this._messageElement),rt.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(t,e){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!t,this._isAuto||(this._loadingTimeout=(0,Hn.Vg)(()=>this._setState(1),e)))}showSuggestions(t,e,n,o){var s,d;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(s=this._loadingTimeout)||void 0===s||s.dispose(),null===(d=this._currentSuggestionDetails)||void 0===d||d.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==t&&(this._completionModel=t),n&&2!==this._state&&0!==this._state)return void this._setState(4);const m=this._completionModel.items.length,R=0===m;if(this._ctxSuggestWidgetMultipleSuggestions.set(m>1),R)return this._setState(o?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(e,0),this._list.setFocus([e]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(v_(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(t){this._details.show(),t?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var t;null===(t=this._loadingTimeout)||void 0===t||t.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const e=this._persistedSize.restore(),n=Math.ceil(4.3*this.getLayoutInfo().itemHeight);e&&e.height<n&&this._persistedSize.store(e.with(void 0,n))}isFrozen(){return 4===this._state}_afterRender(t){null!==t?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(t){var e,n,o;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const s=rt.D6(document.body),d=this.getLayoutInfo();t||(t=d.defaultSize);let m=t.height,R=t.width;if(this._status.element.style.lineHeight=`${d.itemHeight}px`,2===this._state||1===this._state)m=d.itemHeight+d.borderHeight,R=d.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new rt.Ro(R,m),this._contentWidget.setPreference(2);else{const U=s.width-d.borderHeight-2*d.horizontalPadding;R>U&&(R=U);const F=this._completionModel?this._completionModel.stats.pLabelLen*d.typicalHalfwidthCharacterWidth:R,q=d.statusBarHeight+this._list.contentHeight+d.borderHeight,_e=d.itemHeight+d.statusBarHeight,De=rt.i(this.editor.getDomNode()),Ke=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),Tt=Math.min(s.height-(De.top+Ke.top+Ke.height)-d.verticalPadding,q),Ot=De.top+Ke.top-d.verticalPadding,tn=Math.min(Ot,q);let on=Math.min(Math.max(tn,Tt)+d.borderHeight,q);m===(null===(e=this._cappedHeight)||void 0===e?void 0:e.capped)&&(m=this._cappedHeight.wanted),m<_e&&(m=_e),m>on&&(m=on);const Wn=150;m>Tt||this._forceRenderingAbove&&Ot>Wn?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),on=tn):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),on=Tt),this.element.preferredSize=new rt.Ro(F,d.defaultSize.height),this.element.maxSize=new rt.Ro(U,on),this.element.minSize=new rt.Ro(220,_e),this._cappedHeight=m===q?{wanted:null!==(o=null===(n=this._cappedHeight)||void 0===n?void 0:n.wanted)&&void 0!==o?o:t.height,capped:m}:void 0}this._resize(R,m)}_resize(t,e){const{width:n,height:o}=this.element.maxSize;t=Math.min(n,t),e=Math.min(o,e);const{statusBarHeight:s}=this.getLayoutInfo();this._list.layout(e-s,t),this._listElement.style.height=e-s+"px",this.element.layout(e,t),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var t;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(t=this._contentWidget.getPosition())||void 0===t?void 0:t.preference[0]))}getLayoutInfo(){const t=this.editor.getOption(44),e=(0,PL.uZ)(this.editor.getOption(108)||t.lineHeight,8,1e3),n=this.editor.getOption(106).showStatusBar&&2!==this._state&&1!==this._state?e:0,o=this._details.widget.borderWidth,s=2*o;return{itemHeight:e,statusBarHeight:n,borderWidth:o,borderHeight:s,typicalHalfwidthCharacterWidth:t.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new rt.Ro(430,n+12*e+s)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(t){this._storageService.store("expandSuggestionDocs",t,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Gf.LOADING_MESSAGE=Me.N("suggestWidget.loading","Loading..."),Gf.NO_SUGGESTIONS_MESSAGE=Me.N("suggestWidget.noSuggestions","No suggestions."),Gf=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Gm(1,rs.Uy),Gm(2,Qt.i6),Gm(3,_.XE),Gm(4,Yi.TG)],Gf);class x2{constructor(t,e){this._widget=t,this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:t,width:e}=this._widget.element.size,{borderWidth:n,horizontalPadding:o}=this._widget.getLayoutInfo();return new rt.Ro(e+2*n+o,t+2*n)}afterRender(t){this._widget._afterRender(t)}setPreference(t){this._preferenceLocked||(this._preference=t)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(t){this._position=t}}var uh=function(a,t){return function(e,n){t(e,n,a)}};class D2{constructor(t,e){if(this._model=t,this._position=e,t.getLineMaxColumn(e.lineNumber)!==e.column){const o=t.getOffsetAt(e),s=t.getPositionAt(o+1);this._marker=t.deltaDecorations([],[{range:It.e.fromPositions(e,s),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(t){if(this._model.isDisposed()||this._position.lineNumber!==t.lineNumber)return 0;if(this._marker){const e=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(e.getStartPosition())-this._model.getOffsetAt(t)}return this._model.getLineMaxColumn(t.lineNumber)-t.column}}let va=class ww{constructor(t,e,n,o,s,d,m){this._memoryService=e,this._commandService=n,this._contextKeyService=o,this._instantiationService=s,this._logService=d,this._telemetryService=m,this._lineSuffix=new At.XK,this._toDispose=new At.SL,this._selectors=new E2(q=>q.priority),this._telemetryGate=0,this.editor=t,this.model=s.createInstance(p_,this.editor);const R=Gi.InsertMode.bindTo(o);R.set(t.getOption(106).insertMode),this.model.onDidTrigger(()=>R.set(t.getOption(106).insertMode)),this.widget=this._toDispose.add(new Hn.Ue(()=>{const q=this._instantiationService.createInstance(Gf,this.editor);this._toDispose.add(q),this._toDispose.add(q.onDidSelect(Tt=>this._insertSuggestion(Tt,0),this));const _e=new yL(this.editor,q,Tt=>this._insertSuggestion(Tt,2));this._toDispose.add(_e),this._toDispose.add(this.model.onDidSuggest(Tt=>{0===Tt.completionModel.items.length&&_e.reset()}));const De=Gi.MakesTextEdit.bindTo(this._contextKeyService),Ke=Gi.HasInsertAndReplaceRange.bindTo(this._contextKeyService),ct=Gi.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,At.OF)(()=>{De.reset(),Ke.reset(),ct.reset()})),this._toDispose.add(q.onDidFocus(({item:Tt})=>{const Ot=this.editor.getPosition(),tn=Tt.editStart.column,on=Ot.column;let Wn=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!Tt.completion.additionalTextEdits&&!(4&Tt.completion.insertTextRules)&&on-tn===Tt.completion.insertText.length&&(Wn=this.editor.getModel().getValueInRange({startLineNumber:Ot.lineNumber,startColumn:tn,endLineNumber:Ot.lineNumber,endColumn:on})!==Tt.completion.insertText),De.set(Wn),Ke.set(!qn.L.equals(Tt.editInsertEnd,Tt.editReplaceEnd)),ct.set(Boolean(Tt.provider.resolveCompletionItem)||Boolean(Tt.completion.documentation)||Tt.completion.detail!==Tt.completion.label)})),this._toDispose.add(q.onDetailsKeyDown(Tt=>{Tt.toKeybinding().equals(new bb.QC(!0,!1,!1,!1,33))||Ht.dz&&Tt.toKeybinding().equals(new bb.QC(!1,!1,!1,!0,33))?Tt.stopPropagation():Tt.toKeybinding().isModifierKey()||this.editor.focus()})),q})),this._overtypingCapturer=this._toDispose.add(new Hn.Ue(()=>this._toDispose.add(new NL(this.editor,this.model)))),this._alternatives=this._toDispose.add(new Hn.Ue(()=>this._toDispose.add(new jd(this.editor,this._contextKeyService)))),this._toDispose.add(s.createInstance($f,t)),this._toDispose.add(this.model.onDidTrigger(q=>{this.widget.value.showTriggered(q.auto,q.shy?250:50),this._lineSuffix.value=new D2(this.editor.getModel(),q.position)})),this._toDispose.add(this.model.onDidSuggest(q=>{if(!q.shy){let _e=-1;for(const De of this._selectors.itemsOrderedByPriorityDesc)if(_e=De.select(this.editor.getModel(),this.editor.getPosition(),q.completionModel.items),-1!==_e)break;-1===_e&&(_e=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),q.completionModel.items)),this.widget.value.showSuggestions(q.completionModel,_e,q.isFrozen,q.auto)}})),this._toDispose.add(this.model.onDidCancel(q=>{q.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));let U=Gi.AcceptSuggestionsOnEnter.bindTo(o),F=()=>{const q=this.editor.getOption(1);U.set("on"===q||"smart"===q)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>F())),F()}static get(t){return t.getContribution(ww.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(t,e){if(!t||!t.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const n=Os.get(this.editor);if(!n)return;const o=this.editor.getModel(),s=o.getAlternativeVersionId(),{item:d}=t,m=[],R=new ii.A;1&e||this.editor.pushUndoStop();const U=this.getOverwriteInfo(d,Boolean(8&e));if(this._memoryService.memorize(o,this.editor.getPosition(),d),Array.isArray(d.completion.additionalTextEdits)){const q=Pc.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",d.completion.additionalTextEdits.map(_e=>ls.h.replace(It.e.lift(_e.range),_e.text))),q.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!d.isResolved){const q=new Xr.G(!0);let _e;const De=o.onDidChangeContent(Ot=>{if(Ot.isFlush)return R.cancel(),void De.dispose();for(let tn of Ot.changes){const on=It.e.getEndPosition(tn.range);(!_e||qn.L.isBefore(on,_e))&&(_e=on)}});let Ke=e;e|=2;let ct=!1,Tt=this.editor.onWillType(()=>{Tt.dispose(),ct=!0,2&Ke||this.editor.pushUndoStop()});m.push(d.resolve(R.token).then(()=>{if(!d.completion.additionalTextEdits||R.token.isCancellationRequested||_e&&d.completion.additionalTextEdits.some(tn=>qn.L.isBefore(_e,It.e.getStartPosition(tn.range))))return!1;ct&&this.editor.pushUndoStop();const Ot=Pc.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",d.completion.additionalTextEdits.map(tn=>ls.h.replace(It.e.lift(tn.range),tn.text))),Ot.restoreRelativeVerticalPositionOfCursor(this.editor),(ct||!(2&Ke))&&this.editor.pushUndoStop(),!0}).then(Ot=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",q.elapsed(),Ot),De.dispose(),Tt.dispose()}))}let{insertText:F}=d.completion;4&d.completion.insertTextRules||(F=pm.escape(F)),n.insert(F,{overwriteBefore:U.overwriteBefore,overwriteAfter:U.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&d.completion.insertTextRules),clipboardText:t.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&e||this.editor.pushUndoStop(),d.completion.command?d.completion.command.id===Db.id?this.model.trigger({auto:!0,shy:!1},!0):(m.push(this._commandService.executeCommand(d.completion.command.id,...d.completion.command.arguments?[...d.completion.command.arguments]:[]).catch(Yn.dL)),this.model.cancel()):this.model.cancel(),4&e&&this._alternatives.value.set(t,q=>{for(R.cancel();o.canUndo();){s!==o.getAlternativeVersionId()&&o.undo(),this._insertSuggestion(q,3|(8&e?8:0));break}}),this._alertCompletionItem(d),Promise.all(m).finally(()=>{this._reportSuggestionAcceptedTelemetry(o,t),this.model.clear(),R.dispose()})}_reportSuggestionAcceptedTelemetry(t,e){var n;if(this._telemetryGate++%100!=0)return;const o=(null!==(n=e.item.provider._debugDisplayName)&&void 0!==n?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:o,basenameHash:(0,Og.vp)((0,Do.EZ)(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:(0,Do.DZ)(t.uri)})}getOverwriteInfo(t,e){(0,Ki.p_)(this.editor.hasModel());let n="replace"===this.editor.getOption(106).insertMode;e&&(n=!n);const s=(n?t.editReplaceEnd.column:t.editInsertEnd.column)-t.position.column;return{overwriteBefore:t.position.column-t.editStart.column+(this.editor.getPosition().column-t.position.column),overwriteAfter:s+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(t){if((0,po.Of)(t.completion.additionalTextEdits)){let e=Me.N("aria.alert.snippet","Accepting '{0}' made {1} additional edits",t.textLabel,t.completion.additionalTextEdits.length);(0,Es.Z9)(e)}}triggerSuggest(t,e){this.editor.hasModel()&&(this.model.trigger({auto:e??!1,shy:!1},!1,t),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(t){if(!this.editor.hasModel())return;const e=this.editor.getPosition(),n=()=>{e.equals(this.editor.getPosition())&&this._commandService.executeCommand(t.fallback)},o=s=>{if(4&s.completion.insertTextRules||s.completion.additionalTextEdits)return!0;const d=this.editor.getPosition(),m=s.editStart.column,R=d.column;return R-m!==s.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:d.lineNumber,startColumn:m,endLineNumber:d.lineNumber,endColumn:R})!==s.completion.insertText};zn.ju.once(this.model.onDidTrigger)(s=>{let d=[];zn.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,At.B9)(d),n()},void 0,d),this.model.onDidSuggest(({completionModel:m})=>{if((0,At.B9)(d),0===m.items.length)return void n();const R=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),m.items),U=m.items[R];o(U)?(this.editor.pushUndoStop(),this._insertSuggestion({index:R,item:U,model:m},7)):n()},void 0,d)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(e,0),this.editor.focus()}acceptSelectedSuggestion(t,e){const n=this.widget.value.getFocusedItem();let o=0;t&&(o|=4),e&&(o|=8),this._insertSuggestion(n,o)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(t){return this._selectors.register(t)}};va.ID="editor.contrib.suggestController",va=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([uh(1,Sb),uh(2,to.Hy),uh(3,Qt.i6),uh(4,Yi.TG),uh(5,jm.VZ),uh(6,Bl.b)],va);class E2{constructor(t){this.prioritySelector=t,this._items=new Array}register(t){if(-1!==this._items.indexOf(t))throw new Error("Value is already registered");return this._items.push(t),this._items.sort((e,n)=>this.prioritySelector(n)-this.prioritySelector(e)),{dispose:()=>{const e=this._items.indexOf(t);e>=0&&this._items.splice(e,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}let Db=(()=>{class a extends Xe.R6{constructor(){super({id:a.id,label:Me.N("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Qt.Ao.and(pt.u.writable,pt.u.hasCompletionItemProvider),kbOpts:{kbExpr:pt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,n,o){const s=va.get(n);if(!s)return;let d;o&&"object"==typeof o&&!0===o.auto&&(d=!0),s.triggerSuggest(void 0,d)}}return a.id="editor.action.triggerSuggest",a})();(0,Xe._K)(va.ID,va),(0,Xe.Qr)(Db);const na=190,Fr=Xe._l.bindToContribution(va.get);(0,Xe.fK)(new Fr({id:"acceptSelectedSuggestion",precondition:Gi.Visible,handler(a){a.acceptSelectedSuggestion(!0,!1)}})),kr.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Qt.Ao.and(Gi.Visible,pt.u.textInputFocus),primary:2,weight:na}),kr.W.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Qt.Ao.and(Gi.Visible,pt.u.textInputFocus,Gi.AcceptSuggestionsOnEnter,Gi.MakesTextEdit),primary:3,weight:na}),r.BH.appendMenuItem(Rc,{command:{id:"acceptSelectedSuggestion",title:Me.N("accept.insert","Insert")},group:"left",order:1,when:Gi.HasInsertAndReplaceRange.toNegated()}),r.BH.appendMenuItem(Rc,{command:{id:"acceptSelectedSuggestion",title:Me.N("accept.insert","Insert")},group:"left",order:1,when:Qt.Ao.and(Gi.HasInsertAndReplaceRange,Gi.InsertMode.isEqualTo("insert"))}),r.BH.appendMenuItem(Rc,{command:{id:"acceptSelectedSuggestion",title:Me.N("accept.replace","Replace")},group:"left",order:1,when:Qt.Ao.and(Gi.HasInsertAndReplaceRange,Gi.InsertMode.isEqualTo("replace"))}),(0,Xe.fK)(new Fr({id:"acceptAlternativeSelectedSuggestion",precondition:Qt.Ao.and(Gi.Visible,pt.u.textInputFocus),kbOpts:{weight:na,kbExpr:pt.u.textInputFocus,primary:1027,secondary:[1026]},handler(a){a.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Rc,group:"left",order:2,when:Qt.Ao.and(Gi.HasInsertAndReplaceRange,Gi.InsertMode.isEqualTo("insert")),title:Me.N("accept.replace","Replace")},{menuId:Rc,group:"left",order:2,when:Qt.Ao.and(Gi.HasInsertAndReplaceRange,Gi.InsertMode.isEqualTo("replace")),title:Me.N("accept.insert","Insert")}]})),to.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,Xe.fK)(new Fr({id:"hideSuggestWidget",precondition:Gi.Visible,handler:a=>a.cancelSuggestWidget(),kbOpts:{weight:na,kbExpr:pt.u.textInputFocus,primary:9,secondary:[1033]}})),(0,Xe.fK)(new Fr({id:"selectNextSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectNextSuggestion(),kbOpts:{weight:na,kbExpr:pt.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,Xe.fK)(new Fr({id:"selectNextPageSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectNextPageSuggestion(),kbOpts:{weight:na,kbExpr:pt.u.textInputFocus,primary:12,secondary:[2060]}})),(0,Xe.fK)(new Fr({id:"selectLastSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectLastSuggestion()})),(0,Xe.fK)(new Fr({id:"selectPrevSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectPrevSuggestion(),kbOpts:{weight:na,kbExpr:pt.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,Xe.fK)(new Fr({id:"selectPrevPageSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectPrevPageSuggestion(),kbOpts:{weight:na,kbExpr:pt.u.textInputFocus,primary:11,secondary:[2059]}})),(0,Xe.fK)(new Fr({id:"selectFirstSuggestion",precondition:Qt.Ao.and(Gi.Visible,Gi.MultipleSuggestions),handler:a=>a.selectFirstSuggestion()})),(0,Xe.fK)(new Fr({id:"toggleSuggestionDetails",precondition:Gi.Visible,handler:a=>a.toggleSuggestionDetails(),kbOpts:{weight:na,kbExpr:pt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Rc,group:"right",order:1,when:Qt.Ao.and(Gi.DetailsVisible,Gi.CanResolve),title:Me.N("detail.more","show less")},{menuId:Rc,group:"right",order:1,when:Qt.Ao.and(Gi.DetailsVisible.toNegated(),Gi.CanResolve),title:Me.N("detail.less","show more")}]})),(0,Xe.fK)(new Fr({id:"toggleExplainMode",precondition:Gi.Visible,handler:a=>a.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,Xe.fK)(new Fr({id:"toggleSuggestionFocus",precondition:Gi.Visible,handler:a=>a.toggleSuggestionFocus(),kbOpts:{weight:na,kbExpr:pt.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,Xe.fK)(new Fr({id:"insertBestCompletion",precondition:Qt.Ao.and(pt.u.textInputFocus,Qt.Ao.equals("config.editor.tabCompletion","on"),$f.AtEnd,Gi.Visible.toNegated(),jd.OtherSuggestions.toNegated(),Os.InSnippetMode.toNegated()),handler:(a,t)=>{a.triggerSuggestAndAcceptBest((0,Ki.Kn)(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:na,primary:2}})),(0,Xe.fK)(new Fr({id:"insertNextSuggestion",precondition:Qt.Ao.and(pt.u.textInputFocus,Qt.Ao.equals("config.editor.tabCompletion","on"),jd.OtherSuggestions,Gi.Visible.toNegated(),Os.InSnippetMode.toNegated()),handler:a=>a.acceptNextSuggestion(),kbOpts:{weight:na,kbExpr:pt.u.textInputFocus,primary:2}})),(0,Xe.fK)(new Fr({id:"insertPrevSuggestion",precondition:Qt.Ao.and(pt.u.textInputFocus,Qt.Ao.equals("config.editor.tabCompletion","on"),jd.OtherSuggestions,Gi.Visible.toNegated(),Os.InSnippetMode.toNegated()),handler:a=>a.acceptPrevSuggestion(),kbOpts:{weight:na,kbExpr:pt.u.textInputFocus,primary:1026}})),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:Me.N("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(a,t){var e;null===(e=va.get(t))||void 0===e||e.resetWidgetSize()}});class N2 extends At.JT{constructor(t,e){super(),this.editor=t,this.suggestControllerPreselector=e,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new zn.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new Hn.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(t.onKeyDown(o=>{o.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(t.onKeyUp(o=>{o.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const n=va.get(this.editor);if(n){this._register(n.registerSelector({priority:100,select:(d,m,R)=>{const U=this.editor.getModel(),F=Um(U,this.suggestControllerPreselector());if(!F)return-1;const q=qn.L.lift(m),_e=R.map((Ke,ct)=>{const Tt=Eb(n,q,Ke,this.isShiftKeyPressed),Ot=Um(U,null==Tt?void 0:Tt.normalizedInlineCompletion);if(!Ot)return;const tn=function(a,t){return t.startLineNumber===a.startLineNumber&&t.startColumn===a.startColumn&&(t.endLineNumber<a.endLineNumber||t.endLineNumber===a.endLineNumber&&t.endColumn<=a.endColumn)}(F.range,Ot.range)&&F.text.startsWith(Ot.text);return{index:ct,valid:tn,prefixLength:Ot.text.length,suggestItem:Ke}}).filter(Ke=>Ke&&Ke.valid),De=(0,po.Dc)(_e,(0,po.tT)(Ke=>Ke.prefixLength,po.fv));return De?De.index:-1}}));let o=!1;const s=()=>{o||(o=!0,this._register(n.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(n.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(n.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(zn.ju.once(n.model.onDidTrigger)(d=>{s()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(t){const e=this.getSuggestItemInfo();let n=!1;(function(a,t){return a===t||!(!a||!t)&&a.completionItemKind===t.completionItemKind&&a.isSnippetText===t.isSnippetText&&function(a,t){return a===t||!(!a||!t)&&a.range.equalsRange(t.range)&&a.text===t.text&&a.command===t.command}(a.normalizedInlineCompletion,t.normalizedInlineCompletion)})(this._currentSuggestItemInfo,e)||(this._currentSuggestItemInfo=e,n=!0),this._isActive!==t&&(this._isActive=t,n=!0),n&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const t=va.get(this.editor);if(!t||!this.isSuggestWidgetVisible)return;const e=t.widget.value.getFocusedItem();return e?Eb(t,this.editor.getPosition(),e.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const t=va.get(this.editor);t&&t.stopForceRenderingAbove()}forceRenderingAbove(){const t=va.get(this.editor);t&&t.forceRenderingAbove()}}function Eb(a,t,e,n){if(Array.isArray(e.completion.additionalTextEdits)&&e.completion.additionalTextEdits.length>0)return{completionItemKind:e.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:It.e.fromPositions(t,t),text:""}};let{insertText:o}=e.completion,s=!1;if(4&e.completion.insertTextRules){const m=(new pm).parse(o),R=a.editor.getModel();if(m.children.length>100)return;ml.adjustWhitespace(R,t,m,!0,!0),o=m.toString(),s=!0}const d=a.getOverwriteInfo(e,n);return{isSnippetText:s,completionItemKind:e.completion.kind,normalizedInlineCompletion:{text:o,range:It.e.fromPositions(t.delta(0,-d.overwriteBefore),t.delta(0,Math.max(d.overwriteAfter,0)))}}}var Nb=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};let M_=class extends gb{constructor(t,e,n){super(t),this.cache=e,this.languageFeaturesService=n,this.suggestionInlineCompletionSource=this._register(new N2(this.editor,()=>{var o,s;return null===(s=null===(o=this.cache.value)||void 0===o?void 0:o.completions[0])||void 0===s?void 0:s.toLiveInlineCompletion()})),this.updateOperation=this._register(new At.XK),this.updateCacheSoon=this._register(new Hn.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const s=this.ghostText;s&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,function(a){return a.reduce((t,e)=>t+e,0)}(s.parts.map(d=>d.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(o=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,At.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return Nb(this,void 0,void 0,function*(){const t=this.suggestionInlineCompletionSource.state;if(!t||!t.selectedItem)return;const e={text:t.selectedItem.normalizedInlineCompletion.text,range:t.selectedItem.normalizedInlineCompletion.range,isSnippetText:t.selectedItem.isSnippetText,completionKind:t.selectedItem.completionItemKind},n=this.editor.getPosition(),o=(0,Hn.PG)(d=>Nb(this,void 0,void 0,function*(){let m;try{m=yield _b(this.languageFeaturesService.inlineCompletionsProvider,n,this.editor.getModel(),{triggerKind:Ji.bw.Automatic,selectedSuggestionInfo:e},d)}catch(R){return void(0,Yn.dL)(R)}d.isCancellationRequested||(this.cache.setValue(this.editor,m,Ji.bw.Automatic),this.onDidChangeEmitter.fire())})),s=new pb(o,Ji.bw.Automatic);this.updateOperation.value=s,yield o,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var t,e,n;const o=this.isSuggestionPreviewEnabled(),s=Um(this.editor.getModel(),null===(e=null===(t=this.cache.value)||void 0===t?void 0:t.completions[0])||void 0===e?void 0:e.toLiveInlineCompletion()),d=this.suggestionInlineCompletionSource.state,m=Um(this.editor.getModel(),null===(n=null==d?void 0:d.selectedItem)||void 0===n?void 0:n.normalizedInlineCompletion),R=s&&m&&s.text.startsWith(m.text)&&s.range.equalsRange(m.range);if(!o&&!R)return;const U=R?s:m||s;return this.toGhostText(U,R?U.text.length-m.text.length:0)}toGhostText(t,e){const n=this.editor.getOptions().get(106).previewMode;return t?mb(t,this.editor.getModel(),n,this.editor.getPosition(),e)||new hb(t.range.endLineNumber,[],this.minReservedLineCount):void 0}};M_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,2)}}(0,wi.p)],M_);class W2 extends At.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new zn.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new At.XK)}get targetModel(){var t;return null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object}setTargetModel(t){var e;(null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)!==t&&(this.currentModelRef.clear(),this.currentModelRef.value=t?function(a,t){return{object:a,dispose:()=>null==t?void 0:t.dispose()}}(t,t.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var t,e;return this.hasCachedGhostText||(this.cachedGhostText=null===(e=null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)||void 0===e?void 0:e.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(t){var e;null===(e=this.targetModel)||void 0===e||e.setExpanded(t)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let D_=class extends W2{constructor(t,e){super(),this.editor=t,this.instantiationService=e,this.sharedCache=this._register(new V2),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(M_,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(h_,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(t){var e;const n=null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText;return!!n&&n.parts.some(o=>t.containsPosition(new qn.L(n.lineNumber,o.column)))}triggerInlineCompletion(){var t;null===(t=this.activeInlineCompletionsModel)||void 0===t||t.trigger(Ji.bw.Explicit)}commitInlineCompletion(){var t;null===(t=this.activeInlineCompletionsModel)||void 0===t||t.commitCurrentSuggestion()}hideInlineCompletion(){var t;null===(t=this.activeInlineCompletionsModel)||void 0===t||t.hide()}showNextInlineCompletion(){var t;null===(t=this.activeInlineCompletionsModel)||void 0===t||t.showNext()}showPreviousInlineCompletion(){var t;null===(t=this.activeInlineCompletionsModel)||void 0===t||t.showPrevious()}hasMultipleInlineCompletions(){var t;return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const e=yield null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.hasMultipleInlineCompletions();return void 0!==e&&e})}};D_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Yi.TG)],D_);class V2 extends At.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new zn.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new At.XK)}get value(){return this.cache.value}setValue(t,e,n){this.cache.value=new nL(t,e,()=>this.onDidChangeEmitter.fire(),n)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}p(4946);var E_,H2=p(5928),z2=p(53269),Ib=p(82287),Pb=p(19362),kb=function(a,t){return function(e,n){t(e,n,a)}};const Ob=null===(E_=window.trustedTypes)||void 0===E_?void 0:E_.createPolicy("editorGhostText",{createHTML:a=>a});let N_=class extends At.JT{constructor(t,e,n,o){super(),this.editor=t,this.model=e,this.instantiationService=n,this.languageService=o,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(j2,this.editor)),this.additionalLinesWidget=this._register(new K2(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(s=>{(s.hasChanged(29)||s.hasChanged(105)||s.hasChanged(88)||s.hasChanged(83)||s.hasChanged(45)||s.hasChanged(44)||s.hasChanged(59))&&this.update()})),this._register((0,At.OF)(()=>{var s;this.disposed=!0,this.update(),null===(s=this.viewMoreContentWidget)||void 0===s||s.dispose(),this.viewMoreContentWidget=void 0})),this._register(e.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(t){return this.additionalLinesWidget.viewZoneId===t}update(){var t;const e=this.model.ghostText;if(!this.editor.hasModel()||!e||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const n=new Array,o=new Array;function s(U,F){if(o.length>0){const q=o[o.length-1];F&&q.decorations.push(new Ib.Kp(q.content.length+1,q.content.length+1+U[0].length,F,0)),q.content+=U[0],U=U.slice(1)}for(const q of U)o.push({content:q,decorations:F?[new Ib.Kp(1,q.length+1,F,0)]:[]})}const d=this.editor.getModel().getLineContent(e.lineNumber);this.editor.getModel().getLineTokens(e.lineNumber);let m,R=0;for(const U of e.parts){let F=U.lines;void 0===m?(n.push({column:U.column,text:F[0],preview:U.preview}),F=F.slice(1)):s([d.substring(R,U.column-1)],void 0),F.length>0&&(s(F,"ghost-text"),void 0===m&&U.column<=d.length&&(m=U.column)),R=U.column-1}void 0!==m&&s([d.substring(R)],void 0),this.partsWidget.setParts(e.lineNumber,n,void 0!==m?{column:m,length:d.length+1-m}:void 0),this.additionalLinesWidget.updateLines(e.lineNumber,o,e.additionalReservedLineCount),e.parts.some(U=>U.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new qn.L(e.lineNumber,this.editor.getModel().getLineMaxColumn(e.lineNumber)),"",0):(null===(t=this.viewMoreContentWidget)||void 0===t||t.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(t,e,n){const o=this.editor.getOption(44),s=document.createElement("div");s.className="suggest-preview-additional-widget",(0,V0.N)(s,o);const d=document.createElement("span");d.className="content-spacer",d.append(e),s.append(d);const m=document.createElement("span");m.className="content-newline suggest-preview-text",m.append("\u23ce  "),s.append(m);const R=new At.SL,U=document.createElement("div");return U.className="button suggest-preview-text",U.append(`+${n} lines\u2026`),R.add(rt.mu(U,"mousedown",F=>{var q;null===(q=this.model)||void 0===q||q.setExpanded(!0),F.preventDefault(),this.editor.focus()})),s.append(U),new Z2(this.editor,t,s,R)}};N_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([kb(2,Yi.TG),kb(3,$r.O)],N_);class j2{constructor(t){this.editor=t,this.decorationIds=[],this.disposableStore=new At.SL}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(t,e,n){if(this.disposableStore.clear(),!this.editor.getModel())return;const s=new Array;n&&s.push({range:It.e.fromPositions(new qn.L(t,n.column),new qn.L(t,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,e.map(d=>({range:It.e.fromPositions(new qn.L(t,d.column)),options:{description:"ghost-text",after:{content:d.text,inlineClassName:d.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}})).concat(s))}}class K2{constructor(t,e){this.editor=t,this.languageIdCodec=e,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(t=>{this._viewZoneId&&(t.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(t,e,n){const o=this.editor.getModel();if(!o)return;const{tabSize:s}=o.getOptions();this.editor.changeViewZones(d=>{this._viewZoneId&&(d.removeZone(this._viewZoneId),this._viewZoneId=void 0);const m=Math.max(e.length,n);if(m>0){const R=document.createElement("div");(function(a,t,e,n,o){const s=n.get(29),d=n.get(105),R=n.get(83),U=n.get(45),F=n.get(44),q=n.get(59),_e=(0,z2.l$)(1e4);_e.appendASCIIString('<div class="suggest-preview-text">');for(let ct=0,Tt=e.length;ct<Tt;ct++){const Ot=e[ct],tn=Ot.content;_e.appendASCIIString('<div class="view-line'),_e.appendASCIIString('" style="top:'),_e.appendASCIIString(String(ct*q)),_e.appendASCIIString('px;width:1000000px;">');const on=In.$i(tn),Wn=In.Ut(tn),An=H2.A.createEmpty(tn,o);(0,Pb.d1)(new Pb.IJ(F.isMonospace&&!s,F.canUseHalfwidthRightwardsArrow,tn,!1,on,Wn,0,An,Ot.decorations,t,0,F.spaceWidth,F.middotWidth,F.wsmiddotWidth,d,"none",R,U!==qo.n0.OFF,null),_e),_e.appendASCIIString("</div>")}_e.appendASCIIString("</div>"),(0,V0.N)(a,F);const De=_e.build(),Ke=Ob?Ob.createHTML(De):De;a.innerHTML=Ke})(R,s,e,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=d.addZone({afterLineNumber:t,heightInLines:m,domNode:R,afterColumnAffinity:1})}})}}class Z2 extends At.JT{constructor(t,e,n,o){super(),this.editor=t,this.position=e,this.domNode=n,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(o),this._register((0,At.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,_.Ic)((a,t)=>{const e=a.getColor(Te.N5);e&&(t.addRule(`.monaco-editor .ghost-text-decoration { color: ${e.toString()} !important; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${e.toString()} !important; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${e.toString()} !important; }`));const n=a.getColor(Te.IO);n&&(t.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${n.toString()}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${n.toString()}; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${n.toString()}; }`));const o=a.getColor(Te.x3);o&&(t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${o}; }`))});var Tb=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},I_=function(a,t){return function(e,n){t(e,n,a)}},Qm=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};let ps=class yw extends At.JT{constructor(t,e){super(),this.editor=t,this.instantiationService=e,this.triggeredExplicitly=!1,this.activeController=this._register(new At.XK),this.activeModelDidChangeEmitter=this._register(new zn.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(n=>{n.hasChanged(106)&&this.updateModelController(),n.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(t){return t.getContribution(yw.ID)}get activeModel(){var t;return null===(t=this.activeController.value)||void 0===t?void 0:t.model}updateModelController(){const t=this.editor.getOption(106),e=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(t.preview||e.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(P_,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(t){var e;return(null===(e=this.activeModel)||void 0===e?void 0:e.shouldShowHoverAt(t))||!1}shouldShowHoverAtViewZone(t){var e,n;return(null===(n=null===(e=this.activeController.value)||void 0===e?void 0:e.widget)||void 0===n?void 0:n.shouldShowHoverAtViewZone(t))||!1}trigger(){var t;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(t=this.activeModel)||void 0===t||t.triggerInlineCompletion()}commit(){var t;null===(t=this.activeModel)||void 0===t||t.commitInlineCompletion()}hide(){var t;null===(t=this.activeModel)||void 0===t||t.hideInlineCompletion()}showNextInlineCompletion(){var t;null===(t=this.activeModel)||void 0===t||t.showNextInlineCompletion()}showPreviousInlineCompletion(){var t;null===(t=this.activeModel)||void 0===t||t.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var t;return Qm(this,void 0,void 0,function*(){const e=yield null===(t=this.activeModel)||void 0===t?void 0:t.hasMultipleInlineCompletions();return void 0!==e&&e})}};ps.inlineSuggestionVisible=new Qt.uy("inlineSuggestionVisible",!1,Me.N("inlineSuggestionVisible","Whether an inline suggestion is visible")),ps.inlineSuggestionHasIndentation=new Qt.uy("inlineSuggestionHasIndentation",!1,Me.N("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),ps.inlineSuggestionHasIndentationLessThanTabSize=new Qt.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,Me.N("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),ps.ID="editor.contrib.ghostTextController",ps=Tb([I_(1,Yi.TG)],ps);class G2{constructor(t){this.contextKeyService=t,this.inlineCompletionVisible=ps.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=ps.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=ps.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let P_=class extends At.JT{constructor(t,e,n){super(),this.editor=t,this.instantiationService=e,this.contextKeyService=n,this.contextKeys=new G2(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(D_,this.editor)),this.widget=this._register(this.instantiationService.createInstance(N_,this.editor,this.model)),this._register((0,At.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var t;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(t=this.model.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText));let e=!1,n=!0;const o=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&o&&o.parts.length>0){const{column:s,lines:d}=o.parts[0],m=d[0];if(s<=this.editor.getModel().getLineIndentColumn(o.lineNumber)){let F=(0,In.LC)(m);-1===F&&(F=m.length-1),e=F>0;const q=this.editor.getModel().getOptions().tabSize;n=Hx.i.visibleColumnFromColumn(m,F+1,q)<q}}this.contextKeys.inlineCompletionSuggestsIndentation.set(e),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}};P_=Tb([I_(1,Yi.TG),I_(2,Qt.i6)],P_);const Ab=Xe._l.bindToContribution(ps.get),Qf=new Ab({id:ub,precondition:ps.inlineSuggestionVisible,handler(a){a.commit(),a.editor.focus()}});(0,Xe.fK)(Qf),kr.W.registerKeybindingRule({primary:2,weight:200,id:Qf.id,when:Qt.Ao.and(Qf.precondition,pt.u.tabMovesFocus.toNegated(),ps.inlineSuggestionHasIndentationLessThanTabSize)}),(0,Xe.fK)(new Ab({id:"editor.action.inlineSuggest.hide",precondition:ps.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(a){a.hide()}}));let k_=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Qt.Ao.and(pt.u.writable,ps.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,n){return Qm(this,void 0,void 0,function*(){const o=ps.get(n);o&&(o.showNextInlineCompletion(),n.focus())})}}return a.ID="editor.action.inlineSuggest.showNext",a})(),O_=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Qt.Ao.and(pt.u.writable,ps.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,n){return Qm(this,void 0,void 0,function*(){const o=ps.get(n);o&&(o.showPreviousInlineCompletion(),n.focus())})}}return a.ID="editor.action.inlineSuggest.showPrevious",a})();var hh=function(a,t){return function(e,n){t(e,n,a)}};class J2{constructor(t,e,n){this.owner=t,this.range=e,this.controller=n}isValidForHoverAnchor(t){return 1===t.type&&this.range.startColumn<=t.range.startColumn&&this.range.endColumn>=t.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let T_=class{constructor(t,e,n,o,s,d,m){this._editor=t,this._commandService=e,this._menuService=n,this._contextKeyService=o,this._languageService=s,this._openerService=d,this.accessibilityService=m,this.hoverOrdinal=3}suggestHoverAnchor(t){const e=ps.get(this._editor);if(!e)return null;const n=t.target;if(8===n.type){const o=n.detail;if(e.shouldShowHoverAtViewZone(o.viewZoneId))return new gm(1e3,this,It.e.fromPositions(o.positionBefore||o.position,o.positionBefore||o.position))}return 7===n.type&&e.shouldShowHoverAt(n.range)||6===n.type&&n.detail.mightBeForeignElement&&e.shouldShowHoverAt(n.range)?new gm(1e3,this,n.range):null}computeSync(t,e){const n=ps.get(this._editor);return n&&n.shouldShowHoverAt(t.range)?[new J2(this,t.range,n)]:[]}renderHoverParts(t,e){const n=new At.SL,o=e[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(t,o,n);const s=n.add(this._menuService.createMenu(r.eH.InlineCompletionsActions,this._contextKeyService)),d=t.statusBar.addAction({label:Me.N("showNextInlineSuggestion","Next"),commandId:k_.ID,run:()=>this._commandService.executeCommand(k_.ID)}),m=t.statusBar.addAction({label:Me.N("showPreviousInlineSuggestion","Previous"),commandId:O_.ID,run:()=>this._commandService.executeCommand(O_.ID)});t.statusBar.addAction({label:Me.N("acceptInlineSuggestion","Accept"),commandId:Qf.id,run:()=>this._commandService.executeCommand(Qf.id)});const R=[d,m];for(const U of R)U.setEnabled(!1);o.hasMultipleSuggestions().then(U=>{for(const F of R)F.setEnabled(U)});for(const[U,F]of s.getActions())for(const q of F)q instanceof r.U8&&t.statusBar.addAction({label:q.label,commandId:q.item.id,run:()=>this._commandService.executeCommand(q.item.id)});return n}renderScreenReaderText(t,e,n){var o,s;const d=rt.$,m=d("div.hover-row.markdown-hover"),R=rt.R3(m,d("div.hover-contents")),U=n.add(new Xl({editor:this._editor},this._languageService,this._openerService)),q=null===(s=null===(o=e.controller.activeModel)||void 0===o?void 0:o.inlineCompletionsModel)||void 0===s?void 0:s.ghostText;if(q){const _e=this._editor.getModel().getLineContent(q.lineNumber);(_e=>{n.add(U.onDidRenderAsync(()=>{R.className="hover-contents code-hover-contents",t.onContentsChanged()}));const De=Me.N("inlineSuggestionFollows","Suggestion:"),Ke=n.add(U.render((new zo.W5).appendText(De).appendCodeblock("text",_e)));R.replaceChildren(Ke.element)})(q.renderForScreenReader(_e))}t.fragment.appendChild(m)}};T_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([hh(1,to.Hy),hh(2,r.co),hh(3,Qt.i6),hh(4,$r.O),hh(5,ta.v4),hh(6,Oa.F)],T_),(0,Xe._K)(ps.ID,ps),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Me.N("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:pt.u.writable})}run(t,e){return Qm(this,void 0,void 0,function*(){const n=ps.get(e);n&&n.trigger()})}}),(0,Xe.Qr)(k_),(0,Xe.Qr)(O_),Fd.register(T_);var fh=p(51788);function Br(a,t){let e=0;for(let n=0;n<a.length;n++)"\t"===a.charAt(n)?e+=t:e++;return e}function Yf(a,t,e){a=a<0?0:a;let n="";if(!e){let o=Math.floor(a/t);a%=t;for(let s=0;s<o;s++)n+="\t"}for(let o=0;o<a;o++)n+=" ";return n}var Rb=p(66200);function Fb(a,t,e,n,o){if(1===a.getLineCount()&&1===a.getLineMaxColumn(1))return[];const s=t.getLanguageConfiguration(a.getLanguageId()).indentationRules;if(!s)return[];for(n=Math.min(n,a.getLineCount());e<=n&&s.unIndentedLinePattern;){let Tt=a.getLineContent(e);if(!s.unIndentedLinePattern.test(Tt))break;e++}if(e>n-1)return[];const{tabSize:d,indentSize:m,insertSpaces:R}=a.getOptions(),U=(Tt,Ot)=>fh.U.shiftIndent(Tt,Tt.length+(Ot=Ot||1),d,m,R),F=(Tt,Ot)=>fh.U.unshiftIndent(Tt,Tt.length+(Ot=Ot||1),d,m,R);let _e,q=[],De=a.getLineContent(e),Ke=De;if(null!=o){_e=o;let Tt=In.V8(De);Ke=_e+De.substring(Tt.length),s.decreaseIndentPattern&&s.decreaseIndentPattern.test(Ke)&&(_e=F(_e),Ke=_e+De.substring(Tt.length)),De!==Ke&&q.push(ls.h.replaceMove(new ui.Y(e,1,e,Tt.length+1),(0,Rb.x)(_e,m,R)))}else _e=In.V8(De);let ct=_e;s.increaseIndentPattern&&s.increaseIndentPattern.test(Ke)?(ct=U(ct),_e=U(_e)):s.indentNextLinePattern&&s.indentNextLinePattern.test(Ke)&&(ct=U(ct));for(let Tt=++e;Tt<=n;Tt++){let Ot=a.getLineContent(Tt),tn=In.V8(Ot),on=ct+Ot.substring(tn.length);s.decreaseIndentPattern&&s.decreaseIndentPattern.test(on)&&(ct=F(ct),_e=F(_e)),tn!==ct&&q.push(ls.h.replaceMove(new ui.Y(Tt,1,Tt,tn.length+1),(0,Rb.x)(ct,m,R))),(!s.unIndentedLinePattern||!s.unIndentedLinePattern.test(Ot))&&(s.increaseIndentPattern&&s.increaseIndentPattern.test(on)?(_e=U(_e),ct=_e):ct=s.indentNextLinePattern&&s.indentNextLinePattern.test(on)?U(ct):_e)}return q}let X2=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:pt.u.writable})}run(e,n){let o=n.getModel();if(!o)return;let s=o.getOptions(),d=n.getSelection();if(!d)return;const m=new rM(d,s.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[m]),n.pushUndoStop(),o.updateOptions({insertSpaces:!0})}}return a.ID="editor.action.indentationToSpaces",a})(),q2=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:pt.u.writable})}run(e,n){let o=n.getModel();if(!o)return;let s=o.getOptions(),d=n.getSelection();if(!d)return;const m=new aM(d,s.tabSize);n.pushUndoStop(),n.executeCommands(this.id,[m]),n.pushUndoStop(),o.updateOptions({insertSpaces:!1})}}return a.ID="editor.action.indentationToTabs",a})();class Bb extends Xe.R6{constructor(t,e){super(e),this.insertSpaces=t}run(t,e){const n=t.get(Ul.eJ),o=t.get(Ia.q);let s=e.getModel();if(!s)return;const d=o.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget),m=[1,2,3,4,5,6,7,8].map(U=>({id:U.toString(),label:U.toString(),description:U===d.tabSize?Me.N("configuredTabSize","Configured Tab Size"):void 0})),R=Math.min(s.getOptions().tabSize-1,7);setTimeout(()=>{n.pick(m,{placeHolder:Me.N({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:m[R]}).then(U=>{U&&s&&!s.isDisposed()&&s.updateOptions({tabSize:parseInt(U.label,10),insertSpaces:this.insertSpaces})})},50)}}let eM=(()=>{class a extends Bb{constructor(){super(!1,{id:a.ID,label:Me.N("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return a.ID="editor.action.indentUsingTabs",a})(),tM=(()=>{class a extends Bb{constructor(){super(!0,{id:a.ID,label:Me.N("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return a.ID="editor.action.indentUsingSpaces",a})(),nM=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,n){const o=e.get(Ia.q);let s=n.getModel();if(!s)return;const d=o.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget);s.detectIndentation(d.insertSpaces,d.tabSize)}}return a.ID="editor.action.detectIndentation",a})();class sM{constructor(t,e){this._initialSelection=e,this._edits=[],this._selectionId=null;for(let n of t)n.range&&"string"==typeof n.text&&this._edits.push(n)}getEditOperations(t,e){for(let o of this._edits)e.addEditOperation(It.e.lift(o.range),o.text);let n=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=e.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=e.trackSelection(this._initialSelection,!1))),n||(this._selectionId=e.trackSelection(this._initialSelection))}computeCursorState(t,e){return e.getTrackedSelection(this._selectionId)}}let Wb=(()=>{class a{constructor(e){this.callOnDispose=new At.SL,this.callOnModel=new At.SL,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)})))}trigger(e){let n=this.editor.getSelections();if(null===n||n.length>1)return;const o=this.editor.getModel();if(!o||!o.isCheapToTokenize(e.getStartPosition().lineNumber))return;const s=this.editor.getOption(9),{tabSize:d,indentSize:m,insertSpaces:R}=o.getOptions();let U=[],F={shiftIndent:Ke=>fh.U.shiftIndent(Ke,Ke.length+1,d,m,R),unshiftIndent:Ke=>fh.U.unshiftIndent(Ke,Ke.length+1,d,m,R)},q=e.startLineNumber;for(;q<=e.endLineNumber&&this.shouldIgnoreLine(o,q);)q++;if(q>e.endLineNumber)return;let _e=o.getLineContent(q);if(!/\S/.test(_e.substring(0,e.startColumn-1))){const Ke=jo.zu.getGoodIndentForLine(s,o,o.getLanguageId(),q,F);if(null!==Ke){let ct=In.V8(_e),Tt=Br(Ke,d);if(Tt!==Br(ct,d)){let tn=Yf(Tt,d,R);U.push({range:new It.e(q,1,q,ct.length+1),text:tn}),_e=tn+_e.substr(ct.length)}else{let tn=jo.zu.getIndentMetadata(o,q);if(0===tn||8===tn)return}}}const De=q;for(;q<e.endLineNumber&&!/\S/.test(o.getLineContent(q+1));)q++;if(q!==e.endLineNumber){let ct=jo.zu.getGoodIndentForLine(s,{getLineTokens:Tt=>o.getLineTokens(Tt),getLanguageId:()=>o.getLanguageId(),getLanguageIdAtPosition:(Tt,Ot)=>o.getLanguageIdAtPosition(Tt,Ot),getLineContent:Tt=>Tt===De?_e:o.getLineContent(Tt)},o.getLanguageId(),q+1,F);if(null!==ct){let Tt=Br(ct,d),Ot=Br(In.V8(o.getLineContent(q+1)),d);if(Tt!==Ot){let tn=Tt-Ot;for(let on=q+1;on<=e.endLineNumber;on++){let Wn=o.getLineContent(on),An=In.V8(Wn),us=Yf(Br(An,d)+tn,d,R);us!==An&&U.push({range:new It.e(on,1,on,An.length+1),text:us})}}}}if(U.length>0){this.editor.pushUndoStop();let Ke=new sM(U,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Ke),this.editor.pushUndoStop()}}shouldIgnoreLine(e,n){e.forceTokenization(n);let o=e.getLineFirstNonWhitespaceColumn(n);if(0===o)return!0;let s=e.getLineTokens(n);if(s.getCount()>0){let d=s.findTokenIndexAtOffset(o);if(d>=0&&1===s.getStandardTokenType(d))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}return a.ID="editor.contrib.autoIndentOnPaste",a})();function Vb(a,t,e,n){if(1===a.getLineCount()&&1===a.getLineMaxColumn(1))return;let o="";for(let d=0;d<e;d++)o+=" ";let s=new RegExp(o,"gi");for(let d=1,m=a.getLineCount();d<=m;d++){let R=a.getLineFirstNonWhitespaceColumn(d);if(0===R&&(R=a.getLineMaxColumn(d)),1===R)continue;const U=new It.e(d,1,d,R),F=a.getValueInRange(U),q=n?F.replace(/\t/gi,o):F.replace(s,"\t");t.addEditOperation(U,q)}}class rM{constructor(t,e){this.selection=t,this.tabSize=e,this.selectionId=null}getEditOperations(t,e){this.selectionId=e.trackSelection(this.selection),Vb(t,e,this.tabSize,!0)}computeCursorState(t,e){return e.getTrackedSelection(this.selectionId)}}class aM{constructor(t,e){this.selection=t,this.tabSize=e,this.selectionId=null}getEditOperations(t,e){this.selectionId=e.trackSelection(this.selection),Vb(t,e,this.tabSize,!1)}computeCursorState(t,e){return e.getTrackedSelection(this.selectionId)}}(0,Xe._K)(Wb.ID,Wb),(0,Xe.Qr)(X2),(0,Xe.Qr)(q2),(0,Xe.Qr)(eM),(0,Xe.Qr)(tM),(0,Xe.Qr)(nM),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.reindentlines",label:Me.N("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:pt.u.writable})}run(t,e){const n=t.get(jo.c_);let o=e.getModel();if(!o)return;let s=Fb(o,n,1,o.getLineCount());s.length>0&&(e.pushUndoStop(),e.executeEdits(this.id,s),e.pushUndoStop())}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:Me.N("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:pt.u.writable})}run(t,e){const n=t.get(jo.c_);let o=e.getModel();if(!o)return;let s=e.getSelections();if(null===s)return;let d=[];for(let m of s){let R=m.startLineNumber,U=m.endLineNumber;if(R!==U&&1===m.endColumn&&U--,1===R){if(R===U)continue}else R--;let F=Fb(o,n,R,U);d.push(...F)}d.length>0&&(e.pushUndoStop(),e.executeEdits(this.id,d),e.pushUndoStop())}});var Ym=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};class Hb{constructor(t,e){this.range=t,this.direction=e}}class A_{constructor(t,e,n){this.hint=t,this.anchor=e,this.provider=n,this._isResolved=!1}with(t){const e=new A_(this.hint,t.anchor,this.provider);return e._isResolved=this._isResolved,e._currentResolve=this._currentResolve,e}resolve(t){return Ym(this,void 0,void 0,function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){var e,n;return Ym(this,void 0,void 0,function*(){try{const o=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=null!==(e=null==o?void 0:o.tooltip)&&void 0!==e?e:this.hint.tooltip,this.hint.label=null!==(n=null==o?void 0:o.label)&&void 0!==n?n:this.hint.label,this._isResolved=!0}catch(o){(0,Yn.Cp)(o),this._isResolved=!1}})}}class Jf{constructor(t,e,n){this._disposables=new At.SL,this.ranges=t,this.provider=new Set;const o=[];for(const[s,d]of e){this._disposables.add(s),this.provider.add(d);for(const m of s.hints){let R=n.validatePosition(m.position),U="before";const F=Jf._getRangeAtPosition(n,R);let q;F.getStartPosition().isBefore(R)?(q=It.e.fromPositions(F.getStartPosition(),R),U="after"):(q=It.e.fromPositions(R,F.getEndPosition()),U="before"),o.push(new A_(m,new Hb(q,U),d))}}this.items=o.sort((s,d)=>qn.L.compare(s.hint.position,d.hint.position))}static create(t,e,n,o){return Ym(this,void 0,void 0,function*(){const s=[],d=t.ordered(e).reverse().map(m=>n.map(R=>Ym(this,void 0,void 0,function*(){try{const U=yield m.provideInlayHints(e,R,o);(null==U?void 0:U.hints.length)&&s.push([U,m])}catch(U){(0,Yn.Cp)(U)}})));if(yield Promise.all(d.flat()),o.isCancellationRequested||e.isDisposed())throw new Yn.FU;return new Jf(n,s,e)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,e){const n=e.lineNumber,o=t.getWordAtPosition(e);if(o)return new It.e(n,o.startColumn,n,o.endColumn);t.tokenizeIfCheap(n);const s=t.getLineTokens(n),d=e.column-1,m=s.findTokenIndexAtOffset(d);let R=s.getStartOffset(m),U=s.getEndOffset(m);return U-R==1&&(R===d&&m>1?(R=s.getStartOffset(m-1),U=s.getEndOffset(m-1)):U===d&&m<s.getCount()-1&&(R=s.getStartOffset(m+1),U=s.getEndOffset(m+1))),new It.e(n,R+1,n,U+1)}}var Xf=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};function cM(a,t,e,n){var o;return Xf(this,void 0,void 0,function*(){const s=a.get(pr.S),d=a.get(Rl.i),m=a.get(to.Hy),R=a.get(Yi.TG),U=a.get(gs.lT);if(yield n.item.resolve(ii.T.None),!n.part.location)return;const F=n.part.location,q=[],_e=new Set(r.BH.getMenuItems(r.eH.EditorContext).map(Ke=>(0,r.vr)(Ke)?Ke.command.id:""));for(const Ke of Xe.Uc.getEditorActions())Ke instanceof Ii&&_e.has(Ke.id)&&q.push(new Ws.aU(Ke.id,Ke.label,void 0,!0,()=>Xf(this,void 0,void 0,function*(){const ct=yield s.createModelReference(F.uri);try{yield R.invokeFunction(Ke.run.bind(Ke),t,new $n(ct.object.textEditorModel,It.e.getStartPosition(F.range)))}finally{ct.dispose()}})));if(n.part.command){const{command:Ke}=n.part;q.push(new Ws.Z0),q.push(new Ws.aU(Ke.id,Ke.title,void 0,!0,()=>Xf(this,void 0,void 0,function*(){var ct;try{yield m.executeCommand(Ke.id,...null!==(ct=Ke.arguments)&&void 0!==ct?ct:[])}catch(Tt){U.notify({severity:gs.zb.Error,source:n.item.provider.displayName,message:Tt})}})))}const De=t.getOption(115);d.showContextMenu({domForShadowRoot:De&&null!==(o=t.getDomNode())&&void 0!==o?o:void 0,getAnchor:()=>{const Ke=rt.i(e);return{x:Ke.left,y:Ke.top+Ke.height+8}},getActions:()=>q,onHide:()=>{t.focus()},autoSelectFirstItem:!0})})}function dM(a,t,e,n){return Xf(this,void 0,void 0,function*(){const s=yield a.get(pr.S).createModelReference(n.uri);yield e.invokeWithinContext(d=>Xf(this,void 0,void 0,function*(){const m=t.hasSideBySideModifier,R=d.get(Qt.i6),U=$s.inPeekEditor.getValue(R),F=!m&&e.getOption(78)&&!U;return new _i({openToSide:m,openInPeek:F,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(d,e,{model:s.object.textEditorModel,position:It.e.getStartPosition(n.range)})})),s.dispose()})}var gh=function(a,t){return function(e,n){t(e,n,a)}},mh=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};class Jm{constructor(){this._entries=new el.z6(50)}get(t){const e=Jm._key(t);return this._entries.get(e)}set(t,e){const n=Jm._key(t);this._entries.set(n,e)}static _key(t){return`${t.uri.toString()}/${t.getVersionId()}`}}const zb=(0,Yi.yh)("IInlayHintsCache");(0,ka.z)(zb,Jm,!0);class R_{constructor(t,e){this.item=t,this.index=e}get part(){const t=this.item.hint.label;return"string"==typeof t?{label:t}:t[this.index]}}class hM{constructor(t,e){this.part=t,this.hasTriggerModifier=e}}let Zd=class N1{constructor(t,e,n,o,s,d,m){this._editor=t,this._languageFeaturesService=e,this._inlayHintsCache=o,this._commandService=s,this._notificationService=d,this._instaService=m,this._disposables=new At.SL,this._sessionDisposables=new At.SL,this._decorationsMetadata=new Map,this._ruleFactory=new Bg.t7(this._editor),this._debounceInfo=n.for(e.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(e.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(R=>{R.hasChanged(127)&&this._update()})),this._update()}static get(t){var e;return null!==(e=t.getContribution(N1.ID))&&void 0!==e?e:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(127).enabled)return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;const e=this._inlayHintsCache.get(t);e&&this._updateHintsDecorators([t.getFullModelRange()],e),this._sessionDisposables.add((0,At.OF)(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let n,o=new Set;const s=new Hn.pY(()=>mh(this,void 0,void 0,function*(){const d=Date.now();null==n||n.dispose(!0),n=new ii.A;const m=t.onWillDispose(()=>null==n?void 0:n.cancel());try{const R=n.token,U=yield Jf.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),R);if(s.delay=this._debounceInfo.update(t,Date.now()-d),R.isCancellationRequested)return void U.dispose();for(const F of U.provider)"function"==typeof F.onDidChangeInlayHints&&!o.has(F)&&(o.add(F),this._sessionDisposables.add(F.onDidChangeInlayHints(()=>{s.isScheduled()||s.schedule()})));this._sessionDisposables.add(U),this._updateHintsDecorators(U.ranges,U.items),this._cacheHintsForFastRestore(t)}catch(R){(0,Yn.dL)(R)}finally{n.dispose(),m.dispose()}}),this._debounceInfo.get(t));this._sessionDisposables.add(s),this._sessionDisposables.add((0,At.OF)(()=>null==n?void 0:n.dispose(!0))),s.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(d=>{(d.scrollTopChanged||!s.isScheduled())&&s.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(d=>{const m=Math.max(s.delay,1250);s.schedule(m)})),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installDblClickGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const t=new At.SL,e=t.add(new Ed(this._editor)),n=new At.SL;return t.add(n),t.add(e.onMouseMoveOrRelevantKeyDown(o=>{const[s]=o,d=this._getInlayHintLabelPart(s),m=this._editor.getModel();if(!d||!m)return void n.clear();const R=new ii.A;n.add((0,At.OF)(()=>R.dispose(!0))),d.item.resolve(R.token),this._activeInlayHintPart=d.part.command||d.part.location?new hM(d,s.hasTriggerModifier):void 0;const U=d.item.hint.position.lineNumber,F=new It.e(U,1,U,m.getLineMaxColumn(U)),q=new Set;for(const _e of this._decorationsMetadata.values())F.containsRange(_e.item.anchor.range)&&q.add(_e.item);this._updateHintsDecorators([F],Array.from(q)),n.add((0,At.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([F],Array.from(q))}))})),t.add(e.onCancel(()=>n.clear())),t.add(e.onExecute(o=>mh(this,void 0,void 0,function*(){const s=this._getInlayHintLabelPart(o);if(s){const d=s.part;d.location?this._instaService.invokeFunction(dM,o,this._editor,d.location):Ji.mY.is(d.command)&&(yield this._invokeCommand(d.command,s.item))}}))),t}_installDblClickGesture(){return this._editor.onMouseUp(t=>mh(this,void 0,void 0,function*(){if(2!==t.event.detail)return;const e=this._getInlayHintLabelPart(t);!e||(t.event.preventDefault(),yield e.item.resolve(ii.T.None),e.item.hint.command&&(yield this._invokeCommand(e.item.hint.command,e.item)))}))}_installContextMenu(){return this._editor.onContextMenu(t=>mh(this,void 0,void 0,function*(){if(!(t.event.target instanceof HTMLElement))return;const e=this._getInlayHintLabelPart(t);e&&(yield this._instaService.invokeFunction(cM,this._editor,t.event.target,e))}))}_getInlayHintLabelPart(t){var e;if(6!==t.target.type)return;const n=null===(e=t.target.detail.injectedText)||void 0===e?void 0:e.options;return n instanceof qi.HS&&(null==n?void 0:n.attachedData)instanceof R_?n.attachedData:void 0}_invokeCommand(t,e){var n;return mh(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(t.id,...null!==(n=t.arguments)&&void 0!==n?n:[])}catch(o){this._notificationService.notify({severity:gs.zb.Error,source:e.provider.displayName,message:o})}})}_cacheHintsForFastRestore(t){const e=new Map;for(const[n,o]of this._decorationsMetadata){if(e.has(o.item))continue;let s=o.item;const d=t.getDecorationRange(n);if(d){const m=new Hb(d,o.item.anchor.direction);s=o.item.with({anchor:m})}e.set(o.item,s)}this._inlayHintsCache.set(t,Array.from(e.values()))}_getHintsRanges(){const e=this._editor.getModel(),n=this._editor.getVisibleRangesPlusViewportAboveBelow(),o=[];for(const s of n.sort(It.e.compareRangesUsingStarts)){const d=e.validateRange(new It.e(s.startLineNumber-30,s.startColumn,s.endLineNumber+30,s.endColumn));0!==o.length&&It.e.areIntersectingOrTouching(o[o.length-1],d)?o[o.length-1]=It.e.plusRange(o[o.length-1],d):o.push(d)}return o}_updateHintsDecorators(t,e){var n,o;const s=[],d=(De,Ke,ct,Tt,Ot)=>{s.push({item:De,classNameRef:Ke,decoration:{range:De.anchor.range,options:{description:"InlayHint",showIfCollapsed:De.anchor.range.isEmpty(),collapseOnReplaceEdit:!De.anchor.range.isEmpty(),stickiness:0,[De.anchor.direction]:{content:ct,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Ke.className,cursorStops:Tt,attachedData:Ot}}}})},m=(De,Ke)=>{const ct=this._ruleFactory.createClassNameRef({width:(R/3|0)+"px",display:"inline-block"});d(De,ct,"\u200a",Ke?os.RM.Right:os.RM.None)},{fontSize:R,fontFamily:U}=this._getLayoutInfo(),F="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(F,U);for(const De of e){De.hint.paddingLeft&&m(De,!1);const Ke="string"==typeof De.hint.label?[{label:De.hint.label}]:De.hint.label;for(let ct=0;ct<Ke.length;ct++){const Tt=Ke[ct],Ot=0===ct,tn=ct===Ke.length-1,on={fontSize:`${R}px`,fontFamily:`var(${F}), ${qo.hL.fontFamily}`,verticalAlign:"middle"};De.hint.command&&(on.cursor="pointer"),this._fillInColors(on,De.hint),(Tt.command||Tt.location)&&(null===(n=this._activeInlayHintPart)||void 0===n?void 0:n.part.item)===De&&this._activeInlayHintPart.part.index===ct&&(on.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(on.color=(0,_.EN)(l._Yy),on.cursor="pointer")),Ot&&tn?(on.padding=`1px ${0|Math.max(1,R/4)}px`,on.borderRadius=(R/4|0)+"px"):Ot?(on.padding=`1px 0 1px ${0|Math.max(1,R/4)}px`,on.borderRadius=`${R/4|0}px 0 0 ${R/4|0}px`):tn?(on.padding=`1px ${0|Math.max(1,R/4)}px 1px 0`,on.borderRadius=`0 ${R/4|0}px ${R/4|0}px 0`):on.padding="1px 0 1px 0",d(De,this._ruleFactory.createClassNameRef(on),fM(Tt.label),tn&&!De.hint.paddingRight?os.RM.Right:os.RM.None,new R_(De,ct))}if(De.hint.paddingRight&&m(De,!0),s.length>N1._MAX_DECORATORS)break}const q=[];for(const De of t)for(const{id:Ke}of null!==(o=this._editor.getDecorationsInRange(De))&&void 0!==o?o:[]){const ct=this._decorationsMetadata.get(Ke);ct&&(q.push(Ke),ct.classNameRef.dispose(),this._decorationsMetadata.delete(Ke))}const _e=this._editor.deltaDecorations(q,s.map(De=>De.decoration));for(let De=0;De<_e.length;De++){const Ke=s[De];this._decorationsMetadata.set(_e[De],{item:Ke.item,classNameRef:Ke.classNameRef})}}_fillInColors(t,e){e.kind===Ji.gl.Parameter?(t.backgroundColor=(0,_.EN)(l.phM),t.color=(0,_.EN)(l.HCL)):e.kind===Ji.gl.Type?(t.backgroundColor=(0,_.EN)(l.bKB),t.color=(0,_.EN)(l.hX8)):(t.backgroundColor=(0,_.EN)(l.PpC),t.color=(0,_.EN)(l.VVv))}_getLayoutInfo(){const t=this._editor.getOption(127),e=this._editor.getOption(46);let n=t.fontSize;return(!n||n<5||n>e)&&(n=.9*e|0),{fontSize:n,fontFamily:t.fontFamily||this._editor.getOption(43)}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let t of this._decorationsMetadata.values())t.classNameRef.dispose();this._decorationsMetadata.clear()}};function fM(a){return a.replace(/[ \t]/g,"\xa0")}Zd.ID="editor.contrib.InlayHints",Zd._MAX_DECORATORS=1500,Zd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([gh(1,wi.p),gh(2,Ir.A),gh(3,zb),gh(4,to.Hy),gh(5,gs.lT),gh(6,Yi.TG)],Zd),to.P0.registerCommand("_executeInlayHintProvider",(a,...t)=>mh(void 0,void 0,void 0,function*(){const[e,n]=t;(0,Ki.p_)(vo.o.isUri(e)),(0,Ki.p_)(It.e.isIRange(n));const{inlayHintsProvider:o}=a.get(wi.p),s=yield a.get(pr.S).createModelReference(e);try{const d=yield Jf.create(o,s.object.textEditorModel,[It.e.lift(n)],ii.T.None),m=d.items.map(R=>R.hint);return setTimeout(()=>d.dispose(),0),m}finally{s.dispose()}}));var qf=function(a,t){return function(e,n){t(e,n,a)}},Ub=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};class jb extends gm{constructor(t,e){super(10,e,t.item.anchor.range),this.part=t}}let F_=class extends Dm{constructor(t,e,n,o,s,d){super(t,e,n,o,d),this._resolverService=s,this.hoverOrdinal=6}suggestHoverAnchor(t){var e;if(!Zd.get(this._editor)||6!==t.target.type)return null;const o=null===(e=t.target.detail.injectedText)||void 0===e?void 0:e.options;return o instanceof qi.HS&&o.attachedData instanceof R_?new jb(o.attachedData,this):null}computeSync(){return[]}computeAsync(t,e,n){return t instanceof jb?new Hn.Aq(o=>Ub(this,void 0,void 0,function*(){var s,d;const{part:m}=t;if(yield m.item.resolve(n),n.isCancellationRequested)return;let R,U;if("string"==typeof m.item.hint.tooltip?R=(new zo.W5).appendText(m.item.hint.tooltip):m.item.hint.tooltip&&(R=m.item.hint.tooltip),R&&o.emitOne(new ql(this,t.range,[R],0)),"string"==typeof m.part.tooltip?U=(new zo.W5).appendText(m.part.tooltip):m.part.tooltip&&(U=m.part.tooltip),U&&o.emitOne(new ql(this,t.range,[U],1)),m.part.location||m.part.command){let De;const ct="altKey"===this._editor.getOption(70)?Ht.dz?(0,Me.N)("links.navigate.kb.meta.mac","cmd + click"):(0,Me.N)("links.navigate.kb.meta","ctrl + click"):Ht.dz?(0,Me.N)("links.navigate.kb.alt.mac","option + click"):(0,Me.N)("links.navigate.kb.alt","alt + click");m.part.location&&m.part.command?De=(new zo.W5).appendText((0,Me.N)("hint.defAndCommand","Go to Definition ({0}), right click for more",ct)):m.part.location?De=(new zo.W5).appendText((0,Me.N)("hint.def","Go to Definition ({0})",ct)):m.part.command&&(De=new zo.W5(`[${(0,Me.N)("hint.cmd","Execute Command")}](${function(a){return vo.o.from({scheme:ms.lg.command,path:a.id,query:a.arguments&&encodeURIComponent(JSON.stringify(a.arguments))}).toString()}(m.part.command)} "${m.part.command.title}") (${ct})`,{isTrusted:!0})),De&&o.emitOne(new ql(this,t.range,[De],1e4))}const F=yield this._resolveInlayHintLabelPartHover(m,n);try{for(var _e,q=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=a[Symbol.asyncIterator];return t?t.call(a):(a="function"==typeof __values?__values(a):a[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=a[s]&&function(d){return new Promise(function(m,R){!function(s,d,m,R){Promise.resolve(R).then(function(U){s({value:U,done:m})},d)}(m,R,(d=a[s](d)).done,d.value)})}}}(F);!(_e=yield q.next()).done;)o.emitOne(_e.value)}catch(De){s={error:De}}finally{try{_e&&!_e.done&&(d=q.return)&&(yield d.call(q))}finally{if(s)throw s.error}}})):Hn.Aq.EMPTY}_resolveInlayHintLabelPartHover(t,e){return Ub(this,void 0,void 0,function*(){if(!t.part.location)return Hn.Aq.EMPTY;const{uri:n,range:o}=t.part.location,s=yield this._resolverService.createModelReference(n);try{const d=s.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(d)?U0(this._languageFeaturesService.hoverProvider,d,new qn.L(o.startLineNumber,o.startColumn),e).filter(m=>!(0,zo.CP)(m.hover.contents)).map(m=>new ql(this,t.item.anchor.range,m.hover.contents,2+m.ordinal)):Hn.Aq.EMPTY}finally{s.dispose()}})}};F_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([qf(1,$r.O),qf(2,ta.v4),qf(3,Vs.Ui),qf(4,pr.S),qf(5,wi.p)],F_),(0,Xe._K)(Zd.ID,Zd),Fd.register(F_);class pM{constructor(t,e,n){this._editRange=t,this._originalSelection=e,this._text=n}getEditOperations(t,e){e.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(t,e){const o=e.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new ui.Y(o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn),o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn)):new ui.Y(o.endLineNumber,o.endColumn-this._text.length,o.endLineNumber,o.endColumn)}}let $c=class I1{constructor(t,e){this.decorationIds=[],this.editor=t,this.editorWorkerService=e}static get(t){return t.getContribution(I1.ID)}dispose(){}run(t,e){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),o=this.editor.getModel();if(!o||!n)return;let s=n;if(s.startLineNumber!==s.endLineNumber)return;const d=new Al.yy(this.editor,5),m=o.uri;return this.editorWorkerService.canNavigateValueSet(m)?(this.currentRequest=(0,Hn.PG)(R=>this.editorWorkerService.navigateValueSet(m,s,e)),this.currentRequest.then(R=>{if(!(R&&R.range&&R.value&&d.validate(this.editor)))return;let U=It.e.lift(R.range),F=R.range,q=R.value.length-(s.endColumn-s.startColumn);F={startLineNumber:F.startLineNumber,startColumn:F.startColumn,endLineNumber:F.endLineNumber,endColumn:F.startColumn+R.value.length},q>1&&(s=new ui.Y(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+q-1));const _e=new pM(U,s,R.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,_e),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:F,options:I1.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,Hn.Vs)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(Yn.dL)}).catch(Yn.dL)):Promise.resolve(void 0)}};$c.ID="editor.contrib.inPlaceReplaceController",$c.DECORATION=qi.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),$c=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Hf.p)],$c),(0,Xe._K)($c.ID,$c),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:Me.N("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:3154,weight:100}})}run(t,e){const n=$c.get(e);return n?n.run(this.id,!0):Promise.resolve(void 0)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:Me.N("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:3156,weight:100}})}run(t,e){const n=$c.get(e);return n?n.run(this.id,!1):Promise.resolve(void 0)}}),(0,_.Ic)((a,t)=>{const e=a.getColor(Te.Dl);e&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${e}; }`)});var B_=p(71015);(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"expandLineSelection",label:Me.N("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:pt.u.textInputFocus,primary:2090}})}run(t,e,n){if(n=n||{},!e.hasModel())return;const o=e._getViewModel();o.model.pushStackElement(),o.setCursorStates(n.source,3,B_.P.expandLineSelection(o,o.getCursorStates())),o.revealPrimaryCursor(n.source,!0)}});class yM{constructor(t,e){this._selection=t,this._cursors=e,this._selectionId=null}getEditOperations(t,e){const n=function(a,t){t.sort((d,m)=>d.lineNumber===m.lineNumber?d.column-m.column:d.lineNumber-m.lineNumber);for(let d=t.length-2;d>=0;d--)t[d].lineNumber===t[d+1].lineNumber&&t.splice(d,1);const e=[];let n=0,o=0;const s=t.length;for(let d=1,m=a.getLineCount();d<=m;d++){const R=a.getLineContent(d),U=R.length+1;let F=0;if(o<s&&t[o].lineNumber===d&&(F=t[o].column,o++,F===U)||0===R.length)continue;const q=In.ow(R);let _e=0;if(-1===q)_e=1;else{if(q===R.length-1)continue;_e=q+2}_e=Math.max(F,_e),e[n++]=ls.h.delete(new It.e(d,_e,d,U))}return e}(t,this._cursors);for(let o=0,s=n.length;o<s;o++){const d=n[o];e.addEditOperation(d.range,d.text)}this._selectionId=e.trackSelection(this._selection)}computeCursorState(t,e){return e.getTrackedSelection(this._selectionId)}}var W_=p(8418);class Kb{constructor(t,e,n){this._selection=t,this._isCopyingDown=e,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(t,e){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,t.getLineMaxColumn(n.endLineNumber-1)));let o=[];for(let d=n.startLineNumber;d<=n.endLineNumber;d++)o.push(t.getLineContent(d));const s=o.join("\n");""===s&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?e.addEditOperation(new It.e(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===t.getLineCount()?"":"\n"):this._isCopyingDown?e.addEditOperation(new It.e(n.startLineNumber,1,n.startLineNumber,1),s+"\n"):e.addEditOperation(new It.e(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber),n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),"\n"+s),this._selectionId=e.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(t,e){let n=e.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let o=n.startLineNumber,s=n.startColumn,d=n.endLineNumber,m=n.endColumn;0!==this._startLineNumberDelta&&(o+=this._startLineNumberDelta,s=1),0!==this._endLineNumberDelta&&(d+=this._endLineNumberDelta,m=1),n=ui.Y.createWithDirection(o,s,d,m,this._selectionDirection)}return n}}var Xm=p(70950);class xM{constructor(t,e,n){this._selection=t,this._isMovingDown=e,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,e){let n=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)return void(this._selectionId=e.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=e.trackSelection(this._selection));this._moveEndPositionDown=!1;let o=this._selection;o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,t.getLineMaxColumn(o.endLineNumber-1)));const{tabSize:s,indentSize:d,insertSpaces:m}=t.getOptions();let R=this.buildIndentConverter(s,d,m),U={getLineTokens:F=>t.getLineTokens(F),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(F,q)=>t.getLanguageIdAtPosition(F,q),getLineContent:null};if(o.startLineNumber===o.endLineNumber&&1===t.getLineMaxColumn(o.startLineNumber)){let F=o.startLineNumber,q=this._isMovingDown?F+1:F-1;1===t.getLineMaxColumn(q)?e.addEditOperation(new It.e(1,1,1,1),null):(e.addEditOperation(new It.e(F,1,F,1),t.getLineContent(q)),e.addEditOperation(new It.e(q,1,q,t.getLineMaxColumn(q)),null)),o=new ui.Y(q,1,q,1)}else{let F,q;if(this._isMovingDown){F=o.endLineNumber+1,q=t.getLineContent(F),e.addEditOperation(new It.e(F-1,t.getLineMaxColumn(F-1),F,t.getLineMaxColumn(F)),null);let _e=q;if(this.shouldAutoIndent(t,o)){let De=this.matchEnterRule(t,R,s,F,o.startLineNumber-1);if(null!==De){let Tt=De+Br(In.V8(t.getLineContent(F)),s);_e=Yf(Tt,s,m)+this.trimLeft(q)}else{U.getLineContent=Tt=>t.getLineContent(Tt===o.startLineNumber?F:Tt);let ct=jo.zu.getGoodIndentForLine(this._autoIndent,U,t.getLanguageIdAtPosition(F,1),o.startLineNumber,R);if(null!==ct){let Tt=In.V8(t.getLineContent(F)),Ot=Br(ct,s);Ot!==Br(Tt,s)&&(_e=Yf(Ot,s,m)+this.trimLeft(q))}}e.addEditOperation(new It.e(o.startLineNumber,1,o.startLineNumber,1),_e+"\n");let Ke=this.matchEnterRuleMovingDown(t,R,s,o.startLineNumber,F,_e);if(null!==Ke)0!==Ke&&this.getIndentEditsOfMovingBlock(t,e,o,s,m,Ke);else{U.getLineContent=Tt=>Tt===o.startLineNumber?_e:t.getLineContent(Tt>=o.startLineNumber+1&&Tt<=o.endLineNumber+1?Tt-1:Tt);let ct=jo.zu.getGoodIndentForLine(this._autoIndent,U,t.getLanguageIdAtPosition(F,1),o.startLineNumber+1,R);if(null!==ct){const Tt=In.V8(t.getLineContent(o.startLineNumber)),Ot=Br(ct,s),tn=Br(Tt,s);Ot!==tn&&this.getIndentEditsOfMovingBlock(t,e,o,s,m,Ot-tn)}}}else e.addEditOperation(new It.e(o.startLineNumber,1,o.startLineNumber,1),_e+"\n")}else if(F=o.startLineNumber-1,q=t.getLineContent(F),e.addEditOperation(new It.e(F,1,F+1,1),null),e.addEditOperation(new It.e(o.endLineNumber,t.getLineMaxColumn(o.endLineNumber),o.endLineNumber,t.getLineMaxColumn(o.endLineNumber)),"\n"+q),this.shouldAutoIndent(t,o)){U.getLineContent=De=>t.getLineContent(De===F?o.startLineNumber:De);let _e=this.matchEnterRule(t,R,s,o.startLineNumber,o.startLineNumber-2);if(null!==_e)0!==_e&&this.getIndentEditsOfMovingBlock(t,e,o,s,m,_e);else{let De=jo.zu.getGoodIndentForLine(this._autoIndent,U,t.getLanguageIdAtPosition(o.startLineNumber,1),F,R);if(null!==De){let Ke=In.V8(t.getLineContent(o.startLineNumber)),ct=Br(De,s),Tt=Br(Ke,s);ct!==Tt&&this.getIndentEditsOfMovingBlock(t,e,o,s,m,ct-Tt)}}}}this._selectionId=e.trackSelection(o)}buildIndentConverter(t,e,n){return{shiftIndent:o=>fh.U.shiftIndent(o,o.length+1,t,e,n),unshiftIndent:o=>fh.U.unshiftIndent(o,o.length+1,t,e,n)}}parseEnterResult(t,e,n,o,s){if(s){let d=s.indentation;s.indentAction===Xm.wU.None||s.indentAction===Xm.wU.Indent?d=s.indentation+s.appendText:s.indentAction===Xm.wU.IndentOutdent?d=s.indentation:s.indentAction===Xm.wU.Outdent&&(d=e.unshiftIndent(s.indentation)+s.appendText);let m=t.getLineContent(o);if(this.trimLeft(m).indexOf(this.trimLeft(d))>=0){let R=In.V8(t.getLineContent(o)),U=In.V8(d),F=jo.zu.getIndentMetadata(t,o);return null!==F&&2&F&&(U=e.unshiftIndent(U)),Br(U,n)-Br(R,n)}}return null}matchEnterRuleMovingDown(t,e,n,o,s,d){if(In.ow(d)>=0){let m=t.getLineMaxColumn(s),R=jo.zu.getEnterAction(this._autoIndent,t,new It.e(s,m,s,m));return this.parseEnterResult(t,e,n,o,R)}{let m=o-1;for(;m>=1;){let F=t.getLineContent(m);if(In.ow(F)>=0)break;m--}if(m<1||o>t.getLineCount())return null;let R=t.getLineMaxColumn(m),U=jo.zu.getEnterAction(this._autoIndent,t,new It.e(m,R,m,R));return this.parseEnterResult(t,e,n,o,U)}}matchEnterRule(t,e,n,o,s,d){let m=s;for(;m>=1;){let F;if(F=m===s&&void 0!==d?d:t.getLineContent(m),In.ow(F)>=0)break;m--}if(m<1||o>t.getLineCount())return null;let R=t.getLineMaxColumn(m),U=jo.zu.getEnterAction(this._autoIndent,t,new It.e(m,R,m,R));return this.parseEnterResult(t,e,n,o,U)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,e){if(this._autoIndent<4||!t.isCheapToTokenize(e.startLineNumber))return!1;let n=t.getLanguageIdAtPosition(e.startLineNumber,1);return!(n!==t.getLanguageIdAtPosition(e.endLineNumber,1)||null===jo.zu.getIndentRulesSupport(n))}getIndentEditsOfMovingBlock(t,e,n,o,s,d){for(let m=n.startLineNumber;m<=n.endLineNumber;m++){let R=t.getLineContent(m),U=In.V8(R),_e=Yf(Br(U,o)+d,o,s);_e!==U&&(e.addEditOperation(new It.e(m,1,m,U.length+1),_e),m===n.endLineNumber&&n.endColumn<=U.length+1&&""===_e&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,e){let n=e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}let V_=(()=>{class a{constructor(e,n){this.selection=e,this.descending=n,this.selectionId=null}static getCollator(){return a._COLLATOR||(a._COLLATOR=new Intl.Collator),a._COLLATOR}getEditOperations(e,n){let o=function(a,t,e){let n=$b(a,t,e);return n?ls.h.replace(new It.e(n.startLineNumber,1,n.endLineNumber,a.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}(e,this.selection,this.descending);o&&n.addEditOperation(o.range,o.text),this.selectionId=n.trackSelection(this.selection)}computeCursorState(e,n){return n.getTrackedSelection(this.selectionId)}static canRun(e,n,o){if(null===e)return!1;let s=$b(e,n,o);if(!s)return!1;for(let d=0,m=s.before.length;d<m;d++)if(s.before[d]!==s.after[d])return!0;return!1}}return a._COLLATOR=null,a})();function $b(a,t,e){let n=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;let s=[];for(let m=n;m<=o;m++)s.push(a.getLineContent(m));let d=s.slice(0);return d.sort(V_.getCollator().compare),!0===e&&(d=d.reverse()),{startLineNumber:n,endLineNumber:o,before:s,after:d}}class Zb extends Xe.R6{constructor(t,e){super(e),this.down=t}run(t,e){if(!e.hasModel())return;const n=e.getSelections().map((d,m)=>({selection:d,index:m,ignore:!1}));n.sort((d,m)=>It.e.compareRangesUsingStarts(d.selection,m.selection));let o=n[0];for(let d=1;d<n.length;d++){const m=n[d];o.selection.endLineNumber===m.selection.startLineNumber&&(o.index<m.index?m.ignore=!0:(o.ignore=!0,o=m))}const s=[];for(const d of n)s.push(new Kb(d.selection,this.down,d.ignore));e.pushUndoStop(),e.executeCommands(this.id,s),e.pushUndoStop()}}class Gb extends Xe.R6{constructor(t,e){super(e),this.down=t}run(t,e){let n=[],o=e.getSelections()||[];const s=e.getOption(9);for(const d of o)n.push(new xM(d,this.down,s));e.pushUndoStop(),e.executeCommands(this.id,n),e.pushUndoStop()}}class Qb extends Xe.R6{constructor(t,e){super(e),this.descending=t}run(t,e){const n=e.getSelections()||[];for(const s of n)if(!V_.canRun(e.getModel(),s,this.descending))return;let o=[];for(let s=0,d=n.length;s<d;s++)o[s]=new V_(n[s],this.descending);e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop()}}let TM=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:(0,is.gx)(2089,2102),weight:100}})}run(e,n,o){let s=[];"auto-save"===o.reason&&(s=(n.getSelections()||[]).map(R=>new qn.L(R.positionLineNumber,R.positionColumn)));let d=n.getSelection();if(null===d)return;let m=new yM(d,s);n.pushUndoStop(),n.executeCommands(this.id,[m]),n.pushUndoStop()}}return a.ID="editor.action.trimTrailingWhitespace",a})();class Yb extends Xe.R6{run(t,e){if(!e.hasModel())return;const n=e.getSelection();let o=this._getRangesToDelete(e),s=[];for(let R=0,U=o.length-1;R<U;R++){let F=o[R],q=o[R+1];null===It.e.intersectRanges(F,q)?s.push(F):o[R+1]=It.e.plusRange(F,q)}s.push(o[o.length-1]);let d=this._getEndCursorState(n,s),m=s.map(R=>ls.h.replace(R,""));e.pushUndoStop(),e.executeEdits(this.id,m,d),e.pushUndoStop()}}class qm extends Xe.R6{run(t,e){const n=e.getSelections();if(null===n)return;const o=e.getModel();if(null===o)return;const s=e.getOption(117),d=[];for(const m of n)if(m.isEmpty()){const R=m.getStartPosition(),U=e.getConfiguredWordAtPosition(R);if(!U)continue;const F=new It.e(R.lineNumber,U.startColumn,R.lineNumber,U.endColumn),q=o.getValueInRange(F);d.push(ls.h.replace(F,this._modifyText(q,s)))}else{const R=o.getValueInRange(m);d.push(ls.h.replace(m,this._modifyText(R,s)))}e.pushUndoStop(),e.executeEdits(this.id,d),e.pushUndoStop()}}class H_{constructor(t,e){this._pattern=t,this._flags=e,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return null!==this.get()}}class eg extends qm{constructor(){super({id:"editor.action.transformToTitlecase",label:Me.N("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:pt.u.writable})}_modifyText(t,e){const n=eg.titleBoundary.get();return n?t.toLocaleLowerCase().replace(n,o=>o.toLocaleUpperCase()):t}}eg.titleBoundary=new H_("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Zc extends qm{constructor(){super({id:"editor.action.transformToSnakecase",label:Me.N("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:pt.u.writable})}_modifyText(t,e){const n=Zc.caseBoundary.get(),o=Zc.singleLetters.get();return n&&o?t.replace(n,"$1_$2").replace(o,"$1_$2$3").toLocaleLowerCase():t}}Zc.caseBoundary=new H_("(\\p{Ll})(\\p{Lu})","gmu"),Zc.singleLetters=new H_("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,Xe.Qr)(class extends Zb{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:Me.N("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"2_line",title:Me.N({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,Xe.Qr)(class extends Zb{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:Me.N("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"2_line",title:Me.N({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.duplicateSelection",label:Me.N("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:pt.u.writable,menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"2_line",title:Me.N({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(t,e,n){if(!e.hasModel())return;const o=[],s=e.getSelections(),d=e.getModel();for(const m of s)if(m.isEmpty())o.push(new Kb(m,!0));else{const R=new ui.Y(m.endLineNumber,m.endColumn,m.endLineNumber,m.endColumn);o.push(new it.OY(R,d.getValueInRange(m)))}e.pushUndoStop(),e.executeCommands(this.id,o),e.pushUndoStop()}}),(0,Xe.Qr)(class extends Gb{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:Me.N("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"2_line",title:Me.N({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,Xe.Qr)(class extends Gb{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:Me.N("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"2_line",title:Me.N({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,Xe.Qr)(class extends Qb{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:Me.N("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:pt.u.writable})}}),(0,Xe.Qr)(class extends Qb{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:Me.N("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:pt.u.writable})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:Me.N("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:pt.u.writable})}run(t,e){if(!e.hasModel())return;let n=e.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=[],s=[],d=0;for(let m of e.getSelections()){let R=new Set,U=[];for(let De=m.startLineNumber;De<=m.endLineNumber;De++){let Ke=n.getLineContent(De);R.has(Ke)||(U.push(Ke),R.add(Ke))}let F=new ui.Y(m.startLineNumber,1,m.endLineNumber,n.getLineMaxColumn(m.endLineNumber)),q=m.startLineNumber-d,_e=new ui.Y(q,1,q+U.length-1,U[U.length-1].length);o.push(ls.h.replace(F,U.join("\n"))),s.push(_e),d+=m.endLineNumber-m.startLineNumber+1-U.length}e.pushUndoStop(),e.executeEdits(this.id,o,s),e.pushUndoStop()}}),(0,Xe.Qr)(TM),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.deleteLines",label:Me.N("lines.delete","Delete Line"),alias:"Delete Line",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.textInputFocus,primary:3113,weight:100}})}run(t,e){if(!e.hasModel())return;let n=this._getLinesToRemove(e),o=e.getModel();if(1===o.getLineCount()&&1===o.getLineMaxColumn(1))return;let s=0,d=[],m=[];for(let R=0,U=n.length;R<U;R++){const F=n[R];let q=F.startLineNumber,_e=F.endLineNumber,De=1,Ke=o.getLineMaxColumn(_e);_e<o.getLineCount()?(_e+=1,Ke=1):q>1&&(q-=1,De=o.getLineMaxColumn(q)),d.push(ls.h.replace(new ui.Y(q,De,_e,Ke),"")),m.push(new ui.Y(q-s,F.positionColumn,q-s,F.positionColumn)),s+=F.endLineNumber-F.startLineNumber+1}e.pushUndoStop(),e.executeEdits(this.id,d,m),e.pushUndoStop()}_getLinesToRemove(t){let e=t.getSelections().map(s=>{let d=s.endLineNumber;return s.startLineNumber<s.endLineNumber&&1===s.endColumn&&(d-=1),{startLineNumber:s.startLineNumber,selectionStartColumn:s.selectionStartColumn,endLineNumber:d,positionColumn:s.positionColumn}});e.sort((s,d)=>s.startLineNumber===d.startLineNumber?s.endLineNumber-d.endLineNumber:s.startLineNumber-d.startLineNumber);let n=[],o=e[0];for(let s=1;s<e.length;s++)o.endLineNumber+1>=e[s].startLineNumber?o.endLineNumber=e[s].endLineNumber:(n.push(o),o=e[s]);return n.push(o),n}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.indentLines",label:Me.N("lines.indent","Indent Line"),alias:"Indent Line",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:2137,weight:100}})}run(t,e){const n=e._getViewModel();!n||(e.pushUndoStop(),e.executeCommands(this.id,W_.u.indent(n.cursorConfig,e.getModel(),e.getSelections())),e.pushUndoStop())}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.outdentLines",label:Me.N("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:2135,weight:100}})}run(t,e){jr.wk.Outdent.runEditorCommand(t,e,null)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.insertLineBefore",label:Me.N("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:3075,weight:100}})}run(t,e){const n=e._getViewModel();!n||(e.pushUndoStop(),e.executeCommands(this.id,W_.u.lineInsertBefore(n.cursorConfig,e.getModel(),e.getSelections())))}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.insertLineAfter",label:Me.N("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:2051,weight:100}})}run(t,e){const n=e._getViewModel();!n||(e.pushUndoStop(),e.executeCommands(this.id,W_.u.lineInsertAfter(n.cursorConfig,e.getModel(),e.getSelections())))}}),(0,Xe.Qr)(class extends Yb{constructor(){super({id:"deleteAllLeft",label:Me.N("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(t,e){let n=null,o=[],s=0;return e.forEach(d=>{let m;if(1===d.endColumn&&s>0){let R=d.startLineNumber-s;m=new ui.Y(R,d.startColumn,R,d.startColumn)}else m=new ui.Y(d.startLineNumber,d.startColumn,d.startLineNumber,d.startColumn);s+=d.endLineNumber-d.startLineNumber,d.intersectRanges(t)?n=m:o.push(m)}),n&&o.unshift(n),o}_getRangesToDelete(t){let e=t.getSelections();if(null===e)return[];let n=e,o=t.getModel();return null===o?[]:(n.sort(It.e.compareRangesUsingStarts),n=n.map(s=>{if(s.isEmpty()){if(1===s.startColumn){let d=Math.max(1,s.startLineNumber-1),m=1===s.startLineNumber?1:o.getLineContent(d).length+1;return new It.e(d,m,s.startLineNumber,1)}return new It.e(s.startLineNumber,1,s.startLineNumber,s.startColumn)}return new It.e(s.startLineNumber,1,s.endLineNumber,s.endColumn)}),n)}}),(0,Xe.Qr)(class extends Yb{constructor(){super({id:"deleteAllRight",label:Me.N("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(t,e){let n=null,o=[];for(let s=0,d=e.length,m=0;s<d;s++){let R=e[s],U=new ui.Y(R.startLineNumber-m,R.startColumn,R.startLineNumber-m,R.startColumn);R.intersectRanges(t)?n=U:o.push(U)}return n&&o.unshift(n),o}_getRangesToDelete(t){let e=t.getModel();if(null===e)return[];let n=t.getSelections();if(null===n)return[];let o=n.map(s=>{if(s.isEmpty()){const d=e.getLineMaxColumn(s.startLineNumber);return s.startColumn===d?new It.e(s.startLineNumber,s.startColumn,s.startLineNumber+1,1):new It.e(s.startLineNumber,s.startColumn,s.startLineNumber,d)}return s});return o.sort(It.e.compareRangesUsingStarts),o}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.joinLines",label:Me.N("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(t,e){let n=e.getSelections();if(null===n)return;let o=e.getSelection();if(null===o)return;n.sort(It.e.compareRangesUsingStarts);let s=[],d=n.reduce((_e,De)=>_e.isEmpty()?_e.endLineNumber===De.startLineNumber?(o.equalsSelection(_e)&&(o=De),De):De.startLineNumber>_e.endLineNumber+1?(s.push(_e),De):new ui.Y(_e.startLineNumber,_e.startColumn,De.endLineNumber,De.endColumn):De.startLineNumber>_e.endLineNumber?(s.push(_e),De):new ui.Y(_e.startLineNumber,_e.startColumn,De.endLineNumber,De.endColumn));s.push(d);let m=e.getModel();if(null===m)return;let R=[],U=[],F=o,q=0;for(let _e=0,De=s.length;_e<De;_e++){let tn,on,Ke=s[_e],ct=Ke.startLineNumber,Tt=1,Ot=0,Wn=m.getLineContent(Ke.endLineNumber).length-Ke.endColumn;if(Ke.isEmpty()||Ke.startLineNumber===Ke.endLineNumber){let yi=Ke.getStartPosition();yi.lineNumber<m.getLineCount()?(tn=ct+1,on=m.getLineMaxColumn(tn)):(tn=yi.lineNumber,on=m.getLineMaxColumn(yi.lineNumber))}else tn=Ke.endLineNumber,on=m.getLineMaxColumn(tn);let An=m.getLineContent(ct);for(let yi=ct+1;yi<=tn;yi++){let us=m.getLineContent(yi),zs=m.getLineFirstNonWhitespaceColumn(yi);if(zs>=1){let Us=!0;""===An&&(Us=!1),Us&&(" "===An.charAt(An.length-1)||"\t"===An.charAt(An.length-1))&&(Us=!1,An=An.replace(/[\s\uFEFF\xA0]+$/g," "));let ya=us.substr(zs-1);An+=(Us?" ":"")+ya,Ot=Us?ya.length+1:ya.length}else Ot=0}let Bi=new It.e(ct,Tt,tn,on);if(!Bi.isEmpty()){let yi;Ke.isEmpty()?(R.push(ls.h.replace(Bi,An)),yi=new ui.Y(Bi.startLineNumber-q,An.length-Ot+1,ct-q,An.length-Ot+1)):Ke.startLineNumber===Ke.endLineNumber?(R.push(ls.h.replace(Bi,An)),yi=new ui.Y(Ke.startLineNumber-q,Ke.startColumn,Ke.endLineNumber-q,Ke.endColumn)):(R.push(ls.h.replace(Bi,An)),yi=new ui.Y(Ke.startLineNumber-q,Ke.startColumn,Ke.startLineNumber-q,An.length-Wn)),null!==It.e.intersectRanges(Bi,o)?F=yi:U.push(yi)}q+=Bi.endLineNumber-Bi.startLineNumber}U.unshift(F),e.pushUndoStop(),e.executeEdits(this.id,R,U),e.pushUndoStop()}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.transpose",label:Me.N("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:pt.u.writable})}run(t,e){let n=e.getSelections();if(null===n)return;let o=e.getModel();if(null===o)return;let s=[];for(let d=0,m=n.length;d<m;d++){let R=n[d];if(!R.isEmpty())continue;let U=R.getStartPosition(),F=o.getLineMaxColumn(U.lineNumber);if(U.column>=F){if(U.lineNumber===o.getLineCount())continue;let q=new It.e(U.lineNumber,Math.max(1,U.column-1),U.lineNumber+1,1),_e=o.getValueInRange(q).split("").reverse().join("");s.push(new it.T4(new ui.Y(U.lineNumber,Math.max(1,U.column-1),U.lineNumber+1,1),_e))}else{let q=new It.e(U.lineNumber,Math.max(1,U.column-1),U.lineNumber,U.column+1),_e=o.getValueInRange(q).split("").reverse().join("");s.push(new it.hP(q,_e,new ui.Y(U.lineNumber,U.column+1,U.lineNumber,U.column+1)))}}e.pushUndoStop(),e.executeCommands(this.id,s),e.pushUndoStop()}}),(0,Xe.Qr)(class extends qm{constructor(){super({id:"editor.action.transformToUppercase",label:Me.N("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:pt.u.writable})}_modifyText(t,e){return t.toLocaleUpperCase()}}),(0,Xe.Qr)(class extends qm{constructor(){super({id:"editor.action.transformToLowercase",label:Me.N("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:pt.u.writable})}_modifyText(t,e){return t.toLocaleLowerCase()}}),Zc.caseBoundary.isSupported()&&Zc.singleLetters.isSupported()&&(0,Xe.Qr)(Zc),eg.titleBoundary.isSupported()&&(0,Xe.Qr)(eg);var ep=function(a,t){return function(e,n){t(e,n,a)}},z_=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};const Jb=new Qt.uy("LinkedEditingInputVisible",!1),Xb="linked-editing-decoration";let Gc=class P1 extends At.JT{constructor(t,e,n,o,s){super(),this.languageConfigurationService=o,this._localToDispose=this._register(new At.SL),this._editor=t,this._providers=n.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=Jb.bindTo(e),this._debounceInformation=s.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new At.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(d=>{(d.hasChanged(62)||d.hasChanged(82))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(t){return t.getContribution(P1.ID)}reinitialize(t){const e=this._editor.getModel(),n=null!==e&&(this._editor.getOption(62)||this._editor.getOption(82))&&this._providers.has(e);if(n===this._enabled&&!t||(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||null===e))return;this._localToDispose.add(zn.ju.runAndSubscribe(e.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition()}));const o=new Hn.vp(this._debounceInformation.get(e)),s=()=>{var R;this._rangeUpdateTriggerPromise=o.trigger(()=>this.updateRanges(),null!==(R=this._debounceDuration)&&void 0!==R?R:this._debounceInformation.get(e))},d=new Hn.vp(0),m=R=>{this._rangeSyncTriggerPromise=d.trigger(()=>this._syncRanges(R))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{s()})),this._localToDispose.add(this._editor.onDidChangeModelContent(R=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const U=e.getDecorationRange(this._currentDecorations[0]);if(U&&R.changes.every(F=>U.intersectRanges(F.range)))return void m(this._currentDecorations)}s()})),this._localToDispose.add({dispose:()=>{o.dispose(),d.dispose()}}),this.updateRanges()}_syncRanges(t){if(!this._editor.hasModel()||t!==this._currentDecorations||0===t.length)return;const e=this._editor.getModel(),n=e.getDecorationRange(t[0]);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const o=e.getValueInRange(n);if(this._currentWordPattern){const d=o.match(this._currentWordPattern);if((d?d[0].length:0)!==o.length)return this.clearRanges()}let s=[];for(let d=1,m=t.length;d<m;d++){const R=e.getDecorationRange(t[d]);if(R)if(R.startLineNumber!==R.endLineNumber)s.push({range:R,text:o});else{let U=e.getValueInRange(R),F=o,q=R.startColumn,_e=R.endColumn;const De=In.Mh(U,F);q+=De,U=U.substr(De),F=F.substr(De);const Ke=In.P1(U,F);_e-=Ke,U=U.substr(0,U.length-Ke),F=F.substr(0,F.length-Ke),(q!==_e||0!==F.length)&&s.push({range:new It.e(R.startLineNumber,q,R.endLineNumber,_e),text:F})}}if(0!==s.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const d=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",s),this._editor._getViewModel().setPrevEditOperationType(d)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return z_(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const e=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),o=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(e.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const d=n.getDecorationRange(this._currentDecorations[0]);if(d&&d.containsPosition(e))return}}this._currentRequestPosition=e,this._currentRequestModelVersion=o;const s=(0,Hn.PG)(d=>z_(this,void 0,void 0,function*(){try{const m=new Xr.G(!1),R=yield qb(this._providers,n,e,d);if(this._debounceInformation.update(n,m.elapsed()),s!==this._currentRequest||(this._currentRequest=null,o!==n.getVersionId()))return;let U=[];(null==R?void 0:R.ranges)&&(U=R.ranges),this._currentWordPattern=(null==R?void 0:R.wordPattern)||this._languageWordPattern;let F=!1;for(let _e=0,De=U.length;_e<De;_e++)if(It.e.containsPosition(U[_e],e)){if(F=!0,0!==_e){const Ke=U[_e];U.splice(_e,1),U.unshift(Ke)}break}if(!F)return void this.clearRanges();const q=U.map(_e=>({range:_e,options:P1.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,q)}catch(m){(0,Yn.n2)(m)||(0,Yn.dL)(m),(this._currentRequest===s||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=s,s})}};Gc.ID="editor.contrib.linkedEditing",Gc.DECORATION=qi.qx.register({description:"linked-editing",stickiness:0,className:Xb}),Gc=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([ep(1,Qt.i6),ep(2,wi.p),ep(3,jo.c_),ep(4,Ir.A)],Gc);const GM=Xe._l.bindToContribution(Gc.get);function qb(a,t,e,n){const o=a.ordered(t);return(0,Hn.Ps)(o.map(s=>()=>z_(this,void 0,void 0,function*(){try{return yield s.provideLinkedEditingRanges(t,e,n)}catch(d){return void(0,Yn.Cp)(d)}})),s=>!!s&&po.Of(null==s?void 0:s.ranges))}(0,Xe.fK)(new GM({id:"cancelLinkedEditingInput",precondition:Jb,handler:a=>a.clearRanges(),kbOpts:{kbExpr:pt.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const QM=(0,l.P6G)("editor.linkedEditingBackground",{dark:$i.Il.fromHex("#f00").transparent(.3),light:$i.Il.fromHex("#f00").transparent(.3),hc:$i.Il.fromHex("#f00").transparent(.3)},Me.N("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,_.Ic)((a,t)=>{const e=a.getColor(QM);e&&t.addRule(`.monaco-editor .${Xb} { background: ${e}; border-left-color: ${e}; }`)}),(0,Xe.sb)("_executeLinkedEditingProvider",(a,t,e)=>{const{linkedEditingRangeProvider:n}=a.get(wi.p);return qb(n,t,e,ii.T.None)}),(0,Xe._K)(Gc.ID,Gc),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.linkedEditing",label:Me.N("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Qt.Ao.and(pt.u.writable,pt.u.hasRenameProvider),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:3132,weight:100}})}runCommand(t,e){const n=t.get(en.$),[o,s]=Array.isArray(e)&&e||[void 0,void 0];return vo.o.isUri(o)&&qn.L.isIPosition(s)?n.openCodeEditor({resource:o},n.getActiveCodeEditor()).then(d=>{!d||(d.setPosition(s),d.invokeWithinContext(m=>(this.reportTelemetry(m,d),this.run(m,d))))},Yn.dL):super.runCommand(t,e)}run(t,e){const n=Gc.get(e);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}),p(56413);var ev=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};class YM{constructor(t,e){this._link=t,this._provider=e}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(t){return ev(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,t)).then(e=>(this._link=e||this._link,this._link.url?this.resolve(t):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class tp{constructor(t){this._disposables=new At.SL;let e=[];for(const[n,o]of t){const s=n.links.map(d=>new YM(d,o));e=tp._union(e,s),(0,At.Wf)(n)&&this._disposables.add(n)}this.links=e}dispose(){this._disposables.dispose(),this.links.length=0}static _union(t,e){let o,s,d,m,n=[];for(o=0,d=0,s=t.length,m=e.length;o<s&&d<m;){const R=t[o],U=e[d];It.e.areIntersectingOrTouching(R.range,U.range)?o++:It.e.compareRangesUsingStarts(R.range,U.range)<0?(n.push(R),o++):(n.push(U),d++)}for(;o<s;o++)n.push(t[o]);for(;d<m;d++)n.push(e[d]);return n}}function tv(a,t,e){const n=[],o=a.ordered(t).reverse().map((s,d)=>Promise.resolve(s.provideLinks(t,e)).then(m=>{m&&(n[d]=[m,s])},Yn.Cp));return Promise.all(o).then(()=>{const s=new tp((0,po.kX)(n));return e.isCancellationRequested?(s.dispose(),new tp([])):s})}to.P0.registerCommand("_executeLinkProvider",(a,...t)=>ev(void 0,void 0,void 0,function*(){let[e,n]=t;(0,Ki.p_)(e instanceof vo.o),"number"!=typeof n&&(n=0);const{linkProvider:o}=a.get(wi.p),s=a.get(Ia.q).getModel(e);if(!s)return[];const d=yield tv(o,s,ii.T.None);if(!d)return[];for(let R=0;R<Math.min(n,d.links.length);R++)yield d.links[R].resolve(ii.T.None);const m=d.links.slice(0);return d.dispose(),m}));var np=function(a,t){return function(e,n){t(e,n,a)}};let ph=class Sw extends At.JT{constructor(t,e,n,o,s){super(),this.editor=t,this.openerService=e,this.notificationService=n,this.languageFeaturesService=o,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=s.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new Hn.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const d=this._register(new Ed(t));this._register(d.onMouseMoveOrRelevantKeyDown(([m,R])=>{this._onEditorMouseMove(m,R)})),this._register(d.onExecute(m=>{this.onEditorMouseUp(m)})),this._register(d.onCancel(m=>{this.cleanUpActiveLinkDecoration()})),this._register(t.onDidChangeConfiguration(m=>{!m.hasChanged(63)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(t.onDidChangeModelContent(m=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(t.onDidChangeModel(m=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(t.onDidChangeModelLanguage(m=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(m=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(t){return t.getContribution(Sw.ID)}computeLinksNow(){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(63))return;const t=this.editor.getModel();if(this.providers.has(t)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,Hn.PG)(e=>tv(this.providers,t,e));try{const e=new Xr.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(t,e.elapsed()),t.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(e){(0,Yn.dL)(e)}finally{this.computePromise=null}}})}updateDecorations(t){const e="altKey"===this.editor.getOption(70),n=[],o=Object.keys(this.currentOccurrences);for(const m of o)n.push(this.currentOccurrences[m].decorationId);const s=[];if(t)for(const m of t)s.push(_h.decoration(m,e));const d=this.editor.deltaDecorations(n,s);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let m=0,R=d.length;m<R;m++){const U=new _h(t[m],d[m]);this.currentOccurrences[U.decorationId]=U}}_onEditorMouseMove(t,e){const n="altKey"===this.editor.getOption(70);if(this.isEnabled(t,e)){this.cleanUpActiveLinkDecoration();const o=this.getLinkOccurrence(t.target.position);o&&this.editor.changeDecorations(s=>{o.activate(s,n),this.activeLinkDecorationId=o.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const t="altKey"===this.editor.getOption(70);if(this.activeLinkDecorationId){const e=this.currentOccurrences[this.activeLinkDecorationId];e&&this.editor.changeDecorations(n=>{e.deactivate(n,t)}),this.activeLinkDecorationId=null}}onEditorMouseUp(t){if(!this.isEnabled(t))return;const e=this.getLinkOccurrence(t.target.position);!e||this.openLinkOccurrence(e,t.hasSideBySideModifier,!0)}openLinkOccurrence(t,e,n=!1){if(!this.openerService)return;const{link:o}=t;o.resolve(ii.T.None).then(s=>{if("string"==typeof s&&this.editor.hasModel()){const d=this.editor.getModel().uri;if(d.scheme===ms.lg.file&&s.startsWith(`${ms.lg.file}:`)){const m=vo.o.parse(s);if(m.scheme===ms.lg.file){const R=Do.z_(m);let U=null;R.startsWith("/./")?U=`.${R.substr(1)}`:R.startsWith("//./")&&(U=`.${R.substr(2)}`),U&&(s=Do.Vo(d,U))}}}return this.openerService.open(s,{openToSide:e,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0})},s=>{const d=s instanceof Error?s.message:s;"invalid"===d?this.notificationService.warn(Me.N("invalid.url","Failed to open this link because it is not well-formed: {0}",o.url.toString())):"missing"===d?this.notificationService.warn(Me.N("missing.url","Failed to open this link because its target is missing.")):(0,Yn.dL)(s)})}getLinkOccurrence(t){if(!this.editor.hasModel()||!t)return null;const e=this.editor.getModel().getDecorationsInRange({startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column},0,!0);for(const n of e){const o=this.currentOccurrences[n.id];if(o)return o}return null}isEnabled(t,e){return Boolean(6===t.target.type&&(t.hasTriggerModifier||e&&e.keyCodeIsTriggerKey))}stop(){var t;this.computeLinks.cancel(),this.activeLinksList&&(null===(t=this.activeLinksList)||void 0===t||t.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};ph.ID="editor.linkDetector",ph=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([np(1,ta.v4),np(2,gs.lT),np(3,wi.p),np(4,Ir.A)],ph);const nv={general:qi.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:qi.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class _h{constructor(t,e){this.link=t,this.decorationId=e}static decoration(t,e){return{range:t.range,options:_h._getOptions(t,e,!1)}}static _getOptions(t,e,n){const o=Object.assign({},n?nv.active:nv.general);return o.hoverMessage=function(a,t){const e=a.url&&/^command:/i.test(a.url.toString()),n=a.tooltip?a.tooltip:e?Me.N("links.navigate.executeCmd","Execute command"):Me.N("links.navigate.follow","Follow link"),o=t?Ht.dz?Me.N("links.navigate.kb.meta.mac","cmd + click"):Me.N("links.navigate.kb.meta","ctrl + click"):Ht.dz?Me.N("links.navigate.kb.alt.mac","option + click"):Me.N("links.navigate.kb.alt","alt + click");if(a.url){let s="";if(/^command:/i.test(a.url.toString())){const m=a.url.toString().match(/^command:([^?#]+)/);m&&(s=` "${Me.N("tooltip.explanation","Execute command {0}",m[1])}"`)}return new zo.W5("",!0).appendMarkdown(`[${n}](${a.url.toString(!0).replace(/ /g,"%20")}${s}) (${o})`)}return(new zo.W5).appendText(`${n} (${o})`)}(t,e),o}activate(t,e){t.changeDecorationOptions(this.decorationId,_h._getOptions(this.link,e,!0))}deactivate(t,e){t.changeDecorationOptions(this.decorationId,_h._getOptions(this.link,e,!1))}}function Ch(a,t){const e=t.filter(n=>!a.find(o=>o.equals(n)));if(e.length>=1){const n=e.map(s=>`line ${s.viewState.position.lineNumber} column ${s.viewState.position.column}`).join(", "),o=1===e.length?Me.N("cursorAdded","Cursor added: {0}",n):Me.N("cursorsAdded","Cursors added: {0}",n);(0,Es.i7)(o)}}(0,Xe._K)(ph.ID,ph),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.openLink",label:Me.N("label","Open Link"),alias:"Open Link",precondition:void 0})}run(t,e){const n=ph.get(e);if(!n||!e.hasModel())return;const o=e.getSelections();for(const s of o){const d=n.getLinkOccurrence(s.getEndPosition());d&&n.openLinkOccurrence(d,!1)}}}),(0,_.Ic)((a,t)=>{const e=a.getColor(l._Yy);e&&t.addRule(`.monaco-editor .detected-link-active { color: ${e} !important; }`)});class ip{constructor(t,e,n){this.selections=t,this.revealRange=e,this.revealScrollType=n}}class tg{constructor(t,e,n,o,s,d,m){this._editor=t,this.findController=e,this.isDisconnectedFromFindController=n,this.searchText=o,this.wholeWord=s,this.matchCase=d,this.currentMatch=m}static create(t,e){if(!t.hasModel())return null;const n=e.getState();if(!t.hasTextFocus()&&n.isRevealed&&n.searchString.length>0)return new tg(t,e,!1,n.searchString,n.wholeWord,n.matchCase,null);let s,d,o=!1;const m=t.getSelections();1===m.length&&m[0].isEmpty()?(o=!0,s=!0,d=!0):(s=n.wholeWord,d=n.matchCase);const R=t.getSelection();let U,F=null;if(R.isEmpty()){const q=t.getConfiguredWordAtPosition(R.getStartPosition());if(!q)return null;U=q.word,F=new ui.Y(R.startLineNumber,q.startColumn,R.startLineNumber,q.endColumn)}else U=t.getModel().getValueInRange(R).replace(/\r\n/g,"\n");return new tg(t,e,o,U,s,d,F)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const t=this._getNextMatch();if(!t)return null;const e=this._editor.getSelections();return new ip(e.concat(t),t,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const t=this._getNextMatch();if(!t)return null;const e=this._editor.getSelections();return new ip(e.slice(0,e.length-1).concat(t),t,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();const t=this._editor.getSelections(),e=t[t.length-1],n=this._editor.getModel().findNextMatch(this.searchText,e.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return n?new ui.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const t=this._getPreviousMatch();if(!t)return null;const e=this._editor.getSelections();return new ip(e.concat(t),t,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const t=this._getPreviousMatch();if(!t)return null;const e=this._editor.getSelections();return new ip(e.slice(0,e.length-1).concat(t),t,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const o=this.currentMatch;return this.currentMatch=null,o}this.findController.highlightFindOptions();const t=this._editor.getSelections(),e=t[t.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,e.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return n?new ui.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)):[]}}let op=(()=>{class a extends At.JT{constructor(e){super(),this._sessionDispose=this._register(new At.SL),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(a.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const n=tg.create(this._editor,e);if(!n)return;this._session=n;const o={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(o.wholeWordOverride=1,o.matchCaseOverride=1,o.isRegexOverride=2),e.getState().change(o,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(s=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(s=>{(s.matchCase||s.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,n){if(!n.isEmpty())return n;const o=this._editor.getConfiguredWordAtPosition(n.getStartPosition());return o?new ui.Y(n.startLineNumber,o.startColumn,n.startLineNumber,o.endColumn):n}_applySessionResult(e){!e||(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const n=this._editor.getSelections();if(n.length>1){const s=e.getState().matchCase;if(!iv(this._editor.getModel(),n,s)){const m=this._editor.getModel();let R=[];for(let U=0,F=n.length;U<F;U++)R[U]=this._expandEmptyToWord(m,n[U]);return void this._editor.setSelections(R)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let n=null;const o=e.getState();if(o.isRevealed&&o.searchString.length>0&&o.isRegex)n=this._editor.getModel().findMatches(o.searchString,!0,o.isRegex,o.matchCase,o.wholeWord?this._editor.getOption(117):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;n=this._session.selectAll()}if(o.searchScope){const s=o.searchScope;let d=[];n.forEach(m=>{s.forEach(R=>{m.range.endLineNumber<=R.endLineNumber&&m.range.startLineNumber>=R.startLineNumber&&d.push(m)})}),n=d}if(n.length>0){const s=this._editor.getSelection();for(let d=0,m=n.length;d<m;d++){const R=n[d];if(R.range.intersectRanges(s)){n[d]=n[0],n[0]=R;break}}this._setSelections(n.map(d=>new ui.Y(d.range.startLineNumber,d.range.startColumn,d.range.endLineNumber,d.range.endColumn)))}}}return a.ID="editor.contrib.multiCursorController",a})();class bh extends Xe.R6{run(t,e){const n=op.get(e);if(!n)return;const o=Rr.get(e);if(!o)return;const s=e._getViewModel();if(s){const d=s.getCursorStates();this._run(n,o),Ch(d,s.getCursorStates())}}}class gD{constructor(t,e,n,o,s){this._model=t,this._searchText=e,this._matchCase=n,this._wordSeparators=o,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,s&&this._model===s._model&&this._searchText===s._searchText&&this._matchCase===s._matchCase&&this._wordSeparators===s._wordSeparators&&this._modelVersionId===s._modelVersionId&&(this._cachedFindMatches=s._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(t=>t.range),this._cachedFindMatches.sort(It.e.compareRangesUsingStarts)),this._cachedFindMatches}}let Gd=class Dp extends At.JT{constructor(t,e){super(),this._languageFeaturesService=e,this.editor=t,this._isEnabled=t.getOption(97),this.decorations=[],this.updateSoon=this._register(new Hn.pY(()=>this._update(),300)),this.state=null,this._register(t.onDidChangeConfiguration(o=>{this._isEnabled=t.getOption(97)})),this._register(t.onDidChangeCursorSelection(o=>{!this._isEnabled||(o.selection.isEmpty()?3===o.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(t.onDidChangeModel(o=>{this._setState(null)})),this._register(t.onDidChangeModelContent(o=>{this._isEnabled&&this.updateSoon.schedule()}));const n=Rr.get(t);n&&this._register(n.getState().onFindReplaceStateChange(o=>{this._update()}))}_update(){this._setState(Dp._createState(this.state,this._isEnabled,this.editor))}static _createState(t,e,n){if(!e||!n.hasModel())return null;const o=n.getSelection();if(o.startLineNumber!==o.endLineNumber)return null;const s=op.get(n);if(!s)return null;const d=Rr.get(n);if(!d)return null;let m=s.getSession(d);if(!m){const F=n.getSelections();if(F.length>1){const _e=d.getState().matchCase;if(!iv(n.getModel(),F,_e))return null}m=tg.create(n,d)}if(!m||m.currentMatch||/^[ \t]+$/.test(m.searchText)||m.searchText.length>200)return null;const R=d.getState(),U=R.matchCase;if(R.isRevealed){let F=R.searchString;U||(F=F.toLowerCase());let q=m.searchText;if(U||(q=q.toLowerCase()),F===q&&m.matchCase===R.matchCase&&m.wholeWord===R.wholeWord&&!R.isRegex)return null}return new gD(n.getModel(),m.searchText,m.matchCase,m.wholeWord?n.getOption(117):null,t)}_setState(t){if(this.state=t,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const e=this.editor.getModel();if(e.isTooLargeForTokenization())return;const n=this.state.findMatches(),o=this.editor.getSelections();o.sort(It.e.compareRangesUsingStarts);const s=[];for(let R=0,U=0,F=n.length,q=o.length;R<F;){const _e=n[R];if(U>=q)s.push(_e),R++;else{const De=It.e.compareRangesUsingStarts(_e,o[U]);De<0?((o[U].isEmpty()||!It.e.areIntersecting(_e,o[U]))&&s.push(_e),R++):(De>0||R++,U++)}}const d=this._languageFeaturesService.documentHighlightProvider.has(e)&&this.editor.getOption(72),m=s.map(R=>({range:R,options:d?Dp._SELECTION_HIGHLIGHT:Dp._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,m)}dispose(){this._setState(null),super.dispose()}};function iv(a,t,e){const n=ov(a,t[0],!e);for(let o=1,s=t.length;o<s;o++){const d=t[o];if(d.isEmpty())return!1;if(n!==ov(a,d,!e))return!1}return!0}function ov(a,t,e){const n=a.getValueInRange(t);return e?n.toLowerCase():n}Gd.ID="editor.contrib.selectionHighlighter",Gd._SELECTION_HIGHLIGHT_OVERVIEW=qi.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,_.EN)(l.IYc),position:os.F5.Inline},overviewRuler:{color:(0,_.EN)(l.SPM),position:os.sh.Center}}),Gd._SELECTION_HIGHLIGHT=qi.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Gd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,wi.p)],Gd),(0,Xe._K)(op.ID,op),(0,Xe._K)(Gd.ID,Gd),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:Me.N("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"3_multi",title:Me.N({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(t,e,n){if(!e.hasModel())return;let o=!0;n&&!1===n.logicalLine&&(o=!1);const s=e._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const d=s.getCursorStates();s.setCursorStates(n.source,3,B_.P.addCursorUp(s,d,o)),s.revealTopMostCursor(n.source),Ch(d,s.getCursorStates())}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:Me.N("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"3_multi",title:Me.N({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(t,e,n){if(!e.hasModel())return;let o=!0;n&&!1===n.logicalLine&&(o=!1);const s=e._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const d=s.getCursorStates();s.setCursorStates(n.source,3,B_.P.addCursorDown(s,d,o)),s.revealBottomMostCursor(n.source),Ch(d,s.getCursorStates())}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:Me.N("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"3_multi",title:Me.N({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(t,e,n){if(!t.isEmpty()){for(let o=t.startLineNumber;o<t.endLineNumber;o++){let s=e.getLineMaxColumn(o);n.push(new ui.Y(o,s,o,s))}t.endColumn>1&&n.push(new ui.Y(t.endLineNumber,t.endColumn,t.endLineNumber,t.endColumn))}}run(t,e){if(!e.hasModel())return;const n=e.getModel(),o=e.getSelections(),s=e._getViewModel(),d=s.getCursorStates();let m=[];o.forEach(R=>this.getCursorsForSelection(R,n,m)),m.length>0&&e.setSelections(m),Ch(d,s.getCursorStates())}}),(0,Xe.Qr)(class extends bh{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:Me.N("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:2082,weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"3_multi",title:Me.N({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(t,e){t.addSelectionToNextFindMatch(e)}}),(0,Xe.Qr)(class extends bh{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:Me.N("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"3_multi",title:Me.N({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(t,e){t.addSelectionToPreviousFindMatch(e)}}),(0,Xe.Qr)(class extends bh{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:Me.N("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:(0,is.gx)(2089,2082),weight:100}})}_run(t,e){t.moveSelectionToNextFindMatch(e)}}),(0,Xe.Qr)(class extends bh{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:Me.N("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(t,e){t.moveSelectionToPreviousFindMatch(e)}}),(0,Xe.Qr)(class extends bh{constructor(){super({id:"editor.action.selectHighlights",label:Me.N("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:3114,weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"3_multi",title:Me.N({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(t,e){t.selectAll(e)}}),(0,Xe.Qr)(class extends bh{constructor(){super({id:"editor.action.changeAll",label:Me.N("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Qt.Ao.and(pt.u.writable,pt.u.editorTextFocus),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(t,e){t.selectAll(e)}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:Me.N("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(t,e){if(!e.hasModel())return;const n=e.getSelections(),o=e.getModel().getLineCount();let s=[];for(let R=n[0].startLineNumber;R<=o;R++)s.push(new ui.Y(R,n[0].startColumn,R,n[0].endColumn));const d=e._getViewModel(),m=d.getCursorStates();s.length>0&&e.setSelections(s),Ch(m,d.getCursorStates())}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:Me.N("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(t,e){if(!e.hasModel())return;const n=e.getSelections();let o=[];for(let m=n[0].startLineNumber;m>=1;m--)o.push(new ui.Y(m,n[0].startColumn,m,n[0].endColumn));const s=e._getViewModel(),d=s.getCursorStates();o.length>0&&e.setSelections(o),Ch(d,s.getCursorStates())}});var sv=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};const Qd={Visible:new Qt.uy("parameterHintsVisible",!1),MultipleSignatures:new Qt.uy("parameterHintsMultipleSignatures",!1)};function rv(a,t,e,n,o){return sv(this,void 0,void 0,function*(){const s=a.ordered(t);for(const d of s)try{const m=yield d.provideSignatureHelp(t,e,o,n);if(m)return m}catch(m){(0,Yn.Cp)(m)}})}to.P0.registerCommand("_executeSignatureHelpProvider",(a,...t)=>sv(void 0,void 0,void 0,function*(){const[e,n,o]=t;(0,Ki.p_)(vo.o.isUri(e)),(0,Ki.p_)(qn.L.isIPosition(n)),(0,Ki.p_)("string"==typeof o||!o);const s=a.get(wi.p),d=yield a.get(pr.S).createModelReference(e);try{const m=yield rv(s.signatureHelpProvider,d.object.textEditorModel,qn.L.lift(n),{triggerKind:Ji.WW.Invoke,isRetrigger:!1,triggerCharacter:o},ii.T.None);return m?(setTimeout(()=>m.dispose(),0),m.value):void 0}finally{d.dispose()}})),p(16393);var Qc;!function(a){a.Default={type:0},a.Pending=class{constructor(o,s){this.request=o,this.previouslyActiveHints=s,this.type=2}},a.Active=class{constructor(o){this.hints=o,this.type=1}}}(Qc||(Qc={}));let pD=(()=>{class a extends At.JT{constructor(e,n,o=a.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new zn.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Qc.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new At.XK),this.triggerChars=new ah.q,this.retriggerChars=new ah.q,this.triggerId=0,this.editor=e,this.providers=n,this.throttledDelayer=new Hn.vp(o),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(s=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(s=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(s=>this.onCursorChange(s))),this._register(this.editor.onDidChangeModelContent(s=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(s=>this.onDidType(s))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Qc.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,n){const o=this.editor.getModel();if(!o||!this.providers.has(o))return;const s=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(s),n).catch(Yn.dL)}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,n=this.state.hints.activeSignature,o=n%e==e-1,s=this.editor.getOption(76).cycle;!(e<2||o)||s?this.updateActiveSignature(o&&s?0:n+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,n=this.state.hints.activeSignature,o=0===n,s=this.editor.getOption(76).cycle;!(e<2||o)||s?this.updateActiveSignature(o&&s?e-1:n-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new Qc.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){const n=1===this.state.type||2===this.state.type,o=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const s=this._pendingTriggers.reduce(_D);this._pendingTriggers=[];const d={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:n,activeSignatureHelp:o};if(!this.editor.hasModel())return!1;const m=this.editor.getModel(),R=this.editor.getPosition();this.state=new Qc.Pending((0,Hn.PG)(U=>rv(this.providers,m,R,d,U)),o);try{const U=yield this.state.request;return e!==this.triggerId?(null==U||U.dispose(),!1):U&&U.value.signatures&&0!==U.value.signatures.length?(this.state=new Qc.Active(U.value),this._lastSignatureHelpResult.value=U,this._onChangedHints.fire(this.state.hints),!0):(null==U||U.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(U){return e===this.triggerId&&(this.state=Qc.Default),(0,Yn.dL)(U),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new ah.q,this.retriggerChars=new ah.q;const e=this.editor.getModel();if(e)for(const n of this.providers.ordered(e)){for(const o of n.signatureHelpTriggerCharacters||[])this.triggerChars.add(o.charCodeAt(0)),this.retriggerChars.add(o.charCodeAt(0));for(const o of n.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(o.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const n=e.length-1,o=e.charCodeAt(n);(this.triggerChars.has(o)||this.isTriggered&&this.retriggerChars.has(o))&&this.trigger({triggerKind:Ji.WW.TriggerCharacter,triggerCharacter:e.charAt(n)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:Ji.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Ji.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return a.DEFAULT_DELAY=120,a})();function _D(a,t){return t.triggerKind===Ji.WW.ContentChange?a:t}var av=p(76804),sp=function(a,t){return function(e,n){t(e,n,a)}};const Zr=rt.$,bD=(0,rr.q5)("parameter-hints-next",Zn.lA.chevronDown,Me.N("parameterHintsNextIcon","Icon for show next parameter hint.")),vD=(0,rr.q5)("parameter-hints-previous",Zn.lA.chevronUp,Me.N("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let rp=class xw extends At.JT{constructor(t,e,n,o,s){super(),this.editor=t,this.renderDisposeables=this._register(new At.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Xl({editor:t},o,n)),this.model=this._register(new pD(t,s.signatureHelpProvider)),this.keyVisible=Qd.Visible.bindTo(e),this.keyMultipleSignatures=Qd.MultipleSignatures.bindTo(e),this._register(this.model.onChangedHints(d=>{d?(this.show(),this.render(d)):this.hide()}))}createParameterHintDOMNodes(){const t=Zr(".editor-widget.parameter-hints-widget"),e=rt.R3(t,Zr(".phwrapper"));e.tabIndex=-1;const n=rt.R3(e,Zr(".controls")),o=rt.R3(n,Zr(".button"+_.kS.asCSSSelector(vD))),s=rt.R3(n,Zr(".overloads")),d=rt.R3(n,Zr(".button"+_.kS.asCSSSelector(bD)));this._register(rt.nm(o,"click",_e=>{rt.zB.stop(_e),this.previous()})),this._register(rt.nm(d,"click",_e=>{rt.zB.stop(_e),this.next()}));const m=Zr(".body"),R=new as.s$(m,{});this._register(R),e.appendChild(R.getDomNode());const U=rt.R3(m,Zr(".signature")),F=rt.R3(m,Zr(".docs"));t.style.userSelect="text",this.domNodes={element:t,signature:U,overloads:s,docs:F,scrollbar:R},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(_e=>{this.visible&&this.editor.layoutContentWidget(this)}));const q=()=>{if(!this.domNodes)return;const _e=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${_e.fontSize}px`,this.domNodes.element.style.lineHeight=""+_e.lineHeight/_e.fontSize};q(),this._register(zn.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(_e=>_e.hasChanged(44)).on(q,null)),this._register(this.editor.onDidLayoutChange(_e=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(t){var e;if(this.renderDisposeables.clear(),!this.domNodes)return;const n=t.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const o=t.signatures[t.activeSignature];if(!o)return;const s=rt.R3(this.domNodes.signature,Zr(".code")),d=this.editor.getOption(44);s.style.fontSize=`${d.fontSize}px`,s.style.fontFamily=d.fontFamily;const R=null!==(e=o.activeParameter)&&void 0!==e?e:t.activeParameter;o.parameters.length>0?this.renderParameters(s,o,R):rt.R3(s,Zr("span")).textContent=o.label;const U=o.parameters[R];if(null==U?void 0:U.documentation){const q=Zr("span.documentation");if("string"==typeof U.documentation)q.textContent=U.documentation;else{const _e=this.renderMarkdownDocs(U.documentation);q.appendChild(_e.element)}rt.R3(this.domNodes.docs,Zr("p",{},q))}if(void 0!==o.documentation)if("string"==typeof o.documentation)rt.R3(this.domNodes.docs,Zr("p",{},o.documentation));else{const q=this.renderMarkdownDocs(o.documentation);rt.R3(this.domNodes.docs,q.element)}const F=this.hasDocs(o,U);if(this.domNodes.signature.classList.toggle("has-docs",F),this.domNodes.docs.classList.toggle("empty",!F),this.domNodes.overloads.textContent=String(t.activeSignature+1).padStart(t.signatures.length.toString().length,"0")+"/"+t.signatures.length,U){let q="";const _e=o.parameters[R];q=Array.isArray(_e.label)?o.label.substring(_e.label[0],_e.label[1]):_e.label,_e.documentation&&(q+="string"==typeof _e.documentation?`, ${_e.documentation}`:`, ${_e.documentation.value}`),o.documentation&&(q+="string"==typeof o.documentation?`, ${o.documentation}`:`, ${o.documentation.value}`),this.announcedLabel!==q&&(Es.Z9(Me.N("hint","{0}, hint",q)),this.announcedLabel=q)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(t){const e=this.renderDisposeables.add(this.markdownRenderer.render(t,{asyncRenderCallback:()=>{var n;null===(n=this.domNodes)||void 0===n||n.scrollbar.scanDomNode()}}));return e.element.classList.add("markdown-docs"),e}hasDocs(t,e){return!!(e&&"string"==typeof e.documentation&&(0,Ki.cW)(e.documentation).length>0||e&&"object"==typeof e.documentation&&(0,Ki.cW)(e.documentation).value.length>0||t.documentation&&"string"==typeof t.documentation&&(0,Ki.cW)(t.documentation).length>0||t.documentation&&"object"==typeof t.documentation&&(0,Ki.cW)(t.documentation.value).length>0)}renderParameters(t,e,n){const[o,s]=this.getParameterLabelOffsets(e,n),d=document.createElement("span");d.textContent=e.label.substring(0,o);const m=document.createElement("span");m.textContent=e.label.substring(o,s),m.className="parameter active";const R=document.createElement("span");R.textContent=e.label.substring(s),rt.R3(t,d,m,R)}getParameterLabelOffsets(t,e){const n=t.parameters[e];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){const o=new RegExp(`(\\W|^)${(0,In.ec)(n.label)}(?=\\W|$)`,"g");o.test(t.label);const s=o.lastIndex-n.label.length;return s>=0?[s,o.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return xw.ID}trigger(t){this.model.trigger(t,0)}updateMaxHeight(){if(!this.domNodes)return;const e=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=e;const n=this.domNodes.element.getElementsByClassName("phwrapper");n.length&&(n[0].style.maxHeight=e)}};rp.ID="editor.widget.parameterHintsWidget",rp=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([sp(1,Qt.i6),sp(2,ta.v4),sp(3,$r.O),sp(4,wi.p)],rp);const wD=(0,l.P6G)("editorHoverWidget.highlightForeground",{dark:l.Gwp,light:l.Gwp,hc:l.Gwp},Me.N("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,_.Ic)((a,t)=>{const e=a.getColor(l.CNo);e&&(t.addRule(`.monaco-editor .parameter-hints-widget { border: ${a.type===av.e.HIGH_CONTRAST?2:1}px solid ${e}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${e.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${e.transparent(.5)}; }`));const n=a.getColor(l.yJx);n&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const o=a.getColor(l.url);o&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const s=a.getColor(l.sgC);s&&t.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${s}; }`);const d=a.getColor(l.Sbf);d&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${d}; }`);const m=a.getColor(l.SwI);m&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${m}; }`);const R=a.getColor(wD);R&&t.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${R}}`)});let Yd=class Lw extends At.JT{constructor(t,e){super(),this.editor=t,this.widget=this._register(e.createInstance(rp,this.editor))}static get(t){return t.getContribution(Lw.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(t){this.widget.trigger(t)}};Yd.ID="editor.controller.parameterHints",Yd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,Yi.TG)],Yd),(0,Xe._K)(Yd.ID,Yd),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:Me.N("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:pt.u.hasSignatureHelpProvider,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:3082,weight:100}})}run(t,e){const n=Yd.get(e);n&&n.trigger({triggerKind:Ji.WW.Invoke})}});const j_=Xe._l.bindToContribution(Yd.get);(0,Xe.fK)(new j_({id:"closeParameterHints",precondition:Qd.Visible,handler:a=>a.cancel(),kbOpts:{weight:175,kbExpr:pt.u.focus,primary:9,secondary:[1033]}})),(0,Xe.fK)(new j_({id:"showPrevParameterHint",precondition:Qt.Ao.and(Qd.Visible,Qd.MultipleSignatures),handler:a=>a.previous(),kbOpts:{weight:175,kbExpr:pt.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,Xe.fK)(new j_({id:"showNextParameterHint",precondition:Qt.Ao.and(Qd.Visible,Qd.MultipleSignatures),handler:a=>a.next(),kbOpts:{weight:175,kbExpr:pt.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var LD=p(34276),MD=p(92778),vh=p(63779),K_=(p(67087),function(a,t){return function(e,n){t(e,n,a)}});const ap=new Qt.uy("renameInputVisible",!1,(0,Me.N)("renameInputVisible","Whether the rename input widget is visible"));let $_=class{constructor(t,e,n,o,s){this._editor=t,this._acceptKeybindings=e,this._themeService=n,this._keybindingService=o,this._disposables=new At.SL,this.allowEditorOverflow=!0,this._visibleContextKey=ap.bindTo(s),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(44)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,Me.N)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const t=()=>{var e,n;const[o,s]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(o),this._label.innerText=(0,Me.N)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(o))||void 0===e?void 0:e.getLabel(),null===(n=this._keybindingService.lookupKeybinding(s))||void 0===n?void 0:n.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(t){var e,n,o,s;if(!this._input||!this._domNode)return;const d=t.getColor(l.rh);this._domNode.style.backgroundColor=String(null!==(e=t.getColor(l.D0T))&&void 0!==e?e:""),this._domNode.style.boxShadow=d?` 0 0 8px 2px ${d}`:"",this._domNode.style.color=String(null!==(n=t.getColor(l.zJb))&&void 0!==n?n:""),this._input.style.backgroundColor=String(null!==(o=t.getColor(l.sEe))&&void 0!==o?o:"");const m=t.getColor(l.dt_);this._input.style.borderWidth=m?"1px":"0px",this._input.style.borderStyle=m?"solid":"none",this._input.style.borderColor=null!==(s=null==m?void 0:m.toString())&&void 0!==s?s:"none"}_updateFont(){if(!this._input||!this._label)return;const t=this._editor.getOption(44);this._input.style.fontFamily=t.fontFamily,this._input.style.fontWeight=t.fontWeight,this._input.style.fontSize=`${t.fontSize}px`,this._label.style.fontSize=.8*t.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(t){t||this.cancelInput(!0)}acceptInput(t){this._currentAcceptInput&&this._currentAcceptInput(t)}cancelInput(t){this._currentCancelInput&&this._currentCancelInput(t)}getInput(t,e,n,o,s,d){this._domNode.classList.toggle("preview",s),this._position=new qn.L(t.startLineNumber,t.startColumn),this._input.value=e,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",o.toString()),this._input.size=Math.max(1.1*(t.endColumn-t.startColumn),20);const m=new At.SL;return new Promise(R=>{this._currentCancelInput=U=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,R(U),!0),this._currentAcceptInput=U=>{0!==this._input.value.trim().length&&this._input.value!==e?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,R({newName:this._input.value,wantsPreview:s&&U})):this.cancelInput(!0)},m.add(d.onCancellationRequested(()=>this.cancelInput(!0))),m.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{m.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};$_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([K_(2,_.XE),K_(3,Xo.d),K_(4,Qt.i6)],$_);var Jd=function(a,t){return function(e,n){t(e,n,a)}},Xd=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};class Z_{constructor(t,e,n){this.model=t,this.position=e,this._providerRenameIdx=0,this._providers=n.ordered(t)}hasProvider(){return this._providers.length>0}resolveRenameLocation(t){return Xd(this,void 0,void 0,function*(){const e=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const o=this._providers[this._providerRenameIdx];if(!o.resolveRenameLocation)break;let s=yield o.resolveRenameLocation(this.model,this.position,t);if(s){if(s.rejectReason){e.push(s.rejectReason);continue}return s}}const n=this.model.getWordAtPosition(this.position);return n?{range:new It.e(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:e.length>0?e.join("\n"):void 0}:{range:It.e.fromPositions(this.position),text:"",rejectReason:e.length>0?e.join("\n"):void 0}})}provideRenameEdits(t,e){return Xd(this,void 0,void 0,function*(){return this._provideRenameEdits(t,this._providerRenameIdx,[],e)})}_provideRenameEdits(t,e,n,o){return Xd(this,void 0,void 0,function*(){const s=this._providers[e];if(!s)return{edits:[],rejectReason:n.join("\n")};const d=yield s.provideRenameEdits(this.model,this.position,t,o);return d?d.rejectReason?this._provideRenameEdits(t,e+1,n.concat(d.rejectReason),o):d:this._provideRenameEdits(t,e+1,n.concat(Me.N("no result","No result.")),o)})}}let qd=class Mw{constructor(t,e,n,o,s,d,m,R){this.editor=t,this._instaService=e,this._notificationService=n,this._bulkEditService=o,this._progressService=s,this._logService=d,this._configService=m,this._languageFeaturesService=R,this._dispoableStore=new At.SL,this._cts=new ii.A,this._renameInputField=this._dispoableStore.add(new Hn.Ue(()=>this._dispoableStore.add(this._instaService.createInstance($_,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(t){return t.getContribution(Mw.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var t,e;return Xd(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const n=this.editor.getPosition(),o=new Z_(this.editor.getModel(),n,this._languageFeaturesService.renameProvider);if(!o.hasProvider())return;let s;this._cts=new Al.Dl(this.editor,5);try{const _e=o.resolveRenameLocation(this._cts.token);this._progressService.showWhile(_e,250),s=yield _e}catch(_e){return void(null===(t=Er.get(this.editor))||void 0===t||t.showMessage(_e||Me.N("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),n))}if(!s)return;if(s.rejectReason)return void(null===(e=Er.get(this.editor))||void 0===e||e.showMessage(s.rejectReason,n));if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new Al.Dl(this.editor,5,s.range);let d=this.editor.getSelection(),m=0,R=s.text.length;!It.e.isEmpty(d)&&!It.e.spansMultipleLines(d)&&It.e.containsRange(s.range,d)&&(m=Math.max(0,d.startColumn-s.range.startColumn),R=Math.min(s.range.endColumn,d.endColumn)-s.range.startColumn);const U=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),F=yield this._renameInputField.value.getInput(s.range,s.text,m,R,U,this._cts.token);if("boolean"==typeof F)return void(F&&this.editor.focus());this.editor.focus();const q=(0,Hn.eP)(o.provideRenameEdits(F.newName,this._cts.token),this._cts.token).then(_e=>Xd(this,void 0,void 0,function*(){if(_e&&this.editor.hasModel()){if(_e.rejectReason)return void this._notificationService.info(_e.rejectReason);this.editor.setSelection(It.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(Ns.fo.convert(_e),{editor:this.editor,showPreview:F.wantsPreview,label:Me.N("label","Renaming '{0}'",null==s?void 0:s.text),quotableLabel:Me.N("quotableLabel","Renaming {0}",null==s?void 0:s.text)}).then(De=>{De.ariaSummary&&(0,Es.Z9)(Me.N("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",s.text,F.newName,De.ariaSummary))}).catch(De=>{this._notificationService.error(Me.N("rename.failedApply","Rename failed to apply edits")),this._logService.error(De)})}}),_e=>{this._notificationService.error(Me.N("rename.failed","Rename failed to compute edits")),this._logService.error(_e)});return this._progressService.showWhile(q,250),q})}acceptRenameInput(t){this._renameInputField.value.acceptInput(t)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};qd.ID="editor.contrib.renameController",qd=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Jd(1,Yi.TG),Jd(2,gs.lT),Jd(3,Ns.vu),Jd(4,Kr.ek),Jd(5,jm.VZ),Jd(6,LD.V),Jd(7,wi.p)],qd),(0,Xe._K)(qd.ID,qd),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.rename",label:Me.N("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Qt.Ao.and(pt.u.writable,pt.u.hasRenameProvider),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(t,e){const n=t.get(en.$),[o,s]=Array.isArray(e)&&e||[void 0,void 0];return vo.o.isUri(o)&&qn.L.isIPosition(s)?n.openCodeEditor({resource:o},n.getActiveCodeEditor()).then(d=>{!d||(d.setPosition(s),d.invokeWithinContext(m=>(this.reportTelemetry(m,d),this.run(m,d))))},Yn.dL):super.runCommand(t,e)}run(t,e){const n=qd.get(e);return n?n.run():Promise.resolve()}});const G_=Xe._l.bindToContribution(qd.get);(0,Xe.fK)(new G_({id:"acceptRenameInput",precondition:ap,handler:a=>a.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:pt.u.focus,primary:3}})),(0,Xe.fK)(new G_({id:"acceptRenameInputWithPreview",precondition:Qt.Ao.and(ap,Qt.Ao.has("config.editor.rename.enablePreview")),handler:a=>a.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:pt.u.focus,primary:1027}})),(0,Xe.fK)(new G_({id:"cancelRenameInput",precondition:ap,handler:a=>a.cancelRenameInput(),kbOpts:{weight:199,kbExpr:pt.u.focus,primary:9,secondary:[1033]}})),(0,Xe.sb)("_executeDocumentRenameProvider",function(a,t,e,...n){const[o]=n;(0,Ki.p_)("string"==typeof o);const{renameProvider:s}=a.get(wi.p);return function(a,t,e,n){return Xd(this,void 0,void 0,function*(){const o=new Z_(t,e,a),s=yield o.resolveRenameLocation(ii.T.None);return(null==s?void 0:s.rejectReason)?{edits:[],rejectReason:s.rejectReason}:o.provideRenameEdits(n,ii.T.None)})}(s,t,e,o)}),(0,Xe.sb)("_executePrepareRename",function(a,t,e){return Xd(this,void 0,void 0,function*(){const{renameProvider:n}=a.get(wi.p),s=yield new Z_(t,e,n).resolveRenameLocation(ii.T.None);if(null==s?void 0:s.rejectReason)throw new Error(s.rejectReason);return s})}),vh.B.as(MD.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:Me.N("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});class PD{provideSelectionRanges(t,e){const n=[];for(const o of e){const s=[];n.push(s),this._addInWordRanges(s,t,o),this._addWordRanges(s,t,o),this._addWhitespaceLine(s,t,o),s.push({range:t.getFullModelRange()})}return n}_addInWordRanges(t,e,n){const o=e.getWordAtPosition(n);if(!o)return;let{word:s,startColumn:d}=o,m=n.column-d,R=m,U=m,F=0;for(;R>=0;R--){let q=s.charCodeAt(R);if(R!==m&&(95===q||45===q))break;if((0,In.mK)(q)&&(0,In.df)(F))break;F=q}for(R+=1;U<s.length;U++){let q=s.charCodeAt(U);if((0,In.df)(q)&&(0,In.mK)(F))break;if(95===q||45===q)break;F=q}R<U&&t.push({range:new It.e(n.lineNumber,d+R,n.lineNumber,d+U)})}_addWordRanges(t,e,n){const o=e.getWordAtPosition(n);o&&t.push({range:new It.e(n.lineNumber,o.startColumn,n.lineNumber,o.endColumn)})}_addWhitespaceLine(t,e,n){e.getLineLength(n.lineNumber)>0&&0===e.getLineFirstNonWhitespaceColumn(n.lineNumber)&&0===e.getLineLastNonWhitespaceColumn(n.lineNumber)&&t.push({range:new It.e(n.lineNumber,1,n.lineNumber,e.getLineMaxColumn(n.lineNumber))})}}var lp=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};class Q_{constructor(t,e){this.index=t,this.ranges=e}mov(t){let e=this.index+(t?1:-1);if(e<0||e>=this.ranges.length)return this;const n=new Q_(e,this.ranges);return n.ranges[e].equalsRange(this.ranges[this.index])?n.mov(t):n}}let wh=class Dw{constructor(t,e){this._editor=t,this._languageFeaturesService=e,this._ignoreSelection=!1}static get(t){return t.getContribution(Dw.ID)}dispose(){var t;null===(t=this._selectionListener)||void 0===t||t.dispose()}run(t){return lp(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const e=this._editor.getSelections(),n=this._editor.getModel();if(this._state||(yield cv(this._languageFeaturesService.selectionRangeProvider,n,e.map(s=>s.getPosition()),this._editor.getOption(102),ii.T.None).then(s=>{var d;if(po.Of(s)&&s.length===e.length&&this._editor.hasModel()&&po.fS(this._editor.getSelections(),e,(m,R)=>m.equalsSelection(R))){for(let m=0;m<s.length;m++)s[m]=s[m].filter(R=>R.containsPosition(e[m].getStartPosition())&&R.containsPosition(e[m].getEndPosition())),s[m].unshift(e[m]);this._state=s.map(m=>new Q_(0,m)),null===(d=this._selectionListener)||void 0===d||d.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var m;this._ignoreSelection||(null===(m=this._selectionListener)||void 0===m||m.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(s=>s.mov(t));const o=this._state.map(s=>ui.Y.fromPositions(s.ranges[s.index].getStartPosition(),s.ranges[s.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(o)}finally{this._ignoreSelection=!1}})}};wh.ID="editor.contrib.smartSelectController",wh=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,1)}}(0,wi.p)],wh);class lv extends Xe.R6{constructor(t,e){super(e),this._forward=t}run(t,e){return lp(this,void 0,void 0,function*(){let n=wh.get(e);n&&(yield n.run(this._forward))})}}function cv(a,t,e,n,o){return lp(this,void 0,void 0,function*(){const s=a.all(t).concat(new PD);1===s.length&&s.unshift(new xb);let d=[],m=[];for(const R of s)d.push(Promise.resolve(R.provideSelectionRanges(t,e,o)).then(U=>{if(po.Of(U)&&U.length===e.length)for(let F=0;F<e.length;F++){m[F]||(m[F]=[]);for(const q of U[F])It.e.isIRange(q.range)&&It.e.containsPosition(q.range,e[F])&&m[F].push(It.e.lift(q.range))}},Yn.Cp));return yield Promise.all(d),m.map(R=>{if(0===R.length)return[];R.sort((_e,De)=>qn.L.isBefore(_e.getStartPosition(),De.getStartPosition())?1:qn.L.isBefore(De.getStartPosition(),_e.getStartPosition())||qn.L.isBefore(_e.getEndPosition(),De.getEndPosition())?-1:qn.L.isBefore(De.getEndPosition(),_e.getEndPosition())?1:0);let F,U=[];for(const _e of R)(!F||It.e.containsRange(_e,F)&&!It.e.equalsRange(_e,F))&&(U.push(_e),F=_e);if(!n.selectLeadingAndTrailingWhitespace)return U;let q=[U[0]];for(let _e=1;_e<U.length;_e++){const De=U[_e-1],Ke=U[_e];if(Ke.startLineNumber!==De.startLineNumber||Ke.endLineNumber!==De.endLineNumber){const ct=new It.e(De.startLineNumber,t.getLineFirstNonWhitespaceColumn(De.startLineNumber),De.endLineNumber,t.getLineLastNonWhitespaceColumn(De.endLineNumber));ct.containsRange(De)&&!ct.equalsRange(De)&&Ke.containsRange(ct)&&!Ke.equalsRange(ct)&&q.push(ct);const Tt=new It.e(De.startLineNumber,1,De.endLineNumber,t.getLineMaxColumn(De.endLineNumber));Tt.containsRange(De)&&!Tt.equalsRange(ct)&&Ke.containsRange(Tt)&&!Ke.equalsRange(Tt)&&q.push(Tt)}q.push(Ke)}return q})})}to.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,Xe._K)(wh.ID,wh),(0,Xe.Qr)(class extends lv{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:Me.N("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"1_basic",title:Me.N({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,Xe.Qr)(class extends lv{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:Me.N("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:r.eH.MenubarSelectionMenu,group:"1_basic",title:Me.N({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),to.P0.registerCommand("_executeSelectionRangeProvider",function(a,...t){return lp(this,void 0,void 0,function*(){const[e,n]=t;(0,Ki.p_)(vo.o.isUri(e));const o=a.get(wi.p).selectionRangeProvider,s=yield a.get(pr.S).createModelReference(e);try{return cv(o,s.object.textEditorModel,n,{selectLeadingAndTrailingWhitespace:!0},ii.T.None)}finally{s.dispose()}})}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.forceRetokenize",label:Me.N("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(t,e){if(!e.hasModel())return;const n=e.getModel();n.resetTokenization();const o=new Xr.G(!0);n.forceTokenization(n.getLineCount()),o.stop(),console.log(`tokenization took ${o.elapsed()}`)}});var dv=p(93002);let Y_=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,n){const s=!dv.n.getTabFocusMode();dv.n.setTabFocusMode(s),(0,Es.Z9)(s?Me.N("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):Me.N("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return a.ID="editor.action.toggleTabFocusMode",a})();(0,Xe.Qr)(Y_),p(43456);var uv=p(4263),yh=p(18066);p(26549);let J_=class extends At.JT{constructor(t,e,n={},o){var s;super(),this._link=e,this._enabled=!0,this.el=(0,rt.R3)(t,(0,rt.$)("a.monaco-link",{tabIndex:null!==(s=e.tabIndex)&&void 0!==s?s:0,href:e.href,title:e.title},e.label)),this.el.setAttribute("role","button");const d=this._register(new Tf.Y(this.el,"click")),m=this._register(new Tf.Y(this.el,"keypress")),R=zn.ju.chain(m.event).map(q=>new $l.y(q)).filter(q=>3===q.keyCode).event,U=this._register(new Tf.Y(this.el,vs.t.Tap)).event;this._register(vs.o.addTarget(this.el));const F=zn.ju.any(d.event,R,U);this._register(F(q=>{!this.enabled||(rt.zB.stop(q,!0),(null==n?void 0:n.opener)?n.opener(this._link.href):o.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}};J_=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,3)}}(0,ta.v4)],J_),(0,_.Ic)((a,t)=>{const e=a.getColor(l.url);e&&t.addRule(`.monaco-link { color: ${e}; }`);const n=a.getColor(l.sgC);n&&t.addRule(`.monaco-link:hover { color: ${n}; }`)});var hv=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},fv=function(a,t){return function(e,n){t(e,n,a)}};let X_=class extends At.JT{constructor(t,e){super(),this._editor=t,this.instantiationService=e,this.banner=this._register(this.instantiationService.createInstance(q_))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(t){this.banner.show(Object.assign(Object.assign({},t),{onClose:()=>{this.hide(),t.onClose&&t.onClose()}})),this._editor.setBanner(this.banner.element,26)}};X_=hv([fv(1,Yi.TG)],X_);let q_=class extends At.JT{constructor(t){super(),this.instantiationService=t,this.markdownRenderer=this.instantiationService.createInstance(Xl,{}),this.element=(0,rt.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(t){return t.ariaLabel?t.ariaLabel:"string"==typeof t.message?t.message:void 0}getBannerMessage(t){if("string"==typeof t){const e=(0,rt.$)("span");return e.innerText=t,e}return this.markdownRenderer.render(t).element}clear(){(0,rt.PO)(this.element)}show(t){(0,rt.PO)(this.element);const e=this.getAriaLabel(t);e&&this.element.setAttribute("aria-label",e);const n=(0,rt.R3)(this.element,(0,rt.$)("div.icon-container"));n.setAttribute("aria-hidden","true"),t.icon&&n.appendChild((0,rt.$)(`div${_.kS.asCSSSelector(t.icon)}`));const o=(0,rt.R3)(this.element,(0,rt.$)("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(t.message)),this.messageActionsContainer=(0,rt.R3)(this.element,(0,rt.$)("div.message-actions-container")),t.actions)for(const d of t.actions)this._register(this.instantiationService.createInstance(J_,this.messageActionsContainer,Object.assign(Object.assign({},d),{tabIndex:-1}),{}));const s=(0,rt.R3)(this.element,(0,rt.$)("div.action-container"));this.actionBar=this._register(new Tc.o(s)),this.actionBar.push(this._register(new Ws.aU("banner.close","Close Banner",_.kS.asClassName(rr.s_),!0,()=>{"function"==typeof t.onClose&&t.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};q_=hv([fv(0,Yi.TG)],q_);var VD=p(73062),e1=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},Sh=function(a,t){return function(e,n){t(e,n,a)}},Hs=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};const HD=(0,rr.q5)("extensions-warning-message",Zn.lA.warning,Me.N("warningIcon","Icon shown with a warning message in the extensions editor."));let xh=class extends At.JT{constructor(t,e,n,o){super(),this._editor=t,this._editorWorkerService=e,this._workspaceTrustService=n,this._highlighter=null,this._bannerClosed=!1,this._updateState=s=>{if(s&&s.hasMore){if(this._bannerClosed)return;const d=Math.max(s.ambiguousCharacterCount,s.nonBasicAsciiCharacterCount,s.invisibleCharacterCount);let m;if(s.nonBasicAsciiCharacterCount>=d)m={message:Me.N("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new s1};else if(s.ambiguousCharacterCount>=d)m={message:Me.N("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new ng};else{if(!(s.invisibleCharacterCount>=d))throw new Error("Unreachable");m={message:Me.N("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new o1}}this._bannerController.show({id:"unicodeHighlightBanner",message:m.message,icon:HD,actions:[{label:m.command.shortLabel,href:`command:${m.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(o.createInstance(X_,t)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=t.getOption(113),this._register(n.onDidChangeTrust(s=>{this._updateHighlighter()})),this._register(t.onDidChangeConfiguration(s=>{s.hasChanged(113)&&(this._options=t.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const t=function(a,t){return{nonBasicASCII:t.nonBasicASCII===qo.Av?!a:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments===qo.Av?!a:t.includeComments,includeStrings:t.includeStrings===qo.Av?!a:t.includeStrings,allowedCharacters:t.allowedCharacters,allowedLocales:t.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([t.nonBasicASCII,t.ambiguousCharacters,t.invisibleCharacters].every(n=>!1===n))return;const e={nonBasicASCII:t.nonBasicASCII,ambiguousCharacters:t.ambiguousCharacters,invisibleCharacters:t.invisibleCharacters,includeComments:t.includeComments,includeStrings:t.includeStrings,allowedCodePoints:Object.keys(t.allowedCharacters).map(n=>n.codePointAt(0)),allowedLocales:Object.keys(t.allowedLocales).map(n=>"_os"===n?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===n?Ht.dK:n)};this._highlighter=this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?new t1(this._editor,e,this._updateState,this._editorWorkerService):new UD(this._editor,e,this._updateState)}getDecorationInfo(t){return this._highlighter?this._highlighter.getDecorationInfo(t):null}};xh.ID="editor.contrib.unicodeHighlighter",xh=e1([Sh(1,Hf.p),Sh(2,VD.Y),Sh(3,Yi.TG)],xh);let t1=class extends At.JT{constructor(t,e,n,o){super(),this._editor=t,this._options=e,this._updateState=n,this._editorWorkerService=o,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new Hn.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void(this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[])));const t=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(e=>{if(this._model.isDisposed()||this._model.getVersionId()!==t)return;this._updateState(e);const n=[];if(!e.hasMore)for(const o of e.ranges)n.push({range:o,options:Lh.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),n))})}getDecorationInfo(t){if(!this._decorationIds.has(t))return null;const e=this._editor.getModel(),n=e.getDecorationRange(t),o={range:n,options:Lh.instance.getDecorationFromOptions(this._options),id:t,ownerId:0};return(0,yh.Fd)(e,o)?{reason:mv(e.getValueInRange(n),this._options),inComment:(0,yh.$t)(e,o),inString:(0,yh.zg)(e,o)}:null}};t1=e1([Sh(3,Hf.p)],t1);class UD extends At.JT{constructor(t,e,n){super(),this._editor=t,this._options=e,this._updateState=n,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new Hn.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void(this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[])));const t=this._editor.getVisibleRanges(),e=[],n={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const o of t){const s=uv.a.computeUnicodeHighlights(this._model,this._options,o);for(const d of s.ranges)n.ranges.push(d);n.ambiguousCharacterCount+=n.ambiguousCharacterCount,n.invisibleCharacterCount+=n.invisibleCharacterCount,n.nonBasicAsciiCharacterCount+=n.nonBasicAsciiCharacterCount,n.hasMore=n.hasMore||s.hasMore}if(!n.hasMore)for(const o of n.ranges)e.push({range:o,options:Lh.instance.getDecorationFromOptions(this._options)});this._updateState(n),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),e))}getDecorationInfo(t){if(!this._decorationIds.has(t))return null;const e=this._editor.getModel(),n=e.getDecorationRange(t),o=e.getValueInRange(n),s={range:n,options:Lh.instance.getDecorationFromOptions(this._options),id:t,ownerId:0};return(0,yh.Fd)(e,s)?{reason:mv(o,this._options),inComment:(0,yh.$t)(e,s),inString:(0,yh.zg)(e,s)}:null}}let n1=class{constructor(t,e,n){this._editor=t,this._languageService=e,this._openerService=n,this.hoverOrdinal=4}computeSync(t,e){if(!this._editor.hasModel()||1!==t.type)return[];const n=this._editor.getModel(),o=this._editor.getContribution(xh.ID);if(!o)return[];const s=[];let d=300;for(const m of e){const R=o.getDecorationInfo(m.id);if(!R)continue;const F=n.getValueInRange(m.range).codePointAt(0),q=gv(F);let _e;switch(R.reason.kind){case 0:_e=Me.N("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",q,gv(R.reason.confusableWith.codePointAt(0)));break;case 1:_e=Me.N("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",q);break;case 2:_e=Me.N("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",q)}const De={codePoint:F,reason:R.reason,inComment:R.inComment,inString:R.inString},ct=[{value:`${_e} [${Me.N("unicodeHighlight.adjustSettings","Adjust settings")}](command:${pv.ID}?${encodeURIComponent(JSON.stringify(De))})`,isTrusted:!0}];s.push(new ql(this,m.range,ct,d++))}return s}renderHoverParts(t,e){return LC(t,e,this._editor,this._languageService,this._openerService)}};function i1(a){return`U+${a.toString(16).padStart(4,"0")}`}function gv(a){let t=`\`${i1(a)}\``;return In.vU.isInvisibleCharacter(a)||(t+=` "${function(a){return 96===a?"`` ` ``":"`"+String.fromCodePoint(a)+"`"}(a)}"`),t}function mv(a,t){return uv.a.computeUnicodeHighlightReason(a,t)}n1=e1([Sh(1,$r.O),Sh(2,ta.v4)],n1);class Lh{constructor(){this.map=new Map}getDecorationFromOptions(t){return this.getDecoration(!t.includeComments,!t.includeStrings)}getDecoration(t,e){const n=`${t}${e}`;let o=this.map.get(n);return o||(o=qi.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:t,hideInStringTokens:e}),this.map.set(n,o)),o}}Lh.instance=new Lh;class KD extends Xe.R6{constructor(){super({id:ng.ID,label:Me.N("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=Me.N("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(t,e,n){return Hs(this,void 0,void 0,function*(){let o=null==t?void 0:t.get(Vs.Ui);o&&this.runAction(o)})}runAction(t){return Hs(this,void 0,void 0,function*(){yield t.updateValue(qo.qt.includeComments,!1,1)})}}class $D extends Xe.R6{constructor(){super({id:ng.ID,label:Me.N("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=Me.N("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(t,e,n){return Hs(this,void 0,void 0,function*(){let o=null==t?void 0:t.get(Vs.Ui);o&&this.runAction(o)})}runAction(t){return Hs(this,void 0,void 0,function*(){yield t.updateValue(qo.qt.includeStrings,!1,1)})}}let ng=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=Me.N("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,n,o){return Hs(this,void 0,void 0,function*(){let s=null==e?void 0:e.get(Vs.Ui);s&&this.runAction(s)})}runAction(e){return Hs(this,void 0,void 0,function*(){yield e.updateValue(qo.qt.ambiguousCharacters,!1,1)})}}return a.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",a})(),o1=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=Me.N("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,n,o){return Hs(this,void 0,void 0,function*(){let s=null==e?void 0:e.get(Vs.Ui);s&&this.runAction(s)})}runAction(e){return Hs(this,void 0,void 0,function*(){yield e.updateValue(qo.qt.invisibleCharacters,!1,1)})}}return a.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",a})(),s1=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=Me.N("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,n,o){return Hs(this,void 0,void 0,function*(){let s=null==e?void 0:e.get(Vs.Ui);s&&this.runAction(s)})}runAction(e){return Hs(this,void 0,void 0,function*(){yield e.updateValue(qo.qt.nonBasicASCII,!1,1)})}}return a.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",a})(),pv=(()=>{class a extends Xe.R6{constructor(){super({id:a.ID,label:Me.N("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,n,o){return Hs(this,void 0,void 0,function*(){const{codePoint:s,reason:d,inString:m,inComment:R}=o,U=String.fromCodePoint(s),F=e.get(Ul.eJ),q=e.get(Vs.Ui),De=[];if(0===d.kind)for(const ct of d.notAmbiguousInLocales)De.push({label:Me.N("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',ct),run:()=>Hs(this,void 0,void 0,function*(){GD(q,[ct])})});if(De.push({label:(ct=s,In.vU.isInvisibleCharacter(ct)?Me.N("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",i1(ct)):Me.N("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${i1(ct)} "${U}"`)),run:()=>function(a,t){return Hs(this,void 0,void 0,function*(){const e=a.getValue(qo.qt.allowedCharacters);let n;n="object"==typeof e&&e?e:{};for(const o of t)n[String.fromCodePoint(o)]=!0;yield a.updateValue(qo.qt.allowedCharacters,n,1)})}(q,[s])}),R){const ct=new KD;De.push({label:ct.label,run:()=>Hs(this,void 0,void 0,function*(){return ct.runAction(q)})})}else if(m){const ct=new $D;De.push({label:ct.label,run:()=>Hs(this,void 0,void 0,function*(){return ct.runAction(q)})})}var ct;if(0===d.kind){const ct=new ng;De.push({label:ct.label,run:()=>Hs(this,void 0,void 0,function*(){return ct.runAction(q)})})}else if(1===d.kind){const ct=new o1;De.push({label:ct.label,run:()=>Hs(this,void 0,void 0,function*(){return ct.runAction(q)})})}else if(2===d.kind){const ct=new s1;De.push({label:ct.label,run:()=>Hs(this,void 0,void 0,function*(){return ct.runAction(q)})})}else!function(a){throw new Error(`Unexpected value: ${a}`)}(d);const Ke=yield F.pick(De,{title:Me.N("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});Ke&&(yield Ke.run())})}}return a.ID="editor.action.unicodeHighlight.showExcludeOptions",a})();function GD(a,t){var e;return Hs(this,void 0,void 0,function*(){const n=null===(e=a.inspect(qo.qt.allowedLocales).user)||void 0===e?void 0:e.value;let o;o="object"==typeof n&&n?Object.assign({},n):{};for(const s of t)o[s]=!0;yield a.updateValue(qo.qt.allowedLocales,o,1)})}(0,Xe.Qr)(ng),(0,Xe.Qr)(o1),(0,Xe.Qr)(s1),(0,Xe.Qr)(pv),(0,Xe._K)(xh.ID,xh),Fd.register(n1);var r1=p(4890),_v=function(a,t){return function(e,n){t(e,n,a)}};const Cv="ignoreUnusualLineTerminators";let ig=class extends At.JT{constructor(t,e,n){super(),this._editor=t,this._dialogService=e,this._codeEditorService=n,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(o=>{o.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){if("off"===this._config||!this._editor.hasModel())return;const t=this._editor.getModel();t.mightContainUnusualLineTerminators()&&!0!==function(a,t){return a.getModelProperty(t.uri,Cv)}(this._codeEditorService,t)&&!this._editor.getOption(81)&&("auto"!==this._config?(yield this._dialogService.confirm({title:Me.N("unusualLineTerminators.title","Unusual Line Terminators"),message:Me.N("unusualLineTerminators.message","Detected unusual line terminators"),detail:Me.N("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,Do.EZ)(t.uri)),primaryButton:Me.N("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:Me.N("unusualLineTerminators.ignore","Ignore")})).confirmed?t.removeUnusualLineTerminators(this._editor.getSelections()):function(a,t,e){a.setModelProperty(t.uri,Cv,!0)}(this._codeEditorService,t):t.removeUnusualLineTerminators(this._editor.getSelections()))})}};ig.ID="editor.contrib.unusualLineTerminatorsDetector",ig=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([_v(1,r1.S),_v(2,en.$)],ig),(0,Xe._K)(ig.ID,ig);var bv=p(82437),vv=p(18548),eE=p(31128),og=function(a,t){return function(e,n){t(e,n,a)}};let sg=class extends At.JT{constructor(t,e,n,o,s,d){super(),this._modelService=e,this._themeService=n,this._configurationService=o,this._editor=t,this._provider=d.documentRangeSemanticTokensProvider,this._debounceInformation=s.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new Hn.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const m=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{m()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),m()})),this._register(this._editor.onDidChangeModelContent(R=>{this._cancelAll(),m()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),m()})),this._register(this._configurationService.onDidChangeConfiguration(R=>{R.affectsConfiguration(vv.e3)&&(this._cancelAll(),m())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),m()}))}_cancelAll(){for(const t of this._outstandingRequests)t.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(t){for(let e=0,n=this._outstandingRequests.length;e<n;e++)if(this._outstandingRequests[e]===t)return void this._outstandingRequests.splice(e,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const t=this._editor.getModel();if(t.hasCompleteSemanticTokens())return;if(!(0,vv.tw)(t,this._themeService,this._configurationService))return void(t.hasSomeSemanticTokens()&&t.setSemanticTokens(null,!1));if(!(0,bv.KO)(this._provider,t))return void(t.hasSomeSemanticTokens()&&t.setSemanticTokens(null,!1));const e=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(e.map(n=>this._requestRange(t,n)))}_requestRange(t,e){const n=t.getVersionId(),o=(0,Hn.PG)(d=>Promise.resolve((0,bv.OG)(this._provider,t,e,d))),s=new Xr.G(!1);return o.then(d=>{if(this._debounceInformation.update(t,s.elapsed()),!d||!d.tokens||t.isDisposed()||t.getVersionId()!==n)return;const{provider:m,tokens:R}=d,U=this._modelService.getSemanticTokensProviderStyling(m);t.setPartialSemanticTokens(e,(0,eE.h)(R,U,t.getLanguageId()))}).then(()=>this._removeOutstandingRequest(o),()=>this._removeOutstandingRequest(o)),o}};sg.ID="editor.contrib.viewportSemanticTokens",sg=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([og(1,Ia.q),og(2,_.XE),og(3,Vs.Ui),og(4,Ir.A),og(5,wi.p)],sg),(0,Xe._K)(sg.ID,sg);var wv=function(a,t){return function(e,n){t(e,n,a)}};const iE=(0,l.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},Me.N("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),oE=(0,l.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},Me.N("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),sE=(0,l.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hc:l.xL1},Me.N("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),rE=(0,l.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:l.xL1},Me.N("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),aE=(0,l.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},Me.N("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),lE=(0,l.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},Me.N("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),cp=new Qt.uy("hasWordHighlights",!1);function yv(a,t,e,n){const o=a.ordered(t);return(0,Hn.Ps)(o.map(s=>()=>Promise.resolve(s.provideDocumentHighlights(t,e,n)).then(void 0,Yn.Cp)),po.Of)}class Sv{constructor(t,e,n){this._model=t,this._selection=e,this._wordSeparators=n,this._wordRange=this._getCurrentWordRange(t,e),this._result=null}get result(){return this._result||(this._result=(0,Hn.PG)(t=>this._compute(this._model,this._selection,this._wordSeparators,t))),this._result}_getCurrentWordRange(t,e){const n=t.getWordAtPosition(e.getPosition());return n?new It.e(e.startLineNumber,n.startColumn,e.startLineNumber,n.endColumn):null}isValid(t,e,n){const o=e.startLineNumber,s=e.startColumn,d=e.endColumn,m=this._getCurrentWordRange(t,e);let R=Boolean(this._wordRange&&this._wordRange.equalsRange(m));for(let U=0,F=n.length;!R&&U<F;U++){let q=t.getDecorationRange(n[U]);q&&q.startLineNumber===o&&q.startColumn<=s&&q.endColumn>=d&&(R=!0)}return R}cancel(){this.result.cancel()}}class cE extends Sv{constructor(t,e,n,o){super(t,e,n),this._providers=o}_compute(t,e,n,o){return yv(this._providers,t,e.getPosition(),o).then(s=>s||[])}}class dE extends Sv{constructor(t,e,n){super(t,e,n),this._selectionIsEmpty=e.isEmpty()}_compute(t,e,n,o){return(0,Hn.Vs)(250,o).then(()=>{if(!e.isEmpty())return[];const s=t.getWordAtPosition(e.getPosition());return!s||s.word.length>1e3?[]:t.findMatches(s.word,!0,!1,!0,n,!1).map(m=>({range:m.range,kind:Ji.MY.Text}))})}isValid(t,e,n){const o=e.isEmpty();return this._selectionIsEmpty===o&&super.isValid(t,e,n)}}(0,Xe.sb)("_executeDocumentHighlights",(a,t,e)=>yv(a.get(wi.p).documentHighlightProvider,t,e,ii.T.None));class Mh{constructor(t,e,n){this.toUnhook=new At.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=t,this.providers=e,this._hasWordHighlights=cp.bindTo(n),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(t.onDidChangeCursorPosition(o=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(o)})),this.toUnhook.add(t.onDidChangeModelContent(o=>{this._stopAll()})),this.toUnhook.add(t.onDidChangeConfiguration(o=>{let s=this.editor.getOption(72);this.occurrencesHighlight!==s&&(this.occurrencesHighlight=s,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return po.kX(this._decorationIds.map(t=>this.model.getDecorationRange(t)).sort(It.e.compareRangesUsingStarts))}moveNext(){let t=this._getSortedHighlights(),n=(t.findIndex(s=>s.containsPosition(this.editor.getPosition()))+1)%t.length,o=t[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const s=this._getWord();if(s){const d=this.editor.getModel().getLineContent(o.startLineNumber);(0,Es.Z9)(`${d}, ${n+1} of ${t.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let t=this._getSortedHighlights(),n=(t.findIndex(s=>s.containsPosition(this.editor.getPosition()))-1+t.length)%t.length,o=t[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const s=this._getWord();if(s){const d=this.editor.getModel().getLineContent(o.startLineNumber);(0,Es.Z9)(`${d}, ${n+1} of ${t.length} for '${s.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(t){this.occurrencesHighlight&&3===t.reason?this._run():this._stopAll()}_getWord(){let t=this.editor.getSelection();return this.model.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn})}_run(){let t=this.editor.getSelection();if(t.startLineNumber!==t.endLineNumber)return void this._stopAll();let e=t.startColumn,n=t.endColumn;const o=this._getWord();if(!o||o.startColumn>e||o.endColumn<n)return void this._stopAll();const s=this.workerRequest&&this.workerRequest.isValid(this.model,t,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),s)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let d=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function(a,t,e,n){return a.has(t)?new cE(t,e,n,a):new dE(t,e,n)}(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(m=>{d===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=m||[],this._beginRenderDecorations())},Yn.dL)}}_beginRenderDecorations(){let t=(new Date).getTime(),e=this.lastCursorPositionChangeTime+250;t>=e?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},e-t)}renderDecorations(){this.renderDecorationsTimer=-1;let t=[];for(const e of this.workerRequestValue)e.range&&t.push({range:e.range,options:Mh._getDecorationOptions(e.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,t),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(t){return t===Ji.MY.Write?this._WRITE_OPTIONS:t===Ji.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}Mh._WRITE_OPTIONS=qi.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,_.EN)(lE),position:os.sh.Center},minimap:{color:(0,_.EN)(l.IYc),position:os.F5.Inline}}),Mh._TEXT_OPTIONS=qi.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,_.EN)(l.SPM),position:os.sh.Center},minimap:{color:(0,_.EN)(l.IYc),position:os.F5.Inline}}),Mh._REGULAR_OPTIONS=qi.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,_.EN)(aE),position:os.sh.Center},minimap:{color:(0,_.EN)(l.IYc),position:os.F5.Inline}});let eu=class Ew extends At.JT{constructor(t,e,n){super(),this.wordHighlighter=null;const o=()=>{t.hasModel()&&(this.wordHighlighter=new Mh(t,n.documentHighlightProvider,e))};this._register(t.onDidChangeModel(s=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),o()})),o()}static get(t){return t.getContribution(Ew.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(t){this.wordHighlighter&&t&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};eu.ID="editor.contrib.wordHighlighter",eu=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([wv(1,Qt.i6),wv(2,wi.p)],eu);class xv extends Xe.R6{constructor(t,e){super(e),this._isNext=t}run(t,e){const n=eu.get(e);!n||(this._isNext?n.moveNext():n.moveBack())}}(0,Xe._K)(eu.ID,eu),(0,Xe.Qr)(class extends xv{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:Me.N("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:cp,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:65,weight:100}})}}),(0,Xe.Qr)(class extends xv{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:Me.N("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:cp,kbOpts:{kbExpr:pt.u.editorTextFocus,primary:1089,weight:100}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:Me.N("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:cp.toNegated(),kbOpts:{kbExpr:pt.u.editorTextFocus,primary:0,weight:100}})}run(t,e,n){const o=eu.get(e);!o||o.restoreViewState(!0)}}),(0,_.Ic)((a,t)=>{const e=a.getColor(l.Rzx);e&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${e}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${e.transparent(.5)}; }`));const n=a.getColor(iE);n&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const o=a.getColor(oE);o&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${o}; }`);const s=a.getColor(l.g_n);s&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===a.type?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const d=a.getColor(sE);d&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===a.type?"dashed":"solid"} ${d}; box-sizing: border-box; }`);const m=a.getColor(rE);m&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===a.type?"dashed":"solid"} ${m}; box-sizing: border-box; }`)});var mE=p(35590),sc=p(34397),tu=p(81346),dp=p(70114);class up extends Xe._l{constructor(t){super(t),this._inSelectionMode=t.inSelectionMode,this._wordNavigationType=t.wordNavigationType}runEditorCommand(t,e,n){if(!e.hasModel())return;const o=(0,tu.u)(e.getOption(117)),s=e.getModel(),m=e.getSelections().map(R=>{const U=new qn.L(R.positionLineNumber,R.positionColumn),F=this._move(o,s,U,this._wordNavigationType);return this._moveTo(R,F,this._inSelectionMode)});if(s.pushStackElement(),e._getViewModel().setCursorStates("moveWordCommand",3,m.map(R=>mE.Vi.fromModelSelection(R))),1===m.length){const R=new qn.L(m[0].positionLineNumber,m[0].positionColumn);e.revealPosition(R,0)}}_moveTo(t,e,n){return n?new ui.Y(t.selectionStartLineNumber,t.selectionStartColumn,e.lineNumber,e.column):new ui.Y(e.lineNumber,e.column,e.lineNumber,e.column)}}class Yc extends up{_move(t,e,n,o){return sc.w.moveWordLeft(t,e,n,o)}}class Jc extends up{_move(t,e,n,o){return sc.w.moveWordRight(t,e,n,o)}}class hp extends Xe._l{constructor(t){super(t),this._whitespaceHeuristics=t.whitespaceHeuristics,this._wordNavigationType=t.wordNavigationType}runEditorCommand(t,e,n){const o=t.get(jo.c_);if(!e.hasModel())return;const s=(0,tu.u)(e.getOption(117)),d=e.getModel(),m=e.getSelections(),R=e.getOption(5),U=e.getOption(8),F=o.getLanguageConfiguration(d.getLanguageId()).getAutoClosingPairs(),q=e._getViewModel(),_e=m.map(De=>{const Ke=this._delete({wordSeparators:s,model:d,selection:De,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:e.getOption(6),autoClosingBrackets:R,autoClosingQuotes:U,autoClosingPairs:F,autoClosedCharacters:q.getCursorAutoClosedCharacters()},this._wordNavigationType);return new it.T4(Ke,"")});e.pushUndoStop(),e.executeCommands(this.id,_e),e.pushUndoStop()}}class a1 extends hp{_delete(t,e){return sc.w.deleteWordLeft(t,e)||new It.e(1,1,1,1)}}class l1 extends hp{_delete(t,e){let n=sc.w.deleteWordRight(t,e);if(n)return n;const o=t.model.getLineCount(),s=t.model.getLineMaxColumn(o);return new It.e(o,s,o,s)}}(0,Xe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),(0,Xe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),(0,Xe.fK)(new class extends Yc{constructor(){var t;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Qt.Ao.and(pt.u.textInputFocus,null===(t=Qt.Ao.and(Oa.U,dp.cv))||void 0===t?void 0:t.negate()),primary:2063,mac:{primary:527},weight:100}})}}),(0,Xe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),(0,Xe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),(0,Xe.fK)(new class extends Yc{constructor(){var t;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Qt.Ao.and(pt.u.textInputFocus,null===(t=Qt.Ao.and(Oa.U,dp.cv))||void 0===t?void 0:t.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),(0,Xe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),(0,Xe.fK)(new class extends Jc{constructor(){var t;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Qt.Ao.and(pt.u.textInputFocus,null===(t=Qt.Ao.and(Oa.U,dp.cv))||void 0===t?void 0:t.negate()),primary:2065,mac:{primary:529},weight:100}})}}),(0,Xe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),(0,Xe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),(0,Xe.fK)(new class extends Jc{constructor(){var t;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Qt.Ao.and(pt.u.textInputFocus,null===(t=Qt.Ao.and(Oa.U,dp.cv))||void 0===t?void 0:t.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),(0,Xe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),(0,Xe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(t,e,n,o){return super._move((0,tu.u)(qo.BH.wordSeparators.defaultValue),e,n,o)}}),(0,Xe.fK)(new class extends Yc{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(t,e,n,o){return super._move((0,tu.u)(qo.BH.wordSeparators.defaultValue),e,n,o)}}),(0,Xe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(t,e,n,o){return super._move((0,tu.u)(qo.BH.wordSeparators.defaultValue),e,n,o)}}),(0,Xe.fK)(new class extends Jc{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(t,e,n,o){return super._move((0,tu.u)(qo.BH.wordSeparators.defaultValue),e,n,o)}}),(0,Xe.fK)(new class extends a1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:pt.u.writable})}}),(0,Xe.fK)(new class extends a1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:pt.u.writable})}}),(0,Xe.fK)(new class extends a1{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),(0,Xe.fK)(new class extends l1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:pt.u.writable})}}),(0,Xe.fK)(new class extends l1{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:pt.u.writable})}}),(0,Xe.fK)(new class extends l1{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"deleteInsideWord",precondition:pt.u.writable,label:Me.N("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(t,e,n){if(!e.hasModel())return;const o=(0,tu.u)(e.getOption(117)),s=e.getModel(),m=e.getSelections().map(R=>{const U=sc.w.deleteInsideWord(o,s,R);return new it.T4(U,"")});e.pushUndoStop(),e.executeCommands(this.id,m),e.pushUndoStop()}});class Lv extends up{_move(t,e,n,o){return sc.L.moveWordPartLeft(t,e,n)}}to.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft"),to.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class Mv extends up{_move(t,e,n,o){return sc.L.moveWordPartRight(t,e,n)}}(0,Xe.fK)(new class extends hp{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(t,e){return sc.L.deleteWordPartLeft(t)||new It.e(1,1,1,1)}}),(0,Xe.fK)(new class extends hp{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:pt.u.writable,kbOpts:{kbExpr:pt.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(t,e){let n=sc.L.deleteWordPartRight(t);if(n)return n;const o=t.model.getLineCount(),s=t.model.getLineMaxColumn(o);return new It.e(o,s,o,s)}}),(0,Xe.fK)(new class extends Lv{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:pt.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),(0,Xe.fK)(new class extends Lv{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:pt.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),(0,Xe.fK)(new class extends Mv{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:pt.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),(0,Xe.fK)(new class extends Mv{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:pt.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}});var Eo=p(1598),Dv=(p(81089),p(81718)),Ev=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},fp=function(a,t){return function(e,n){t(e,n,a)}};const Nv=new Qt.uy("accessibilityHelpWidgetVisible",!1);let nu=class Nw extends At.JT{constructor(t,e){super(),this._editor=t,this._widget=this._register(e.createInstance(Dh,this._editor))}static get(t){return t.getContribution(Nw.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};nu.ID="editor.contrib.accessibilityHelpController",nu=Ev([fp(1,Yi.TG)],nu);let Dh=class Ep extends fa.${constructor(t,e,n,o){super(),this._contextKeyService=e,this._keybindingService=n,this._openerService=o,this._editor=t,this._isVisibleKey=Nv.bindTo(this._contextKeyService),this._domNode=(0,Dv.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,Dv.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(rt.mu(this._contentDomNode.domNode,"keydown",s=>{if(this._isVisible&&(s.equals(2083)&&((0,Es.Z9)(Eo.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),rt.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),s.preventDefault(),s.stopPropagation()),s.equals(2086))){(0,Es.Z9)(Eo.Oe.openingDocs);let d=this._editor.getRawOptions().accessibilityHelpUrl;void 0===d&&(d="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(vo.o.parse(d)),s.preventDefault(),s.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Ep.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(t,e,n){const o=this._keybindingService.lookupKeybinding(t);return o?In.WU(e,o.getAriaLabel()):In.WU(n,t)}_buildContent(){const t=this._editor.getOptions(),e=this._editor.getSelections();let n=0;if(e){const m=this._editor.getModel();m&&e.forEach(R=>{n+=m.getValueLengthInRange(R)})}let o=function(a,t){return a&&0!==a.length?1===a.length?t?In.WU(Eo.Oe.singleSelectionRange,a[0].positionLineNumber,a[0].positionColumn,t):In.WU(Eo.Oe.singleSelection,a[0].positionLineNumber,a[0].positionColumn):t?In.WU(Eo.Oe.multiSelectionRange,a.length,t):a.length>0?In.WU(Eo.Oe.multiSelection,a.length):"":Eo.Oe.noSelection}(e,n);t.get(54)?t.get(81)?o+=Eo.Oe.readonlyDiffEditor:o+=Eo.Oe.editableDiffEditor:t.get(81)?o+=Eo.Oe.readonlyEditor:o+=Eo.Oe.editableEditor;const s=Ht.dz?Eo.Oe.changeConfigToOnMac:Eo.Oe.changeConfigToOnWinLinux;switch(t.get(2)){case 0:o+="\n\n - "+s;break;case 2:o+="\n\n - "+Eo.Oe.auto_on;break;case 1:o+="\n\n - "+Eo.Oe.auto_off,o+=" "+s}t.get(130)?o+="\n\n - "+this._descriptionForCommand(Y_.ID,Eo.Oe.tabFocusModeOnMsg,Eo.Oe.tabFocusModeOnMsgNoKb):o+="\n\n - "+this._descriptionForCommand(Y_.ID,Eo.Oe.tabFocusModeOffMsg,Eo.Oe.tabFocusModeOffMsgNoKb),o+="\n\n - "+(Ht.dz?Eo.Oe.openDocMac:Eo.Oe.openDocWinLinux),o+="\n\n"+Eo.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,_C.BO)(o)),this._contentDomNode.domNode.setAttribute("aria-label",o)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,rt.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const t=this._editor.getLayoutInfo(),e=Math.max(5,Math.min(Ep.WIDTH,t.width-40)),n=Math.max(5,Math.min(Ep.HEIGHT,t.height-40));this._domNode.setWidth(e),this._domNode.setHeight(n);const o=Math.round((t.height-n)/2);this._domNode.setTop(o);const s=Math.round((t.width-e)/2);this._domNode.setLeft(s)}};Dh.ID="editor.contrib.accessibilityHelpWidget",Dh.WIDTH=500,Dh.HEIGHT=300,Dh=Ev([fp(1,Qt.i6),fp(2,Xo.d),fp(3,ta.v4)],Dh),(0,Xe._K)(nu.ID,nu),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:Eo.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(t,e){const n=nu.get(e);n&&n.show()}});const ZE=Xe._l.bindToContribution(nu.get);(0,Xe.fK)(new ZE({id:"closeAccessibilityHelp",precondition:Nv,handler:a=>a.hide(),kbOpts:{weight:200,kbExpr:pt.u.focus,primary:9,secondary:[1033]}})),(0,_.Ic)((a,t)=>{const e=a.getColor(l.D0T);e&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${e}; }`);const n=a.getColor(l.Hfx);n&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const o=a.getColor(l.rh);o&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${o}; }`);const s=a.getColor(l.lRK);s&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${s}; }`)}),p(27354);let Iv=(()=>{class a extends At.JT{constructor(e){super(),this.editor=e,this.widget=null,Ht.gn&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(81);!this.widget&&e?this.widget=new GE(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return a.ID="editor.contrib.iPadShowKeyboard",a})(),GE=(()=>{class a extends At.JT{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(rt.nm(this._domNode,"touchstart",n=>{this.editor.focus()})),this._register(rt.nm(this._domNode,"focus",n=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return a.ID="editor.contrib.ShowKeyboardWidget",a})();(0,Xe._K)(Iv.ID,Iv),p(73215);var c1=p(88057),Pv=p(92094),kv=function(a,t){return function(e,n){t(e,n,a)}};let Eh=class Iw extends At.JT{constructor(t,e,n){super(),this._editor=t,this._languageService=n,this._widget=null,this._register(this._editor.onDidChangeModel(o=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(o=>this.stop())),this._register(Ji.RW.onDidChange(o=>this.stop())),this._register(this._editor.onKeyUp(o=>9===o.keyCode&&this.stop()))}static get(t){return t.getContribution(Iw.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new qE(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};Eh.ID="editor.contrib.inspectTokens",Eh=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([kv(1,Pv.Z),kv(2,$r.O)],Eh);let qE=(()=>{class a extends At.JT{constructor(e,n){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=n,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(a,t){const e=Ji.RW.get(t);if(e)return e;const n=a.encodeLanguageId(t);return{getInitialState:()=>c1.TJ,tokenize:(o,s,d)=>(0,c1.Ri)(t,d),tokenizeEncoded:(o,s,d)=>(0,c1.Dy)(n,d)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(o=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return a._ID}_compute(e){const n=this._getTokensAtLine(e.lineNumber);let o=0;for(let U=n.tokens1.length-1;U>=0;U--)if(e.column-1>=n.tokens1[U].offset){o=U;break}let s=0;for(let U=n.tokens2.length>>>1;U>=0;U--)if(e.column-1>=n.tokens2[U<<1]){s=U;break}const d=this._model.getLineContent(e.lineNumber);let m="";o<n.tokens1.length&&(m=d.substring(n.tokens1[o].offset,o+1<n.tokens1.length?n.tokens1[o+1].offset:d.length)),(0,rt.mc)(this._domNode,(0,rt.$)("h2.tm-token",void 0,function(a){let t="";for(let e=0,n=a.length;e<n;e++){const o=a.charCodeAt(e);switch(o){case 9:t+="\u2192";break;case 32:t+="\xb7";break;default:t+=String.fromCharCode(o)}}return t}(m),(0,rt.$)("span.tm-token-length",void 0,`${m.length} ${1===m.length?"char":"chars"}`))),(0,rt.R3)(this._domNode,(0,rt.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const R=1+(s<<1)<n.tokens2.length?this._decodeMetadata(n.tokens2[1+(s<<1)]):null;(0,rt.R3)(this._domNode,(0,rt.$)("table.tm-metadata-table",void 0,(0,rt.$)("tbody",void 0,(0,rt.$)("tr",void 0,(0,rt.$)("td.tm-metadata-key",void 0,"language"),(0,rt.$)("td.tm-metadata-value",void 0,`${R?R.languageId:"-?-"}`)),(0,rt.$)("tr",void 0,(0,rt.$)("td.tm-metadata-key",void 0,"token type"),(0,rt.$)("td.tm-metadata-value",void 0,`${R?this._tokenTypeToString(R.tokenType):"-?-"}`)),(0,rt.$)("tr",void 0,(0,rt.$)("td.tm-metadata-key",void 0,"font style"),(0,rt.$)("td.tm-metadata-value",void 0,`${R?this._fontStyleToString(R.fontStyle):"-?-"}`)),(0,rt.$)("tr",void 0,(0,rt.$)("td.tm-metadata-key",void 0,"foreground"),(0,rt.$)("td.tm-metadata-value",void 0,`${R?$i.Il.Format.CSS.formatHex(R.foreground):"-?-"}`)),(0,rt.$)("tr",void 0,(0,rt.$)("td.tm-metadata-key",void 0,"background"),(0,rt.$)("td.tm-metadata-value",void 0,`${R?$i.Il.Format.CSS.formatHex(R.background):"-?-"}`))))),(0,rt.R3)(this._domNode,(0,rt.$)("hr.tokens-inspect-separator")),o<n.tokens1.length&&(0,rt.R3)(this._domNode,(0,rt.$)("span.tm-token-type",void 0,n.tokens1[o].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const n=Ji.RW.getColorMap(),o=Ji.NX.getLanguageId(e),s=Ji.NX.getTokenType(e),d=Ji.NX.getFontStyle(e),m=Ji.NX.getForeground(e),R=Ji.NX.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(o),tokenType:s,fontStyle:d,foreground:n[m],background:n[R]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let n="";return 1&e&&(n+="italic "),2&e&&(n+="bold "),4&e&&(n+="underline "),8&e&&(n+="strikethrough "),0===n.length&&(n="---"),n}_getTokensAtLine(e){const n=this._getStateBeforeLine(e),o=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,n),s=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,n);return{startState:n,tokens1:o.tokens,tokens2:s.tokens,endState:o.endState}}_getStateBeforeLine(e){let n=this._tokenizationSupport.getInitialState();for(let o=1;o<e;o++)n=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,n).endState;return n}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return a._ID="editor.contrib.inspectTokensWidget",a})();(0,Xe._K)(Eh.ID,Eh),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.inspectTokens",label:Eo.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(t,e){const n=Eh.get(e);n&&n.launch()}}),(0,_.Ic)((a,t)=>{const e=a.getColor(l.CNo);e&&(t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${a.type===av.e.HIGH_CONTRAST?2:1}px solid ${e}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${e}; }`));const n=a.getColor(l.yJx);n&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const o=a.getColor(l.Sbf);o&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${o}; }`)});var rg=p(76183);let gp=class Np{constructor(t){this.quickInputService=t,this.registry=vh.B.as(rg.IP.Quickaccess)}provide(t){const e=new At.SL;e.add(t.onDidAccept(()=>{const[s]=t.selectedItems;s&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),e.add(t.onDidChangeValue(s=>{const d=this.registry.getQuickAccessProvider(s.substr(Np.PREFIX.length));d&&d.prefix&&d.prefix!==Np.PREFIX&&this.quickInputService.quickAccess.show(d.prefix,{preserveValue:!0})}));const{editorProviders:n,globalProviders:o}=this.getQuickAccessProviders();return t.items=0===n.length||0===o.length?[...0===n.length?o:n]:[{label:(0,Me.N)("globalCommands","global commands"),type:"separator"},...o,{label:(0,Me.N)("editorCommands","editor commands"),type:"separator"},...n],e}getQuickAccessProviders(){const t=[],e=[];for(const n of this.registry.getQuickAccessProviders().sort((o,s)=>o.prefix.localeCompare(s.prefix)))if(n.prefix!==Np.PREFIX)for(const o of n.helpEntries){const s=o.prefix||n.prefix,d=s||"\u2026";(o.needsEditor?e:t).push({prefix:s,label:d,ariaLabel:(0,Me.N)("helpPickAriaLabel","{0}, {1}",d,o.description),description:o.description})}return{editorProviders:e,globalProviders:t}}};gp.PREFIX="?",gp=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,0)}}(0,Ul.eJ)],gp),vh.B.as(rg.IP.Quickaccess).registerQuickAccessProvider({ctor:gp,prefix:"",helpEntries:[{description:Eo.ld.helpQuickAccessActionLabel,needsEditor:!0}]});class Ov{constructor(t){this.options=t,this.rangeHighlightDecorationId=void 0}provide(t,e){var n;const o=new At.SL;t.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),t.matchOnLabel=t.matchOnDescription=t.matchOnDetail=t.sortByLabel=!1;const s=o.add(new At.XK);return s.value=this.doProvide(t,e),o.add(this.onDidActiveTextEditorControlChange(()=>{s.value=void 0,s.value=this.doProvide(t,e)})),o}doProvide(t,e){const n=new At.SL,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const s={editor:o},d=(0,Pd.Pi)(o);if(d){let m=(0,Ki.f6)(o.saveViewState());n.add(d.onDidChangeCursorPosition(()=>{m=(0,Ki.f6)(o.saveViewState())})),s.restoreViewState=()=>{m&&o===this.activeTextEditorControl&&o.restoreViewState(m)},n.add((0,Tg.I)(e.onCancellationRequested)(()=>{var R;return null===(R=s.restoreViewState)||void 0===R?void 0:R.call(s)}))}n.add((0,At.OF)(()=>this.clearDecorations(o))),n.add(this.provideWithTextEditor(s,t,e))}else n.add(this.provideWithoutTextEditor(t,e));return n}canProvideWithTextEditor(t){return!0}gotoLocation({editor:t},e){t.setSelection(e.range),t.revealRangeInCenter(e.range,0),e.preserveFocus||t.focus()}getModel(t){var e;return(0,Pd.QI)(t)?null===(e=t.getModel())||void 0===e?void 0:e.modified:t.getModel()}addDecorations(t,e){t.changeDecorations(n=>{const o=[];this.rangeHighlightDecorationId&&(o.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const s=[{range:e,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:e,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,_.EN)(Te.m9),position:os.sh.Full}}}],[d,m]=n.deltaDecorations(o,s);this.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:m}})}clearDecorations(t){const e=this.rangeHighlightDecorationId;e&&(t.changeDecorations(n=>{n.deltaDecorations([e.overviewRulerDecorationId,e.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}let nN=(()=>{class a extends Ov{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const n=(0,Me.N)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:n}],e.ariaLabel=n,At.JT.None}provideWithTextEditor(e,n,o){const s=e.editor,d=new At.SL;d.add(n.onDidAccept(U=>{const[F]=n.selectedItems;if(F){if(!this.isValidLineNumber(s,F.lineNumber))return;this.gotoLocation(e,{range:this.toRange(F.lineNumber,F.column),keyMods:n.keyMods,preserveFocus:U.inBackground}),U.inBackground||n.hide()}}));const m=()=>{const U=this.parsePosition(s,n.value.trim().substr(a.PREFIX.length)),F=this.getPickLabel(s,U.lineNumber,U.column);if(n.items=[{lineNumber:U.lineNumber,column:U.column,label:F}],n.ariaLabel=F,!this.isValidLineNumber(s,U.lineNumber))return void this.clearDecorations(s);const q=this.toRange(U.lineNumber,U.column);s.revealRangeInCenter(q,0),this.addDecorations(s,q)};m(),d.add(n.onDidChangeValue(()=>m()));const R=(0,Pd.Pi)(s);return R&&2===R.getOptions().get(60).renderType&&(R.updateOptions({lineNumbers:"on"}),d.add((0,At.OF)(()=>R.updateOptions({lineNumbers:"relative"})))),d}toRange(e=1,n=1){return{startLineNumber:e,startColumn:n,endLineNumber:e,endColumn:n}}parsePosition(e,n){const o=n.split(/,|:|#/).map(d=>parseInt(d,10)).filter(d=>!isNaN(d)),s=this.lineCount(e)+1;return{lineNumber:o[0]>0?o[0]:s+o[0],column:o[1]}}getPickLabel(e,n,o){if(this.isValidLineNumber(e,n))return this.isValidColumn(e,n,o)?(0,Me.N)("gotoLineColumnLabel","Go to line {0} and character {1}.",n,o):(0,Me.N)("gotoLineLabel","Go to line {0}.",n);const s=e.getPosition()||{lineNumber:1,column:1},d=this.lineCount(e);return d>1?(0,Me.N)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,d):(0,Me.N)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(e,n){return!(!n||"number"!=typeof n)&&n>0&&n<=this.lineCount(e)}isValidColumn(e,n,o){if(!o||"number"!=typeof o)return!1;const s=this.getModel(e);if(!s)return!1;const d={lineNumber:n,column:o};return s.validatePosition(d).equals(d)}lineCount(e){var n,o;return null!==(o=null===(n=this.getModel(e))||void 0===n?void 0:n.getLineCount())&&void 0!==o?o:0}}return a.PREFIX=":",a})(),ag=class extends nN{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=zn.ju.None}get activeTextEditorControl(){return(0,Ki.f6)(this.editorService.getFocusedCodeEditor())}};ag=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([function(a,t){return function(e,n){t(e,n,0)}}(0,en.$)],ag),vh.B.as(rg.IP.Quickaccess).registerQuickAccessProvider({ctor:ag,prefix:ag.PREFIX,helpEntries:[{description:Eo.qq.gotoLineActionLabel,needsEditor:!0}]}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.gotoLine",label:Eo.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(Ul.eJ).quickAccess.show(ag.PREFIX)}});const Tv=[void 0,[]];function d1(a,t,e=0,n=0){return t.values&&t.values.length>1?function(a,t,e,n){let o=0;const s=[];for(const d of t){const[m,R]=Av(a,d,e,n);if("number"!=typeof m)return Tv;o+=m,s.push(...R)}return[o,aN(s)]}(a,t.values,e,n):Av(a,t,e,n)}function Av(a,t,e,n){const o=(0,Zs.EW)(t.original,t.originalLowercase,e,a,a.toLowerCase(),n,!0);return o?[o[0],(0,Zs.mB)(o)]:Tv}function aN(a){const t=a.sort((o,s)=>o.start-s.start),e=[];let n;for(const o of t)n&&lN(n,o)?(n.start=Math.min(n.start,o.start),n.end=Math.max(n.end,o.end)):(n=o,e.push(o));return e}function lN(a,t){return!(a.end<t.start||t.end<a.start)}function Rv(a){return a.startsWith('"')&&a.endsWith('"')}function u1(a){"string"!=typeof a&&(a="");const t=a.toLowerCase(),{pathNormalized:e,normalized:n,normalizedLowercase:o}=Bv(a),s=e.indexOf(oc.ir)>=0,d=Rv(a);let m;const R=a.split(" ");if(R.length>1)for(const U of R){const F=Rv(U),{pathNormalized:q,normalized:_e,normalizedLowercase:De}=Bv(U);_e&&(m||(m=[]),m.push({original:U,originalLowercase:U.toLowerCase(),pathNormalized:q,normalized:_e,normalizedLowercase:De,expectContiguousMatch:F}))}return{original:a,originalLowercase:t,pathNormalized:e,normalized:n,normalizedLowercase:o,values:m,containsPathSeparator:s,expectContiguousMatch:d}}function Bv(a){let t;t=a.replace(Ht.ED?/\//g:/\\/g,oc.ir);const e=(0,In.R1)(t).replace(/\s|"/g,"");return{pathNormalized:t,normalized:e,normalizedLowercase:e.toLowerCase()}}function Wv(a){return Array.isArray(a)?u1(a.map(t=>t.original).join(" ")):u1(a.original)}Object.freeze({score:0});var Vv=function(a,t){return function(e,n){t(e,n,a)}},lg=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};let wa=class k1 extends Ov{constructor(t,e,n=Object.create(null)){super(n),this._languageFeaturesService=t,this._outlineModelService=e,this.options=n,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(t){return this.provideLabelPick(t,(0,Me.N)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),At.JT.None}provideWithTextEditor(t,e,n){const s=this.getModel(t.editor);return s?this._languageFeaturesService.documentSymbolProvider.has(s)?this.doProvideWithEditorSymbols(t,s,e,n):this.doProvideWithoutEditorSymbols(t,s,e,n):At.JT.None}doProvideWithoutEditorSymbols(t,e,n,o){const s=new At.SL;return this.provideLabelPick(n,(0,Me.N)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{lg(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(e,s))||o.isCancellationRequested||s.add(this.doProvideWithEditorSymbols(t,e,n,o))})})(),s}provideLabelPick(t,e){t.items=[{label:e,index:0,kind:14}],t.ariaLabel=e}waitForLanguageSymbolRegistry(t,e){return lg(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(t))return!0;const n=new Hn.CR,o=e.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(t)&&(o.dispose(),n.complete(!0))}));return e.add((0,At.OF)(()=>n.complete(!1))),n.p})}doProvideWithEditorSymbols(t,e,n,o){const s=t.editor,d=new At.SL;d.add(n.onDidAccept(q=>{const[_e]=n.selectedItems;_e&&_e.range&&(this.gotoLocation(t,{range:_e.range.selection,keyMods:n.keyMods,preserveFocus:q.inBackground}),q.inBackground||n.hide())})),d.add(n.onDidTriggerItemButton(({item:q})=>{q&&q.range&&(this.gotoLocation(t,{range:q.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const m=this.getDocumentSymbols(e,o);let R;const U=()=>lg(this,void 0,void 0,function*(){null==R||R.dispose(!0),n.busy=!1,R=new ii.A(o),n.busy=!0;try{const q=u1(n.value.substr(k1.PREFIX.length).trim()),_e=yield this.doGetSymbolPicks(m,q,void 0,R.token);if(o.isCancellationRequested)return;_e.length>0?n.items=_e:this.provideLabelPick(n,q.original.length>0?(0,Me.N)("noMatchingSymbolResults","No matching editor symbols"):(0,Me.N)("noSymbolResults","No editor symbols"))}finally{o.isCancellationRequested||(n.busy=!1)}});d.add(n.onDidChangeValue(()=>U())),U();let F=!0;return d.add(n.onDidChangeActive(()=>{const[q]=n.activeItems;if(q&&q.range){if(F)return void(F=!1);s.revealRangeInCenter(q.range.selection,0),this.addDecorations(s,q.range.decoration)}})),d}doGetSymbolPicks(t,e,n,o){return lg(this,void 0,void 0,function*(){const s=yield t;if(o.isCancellationRequested)return[];const d=0===e.original.indexOf(k1.SCOPE_PREFIX),m=d?1:0;let R,U;e.values&&e.values.length>1?(R=Wv(e.values[0]),U=Wv(e.values.slice(1))):R=e;const F=[];for(let De=0;De<s.length;De++){const Ke=s[De],ct=(0,In.fy)(Ke.name),Tt=`$(${Ji.uZ.toIcon(Ke.kind).id}) ${ct}`,Ot=Tt.length-ct.length;let on,Wn,An,Bi,tn=Ke.containerName;if((null==n?void 0:n.extraContainerLabel)&&(tn=tn?`${n.extraContainerLabel} \u2022 ${tn}`:n.extraContainerLabel),e.original.length>m){let us=!1;if(R!==e&&([on,Wn]=d1(Tt,Object.assign(Object.assign({},e),{values:void 0}),m,Ot),"number"==typeof on&&(us=!0)),"number"!=typeof on&&([on,Wn]=d1(Tt,R,m,Ot),"number"!=typeof on))continue;if(!us&&U){if(tn&&U.original.length>0&&([An,Bi]=d1(tn,U)),"number"!=typeof An)continue;"number"==typeof on&&(on+=An)}}const yi=Ke.tags&&Ke.tags.indexOf(1)>=0;F.push({index:De,kind:Ke.kind,score:on,label:Tt,ariaLabel:ct,description:tn,highlights:yi?void 0:{label:Wn,description:Bi},range:{selection:It.e.collapseToStart(Ke.selectionRange),decoration:Ke.range},strikethrough:yi,buttons:(()=>{var us,zs;const Us=(null===(us=this.options)||void 0===us?void 0:us.openSideBySideDirection)?null===(zs=this.options)||void 0===zs?void 0:zs.openSideBySideDirection():void 0;if(Us)return[{iconClass:"right"===Us?Zn.lA.splitHorizontal.classNames:Zn.lA.splitVertical.classNames,tooltip:"right"===Us?(0,Me.N)("openToSide","Open to the Side"):(0,Me.N)("openToBottom","Open to the Bottom")}]})()})}const q=F.sort((De,Ke)=>d?this.compareByKindAndScore(De,Ke):this.compareByScore(De,Ke));let _e=[];if(d){let De,Ke,Tt=function(){Ke&&"number"==typeof De&&ct>0&&(Ke.label=(0,In.WU)(f1[De]||h1,ct))},ct=0;for(const Ot of q)De!==Ot.kind?(Tt(),De=Ot.kind,ct=1,Ke={type:"separator"},_e.push(Ke)):ct++,_e.push(Ot);Tt()}else q.length>0&&(_e=[{label:(0,Me.N)("symbols","symbols ({0})",F.length),type:"separator"},...q]);return _e})}compareByScore(t,e){if("number"!=typeof t.score&&"number"==typeof e.score)return 1;if("number"==typeof t.score&&"number"!=typeof e.score)return-1;if("number"==typeof t.score&&"number"==typeof e.score){if(t.score>e.score)return-1;if(t.score<e.score)return 1}return t.index<e.index?-1:t.index>e.index?1:0}compareByKindAndScore(t,e){const s=(f1[t.kind]||h1).localeCompare(f1[e.kind]||h1);return 0===s?this.compareByScore(t,e):s}getDocumentSymbols(t,e){return lg(this,void 0,void 0,function*(){const n=yield this._outlineModelService.getOrCreate(t,e);return e.isCancellationRequested?[]:n.asListOfDocumentSymbols()})}};wa.PREFIX="@",wa.SCOPE_PREFIX=":",wa.PREFIX_BY_CATEGORY=`${wa.PREFIX}${wa.SCOPE_PREFIX}`,wa=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Vv(0,wi.p),Vv(1,Hm)],wa);const h1=(0,Me.N)("property","properties ({0})"),f1={5:(0,Me.N)("method","methods ({0})"),11:(0,Me.N)("function","functions ({0})"),8:(0,Me.N)("_constructor","constructors ({0})"),12:(0,Me.N)("variable","variables ({0})"),4:(0,Me.N)("class","classes ({0})"),22:(0,Me.N)("struct","structs ({0})"),23:(0,Me.N)("event","events ({0})"),24:(0,Me.N)("operator","operators ({0})"),10:(0,Me.N)("interface","interfaces ({0})"),2:(0,Me.N)("namespace","namespaces ({0})"),3:(0,Me.N)("package","packages ({0})"),25:(0,Me.N)("typeParameter","type parameters ({0})"),1:(0,Me.N)("modules","modules ({0})"),6:(0,Me.N)("property","properties ({0})"),9:(0,Me.N)("enum","enumerations ({0})"),21:(0,Me.N)("enumMember","enumeration members ({0})"),14:(0,Me.N)("string","strings ({0})"),0:(0,Me.N)("file","files ({0})"),17:(0,Me.N)("array","arrays ({0})"),15:(0,Me.N)("number","numbers ({0})"),16:(0,Me.N)("boolean","booleans ({0})"),18:(0,Me.N)("object","objects ({0})"),19:(0,Me.N)("key","keys ({0})"),7:(0,Me.N)("field","fields ({0})"),13:(0,Me.N)("constant","constants ({0})")};var g1=function(a,t){return function(e,n){t(e,n,a)}};let m1=class extends wa{constructor(t,e,n){super(e,n),this.editorService=t,this.onDidActiveTextEditorControlChange=zn.ju.None}get activeTextEditorControl(){return(0,Ki.f6)(this.editorService.getFocusedCodeEditor())}};function p1(a,t){return t&&(a.stack||a.stacktrace)?Me.N("stackTrace.format","{0}: {1}",zv(a),Hv(a.stack)||Hv(a.stacktrace)):zv(a)}function Hv(a){return Array.isArray(a)?a.join("\n"):a}function zv(a){return"string"==typeof a.code&&"number"==typeof a.errno&&"string"==typeof a.syscall?Me.N("nodeExceptionMessage","A system error occurred ({0})",a.message):a.message||Me.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function Uv(a=null,t=!1){if(!a)return Me.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(a)){const e=po.kX(a),n=Uv(e[0],t);return e.length>1?Me.N("error.moreErrors","{0} ({1} errors in total)",n,e.length):n}if(Ki.HD(a))return a;if(a.detail){const e=a.detail;if(e.error)return p1(e.error,t);if(e.exception)return p1(e.exception,t)}return a.stack?p1(a,t):a.message?a.message:Me.N("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}m1=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([g1(0,en.$),g1(1,wi.p),g1(2,Hm)],m1),vh.B.as(rg.IP.Quickaccess).registerQuickAccessProvider({ctor:m1,prefix:wa.PREFIX,helpEntries:[{description:Eo.aq.quickOutlineActionLabel,prefix:wa.PREFIX,needsEditor:!0},{description:Eo.aq.quickOutlineByCategoryActionLabel,prefix:wa.PREFIX_BY_CATEGORY,needsEditor:!0}]}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.quickOutline",label:Eo.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:pt.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:pt.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(t){t.get(Ul.eJ).quickAccess.show(wa.PREFIX)}});var mp=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})},iu=(()=>(function(a){a[a.NO_ACTION=0]="NO_ACTION",a[a.CLOSE_PICKER=1]="CLOSE_PICKER",a[a.REFRESH_PICKER=2]="REFRESH_PICKER",a[a.REMOVE_ITEM=3]="REMOVE_ITEM"}(iu||(iu={})),iu))();function _1(a){return Array.isArray(a.items)}let fN=(()=>{class a extends At.JT{constructor(e,n){super(),this.prefix=e,this.options=n}provide(e,n){var o;const s=new At.SL;let d;e.canAcceptInBackground=!!(null===(o=this.options)||void 0===o?void 0:o.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const m=s.add(new At.XK),R=()=>mp(this,void 0,void 0,function*(){const U=m.value=new At.SL;null==d||d.dispose(!0),e.busy=!1,d=new ii.A(n);const F=d.token,q=e.value.substr(this.prefix.length).trim(),_e=this._getPicks(q,U,F),De=(Ke,ct)=>{var Tt;let Ot,tn;if(_1(Ke)?(Ot=Ke.items,tn=Ke.active):Ot=Ke,0===Ot.length){if(ct)return!1;q.length>0&&(null===(Tt=this.options)||void 0===Tt?void 0:Tt.noResultsPick)&&(Ot=[this.options.noResultsPick])}return e.items=Ot,tn&&(e.activeItems=[tn]),!0};if(null!==_e)if(function(a){return!!a.picks&&a.additionalPicks instanceof Promise}(_e)){let Ke=!1,ct=!1;yield Promise.all([(()=>mp(this,void 0,void 0,function*(){yield(0,Hn.Vs)(a.FAST_PICKS_RACE_DELAY),!F.isCancellationRequested&&(ct||(Ke=De(_e.picks,!0)))}))(),(()=>mp(this,void 0,void 0,function*(){e.busy=!0;try{const Tt=yield _e.additionalPicks;if(F.isCancellationRequested)return;let Ot,tn,on,Wn;if(_1(_e.picks)?(Ot=_e.picks.items,tn=_e.picks.active):Ot=_e.picks,_1(Tt)?(on=Tt.items,Wn=Tt.active):on=Tt,on.length>0||!Ke){let An;if(!tn&&!Wn){const Bi=e.activeItems[0];Bi&&-1!==Ot.indexOf(Bi)&&(An=Bi)}De({items:[...Ot,...on],active:tn||Wn||An})}}finally{F.isCancellationRequested||(e.busy=!1),ct=!0}}))()])}else if(_e instanceof Promise){e.busy=!0;try{const Ke=yield _e;if(F.isCancellationRequested)return;De(Ke)}finally{F.isCancellationRequested||(e.busy=!1)}}else De(_e)});return s.add(e.onDidChangeValue(()=>R())),R(),s.add(e.onDidAccept(U=>{const[F]=e.selectedItems;"function"==typeof(null==F?void 0:F.accept)&&(U.inBackground||e.hide(),F.accept(e.keyMods,U))})),s.add(e.onDidTriggerItemButton(({button:U,item:F})=>mp(this,void 0,void 0,function*(){var q,_e;if("function"==typeof F.trigger){const De=null!==(_e=null===(q=F.buttons)||void 0===q?void 0:q.indexOf(U))&&void 0!==_e?_e:-1;if(De>=0){const Ke=F.trigger(De,e.keyMods),ct="number"==typeof Ke?Ke:yield Ke;if(n.isCancellationRequested)return;switch(ct){case iu.NO_ACTION:break;case iu.CLOSE_PICKER:e.hide();break;case iu.REFRESH_PICKER:R();break;case iu.REMOVE_ITEM:{const Tt=e.items.indexOf(F);if(-1!==Tt){const Ot=e.items.slice(),tn=Ot.splice(Tt,1),on=e.activeItems.filter(An=>An!==tn[0]),Wn=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=Ot,on&&(e.activeItems=on),e.keepScrollPosition=Wn}break}}}}}))),s}}return a.FAST_PICKS_RACE_DELAY=200,a})();var jv=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s},ou=function(a,t){return function(e,n){t(e,n,a)}},Kv=function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})};let cg=class Ip extends fN{constructor(t,e,n,o,s,d){super(Ip.PREFIX,t),this.instantiationService=e,this.keybindingService=n,this.commandService=o,this.telemetryService=s,this.dialogService=d,this.commandsHistory=this._register(this.instantiationService.createInstance(su)),this.options=t}_getPicks(t,e,n){return Kv(this,void 0,void 0,function*(){const o=yield this.getCommandPicks(e,n);if(n.isCancellationRequested)return[];const s=[];for(const U of o){const F=(0,Ki.f6)(Ip.WORD_FILTER(t,U.label)),q=U.commandAlias?(0,Ki.f6)(Ip.WORD_FILTER(t,U.commandAlias)):void 0;F||q?(U.highlights={label:F,detail:this.options.showAlias?q:void 0},s.push(U)):t===U.commandId&&s.push(U)}const d=new Map;for(const U of s){const F=d.get(U.label);F?(U.description=U.commandId,F.description=F.commandId):d.set(U.label,U)}s.sort((U,F)=>{const q=this.commandsHistory.peek(U.commandId),_e=this.commandsHistory.peek(F.commandId);return q&&_e?q>_e?-1:1:q?-1:_e?1:U.label.localeCompare(F.label)});const m=[];let R=!1;for(let U=0;U<s.length;U++){const F=s[U],q=this.keybindingService.lookupKeybinding(F.commandId),_e=q?(0,Me.N)("commandPickAriaLabelWithKeybinding","{0}, {1}",F.label,q.getAriaLabel()):F.label;0===U&&this.commandsHistory.peek(F.commandId)&&(m.push({type:"separator",label:(0,Me.N)("recentlyUsed","recently used")}),R=!0),0!==U&&R&&!this.commandsHistory.peek(F.commandId)&&(m.push({type:"separator",label:(0,Me.N)("morecCommands","other commands")}),R=!1),m.push(Object.assign(Object.assign({},F),{ariaLabel:_e,detail:this.options.showAlias&&F.commandAlias!==F.label?F.commandAlias:void 0,keybinding:q,accept:()=>Kv(this,void 0,void 0,function*(){this.commandsHistory.push(F.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:F.commandId,from:"quick open"});try{yield this.commandService.executeCommand(F.commandId)}catch(De){(0,Yn.n2)(De)||this.dialogService.show(Xu.Z.Error,(0,Me.N)("canNotRun","Command '{0}' resulted in an error ({1})",F.label,Uv(De)))}})}))}return m})}};cg.PREFIX=">",cg.WORD_FILTER=(0,Zs.or)(Zs.Ji,Zs.KZ,Zs.ir),cg=jv([ou(1,Yi.TG),ou(2,Xo.d),ou(3,to.Hy),ou(4,Bl.b),ou(5,r1.S)],cg);let su=class _s extends At.JT{constructor(t,e){super(),this.storageService=t,this.configurationService=e,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=_s.getConfiguredCommandHistoryLength(this.configurationService),_s.cache&&_s.cache.limit!==this.configuredCommandsHistoryLength&&(_s.cache.limit=this.configuredCommandsHistoryLength,_s.saveState(this.storageService))}load(){const t=this.storageService.get(_s.PREF_KEY_CACHE,0);let e;if(t)try{e=JSON.parse(t)}catch{}const n=_s.cache=new el.z6(this.configuredCommandsHistoryLength,1);if(e){let o;o=e.usesLRU?e.entries:e.entries.sort((s,d)=>s.value-d.value),o.forEach(s=>n.set(s.key,s.value))}_s.counter=this.storageService.getNumber(_s.PREF_KEY_COUNTER,0,_s.counter)}push(t){!_s.cache||(_s.cache.set(t,_s.counter++),_s.saveState(this.storageService))}peek(t){var e;return null===(e=_s.cache)||void 0===e?void 0:e.peek(t)}static saveState(t){if(!_s.cache)return;const e={usesLRU:!0,entries:[]};_s.cache.forEach((n,o)=>e.entries.push({key:o,value:n})),t.store(_s.PREF_KEY_CACHE,JSON.stringify(e),0,0),t.store(_s.PREF_KEY_COUNTER,_s.counter,0,0)}static getConfiguredCommandHistoryLength(t){var e,n;const s=null===(n=null===(e=t.getValue().workbench)||void 0===e?void 0:e.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof s?s:_s.DEFAULT_COMMANDS_HISTORY_LENGTH}};su.DEFAULT_COMMANDS_HISTORY_LENGTH=50,su.PREF_KEY_CACHE="commandPalette.mru.cache",su.PREF_KEY_COUNTER="commandPalette.mru.counter",su.counter=1,su=jv([ou(0,rs.Uy),ou(1,Vs.Ui)],su);class gN extends cg{constructor(t,e,n,o,s,d){super(t,e,n,o,s,d)}getCodeEditorCommandPicks(){const t=this.activeTextEditorControl;if(!t)return[];const e=[];for(const n of t.getSupportedActions())e.push({commandId:n.id,commandAlias:n.alias,label:(0,CC.x$)(n.label)||n.id});return e}}var Nh=function(a,t){return function(e,n){t(e,n,a)}};let dg=class extends gN{constructor(t,e,n,o,s,d){super({showAlias:!1},t,n,o,s,d),this.codeEditorService=e}get activeTextEditorControl(){return(0,Ki.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return function(a,t,e,n){return new(e||(e=Promise))(function(s,d){function m(F){try{U(n.next(F))}catch(q){d(q)}}function R(F){try{U(n.throw(F))}catch(q){d(q)}}function U(F){F.done?s(F.value):function(s){return s instanceof e?s:new e(function(d){d(s)})}(F.value).then(m,R)}U((n=n.apply(a,t||[])).next())})}(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};dg=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Nh(0,Yi.TG),Nh(1,en.$),Nh(2,Xo.d),Nh(3,to.Hy),Nh(4,Bl.b),Nh(5,r1.S)],dg),vh.B.as(rg.IP.Quickaccess).registerQuickAccessProvider({ctor:dg,prefix:dg.PREFIX,helpEntries:[{description:Eo.UX.quickCommandHelp,needsEditor:!0}]}),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.quickCommand",label:Eo.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:pt.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(t){t.get(Ul.eJ).quickAccess.show(dg.PREFIX)}});var Ih=function(a,t){return function(e,n){t(e,n,a)}};let C1=class extends al{constructor(t,e,n,o,s,d,m){super(!0,t,e,n,o,s,d,m)}};C1=function(a,t,e,n){var d,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,n);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(s=(o<3?d(s):o>3?d(t,e,s):d(t,e))||s);return o>3&&s&&Object.defineProperty(t,e,s),s}([Ih(1,Qt.i6),Ih(2,en.$),Ih(3,gs.lT),Ih(4,Yi.TG),Ih(5,rs.Uy),Ih(6,Vs.Ui)],C1),(0,Xe._K)(al.ID,C1),(0,Xe.Qr)(class extends Xe.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:Eo.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(t,e){const n=t.get(Pv.Z);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getColorTheme().themeName,n.setTheme("hc-black"))}});var pp=p(52771),$v=p(38869);let Zv=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:11,vars:2,consts:[["mat-dialog-title",""],[1,"warning-icon"],["type","button","mat-button","",3,"mat-dialog-close"],["type","button","mat-button","","color","warn",3,"mat-dialog-close"]],template:function(e,n){1&e&&(i.TgZ(0,"h2",0),i._uU(1,"Resolve Merge"),i.qZA(),i.TgZ(2,"mat-dialog-content"),i.TgZ(3,"mat-icon",1),i._uU(4,"warning"),i.qZA(),i._uU(5," Warning: there are still outstanding conflicts, are you sure you want to resolve? "),i.qZA(),i.TgZ(6,"mat-dialog-actions"),i.TgZ(7,"button",2),i._uU(8,"Cancel"),i.qZA(),i.TgZ(9,"button",3),i._uU(10,"Confirm"),i.qZA(),i.qZA()),2&e&&(i.xp6(7),i.Q6J("mat-dialog-close",void 0),i.xp6(2),i.Q6J("mat-dialog-close",!0))},directives:[g.uh,g.xY,Cn.Hw,g.H8,yn.lW,g.ZT],styles:[".warning-icon[_ngcontent-%COMP%]{margin-right:5px}"],changeDetection:0}),a})();const Gv=/(^<<<<<<<.*$)\r?\n(?:([^]*?)\r?\n)?^=======.*$\r?\n(?:([^]*?)\r?\n)?(^>>>>>>>.*$)/gm;var Qv=p(40464),Yv=p(28992),Jv=p(10310);const vN=["baseScrollContainer"],wN=["yoursScrollContainer"],yN=["theirsScrollContainer"];function SN(a,t){1&a&&(i.TgZ(0,"main"),i._uU(1,"Loading..."),i.qZA())}function xN(a,t){1&a&&(i.TgZ(0,"main"),i._uU(1,"Cannot load binary file."),i.qZA())}function LN(a,t){1&a&&(i.TgZ(0,"main"),i._uU(1,"Cannot load file."),i.qZA())}function MN(a,t){if(1&a&&(i.TgZ(0,"span",30),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",e.class),i.xp6(1),i.Oqu(e.text)}}function DN(a,t){if(1&a&&(i.ynx(0),i.TgZ(1,"span",28),i._uU(2),i.qZA(),i.YNc(3,MN,2,2,"span",29),i.ALo(4,"tokens"),i.BQk()),2&a){const e=i.oxw().$implicit;i.xp6(2),i.Oqu(null==e.baseLine?null:e.baseLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==e.baseLine?null:e.baseLine.tokens,e.baseLine.text))}}const b1=function(a,t){return[a,t]};function EN(a,t){if(1&a&&(i.TgZ(0,"li",27),i.YNc(1,DN,5,5,"ng-container",0),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",i.WLB(2,b1,"line-yours-"+e.yoursStatus,"line-theirs-"+e.theirsStatus)),i.xp6(1),i.Q6J("ngIf",e.baseLine)}}function NN(a,t){if(1&a&&(i.TgZ(0,"span",30),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",e.class),i.xp6(1),i.Oqu(e.text)}}function IN(a,t){if(1&a&&(i.ynx(0),i.TgZ(1,"span",28),i._uU(2),i.qZA(),i.YNc(3,NN,2,2,"span",29),i.ALo(4,"tokens"),i.BQk()),2&a){const e=i.oxw().$implicit;i.xp6(2),i.Oqu(null==e.theirsLine?null:e.theirsLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==e.theirsLine?null:e.theirsLine.tokens,e.theirsLine.text))}}function PN(a,t){if(1&a&&(i.TgZ(0,"li",27),i.YNc(1,IN,5,5,"ng-container",0),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",i.WLB(2,b1,"line-yours-"+e.yoursStatus,"line-theirs-"+e.theirsStatus)),i.xp6(1),i.Q6J("ngIf",e.theirsLine)}}function kN(a,t){if(1&a&&(i.TgZ(0,"span",30),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",e.class),i.xp6(1),i.Oqu(e.text)}}function ON(a,t){if(1&a&&(i.ynx(0),i.TgZ(1,"span",28),i._uU(2),i.qZA(),i.YNc(3,kN,2,2,"span",29),i.ALo(4,"tokens"),i.BQk()),2&a){const e=i.oxw().$implicit;i.xp6(2),i.Oqu(null==e.yoursLine?null:e.yoursLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==e.yoursLine?null:e.yoursLine.tokens,e.yoursLine.text))}}function TN(a,t){if(1&a&&(i.TgZ(0,"li",27),i.YNc(1,ON,5,5,"ng-container",0),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",i.WLB(2,b1,"line-yours-"+e.yoursStatus,"line-theirs-"+e.theirsStatus)),i.xp6(1),i.Q6J("ngIf",e.yoursLine)}}const AN=function(){return{theme:"vs-dark"}};function RN(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"ngx-monaco-editor",31),i.NdJ("onInit",function(o){return i.CHM(e),i.oxw().monacoInit(o)}),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw();i.Q6J("options",i.DdM(3,AN))("model",e)("formControl",n.monacoControl.ng)}}let FN=(()=>{class a extends((0,dn.j)(Ln.A)){constructor(e,n,o,s,d,m){super(),this.zone=e,this.dialog=n,this.store=o,this.highlightApi=s,this.repositoriesApi=d,this.diffService=m,this.closed=new i.vpe,this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$=new pn.X([]),this.monacoModel=new pn.X({value:"Loading..."}),this.monacoEditor=new pn.X(null),this.monacoControl=new Xt.rV("Loading..."),this.monacoDecorationIds=[],this.monacoCodeLensProviders=[],this.currentView=new pn.X("loading"),this.conflicts=[],this.currentConflictIndex=-1,this.monacoInit=R=>{this.monacoEditor.next(R)},this.gridResized=()=>{this.baseScrollContainer?.checkViewportSize(),this.yoursScrollContainer?.checkViewportSize(),this.theirsScrollContainer?.checkViewportSize(),this.monacoEditor.value?.layout()},this.trackByMergeDiffLine=(R,U)=>R,this.jumpToNextConflict=()=>{this.currentConflictIndex=this.currentConflictIndex+1<this.conflicts.length?this.currentConflictIndex+1:0,this.jumpToConflict()},this.jumpToPreviousConflict=()=>{this.currentConflictIndex=this.currentConflictIndex-1>=0?this.currentConflictIndex-1:this.conflicts.length-1,this.jumpToConflict()}}ngOnInit(){this.destroyed$.subscribe(()=>{this.monacoCodeLensProviders.forEach(e=>{e.dispose()}),this.monacoCodeLensProviders=[]}),(0,st.aj)([this.monacoEditor.pipe((0,Ao.h)(Qo.$K)),this.monacoModel]).pipe((0,Se.R)(this.destroyed$)).subscribe(([e,n])=>{this.monacoControl.setValue(n.value),this.monacoCodeLensProviders.forEach(s=>{s.dispose()}),this.monacoCodeLensProviders=[];const o=window.monaco.languages;o.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0}),o.getLanguages().forEach(s=>{this.monacoCodeLensProviders.push(o.registerCodeLensProvider(s.id,{resolveCodeLens:(d,m,R)=>m,provideCodeLenses:(d,m)=>{this.conflicts=this.processConflicts(d.getValue());const R=e.getPosition();return this.currentConflictIndex=R?this.conflicts.findIndex(F=>F.range.startLineNumber<=R.lineNumber&&F.range.endLineNumber>=R.lineNumber):-1,this.monacoDecorationIds=e.deltaDecorations(this.monacoDecorationIds,this.conflicts.flatMap(F=>F.decorations))??[],{lenses:this.conflicts.flatMap(F=>[{range:new Ti.Range(F.range.startLineNumber,1,F.range.startLineNumber+1,1),command:{id:e.addCommand(0,()=>{e.executeEdits(null,[{range:F.range,text:F.ours}])}),title:"Use Current"}},{range:new Ti.Range(F.range.startLineNumber,1,F.range.startLineNumber+1,1),command:{id:e.addCommand(0,()=>{e.executeEdits(null,[{range:F.range,text:F.theirs}])}),title:"Use Incoming"}},{range:new Ti.Range(F.range.startLineNumber,1,F.range.startLineNumber+1,1),command:{id:e.addCommand(0,()=>{e.executeEdits(null,[{range:F.range,text:`${F.ours}\n${F.theirs}`}])}),title:"Use Both"}}]),dispose:()=>{}}}}))})}),this.patch.pipe((0,$t.b)(()=>{this.currentView.next("loading")}),(0,Ne.w)(e=>e?(0,ti.D)(this.getLines(e)).pipe((0,Se.R)(this.currentView.pipe((0,$v.T)(1),(0,Ao.h)(n=>"loading"===n))),(0,nt.U)(n=>[e,...n]),(0,Vt.K)(n=>Ut.OZ.matches(n)?(this.currentView.next("binary-file"),(0,ut.of)(null)):Ut.hK.matches(n)?(this.currentView.next("error"),(0,ut.of)(null)):(0,Et._)(n))):(0,ut.of)(null)),(0,Se.R)(this.destroyed$)).subscribe(e=>{if(e){const[n,o,s,d,m]=e;this.monacoModel.next(m?{value:m,uri:Ti.Uri.file(`file://${n.mergePatch?.newFilePath??"a.txt"}`)}:{value:""}),this.baseLineNumberMargin=this.diffService.calculateMargin(o?.length.toString().length??1,!0),this.yoursLineNumberMargin=this.diffService.calculateMargin(s?.length.toString().length??1,!0),this.theirsLineNumberMargin=this.diffService.calculateMargin(d?.length.toString().length??1,!0),this.diffService.calculateMergeLines(o??[],s??[],d??[],n.toPatch?.hunks??[],n.fromPatch?.hunks??[]).pipe((0,Se.R)(this.destroyed$)).subscribe(R=>{this.lines$.next(R)}),this.currentView.next("normal")}else this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$.next([]),this.monacoModel.next({value:"Error!"});this.baseScrollContainer?.scrollTo({top:0,left:0}),this.yoursScrollContainer?.scrollTo({top:0,left:0}),this.theirsScrollContainer?.scrollTo({top:0,left:0}),this.monacoEditor.value?.setScrollTop(0),this.monacoEditor.value?.setScrollLeft(0),this.gridResized()}),this.zone.runOutsideAngular(()=>{const e=[this.baseScrollContainer,this.yoursScrollContainer,this.theirsScrollContainer],n=[!1,!1,!1];e.forEach((o,s)=>{o.elementScrolled().pipe((0,Ao.h)(()=>n.every((d,m)=>!d||m===s)),(0,$t.b)(()=>{n[s]=!0,e.forEach((d,m)=>{m!==s&&d.scrollTo({left:o.measureScrollOffset("left"),top:o.measureScrollOffset("top")})})}),(0,So.b)(100),(0,Se.R)(this.destroyed$)).subscribe(()=>{this.gridResized(),n[s]=!1})}),setTimeout(()=>{this.gridResized()},100)})}resolveMerge(e){this.patch.pipe((0,vt.q)(1)).subscribe(n=>{const o=n?.repositoryPath;if(!o)throw new Error("Cannot update merge if no repository is selected");const s=n.mergePatch?.newFilePath;if(!s)throw new Error("Couldn't find file path");let d;switch(e){case"from":d=n.fromPatch?.newFileId?this.repositoriesApi.getFile(o,n.fromPatch?.newFileId):(0,ut.of)(null);break;case"to":d=n.toPatch?.newFileId?this.repositoriesApi.getFile(o,n.toPatch?.newFileId):(0,ut.of)(null);break;case"merge":d=this.conflicts.length>0?this.dialog.open(Zv).afterClosed().pipe((0,Ne.w)(R=>R?(0,ut.of)(this.monacoControl.value):lt.E)):(0,ut.of)(this.monacoControl.value);break;default:throw new Error(`Unrecognized value ${e}`)}d.subscribe(m=>{const R=this.store.selectSnapshot(rn.E.selectedCommitId);this.repositoriesApi.updateMerge(o,n.fromCommitId,n.toCommitId,s,m??"","head"===R).subscribe(()=>{this.store.dispatch(new _n.Vu(o)),this.closed.next()})})})}jumpToConflict(){const e=this.conflicts[this.currentConflictIndex];this.monacoEditor.value?.revealRangeAtTop(e.range);const n=e.theirs.split("\n"),o=e.ours.split("\n"),s=Math.max(n.length,o.length),d=this.lines$.value,m=R=>{if(R+s>d.length)return!1;const U=d.slice(R).map(q=>q.theirsLine?.text).filter(Qo.$K);for(let q=0;q<n.length;q++)if(U[q]!==n[q])return!1;const F=d.slice(R).map(q=>q.yoursLine?.text).filter(Qo.$K);for(let q=0;q<o.length;q++)if(F[q]!==o[q])return!1;return!0};for(let R=0;R<d.length;R++)if(m(R)){this.baseScrollContainer.scrollToIndex(R);break}}getLines(e){const n=e.repositoryPath;let o=null,s=null,d=null,m=null;const R=e.toPatch;if(R)if(R.oldFileIsSubmodule||R.newFileIsSubmodule){const q=R.hunks[0].lines.find(De=>De.oldLineNo>0),_e=R.hunks[0].lines.find(De=>De.newLineNo>0);o=(0,ut.of)([{lineNumber:1,text:q?.content??"",tokens:[{startIndex:0,endIndex:q?.content.length??0,scopes:["normal"]}]}]),s=(0,ut.of)([{lineNumber:1,text:_e?.content??"",tokens:[{startIndex:0,endIndex:_e?.content.length??0,scopes:["normal"]}]}])}else o=R.oldFileId?this.highlightApi.getHighlightedFile(n,R.oldFileId,R.oldFilePath,!0):null,s=R.newFileId?this.highlightApi.getHighlightedFile(n,R.newFileId,R.newFilePath,!0):null;const U=e.fromPatch;if(U)if(U.oldFileIsSubmodule||U.newFileIsSubmodule){if(!o){const _e=U.hunks[0].lines.find(De=>De.oldLineNo>0);o=(0,ut.of)([{lineNumber:1,text:_e?.content??"",tokens:[{startIndex:0,endIndex:_e?.content.length??0,scopes:["normal"]}]}])}const q=U.hunks[0].lines.find(_e=>_e.newLineNo>0);d=(0,ut.of)([{lineNumber:1,text:q?.content??"",tokens:[{startIndex:0,endIndex:q?.content.length??0,scopes:["normal"]}]}])}else o=o??(U.oldFileId?this.highlightApi.getHighlightedFile(n,U.oldFileId,U.oldFilePath,!0):null),d=U.newFileId?this.highlightApi.getHighlightedFile(n,U.newFileId,U.newFilePath,!0):null;const F=e.mergePatch;return F&&(F.oldFileIsSubmodule||F.newFileIsSubmodule?m=(0,ut.of)(F.hunks[0].lines.find(q=>q.newLineNo>0)?.content??""):F.newFileId?m=this.repositoriesApi.getFile(n,F.newFileId):F.newFilePath&&(m=this.repositoriesApi.getMergeFile(n,e.fromCommitId,e.toCommitId,F.newFilePath))),[o??(0,ut.of)(null),s??o??(0,ut.of)(null),d??o??(0,ut.of)(null),m??(0,ut.of)(null)]}processConflicts(e){const n=new RegExp(Gv,"gm"),o=[];let s=pp(n,e);for(;s;){const[d,m]=s.indices[0],[R,U]=s.indices[1],[F,q]=s.indices[2]??[s.indices[1][1],s.indices[1][1]],[_e,De]=s.indices[3]??[s.indices[4][0],s.indices[4][0]],[Ke,ct]=s.indices[4];o.push({range:this.getConflictRange(e,d,m),ours:e.substring(F,q),theirs:e.substring(_e,De),decorations:[{range:this.getConflictRange(e,R,U),options:{isWholeLine:!0,minimap:{color:"#2F7366",position:Ti.editor.MinimapPosition.Inline},after:{content:" (Current Change)",inlineClassName:"conflict_current-header-text"},className:"conflict_current-header",stickiness:Ti.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(e,F,q),options:{isWholeLine:!0,minimap:{color:"#2F7366",position:Ti.editor.MinimapPosition.Inline},className:"conflict_current",stickiness:Ti.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(e,_e,De),options:{isWholeLine:!0,minimap:{color:"#2F628E",position:Ti.editor.MinimapPosition.Inline},className:"conflict_incoming",stickiness:Ti.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(e,Ke,ct),options:{isWholeLine:!0,minimap:{color:"#2F628E",position:Ti.editor.MinimapPosition.Inline},after:{content:" (Incoming Change)",inlineClassName:"conflict_incoming-header-text"},className:"conflict_incoming-header",stickiness:Ti.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]}),s=pp(n,e)}return o}getConflictRange(e,n,o){let s=1,d=1;for(let U=0;U<n;U++)d++,"\n"===e[U]&&(s++,d=1);let m=s,R=d;for(let U=n;U<o;U++)R++,"\n"===e[U]&&(m++,R=1);return new Ti.Range(s,d,m,R)}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.R0b),i.Y36(g.uw),i.Y36(Pe.yh),i.Y36(Qv.m),i.Y36(Dn.a),i.Y36(Yv.S))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-merge-view-even-quad"]],viewQuery:function(e,n){if(1&e&&(i.Gf(vN,7,oo.N7),i.Gf(wN,7,oo.N7),i.Gf(yN,7,oo.N7)),2&e){let o;i.iGM(o=i.CRH())&&(n.baseScrollContainer=o.first),i.iGM(o=i.CRH())&&(n.yoursScrollContainer=o.first),i.iGM(o=i.CRH())&&(n.theirsScrollContainer=o.first)}},inputs:{patch:"patch"},outputs:{closed:"closed"},features:[i.qOj],decls:67,vars:39,consts:[[4,"ngIf"],["vertical","","id","merge-view_vertical"],["id","merge-view_horizontal"],[1,"base-grid-cell"],[1,"grid-cell-header"],[1,"viewport",3,"itemSize"],["baseScrollContainer",""],[1,"base-code"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"arrow-forward-top"],[1,"arrow-downward-left"],[1,"theirs-grid-cell",3,"linked","sizeChanging"],["theirsCell",""],["type","button","mat-button","",3,"click"],["theirsScrollContainer",""],[1,"theirs-code"],[1,"arrow-downward-right"],[3,"sizeChanging"],[1,"yours-grid-cell"],["yoursScrollContainer",""],[1,"yours-code"],[1,"arrow-forward-bottom"],[1,"merge-grid-cell",3,"linked","sizeChanging"],["mergeCell",""],["type","button","mat-icon-button","","title","Previous Conflict",3,"click"],["type","button","mat-icon-button","","title","Next Conflict",3,"click"],["class","viewport",3,"options","model","formControl","onInit",4,"ngIf"],[1,"line",3,"ngClass"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"viewport",3,"options","model","formControl","onInit"]],template:function(e,n){if(1&e&&(i.YNc(0,SN,2,0,"main",0),i.ALo(1,"async"),i.YNc(2,xN,2,0,"main",0),i.ALo(3,"async"),i.YNc(4,LN,2,0,"main",0),i.ALo(5,"async"),i.TgZ(6,"main"),i.ALo(7,"async"),i.TgZ(8,"app-grid",1),i.TgZ(9,"app-grid-cell"),i.TgZ(10,"app-grid",2),i.TgZ(11,"app-grid-cell",3),i.TgZ(12,"div",4),i._uU(13," Base "),i.qZA(),i.TgZ(14,"cdk-virtual-scroll-viewport",5,6),i.TgZ(16,"code",7),i.TgZ(17,"ul"),i.YNc(18,EN,2,5,"li",8),i.ALo(19,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(20,"mat-icon",9),i._uU(21,"arrow_forward"),i.qZA(),i.TgZ(22,"mat-icon",10),i._uU(23,"arrow_downward"),i.qZA(),i.qZA(),i.TgZ(24,"app-grid-cell",11,12),i.NdJ("sizeChanging",function(){return n.gridResized()}),i.TgZ(26,"div",4),i._uU(27," Incoming "),i.TgZ(28,"button",13),i.NdJ("click",function(){return n.resolveMerge("from")}),i._uU(29,"Resolve"),i.qZA(),i.qZA(),i.TgZ(30,"cdk-virtual-scroll-viewport",5,14),i.TgZ(32,"code",15),i.TgZ(33,"ul"),i.YNc(34,PN,2,5,"li",8),i.ALo(35,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(36,"mat-icon",16),i._uU(37,"arrow_downward"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(38,"app-grid-cell",17),i.NdJ("sizeChanging",function(){return n.gridResized()}),i.TgZ(39,"app-grid",2),i.TgZ(40,"app-grid-cell",18),i.TgZ(41,"div",4),i._uU(42," Current "),i.TgZ(43,"button",13),i.NdJ("click",function(){return n.resolveMerge("to")}),i._uU(44,"Resolve"),i.qZA(),i.qZA(),i.TgZ(45,"cdk-virtual-scroll-viewport",5,19),i.TgZ(47,"code",20),i.TgZ(48,"ul"),i.YNc(49,TN,2,5,"li",8),i.ALo(50,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(51,"mat-icon",21),i._uU(52,"arrow_forward"),i.qZA(),i.qZA(),i.TgZ(53,"app-grid-cell",22,23),i.NdJ("sizeChanging",function(){return n.gridResized()}),i.TgZ(55,"div",4),i._uU(56," Merged "),i.TgZ(57,"button",13),i.NdJ("click",function(){return n.resolveMerge("merge")}),i._uU(58,"Resolve"),i.qZA(),i.TgZ(59,"button",24),i.NdJ("click",function(){return n.jumpToPreviousConflict()}),i.TgZ(60,"mat-icon"),i._uU(61,"arrow_upward"),i.qZA(),i.qZA(),i.TgZ(62,"button",25),i.NdJ("click",function(){return n.jumpToNextConflict()}),i.TgZ(63,"mat-icon"),i._uU(64,"arrow_downward"),i.qZA(),i.qZA(),i.qZA(),i.YNc(65,RN,1,4,"ngx-monaco-editor",26),i.ALo(66,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e){const o=i.MAs(25),s=i.MAs(54);i.Q6J("ngIf","loading"===i.lcZ(1,23,n.currentView)),i.xp6(2),i.Q6J("ngIf","binary-file"===i.lcZ(3,25,n.currentView)),i.xp6(2),i.Q6J("ngIf","error"===i.lcZ(5,27,n.currentView)),i.xp6(2),i.ekj("hidden","normal"!==i.lcZ(7,29,n.currentView)),i.xp6(8),i.Q6J("itemSize",19),i.xp6(3),i.Udp("margin-left",n.baseLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(19,31,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),i.xp6(6),i.Q6J("linked",s),i.xp6(6),i.Q6J("itemSize",19),i.xp6(3),i.Udp("margin-left",n.theirsLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(35,33,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),i.xp6(11),i.Q6J("itemSize",19),i.xp6(3),i.Udp("margin-left",n.yoursLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(50,35,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),i.xp6(4),i.Q6J("linked",o),i.xp6(12),i.Q6J("ngIf",i.lcZ(66,37,n.monacoModel))}},directives:[qt.O5,fo.M,Io.Y,oo.N7,oo.xd,oo.x0,Cn.Hw,yn.lW,qt.mk,qt.sg,Z.PG,oe.JJ,oe.oH],pipes:[qt.Ov,Jv.U],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}main[_ngcontent-%COMP%]{flex:1 0 auto}main.hidden[_ngcontent-%COMP%]{opacity:0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:block;white-space:pre;color:#d4d4d4;font-family:Consolas,"Courier New",monospace;font-size:14px;font-weight:normal;letter-spacing:0px;line-height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line{height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-void{background:#111}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-embedded, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .emphasis{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .strong{font-weight:bold}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .header{color:navy}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-numeric, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-enummember, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .invalid{color:#f44747}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-bold{font-weight:bold;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-heading{font-weight:bold;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-value{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-vendored-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-less, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-expression, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-cast, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-sizeof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-typeid, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-alignas, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-instanceof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-logical-python, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-import-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-wildcard-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-handlebars, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-return-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-namespace, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-scope-resolution, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-numeric-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-byte-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-boolean-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-string-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-uintptr-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-error-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-rune-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-modifier-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-variable-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-token-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-cast-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-new-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-math, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-dom, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-json, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-delete, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-using, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-operator, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-definition-variable-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-property-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-font-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585;right:calc(100% + 26px)}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]{height:calc(100% - 36px)}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]{height:36px;line-height:36px;padding:0 10px}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}main[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%;overflow-x:scroll}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%]{overflow:hidden}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%]{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px)}',"main[_ngcontent-%COMP%]   .arrow-forward-top[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-forward-bottom[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-downward-left[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .arrow-downward-right[_ngcontent-%COMP%]{color:#333}main[_ngcontent-%COMP%]   .arrow-forward-top[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:-12px}main[_ngcontent-%COMP%]   .arrow-forward-bottom[_ngcontent-%COMP%]{position:absolute;top:10px;right:-12px}main[_ngcontent-%COMP%]   .arrow-downward-left[_ngcontent-%COMP%]{position:absolute;bottom:-12px;right:10px}main[_ngcontent-%COMP%]   .arrow-downward-right[_ngcontent-%COMP%]{position:absolute;bottom:-12px;left:10px}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-bottom:12px}main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-top:12px}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-right:12px}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{padding-left:12px}"],changeDetection:0}),a})();const BN=["baseScrollContainer"],WN=["yoursScrollContainer"],VN=["theirsScrollContainer"];function HN(a,t){1&a&&(i.TgZ(0,"main"),i._uU(1,"Loading..."),i.qZA())}function zN(a,t){1&a&&(i.TgZ(0,"main"),i._uU(1,"Cannot load binary file."),i.qZA())}function UN(a,t){1&a&&(i.TgZ(0,"main"),i._uU(1,"Cannot load file."),i.qZA())}function jN(a,t){if(1&a&&(i.TgZ(0,"span",24),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",e.class),i.xp6(1),i.Oqu(e.text)}}function KN(a,t){if(1&a&&(i.ynx(0),i.TgZ(1,"span",22),i._uU(2),i.qZA(),i.YNc(3,jN,2,2,"span",23),i.ALo(4,"tokens"),i.BQk()),2&a){const e=i.oxw().$implicit;i.xp6(2),i.Oqu(null==e.baseLine?null:e.baseLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==e.baseLine?null:e.baseLine.tokens,e.baseLine.text))}}const v1=function(a,t){return[a,t]};function $N(a,t){if(1&a&&(i.TgZ(0,"li",21),i.YNc(1,KN,5,5,"ng-container",0),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",i.WLB(2,v1,"line-yours-"+e.yoursStatus,"line-theirs-"+e.theirsStatus)),i.xp6(1),i.Q6J("ngIf",e.baseLine)}}function ZN(a,t){if(1&a&&(i.TgZ(0,"span",24),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",e.class),i.xp6(1),i.Oqu(e.text)}}function GN(a,t){if(1&a&&(i.ynx(0),i.TgZ(1,"span",22),i._uU(2),i.qZA(),i.YNc(3,ZN,2,2,"span",23),i.ALo(4,"tokens"),i.BQk()),2&a){const e=i.oxw().$implicit;i.xp6(2),i.Oqu(null==e.theirsLine?null:e.theirsLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==e.theirsLine?null:e.theirsLine.tokens,e.theirsLine.text))}}function QN(a,t){if(1&a&&(i.TgZ(0,"li",21),i.YNc(1,GN,5,5,"ng-container",0),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",i.WLB(2,v1,"line-yours-"+e.yoursStatus,"line-theirs-"+e.theirsStatus)),i.xp6(1),i.Q6J("ngIf",e.theirsLine)}}function YN(a,t){if(1&a&&(i.TgZ(0,"span",24),i._uU(1),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",e.class),i.xp6(1),i.Oqu(e.text)}}function JN(a,t){if(1&a&&(i.ynx(0),i.TgZ(1,"span",22),i._uU(2),i.qZA(),i.YNc(3,YN,2,2,"span",23),i.ALo(4,"tokens"),i.BQk()),2&a){const e=i.oxw().$implicit;i.xp6(2),i.Oqu(null==e.yoursLine?null:e.yoursLine.lineNumber),i.xp6(1),i.Q6J("ngForOf",i.xi3(4,2,null==e.yoursLine?null:e.yoursLine.tokens,e.yoursLine.text))}}function XN(a,t){if(1&a&&(i.TgZ(0,"li",21),i.YNc(1,JN,5,5,"ng-container",0),i.qZA()),2&a){const e=t.$implicit;i.Q6J("ngClass",i.WLB(2,v1,"line-yours-"+e.yoursStatus,"line-theirs-"+e.theirsStatus)),i.xp6(1),i.Q6J("ngIf",e.yoursLine)}}const qN=function(){return{theme:"vs-dark"}};function eI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"ngx-monaco-editor",25),i.NdJ("onInit",function(o){return i.CHM(e),i.oxw().monacoInit(o)}),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw();i.Q6J("options",i.DdM(3,qN))("model",e)("formControl",n.monacoControl.ng)}}let tI=(()=>{class a extends((0,dn.j)(Ln.A)){constructor(e,n,o,s,d,m){super(),this.zone=e,this.dialog=n,this.store=o,this.highlightApi=s,this.repositoriesApi=d,this.diffService=m,this.closed=new i.vpe,this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$=new pn.X([]),this.monacoModel=new pn.X({value:"Loading..."}),this.monacoEditor=new pn.X(null),this.monacoControl=new Xt.rV("Loading..."),this.monacoDecorationIds=[],this.monacoCodeLensProviders=[],this.currentView=new pn.X("loading"),this.conflicts=[],this.currentConflictIndex=-1,this.monacoInit=R=>{this.monacoEditor.next(R)},this.gridResized=()=>{this.baseScrollContainer?.checkViewportSize(),this.yoursScrollContainer?.checkViewportSize(),this.theirsScrollContainer?.checkViewportSize(),this.monacoEditor.value?.layout()},this.trackByMergeDiffLine=(R,U)=>R,this.jumpToNextConflict=()=>{this.currentConflictIndex=this.currentConflictIndex+1<this.conflicts.length?this.currentConflictIndex+1:0,this.jumpToConflict()},this.jumpToPreviousConflict=()=>{this.currentConflictIndex=this.currentConflictIndex-1>=0?this.currentConflictIndex-1:this.conflicts.length-1,this.jumpToConflict()}}ngOnInit(){this.destroyed$.subscribe(()=>{this.monacoCodeLensProviders.forEach(e=>{e.dispose()}),this.monacoCodeLensProviders=[]}),(0,st.aj)([this.monacoEditor.pipe((0,Ao.h)(Qo.$K)),this.monacoModel]).pipe((0,Se.R)(this.destroyed$)).subscribe(([e,n])=>{this.monacoControl.setValue(n.value),this.monacoCodeLensProviders.forEach(s=>{s.dispose()}),this.monacoCodeLensProviders=[];const o=window.monaco.languages;o.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0}),o.getLanguages().forEach(s=>{this.monacoCodeLensProviders.push(o.registerCodeLensProvider(s.id,{resolveCodeLens:(d,m,R)=>m,provideCodeLenses:(d,m)=>{this.conflicts=this.processConflicts(d.getValue());const R=e.getPosition();return this.currentConflictIndex=R?this.conflicts.findIndex(F=>F.range.startLineNumber<=R.lineNumber&&F.range.endLineNumber>=R.lineNumber):-1,this.monacoDecorationIds=e.deltaDecorations(this.monacoDecorationIds,this.conflicts.flatMap(F=>F.decorations))??[],{lenses:this.conflicts.flatMap(F=>[{range:new Ti.Range(F.range.startLineNumber,1,F.range.startLineNumber+1,1),command:{id:e.addCommand(0,()=>{e.executeEdits(null,[{range:F.range,text:F.ours}])}),title:"Use Current"}},{range:new Ti.Range(F.range.startLineNumber,1,F.range.startLineNumber+1,1),command:{id:e.addCommand(0,()=>{e.executeEdits(null,[{range:F.range,text:F.theirs}])}),title:"Use Incoming"}},{range:new Ti.Range(F.range.startLineNumber,1,F.range.startLineNumber+1,1),command:{id:e.addCommand(0,()=>{e.executeEdits(null,[{range:F.range,text:`${F.ours}\n${F.theirs}`}])}),title:"Use Both"}}]),dispose:()=>{}}}}))})}),this.patch.pipe((0,$t.b)(()=>{this.currentView.next("loading")}),(0,Ne.w)(e=>e?(0,ti.D)(this.getLines(e)).pipe((0,Se.R)(this.currentView.pipe((0,$v.T)(1),(0,Ao.h)(n=>"loading"===n))),(0,nt.U)(n=>[e,...n]),(0,Vt.K)(n=>Ut.OZ.matches(n)?(this.currentView.next("binary-file"),(0,ut.of)(null)):Ut.hK.matches(n)?(this.currentView.next("error"),(0,ut.of)(null)):(0,Et._)(n))):(0,ut.of)(null)),(0,Se.R)(this.destroyed$)).subscribe(e=>{if(e){const[n,o,s,d,m]=e;this.monacoModel.next(m?{value:m,uri:Ti.Uri.file(`file://${n.mergePatch?.newFilePath??"a.txt"}`)}:{value:""}),this.baseLineNumberMargin=this.diffService.calculateMargin(o?.length.toString().length??1,!0),this.yoursLineNumberMargin=this.diffService.calculateMargin(s?.length.toString().length??1,!0),this.theirsLineNumberMargin=this.diffService.calculateMargin(d?.length.toString().length??1,!0),this.diffService.calculateMergeLines(o??[],s??[],d??[],n.toPatch?.hunks??[],n.fromPatch?.hunks??[]).pipe((0,Se.R)(this.destroyed$)).subscribe(R=>{this.lines$.next(R)}),this.currentView.next("normal")}else this.baseLineNumberMargin=0,this.yoursLineNumberMargin=0,this.theirsLineNumberMargin=0,this.lines$.next([]),this.monacoModel.next({value:"Error!"});this.baseScrollContainer?.scrollTo({top:0,left:0}),this.yoursScrollContainer?.scrollTo({top:0,left:0}),this.theirsScrollContainer?.scrollTo({top:0,left:0}),this.monacoEditor.value?.setScrollTop(0),this.monacoEditor.value?.setScrollLeft(0),this.gridResized()}),this.zone.runOutsideAngular(()=>{const e=[this.baseScrollContainer,this.yoursScrollContainer,this.theirsScrollContainer],n=[!1,!1,!1];e.forEach((o,s)=>{o.elementScrolled().pipe((0,Ao.h)(()=>n.every((d,m)=>!d||m===s)),(0,$t.b)(()=>{n[s]=!0,e.forEach((d,m)=>{m!==s&&d.scrollTo({left:o.measureScrollOffset("left"),top:o.measureScrollOffset("top")})})}),(0,So.b)(100),(0,Se.R)(this.destroyed$)).subscribe(()=>{this.gridResized(),n[s]=!1})}),setTimeout(()=>{this.gridResized()},100)})}resolveMerge(e){this.patch.pipe((0,vt.q)(1)).subscribe(n=>{const o=n?.repositoryPath;if(!o)throw new Error("Cannot update merge if no repository is selected");const s=n.mergePatch?.newFilePath;if(!s)throw new Error("Couldn't find file path");let d;switch(e){case"from":d=n.fromPatch?.newFileId?this.repositoriesApi.getFile(o,n.fromPatch?.newFileId):(0,ut.of)(null);break;case"to":d=n.toPatch?.newFileId?this.repositoriesApi.getFile(o,n.toPatch?.newFileId):(0,ut.of)(null);break;case"merge":d=this.conflicts.length>0?this.dialog.open(Zv).afterClosed().pipe((0,Ne.w)(R=>R?(0,ut.of)(this.monacoControl.value):lt.E)):(0,ut.of)(this.monacoControl.value);break;default:throw new Error(`Unrecognized value ${e}`)}d.subscribe(m=>{const R=this.store.selectSnapshot(rn.E.selectedCommitId);this.repositoriesApi.updateMerge(o,n.fromCommitId,n.toCommitId,s,m??"","head"===R).subscribe(()=>{this.store.dispatch(new _n.Vu(o)),this.closed.next()})})})}jumpToConflict(){const e=this.conflicts[this.currentConflictIndex];this.monacoEditor.value?.revealRangeAtTop(e.range);const n=e.theirs.split("\n"),o=e.ours.split("\n"),s=Math.max(n.length,o.length),d=this.lines$.value,m=R=>{if(R+s>d.length)return!1;const U=d.slice(R).map(q=>q.theirsLine?.text).filter(Qo.$K);for(let q=0;q<n.length;q++)if(U[q]!==n[q])return!1;const F=d.slice(R).map(q=>q.yoursLine?.text).filter(Qo.$K);for(let q=0;q<o.length;q++)if(F[q]!==o[q])return!1;return!0};for(let R=0;R<d.length;R++)if(m(R)){this.baseScrollContainer.scrollToIndex(R);break}}getLines(e){const n=e.repositoryPath;let o=null,s=null,d=null,m=null;const R=e.toPatch;if(R)if(R.oldFileIsSubmodule||R.newFileIsSubmodule){const q=R.hunks[0].lines.find(De=>De.oldLineNo>0),_e=R.hunks[0].lines.find(De=>De.newLineNo>0);o=(0,ut.of)([{lineNumber:1,text:q?.content??"",tokens:[{startIndex:0,endIndex:q?.content.length??0,scopes:["normal"]}]}]),s=(0,ut.of)([{lineNumber:1,text:_e?.content??"",tokens:[{startIndex:0,endIndex:_e?.content.length??0,scopes:["normal"]}]}])}else o=R.oldFileId?this.highlightApi.getHighlightedFile(n,R.oldFileId,R.oldFilePath,!0):null,s=R.newFileId?this.highlightApi.getHighlightedFile(n,R.newFileId,R.newFilePath,!0):null;const U=e.fromPatch;if(U)if(U.oldFileIsSubmodule||U.newFileIsSubmodule){if(!o){const _e=U.hunks[0].lines.find(De=>De.oldLineNo>0);o=(0,ut.of)([{lineNumber:1,text:_e?.content??"",tokens:[{startIndex:0,endIndex:_e?.content.length??0,scopes:["normal"]}]}])}const q=U.hunks[0].lines.find(_e=>_e.newLineNo>0);d=(0,ut.of)([{lineNumber:1,text:q?.content??"",tokens:[{startIndex:0,endIndex:q?.content.length??0,scopes:["normal"]}]}])}else o=o??(U.oldFileId?this.highlightApi.getHighlightedFile(n,U.oldFileId,U.oldFilePath,!0):null),d=U.newFileId?this.highlightApi.getHighlightedFile(n,U.newFileId,U.newFilePath,!0):null;const F=e.mergePatch;return F&&(F.oldFileIsSubmodule||F.newFileIsSubmodule?m=(0,ut.of)(F.hunks[0].lines.find(q=>q.newLineNo>0)?.content??""):F.newFileId?m=this.repositoriesApi.getFile(n,F.newFileId):F.newFilePath&&(m=this.repositoriesApi.getMergeFile(n,e.fromCommitId,e.toCommitId,F.newFilePath))),[o??(0,ut.of)(null),s??o??(0,ut.of)(null),d??o??(0,ut.of)(null),m??(0,ut.of)(null)]}processConflicts(e){const n=new RegExp(Gv,"gm"),o=[];let s=pp(n,e);for(;s;){const[d,m]=s.indices[0],[R,U]=s.indices[1],[F,q]=s.indices[2]??[s.indices[1][1],s.indices[1][1]],[_e,De]=s.indices[3]??[s.indices[4][0],s.indices[4][0]],[Ke,ct]=s.indices[4];o.push({range:this.getConflictRange(e,d,m),ours:e.substring(F,q),theirs:e.substring(_e,De),decorations:[{range:this.getConflictRange(e,R,U),options:{isWholeLine:!0,minimap:{color:"#2F7366",position:Ti.editor.MinimapPosition.Inline},after:{content:" (Current Change)",inlineClassName:"conflict_current-header-text"},className:"conflict_current-header",stickiness:Ti.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}},{range:this.getConflictRange(e,F,q),options:{isWholeLine:!0,minimap:{color:"#2F7366",position:Ti.editor.MinimapPosition.Inline},className:"conflict_current",stickiness:Ti.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(e,_e,De),options:{isWholeLine:!0,minimap:{color:"#2F628E",position:Ti.editor.MinimapPosition.Inline},className:"conflict_incoming",stickiness:Ti.editor.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}},{range:this.getConflictRange(e,Ke,ct),options:{isWholeLine:!0,minimap:{color:"#2F628E",position:Ti.editor.MinimapPosition.Inline},after:{content:" (Incoming Change)",inlineClassName:"conflict_incoming-header-text"},className:"conflict_incoming-header",stickiness:Ti.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]}),s=pp(n,e)}return o}getConflictRange(e,n,o){let s=1,d=1;for(let U=0;U<n;U++)d++,"\n"===e[U]&&(s++,d=1);let m=s,R=d;for(let U=n;U<o;U++)R++,"\n"===e[U]&&(m++,R=1);return new Ti.Range(s,d,m,R)}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.R0b),i.Y36(g.uw),i.Y36(Pe.yh),i.Y36(Qv.m),i.Y36(Dn.a),i.Y36(Yv.S))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-merge-view-big-result"]],viewQuery:function(e,n){if(1&e&&(i.Gf(BN,7,oo.N7),i.Gf(WN,7,oo.N7),i.Gf(VN,7,oo.N7)),2&e){let o;i.iGM(o=i.CRH())&&(n.baseScrollContainer=o.first),i.iGM(o=i.CRH())&&(n.yoursScrollContainer=o.first),i.iGM(o=i.CRH())&&(n.theirsScrollContainer=o.first)}},inputs:{patch:"patch"},outputs:{closed:"closed"},features:[i.qOj],decls:57,vars:37,consts:[[4,"ngIf"],["vertical","","id","merge-view_vertical"],["id","merge-view_horizontal_triple"],[1,"base-grid-cell"],[1,"grid-cell-header"],[1,"viewport",3,"itemSize"],["baseScrollContainer",""],[1,"base-code"],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"theirs-grid-cell",3,"sizeChanging"],["type","button","mat-button","",3,"click"],["theirsScrollContainer",""],[1,"theirs-code"],[1,"yours-grid-cell",3,"sizeChanging"],["yoursScrollContainer",""],[1,"yours-code"],[3,"sizeChanging"],[1,"merge-grid-cell"],["type","button","mat-icon-button","","title","Previous Conflict",3,"click"],["type","button","mat-icon-button","","title","Next Conflict",3,"click"],["class","viewport",3,"options","model","formControl","onInit",4,"ngIf"],[1,"line",3,"ngClass"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"viewport",3,"options","model","formControl","onInit"]],template:function(e,n){1&e&&(i.YNc(0,HN,2,0,"main",0),i.ALo(1,"async"),i.YNc(2,zN,2,0,"main",0),i.ALo(3,"async"),i.YNc(4,UN,2,0,"main",0),i.ALo(5,"async"),i.TgZ(6,"main"),i.ALo(7,"async"),i.TgZ(8,"app-grid",1),i.TgZ(9,"app-grid-cell"),i.TgZ(10,"app-grid",2),i.TgZ(11,"app-grid-cell",3),i.TgZ(12,"div",4),i._uU(13," Base "),i.qZA(),i.TgZ(14,"cdk-virtual-scroll-viewport",5,6),i.TgZ(16,"code",7),i.TgZ(17,"ul"),i.YNc(18,$N,2,5,"li",8),i.ALo(19,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(20,"app-grid-cell",9),i.NdJ("sizeChanging",function(){return n.gridResized()}),i.TgZ(21,"div",4),i._uU(22," Incoming "),i.TgZ(23,"button",10),i.NdJ("click",function(){return n.resolveMerge("from")}),i._uU(24,"Resolve"),i.qZA(),i.qZA(),i.TgZ(25,"cdk-virtual-scroll-viewport",5,11),i.TgZ(27,"code",12),i.TgZ(28,"ul"),i.YNc(29,QN,2,5,"li",8),i.ALo(30,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"app-grid-cell",13),i.NdJ("sizeChanging",function(){return n.gridResized()}),i.TgZ(32,"div",4),i._uU(33," Current "),i.TgZ(34,"button",10),i.NdJ("click",function(){return n.resolveMerge("to")}),i._uU(35,"Resolve"),i.qZA(),i.qZA(),i.TgZ(36,"cdk-virtual-scroll-viewport",5,14),i.TgZ(38,"code",15),i.TgZ(39,"ul"),i.YNc(40,XN,2,5,"li",8),i.ALo(41,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(42,"app-grid-cell",16),i.NdJ("sizeChanging",function(){return n.gridResized()}),i.TgZ(43,"app-grid"),i.TgZ(44,"app-grid-cell",17),i.TgZ(45,"div",4),i._uU(46," Merged "),i.TgZ(47,"button",10),i.NdJ("click",function(){return n.resolveMerge("merge")}),i._uU(48,"Resolve"),i.qZA(),i.TgZ(49,"button",18),i.NdJ("click",function(){return n.jumpToPreviousConflict()}),i.TgZ(50,"mat-icon"),i._uU(51,"arrow_upward"),i.qZA(),i.qZA(),i.TgZ(52,"button",19),i.NdJ("click",function(){return n.jumpToNextConflict()}),i.TgZ(53,"mat-icon"),i._uU(54,"arrow_downward"),i.qZA(),i.qZA(),i.qZA(),i.YNc(55,eI,1,4,"ngx-monaco-editor",20),i.ALo(56,"async"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.Q6J("ngIf","loading"===i.lcZ(1,21,n.currentView)),i.xp6(2),i.Q6J("ngIf","binary-file"===i.lcZ(3,23,n.currentView)),i.xp6(2),i.Q6J("ngIf","error"===i.lcZ(5,25,n.currentView)),i.xp6(2),i.ekj("hidden","normal"!==i.lcZ(7,27,n.currentView)),i.xp6(8),i.Q6J("itemSize",19),i.xp6(3),i.Udp("margin-left",n.baseLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(19,29,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),i.xp6(7),i.Q6J("itemSize",19),i.xp6(3),i.Udp("margin-left",n.theirsLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(30,31,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),i.xp6(7),i.Q6J("itemSize",19),i.xp6(3),i.Udp("margin-left",n.yoursLineNumberMargin+26,"px"),i.xp6(1),i.Q6J("cdkVirtualForOf",i.lcZ(41,33,n.lines$))("cdkVirtualForTrackBy",n.trackByMergeDiffLine),i.xp6(15),i.Q6J("ngIf",i.lcZ(56,35,n.monacoModel)))},directives:[qt.O5,fo.M,Io.Y,oo.N7,oo.xd,oo.x0,yn.lW,Cn.Hw,qt.mk,qt.sg,Z.PG,oe.JJ,oe.oH],pipes:[qt.Ov,Jv.U],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}main[_ngcontent-%COMP%]{flex:1 0 auto}main.hidden[_ngcontent-%COMP%]{opacity:0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:block;white-space:pre;color:#d4d4d4;font-family:Consolas,"Courier New",monospace;font-size:14px;font-weight:normal;letter-spacing:0px;line-height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line{height:19px}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-added{background:#1f2c19}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-removed{background:#501515}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .line.line-void{background:#111}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-added{background-color:#1d572c}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .diff-removed{background-color:#803030}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .search-result{background-color:#a14e1b}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-embedded, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-groovy-embedded{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .emphasis{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .strong{font-weight:bold}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .header{color:navy}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-numeric, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-number, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-enummember, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-plus-exponent, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-minus-exponent{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-regexp{color:#646695}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-tag-css{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-class-mixin-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-id-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-parent-selector-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-class-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-pseudo-element-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-css-less .entity-other-attribute-name-id, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-attribute-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute-name-scss{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .invalid{color:#f44747}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-underline{text-decoration:underline}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-bold{font-weight:bold;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-heading{font-weight:bold;color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-italic{font-style:italic}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inserted{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-deleted{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-changed{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-quote-begin-markdown{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-list-begin-markdown{color:#6796e6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .markup-inline-raw{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-tag{color:gray}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-preprocessor-numeric{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-structure-dictionary-key-python{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-diff-header{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-noexcept{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator-custom-literal-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-tag{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-value{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .string-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-begin, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-template-expression-end, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-template-expression{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-vendored-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type-property-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-css, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-scss, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-other-less, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-coffee-embedded{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-expression, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-cast, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-sizeof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-typeid, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-alignas, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-instanceof, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-logical-python, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-wordlike{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-unit{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-begin-php, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-section-embedded-end-php{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function-git-rebase{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-sha-git-rebase{color:#b5cea8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-import-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-wildcard-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-modifier-package-java{color:#d4d4d4}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-function, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-handlebars, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-powershell .variable-other-member{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-return-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-namespace, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-attribute, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-scope-resolution, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-class, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-numeric-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-byte-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-boolean-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-string-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-uintptr-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-error-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-rune-go, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-modifier-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-variable-cs, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-token-java, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-annotation-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-parameters-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-generic-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-object-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-array-groovy, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .storage-type-primitive-groovy{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-cast-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-type-new-expr, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-math, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-dom, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-json, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-other-inherited-class{color:#4ec9b0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .source-cpp .keyword-operator-new, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-delete, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-using, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-other-operator, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-operator{color:#c586c0}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-definition-variable-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-variable, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-variable{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .meta-object-literal-key{color:#9cdcfe}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-property-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-font-name, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media-type, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-media, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-color-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-rgb-value, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-constant-color{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-group-assertion-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-begin-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-character-set-end-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-negation-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .support-other-parenthesis-regexp{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-set-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-other-character-class-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-set-regexp{color:#d16969}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-or-regexp, main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-control-anchor-regexp{color:#dcdcaa}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .keyword-operator-quantifier-regexp{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .constant-character-escape{color:#d7ba7d}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .entity-name-label{color:#c8c8c8}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-string{color:#ce9178}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .variable-language-this{color:#569cd6}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]     .punctuation-definition-comment{color:#6a9955}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}main[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;color:#858585;right:calc(100% + 26px)}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   code.base-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#501515}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.yours-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-yours-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-added[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-removed[_ngcontent-%COMP%]{background:#111}main[_ngcontent-%COMP%]   code.theirs-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-theirs-replaced[_ngcontent-%COMP%]{background:#1f2c19}main[_ngcontent-%COMP%]   ngx-monaco-editor[_ngcontent-%COMP%]{height:calc(100% - 36px)}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]{height:36px;line-height:36px;padding:0 10px}main[_ngcontent-%COMP%]   .grid-cell-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}main[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%;overflow-x:scroll}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .yours-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content, main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%]{overflow:hidden}main[_ngcontent-%COMP%]   #merge-view_vertical[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%]{overflow:visible}main[_ngcontent-%COMP%]   #merge-view_horizontal[_ngcontent-%COMP%] >app-grid-cell>.grid-cell-wrapper>.grid-cell-content{overflow:visible}main[_ngcontent-%COMP%]   .merge-grid-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}main[_ngcontent-%COMP%]   .base-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px);width:100%}main[_ngcontent-%COMP%]   .theirs-grid-cell[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{height:calc(100% - 36px)}'],changeDetection:0}),a})();function nI(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"app-merge-view-even-quad",6),i.NdJ("closed",function(){return i.CHM(e),i.oxw().closed.next()}),i.qZA(),i.BQk()}if(2&a){const e=i.oxw();i.xp6(1),i.Q6J("patch",e.patch)}}function iI(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"app-merge-view-big-result",6),i.NdJ("closed",function(){return i.CHM(e),i.oxw().closed.next()}),i.qZA(),i.BQk()}if(2&a){const e=i.oxw();i.xp6(1),i.Q6J("patch",e.patch)}}let oI=(()=>{class a extends((0,dn.j)(Ln.A)){constructor(e){super(),this.store=e,this.closed=new i.vpe}changeView(e){this.store.dispatch(new Ve.QW(e))}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Pe.yh))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-merge-view"]],inputs:{patch:"patch"},outputs:{closed:"closed"},features:[i.qOj],decls:21,vars:12,consts:[[1,"icons"],[3,"value","change"],["value","big-result","title","Triple stack View"],["value","even-quad","title","Quad View"],[1,"close-button",3,"click"],[4,"ngIf"],[3,"patch","closed"]],template:function(e,n){if(1&e&&(i.TgZ(0,"header"),i.TgZ(1,"h4"),i._uU(2,"Editing "),i.TgZ(3,"strong"),i._uU(4),i.ALo(5,"async"),i.qZA(),i.qZA(),i.TgZ(6,"div",0),i.TgZ(7,"mat-button-toggle-group",1),i.NdJ("change",function(s){return n.changeView(s.value)}),i.ALo(8,"async"),i.TgZ(9,"mat-button-toggle",2),i.TgZ(10,"mat-icon"),i._uU(11,"view_quilt"),i.qZA(),i.qZA(),i.TgZ(12,"mat-button-toggle",3),i.TgZ(13,"mat-icon"),i._uU(14,"grid_view"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"mat-icon",4),i.NdJ("click",function(){return n.closed.next()}),i._uU(16,"close"),i.qZA(),i.qZA(),i.qZA(),i.YNc(17,nI,2,1,"ng-container",5),i.ALo(18,"async"),i.YNc(19,iI,2,1,"ng-container",5),i.ALo(20,"async")),2&e){let o;i.xp6(4),i.Oqu(null==(o=i.lcZ(5,4,n.patch))||null==o.mergePatch?null:o.mergePatch.newFilePath),i.xp6(3),i.Q6J("value",i.lcZ(8,6,n.mergeView)),i.xp6(10),i.Q6J("ngIf","even-quad"===i.lcZ(18,8,n.mergeView)),i.xp6(2),i.Q6J("ngIf","big-result"===i.lcZ(20,10,n.mergeView))}},directives:[N.A9,N.Yi,Cn.Hw,qt.O5,FN,tI],pipes:[qt.Ov],styles:["[_nghost-%COMP%]{position:absolute;display:flex;flex-direction:column;height:100%;width:100%;background:#1e1e1e}header[_ngcontent-%COMP%]{display:flex;flex:0 1 auto;justify-content:space-between;padding:5px 0}header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;line-height:45px}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]     .mat-button-toggle-appearance-standard>.mat-button-toggle-button>.mat-button-toggle-label-content{padding:0 6px;line-height:36px;font-size:0}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{margin-right:10px}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{line-height:43px;font-size:0}header[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{cursor:pointer;height:45px;line-height:45px}"],changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(xi.$.mergeView)],a.prototype,"mergeView",void 0),a})();var w1=p(72352),y1=p(4893);function sI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",14),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).selectFile("unstaged",s)}),i.ALo(1,"async"),i.TgZ(2,"mat-icon",15),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",16),i.TgZ(5,"div",17),i.TgZ(6,"button",18),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).stageFile(d),o.stopPropagation()}),i._uU(7,"Stage"),i.qZA(),i.TgZ(8,"button",19),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).discardFile(d),o.stopPropagation()}),i._uU(9,"Discard"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(2);i.ekj("selected",n.isPatchSelected(e,i.lcZ(1,5,n.selectedUnstagedFile))),i.xp6(2),i.Q6J("ngClass",n.getPatchIconColorClass(e)),i.xp6(1),i.Oqu(n.getPatchIcon(e)),i.xp6(1),i.Q6J("path",n.getPatchPath(e))}}function rI(a,t){if(1&a&&(i.TgZ(0,"ul",12),i.YNc(1,sI,10,7,"li",13),i.qZA()),2&a){const e=t.ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngForOf",null==e?null:e.patches)("ngForTrackBy",n.trackByPatch)}}function aI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",14),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).selectFile("staged",s)}),i.ALo(1,"async"),i.TgZ(2,"mat-icon",15),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",16),i.TgZ(5,"div",17),i.TgZ(6,"button",20),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(2).unstageFile(d),o.stopPropagation()}),i._uU(7,"Unstage"),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(2);i.ekj("selected",n.isPatchSelected(e,i.lcZ(1,5,n.selectedStagedFile))),i.xp6(2),i.Q6J("ngClass",n.getPatchIconColorClass(e)),i.xp6(1),i.Oqu(n.getPatchIcon(e)),i.xp6(1),i.Q6J("path",n.getPatchPath(e))}}function lI(a,t){if(1&a&&(i.TgZ(0,"ul",12),i.YNc(1,aI,8,7,"li",13),i.qZA()),2&a){const e=t.ngIf,n=i.oxw();i.xp6(1),i.Q6J("ngForOf",null==e?null:e.patches)("ngForTrackBy",n.trackByPatch)}}let cI=(()=>{class a extends((0,dn.j)(Ln.A)){constructor(e,n,o){super(),this.store=e,this.commitsApi=n,this.commitDetailService=o,this.commitMessageControl=new Xt.rV,this.commitButtonDisabled=(0,st.aj)([this.stagedChanges,this.selectedRepositoryCommitMessage]).pipe((0,nt.U)(([s,d])=>!d||!s||0===s.patches.length))}ngOnInit(){this.selectedRepositoryCommitMessage.pipe((0,Se.R)(this.destroyed$)).subscribe(e=>{this.commitMessageControl.setValue(e,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,So.b)(200),(0,Se.R)(this.destroyed$)).subscribe(e=>{const n=this.store.selectSnapshot(rn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.$h(n,e))})}getPatchPath(e){return this.commitDetailService.getPatchPath(e)}getPatchIcon(e){return this.commitDetailService.getPatchIcon(e)}getPatchIconColorClass(e){return this.commitDetailService.getPatchIconColorClass(e)}trackByPatch(e,n){return`${n.oldFilePath}|${n.newFilePath}|${n.status}`}isPatchSelected(e,n){return n?.oldFilePath===e.oldFilePath&&n?.newFilePath===e.newFilePath}selectFile(e,n){(0,st.aj)([this.repositoryPath,this.selectedStagedFile,this.selectedUnstagedFile]).pipe((0,vt.q)(1)).subscribe(([o,s,d])=>{null!==o&&this.store.dispatch(new _n.gt(o,"staged"===e&&n.oldFilePath===s?.oldFilePath&&n.newFilePath===s.newFilePath||"unstaged"===e&&n.oldFilePath===d?.oldFilePath&&n.newFilePath===d.newFilePath?null:{area:e,oldFilePath:n.oldFilePath,newFilePath:n.newFilePath}))})}discardAll(){const e=this.store.selectSnapshot(rn.E.selectedRepositoryPath);e&&this.store.dispatch(new _n.BE(e))}stageAll(){const e=this.store.selectSnapshot(rn.E.selectedRepositoryPath);e&&this.store.dispatch(new _n.mN(e))}unstageAll(){const e=this.store.selectSnapshot(rn.E.selectedRepositoryPath);e&&this.store.dispatch(new _n.U6(e))}discardFile(e){const n=this.store.selectSnapshot(rn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.kD(n,[e]))}stageFile(e){const n=this.store.selectSnapshot(rn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.mP(n,[e]))}unstageFile(e){const n=this.store.selectSnapshot(rn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.Br(n,[e]))}commitChanges(){(0,st.aj)([this.repositoryPath,this.selectedProfile]).pipe((0,vt.q)(1)).subscribe(([e,n])=>{const o=[];e||o.push("Cannot commit if no repository is selected"),n||o.push("Cannot commit if no profile is selected");const s=this.commitMessageControl.value;if(s||o.push("Cannot commit with empty commit message"),o.length>0)throw this.store.dispatch(o.map(R=>new kt.NN("error",R))),new Error(o.join("\n\n"));const d=e;this.commitsApi.putCommit(d,n.name,n.email,s).subscribe(R=>{this.store.dispatch([new _n.Vu(d),new _n.jQ(d,R),new _n.BK(d,R),new _n.$h(d,null)])},R=>{Ut.fD.matches(R)&&this.store.dispatch(new kt.NN("error",R.message)),this.store.dispatch(new kt.NN("unhandled",`${R}`))})})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Pe.yh),i.Y36(Yt.T),i.Y36(w1.d))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-new-commit"]],features:[i.qOj],decls:24,vars:12,consts:[[1,"unstaged"],[1,"header-buttons"],["type","button","mat-button","","title","Stage all changes",3,"click"],["type","button","mat-button","","color","warn","title","Discard all changes",3,"click"],[1,"item-list-container",3,"itemSize"],["class","file-list",4,"ngIf"],[1,"staged"],["type","button","mat-button","","title","Unstage all changes",3,"click"],[1,"commit"],[1,"description"],["matInput","","placeholder","Enter a description...",3,"formControl"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],[1,"file-list"],[3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"],["inline","",3,"ngClass"],[1,"name",3,"path"],[1,"buttons"],["type","button","mat-flat-button","","color","primary","title","Stage changes",1,"staging-btn",3,"click"],["type","button","mat-flat-button","","color","warn","title","Discard changes",1,"discard-btn",3,"click"],["type","button","mat-flat-button","","color","warn","title","Unstage changes",1,"staging-btn",3,"click"]],template:function(e,n){1&e&&(i.TgZ(0,"mat-card",0),i.TgZ(1,"div",1),i.TgZ(2,"button",2),i.NdJ("click",function(){return n.stageAll()}),i._uU(3,"Stage All"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return n.discardAll()}),i._uU(5,"Discard All"),i.qZA(),i.qZA(),i.TgZ(6,"cdk-virtual-scroll-viewport",4),i.YNc(7,rI,2,2,"ul",5),i.ALo(8,"async"),i.qZA(),i.qZA(),i.TgZ(9,"mat-card",6),i.TgZ(10,"div",1),i.TgZ(11,"button",7),i.NdJ("click",function(){return n.unstageAll()}),i._uU(12,"Unstage All"),i.qZA(),i.qZA(),i.TgZ(13,"cdk-virtual-scroll-viewport",4),i.YNc(14,lI,2,2,"ul",5),i.ALo(15,"async"),i.qZA(),i.qZA(),i.TgZ(16,"mat-card",8),i.TgZ(17,"mat-form-field",9),i.TgZ(18,"mat-label"),i._uU(19,"Commit Message"),i.qZA(),i._UZ(20,"textarea",10),i.qZA(),i.TgZ(21,"button",11),i.NdJ("click",function(){return n.commitChanges()}),i.ALo(22,"async"),i._uU(23,"Commit changes"),i.qZA(),i.qZA()),2&e&&(i.xp6(6),i.Q6J("itemSize",22),i.xp6(1),i.Q6J("ngIf",i.lcZ(8,6,n.unstagedChanges)),i.xp6(6),i.Q6J("itemSize",22),i.xp6(1),i.Q6J("ngIf",i.lcZ(15,8,n.stagedChanges)),i.xp6(6),i.Q6J("formControl",n.commitMessageControl.ng),i.xp6(1),i.Q6J("disabled",i.lcZ(22,10,n.commitButtonDisabled)))},directives:[B.a8,yn.lW,oo.N7,oo.xd,qt.O5,W.KE,W.hX,M.Nt,oe.Fj,oe.JJ,oe.oH,qt.sg,Cn.Hw,qt.mk,y1.j],pipes:[qt.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{flex:1 1 auto;margin:10px 10px 0;white-space:nowrap;overflow:auto;min-height:70px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px}.staged[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.staged[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#ef5350}.staged[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.staged[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.staged[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%]{color:#7c8bff}.staged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:calc(100% - 41px);contain:content}.staged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper, .unstaged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.staged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer, .unstaged[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%]{opacity:1}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:16px;opacity:0;transition:.2s ease-in-out opacity}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px;line-height:22px;margin-left:5px;color:#fff;font-weight:500}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .staging-btn[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .staging-btn[_ngcontent-%COMP%]{background-color:#607d8bd9}.staged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .discard-btn[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .discard-btn[_ngcontent-%COMP%]{background-color:#f44336d9}.unstaged[_ngcontent-%COMP%]{margin-top:0}.commit[_ngcontent-%COMP%]{flex:0 0 auto;margin:10px}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px;max-height:100px}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryPath)],a.prototype,"repositoryPath",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedStagedChanges)],a.prototype,"stagedChanges",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedUnstagedChanges)],a.prototype,"unstagedChanges",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedFileForArea("staged"))],a.prototype,"selectedStagedFile",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedFileForArea("unstaged"))],a.prototype,"selectedUnstagedFile",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryCommitMessage)],a.prototype,"selectedRepositoryCommitMessage",void 0),(0,et.gn)([(0,Pe.Ph)(xi.$.selectedProfile)],a.prototype,"selectedProfile",void 0),(0,et.gn)([(0,Pe.Ph)(xi.$.profiles)],a.prototype,"profiles",void 0),a})();function dI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",19),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(4).changeCommit(s)}),i._uU(1),i.qZA()}if(2&a){const e=t.$implicit,n=t.first;i.Q6J("title",e),i.xp6(1),i.AsE("",n?"":", ","",e,"")}}function uI(a,t){if(1&a&&(i.TgZ(0,"div",16),i.TgZ(1,"span",4),i._uU(2),i.ALo(3,"plural"),i.qZA(),i.TgZ(4,"div",17),i.TgZ(5,"ul"),i.YNc(6,dI,2,3,"li",18),i.qZA(),i.qZA(),i.qZA()),2&a){const e=i.oxw(2).ngIf;i.xp6(2),i.hij("",i.xi3(3,2,"Parent",e.parentIds.length),": "),i.xp6(4),i.Q6J("ngForOf",e.parentIds)}}function hI(a,t){if(1&a&&(i.TgZ(0,"div",20),i._uU(1," committed by "),i._UZ(2,"app-avatar",9),i.ALo(3,"async"),i.TgZ(4,"span",10),i._uU(5),i.qZA(),i.qZA()),2&a){const e=i.oxw(2).ngIf,n=i.oxw();i.Q6J("title",e.committerName+" ("+e.committerEmail+")"),i.xp6(2),i.Q6J("remotes",i.lcZ(3,4,n.remotes))("email",e.committerEmail),i.xp6(3),i.Oqu(e.committerName)}}function fI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",23),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(4).changeFile(s)})("contextmenu",function(){const s=i.CHM(e).$implicit,d=i.oxw(4);return d.copyToClipboard(d.getPatchPath(s))}),i.ALo(1,"async"),i.TgZ(2,"mat-icon",24),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",25),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(4);i.ekj("selected",n.isFileSelected(e,i.lcZ(1,5,n.selectedFile))),i.xp6(2),i.Q6J("ngClass",n.getPatchIconColorClass(e)),i.xp6(1),i.Oqu(n.getPatchIcon(e)),i.xp6(1),i.Q6J("path",n.getPatchPath(e))}}function gI(a,t){if(1&a&&(i.TgZ(0,"ul",21),i.YNc(1,fI,5,7,"li",22),i.qZA()),2&a){const e=t.ngIf;i.xp6(1),i.Q6J("ngForOf",e)}}function mI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",2),i.TgZ(1,"header"),i.TgZ(2,"div",3),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().ngIf;return i.oxw().copyToClipboard(o.id)}),i.TgZ(3,"span",4),i._uU(4,"Commit:"),i.qZA(),i._uU(5),i.qZA(),i.YNc(6,uI,7,5,"div",5),i.qZA(),i.TgZ(7,"mat-card",6),i.TgZ(8,"div",7),i._uU(9),i.qZA(),i.TgZ(10,"div",8),i._uU(11," authored by "),i._UZ(12,"app-avatar",9),i.ALo(13,"async"),i.TgZ(14,"span",10),i._uU(15),i.qZA(),i._UZ(16,"br"),i.qZA(),i.YNc(17,hI,6,6,"div",11),i.TgZ(18,"div",12),i.ALo(19,"date"),i._uU(20," on "),i.TgZ(21,"span",10),i._uU(22),i.ALo(23,"date"),i.qZA(),i._uU(24," at "),i.TgZ(25,"span",10),i._uU(26),i.ALo(27,"date"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(28,"mat-card",13),i.TgZ(29,"cdk-virtual-scroll-viewport",14),i.YNc(30,gI,2,1,"ul",15),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().ngIf,n=i.oxw();i.xp6(2),i.Q6J("title",e.id),i.xp6(3),i.hij(" ",e.id," "),i.xp6(1),i.Q6J("ngIf",e.parentIds.length),i.xp6(3),i.Oqu(e.message),i.xp6(1),i.Q6J("title",e.authorName+" ("+e.authorEmail+")"),i.xp6(2),i.Q6J("remotes",i.lcZ(13,14,n.remotes))("email",e.authorEmail),i.xp6(3),i.Oqu(e.authorName),i.xp6(2),i.Q6J("ngIf",e.committerName&&e.committerEmail&&(e.authorName!==e.committerName||e.authorEmail!==e.committerEmail)),i.xp6(1),i.Q6J("title",i.xi3(19,16,e.date,"z")),i.xp6(4),i.Oqu(i.xi3(23,19,e.date,"d MMMM y")),i.xp6(4),i.Oqu(i.xi3(27,22,e.date,"HH:mm:ss")),i.xp6(3),i.Q6J("itemSize",22),i.xp6(1),i.Q6J("ngIf",e.diffs[0].patches)}}function pI(a,t){if(1&a&&(i.ynx(0),i.YNc(1,mI,31,25,"div",1),i.BQk()),2&a){const e=t.ngIf;i.xp6(1),i.Q6J("ngIf",e&&"head"!==e)}}let _I=(()=>{class a{constructor(e,n){this.store=e,this.commitDetailService=n}getPatchPath(e){return this.commitDetailService.getPatchPath(e)}getPatchIcon(e){return this.commitDetailService.getPatchIcon(e)}getPatchIconColorClass(e){return this.commitDetailService.getPatchIconColorClass(e)}copyToClipboard(e){navigator.clipboard.writeText(e??"").then(()=>{})}changeCommit(e){this.selectedRepositoryPath.pipe((0,vt.q)(1)).subscribe(n=>{null!==n&&this.store.dispatch(new _n.jQ(n,e))})}changeFile(e){(0,st.aj)([this.selectedRepositoryPath,this.selectedFile]).pipe((0,vt.q)(1)).subscribe(([n,o])=>{null!==n&&this.store.dispatch(new _n.gt(n,e.oldFilePath===o?.oldFilePath&&e.newFilePath===o.newFilePath?null:{area:"commit",oldFilePath:e.oldFilePath,newFilePath:e.newFilePath}))})}isFileSelected(e,n){return!!n&&e.oldFilePath===n.oldFilePath&&e.newFilePath===n.newFilePath}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Pe.yh),i.Y36(w1.d))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-commit"]],inputs:{commit:"commit"},decls:2,vars:3,consts:[[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"title","click"],[1,"title"],["class","parent-commits",4,"ngIf"],[1,"message"],[1,"content"],[1,"author",3,"title"],[3,"remotes","email"],[1,"highlight"],["class","committer",3,"title",4,"ngIf"],[1,"date",3,"title"],[1,"files"],[1,"item-list-container",3,"itemSize"],["class","file-list",4,"ngIf"],[1,"parent-commits"],[1,"parent-commit-ids"],["class","commit",3,"title","click",4,"ngFor","ngForOf"],[1,"commit",3,"title","click"],[1,"committer",3,"title"],[1,"file-list"],[3,"selected","click","contextmenu",4,"ngFor","ngForOf"],[3,"click","contextmenu"],["inline","",3,"ngClass"],[1,"name",3,"path"]],template:function(e,n){1&e&&(i.YNc(0,pI,2,1,"ng-container",0),i.ALo(1,"async")),2&e&&i.Q6J("ngIf",i.lcZ(1,1,n.commit))},directives:[qt.O5,B.a8,Cs.A,oo.N7,oo.xd,qt.sg,Cn.Hw,qt.mk,y1.j],pipes:[qt.Ov,qt.uU,Xi.r],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 10px;flex:0 0 auto;overflow:auto;font-weight:600}header[_ngcontent-%COMP%]   .commit[_ngcontent-%COMP%]{min-width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 auto;min-width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;padding-right:10px}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 auto;min-width:65px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.message[_ngcontent-%COMP%]{flex:1 10 auto;margin:10px 10px 0;min-height:180px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:22px;height:22px;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:16px}.files[_ngcontent-%COMP%]{flex:10 1 auto;min-height:250px;margin:10px;white-space:nowrap;overflow:auto}.files[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.files[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#ef5350}.files[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.files[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%;contain:content}.files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.files[_ngcontent-%COMP%]   .item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.files[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;cursor:pointer;line-height:22px;padding-left:16px;padding-right:16px}.files[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.files[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.files[_ngcontent-%COMP%]   .file-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}"],changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRemotes)],a.prototype,"remotes",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryPath)],a.prototype,"selectedRepositoryPath",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedFileForArea("commit"))],a.prototype,"selectedFile",void 0),a})();function CI(a,t){1&a&&i._UZ(0,"app-new-commit")}function bI(a,t){if(1&a&&i._UZ(0,"app-commit",2),2&a){const e=i.oxw(2);i.Q6J("commit",e.commit)}}function vI(a,t){if(1&a&&(i.ynx(0),i.YNc(1,CI,1,0,"app-new-commit",0),i.YNc(2,bI,1,1,"app-commit",1),i.BQk()),2&a){const e=t.ngIf;i.xp6(1),i.Q6J("ngIf","head"===e),i.xp6(1),i.Q6J("ngIf","head"!==e)}}let wI=(()=>{class a extends((0,dn.j)(Ln.A)){}return a.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(a)))(n||a)}}(),a.\u0275cmp=i.Xpm({type:a,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit"},features:[i.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"commit",4,"ngIf"],[3,"commit"]],template:function(e,n){1&e&&(i.YNc(0,vI,3,2,"ng-container",0),i.ALo(1,"async")),2&e&&i.Q6J("ngIf",i.lcZ(1,1,n.commit))},directives:[qt.O5,cI,_I],pipes:[qt.Ov],encapsulation:2,changeDetection:0}),a})();const yI=["conflictsList"];function SI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",11),i.TgZ(1,"div",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().ngIf;return i.oxw().changeCommit(o.baseCommitId)}),i.TgZ(2,"span",13),i._uU(3,"Base:"),i.qZA(),i._uU(4),i.qZA(),i.TgZ(5,"div",14),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().ngIf;return i.oxw().changeCommit(o.toCommitId)}),i.TgZ(6,"span",13),i._uU(7,"Current:"),i.qZA(),i._uU(8),i.qZA(),i.TgZ(9,"div",15),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().ngIf;return i.oxw().changeCommit(o.fromCommitId)}),i.TgZ(10,"span",13),i._uU(11,"Incoming:"),i.qZA(),i._uU(12),i.qZA(),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw().ngIf;i.xp6(1),i.Q6J("ngClass","color-"+e[n.baseCommitId])("title",n.baseCommitId),i.xp6(3),i.hij(" ",n.baseCommitId," "),i.xp6(1),i.Q6J("ngClass","color-"+e[n.toCommitId])("title",n.toCommitId),i.xp6(3),i.hij(" ",n.toCommitId," "),i.xp6(1),i.Q6J("ngClass","color-"+e[n.fromCommitId])("title",n.fromCommitId),i.xp6(3),i.hij(" ",n.fromCommitId," ")}}function xI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"div",24),i.TgZ(1,"button",25),i.NdJ("click",function(){return i.CHM(e),i.oxw(4).resolveSelectedConflicts("to")}),i.ALo(2,"async"),i._uU(3,"Use 'current'"),i.qZA(),i.TgZ(4,"button",26),i.NdJ("click",function(){return i.CHM(e),i.oxw(4).resolveSelectedConflicts("from")}),i.ALo(5,"async"),i._uU(6,"Use 'incoming'"),i.qZA(),i.qZA()}if(2&a){const e=t.ngIf,n=i.oxw(3).ngIf,o=i.oxw();i.xp6(1),i.Q6J("ngClass","color-"+e[n.toCommitId])("disabled","check_box_outline_blank"===i.lcZ(2,4,o.conflictCheckboxIcon)),i.xp6(3),i.Q6J("ngClass","color-"+e[n.fromCommitId])("disabled","check_box_outline_blank"===i.lcZ(5,6,o.conflictCheckboxIcon))}}function LI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"mat-list-option",27),i.TgZ(1,"div",28),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(4).selectFile(d),o.stopPropagation()}),i.TgZ(2,"mat-icon",29),i._uU(3),i.qZA(),i._UZ(4,"app-condensed-path",30),i.TgZ(5,"div",31),i.TgZ(6,"button",32),i.NdJ("click",function(o){const d=i.CHM(e).$implicit;return i.oxw(4).launchExternalTool(d),o.stopPropagation()}),i.TgZ(7,"mat-icon"),i._uU(8,"launch"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(4);i.Q6J("value",e),i.xp6(1),i.ekj("selected",n.isPatchSelected(e)),i.xp6(1),i.Q6J("ngClass",n.getPatchIconColorClass(e)),i.xp6(1),i.Oqu(n.getPatchIcon(e)),i.xp6(1),i.Q6J("path",n.getPatchPath(e))}}function MI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"mat-card",17),i.TgZ(1,"div",18),i.YNc(2,xI,7,8,"div",19),i.ALo(3,"async"),i.TgZ(4,"button",20),i.NdJ("click",function(){return i.CHM(e),i.oxw(3).clickAllConflictsCheckbox()}),i.ALo(5,"async"),i.TgZ(6,"mat-icon"),i._uU(7),i.ALo(8,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(9,"mat-selection-list",21,22),i.NdJ("selectionChange",function(o){return i.CHM(e),i.oxw(3).conflictSelectionChanged(o)}),i.YNc(11,LI,9,6,"mat-list-option",23),i.qZA(),i.qZA()}if(2&a){const e=i.oxw().ngIf,n=i.oxw(2);i.xp6(2),i.Q6J("ngIf",i.lcZ(3,5,n.graphColors)),i.xp6(2),i.s9C("title","check_box_outline_blank"===i.lcZ(5,7,n.conflictCheckboxIcon)?"Select all":"Deselect all"),i.xp6(3),i.Oqu(i.lcZ(8,9,n.conflictCheckboxIcon)),i.xp6(4),i.Q6J("ngForOf",e)("ngForTrackBy",n.trackByPatch)}}function DI(a,t){if(1&a&&(i.ynx(0),i.YNc(1,MI,12,11,"mat-card",16),i.BQk()),2&a){const e=t.ngIf;i.xp6(1),i.Q6J("ngIf",e.length>0)}}function EI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"li",28),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).selectFile(s)}),i.TgZ(1,"mat-icon",29),i._uU(2),i.qZA(),i._UZ(3,"app-condensed-path",30),i.qZA()}if(2&a){const e=t.$implicit,n=i.oxw(2);i.ekj("selected",n.isPatchSelected(e)),i.xp6(1),i.Q6J("ngClass",n.getPatchIconColorClass(e)),i.xp6(1),i.Oqu(n.getPatchIcon(e)),i.xp6(1),i.Q6J("path",n.getPatchPath(e))}}function NI(a,t){if(1&a){const e=i.EpF();i.ynx(0),i.TgZ(1,"header",1),i.YNc(2,SI,13,9,"div",2),i.ALo(3,"async"),i.TgZ(4,"button",3),i.NdJ("click",function(){return i.CHM(e),i.oxw().discardMerge()}),i._uU(5,"Discard merge"),i.qZA(),i.qZA(),i.YNc(6,DI,2,1,"ng-container",0),i.ALo(7,"async"),i.TgZ(8,"mat-card",4),i.TgZ(9,"ul",5),i.YNc(10,EI,4,5,"li",6),i.ALo(11,"async"),i.qZA(),i.qZA(),i.TgZ(12,"mat-card",7),i.TgZ(13,"mat-form-field",8),i.TgZ(14,"mat-label"),i._uU(15,"Commit Message"),i.qZA(),i._UZ(16,"textarea",9),i.qZA(),i.TgZ(17,"button",10),i.NdJ("click",function(){return i.CHM(e),i.oxw().commitChanges()}),i._uU(18,"Commit merge"),i.qZA(),i.qZA(),i.BQk()}if(2&a){const e=i.oxw();i.xp6(2),i.Q6J("ngIf",i.lcZ(3,6,e.graphColors)),i.xp6(4),i.Q6J("ngIf",i.lcZ(7,8,e.conflictedPatches)),i.xp6(4),i.Q6J("ngForOf",i.lcZ(11,10,e.normalPatches))("ngForTrackBy",e.trackByPatch),i.xp6(6),i.Q6J("formControl",e.commitMessageControl.ng),i.xp6(1),i.Q6J("disabled",!1)}}let II=(()=>{class a extends((0,dn.j)(Ln.A)){constructor(e,n,o,s,d){super(),this.store=e,this.repositoriesApi=n,this.commitDetailService=o,this.graphSharedService=s,this.repositoryActionsService=d,this.conflictCheckboxIcon=new pn.X("check_box_outline_blank"),this.commitMessageControl=new Xt.rV,this.trackByPatch=(m,R)=>`${R.oldFilePath}|${R.newFilePath}|${R.status}`,this.isPatchSelected=m=>{},this.getPatchPath=m=>this.commitDetailService.getPatchPath(m),this.getPatchIcon=m=>this.commitDetailService.getPatchIcon(m),this.getPatchIconColorClass=m=>this.commitDetailService.getPatchIconColorClass(m)}ngOnInit(){this.conflictedPatches=this.merge.pipe((0,Ao.h)(Qo.Nf),(0,nt.U)(e=>e.mergeDiff.patches.filter(n=>n.status===Sr.v.Conflicted))),this.normalPatches=this.merge.pipe((0,Ao.h)(Qo.Nf),(0,nt.U)(e=>e.mergeDiff.patches.filter(n=>n.status!==Sr.v.Conflicted))),this.merge.pipe((0,Ao.h)(Qo.Nf),(0,Se.R)(this.destroyed$)).subscribe(e=>{this.commitMessageControl.setValue(e.message,{emitEvent:!1})}),this.graphColors=this.graphSharedService.getColors()}changeCommit(e){const n=this.store.selectSnapshot(rn.E.selectedRepositoryPath);n&&this.store.dispatch(new _n.jQ(n,e))}discardMerge(){const e=this.store.selectSnapshot(rn.E.selectedRepositoryPath);this.merge.pipe((0,vt.q)(1)).subscribe(n=>{e&&n&&this.repositoriesApi.deleteMerge(e,n.fromCommitId,n.toCommitId).subscribe(()=>{this.store.dispatch([new Rt.hb(e,null,null),new _n.Vu(e)])})})}conflictSelectionChanged(e){this.conflictCheckboxIcon.next(e.source.options.length===e.source.selectedOptions.selected.length?"check_box":0===e.source.selectedOptions.selected.length?"check_box_outline_blank":"indeterminate_check_box")}clickAllConflictsCheckbox(){switch(this.conflictCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.matSelectionList.deselectAll(),this.conflictCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":this.matSelectionList.selectAll(),this.conflictCheckboxIcon.next("check_box")}}resolveSelectedConflicts(e){const n=this.matSelectionList.selectedOptions.selected.map(o=>o.value);!n.length||this.merge.pipe((0,vt.q)(1)).subscribe(o=>{const s=this.store.selectSnapshot(rn.E.selectedRepositoryPath),d="head"===this.store.selectSnapshot(rn.E.selectedCommitId);if(s&&o){const m=("from"===e?o.fromDiff.patches:o.toDiff.patches).filter(R=>R.newFilePath&&n.some(U=>U.newFilePath===R.newFilePath)).map(R=>(R.newFileId?this.repositoriesApi.getFile(s,R.newFileId):(0,ut.of)(null)).pipe((0,nt.U)(U=>[R.newFilePath,U??""])));(0,ti.D)(m).pipe((0,Ne.w)(R=>this.repositoriesApi.updateMergeMultiple(s,o.fromCommitId,o.toCommitId,R,d)),(0,St.x)(()=>{this.store.dispatch(new _n.Vu(s))})).subscribe()}})}launchExternalTool(e){}commitChanges(){const e=this.store.selectSnapshot(rn.E.selectedRepositoryPath),n=this.store.selectSnapshot(rn.E.selectedCommitId);this.merge.pipe((0,vt.q)(1)).subscribe(o=>{e&&o&&this.repositoryActionsService.commitMerge(e,o.fromCommitId,o.toBranch,this.commitMessageControl.value,"head"===n).subscribe()})}selectFile(e){const n=this.store.selectSnapshot(rn.E.selectedRepositoryPath);if(n){const o=this.store.selectSnapshot(rn.E.selectedFile);this.store.dispatch(new _n.gt(n,o?.oldFilePath===e.oldFilePath&&o?.newFilePath===e.newFilePath?null:{area:"commit",oldFilePath:e.oldFilePath,newFilePath:e.newFilePath}))}}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Pe.yh),i.Y36(Dn.a),i.Y36(w1.d),i.Y36(Sn),i.Y36(Di))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-merge-detail-view"]],viewQuery:function(e,n){if(1&e&&i.Gf(yI,5),2&e){let o;i.iGM(o=i.CRH())&&(n.matSelectionList=o.first)}},inputs:{merge:"merge"},features:[i.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"merge-info"],["class","commit-ids",4,"ngIf"],["type","button","mat-button","","color","warn","title","All changes will be lost!",1,"discard",3,"click"],[1,"normal-files"],[1,"list"],["class","item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"commit-message"],[1,"description"],["matInput","","placeholder","Enter a description...",3,"formControl"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],[1,"commit-ids"],[1,"base-commit",3,"ngClass","title","click"],[1,"title"],[1,"to-commit",3,"ngClass","title","click"],[1,"from-commit",3,"ngClass","title","click"],["class","conflicted-files",4,"ngIf"],[1,"conflicted-files"],[1,"header-buttons"],["class","resolve-buttons",4,"ngIf"],["type","button","mat-icon-button","",1,"checkbox-button",3,"title","click"],[1,"list",3,"selectionChange"],["conflictsList",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"resolve-buttons"],["type","button","mat-button","","title","Resolve conflicts using the changes in the 'current' commit",3,"ngClass","disabled","click"],["type","button","mat-button","","title","Resolve conflicts using the changes in the 'incoming' commit",3,"ngClass","disabled","click"],[3,"value"],[1,"item",3,"click"],["inline","",3,"ngClass"],[1,"name",3,"path"],[1,"buttons"],["type","button","mat-icon-button","","title","Open in external tool",3,"click"]],template:function(e,n){1&e&&(i.YNc(0,NI,19,12,"ng-container",0),i.ALo(1,"async")),2&e&&i.Q6J("ngIf",i.lcZ(1,1,n.merge))},directives:[qt.O5,yn.lW,B.a8,qt.sg,W.KE,W.hX,M.Nt,oe.Fj,oe.JJ,oe.oH,qt.mk,Cn.Hw,z.Ub,z.vS,y1.j],pipes:[qt.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%}.merge-info[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px;text-align:center}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex:0 0 auto;overflow:auto;font-weight:600}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit[_ngcontent-%COMP%]{min-width:60px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;padding-right:10px}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-0[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-0[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-0[_ngcontent-%COMP%]{color:#4363d8}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-1[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-1[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-1[_ngcontent-%COMP%]{color:#469990}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-2[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-2[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-2[_ngcontent-%COMP%]{color:#fabed4}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-3[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-3[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-3[_ngcontent-%COMP%]{color:#e6194b}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-4[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-4[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-4[_ngcontent-%COMP%]{color:#42d4f4}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-5[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-5[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-5[_ngcontent-%COMP%]{color:#f58231}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-6[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-6[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-6[_ngcontent-%COMP%]{color:#ffe119}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-7[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-7[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-7[_ngcontent-%COMP%]{color:#3cb44b}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-8[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-8[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-8[_ngcontent-%COMP%]{color:#f032e6}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-9[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-9[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-9[_ngcontent-%COMP%]{color:#fff}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-10[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-10[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-10[_ngcontent-%COMP%]{color:maroon}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-11[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-11[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-11[_ngcontent-%COMP%]{color:#9a6324}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-12[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-12[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-12[_ngcontent-%COMP%]{color:#fffac8}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-13[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-13[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-13[_ngcontent-%COMP%]{color:#aaffc3}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .base-commit.color-14[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .to-commit.color-14[_ngcontent-%COMP%], .merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit.color-14[_ngcontent-%COMP%]{color:#dcbeff}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .from-commit[_ngcontent-%COMP%]{padding-right:0}.merge-info[_ngcontent-%COMP%]   .commit-ids[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.merge-info[_ngcontent-%COMP%]   .discard[_ngcontent-%COMP%]{margin:5px 0;width:100%}.conflicted-files[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]{flex:1 1 auto;margin:10px 10px 0;white-space:nowrap;overflow:auto;min-height:70px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{position:relative;height:40px;line-height:40px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:40px;margin-right:32px}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-0, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-0{color:#4363d8}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-1, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-1{color:#469990}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-2, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-2{color:#fabed4}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-3, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-3{color:#e6194b}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-4, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-4{color:#42d4f4}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-5, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-5{color:#f58231}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-6, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-6{color:#ffe119}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-7, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-7{color:#3cb44b}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-8, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-8{color:#f032e6}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-9, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-9{color:#fff}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-10, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-10{color:maroon}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-11, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-11{color:#9a6324}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-12, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-12{color:#fffac8}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-13, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-13{color:#aaffc3}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-14, .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .resolve-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.mat-button-disabled).color-14{color:#dcbeff}.conflicted-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;right:-12px}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;margin-top:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;height:24px;line-height:24px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:5px}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.red[_ngcontent-%COMP%]{color:#ef5350}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.green[_ngcontent-%COMP%]{color:#4caf50}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.orange[_ngcontent-%COMP%]{color:#cb8837}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .material-icons.blue[_ngcontent-%COMP%]{color:#7c8bff}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item.selected[_ngcontent-%COMP%]{background-color:#616161}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .buttons[_ngcontent-%COMP%]{opacity:1}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{user-select:none}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 19px)}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{position:absolute;top:0;right:0;opacity:0;transition:.2s ease-in-out opacity;font-size:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:24px;width:24px;line-height:24px;margin-left:5px;font-size:0}.conflicted-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .normal-files[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.conflicted-files[_ngcontent-%COMP%]{margin-top:0}.conflicted-files[_ngcontent-%COMP%]   mat-selection-list[_ngcontent-%COMP%]{padding-top:0}.conflicted-files[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]{font-size:14px;height:24px}.normal-files[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:0 16px}.commit-message[_ngcontent-%COMP%]{flex:0 0 auto;margin:10px}.commit-message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit-message[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px;max-height:100px}.commit-message[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),a})();function PI(a,t){1&a&&i._UZ(0,"app-branches-view")}function kI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"app-diff-view",9),i.NdJ("closed",function(){return i.CHM(e),i.oxw().closeDiffView()}),i.qZA()}if(2&a){const e=i.oxw();i.Q6J("@slideLeft",void 0)("patch",e.selectedPatch)}}function OI(a,t){if(1&a){const e=i.EpF();i.TgZ(0,"app-merge-view",9),i.NdJ("closed",function(){return i.CHM(e),i.oxw().closeDiffView()}),i.qZA()}if(2&a){const e=i.oxw();i.Q6J("@slideLeft",void 0)("patch",e.selectedMergePatch)}}function TI(a,t){if(1&a&&i._UZ(0,"app-commit-detail-view",10),2&a){const e=i.oxw();i.Q6J("commit",e.selectedCommit)}}function AI(a,t){if(1&a&&i._UZ(0,"app-merge-detail-view",11),2&a){const e=i.oxw();i.Q6J("merge",e.selectedMerge)}}const RI=[{path:"",component:(()=>{class a extends((0,dn.j)(Ln.A,sn.H)){constructor(e,n,o){super(),this.router=e,this.store=n,this.commitsApi=o,this.showBranches=this.defaultLayoutSizes.pipe((0,nt.U)(s=>"0"!==s[0]&&"0px"!==s[0]&&"0%"!==s[0])),this.branchesViewMinSize=hn.q}ngOnInit(){super.ngOnInit(),this.selectedRepositoryPath.pipe((0,Se.R)(this.destroyed$)).subscribe(e=>{null===e&&this.router.navigate(["/standard/open-repository"])}),this.selectedCommit=(0,st.aj)([this.selectedRepositoryPath,this.selectedCommitId]).pipe((0,Ne.w)(([e,n])=>e&&n?"head"===n?this.selectedHasOngoingMerge.pipe((0,nt.U)(o=>o?null:"head")):this.commitsApi.getCommit(e,n):(0,ut.of)(null)),(0,at.d)(1)),this.selectedMerge=(0,st.aj)([this.selectedRepositoryPath,this.store.select(rn.E.selectedMerge),this.store.select(rn.E.workingCopyMergeChanges),this.selectedHasOngoingMerge,this.selectedCommitId]).pipe((0,nt.U)(([e,n,o,s,d])=>n||("head"===d&&s&&e?o:null)),(0,at.d)(1)),this.selectedPatch=(0,st.aj)([this.selectedRepositoryPath,this.selectedCommit,this.selectedFile,this.selectedStagedChanges,this.selectedUnstagedChanges]).pipe(function(a,t=jt.P,e=bn){return n=>n.lift(new mn(a,t,e.leading,e.trailing))}(100,void 0,{leading:!0,trailing:!0}),(0,nt.U)(([e,n,o,s,d])=>{if(!e||!n||!o)return null;const R=("head"===n?"staged"===o.area?s?.patches:"unstaged"===o.area?d?.patches:null:"commit"===o.area&&n.diffs.length>0?n.diffs[0].patches:null)?.find(U=>U.newFilePath===o.newFilePath&&U.oldFilePath===o.oldFilePath);return R?{repositoryPath:e,patch:R,isUnstaged:"head"===n&&"unstaged"===o.area}:null}),(0,at.d)(1)),this.selectedMergePatch=(0,st.aj)([this.selectedRepositoryPath,this.selectedMerge,this.selectedFile]).pipe((0,nt.U)(([e,n,o])=>e&&n&&o?{repositoryPath:e,fromCommitId:n.fromCommitId,toCommitId:n.toCommitId,fromPatch:n.fromDiff.patches.find(s=>s.newFilePath===o.newFilePath)??null,toPatch:n.toDiff.patches.find(s=>s.newFilePath===o.newFilePath)??null,mergePatch:n.mergeDiff.patches.find(s=>s.newFilePath===o.newFilePath)??null}:null),(0,at.d)(1))}changeCommit(e){this.selectedRepositoryPath.pipe((0,vt.q)(1)).subscribe(n=>{if(!n)throw new Error("Cannot change commit when no repository is selected");if(e?.startsWith("merge:")){const o=e.match(/^merge:([^:]+):([^:]+)$/);o&&this.store.dispatch(new Rt.hb(n,o[1],o[2]))}else this.store.dispatch(new _n.jQ(n,e))})}closeDiffView(){this.selectedRepositoryPath.pipe((0,vt.q)(1)).subscribe(e=>{null!==e&&this.store.dispatch(new _n.gt(e,null))})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Ae.F0),i.Y36(Pe.yh),i.Y36(Yt.T))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i.qOj],decls:16,vars:19,consts:[["id","default-layout"],[1,"left-cell",3,"min"],[4,"ngIf"],[1,"center-cell"],[3,"repository","commitId","selectedMerge","changeCommit"],[3,"patch","closed",4,"ngIf"],["min","355px",1,"right-cell"],[3,"commit",4,"ngIf"],[3,"merge",4,"ngIf"],[3,"patch","closed"],[3,"commit"],[3,"merge"]],template:function(e,n){1&e&&(i._UZ(0,"app-repository-action-view"),i.TgZ(1,"app-grid",0),i.TgZ(2,"app-grid-cell",1),i.YNc(3,PI,1,0,"app-branches-view",2),i.ALo(4,"async"),i.qZA(),i.TgZ(5,"app-grid-cell",3),i.TgZ(6,"app-graph-view",4),i.NdJ("changeCommit",function(s){return n.changeCommit(s)}),i.qZA(),i.YNc(7,kI,1,2,"app-diff-view",5),i.ALo(8,"async"),i.YNc(9,OI,1,2,"app-merge-view",5),i.ALo(10,"async"),i.qZA(),i.TgZ(11,"app-grid-cell",6),i.YNc(12,TI,1,1,"app-commit-detail-view",7),i.ALo(13,"async"),i.YNc(14,AI,1,1,"app-merge-detail-view",8),i.ALo(15,"async"),i.qZA(),i.qZA()),2&e&&(i.xp6(2),i.Q6J("min",n.branchesViewMinSize),i.xp6(1),i.Q6J("ngIf",i.lcZ(4,9,n.showBranches)),i.xp6(3),i.Q6J("repository",n.selectedRepository)("commitId",n.selectedCommitId)("selectedMerge",n.selectedMerge),i.xp6(1),i.Q6J("ngIf",i.lcZ(8,11,n.selectedPatch)),i.xp6(2),i.Q6J("ngIf",i.lcZ(10,13,n.selectedMergePatch)),i.xp6(3),i.Q6J("ngIf",i.lcZ(13,15,n.selectedCommit)),i.xp6(2),i.Q6J("ngIf",i.lcZ(15,17,n.selectedMerge)))},directives:[yo,fo.M,Io.Y,qt.O5,Jn,To,ds.s,oI,wI,II],pipes:[qt.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px)}app-repository-action-view[_ngcontent-%COMP%]{height:50px}app-graph-view[_ngcontent-%COMP%]{position:absolute;top:0;left:0;overflow:hidden}app-diff-view[_ngcontent-%COMP%], app-merge-view[_ngcontent-%COMP%]{z-index:200}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}.right-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}"],data:{animation:[(0,Ye.X$)("slideLeft",[(0,Ye.eR)(":enter",[(0,Ye.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,Ye.jt)("200ms",(0,Ye.oB)({transform:"translateX(0)"}))]),(0,Ye.eR)(":leave",[(0,Ye.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,Ye.jt)("200ms",(0,Ye.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0}),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepository)],a.prototype,"selectedRepository",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedRepositoryPath)],a.prototype,"selectedRepositoryPath",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedCommitId)],a.prototype,"selectedCommitId",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedHasOngoingMerge)],a.prototype,"selectedHasOngoingMerge",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedFile)],a.prototype,"selectedFile",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedStagedChanges)],a.prototype,"selectedStagedChanges",void 0),(0,et.gn)([(0,Pe.Ph)(rn.E.selectedUnstagedChanges)],a.prototype,"selectedUnstagedChanges",void 0),(0,et.gn)([(0,Pe.Ph)(xi.$.gridSizes("default-layout"))],a.prototype,"defaultLayoutSizes",void 0),a})()}];let FI=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[Ae.Bz.forChild(RI)],Ae.Bz]}),a})(),BI=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[D.I,T,y,C.m,E,L,O,Ce,FI]]}),a})()},22250:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-label {\n\tmargin-right: 1px;\n}\n"},3336:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}"},27943:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown > .monaco-dropdown-button {\n\tmargin-left: 1px;\n}\n\n.monaco-description-button {\n\tflex-direction: column;\n}\n\n.monaco-description-button .monaco-button-label {\n\tfont-weight: 500;\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description\n{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon\n{\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n"},84570:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-checkbox {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-custom-checkbox:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-checkbox {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-checkbox:hover {\n\tbackground: none;\n}\n\n.monaco-custom-checkbox.monaco-simple-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n\n.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n"},85719:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n"},93791:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: \"codicon\";\n\tfont-display: block;\n\tsrc: url('codicon.63b8ee5b81329a75.ttf') format(\"truetype\");\n}\n\n.codicon[class*='codicon-'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n"},72874:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n\tz-index: 2500;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tz-index: 2500;\n\tcolor: inherit;\n}\n"},92051:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n"},98735:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\n\tcursor: default;\n}\n\n.monaco-dropdown-with-primary {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-primary > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n"},80090:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n.monaco-findInput {\n\tposition: relative;\n}\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n.monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}"},97886:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tbox-sizing: initial;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: 500px;\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul {\n\tmargin: 8px 0;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n"},10402:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n"},5767:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox.idle {\n\tborder: 1px solid transparent;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n"},97348:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n"},72010:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Type filter */\n\n.monaco-list-type-filter {\n\tdisplay: flex;\n\talign-items: center;\n\tposition: absolute;\n\tborder-radius: 2px;\n\tpadding: 0px 3px;\n\tmax-width: calc(100% - 10px);\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\ttext-align: right;\n\tbox-sizing: border-box;\n\tcursor: all-scroll;\n\tfont-size: 13px;\n\tline-height: 18px;\n\theight: 20px;\n\tz-index: 1;\n\ttop: 4px;\n}\n\n.monaco-list-type-filter.dragging {\n\ttransition: top 0.2s, left 0.2s;\n}\n\n.monaco-list-type-filter.ne {\n\tright: 4px;\n}\n\n.monaco-list-type-filter.nw {\n\tleft: 4px;\n}\n\n.monaco-list-type-filter > .controls {\n\tdisplay: flex;\n\talign-items: center;\n\tbox-sizing: border-box;\n\ttransition: width 0.2s;\n\twidth: 0;\n}\n\n.monaco-list-type-filter.dragging > .controls,\n.monaco-list-type-filter:hover > .controls {\n\twidth: 36px;\n}\n\n.monaco-list-type-filter > .controls > * {\n\tborder: none;\n\tbox-sizing: border-box;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n\tbackground: none;\n\twidth: 16px;\n\theight: 16px;\n\tflex-shrink: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n}\n\n.monaco-list-type-filter > .controls > .filter {\n\tmargin-left: 4px;\n}\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n\n/* Electron */\n\n.monaco-list-type-filter {\n\tcursor: grab;\n}\n\n.monaco-list-type-filter.dragging {\n\tcursor: grabbing;\n}\n"},12239:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n"},38744:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t\tThe more smooth `linear` timing function can cause\n\t\thigher GPU consumption as indicated in\n\t\thttps://github.com/microsoft/vscode/issues/97900 &\n\t\thttps://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n"},10649:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--sash-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--sash-size) * 2);\n\twidth: calc(var(--sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--sash-size) * -0.5);\n\ttop: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--sash-size) * -0.5);\n\tbottom: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--sash-size) * -0.5);\n\tleft: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--sash-size) * -0.5);\n\tright: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: background-color 0.1s ease-out;\n\tbackground: transparent;\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--sash-hover-size);\n\tleft: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--sash-hover-size);\n\ttop: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n"},3301:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n"},10050:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n"},75601:Fe=>{Fe.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-table > .monaco-split-view2,\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n\n/*\n.monaco-table:hover > .monaco-split-view2,\n.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\tborder-color: rgba(204, 204, 204, 0.2);\n} */\n'},79652:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n"},51684:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2000;\n\tpadding: 0 1px 1px 1px;\n\tleft: 50%;\n\tmargin-left: -300px;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 6px 6px 0px 6px;\n\tmargin-bottom: -2px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 27.5px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n\tmargin-top: 6px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 0; /* reduce margins when input box hidden */\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 8px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n"},61261:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n}\n\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n}*/\n\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n}\n"},18491:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n"},91233:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}"},61050:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n\n.monaco-editor .margin-view-overlays .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n"},19269:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n"},34362:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n"},38586:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}"},97227:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n}\n\n/* TODO@tokenization bootstrap fix */\n\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n"},6728:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}"},39319:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n\n/* END cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n"},3180:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}"},42835:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n}"},78432:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n}"},48761:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n"},9442:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n}\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbox-sizing: border-box;\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n"},13401:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n/* ---------- Diff ---------- */\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign {\n\topacity: 1;\n}\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n/* ---------- Inline Diff ---------- */\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n"},58964:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n"},94965:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n\n/* I am not a big fan of this rule */\n\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n"},75777:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n"},11009:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n}\n"},62803:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .contentWidgets .codicon-light-bulb,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .contentWidgets .codicon-light-bulb:hover,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover {\n\tcursor: pointer;\n}\n"},50269:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tcolor: var(--vscode-editorCodeLens-foreground)\n}\n\n.monaco-editor .codelens-decoration > span,\n.monaco-editor .codelens-decoration > a {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration > a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration > a:hover {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon {\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n}\n\n.monaco-editor .codelens-decoration > a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@keyframes fadein {\n\t0% { opacity: 0; visibility: visible;}\n\t100% { opacity: 1; }\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\tanimation: fadein 0.1s linear;\n}\n"},77725:Fe=>{Fe.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* Decoration */\n\n.colorpicker-color-decoration {\n\tborder: solid 0.1em #000;\n\tbox-sizing: border-box;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\twidth: 0.8em;\n\theight: 0.8em;\n\tline-height: 0.8em;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.hc-black .colorpicker-color-decoration,\n.vs-dark .colorpicker-color-decoration {\n\tborder: solid 0.1em #eee;\n}\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 216px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1;\n}\n\n.colorpicker-header .picked-color .codicon {\n\tcolor: inherit;\n\tfont-size: 14px;\n\tposition: absolute;\n\tleft: 8px;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n'},63593:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}"},47009:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 4px 0 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\topacity: 0.3;\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n"},45618:Fe=>{Fe.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "\u22ef";\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n'},76149:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n"},55753:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n}"},86414:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n"},4946:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-preview-additional-widget {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\n\tcolor: transparent;\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-preview-additional-widget .button {\n\tdisplay: inline-block;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .ghost-text-decoration {\n\tfont-style: italic;\n}\n\n.monaco-editor .suggest-preview-text {\n\tfont-style: italic;\n}\n"},56413:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n}\n"},8546:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below {\n\tpadding-bottom: 0;\n\tpadding-top: 8px;\n\tz-index: 10000;\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\tanimation: fadeIn 150ms ease-out;\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\tanimation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 1px 4px;\n\tcolor: var(--vscode-inputValidation-infoForeground);\n\tbackground-color: var(--vscode-inputValidation-infoBackground);\n\tborder: 1px solid var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor.hc-black .monaco-editor-overlaymessage .message {\n\tborder-width: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.top {\n\tborder-bottom-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.below {\n\tborder-top-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\n\tdisplay: none;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\n\tdisplay: inherit;\n\ttop: -8px;\n}\n"},16393:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\t/* Must be higher than the sash's z-index and terminal canvases but lower than the suggest widget */\n\tz-index: 39;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n}\n\n.monaco-editor .parameter-hints-widget > .phwrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.visible {\n\ttransition: left .05s ease-in-out;\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .docs  .monaco-tokenized-source,\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tfont-weight: bold;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n"},68819:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tmin-width: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title.clickable {\n\tcursor: pointer;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n}\n\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: inherit !important;\n}\n"},67087:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 3px 3px 0 3px;\n}\n\n.monaco-editor .rename-box .rename-input {\n\tpadding: 3px;\n\twidth: calc(100% - 6px);\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n"},14700:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);\n}\n"},1494:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n\tz-index: 40;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .suggest-widget.message {\n\tflex-direction: row;\n\talign-items: center;\n}\n\n.monaco-editor .suggest-widget,\n.monaco-editor .suggest-details {\n\tflex: 0 1 auto;\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-color: var(--vscode-editorSuggestWidget-border);\n\tbackground-color: var(--vscode-editorSuggestWidget-background);\n}\n\n.monaco-editor.hc-black .suggest-widget,\n.monaco-editor.hc-black .suggest-details {\n\tborder-width: 2px;\n}\n\n/* Styles for status bar part */\n\n.monaco-editor .suggest-widget .suggest-status-bar {\n\tbox-sizing: border-box;\n\tdisplay: none;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tfont-size: 80%;\n\tpadding: 0 4px 0 4px;\n\tborder-top: 1px solid var(--vscode-editorSuggestWidget-border);\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .suggest-status-bar .left {\n\tpadding-right: 8px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tcolor: var(--vscode-editorSuggestWidgetStatus-foreground);\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: 100%;\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n\n.monaco-editor .suggest-widget>.message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n\n.monaco-editor .suggest-widget>.tree {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {\n\tcolor: var(--vscode-editorSuggestWidget-selectedForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: var(--vscode-editorSuggestWidget-selectedIconForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {\n\tflex: 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left, .monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label {\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-highlightForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-focusHighlightForeground);\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.6;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {\n\tmargin-left: 12px;\n\topacity: 0.4;\n\tfont-size: 85%;\n\tline-height: initial;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tfont-size: 85%;\n\tmargin-left: 1.1em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 0;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {\n\tmax-width: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 1;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\toverflow: hidden;\n\tflex-shrink: 4;\n\tmax-width: 70%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon, .monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n\n.monaco-editor .suggest-details-container {\n\tz-index: 41;\n}\n\n.monaco-editor .suggest-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-details.focused {\n\tborder-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .suggest-details a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .suggest-details a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .suggest-details code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .suggest-details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element {\n\tflex: 1;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body {\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {\n\tflex: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\twhite-space: pre;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {\n\twhite-space: normal;\n\tword-break: break-all;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {\n\tmargin-right: 24px;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source {\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .suggest-details ul {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n"},26549:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.editor-banner {\n\tbox-sizing: border-box;\n\tcursor: default;\n\twidth: 100%;\n\tfont-size: 12px;\n\tdisplay: flex;\n\toverflow: visible;\n\n\theight: 26px;\n\n\tbackground: var(--vscode-banner-background);\n}\n\n.editor-banner .icon-container {\n\tdisplay: flex;\n\tflex-shrink: 0;\n\talign-items: center;\n\tpadding: 0 6px 0 10px;\n}\n\n.editor-banner .icon-container.custom-icon {\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 16px;\n\twidth: 16px;\n\tpadding: 0;\n\tmargin: 0 6px 0 10px;\n}\n\n.editor-banner .message-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 26px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.editor-banner .message-container p {\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n}\n\n.editor-banner .message-actions-container {\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tline-height: 26px;\n\tmargin: 0 4px;\n}\n\n.editor-banner .message-actions-container a.monaco-button {\n\twidth: inherit;\n\tmargin: 2px 8px;\n\tpadding: 0px 12px;\n}\n\n.editor-banner .message-actions-container a {\n\tpadding: 3px;\n\tmargin-left: 12px;\n\ttext-decoration: underline;\n}\n\n.editor-banner .action-container {\n\tpadding: 0 10px 0 6px;\n}\n\n.editor-banner {\n\tbackground-color: var(--vscode-banner-background);\n}\n\n.editor-banner,\n.editor-banner .action-container .codicon,\n.editor-banner .message-actions-container .monaco-link {\n\tcolor: var(--vscode-banner-foreground);\n}\n\n.editor-banner .icon-container .codicon {\n\tcolor: var(--vscode-banner-iconForeground);\n}\n"},43456:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .unicode-highlight {\n\tborder: 1px solid var(--vscode-editorUnicodeHighlight-border);\n\tbox-sizing: border-box;\n}\n"},13911:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n"},81089:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .accessibilityHelpWidget {\n\tpadding: 10px;\n\tvertical-align: middle;\n\toverflow: scroll;\n}"},27354:Fe=>{Fe.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #252526;\n}'},73215:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 10px;\n}\n\n.tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n"},33050:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n"},63317:Fe=>{Fe.exports='/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n\n\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n\n\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n}\n\n\n/* The hc-black theme is already high contrast optimized */\n\n\n.monaco-editor.hc-black {\n\t-ms-high-contrast-adjust: none;\n}\n\n\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\n\n\n@media screen and (-ms-high-contrast:active) {\n\n\t/* current line highlight */\n\t.monaco-editor.vs .view-overlays .current-line,\n\t.monaco-editor.vs-dark .view-overlays .current-line {\n\t\tborder-color: windowtext !important;\n\t\tborder-left: 0;\n\t\tborder-right: 0;\n\t}\n\n\t/* view cursors */\n\t.monaco-editor.vs .cursor,\n\t.monaco-editor.vs-dark .cursor {\n\t\tbackground-color: windowtext !important;\n\t}\n\t/* dnd target */\n\t.monaco-editor.vs .dnd-target,\n\t.monaco-editor.vs-dark .dnd-target {\n\t\tborder-color: windowtext !important;\n\t}\n\n\t/* selected text background */\n\t.monaco-editor.vs .selected-text,\n\t.monaco-editor.vs-dark .selected-text {\n\t\tbackground-color: highlight !important;\n\t}\n\n\t/* allow the text to have a transparent background. */\n\t.monaco-editor.vs .view-line,\n\t.monaco-editor.vs-dark .view-line {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* text color */\n\t.monaco-editor.vs .view-line span,\n\t.monaco-editor.vs-dark .view-line span {\n\t\tcolor: windowtext !important;\n\t}\n\t/* selected text color */\n\t.monaco-editor.vs .view-line span.inline-selected-text,\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\n\t\tcolor: highlighttext !important;\n\t}\n\n\t/* allow decorations */\n\t.monaco-editor.vs .view-overlays,\n\t.monaco-editor.vs-dark .view-overlays {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* various decorations */\n\t.monaco-editor.vs .selectionHighlight,\n\t.monaco-editor.vs-dark .selectionHighlight,\n\t.monaco-editor.vs .wordHighlight,\n\t.monaco-editor.vs-dark .wordHighlight,\n\t.monaco-editor.vs .wordHighlightStrong,\n\t.monaco-editor.vs-dark .wordHighlightStrong,\n\t.monaco-editor.vs .reference-decoration,\n\t.monaco-editor.vs-dark .reference-decoration {\n\t\tborder: 2px dotted highlight !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .rangeHighlight,\n\t.monaco-editor.vs-dark .rangeHighlight {\n\t\tbackground: transparent !important;\n\t\tborder: 1px dotted activeborder !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .bracket-match,\n\t.monaco-editor.vs-dark .bracket-match {\n\t\tborder-color: windowtext !important;\n\t\tbackground: transparent !important;\n\t}\n\n\t/* find widget */\n\t.monaco-editor.vs .findMatch,\n\t.monaco-editor.vs-dark .findMatch,\n\t.monaco-editor.vs .currentFindMatch,\n\t.monaco-editor.vs-dark .currentFindMatch {\n\t\tborder: 2px dotted activeborder !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .find-widget,\n\t.monaco-editor.vs-dark .find-widget {\n\t\tborder: 1px solid windowtext;\n\t}\n\n\t/* list - used by suggest widget */\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* scrollbars */\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: background !important;\n\t\tborder: 1px solid windowtext;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\t\tbackground: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\tbackground: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\tbackground: highlight !important;\n\t}\n\n\t/* overview ruler */\n\t.monaco-editor.vs .decorationsOverviewRuler,\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\n\t\topacity: 0;\n\t}\n\n\t/* minimap */\n\t.monaco-editor.vs .minimap,\n\t.monaco-editor.vs-dark .minimap {\n\t\tdisplay: none;\n\t}\n\n\t/* squiggles */\n\t.monaco-editor.vs .squiggly-d-error,\n\t.monaco-editor.vs-dark .squiggly-d-error {\n\t\tbackground: transparent !important;\n\t\tborder-bottom: 4px double #E47777;\n\t}\n\t.monaco-editor.vs .squiggly-c-warning,\n\t.monaco-editor.vs-dark .squiggly-c-warning {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-b-info,\n\t.monaco-editor.vs-dark .squiggly-b-info {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-a-hint,\n\t.monaco-editor.vs-dark .squiggly-a-hint {\n\t\tborder-bottom: 4px double #6c6c6c;\n\t}\n\n\t/* contextmenu */\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* diff editor */\n\t.monaco-diff-editor.vs .diffOverviewRuler,\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\n\t\tdisplay: none;\n\t}\n\t.monaco-editor.vs .line-insert,\n\t.monaco-editor.vs-dark .line-insert,\n\t.monaco-editor.vs .line-delete,\n\t.monaco-editor.vs-dark .line-delete {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .char-insert,\n\t.monaco-editor.vs-dark .char-insert,\n\t.monaco-editor.vs .char-delete,\n\t.monaco-editor.vs-dark .char-delete {\n\t\tbackground: transparent !important;\n\t}\n}\n\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n'},62922:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-action-bar .action-item.menu-entry .action-label {\n\tbackground-image: var(--menu-entry-icon-light);\n}\n\n.vs-dark .monaco-action-bar .action-item.menu-entry .action-label,\n.hc-black .monaco-action-bar .action-item.menu-entry .action-label {\n\tbackground-image: var(--menu-entry-icon-dark);\n}\n\n.monaco-dropdown-with-default {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-default > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label {\n\tbackground-image: var(--menu-entry-icon-light);\n}\n\n.vs-dark .monaco-dropdown-with-default > .action-container.menu-entry > .action-label,\n.hc-black .monaco-dropdown-with-default > .action-container.menu-entry > .action-label {\n\tbackground-image: var(--menu-entry-icon-dark);\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n"},94321:Fe=>{Fe.exports="/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view .monaco-menu {\n\tmin-width: 130px;\n}\n\n"}}]);
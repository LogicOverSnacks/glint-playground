"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[599],{2744:(wt,rt,o)=>{o.d(rt,{S:()=>r});var e=o(9212);const r=g=>(()=>{class a extends g{constructor(){super(...arguments),this.disableTransitions=!0}ngOnInit(){super.ngOnInit&&super.ngOnInit(),setTimeout(()=>{this.disableTransitions=!1},0)}static{this.\u0275fac=(()=>{let J;return function(A){return(J||(J=e.n5z(a)))(A||a)}})()}static{this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac})}}return a})()},1361:(wt,rt,o)=>{o.d(rt,{P:()=>s});var e=o(8645),r=o(927),g=o(8753),et=o(9773),a=o(9212);const s=J=>(()=>{class A extends J{ngAfterViewInit(){super.ngAfterViewInit&&super.ngAfterViewInit();const n=this.viewports.map(I=>{const y=new e.x,G=new ResizeObserver(()=>y.next());return y.pipe((0,g.p)(20,r.Z,{leading:!0,trailing:!0}),(0,et.R)(this.destroyed$)).subscribe(()=>{I.checkViewportSize()}),G.observe(I.elementRef.nativeElement),G});this.destroyed$.subscribe(()=>{n.forEach(I=>I.disconnect())})}static{this.\u0275fac=(()=>{let n;return function(y){return(n||(n=a.n5z(A)))(y||A)}})()}static{this.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac})}}return A})()},4551:(wt,rt,o)=>{o.d(rt,{j:()=>s});var e=o(5619),r=o(9212),g=o(6814),et=o(2596);function a(J,V){if(1&J&&(r.TgZ(0,"div",3),r._uU(1),r.ALo(2,"async"),r.qZA()),2&J){const A=r.oxw();r.xp6(),r.Oqu(r.lcZ(2,1,A.leftPath))}}let s=(()=>{class J{constructor(){this.leftPath=new e.X(""),this.rightPath=new e.X("")}onCopy(A){A.preventDefault();const _=document.getSelection();_&&A.clipboardData?.setData("text/plain",_.toString().replace("\n",""))}ngOnChanges(A){if(A.path){const _=/^(.*)(\/[^\/]+)$/.exec(A.path.currentValue);_?(this.leftPath.next(_[1]??""),this.rightPath.next(_[2]??"")):(this.leftPath.next(""),this.rightPath.next(A.path.currentValue))}}static{this.\u0275fac=function(_){return new(_||J)}}static{this.\u0275cmp=r.Xpm({type:J,selectors:[["app-condensed-path"]],hostBindings:function(_,n){1&_&&r.NdJ("copy",function(y){return n.onCopy(y)})},inputs:{path:"path"},features:[r.TTD],decls:6,vars:7,consts:[[1,"container",3,"matTooltip"],["class","left",4,"ngIf"],[1,"right"],[1,"left"]],template:function(_,n){1&_&&(r.TgZ(0,"div",0),r.YNc(1,a,3,3,"div",1),r.ALo(2,"async"),r.TgZ(3,"div",2),r._uU(4),r.ALo(5,"async"),r.qZA()()),2&_&&(r.Q6J("matTooltip",n.path||""),r.xp6(),r.Q6J("ngIf",r.lcZ(2,3,n.leftPath)),r.xp6(3),r.Oqu(r.lcZ(5,5,n.rightPath)))},dependencies:[g.O5,et.gM,g.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.left[_ngcontent-%COMP%]{min-width:15px}.right[_ngcontent-%COMP%]{flex:1 0 auto;max-width:100%}.left[_ngcontent-%COMP%] + .right[_ngcontent-%COMP%]{max-width:calc(100% - 15px)}"],changeDetection:0})}}return J})()},680:(wt,rt,o)=>{o.d(rt,{T:()=>$});var e=o(9212),r=o(6223),g=o(5961),et=o(2572),a=o(7398),s=o(7081),J=o(3620),V=o(2181),A=o(7921),_=o(9773),n=o(4573),I=o(7910),y=o(5248),G=o(7337),t=o(6814),H=o(2296),F=o(4170),b=o(617),P=o(4516),p=o(2596),C=o(7484);const Z=["findControlInput"];function w(dt,ot){if(1&dt&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&dt){const N=e.oxw();e.xp6(),e.Oqu(N.findControl.getError("regex"))}}function U(dt,ot){if(1&dt&&(e.TgZ(0,"mat-hint"),e._uU(1),e.ALo(2,"async"),e.qZA()),2&dt){const N=e.oxw();e.xp6(),e.hij("",e.lcZ(2,1,N.matchesCount)," matches")}}let $=(()=>{class dt extends((0,n.j)(I.A)){hostKeyDown(N){(y.V?N.metaKey:N.ctrlKey)&&("f"===N.key||"F"===N.key)&&(N.preventDefault(),this.findControlInput.nativeElement.focus({preventScroll:!0}))}constructor(N){super(),this.findSelectionService=N,this.initial=null,this.findControl=new r.NI("",{nonNullable:!0,validators:j=>{if(this.useRegularExpressionControl?.value)try{new RegExp(j.value,"g")}catch(B){return{regex:B.message}}return null}}),this.matchCaseControl=new r.NI(!1,{nonNullable:!0}),this.useRegularExpressionControl=new r.NI(!1,{nonNullable:!0}),this.matchesCount=this.findSelectionService.matches.pipe((0,a.U)(j=>j.length),(0,s.d)(1)),this.gotoPreviousMatch=()=>this.findSelectionService.gotoPreviousMatch(),this.gotoNextMatch=()=>this.findSelectionService.gotoNextMatch()}ngOnInit(){this.initial&&(this.findControl.setValue(this.initial.text),this.matchCaseControl.setValue(this.initial.matchCase),this.useRegularExpressionControl.setValue(this.initial.useRegularExpression)),(0,et.a)([this.findControl.valueChanges.pipe((0,J.b)(100),(0,V.h)(()=>this.findControl.valid),(0,A.O)(this.findControl.value)),this.matchCaseControl.valueChanges.pipe((0,A.O)(this.matchCaseControl.value)),this.useRegularExpressionControl.valueChanges.pipe((0,A.O)(this.useRegularExpressionControl.value))]).pipe((0,_.R)(this.destroyed$)).subscribe(([N,j,B])=>{if(this.findControl.updateValueAndValidity({emitEvent:!1}),N)try{const st=new RegExp(B?N:(0,g.Z)(N),j?"g":"ig");this.findSelectionService.searchRegex.next(st)}catch{}else this.findSelectionService.searchRegex.next(null)})}static{this.\u0275fac=function(j){return new(j||dt)(e.Y36(G.u))}}static{this.\u0275cmp=e.Xpm({type:dt,selectors:[["app-find-control"]],viewQuery:function(j,B){if(1&j&&e.Gf(Z,5,e.SBq),2&j){let st;e.iGM(st=e.CRH())&&(B.findControlInput=st.first)}},hostBindings:function(j,B){1&j&&e.NdJ("keydown",function(bt){return B.hostKeyDown(bt)},!1,e.evT)},inputs:{initial:"initial"},features:[e.qOj],decls:31,vars:33,consts:[[1,"find-control"],["matPrefix",""],["type","text","matInput","",3,"formControl"],["findControlInput",""],["type","button","matSuffix","","mat-button","","disableRipple","",3,"matTooltip","click"],["svgIcon","format-letter-case"],["svgIcon","regex"],["type","button","matSuffix","","mat-button","","disableRipple","",3,"matTooltip","disabled","click"],["type","button","matSuffix","","mat-button","",3,"matTooltip","click"],[4,"ngIf"]],template:function(j,B){if(1&j&&(e.TgZ(0,"mat-form-field",0)(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-icon",1),e._uU(5,"search"),e.qZA(),e._UZ(6,"input",2,3),e.TgZ(8,"button",4),e.NdJ("click",function(){return B.matchCaseControl.setValue(!B.matchCaseControl.value)}),e.ALo(9,"translate"),e._UZ(10,"mat-icon",5),e.qZA(),e.TgZ(11,"button",4),e.NdJ("click",function(){return B.useRegularExpressionControl.setValue(!B.useRegularExpressionControl.value)}),e.ALo(12,"translate"),e._UZ(13,"mat-icon",6),e.qZA(),e.TgZ(14,"button",7),e.NdJ("click",function(){return B.gotoPreviousMatch()}),e.ALo(15,"translate"),e.ALo(16,"async"),e.TgZ(17,"mat-icon"),e._uU(18,"arrow_upward"),e.qZA()(),e.TgZ(19,"button",7),e.NdJ("click",function(){return B.gotoNextMatch()}),e.ALo(20,"translate"),e.ALo(21,"async"),e.TgZ(22,"mat-icon"),e._uU(23,"arrow_downward"),e.qZA()(),e.TgZ(24,"button",8),e.NdJ("click",function(){return B.findControl.setValue("")}),e.ALo(25,"translate"),e.TgZ(26,"mat-icon"),e._uU(27,"close"),e.qZA()(),e.YNc(28,w,2,1,"mat-error",9)(29,U,3,3,"mat-hint",9),e.ALo(30,"async"),e.qZA()),2&j){let st,bt;e.xp6(2),e.Oqu(e.lcZ(3,15,"Find")),e.xp6(4),e.Q6J("formControl",B.findControl),e.xp6(2),e.ekj("selected",B.matchCaseControl.value),e.Q6J("matTooltip",e.lcZ(9,17,"Match case")),e.xp6(3),e.ekj("selected",B.useRegularExpressionControl.value),e.Q6J("matTooltip",e.lcZ(12,19,"Use regular expression")),e.xp6(3),e.Q6J("matTooltip",e.lcZ(15,21,"Previous match"))("disabled",(null!==(st=e.lcZ(16,23,B.matchesCount))&&void 0!==st?st:0)<=0),e.xp6(5),e.Q6J("matTooltip",e.lcZ(20,25,"Next match"))("disabled",(null!==(bt=e.lcZ(21,27,B.matchesCount))&&void 0!==bt?bt:0)<=0),e.xp6(5),e.Q6J("matTooltip",e.lcZ(25,29,"Clear")),e.xp6(4),e.Q6J("ngIf",B.findControl.hasError("regex")),e.xp6(),e.Q6J("ngIf",B.findControl.valid&&e.lcZ(30,31,B.matchesCount))}},dependencies:[t.O5,r.Fj,r.JJ,r.oH,H.lW,F.KE,F.hX,F.bx,F.TO,F.qo,F.R9,b.Hw,P.Nt,p.gM,t.Ov,C.X],styles:[".find-control[_ngcontent-%COMP%]{min-width:340px;margin-top:5px;width:100%}.find-control[_ngcontent-%COMP%]  .mat-mdc-form-field-icon-suffix{display:flex;align-items:center;gap:4px;margin-right:4px}.find-control[_ngcontent-%COMP%]  .mdc-notched-outline__leading, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__notch, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__trailing{border:none}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:2px solid transparent;min-width:36px}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:18px;width:18px;height:18px}.dark-theme[_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#78909c}.light-theme[_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#78909c}"],changeDetection:0})}}return dt})()},7337:(wt,rt,o)=>{o.d(rt,{u:()=>et});var e=o(5619),r=o(2572),g=o(9212);let et=(()=>{class a{constructor(){this.searchRegex=new e.X(null),this.selectedMatch=new e.X(null),this._matches=new e.X([]),this.selectedMatchIndex=new e.X(null),this.matches=this._matches.asObservable(),(0,r.a)([this.matches,this.selectedMatchIndex]).subscribe(([J,V])=>{this.selectedMatch.next(null===V?null:J[V]??null)})}setMatches(J){this._matches.next(J),this.selectedMatchIndex.next(null)}gotoPreviousMatch(){const J=this._matches.value;if(J.length<=0)return void this.selectedMatchIndex.next(null);const V=this.selectedMatchIndex.value;this.selectedMatchIndex.next(null===V||0===V?J.length-1:V-1)}gotoNextMatch(){const J=this._matches.value;if(J.length<=0)return void this.selectedMatchIndex.next(null);const V=this.selectedMatchIndex.value;this.selectedMatchIndex.next(null===V||V===J.length-1?0:V+1)}static{this.\u0275fac=function(V){return new(V||a)}}static{this.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},2598:(wt,rt,o)=>{o.d(rt,{l:()=>A});var e=o(9212),r=o(5592),g=o(9773);function et(_){_||((0,e.gHi)(et),_=(0,e.f3M)(e.ktI));const n=new r.y(I=>_.onDestroy(I.next.bind(I)));return I=>I.pipe((0,g.R)(n))}var J=o(2572),V=o(7337);let A=(()=>{class _{constructor(I,y){this.findSelectionService=y,(0,J.a)([this.findSelectionService.searchRegex,this.findSelectionService.selectedMatch]).pipe(et()).subscribe(([G,t])=>{this.input&&(this.output=this.calculate(G,t)),I.markForCheck()})}transform(I,y,G){return(!this.input||!this.output||this.input.tokens!==I||this.input.text!==y||this.input.lineId!==G)&&(this.input={tokens:I,text:y,lineId:G},this.output=this.calculate(this.findSelectionService.searchRegex.value,this.findSelectionService.selectedMatch.value)),this.output}calculate(I,y){if(!this.input)return[];if(!I||!this.input.text)return this.input.tokens;const G=Array.from(this.input.text.matchAll(I),t=>({startIndex:t.index??0,endIndex:(t.index??0)+(t[0]?.length??0),scopes:["find-result"]}));return[...this.input.tokens,...G,...this.input.lineId===y?.lineId?[{startIndex:y.startIndex,endIndex:y.endIndex,scopes:["find-result-select"]}]:[]]}static{this.\u0275fac=function(y){return new(y||_)(e.Y36(e.sBO,16),e.Y36(V.u,16))}}static{this.\u0275pipe=e.Yjl({name:"findToken",type:_,pure:!1})}}return _})()},8517:(wt,rt,o)=>{o.d(rt,{$:()=>r});var e=o(9212);let r=(()=>{class g{constructor(a){this.template=a}static{this.\u0275fac=function(s){return new(s||g)(e.Y36(e.Rgc))}}static{this.\u0275dir=e.lG2({type:g,selectors:[["","appVirtualTreeEmptyNode",""]]})}}return g})()},510:(wt,rt,o)=>{o.d(rt,{I:()=>r});var e=o(9212);let r=(()=>{class g{constructor(a){this.template=a}static{this.\u0275fac=function(s){return new(s||g)(e.Y36(e.Rgc))}}static{this.\u0275dir=e.lG2({type:g,selectors:[["","appVirtualTreeLeafNode",""]]})}}return g})()},3999:(wt,rt,o)=>{o.d(rt,{J:()=>r});var e=o(9212);let r=(()=>{class g{constructor(a){this.template=a}static{this.\u0275fac=function(s){return new(s||g)(e.Y36(e.Rgc))}}static{this.\u0275dir=e.lG2({type:g,selectors:[["","appVirtualTreeNode",""]]})}}return g})()},9687:(wt,rt,o)=>{o.d(rt,{L:()=>H});var e=o(6825),r=o(7368),g=o(9212),et=o(7398),a=o(4573),s=o(7910),J=o(2744),V=o(1361),A=o(8517),_=o(510),n=o(3999),I=o(6814);function y(F,b){1&F&&g.GkF(0)}const G=F=>({$implicit:F});function t(F,b){if(1&F&&(g.TgZ(0,"li"),g.YNc(1,y,1,0,"ng-container",2),g.qZA()),2&F){const P=b.$implicit,p=g.oxw();g.Udp("padding-left",10*P.depth,"px"),g.xp6(),g.Q6J("ngTemplateOutlet",p.isEmpty(P)?p.emptyNodeDirective.template:p.isLeaf(P)?p.leafNodeDirective.template:p.nodeDirective.template)("ngTemplateOutletContext",g.VKq(4,G,P))}}let H=(()=>{class F extends((0,a.j)(s.A,J.S,V.P)){constructor(){super(...arguments),this.keyPressed=new g.vpe,this.isEmpty=P=>!P.id,this.isLeaf=P=>!P.children,this.expandVisibleNodes=P=>this.isLeaf(P)||!P.expanded?[P]:[P,...P.children.length>0?P.children.flatMap(this.expandVisibleNodes):this.emptyNodeDirective?[{depth:1}]:[]]}ngOnInit(){super.ngOnInit(),this.visibleNodes=this.tree.pipe((0,et.U)(P=>P.reduce((p,C)=>[...p,...this.expandVisibleNodes(C)],[])))}trackById(P,p){return p.id??null}static{this.\u0275fac=(()=>{let P;return function(C){return(P||(P=g.n5z(F)))(C||F)}})()}static{this.\u0275cmp=g.Xpm({type:F,selectors:[["app-virtual-tree"]],contentQueries:function(p,C,Z){if(1&p&&(g.Suo(Z,n.J,5),g.Suo(Z,_.I,5),g.Suo(Z,A.$,5)),2&p){let w;g.iGM(w=g.CRH())&&(C.nodeDirective=w.first),g.iGM(w=g.CRH())&&(C.leafNodeDirective=w.first),g.iGM(w=g.CRH())&&(C.emptyNodeDirective=w.first)}},viewQuery:function(p,C){if(1&p&&g.Gf(r.N7,5),2&p){let Z;g.iGM(Z=g.CRH())&&(C.viewports=Z)}},inputs:{tree:"tree",itemSize:"itemSize"},outputs:{keyPressed:"keyPressed"},features:[g.qOj],decls:5,vars:9,consts:[["tabindex","0",3,"itemSize","keydown"],[3,"padding-left",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(p,C){1&p&&(g.TgZ(0,"cdk-virtual-scroll-viewport",0),g.NdJ("keydown",function(w){return C.keyPressed.next(w)}),g.TgZ(1,"ul"),g.ALo(2,"async"),g.YNc(3,t,2,6,"li",1),g.ALo(4,"async"),g.qZA()()),2&p&&(g.Q6J("itemSize",C.itemSize)("@null",void 0),g.xp6(),g.Q6J("@slide",g.lcZ(2,5,C.visibleNodes)),g.xp6(2),g.Q6J("cdkVirtualForOf",g.lcZ(4,7,C.visibleNodes))("cdkVirtualForTrackBy",C.trackById))},dependencies:[r.xd,r.x0,r.N7,I.tP,I.Ov],styles:["cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{outline:none}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{transition:height 225ms ease-in-out}li[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}"],data:{animation:[(0,e.X$)("null",[(0,e.eR)(":enter",[]),(0,e.eR)(":leave",[])]),(0,e.X$)("slide",[(0,e.eR)("* => *",[(0,e.ru)([(0,e.IO)("li:enter",[(0,e.oB)({height:0}),(0,e.jt)("225ms ease-in-out",(0,e.oB)({height:"*"}))],{optional:!0}),(0,e.IO)("li:leave",[(0,e.oB)({height:"*"}),(0,e.jt)("225ms ease-in-out",(0,e.oB)({height:0}))],{optional:!0})])])])]},changeDetection:0})}}return F})()},2415:(wt,rt,o)=>{o.d(rt,{v:()=>V});var e=o(9773),r=o(4573),g=o(7910),et=o(8873),a=o(9212),s=o(6814),J=o(5932);let V=(()=>{class A extends((0,r.j)(g.A)){constructor(n,I,y){super(),this.datePipe=I,this.language="en",y.select(et.aB.language).pipe((0,e.R)(this.destroyed$)).subscribe(G=>{this.language=G,this.input&&(this.output=this.translate(G,this.input.date,this.input.format)),n.markForCheck()})}transform(n,I){return(!this.input||!this.output||this.input.date!==n||this.input.format!==I)&&(this.input={date:n,format:I},this.output=this.translate(this.language,n,I)),this.output}translate(n,I,y){let G;switch(n){case"en":G="en-GB","monthYear"===y&&(y="MMM yyyy");break;case"zh":G="zh-CN","monthYear"===y&&(y="yyyy\u5e74M\u6708")}return this.datePipe.transform(I,y,void 0,G)}static{this.\u0275fac=function(I){return new(I||A)(a.Y36(a.sBO,16),a.Y36(s.uU,16),a.Y36(J.yh,16))}}static{this.\u0275pipe=a.Yjl({name:"translateDate",type:A,pure:!1})}}return A})()},8599:(wt,rt,o)=>{o.r(rt),o.d(rt,{StandardLayoutModule:()=>Ye});var e=o(9038),r=o(8525),g=o(1345),et=o(6016),a=o(4630),s=o(7700),J=o(4170),V=o(4516),A=o(7988),_=o(5940),n=o(4104),I=o(1264),y=o(8700),G=o(535),t=o(9212);let H=(()=>{class f{static{this.\u0275fac=function(x){return new(x||f)}}static{this.\u0275mod=t.oAB({type:f})}static{this.\u0275inj=t.cJS({imports:[a.Bb,s.Is,J.lN,V.c,A.Tx,_.Cq,r.LD,n.Nh,g.I,I.$,y.m,G.Z]})}}return f})();var F=o(2860),b=o(3897),P=o(6223),p=o(5619),C=o(2572),Z=o(7921),w=o(8753),U=o(7398),$=o(2181),dt=o(9397),ot=o(4664),N=o(2096),j=o(6306),B=o(8504),st=o(9773),bt=o(4716),at=o(3153),pt=o(4573),X=o(7910),ut=o(751),Ct=o(4820),Pt=o(2401),Rt=o(709),yt=o(5932),gt=o(2718),Tt=o(7584),k=o(7183),D=o(5033),v=o(6814),R=o(2296),m=o(617),E=o(2596),L=o(6825),lt=o(7368),_t=o(1361),kt=o(4214),$t=o(1314),Ht=o(1102),Qt=o(6275),ct=o(9193),At=o(3588),S=o(3235),Y=o(7399),it=o(7484);function Et(f,xt){if(1&f){const h=t.EpF();t.TgZ(0,"li",10),t.NdJ("click",function(){const z=t.CHM(h).$implicit,W=t.oxw();return t.KtG(W.selectedCommitDetail.next(z))}),t.ALo(1,"async"),t._UZ(2,"app-avatar",11),t.TgZ(3,"span",12),t._uU(4),t.qZA()()}if(2&f){const h=xt.$implicit,x=t.oxw(),u=t.MAs(12);let z;t.ekj("selected",h.id===(null==(z=t.lcZ(1,9,x.selectedCommitDetail))?null:z.id)),t.Q6J("appContextMenu",u)("appContextMenuData",h),t.xp6(2),t.Q6J("matTooltip",h.authorName+" ("+h.authorEmail+")")("remotes",x.remotes)("email",h.authorEmail),t.xp6(),t.Q6J("matTooltip",h.message),t.xp6(),t.hij(" ",x.getCommitSummary(h)," ")}}function Jt(f,xt){if(1&f){const h=t.EpF();t.TgZ(0,"app-diff-view",13),t.NdJ("closed",function(){t.CHM(h);const u=t.oxw();return t.KtG(u.selectedPatch.next(null))}),t.qZA()}if(2&f){const h=t.oxw();t.Q6J("@slideLeft",void 0)("patch",h.selectedPatch)}}function jt(f,xt){if(1&f){const h=t.EpF();t.TgZ(0,"app-commit-detail-view",14),t.NdJ("patchChanged",function(u){t.CHM(h);const z=t.oxw();return t.KtG(z.patchChanged(u))}),t.qZA()}if(2&f){const h=t.oxw();t.Q6J("commit",h.selectedCommitDetail)("selectedFile",h.selectedFile)}}function ne(f,xt){if(1&f){const h=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t._uU(2),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){const z=t.CHM(h).data,W=t.oxw();return t.KtG(W.copyToClipboard(z.commitId))}),t.TgZ(4,"mat-icon"),t._uU(5,"content_copy"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"button",17),t.NdJ("click",function(){const z=t.CHM(h).data,W=t.oxw();return t.KtG(W.jumpToCommit(z.commitId))}),t.TgZ(10,"mat-icon"),t._uU(11,"launch"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"translate"),t.qZA()()()}if(2&f){const h=xt.data,x=t.oxw();t.xp6(),t.Q6J("matTooltip",h.message),t.xp6(),t.Oqu(x.getCommitSummary(h)),t.xp6(),t.Q6J("matTooltip",h.commitId),t.xp6(4),t.Oqu(t.lcZ(8,6,"Copy Commit ID")),t.xp6(2),t.Q6J("matTooltip",h.commitId),t.xp6(4),t.Oqu(t.lcZ(14,8,"Jump to Commit"))}}let oe=(()=>{class f extends((0,pt.j)(X.A,_t.P)){constructor(h,x,u){super(),this.router=h,this.store=x,this.commitsApi=u,this.yUnit=$t.$.yUnit,this.commitDetails=new p.X([]),this.selectedCommitDetail=new p.X(null),this.selectedPatch=new p.X(null),this.selectedFile=this.selectedPatch.pipe((0,U.U)(z=>z?{area:"commit",oldFilePath:z.patch.oldFilePath,newFilePath:z.patch.newFilePath}:null)),this.getCommitSummary=z=>z.message.split("\n")[0]}ngOnChanges(h){if(!h.commits)return;const x=this.store.selectSnapshot(Pt.E.selectedRepositoryPath);if(!x)throw new at.uX;this.repositoryPath=x,this.commitsApi.getCommits(x,this.commits).pipe((0,st.R)(this.destroyed$)).subscribe(z=>{this.commitDetails.next(z),z[0]&&this.selectedCommitDetail.next(z[0])});const u=this.store.selectSnapshot(Pt.E.selectedRemotes);if(!u)throw new at.St;this.remotes=u}patchChanged(h){const x=this.selectedCommitDetail.value;"commit"!==h.area||!x||0===x.patches.length||this.commitsApi.getPatch(this.repositoryPath,x.id,h.oldFilePath,h.newFilePath).pipe((0,U.U)(u=>({repositoryPath:this.repositoryPath,patch:u,isUnstaged:!1})),(0,j.K)(u=>at.ik.matches(u)||at.vE.matches(u)?(0,N.of)(null):(0,B._)(()=>u)),(0,st.R)(this.destroyed$)).subscribe(u=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===u?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===u?.patch.oldFilePath?null:u)})}copyToClipboard(h){navigator.clipboard.writeText(h??"")}jumpToCommit(h){this.store.dispatch([new kt.jQ(this.repositoryPath,h),new kt.BK(this.repositoryPath,h)]).subscribe(()=>{this.router.navigate(["/standard/default"])})}trackCommitDetail(h,x){return x.id}static{this.\u0275fac=function(x){return new(x||f)(t.Y36(b.F0),t.Y36(yt.yh),t.Y36(gt.T))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["app-pull-request-commits-view"]],viewQuery:function(x,u){if(1&x&&t.Gf(lt.N7,5),2&x){let z;t.iGM(z=t.CRH())&&(u.viewports=z)}},inputs:{commits:"commits"},features:[t.qOj,t.TTD],decls:13,vars:9,consts:[["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[1,"viewport-wrapper"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"selected","appContextMenu","appContextMenuData","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],["contextMenu",""],[3,"appContextMenu","appContextMenuData","click"],[3,"matTooltip","remotes","email"],[1,"summary",3,"matTooltip"],[3,"patch","closed"],[3,"commit","selectedFile","patchChanged"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"matTooltip","click"]],template:function(x,u){1&x&&(t.TgZ(0,"app-grid",0)(1,"app-grid-cell",1)(2,"div",2)(3,"cdk-virtual-scroll-viewport",3)(4,"ul",4),t.YNc(5,Et,5,11,"li",5),t.qZA()()(),t.YNc(6,Jt,1,2,"app-diff-view",6),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"app-grid-cell",7),t.YNc(9,jt,1,2,"app-commit-detail-view",8),t.ALo(10,"async"),t.qZA()(),t.YNc(11,ne,15,10,"ng-template",null,9,t.W1O)),2&x&&(t.xp6(3),t.Q6J("itemSize",u.yUnit),t.xp6(2),t.Q6J("cdkVirtualForOf",u.commitDetails)("cdkVirtualForTrackBy",u.trackCommitDetail),t.xp6(),t.Q6J("ngIf",t.lcZ(7,5,u.selectedPatch)),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,7,u.selectedCommitDetail)))},dependencies:[lt.xd,lt.x0,lt.N7,v.O5,m.Hw,E.gM,Ht.A,Qt.l,ct.Y,At.M,S.T,Y.s,v.Ov,it.X],styles:[".viewport-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.messages-viewport[_ngcontent-%COMP%]{contain:content;scrollbar-gutter:stable;height:100%}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:28px;line-height:28px;padding-left:5px;padding-right:130px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:26px;height:26px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:1rem;vertical-align:middle}app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#2d2d2d}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #1e1e1e}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#eee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #fafafa}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #eeeeee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #eeeeee}"],data:{animation:[(0,L.X$)("slideLeft",[(0,L.eR)(":enter",[(0,L.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,L.jt)("200ms",(0,L.oB)({transform:"translateX(0)"}))]),(0,L.eR)(":leave",[(0,L.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,L.jt)("200ms",(0,L.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return f})();var ae=o(5684),ie=o(5696);function se(f,xt){if(1&f){const h=t.EpF();t.TgZ(0,"app-diff-view",5),t.NdJ("closed",function(){t.CHM(h);const u=t.oxw();return t.KtG(u.selectedPatch.next(null))}),t.qZA()}if(2&f){const h=t.oxw();t.Q6J("@slideLeft",void 0)("patch",h.selectedPatch)}}let ht=(()=>{class f extends((0,pt.j)(X.A)){constructor(h,x){super(),this.store=h,this.commitsApi=x,this.selectedPatch=new p.X(null),this.selectedFile=this.selectedPatch.pipe((0,U.U)(u=>u?{area:"commit",oldFilePath:u.patch.oldFilePath,newFilePath:u.patch.newFilePath}:null))}ngOnInit(){const h=this.store.selectSnapshot(Pt.E.selectedRepositoryPath);if(!h)throw new at.uX;this.repositoryPath=h}ngAfterViewInit(){const h=(0,ae.Z)(this.patches,x=>x.oldFilePath?.toLowerCase()??x.newFilePath?.toLowerCase())[0];h&&setTimeout(()=>{this.changePatch(h.oldFilePath,h.newFilePath)},500)}changePatch(h,x){this.commitsApi.getCompareCommitsPatch(this.repositoryPath,this.fromCommitId,this.toCommitId,h,x).pipe((0,U.U)(u=>({repositoryPath:this.repositoryPath,patch:u,isUnstaged:!1})),(0,j.K)(u=>at.ik.matches(u)||at.vE.matches(u)?(0,N.of)(null):(0,B._)(()=>u)),(0,st.R)(this.destroyed$)).subscribe(u=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===u?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===u?.patch.oldFilePath?null:u)})}static{this.\u0275fac=function(x){return new(x||f)(t.Y36(yt.yh),t.Y36(gt.T))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["app-pull-request-patches-view"]],inputs:{fromCommitId:"fromCommitId",toCommitId:"toCommitId",patches:"patches"},features:[t.qOj],decls:7,vars:7,consts:[["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"patches","selected","selectedChanged"],[3,"patch","closed"]],template:function(x,u){1&x&&(t.TgZ(0,"app-grid",0)(1,"app-grid-cell",1),t.YNc(2,se,1,2,"app-diff-view",2),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"app-grid-cell",3)(5,"app-patches-view",4),t.NdJ("selectedChanged",function(W){return u.changePatch(W.oldFilePath,W.newFilePath)}),t.ALo(6,"async"),t.qZA()()()),2&x&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,3,u.selectedPatch)),t.xp6(3),t.Q6J("patches",u.patches)("selected",t.lcZ(6,5,u.selectedFile)))},dependencies:[v.O5,ct.Y,At.M,Y.s,ie.i,v.Ov],styles:["app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}app-patches-view[_ngcontent-%COMP%]{padding:16px;height:100%;display:flex;flex-direction:column;gap:10px}"],data:{animation:[(0,L.X$)("slideLeft",[(0,L.eR)(":enter",[(0,L.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,L.jt)("200ms",(0,L.oB)({transform:"translateX(0)"}))]),(0,L.eR)(":leave",[(0,L.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,L.jt)("200ms",(0,L.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return f})();var Ut=o(7612),T=o(3680);function K(f,xt){if(1&f&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&f){const h=xt.$implicit;t.Q6J("value",h),t.xp6(),t.AsE(" ",h.owner,"/",h.repo," ")}}const q=f=>({branch:f});function Mt(f,xt){if(1&f&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&f){const h=xt.$implicit;t.Q6J("value",t.VKq(2,q,h)),t.xp6(),t.Oqu(h)}}function St(f,xt){if(1&f&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&f){const h=xt.$implicit;t.Q6J("value",h),t.xp6(),t.AsE(" ",h.owner,"/",h.repo," ")}}function zt(f,xt){if(1&f&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&f){const h=xt.$implicit;t.Q6J("value",t.VKq(2,q,h)),t.xp6(),t.Oqu(h)}}let Xt=(()=>{class f extends((0,pt.j)(X.A)){constructor(h,x,u,z,W){super(),this.store=h,this.bitbucketApiService=x,this.gitHubApiService=u,this.gitLabApiService=z,this.providerUrlMatcherService=W,this.filteredFromRepos=[],this.displayBranch=mt=>mt?mt.branch:"",this.displayRepo=mt=>mt?`${mt.owner}/${mt.repo}`:""}ngOnInit(){const h=this.store.selectSnapshot(Pt.E.selectedRemotes)?.filter(x=>this.providerUrlMatcherService.matchProvider(x.url)?.type===this.integration.type);if(!h)throw new ut.ZR(new at.St);this.filteredFromRepos=h.flatMap(x=>{const u=this.providerUrlMatcherService.matchProvider(x.url);return u?.type!==this.integration.type?[]:{owner:"bitbucket"===u.type?u.workspace:"github"===u.type?u.owner:"gitlab"===u.type?u.namespace:"",repo:u.repo}}),this.filteredFromRepos[0]&&(this.controls.fromRepo.setValue(this.filteredFromRepos[0]),this.controls.toRepo.setValue(this.filteredFromRepos[0])),this.filteredFromBranches=(0,C.a)([this.controls.fromRepo.valueChanges.pipe((0,Z.O)(this.controls.fromRepo.value),(0,w.p)(500,void 0,{leading:!0,trailing:!0}),(0,ot.w)(x=>this.getBranches(x))),this.controls.fromBranch.valueChanges.pipe((0,Z.O)(this.controls.fromBranch.value),(0,w.p)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,U.U)(([x,u])=>"string"==typeof u?x.filter(z=>z.toLowerCase().includes(u.toLowerCase())):x)),this.filteredToRepos=this.controls.fromRepo.valueChanges.pipe((0,Z.O)(this.controls.fromRepo.value),(0,w.p)(500,void 0,{leading:!0,trailing:!0}),(0,ot.w)(x=>{const{owner:u,repo:z}=x??{};if(!u||!z)return(0,N.of)(this.filteredFromRepos);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getRepository(u,z,void 0,this.integration).pipe((0,U.U)(W=>{if(!W?.parent){const tt=this.controls.fromRepo.value,It=this.controls.toRepo.value;return tt?.owner===It?.owner&&tt?.repo===It?.repo&&this.controls.toBranch.pristine&&W?.mainbranch&&this.controls.toBranch.setValue({branch:W.mainbranch.name}),this.filteredFromRepos}const[mt,vt]=W?.parent?.full_name.split("/")??[];return mt&&vt?(this.controls.toBranch.pristine&&W.parent?.mainbranch&&this.controls.toBranch.setValue({branch:W.parent.mainbranch.name}),[{owner:mt,repo:vt},...this.filteredFromRepos.filter(tt=>tt.owner!==mt||tt.repo!==vt)]):this.filteredFromRepos}));case"github":return this.gitHubApiService.getRepository(this.integration.token,u,z).pipe((0,U.U)(W=>{if(!W?.parent){const tt=this.controls.fromRepo.value,It=this.controls.toRepo.value;return tt?.owner===It?.owner&&tt?.repo===It?.repo&&this.controls.toBranch.pristine&&W&&this.controls.toBranch.setValue({branch:W.default_branch}),this.filteredFromRepos}const[mt,vt]=W?.parent?.full_name.split("/")??[];return mt&&vt?(this.controls.toBranch.pristine&&W.parent&&this.controls.toBranch.setValue({branch:W.parent.default_branch}),[{owner:mt,repo:vt},...this.filteredFromRepos.filter(tt=>tt.owner!==mt||tt.repo!==vt)]):this.filteredFromRepos}));case"gitlab":return this.gitLabApiService.getRepository(this.integration,u,z).pipe((0,U.U)(W=>{if(!W?.forked_from_project){const tt=this.controls.fromRepo.value,It=this.controls.toRepo.value;return tt?.owner===It?.owner&&tt?.repo===It?.repo&&this.controls.toBranch.pristine&&W&&this.controls.toBranch.setValue({branch:W.default_branch}),this.filteredFromRepos}const mt=W?.forked_from_project?.namespace.path,vt=W?.forked_from_project?.path;return mt&&vt?(this.controls.toBranch.pristine&&W.forked_from_project&&this.controls.toBranch.setValue({branch:W.forked_from_project.default_branch}),[{owner:mt,repo:vt},...this.filteredFromRepos.filter(tt=>tt.owner!==mt||tt.repo!==vt)]):this.filteredFromRepos}));default:throw new Error("Check not exhaustive.")}})),this.filteredToBranches=(0,C.a)([this.controls.toRepo.valueChanges.pipe((0,Z.O)(this.controls.toRepo.value),(0,w.p)(500,void 0,{leading:!0,trailing:!0}),(0,ot.w)(x=>this.getBranches(x))),this.controls.toBranch.valueChanges.pipe((0,Z.O)(this.controls.toBranch.value),(0,w.p)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,U.U)(([x,u])=>"string"==typeof u?x.filter(z=>z.toLowerCase().includes(u.toLowerCase())):x))}getBranches(h){const{owner:x,repo:u}=h??{};if(!x||!u)return(0,N.of)([]);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getBranches(this.integration,x,u).pipe((0,U.U)(z=>z?.values.map(({name:W})=>W)??[]),(0,j.K)(()=>(0,N.of)([])));case"github":return this.gitHubApiService.getBranches(this.integration.token,x,u).pipe((0,U.U)(z=>z?.map(({name:W})=>W)??[]),(0,j.K)(()=>(0,N.of)([])));case"gitlab":return this.gitLabApiService.getBranches(this.integration,x,u).pipe((0,U.U)(z=>z?.map(({name:W})=>W)??[]),(0,j.K)(()=>(0,N.of)([])));default:throw new Error("Check not exhaustive.")}}static{this.\u0275fac=function(x){return new(x||f)(t.Y36(yt.yh),t.Y36(Tt.L),t.Y36(k.t),t.Y36(D.T),t.Y36(Ut.d))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["app-pull-request-select-view"]],inputs:{integration:"integration",controls:"controls"},features:[t.qOj],decls:33,vars:30,consts:[["subscriptSizing","dynamic",1,"to-repo"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["subscriptSizing","dynamic",1,"to-branch"],["type","text","matInput","","required","",3,"formControl","matAutocomplete"],[3,"displayWith"],["autoToBranch","matAutocomplete"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],["type","text","matInput","","required","","cdkFocusInitial","",3,"formControl","matAutocomplete"],["autoFromBranch","matAutocomplete"],[3,"value"]],template:function(x,u){if(1&x&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-select",1),t.YNc(5,K,2,3,"mat-option",2),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",4),t.TgZ(12,"mat-autocomplete",5,6),t.YNc(14,Mt,2,4,"mat-option",2),t.ALo(15,"async"),t.qZA()(),t.TgZ(16,"mat-icon"),t._uU(17,"arrow_back"),t.qZA(),t.TgZ(18,"mat-form-field",7)(19,"mat-label"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"mat-select",1),t.YNc(23,St,2,3,"mat-option",2),t.qZA()(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"input",9),t.TgZ(29,"mat-autocomplete",5,10),t.YNc(31,zt,2,4,"mat-option",2),t.ALo(32,"async"),t.qZA()()),2&x){const z=t.MAs(13),W=t.MAs(30);t.xp6(2),t.Oqu(t.lcZ(3,16,"Base Repository")),t.xp6(2),t.Q6J("formControl",u.controls.toRepo),t.xp6(),t.Q6J("ngForOf",t.lcZ(6,18,u.filteredToRepos)),t.xp6(4),t.Oqu(t.lcZ(10,20,"Base Branch")),t.xp6(2),t.Q6J("formControl",u.controls.toBranch)("matAutocomplete",z),t.xp6(),t.Q6J("displayWith",u.displayBranch),t.xp6(2),t.Q6J("ngForOf",t.lcZ(15,22,u.filteredToBranches)),t.xp6(6),t.Oqu(t.lcZ(21,24,"Head Repository")),t.xp6(2),t.Q6J("formControl",u.controls.fromRepo),t.xp6(),t.Q6J("ngForOf",u.filteredFromRepos),t.xp6(3),t.Oqu(t.lcZ(27,26,"Head Branch")),t.xp6(2),t.Q6J("formControl",u.controls.fromBranch)("matAutocomplete",W),t.xp6(),t.Q6J("displayWith",u.displayBranch),t.xp6(2),t.Q6J("ngForOf",t.lcZ(32,28,u.filteredFromBranches))}},dependencies:[a.XC,T.ey,a.ZL,J.KE,J.hX,V.Nt,r.gD,v.sg,P.Fj,P.JJ,P.Q7,P.oH,m.Hw,v.Ov,it.X],styles:["[_nghost-%COMP%]{display:flex;gap:10px;align-items:center}.to-repo[_ngcontent-%COMP%], .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}.to-branch[_ngcontent-%COMP%], .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}"],changeDetection:0})}}return f})();function te(f,xt){1&f&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&f&&(t.xp6(),t.Oqu(t.lcZ(2,1,"Title is required")))}const le=f=>({count:f});function ce(f,xt){if(1&f&&(t.TgZ(0,"mat-tab",4),t.ALo(1,"translate"),t.TgZ(2,"div",16),t._UZ(3,"app-pull-request-commits-view",17),t.qZA()()),2&f){const h=t.oxw().ngIf;t.s9C("label",t.xi3(1,2,"Commits (_count_)",t.VKq(5,le,h.commits.length))),t.xp6(3),t.Q6J("commits",h.commits)}}function nt(f,xt){if(1&f&&(t.TgZ(0,"mat-tab",4),t.ALo(1,"translate"),t._UZ(2,"app-pull-request-patches-view",18),t.qZA()),2&f){const h=t.oxw().ngIf;t.s9C("label",t.xi3(1,4,"Files changed (_count_)",t.VKq(7,le,h.patches.length))),t.xp6(2),t.Q6J("fromCommitId",h.fromCommitId)("toCommitId",h.toCommitId)("patches",h.patches)}}function ft(f,xt){if(1&f&&(t.ynx(0),t.YNc(1,ce,4,7,"mat-tab",15)(2,nt,3,9,"mat-tab",15),t.BQk()),2&f){const h=xt.ngIf,x=t.oxw();t.xp6(),t.Q6J("ngIf",x.hasCommits(h)),t.xp6(),t.Q6J("ngIf",x.hasPatches(h))}}function d(f,xt){if(1&f&&(t.TgZ(0,"span",21),t.ALo(1,"translate"),t.ALo(2,"async"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&f){const h=t.oxw(2);t.Q6J("matTooltip",t.lcZ(1,2,null===t.lcZ(2,4,h.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.xp6(3),t.hij(" ",t.lcZ(4,6,"Commits")," ")}}function M(f,xt){if(1&f&&(t.TgZ(0,"span",21),t.ALo(1,"translate"),t.ALo(2,"async"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&f){const h=t.oxw(2);t.Q6J("matTooltip",t.lcZ(1,2,null===t.lcZ(2,4,h.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.xp6(3),t.hij(" ",t.lcZ(4,6,"Files changed")," ")}}function i(f,xt){1&f&&(t.ynx(0),t.TgZ(1,"mat-tab",19),t.YNc(2,d,5,8,"ng-template",20),t.qZA(),t.TgZ(3,"mat-tab",19),t.YNc(4,M,5,8,"ng-template",20),t.qZA(),t.BQk())}function l(f,xt){1&f&&t._UZ(0,"mat-spinner",22)}function c(f,xt){1&f&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&f&&(t.xp6(),t.Oqu(t.lcZ(2,1,"View in browser")))}function O(f,xt){1&f&&t._UZ(0,"mat-spinner",22)}function Q(f,xt){1&f&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&f&&(t.xp6(),t.Oqu(t.lcZ(2,1,"Create Pull Request")))}let Zt=(()=>{class f extends((0,pt.j)(X.A)){constructor(h,x,u,z,W,mt){super(),this.route=h,this.store=x,this.commitsApi=u,this.bitbucketApiService=z,this.gitHubApiService=W,this.gitLabApiService=mt,this.form=new P.cw({fromRepo:new P.NI(null,P.kI.required),fromBranch:new P.NI(null,P.kI.required),toRepo:new P.NI(null,P.kI.required),toBranch:new P.NI(null,P.kI.required),title:new P.NI(null,P.kI.required),description:new P.NI(null),draft:new P.NI(!1,{nonNullable:!0})}),this.compare=new p.X(void 0),this.loadingCompare=new p.X(!1),this.creatingPullRequest=new p.X(!1),this.hasCommits=vt=>!!vt.commits,this.hasPatches=vt=>!!vt.patches,this.getBranch=vt=>"string"==typeof vt?vt:vt.branch}ngOnInit(){const h=this.route.snapshot.paramMap.get("type");if("bitbucket"!==h&&"github"!==h&&"gitlab"!==h)throw new at.wp(h);const x=this.route.snapshot.paramMap.get("integrationId"),u=this.store.selectSnapshot(Rt.$.integrations).find(W=>W.type===h&&W.id==x);if(!u)throw new at.e5(h,x);this.integration=u;const z=this.store.selectSnapshot(Pt.E.selectedRepositoryPath);if(!z)throw new at.uX;(0,C.a)([this.form.controls.toRepo.valueChanges.pipe((0,Z.O)(this.form.controls.toRepo.value)),this.form.controls.toBranch.valueChanges.pipe((0,Z.O)(this.form.controls.toBranch.value)),this.form.controls.fromRepo.valueChanges.pipe((0,Z.O)(this.form.controls.fromRepo.value)),this.form.controls.fromBranch.valueChanges.pipe((0,Z.O)(this.form.controls.fromBranch.value))]).pipe((0,w.p)(500,void 0,{leading:!0,trailing:!0}),(0,U.U)(([W,mt,vt,tt])=>{const{owner:It,repo:Bt}=this.getOwnerRepo(W),{owner:Vt,repo:Kt}=this.getOwnerRepo(vt);return It&&Bt&&mt&&Vt&&Kt&&tt?{toOwner:It,toRepo:Bt,toBranch:mt,fromOwner:Vt,fromRepo:Kt,fromBranch:tt}:null}),(0,$.h)(ut.$K),(0,dt.b)(()=>{this.loadingCompare.next(!0)}),(0,ot.w)(({toOwner:W,toRepo:mt,toBranch:vt,fromOwner:tt,fromRepo:It,fromBranch:Bt})=>{switch(this.integration.type){case"bitbucket":const Vt=this.getBranch(Bt),Kt=this.getBranch(vt);return W!==tt||mt!==It?(0,N.of)({url:`https://bitbucket.org/${W}/${mt}/branches/compare/${tt}/${It}:${Vt}%0D${W}/${mt}:${Kt}`}):this.bitbucketApiService.compareCommits(W,mt,Vt,Kt,"values.hash,values.parents.hash").pipe((0,ot.w)(Dt=>{const Nt=Dt.values[0]?.hash,Ft=Dt.values[Dt.values.length-1]?.parents[0]?.hash,Gt={url:`https://bitbucket.org/${W}/${mt}/branches/compare/${Vt}..${Kt}`,fromCommitId:Nt,toCommitId:Ft,commits:Dt.values.map(ee=>ee.hash)};return Nt&&Ft?this.commitsApi.compareCommits(z,Nt,Ft).pipe((0,U.U)(ee=>({...Gt,fromCommitId:Nt,toCommitId:Ft,patches:ee}))):(0,N.of)(null)}));case"github":return this.gitHubApiService.compare(this.integration.token,W,mt,this.getBranch(vt),tt,It,this.getBranch(Bt)).pipe((0,ot.w)(Dt=>{const Nt=Dt?.commits[Dt.commits.length-1]?.sha,Ft=Dt?.base_commit.sha;if(!Dt)return(0,N.of)(null);const Gt={url:Dt.html_url,fromCommitId:Nt,toCommitId:Ft,commits:Dt.commits.map(ee=>ee.sha)};return Dt&&Nt&&Ft&&Dt.commits.length<250?this.commitsApi.compareCommits(z,Nt,Ft).pipe((0,U.U)(ee=>({...Gt,fromCommitId:Nt,toCommitId:Ft,patches:ee}))):(0,N.of)(null)}));case"gitlab":const Wt=this.integration;return this.gitLabApiService.getProject(Wt,W,mt).pipe((0,ot.w)(Dt=>this.gitLabApiService.compare(Wt,tt,It,this.getBranch(Bt),this.getBranch(vt),Dt.id)),(0,ot.w)(Dt=>{const Nt=Dt?.commit?.id,Ft=Dt?.commits[0]?.parent_ids[0];if(!Dt)return(0,N.of)(null);const Gt={url:Dt.web_url,fromCommitId:Nt,toCommitId:Ft,commits:Dt.commits.map(ee=>ee.id)};return Dt&&Nt&&Ft?this.commitsApi.compareCommits(z,Nt,Ft).pipe((0,U.U)(ee=>({...Gt,fromCommitId:Nt,toCommitId:Ft,patches:ee}))):(0,N.of)(null)}));default:throw new Error(`Check not exhaustive '${this.integration}'.`)}}),(0,j.K)(W=>at.ik.matches(W)?(0,N.of)(null):(0,B._)(()=>W)),(0,Ct.s)(()=>{this.loadingCompare.next(!1)}),(0,st.R)(this.destroyed$)).subscribe(W=>{this.compare.next(W),this.loadingCompare.next(!1)})}close(){history.back()}openCompareInBrowser(){const h=this.compare.value?.url;h&&window.open(h)}createPullRequest(){const{toRepo:h,toBranch:x,fromRepo:u,fromBranch:z,title:W,description:mt}=this.form.value,{owner:vt,repo:tt}=this.getOwnerRepo(h),{owner:It,repo:Bt}=this.getOwnerRepo(u);if(this.form.invalid||!vt||!tt||!x||!It||!Bt||!z||!W)throw new ut.ZR(new at.KH);let Vt;switch(this.creatingPullRequest.next(!0),this.integration.type){case"bitbucket":Vt=this.bitbucketApiService.createPullRequest(this.integration,vt,tt,{title:W,description:mt??void 0,source:{branch:{name:this.getBranch(z)},repository:{full_name:`${It}/${Bt}`}},destination:{branch:{name:this.getBranch(x)}}});break;case"github":Vt=this.gitHubApiService.createPullRequest(this.integration.token,vt,tt,{head:`${It}:${this.getBranch(z)}`,head_repo:Bt,base:this.getBranch(x),title:W,body:mt??void 0});break;case"gitlab":const Kt=this.integration;Vt=this.gitLabApiService.getRepository(Kt,vt,tt).pipe((0,ot.w)(Yt=>this.gitLabApiService.createMergeRequest(Kt,It,Bt,{source_branch:this.getBranch(z),target_branch:this.getBranch(x),target_project_id:Yt.id??void 0,title:W,description:mt??void 0})));break;default:throw new Error(`Check not exhaustive '${this.integration}'.`)}Vt.pipe((0,bt.x)(()=>{this.creatingPullRequest.next(!1)})).subscribe(()=>{this.close()})}getOwnerRepo(h){if("string"==typeof h){const x=h.split("/"),[u,z]=x;return u&&z&&2===x.length?{owner:u,repo:z}:{owner:void 0,repo:void 0}}return h??{owner:void 0,repo:void 0}}static{this.\u0275fac=function(x){return new(x||f)(t.Y36(b.gz),t.Y36(yt.yh),t.Y36(gt.T),t.Y36(Tt.L),t.Y36(k.t),t.Y36(D.T))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["ng-component"]],features:[t.qOj],decls:47,vars:59,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[3,"controls","integration"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab","description"],[1,"title-field"],["type","text","matInput","","required","",3,"formControl"],[4,"ngIf"],[1,"description-field"],["matInput","","rows","5",3,"placeholder","formControl"],["type","button","mat-flat-button","","color","accent",3,"disabled","click"],["diameter","24",4,"ngIf"],[3,"matTooltip"],["type","button","mat-flat-button","","color","primary",3,"disabled","click"],[3,"label",4,"ngIf"],[1,"tab"],[3,"commits"],[3,"fromCommitId","toCommitId","patches"],["disabled",""],["mat-tab-label",""],[1,"disabled-tab",3,"matTooltip"],["diameter","24"]],template:function(x,u){1&x&&(t.TgZ(0,"header")(1,"button",0),t.NdJ("click",function(){return u.close()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"span",1),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"main"),t._UZ(8,"app-pull-request-select-view",2),t.TgZ(9,"mat-tab-group",3)(10,"mat-tab",4),t.ALo(11,"translate"),t.TgZ(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",7),t.YNc(18,te,3,3,"mat-error",8),t.qZA(),t.TgZ(19,"mat-form-field",9),t._UZ(20,"textarea",10),t.ALo(21,"translate"),t.qZA()()(),t.YNc(22,ft,3,2,"ng-container",8),t.ALo(23,"async"),t.YNc(24,i,5,0,"ng-container",8),t.ALo(25,"async"),t.qZA()(),t.TgZ(26,"footer")(27,"button",11),t.NdJ("click",function(){return u.openCompareInBrowser()}),t.ALo(28,"async"),t.ALo(29,"async"),t.ALo(30,"async"),t.YNc(31,l,1,0,"mat-spinner",12),t.ALo(32,"async"),t.YNc(33,c,3,3,"span",8),t.ALo(34,"async"),t.qZA(),t.TgZ(35,"span",13),t.ALo(36,"async"),t.ALo(37,"translate"),t.ALo(38,"translate"),t.TgZ(39,"button",14),t.NdJ("click",function(){return u.createPullRequest()}),t.ALo(40,"async"),t.ALo(41,"async"),t.ALo(42,"async"),t.YNc(43,O,1,0,"mat-spinner",12),t.ALo(44,"async"),t.YNc(45,Q,3,3,"span",8),t.ALo(46,"async"),t.qZA()()()),2&x&&(t.xp6(5),t.Oqu(t.lcZ(6,21,"Create Pull Request")),t.xp6(3),t.Q6J("controls",u.form.controls)("integration",u.integration),t.xp6(),t.Q6J("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.xp6(),t.s9C("label",t.lcZ(11,23,"Description")),t.xp6(5),t.Oqu(t.lcZ(16,25,"Title")),t.xp6(2),t.Q6J("formControl",u.form.controls.title),t.xp6(),t.Q6J("ngIf",u.form.controls.title.hasError("required")),t.xp6(2),t.s9C("placeholder",t.lcZ(21,27,"Leave a comment...")),t.Q6J("formControl",u.form.controls.description),t.xp6(2),t.Q6J("ngIf",t.lcZ(23,29,u.compare)),t.xp6(2),t.Q6J("ngIf",void 0===t.lcZ(25,31,u.compare)),t.xp6(3),t.Q6J("disabled",t.lcZ(28,33,u.loadingCompare)||void 0===t.lcZ(29,35,u.compare)||null===t.lcZ(30,37,u.compare)),t.xp6(4),t.Q6J("ngIf",t.lcZ(32,39,u.loadingCompare)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(34,41,u.loadingCompare)),t.xp6(2),t.Q6J("matTooltip",void 0===t.lcZ(36,43,u.compare)?t.lcZ(37,45,"Select valid branches to compare"):u.form.invalid?t.lcZ(38,47,"Title is required"):""),t.xp6(4),t.Q6J("disabled",u.form.invalid||t.lcZ(40,49,u.loadingCompare)||void 0===t.lcZ(41,51,u.compare)||t.lcZ(42,53,u.creatingPullRequest)),t.xp6(4),t.Q6J("ngIf",t.lcZ(44,55,u.creatingPullRequest)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(46,57,u.creatingPullRequest)))},dependencies:[J.KE,J.hX,J.TO,V.Nt,_.Ou,n.uD,n.uX,n.SP,v.O5,P.Fj,P.JJ,P.Q7,P.oH,R.lW,R.RK,m.Hw,E.gM,oe,ht,Xt,v.Ov,it.X],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   app-pull-request-select-view[_ngcontent-%COMP%]{flex:0 0 auto}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px;height:calc(100% - 15px)}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;justify-content:stretch}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}"],changeDetection:0})}}return f})();var Ot=o(9315),Lt=o(8180),qt=o(5195),ge=o(2415);function ue(f,xt){1&f&&t._UZ(0,"mat-spinner")}function _e(f,xt){if(1&f&&(t.TgZ(0,"mat-card",24),t._uU(1),t.qZA()),2&f){const h=t.oxw().ngIf;t.xp6(),t.Oqu(h.description)}}const he=f=>({count:f});function fe(f,xt){if(1&f&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"translate"),t.TgZ(2,"div",8),t._UZ(3,"app-pull-request-commits-view",25),t.qZA()()),2&f){const h=t.oxw().ngIf;t.s9C("label",t.xi3(1,2,"Commits (_count_)",t.VKq(5,he,h.commits.length))),t.xp6(3),t.Q6J("commits",h.commits)}}function be(f,xt){1&f&&(t._UZ(0,"mat-tab",26),t.ALo(1,"translate")),2&f&&t.s9C("label",t.lcZ(1,1,"Commits"))}function Ce(f,xt){if(1&f&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"translate"),t._UZ(2,"app-pull-request-patches-view",27),t.qZA()),2&f){const h=t.oxw().ngIf;t.s9C("label",t.xi3(1,4,"Files changed (_count_)",t.VKq(7,he,h.patches.length))),t.xp6(2),t.Q6J("fromCommitId",h.fromCommitId)("toCommitId",h.toCommitId)("patches",h.patches)}}function Pe(f,xt){1&f&&(t._UZ(0,"mat-tab",26),t.ALo(1,"translate")),2&f&&t.s9C("label",t.lcZ(1,1,"Files changed"))}function Me(f,xt){if(1&f&&(t.ynx(0),t.TgZ(1,"span",5),t._uU(2),t.qZA(),t.TgZ(3,"mat-tab-group",6)(4,"mat-tab",7),t.ALo(5,"translate"),t.TgZ(6,"div",8)(7,"div",9)(8,"mat-form-field",10)(9,"mat-label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",11),t.qZA(),t.TgZ(13,"mat-form-field",12)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",11),t.qZA(),t.TgZ(18,"mat-icon"),t._uU(19,"arrow_back"),t.qZA(),t.TgZ(20,"mat-form-field",13)(21,"mat-label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"input",11),t.qZA(),t.TgZ(25,"mat-form-field",14)(26,"mat-label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t._UZ(29,"input",11),t.qZA()(),t.TgZ(30,"div",15)(31,"div",16),t._uU(32),t.ALo(33,"translate"),t._UZ(34,"img",17),t.TgZ(35,"span",18),t._uU(36),t.qZA(),t._UZ(37,"br"),t.qZA(),t.TgZ(38,"div",19),t.ALo(39,"translateDate"),t._uU(40),t.ALo(41,"translate"),t.TgZ(42,"span",18),t._uU(43),t.ALo(44,"translateDate"),t.qZA(),t._uU(45),t.ALo(46,"translate"),t.TgZ(47,"span",18),t._uU(48),t.ALo(49,"translateDate"),t.qZA()()(),t.YNc(50,_e,2,1,"mat-card",20),t.qZA()(),t.YNc(51,fe,4,7,"mat-tab",21)(52,be,2,3,"ng-template",null,22,t.W1O)(54,Ce,3,9,"mat-tab",21)(55,Pe,2,3,"ng-template",null,23,t.W1O),t.qZA(),t.BQk()),2&f){const h=xt.ngIf,x=t.MAs(53),u=t.MAs(56);t.xp6(2),t.Oqu(h.title),t.xp6(),t.Q6J("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.xp6(),t.s9C("label",t.lcZ(5,28,"!pull request! Details")),t.xp6(6),t.Oqu(t.lcZ(11,30,"Base Repository")),t.xp6(2),t.Q6J("value",h.toOwner+"/"+h.toRepo),t.xp6(3),t.Oqu(t.lcZ(16,32,"Base Branch")),t.xp6(2),t.Q6J("value",h.toBranch),t.xp6(5),t.Oqu(t.lcZ(23,34,"Head Repository")),t.xp6(2),t.Q6J("value",h.fromOwner+"/"+h.fromRepo),t.xp6(3),t.Oqu(t.lcZ(28,36,"Head Branch")),t.xp6(2),t.Q6J("value",h.fromBranch),t.xp6(2),t.Q6J("matTooltip",h.authorName),t.xp6(),t.hij(" ",t.lcZ(33,38,"authored by")," "),t.xp6(2),t.Q6J("src",h.authorAvatar,t.LSH)("matTooltip",h.authorName),t.xp6(2),t.Oqu(h.authorName),t.xp6(2),t.Q6J("matTooltip",t.xi3(39,40,h.date,"z")||""),t.xp6(2),t.hij(" ",t.lcZ(41,43,"on !date!")," "),t.xp6(3),t.Oqu(t.xi3(44,45,h.date,"longDate")),t.xp6(2),t.hij(" ",t.lcZ(46,48,"at !time!")," "),t.xp6(3),t.Oqu(t.xi3(49,50,h.date,"HH:mm")),t.xp6(2),t.Q6J("ngIf",h.description),t.xp6(),t.Q6J("ngIf",h.commits)("ngIfElse",x),t.xp6(3),t.Q6J("ngIf",h.patches)("ngIfElse",u)}}function ve(f,xt){1&f&&t._UZ(0,"mat-spinner",28)}function Oe(f,xt){1&f&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&f&&(t.xp6(),t.Oqu(t.lcZ(2,1,"View in browser")))}let xe=(()=>{class f extends((0,pt.j)(X.A)){constructor(h,x,u,z,W,mt){super(),this.route=h,this.store=x,this.commitsApi=u,this.bitbucketApiService=z,this.gitHubApiService=W,this.gitLabApiService=mt,this.pullRequest=new p.X(void 0),this.loading=new p.X(!1)}ngOnInit(){const h=this.route.snapshot.paramMap.get("type");if("bitbucket"!==h&&"github"!==h&&"gitlab"!==h)throw new at.wp(h);const x=this.route.snapshot.paramMap.get("owner")??"",u=this.route.snapshot.paramMap.get("repo")??"",z=this.route.snapshot.paramMap.get("id")??"",W=this.store.selectSnapshot(Pt.E.selectedRepositoryPath);if(!W)throw new at.uX;let mt;switch(h){case"bitbucket":mt=this.bitbucketApiService.getPullRequest(x,u,parseInt(z,10)).pipe((0,ot.w)(tt=>{if(!tt)return(0,N.of)(null);const[It,Bt]=tt.source.repository.full_name.split("/")??[],Vt=tt.source.commit.hash,[Kt,Wt]=tt.destination.repository.full_name.split("/")??[],Yt=tt.destination.commit.hash;if(!(It&&Bt&&Kt&&Wt))return(0,N.of)(null);const Dt={url:tt.links.html.href,title:tt.title,description:tt.description,authorName:tt.author.display_name,authorAvatar:tt.author.links.avatar.href,date:new Date(tt.created_on),fromOwner:It,fromRepo:Bt,fromBranch:tt.source.branch.name,fromCommitId:Vt,toOwner:Kt,toRepo:Wt,toBranch:tt.destination.branch.name,toCommitId:Yt};return this.bitbucketApiService.getPullRequestCommits(x,u,parseInt(z,10)).pipe((0,ot.w)(Nt=>Nt?this.commitsApi.compareCommits(W,Vt,Yt).pipe((0,U.U)(Ft=>({...Dt,commits:Nt.values.map(Gt=>Gt.hash),patches:Ft}))):(0,N.of)(Dt)))}));break;case"github":mt=this.gitHubApiService.getPullRequest(x,u,parseInt(z,10)).pipe((0,ot.w)(tt=>{if(!tt)return(0,N.of)(null);const[It,Bt]=tt.head.repo.full_name.split("/")??[],Vt=tt.head.sha,[Kt,Wt]=tt.base.repo.full_name.split("/")??[],Yt=tt.base.sha;if(!(It&&Bt&&Kt&&Wt))return(0,N.of)(null);const Dt={url:tt.html_url,title:tt.title,description:tt.body,authorName:tt.user.login,authorAvatar:tt.user.avatar_url,date:new Date(tt.created_at),fromOwner:It,fromRepo:Bt,fromBranch:tt.head.ref,fromCommitId:Vt,toOwner:Kt,toRepo:Wt,toBranch:tt.base.ref,toCommitId:Yt};return this.gitHubApiService.getPullRequestCommits(x,u,parseInt(z,10)).pipe((0,ot.w)(Nt=>Nt&&Nt.length<250?this.commitsApi.compareCommits(W,Vt,Yt).pipe((0,U.U)(Ft=>({...Dt,commits:Nt.map(Gt=>Gt.sha),patches:Ft}))):(0,N.of)(Dt)))}));break;case"gitlab":mt=this.gitLabApiService.getMergeRequest(x,u,parseInt(z,10)).pipe((0,ot.w)(tt=>tt?(0,Ot.D)([this.gitLabApiService.getProjectById(tt.source_project_id),this.gitLabApiService.getProjectById(tt.target_project_id)]).pipe((0,U.U)(([It,Bt])=>It&&Bt?{source:It,target:Bt,pullRequest:tt}:null)):(0,N.of)(null)),(0,ot.w)(tt=>{if(!tt)return(0,N.of)(null);const[It,Bt]=tt.source.path_with_namespace.split("/")??[],Vt=tt.pullRequest.diff_refs.head_sha,[Kt,Wt]=tt.target.path_with_namespace.split("/")??[],Yt=tt.pullRequest.diff_refs.base_sha;if(!(It&&Bt&&Kt&&Wt))return(0,N.of)(null);const Dt={url:tt.pullRequest.web_url,title:tt.pullRequest.title,description:tt.pullRequest.description,authorName:tt.pullRequest.author.name,authorAvatar:tt.pullRequest.author.avatar_url,date:new Date(tt.pullRequest.created_at),fromOwner:It,fromRepo:Bt,fromBranch:tt.pullRequest.source_branch,fromCommitId:Vt,toOwner:Kt,toRepo:Wt,toBranch:tt.pullRequest.target_branch,toCommitId:Yt};return this.gitLabApiService.getPullRequestCommits(x,u,parseInt(z,10)).pipe((0,ot.w)(Nt=>Nt?this.commitsApi.compareCommits(W,Vt,Yt).pipe((0,U.U)(Ft=>({...Dt,commits:Nt.map(Gt=>Gt.id),patches:Ft}))):(0,N.of)(Dt)))}));break;default:throw new Error(`Check not exhaustive '${h}'.`)}this.loading.next(!0),mt.pipe((0,j.K)(vt=>at.ik.matches(vt)?(0,N.of)(null):(0,B._)(()=>vt)),(0,Lt.q)(1),(0,st.R)(this.destroyed$),(0,bt.x)(()=>{this.loading.next(!1)})).subscribe(vt=>{this.pullRequest.next(vt)})}openInBrowser(){const h=this.pullRequest.value?.url;h&&window.open(h)}close(){history.back()}static{this.\u0275fac=function(x){return new(x||f)(t.Y36(b.gz),t.Y36(yt.yh),t.Y36(gt.T),t.Y36(Tt.L),t.Y36(k.t),t.Y36(D.T))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["ng-component"]],features:[t.qOj],decls:20,vars:20,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[4,"ngIf"],["type","button","mat-flat-button","","color","accent",3,"disabled","click"],["diameter","24",4,"ngIf"],[1,"mat-headline-4","title"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab"],[1,"repos"],["subscriptSizing","dynamic",1,"to-repo"],["type","text","matInput","","readonly","",3,"value"],["subscriptSizing","dynamic",1,"to-branch"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],[1,"created"],[1,"author",3,"matTooltip"],[1,"avatar",3,"src","matTooltip"],[1,"highlight"],[1,"date",3,"matTooltip"],["class","description",4,"ngIf"],[3,"label",4,"ngIf","ngIfElse"],["emptyCommitsTab",""],["emptyPatchesTab",""],[1,"description"],[3,"commits"],["disabled","",3,"label"],[3,"fromCommitId","toCommitId","patches"],["diameter","24"]],template:function(x,u){1&x&&(t.TgZ(0,"header")(1,"button",0),t.NdJ("click",function(){return u.close()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"span",1),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"main"),t.YNc(8,ue,1,0,"mat-spinner",2),t.ALo(9,"async"),t.YNc(10,Me,57,53,"ng-container",2),t.ALo(11,"async"),t.qZA(),t.TgZ(12,"footer")(13,"button",3),t.NdJ("click",function(){return u.openInBrowser()}),t.ALo(14,"async"),t.ALo(15,"async"),t.YNc(16,ve,1,0,"mat-spinner",4),t.ALo(17,"async"),t.YNc(18,Oe,3,3,"span",2),t.ALo(19,"async"),t.qZA()()),2&x&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"Viewing Pull Request")),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,8,u.loading)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,10,u.pullRequest)),t.xp6(3),t.Q6J("disabled",t.lcZ(14,12,u.loading)||null===t.lcZ(15,14,u.pullRequest)),t.xp6(3),t.Q6J("ngIf",t.lcZ(17,16,u.loading)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(19,18,u.loading)))},dependencies:[J.KE,J.hX,V.Nt,_.Ou,n.uX,n.SP,v.O5,R.lW,R.RK,qt.a8,m.Hw,E.gM,oe,ht,v.Ov,ge.v,it.X],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-bottom:20px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-repo[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-branch[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]{margin-bottom:20px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:inline-block}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:10%;width:auto;height:1.5625rem;aspect-ratio:1/1;margin:0 3px 0 5px;vertical-align:bottom}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-left:5px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding:10px}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px;height:calc(100% - 15px)}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return f})();var ye=o(7525);let me=(()=>{class f{constructor(h,x){this.router=h,this.authService=x}canActivate(){return"pro"===this.authService.accessLevel.value||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(x){return new(x||f)(t.LFG(b.F0),t.LFG(ye.e))}}static{this.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),de=(()=>{class f{constructor(h,x){this.router=h,this.store=x}canActivate(){return!!this.store.selectSnapshot(Pt.E.selectedRepositoryPath)||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(x){return new(x||f)(t.LFG(b.F0),t.LFG(yt.yh))}}static{this.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();var re=o(7582),Te=o(2438),Ie=o(9589),we=o(271),ke=o(7547),Ae=o(7081),Ee=o(5248),pe=o(5657),Le=o(2098);function De(f,xt){1&f&&(t.TgZ(0,"mat-icon",10),t._uU(1,"folder"),t.qZA())}function Re(f,xt){1&f&&t._UZ(0,"mat-spinner",11)}function Se(f,xt){if(1&f){const h=t.EpF();t.TgZ(0,"a",5),t.NdJ("mouseup",function(u){const W=t.CHM(h).$implicit,mt=t.oxw();return t.KtG(mt.tabClicked(u,W))})("dragstart",function(u){const z=t.CHM(h),W=z.$implicit,mt=z.index,vt=t.oxw();return t.KtG(vt.dragstartListener(u,W,mt))})("dragleave",function(){t.CHM(h);const u=t.oxw();return t.KtG(u.dragOverRepositoryIndex.next(null))})("dragover",function(u){const W=t.CHM(h).index,mt=t.oxw();return t.KtG(mt.dragoverListener(u,W))})("drop",function(u){const W=t.CHM(h).index,mt=t.oxw();return t.KtG(mt.dropListener(u,W))}),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.YNc(4,De,2,0,"mat-icon",6)(5,Re,1,0,"mat-spinner",7),t.TgZ(6,"span",8),t._uU(7),t.qZA(),t.TgZ(8,"mat-icon",9),t.NdJ("click",function(){const z=t.CHM(h).$implicit,W=t.oxw();return t.KtG(W.closeRepository(z.path))}),t._uU(9,"close"),t.qZA()()}if(2&f){const h=xt.$implicit,x=xt.index,u=t.oxw();t.ekj("border-left",t.lcZ(1,11,u.hasLeftBorder(x)))("border-right",t.lcZ(2,13,u.hasRightBorder(x))),t.Q6J("matTooltip",h.path)("active",t.lcZ(3,15,u.selectedRepositoryPath)===h.path),t.xp6(4),t.Q6J("ngIf",h.loaded),t.xp6(),t.Q6J("ngIf",!h.loaded),t.xp6(),t.ekj("disabled",!h.loaded),t.xp6(),t.Oqu(h.name)}}function Ze(f,xt){if(1&f){const h=t.EpF();t.TgZ(0,"a",12),t.NdJ("mouseup",function(u){t.CHM(h);const z=t.oxw();return t.KtG(z.changelogClicked(u))}),t.ALo(1,"translate"),t.ALo(2,"async"),t.TgZ(3,"mat-icon",10),t._uU(4,"auto_awesome"),t.qZA(),t.TgZ(5,"span",8),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-icon",13),t.NdJ("mouseup",function(u){t.CHM(h);const z=t.oxw();return t.KtG(z.closeChangelogClicked(u))}),t._uU(9,"close"),t.qZA()()}if(2&f){const h=t.oxw();t.Q6J("matTooltip",t.lcZ(1,3,"See whats new! !release notes!"))("active",h.isChangelogUrl()&&null===t.lcZ(2,5,h.selectedRepositoryPath)),t.xp6(6),t.Oqu(t.lcZ(7,7,"Release Notes"))}}let Be=(()=>{class f extends((0,pt.j)(X.A)){documentKeydown(h){if(!h.isComposing&&(Ee.V?h.metaKey:h.ctrlKey)&&!h.altKey&&!h.metaKey)switch(h.key){case"W":case"w":if(!h.shiftKey){const x=this.store.selectSnapshot(Pt.E.selectedRepositoryPath);x&&this.closeRepository(x)}break;case"T":case"t":h.shiftKey||this.openNewRepository();break;case"Tab":{const x=this.store.selectSnapshot(Pt.E.selectedRepositoryPath);this.visibleRepositories.pipe((0,Lt.q)(1)).subscribe(u=>{const z=x?u.findIndex(mt=>mt.path===x):u.length;if(z<0)throw new at.VF(x??"");let W=z+(h.shiftKey?-1:1);W>=u.length?W=0:W<0&&(W=u.length-1),this.changeRepository(u[W]?.path??null)});break}}}documentMouseDown(h){1===h.button&&h.preventDefault()}constructor(h,x,u,z){super(),this.cdr=h,this.router=x,this.store=u,this.updatesApiService=z,this.inkBarAnimationDisabled=new p.X(!1),this.dragRepositoryIndex=null,this.dragOverRepositoryIndex=new p.X(null),this.dragPosition=new p.X(null),this.dragstartListener=(W,mt,vt)=>{W.dataTransfer&&(W.dataTransfer.setData("app/repository",mt.path),W.dataTransfer.setData("app/repository-tab",mt.path),W.dataTransfer.effectAllowed="move",this.dragRepositoryIndex=vt)},this.dragoverListener=(W,mt)=>{if(W.dataTransfer&&W.dataTransfer.types.includes("app/repository")){W.preventDefault(),W.dataTransfer.dropEffect="move",this.dragOverRepositoryIndex.value!==mt&&this.dragOverRepositoryIndex.next(mt);const vt=W.target;if(vt.draggable){const tt=this.getDragoverPosition(W.offsetX,vt.clientWidth);this.dragPosition.value!==tt&&this.dragPosition.next(tt)}}},this.dropListener=(W,mt)=>{if(W.dataTransfer&&W.dataTransfer.types.includes("app/repository-tab")){this.dragOverRepositoryIndex.value!==mt&&this.dragOverRepositoryIndex.next(mt);const vt=W.target;if(vt.draggable){const tt=this.getDragoverPosition(W.offsetX,vt.clientWidth);this.dragPosition.value!==tt&&this.dragPosition.next(tt)}W.preventDefault(),(0,C.a)([this.openOrLoadingRepositories,this.visibleRepositories]).pipe((0,st.R)(this.destroyed$),(0,Lt.q)(1)).subscribe(([tt,It])=>{const Bt=mt+("right"===this.dragPosition.value?1:0);if(null!==this.dragRepositoryIndex&&Bt>=0){const Vt=It[this.dragRepositoryIndex]?.path,Kt=It[Bt]?.path,Wt=tt.findIndex(Ft=>Ft.path===Vt),Yt=Kt?tt.findIndex(Ft=>Ft.path===Kt):tt.length,Dt=Wt>Yt?[...tt.slice(0,Yt),tt[Wt],...tt.filter((Ft,Gt)=>Gt!==Wt).slice(Yt)]:Wt<Yt?[...tt.slice(0,Yt).filter((Ft,Gt)=>Gt!==Wt),tt[Wt],...tt.slice(Yt)]:tt;this.inkBarAnimationDisabled.next(!0);const Nt=Dt.map(Ft=>Ft?.path).filter(ut.$K);this.store.dispatch(new kt.jq(Nt)).pipe((0,ke.g)(250)).subscribe(()=>this.inkBarAnimationDisabled.next(!1))}})}this.dragRepositoryIndex=null,this.dragOverRepositoryIndex.next(null),this.dragPosition.next(null)},this.hasLeftBorder=W=>(0,C.a)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,U.U)(([mt,vt])=>mt===W&&"left"===vt||mt===W-1&&"right"===vt)),this.hasRightBorder=W=>(0,C.a)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,U.U)(([mt,vt])=>mt===W&&"right"===vt||mt===W+1&&"left"===vt)),this.getDragoverPosition=(W,mt)=>W/mt<.5?"left":"right"}ngOnInit(){this.visibleRepositories=(0,C.a)([this.openOrLoadingRepositories,this.profile]).pipe((0,U.U)(([h,x])=>x&&"all"!==x.allowedRepositories?h.filter(u=>x.allowedRepositories.includes(u.path)):h),(0,st.R)(this.destroyed$),(0,Ae.d)(1)),this.hasUnreadChangelog=this.store.select(pe.U9.changelogReadUpto).pipe((0,ot.w)(h=>this.updatesApiService.getVersion().pipe((0,U.U)(x=>{if(!h)return!1;const[u,z,W]=x.replace(/-.*$/,"").split(".").map(Bt=>+Bt),[mt,vt,tt]=h.replace(/-.*$/,"").split(".").map(Bt=>+Bt),It=void 0===u||void 0===z||void 0===mt||void 0===vt||mt<u||vt<z;return It&&this.openChangelog(),It}))))}ngAfterViewInit(){setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},100),setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},1e3)}trackRepository(h,x){return x.path}tabClicked(h,x){switch(h.button){case 0:x.loaded&&this.changeRepository(x.path);break;case 1:this.closeRepository(x.path)}}changeRepository(h){this.store.dispatch(new kt.BZ(h)).subscribe(()=>{this.router.navigate(["/standard/default"])})}closeRepository(h){this.store.dispatch(new kt.F$(h))}isChangelogUrl(){return"/standard/changelog"===this.router.url}changelogClicked(h){switch(h.button){case 0:this.openChangelog();break;case 1:this.closeChangelog()}}closeChangelogClicked(h){0===h.button&&(this.closeChangelog(),h.preventDefault(),h.stopPropagation())}openChangelog(){this.store.dispatch(new kt.BZ(null)).subscribe(()=>{this.router.navigate(["/standard/changelog"])})}closeChangelog(){this.updatesApiService.getVersion().subscribe(h=>{this.store.dispatch(new pe.kH(h)).subscribe(()=>{this.router.navigate(["/standard/default"])})})}openNewRepository(){this.store.dispatch(new kt.BZ(null)).subscribe(()=>{this.router.navigate(["/standard/open-repository"])})}static{this.\u0275fac=function(x){return new(x||f)(t.Y36(t.sBO),t.Y36(b.F0),t.Y36(yt.yh),t.Y36(Le.j))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["app-repository-tabs-view"]],viewQuery:function(x,u){if(1&x&&t.Gf(n.BU,5),2&x){let z;t.iGM(z=t.CRH())&&(u.matTabNav=z.first)}},hostBindings:function(x,u){1&x&&t.NdJ("keydown",function(W){return u.documentKeydown(W)},!1,t.evT)("mousedown",function(W){return u.documentMouseDown(W)},!1,t.evT)},features:[t.qOj],decls:13,vars:20,consts:[["mat-tab-nav-bar","",3,"tabPanel","mat-stretch-tabs","disablePagination"],["mat-tab-link","","draggable","true",3,"border-left","border-right","matTooltip","active","mouseup","dragstart","dragleave","dragover","drop",4,"ngFor","ngForOf","ngForTrackBy"],["mat-tab-link","","class","changelog-link",3,"matTooltip","active","mouseup",4,"ngIf"],["mat-tab-link","",1,"new-tab-link",3,"matTooltip","active","click"],["tabPanel",""],["mat-tab-link","","draggable","true",3,"matTooltip","active","mouseup","dragstart","dragleave","dragover","drop"],["class","prefix",4,"ngIf"],["class","prefix disabled","diameter","18",4,"ngIf"],[1,"name"],["draggable","false",1,"suffix",3,"click"],[1,"prefix"],["diameter","18",1,"prefix","disabled"],["mat-tab-link","",1,"changelog-link",3,"matTooltip","active","mouseup"],[1,"suffix",3,"mouseup"]],template:function(x,u){if(1&x&&(t.TgZ(0,"nav",0),t.ALo(1,"async"),t.YNc(2,Se,10,17,"a",1),t.ALo(3,"async"),t.YNc(4,Ze,10,9,"a",2),t.ALo(5,"async"),t.TgZ(6,"a",3),t.NdJ("click",function(){return u.openNewRepository()}),t.ALo(7,"translate"),t.ALo(8,"async"),t.TgZ(9,"mat-icon"),t._uU(10,"add"),t.qZA()()(),t._UZ(11,"mat-tab-nav-panel",null,4)),2&x){const z=t.MAs(12);t.ekj("ink-bar-animation-disabled",t.lcZ(1,10,u.inkBarAnimationDisabled)),t.Q6J("tabPanel",z)("mat-stretch-tabs",!1)("disablePagination",!0),t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,12,u.visibleRepositories))("ngForTrackBy",u.trackRepository),t.xp6(2),t.Q6J("ngIf",u.isChangelogUrl()||t.lcZ(5,14,u.hasUnreadChangelog)),t.xp6(2),t.Q6J("matTooltip",t.lcZ(7,16,"Open a new repository"))("active",!u.isChangelogUrl()&&null===t.lcZ(8,18,u.selectedRepositoryPath))}},dependencies:[v.sg,v.O5,m.Hw,E.gM,_.Ou,n.BU,n.sW,n.Nj,v.Ov,it.X],styles:['nav.ink-bar-animation-disabled[_ngcontent-%COMP%]     .mat-ink-bar{transition:none!important}.mat-mdc-tab-link[_ngcontent-%COMP%]{position:relative;padding:0 18px;min-width:120px}.mat-mdc-tab-link[_ngcontent-%COMP%]     .mdc-tab__content{pointer-events:initial}.mat-mdc-tab-link[_ngcontent-%COMP%]:before, .mat-mdc-tab-link[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;height:100%;width:1px;margin:0;padding:0;border:none;background-color:transparent;top:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:before{left:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:after{right:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:first-child:before{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]:nth-last-child(2):after{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{margin-right:10px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{pointer-events:none}.mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{margin-left:5px;z-index:1}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.new-tab-link[_ngcontent-%COMP%]{min-width:48px}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#ffffff80}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#00000061}'],changeDetection:0})}}return(0,re.gn)([(0,yt.Ph)(Pt.E.selectedRepositoryPath)],f.prototype,"selectedRepositoryPath",void 0),(0,re.gn)([(0,yt.Ph)(Pt.E.openOrLoadingRepositories)],f.prototype,"openOrLoadingRepositories",void 0),(0,re.gn)([(0,yt.Ph)(Rt.$.selectedProfile)],f.prototype,"profile",void 0),f})();const Fe=["header"];function Ue(f,xt){if(1&f&&t._UZ(0,"app-avatar",7),2&f){const h=t.oxw().ngIf;t.Q6J("email",h.email)}}function Ne(f,xt){if(1&f&&(t.TgZ(0,"span"),t.YNc(1,Ue,1,1,"app-avatar",6),t._uU(2),t.qZA()),2&f){const h=xt.ngIf;t.xp6(),t.Q6J("ngIf",h.email),t.xp6(),t.hij(" ",h.profileName," ")}}function Ve(f,xt){if(1&f&&t._UZ(0,"app-avatar",10),2&f){const h=t.oxw().$implicit;t.Q6J("email",h.value.email)}}function Ke(f,xt){if(1&f&&(t.TgZ(0,"mat-option",8),t.YNc(1,Ve,1,1,"app-avatar",9),t._uU(2),t.qZA()),2&f){const h=xt.$implicit;t.Q6J("value",h.key),t.xp6(),t.Q6J("ngIf",h.value.email),t.xp6(),t.hij(" ",h.value.profileName," ")}}const We=()=>["/settings"],He=[{path:"",component:(()=>{class f extends((0,pt.j)(X.A)){constructor(h){super(),this.store=h,this.selectedProfileControl=new P.NI(null)}ngOnInit(){this.selectedProfileId.pipe((0,st.R)(this.destroyed$)).subscribe(h=>{this.selectedProfileControl.setValue(h,{emitEvent:!1})}),this.selectedProfileControl.valueChanges.pipe((0,st.R)(this.destroyed$)).subscribe(h=>{null!==h&&this.store.dispatch(new Ie.Pt(h))}),(0,Te.R)(this.headerElement.nativeElement,"wheel",{passive:!0}).pipe((0,st.R)(this.destroyed$)).subscribe(h=>{this.headerElement.nativeElement.scrollLeft+=h.deltaY})}static{this.\u0275fac=function(x){return new(x||f)(t.Y36(yt.yh))}}static{this.\u0275cmp=t.Xpm({type:f,selectors:[["ng-component"]],viewQuery:function(x,u){if(1&x&&t.Gf(Fe,7),2&x){let z;t.iGM(z=t.CRH())&&(u.headerElement=z.first)}},features:[t.qOj],decls:19,vars:17,consts:[["header",""],["subscriptSizing","dynamic",1,"profile-selector"],[3,"formControl"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"settings-icon",3,"routerLink","matTooltip"],[3,"email",4,"ngIf"],[3,"email"],[3,"value"],["class","profile-select-avatar",3,"email",4,"ngIf"],[1,"profile-select-avatar",3,"email"]],template:function(x,u){1&x&&(t.TgZ(0,"header",null,0),t._UZ(2,"app-repository-tabs-view"),t.TgZ(3,"mat-form-field",1)(4,"mat-label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"mat-select",2)(8,"mat-select-trigger"),t.YNc(9,Ne,3,2,"span",3),t.ALo(10,"async"),t.qZA(),t.YNc(11,Ke,3,3,"mat-option",4),t.ALo(12,"keyvalue"),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"mat-icon",5),t.ALo(15,"translate"),t._uU(16,"settings"),t.qZA()(),t._UZ(17,"router-outlet")(18,"app-notification-tray-view")),2&x&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"Select Profile")),t.xp6(2),t.Q6J("formControl",u.selectedProfileControl),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,8,u.selectedProfile)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(12,10,t.lcZ(13,12,u.profiles))),t.xp6(3),t.Q6J("routerLink",t.DdM(16,We))("matTooltip",t.lcZ(15,14,"Settings")))},dependencies:[J.KE,J.hX,r.gD,r.$L,T.ey,v.sg,v.O5,P.JJ,P.oH,m.Hw,E.gM,Ht.A,we.G,Be,b.lC,b.rH,v.Ov,v.Nd,it.X],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;height:50px;min-height:50px;border-bottom:1px solid transparent;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:1px}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]{flex:1 0 auto}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]     .mat-mdc-tab-nav-bar{border:none}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]{flex:0 0 200px;margin-right:12px;margin-top:8px;height:38px}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{height:15px;vertical-align:middle;font-size:0}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:7px 0;min-height:38px}header[_ngcontent-%COMP%]   .settings-icon[_ngcontent-%COMP%]{flex:0 0 auto;margin:12px;cursor:pointer}app-notification-tray-view[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px;margin-right:10px;margin-top:10px;z-index:1000}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#ffffff1f}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#0000001f}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}"],changeDetection:0})}}return(0,re.gn)([(0,yt.Ph)(Rt.$.profiles)],f.prototype,"profiles",void 0),(0,re.gn)([(0,yt.Ph)(Rt.$.selectedProfileId)],f.prototype,"selectedProfileId",void 0),(0,re.gn)([(0,yt.Ph)(Rt.$.selectedProfile)],f.prototype,"selectedProfile",void 0),(0,re.gn)([(0,yt.Ph)(Pt.E.selectedRepositoryPath)],f.prototype,"selectedRepositoryPath",void 0),f})(),children:[{path:"blame",canActivate:[de],loadChildren:()=>o.e(623).then(o.bind(o,4623)).then(f=>f.BlameLayoutModule)},{path:"changelog",loadChildren:()=>o.e(504).then(o.bind(o,7504)).then(f=>f.ChangelogLayoutModule)},{path:"default",canActivate:[de],loadChildren:()=>Promise.all([o.e(305),o.e(365),o.e(696)]).then(o.bind(o,4696)).then(f=>f.DefaultLayoutModule)},{path:"open-repository",loadChildren:()=>Promise.all([o.e(305),o.e(25),o.e(773)]).then(o.bind(o,6773)).then(f=>f.OpenRepositoryLayoutModule)},{path:"pull-request/create/:type/:integrationId",canActivate:[de,me],component:Zt},{path:"pull-request/view/:type/:owner/:repo/:id",canActivate:[de,me],component:xe},{path:"rebase",canActivate:[de],loadChildren:()=>Promise.all([o.e(365),o.e(478)]).then(o.bind(o,5478)).then(f=>f.RebaseLayoutModule)},{path:"search",canActivate:[de],loadChildren:()=>Promise.all([o.e(305),o.e(622)]).then(o.bind(o,9622)).then(f=>f.SearchLayoutModule)},{path:"",redirectTo:"default",pathMatch:"full"}]}];let Je=(()=>{class f{static{this.\u0275fac=function(x){return new(x||f)}}static{this.\u0275mod=t.oAB({type:f})}static{this.\u0275inj=t.cJS({imports:[b.Bz.forChild(He),b.Bz]})}}return f})(),Ye=(()=>{class f{static{this.\u0275fac=function(x){return new(x||f)}}static{this.\u0275mod=t.oAB({type:f})}static{this.\u0275inj=t.cJS({imports:[e.ie,r.LD,g.I,et.X,H,F.Z,Je]})}}return f})()},7735:(wt,rt,o)=>{o.d(rt,{m:()=>et});var e=o(6250),r=o(9212),g=o(1380);let et=(()=>{class a{constructor(J){this.baseApi=J}getHighlightedFile(J,V,A,_){return this.baseApi.single(e.w.highlight.getHighlightedFile,J,V,A,_)}static{this.\u0275fac=function(V){return new(V||a)(r.LFG(g._))}}static{this.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})()},3902:(wt,rt,o)=>{o.d(rt,{c:()=>g});var e=o(1345),r=o(9212);let g=(()=>{class et{static{this.\u0275fac=function(J){return new(J||et)}}static{this.\u0275mod=r.oAB({type:et})}static{this.\u0275inj=r.cJS({imports:[e.I]})}}return et})()},9918:(wt,rt,o)=>{o.d(rt,{d:()=>a});var e=o(3665),r=o(3153),g=o(3902),et=o(9212);let a=(()=>{class s{getPatchPath(V){switch(V.status){case e.v.Added:case e.v.Untracked:return V.newFilePath;case e.v.Conflicted:case e.v.Modified:case e.v.Renamed:return V.oldFilePath===V.newFilePath?V.newFilePath:`${V.oldFilePath} --\x3e ${V.newFilePath}`;case e.v.Deleted:return V.oldFilePath;default:throw new r.hj(V.status)}}getPatchIcon(V){switch(V.status){case e.v.Added:case e.v.Untracked:return"add";case e.v.Conflicted:return"warning";case e.v.Modified:return"create";case e.v.Deleted:return"remove";case e.v.Renamed:return"swap_horiz";default:throw new r.hj(V.status)}}getPatchIconColorClass(V){switch(V.status){case e.v.Added:case e.v.Untracked:return"green";case e.v.Conflicted:case e.v.Modified:return"orange";case e.v.Deleted:return"red";case e.v.Renamed:return"blue";default:throw new r.hj(V.status)}}static{this.\u0275fac=function(A){return new(A||s)}}static{this.\u0275prov=et.Yz7({token:s,factory:s.\u0275fac,providedIn:g.c})}}return s})()},9500:(wt,rt,o)=>{o.d(rt,{A:()=>F});var e=o(2096),r=o(8504),g=o(6306),et=o(4664),a=o(7398),s=o(3153),J=o(9076),V=o(751),A=o(4820),_=o(4214),n=o(2401),I=o(3559),y=o(9212),G=o(5932),t=o(7361),H=o(8205);let F=(()=>{class b{constructor(p,C,Z){this.store=p,this.repositoriesApi=C,this.stashApi=Z,this.discardAllChanges=w=>this.store.dispatch(new I.z0(w,{name:"Discard",detail:(0,J.Iu)("All changes"),do:U=>{const $=this.store.selectSnapshot(n.E.openRepositoryIds);return this.stashApi.saveWorkingCopyState(w).pipe((0,g.K)(()=>(U(),(0,e.of)(""))),(0,et.w)(dt=>this.repositoriesApi.discardAllChanges(w).pipe((0,g.K)(ot=>s.SO.matches(ot)?(0,r._)(()=>new V.ZR(ot)):(0,r._)(()=>ot)),(0,A.C)(ot=>{const N=ot?.filter(j=>$.includes(j))??[];return this.store.dispatch([...N.map(j=>new _.Vu(j,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(w,[_.nh.unstagedChanges,_.nh.submodules])]).pipe((0,a.U)(()=>[N,dt]))}))))},undo:([U,$])=>this.stashApi.restoreWorkingCopyState(w,$).pipe((0,A.C)(()=>this.store.dispatch([...U.map(dt=>new _.Vu(dt,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(w,[_.nh.unstagedChanges,_.nh.submodules])])))})),this.discardFiles=(w,U)=>this.store.dispatch(new I.z0(w,{name:"Discard",detail:U.map($=>$.newFilePath??$.oldFilePath).join(", "),do:$=>{const dt=this.store.selectSnapshot(n.E.openRepositoryIds);return this.stashApi.saveWorkingCopyState(w,U.map(ot=>ot.newFilePath??ot.oldFilePath).filter(V.$K)).pipe((0,g.K)(()=>($(),(0,e.of)(""))),(0,et.w)(ot=>this.repositoriesApi.discardFiles(w,U).pipe((0,g.K)(N=>s.SO.matches(N)?(0,r._)(()=>new V.ZR(N)):(0,r._)(()=>N)),(0,A.C)(N=>{const j=N?.filter(B=>dt.includes(B))??[];return this.store.dispatch([...j.map(B=>new _.Vu(B,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(w,[_.nh.unstagedChanges,_.nh.submodules])]).pipe((0,a.U)(()=>[j,ot]))}))))},undo:([$,dt])=>this.stashApi.restoreWorkingCopyState(w,dt).pipe((0,A.C)(()=>this.store.dispatch([...$.map(ot=>new _.Vu(ot,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(w,[_.nh.unstagedChanges,_.nh.submodules])])))})),this.discardFileLines=(w,U,$,dt)=>this.store.dispatch(new I.z0(w,{name:"Discard lines",detail:(0,J.Iu)("In _name_",{name:$??U}),do:()=>this.repositoriesApi.discardFileLines(w,U,$,dt).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageAllChanges=w=>this.store.dispatch(new I.z0(w,{name:"Stage",detail:(0,J.Iu)("All changes"),do:()=>this.repositoriesApi.getUnstagedChanges(w).pipe((0,et.w)(U=>this.repositoriesApi.stageAllChanges(w).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))),(0,A.C)(()=>(0,e.of)(U))))),undo:U=>this.repositoriesApi.unstageFiles(w,U).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageFiles=(w,U)=>this.store.dispatch(new I.z0(w,{name:"Stage",detail:U.map($=>$.newFilePath??$.oldFilePath).join(", "),do:()=>this.repositoriesApi.stageFiles(w,U).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules])))),undo:()=>this.repositoriesApi.unstageFiles(w,U).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageFileLines=(w,U,$,dt)=>this.store.dispatch(new I.z0(w,{name:"Stage lines",detail:(0,J.Iu)("In _name_",{name:$??U}),do:()=>this.repositoriesApi.stageFileLines(w,U,$,dt).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageAllChanges=w=>this.store.dispatch(new I.z0(w,{name:"Unstage",detail:(0,J.Iu)("All changes"),do:()=>this.repositoriesApi.getStagedChanges(w).pipe((0,et.w)(U=>this.repositoriesApi.unstageAllChanges(w).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))),(0,A.C)(()=>(0,e.of)(U))))),undo:U=>this.repositoriesApi.stageFiles(w,U).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageFiles=(w,U)=>this.store.dispatch(new I.z0(w,{name:"Unstage",detail:U.map($=>$.newFilePath??$.oldFilePath).join(", "),do:()=>this.repositoriesApi.unstageFiles(w,U).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules])))),undo:()=>this.repositoriesApi.stageFiles(w,U).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageFileLines=(w,U,$,dt)=>this.store.dispatch(new I.z0(w,{name:"Unstage lines",detail:(0,J.Iu)("In _name_",{name:$??U}),do:()=>this.repositoriesApi.unstageFileLines(w,U,$,dt).pipe((0,A.C)(()=>this.store.dispatch(new _.Vu(w,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))}))}static{this.\u0275fac=function(C){return new(C||b)(y.LFG(G.yh),y.LFG(t.a),y.LFG(H._))}}static{this.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}}return b})()},3235:(wt,rt,o)=>{o.d(rt,{T:()=>J});var e=o(9212),r=o(4573),g=o(7910);function et(V,A){if(1&V){const _=e.EpF();e.TgZ(0,"app-new-commit",3),e.NdJ("patchChanged",function(I){e.CHM(_);const y=e.oxw(2);return e.KtG(y.patchChanged.next(I))}),e.qZA()}}function a(V,A){if(1&V){const _=e.EpF();e.TgZ(0,"app-commit",4),e.NdJ("patchChanged",function(I){e.CHM(_);const y=e.oxw(2);return e.KtG(y.patchChanged.next(I))}),e.qZA()}if(2&V){const _=e.oxw(2);e.Q6J("commit",_.commit)("selectedFile",_.selectedFile)}}function s(V,A){if(1&V&&(e.ynx(0),e.YNc(1,et,1,0,"app-new-commit",1)(2,a,1,2,"app-commit",2),e.BQk()),2&V){const _=A.ngIf;e.xp6(),e.Q6J("ngIf","head"===_),e.xp6(),e.Q6J("ngIf","head"!==_)}}let J=(()=>{class V extends((0,r.j)(g.A)){constructor(){super(...arguments),this.patchChanged=new e.vpe}static{this.\u0275fac=(()=>{let _;return function(I){return(_||(_=e.n5z(V)))(I||V)}})()}static{this.\u0275cmp=e.Xpm({type:V,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"patchChanged",4,"ngIf"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],[3,"patchChanged"],[3,"commit","selectedFile","patchChanged"]],template:function(n,I){1&n&&(e.YNc(0,s,3,2,"ng-container",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,I.commit))},encapsulation:2,changeDetection:0})}}return V})()},1264:(wt,rt,o)=>{o.d(rt,{$:()=>se});var e=o(5195),r=o(5986),g=o(4516),et=o(5940),a=o(1345),s=o(3902),J=o(535),V=o(3235),A=o(7582),_=o(8484),n=o(9212),I=o(5932),y=o(8180),G=o(9773),t=o(4573),H=o(7910),F=o(2020),b=o(4214),P=o(2401),p=o(3651),C=o(3897),Z=o(9918),w=o(6814),U=o(617),$=o(2596),dt=o(1102),ot=o(9193),N=o(3588),j=o(5696),B=o(2415),st=o(7484);function bt(ht,Ut){if(1&ht){const T=n.EpF();n.TgZ(0,"li",21),n.NdJ("click",function(){const Mt=n.CHM(T).$implicit,St=n.oxw(4);return n.KtG(St.changeCommit(Mt))}),n._uU(1),n.qZA()}if(2&ht){const T=Ut.$implicit,K=Ut.first;n.Q6J("matTooltip",T),n.xp6(),n.AsE("",K?"":", ","",T,"")}}function at(ht,Ut){if(1&ht&&(n.TgZ(0,"div",18)(1,"span",4),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",19)(5,"ul"),n.YNc(6,bt,2,3,"li",20),n.qZA()()()),2&ht){const T=n.oxw(2).ngIf;n.ekj("plural",T.parentIds.length>1),n.xp6(2),n.hij("",n.lcZ(3,4,1===T.parentIds.length?"Parent:":"Parents:")," "),n.xp6(4),n.Q6J("ngForOf",T.parentIds)}}function pt(ht,Ut){if(1&ht&&(n.TgZ(0,"div",22),n._uU(1),n.ALo(2,"translate"),n._UZ(3,"app-avatar",11),n.ALo(4,"async"),n.TgZ(5,"span",12),n._uU(6),n.qZA()()),2&ht){const T=n.oxw(2).ngIf,K=n.oxw();n.Q6J("matTooltip",T.committerName+" ("+T.committerEmail+")"),n.xp6(),n.hij(" ",n.lcZ(2,5,"committed by")," "),n.xp6(2),n.Q6J("remotes",n.lcZ(4,7,K.remotes))("email",T.committerEmail),n.xp6(3),n.Oqu(T.committerName)}}function X(ht,Ut){if(1&ht){const T=n.EpF();n.TgZ(0,"div",23)(1,"div",24),n._uU(2),n.qZA(),n.TgZ(3,"button",25),n.NdJ("click",function(){const Mt=n.CHM(T).data,St=n.oxw(3);return n.KtG(St.copyToClipboard(St.getPatchPath(Mt)))}),n.TgZ(4,"mat-icon"),n._uU(5,"content_copy"),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"translate"),n.qZA()(),n.TgZ(9,"button",26),n.NdJ("click",function(){const Mt=n.CHM(T).data,St=n.oxw(3);return n.KtG(St.blamePatch(Mt))}),n.TgZ(10,"mat-icon"),n._uU(11,"document_scanner"),n.qZA(),n.TgZ(12,"span"),n._uU(13),n.ALo(14,"translate"),n.qZA()()()}if(2&ht){const T=Ut.data,K=n.oxw(3);let q;n.xp6(),n.Q6J("matTooltip",null!==(q=K.getPatchPath(T))&&void 0!==q?q:""),n.xp6(),n.Oqu(K.getPatchFilename(T)),n.xp6(5),n.Oqu(n.lcZ(8,4,"Copy Path")),n.xp6(6),n.Oqu(n.lcZ(14,6,"Blame"))}}function ut(ht,Ut){if(1&ht){const T=n.EpF();n.TgZ(0,"div",2)(1,"header")(2,"div",3),n.NdJ("click",function(){n.CHM(T);const q=n.oxw().ngIf,Mt=n.oxw();return n.KtG(Mt.copyToClipboard(q.id))}),n.TgZ(3,"span",4),n._uU(4),n.ALo(5,"translate"),n.qZA(),n._uU(6),n.qZA(),n.YNc(7,at,7,6,"div",5),n.qZA(),n.TgZ(8,"app-grid",6)(9,"app-grid-cell")(10,"mat-card",7)(11,"div",8)(12,"span",9),n._uU(13),n.qZA(),n._UZ(14,"br"),n.TgZ(15,"span"),n._uU(16),n.qZA()(),n.TgZ(17,"div",10),n._uU(18),n.ALo(19,"translate"),n._UZ(20,"app-avatar",11),n.ALo(21,"async"),n.TgZ(22,"span",12),n._uU(23),n.qZA(),n._UZ(24,"br"),n.qZA(),n.YNc(25,pt,7,9,"div",13),n.TgZ(26,"div",14),n.ALo(27,"translateDate"),n._uU(28),n.ALo(29,"translate"),n.TgZ(30,"span",12),n._uU(31),n.ALo(32,"translateDate"),n.qZA(),n._uU(33),n.ALo(34,"translate"),n.TgZ(35,"span",12),n._uU(36),n.ALo(37,"translateDate"),n.qZA()()()(),n.TgZ(38,"app-grid-cell")(39,"mat-card",15)(40,"app-patches-view",16),n.NdJ("selectedChanged",function(q){n.CHM(T);const Mt=n.oxw(2);return n.KtG(Mt.changeFile(q.oldFilePath,q.newFilePath))})("contextMenuOpened",function(q){n.CHM(T);const Mt=n.MAs(43),St=n.oxw(2);return n.KtG(St.openContextMenu(Mt,q[0],q[1]))}),n.ALo(41,"async"),n.qZA()()()(),n.YNc(42,X,15,8,"ng-template",null,17,n.W1O),n.qZA()}if(2&ht){const T=n.oxw().ngIf,K=n.oxw();n.xp6(2),n.Q6J("matTooltip",T.id),n.xp6(2),n.Oqu(n.lcZ(5,19,"Commit:")),n.xp6(2),n.hij(" ",T.id," "),n.xp6(),n.Q6J("ngIf",T.parentIds.length),n.xp6(6),n.Oqu(K.getMessageSubject(T.message)),n.xp6(3),n.Oqu(K.getMessageBody(T.message)),n.xp6(),n.Q6J("matTooltip",T.authorName+" ("+T.authorEmail+")"),n.xp6(),n.hij(" ",n.lcZ(19,21,"authored by")," "),n.xp6(2),n.Q6J("remotes",n.lcZ(21,23,K.remotes))("email",T.authorEmail),n.xp6(3),n.Oqu(T.authorName),n.xp6(2),n.Q6J("ngIf",T.committerName&&T.committerEmail&&(T.authorName!==T.committerName||T.authorEmail!==T.committerEmail)),n.xp6(),n.Q6J("matTooltip",n.xi3(27,25,T.date,"z")||""),n.xp6(2),n.hij(" ",n.lcZ(29,28,"on !date!")," "),n.xp6(3),n.Oqu(n.xi3(32,30,T.date,"longDate")),n.xp6(2),n.hij(" ",n.lcZ(34,33,"at !time!")," "),n.xp6(3),n.Oqu(n.xi3(37,35,T.date,"HH:mm")),n.xp6(4),n.Q6J("patches",T.patches)("selected",n.lcZ(41,38,K.selectedFile))}}function Ct(ht,Ut){if(1&ht&&(n.ynx(0),n.YNc(1,ut,44,40,"div",1),n.BQk()),2&ht){const T=Ut.ngIf;n.xp6(),n.Q6J("ngIf",T&&"head"!==T)}}let Pt=(()=>{class ht extends((0,t.j)(H.A)){constructor(T,K,q,Mt,St){super(),this.overlay=T,this.router=K,this.viewContainerRef=q,this.store=Mt,this.commitDetailService=St,this.patchChanged=new n.vpe,this.overlayRef=null}getPatchPath(T){return this.commitDetailService.getPatchPath(T)}getPatchFilename(T){const K=this.commitDetailService.getPatchPath(T);return K?K.slice(K.lastIndexOf("/")+1):null}getMessageSubject(T){return T.split("\n")[0]??""}getMessageBody(T){return T.split("\n").slice(1).join("\n").trimEnd()}copyToClipboard(T){navigator.clipboard.writeText(T??"").then(()=>{})}changeCommit(T){this.selectedRepositoryPath.pipe((0,y.q)(1)).subscribe(K=>{null!==K&&(this.store.dispatch(new b.jQ(K,T)),T&&this.store.dispatch(new b.BK(K,T)))})}changeFile(T,K){this.patchChanged.next({area:"commit",oldFilePath:T,newFilePath:K})}blamePatch(T){this.commit.pipe((0,y.q)(1)).subscribe(K=>{this.router.navigate(["/standard/blame"],{queryParams:{area:"commit","commit-id":"head"===K?"head":K?.id,path:T.newFilePath}})})}openContextMenu(T,K,q){q.preventDefault(),q.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:q.x,y:q.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new _.UE(T,this.viewContainerRef,{data:K})),(0,F.t)(this.overlayRef).pipe((0,y.q)(1),(0,G.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(K){return new(K||ht)(n.Y36(p.aV),n.Y36(C.F0),n.Y36(n.s_b),n.Y36(I.yh),n.Y36(Z.d))}}static{this.\u0275cmp=n.Xpm({type:ht,selectors:[["app-commit"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[n.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"matTooltip","click"],[1,"title"],["class","parent-commits",3,"plural",4,"ngIf"],["id","commit-detail-view","vertical",""],["appearance","outlined",1,"message"],[1,"content"],[1,"subject"],[1,"author",3,"matTooltip"],[3,"remotes","email"],[1,"highlight"],["class","committer",3,"matTooltip",4,"ngIf"],[1,"date",3,"matTooltip"],["appearance","outlined",1,"files"],[3,"patches","selected","selectedChanged","contextMenuOpened"],["fileContextMenu",""],[1,"parent-commits"],[1,"parent-commit-ids"],[3,"matTooltip","click",4,"ngFor","ngForOf"],[3,"matTooltip","click"],[1,"committer",3,"matTooltip"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"click"],["matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(K,q){1&K&&(n.YNc(0,Ct,2,1,"ng-container",0),n.ALo(1,"async")),2&K&&n.Q6J("ngIf",n.lcZ(1,1,q.commit))},dependencies:[e.a8,w.sg,w.O5,U.Hw,$.gM,dt.A,ot.Y,N.M,j.i,w.Ov,B.v,st.X],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;gap:10px}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;column-gap:10px;padding:0 10px;flex:0 0 auto;overflow-x:hidden;overflow-y:auto;font-weight:600}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 113px;min-width:113px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 106px;min-width:106px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]{flex-basis:163px;min-width:163px}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{width:calc(100% - 63px)}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}.message[_ngcontent-%COMP%]{height:calc(100% - 5px);margin:0 10px 5px;padding:16px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:1rem;overflow-wrap:anywhere}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-size:1.25rem}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:auto;height:1.5625rem;aspect-ratio:1/1;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}.files[_ngcontent-%COMP%]{height:calc(100% - 5px);margin:5px 10px 0;padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000000de}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return(0,A.gn)([(0,I.Ph)(P.E.selectedRemotes)],ht.prototype,"remotes",void 0),(0,A.gn)([(0,I.Ph)(P.E.selectedRepositoryPath)],ht.prototype,"selectedRepositoryPath",void 0),ht})();var Rt=o(7368),yt=o(6223),gt=o(5619),Tt=o(2572),k=o(3019),D=o(7398),v=o(3620),R=o(7921),m=o(4716),E=o(3665),L=o(1361),lt=o(9076),_t=o(5657),kt=o(709),$t=o(4304),Ht=o(9500),Qt=o(4170),ct=o(6263),At=o(2296),S=o(6885);function Y(ht,Ut){if(1&ht){const T=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(T);const q=n.oxw(2);return n.KtG(q.stage())}),n.ALo(1,"translate"),n.ALo(2,"nullEmpty"),n.ALo(3,"async"),n._UZ(4,"mat-icon",19),n.ALo(5,"nullEmpty"),n.ALo(6,"async"),n.qZA()}if(2&ht){const T=n.oxw(2);n.Q6J("matTooltip",n.lcZ(1,2,n.lcZ(2,4,n.lcZ(3,6,T.checkedUnstaged))?"Stage selected changes":"Stage all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(5,8,n.lcZ(6,10,T.checkedUnstaged))?"tray-plus":"tray-arrow-down")}}function it(ht,Ut){1&ht&&(n.TgZ(0,"div",22),n.ALo(1,"translate"),n.TgZ(2,"button",23)(3,"mat-icon"),n._uU(4,"warning"),n.qZA()()()),2&ht&&n.Q6J("matTooltip",n.lcZ(1,1,"Cannot stage conflicted files, resolve the conflicts first"))}function Et(ht,Ut){if(1&ht){const T=n.EpF();n.TgZ(0,"app-grid-cell",2)(1,"mat-card",12)(2,"div",13)(3,"button",14),n.NdJ("click",function(){n.CHM(T);const q=n.oxw();return n.KtG(q.clickAllUnstagedCheckbox())}),n.ALo(4,"translate"),n.ALo(5,"async"),n.TgZ(6,"mat-icon"),n._uU(7),n.ALo(8,"async"),n.qZA()(),n.TgZ(9,"div",15),n.YNc(10,Y,7,12,"button",16),n.ALo(11,"async"),n.YNc(12,it,5,3,"div",17),n.ALo(13,"async"),n.TgZ(14,"button",18),n.NdJ("click",function(){n.CHM(T);const q=n.oxw();return n.KtG(q.discard())}),n.ALo(15,"translate"),n.ALo(16,"nullEmpty"),n.ALo(17,"async"),n._UZ(18,"mat-icon",19),n.ALo(19,"nullEmpty"),n.ALo(20,"async"),n.qZA()()(),n.TgZ(21,"app-patches-view",20),n.NdJ("checkedChanged",function(q){n.CHM(T);const Mt=n.oxw();return n.KtG(Mt.setPatchChecked("unstaged",q[0],q[1]))})("selectedChanged",function(q){n.CHM(T);const Mt=n.oxw();return n.KtG(Mt.selectFile("unstaged",q.oldFilePath,q.newFilePath))})("contextMenuOpened",function(q){n.CHM(T);const Mt=n.oxw(),St=n.MAs(23);return n.KtG(Mt.openContextMenu("unstaged",St,q[0],q[1]))}),n.ALo(22,"async"),n.qZA()()()}if(2&ht){const T=Ut.ngIf,K=n.oxw();n.xp6(3),n.Q6J("matTooltip",n.lcZ(4,9,"check_box_outline_blank"===n.lcZ(5,11,K.allUnstagedCheckboxIcon)?"Select all":"Deselect all")),n.xp6(4),n.Oqu(n.lcZ(8,13,K.allUnstagedCheckboxIcon)),n.xp6(3),n.Q6J("ngIf",!1===n.lcZ(11,15,K.hasConflicts)),n.xp6(2),n.Q6J("ngIf",n.lcZ(13,17,K.hasConflicts)),n.xp6(2),n.Q6J("matTooltip",n.lcZ(15,19,n.lcZ(16,21,n.lcZ(17,23,K.checkedUnstaged))?"Discard selected changes":"Discard all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(19,25,n.lcZ(20,27,K.checkedUnstaged))?"tray-remove":"tray"),n.xp6(3),n.Q6J("patches",T)("checked",K.checkedUnstaged)("selected",n.lcZ(22,29,K.selectedUnstagedFile))}}function Jt(ht,Ut){if(1&ht){const T=n.EpF();n.TgZ(0,"mat-card",24)(1,"div",13)(2,"button",14),n.NdJ("click",function(){n.CHM(T);const q=n.oxw();return n.KtG(q.clickAllStagedCheckbox())}),n.ALo(3,"translate"),n.ALo(4,"async"),n.TgZ(5,"mat-icon"),n._uU(6),n.ALo(7,"async"),n.qZA()(),n.TgZ(8,"div",15)(9,"button",25),n.NdJ("click",function(){n.CHM(T);const q=n.oxw();return n.KtG(q.unstage())}),n.ALo(10,"translate"),n.ALo(11,"nullEmpty"),n.ALo(12,"async"),n._UZ(13,"mat-icon",19),n.ALo(14,"nullEmpty"),n.ALo(15,"async"),n.qZA()()(),n.TgZ(16,"app-patches-view",20),n.NdJ("checkedChanged",function(q){n.CHM(T);const Mt=n.oxw();return n.KtG(Mt.setPatchChecked("staged",q[0],q[1]))})("selectedChanged",function(q){n.CHM(T);const Mt=n.oxw();return n.KtG(Mt.selectFile("staged",q.oldFilePath,q.newFilePath))})("contextMenuOpened",function(q){n.CHM(T);const Mt=n.oxw(),St=n.MAs(23);return n.KtG(Mt.openContextMenu("staged",St,q[0],q[1]))}),n.ALo(17,"async"),n.qZA()()}if(2&ht){const T=Ut.ngIf,K=n.oxw();n.xp6(2),n.Q6J("matTooltip",n.lcZ(3,7,"check_box_outline_blank"===n.lcZ(4,9,K.allStagedCheckboxIcon)?"Select all":"Deselect all")),n.xp6(4),n.Oqu(n.lcZ(7,11,K.allStagedCheckboxIcon)),n.xp6(3),n.Q6J("matTooltip",n.lcZ(10,13,n.lcZ(11,15,n.lcZ(12,17,K.checkedStaged))?"Unstage selected changes":"Unstage all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(14,19,n.lcZ(15,21,K.checkedStaged))?"tray-minus":"tray-arrow-up"),n.xp6(3),n.Q6J("patches",T)("checked",K.checkedStaged)("selected",n.lcZ(17,23,K.selectedStagedFile))}}function jt(ht,Ut){1&ht&&n._UZ(0,"mat-spinner",26)}function ne(ht,Ut){1&ht&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&ht&&(n.xp6(),n.Oqu(n.lcZ(2,1,"Commit changes")))}function oe(ht,Ut){if(1&ht){const T=n.EpF();n.TgZ(0,"button",31),n.NdJ("click",function(){n.CHM(T);const q=n.oxw().data,Mt=n.oxw();return n.KtG(Mt.blamePatch(q.area,q.patch))}),n.TgZ(1,"mat-icon"),n._uU(2,"document_scanner"),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"translate"),n.qZA()()}2&ht&&(n.xp6(4),n.Oqu(n.lcZ(5,1,"Blame")))}function ae(ht,Ut){if(1&ht){const T=n.EpF();n.TgZ(0,"div",27)(1,"div",28),n._uU(2),n.qZA(),n.TgZ(3,"button",29),n.NdJ("click",function(){const Mt=n.CHM(T).data,St=n.oxw();return n.KtG(St.copyToClipboard(St.getPatchPath(Mt.patch)))}),n.TgZ(4,"mat-icon"),n._uU(5,"content_copy"),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"translate"),n.qZA()(),n.YNc(9,oe,6,3,"button",30),n.qZA()}if(2&ht){const T=Ut.data,K=n.oxw();let q;n.xp6(),n.Q6J("matTooltip",null!==(q=K.getPatchPath(T.patch))&&void 0!==q?q:""),n.xp6(),n.Oqu(K.getPatchFilename(T.patch)),n.xp6(5),n.Oqu(n.lcZ(8,4,"Copy Path")),n.xp6(2),n.Q6J("ngIf",!K.isPatchAdded(T.patch))}}let ie=(()=>{class ht extends((0,t.j)(H.A,L.P)){constructor(T,K,q,Mt,St,zt,Xt){super(),this.overlay=T,this.router=K,this.viewContainerRef=q,this.store=Mt,this.commitDetailService=St,this.repositoryActionsService=zt,this.stagingActionsService=Xt,this.patchChanged=new n.vpe,this.commitMessageControl=new yt.NI(null),this.commitButtonLoading=new gt.X(!1),this.checkedStaged=new gt.X([]),this.checkedUnstaged=new gt.X([]),this.allStagedCheckboxIcon=new gt.X("check_box_outline_blank"),this.allUnstagedCheckboxIcon=new gt.X("check_box_outline_blank"),this.overlayRef=null,this.isPatchAdded=te=>te.status===E.v.Added}ngOnInit(){this.stagedChanges=this.allStagedChanges.pipe((0,D.U)(T=>T?.filter(K=>K.status!==E.v.Conflicted)??null)),this.selectedRepositoryCommitMessage.pipe((0,G.R)(this.destroyed$)).subscribe(T=>{this.commitMessageControl.setValue(T,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,v.b)(200),(0,G.R)(this.destroyed$)).subscribe(T=>{const K=this.store.selectSnapshot(P.E.selectedRepositoryPath);K&&this.store.dispatch(new b.$h(K,T))}),this.commitButtonDisabled=(0,Tt.a)([this.commitButtonLoading,this.stagedChanges,(0,k.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,R.O)(this.commitMessageControl.value)))]).pipe((0,D.U)(([T,K,q])=>T||!q||!K||0===K.length)),this.commitButtonTooltip=(0,Tt.a)([this.stagedChanges,(0,k.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,R.O)(this.commitMessageControl.value)))]).pipe((0,D.U)(([T,K])=>K?T&&0!==T.length?"":(0,lt.Iu)("There must be staged changes to commit"):(0,lt.Iu)("The commit message cannot be empty"))),this.hasConflicts=(0,Tt.a)([this.unstagedChanges,this.checkedUnstaged]).pipe((0,D.U)(([T,K])=>K.length>0&&K.some(q=>q.status===E.v.Conflicted)||0===K.length&&!!T&&T.some(q=>q.status===E.v.Conflicted)))}getPatchPath(T){return this.commitDetailService.getPatchPath(T)}getPatchFilename(T){const K=this.commitDetailService.getPatchPath(T);return K?K.slice(K.lastIndexOf("/")+1):null}selectFile(T,K,q){this.patchChanged.next({area:T,oldFilePath:K,newFilePath:q})}discard(){const T=this.store.selectSnapshot(P.E.selectedRepositoryPath);T&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.discardFiles(T,this.checkedUnstaged.value):this.stagingActionsService.discardAllChanges(T)).pipe((0,G.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}stage(){const T=this.store.selectSnapshot(P.E.selectedRepositoryPath);T&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.stageFiles(T,this.checkedUnstaged.value):this.stagingActionsService.stageAllChanges(T)).pipe((0,G.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}unstage(){const T=this.store.selectSnapshot(P.E.selectedRepositoryPath);T&&(this.checkedStaged.value.length>0?this.stagingActionsService.unstageFiles(T,this.checkedStaged.value):this.stagingActionsService.unstageAllChanges(T)).pipe((0,G.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank")})}setPatchChecked(T,K,q){const Mt="staged"===T?this.checkedStaged.value:this.checkedUnstaged.value,St=Mt.findIndex(te=>te.oldFilePath===K.oldFilePath&&te.newFilePath===K.newFilePath);St>=0&&!q?Mt.splice(St,1):St<0&&q&&Mt.push(K),"staged"===T?this.checkedStaged.next(Mt):this.checkedUnstaged.next(Mt);const zt="staged"===T?this.allStagedCheckboxIcon:this.allUnstagedCheckboxIcon;(this.store.selectSnapshot("staged"===T?P.E.selectedStagedChanges:P.E.selectedUnstagedChanges)?.length??0)===Mt.length?zt.next("check_box"):zt.next(0===Mt.length?"check_box_outline_blank":"indeterminate_check_box")}commitChanges(){const T=this.store.selectSnapshot(P.E.selectedRepositoryPath),K=this.store.selectSnapshot(kt.$.selectedProfile),q=[];T||q.push((0,lt.Iu)("Cannot commit if no repository is selected")),K||q.push((0,lt.Iu)("Cannot commit if no profile is selected"));const Mt=this.commitMessageControl.value;if(Mt||q.push((0,lt.Iu)("Cannot commit with empty commit message")),q.length>0)return void this.store.dispatch(q.map(Xt=>new _t.hx("error",Xt)));this.commitButtonLoading.next(!0);const St=T;this.repositoryActionsService.createCommit(St,K,Mt??"").pipe((0,m.x)(()=>{this.commitButtonLoading.next(!1)})).subscribe(Xt=>{this.store.dispatch(new b.BK(St,Xt))})}copyToClipboard(T){navigator.clipboard.writeText(T??"")}blamePatch(T,K){this.router.navigate(["/standard/blame"],{queryParams:{area:T,"commit-id":"head",path:K.newFilePath}})}clickAllStagedCheckbox(){switch(this.allStagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedStaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const T=this.store.selectSnapshot(P.E.selectedStagedChanges);this.checkedStaged.next([...T??[]]),this.allStagedCheckboxIcon.next("check_box")}}clickAllUnstagedCheckbox(){switch(this.allUnstagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const T=this.store.selectSnapshot(P.E.selectedUnstagedChanges);this.checkedUnstaged.next([...T??[]]),this.allUnstagedCheckboxIcon.next("check_box")}}openContextMenu(T,K,q,Mt){Mt.preventDefault(),Mt.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:Mt.x,y:Mt.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new _.UE(K,this.viewContainerRef,{data:{area:T,patch:q}})),(0,F.t)(this.overlayRef).pipe((0,y.q)(1),(0,G.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(K){return new(K||ht)(n.Y36(p.aV),n.Y36(C.F0),n.Y36(n.s_b),n.Y36(I.yh),n.Y36(Z.d),n.Y36($t.$),n.Y36(Ht.A))}}static{this.\u0275cmp=n.Xpm({type:ht,selectors:[["app-new-commit"]],viewQuery:function(K,q){if(1&K&&n.Gf(Rt.N7,5),2&K){let Mt;n.iGM(Mt=n.CRH())&&(q.viewports=Mt)}},outputs:{patchChanged:"patchChanged"},features:[n.qOj],decls:24,vars:27,consts:[["vertical",""],["min","150px",4,"ngIf"],["min","150px"],["appearance","outlined","class","staged",4,"ngIf"],["appearance","outlined",1,"commit"],[1,"description"],["matInput","","cdkTextareaAutosize","",3,"placeholder","formControl"],[1,"button-container",3,"matTooltip"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],["diameter","24",4,"ngIf"],[4,"ngIf"],["fileContextMenu",""],["appearance","outlined",1,"unstaged"],[1,"header-buttons"],["type","button","mat-icon-button","",1,"checkbox-button","app-icon-button-md",3,"matTooltip","click"],[1,"buttons"],["type","button","mat-stroked-button","","class","stage-button",3,"matTooltip","click",4,"ngIf"],["class","conflicts-wrapper",3,"matTooltip",4,"ngIf"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"matTooltip","click"],[3,"svgIcon"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"],["type","button","mat-stroked-button","",1,"stage-button",3,"matTooltip","click"],[1,"conflicts-wrapper",3,"matTooltip"],["type","button","mat-stroked-button","","disabled","",1,"stage-button","has-conflicts"],["appearance","outlined",1,"staged"],["type","button","mat-stroked-button","",1,"unstage-button",3,"matTooltip","click"],["diameter","24"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],["type","button",1,"menu-item",3,"click"],["type","button","class","menu-item","matTooltip","Show file history",3,"click",4,"ngIf"],["type","button","matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(K,q){1&K&&(n.TgZ(0,"app-grid",0),n.YNc(1,Et,23,31,"app-grid-cell",1),n.ALo(2,"nullEmpty"),n.ALo(3,"async"),n.TgZ(4,"app-grid-cell",2),n.YNc(5,Jt,18,25,"mat-card",3),n.ALo(6,"async"),n.qZA()(),n.TgZ(7,"mat-card",4)(8,"mat-form-field",5)(9,"mat-label"),n._uU(10),n.ALo(11,"translate"),n.qZA(),n._UZ(12,"textarea",6),n.ALo(13,"translate"),n.qZA(),n.TgZ(14,"div",7),n.ALo(15,"async"),n.TgZ(16,"button",8),n.NdJ("click",function(){return q.commitChanges()}),n.ALo(17,"async"),n.YNc(18,jt,1,0,"mat-spinner",9),n.ALo(19,"async"),n.YNc(20,ne,3,3,"span",10),n.ALo(21,"async"),n.qZA()()(),n.YNc(22,ae,10,6,"ng-template",null,11,n.W1O)),2&K&&(n.xp6(),n.Q6J("ngIf",n.lcZ(2,9,n.lcZ(3,11,q.unstagedChanges))),n.xp6(4),n.Q6J("ngIf",n.lcZ(6,13,q.stagedChanges)),n.xp6(5),n.Oqu(n.lcZ(11,15,"Commit Message")),n.xp6(2),n.s9C("placeholder",n.lcZ(13,17,"Enter a description...")),n.Q6J("formControl",q.commitMessageControl),n.xp6(2),n.Q6J("matTooltip",n.lcZ(15,19,q.commitButtonTooltip)||""),n.xp6(2),n.Q6J("disabled",n.lcZ(17,21,q.commitButtonDisabled)),n.xp6(2),n.Q6J("ngIf",n.lcZ(19,23,q.commitButtonLoading)),n.xp6(2),n.Q6J("ngIf",!1===n.lcZ(21,25,q.commitButtonLoading)))},dependencies:[e.a8,g.Nt,Qt.KE,Qt.hX,ct.IC,et.Ou,w.O5,yt.Fj,yt.JJ,yt.oH,At.lW,At.RK,U.Hw,$.gM,ot.Y,N.M,j.i,w.Ov,S.x,st.X],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%;gap:10px}.staged[_ngcontent-%COMP%]{margin:5px 10px 0;height:calc(100% - 5px)}.unstaged[_ngcontent-%COMP%]{margin:0 10px 5px;height:calc(100% - 5px)}app-grid-cell[_ngcontent-%COMP%]:first-child   .staged[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;height:100%}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{flex:0 0 auto;position:relative}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:space-between;min-height:40px;margin-left:32px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{cursor:default}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-12px}.commit[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px;padding:16px;overflow:auto;display:flex;flex-direction:column;min-height:158px;max-height:33%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px}.commit[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 auto}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}.dark-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#cb8837}.light-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#d8a669}"],changeDetection:0})}}return(0,A.gn)([(0,I.Ph)(P.E.selectedRepositoryPath)],ht.prototype,"repositoryPath",void 0),(0,A.gn)([(0,I.Ph)(P.E.selectedStagedChanges)],ht.prototype,"allStagedChanges",void 0),(0,A.gn)([(0,I.Ph)(P.E.selectedUnstagedChanges)],ht.prototype,"unstagedChanges",void 0),(0,A.gn)([(0,I.Ph)(P.E.selectedFileForArea("staged"))],ht.prototype,"selectedStagedFile",void 0),(0,A.gn)([(0,I.Ph)(P.E.selectedFileForArea("unstaged"))],ht.prototype,"selectedUnstagedFile",void 0),(0,A.gn)([(0,I.Ph)(P.E.selectedRepositoryCommitMessage)],ht.prototype,"selectedRepositoryCommitMessage",void 0),(0,A.gn)([(0,I.Ph)(kt.$.selectedProfile)],ht.prototype,"selectedProfile",void 0),(0,A.gn)([(0,I.Ph)(kt.$.profiles)],ht.prototype,"profiles",void 0),ht})(),se=(()=>{class ht{static{this.\u0275fac=function(K){return new(K||ht)}}static{this.\u0275mod=n.oAB({type:ht})}static{this.\u0275inj=n.cJS({imports:[e.QW,r.p9,g.c,et.Cq,a.I,s.c,J.Z]})}}return ht})();n.B6R(V.T,[w.O5,Pt,ie],[w.Ov])},7399:(wt,rt,o)=>{o.d(rt,{s:()=>Qt});var e=o(7582),r=o(6825),g=o(1088),et=o(8484),a=o(9212),s=o(5932),J=o(9738),V=o(5619),A=o(2572),_=o(8645),n=o(3019),I=o(9315),y=o(2096),G=o(8504),t=o(7398),H=o(9773),F=o(8180),b=o(836),P=o(3997),p=o(9397),C=o(4664),Z=o(2181),w=o(6306),U=o(3153),$=o(4573),dt=o(7910),ot=o(2020),N=o(2401),j=o(9589),B=o(709),st=o(3651),bt=o(7735),at=o(7337),pt=o(2368),X=o(9500);const ut=["contextMenu"];function Ct(ct,At){if(1&ct&&(a._UZ(0,"app-condensed-path",15),a.ALo(1,"async")),2&ct){const S=a.oxw(2);a.Q6J("path",a.lcZ(1,1,S.filePath))}}function Pt(ct,At){if(1&ct){const S=a.EpF();a.TgZ(0,"button",16),a.NdJ("click",function(){a.CHM(S);const it=a.oxw(2);return a.KtG(it.modifyLinesStage("stage"))}),a.ALo(1,"translate"),a._UZ(2,"mat-icon",17),a.qZA()}2&ct&&a.Q6J("matTooltip",a.lcZ(1,1,"Stage selected lines"))}function Rt(ct,At){if(1&ct){const S=a.EpF();a.TgZ(0,"button",18),a.NdJ("click",function(){a.CHM(S);const it=a.oxw(2);return a.KtG(it.modifyLinesStage("discard"))}),a.ALo(1,"translate"),a._UZ(2,"mat-icon",19),a.qZA()}2&ct&&a.Q6J("matTooltip",a.lcZ(1,1,"Discard selected lines"))}function yt(ct,At){if(1&ct){const S=a.EpF();a.TgZ(0,"button",20),a.NdJ("click",function(){a.CHM(S);const it=a.oxw(2);return a.KtG(it.modifyLinesStage("unstage"))}),a.ALo(1,"translate"),a._UZ(2,"mat-icon",21),a.qZA()}2&ct&&a.Q6J("matTooltip",a.lcZ(1,1,"Unstage selected lines"))}function gt(ct,At){if(1&ct){const S=a.EpF();a.TgZ(0,"button",22),a.NdJ("click",function(){a.CHM(S);const it=a.oxw(2);return a.KtG(it.edited.next())}),a.TgZ(1,"mat-icon"),a._uU(2,"edit"),a.qZA()()}}function Tt(ct,At){if(1&ct){const S=a.EpF();a.TgZ(0,"button",23),a.NdJ("click",function(){a.CHM(S);const it=a.oxw(2);return a.KtG(it.closed.next())}),a.TgZ(1,"mat-icon"),a._uU(2,"close"),a.qZA()()}}function k(ct,At){1&ct&&(a.TgZ(0,"main"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ct&&(a.xp6(),a.Oqu(a.lcZ(2,1,"Loading...")))}function D(ct,At){1&ct&&(a.TgZ(0,"main"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ct&&(a.xp6(),a.Oqu(a.lcZ(2,1,"Cannot load binary file.")))}function v(ct,At){1&ct&&(a.TgZ(0,"main"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ct&&(a.xp6(),a.Oqu(a.lcZ(2,1,"Cannot load file.")))}function R(ct,At){if(1&ct&&a._UZ(0,"app-hunk-view",25),2&ct){const S=a.oxw(3);a.Q6J("diffLines",S.diffLines)}}function m(ct,At){if(1&ct&&a._UZ(0,"app-inline-view",25),2&ct){const S=a.oxw(3);a.Q6J("diffLines",S.diffLines)}}function E(ct,At){if(1&ct&&a._UZ(0,"app-split-view",25),2&ct){const S=a.oxw(3);a.Q6J("diffLines",S.diffLines)}}function L(ct,At){if(1&ct&&(a.TgZ(0,"main"),a.YNc(1,R,1,1,"app-hunk-view",24)(2,m,1,1,"app-inline-view",24)(3,E,1,1,"app-split-view",24),a.qZA()),2&ct){const S=a.oxw().ngIf;a.xp6(),a.Q6J("ngIf","hunk"===S),a.xp6(),a.Q6J("ngIf","inline"===S),a.xp6(),a.Q6J("ngIf","split"===S)}}function lt(ct,At){if(1&ct){const S=a.EpF();a.ynx(0),a.TgZ(1,"header")(2,"app-find-control",2),a.NdJ("focusin",function(){a.CHM(S);const it=a.oxw();return a.KtG(it.findControlHasFocus$.next(!0))})("focusout",function(){a.CHM(S);const it=a.oxw();return a.KtG(it.findControlHasFocus$.next(!1))}),a.ALo(3,"async"),a.qZA(),a.YNc(4,Ct,2,3,"app-condensed-path",3),a.ALo(5,"async"),a.ALo(6,"async"),a.TgZ(7,"div",4),a.YNc(8,Pt,3,3,"button",5),a.ALo(9,"async"),a.YNc(10,Rt,3,3,"button",6),a.ALo(11,"async"),a.YNc(12,yt,3,3,"button",7),a.ALo(13,"async"),a.TgZ(14,"mat-button-toggle-group",8),a.NdJ("change",function(it){a.CHM(S);const Et=a.oxw();return a.KtG(Et.changeView(it.value))}),a.TgZ(15,"mat-button-toggle",9),a.ALo(16,"translate"),a.TgZ(17,"mat-icon"),a._uU(18,"calendar_view_day"),a.qZA()(),a.TgZ(19,"mat-button-toggle",10),a.ALo(20,"translate"),a.TgZ(21,"mat-icon"),a._uU(22,"view_headline"),a.qZA()(),a.TgZ(23,"mat-button-toggle",11),a.ALo(24,"translate"),a.TgZ(25,"mat-icon"),a._uU(26,"vertical_split"),a.qZA()()(),a.TgZ(27,"div",12),a.YNc(28,gt,3,0,"button",13)(29,Tt,3,0,"button",14),a.qZA()()(),a.YNc(30,k,3,3,"main",0),a.ALo(31,"async"),a.YNc(32,D,3,3,"main",0),a.ALo(33,"async"),a.YNc(34,v,3,3,"main",0),a.ALo(35,"async"),a.YNc(36,L,4,3,"main",0),a.ALo(37,"async"),a.BQk()}if(2&ct){const S=At.ngIf,Y=a.oxw();a.xp6(2),a.Q6J("@showFindControl",a.lcZ(3,16,Y.showFindControl))("initial",Y.search),a.xp6(2),a.Q6J("ngIf",!(a.lcZ(5,18,Y.showStage)||a.lcZ(6,20,Y.showUnstage))),a.xp6(4),a.Q6J("ngIf",a.lcZ(9,22,Y.showStage)),a.xp6(2),a.Q6J("ngIf",a.lcZ(11,24,Y.showStage)),a.xp6(2),a.Q6J("ngIf",a.lcZ(13,26,Y.showUnstage)),a.xp6(2),a.Q6J("value",S),a.xp6(),a.Q6J("matTooltip",a.lcZ(16,28,"Hunk View")),a.xp6(4),a.Q6J("matTooltip",a.lcZ(20,30,"Inline View")),a.xp6(4),a.Q6J("matTooltip",a.lcZ(24,32,"Split View")),a.xp6(5),a.Q6J("ngIf",Y.showEdit),a.xp6(),a.Q6J("ngIf",!Y.hideClose),a.xp6(),a.Q6J("ngIf","loading"===a.lcZ(31,34,Y.currentView)),a.xp6(2),a.Q6J("ngIf","binary-file"===a.lcZ(33,36,Y.currentView)),a.xp6(2),a.Q6J("ngIf","error"===a.lcZ(35,38,Y.currentView)),a.xp6(2),a.Q6J("ngIf","normal"===a.lcZ(37,40,Y.currentView))}}function _t(ct,At){if(1&ct){const S=a.EpF();a.TgZ(0,"button",28),a.NdJ("click",function(){a.CHM(S);const it=a.oxw(2);return it.modifyLinesStage("stage"),a.KtG(it.closeContextMenu())}),a.ALo(1,"translate"),a._UZ(2,"mat-icon",17),a.TgZ(3,"span"),a._uU(4),a.ALo(5,"translate"),a.qZA()()}2&ct&&(a.Q6J("matTooltip",a.lcZ(1,2,"Stage selected lines")),a.xp6(4),a.Oqu(a.lcZ(5,4,"Stage")))}function kt(ct,At){if(1&ct){const S=a.EpF();a.TgZ(0,"button",28),a.NdJ("click",function(){a.CHM(S);const it=a.oxw(2);return it.modifyLinesStage("discard"),a.KtG(it.closeContextMenu())}),a.ALo(1,"translate"),a._UZ(2,"mat-icon",17),a.TgZ(3,"span"),a._uU(4),a.ALo(5,"translate"),a.qZA()()}2&ct&&(a.Q6J("matTooltip",a.lcZ(1,2,"Discard selected lines")),a.xp6(4),a.Oqu(a.lcZ(5,4,"Discard")))}function $t(ct,At){if(1&ct){const S=a.EpF();a.TgZ(0,"button",28),a.NdJ("click",function(){a.CHM(S);const it=a.oxw(2);return it.modifyLinesStage("unstage"),a.KtG(it.closeContextMenu())}),a.ALo(1,"translate"),a._UZ(2,"mat-icon",17),a.TgZ(3,"span"),a._uU(4),a.ALo(5,"translate"),a.qZA()()}2&ct&&(a.Q6J("matTooltip",a.lcZ(1,2,"Unstage selected lines")),a.xp6(4),a.Oqu(a.lcZ(5,4,"Unstage")))}function Ht(ct,At){if(1&ct&&(a.TgZ(0,"div",26),a.YNc(1,_t,6,6,"button",27),a.ALo(2,"async"),a.YNc(3,kt,6,6,"button",27),a.ALo(4,"async"),a.YNc(5,$t,6,6,"button",27),a.ALo(6,"async"),a.qZA()),2&ct){const S=a.oxw();a.xp6(),a.Q6J("ngIf",a.lcZ(2,3,S.showStage)),a.xp6(2),a.Q6J("ngIf",a.lcZ(4,5,S.showStage)),a.xp6(2),a.Q6J("ngIf",a.lcZ(6,7,S.showUnstage))}}let Qt=(()=>{class ct extends((0,$.j)(dt.A)){constructor(S,Y,it,Et,Jt,jt,ne,oe){super(),this.viewContainerRef=S,this.breakpointObserver=Y,this.overlay=it,this.store=Et,this.highlightApi=Jt,this.findSelectionService=jt,this.diffSelectionService=ne,this.stagingActionsService=oe,this.hideClose=!1,this.showEdit=!1,this.search=null,this.closed=new a.vpe,this.edited=new a.vpe,this.currentView=new V.X("loading"),this.diffLines=new V.X(null),this.findControlHasFocus$=new V.X(!1),this.showFindControl=(0,A.a)([this.findSelectionService.searchRegex,this.findControlHasFocus$,this.breakpointObserver.observe([g.u3.XSmall,g.u3.Small,g.u3.Medium])]).pipe((0,t.U)(([ae,ie,se])=>!!ae||ie||!se.matches)),this.searchMatchesCount=new V.X(0),this.matchClicked=new _.x,this.overlayRef=null,this.closeContextMenu=()=>{this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}}ngOnInit(){this.showStage=(0,A.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,t.U)(([S,Y,it])=>"head"===Y&&!0===S?.isUnstaged&&!S.patch.newFileIsSubmodule&&!S.patch.oldFileIsSubmodule&&it.length>0)),this.showUnstage=(0,A.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,t.U)(([S,Y,it])=>"head"===Y&&!1===S?.isUnstaged&&!S.patch.newFileIsSubmodule&&!S.patch.oldFileIsSubmodule&&it.length>0)),this.diffSelectionService.contextMenuOpened.pipe((0,H.R)(this.destroyed$)).subscribe(S=>{this.closeContextMenu(),(0,A.a)([this.showStage,this.showUnstage]).pipe((0,F.q)(1),(0,H.R)(this.destroyed$)).subscribe(([Y,it])=>{(Y||it)&&(this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:S.x,y:S.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new et.UE(this.menuTemplate,this.viewContainerRef)),(0,n.T)(this.diffSelectionService.selectedRange.pipe((0,b.T)(1)),(0,ot.t)(this.overlayRef)).pipe((0,F.q)(1),(0,H.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu()))})}),this.filePath=this.patch.pipe((0,t.U)(S=>S?.patch.newFilePath??S?.patch.oldFilePath??"")),this.patch.pipe((0,P.x)((S,Y)=>S&&Y?!(S.repositoryPath!==Y.repositoryPath||S.isUnstaged!==Y.isUnstaged||S.patch.newFileId!==Y.patch.newFileId||S.patch.newFileIsDir!==Y.patch.newFileIsDir||S.patch.newFileIsSubmodule!==Y.patch.newFileIsSubmodule||S.patch.newFilePath!==Y.patch.newFilePath||S.patch.oldFileId!==Y.patch.oldFileId||S.patch.oldFileIsDir!==Y.patch.oldFileIsDir||S.patch.oldFileIsSubmodule!==Y.patch.oldFileIsSubmodule||S.patch.oldFilePath!==Y.patch.oldFilePath||S.patch.status!==Y.patch.status||S.patch.hunks.length!==Y.patch.hunks.length||(0,J.Z)(S.patch.hunks,Y.patch.hunks).some(([it,Et])=>it?.lines.length!==Et?.lines.length||it?.newStart!==Et?.newStart||it?.oldStart!==Et?.oldStart||it?.header!==Et?.header||it&&Et&&(0,J.Z)(it.lines,Et.lines).some(([Jt,jt])=>Jt?.content.length!==jt?.content.length||Jt?.newLineNo!==jt?.newLineNo||Jt?.oldLineNo!==jt?.oldLineNo||Jt?.origin!==jt?.origin||Jt?.content!==jt?.content))):!S&&!Y),(0,p.b)(()=>{this.currentView.next("loading")}),(0,C.w)(S=>S?(0,I.D)(this.getLines(S,!1)).pipe((0,H.R)(this.currentView.pipe((0,b.T)(1),(0,Z.h)(Y=>"loading"===Y))),(0,H.R)(this.destroyed$),(0,t.U)(([Y,it])=>[S,Y,it]),(0,w.K)(Y=>U.OZ.matches(Y)?(this.currentView.next("binary-file"),(0,y.of)(null)):U.hK.matches(Y)?(this.currentView.next("error"),(0,y.of)(null)):(0,G._)(()=>Y))):(0,y.of)(null)),(0,p.b)(S=>{if(S){const[Y,it,Et]=S;this.diffLines.next({hunks:Y.patch.hunks,oldLines:it,newLines:Et,oldFilePath:Y.patch.oldFilePath,newFilePath:Y.patch.newFilePath,highlighted:!1}),this.currentView.next("normal")}else this.diffLines.next(null)}),(0,C.w)(S=>S?.[0]?(0,I.D)(this.getLines(S?.[0],!0)).pipe((0,H.R)(this.currentView.pipe((0,b.T)(1),(0,Z.h)(Y=>"loading"===Y))),(0,H.R)(this.destroyed$),(0,t.U)(([Y,it])=>[S?.[0],Y,it]),(0,w.K)(Y=>U.OZ.matches(Y)?(this.currentView.next("binary-file"),(0,y.of)(null)):U.hK.matches(Y)?(this.currentView.next("error"),(0,y.of)(null)):(0,G._)(()=>Y))):(0,y.of)(null)),(0,H.R)(this.destroyed$)).subscribe(S=>{if(S){const[Y,it,Et]=S;this.diffLines.next({hunks:Y.patch.hunks,oldLines:it,newLines:Et,oldFilePath:Y.patch.oldFilePath,newFilePath:Y.patch.newFilePath,highlighted:!0}),this.currentView.next("normal")}else this.diffLines.next(null)})}changeView(S){this.store.dispatch(new j.zb(S))}modifyLinesStage(S){const Y=this.store.selectSnapshot(N.E.selectedRepositoryPath);if(!Y)throw new U.uX;this.patch.pipe((0,F.q)(1)).subscribe(it=>{if(!it||!it.patch.oldFilePath)return;const Et=[Y,it.patch.oldFileId?it.patch.oldFilePath:null,it.patch.newFileId?it.patch.newFilePath:null,this.diffSelectionService.selectedFileLines.value];switch(S){case"discard":this.stagingActionsService.discardFileLines(...Et).subscribe();break;case"stage":this.stagingActionsService.stageFileLines(...Et).subscribe();break;default:this.stagingActionsService.unstageFileLines(...Et).subscribe()}})}getLines(S,Y){if(S.patch.oldFileIsSubmodule||S.patch.newFileIsSubmodule){if(S.patch.hunks.length<=0)return[(0,y.of)([]),(0,y.of)([])];const it=S.patch.hunks[0]?.lines.find(Jt=>Jt.oldLineNo>0),Et=S.patch.hunks[0]?.lines.find(Jt=>Jt.newLineNo>0);return[(0,y.of)([{lineNumber:1,text:it?.content??"",tokens:[{startIndex:0,endIndex:it?.content.length??0,scopes:["normal"]}]}]),(0,y.of)([{lineNumber:1,text:Et?.content??"",tokens:[{startIndex:0,endIndex:Et?.content.length??0,scopes:["normal"]}]}])]}return[S.patch.oldFileId?this.highlightApi.getHighlightedFile(S.repositoryPath,S.patch.oldFileId,S.patch.oldFilePath,Y):(0,y.of)([]),S.isUnstaged?this.highlightApi.getHighlightedFile(S.repositoryPath,null,S.patch.newFilePath,Y):S.patch.newFileId?this.highlightApi.getHighlightedFile(S.repositoryPath,S.patch.newFileId,S.patch.newFilePath,Y):(0,y.of)([])]}static{this.\u0275fac=function(Y){return new(Y||ct)(a.Y36(a.s_b),a.Y36(g.Yg),a.Y36(st.aV),a.Y36(s.yh),a.Y36(bt.m),a.Y36(at.u),a.Y36(pt.Q),a.Y36(X.A))}}static{this.\u0275cmp=a.Xpm({type:ct,selectors:[["app-diff-view"]],viewQuery:function(Y,it){if(1&Y&&a.Gf(ut,5),2&Y){let Et;a.iGM(Et=a.CRH())&&(it.menuTemplate=Et.first)}},inputs:{patch:"patch",hideClose:"hideClose",showEdit:"showEdit",search:"search"},outputs:{closed:"closed",edited:"edited"},features:[a.qOj],decls:4,vars:3,consts:[[4,"ngIf"],["contextMenu",""],[3,"initial","focusin","focusout"],[3,"path",4,"ngIf"],[1,"right"],["type","button","class","stage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],["type","button","class","discard-button","mat-stroked-button","","color","warn",3,"matTooltip","click",4,"ngIf"],["type","button","class","unstage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],[3,"value","change"],["value","hunk",3,"matTooltip"],["value","inline",3,"matTooltip"],["value","split",3,"matTooltip"],[1,"close-container"],["type","button","mat-icon-button","","class","edit-button app-icon-button-md",3,"click",4,"ngIf"],["type","button","mat-icon-button","","class","close-button app-icon-button-md",3,"click",4,"ngIf"],[3,"path"],["type","button","mat-stroked-button","",1,"stage-button",3,"matTooltip","click"],["svgIcon","tray-plus"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"matTooltip","click"],["svgIcon","tray-remove"],["type","button","mat-stroked-button","",1,"unstage-button",3,"matTooltip","click"],["svgIcon","tray-minus"],["type","button","mat-icon-button","",1,"edit-button","app-icon-button-md",3,"click"],["type","button","mat-icon-button","",1,"close-button","app-icon-button-md",3,"click"],[3,"diffLines",4,"ngIf"],[3,"diffLines"],[1,"menu-panel"],["type","button","class","menu-item",3,"matTooltip","click",4,"ngIf"],["type","button",1,"menu-item",3,"matTooltip","click"]],template:function(Y,it){1&Y&&(a.YNc(0,lt,38,42,"ng-container",0),a.ALo(1,"async"),a.YNc(2,Ht,7,9,"ng-template",null,1,a.W1O)),2&Y&&a.Q6J("ngIf",a.lcZ(1,1,it.view))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;position:absolute}header[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:baseline;justify-content:space-between;margin-bottom:5px;outline:none;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}header[_ngcontent-%COMP%]   app-find-control[_ngcontent-%COMP%]{min-width:340px;max-width:350px;overflow:hidden}header[_ngcontent-%COMP%]   app-condensed-path[_ngcontent-%COMP%]{min-width:150px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:5px;margin-left:auto}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:38px;padding:0 6px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]{display:flex;align-items:center;align-self:baseline;overflow:hidden;height:40px}main[_ngcontent-%COMP%]{flex:1 0 auto;outline:none;overflow-x:auto;overflow-y:auto}.dark-theme   [_nghost-%COMP%]{background:#1e1e1e}.light-theme   [_nghost-%COMP%]{background:#fafafa}"],data:{animation:[(0,r.X$)("showFindControl",[(0,r.SB)("true",(0,r.oB)({opacity:1})),(0,r.SB)("false",(0,r.oB)({opacity:0,position:"absolute",height:0})),(0,r.eR)("false -> true",[(0,r.oB)({opacity:0,position:"relative",height:"*"}),(0,r.jt)("225ms ease-in-out",(0,r.oB)({opacity:1}))]),(0,r.eR)("true -> false",[(0,r.oB)({opacity:1}),(0,r.jt)("225ms ease-in-out",(0,r.oB)({opacity:0}))])])]},changeDetection:0})}}return(0,e.gn)([(0,s.Ph)(N.E.selectedCommitId)],ct.prototype,"selectedCommitId",void 0),(0,e.gn)([(0,s.Ph)(B.$.diffView)],ct.prototype,"view",void 0),ct})()},8700:(wt,rt,o)=>{o.d(rt,{m:()=>ce});var e=o(9488),r=o(4516),g=o(1345),et=o(7399),a=o(7368),s=o(9212),J=o(2159),V=o(4957),A=o(1974);var I=o(9768),y=o(3988),G=o(231);const H=function t(nt){var ft=(0,G.Z)(nt),d=ft%1;return ft==ft?d?ft-d:ft:0},b=function F(nt,ft,d){var M=null==nt?0:nt.length;return M?(ft=d||void 0===ft?1:H(ft),(0,y.Z)(nt,0,(ft=M-ft)<0?0:ft)):[]},p=function P(nt,ft,d){var M=null==nt?0:nt.length;return M?(ft=d||void 0===ft?1:H(ft),(0,y.Z)(nt,(ft=M-ft)<0?0:ft,M)):[]};var C=o(5619),Z=o(2572),w=o(7398),U=o(7921),$=o(9384),dt=o(7547),ot=o(9773),N=o(3153),j=o(4573),B=o(7910),st=o(1361),bt=o(4794),at=o(2368),pt=o(7337),X=o(6814),ut=o(2296),Ct=o(617),Pt=o(2598),Rt=o(6974);const yt=["scrollContainer"],gt=["code"];function Tt(nt,ft){if(1&nt&&s._UZ(0,"span",9),2&nt){const d=ft.ngIf;s.Udp("left",d.left)("width",d.width)}}function k(nt,ft){if(1&nt){const d=s.EpF();s.ynx(0),s.TgZ(1,"button",10),s.NdJ("click",function(){s.CHM(d);const i=s.oxw().$implicit,l=s.oxw();return s.KtG(l.expandSeparator(i))}),s.TgZ(2,"mat-icon",11),s._uU(3),s.qZA()(),s.TgZ(4,"span",12),s._uU(5),s.qZA(),s.BQk()}if(2&nt){const d=s.oxw(),M=d.first,i=d.last,l=d.$implicit,c=s.oxw();s.xp6(),s.Udp("width",c.lineNumberMargin+26,"px"),s.xp6(2),s.Oqu(M?"expand_less":i?"expand_more":"unfold_more"),s.xp6(2),s.Oqu(l.separatorHeader)}}function D(nt,ft){if(1&nt&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&nt){const d=ft.$implicit;s.Q6J("ngClass",d.class),s.xp6(),s.Oqu(d.text)}}function v(nt,ft){if(1&nt&&(s.ynx(0),s.YNc(1,D,2,2,"span",16),s.ALo(2,"tokens"),s.ALo(3,"findToken"),s.BQk()),2&nt){const d=ft.ngIf,M=s.oxw(2).index;s.xp6(),s.Q6J("ngForOf",s.xi3(2,1,s.Dn7(3,4,d.tokens,d.text,M),d.text))}}function R(nt,ft){if(1&nt&&(s.TgZ(0,"span",13),s._uU(1),s.qZA(),s.TgZ(2,"span",14),s._uU(3),s.qZA(),s.YNc(4,v,4,8,"ng-container",15)),2&nt){const d=s.oxw().$implicit,M=s.oxw();s.Udp("right","calc(100% + 26px + "+(M.lineNumberMargin/2).toString()+"px)")("width",M.lineNumberMargin/2-5,"px"),s.xp6(),s.Oqu(null==d.diffLine.oldLine?null:d.diffLine.oldLine.lineNumber),s.xp6(),s.Udp("width",M.lineNumberMargin/2-5,"px"),s.xp6(),s.Oqu(null==d.diffLine.newLine?null:d.diffLine.newLine.lineNumber),s.xp6(),s.Q6J("ngIf",M.getLineView(d.diffLine))}}function m(nt,ft){if(1&nt&&(s.TgZ(0,"li",5),s.YNc(1,Tt,1,4,"span",6),s.ALo(2,"async"),s.YNc(3,k,6,4,"ng-container",7)(4,R,5,9,"ng-template",null,8,s.W1O),s.qZA()),2&nt){const d=ft.$implicit,M=ft.index,i=s.MAs(5),l=s.oxw();s.Q6J("ngClass","line-"+(d.isSeparator?"separator":d.diffLine.status)),s.xp6(),s.Q6J("ngIf",s.lcZ(2,4,l.getSelection(M))),s.xp6(2),s.Q6J("ngIf",d.isSeparator)("ngIfElse",i)}}let E=(()=>{class nt extends((0,j.j)(B.A,st.P)){constructor(d,M,i){super(),this.diffService=d,this.diffSelectionService=M,this.findSelectionService=i,this.lineNumberMargin=0,this.lines$=new C.X([]),this.currentPatch=null,this.getSelection=l=>this.diffSelectionService.selectedRange.pipe((0,w.U)(c=>{if(!c)return null;const[O,Q]=c[0].line>c[1].line||c[0].line===c[1].line&&c[0].char>c[1].char?[c[1],c[0]]:c;return l<O.line||l>Q.line?null:l===O.line?{left:O.char*this.diffSelectionService.charWidth+"px",width:O.line===Q.line?(Q.char-O.char)*this.diffSelectionService.charWidth+"px":"100%"}:l===Q.line?{left:"0px",width:Q.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){const d=this.scrollContainer.elementRef.nativeElement;this.diffLines.pipe((0,U.O)(null),(0,$.G)(),(0,dt.g)(0),(0,ot.R)(this.destroyed$)).subscribe(([M,i])=>{const l=this.currentPatch?{...this.currentPatch}:null;if(i){this.currentPatch={newFilePath:i.newFilePath,oldFilePath:i.oldFilePath};const c=function _(nt){return nt&&nt.length?(0,J.Z)(nt,A.Z,V.Z):void 0}([i.oldLines.length,i.newLines.length])??0;this.lineNumberMargin=this.diffService.calculateMargin(c.toString().length),this.diffService.calculateHunkLines(i.oldLines,i.newLines,i.hunks).pipe((0,ot.R)(this.destroyed$)).subscribe(O=>{M&&M.newFilePath===i.newFilePath&&M.oldFilePath===i.oldFilePath&&!M.highlighted&&i.highlighted?this.updateLines(O):this.lines$.next(O),(!l||l.oldFilePath!==this.currentPatch?.oldFilePath||l.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),l&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)}),(0,Z.a)([this.lines$,this.findSelectionService.searchRegex]).pipe((0,ot.R)(this.destroyed$)).subscribe(([M,i])=>{if(!i)return void this.findSelectionService.setMatches([]);const l=M.map((c,O)=>[c.isSeparator?null:this.getLineView(c.diffLine),O]).flatMap(([c,O])=>c?Array.from(c.text.matchAll(i),Q=>({lineId:O,startIndex:Q.index??0,endIndex:(Q.index??0)+(Q[0]?.length??0)})):[]);this.findSelectionService.setMatches(l)}),this.findSelectionService.selectedMatch.pipe((0,ot.R)(this.destroyed$)).subscribe(M=>{if(!M||"number"!=typeof M.lineId)return;const i=this.lineNumberMargin+26+M.startIndex*this.diffSelectionService.charWidth;d.scrollTo(i<d.scrollLeft?i:i>d.scrollLeft+d.clientWidth?this.lineNumberMargin+26+M.endIndex*this.diffSelectionService.charWidth-d.clientWidth:d.scrollLeft,19*M.lineId)}),this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(M,i)=>({line:Math.floor((d.scrollTop+i-d.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((d.scrollLeft+M-d.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(M,i)=>this.lines$.value.filter((l,c)=>c>=M&&c<=i).map(l=>l.isSeparator?l.separatorHeader??void 0:this.getLineView(l.diffLine)?.text),()=>{const M=this.lines$.value,i=M[M.length-1];return{line:M.length-1,char:i?(i.isSeparator?i.separatorHeader:this.getLineView(i.diffLine)?.text)?.length??0:0}},([M,i])=>(0,I.Z)(M.line,i.line+1).flatMap(l=>{const c=this.lines$.value[l];return!c||c.isSeparator?[]:[{oldLineNo:c.diffLine.oldLine?.lineNumber??-1,newLineNo:c.diffLine.newLine?.lineNumber??-1}]})).pipe((0,ot.R)(this.destroyed$)).subscribe()}expandSeparator(d){const i=this.lines$.value;this.lines$.next(i.flatMap((l,c)=>{if(l!==d)return l;if(d.hiddenDiffLines.length<=25)return d.hiddenDiffLines.map(Ot=>({isSeparator:!1,diffLine:Ot}));if(0===c)return[{isSeparator:!0,separatorHeader:d.separatorHeader,hiddenDiffLines:b(d.hiddenDiffLines,20)},...p(d.hiddenDiffLines,20).map(Ot=>({isSeparator:!1,diffLine:Ot}))];if(c===i.length-1)return[...d.hiddenDiffLines.slice(0,20).map(Ot=>({isSeparator:!1,diffLine:Ot})),{isSeparator:!0,separatorHeader:null,hiddenDiffLines:d.hiddenDiffLines.slice(20)}];const O=d.hiddenDiffLines.slice(0,10),Q=b(d.hiddenDiffLines.slice(10),10),Zt=p(d.hiddenDiffLines,10);return[...O.map(Ot=>({isSeparator:!1,diffLine:Ot})),{isSeparator:!0,separatorHeader:d.separatorHeader,hiddenDiffLines:Q},...Zt.map(Ot=>({isSeparator:!1,diffLine:Ot}))]}))}getLineView(d){return"added"===d.status?d.newLine:"removed"===d.status?d.oldLine:"unchanged"===d.status?d.newLine??d.oldLine:null}trackByHunkLine(d,M){return M.isSeparator?M.separatorHeader:`${M.diffLine.oldLine?.text}:::${M.diffLine.newLine?.text}`}updateLines(d){const M=this.lines$.value;let i=0,l=0;const c=[];for(;l<d.length;){const O=M[i],Q=d[l];if(!O||!Q)throw new N.jc;if(Q.isSeparator){if(O.isSeparator){if(O.hiddenDiffLines.length===Q.hiddenDiffLines.length){c.push(Q),i++,l++;continue}c.push({isSeparator:!0,separatorHeader:Q.separatorHeader,hiddenDiffLines:Q.hiddenDiffLines.slice(0,O.hiddenDiffLines.length)}),Q.hiddenDiffLines=Q.hiddenDiffLines.slice(O.hiddenDiffLines.length),i++;continue}const Zt=Q.hiddenDiffLines[0];if(!Zt){l++;continue}c.push({isSeparator:!1,diffLine:Zt}),Q.hiddenDiffLines=Q.hiddenDiffLines.slice(1),i++}else{if(O.isSeparator)throw new N.jc;c.push(Q),i++,l++}}this.lines$.next(c)}static{this.\u0275fac=function(M){return new(M||nt)(s.Y36(bt.S),s.Y36(at.Q),s.Y36(pt.u))}}static{this.\u0275cmp=s.Xpm({type:nt,selectors:[["app-hunk-view"]],viewQuery:function(M,i){if(1&M&&(s.Gf(yt,7),s.Gf(gt,7,s.SBq),s.Gf(a.N7,5)),2&M){let l;s.iGM(l=s.CRH())&&(i.scrollContainer=l.first),s.iGM(l=s.CRH())&&(i.codeElement=l.first),s.iGM(l=s.CRH())&&(i.viewports=l)}},inputs:{diffLines:"diffLines"},features:[s.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0",1,"vs-code-theme"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf","ngIfElse"],["diffLineContent",""],[1,"selection"],["mat-button","",1,"separator-icon",3,"click"],["inline",""],[1,"separator-header"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(M,i){1&M&&(s.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),s.YNc(5,m,6,6,"li",4),s.ALo(6,"async"),s.qZA()()()),2&M&&(s.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.xp6(4),s.Udp("margin-left",i.lineNumberMargin+26,"px"),s.xp6(),s.Q6J("cdkVirtualForOf",s.lcZ(6,7,i.lines$))("cdkVirtualForTrackBy",i.trackByHunkLine))},dependencies:[a.xd,a.x0,a.N7,X.mk,X.sg,X.O5,ut.lW,Ct.Hw,X.Ov,Pt.l,Rt.U],styles:['code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{right:100%}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{cursor:pointer;height:19px;line-height:19px;padding:0;text-align:center;min-width:0}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:100%;z-index:-1}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:19px}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#252525}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#eee}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}'],changeDetection:0})}}return nt})();const L=["scrollContainer"],lt=["code"];function _t(nt,ft){if(1&nt&&s._UZ(0,"span",10),2&nt){const d=ft.ngIf;s.Udp("left",d.left)("width",d.width)}}function kt(nt,ft){if(1&nt&&(s.TgZ(0,"span",12),s._uU(1),s.qZA()),2&nt){const d=ft.$implicit;s.Q6J("ngClass",d.class),s.xp6(),s.Oqu(d.text)}}function $t(nt,ft){if(1&nt&&(s.ynx(0),s.YNc(1,kt,2,2,"span",11),s.ALo(2,"tokens"),s.ALo(3,"findToken"),s.BQk()),2&nt){const d=ft.ngIf,M=s.oxw().index;s.xp6(),s.Q6J("ngForOf",s.xi3(2,1,s.Dn7(3,4,d.tokens,d.text,M),d.text))}}function Ht(nt,ft){if(1&nt&&(s.TgZ(0,"li",5),s.YNc(1,_t,1,4,"span",6),s.ALo(2,"async"),s.TgZ(3,"span",7),s._uU(4),s.qZA(),s.TgZ(5,"span",8),s._uU(6),s.qZA(),s.YNc(7,$t,4,8,"ng-container",9),s.qZA()),2&nt){const d=ft.$implicit,M=ft.index,i=s.oxw();s.Q6J("ngClass","line-"+d.status),s.xp6(),s.Q6J("ngIf",s.lcZ(2,11,i.getSelection(M))),s.xp6(2),s.Udp("right","calc(100% + 26px + "+(i.lineNumberMargin/2).toString()+"px)")("width",i.lineNumberMargin/2-5,"px"),s.xp6(),s.Oqu(null==d.oldLine?null:d.oldLine.lineNumber),s.xp6(),s.Udp("width",i.lineNumberMargin/2-5,"px"),s.xp6(),s.Oqu(null==d.newLine?null:d.newLine.lineNumber),s.xp6(),s.Q6J("ngIf",i.getLineView(d))}}let Qt=(()=>{class nt extends((0,j.j)(B.A,st.P)){constructor(d,M,i){super(),this.diffService=d,this.diffSelectionService=M,this.findSelectionService=i,this.lineNumberMargin=0,this.lines$=new C.X([]),this.currentPatch=null,this.getSelection=l=>this.diffSelectionService.selectedRange.pipe((0,w.U)(c=>{if(!c)return null;const[O,Q]=c[0].line>c[1].line||c[0].line===c[1].line&&c[0].char>c[1].char?[c[1],c[0]]:c;return l<O.line||l>Q.line?null:l===O.line?{left:O.char*this.diffSelectionService.charWidth+"px",width:O.line===Q.line?(Q.char-O.char)*this.diffSelectionService.charWidth+"px":"100%"}:l===Q.line?{left:"0px",width:Q.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){const d=this.scrollContainer.nativeElement;this.diffLines.pipe((0,dt.g)(0),(0,ot.R)(this.destroyed$)).subscribe(M=>{const i=this.currentPatch?{...this.currentPatch}:null;if(M){this.currentPatch={newFilePath:M.newFilePath,oldFilePath:M.oldFilePath};const l=Math.max(M.oldLines.length,M.newLines.length)??0;this.lineNumberMargin=this.diffService.calculateMargin(l.toString().length),this.diffService.calculateInlineLines(M.oldLines,M.newLines,M.hunks).pipe((0,ot.R)(this.destroyed$)).subscribe(c=>{this.lines$.next(c),(!i||i.oldFilePath!==this.currentPatch?.oldFilePath||i.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),i&&this.scrollContainer.nativeElement?.scrollTo(0,0)}),(0,Z.a)([this.lines$,this.findSelectionService.searchRegex]).pipe((0,ot.R)(this.destroyed$)).subscribe(([M,i])=>{if(!i)return void this.findSelectionService.setMatches([]);const l=M.map((c,O)=>[this.getLineView(c),O]).flatMap(([c,O])=>c?Array.from(c.text.matchAll(i),Q=>({lineId:O,startIndex:Q.index??0,endIndex:(Q.index??0)+(Q[0]?.length??0)})):[]);this.findSelectionService.setMatches(l)}),this.findSelectionService.selectedMatch.pipe((0,ot.R)(this.destroyed$)).subscribe(M=>{if(!M||"number"!=typeof M.lineId)return;const i=this.lineNumberMargin+26+M.startIndex*this.diffSelectionService.charWidth;d.scrollTo(i<d.scrollLeft?i:i>d.scrollLeft+d.clientWidth?this.lineNumberMargin+26+M.endIndex*this.diffSelectionService.charWidth-d.clientWidth:d.scrollLeft,19*M.lineId)}),this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(M,i)=>({line:Math.floor((d.scrollTop+i-d.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((d.scrollLeft+M-d.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(M,i)=>this.lines$.value.filter((l,c)=>c>=M&&c<=i).map(l=>this.getLineView(l)?.text),()=>{const M=this.lines$.value[this.lines$.value.length-1];return{line:this.lines$.value.length-1,char:M?this.getLineView(M)?.text.length??0:0}},([M,i])=>(0,I.Z)(M.line,i.line+1).map(l=>({oldLineNo:this.lines$.value[l]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[l]?.newLine?.lineNumber??-1}))).pipe((0,ot.R)(this.destroyed$)).subscribe()}getLineView(d){return"added"===d.status?d.newLine:"removed"===d.status?d.oldLine:"unchanged"===d.status?d.newLine??d.oldLine:null}trackByDiffLine(d,M){return d}static{this.\u0275fac=function(M){return new(M||nt)(s.Y36(bt.S),s.Y36(at.Q),s.Y36(pt.u))}}static{this.\u0275cmp=s.Xpm({type:nt,selectors:[["app-inline-view"]],viewQuery:function(M,i){if(1&M&&(s.Gf(L,7,s.SBq),s.Gf(lt,7,s.SBq),s.Gf(a.N7,5)),2&M){let l;s.iGM(l=s.CRH())&&(i.scrollContainer=l.first),s.iGM(l=s.CRH())&&(i.codeElement=l.first),s.iGM(l=s.CRH())&&(i.viewports=l)}},inputs:{diffLines:"diffLines"},features:[s.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0",1,"vs-code-theme"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[1,"selection"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(M,i){1&M&&(s.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),s.YNc(5,Ht,8,13,"li",4),s.ALo(6,"async"),s.qZA()()()),2&M&&(s.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.xp6(4),s.Udp("margin-left",i.lineNumberMargin+26,"px"),s.xp6(),s.Q6J("cdkVirtualForOf",s.lcZ(6,7,i.lines$))("cdkVirtualForTrackBy",i.trackByDiffLine))},dependencies:[a.xd,a.x0,a.N7,X.mk,X.sg,X.O5,X.Ov,Pt.l,Rt.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}"],changeDetection:0})}}return nt})();var ct=o(2438),At=o(2460),S=o(2181),Y=o(9397),it=o(3620),Et=o(9193),Jt=o(3588);const jt=["leftScrollContainer"],ne=["rightScrollContainer"],oe=["leftCode"],ae=["rightCode"];function ie(nt,ft){if(1&nt&&s._UZ(0,"span",13),2&nt){const d=ft.ngIf;s.Udp("left",d.left)("width",d.width)}}function se(nt,ft){if(1&nt&&(s.TgZ(0,"span",16),s._uU(1),s.qZA()),2&nt){const d=ft.$implicit;s.Q6J("ngClass",d.class),s.xp6(),s.Oqu(d.text)}}function ht(nt,ft){if(1&nt&&(s.ynx(0),s.TgZ(1,"span",14),s._uU(2),s.qZA(),s.YNc(3,se,2,2,"span",15),s.ALo(4,"tokens"),s.ALo(5,"findToken"),s.BQk()),2&nt){const d=s.oxw(),M=d.$implicit,i=d.index;s.xp6(2),s.Oqu(null==M.oldLine?null:M.oldLine.lineNumber),s.xp6(),s.Q6J("ngForOf",s.xi3(4,2,s.Dn7(5,5,null==M.oldLine?null:M.oldLine.tokens,null==M.oldLine?null:M.oldLine.text,"l:"+i),null==M.oldLine?null:M.oldLine.text))}}function Ut(nt,ft){if(1&nt&&(s.TgZ(0,"li",10),s.YNc(1,ie,1,4,"span",11),s.ALo(2,"async"),s.YNc(3,ht,6,9,"ng-container",12),s.qZA()),2&nt){const d=ft.$implicit,M=ft.index,i=s.oxw();s.Q6J("ngClass","line-"+d.status),s.xp6(),s.Q6J("ngIf",s.lcZ(2,3,i.getSelection(M,"left"))),s.xp6(2),s.Q6J("ngIf","added"!==d.status)}}function T(nt,ft){if(1&nt&&s._UZ(0,"span",13),2&nt){const d=ft.ngIf;s.Udp("left",d.left)("width",d.width)}}function K(nt,ft){if(1&nt&&(s.TgZ(0,"span",16),s._uU(1),s.qZA()),2&nt){const d=ft.$implicit;s.Q6J("ngClass",d.class),s.xp6(),s.Oqu(d.text)}}function q(nt,ft){if(1&nt&&(s.ynx(0),s.TgZ(1,"span",14),s._uU(2),s.qZA(),s.YNc(3,K,2,2,"span",15),s.ALo(4,"tokens"),s.ALo(5,"findToken"),s.BQk()),2&nt){const d=s.oxw(),M=d.$implicit,i=d.index;s.xp6(2),s.Oqu(null==M.newLine?null:M.newLine.lineNumber),s.xp6(),s.Q6J("ngForOf",s.xi3(4,2,s.Dn7(5,5,null==M.newLine?null:M.newLine.tokens,null==M.newLine?null:M.newLine.text,"r:"+i),null==M.newLine?null:M.newLine.text))}}function Mt(nt,ft){if(1&nt&&(s.TgZ(0,"li",10),s.YNc(1,T,1,4,"span",11),s.ALo(2,"async"),s.YNc(3,q,6,9,"ng-container",12),s.qZA()),2&nt){const d=ft.$implicit,M=ft.index,i=s.oxw();s.Q6J("ngClass","line-"+d.status),s.xp6(),s.Q6J("ngIf",s.lcZ(2,3,i.getSelection(M,"right"))),s.xp6(2),s.Q6J("ngIf","removed"!==d.status)}}let St=(()=>{class nt extends((0,j.j)(B.A,st.P)){constructor(d,M,i,l){super(),this.zone=d,this.diffService=M,this.diffSelectionService=i,this.findSelectionService=l,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$=new C.X([]),this.currentPatch=null,this.selectionSide=new C.X("right"),this.getSelection=(c,O)=>this.diffSelectionService.selectedRange.pipe((0,At.M)(this.selectionSide),(0,w.U)(([Q,Zt])=>{if(!Q||Zt!==O)return null;const[Ot,Lt]=Q[0].line>Q[1].line||Q[0].line===Q[1].line&&Q[0].char>Q[1].char?[Q[1],Q[0]]:Q;return c<Ot.line||c>Lt.line?null:c===Ot.line?{left:Ot.char*this.diffSelectionService.charWidth+"px",width:Ot.line===Lt.line?(Lt.char-Ot.char)*this.diffSelectionService.charWidth+"px":"100%"}:c===Lt.line?{left:"0px",width:Lt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){const d=this.leftScrollContainer.nativeElement,M=this.rightScrollContainer.nativeElement;this.diffLines.pipe((0,dt.g)(0),(0,ot.R)(this.destroyed$)).subscribe(i=>{const l=this.currentPatch?{...this.currentPatch}:null;i?(this.currentPatch={newFilePath:i.newFilePath,oldFilePath:i.oldFilePath},this.leftLineNumberMargin=this.diffService.calculateMargin(i.oldLines.length.toString().length,!0),this.rightLineNumberMargin=this.diffService.calculateMargin(i.newLines.length.toString().length,!0),this.diffService.calculateSplitLines(i.oldLines,i.newLines,i.hunks).pipe((0,ot.R)(this.destroyed$)).subscribe(c=>{this.lines$.next(c),(!l||l.oldFilePath!==this.currentPatch?.oldFilePath||l.newFilePath!==this.currentPatch?.newFilePath)&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0))})):(this.currentPatch=null,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$.next([]),l&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0)))}),this.zone.runOutsideAngular(()=>{let i=!1,l=!1;(0,ct.R)(this.leftScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,S.h)(()=>!l),(0,Y.b)(()=>{i=!0,this.rightScrollContainer.nativeElement.scrollTo(this.leftScrollContainer.nativeElement.scrollLeft,this.leftScrollContainer.nativeElement.scrollTop)}),(0,it.b)(100),(0,ot.R)(this.destroyed$)).subscribe(()=>{i=!1}),(0,ct.R)(this.rightScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,S.h)(()=>!i),(0,Y.b)(()=>{l=!0,this.leftScrollContainer.nativeElement.scrollTo(this.rightScrollContainer.nativeElement.scrollLeft,this.rightScrollContainer.nativeElement.scrollTop)}),(0,it.b)(100),(0,ot.R)(this.destroyed$)).subscribe(()=>{l=!1})}),(0,Z.a)([this.lines$,this.findSelectionService.searchRegex]).pipe((0,ot.R)(this.destroyed$)).subscribe(([i,l])=>{if(!l)return void this.findSelectionService.setMatches([]);const c=i.map((Ot,Lt)=>[Ot,Lt]),O=c.filter(([Ot])=>"added"!==Ot.status).map(([Ot,Lt])=>[Ot.oldLine,Lt]),Q=c.filter(([Ot])=>"removed"!==Ot.status).map(([Ot,Lt])=>[Ot.newLine,Lt]),Zt=[...O.flatMap(([Ot,Lt])=>Ot?Array.from(Ot.text.matchAll(l),qt=>({lineId:`l:${Lt}`,startIndex:qt.index??0,endIndex:(qt.index??0)+(qt[0]?.length??0)})):[]),...Q.flatMap(([Ot,Lt])=>Ot?Array.from(Ot.text.matchAll(l),qt=>({lineId:`r:${Lt}`,startIndex:qt.index??0,endIndex:(qt.index??0)+(qt[0]?.length??0)})):[])];this.findSelectionService.setMatches(Zt)}),this.findSelectionService.selectedMatch.pipe((0,ot.R)(this.destroyed$)).subscribe(i=>{if(!i||"string"!=typeof i.lineId)return;const l=i.lineId.startsWith("l")?d:M,c=26+(i.lineId.startsWith("l")?this.leftLineNumberMargin:this.rightLineNumberMargin),O=c+i.startIndex*this.diffSelectionService.charWidth;l.scrollTo(O<l.scrollLeft?O:O>l.scrollLeft+l.clientWidth?c+i.endIndex*this.diffSelectionService.charWidth-l.clientWidth:l.scrollLeft,19*+i.lineId.slice(2))}),this.diffSelectionService.captureSelections(this.leftCodeElement.nativeElement,(i,l)=>({line:Math.floor((d.scrollTop+l-d.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((d.scrollLeft+i-d.getBoundingClientRect().left-(this.leftLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(i,l)=>this.lines$.value.filter((c,O)=>O>=i&&O<=l).map(c=>c.oldLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.oldLine?.text.length??0}),([i,l])=>(0,I.Z)(i.line,l.line+1).map(c=>({oldLineNo:this.lines$.value[c]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[c]?.newLine?.lineNumber??-1}))).pipe((0,ot.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("left")}),this.diffSelectionService.captureSelections(this.rightCodeElement.nativeElement,(i,l)=>({line:Math.floor((M.scrollTop+l-M.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((M.scrollLeft+i-M.getBoundingClientRect().left-(this.rightLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(i,l)=>this.lines$.value.filter((c,O)=>O>=i&&O<=l).map(c=>c.newLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.newLine?.text.length??0}),([i,l])=>(0,I.Z)(i.line,l.line+1).map(c=>({oldLineNo:this.lines$.value[c]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[c]?.newLine?.lineNumber??-1}))).pipe((0,ot.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("right")})}trackByDiffLine(d,M){return d}static{this.\u0275fac=function(M){return new(M||nt)(s.Y36(s.R0b),s.Y36(bt.S),s.Y36(at.Q),s.Y36(pt.u))}}static{this.\u0275cmp=s.Xpm({type:nt,selectors:[["app-split-view"]],viewQuery:function(M,i){if(1&M&&(s.Gf(jt,7,s.SBq),s.Gf(ne,7,s.SBq),s.Gf(oe,7,s.SBq),s.Gf(ae,7,s.SBq),s.Gf(a.N7,5)),2&M){let l;s.iGM(l=s.CRH())&&(i.leftScrollContainer=l.first),s.iGM(l=s.CRH())&&(i.rightScrollContainer=l.first),s.iGM(l=s.CRH())&&(i.leftCodeElement=l.first),s.iGM(l=s.CRH())&&(i.rightCodeElement=l.first),s.iGM(l=s.CRH())&&(i.viewports=l)}},inputs:{diffLines:"diffLines"},features:[s.qOj],decls:17,vars:18,consts:[["id","diff-view_split-left"],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["leftScrollContainer",""],["tabindex","0",1,"vs-code-theme","left-code"],["leftCode",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["id","diff-view_split-right"],["rightScrollContainer",""],["tabindex","1",1,"vs-code-theme","right-code"],["rightCode",""],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf"],[1,"selection"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(M,i){1&M&&(s.TgZ(0,"app-grid")(1,"app-grid-cell",0)(2,"cdk-virtual-scroll-viewport",1,2)(4,"code",3,4)(6,"ul"),s.YNc(7,Ut,4,5,"li",5),s.ALo(8,"async"),s.qZA()()()(),s.TgZ(9,"app-grid-cell",6)(10,"cdk-virtual-scroll-viewport",1,7)(12,"code",8,9)(14,"ul"),s.YNc(15,Mt,4,5,"li",5),s.ALo(16,"async"),s.qZA()()()()()),2&M&&(s.xp6(2),s.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.xp6(4),s.Udp("margin-left",i.leftLineNumberMargin+26,"px"),s.xp6(),s.Q6J("cdkVirtualForOf",s.lcZ(8,14,i.lines$))("cdkVirtualForTrackBy",i.trackByDiffLine),s.xp6(3),s.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),s.xp6(4),s.Udp("margin-left",i.rightLineNumberMargin+26,"px"),s.xp6(),s.Q6J("cdkVirtualForOf",s.lcZ(16,16,i.lines$))("cdkVirtualForTrackBy",i.trackByDiffLine))},dependencies:[a.xd,a.x0,a.N7,X.mk,X.sg,X.O5,Et.Y,Jt.M,X.Ov,Pt.l,Rt.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%;overflow-x:scroll}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#501515}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#1f2c19}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#ee7e7e}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#0cd086}"],changeDetection:0})}}return nt})();var zt=o(2596),Xt=o(4551),te=o(680),le=o(7484);let ce=(()=>{class nt{static{this.\u0275fac=function(M){return new(M||nt)}}static{this.\u0275mod=s.oAB({type:nt})}static{this.\u0275inj=s.cJS({imports:[e.vV,r.c,g.I]})}}return nt})();s.B6R(et.s,[e.A9,e.Yi,X.O5,ut.lW,ut.RK,Ct.Hw,zt.gM,Xt.j,te.T,E,Qt,St],[X.Ov,le.X])},4794:(wt,rt,o)=>{o.d(rt,{S:()=>A});var e=o(4458),g=o(9738),et=o(2096),a=o(9315),s=o(7398),J=o(3153),V=o(9212);let A=(()=>{class _{constructor(){this.calculateInlineLines=(I,y,G)=>{const t=[];let H=0,F=0,b=[];const P=(p,C)=>{(p>H||C>F)&&(t.push(...(0,g.Z)(I.slice(H,p),y.slice(F,C)).map(([Z,w])=>({oldLine:Z??null,newLine:w??null,status:"unchanged"}))),H=p,F=C)};for(const p of G){P(p.oldStart-1,p.newStart-1),[b,H,F]=this.calculateGroups(I,y,H,F,p);for(const C of b)"modified"===C.type?t.push(...C.lines.flatMap(Z=>"replaced"===Z.status?[{...Z,status:"removed",newLine:null},{...Z,status:"added",oldLine:null}]:[Z]).sort((Z,w)=>"removed"===Z.status&&"removed"===w.status?0:"removed"===Z.status?-1:"removed"===w.status?1:0)):t.push(...C.lines)}return P(I.length,y.length),(0,et.of)(t)},this.calculateHunkLines=(I,y,G)=>{const t=[];let H=0,F=0,b=[];const P=(p,C,Z)=>{(p>H||C>F)&&(t.push({isSeparator:!0,separatorHeader:Z,hiddenDiffLines:(0,g.Z)(I.slice(H,p),y.slice(F,C)).map(([w,U])=>({oldLine:w??null,newLine:U??null,status:"unchanged"}))}),H=p,F=C)};for(const p of G){P(p.oldStart-1,p.newStart-1,p.header),[b,H,F]=this.calculateGroups(I,y,H,F,p);for(const C of b)"modified"===C.type?t.push(...C.lines.flatMap(Z=>"replaced"===Z.status?[{isSeparator:!1,diffLine:{...Z,status:"removed",newLine:null}},{isSeparator:!1,diffLine:{...Z,status:"added",oldLine:null}}]:[{isSeparator:!1,diffLine:Z}]).sort((Z,w)=>"removed"===Z.diffLine.status&&"removed"===w.diffLine.status?0:"removed"===Z.diffLine.status?-1:"removed"===w.diffLine.status?1:0)):t.push(...C.lines.map(Z=>({isSeparator:!1,diffLine:Z})))}return P(I.length,y.length,null),(0,et.of)(t)},this.calculateSplitLines=(I,y,G)=>{const t=[];let H=0,F=0,b=[];const P=(p,C)=>{(p>H||C>F)&&(t.push(...(0,g.Z)(I.slice(H,p),y.slice(F,C)).map(([Z,w])=>({oldLine:Z??null,newLine:w??null,status:"unchanged"}))),H=p,F=C)};for(const p of G){P(p.oldStart-1,p.newStart-1),[b,H,F]=this.calculateGroups(I,y,H,F,p);for(const C of b)t.push(...C.lines)}return P(I.length,y.length),(0,et.of)(t)},this.calculateMergeLines=(I,y,G,t,H)=>{const F=[],b=this.calculateSplitLines(I,y,t),P=this.calculateSplitLines(I,G,H);return(0,a.D)([b,P]).pipe((0,s.U)(([p,C])=>{let Z=1,w=0,U=0;for(;w<p.length&&U<C.length;){const $=p[w],dt=C[U];if($.oldLine||dt.oldLine){if(!$.oldLine&&dt.oldLine)F.push({baseLine:null,yoursLine:$.newLine,yoursStatus:$.status,theirsLine:null,theirsStatus:null}),w++;else if($.oldLine&&!dt.oldLine)F.push({baseLine:null,yoursLine:null,yoursStatus:null,theirsLine:dt.newLine,theirsStatus:dt.status}),U++;else if($.oldLine&&dt.oldLine){if(Z!==$.oldLine.lineNumber||Z!==dt.oldLine.lineNumber)throw new J.UY($.oldLine.lineNumber,dt.oldLine.lineNumber);F.push({baseLine:dt.oldLine,yoursLine:$.newLine,yoursStatus:$.status,theirsLine:dt.newLine,theirsStatus:dt.status}),Z++,w++,U++}}else F.push({baseLine:null,yoursLine:$.newLine,yoursStatus:$.status,theirsLine:dt.newLine,theirsStatus:dt.status}),w++,U++}for(;w<p.length;){const $=p[w];F.push({baseLine:$.oldLine,yoursLine:$.newLine,yoursStatus:$.status,theirsLine:null,theirsStatus:null}),w++}for(;U<C.length;){const $=C[U];F.push({baseLine:$.oldLine,yoursLine:null,yoursStatus:null,theirsLine:$.newLine,theirsStatus:$.status}),U++}return F}))},this.calculateGroups=(I,y,G,t,H)=>{const F=H.lines.filter(Z=>">"!==Z.origin&&"<"!==Z.origin),b=[];let P=G,p=t,C=0;for(;C<F.length;)if(-1===F[C]?.newLineNo){const Z=[];for(;C<F.length&&-1===F[C]?.newLineNo;){const w=I[P];w&&Z.push(w),P++,C++}if(C<F.length&&-1===F[C]?.oldLineNo){const w=[];for(;C<F.length&&-1===F[C]?.oldLineNo;){const U=y[p];U&&w.push(U),p++,C++}b.push(this.createModifiedGroup(Z,w))}else b.push({type:"removed",lines:Z.map(w=>({oldLine:w,newLine:null,status:"removed"}))})}else if(-1===F[C]?.oldLineNo){const Z=[];for(;C<F.length&&-1===F[C]?.oldLineNo;){const w=y[p];w&&Z.push(w),p++,C++}if(C<F.length&&-1===F[C]?.newLineNo){const w=[];for(;C<F.length&&-1===F[C]?.newLineNo;){const U=I[P];U&&w.push(U),P++,C++}b.push(this.createModifiedGroup(w,Z))}else b.push({type:"added",lines:Z.map(w=>({oldLine:null,newLine:w,status:"added"}))})}else{const Z=[],w=[];for(;C<F.length&&-1!==F[C]?.oldLineNo&&-1!==F[C]?.newLineNo;){const U=I[P];U&&Z.push(U);const $=y[p];$&&w.push($),P++,p++,C++}b.push({type:"unchanged",lines:(0,g.Z)(Z,w).map(([U,$])=>({oldLine:U??null,newLine:$??null,status:"unchanged"}))})}return[b,P,p]},this.createModifiedGroup=(I,y)=>{const G=I.map(ot=>ot.text.replace("\n","")).join("\n"),t=y.map(ot=>ot.text.replace("\n","")).join("\n"),H=new e.diff_match_patch,F=H.diff_main(G,t);H.diff_cleanupSemantic(F);const b=[];let P=0,p=0,C=null,Z=null,w=[],U=[],$=[];const dt=ot=>{ot===e.DIFF_EQUAL?(b.push({status:null!==C&&null!==Z?"replaced":null!==C?"removed":"added",oldLine:null!==C?{...I[P],tokens:[...I[P]?.tokens??[],...w]}:null,newLine:null!==Z?{...y[p],tokens:[...y[p]?.tokens??[],...U]}:null}),P++,p++,C=null,Z=null,w=[],U=[]):ot===e.DIFF_INSERT?(null===C&&(b.push(...$),$=[]),(null===C?b:$).push({status:"added",oldLine:null,newLine:{...y[p],tokens:[...y[p]?.tokens??[],...U]}}),p++,Z=null,U=[]):ot===e.DIFF_DELETE&&(null===Z&&(b.push(...$),$=[]),(null===Z?b:$).push({status:"removed",oldLine:{...I[P],tokens:[...I[P]?.tokens??[],...w]},newLine:null}),P++,C=null,w=[])};for(const[ot,N]of F){const j=N.split("\n");if(ot===e.DIFF_EQUAL){if(j.length>1){b.push(...$),$=[],null!==C||null!==Z?(C=(C??0)+(j[0]?.length??0),Z=(Z??0)+(j[0]?.length??0),dt(ot)):(b.push({status:"unchanged",oldLine:I[P],newLine:y[p]}),P++,p++);for(let B=1;B<j.length-1;B++)b.push({status:"unchanged",oldLine:I[P],newLine:y[p]}),P++,p++}C=(C??0)+(j[j.length-1]?.length??0),Z=(Z??0)+(j[j.length-1]?.length??0)}else if(ot===e.DIFF_INSERT){if(j.length>1)if(null!==Z){j[0]&&j[0].length>0&&U.push({startIndex:Z??0,endIndex:(Z??0)+j[0].length,scopes:["diff-added"]}),Z+=j[0]?.length??0,dt(ot);for(let B=1;B<j.length-1;B++)(null===C?b:$).push({status:"added",oldLine:null,newLine:{...y[p],tokens:[...y[p]?.tokens??[],{startIndex:0,endIndex:j[B]?.length??0,scopes:["diff-added"]}]}}),p++}else for(let B=0;B<j.length-1;B++)(null===C?b:$).push({status:"added",oldLine:null,newLine:{...y[p],tokens:[...y[p]?.tokens??[],{startIndex:0,endIndex:j[B]?.length??0,scopes:["diff-added"]}]}}),p++;(j[j.length-1]?.length??0)>0&&U.push({startIndex:Z??0,endIndex:(Z??0)+(j[j.length-1]?.length??0),scopes:["diff-added"]}),Z=(Z??0)+(j[j.length-1]?.length??0)}else if(ot===e.DIFF_DELETE){if(j.length>1)if(null!==C){(j[0]?.length??0)>0&&w.push({startIndex:C??0,endIndex:(C??0)+(j[0]?.length??0),scopes:["diff-removed"]}),C+=j[0]?.length??0,dt(ot);for(let B=1;B<j.length-1;B++)(null===Z?b:$).push({status:"removed",oldLine:{...I[P],tokens:[...I[P]?.tokens??[],{startIndex:0,endIndex:j[B]?.length??0,scopes:["diff-removed"]}]},newLine:null}),P++}else for(let B=0;B<j.length-1;B++)(null===Z?b:$).push({status:"removed",oldLine:{...I[P],tokens:[...I[P]?.tokens??[],{startIndex:0,endIndex:j[B]?.length??0,scopes:["diff-removed"]}]},newLine:null}),P++;(j[j.length-1]?.length??0)>0&&w.push({startIndex:C??0,endIndex:(C??0)+(j[j.length-1]?.length??0),scopes:["diff-removed"]}),C=(C??0)+(j[j.length-1]?.length??0)}}return b.push(...$),(null!==C||null!==Z)&&(0===G.length&&(C=C??0),0===t.length&&(Z=Z??0),dt(e.DIFF_EQUAL)),{type:"modified",lines:b}}}static{this.lineNumberCharacterWidth=8.3}static{this.lineNumberSpacing=10}calculateMargin(I,y=!1){return _.lineNumberSpacing+I*_.lineNumberCharacterWidth*(y?1:2)}getFileExtension(I){if(!I)return null;const y=I.lastIndexOf(".");return y>0?I.substring(y+1):null}static{this.\u0275fac=function(y){return new(y||_)}}static{this.\u0275prov=V.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},6974:(wt,rt,o)=>{o.d(rt,{U:()=>s});var e=o(6708),r=o(9768),g=o(9076),et=o(9212);let s=(()=>{class J{constructor(){this.renderScopes=A=>A.map(_=>this.renderScope(_)).join(" "),this.areEqual=(A,_)=>{if(A.length!==_.length)return!1;const n=new Set(A);for(const I of _)if(!n.has(I))return!1;return!0}}transform(A,_=""){if(!_)return[];if(_.length>1e4)return[{class:"normal",text:_.slice(0,1e4)+(0,g.Iu)("... Max line length reached!")}];const n=(0,e.Z)(A,t=>t.startIndex),I=[];let y=0,G=n.filter(t=>t.startIndex<=y&&t.endIndex>y);for(;y<_.length;){let t=n.filter(F=>F.startIndex<=y&&F.endIndex>y);const H=y;for(;this.areEqual(G,t)&&y<_.length;)y++,t=n.filter(F=>F.startIndex<=y&&F.endIndex>y);I.push({class:this.renderScopes(G.map(F=>F.scopes)),text:_.substring(H,y)||"\n"}),G=t}return I}renderScope(A){const _=A[A.length-1];if(!_)return"";const n=_.split(".");return(0,r.Z)(1,n.length+1).map(I=>n.slice(0,I).join("-")).join(" ")}static{this.\u0275fac=function(_){return new(_||J)}}static{this.\u0275pipe=et.Yjl({name:"tokens",type:J,pure:!0})}}return J})()},1314:(wt,rt,o)=>{o.d(rt,{$:()=>ot});var e=o(2159),r=o(4746);const et=function g(N,j){return N<j},s=function a(N,j){return N&&N.length?(0,e.Z)(N,(0,r.Z)(j,2),et):void 0};var J=o(4957);var _=o(9768),n=o(342),I=o(2544),y=o(2541),G=o(2720),t=o(8733),H=o(6614);var p=o(6943),C=o(9568);const w=(0,p.Z)(function(N,j){return(0,C.Z)(N)?function b(N,j,B,st){var bt=-1,at=I.Z,pt=!0,X=N.length,ut=[],Ct=j.length;if(!X)return ut;B&&(j=(0,G.Z)(j,(0,t.Z)(B))),st?(at=y.Z,pt=!1):j.length>=200&&(at=H.Z,pt=!1,j=new n.Z(j));t:for(;++bt<X;){var Pt=N[bt],Rt=null==B?Pt:B(Pt);if(Pt=st||0!==Pt?Pt:0,pt&&Rt==Rt){for(var yt=Ct;yt--;)if(j[yt]===Rt)continue t;ut.push(Pt)}else at(j,Rt,st)||ut.push(Pt)}return ut}(N,j):[]});var U=o(3153),$=o(9076),dt=o(9212);let ot=(()=>{class N{constructor(){this.isDashed=B=>"head"===B.id||B.id.startsWith("merge:")}static{this.xUnit=15}static{this.yUnit=28}static{this.xOffset=7.5}static{this.yOffset=13}static{this.totalColors=15}isIndexInBounds(B,st,bt){const at=B*N.yUnit;return at>=st&&at<bt-N.yUnit}calculateVisible(B,st,bt,at,pt){return{commitDetails:B.slice(at,pt),commitTrails:st.filter(X=>X.minYIndexWithMerges<=pt&&X.maxYIndexWithMerges>=at),mergePaths:bt.filter(X=>X.from.yIndex>=at&&X.to.some(ut=>ut.yIndex<=pt))}}calculate(B,st,bt,at,pt,X,ut){const Ct={};let Pt=[],Rt=[],yt=[];const gt=(B?1:0)+st.length;at.forEach((v,R)=>{Ct[v.id]={id:v.id,yIndex:R+gt,commit:v}});const Tt=[];st.forEach((v,R)=>{const m=`merge:${v.fromCommitId}:${v.toCommitId}`,E={id:m,message:v.message??(0,$.Iu)("merge: from _branch_ into _branch_",{from:v.fromCommitId,to:v.toCommitId}),parentIds:[v.toCommitId,v.fromCommitId],time:0,references:[],authorEmail:"",authorName:""};Tt.push(E),Ct[m]={id:m,yIndex:R+(B?1:0),commit:E}}),bt.forEach(v=>{const R=Ct[v.id],m=R?.commit.parentIds[1];!R||!m||2!==R.commit.parentIds.length||(R.stash={index:v.index,workingDirCommitId:v.id,indexCommitId:m})});const k=B?{id:"head",message:"",parentIds:B.parentId?[B.parentId,...B.mergeHeads]:[...B.mergeHeads],time:0,references:[],authorEmail:"",authorName:""}:null;B&&(Ct.head={id:"head",yIndex:0,commit:k});const D=k?[k,...Tt,...at]:[...Tt,...at];if(D.forEach(v=>{const R=Ct[v.id];if(!R)throw new U.qf(v.id);R.trail||this.calculateTrail(R,Ct,Pt,Rt),!R.stash&&v.parentIds.length>1&&v.parentIds.slice(1).forEach(m=>{const E=Ct[m];if(E)if(E.mergeFrom)E.mergeFrom.to.push(R);else{const L={from:E,to:[R]};E.mergeFrom=L,yt.push(L)}})}),({mergePaths:yt,lanes:Rt}=this.calculateMergePaths(yt,Rt,pt,X)),this.calculateColors(Pt,ut),B&&B.parentId&&Ct[B.parentId]){const v=Pt.find(R=>0===R.minYIndex);if(v){v.commits=v.commits.filter(m=>"head"!==m.id);const R=s(v.commits,m=>m.yIndex);v.minYIndex=R?.yIndex??0,v.minYIndexWithMerges=R?.yIndex??0,this.createUncommittedTrail(Ct.head,Ct[B.parentId],Pt,v.colorIndex,v.lane)}}return Tt.forEach((v,R)=>{const m=Pt.find(lt=>lt.minYIndex===R+(B?1:0)),E=v.parentIds[0],L=E?Ct[E]:void 0;if(m&&L){if(m.commits=m.commits.filter(_t=>_t.id!==v.id),m.commits.length<=0)Pt=Pt.filter(_t=>_t!==m);else{const _t=s(m.commits.filter(kt=>"head"!==kt.id&&!kt.id.startsWith("merge:")),kt=>kt.yIndex);m.minYIndex=_t?.yIndex??0,m.minYIndexWithMerges=_t?.yIndex??0}const lt=Ct[v.id];if(!lt)throw new U.qf;this.createUncommittedTrail(lt,L,Pt,m.colorIndex,m.lane)}}),bt.forEach(v=>{const R=Ct[v.id];if(!R)return;const E=R.trail,L=R.commit.parentIds[0],lt=L?Ct[L]:void 0;if(lt){if(E.commits=E.commits.filter(_t=>_t.id!==v.id),E.commits.length<=0)Pt=Pt.filter(_t=>_t!==E);else{const _t=s(E.commits,kt=>kt.yIndex);E.minYIndex=_t?.yIndex??0,E.minYIndexWithMerges=_t?.yIndex??0}this.createUncommittedTrail(R,lt,Pt,E.colorIndex,E.lane)}}),{commitDetails:Ct,commitTrails:Pt,lanes:Rt,mergePaths:yt,headCommit:k,orderedCommits:D}}createUncommittedTrail(B,st,bt,at,pt){let X=st.yIndex;st.mergeFrom&&st.mergeFrom.to.length>0&&st.mergeFrom.to.some(Ct=>!this.isDashed(Ct))&&(X=Math.min(...st.mergeFrom.to.filter(Ct=>!this.isDashed(Ct)).map(({yIndex:Ct})=>Ct))+.25,X<B.yIndex&&(X=B.yIndex+.5),bt.push({trailIndex:bt.length,minYIndex:X,maxYIndex:st.yIndex,minYIndexWithMerges:X,maxYIndexWithMerges:st.yIndex,colorIndex:at,commits:[],isDashed:!1,lane:pt}));const ut={trailIndex:bt.length,minYIndex:B.yIndex,maxYIndex:X,minYIndexWithMerges:B.yIndex,maxYIndexWithMerges:X,colorIndex:at,commits:[B],isDashed:!0,lane:pt};return B.trail=ut,bt.push(ut),ut}calculateTrail(B,st,bt,at){const pt={trailIndex:bt.length,minYIndex:B.yIndex,maxYIndex:B.yIndex,minYIndexWithMerges:B.yIndex,maxYIndexWithMerges:B.yIndex,colorIndex:null,commits:[],isDashed:!1};if(B.commit.parentIds.length<=0)B.trail=pt,pt.commits.push(B),pt.maxYIndex=B.yIndex,pt.maxYIndexWithMerges=B.yIndex;else{let ut=B;for(;ut&&!ut.trail&&ut.commit.parentIds.length>0;){ut.trail=pt,pt.maxYIndex=ut.yIndex,pt.maxYIndexWithMerges=ut.yIndex,pt.commits.push(ut);const Ct=ut.commit.parentIds[0];ut=Ct?st[Ct]:void 0}ut&&(pt.maxYIndex=ut.yIndex,pt.maxYIndexWithMerges=ut.yIndex,ut.trail||(ut.trail=pt,pt.commits.push(ut)))}let X=at.find(ut=>{const Ct=this.getLaneMaxYIndex(ut);return void 0===Ct||Ct<pt.minYIndex});return X||(X={xIndex:at.length,occupations:[]},at.push(X)),X.occupations.push({type:"commit-trail",minYIndex:pt.minYIndex,maxYIndex:pt.maxYIndex}),pt.lane=X,bt.push(pt),pt}calculateMergePaths(B,st,bt,at){st=st.map(X=>({...X,occupations:X.occupations.filter(ut=>"merge-path"!==ut.type)})).filter(X=>X.occupations.length>0);const pt=[...B];return B.forEach(X=>{const ut=[],Ct=[];let Pt;X.to.forEach(D=>{X.from.trail.minYIndexWithMerges>D.yIndex&&(X.from.trail.minYIndexWithMerges=D.yIndex),X.from.trail.maxYIndexWithMerges<D.yIndex&&(X.from.trail.maxYIndexWithMerges=D.yIndex),D.trail.minYIndexWithMerges>X.from.yIndex&&(D.trail.minYIndexWithMerges=X.from.yIndex),D.trail.maxYIndexWithMerges<X.from.yIndex&&(D.trail.maxYIndexWithMerges=X.from.yIndex)});const Rt=X.from.trail.lane.xIndex,yt=bt(Rt);let gt=[],Tt=X.to;const k=X.to.every(this.isDashed);if(X.from.trail.minYIndex<X.from.yIndex){const D=X.from.trail.commits.findIndex(R=>R.id===X.from.id),v=X.from.trail.commits[D-1];if(!v)throw new U.qf;gt=X.to.filter(R=>R.yIndex>v.yIndex),Tt=X.to.filter(R=>R.yIndex<=v.yIndex),Pt=v.yIndex}else{ut.push(`M ${yt} ${at(X.from.yIndex)}`),ut.push(`V ${at(X.from.yIndex-.5)}`),Pt=X.from.yIndex-1;const D=function V(N,j){return N&&N.length?(0,e.Z)(N,(0,r.Z)(j,2),J.Z):void 0}(Tt,v=>v.yIndex);if(D&&D.yIndex===X.from.yIndex-1){Tt=Tt.filter(R=>R.id!==D.id);const v=`L ${bt(D.trail.lane.xIndex)} ${at(D.yIndex)}`;this.isDashed(D)?Ct.push(v):ut.push(v)}}if(Tt.length>0){const D=Math.min(...Tt.map(L=>L.yIndex)),v=st.filter(L=>!this.isLaneOccupied(L,D+1,Pt)),R=s(v,L=>[...Tt,X.from].reduce((lt,_t)=>lt+Math.abs(_t.trail.lane.xIndex-L.xIndex),0))??{xIndex:st.length,occupations:[]};0===v.length&&st.push(R),R.occupations.push({type:"merge-path",minYIndex:D+1,maxYIndex:Pt});const m=Tt.filter(this.isDashed),E=Tt.filter(L=>!this.isDashed(L));if(ut.push(...E.flatMap(L=>[`M ${bt(R.xIndex)} ${at(L.yIndex+.5)}`,`L ${this.adjustForDashedLine(!1,R.xIndex,L.trail.lane.xIndex,L.yIndex+.5,L.yIndex,bt,at)}`])),Ct.push(...m.flatMap(L=>[`M ${bt(R.xIndex)} ${at(L.yIndex+.5)}`,`L ${this.adjustForDashedLine(!0,R.xIndex,L.trail.lane.xIndex,L.yIndex+.5,L.yIndex,bt,at)}`])),k)ut.push(`M ${yt} ${at(Pt+.5)}`,`L ${bt(R.xIndex)} ${at(Pt+.25)}`,`V ${at(D+.5)}`);else{const L=Math.min(...E.map(lt=>lt.yIndex));ut.push(`M ${yt} ${at(Pt+.5)}`,`L ${bt(R.xIndex)} ${at(Pt+.25)}`,`V ${at(L+.5)}`),Ct.push(`M ${yt} ${at(L+.5)}`,`V ${at(D+.5)}`)}}ut.push(...gt.filter(D=>!this.isDashed(D)).flatMap(D=>[`M ${yt} ${at(D.yIndex+.25)}`,`L ${this.adjustForDashedLine(!1,Rt,D.trail.lane.xIndex,D.yIndex+.25,D.yIndex,bt,at)}`])),Ct.push(...gt.filter(this.isDashed).flatMap(D=>[`M ${yt} ${at(D.yIndex+.25)}`,`L ${this.adjustForDashedLine(!0,Rt,D.trail.lane.xIndex,D.yIndex+.25,D.yIndex,bt,at)}`])),k?(X.isDashed=!0,X.path=[...ut,...Ct].join(" ")):(X.isDashed=!1,X.path=ut.join(" "),Ct.length>0&&pt.push({from:X.from,isDashed:!0,path:Ct.join(" "),to:X.to.filter(this.isDashed)}))}),{mergePaths:pt,lanes:st}}calculateColors(B,st){const bt=(0,_.Z)(0,st),at=[];B.forEach(pt=>{const X=at.filter(Ct=>Ct.minYIndexWithMerges<=pt.maxYIndexWithMerges&&Ct.maxYIndexWithMerges>=pt.minYIndexWithMerges).map(Ct=>Ct.colorIndex),ut=w(bt,...X);pt.colorIndex=ut[0]??pt.trailIndex%st,at.push(pt)})}getLaneMaxYIndex(B){return B.occupations[B.occupations.length-1]?.maxYIndex}isLaneOccupied(B,st,bt){return B.occupations.some(at=>at.minYIndex<=bt&&at.maxYIndex>=st)}adjustForDashedLine(B,st,bt,at,pt,X,ut){const Pt=B?at>pt?.15:-.15:0;return`${X(bt+(B?st>bt?.3:-.3:0))} ${ut(pt+Pt)}`}static{this.\u0275fac=function(st){return new(st||N)}}static{this.\u0275prov=dt.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})()},5696:(wt,rt,o)=>{o.d(rt,{i:()=>yt});var e=o(7582),r=o(9212),g=o(5932),et=o(5619),a=o(4573),s=o(7910),J=o(709),V=o(9589),A=o(9488),_=o(6814),n=o(617),I=o(2596),y=o(7368),G=o(5684),t=o(3665),H=o(1361),F=o(5248),b=o(9918),P=o(5986),p=o(4551);function C(gt,Tt){if(1&gt){const k=r.EpF();r.TgZ(0,"mat-checkbox",7),r.NdJ("change",function(v){r.CHM(k);const R=r.oxw().$implicit,m=r.oxw();return r.KtG(m.checkedChanged.next([R,v.checked]))}),r.qZA()}if(2&gt){const k=r.oxw().$implicit,D=r.oxw();r.Q6J("checked",D.isChecked(k))}}function Z(gt,Tt){if(1&gt){const k=r.EpF();r.TgZ(0,"li",3),r.NdJ("contextmenu",function(v){const m=r.CHM(k).$implicit,E=r.oxw();return r.KtG(E.contextMenuOpened.next([m,v]))}),r.TgZ(1,"mat-icon",4),r._uU(2),r.qZA(),r.YNc(3,C,1,1,"mat-checkbox",5),r.TgZ(4,"app-condensed-path",6),r.NdJ("click",function(){const R=r.CHM(k).$implicit,m=r.oxw();return r.KtG(m.selectedChanged.next(R))}),r.qZA()()}if(2&gt){const k=Tt.$implicit,D=r.oxw();r.ekj("selected",D.isSelected(k))("checked",D.isChecked(k)),r.xp6(),r.Q6J("ngClass",D.getPatchIconColorClass(k)),r.xp6(),r.Oqu(D.getPatchIcon(k)),r.xp6(),r.Q6J("ngIf",D.checked),r.xp6(),r.Q6J("path",D.getPatchPath(k))}}let w=(()=>{class gt extends((0,a.j)(s.A,H.P)){constructor(k){super(),this.commitDetailService=k,this.checked=null,this.checkedChanged=new r.vpe,this.selectedChanged=new r.vpe,this.contextMenuOpened=new r.vpe,this.keyPressDisabled=!1}ngOnChanges(k){k.selected&&(this.keyPressDisabled=!1),k.patches&&(this.orderedPatches=(0,G.Z)(this.patches,[D=>D.status===t.v.Conflicted,D=>(D.oldFilePath??D.newFilePath??"").toLowerCase()],["desc","asc"]))}trackByPatch(k,D){return`${D.oldFilePath}|${D.newFilePath}|${D.status}`}getPatchPath(k){return this.commitDetailService.getPatchPath(k)}getPatchIcon(k){return this.commitDetailService.getPatchIcon(k)}getPatchIconColorClass(k){return this.commitDetailService.getPatchIconColorClass(k)}isChecked(k){return this.checked?.some(({oldFilePath:D,newFilePath:v})=>D===k.oldFilePath&&v===k.newFilePath)}isSelected(k){return k.oldFilePath===this.selected?.oldFilePath&&k.newFilePath===this.selected.newFilePath}keyPressed(k){if(this.keyPressDisabled)return;k.preventDefault();const D=this.selected,v=this.orderedPatches.findIndex(({oldFilePath:m,newFilePath:E})=>m===D?.oldFilePath&&E===D?.newFilePath);let R=null;switch(k.key){case"ArrowUp":if(!(F.V?k.metaKey:k.ctrlKey)){v>0&&(R=v-1);break}case"Home":R=0;break;case"ArrowDown":if(!(F.V?k.metaKey:k.ctrlKey)){v<this.orderedPatches.length-1&&(R=v+1);break}case"End":R=this.orderedPatches.length-1;break;case"Escape":v>=0&&(R=v)}if(null!==R){this.keyPressDisabled=!0;const m=this.orderedPatches[R];m&&this.selectedChanged.next(m);const E=this.viewports.first,L=E.measureScrollOffset("top"),lt=L+E.getViewportSize(),_t=22*R;(_t<L||_t>=lt)&&E.scrollToIndex(R)}}static{this.\u0275fac=function(D){return new(D||gt)(r.Y36(b.d))}}static{this.\u0275cmp=r.Xpm({type:gt,selectors:[["app-patch-list"]],viewQuery:function(D,v){if(1&D&&r.Gf(y.N7,5),2&D){let R;r.iGM(R=r.CRH())&&(v.viewports=R)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[r.qOj,r.TTD],decls:3,vars:7,consts:[["tabindex","0",1,"item-list-container",3,"itemSize","maxBufferPx","minBufferPx","keydown"],[1,"patch-list"],[3,"selected","checked","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"contextmenu"],["inline","",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"name",3,"path","click"],[3,"checked","change"]],template:function(D,v){1&D&&(r.TgZ(0,"cdk-virtual-scroll-viewport",0),r.NdJ("keydown",function(m){return v.keyPressed(m)}),r.TgZ(1,"ul",1),r.YNc(2,Z,5,8,"li",2),r.qZA()()),2&D&&(r.Q6J("itemSize",22)("maxBufferPx",400)("minBufferPx",200),r.xp6(),r.ekj("checkboxes",v.checked),r.xp6(),r.Q6J("cdkVirtualForOf",v.orderedPatches)("cdkVirtualForTrackBy",v.trackByPatch))},dependencies:[P.oG,y.xd,y.x0,y.N7,_.mk,_.O5,n.Hw,p.j],styles:["[_nghost-%COMP%]{display:contents}.item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%;contain:content;outline:none}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer;gap:4px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;font-size:0;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field{margin:-9px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;text-align:center}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 22px)}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:none}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#515151}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}return gt})();var U=o(5601),$=o(2572),dt=o(2096),ot=o(7398),N=o(9687),j=o(510),B=o(3999);function st(gt,Tt){if(1&gt){const k=r.EpF();r.TgZ(0,"mat-checkbox",8),r.NdJ("click",function(v){return v.stopPropagation()})("change",function(v){r.CHM(k);const R=r.oxw().$implicit,m=r.oxw();return r.KtG(m.clickNodeCheckbox(R,v.checked))}),r.qZA()}if(2&gt){const k=r.oxw().$implicit;r.Q6J("checked","all"===k.checked)("indeterminate","some"===k.checked)}}function bt(gt,Tt){if(1&gt){const k=r.EpF();r.TgZ(0,"div",3),r.NdJ("click",function(v){const m=r.CHM(k).$implicit,E=r.oxw();return r.KtG(E.toggleNodeExpanded(v,m))}),r.TgZ(1,"mat-icon",4),r._uU(2,"folder"),r.qZA(),r.YNc(3,st,1,2,"mat-checkbox",5),r.TgZ(4,"span",6),r._uU(5),r.qZA(),r.TgZ(6,"mat-icon",7),r._uU(7),r.qZA()()}if(2&gt){const k=Tt.$implicit,D=r.oxw();r.ekj("checked","all"===k.checked),r.xp6(3),r.Q6J("ngIf",D.checked),r.xp6(),r.Q6J("matTooltip",k.id),r.xp6(),r.Oqu(k.segment),r.xp6(2),r.Oqu(k.expanded?"expand_less":"expand_more")}}function at(gt,Tt){if(1&gt){const k=r.EpF();r.TgZ(0,"mat-checkbox",13),r.NdJ("change",function(v){r.CHM(k);const R=r.oxw().$implicit,m=r.oxw();return r.KtG(m.checkedChanged.next([R.patch,v.checked]))}),r.qZA()}if(2&gt){const k=r.oxw().$implicit;r.Q6J("checked",k.checked)}}function pt(gt,Tt){if(1&gt){const k=r.EpF();r.TgZ(0,"div",9),r.NdJ("contextmenu",function(v){const m=r.CHM(k).$implicit,E=r.oxw();return r.KtG(E.contextMenuOpened.next([m.patch,v]))}),r.TgZ(1,"mat-icon",10),r._uU(2),r.qZA(),r.YNc(3,at,1,1,"mat-checkbox",11),r.TgZ(4,"span",12),r.NdJ("click",function(){const R=r.CHM(k).$implicit,m=r.oxw();return r.KtG(m.selectedChanged.next(R.patch))}),r._uU(5),r.qZA()()}if(2&gt){const k=Tt.$implicit,D=r.oxw();let v;r.ekj("checked",k.checked)("selected",D.isSelected(k.patch)),r.xp6(),r.Q6J("ngClass",D.getPatchIconColorClass(k.patch)),r.xp6(),r.Oqu(D.getPatchIcon(k.patch)),r.xp6(),r.Q6J("ngIf",D.checked),r.xp6(),r.Q6J("matTooltip",null!==(v=D.getPatchPath(k.patch))&&void 0!==v?v:""),r.xp6(),r.Oqu(k.segment)}}let X=(()=>{class gt extends((0,a.j)(s.A)){constructor(k){super(),this.commitDetailService=k,this.checkedChanged=new r.vpe,this.selectedChanged=new r.vpe,this.contextMenuOpened=new r.vpe,this.tree=new et.X([]),this.leafNodes=new et.X([]),this.collapsedNodeIds=new et.X(new Set),this.keyPressDisabled=!1,this.toggleNodeExpanded=(D,v)=>{D.preventDefault(),D.stopPropagation();const R=new Set(this.collapsedNodeIds.value);R.has(v.id)?(R.delete(v.id),this.collapsedNodeIds.next(R)):(R.add(v.id),this.collapsedNodeIds.next(R))},this.getDescendantsLeafNodes=D=>D.reduce((v,R)=>[...v,..."patch"in R?[R]:this.getDescendantsLeafNodes(R.children)],[]),this.getDescendantsList=D=>D.reduce((v,R)=>[...v,..."patch"in R?[R]:[R,...this.getDescendantsList(R.children)]],[])}ngOnInit(){(0,$.a)([this.patches,this.checked??(0,dt.of)(null),this.collapsedNodeIds]).pipe((0,ot.U)(([k,D,v])=>{const R=k.map(m=>({patch:m,segments:(m.newFilePath??m.oldFilePath??"").split("/")}));return this.buildTree(R,"",0,D,v)})).subscribe(k=>{this.tree.next(k),this.leafNodes.next(this.getDescendantsLeafNodes(k)),this.keyPressDisabled=!1})}getPatchPath(k){return this.commitDetailService.getPatchPath(k)}getPatchIcon(k){return this.commitDetailService.getPatchIcon(k)}getPatchIconColorClass(k){return this.commitDetailService.getPatchIconColorClass(k)}isSelected(k){return k.oldFilePath===this.selected?.oldFilePath&&k.newFilePath===this.selected.newFilePath}clickNodeCheckbox(k,D){for(const v of this.getDescendantsLeafNodes(k.children))this.checkedChanged.next([v.patch,D])}buildTree(k,D,v,R,m){return Object.entries((0,U.Z)(k,({segments:lt})=>lt[0])).sort(([lt],[_t])=>lt.localeCompare(_t,void 0,{numeric:!0})).flatMap(([lt,_t])=>{const kt=`${D}${lt}/`,$t=`${D}${lt}`,Ht=_t.filter(({segments:Y})=>Y.length>1),Qt=R?_t.every(({patch:Y})=>R.some(({oldFilePath:it,newFilePath:Et})=>it===Y.oldFilePath&&Et===Y.newFilePath))?"all":_t.some(({patch:Y})=>R.some(({oldFilePath:it,newFilePath:Et})=>it===Y.oldFilePath&&Et===Y.newFilePath))?"some":"none":"none",ct=Ht.length>0?{id:kt,depth:v,expanded:!m.has(kt),children:this.buildTree(Ht.map(({patch:Y,segments:it})=>({patch:Y,segments:it.slice(1)})),kt,v+1,R,m),segment:lt,checked:Qt}:null,At=_t.find(({segments:Y})=>Y.length<=1),S=At?{id:$t,depth:v,segment:lt,patch:At.patch,checked:R?.some(({oldFilePath:Y,newFilePath:it})=>Y===At.patch.oldFilePath&&it===At.patch.newFilePath)??!1}:null;return S&&ct?[S,ct]:ct?[ct]:S?[S]:[]})}keyPressed(k){if(this.keyPressDisabled)return;k.preventDefault();const D=this.selected,v=this.leafNodes.value,R=v.findIndex(({patch:E})=>E.oldFilePath===D?.oldFilePath&&E.newFilePath===D?.newFilePath);let m=null;switch(k.key){case"ArrowUp":if(!(F.V?k.metaKey:k.ctrlKey)){R>0&&(m=R-1);break}case"Home":m=0;break;case"ArrowDown":if(!(F.V?k.metaKey:k.ctrlKey)){R<v.length-1&&(m=R+1);break}case"End":m=v.length-1;break;case"Escape":R>=0&&(m=R)}if(null!==m){this.keyPressDisabled=!0;const E=v[m];E&&this.selectedChanged.next(E.patch);const L=this.virtualTree.viewports.first,lt=L.measureScrollOffset("top"),_t=lt+L.getViewportSize();let kt=0;this.getDescendantsList(this.tree.value);for(const Qt of this.getDescendantsList(this.tree.value)){if(Qt===E)break;kt++}const Ht=22*kt;(Ht<lt||Ht>=_t)&&L.scrollToIndex(kt)}}static{this.\u0275fac=function(D){return new(D||gt)(r.Y36(b.d))}}static{this.\u0275cmp=r.Xpm({type:gt,selectors:[["app-patch-tree"]],viewQuery:function(D,v){if(1&D&&r.Gf(N.L,5),2&D){let R;r.iGM(R=r.CRH())&&(v.virtualTree=R.first)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[r.qOj],decls:3,vars:4,consts:[[3,"tree","itemSize","keyPressed"],["class","node-item",3,"checked","click",4,"appVirtualTreeNode"],["class","leaf-item",3,"checked","selected","contextmenu",4,"appVirtualTreeLeafNode"],[1,"node-item",3,"click"],["inline","",1,"node-icon"],[3,"checked","indeterminate","click","change",4,"ngIf"],[1,"text",3,"matTooltip"],[1,"expand-icon"],[3,"checked","indeterminate","click","change"],[1,"leaf-item",3,"contextmenu"],["inline","",1,"node-icon",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"text",3,"matTooltip","click"],[3,"checked","change"]],template:function(D,v){1&D&&(r.TgZ(0,"app-virtual-tree",0),r.NdJ("keyPressed",function(m){return v.keyPressed(m)}),r.YNc(1,bt,8,6,"div",1)(2,pt,6,9,"div",2),r.qZA()),2&D&&(r.ekj("checkboxes",!!v.checked),r.Q6J("tree",v.tree)("itemSize",22))},dependencies:[P.oG,_.mk,_.O5,n.Hw,I.gM,N.L,j.I,B.J],styles:["[_nghost-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport{contain:content;scrollbar-gutter:stable;margin-left:-16px;margin-right:-16px}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper>ul{overflow-x:auto;overflow-y:hidden}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-spacer{position:relative}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#616161}.node-item[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]{margin-left:16px;display:flex;justify-content:space-between;cursor:pointer;line-height:22px;height:22px;user-select:none;align-items:center;min-width:200px;gap:4px}.node-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;text-align:center}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;height:22px;font-size:0;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field, .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]    >.mdc-form-field, .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field, .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]    >.mdc-form-field{margin:-9px}.node-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.node-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%]{flex:0 0 auto;color:#ffffffb3;line-height:22px}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .node-icon[_ngcontent-%COMP%]{display:none}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .checkbox-button[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover){background-color:#515151}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#616161}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover){background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}return gt})();var ut=o(7484);function Ct(gt,Tt){if(1&gt){const k=r.EpF();r.TgZ(0,"app-patch-list",6),r.NdJ("checkedChanged",function(v){r.CHM(k);const R=r.oxw(2);return r.KtG(R.checkedChanged.next(v))})("selectedChanged",function(v){r.CHM(k);const R=r.oxw(2);return r.KtG(R.selectedChanged.next(v))})("contextMenuOpened",function(v){r.CHM(k);const R=r.oxw(2);return r.KtG(R.contextMenuOpened.next(v))}),r.ALo(1,"async"),r.qZA()}if(2&gt){const k=r.oxw(2);r.Q6J("patches",k.patches)("checked",r.lcZ(1,3,k.checked))("selected",k.selected)}}function Pt(gt,Tt){if(1&gt){const k=r.EpF();r.TgZ(0,"app-patch-tree",6),r.NdJ("checkedChanged",function(v){r.CHM(k);const R=r.oxw(2);return r.KtG(R.checkedChanged.next(v))})("selectedChanged",function(v){r.CHM(k);const R=r.oxw(2);return r.KtG(R.selectedChanged.next(v))})("contextMenuOpened",function(v){r.CHM(k);const R=r.oxw(2);return r.KtG(R.contextMenuOpened.next(v))}),r.qZA()}if(2&gt){const k=r.oxw(2);r.Q6J("patches",k.patches$)("checked",k.checked)("selected",k.selected)}}function Rt(gt,Tt){if(1&gt){const k=r.EpF();r.ynx(0),r.TgZ(1,"header")(2,"mat-button-toggle-group",1),r.NdJ("change",function(v){r.CHM(k);const R=r.oxw();return r.KtG(R.changePatchView(v.value))}),r.TgZ(3,"mat-button-toggle",2),r.ALo(4,"translate"),r.TgZ(5,"mat-icon"),r._uU(6,"list"),r.qZA()(),r.TgZ(7,"mat-button-toggle",3),r.ALo(8,"translate"),r._UZ(9,"mat-icon",4),r.qZA()()(),r.YNc(10,Ct,2,5,"app-patch-list",5)(11,Pt,1,3,"app-patch-tree",5),r.BQk()}if(2&gt){const k=Tt.ngIf;r.xp6(2),r.Q6J("value",k),r.xp6(),r.Q6J("matTooltip",r.lcZ(4,5,"List View")),r.xp6(4),r.Q6J("matTooltip",r.lcZ(8,7,"Tree View")),r.xp6(3),r.Q6J("ngIf","list"===k),r.xp6(),r.Q6J("ngIf","tree"===k)}}let yt=(()=>{class gt extends((0,a.j)(s.A)){constructor(k){super(),this.store=k,this.checked=null,this.checkedChanged=new r.vpe,this.selectedChanged=new r.vpe,this.contextMenuOpened=new r.vpe,this.patches$=new et.X([])}ngOnChanges(k){k.patches&&this.patches$.next(this.patches)}changePatchView(k){this.store.dispatch(new V.eh(k))}static{this.\u0275fac=function(D){return new(D||gt)(r.Y36(g.yh))}}static{this.\u0275cmp=r.Xpm({type:gt,selectors:[["app-patches-view"]],inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[r.qOj,r.TTD],decls:2,vars:3,consts:[[4,"ngIf"],[3,"value","change"],["value","list",3,"matTooltip"],["value","tree",3,"matTooltip"],["svgIcon","file-tree"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened",4,"ngIf"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"]],template:function(D,v){1&D&&(r.YNc(0,Rt,12,9,"ng-container",0),r.ALo(1,"async")),2&D&&r.Q6J("ngIf",r.lcZ(1,1,v.view))},dependencies:[A.A9,A.Yi,_.O5,n.Hw,I.gM,w,X,_.Ov,ut.X],styles:["[_nghost-%COMP%]{display:contents}header[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;margin-bottom:-4px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:30px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:28px;padding:0 5px}"],changeDetection:0})}}return(0,e.gn)([(0,g.Ph)(J.$.patchView)],gt.prototype,"view",void 0),gt})()},535:(wt,rt,o)=>{o.d(rt,{Z:()=>V});var e=o(9488),r=o(5195),g=o(5986),et=o(4516),a=o(1345),s=o(3902),J=o(9212);let V=(()=>{class A{static{this.\u0275fac=function(I){return new(I||A)}}static{this.\u0275mod=J.oAB({type:A})}static{this.\u0275inj=J.cJS({imports:[e.vV,r.QW,g.p9,et.c,a.I,s.c]})}}return A})()},2860:(wt,rt,o)=>{o.d(rt,{Z:()=>a});var e=o(5940),r=o(4104),g=o(1345),et=o(9212);let a=(()=>{class s{static{this.\u0275fac=function(A){return new(A||s)}}static{this.\u0275mod=et.oAB({type:s})}static{this.\u0275inj=et.cJS({imports:[g.I,e.Cq,r.Nh]})}}return s})()},4630:(wt,rt,o)=>{o.d(rt,{Bb:()=>D,XC:()=>ut,ZL:()=>k});var e=o(9212),r=o(3680),g=o(6814),et=o(7368),a=o(3651),s=o(4300),J=o(2495),V=o(2831),A=o(6825),_=o(7394),n=o(8645),I=o(4911),y=o(3019),G=o(2096),t=o(2438),H=o(6028),F=o(8484),b=o(6223),P=o(4170),p=o(7921),C=o(4664),Z=o(8180),w=o(2181),U=o(7398),$=o(9397),dt=o(7547),ot=o(9388);const N=["panel"];function j(v,R){if(1&v){const m=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("@panelAnimation.done",function(L){e.CHM(m);const lt=e.oxw();return e.KtG(lt._animationDone.next(L))}),e.Hsn(2),e.qZA()}if(2&v){const m=R.id,E=e.oxw();e.Q6J("id",E.id)("ngClass",E._classList)("@panelAnimation",E.isOpen?"visible":"hidden"),e.uIk("aria-label",E.ariaLabel||null)("aria-labelledby",E._getPanelAriaLabelledby(m))}}const B=["*"],st=(0,A.X$)("panelAnimation",[(0,A.SB)("void, hidden",(0,A.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,A.eR)(":enter, hidden => visible",[(0,A.ru)([(0,A.jt)("0.03s linear",(0,A.oB)({opacity:1})),(0,A.jt)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,A.oB)({transform:"scaleY(1)"}))])]),(0,A.eR)(":leave, visible => hidden",[(0,A.jt)("0.075s linear",(0,A.oB)({opacity:0}))])]);let bt=0;class at{constructor(R,m){this.source=R,this.option=m}}const pt=new e.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function X(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let ut=(()=>{class v{get isOpen(){return this._isOpen&&this.showPanel}_setColor(m){this._color=m,this._setThemeClasses(this._classList)}set classList(m){this._classList=m&&m.length?(0,J.du)(m).reduce((E,L)=>(E[L]=!0,E),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(m){this._hideSingleSelectionIndicator=m,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const m of this.options)m._changeDetectorRef.markForCheck()}constructor(m,E,L,lt){this._changeDetectorRef=m,this._elementRef=E,this._defaults=L,this._activeOptionChanges=_.w0.EMPTY,this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new e.vpe,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new e.vpe,this.opened=new e.vpe,this.closed=new e.vpe,this.optionActivated=new e.vpe,this._classList={},this.id="mat-autocomplete-"+bt++,this.inertGroups=lt?.SAFARI||!1,this.autoActiveFirstOption=!!L.autoActiveFirstOption,this.autoSelectActiveOption=!!L.autoSelectActiveOption,this.requireSelection=!!L.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new s.s1(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(m=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[m]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(m){this.panel&&(this.panel.nativeElement.scrollTop=m)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(m){const E=new at(this,m);this.optionSelected.emit(E)}_getPanelAriaLabelledby(m){return this.ariaLabel?null:this.ariaLabelledby?(m?m+" ":"")+this.ariaLabelledby:m}_setVisibilityClasses(m){m[this._visibleClass]=this.showPanel,m[this._hiddenClass]=!this.showPanel}_setThemeClasses(m){m["mat-primary"]="primary"===this._color,m["mat-warn"]="warn"===this._color,m["mat-accent"]="accent"===this._color}_skipPredicate(){return!1}static{this.\u0275fac=function(E){return new(E||v)(e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(pt),e.Y36(V.t4))}}static{this.\u0275cmp=e.Xpm({type:v,selectors:[["mat-autocomplete"]],contentQueries:function(E,L,lt){if(1&E&&(e.Suo(lt,r.ey,5),e.Suo(lt,r.K7,5)),2&E){let _t;e.iGM(_t=e.CRH())&&(L.options=_t),e.iGM(_t=e.CRH())&&(L.optionGroups=_t)}},viewQuery:function(E,L){if(1&E&&(e.Gf(e.Rgc,7),e.Gf(N,5)),2&E){let lt;e.iGM(lt=e.CRH())&&(L.template=lt.first),e.iGM(lt=e.CRH())&&(L.panel=lt.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[e.lbL.None,"aria-label","ariaLabel"],ariaLabelledby:[e.lbL.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[e.lbL.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",e.VuI],autoSelectActiveOption:[e.lbL.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",e.VuI],requireSelection:[e.lbL.HasDecoratorInputTransform,"requireSelection","requireSelection",e.VuI],panelWidth:"panelWidth",disableRipple:[e.lbL.HasDecoratorInputTransform,"disableRipple","disableRipple",e.VuI],classList:[e.lbL.None,"class","classList"],hideSingleSelectionIndicator:[e.lbL.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",e.VuI]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[e._Bn([{provide:r.HF,useExisting:v}]),e.Xq5,e.jDz],ngContentSelectors:B,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(E,L){1&E&&(e.F$t(),e.YNc(0,j,3,5,"ng-template"))},dependencies:[g.mk],styles:["div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[st]},changeDetection:0})}}return v})();const Pt={provide:b.JU,useExisting:(0,e.Gpc)(()=>k),multi:!0},yt=new e.OlP("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const v=(0,e.f3M)(a.aV);return()=>v.scrollStrategies.reposition()}}),Tt={provide:yt,deps:[a.aV],useFactory:function gt(v){return()=>v.scrollStrategies.reposition()}};let k=(()=>{class v{constructor(m,E,L,lt,_t,kt,$t,Ht,Qt,ct,At){this._element=m,this._overlay=E,this._viewContainerRef=L,this._zone=lt,this._changeDetectorRef=_t,this._dir=$t,this._formField=Ht,this._document=Qt,this._viewportRuler=ct,this._defaults=At,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=_.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new n.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,I.P)(()=>{const S=this.autocomplete?this.autocomplete.options:null;return S?S.changes.pipe((0,p.O)(S),(0,C.w)(()=>(0,y.T)(...S.map(Y=>Y.onSelectionChange)))):this._zone.onStable.pipe((0,Z.q)(1),(0,C.w)(()=>this.optionSelections))}),this._handlePanelKeydown=S=>{(S.keyCode===H.hY&&!(0,H.Vb)(S)||S.keyCode===H.LH&&(0,H.Vb)(S,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),S.stopPropagation(),S.preventDefault())},this._trackedModal=null,this._scrollStrategy=kt}ngAfterViewInit(){const m=this._getWindow();typeof m<"u"&&this._zone.runOutsideAngular(()=>m.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(m){m.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const m=this._getWindow();typeof m<"u"&&m.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel(),this._trackedModal&&(0,s.Zf)(this._trackedModal,"aria-owns",this.autocomplete.id)}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&(0,s.iD)(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,y.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,w.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,w.h)(()=>this._overlayAttached)):(0,G.of)()).pipe((0,U.U)(m=>m instanceof r.rN?m:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,y.T)((0,t.R)(this._document,"click"),(0,t.R)(this._document,"auxclick"),(0,t.R)(this._document,"touchend")).pipe((0,w.h)(m=>{const E=(0,V.sA)(m),L=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,lt=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&E!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!L||!L.contains(E))&&(!lt||!lt.contains(E))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(E)}))}writeValue(m){Promise.resolve(null).then(()=>this._assignOptionValue(m))}registerOnChange(m){this._onChange=m}registerOnTouched(m){this._onTouched=m}setDisabledState(m){this._element.nativeElement.disabled=m}_handleKeydown(m){const E=m.keyCode,L=(0,H.Vb)(m);if(E===H.hY&&!L&&m.preventDefault(),this.activeOption&&E===H.K5&&this.panelOpen&&!L)this.activeOption._selectViaInteraction(),this._resetActiveItem(),m.preventDefault();else if(this.autocomplete){const lt=this.autocomplete._keyManager.activeItem,_t=E===H.LH||E===H.JH;E===H.Mf||_t&&!L&&this.panelOpen?this.autocomplete._keyManager.onKeydown(m):_t&&this._canOpen()&&this.openPanel(),(_t||this.autocomplete._keyManager.activeItem!==lt)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(m){let E=m.target,L=E.value;if("number"===E.type&&(L=""==L?null:parseFloat(L)),this._previousValue!==L){if(this._previousValue=L,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(L),L){if(this.panelOpen&&!this.autocomplete.requireSelection){const lt=this.autocomplete.options?.find(_t=>_t.selected);lt&&L!==(this.autocomplete.displayWith?.(lt)??lt.value)&&lt.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);this._canOpen()&&this._document.activeElement===m.target&&this.openPanel()}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(m=!1){this._formField&&"auto"===this._formField.floatLabel&&(m?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const m=this._zone.onStable.pipe((0,Z.q)(1)),E=this.autocomplete.options.changes.pipe((0,$.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,dt.g)(0));return(0,y.T)(m,E).pipe((0,C.w)(()=>(this._zone.run(()=>{const L=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),L!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,Z.q)(1)).subscribe(L=>this._setValueAndClose(L))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(m){const E=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(m):m;null==m&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(E??"")}_updateNativeInputValue(m){this._formField?this._formField._control.value=m:this._element.nativeElement.value=m,this._previousValue=m}_setValueAndClose(m){const E=this.autocomplete,L=m?m.source:this._pendingAutoselectedOption;L?(this._clearPreviousSelectedOption(L),this._assignOptionValue(L.value),this._onChange(L.value),E._emitSelectEvent(L),this._element.nativeElement.focus()):E.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),E._animationDone?E._animationDone.pipe((0,Z.q)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(m,E){this.autocomplete?.options?.forEach(L=>{L!==m&&L.selected&&L.deselect(E)})}_attachOverlay(){let m=this._overlayRef;m?(this._positionStrategy.setOrigin(this._getConnectedElement()),m.updateSize({width:this._getPanelWidth()})):(this._portal=new F.UE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),m=this._overlay.create(this._getOverlayConfig()),this._overlayRef=m,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&m&&m.updateSize({width:this._getPanelWidth()})})),m&&!m.hasAttached()&&(m.attach(this._portal),this._valueOnAttach=this._element.nativeElement.value,this._closingActionsSubscription=this._subscribeToClosingActions());const E=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&E!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const m=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=m.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=m.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new a.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const m=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(m),this._positionStrategy=m,m}_setStrategyPositions(m){const E=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],L=this._aboveClass,lt=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:L},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:L}];let _t;_t="above"===this.position?lt:"below"===this.position?E:[...E,...lt],m.withPositions(_t)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const m=this.autocomplete;if(m.autoActiveFirstOption){let E=-1;for(let L=0;L<m.options.length;L++)if(!m.options.get(L).disabled){E=L;break}m._keyManager.setActiveItem(E)}else m._keyManager.setActiveItem(-1)}_canOpen(){const m=this._element.nativeElement;return!m.readOnly&&!m.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(m){const E=this.autocomplete,L=(0,r.CB)(m,E.options,E.optionGroups);if(0===m&&1===L)E._setScrollTop(0);else if(E.panel){const lt=E.options.toArray()[m];if(lt){const _t=lt._getHostElement(),kt=(0,r.jH)(_t.offsetTop,_t.offsetHeight,E._getScrollTop(),E.panel.nativeElement.offsetHeight);E._setScrollTop(kt)}}}_applyModalPanelOwnership(){const m=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!m)return;const E=this.autocomplete.id;this._trackedModal&&(0,s.iD)(this._trackedModal,"aria-owns",E),(0,s.Zf)(m,"aria-owns",E),this._trackedModal=m}_clearFromModal(){this._trackedModal&&((0,s.iD)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static{this.\u0275fac=function(E){return new(E||v)(e.Y36(e.SBq),e.Y36(a.aV),e.Y36(e.s_b),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(yt),e.Y36(ot.Is,8),e.Y36(P.G_,9),e.Y36(g.K0,8),e.Y36(et.rL),e.Y36(pt,8))}}static{this.\u0275dir=e.lG2({type:v,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(E,L){1&E&&e.NdJ("focusin",function(){return L._handleFocus()})("blur",function(){return L._onTouched()})("input",function(_t){return L._handleInput(_t)})("keydown",function(_t){return L._handleKeydown(_t)})("click",function(){return L._handleClick()}),2&E&&e.uIk("autocomplete",L.autocompleteAttribute)("role",L.autocompleteDisabled?null:"combobox")("aria-autocomplete",L.autocompleteDisabled?null:"list")("aria-activedescendant",L.panelOpen&&L.activeOption?L.activeOption.id:null)("aria-expanded",L.autocompleteDisabled?null:L.panelOpen.toString())("aria-controls",L.autocompleteDisabled||!L.panelOpen||null==L.autocomplete?null:L.autocomplete.id)("aria-haspopup",L.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[e.lbL.None,"matAutocomplete","autocomplete"],position:[e.lbL.None,"matAutocompletePosition","position"],connectedTo:[e.lbL.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[e.lbL.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[e.lbL.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",e.VuI]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[e._Bn([Pt]),e.Xq5,e.TTD]})}}return v})(),D=(()=>{class v{static{this.\u0275fac=function(E){return new(E||v)}}static{this.\u0275mod=e.oAB({type:v})}static{this.\u0275inj=e.cJS({providers:[Tt],imports:[a.U8,r.Ng,r.BQ,g.ez,et.ZD,r.Ng,r.BQ]})}}return v})()},9488:(wt,rt,o)=>{o.d(rt,{A9:()=>y,Yi:()=>G,vV:()=>t});var e=o(4300),r=o(8337),g=o(9212),et=o(6223),a=o(3680);const s=["button"],J=["*"],V=new g.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),A=new g.OlP("MatButtonToggleGroup"),_={provide:et.JU,useExisting:(0,g.Gpc)(()=>y),multi:!0};let n=0;class I{constructor(F,b){this.source=F,this.value=b}}let y=(()=>{class H{get name(){return this._name}set name(b){this._name=b,this._markButtonsForCheck()}get value(){const b=this._selectionModel?this._selectionModel.selected:[];return this.multiple?b.map(P=>P.value):b[0]?b[0].value:void 0}set value(b){this._setSelectionByValue(b),this.valueChange.emit(this.value)}get selected(){const b=this._selectionModel?this._selectionModel.selected:[];return this.multiple?b:b[0]||null}get multiple(){return this._multiple}set multiple(b){this._multiple=b,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(b){this._disabled=b,this._markButtonsForCheck()}constructor(b,P){this._changeDetector=b,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+n++,this.valueChange=new g.vpe,this.change=new g.vpe,this.appearance=P&&P.appearance?P.appearance:"standard"}ngOnInit(){this._selectionModel=new r.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(b=>b.checked))}writeValue(b){this.value=b,this._changeDetector.markForCheck()}registerOnChange(b){this._controlValueAccessorChangeFn=b}registerOnTouched(b){this._onTouched=b}setDisabledState(b){this.disabled=b}_emitChangeEvent(b){const P=new I(b,this.value);this._rawValue=P.value,this._controlValueAccessorChangeFn(P.value),this.change.emit(P)}_syncButtonToggle(b,P,p=!1,C=!1){!this.multiple&&this.selected&&!b.checked&&(this.selected.checked=!1),this._selectionModel?P?this._selectionModel.select(b):this._selectionModel.deselect(b):C=!0,C?Promise.resolve().then(()=>this._updateModelValue(b,p)):this._updateModelValue(b,p)}_isSelected(b){return this._selectionModel&&this._selectionModel.isSelected(b)}_isPrechecked(b){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(P=>null!=b.value&&P===b.value):b.value===this._rawValue)}_setSelectionByValue(b){this._rawValue=b,this._buttonToggles&&(this.multiple&&b?(Array.isArray(b),this._clearSelection(),b.forEach(P=>this._selectValue(P))):(this._clearSelection(),this._selectValue(b)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(b=>b.checked=!1)}_selectValue(b){const P=this._buttonToggles.find(p=>null!=p.value&&p.value===b);P&&(P.checked=!0,this._selectionModel.select(P))}_updateModelValue(b,P){P&&this._emitChangeEvent(b),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(b=>b._markForCheck())}static{this.\u0275fac=function(P){return new(P||H)(g.Y36(g.sBO),g.Y36(V,8))}}static{this.\u0275dir=g.lG2({type:H,selectors:[["mat-button-toggle-group"]],contentQueries:function(P,p,C){if(1&P&&g.Suo(C,G,5),2&P){let Z;g.iGM(Z=g.CRH())&&(p._buttonToggles=Z)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(P,p){2&P&&(g.uIk("aria-disabled",p.disabled),g.ekj("mat-button-toggle-vertical",p.vertical)("mat-button-toggle-group-appearance-standard","standard"===p.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[g.lbL.HasDecoratorInputTransform,"vertical","vertical",g.VuI],value:"value",multiple:[g.lbL.HasDecoratorInputTransform,"multiple","multiple",g.VuI],disabled:[g.lbL.HasDecoratorInputTransform,"disabled","disabled",g.VuI]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[g._Bn([_,{provide:A,useExisting:H}]),g.Xq5]})}}return H})(),G=(()=>{class H{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(b){this._appearance=b}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(b){b!==this._checked&&(this._checked=b,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(b){this._disabled=b}constructor(b,P,p,C,Z,w){this._changeDetectorRef=P,this._elementRef=p,this._focusMonitor=C,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new g.vpe;const U=Number(Z);this.tabIndex=U||0===U?U:null,this.buttonToggleGroup=b,this.appearance=w&&w.appearance?w.appearance:"standard"}ngOnInit(){const b=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+n++,b&&(b._isPrechecked(this)?this.checked=!0:b._isSelected(this)!==this._checked&&b._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const b=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),b&&b._isSelected(this)&&b._syncButtonToggle(this,!1,!1,!0)}focus(b){this._buttonElement.nativeElement.focus(b)}_onButtonClick(){const b=!!this._isSingleSelector()||!this._checked;b!==this._checked&&(this._checked=b,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new I(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static{this.\u0275fac=function(P){return new(P||H)(g.Y36(A,8),g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(e.tE),g.$8M("tabindex"),g.Y36(V,8))}}static{this.\u0275cmp=g.Xpm({type:H,selectors:[["mat-button-toggle"]],viewQuery:function(P,p){if(1&P&&g.Gf(s,5),2&P){let C;g.iGM(C=g.CRH())&&(p._buttonElement=C.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(P,p){1&P&&g.NdJ("focus",function(){return p.focus()}),2&P&&(g.uIk("aria-label",null)("aria-labelledby",null)("id",p.id)("name",null),g.ekj("mat-button-toggle-standalone",!p.buttonToggleGroup)("mat-button-toggle-checked",p.checked)("mat-button-toggle-disabled",p.disabled)("mat-button-toggle-appearance-standard","standard"===p.appearance))},inputs:{ariaLabel:[g.lbL.None,"aria-label","ariaLabel"],ariaLabelledby:[g.lbL.None,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[g.lbL.HasDecoratorInputTransform,"disableRipple","disableRipple",g.VuI],appearance:"appearance",checked:[g.lbL.HasDecoratorInputTransform,"checked","checked",g.VuI],disabled:[g.lbL.HasDecoratorInputTransform,"disabled","disabled",g.VuI]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[g.Xq5,g.jDz],ngContentSelectors:J,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(P,p){if(1&P&&(g.F$t(),g.TgZ(0,"button",0,1),g.NdJ("click",function(){return p._onButtonClick()}),g.TgZ(2,"span",2),g.Hsn(3),g.qZA()(),g._UZ(4,"span",3)(5,"span",4)),2&P){const C=g.MAs(1);g.Q6J("id",p.buttonId)("disabled",p.disabled||null),g.uIk("tabindex",p.disabled?-1:p.tabIndex)("aria-pressed",p.checked)("name",p._getButtonName())("aria-label",p.ariaLabel)("aria-labelledby",p.ariaLabelledby),g.xp6(5),g.Q6J("matRippleTrigger",C)("matRippleDisabled",p.disableRipple||p.disabled)}},dependencies:[a.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}}return H})(),t=(()=>{class H{static{this.\u0275fac=function(P){return new(P||H)}}static{this.\u0275mod=g.oAB({type:H})}static{this.\u0275inj=g.cJS({imports:[a.BQ,a.si,a.BQ]})}}return H})()},4104:(wt,rt,o)=>{o.d(rt,{BU:()=>te,Nh:()=>ft,Nj:()=>ce,SP:()=>St,sW:()=>nt,uD:()=>$t,uX:()=>Qt});var e=o(9212),r=o(3680),g=o(8484),et=o(8645),a=o(2438),s=o(2096),J=o(3019),V=o(6232),A=o(5592),_=o(4825),n=o(7394),I=o(5619),y=o(7368),G=o(2831),t=o(9388),H=o(2495),F=o(4300),b=o(6028),P=o(9773),p=o(8180),C=o(7921),Z=o(4664),w=o(836),U=o(2181),$=o(3997),dt=o(7131),ot=o(6814),N=o(6825);function j(d,M){1&d&&e.Hsn(0)}const B=["*"],st=["tabListContainer"],bt=["tabList"],at=["tabListInner"],pt=["nextPaginator"],X=["previousPaginator"];function ut(d,M){}const Ct=d=>({animationDuration:d}),Pt=(d,M)=>({value:d,params:M}),Rt=["tabBodyWrapper"],yt=["tabHeader"];function gt(d,M){}function Tt(d,M){if(1&d&&e.YNc(0,gt,0,0,"ng-template",10),2&d){const i=e.oxw().$implicit;e.Q6J("cdkPortalOutlet",i.templateLabel)}}function k(d,M){if(1&d&&e._uU(0),2&d){const i=e.oxw().$implicit;e.Oqu(i.textLabel)}}function D(d,M){if(1&d){const i=e.EpF();e.TgZ(0,"div",4,5),e.NdJ("click",function(){const c=e.CHM(i),O=c.$implicit,Q=c.$index,Zt=e.oxw(),Ot=e.MAs(1);return e.KtG(Zt._handleClick(O,Ot,Q))})("cdkFocusChange",function(c){const Q=e.CHM(i).$index,Zt=e.oxw();return e.KtG(Zt._tabFocusChanged(c,Q))}),e._UZ(2,"span",6)(3,"div",7),e.TgZ(4,"span",8)(5,"span",9),e.YNc(6,Tt,1,1,null,10)(7,k,1,1),e.qZA()()()}if(2&d){const i=M.$implicit,l=M.$index,c=e.MAs(1),O=e.oxw();e.ekj("mdc-tab--active",O.selectedIndex===l),e.Q6J("id",O._getTabLabelId(l))("ngClass",i.labelClass)("disabled",i.disabled)("fitInkBarToContent",O.fitInkBarToContent),e.uIk("tabIndex",O._getTabIndex(l))("aria-posinset",l+1)("aria-setsize",O._tabs.length)("aria-controls",O._getTabContentId(l))("aria-selected",O.selectedIndex===l)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),e.xp6(3),e.Q6J("matRippleTrigger",c)("matRippleDisabled",i.disabled||O.disableRipple),e.xp6(3),e.um2(6,i.templateLabel?6:7)}}function v(d,M){1&d&&e.Hsn(0)}function R(d,M){if(1&d){const i=e.EpF();e.TgZ(0,"mat-tab-body",11),e.NdJ("_onCentered",function(){e.CHM(i);const c=e.oxw();return e.KtG(c._removeTabBodyWrapperHeight())})("_onCentering",function(c){e.CHM(i);const O=e.oxw();return e.KtG(O._setTabBodyWrapperHeight(c))}),e.qZA()}if(2&d){const i=M.$implicit,l=M.$index,c=e.oxw();e.ekj("mat-mdc-tab-body-active",c.selectedIndex===l),e.Q6J("id",c._getTabContentId(l))("ngClass",i.bodyClass)("content",i.content)("position",i.position)("origin",i.origin)("animationDuration",c.animationDuration)("preserveContent",c.preserveContent),e.uIk("tabindex",null!=c.contentTabIndex&&c.selectedIndex===l?c.contentTabIndex:null)("aria-labelledby",c._getTabLabelId(l))("aria-hidden",c.selectedIndex!==l)}}const m=["mat-tab-nav-bar",""],E=["mat-tab-link",""],L=new e.OlP("MatTabContent");let lt=(()=>{class d{constructor(i){this.template=i}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(e.Rgc))}}static{this.\u0275dir=e.lG2({type:d,selectors:[["","matTabContent",""]],standalone:!0,features:[e._Bn([{provide:L,useExisting:d}])]})}}return d})();const _t=new e.OlP("MatTabLabel"),kt=new e.OlP("MAT_TAB");let $t=(()=>{class d extends g.ig{constructor(i,l,c){super(i,l),this._closestTab=c}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(kt,8))}}static{this.\u0275dir=e.lG2({type:d,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[e._Bn([{provide:_t,useExisting:d}]),e.qOj]})}}return d})();const Ht=new e.OlP("MAT_TAB_GROUP");let Qt=(()=>{class d{get templateLabel(){return this._templateLabel}set templateLabel(i){this._setTemplateLabelInput(i)}get content(){return this._contentPortal}constructor(i,l){this._viewContainerRef=i,this._closestTabGroup=l,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new et.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(i){(i.hasOwnProperty("textLabel")||i.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new g.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(i){i&&i._closestTab===this&&(this._templateLabel=i)}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(e.s_b),e.Y36(Ht,8))}}static{this.\u0275cmp=e.Xpm({type:d,selectors:[["mat-tab"]],contentQueries:function(l,c,O){if(1&l&&(e.Suo(O,$t,5),e.Suo(O,lt,7,e.Rgc)),2&l){let Q;e.iGM(Q=e.CRH())&&(c.templateLabel=Q.first),e.iGM(Q=e.CRH())&&(c._explicitContent=Q.first)}},viewQuery:function(l,c){if(1&l&&e.Gf(e.Rgc,7),2&l){let O;e.iGM(O=e.CRH())&&(c._implicitContent=O.first)}},hostAttrs:["hidden",""],inputs:{disabled:[e.lbL.HasDecoratorInputTransform,"disabled","disabled",e.VuI],textLabel:[e.lbL.None,"label","textLabel"],ariaLabel:[e.lbL.None,"aria-label","ariaLabel"],ariaLabelledby:[e.lbL.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[e._Bn([{provide:kt,useExisting:d}]),e.Xq5,e.TTD,e.jDz],ngContentSelectors:B,decls:1,vars:0,template:function(l,c){1&l&&(e.F$t(),e.YNc(0,j,1,0,"ng-template"))},encapsulation:2})}}return d})();const ct="mdc-tab-indicator--active",At="mdc-tab-indicator--no-transition";class S{constructor(M){this._items=M}hide(){this._items.forEach(M=>M.deactivateInkBar())}alignToElement(M){const i=this._items.find(c=>c.elementRef.nativeElement===M),l=this._currentItem;if(i!==l&&(l?.deactivateInkBar(),i)){const c=l?.elementRef.nativeElement.getBoundingClientRect?.();i.activateInkBar(c),this._currentItem=i}}}function Y(d){return class extends d{constructor(...M){super(...M),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(M){const i=(0,H.Ig)(M);this._fitToContent!==i&&(this._fitToContent=i,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(M){const i=this.elementRef.nativeElement;if(!M||!i.getBoundingClientRect||!this._inkBarContentElement)return void i.classList.add(ct);const l=i.getBoundingClientRect(),c=M.width/l.width,O=M.left-l.left;i.classList.add(At),this._inkBarContentElement.style.setProperty("transform",`translateX(${O}px) scaleX(${c})`),i.getBoundingClientRect(),i.classList.remove(At),i.classList.add(ct),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(ct)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const M=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=M.createElement("span"),this._inkBarContentElement=M.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const Jt=Y(class{});let jt=(()=>{class d extends Jt{constructor(i){super(),this.elementRef=i,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(e.SBq))}}static{this.\u0275dir=e.lG2({type:d,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(l,c){2&l&&(e.uIk("aria-disabled",!!c.disabled),e.ekj("mat-mdc-tab-disabled",c.disabled))},inputs:{fitInkBarToContent:"fitInkBarToContent",disabled:[e.lbL.HasDecoratorInputTransform,"disabled","disabled",e.VuI]},standalone:!0,features:[e.Xq5,e.qOj]})}}return d})();const ne=(0,G.i$)({passive:!0});let ie=(()=>{class d{get selectedIndex(){return this._selectedIndex}set selectedIndex(i){const l=isNaN(i)?0:i;this._selectedIndex!=l&&(this._selectedIndexChanged=!0,this._selectedIndex=l,this._keyManager&&this._keyManager.updateActiveItem(l))}constructor(i,l,c,O,Q,Zt,Ot){this._elementRef=i,this._changeDetectorRef=l,this._viewportRuler=c,this._dir=O,this._ngZone=Q,this._platform=Zt,this._animationMode=Ot,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new et.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new et.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new e.vpe,this.indexFocused=new e.vpe,Q.runOutsideAngular(()=>{(0,a.R)(i.nativeElement,"mouseleave").pipe((0,P.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,a.R)(this._previousPaginator.nativeElement,"touchstart",ne).pipe((0,P.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,a.R)(this._nextPaginator.nativeElement,"touchstart",ne).pipe((0,P.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const i=this._dir?this._dir.change:(0,s.of)("ltr"),l=this._viewportRuler.change(150),c=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new F.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,p.q)(1)).subscribe(c),(0,J.T)(i,l,this._items.changes,this._itemsResized()).pipe((0,P.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),c()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(O=>{this.indexFocused.emit(O),this._setTabFocus(O)})}_itemsResized(){return"function"!=typeof ResizeObserver?V.E:this._items.changes.pipe((0,C.O)(this._items),(0,Z.w)(i=>new A.y(l=>this._ngZone.runOutsideAngular(()=>{const c=new ResizeObserver(O=>l.next(O));return i.forEach(O=>c.observe(O.elementRef.nativeElement)),()=>{c.disconnect()}}))),(0,w.T)(1),(0,U.h)(i=>i.some(l=>l.contentRect.width>0&&l.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(i){if(!(0,b.Vb)(i))switch(i.keyCode){case b.K5:case b.L_:if(this.focusIndex!==this.selectedIndex){const l=this._items.get(this.focusIndex);l&&!l.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(i))}break;default:this._keyManager.onKeydown(i)}}_onContentChanges(){const i=this._elementRef.nativeElement.textContent;i!==this._currentTextContent&&(this._currentTextContent=i||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(i){!this._isValidIndex(i)||this.focusIndex===i||!this._keyManager||this._keyManager.setActiveItem(i)}_isValidIndex(i){return!this._items||!!this._items.toArray()[i]}_setTabFocus(i){if(this._showPaginationControls&&this._scrollToLabel(i),this._items&&this._items.length){this._items.toArray()[i].focus();const l=this._tabListContainer.nativeElement;l.scrollLeft="ltr"==this._getLayoutDirection()?0:l.scrollWidth-l.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const i=this.scrollDistance,l="ltr"===this._getLayoutDirection()?-i:i;this._tabList.nativeElement.style.transform=`translateX(${Math.round(l)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(i){this._scrollTo(i)}_scrollHeader(i){return this._scrollTo(this._scrollDistance+("before"==i?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(i){this._stopInterval(),this._scrollHeader(i)}_scrollToLabel(i){if(this.disablePagination)return;const l=this._items?this._items.toArray()[i]:null;if(!l)return;const c=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:O,offsetWidth:Q}=l.elementRef.nativeElement;let Zt,Ot;"ltr"==this._getLayoutDirection()?(Zt=O,Ot=Zt+Q):(Ot=this._tabListInner.nativeElement.offsetWidth-O,Zt=Ot-Q);const Lt=this.scrollDistance,qt=this.scrollDistance+c;Zt<Lt?this.scrollDistance-=Lt-Zt:Ot>qt&&(this.scrollDistance+=Math.min(Ot-qt,Zt-Lt))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const i=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;i||(this.scrollDistance=0),i!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=i}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const i=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,l=i?i.elementRef.nativeElement:null;l?this._inkBar.alignToElement(l):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(i,l){l&&null!=l.button&&0!==l.button||(this._stopInterval(),(0,_.H)(650,100).pipe((0,P.R)((0,J.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:c,distance:O}=this._scrollHeader(i);(0===O||O>=c)&&this._stopInterval()}))}_scrollTo(i){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const l=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(l,i)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:l,distance:this._scrollDistance}}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(y.rL),e.Y36(t.Is,8),e.Y36(e.R0b),e.Y36(G.t4),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:d,inputs:{disablePagination:[e.lbL.HasDecoratorInputTransform,"disablePagination","disablePagination",e.VuI],selectedIndex:[e.lbL.HasDecoratorInputTransform,"selectedIndex","selectedIndex",e.Cb_]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[e.Xq5]})}}return d})(),se=(()=>{class d extends ie{constructor(i,l,c,O,Q,Zt,Ot){super(i,l,c,O,Q,Zt,Ot),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new S(this._items),super.ngAfterContentInit()}_itemSelected(i){i.preventDefault()}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(y.rL),e.Y36(t.Is,8),e.Y36(e.R0b),e.Y36(G.t4),e.Y36(e.QbO,8))}}static{this.\u0275cmp=e.Xpm({type:d,selectors:[["mat-tab-header"]],contentQueries:function(l,c,O){if(1&l&&e.Suo(O,jt,4),2&l){let Q;e.iGM(Q=e.CRH())&&(c._items=Q)}},viewQuery:function(l,c){if(1&l&&(e.Gf(st,7),e.Gf(bt,7),e.Gf(at,7),e.Gf(pt,5),e.Gf(X,5)),2&l){let O;e.iGM(O=e.CRH())&&(c._tabListContainer=O.first),e.iGM(O=e.CRH())&&(c._tabList=O.first),e.iGM(O=e.CRH())&&(c._tabListInner=O.first),e.iGM(O=e.CRH())&&(c._nextPaginator=O.first),e.iGM(O=e.CRH())&&(c._previousPaginator=O.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(l,c){2&l&&e.ekj("mat-mdc-tab-header-pagination-controls-enabled",c._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==c._getLayoutDirection())},inputs:{disableRipple:[e.lbL.HasDecoratorInputTransform,"disableRipple","disableRipple",e.VuI]},standalone:!0,features:[e.Xq5,e.qOj,e.jDz],ngContentSelectors:B,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(l,c){1&l&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return c._handlePaginatorClick("before")})("mousedown",function(Q){return c._handlePaginatorPress("before",Q)})("touchend",function(){return c._stopInterval()}),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.NdJ("keydown",function(Q){return c._handleKeydown(Q)}),e.TgZ(5,"div",5,6),e.NdJ("cdkObserveContent",function(){return c._onContentChanges()}),e.TgZ(7,"div",7,8),e.Hsn(9),e.qZA()()(),e.TgZ(10,"button",9,10),e.NdJ("mousedown",function(Q){return c._handlePaginatorPress("after",Q)})("click",function(){return c._handlePaginatorClick("after")})("touchend",function(){return c._stopInterval()}),e._UZ(12,"div",2),e.qZA()),2&l&&(e.ekj("mat-mdc-tab-header-pagination-disabled",c._disableScrollBefore),e.Q6J("matRippleDisabled",c._disableScrollBefore||c.disableRipple)("disabled",c._disableScrollBefore||null),e.xp6(3),e.ekj("_mat-animation-noopable","NoopAnimations"===c._animationMode),e.xp6(7),e.ekj("mat-mdc-tab-header-pagination-disabled",c._disableScrollAfter),e.Q6J("matRippleDisabled",c._disableScrollAfter||c.disableRipple)("disabled",c._disableScrollAfter||null))},dependencies:[r.wG,dt.wD],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return d})();const ht=new e.OlP("MAT_TABS_CONFIG"),Ut={translateTab:(0,N.X$)("translateTab",[(0,N.SB)("center, void, left-origin-center, right-origin-center",(0,N.oB)({transform:"none"})),(0,N.SB)("left",(0,N.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,N.SB)("right",(0,N.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,N.eR)("* => left, * => right, left => center, right => center",(0,N.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,N.eR)("void => left-origin-center",[(0,N.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,N.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,N.eR)("void => right-origin-center",[(0,N.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,N.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let T=(()=>{class d extends g.Pl{constructor(i,l,c,O){super(i,l,O),this._host=c,this._centeringSub=n.w0.EMPTY,this._leavingSub=n.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,C.O)(this._host._isCenterPosition(this._host._position))).subscribe(i=>{i&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36((0,e.Gpc)(()=>K)),e.Y36(ot.K0))}}static{this.\u0275dir=e.lG2({type:d,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[e.qOj]})}}return d})(),K=(()=>{class d{set position(i){this._positionIndex=i,this._computePositionAnimationState()}constructor(i,l,c){this._elementRef=i,this._dir=l,this._dirChangeSubscription=n.w0.EMPTY,this._translateTabComplete=new et.x,this._onCentering=new e.vpe,this._beforeCentering=new e.vpe,this._afterLeavingCenter=new e.vpe,this._onCentered=new e.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,l&&(this._dirChangeSubscription=l.change.subscribe(O=>{this._computePositionAnimationState(O),c.markForCheck()})),this._translateTabComplete.pipe((0,$.x)((O,Q)=>O.fromState===Q.fromState&&O.toState===Q.toState)).subscribe(O=>{this._isCenterPosition(O.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(O.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(i){const l=this._isCenterPosition(i.toState);this._beforeCentering.emit(l),l&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(i){return"center"==i||"left-origin-center"==i||"right-origin-center"==i}_computePositionAnimationState(i=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==i?"left":"right":this._positionIndex>0?"ltr"==i?"right":"left":"center"}_computePositionFromOrigin(i){const l=this._getLayoutDirection();return"ltr"==l&&i<=0||"rtl"==l&&i>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(e.SBq),e.Y36(t.Is,8),e.Y36(e.sBO))}}static{this.\u0275cmp=e.Xpm({type:d,selectors:[["mat-tab-body"]],viewQuery:function(l,c){if(1&l&&e.Gf(g.Pl,5),2&l){let O;e.iGM(O=e.CRH())&&(c._portalHost=O.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[e.lbL.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[e.jDz],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(l,c){1&l&&(e.TgZ(0,"div",0,1),e.NdJ("@translateTab.start",function(Q){return c._onTranslateTabStarted(Q)})("@translateTab.done",function(Q){return c._translateTabComplete.next(Q)}),e.YNc(2,ut,0,0,"ng-template",2),e.qZA()),2&l&&e.Q6J("@translateTab",e.WLB(3,Pt,c._position,e.VKq(1,Ct,c.animationDuration)))},dependencies:[T,y.PQ],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Ut.translateTab]}})}}return d})(),q=0,St=(()=>{class d{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(i){this._fitInkBarToContent=i,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(i){this._indexToSelect=isNaN(i)?null:i}get animationDuration(){return this._animationDuration}set animationDuration(i){const l=i+"";this._animationDuration=/^\d+$/.test(l)?i+"ms":l}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(i){this._contentTabIndex=isNaN(i)?null:i}get backgroundColor(){return this._backgroundColor}set backgroundColor(i){const l=this._elementRef.nativeElement.classList;l.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),i&&l.add("mat-tabs-with-background",`mat-background-${i}`),this._backgroundColor=i}constructor(i,l,c,O){this._elementRef=i,this._changeDetectorRef=l,this._animationMode=O,this._tabs=new e.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=n.w0.EMPTY,this._tabLabelSubscription=n.w0.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new e.vpe,this.focusChange=new e.vpe,this.animationDone=new e.vpe,this.selectedTabChange=new e.vpe(!0),this._isServer=!(0,e.f3M)(G.t4).isBrowser,this._groupId=q++,this.animationDuration=c&&c.animationDuration?c.animationDuration:"500ms",this.disablePagination=!(!c||null==c.disablePagination)&&c.disablePagination,this.dynamicHeight=!(!c||null==c.dynamicHeight)&&c.dynamicHeight,null!=c?.contentTabIndex&&(this.contentTabIndex=c.contentTabIndex),this.preserveContent=!!c?.preserveContent,this.fitInkBarToContent=!(!c||null==c.fitInkBarToContent)&&c.fitInkBarToContent,this.stretchTabs=!c||null==c.stretchTabs||c.stretchTabs}ngAfterContentChecked(){const i=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=i){const l=null==this._selectedIndex;if(!l){this.selectedTabChange.emit(this._createChangeEvent(i));const c=this._tabBodyWrapper.nativeElement;c.style.minHeight=c.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((c,O)=>c.isActive=O===i),l||(this.selectedIndexChange.emit(i),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((l,c)=>{l.position=c-i,null!=this._selectedIndex&&0==l.position&&!l.origin&&(l.origin=i-this._selectedIndex)}),this._selectedIndex!==i&&(this._selectedIndex=i,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const i=this._clampTabIndex(this._indexToSelect);if(i===this._selectedIndex){const l=this._tabs.toArray();let c;for(let O=0;O<l.length;O++)if(l[O].isActive){this._indexToSelect=this._selectedIndex=O,this._lastFocusedTabIndex=null,c=l[O];break}!c&&l[i]&&Promise.resolve().then(()=>{l[i].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(i))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,C.O)(this._allTabs)).subscribe(i=>{this._tabs.reset(i.filter(l=>l._closestTabGroup===this||!l._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(i){const l=this._tabHeader;l&&(l.focusIndex=i)}_focusChanged(i){this._lastFocusedTabIndex=i,this.focusChange.emit(this._createChangeEvent(i))}_createChangeEvent(i){const l=new zt;return l.index=i,this._tabs&&this._tabs.length&&(l.tab=this._tabs.toArray()[i]),l}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,J.T)(...this._tabs.map(i=>i._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(i){return Math.min(this._tabs.length-1,Math.max(i||0,0))}_getTabLabelId(i){return`mat-tab-label-${this._groupId}-${i}`}_getTabContentId(i){return`mat-tab-content-${this._groupId}-${i}`}_setTabBodyWrapperHeight(i){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const l=this._tabBodyWrapper.nativeElement;l.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(l.style.height=i+"px")}_removeTabBodyWrapperHeight(){const i=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=i.clientHeight,i.style.height="",this.animationDone.emit()}_handleClick(i,l,c){l.focusIndex=c,i.disabled||(this.selectedIndex=c)}_getTabIndex(i){return i===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(i,l){i&&"mouse"!==i&&"touch"!==i&&(this._tabHeader.focusIndex=l)}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ht,8),e.Y36(e.QbO,8))}}static{this.\u0275cmp=e.Xpm({type:d,selectors:[["mat-tab-group"]],contentQueries:function(l,c,O){if(1&l&&e.Suo(O,Qt,5),2&l){let Q;e.iGM(Q=e.CRH())&&(c._allTabs=Q)}},viewQuery:function(l,c){if(1&l&&(e.Gf(Rt,5),e.Gf(yt,5)),2&l){let O;e.iGM(O=e.CRH())&&(c._tabBodyWrapper=O.first),e.iGM(O=e.CRH())&&(c._tabHeader=O.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(l,c){2&l&&(e.Tol("mat-"+(c.color||"primary")),e.Udp("--mat-tab-animation-duration",c.animationDuration),e.ekj("mat-mdc-tab-group-dynamic-height",c.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===c.headerPosition)("mat-mdc-tab-group-stretch-tabs",c.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[e.lbL.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",e.VuI],stretchTabs:[e.lbL.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",e.VuI],dynamicHeight:[e.lbL.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",e.VuI],selectedIndex:[e.lbL.HasDecoratorInputTransform,"selectedIndex","selectedIndex",e.Cb_],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[e.lbL.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",e.Cb_],disablePagination:[e.lbL.HasDecoratorInputTransform,"disablePagination","disablePagination",e.VuI],disableRipple:[e.lbL.HasDecoratorInputTransform,"disableRipple","disableRipple",e.VuI],preserveContent:[e.lbL.HasDecoratorInputTransform,"preserveContent","preserveContent",e.VuI],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[e._Bn([{provide:Ht,useExisting:d}]),e.Xq5,e.jDz],ngContentSelectors:B,decls:9,vars:6,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(l,c){1&l&&(e.F$t(),e.TgZ(0,"mat-tab-header",0,1),e.NdJ("indexFocused",function(Q){return c._focusChanged(Q)})("selectFocusedIndex",function(Q){return c.selectedIndex=Q}),e.SjG(2,D,8,16,"div",12,e.x6l),e.qZA(),e.YNc(4,v,1,0),e.TgZ(5,"div",2,3),e.SjG(7,R,1,12,"mat-tab-body",13,e.x6l),e.qZA()),2&l&&(e.Q6J("selectedIndex",c.selectedIndex||0)("disableRipple",c.disableRipple)("disablePagination",c.disablePagination),e.xp6(2),e.wJu(c._tabs),e.xp6(2),e.um2(4,c._isServer?4:-1),e.xp6(),e.ekj("_mat-animation-noopable","NoopAnimations"===c._animationMode),e.xp6(2),e.wJu(c._tabs))},dependencies:[se,jt,F.kH,ot.mk,r.wG,g.Pl,K],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return d})();class zt{}let Xt=0,te=(()=>{class d extends ie{get fitInkBarToContent(){return this._fitInkBarToContent.value}set fitInkBarToContent(i){this._fitInkBarToContent.next(i),this._changeDetectorRef.markForCheck()}get animationDuration(){return this._animationDuration}set animationDuration(i){const l=i+"";this._animationDuration=/^\d+$/.test(l)?i+"ms":l}get backgroundColor(){return this._backgroundColor}set backgroundColor(i){const l=this._elementRef.nativeElement.classList;l.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),i&&l.add("mat-tabs-with-background",`mat-background-${i}`),this._backgroundColor=i}constructor(i,l,c,O,Q,Zt,Ot,Lt){super(i,O,Q,l,c,Zt,Ot),this._fitInkBarToContent=new I.X(!1),this.stretchTabs=!0,this.disableRipple=!1,this.color="primary",this.disablePagination=!(!Lt||null==Lt.disablePagination)&&Lt.disablePagination,this.fitInkBarToContent=!(!Lt||null==Lt.fitInkBarToContent)&&Lt.fitInkBarToContent,this.stretchTabs=!Lt||null==Lt.stretchTabs||Lt.stretchTabs}_itemSelected(){}ngAfterContentInit(){this._inkBar=new S(this._items),this._items.changes.pipe((0,C.O)(null),(0,P.R)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}ngAfterViewInit(){super.ngAfterViewInit()}updateActiveLink(){if(!this._items)return;const i=this._items.toArray();for(let l=0;l<i.length;l++)if(i[l].active)return this.selectedIndex=l,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=i[l].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(e.SBq),e.Y36(t.Is,8),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(y.rL),e.Y36(G.t4),e.Y36(e.QbO,8),e.Y36(ht,8))}}static{this.\u0275cmp=e.Xpm({type:d,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(l,c,O){if(1&l&&e.Suo(O,ce,5),2&l){let Q;e.iGM(Q=e.CRH())&&(c._items=Q)}},viewQuery:function(l,c){if(1&l&&(e.Gf(st,7),e.Gf(bt,7),e.Gf(at,7),e.Gf(pt,5),e.Gf(X,5)),2&l){let O;e.iGM(O=e.CRH())&&(c._tabListContainer=O.first),e.iGM(O=e.CRH())&&(c._tabList=O.first),e.iGM(O=e.CRH())&&(c._tabListInner=O.first),e.iGM(O=e.CRH())&&(c._nextPaginator=O.first),e.iGM(O=e.CRH())&&(c._previousPaginator=O.first)}},hostAttrs:[1,"mat-mdc-tab-nav-bar","mat-mdc-tab-header"],hostVars:17,hostBindings:function(l,c){2&l&&(e.uIk("role",c._getRole()),e.Udp("--mat-tab-animation-duration",c.animationDuration),e.ekj("mat-mdc-tab-header-pagination-controls-enabled",c._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==c._getLayoutDirection())("mat-mdc-tab-nav-bar-stretch-tabs",c.stretchTabs)("mat-primary","warn"!==c.color&&"accent"!==c.color)("mat-accent","accent"===c.color)("mat-warn","warn"===c.color)("_mat-animation-noopable","NoopAnimations"===c._animationMode))},inputs:{fitInkBarToContent:[e.lbL.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",e.VuI],stretchTabs:[e.lbL.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",e.VuI],animationDuration:"animationDuration",backgroundColor:"backgroundColor",disableRipple:[e.lbL.HasDecoratorInputTransform,"disableRipple","disableRipple",e.VuI],color:"color",tabPanel:"tabPanel"},exportAs:["matTabNavBar","matTabNav"],standalone:!0,features:[e.Xq5,e.qOj,e.jDz],attrs:m,ngContentSelectors:B,decls:13,vars:8,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(l,c){1&l&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return c._handlePaginatorClick("before")})("mousedown",function(Q){return c._handlePaginatorPress("before",Q)})("touchend",function(){return c._stopInterval()}),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.NdJ("keydown",function(Q){return c._handleKeydown(Q)}),e.TgZ(5,"div",5,6),e.NdJ("cdkObserveContent",function(){return c._onContentChanges()}),e.TgZ(7,"div",7,8),e.Hsn(9),e.qZA()()(),e.TgZ(10,"button",9,10),e.NdJ("mousedown",function(Q){return c._handlePaginatorPress("after",Q)})("click",function(){return c._handlePaginatorClick("after")})("touchend",function(){return c._stopInterval()}),e._UZ(12,"div",2),e.qZA()),2&l&&(e.ekj("mat-mdc-tab-header-pagination-disabled",c._disableScrollBefore),e.Q6J("matRippleDisabled",c._disableScrollBefore||c.disableRipple)("disabled",c._disableScrollBefore||null),e.xp6(10),e.ekj("mat-mdc-tab-header-pagination-disabled",c._disableScrollAfter),e.Q6J("matRippleDisabled",c._disableScrollAfter||c.disableRipple)("disabled",c._disableScrollAfter||null))},dependencies:[r.wG,dt.wD],styles:[".mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}"],encapsulation:2})}}return d})();const le=Y(class{});let ce=(()=>{class d extends le{get active(){return this._isActive}set active(i){i!==this._isActive&&(this._isActive=i,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}constructor(i,l,c,O,Q,Zt){super(),this._tabNavBar=i,this.elementRef=l,this._focusMonitor=Q,this._destroyed=new et.x,this._isActive=!1,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.id="mat-tab-link-"+Xt++,this.rippleConfig=c||{},this.tabIndex=parseInt(O)||0,"NoopAnimations"===Zt&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0}),i._fitInkBarToContent.pipe((0,P.R)(this._destroyed)).subscribe(Ot=>{this.fitInkBarToContent=Ot})}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),super.ngOnDestroy(),this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(i){(i.keyCode===b.L_||i.keyCode===b.K5)&&(this.disabled?i.preventDefault():this._tabNavBar.tabPanel&&this.elementRef.nativeElement.click())}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.disabled?-1:this.tabIndex}static{this.\u0275fac=function(l){return new(l||d)(e.Y36(te),e.Y36(e.SBq),e.Y36(r.Y2,8),e.$8M("tabindex"),e.Y36(F.tE),e.Y36(e.QbO,8))}}static{this.\u0275cmp=e.Xpm({type:d,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mdc-tab","mat-mdc-tab-link","mat-mdc-focus-indicator"],hostVars:11,hostBindings:function(l,c){1&l&&e.NdJ("focus",function(){return c._handleFocus()})("keydown",function(Q){return c._handleKeydown(Q)}),2&l&&(e.uIk("aria-controls",c._getAriaControls())("aria-current",c._getAriaCurrent())("aria-disabled",c.disabled)("aria-selected",c._getAriaSelected())("id",c.id)("tabIndex",c._getTabIndex())("role",c._getRole()),e.ekj("mat-mdc-tab-disabled",c.disabled)("mdc-tab--active",c.active))},inputs:{active:[e.lbL.HasDecoratorInputTransform,"active","active",e.VuI],disabled:[e.lbL.HasDecoratorInputTransform,"disabled","disabled",e.VuI],disableRipple:[e.lbL.HasDecoratorInputTransform,"disableRipple","disableRipple",e.VuI],tabIndex:[e.lbL.HasDecoratorInputTransform,"tabIndex","tabIndex",i=>null==i?0:(0,e.Cb_)(i)],id:"id"},exportAs:["matTabLink"],standalone:!0,features:[e.Xq5,e.qOj,e.jDz],attrs:E,ngContentSelectors:B,decls:5,vars:2,consts:[[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"]],template:function(l,c){1&l&&(e.F$t(),e._UZ(0,"span",0)(1,"div",1),e.TgZ(2,"span",2)(3,"span",3),e.Hsn(4),e.qZA()()),2&l&&(e.xp6(),e.Q6J("matRippleTrigger",c.elementRef.nativeElement)("matRippleDisabled",c.rippleDisabled))},dependencies:[r.wG],styles:['.mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab-link:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab-link:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link.mdc-tab{flex-grow:0}.mat-mdc-tab-link:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab-link:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab-link.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab-link.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab-link.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab-link .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}'],encapsulation:2,changeDetection:0})}}return d})(),nt=(()=>{class d{constructor(){this.id="mat-tab-nav-panel-"+Xt++}static{this.\u0275fac=function(l){return new(l||d)}}static{this.\u0275cmp=e.Xpm({type:d,selectors:[["mat-tab-nav-panel"]],hostAttrs:["role","tabpanel",1,"mat-mdc-tab-nav-panel"],hostVars:2,hostBindings:function(l,c){2&l&&e.uIk("aria-labelledby",c._activeTabId)("id",c.id)},inputs:{id:"id"},exportAs:["matTabNavPanel"],standalone:!0,features:[e.jDz],ngContentSelectors:B,decls:1,vars:0,template:function(l,c){1&l&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0})}}return d})(),ft=(()=>{class d{static{this.\u0275fac=function(l){return new(l||d)}}static{this.\u0275mod=e.oAB({type:d})}static{this.\u0275inj=e.cJS({imports:[r.BQ,r.BQ]})}}return d})()},373:(wt,rt,o)=>{o.d(rt,{Z:()=>I});const et=function e(y){return function(G,t,H){for(var F=-1,b=Object(G),P=H(G),p=P.length;p--;){var C=P[y?p:++F];if(!1===t(b[C],C,b))break}return G}}();var a=o(0);var V=o(6247);const I=function A(y,G){return function(t,H){if(null==t)return t;if(!(0,V.Z)(t))return y(t,H);for(var F=t.length,b=G?F:-1,P=Object(t);(G?b--:++b<F)&&!1!==H(P[b],b,P););return t}}(function s(y,G){return y&&et(y,G,a.Z)})},2159:(wt,rt,o)=>{o.d(rt,{Z:()=>g});var e=o(7106);const g=function r(et,a,s){for(var J=-1,V=et.length;++J<V;){var A=et[J],_=a(A);if(null!=_&&(void 0===n?_==_&&!(0,e.Z)(_):s(_,n)))var n=_,I=A}return I}},4957:(wt,rt,o)=>{o.d(rt,{Z:()=>r});const r=function e(g,et){return g>et}},9580:(wt,rt,o)=>{o.d(rt,{Z:()=>P});var e=o(2720),r=o(4818),g=o(4746),et=o(373),a=o(6247);var _=o(8733),n=o(7106);const y=function I(p,C){if(p!==C){var Z=void 0!==p,w=null===p,U=p==p,$=(0,n.Z)(p),dt=void 0!==C,ot=null===C,N=C==C,j=(0,n.Z)(C);if(!ot&&!j&&!$&&p>C||$&&dt&&N&&!ot&&!j||w&&dt&&N||!Z&&N||!U)return 1;if(!w&&!$&&!j&&p<C||j&&Z&&U&&!w&&!$||ot&&Z&&U||!dt&&U||!N)return-1}return 0};var H=o(1974),F=o(9977);const P=function b(p,C,Z){C=C.length?(0,e.Z)(C,function($){return(0,F.Z)($)?function(dt){return(0,r.Z)(dt,1===$.length?$[0]:$)}:$}):[H.Z];var w=-1;C=(0,e.Z)(C,(0,_.Z)(g.Z));var U=function s(p,C){var Z=-1,w=(0,a.Z)(p)?Array(p.length):[];return(0,et.Z)(p,function(U,$,dt){w[++Z]=C(U,$,dt)}),w}(p,function($,dt,ot){return{criteria:(0,e.Z)(C,function(j){return j($)}),index:++w,value:$}});return function V(p,C){var Z=p.length;for(p.sort(C);Z--;)p[Z]=p[Z].value;return p}(U,function($,dt){return function G(p,C,Z){for(var w=-1,U=p.criteria,$=C.criteria,dt=U.length,ot=Z.length;++w<dt;){var N=y(U[w],$[w]);if(N)return w>=ot?N:N*("desc"==Z[w]?-1:1)}return p.index-C.index}($,dt,Z)})}},1799:(wt,rt,o)=>{o.d(rt,{Z:()=>s});var e=o(8418),r=o(6247),g=o(9229),et=o(5829);const s=function a(J,V,A){if(!(0,et.Z)(A))return!1;var _=typeof V;return!!("number"==_?(0,r.Z)(A)&&(0,g.Z)(V,A.length):"string"==_&&V in A)&&(0,e.Z)(A[V],J)}},5601:(wt,rt,o)=>{o.d(rt,{Z:()=>G});var e=o(6041);const g=function r(t,H,F,b){for(var P=-1,p=null==t?0:t.length;++P<p;){var C=t[P];H(b,C,F(C),t)}return b};var et=o(373);const s=function a(t,H,F,b){return(0,et.Z)(t,function(P,p,C){H(b,P,F(P),C)}),b};var J=o(4746),V=o(9977),I=Object.prototype.hasOwnProperty;const G=function A(t,H){return function(F,b){var P=(0,V.Z)(F)?g:s,p=H?H():{};return P(F,t,(0,J.Z)(b,2),p)}}(function(t,H,F){I.call(t,F)?t[F].push(H):(0,e.Z)(t,F,[H])})},5684:(wt,rt,o)=>{o.d(rt,{Z:()=>et});var e=o(9580),r=o(9977);const et=function g(a,s,J,V){return null==a?[]:((0,r.Z)(s)||(s=null==s?[]:[s]),(0,r.Z)(J=V?void 0:J)||(J=null==J?[]:[J]),(0,e.Z)(a,s,J))}},9768:(wt,rt,o)=>{o.d(rt,{Z:()=>_});var e=Math.ceil,r=Math.max;var a=o(1799),s=o(231);const _=function J(n){return function(I,y,G){return G&&"number"!=typeof G&&(0,a.Z)(I,y,G)&&(y=G=void 0),I=(0,s.Z)(I),void 0===y?(y=I,I=0):y=(0,s.Z)(y),function g(n,I,y,G){for(var t=-1,H=r(e((I-n)/(y||1)),0),F=Array(H);H--;)F[G?H:++t]=n,n+=y;return F}(I,y,G=void 0===G?I<y?1:-1:(0,s.Z)(G),n)}}()},6708:(wt,rt,o)=>{o.d(rt,{Z:()=>s});var e=o(4583),r=o(9580),g=o(6943),et=o(1799);const s=(0,g.Z)(function(J,V){if(null==J)return[];var A=V.length;return A>1&&(0,et.Z)(J,V[0],V[1])?V=[]:A>2&&(0,et.Z)(V[0],V[1],V[2])&&(V=[V[0]]),(0,r.Z)(J,(0,e.Z)(V,1),[])})},231:(wt,rt,o)=>{o.d(rt,{Z:()=>P});var e=/\s/;var et=/^\s+/;const s=function a(p){return p&&p.slice(0,function r(p){for(var C=p.length;C--&&e.test(p.charAt(C)););return C}(p)+1).replace(et,"")};var J=o(5829),V=o(7106),_=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,I=/^0o[0-7]+$/i,y=parseInt;var H=1/0;const P=function b(p){return p?(p=function G(p){if("number"==typeof p)return p;if((0,V.Z)(p))return NaN;if((0,J.Z)(p)){var C="function"==typeof p.valueOf?p.valueOf():p;p=(0,J.Z)(C)?C+"":C}if("string"!=typeof p)return 0===p?p:+p;p=s(p);var Z=n.test(p);return Z||I.test(p)?y(p.slice(2),Z?2:8):_.test(p)?NaN:+p}(p))===H||p===-H?17976931348623157e292*(p<0?-1:1):p==p?p:0:0===p?p:0}}}]);
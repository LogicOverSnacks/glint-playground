"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[599],{2744:(St,mt,o)=>{o.d(mt,{S:()=>e});var s=o(5879);const e=v=>(()=>{class i extends v{constructor(){super(...arguments),this.disableTransitions=!0}ngOnInit(){super.ngOnInit&&super.ngOnInit(),setTimeout(()=>{this.disableTransitions=!1},0)}static{this.\u0275fac=function(){let Y;return function(w){return(Y||(Y=s.n5z(i)))(w||i)}}()}static{this.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac})}}return i})()},1361:(St,mt,o)=>{o.d(mt,{P:()=>a});var s=o(8645),e=o(927),v=o(8753),D=o(9773),i=o(5879);const a=Y=>(()=>{class w extends Y{ngAfterViewInit(){super.ngAfterViewInit&&super.ngAfterViewInit();const n=this.viewports.map(y=>{const R=new s.x,at=new ResizeObserver(()=>R.next());return R.pipe((0,v.p)(20,e.Z,{leading:!0,trailing:!0}),(0,D.R)(this.destroyed$)).subscribe(()=>{y.checkViewportSize()}),at.observe(y.elementRef.nativeElement),at});this.destroyed$.subscribe(()=>{n.forEach(y=>y.disconnect())})}static{this.\u0275fac=function(){let n;return function(R){return(n||(n=i.n5z(w)))(R||w)}}()}static{this.\u0275prov=i.Yz7({token:w,factory:w.\u0275fac})}}return w})()},4551:(St,mt,o)=>{o.d(mt,{j:()=>a});var s=o(5619),e=o(5879),v=o(6814),D=o(2596);function i(Y,W){if(1&Y&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"async"),e.qZA()),2&Y){const w=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,w.leftPath))}}let a=(()=>{class Y{constructor(){this.leftPath=new s.X(""),this.rightPath=new s.X("")}onCopy(w){w.preventDefault();const _=document.getSelection();_&&w.clipboardData?.setData("text/plain",_.toString().replace("\n",""))}ngOnChanges(w){if(w.path){const _=/^(.*)(\/[^\/]+)$/.exec(w.path.currentValue);_?(this.leftPath.next(_[1]??""),this.rightPath.next(_[2]??"")):(this.leftPath.next(""),this.rightPath.next(w.path.currentValue))}}static{this.\u0275fac=function(_){return new(_||Y)}}static{this.\u0275cmp=e.Xpm({type:Y,selectors:[["app-condensed-path"]],hostBindings:function(_,n){1&_&&e.NdJ("copy",function(R){return n.onCopy(R)})},inputs:{path:"path"},features:[e.TTD],decls:6,vars:7,consts:[[1,"container",3,"matTooltip"],["class","left",4,"ngIf"],[1,"right"],[1,"left"]],template:function(_,n){1&_&&(e.TgZ(0,"div",0),e.YNc(1,i,3,3,"div",1),e.ALo(2,"async"),e.TgZ(3,"div",2),e._uU(4),e.ALo(5,"async"),e.qZA()()),2&_&&(e.Q6J("matTooltip",n.path||""),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,n.leftPath)),e.xp6(3),e.Oqu(e.lcZ(5,5,n.rightPath)))},dependencies:[v.O5,D.gM,v.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.left[_ngcontent-%COMP%]{min-width:15px}.right[_ngcontent-%COMP%]{flex:1 0 auto;max-width:100%}.left[_ngcontent-%COMP%] + .right[_ngcontent-%COMP%]{max-width:calc(100% - 15px)}"],changeDetection:0})}}return Y})()},680:(St,mt,o)=>{o.d(mt,{T:()=>m});var s=o(5879),e=o(6223),v=o(5961),D=o(2572),i=o(3620),a=o(2181),Y=o(7921),W=o(9773),w=o(4573),_=o(7910),n=o(5248),y=o(6814),R=o(2296),at=o(4170),t=o(617),ct=o(4516),F=o(2596),Q=o(7484);const I=["findControlInput"];function r(b,C){if(1&b&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&b){const x=s.oxw();s.xp6(1),s.Oqu(x.findControl.getError("regex"))}}let m=(()=>{class b extends((0,w.j)(_.A)){constructor(){super(...arguments),this.initial=null,this.searched=new s.vpe,this.findControl=new e.NI("",{nonNullable:!0,validators:x=>{if(this.useRegularExpressionControl?.value)try{new RegExp(x.value,"g")}catch(E){return{regex:E.message}}return null}}),this.matchCaseControl=new e.NI(!1,{nonNullable:!0}),this.useRegularExpressionControl=new e.NI(!1,{nonNullable:!0})}hostKeyDown(x){(n.V?x.metaKey:x.ctrlKey)&&("f"===x.key||"F"===x.key)&&(x.preventDefault(),this.findControlInput.nativeElement.focus({preventScroll:!0}))}ngOnInit(){this.initial&&(this.findControl.setValue(this.initial.text),this.matchCaseControl.setValue(this.initial.matchCase),this.useRegularExpressionControl.setValue(this.initial.useRegularExpression)),(0,D.a)([this.findControl.valueChanges.pipe((0,i.b)(200),(0,a.h)(()=>this.findControl.valid),(0,Y.O)(this.findControl.value)),this.matchCaseControl.valueChanges.pipe((0,Y.O)(this.matchCaseControl.value)),this.useRegularExpressionControl.valueChanges.pipe((0,Y.O)(this.useRegularExpressionControl.value))]).pipe((0,W.R)(this.destroyed$)).subscribe(([x,E,X])=>{if(this.findControl.updateValueAndValidity({emitEvent:!1}),x)try{const dt=new RegExp(X?x:(0,v.Z)(x),E?"g":"ig");this.searched.next(dt)}catch{}else this.searched.next(null)})}static{this.\u0275fac=function(){let x;return function(X){return(x||(x=s.n5z(b)))(X||b)}}()}static{this.\u0275cmp=s.Xpm({type:b,selectors:[["app-find-control"]],viewQuery:function(E,X){if(1&E&&s.Gf(I,5,s.SBq),2&E){let dt;s.iGM(dt=s.CRH())&&(X.findControlInput=dt.first)}},hostBindings:function(E,X){1&E&&s.NdJ("keydown",function(et){return X.hostKeyDown(et)},!1,s.evT)},inputs:{initial:"initial"},outputs:{searched:"searched"},features:[s.qOj],decls:19,vars:18,consts:[[1,"find-control"],["matPrefix",""],["type","text","matInput","",3,"formControl"],["findControlInput",""],["type","button","matSuffix","","mat-button","","disableRipple","",3,"matTooltip","click"],["svgIcon","format-letter-case"],["svgIcon","regex"],["type","button","matSuffix","","mat-button","",3,"matTooltip","click"],[4,"ngIf"]],template:function(E,X){1&E&&(s.TgZ(0,"mat-form-field",0)(1,"mat-label"),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"mat-icon",1),s._uU(5,"search"),s.qZA(),s._UZ(6,"input",2,3),s.TgZ(8,"button",4),s.NdJ("click",function(){return X.matchCaseControl.setValue(!X.matchCaseControl.value)}),s.ALo(9,"translate"),s._UZ(10,"mat-icon",5),s.qZA(),s.TgZ(11,"button",4),s.NdJ("click",function(){return X.useRegularExpressionControl.setValue(!X.useRegularExpressionControl.value)}),s.ALo(12,"translate"),s._UZ(13,"mat-icon",6),s.qZA(),s.TgZ(14,"button",7),s.NdJ("click",function(){return X.findControl.setValue("")}),s.ALo(15,"translate"),s.TgZ(16,"mat-icon"),s._uU(17,"close"),s.qZA()(),s.YNc(18,r,2,1,"mat-error",8),s.qZA()),2&E&&(s.xp6(2),s.Oqu(s.lcZ(3,10,"Find")),s.xp6(4),s.Q6J("formControl",X.findControl),s.xp6(2),s.ekj("selected",X.matchCaseControl.value),s.Q6J("matTooltip",s.lcZ(9,12,"Match case")),s.xp6(3),s.ekj("selected",X.useRegularExpressionControl.value),s.Q6J("matTooltip",s.lcZ(12,14,"Use regular expression")),s.xp6(3),s.Q6J("matTooltip",s.lcZ(15,16,"Clear")),s.xp6(4),s.Q6J("ngIf",X.findControl.hasError("regex")))},dependencies:[y.O5,e.Fj,e.JJ,e.oH,R.lW,at.KE,at.hX,at.TO,at.qo,at.R9,t.Hw,ct.Nt,F.gM,Q.X],styles:[".find-control[_ngcontent-%COMP%]{min-width:240px;margin-top:5px;width:100%}.find-control[_ngcontent-%COMP%]  .mat-mdc-form-field-icon-suffix{display:flex;align-items:center;gap:4px;margin-right:4px}.find-control[_ngcontent-%COMP%]  .mdc-notched-outline__leading, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__notch, .find-control[_ngcontent-%COMP%]  .mdc-notched-outline__trailing{border:none}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:2px solid transparent;min-width:36px}.find-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:18px;width:18px;height:18px}.dark-theme[_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#78909c}.light-theme[_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .find-control[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{border-color:#78909c}"],changeDetection:0})}}return b})()},8517:(St,mt,o)=>{o.d(mt,{$:()=>e});var s=o(5879);let e=(()=>{class v{constructor(i){this.template=i}static{this.\u0275fac=function(a){return new(a||v)(s.Y36(s.Rgc))}}static{this.\u0275dir=s.lG2({type:v,selectors:[["","appVirtualTreeEmptyNode",""]]})}}return v})()},510:(St,mt,o)=>{o.d(mt,{I:()=>e});var s=o(5879);let e=(()=>{class v{constructor(i){this.template=i}static{this.\u0275fac=function(a){return new(a||v)(s.Y36(s.Rgc))}}static{this.\u0275dir=s.lG2({type:v,selectors:[["","appVirtualTreeLeafNode",""]]})}}return v})()},3999:(St,mt,o)=>{o.d(mt,{J:()=>e});var s=o(5879);let e=(()=>{class v{constructor(i){this.template=i}static{this.\u0275fac=function(a){return new(a||v)(s.Y36(s.Rgc))}}static{this.\u0275dir=s.lG2({type:v,selectors:[["","appVirtualTreeNode",""]]})}}return v})()},9687:(St,mt,o)=>{o.d(mt,{L:()=>ct});var s=o(6825),e=o(7368),v=o(5879),D=o(7398),i=o(4573),a=o(7910),Y=o(2744),W=o(1361),w=o(8517),_=o(510),n=o(3999),y=o(6814);function R(F,Q){1&F&&v.GkF(0)}const at=function(F){return{$implicit:F}};function t(F,Q){if(1&F&&(v.TgZ(0,"li"),v.YNc(1,R,1,0,"ng-container",2),v.qZA()),2&F){const I=Q.$implicit,r=v.oxw();v.Udp("padding-left",10*I.depth,"px"),v.xp6(1),v.Q6J("ngTemplateOutlet",r.isEmpty(I)?r.emptyNodeDirective.template:r.isLeaf(I)?r.leafNodeDirective.template:r.nodeDirective.template)("ngTemplateOutletContext",v.VKq(4,at,I))}}let ct=(()=>{class F extends((0,i.j)(a.A,Y.S,W.P)){constructor(){super(...arguments),this.keyPressed=new v.vpe,this.isEmpty=I=>!I.id,this.isLeaf=I=>!I.children,this.expandVisibleNodes=I=>this.isLeaf(I)||!I.expanded?[I]:[I,...I.children.length>0?I.children.flatMap(this.expandVisibleNodes):this.emptyNodeDirective?[{depth:1}]:[]]}ngOnInit(){super.ngOnInit(),this.visibleNodes=this.tree.pipe((0,D.U)(I=>I.reduce((r,m)=>[...r,...this.expandVisibleNodes(m)],[])))}trackById(I,r){return r.id??null}static{this.\u0275fac=function(){let I;return function(m){return(I||(I=v.n5z(F)))(m||F)}}()}static{this.\u0275cmp=v.Xpm({type:F,selectors:[["app-virtual-tree"]],contentQueries:function(r,m,b){if(1&r&&(v.Suo(b,n.J,5),v.Suo(b,_.I,5),v.Suo(b,w.$,5)),2&r){let C;v.iGM(C=v.CRH())&&(m.nodeDirective=C.first),v.iGM(C=v.CRH())&&(m.leafNodeDirective=C.first),v.iGM(C=v.CRH())&&(m.emptyNodeDirective=C.first)}},viewQuery:function(r,m){if(1&r&&v.Gf(e.N7,5),2&r){let b;v.iGM(b=v.CRH())&&(m.viewports=b)}},inputs:{tree:"tree",itemSize:"itemSize"},outputs:{keyPressed:"keyPressed"},features:[v.qOj],decls:5,vars:9,consts:[["tabindex","0",3,"itemSize","keydown"],[3,"padding-left",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,m){1&r&&(v.TgZ(0,"cdk-virtual-scroll-viewport",0),v.NdJ("keydown",function(C){return m.keyPressed.next(C)}),v.TgZ(1,"ul"),v.ALo(2,"async"),v.YNc(3,t,2,6,"li",1),v.ALo(4,"async"),v.qZA()()),2&r&&(v.Q6J("itemSize",m.itemSize)("@null",void 0),v.xp6(1),v.Q6J("@slide",v.lcZ(2,5,m.visibleNodes)),v.xp6(2),v.Q6J("cdkVirtualForOf",v.lcZ(4,7,m.visibleNodes))("cdkVirtualForTrackBy",m.trackById))},dependencies:[e.xd,e.x0,e.N7,y.tP,y.Ov],styles:["cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{outline:none}cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{transition:height 225ms ease-in-out}li[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}"],data:{animation:[(0,s.X$)("null",[(0,s.eR)(":enter",[]),(0,s.eR)(":leave",[])]),(0,s.X$)("slide",[(0,s.eR)("* => *",[(0,s.ru)([(0,s.IO)("li:enter",[(0,s.oB)({height:0}),(0,s.jt)("225ms ease-in-out",(0,s.oB)({height:"*"}))],{optional:!0}),(0,s.IO)("li:leave",[(0,s.oB)({height:"*"}),(0,s.jt)("225ms ease-in-out",(0,s.oB)({height:0}))],{optional:!0})])])])]},changeDetection:0})}}return F})()},2415:(St,mt,o)=>{o.d(mt,{v:()=>W});var s=o(9773),e=o(4573),v=o(7910),D=o(8873),i=o(5879),a=o(6814),Y=o(4666);let W=(()=>{class w extends((0,e.j)(v.A)){constructor(n,y,R){super(),this.datePipe=y,this.language="en",R.select(D.aB.language).pipe((0,s.R)(this.destroyed$)).subscribe(at=>{this.language=at,this.input&&(this.output=this.translate(at,this.input.date,this.input.format)),n.markForCheck()})}transform(n,y){return(!this.input||!this.output||this.input.date!==n||this.input.format!==y)&&(this.input={date:n,format:y},this.output=this.translate(this.language,n,y)),this.output}translate(n,y,R){let at;switch(n){case"en":at="en-GB","monthYear"===R&&(R="MMM yyyy");break;case"zh":at="zh-CN","monthYear"===R&&(R="yyyy\u5e74M\u6708")}return this.datePipe.transform(y,R,void 0,at)}static{this.\u0275fac=function(y){return new(y||w)(i.Y36(i.sBO,16),i.Y36(a.uU,16),i.Y36(Y.yh,16))}}static{this.\u0275pipe=i.Yjl({name:"translateDate",type:w,pure:!1})}}return w})()},8599:(St,mt,o)=>{o.r(mt),o.d(mt,{StandardLayoutModule:()=>Qe});var s=o(9038),e=o(8525),v=o(1345),D=o(6016),i=o(4630),a=o(7700),Y=o(4170),W=o(4516),w=o(7988),_=o(5940),n=o(4104),y=o(1264),R=o(8700),at=o(535),t=o(5879);let ct=(()=>{class u{static{this.\u0275fac=function(f){return new(f||u)}}static{this.\u0275mod=t.oAB({type:u})}static{this.\u0275inj=t.cJS({imports:[i.Bb,a.Is,Y.lN,W.c,w.Tx,_.Cq,e.LD,n.Nh,v.I,y.$,R.m,at.Z]})}}return u})();var F=o(2860),Q=o(3897),I=o(6223),r=o(5619),m=o(2572),b=o(7921),C=o(8753),x=o(7398),E=o(2181),X=o(9397),dt=o(4664),et=o(2096),ot=o(6306),G=o(8504),Pt=o(9773),It=o(4716),tt=o(3153),ft=o(4573),rt=o(7910),bt=o(751),Mt=o(4820),xt=o(2401),Vt=o(709),Lt=o(4666),_t=o(2718),Rt=o(7584),T=o(7183),k=o(5033),O=o(6814),L=o(2296),lt=o(617),Ct=o(2596),z=o(6825),At=o(7368),g=o(1361),V=o(4214),it=o(1314),j=o(1102),wt=o(6275),Z=o(9193),H=o(3588),ht=o(3235),kt=o(1135),Ft=o(7484);function jt(u,Et){if(1&u){const l=t.EpF();t.TgZ(0,"li",10),t.NdJ("click",function(){const $=t.CHM(l).$implicit,N=t.oxw();return t.KtG(N.selectedCommitDetail.next($))}),t.ALo(1,"async"),t._UZ(2,"app-avatar",11),t.TgZ(3,"span",12),t._uU(4),t.qZA()()}if(2&u){const l=Et.$implicit,f=t.oxw(),p=t.MAs(12);let $;t.ekj("selected",l.id===(null==($=t.lcZ(1,9,f.selectedCommitDetail))?null:$.id)),t.Q6J("appContextMenu",p)("appContextMenuData",l),t.xp6(2),t.Q6J("matTooltip",l.authorName+" ("+l.authorEmail+")")("remotes",f.remotes)("email",l.authorEmail),t.xp6(1),t.Q6J("matTooltip",l.message),t.xp6(1),t.hij(" ",f.getCommitSummary(l)," ")}}function zt(u,Et){if(1&u){const l=t.EpF();t.TgZ(0,"app-diff-view",13),t.NdJ("closed",function(){t.CHM(l);const p=t.oxw();return t.KtG(p.selectedPatch.next(null))}),t.qZA()}if(2&u){const l=t.oxw();t.Q6J("@slideLeft",void 0)("patch",l.selectedPatch)}}function ce(u,Et){if(1&u){const l=t.EpF();t.TgZ(0,"app-commit-detail-view",14),t.NdJ("patchChanged",function(p){t.CHM(l);const $=t.oxw();return t.KtG($.patchChanged(p))}),t.qZA()}if(2&u){const l=t.oxw();t.Q6J("commit",l.selectedCommitDetail)("selectedFile",l.selectedFile)}}function he(u,Et){if(1&u){const l=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t._uU(2),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){const $=t.CHM(l).data,N=t.oxw();return t.KtG(N.copyToClipboard($.commitId))}),t.TgZ(4,"mat-icon"),t._uU(5,"content_copy"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"button",17),t.NdJ("click",function(){const $=t.CHM(l).data,N=t.oxw();return t.KtG(N.jumpToCommit($.commitId))}),t.TgZ(10,"mat-icon"),t._uU(11,"launch"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"translate"),t.qZA()()()}if(2&u){const l=Et.data,f=t.oxw();t.xp6(1),t.Q6J("matTooltip",l.message),t.xp6(1),t.Oqu(f.getCommitSummary(l)),t.xp6(1),t.Q6J("matTooltip",l.commitId),t.xp6(4),t.Oqu(t.lcZ(8,6,"Copy Commit ID")),t.xp6(2),t.Q6J("matTooltip",l.commitId),t.xp6(4),t.Oqu(t.lcZ(14,8,"Jump to Commit"))}}let le=(()=>{class u extends((0,ft.j)(rt.A,g.P)){constructor(l,f,p){super(),this.router=l,this.store=f,this.commitsApi=p,this.yUnit=it.$.yUnit,this.commitDetails=new r.X([]),this.selectedCommitDetail=new r.X(null),this.selectedPatch=new r.X(null),this.selectedFile=this.selectedPatch.pipe((0,x.U)($=>$?{area:"commit",oldFilePath:$.patch.oldFilePath,newFilePath:$.patch.newFilePath}:null)),this.getCommitSummary=$=>$.message.split("\n")[0]}ngOnChanges(l){if(!l.commits)return;const f=this.store.selectSnapshot(xt.E.selectedRepositoryPath);if(!f)throw new tt.uX;this.repositoryPath=f,this.commitsApi.getCommits(f,this.commits).pipe((0,Pt.R)(this.destroyed$)).subscribe($=>{this.commitDetails.next($),$[0]&&this.selectedCommitDetail.next($[0])});const p=this.store.selectSnapshot(xt.E.selectedRemotes);if(!p)throw new tt.St;this.remotes=p}patchChanged(l){const f=this.selectedCommitDetail.value;"commit"!==l.area||!f||0===f.patches.length||this.commitsApi.getPatch(this.repositoryPath,f.id,l.oldFilePath,l.newFilePath).pipe((0,x.U)(p=>({repositoryPath:this.repositoryPath,patch:p,isUnstaged:!1})),(0,ot.K)(p=>tt.ik.matches(p)||tt.vE.matches(p)?(0,et.of)(null):(0,G._)(()=>p)),(0,Pt.R)(this.destroyed$)).subscribe(p=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===p?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===p?.patch.oldFilePath?null:p)})}copyToClipboard(l){navigator.clipboard.writeText(l??"")}jumpToCommit(l){this.store.dispatch([new V.jQ(this.repositoryPath,l),new V.BK(this.repositoryPath,l)]).subscribe(()=>{this.router.navigate(["/standard/default"])})}trackCommitDetail(l,f){return f.id}static{this.\u0275fac=function(f){return new(f||u)(t.Y36(Q.F0),t.Y36(Lt.yh),t.Y36(_t.T))}}static{this.\u0275cmp=t.Xpm({type:u,selectors:[["app-pull-request-commits-view"]],viewQuery:function(f,p){if(1&f&&t.Gf(At.N7,5),2&f){let $;t.iGM($=t.CRH())&&(p.viewports=$)}},inputs:{commits:"commits"},features:[t.qOj,t.TTD],decls:13,vars:9,consts:[["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[1,"viewport-wrapper"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"selected","appContextMenu","appContextMenuData","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],["contextMenu",""],[3,"appContextMenu","appContextMenuData","click"],[3,"matTooltip","remotes","email"],[1,"summary",3,"matTooltip"],[3,"patch","closed"],[3,"commit","selectedFile","patchChanged"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"matTooltip","click"]],template:function(f,p){1&f&&(t.TgZ(0,"app-grid",0)(1,"app-grid-cell",1)(2,"div",2)(3,"cdk-virtual-scroll-viewport",3)(4,"ul",4),t.YNc(5,jt,5,11,"li",5),t.qZA()()(),t.YNc(6,zt,1,2,"app-diff-view",6),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"app-grid-cell",7),t.YNc(9,ce,1,2,"app-commit-detail-view",8),t.ALo(10,"async"),t.qZA()(),t.YNc(11,he,15,10,"ng-template",null,9,t.W1O)),2&f&&(t.xp6(3),t.Q6J("itemSize",p.yUnit),t.xp6(2),t.Q6J("cdkVirtualForOf",p.commitDetails)("cdkVirtualForTrackBy",p.trackCommitDetail),t.xp6(1),t.Q6J("ngIf",t.lcZ(7,5,p.selectedPatch)),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,7,p.selectedCommitDetail)))},dependencies:[At.xd,At.x0,At.N7,O.O5,lt.Hw,Ct.gM,j.A,wt.l,Z.Y,H.M,ht.T,kt.s,O.Ov,Ft.X],styles:[".viewport-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.messages-viewport[_ngcontent-%COMP%]{contain:content;scrollbar-gutter:stable;height:100%}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:28px;line-height:28px;padding-left:5px;padding-right:130px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:26px;height:26px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:1rem;vertical-align:middle}app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#2d2d2d}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #1e1e1e}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#eee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #fafafa}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #eeeeee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #eeeeee}"],data:{animation:[(0,z.X$)("slideLeft",[(0,z.eR)(":enter",[(0,z.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,z.jt)("200ms",(0,z.oB)({transform:"translateX(0)"}))]),(0,z.eR)(":leave",[(0,z.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,z.jt)("200ms",(0,z.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return u})();var me=o(5684),ge=o(5696);function pe(u,Et){if(1&u){const l=t.EpF();t.TgZ(0,"app-diff-view",5),t.NdJ("closed",function(){t.CHM(l);const p=t.oxw();return t.KtG(p.selectedPatch.next(null))}),t.qZA()}if(2&u){const l=t.oxw();t.Q6J("@slideLeft",void 0)("patch",l.selectedPatch)}}let gt=(()=>{class u extends((0,ft.j)(rt.A)){constructor(l,f){super(),this.store=l,this.commitsApi=f,this.selectedPatch=new r.X(null),this.selectedFile=this.selectedPatch.pipe((0,x.U)(p=>p?{area:"commit",oldFilePath:p.patch.oldFilePath,newFilePath:p.patch.newFilePath}:null))}ngOnInit(){const l=this.store.selectSnapshot(xt.E.selectedRepositoryPath);if(!l)throw new tt.uX;this.repositoryPath=l}ngAfterViewInit(){const l=(0,me.Z)(this.patches,f=>f.oldFilePath?.toLowerCase()??f.newFilePath?.toLowerCase())[0];l&&setTimeout(()=>{this.changePatch(l.oldFilePath,l.newFilePath)},500)}changePatch(l,f){this.commitsApi.getCompareCommitsPatch(this.repositoryPath,this.fromCommitId,this.toCommitId,l,f).pipe((0,x.U)(p=>({repositoryPath:this.repositoryPath,patch:p,isUnstaged:!1})),(0,ot.K)(p=>tt.ik.matches(p)||tt.vE.matches(p)?(0,et.of)(null):(0,G._)(()=>p)),(0,Pt.R)(this.destroyed$)).subscribe(p=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===p?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===p?.patch.oldFilePath?null:p)})}static{this.\u0275fac=function(f){return new(f||u)(t.Y36(Lt.yh),t.Y36(_t.T))}}static{this.\u0275cmp=t.Xpm({type:u,selectors:[["app-pull-request-patches-view"]],inputs:{fromCommitId:"fromCommitId",toCommitId:"toCommitId",patches:"patches"},features:[t.qOj],decls:7,vars:7,consts:[["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"patches","selected","selectedChanged"],[3,"patch","closed"]],template:function(f,p){1&f&&(t.TgZ(0,"app-grid",0)(1,"app-grid-cell",1),t.YNc(2,pe,1,2,"app-diff-view",2),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"app-grid-cell",3)(5,"app-patches-view",4),t.NdJ("selectedChanged",function(N){return p.changePatch(N.oldFilePath,N.newFilePath)}),t.ALo(6,"async"),t.qZA()()()),2&f&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,3,p.selectedPatch)),t.xp6(3),t.Q6J("patches",p.patches)("selected",t.lcZ(6,5,p.selectedFile)))},dependencies:[O.O5,Z.Y,H.M,kt.s,ge.i,O.Ov],styles:["app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}app-patches-view[_ngcontent-%COMP%]{padding:16px;height:100%;display:flex;flex-direction:column;gap:10px}"],data:{animation:[(0,z.X$)("slideLeft",[(0,z.eR)(":enter",[(0,z.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,z.jt)("200ms",(0,z.oB)({transform:"translateX(0)"}))]),(0,z.eR)(":leave",[(0,z.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,z.jt)("200ms",(0,z.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return u})();var Wt=o(7612),P=o(3680);function U(u,Et){if(1&u&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&u){const l=Et.$implicit;t.Q6J("value",l),t.xp6(1),t.AsE(" ",l.owner,"/",l.repo," ")}}const q=function(u){return{branch:u}};function vt(u,Et){if(1&u&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&u){const l=Et.$implicit;t.Q6J("value",t.VKq(2,q,l)),t.xp6(1),t.Oqu(l)}}function Nt(u,Et){if(1&u&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&u){const l=Et.$implicit;t.Q6J("value",l),t.xp6(1),t.AsE(" ",l.owner,"/",l.repo," ")}}function se(u,Et){if(1&u&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&u){const l=Et.$implicit;t.Q6J("value",t.VKq(2,q,l)),t.xp6(1),t.Oqu(l)}}let ae=(()=>{class u extends((0,ft.j)(rt.A)){constructor(l,f,p,$,N){super(),this.store=l,this.bitbucketApiService=f,this.gitHubApiService=p,this.gitLabApiService=$,this.providerUrlMatcherService=N,this.filteredFromRepos=[],this.displayBranch=pt=>pt?pt.branch:"",this.displayRepo=pt=>pt?`${pt.owner}/${pt.repo}`:""}ngOnInit(){const l=this.store.selectSnapshot(xt.E.selectedRemotes)?.filter(f=>this.providerUrlMatcherService.matchProvider(f.url)?.type===this.integration.type);if(!l)throw new bt.ZR(new tt.St);this.filteredFromRepos=l.flatMap(f=>{const p=this.providerUrlMatcherService.matchProvider(f.url);return p?.type!==this.integration.type?[]:{owner:"bitbucket"===p.type?p.workspace:"github"===p.type?p.owner:"gitlab"===p.type?p.namespace:"",repo:p.repo}}),this.filteredFromRepos[0]&&(this.controls.fromRepo.setValue(this.filteredFromRepos[0]),this.controls.toRepo.setValue(this.filteredFromRepos[0])),this.filteredFromBranches=(0,m.a)([this.controls.fromRepo.valueChanges.pipe((0,b.O)(this.controls.fromRepo.value),(0,C.p)(500,void 0,{leading:!0,trailing:!0}),(0,dt.w)(f=>this.getBranches(f))),this.controls.fromBranch.valueChanges.pipe((0,b.O)(this.controls.fromBranch.value),(0,C.p)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,x.U)(([f,p])=>"string"==typeof p?f.filter($=>$.toLowerCase().includes(p.toLowerCase())):f)),this.filteredToRepos=this.controls.fromRepo.valueChanges.pipe((0,b.O)(this.controls.fromRepo.value),(0,C.p)(500,void 0,{leading:!0,trailing:!0}),(0,dt.w)(f=>{const{owner:p,repo:$}=f??{};if(!p||!$)return(0,et.of)(this.filteredFromRepos);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getRepository(p,$,void 0,this.integration).pipe((0,x.U)(N=>{if(!N?.parent){const nt=this.controls.fromRepo.value,Bt=this.controls.toRepo.value;return nt?.owner===Bt?.owner&&nt?.repo===Bt?.repo&&this.controls.toBranch.pristine&&N?.mainbranch&&this.controls.toBranch.setValue({branch:N.mainbranch.name}),this.filteredFromRepos}const[pt,Tt]=N?.parent?.full_name.split("/")??[];return pt&&Tt?(this.controls.toBranch.pristine&&N.parent?.mainbranch&&this.controls.toBranch.setValue({branch:N.parent.mainbranch.name}),[{owner:pt,repo:Tt},...this.filteredFromRepos.filter(nt=>nt.owner!==pt||nt.repo!==Tt)]):this.filteredFromRepos}));case"github":return this.gitHubApiService.getRepository(this.integration.token,p,$).pipe((0,x.U)(N=>{if(!N?.parent){const nt=this.controls.fromRepo.value,Bt=this.controls.toRepo.value;return nt?.owner===Bt?.owner&&nt?.repo===Bt?.repo&&this.controls.toBranch.pristine&&N&&this.controls.toBranch.setValue({branch:N.default_branch}),this.filteredFromRepos}const[pt,Tt]=N?.parent?.full_name.split("/")??[];return pt&&Tt?(this.controls.toBranch.pristine&&N.parent&&this.controls.toBranch.setValue({branch:N.parent.default_branch}),[{owner:pt,repo:Tt},...this.filteredFromRepos.filter(nt=>nt.owner!==pt||nt.repo!==Tt)]):this.filteredFromRepos}));case"gitlab":return this.gitLabApiService.getRepository(this.integration,p,$).pipe((0,x.U)(N=>{if(!N?.forked_from_project){const nt=this.controls.fromRepo.value,Bt=this.controls.toRepo.value;return nt?.owner===Bt?.owner&&nt?.repo===Bt?.repo&&this.controls.toBranch.pristine&&N&&this.controls.toBranch.setValue({branch:N.default_branch}),this.filteredFromRepos}const pt=N?.forked_from_project?.namespace.path,Tt=N?.forked_from_project?.path;return pt&&Tt?(this.controls.toBranch.pristine&&N.forked_from_project&&this.controls.toBranch.setValue({branch:N.forked_from_project.default_branch}),[{owner:pt,repo:Tt},...this.filteredFromRepos.filter(nt=>nt.owner!==pt||nt.repo!==Tt)]):this.filteredFromRepos}));default:throw new Error("Check not exhaustive.")}})),this.filteredToBranches=(0,m.a)([this.controls.toRepo.valueChanges.pipe((0,b.O)(this.controls.toRepo.value),(0,C.p)(500,void 0,{leading:!0,trailing:!0}),(0,dt.w)(f=>this.getBranches(f))),this.controls.toBranch.valueChanges.pipe((0,b.O)(this.controls.toBranch.value),(0,C.p)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,x.U)(([f,p])=>"string"==typeof p?f.filter($=>$.toLowerCase().includes(p.toLowerCase())):f))}getBranches(l){const{owner:f,repo:p}=l??{};if(!f||!p)return(0,et.of)([]);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getBranches(this.integration,f,p).pipe((0,x.U)($=>$?.values.map(({name:N})=>N)??[]),(0,ot.K)(()=>(0,et.of)([])));case"github":return this.gitHubApiService.getBranches(this.integration.token,f,p).pipe((0,x.U)($=>$?.map(({name:N})=>N)??[]),(0,ot.K)(()=>(0,et.of)([])));case"gitlab":return this.gitLabApiService.getBranches(this.integration,f,p).pipe((0,x.U)($=>$?.map(({name:N})=>N)??[]),(0,ot.K)(()=>(0,et.of)([])));default:throw new Error("Check not exhaustive.")}}static{this.\u0275fac=function(f){return new(f||u)(t.Y36(Lt.yh),t.Y36(Rt.L),t.Y36(T.t),t.Y36(k.T),t.Y36(Wt.d))}}static{this.\u0275cmp=t.Xpm({type:u,selectors:[["app-pull-request-select-view"]],inputs:{integration:"integration",controls:"controls"},features:[t.qOj],decls:33,vars:30,consts:[["subscriptSizing","dynamic",1,"to-repo"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["subscriptSizing","dynamic",1,"to-branch"],["type","text","matInput","","required","",3,"formControl","matAutocomplete"],[3,"displayWith"],["autoToBranch","matAutocomplete"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],["type","text","matInput","","required","","cdkFocusInitial","",3,"formControl","matAutocomplete"],["autoFromBranch","matAutocomplete"],[3,"value"]],template:function(f,p){if(1&f&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-select",1),t.YNc(5,U,2,3,"mat-option",2),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",4),t.TgZ(12,"mat-autocomplete",5,6),t.YNc(14,vt,2,4,"mat-option",2),t.ALo(15,"async"),t.qZA()(),t.TgZ(16,"mat-icon"),t._uU(17,"arrow_back"),t.qZA(),t.TgZ(18,"mat-form-field",7)(19,"mat-label"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"mat-select",1),t.YNc(23,Nt,2,3,"mat-option",2),t.qZA()(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"input",9),t.TgZ(29,"mat-autocomplete",5,10),t.YNc(31,se,2,4,"mat-option",2),t.ALo(32,"async"),t.qZA()()),2&f){const $=t.MAs(13),N=t.MAs(30);t.xp6(2),t.Oqu(t.lcZ(3,16,"Base Repository")),t.xp6(2),t.Q6J("formControl",p.controls.toRepo),t.xp6(1),t.Q6J("ngForOf",t.lcZ(6,18,p.filteredToRepos)),t.xp6(4),t.Oqu(t.lcZ(10,20,"Base Branch")),t.xp6(2),t.Q6J("formControl",p.controls.toBranch)("matAutocomplete",$),t.xp6(1),t.Q6J("displayWith",p.displayBranch),t.xp6(2),t.Q6J("ngForOf",t.lcZ(15,22,p.filteredToBranches)),t.xp6(6),t.Oqu(t.lcZ(21,24,"Head Repository")),t.xp6(2),t.Q6J("formControl",p.controls.fromRepo),t.xp6(1),t.Q6J("ngForOf",p.filteredFromRepos),t.xp6(3),t.Oqu(t.lcZ(27,26,"Head Branch")),t.xp6(2),t.Q6J("formControl",p.controls.fromBranch)("matAutocomplete",N),t.xp6(1),t.Q6J("displayWith",p.displayBranch),t.xp6(2),t.Q6J("ngForOf",t.lcZ(32,28,p.filteredFromBranches))}},dependencies:[i.XC,P.ey,i.ZL,Y.KE,Y.hX,W.Nt,e.gD,O.sg,I.Fj,I.JJ,I.Q7,I.oH,lt.Hw,O.Ov,Ft.X],styles:["[_nghost-%COMP%]{display:flex;gap:10px;align-items:center}.to-repo[_ngcontent-%COMP%], .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}.to-branch[_ngcontent-%COMP%], .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}"],changeDetection:0})}}return u})();function de(u,Et){1&u&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&u&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Title is required")))}const st=function(u){return{count:u}};function Ot(u,Et){if(1&u&&(t.TgZ(0,"mat-tab",4),t.ALo(1,"translate"),t.TgZ(2,"div",16),t._UZ(3,"app-pull-request-commits-view",17),t.qZA()()),2&u){const l=t.oxw().ngIf;t.s9C("label",t.xi3(1,2,"Commits (_count_)",t.VKq(5,st,l.commits.length))),t.xp6(3),t.Q6J("commits",l.commits)}}function M(u,Et){if(1&u&&(t.TgZ(0,"mat-tab",4),t.ALo(1,"translate"),t._UZ(2,"app-pull-request-patches-view",18),t.qZA()),2&u){const l=t.oxw().ngIf;t.s9C("label",t.xi3(1,4,"Files changed (_count_)",t.VKq(7,st,l.patches.length))),t.xp6(2),t.Q6J("fromCommitId",l.fromCommitId)("toCommitId",l.toCommitId)("patches",l.patches)}}function K(u,Et){if(1&u&&(t.ynx(0),t.YNc(1,Ot,4,7,"mat-tab",15),t.YNc(2,M,3,9,"mat-tab",15),t.BQk()),2&u){const l=Et.ngIf,f=t.oxw();t.xp6(1),t.Q6J("ngIf",f.hasCommits(l)),t.xp6(1),t.Q6J("ngIf",f.hasPatches(l))}}function B(u,Et){if(1&u&&(t.TgZ(0,"span",21),t.ALo(1,"translate"),t.ALo(2,"async"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&u){const l=t.oxw(2);t.Q6J("matTooltip",t.lcZ(1,2,null===t.lcZ(2,4,l.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.xp6(3),t.hij(" ",t.lcZ(4,6,"Commits")," ")}}function J(u,Et){if(1&u&&(t.TgZ(0,"span",21),t.ALo(1,"translate"),t.ALo(2,"async"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&u){const l=t.oxw(2);t.Q6J("matTooltip",t.lcZ(1,2,null===t.lcZ(2,4,l.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.xp6(3),t.hij(" ",t.lcZ(4,6,"Files changed")," ")}}function yt(u,Et){1&u&&(t.ynx(0),t.TgZ(1,"mat-tab",19),t.YNc(2,B,5,8,"ng-template",20),t.qZA(),t.TgZ(3,"mat-tab",19),t.YNc(4,J,5,8,"ng-template",20),t.qZA(),t.BQk())}function Dt(u,Et){1&u&&t._UZ(0,"mat-spinner",22)}function Xt(u,Et){1&u&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&u&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"View in browser")))}function ne(u,Et){1&u&&t._UZ(0,"mat-spinner",22)}function qt(u,Et){1&u&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&u&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Create Pull Request")))}let be=(()=>{class u extends((0,ft.j)(rt.A)){constructor(l,f,p,$,N,pt){super(),this.route=l,this.store=f,this.commitsApi=p,this.bitbucketApiService=$,this.gitHubApiService=N,this.gitLabApiService=pt,this.form=new I.cw({fromRepo:new I.NI(null,I.kI.required),fromBranch:new I.NI(null,I.kI.required),toRepo:new I.NI(null,I.kI.required),toBranch:new I.NI(null,I.kI.required),title:new I.NI(null,I.kI.required),description:new I.NI(null),draft:new I.NI(!1,{nonNullable:!0})}),this.compare=new r.X(void 0),this.loadingCompare=new r.X(!1),this.creatingPullRequest=new r.X(!1),this.hasCommits=Tt=>!!Tt.commits,this.hasPatches=Tt=>!!Tt.patches,this.getBranch=Tt=>"string"==typeof Tt?Tt:Tt.branch}ngOnInit(){const l=this.route.snapshot.paramMap.get("type");if("bitbucket"!==l&&"github"!==l&&"gitlab"!==l)throw new tt.wp(l);const f=this.route.snapshot.paramMap.get("integrationId"),p=this.store.selectSnapshot(Vt.$.integrations).find(N=>N.type===l&&N.id==f);if(!p)throw new tt.e5(l,f);this.integration=p;const $=this.store.selectSnapshot(xt.E.selectedRepositoryPath);if(!$)throw new tt.uX;(0,m.a)([this.form.controls.toRepo.valueChanges.pipe((0,b.O)(this.form.controls.toRepo.value)),this.form.controls.toBranch.valueChanges.pipe((0,b.O)(this.form.controls.toBranch.value)),this.form.controls.fromRepo.valueChanges.pipe((0,b.O)(this.form.controls.fromRepo.value)),this.form.controls.fromBranch.valueChanges.pipe((0,b.O)(this.form.controls.fromBranch.value))]).pipe((0,C.p)(500,void 0,{leading:!0,trailing:!0}),(0,x.U)(([N,pt,Tt,nt])=>{const{owner:Bt,repo:Yt}=this.getOwnerRepo(N),{owner:Ht,repo:Gt}=this.getOwnerRepo(Tt);return Bt&&Yt&&pt&&Ht&&Gt&&nt?{toOwner:Bt,toRepo:Yt,toBranch:pt,fromOwner:Ht,fromRepo:Gt,fromBranch:nt}:null}),(0,E.h)(bt.$K),(0,X.b)(()=>{this.loadingCompare.next(!0)}),(0,dt.w)(({toOwner:N,toRepo:pt,toBranch:Tt,fromOwner:nt,fromRepo:Bt,fromBranch:Yt})=>{switch(this.integration.type){case"bitbucket":const Ht=this.getBranch(Yt),Gt=this.getBranch(Tt);return N!==nt||pt!==Bt?(0,et.of)({url:`https://bitbucket.org/${N}/${pt}/branches/compare/${nt}/${Bt}:${Ht}%0D${N}/${pt}:${Gt}`}):this.bitbucketApiService.compareCommits(N,pt,Ht,Gt,"values.hash,values.parents.hash").pipe((0,dt.w)(Ut=>{const Qt=Ut.values[0]?.hash,Kt=Ut.values[Ut.values.length-1]?.parents[0]?.hash,ie={url:`https://bitbucket.org/${N}/${pt}/branches/compare/${Ht}..${Gt}`,fromCommitId:Qt,toCommitId:Kt,commits:Ut.values.map(re=>re.hash)};return Qt&&Kt?this.commitsApi.compareCommits($,Qt,Kt).pipe((0,x.U)(re=>({...ie,fromCommitId:Qt,toCommitId:Kt,patches:re}))):(0,et.of)(null)}));case"github":return this.gitHubApiService.compare(this.integration.token,N,pt,this.getBranch(Tt),nt,Bt,this.getBranch(Yt)).pipe((0,dt.w)(Ut=>{const Qt=Ut?.commits[Ut.commits.length-1]?.sha,Kt=Ut?.base_commit.sha;if(!Ut)return(0,et.of)(null);const ie={url:Ut.html_url,fromCommitId:Qt,toCommitId:Kt,commits:Ut.commits.map(re=>re.sha)};return Ut&&Qt&&Kt&&Ut.commits.length<250?this.commitsApi.compareCommits($,Qt,Kt).pipe((0,x.U)(re=>({...ie,fromCommitId:Qt,toCommitId:Kt,patches:re}))):(0,et.of)(null)}));case"gitlab":const te=this.integration;return this.gitLabApiService.getProject(te,N,pt).pipe((0,dt.w)(Ut=>this.gitLabApiService.compare(te,nt,Bt,this.getBranch(Yt),this.getBranch(Tt),Ut.id)),(0,dt.w)(Ut=>{const Qt=Ut?.commit?.id,Kt=Ut?.commits[0]?.parent_ids[0];if(!Ut)return(0,et.of)(null);const ie={url:Ut.web_url,fromCommitId:Qt,toCommitId:Kt,commits:Ut.commits.map(re=>re.id)};return Ut&&Qt&&Kt?this.commitsApi.compareCommits($,Qt,Kt).pipe((0,x.U)(re=>({...ie,fromCommitId:Qt,toCommitId:Kt,patches:re}))):(0,et.of)(null)}));default:throw new Error(`Check not exhaustive '${this.integration}'.`)}}),(0,ot.K)(N=>tt.ik.matches(N)?(0,et.of)(null):(0,G._)(()=>N)),(0,Mt.s)(()=>{this.loadingCompare.next(!1)}),(0,Pt.R)(this.destroyed$)).subscribe(N=>{this.compare.next(N),this.loadingCompare.next(!1)})}close(){history.back()}openCompareInBrowser(){const l=this.compare.value?.url;l&&window.open(l)}createPullRequest(){const{toRepo:l,toBranch:f,fromRepo:p,fromBranch:$,title:N,description:pt}=this.form.value,{owner:Tt,repo:nt}=this.getOwnerRepo(l),{owner:Bt,repo:Yt}=this.getOwnerRepo(p);if(this.form.invalid||!Tt||!nt||!f||!Bt||!Yt||!$||!N)throw new bt.ZR(new tt.KH);let Ht;switch(this.creatingPullRequest.next(!0),this.integration.type){case"bitbucket":Ht=this.bitbucketApiService.createPullRequest(this.integration,Tt,nt,{title:N,description:pt??void 0,source:{branch:{name:this.getBranch($)},repository:{full_name:`${Bt}/${Yt}`}},destination:{branch:{name:this.getBranch(f)}}});break;case"github":Ht=this.gitHubApiService.createPullRequest(this.integration.token,Tt,nt,{head:`${Bt}:${this.getBranch($)}`,head_repo:Yt,base:this.getBranch(f),title:N,body:pt??void 0});break;case"gitlab":const Gt=this.integration;Ht=this.gitLabApiService.getRepository(Gt,Tt,nt).pipe((0,dt.w)(ee=>this.gitLabApiService.createMergeRequest(Gt,Bt,Yt,{source_branch:this.getBranch($),target_branch:this.getBranch(f),target_project_id:ee.id??void 0,title:N,description:pt??void 0})));break;default:throw new Error(`Check not exhaustive '${this.integration}'.`)}Ht.pipe((0,It.x)(()=>{this.creatingPullRequest.next(!1)})).subscribe(()=>{this.close()})}getOwnerRepo(l){if("string"==typeof l){const f=l.split("/"),[p,$]=f;return p&&$&&2===f.length?{owner:p,repo:$}:{owner:void 0,repo:void 0}}return l??{owner:void 0,repo:void 0}}static{this.\u0275fac=function(f){return new(f||u)(t.Y36(Q.gz),t.Y36(Lt.yh),t.Y36(_t.T),t.Y36(Rt.L),t.Y36(T.t),t.Y36(k.T))}}static{this.\u0275cmp=t.Xpm({type:u,selectors:[["ng-component"]],features:[t.qOj],decls:47,vars:59,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[3,"controls","integration"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab","description"],[1,"title-field"],["type","text","matInput","","required","",3,"formControl"],[4,"ngIf"],[1,"description-field"],["matInput","","rows","5",3,"placeholder","formControl"],["type","button","mat-flat-button","","color","accent",3,"disabled","click"],["diameter","24",4,"ngIf"],[3,"matTooltip"],["type","button","mat-flat-button","","color","primary",3,"disabled","click"],[3,"label",4,"ngIf"],[1,"tab"],[3,"commits"],[3,"fromCommitId","toCommitId","patches"],["disabled",""],["mat-tab-label",""],[1,"disabled-tab",3,"matTooltip"],["diameter","24"]],template:function(f,p){1&f&&(t.TgZ(0,"header")(1,"button",0),t.NdJ("click",function(){return p.close()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"span",1),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"main"),t._UZ(8,"app-pull-request-select-view",2),t.TgZ(9,"mat-tab-group",3)(10,"mat-tab",4),t.ALo(11,"translate"),t.TgZ(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",7),t.YNc(18,de,3,3,"mat-error",8),t.qZA(),t.TgZ(19,"mat-form-field",9),t._UZ(20,"textarea",10),t.ALo(21,"translate"),t.qZA()()(),t.YNc(22,K,3,2,"ng-container",8),t.ALo(23,"async"),t.YNc(24,yt,5,0,"ng-container",8),t.ALo(25,"async"),t.qZA()(),t.TgZ(26,"footer")(27,"button",11),t.NdJ("click",function(){return p.openCompareInBrowser()}),t.ALo(28,"async"),t.ALo(29,"async"),t.ALo(30,"async"),t.YNc(31,Dt,1,0,"mat-spinner",12),t.ALo(32,"async"),t.YNc(33,Xt,3,3,"span",8),t.ALo(34,"async"),t.qZA(),t.TgZ(35,"span",13),t.ALo(36,"async"),t.ALo(37,"translate"),t.ALo(38,"translate"),t.TgZ(39,"button",14),t.NdJ("click",function(){return p.createPullRequest()}),t.ALo(40,"async"),t.ALo(41,"async"),t.ALo(42,"async"),t.YNc(43,ne,1,0,"mat-spinner",12),t.ALo(44,"async"),t.YNc(45,qt,3,3,"span",8),t.ALo(46,"async"),t.qZA()()()),2&f&&(t.xp6(5),t.Oqu(t.lcZ(6,21,"Create Pull Request")),t.xp6(3),t.Q6J("controls",p.form.controls)("integration",p.integration),t.xp6(1),t.Q6J("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.xp6(1),t.s9C("label",t.lcZ(11,23,"Description")),t.xp6(5),t.Oqu(t.lcZ(16,25,"Title")),t.xp6(2),t.Q6J("formControl",p.form.controls.title),t.xp6(1),t.Q6J("ngIf",p.form.controls.title.hasError("required")),t.xp6(2),t.s9C("placeholder",t.lcZ(21,27,"Leave a comment...")),t.Q6J("formControl",p.form.controls.description),t.xp6(2),t.Q6J("ngIf",t.lcZ(23,29,p.compare)),t.xp6(2),t.Q6J("ngIf",void 0===t.lcZ(25,31,p.compare)),t.xp6(3),t.Q6J("disabled",t.lcZ(28,33,p.loadingCompare)||void 0===t.lcZ(29,35,p.compare)||null===t.lcZ(30,37,p.compare)),t.xp6(4),t.Q6J("ngIf",t.lcZ(32,39,p.loadingCompare)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(34,41,p.loadingCompare)),t.xp6(2),t.Q6J("matTooltip",void 0===t.lcZ(36,43,p.compare)?t.lcZ(37,45,"Select valid branches to compare"):p.form.invalid?t.lcZ(38,47,"Title is required"):""),t.xp6(4),t.Q6J("disabled",p.form.invalid||t.lcZ(40,49,p.loadingCompare)||void 0===t.lcZ(41,51,p.compare)||t.lcZ(42,53,p.creatingPullRequest)),t.xp6(4),t.Q6J("ngIf",t.lcZ(44,55,p.creatingPullRequest)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(46,57,p.creatingPullRequest)))},dependencies:[Y.KE,Y.hX,Y.TO,W.Nt,_.Ou,n.uD,n.uX,n.SP,O.O5,I.Fj,I.JJ,I.Q7,I.oH,L.lW,L.RK,lt.Hw,Ct.gM,le,gt,ae,O.Ov,Ft.X],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   app-pull-request-select-view[_ngcontent-%COMP%]{flex:0 0 auto}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px;height:calc(100% - 15px)}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;justify-content:stretch}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}"],changeDetection:0})}}return u})();var Ce=o(9315),A=o(8180),Zt=o(5195),c=o(2415);function d(u,Et){1&u&&t._UZ(0,"mat-spinner")}function h(u,Et){if(1&u&&(t.TgZ(0,"mat-card",24),t._uU(1),t.qZA()),2&u){const l=t.oxw().ngIf;t.xp6(1),t.Oqu(l.description)}}const S=function(u){return{count:u}};function ut(u,Et){if(1&u&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"translate"),t.TgZ(2,"div",8),t._UZ(3,"app-pull-request-commits-view",25),t.qZA()()),2&u){const l=t.oxw().ngIf;t.s9C("label",t.xi3(1,2,"Commits (_count_)",t.VKq(5,S,l.commits.length))),t.xp6(3),t.Q6J("commits",l.commits)}}function Jt(u,Et){1&u&&(t._UZ(0,"mat-tab",26),t.ALo(1,"translate")),2&u&&t.s9C("label",t.lcZ(1,1,"Commits"))}function $t(u,Et){if(1&u&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"translate"),t._UZ(2,"app-pull-request-patches-view",27),t.qZA()),2&u){const l=t.oxw().ngIf;t.s9C("label",t.xi3(1,4,"Files changed (_count_)",t.VKq(7,S,l.patches.length))),t.xp6(2),t.Q6J("fromCommitId",l.fromCommitId)("toCommitId",l.toCommitId)("patches",l.patches)}}function oe(u,Et){1&u&&(t._UZ(0,"mat-tab",26),t.ALo(1,"translate")),2&u&&t.s9C("label",t.lcZ(1,1,"Files changed"))}function fe(u,Et){if(1&u&&(t.ynx(0),t.TgZ(1,"span",5),t._uU(2),t.qZA(),t.TgZ(3,"mat-tab-group",6)(4,"mat-tab",7),t.ALo(5,"translate"),t.TgZ(6,"div",8)(7,"div",9)(8,"mat-form-field",10)(9,"mat-label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",11),t.qZA(),t.TgZ(13,"mat-form-field",12)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",11),t.qZA(),t.TgZ(18,"mat-icon"),t._uU(19,"arrow_back"),t.qZA(),t.TgZ(20,"mat-form-field",13)(21,"mat-label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"input",11),t.qZA(),t.TgZ(25,"mat-form-field",14)(26,"mat-label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t._UZ(29,"input",11),t.qZA()(),t.TgZ(30,"div",15)(31,"div",16),t._uU(32),t.ALo(33,"translate"),t._UZ(34,"img",17),t.TgZ(35,"span",18),t._uU(36),t.qZA(),t._UZ(37,"br"),t.qZA(),t.TgZ(38,"div",19),t.ALo(39,"translateDate"),t._uU(40),t.ALo(41,"translate"),t.TgZ(42,"span",18),t._uU(43),t.ALo(44,"translateDate"),t.qZA(),t._uU(45),t.ALo(46,"translate"),t.TgZ(47,"span",18),t._uU(48),t.ALo(49,"translateDate"),t.qZA()()(),t.YNc(50,h,2,1,"mat-card",20),t.qZA()(),t.YNc(51,ut,4,7,"mat-tab",21),t.YNc(52,Jt,2,3,"ng-template",null,22,t.W1O),t.YNc(54,$t,3,9,"mat-tab",21),t.YNc(55,oe,2,3,"ng-template",null,23,t.W1O),t.qZA(),t.BQk()),2&u){const l=Et.ngIf,f=t.MAs(53),p=t.MAs(56);t.xp6(2),t.Oqu(l.title),t.xp6(1),t.Q6J("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.xp6(1),t.s9C("label",t.lcZ(5,28,"!pull request! Details")),t.xp6(6),t.Oqu(t.lcZ(11,30,"Base Repository")),t.xp6(2),t.Q6J("value",l.toOwner+"/"+l.toRepo),t.xp6(3),t.Oqu(t.lcZ(16,32,"Base Branch")),t.xp6(2),t.Q6J("value",l.toBranch),t.xp6(5),t.Oqu(t.lcZ(23,34,"Head Repository")),t.xp6(2),t.Q6J("value",l.fromOwner+"/"+l.fromRepo),t.xp6(3),t.Oqu(t.lcZ(28,36,"Head Branch")),t.xp6(2),t.Q6J("value",l.fromBranch),t.xp6(2),t.Q6J("matTooltip",l.authorName),t.xp6(1),t.hij(" ",t.lcZ(33,38,"authored by")," "),t.xp6(2),t.Q6J("src",l.authorAvatar,t.LSH)("matTooltip",l.authorName),t.xp6(2),t.Oqu(l.authorName),t.xp6(2),t.Q6J("matTooltip",t.xi3(39,40,l.date,"z")||""),t.xp6(2),t.hij(" ",t.lcZ(41,43,"on !date!")," "),t.xp6(3),t.Oqu(t.xi3(44,45,l.date,"longDate")),t.xp6(2),t.hij(" ",t.lcZ(46,48,"at !time!")," "),t.xp6(3),t.Oqu(t.xi3(49,50,l.date,"HH:mm")),t.xp6(2),t.Q6J("ngIf",l.description),t.xp6(1),t.Q6J("ngIf",l.commits)("ngIfElse",f),t.xp6(3),t.Q6J("ngIf",l.patches)("ngIfElse",p)}}function Oe(u,Et){1&u&&t._UZ(0,"mat-spinner",28)}function ve(u,Et){1&u&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&u&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"View in browser")))}let xe=(()=>{class u extends((0,ft.j)(rt.A)){constructor(l,f,p,$,N,pt){super(),this.route=l,this.store=f,this.commitsApi=p,this.bitbucketApiService=$,this.gitHubApiService=N,this.gitLabApiService=pt,this.pullRequest=new r.X(void 0),this.loading=new r.X(!1)}ngOnInit(){const l=this.route.snapshot.paramMap.get("type");if("bitbucket"!==l&&"github"!==l&&"gitlab"!==l)throw new tt.wp(l);const f=this.route.snapshot.paramMap.get("owner")??"",p=this.route.snapshot.paramMap.get("repo")??"",$=this.route.snapshot.paramMap.get("id")??"",N=this.store.selectSnapshot(xt.E.selectedRepositoryPath);if(!N)throw new tt.uX;let pt;switch(l){case"bitbucket":pt=this.bitbucketApiService.getPullRequest(f,p,parseInt($,10)).pipe((0,dt.w)(nt=>{if(!nt)return(0,et.of)(null);const[Bt,Yt]=nt.source.repository.full_name.split("/")??[],Ht=nt.source.commit.hash,[Gt,te]=nt.destination.repository.full_name.split("/")??[],ee=nt.destination.commit.hash;if(!(Bt&&Yt&&Gt&&te))return(0,et.of)(null);const Ut={url:nt.links.html.href,title:nt.title,description:nt.description,authorName:nt.author.display_name,authorAvatar:nt.author.links.avatar.href,date:new Date(nt.created_on),fromOwner:Bt,fromRepo:Yt,fromBranch:nt.source.branch.name,fromCommitId:Ht,toOwner:Gt,toRepo:te,toBranch:nt.destination.branch.name,toCommitId:ee};return this.bitbucketApiService.getPullRequestCommits(f,p,parseInt($,10)).pipe((0,dt.w)(Qt=>Qt?this.commitsApi.compareCommits(N,Ht,ee).pipe((0,x.U)(Kt=>({...Ut,commits:Qt.values.map(ie=>ie.hash),patches:Kt}))):(0,et.of)(Ut)))}));break;case"github":pt=this.gitHubApiService.getPullRequest(f,p,parseInt($,10)).pipe((0,dt.w)(nt=>{if(!nt)return(0,et.of)(null);const[Bt,Yt]=nt.head.repo.full_name.split("/")??[],Ht=nt.head.sha,[Gt,te]=nt.base.repo.full_name.split("/")??[],ee=nt.base.sha;if(!(Bt&&Yt&&Gt&&te))return(0,et.of)(null);const Ut={url:nt.html_url,title:nt.title,description:nt.body,authorName:nt.user.login,authorAvatar:nt.user.avatar_url,date:new Date(nt.created_at),fromOwner:Bt,fromRepo:Yt,fromBranch:nt.head.ref,fromCommitId:Ht,toOwner:Gt,toRepo:te,toBranch:nt.base.ref,toCommitId:ee};return this.gitHubApiService.getPullRequestCommits(f,p,parseInt($,10)).pipe((0,dt.w)(Qt=>Qt&&Qt.length<250?this.commitsApi.compareCommits(N,Ht,ee).pipe((0,x.U)(Kt=>({...Ut,commits:Qt.map(ie=>ie.sha),patches:Kt}))):(0,et.of)(Ut)))}));break;case"gitlab":pt=this.gitLabApiService.getMergeRequest(f,p,parseInt($,10)).pipe((0,dt.w)(nt=>nt?(0,Ce.D)([this.gitLabApiService.getProjectById(nt.source_project_id),this.gitLabApiService.getProjectById(nt.target_project_id)]).pipe((0,x.U)(([Bt,Yt])=>Bt&&Yt?{source:Bt,target:Yt,pullRequest:nt}:null)):(0,et.of)(null)),(0,dt.w)(nt=>{if(!nt)return(0,et.of)(null);const[Bt,Yt]=nt.source.path_with_namespace.split("/")??[],Ht=nt.pullRequest.diff_refs.head_sha,[Gt,te]=nt.target.path_with_namespace.split("/")??[],ee=nt.pullRequest.diff_refs.base_sha;if(!(Bt&&Yt&&Gt&&te))return(0,et.of)(null);const Ut={url:nt.pullRequest.web_url,title:nt.pullRequest.title,description:nt.pullRequest.description,authorName:nt.pullRequest.author.name,authorAvatar:nt.pullRequest.author.avatar_url,date:new Date(nt.pullRequest.created_at),fromOwner:Bt,fromRepo:Yt,fromBranch:nt.pullRequest.source_branch,fromCommitId:Ht,toOwner:Gt,toRepo:te,toBranch:nt.pullRequest.target_branch,toCommitId:ee};return this.gitLabApiService.getPullRequestCommits(f,p,parseInt($,10)).pipe((0,dt.w)(Qt=>Qt?this.commitsApi.compareCommits(N,Ht,ee).pipe((0,x.U)(Kt=>({...Ut,commits:Qt.map(ie=>ie.id),patches:Kt}))):(0,et.of)(Ut)))}));break;default:throw new Error(`Check not exhaustive '${l}'.`)}this.loading.next(!0),pt.pipe((0,ot.K)(Tt=>tt.ik.matches(Tt)?(0,et.of)(null):(0,G._)(()=>Tt)),(0,A.q)(1),(0,Pt.R)(this.destroyed$),(0,It.x)(()=>{this.loading.next(!1)})).subscribe(Tt=>{this.pullRequest.next(Tt)})}openInBrowser(){const l=this.pullRequest.value?.url;l&&window.open(l)}close(){history.back()}static{this.\u0275fac=function(f){return new(f||u)(t.Y36(Q.gz),t.Y36(Lt.yh),t.Y36(_t.T),t.Y36(Rt.L),t.Y36(T.t),t.Y36(k.T))}}static{this.\u0275cmp=t.Xpm({type:u,selectors:[["ng-component"]],features:[t.qOj],decls:20,vars:20,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[4,"ngIf"],["type","button","mat-flat-button","","color","accent",3,"disabled","click"],["diameter","24",4,"ngIf"],[1,"mat-headline-4","title"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab"],[1,"repos"],["subscriptSizing","dynamic",1,"to-repo"],["type","text","matInput","","readonly","",3,"value"],["subscriptSizing","dynamic",1,"to-branch"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],[1,"created"],[1,"author",3,"matTooltip"],[1,"avatar",3,"src","matTooltip"],[1,"highlight"],[1,"date",3,"matTooltip"],["class","description",4,"ngIf"],[3,"label",4,"ngIf","ngIfElse"],["emptyCommitsTab",""],["emptyPatchesTab",""],[1,"description"],[3,"commits"],["disabled","",3,"label"],[3,"fromCommitId","toCommitId","patches"],["diameter","24"]],template:function(f,p){1&f&&(t.TgZ(0,"header")(1,"button",0),t.NdJ("click",function(){return p.close()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"span",1),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"main"),t.YNc(8,d,1,0,"mat-spinner",2),t.ALo(9,"async"),t.YNc(10,fe,57,53,"ng-container",2),t.ALo(11,"async"),t.qZA(),t.TgZ(12,"footer")(13,"button",3),t.NdJ("click",function(){return p.openInBrowser()}),t.ALo(14,"async"),t.ALo(15,"async"),t.YNc(16,Oe,1,0,"mat-spinner",4),t.ALo(17,"async"),t.YNc(18,ve,3,3,"span",2),t.ALo(19,"async"),t.qZA()()),2&f&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"Viewing Pull Request")),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,8,p.loading)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,10,p.pullRequest)),t.xp6(3),t.Q6J("disabled",t.lcZ(14,12,p.loading)||null===t.lcZ(15,14,p.pullRequest)),t.xp6(3),t.Q6J("ngIf",t.lcZ(17,16,p.loading)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(19,18,p.loading)))},dependencies:[Y.KE,Y.hX,W.Nt,_.Ou,n.uX,n.SP,O.O5,L.lW,L.RK,Zt.a8,lt.Hw,Ct.gM,le,gt,O.Ov,c.v,Ft.X],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-bottom:20px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-repo[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-branch[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]{margin-bottom:20px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:inline-block}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:10%;width:auto;height:1.5625rem;aspect-ratio:1/1;margin:0 3px 0 5px;vertical-align:bottom}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-left:5px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding:10px}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px;height:calc(100% - 15px)}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return u})();var ye=o(7525);let Pe=(()=>{class u{constructor(l,f){this.router=l,this.authService=f}canActivate(){return"pro"===this.authService.accessLevel.value||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(f){return new(f||u)(t.LFG(Q.F0),t.LFG(ye.e))}}static{this.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),_e=(()=>{class u{constructor(l,f){this.router=l,this.store=f}canActivate(){return!!this.store.selectSnapshot(xt.E.selectedRepositoryPath)||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(f){return new(f||u)(t.LFG(Q.F0),t.LFG(Lt.yh))}}static{this.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();var ue=o(7582),Te=o(2438),we=o(9589),Ie=o(271),ke=o(7547),Ae=o(7081),Ee=o(5248),Me=o(5657),Le=o(2098);function De(u,Et){1&u&&(t.TgZ(0,"mat-icon",10),t._uU(1,"folder"),t.qZA())}function Re(u,Et){1&u&&t._UZ(0,"mat-spinner",11)}function Ze(u,Et){if(1&u){const l=t.EpF();t.TgZ(0,"a",5),t.NdJ("mouseup",function(p){const N=t.CHM(l).$implicit,pt=t.oxw();return t.KtG(pt.tabClicked(p,N))})("dragstart",function(p){const $=t.CHM(l),N=$.$implicit,pt=$.index,Tt=t.oxw();return t.KtG(Tt.dragstartListener(p,N,pt))})("dragleave",function(){t.CHM(l);const p=t.oxw();return t.KtG(p.dragOverRepositoryIndex.next(null))})("dragover",function(p){const N=t.CHM(l).index,pt=t.oxw();return t.KtG(pt.dragoverListener(p,N))})("drop",function(p){const N=t.CHM(l).index,pt=t.oxw();return t.KtG(pt.dropListener(p,N))}),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.YNc(4,De,2,0,"mat-icon",6),t.YNc(5,Re,1,0,"mat-spinner",7),t.TgZ(6,"span",8),t._uU(7),t.qZA(),t.TgZ(8,"mat-icon",9),t.NdJ("click",function(){const $=t.CHM(l).$implicit,N=t.oxw();return t.KtG(N.closeRepository($.path))}),t._uU(9,"close"),t.qZA()()}if(2&u){const l=Et.$implicit,f=Et.index,p=t.oxw();t.ekj("border-left",t.lcZ(1,11,p.hasLeftBorder(f)))("border-right",t.lcZ(2,13,p.hasRightBorder(f))),t.Q6J("matTooltip",l.path)("active",t.lcZ(3,15,p.selectedRepositoryPath)===l.path),t.xp6(4),t.Q6J("ngIf",l.loaded),t.xp6(1),t.Q6J("ngIf",!l.loaded),t.xp6(1),t.ekj("disabled",!l.loaded),t.xp6(1),t.Oqu(l.name)}}function Be(u,Et){if(1&u){const l=t.EpF();t.TgZ(0,"a",12),t.NdJ("mouseup",function(p){t.CHM(l);const $=t.oxw();return t.KtG($.changelogClicked(p))}),t.ALo(1,"translate"),t.ALo(2,"async"),t.TgZ(3,"mat-icon",10),t._uU(4,"auto_awesome"),t.qZA(),t.TgZ(5,"span",8),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-icon",13),t.NdJ("mouseup",function(p){t.CHM(l);const $=t.oxw();return t.KtG($.closeChangelogClicked(p))}),t._uU(9,"close"),t.qZA()()}if(2&u){const l=t.oxw();t.Q6J("matTooltip",t.lcZ(1,3,"See whats new! !release notes!"))("active",l.isChangelogUrl()&&null===t.lcZ(2,5,l.selectedRepositoryPath)),t.xp6(6),t.Oqu(t.lcZ(7,7,"Release Notes"))}}let Se=(()=>{class u extends((0,ft.j)(rt.A)){documentKeydown(l){if(!l.isComposing&&(Ee.V?l.metaKey:l.ctrlKey)&&!l.altKey&&!l.metaKey)switch(l.key){case"W":case"w":if(!l.shiftKey){const f=this.store.selectSnapshot(xt.E.selectedRepositoryPath);f&&this.closeRepository(f)}break;case"T":case"t":l.shiftKey||this.openNewRepository();break;case"Tab":{const f=this.store.selectSnapshot(xt.E.selectedRepositoryPath);this.visibleRepositories.pipe((0,A.q)(1)).subscribe(p=>{const $=f?p.findIndex(pt=>pt.path===f):p.length;if($<0)throw new tt.VF(f??"");let N=$+(l.shiftKey?-1:1);N>=p.length?N=0:N<0&&(N=p.length-1),this.changeRepository(p[N]?.path??null)});break}}}documentMouseDown(l){1===l.button&&l.preventDefault()}constructor(l,f,p,$){super(),this.cdr=l,this.router=f,this.store=p,this.updatesApiService=$,this.inkBarAnimationDisabled=new r.X(!1),this.dragRepositoryIndex=null,this.dragOverRepositoryIndex=new r.X(null),this.dragPosition=new r.X(null),this.dragstartListener=(N,pt,Tt)=>{N.dataTransfer&&(N.dataTransfer.setData("app/repository",pt.path),N.dataTransfer.setData("app/repository-tab",pt.path),N.dataTransfer.effectAllowed="move",this.dragRepositoryIndex=Tt)},this.dragoverListener=(N,pt)=>{if(N.dataTransfer&&N.dataTransfer.types.includes("app/repository")){N.preventDefault(),N.dataTransfer.dropEffect="move",this.dragOverRepositoryIndex.value!==pt&&this.dragOverRepositoryIndex.next(pt);const Tt=N.target;if(Tt.draggable){const nt=this.getDragoverPosition(N.offsetX,Tt.clientWidth);this.dragPosition.value!==nt&&this.dragPosition.next(nt)}}},this.dropListener=(N,pt)=>{if(N.dataTransfer&&N.dataTransfer.types.includes("app/repository-tab")){this.dragOverRepositoryIndex.value!==pt&&this.dragOverRepositoryIndex.next(pt);const Tt=N.target;if(Tt.draggable){const nt=this.getDragoverPosition(N.offsetX,Tt.clientWidth);this.dragPosition.value!==nt&&this.dragPosition.next(nt)}N.preventDefault(),(0,m.a)([this.openOrLoadingRepositories,this.visibleRepositories]).pipe((0,Pt.R)(this.destroyed$),(0,A.q)(1)).subscribe(([nt,Bt])=>{const Yt=pt+("right"===this.dragPosition.value?1:0);if(null!==this.dragRepositoryIndex&&Yt>=0){const Ht=Bt[this.dragRepositoryIndex]?.path,Gt=Bt[Yt]?.path,te=nt.findIndex(Kt=>Kt.path===Ht),ee=Gt?nt.findIndex(Kt=>Kt.path===Gt):nt.length,Ut=te>ee?[...nt.slice(0,ee),nt[te],...nt.filter((Kt,ie)=>ie!==te).slice(ee)]:te<ee?[...nt.slice(0,ee).filter((Kt,ie)=>ie!==te),nt[te],...nt.slice(ee)]:nt;this.inkBarAnimationDisabled.next(!0);const Qt=Ut.map(Kt=>Kt?.path).filter(bt.$K);this.store.dispatch(new V.jq(Qt)).pipe((0,ke.g)(250)).subscribe(()=>this.inkBarAnimationDisabled.next(!1))}})}this.dragRepositoryIndex=null,this.dragOverRepositoryIndex.next(null),this.dragPosition.next(null)},this.hasLeftBorder=N=>(0,m.a)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,x.U)(([pt,Tt])=>pt===N&&"left"===Tt||pt===N-1&&"right"===Tt)),this.hasRightBorder=N=>(0,m.a)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,x.U)(([pt,Tt])=>pt===N&&"right"===Tt||pt===N+1&&"left"===Tt)),this.getDragoverPosition=(N,pt)=>N/pt<.5?"left":"right"}ngOnInit(){this.visibleRepositories=(0,m.a)([this.openOrLoadingRepositories,this.profile]).pipe((0,x.U)(([l,f])=>f&&"all"!==f.allowedRepositories?l.filter(p=>f.allowedRepositories.includes(p.path)):l),(0,Pt.R)(this.destroyed$),(0,Ae.d)(1)),this.hasUnreadChangelog=this.store.select(Me.U9.changelogReadUpto).pipe((0,dt.w)(l=>this.updatesApiService.getVersion().pipe((0,x.U)(f=>{if(!l)return!1;const[p,$,N]=f.replace(/-.*$/,"").split(".").map(Yt=>+Yt),[pt,Tt,nt]=l.replace(/-.*$/,"").split(".").map(Yt=>+Yt),Bt=void 0===p||void 0===$||void 0===pt||void 0===Tt||pt<p||Tt<$;return Bt&&this.openChangelog(),Bt}))))}ngAfterViewInit(){setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},100),setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},1e3)}trackRepository(l,f){return f.path}tabClicked(l,f){switch(l.button){case 0:f.loaded&&this.changeRepository(f.path);break;case 1:this.closeRepository(f.path)}}changeRepository(l){this.store.dispatch(new V.BZ(l)).subscribe(()=>{this.router.navigate(["/standard/default"])})}closeRepository(l){this.store.dispatch(new V.F$(l))}isChangelogUrl(){return"/standard/changelog"===this.router.url}changelogClicked(l){switch(l.button){case 0:this.openChangelog();break;case 1:this.closeChangelog()}}closeChangelogClicked(l){0===l.button&&(this.closeChangelog(),l.preventDefault(),l.stopPropagation())}openChangelog(){this.store.dispatch(new V.BZ(null)).subscribe(()=>{this.router.navigate(["/standard/changelog"])})}closeChangelog(){this.updatesApiService.getVersion().subscribe(l=>{this.store.dispatch(new Me.kH(l)).subscribe(()=>{this.router.navigate(["/standard/default"])})})}openNewRepository(){this.store.dispatch(new V.BZ(null)).subscribe(()=>{this.router.navigate(["/standard/open-repository"])})}static{this.\u0275fac=function(f){return new(f||u)(t.Y36(t.sBO),t.Y36(Q.F0),t.Y36(Lt.yh),t.Y36(Le.j))}}static{this.\u0275cmp=t.Xpm({type:u,selectors:[["app-repository-tabs-view"]],viewQuery:function(f,p){if(1&f&&t.Gf(n.BU,5),2&f){let $;t.iGM($=t.CRH())&&(p.matTabNav=$.first)}},hostBindings:function(f,p){1&f&&t.NdJ("keydown",function(N){return p.documentKeydown(N)},!1,t.evT)("mousedown",function(N){return p.documentMouseDown(N)},!1,t.evT)},features:[t.qOj],decls:13,vars:20,consts:[["mat-tab-nav-bar","",3,"tabPanel","mat-stretch-tabs","disablePagination"],["mat-tab-link","","draggable","true",3,"border-left","border-right","matTooltip","active","mouseup","dragstart","dragleave","dragover","drop",4,"ngFor","ngForOf","ngForTrackBy"],["mat-tab-link","","class","changelog-link",3,"matTooltip","active","mouseup",4,"ngIf"],["mat-tab-link","",1,"new-tab-link",3,"matTooltip","active","click"],["tabPanel",""],["mat-tab-link","","draggable","true",3,"matTooltip","active","mouseup","dragstart","dragleave","dragover","drop"],["class","prefix",4,"ngIf"],["class","prefix disabled","diameter","18",4,"ngIf"],[1,"name"],["draggable","false",1,"suffix",3,"click"],[1,"prefix"],["diameter","18",1,"prefix","disabled"],["mat-tab-link","",1,"changelog-link",3,"matTooltip","active","mouseup"],[1,"suffix",3,"mouseup"]],template:function(f,p){if(1&f&&(t.TgZ(0,"nav",0),t.ALo(1,"async"),t.YNc(2,Ze,10,17,"a",1),t.ALo(3,"async"),t.YNc(4,Be,10,9,"a",2),t.ALo(5,"async"),t.TgZ(6,"a",3),t.NdJ("click",function(){return p.openNewRepository()}),t.ALo(7,"translate"),t.ALo(8,"async"),t.TgZ(9,"mat-icon"),t._uU(10,"add"),t.qZA()()(),t._UZ(11,"mat-tab-nav-panel",null,4)),2&f){const $=t.MAs(12);t.ekj("ink-bar-animation-disabled",t.lcZ(1,10,p.inkBarAnimationDisabled)),t.Q6J("tabPanel",$)("mat-stretch-tabs",!1)("disablePagination",!0),t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,12,p.visibleRepositories))("ngForTrackBy",p.trackRepository),t.xp6(2),t.Q6J("ngIf",p.isChangelogUrl()||t.lcZ(5,14,p.hasUnreadChangelog)),t.xp6(2),t.Q6J("matTooltip",t.lcZ(7,16,"Open a new repository"))("active",!p.isChangelogUrl()&&null===t.lcZ(8,18,p.selectedRepositoryPath))}},dependencies:[O.sg,O.O5,lt.Hw,Ct.gM,_.Ou,n.BU,n.sW,n.Nj,O.Ov,Ft.X],styles:['nav.ink-bar-animation-disabled[_ngcontent-%COMP%]     .mat-ink-bar{transition:none!important}.mat-mdc-tab-link[_ngcontent-%COMP%]{position:relative;padding:0 18px;min-width:120px}.mat-mdc-tab-link[_ngcontent-%COMP%]     .mdc-tab__content{pointer-events:initial}.mat-mdc-tab-link[_ngcontent-%COMP%]:before, .mat-mdc-tab-link[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;height:100%;width:1px;margin:0;padding:0;border:none;background-color:transparent;top:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:before{left:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:after{right:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:first-child:before{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]:nth-last-child(2):after{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{margin-right:10px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{pointer-events:none}.mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{margin-left:5px;z-index:1}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.new-tab-link[_ngcontent-%COMP%]{min-width:48px}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#ffffff80}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#00000061}'],changeDetection:0})}}return(0,ue.gn)([(0,Lt.Ph)(xt.E.selectedRepositoryPath)],u.prototype,"selectedRepositoryPath",void 0),(0,ue.gn)([(0,Lt.Ph)(xt.E.openOrLoadingRepositories)],u.prototype,"openOrLoadingRepositories",void 0),(0,ue.gn)([(0,Lt.Ph)(Vt.$.selectedProfile)],u.prototype,"profile",void 0),u})();const Fe=["header"];function Ue(u,Et){if(1&u&&t._UZ(0,"app-avatar",7),2&u){const l=t.oxw().ngIf;t.Q6J("email",l.email)}}function Ne(u,Et){if(1&u&&(t.TgZ(0,"span"),t.YNc(1,Ue,1,1,"app-avatar",6),t._uU(2),t.qZA()),2&u){const l=Et.ngIf;t.xp6(1),t.Q6J("ngIf",l.email),t.xp6(1),t.hij(" ",l.profileName," ")}}function Ve(u,Et){if(1&u&&t._UZ(0,"app-avatar",10),2&u){const l=t.oxw().$implicit;t.Q6J("email",l.value.email)}}function Ye(u,Et){if(1&u&&(t.TgZ(0,"mat-option",8),t.YNc(1,Ve,1,1,"app-avatar",9),t._uU(2),t.qZA()),2&u){const l=Et.$implicit;t.Q6J("value",l.key),t.xp6(1),t.Q6J("ngIf",l.value.email),t.xp6(1),t.hij(" ",l.value.profileName," ")}}const Ke=function(){return["/settings"]},We=[{path:"",component:(()=>{class u extends((0,ft.j)(rt.A)){constructor(l){super(),this.store=l,this.selectedProfileControl=new I.NI(null)}ngOnInit(){this.selectedProfileId.pipe((0,Pt.R)(this.destroyed$)).subscribe(l=>{this.selectedProfileControl.setValue(l,{emitEvent:!1})}),this.selectedProfileControl.valueChanges.pipe((0,Pt.R)(this.destroyed$)).subscribe(l=>{null!==l&&this.store.dispatch(new we.Pt(l))}),(0,Te.R)(this.headerElement.nativeElement,"wheel",{passive:!0}).pipe((0,Pt.R)(this.destroyed$)).subscribe(l=>{this.headerElement.nativeElement.scrollLeft+=l.deltaY})}static{this.\u0275fac=function(f){return new(f||u)(t.Y36(Lt.yh))}}static{this.\u0275cmp=t.Xpm({type:u,selectors:[["ng-component"]],viewQuery:function(f,p){if(1&f&&t.Gf(Fe,7),2&f){let $;t.iGM($=t.CRH())&&(p.headerElement=$.first)}},features:[t.qOj],decls:19,vars:17,consts:[["header",""],["subscriptSizing","dynamic",1,"profile-selector"],[3,"formControl"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"settings-icon",3,"routerLink","matTooltip"],[3,"email",4,"ngIf"],[3,"email"],[3,"value"],["class","profile-select-avatar",3,"email",4,"ngIf"],[1,"profile-select-avatar",3,"email"]],template:function(f,p){1&f&&(t.TgZ(0,"header",null,0),t._UZ(2,"app-repository-tabs-view"),t.TgZ(3,"mat-form-field",1)(4,"mat-label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"mat-select",2)(8,"mat-select-trigger"),t.YNc(9,Ne,3,2,"span",3),t.ALo(10,"async"),t.qZA(),t.YNc(11,Ye,3,3,"mat-option",4),t.ALo(12,"keyvalue"),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"mat-icon",5),t.ALo(15,"translate"),t._uU(16,"settings"),t.qZA()(),t._UZ(17,"router-outlet")(18,"app-notification-tray-view")),2&f&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"Select Profile")),t.xp6(2),t.Q6J("formControl",p.selectedProfileControl),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,8,p.selectedProfile)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(12,10,t.lcZ(13,12,p.profiles))),t.xp6(3),t.Q6J("routerLink",t.DdM(16,Ke))("matTooltip",t.lcZ(15,14,"Settings")))},dependencies:[Y.KE,Y.hX,e.gD,e.$L,P.ey,O.sg,O.O5,I.JJ,I.oH,lt.Hw,Ct.gM,j.A,Ie.G,Se,Q.lC,Q.rH,O.Ov,O.Nd,Ft.X],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;height:50px;min-height:50px;border-bottom:1px solid transparent;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:1px}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]{flex:1 0 auto}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]     .mat-mdc-tab-nav-bar{border:none}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]{flex:0 0 200px;margin-right:12px;margin-top:8px;height:38px}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{height:15px;vertical-align:middle;font-size:0}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:7px 0;min-height:38px}header[_ngcontent-%COMP%]   .settings-icon[_ngcontent-%COMP%]{flex:0 0 auto;margin:12px;cursor:pointer}app-notification-tray-view[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px;margin-right:10px;margin-top:10px;z-index:1000}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#ffffff1f}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#0000001f}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}"],changeDetection:0})}}return(0,ue.gn)([(0,Lt.Ph)(Vt.$.profiles)],u.prototype,"profiles",void 0),(0,ue.gn)([(0,Lt.Ph)(Vt.$.selectedProfileId)],u.prototype,"selectedProfileId",void 0),(0,ue.gn)([(0,Lt.Ph)(Vt.$.selectedProfile)],u.prototype,"selectedProfile",void 0),(0,ue.gn)([(0,Lt.Ph)(xt.E.selectedRepositoryPath)],u.prototype,"selectedRepositoryPath",void 0),u})(),children:[{path:"blame",canActivate:[_e],loadChildren:()=>o.e(623).then(o.bind(o,4623)).then(u=>u.BlameLayoutModule)},{path:"changelog",loadChildren:()=>o.e(504).then(o.bind(o,7504)).then(u=>u.ChangelogLayoutModule)},{path:"default",canActivate:[_e],loadChildren:()=>Promise.all([o.e(305),o.e(365),o.e(696)]).then(o.bind(o,4696)).then(u=>u.DefaultLayoutModule)},{path:"open-repository",loadChildren:()=>Promise.all([o.e(305),o.e(25),o.e(773)]).then(o.bind(o,6773)).then(u=>u.OpenRepositoryLayoutModule)},{path:"pull-request/create/:type/:integrationId",canActivate:[_e,Pe],component:be},{path:"pull-request/view/:type/:owner/:repo/:id",canActivate:[_e,Pe],component:xe},{path:"rebase",canActivate:[_e],loadChildren:()=>Promise.all([o.e(365),o.e(478)]).then(o.bind(o,5478)).then(u=>u.RebaseLayoutModule)},{path:"search",canActivate:[_e],loadChildren:()=>Promise.all([o.e(305),o.e(622)]).then(o.bind(o,9622)).then(u=>u.SearchLayoutModule)},{path:"",redirectTo:"default",pathMatch:"full"}]}];let Je=(()=>{class u{static{this.\u0275fac=function(f){return new(f||u)}}static{this.\u0275mod=t.oAB({type:u})}static{this.\u0275inj=t.cJS({imports:[Q.Bz.forChild(We),Q.Bz]})}}return u})(),Qe=(()=>{class u{static{this.\u0275fac=function(f){return new(f||u)}}static{this.\u0275mod=t.oAB({type:u})}static{this.\u0275inj=t.cJS({imports:[s.ie,e.LD,v.I,D.X,ct,F.Z,Je]})}}return u})()},7735:(St,mt,o)=>{o.d(mt,{m:()=>D});var s=o(6250),e=o(5879),v=o(1380);let D=(()=>{class i{constructor(Y){this.baseApi=Y}getHighlightedFile(Y,W,w,_){return this.baseApi.single(s.w.highlight.getHighlightedFile,Y,W,w,_)}static{this.\u0275fac=function(W){return new(W||i)(e.LFG(v._))}}static{this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})()},3902:(St,mt,o)=>{o.d(mt,{c:()=>v});var s=o(1345),e=o(5879);let v=(()=>{class D{static{this.\u0275fac=function(Y){return new(Y||D)}}static{this.\u0275mod=e.oAB({type:D})}static{this.\u0275inj=e.cJS({imports:[s.I]})}}return D})()},9918:(St,mt,o)=>{o.d(mt,{d:()=>i});var s=o(3665),e=o(3153),v=o(3902),D=o(5879);let i=(()=>{class a{getPatchPath(W){switch(W.status){case s.v.Added:case s.v.Untracked:return W.newFilePath;case s.v.Conflicted:case s.v.Modified:case s.v.Renamed:return W.oldFilePath===W.newFilePath?W.newFilePath:`${W.oldFilePath} --\x3e ${W.newFilePath}`;case s.v.Deleted:return W.oldFilePath;default:throw new e.hj(W.status)}}getPatchIcon(W){switch(W.status){case s.v.Added:case s.v.Untracked:return"add";case s.v.Conflicted:return"warning";case s.v.Modified:return"create";case s.v.Deleted:return"remove";case s.v.Renamed:return"swap_horiz";default:throw new e.hj(W.status)}}getPatchIconColorClass(W){switch(W.status){case s.v.Added:case s.v.Untracked:return"green";case s.v.Conflicted:case s.v.Modified:return"orange";case s.v.Deleted:return"red";case s.v.Renamed:return"blue";default:throw new e.hj(W.status)}}static{this.\u0275fac=function(w){return new(w||a)}}static{this.\u0275prov=D.Yz7({token:a,factory:a.\u0275fac,providedIn:v.c})}}return a})()},9500:(St,mt,o)=>{o.d(mt,{A:()=>F});var s=o(2096),e=o(8504),v=o(6306),D=o(4664),i=o(7398),a=o(3153),Y=o(9076),W=o(751),w=o(4820),_=o(4214),n=o(2401),y=o(3559),R=o(5879),at=o(4666),t=o(7361),ct=o(8205);let F=(()=>{class Q{constructor(r,m,b){this.store=r,this.repositoriesApi=m,this.stashApi=b,this.discardAllChanges=C=>this.store.dispatch(new y.z0(C,{name:"Discard",detail:(0,Y.Iu)("All changes"),do:x=>{const E=this.store.selectSnapshot(n.E.openRepositoryIds);return this.stashApi.saveWorkingCopyState(C).pipe((0,v.K)(()=>(x(),(0,s.of)(""))),(0,D.w)(X=>this.repositoriesApi.discardAllChanges(C).pipe((0,v.K)(dt=>a.SO.matches(dt)?(0,e._)(()=>new W.ZR(dt)):(0,e._)(()=>dt)),(0,w.C)(dt=>{const et=dt?.filter(ot=>E.includes(ot))??[];return this.store.dispatch([...et.map(ot=>new _.Vu(ot,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(C,[_.nh.unstagedChanges,_.nh.submodules])]).pipe((0,i.U)(()=>[et,X]))}))))},undo:([x,E])=>this.stashApi.restoreWorkingCopyState(C,E).pipe((0,w.C)(()=>this.store.dispatch([...x.map(X=>new _.Vu(X,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(C,[_.nh.unstagedChanges,_.nh.submodules])])))})),this.discardFiles=(C,x)=>this.store.dispatch(new y.z0(C,{name:"Discard",detail:x.map(E=>E.newFilePath??E.oldFilePath).join(", "),do:E=>{const X=this.store.selectSnapshot(n.E.openRepositoryIds);return this.stashApi.saveWorkingCopyState(C,x.map(dt=>dt.newFilePath??dt.oldFilePath).filter(W.$K)).pipe((0,v.K)(()=>(E(),(0,s.of)(""))),(0,D.w)(dt=>this.repositoriesApi.discardFiles(C,x).pipe((0,v.K)(et=>a.SO.matches(et)?(0,e._)(()=>new W.ZR(et)):(0,e._)(()=>et)),(0,w.C)(et=>{const ot=et?.filter(G=>X.includes(G))??[];return this.store.dispatch([...ot.map(G=>new _.Vu(G,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(C,[_.nh.unstagedChanges,_.nh.submodules])]).pipe((0,i.U)(()=>[ot,dt]))}))))},undo:([E,X])=>this.stashApi.restoreWorkingCopyState(C,X).pipe((0,w.C)(()=>this.store.dispatch([...E.map(dt=>new _.Vu(dt,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(C,[_.nh.unstagedChanges,_.nh.submodules])])))})),this.discardFileLines=(C,x,E,X)=>this.store.dispatch(new y.z0(C,{name:"Discard lines",detail:(0,Y.Iu)("In _name_",{name:E??x}),do:()=>this.repositoriesApi.discardFileLines(C,x,E,X).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageAllChanges=C=>this.store.dispatch(new y.z0(C,{name:"Stage",detail:(0,Y.Iu)("All changes"),do:()=>this.repositoriesApi.getUnstagedChanges(C).pipe((0,D.w)(x=>this.repositoriesApi.stageAllChanges(C).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))),(0,w.C)(()=>(0,s.of)(x))))),undo:x=>this.repositoriesApi.unstageFiles(C,x).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageFiles=(C,x)=>this.store.dispatch(new y.z0(C,{name:"Stage",detail:x.map(E=>E.newFilePath??E.oldFilePath).join(", "),do:()=>this.repositoriesApi.stageFiles(C,x).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules])))),undo:()=>this.repositoriesApi.unstageFiles(C,x).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageFileLines=(C,x,E,X)=>this.store.dispatch(new y.z0(C,{name:"Stage lines",detail:(0,Y.Iu)("In _name_",{name:E??x}),do:()=>this.repositoriesApi.stageFileLines(C,x,E,X).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageAllChanges=C=>this.store.dispatch(new y.z0(C,{name:"Unstage",detail:(0,Y.Iu)("All changes"),do:()=>this.repositoriesApi.getStagedChanges(C).pipe((0,D.w)(x=>this.repositoriesApi.unstageAllChanges(C).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))),(0,w.C)(()=>(0,s.of)(x))))),undo:x=>this.repositoriesApi.stageFiles(C,x).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageFiles=(C,x)=>this.store.dispatch(new y.z0(C,{name:"Unstage",detail:x.map(E=>E.newFilePath??E.oldFilePath).join(", "),do:()=>this.repositoriesApi.unstageFiles(C,x).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules])))),undo:()=>this.repositoriesApi.stageFiles(C,x).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageFileLines=(C,x,E,X)=>this.store.dispatch(new y.z0(C,{name:"Unstage lines",detail:(0,Y.Iu)("In _name_",{name:E??x}),do:()=>this.repositoriesApi.unstageFileLines(C,x,E,X).pipe((0,w.C)(()=>this.store.dispatch(new _.Vu(C,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))}))}static{this.\u0275fac=function(m){return new(m||Q)(R.LFG(at.yh),R.LFG(t.a),R.LFG(ct._))}}static{this.\u0275prov=R.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},3235:(St,mt,o)=>{o.d(mt,{T:()=>Y});var s=o(5879),e=o(4573),v=o(7910);function D(W,w){if(1&W){const _=s.EpF();s.TgZ(0,"app-new-commit",3),s.NdJ("patchChanged",function(y){s.CHM(_);const R=s.oxw(2);return s.KtG(R.patchChanged.next(y))}),s.qZA()}}function i(W,w){if(1&W){const _=s.EpF();s.TgZ(0,"app-commit",4),s.NdJ("patchChanged",function(y){s.CHM(_);const R=s.oxw(2);return s.KtG(R.patchChanged.next(y))}),s.qZA()}if(2&W){const _=s.oxw(2);s.Q6J("commit",_.commit)("selectedFile",_.selectedFile)}}function a(W,w){if(1&W&&(s.ynx(0),s.YNc(1,D,1,0,"app-new-commit",1),s.YNc(2,i,1,2,"app-commit",2),s.BQk()),2&W){const _=w.ngIf;s.xp6(1),s.Q6J("ngIf","head"===_),s.xp6(1),s.Q6J("ngIf","head"!==_)}}let Y=(()=>{class W extends((0,e.j)(v.A)){constructor(){super(...arguments),this.patchChanged=new s.vpe}static{this.\u0275fac=function(){let _;return function(y){return(_||(_=s.n5z(W)))(y||W)}}()}static{this.\u0275cmp=s.Xpm({type:W,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[s.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"patchChanged",4,"ngIf"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],[3,"patchChanged"],[3,"commit","selectedFile","patchChanged"]],template:function(n,y){1&n&&(s.YNc(0,a,3,2,"ng-container",0),s.ALo(1,"async")),2&n&&s.Q6J("ngIf",s.lcZ(1,1,y.commit))},encapsulation:2,changeDetection:0})}}return W})()},1264:(St,mt,o)=>{o.d(mt,{$:()=>pe});var s=o(5195),e=o(5986),v=o(4516),D=o(5940),i=o(1345),a=o(3902),Y=o(535),W=o(3235),w=o(7582),_=o(8484),n=o(5879),y=o(4666),R=o(8180),at=o(9773),t=o(4573),ct=o(7910),F=o(2020),Q=o(4214),I=o(2401),r=o(3651),m=o(3897),b=o(9918),C=o(6814),x=o(617),E=o(2596),X=o(1102),dt=o(9193),et=o(3588),ot=o(5696),G=o(2415),Pt=o(7484);function It(gt,Wt){if(1&gt){const P=n.EpF();n.TgZ(0,"li",21),n.NdJ("click",function(){const vt=n.CHM(P).$implicit,Nt=n.oxw(4);return n.KtG(Nt.changeCommit(vt))}),n._uU(1),n.qZA()}if(2&gt){const P=Wt.$implicit,U=Wt.first;n.Q6J("matTooltip",P),n.xp6(1),n.AsE("",U?"":", ","",P,"")}}function tt(gt,Wt){if(1&gt&&(n.TgZ(0,"div",18)(1,"span",4),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",19)(5,"ul"),n.YNc(6,It,2,3,"li",20),n.qZA()()()),2&gt){const P=n.oxw(2).ngIf;n.ekj("plural",P.parentIds.length>1),n.xp6(2),n.hij("",n.lcZ(3,4,1===P.parentIds.length?"Parent:":"Parents:")," "),n.xp6(4),n.Q6J("ngForOf",P.parentIds)}}function ft(gt,Wt){if(1&gt&&(n.TgZ(0,"div",22),n._uU(1),n.ALo(2,"translate"),n._UZ(3,"app-avatar",11),n.ALo(4,"async"),n.TgZ(5,"span",12),n._uU(6),n.qZA()()),2&gt){const P=n.oxw(2).ngIf,U=n.oxw();n.Q6J("matTooltip",P.committerName+" ("+P.committerEmail+")"),n.xp6(1),n.hij(" ",n.lcZ(2,5,"committed by")," "),n.xp6(2),n.Q6J("remotes",n.lcZ(4,7,U.remotes))("email",P.committerEmail),n.xp6(3),n.Oqu(P.committerName)}}function rt(gt,Wt){if(1&gt){const P=n.EpF();n.TgZ(0,"div",23)(1,"div",24),n._uU(2),n.qZA(),n.TgZ(3,"button",25),n.NdJ("click",function(){const vt=n.CHM(P).data,Nt=n.oxw(3);return n.KtG(Nt.copyToClipboard(Nt.getPatchPath(vt)))}),n.TgZ(4,"mat-icon"),n._uU(5,"content_copy"),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"translate"),n.qZA()(),n.TgZ(9,"button",26),n.NdJ("click",function(){const vt=n.CHM(P).data,Nt=n.oxw(3);return n.KtG(Nt.blamePatch(vt))}),n.TgZ(10,"mat-icon"),n._uU(11,"document_scanner"),n.qZA(),n.TgZ(12,"span"),n._uU(13),n.ALo(14,"translate"),n.qZA()()()}if(2&gt){const P=Wt.data,U=n.oxw(3);let q;n.xp6(1),n.Q6J("matTooltip",null!==(q=U.getPatchPath(P))&&void 0!==q?q:""),n.xp6(1),n.Oqu(U.getPatchFilename(P)),n.xp6(5),n.Oqu(n.lcZ(8,4,"Copy Path")),n.xp6(6),n.Oqu(n.lcZ(14,6,"Blame"))}}function bt(gt,Wt){if(1&gt){const P=n.EpF();n.TgZ(0,"div",2)(1,"header")(2,"div",3),n.NdJ("click",function(){n.CHM(P);const q=n.oxw().ngIf,vt=n.oxw();return n.KtG(vt.copyToClipboard(q.id))}),n.TgZ(3,"span",4),n._uU(4),n.ALo(5,"translate"),n.qZA(),n._uU(6),n.qZA(),n.YNc(7,tt,7,6,"div",5),n.qZA(),n.TgZ(8,"app-grid",6)(9,"app-grid-cell")(10,"mat-card",7)(11,"div",8)(12,"span",9),n._uU(13),n.qZA(),n._UZ(14,"br"),n.TgZ(15,"span"),n._uU(16),n.qZA()(),n.TgZ(17,"div",10),n._uU(18),n.ALo(19,"translate"),n._UZ(20,"app-avatar",11),n.ALo(21,"async"),n.TgZ(22,"span",12),n._uU(23),n.qZA(),n._UZ(24,"br"),n.qZA(),n.YNc(25,ft,7,9,"div",13),n.TgZ(26,"div",14),n.ALo(27,"translateDate"),n._uU(28),n.ALo(29,"translate"),n.TgZ(30,"span",12),n._uU(31),n.ALo(32,"translateDate"),n.qZA(),n._uU(33),n.ALo(34,"translate"),n.TgZ(35,"span",12),n._uU(36),n.ALo(37,"translateDate"),n.qZA()()()(),n.TgZ(38,"app-grid-cell")(39,"mat-card",15)(40,"app-patches-view",16),n.NdJ("selectedChanged",function(q){n.CHM(P);const vt=n.oxw(2);return n.KtG(vt.changeFile(q.oldFilePath,q.newFilePath))})("contextMenuOpened",function(q){n.CHM(P);const vt=n.MAs(43),Nt=n.oxw(2);return n.KtG(Nt.openContextMenu(vt,q[0],q[1]))}),n.ALo(41,"async"),n.qZA()()()(),n.YNc(42,rt,15,8,"ng-template",null,17,n.W1O),n.qZA()}if(2&gt){const P=n.oxw().ngIf,U=n.oxw();n.xp6(2),n.Q6J("matTooltip",P.id),n.xp6(2),n.Oqu(n.lcZ(5,19,"Commit:")),n.xp6(2),n.hij(" ",P.id," "),n.xp6(1),n.Q6J("ngIf",P.parentIds.length),n.xp6(6),n.Oqu(U.getMessageSubject(P.message)),n.xp6(3),n.Oqu(U.getMessageBody(P.message)),n.xp6(1),n.Q6J("matTooltip",P.authorName+" ("+P.authorEmail+")"),n.xp6(1),n.hij(" ",n.lcZ(19,21,"authored by")," "),n.xp6(2),n.Q6J("remotes",n.lcZ(21,23,U.remotes))("email",P.authorEmail),n.xp6(3),n.Oqu(P.authorName),n.xp6(2),n.Q6J("ngIf",P.committerName&&P.committerEmail&&(P.authorName!==P.committerName||P.authorEmail!==P.committerEmail)),n.xp6(1),n.Q6J("matTooltip",n.xi3(27,25,P.date,"z")||""),n.xp6(2),n.hij(" ",n.lcZ(29,28,"on !date!")," "),n.xp6(3),n.Oqu(n.xi3(32,30,P.date,"longDate")),n.xp6(2),n.hij(" ",n.lcZ(34,33,"at !time!")," "),n.xp6(3),n.Oqu(n.xi3(37,35,P.date,"HH:mm")),n.xp6(4),n.Q6J("patches",P.patches)("selected",n.lcZ(41,38,U.selectedFile))}}function Mt(gt,Wt){if(1&gt&&(n.ynx(0),n.YNc(1,bt,44,40,"div",1),n.BQk()),2&gt){const P=Wt.ngIf;n.xp6(1),n.Q6J("ngIf",P&&"head"!==P)}}let xt=(()=>{class gt extends((0,t.j)(ct.A)){constructor(P,U,q,vt,Nt){super(),this.overlay=P,this.router=U,this.viewContainerRef=q,this.store=vt,this.commitDetailService=Nt,this.patchChanged=new n.vpe,this.overlayRef=null}getPatchPath(P){return this.commitDetailService.getPatchPath(P)}getPatchFilename(P){const U=this.commitDetailService.getPatchPath(P);return U?U.slice(U.lastIndexOf("/")+1):null}getMessageSubject(P){return P.split("\n")[0]??""}getMessageBody(P){return P.split("\n").slice(1).join("\n").trimEnd()}copyToClipboard(P){navigator.clipboard.writeText(P??"").then(()=>{})}changeCommit(P){this.selectedRepositoryPath.pipe((0,R.q)(1)).subscribe(U=>{null!==U&&(this.store.dispatch(new Q.jQ(U,P)),P&&this.store.dispatch(new Q.BK(U,P)))})}changeFile(P,U){this.patchChanged.next({area:"commit",oldFilePath:P,newFilePath:U})}blamePatch(P){this.commit.pipe((0,R.q)(1)).subscribe(U=>{this.router.navigate(["/standard/blame"],{queryParams:{area:"commit","commit-id":"head"===U?"head":U?.id,path:P.newFilePath}})})}openContextMenu(P,U,q){q.preventDefault(),q.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:q.x,y:q.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new _.UE(P,this.viewContainerRef,{data:U})),(0,F.t)(this.overlayRef).pipe((0,R.q)(1),(0,at.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(U){return new(U||gt)(n.Y36(r.aV),n.Y36(m.F0),n.Y36(n.s_b),n.Y36(y.yh),n.Y36(b.d))}}static{this.\u0275cmp=n.Xpm({type:gt,selectors:[["app-commit"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[n.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"matTooltip","click"],[1,"title"],["class","parent-commits",3,"plural",4,"ngIf"],["id","commit-detail-view","vertical",""],["appearance","outlined",1,"message"],[1,"content"],[1,"subject"],[1,"author",3,"matTooltip"],[3,"remotes","email"],[1,"highlight"],["class","committer",3,"matTooltip",4,"ngIf"],[1,"date",3,"matTooltip"],["appearance","outlined",1,"files"],[3,"patches","selected","selectedChanged","contextMenuOpened"],["fileContextMenu",""],[1,"parent-commits"],[1,"parent-commit-ids"],[3,"matTooltip","click",4,"ngFor","ngForOf"],[3,"matTooltip","click"],[1,"committer",3,"matTooltip"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"click"],["matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(U,q){1&U&&(n.YNc(0,Mt,2,1,"ng-container",0),n.ALo(1,"async")),2&U&&n.Q6J("ngIf",n.lcZ(1,1,q.commit))},dependencies:[s.a8,C.sg,C.O5,x.Hw,E.gM,X.A,dt.Y,et.M,ot.i,C.Ov,G.v,Pt.X],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;gap:10px}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;column-gap:10px;padding:0 10px;flex:0 0 auto;overflow-x:hidden;overflow-y:auto;font-weight:600}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 113px;min-width:113px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 106px;min-width:106px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]{flex-basis:163px;min-width:163px}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{width:calc(100% - 63px)}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}.message[_ngcontent-%COMP%]{height:calc(100% - 5px);margin:0 10px 5px;padding:16px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:1rem;overflow-wrap:anywhere}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-size:1.25rem}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:auto;height:1.5625rem;aspect-ratio:1/1;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:1.25rem}.files[_ngcontent-%COMP%]{height:calc(100% - 5px);margin:5px 10px 0;padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000000de}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return(0,w.gn)([(0,y.Ph)(I.E.selectedRemotes)],gt.prototype,"remotes",void 0),(0,w.gn)([(0,y.Ph)(I.E.selectedRepositoryPath)],gt.prototype,"selectedRepositoryPath",void 0),gt})();var Vt=o(7368),Lt=o(6223),_t=o(5619),Rt=o(2572),T=o(3019),k=o(7398),O=o(3620),L=o(7921),lt=o(4716),Ct=o(3665),z=o(1361),At=o(9076),g=o(5657),V=o(709),it=o(4304),j=o(9500),wt=o(4170),Z=o(6263),H=o(2296),ht=o(6885);function kt(gt,Wt){if(1&gt){const P=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(P);const q=n.oxw(2);return n.KtG(q.stage())}),n.ALo(1,"translate"),n.ALo(2,"nullEmpty"),n.ALo(3,"async"),n._UZ(4,"mat-icon",19),n.ALo(5,"nullEmpty"),n.ALo(6,"async"),n.qZA()}if(2&gt){const P=n.oxw(2);n.Q6J("matTooltip",n.lcZ(1,2,n.lcZ(2,4,n.lcZ(3,6,P.checkedUnstaged))?"Stage selected changes":"Stage all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(5,8,n.lcZ(6,10,P.checkedUnstaged))?"tray-plus":"tray-arrow-down")}}function Ft(gt,Wt){1&gt&&(n.TgZ(0,"div",22),n.ALo(1,"translate"),n.TgZ(2,"button",23)(3,"mat-icon"),n._uU(4,"warning"),n.qZA()()()),2&gt&&n.Q6J("matTooltip",n.lcZ(1,1,"Cannot stage conflicted files, resolve the conflicts first"))}function jt(gt,Wt){if(1&gt){const P=n.EpF();n.TgZ(0,"app-grid-cell",2)(1,"mat-card",12)(2,"div",13)(3,"button",14),n.NdJ("click",function(){n.CHM(P);const q=n.oxw();return n.KtG(q.clickAllUnstagedCheckbox())}),n.ALo(4,"translate"),n.ALo(5,"async"),n.TgZ(6,"mat-icon"),n._uU(7),n.ALo(8,"async"),n.qZA()(),n.TgZ(9,"div",15),n.YNc(10,kt,7,12,"button",16),n.ALo(11,"async"),n.YNc(12,Ft,5,3,"div",17),n.ALo(13,"async"),n.TgZ(14,"button",18),n.NdJ("click",function(){n.CHM(P);const q=n.oxw();return n.KtG(q.discard())}),n.ALo(15,"translate"),n.ALo(16,"nullEmpty"),n.ALo(17,"async"),n._UZ(18,"mat-icon",19),n.ALo(19,"nullEmpty"),n.ALo(20,"async"),n.qZA()()(),n.TgZ(21,"app-patches-view",20),n.NdJ("checkedChanged",function(q){n.CHM(P);const vt=n.oxw();return n.KtG(vt.setPatchChecked("unstaged",q[0],q[1]))})("selectedChanged",function(q){n.CHM(P);const vt=n.oxw();return n.KtG(vt.selectFile("unstaged",q.oldFilePath,q.newFilePath))})("contextMenuOpened",function(q){n.CHM(P);const vt=n.oxw(),Nt=n.MAs(23);return n.KtG(vt.openContextMenu("unstaged",Nt,q[0],q[1]))}),n.ALo(22,"async"),n.qZA()()()}if(2&gt){const P=Wt.ngIf,U=n.oxw();n.xp6(3),n.Q6J("matTooltip",n.lcZ(4,9,"check_box_outline_blank"===n.lcZ(5,11,U.allUnstagedCheckboxIcon)?"Select all":"Deselect all")),n.xp6(4),n.Oqu(n.lcZ(8,13,U.allUnstagedCheckboxIcon)),n.xp6(3),n.Q6J("ngIf",!1===n.lcZ(11,15,U.hasConflicts)),n.xp6(2),n.Q6J("ngIf",n.lcZ(13,17,U.hasConflicts)),n.xp6(2),n.Q6J("matTooltip",n.lcZ(15,19,n.lcZ(16,21,n.lcZ(17,23,U.checkedUnstaged))?"Discard selected changes":"Discard all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(19,25,n.lcZ(20,27,U.checkedUnstaged))?"tray-remove":"tray"),n.xp6(3),n.Q6J("patches",P)("checked",U.checkedUnstaged)("selected",n.lcZ(22,29,U.selectedUnstagedFile))}}function zt(gt,Wt){if(1&gt){const P=n.EpF();n.TgZ(0,"mat-card",24)(1,"div",13)(2,"button",14),n.NdJ("click",function(){n.CHM(P);const q=n.oxw();return n.KtG(q.clickAllStagedCheckbox())}),n.ALo(3,"translate"),n.ALo(4,"async"),n.TgZ(5,"mat-icon"),n._uU(6),n.ALo(7,"async"),n.qZA()(),n.TgZ(8,"div",15)(9,"button",25),n.NdJ("click",function(){n.CHM(P);const q=n.oxw();return n.KtG(q.unstage())}),n.ALo(10,"translate"),n.ALo(11,"nullEmpty"),n.ALo(12,"async"),n._UZ(13,"mat-icon",19),n.ALo(14,"nullEmpty"),n.ALo(15,"async"),n.qZA()()(),n.TgZ(16,"app-patches-view",20),n.NdJ("checkedChanged",function(q){n.CHM(P);const vt=n.oxw();return n.KtG(vt.setPatchChecked("staged",q[0],q[1]))})("selectedChanged",function(q){n.CHM(P);const vt=n.oxw();return n.KtG(vt.selectFile("staged",q.oldFilePath,q.newFilePath))})("contextMenuOpened",function(q){n.CHM(P);const vt=n.oxw(),Nt=n.MAs(23);return n.KtG(vt.openContextMenu("staged",Nt,q[0],q[1]))}),n.ALo(17,"async"),n.qZA()()}if(2&gt){const P=Wt.ngIf,U=n.oxw();n.xp6(2),n.Q6J("matTooltip",n.lcZ(3,7,"check_box_outline_blank"===n.lcZ(4,9,U.allStagedCheckboxIcon)?"Select all":"Deselect all")),n.xp6(4),n.Oqu(n.lcZ(7,11,U.allStagedCheckboxIcon)),n.xp6(3),n.Q6J("matTooltip",n.lcZ(10,13,n.lcZ(11,15,n.lcZ(12,17,U.checkedStaged))?"Unstage selected changes":"Unstage all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(14,19,n.lcZ(15,21,U.checkedStaged))?"tray-minus":"tray-arrow-up"),n.xp6(3),n.Q6J("patches",P)("checked",U.checkedStaged)("selected",n.lcZ(17,23,U.selectedStagedFile))}}function ce(gt,Wt){1&gt&&n._UZ(0,"mat-spinner",26)}function he(gt,Wt){1&gt&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&gt&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"Commit changes")))}function le(gt,Wt){if(1&gt){const P=n.EpF();n.TgZ(0,"button",31),n.NdJ("click",function(){n.CHM(P);const q=n.oxw().data,vt=n.oxw();return n.KtG(vt.blamePatch(q.area,q.patch))}),n.TgZ(1,"mat-icon"),n._uU(2,"document_scanner"),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"translate"),n.qZA()()}2&gt&&(n.xp6(4),n.Oqu(n.lcZ(5,1,"Blame")))}function me(gt,Wt){if(1&gt){const P=n.EpF();n.TgZ(0,"div",27)(1,"div",28),n._uU(2),n.qZA(),n.TgZ(3,"button",29),n.NdJ("click",function(){const vt=n.CHM(P).data,Nt=n.oxw();return n.KtG(Nt.copyToClipboard(Nt.getPatchPath(vt.patch)))}),n.TgZ(4,"mat-icon"),n._uU(5,"content_copy"),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"translate"),n.qZA()(),n.YNc(9,le,6,3,"button",30),n.qZA()}if(2&gt){const P=Wt.data,U=n.oxw();let q;n.xp6(1),n.Q6J("matTooltip",null!==(q=U.getPatchPath(P.patch))&&void 0!==q?q:""),n.xp6(1),n.Oqu(U.getPatchFilename(P.patch)),n.xp6(5),n.Oqu(n.lcZ(8,4,"Copy Path")),n.xp6(2),n.Q6J("ngIf",!U.isPatchAdded(P.patch))}}let ge=(()=>{class gt extends((0,t.j)(ct.A,z.P)){constructor(P,U,q,vt,Nt,se,ae){super(),this.overlay=P,this.router=U,this.viewContainerRef=q,this.store=vt,this.commitDetailService=Nt,this.repositoryActionsService=se,this.stagingActionsService=ae,this.patchChanged=new n.vpe,this.commitMessageControl=new Lt.NI(null),this.commitButtonLoading=new _t.X(!1),this.checkedStaged=new _t.X([]),this.checkedUnstaged=new _t.X([]),this.allStagedCheckboxIcon=new _t.X("check_box_outline_blank"),this.allUnstagedCheckboxIcon=new _t.X("check_box_outline_blank"),this.overlayRef=null,this.isPatchAdded=de=>de.status===Ct.v.Added}ngOnInit(){this.stagedChanges=this.allStagedChanges.pipe((0,k.U)(P=>P?.filter(U=>U.status!==Ct.v.Conflicted)??null)),this.selectedRepositoryCommitMessage.pipe((0,at.R)(this.destroyed$)).subscribe(P=>{this.commitMessageControl.setValue(P,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,O.b)(200),(0,at.R)(this.destroyed$)).subscribe(P=>{const U=this.store.selectSnapshot(I.E.selectedRepositoryPath);U&&this.store.dispatch(new Q.$h(U,P))}),this.commitButtonDisabled=(0,Rt.a)([this.commitButtonLoading,this.stagedChanges,(0,T.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,L.O)(this.commitMessageControl.value)))]).pipe((0,k.U)(([P,U,q])=>P||!q||!U||0===U.length)),this.commitButtonTooltip=(0,Rt.a)([this.stagedChanges,(0,T.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,L.O)(this.commitMessageControl.value)))]).pipe((0,k.U)(([P,U])=>U?P&&0!==P.length?"":(0,At.Iu)("There must be staged changes to commit"):(0,At.Iu)("The commit message cannot be empty"))),this.hasConflicts=(0,Rt.a)([this.unstagedChanges,this.checkedUnstaged]).pipe((0,k.U)(([P,U])=>U.length>0&&U.some(q=>q.status===Ct.v.Conflicted)||0===U.length&&!!P&&P.some(q=>q.status===Ct.v.Conflicted)))}getPatchPath(P){return this.commitDetailService.getPatchPath(P)}getPatchFilename(P){const U=this.commitDetailService.getPatchPath(P);return U?U.slice(U.lastIndexOf("/")+1):null}selectFile(P,U,q){this.patchChanged.next({area:P,oldFilePath:U,newFilePath:q})}discard(){const P=this.store.selectSnapshot(I.E.selectedRepositoryPath);P&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.discardFiles(P,this.checkedUnstaged.value):this.stagingActionsService.discardAllChanges(P)).pipe((0,at.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}stage(){const P=this.store.selectSnapshot(I.E.selectedRepositoryPath);P&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.stageFiles(P,this.checkedUnstaged.value):this.stagingActionsService.stageAllChanges(P)).pipe((0,at.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}unstage(){const P=this.store.selectSnapshot(I.E.selectedRepositoryPath);P&&(this.checkedStaged.value.length>0?this.stagingActionsService.unstageFiles(P,this.checkedStaged.value):this.stagingActionsService.unstageAllChanges(P)).pipe((0,at.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank")})}setPatchChecked(P,U,q){const vt="staged"===P?this.checkedStaged.value:this.checkedUnstaged.value,Nt=vt.findIndex(de=>de.oldFilePath===U.oldFilePath&&de.newFilePath===U.newFilePath);Nt>=0&&!q?vt.splice(Nt,1):Nt<0&&q&&vt.push(U),"staged"===P?this.checkedStaged.next(vt):this.checkedUnstaged.next(vt);const se="staged"===P?this.allStagedCheckboxIcon:this.allUnstagedCheckboxIcon;(this.store.selectSnapshot("staged"===P?I.E.selectedStagedChanges:I.E.selectedUnstagedChanges)?.length??0)===vt.length?se.next("check_box"):se.next(0===vt.length?"check_box_outline_blank":"indeterminate_check_box")}commitChanges(){const P=this.store.selectSnapshot(I.E.selectedRepositoryPath),U=this.store.selectSnapshot(V.$.selectedProfile),q=[];P||q.push((0,At.Iu)("Cannot commit if no repository is selected")),U||q.push((0,At.Iu)("Cannot commit if no profile is selected"));const vt=this.commitMessageControl.value;if(vt||q.push((0,At.Iu)("Cannot commit with empty commit message")),q.length>0)return void this.store.dispatch(q.map(ae=>new g.hx("error",ae)));this.commitButtonLoading.next(!0);const Nt=P;this.repositoryActionsService.createCommit(Nt,U,vt??"").pipe((0,lt.x)(()=>{this.commitButtonLoading.next(!1)})).subscribe(ae=>{this.store.dispatch(new Q.BK(Nt,ae))})}copyToClipboard(P){navigator.clipboard.writeText(P??"")}blamePatch(P,U){this.router.navigate(["/standard/blame"],{queryParams:{area:P,"commit-id":"head",path:U.newFilePath}})}clickAllStagedCheckbox(){switch(this.allStagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedStaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const P=this.store.selectSnapshot(I.E.selectedStagedChanges);this.checkedStaged.next([...P??[]]),this.allStagedCheckboxIcon.next("check_box")}}clickAllUnstagedCheckbox(){switch(this.allUnstagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const P=this.store.selectSnapshot(I.E.selectedUnstagedChanges);this.checkedUnstaged.next([...P??[]]),this.allUnstagedCheckboxIcon.next("check_box")}}openContextMenu(P,U,q,vt){vt.preventDefault(),vt.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:vt.x,y:vt.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new _.UE(U,this.viewContainerRef,{data:{area:P,patch:q}})),(0,F.t)(this.overlayRef).pipe((0,R.q)(1),(0,at.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(U){return new(U||gt)(n.Y36(r.aV),n.Y36(m.F0),n.Y36(n.s_b),n.Y36(y.yh),n.Y36(b.d),n.Y36(it.$),n.Y36(j.A))}}static{this.\u0275cmp=n.Xpm({type:gt,selectors:[["app-new-commit"]],viewQuery:function(U,q){if(1&U&&n.Gf(Vt.N7,5),2&U){let vt;n.iGM(vt=n.CRH())&&(q.viewports=vt)}},outputs:{patchChanged:"patchChanged"},features:[n.qOj],decls:24,vars:27,consts:[["vertical",""],["min","150px",4,"ngIf"],["min","150px"],["appearance","outlined","class","staged",4,"ngIf"],["appearance","outlined",1,"commit"],[1,"description"],["matInput","","cdkTextareaAutosize","",3,"placeholder","formControl"],[1,"button-container",3,"matTooltip"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],["diameter","24",4,"ngIf"],[4,"ngIf"],["fileContextMenu",""],["appearance","outlined",1,"unstaged"],[1,"header-buttons"],["type","button","mat-icon-button","",1,"checkbox-button","app-icon-button-md",3,"matTooltip","click"],[1,"buttons"],["type","button","mat-stroked-button","","class","stage-button",3,"matTooltip","click",4,"ngIf"],["class","conflicts-wrapper",3,"matTooltip",4,"ngIf"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"matTooltip","click"],[3,"svgIcon"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"],["type","button","mat-stroked-button","",1,"stage-button",3,"matTooltip","click"],[1,"conflicts-wrapper",3,"matTooltip"],["type","button","mat-stroked-button","","disabled","",1,"stage-button","has-conflicts"],["appearance","outlined",1,"staged"],["type","button","mat-stroked-button","",1,"unstage-button",3,"matTooltip","click"],["diameter","24"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],["type","button",1,"menu-item",3,"click"],["type","button","class","menu-item","matTooltip","Show file history",3,"click",4,"ngIf"],["type","button","matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(U,q){1&U&&(n.TgZ(0,"app-grid",0),n.YNc(1,jt,23,31,"app-grid-cell",1),n.ALo(2,"nullEmpty"),n.ALo(3,"async"),n.TgZ(4,"app-grid-cell",2),n.YNc(5,zt,18,25,"mat-card",3),n.ALo(6,"async"),n.qZA()(),n.TgZ(7,"mat-card",4)(8,"mat-form-field",5)(9,"mat-label"),n._uU(10),n.ALo(11,"translate"),n.qZA(),n._UZ(12,"textarea",6),n.ALo(13,"translate"),n.qZA(),n.TgZ(14,"div",7),n.ALo(15,"async"),n.TgZ(16,"button",8),n.NdJ("click",function(){return q.commitChanges()}),n.ALo(17,"async"),n.YNc(18,ce,1,0,"mat-spinner",9),n.ALo(19,"async"),n.YNc(20,he,3,3,"span",10),n.ALo(21,"async"),n.qZA()()(),n.YNc(22,me,10,6,"ng-template",null,11,n.W1O)),2&U&&(n.xp6(1),n.Q6J("ngIf",n.lcZ(2,9,n.lcZ(3,11,q.unstagedChanges))),n.xp6(4),n.Q6J("ngIf",n.lcZ(6,13,q.stagedChanges)),n.xp6(5),n.Oqu(n.lcZ(11,15,"Commit Message")),n.xp6(2),n.s9C("placeholder",n.lcZ(13,17,"Enter a description...")),n.Q6J("formControl",q.commitMessageControl),n.xp6(2),n.Q6J("matTooltip",n.lcZ(15,19,q.commitButtonTooltip)||""),n.xp6(2),n.Q6J("disabled",n.lcZ(17,21,q.commitButtonDisabled)),n.xp6(2),n.Q6J("ngIf",n.lcZ(19,23,q.commitButtonLoading)),n.xp6(2),n.Q6J("ngIf",!1===n.lcZ(21,25,q.commitButtonLoading)))},dependencies:[s.a8,v.Nt,wt.KE,wt.hX,Z.IC,D.Ou,C.O5,Lt.Fj,Lt.JJ,Lt.oH,H.lW,H.RK,x.Hw,E.gM,dt.Y,et.M,ot.i,C.Ov,ht.x,Pt.X],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%;gap:10px}.staged[_ngcontent-%COMP%]{margin:5px 10px 0;height:calc(100% - 5px)}.unstaged[_ngcontent-%COMP%]{margin:0 10px 5px;height:calc(100% - 5px)}app-grid-cell[_ngcontent-%COMP%]:first-child   .staged[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;height:100%}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{flex:0 0 auto;position:relative}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:space-between;min-height:40px;margin-left:32px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{cursor:default}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-12px}.commit[_ngcontent-%COMP%]{flex:0 0 auto;margin:0 10px;padding:16px;overflow:auto;display:flex;flex-direction:column;min-height:158px;max-height:33%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px}.commit[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 auto}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}.dark-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#cb8837}.light-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#d8a669}"],changeDetection:0})}}return(0,w.gn)([(0,y.Ph)(I.E.selectedRepositoryPath)],gt.prototype,"repositoryPath",void 0),(0,w.gn)([(0,y.Ph)(I.E.selectedStagedChanges)],gt.prototype,"allStagedChanges",void 0),(0,w.gn)([(0,y.Ph)(I.E.selectedUnstagedChanges)],gt.prototype,"unstagedChanges",void 0),(0,w.gn)([(0,y.Ph)(I.E.selectedFileForArea("staged"))],gt.prototype,"selectedStagedFile",void 0),(0,w.gn)([(0,y.Ph)(I.E.selectedFileForArea("unstaged"))],gt.prototype,"selectedUnstagedFile",void 0),(0,w.gn)([(0,y.Ph)(I.E.selectedRepositoryCommitMessage)],gt.prototype,"selectedRepositoryCommitMessage",void 0),(0,w.gn)([(0,y.Ph)(V.$.selectedProfile)],gt.prototype,"selectedProfile",void 0),(0,w.gn)([(0,y.Ph)(V.$.profiles)],gt.prototype,"profiles",void 0),gt})(),pe=(()=>{class gt{static{this.\u0275fac=function(U){return new(U||gt)}}static{this.\u0275mod=n.oAB({type:gt})}static{this.\u0275inj=n.cJS({imports:[s.QW,e.p9,v.c,D.Cq,i.I,a.c,Y.Z]})}}return gt})();n.B6R(W.T,[C.O5,xt,ge],[C.Ov])},1135:(St,mt,o)=>{o.d(mt,{s:()=>it});var s=o(7582),e=o(6825),v=o(1088),D=o(8484),i=o(5879),a=o(4666),Y=o(9738),W=o(5619),w=o(2572),_=o(3019),n=o(9315),y=o(2096),R=o(8504),at=o(7398),t=o(9773),ct=o(8180),F=o(836),Q=o(3997),I=o(9397),r=o(4664),m=o(2181),b=o(6306),C=o(3153),x=o(4573),E=o(7910),X=o(2020),dt=o(2401),et=o(9589),ot=o(709),G=o(3651),Pt=o(7735),It=o(2368),tt=o(9500);const ft=["contextMenu"];function rt(j,wt){if(1&j&&(i._UZ(0,"app-condensed-path",15),i.ALo(1,"async")),2&j){const Z=i.oxw(2);i.Q6J("path",i.lcZ(1,1,Z.filePath))}}function bt(j,wt){if(1&j){const Z=i.EpF();i.TgZ(0,"button",16),i.NdJ("click",function(){i.CHM(Z);const ht=i.oxw(2);return i.KtG(ht.modifyLinesStage("stage"))}),i.ALo(1,"translate"),i._UZ(2,"mat-icon",17),i.qZA()}2&j&&i.Q6J("matTooltip",i.lcZ(1,1,"Stage selected lines"))}function Mt(j,wt){if(1&j){const Z=i.EpF();i.TgZ(0,"button",18),i.NdJ("click",function(){i.CHM(Z);const ht=i.oxw(2);return i.KtG(ht.modifyLinesStage("discard"))}),i.ALo(1,"translate"),i._UZ(2,"mat-icon",19),i.qZA()}2&j&&i.Q6J("matTooltip",i.lcZ(1,1,"Discard selected lines"))}function xt(j,wt){if(1&j){const Z=i.EpF();i.TgZ(0,"button",20),i.NdJ("click",function(){i.CHM(Z);const ht=i.oxw(2);return i.KtG(ht.modifyLinesStage("unstage"))}),i.ALo(1,"translate"),i._UZ(2,"mat-icon",21),i.qZA()}2&j&&i.Q6J("matTooltip",i.lcZ(1,1,"Unstage selected lines"))}function Vt(j,wt){if(1&j){const Z=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){i.CHM(Z);const ht=i.oxw(2);return i.KtG(ht.edited.next())}),i.TgZ(1,"mat-icon"),i._uU(2,"edit"),i.qZA()()}}function Lt(j,wt){if(1&j){const Z=i.EpF();i.TgZ(0,"button",23),i.NdJ("click",function(){i.CHM(Z);const ht=i.oxw(2);return i.KtG(ht.closed.next())}),i.TgZ(1,"mat-icon"),i._uU(2,"close"),i.qZA()()}}function _t(j,wt){1&j&&(i.TgZ(0,"main"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&j&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Loading...")))}function Rt(j,wt){1&j&&(i.TgZ(0,"main"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&j&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Cannot load binary file.")))}function T(j,wt){1&j&&(i.TgZ(0,"main"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&j&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"Cannot load file.")))}function k(j,wt){if(1&j&&i._UZ(0,"app-hunk-view",25),2&j){const Z=i.oxw(3);i.Q6J("diffLines",Z.diffLines)("search",Z.search$)}}function O(j,wt){if(1&j&&i._UZ(0,"app-inline-view",25),2&j){const Z=i.oxw(3);i.Q6J("diffLines",Z.diffLines)("search",Z.search$)}}function L(j,wt){if(1&j&&i._UZ(0,"app-split-view",25),2&j){const Z=i.oxw(3);i.Q6J("diffLines",Z.diffLines)("search",Z.search$)}}function lt(j,wt){if(1&j&&(i.TgZ(0,"main"),i.YNc(1,k,1,2,"app-hunk-view",24),i.YNc(2,O,1,2,"app-inline-view",24),i.YNc(3,L,1,2,"app-split-view",24),i.qZA()),2&j){const Z=i.oxw().ngIf;i.xp6(1),i.Q6J("ngIf","hunk"===Z),i.xp6(1),i.Q6J("ngIf","inline"===Z),i.xp6(1),i.Q6J("ngIf","split"===Z)}}function Ct(j,wt){if(1&j){const Z=i.EpF();i.ynx(0),i.TgZ(1,"header")(2,"app-find-control",2),i.NdJ("searched",function(ht){i.CHM(Z);const kt=i.oxw();return i.KtG(kt.search$.next(ht))})("focusin",function(){i.CHM(Z);const ht=i.oxw();return i.KtG(ht.findControlHasFocus$.next(!0))})("focusout",function(){i.CHM(Z);const ht=i.oxw();return i.KtG(ht.findControlHasFocus$.next(!1))}),i.ALo(3,"async"),i.qZA(),i.YNc(4,rt,2,3,"app-condensed-path",3),i.ALo(5,"async"),i.ALo(6,"async"),i.TgZ(7,"div",4),i.YNc(8,bt,3,3,"button",5),i.ALo(9,"async"),i.YNc(10,Mt,3,3,"button",6),i.ALo(11,"async"),i.YNc(12,xt,3,3,"button",7),i.ALo(13,"async"),i.TgZ(14,"mat-button-toggle-group",8),i.NdJ("change",function(ht){i.CHM(Z);const kt=i.oxw();return i.KtG(kt.changeView(ht.value))}),i.TgZ(15,"mat-button-toggle",9),i.ALo(16,"translate"),i.TgZ(17,"mat-icon"),i._uU(18,"calendar_view_day"),i.qZA()(),i.TgZ(19,"mat-button-toggle",10),i.ALo(20,"translate"),i.TgZ(21,"mat-icon"),i._uU(22,"view_headline"),i.qZA()(),i.TgZ(23,"mat-button-toggle",11),i.ALo(24,"translate"),i.TgZ(25,"mat-icon"),i._uU(26,"vertical_split"),i.qZA()()(),i.TgZ(27,"div",12),i.YNc(28,Vt,3,0,"button",13),i.YNc(29,Lt,3,0,"button",14),i.qZA()()(),i.YNc(30,_t,3,3,"main",0),i.ALo(31,"async"),i.YNc(32,Rt,3,3,"main",0),i.ALo(33,"async"),i.YNc(34,T,3,3,"main",0),i.ALo(35,"async"),i.YNc(36,lt,4,3,"main",0),i.ALo(37,"async"),i.BQk()}if(2&j){const Z=wt.ngIf,H=i.oxw();i.xp6(2),i.Q6J("@showFindControl",i.lcZ(3,16,H.showFindControl))("initial",H.search),i.xp6(2),i.Q6J("ngIf",!(i.lcZ(5,18,H.showStage)||i.lcZ(6,20,H.showUnstage))),i.xp6(4),i.Q6J("ngIf",i.lcZ(9,22,H.showStage)),i.xp6(2),i.Q6J("ngIf",i.lcZ(11,24,H.showStage)),i.xp6(2),i.Q6J("ngIf",i.lcZ(13,26,H.showUnstage)),i.xp6(2),i.Q6J("value",Z),i.xp6(1),i.Q6J("matTooltip",i.lcZ(16,28,"Hunk View")),i.xp6(4),i.Q6J("matTooltip",i.lcZ(20,30,"Inline View")),i.xp6(4),i.Q6J("matTooltip",i.lcZ(24,32,"Split View")),i.xp6(5),i.Q6J("ngIf",H.showEdit),i.xp6(1),i.Q6J("ngIf",!H.hideClose),i.xp6(1),i.Q6J("ngIf","loading"===i.lcZ(31,34,H.currentView)),i.xp6(2),i.Q6J("ngIf","binary-file"===i.lcZ(33,36,H.currentView)),i.xp6(2),i.Q6J("ngIf","error"===i.lcZ(35,38,H.currentView)),i.xp6(2),i.Q6J("ngIf","normal"===i.lcZ(37,40,H.currentView))}}function z(j,wt){if(1&j){const Z=i.EpF();i.TgZ(0,"button",28),i.NdJ("click",function(){i.CHM(Z);const ht=i.oxw(2);return ht.modifyLinesStage("stage"),i.KtG(ht.closeContextMenu())}),i.ALo(1,"translate"),i._UZ(2,"mat-icon",17),i.TgZ(3,"span"),i._uU(4),i.ALo(5,"translate"),i.qZA()()}2&j&&(i.Q6J("matTooltip",i.lcZ(1,2,"Stage selected lines")),i.xp6(4),i.Oqu(i.lcZ(5,4,"Stage")))}function At(j,wt){if(1&j){const Z=i.EpF();i.TgZ(0,"button",28),i.NdJ("click",function(){i.CHM(Z);const ht=i.oxw(2);return ht.modifyLinesStage("discard"),i.KtG(ht.closeContextMenu())}),i.ALo(1,"translate"),i._UZ(2,"mat-icon",17),i.TgZ(3,"span"),i._uU(4),i.ALo(5,"translate"),i.qZA()()}2&j&&(i.Q6J("matTooltip",i.lcZ(1,2,"Discard selected lines")),i.xp6(4),i.Oqu(i.lcZ(5,4,"Discard")))}function g(j,wt){if(1&j){const Z=i.EpF();i.TgZ(0,"button",28),i.NdJ("click",function(){i.CHM(Z);const ht=i.oxw(2);return ht.modifyLinesStage("unstage"),i.KtG(ht.closeContextMenu())}),i.ALo(1,"translate"),i._UZ(2,"mat-icon",17),i.TgZ(3,"span"),i._uU(4),i.ALo(5,"translate"),i.qZA()()}2&j&&(i.Q6J("matTooltip",i.lcZ(1,2,"Unstage selected lines")),i.xp6(4),i.Oqu(i.lcZ(5,4,"Unstage")))}function V(j,wt){if(1&j&&(i.TgZ(0,"div",26),i.YNc(1,z,6,6,"button",27),i.ALo(2,"async"),i.YNc(3,At,6,6,"button",27),i.ALo(4,"async"),i.YNc(5,g,6,6,"button",27),i.ALo(6,"async"),i.qZA()),2&j){const Z=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,3,Z.showStage)),i.xp6(2),i.Q6J("ngIf",i.lcZ(4,5,Z.showStage)),i.xp6(2),i.Q6J("ngIf",i.lcZ(6,7,Z.showUnstage))}}let it=(()=>{class j extends((0,x.j)(E.A)){constructor(Z,H,ht,kt,Ft,jt,zt){super(),this.viewContainerRef=Z,this.breakpointObserver=H,this.overlay=ht,this.store=kt,this.highlightApi=Ft,this.diffSelectionService=jt,this.stagingActionsService=zt,this.hideClose=!1,this.showEdit=!1,this.search=null,this.closed=new i.vpe,this.edited=new i.vpe,this.currentView=new W.X("loading"),this.diffLines=new W.X(null),this.search$=new W.X(null),this.findControlHasFocus$=new W.X(!1),this.showFindControl=(0,w.a)([this.search$,this.findControlHasFocus$,this.breakpointObserver.observe([v.u3.XSmall,v.u3.Small,v.u3.Medium])]).pipe((0,at.U)(([ce,he,le])=>!!ce||he||!le.matches)),this.overlayRef=null,this.closeContextMenu=()=>{this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}}ngOnInit(){this.showStage=(0,w.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,at.U)(([Z,H,ht])=>"head"===H&&!0===Z?.isUnstaged&&!Z.patch.newFileIsSubmodule&&!Z.patch.oldFileIsSubmodule&&ht.length>0)),this.showUnstage=(0,w.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,at.U)(([Z,H,ht])=>"head"===H&&!1===Z?.isUnstaged&&!Z.patch.newFileIsSubmodule&&!Z.patch.oldFileIsSubmodule&&ht.length>0)),this.diffSelectionService.contextMenuOpened.pipe((0,t.R)(this.destroyed$)).subscribe(Z=>{this.closeContextMenu(),(0,w.a)([this.showStage,this.showUnstage]).pipe((0,ct.q)(1),(0,t.R)(this.destroyed$)).subscribe(([H,ht])=>{(H||ht)&&(this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:Z.x,y:Z.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new D.UE(this.menuTemplate,this.viewContainerRef)),(0,_.T)(this.diffSelectionService.selectedRange.pipe((0,F.T)(1)),(0,X.t)(this.overlayRef)).pipe((0,ct.q)(1),(0,t.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu()))})}),this.filePath=this.patch.pipe((0,at.U)(Z=>Z?.patch.newFilePath??Z?.patch.oldFilePath??"")),this.patch.pipe((0,Q.x)((Z,H)=>Z&&H?!(Z.repositoryPath!==H.repositoryPath||Z.isUnstaged!==H.isUnstaged||Z.patch.newFileId!==H.patch.newFileId||Z.patch.newFileIsDir!==H.patch.newFileIsDir||Z.patch.newFileIsSubmodule!==H.patch.newFileIsSubmodule||Z.patch.newFilePath!==H.patch.newFilePath||Z.patch.oldFileId!==H.patch.oldFileId||Z.patch.oldFileIsDir!==H.patch.oldFileIsDir||Z.patch.oldFileIsSubmodule!==H.patch.oldFileIsSubmodule||Z.patch.oldFilePath!==H.patch.oldFilePath||Z.patch.status!==H.patch.status||Z.patch.hunks.length!==H.patch.hunks.length||(0,Y.Z)(Z.patch.hunks,H.patch.hunks).some(([ht,kt])=>ht?.lines.length!==kt?.lines.length||ht?.newStart!==kt?.newStart||ht?.oldStart!==kt?.oldStart||ht?.header!==kt?.header||ht&&kt&&(0,Y.Z)(ht.lines,kt.lines).some(([Ft,jt])=>Ft?.content.length!==jt?.content.length||Ft?.newLineNo!==jt?.newLineNo||Ft?.oldLineNo!==jt?.oldLineNo||Ft?.origin!==jt?.origin||Ft?.content!==jt?.content))):!Z&&!H),(0,I.b)(()=>{this.currentView.next("loading")}),(0,r.w)(Z=>Z?(0,n.D)(this.getLines(Z,!1)).pipe((0,t.R)(this.currentView.pipe((0,F.T)(1),(0,m.h)(H=>"loading"===H))),(0,t.R)(this.destroyed$),(0,at.U)(([H,ht])=>[Z,H,ht]),(0,b.K)(H=>C.OZ.matches(H)?(this.currentView.next("binary-file"),(0,y.of)(null)):C.hK.matches(H)?(this.currentView.next("error"),(0,y.of)(null)):(0,R._)(()=>H))):(0,y.of)(null)),(0,I.b)(Z=>{if(Z){const[H,ht,kt]=Z;this.diffLines.next({hunks:H.patch.hunks,oldLines:ht,newLines:kt,oldFilePath:H.patch.oldFilePath,newFilePath:H.patch.newFilePath,highlighted:!1}),this.currentView.next("normal")}else this.diffLines.next(null)}),(0,r.w)(Z=>Z?.[0]?(0,n.D)(this.getLines(Z?.[0],!0)).pipe((0,t.R)(this.currentView.pipe((0,F.T)(1),(0,m.h)(H=>"loading"===H))),(0,t.R)(this.destroyed$),(0,at.U)(([H,ht])=>[Z?.[0],H,ht]),(0,b.K)(H=>C.OZ.matches(H)?(this.currentView.next("binary-file"),(0,y.of)(null)):C.hK.matches(H)?(this.currentView.next("error"),(0,y.of)(null)):(0,R._)(()=>H))):(0,y.of)(null)),(0,t.R)(this.destroyed$)).subscribe(Z=>{if(Z){const[H,ht,kt]=Z;this.diffLines.next({hunks:H.patch.hunks,oldLines:ht,newLines:kt,oldFilePath:H.patch.oldFilePath,newFilePath:H.patch.newFilePath,highlighted:!0}),this.currentView.next("normal")}else this.diffLines.next(null)})}changeView(Z){this.store.dispatch(new et.zb(Z))}modifyLinesStage(Z){const H=this.store.selectSnapshot(dt.E.selectedRepositoryPath);if(!H)throw new C.uX;this.patch.pipe((0,ct.q)(1)).subscribe(ht=>{if(!ht||!ht.patch.oldFilePath)return;const kt=[H,ht.patch.oldFileId?ht.patch.oldFilePath:null,ht.patch.newFileId?ht.patch.newFilePath:null,this.diffSelectionService.selectedFileLines.value];switch(Z){case"discard":this.stagingActionsService.discardFileLines(...kt).subscribe();break;case"stage":this.stagingActionsService.stageFileLines(...kt).subscribe();break;default:this.stagingActionsService.unstageFileLines(...kt).subscribe()}})}getLines(Z,H){if(Z.patch.oldFileIsSubmodule||Z.patch.newFileIsSubmodule){if(Z.patch.hunks.length<=0)return[(0,y.of)([]),(0,y.of)([])];const ht=Z.patch.hunks[0]?.lines.find(Ft=>Ft.oldLineNo>0),kt=Z.patch.hunks[0]?.lines.find(Ft=>Ft.newLineNo>0);return[(0,y.of)([{lineNumber:1,text:ht?.content??"",tokens:[{startIndex:0,endIndex:ht?.content.length??0,scopes:["normal"]}]}]),(0,y.of)([{lineNumber:1,text:kt?.content??"",tokens:[{startIndex:0,endIndex:kt?.content.length??0,scopes:["normal"]}]}])]}return[Z.patch.oldFileId?this.highlightApi.getHighlightedFile(Z.repositoryPath,Z.patch.oldFileId,Z.patch.oldFilePath,H):(0,y.of)([]),Z.isUnstaged?this.highlightApi.getHighlightedFile(Z.repositoryPath,null,Z.patch.newFilePath,H):Z.patch.newFileId?this.highlightApi.getHighlightedFile(Z.repositoryPath,Z.patch.newFileId,Z.patch.newFilePath,H):(0,y.of)([])]}static{this.\u0275fac=function(H){return new(H||j)(i.Y36(i.s_b),i.Y36(v.Yg),i.Y36(G.aV),i.Y36(a.yh),i.Y36(Pt.m),i.Y36(It.Q),i.Y36(tt.A))}}static{this.\u0275cmp=i.Xpm({type:j,selectors:[["app-diff-view"]],viewQuery:function(H,ht){if(1&H&&i.Gf(ft,5),2&H){let kt;i.iGM(kt=i.CRH())&&(ht.menuTemplate=kt.first)}},inputs:{patch:"patch",hideClose:"hideClose",showEdit:"showEdit",search:"search"},outputs:{closed:"closed",edited:"edited"},features:[i.qOj],decls:4,vars:3,consts:[[4,"ngIf"],["contextMenu",""],[3,"initial","searched","focusin","focusout"],[3,"path",4,"ngIf"],[1,"right"],["type","button","class","stage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],["type","button","class","discard-button","mat-stroked-button","","color","warn",3,"matTooltip","click",4,"ngIf"],["type","button","class","unstage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],[3,"value","change"],["value","hunk",3,"matTooltip"],["value","inline",3,"matTooltip"],["value","split",3,"matTooltip"],[1,"close-container"],["type","button","mat-icon-button","","class","edit-button app-icon-button-md",3,"click",4,"ngIf"],["type","button","mat-icon-button","","class","close-button app-icon-button-md",3,"click",4,"ngIf"],[3,"path"],["type","button","mat-stroked-button","",1,"stage-button",3,"matTooltip","click"],["svgIcon","tray-plus"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"matTooltip","click"],["svgIcon","tray-remove"],["type","button","mat-stroked-button","",1,"unstage-button",3,"matTooltip","click"],["svgIcon","tray-minus"],["type","button","mat-icon-button","",1,"edit-button","app-icon-button-md",3,"click"],["type","button","mat-icon-button","",1,"close-button","app-icon-button-md",3,"click"],[3,"diffLines","search",4,"ngIf"],[3,"diffLines","search"],[1,"menu-panel"],["type","button","class","menu-item",3,"matTooltip","click",4,"ngIf"],["type","button",1,"menu-item",3,"matTooltip","click"]],template:function(H,ht){1&H&&(i.YNc(0,Ct,38,42,"ng-container",0),i.ALo(1,"async"),i.YNc(2,V,7,9,"ng-template",null,1,i.W1O)),2&H&&i.Q6J("ngIf",i.lcZ(1,1,ht.view))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;position:absolute}header[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:baseline;justify-content:space-between;margin-bottom:5px;outline:none;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}header[_ngcontent-%COMP%]   app-find-control[_ngcontent-%COMP%]{min-width:240px;max-width:350px;overflow:hidden}header[_ngcontent-%COMP%]   app-condensed-path[_ngcontent-%COMP%]{min-width:150px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:5px;margin-left:auto}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:38px;padding:0 6px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]{display:flex;align-items:center;align-self:baseline;overflow:hidden;height:40px}main[_ngcontent-%COMP%]{flex:1 0 auto;outline:none;overflow-x:auto;overflow-y:auto}.dark-theme   [_nghost-%COMP%]{background:#1e1e1e}.light-theme   [_nghost-%COMP%]{background:#fafafa}"],data:{animation:[(0,e.X$)("showFindControl",[(0,e.SB)("true",(0,e.oB)({opacity:1})),(0,e.SB)("false",(0,e.oB)({opacity:0,position:"absolute",height:0})),(0,e.eR)("false -> true",[(0,e.oB)({opacity:0,position:"relative",height:"*"}),(0,e.jt)("225ms ease-in-out",(0,e.oB)({opacity:1}))]),(0,e.eR)("true -> false",[(0,e.oB)({opacity:1}),(0,e.jt)("225ms ease-in-out",(0,e.oB)({opacity:0}))])])]},changeDetection:0})}}return(0,s.gn)([(0,a.Ph)(dt.E.selectedCommitId)],j.prototype,"selectedCommitId",void 0),(0,s.gn)([(0,a.Ph)(ot.$.diffView)],j.prototype,"view",void 0),j})()},8700:(St,mt,o)=>{o.d(mt,{m:()=>de});var s=o(9488),e=o(4516),v=o(1345),D=o(1135),i=o(7368),a=o(5879),Y=o(2159),W=o(4957),w=o(1974);var y=o(9768),R=o(3988),at=o(231);const ct=function t(st){var Ot=(0,at.Z)(st),M=Ot%1;return Ot==Ot?M?Ot-M:Ot:0},Q=function F(st,Ot,M){var K=null==st?0:st.length;return K?(Ot=M||void 0===Ot?1:ct(Ot),(0,R.Z)(st,0,(Ot=K-Ot)<0?0:Ot)):[]},r=function I(st,Ot,M){var K=null==st?0:st.length;return K?(Ot=M||void 0===Ot?1:ct(Ot),(0,R.Z)(st,(Ot=K-Ot)<0?0:Ot,K)):[]};var m=o(5619),b=o(7398),C=o(7921),x=o(9384),E=o(7547),X=o(9773),dt=o(3153),et=o(4573),ot=o(7910),G=o(1361),Pt=o(4794),It=o(2368),tt=o(6814),ft=o(2296),rt=o(617),bt=o(7041),Mt=o(6974);const xt=["scrollContainer"],Vt=["code"];function Lt(st,Ot){if(1&st&&a._UZ(0,"span",9),2&st){const M=Ot.ngIf;a.Udp("left",M.left)("width",M.width)}}function _t(st,Ot){if(1&st){const M=a.EpF();a.ynx(0),a.TgZ(1,"button",10),a.NdJ("click",function(){a.CHM(M);const B=a.oxw().$implicit,J=a.oxw();return a.KtG(J.expandSeparator(B))}),a.TgZ(2,"mat-icon",11),a._uU(3),a.qZA()(),a.TgZ(4,"span",12),a._uU(5),a.qZA(),a.BQk()}if(2&st){const M=a.oxw(),K=M.first,B=M.last,J=M.$implicit,yt=a.oxw();a.xp6(1),a.Udp("width",yt.lineNumberMargin+26,"px"),a.xp6(2),a.Oqu(K?"expand_less":B?"expand_more":"unfold_more"),a.xp6(2),a.Oqu(J.separatorHeader)}}function Rt(st,Ot){if(1&st&&(a.TgZ(0,"span",17),a._uU(1),a.qZA()),2&st){const M=Ot.$implicit;a.Q6J("ngClass",M.class),a.xp6(1),a.Oqu(M.text)}}function T(st,Ot){if(1&st&&(a.ynx(0),a.YNc(1,Rt,2,2,"span",16),a.ALo(2,"tokens"),a.ALo(3,"searchToken"),a.ALo(4,"async"),a.BQk()),2&st){const M=Ot.ngIf,K=a.oxw(3);a.xp6(1),a.Q6J("ngForOf",a.xi3(2,1,a.Dn7(3,4,M.tokens,M.text,a.lcZ(4,8,K.search)),M.text))}}function k(st,Ot){if(1&st&&(a.TgZ(0,"span",13),a._uU(1),a.qZA(),a.TgZ(2,"span",14),a._uU(3),a.qZA(),a.YNc(4,T,5,10,"ng-container",15)),2&st){const M=a.oxw().$implicit,K=a.oxw();a.Udp("right","calc(100% + 26px + "+(K.lineNumberMargin/2).toString()+"px)")("width",K.lineNumberMargin/2-5,"px"),a.xp6(1),a.Oqu(null==M.diffLine.oldLine?null:M.diffLine.oldLine.lineNumber),a.xp6(1),a.Udp("width",K.lineNumberMargin/2-5,"px"),a.xp6(1),a.Oqu(null==M.diffLine.newLine?null:M.diffLine.newLine.lineNumber),a.xp6(1),a.Q6J("ngIf",K.getLineView(M.diffLine))}}function O(st,Ot){if(1&st&&(a.TgZ(0,"li",5),a.YNc(1,Lt,1,4,"span",6),a.ALo(2,"async"),a.YNc(3,_t,6,4,"ng-container",7),a.YNc(4,k,5,9,"ng-template",null,8,a.W1O),a.qZA()),2&st){const M=Ot.$implicit,K=Ot.index,B=a.MAs(5),J=a.oxw();a.Q6J("ngClass","line-"+(M.isSeparator?"separator":M.diffLine.status)),a.xp6(1),a.Q6J("ngIf",a.lcZ(2,4,J.getSelection(K))),a.xp6(2),a.Q6J("ngIf",M.isSeparator)("ngIfElse",B)}}let L=(()=>{class st extends((0,et.j)(ot.A,G.P)){constructor(M,K){super(),this.diffService=M,this.diffSelectionService=K,this.lineNumberMargin=0,this.lines$=new m.X([]),this.currentPatch=null,this.getSelection=B=>this.diffSelectionService.selectedRange.pipe((0,b.U)(J=>{if(!J)return null;const[yt,Dt]=J[0].line>J[1].line||J[0].line===J[1].line&&J[0].char>J[1].char?[J[1],J[0]]:J;return B<yt.line||B>Dt.line?null:B===yt.line?{left:yt.char*this.diffSelectionService.charWidth+"px",width:yt.line===Dt.line?(Dt.char-yt.char)*this.diffSelectionService.charWidth+"px":"100%"}:B===Dt.line?{left:"0px",width:Dt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,C.O)(null),(0,x.G)(),(0,E.g)(0),(0,X.R)(this.destroyed$)).subscribe(([K,B])=>{const J=this.currentPatch?{...this.currentPatch}:null;if(B){this.currentPatch={newFilePath:B.newFilePath,oldFilePath:B.oldFilePath};const yt=function _(st){return st&&st.length?(0,Y.Z)(st,w.Z,W.Z):void 0}([B.oldLines.length,B.newLines.length])??0;this.lineNumberMargin=this.diffService.calculateMargin(yt.toString().length),this.diffService.calculateHunkLines(B.oldLines,B.newLines,B.hunks).pipe((0,X.R)(this.destroyed$)).subscribe(Dt=>{K&&K.newFilePath===B.newFilePath&&K.oldFilePath===B.oldFilePath&&!K.highlighted&&B.highlighted?this.updateLines(Dt):this.lines$.next(Dt),(!J||J.oldFilePath!==this.currentPatch?.oldFilePath||J.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),J&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)});const M=this.scrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(K,B)=>({line:Math.floor((M.scrollTop+B-M.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((M.scrollLeft+K-M.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(K,B)=>this.lines$.value.filter((J,yt)=>yt>=K&&yt<=B).map(J=>J.isSeparator?J.separatorHeader??void 0:this.getLineView(J.diffLine)?.text),()=>{const K=this.lines$.value,B=K[K.length-1];return{line:K.length-1,char:B?(B.isSeparator?B.separatorHeader:this.getLineView(B.diffLine)?.text)?.length??0:0}},([K,B])=>(0,y.Z)(K.line,B.line+1).flatMap(J=>{const yt=this.lines$.value[J];return!yt||yt.isSeparator?[]:[{oldLineNo:yt.diffLine.oldLine?.lineNumber??-1,newLineNo:yt.diffLine.newLine?.lineNumber??-1}]})).pipe((0,X.R)(this.destroyed$)).subscribe()}expandSeparator(M){const B=this.lines$.value;this.lines$.next(B.flatMap((J,yt)=>{if(J!==M)return J;if(M.hiddenDiffLines.length<=25)return M.hiddenDiffLines.map(qt=>({isSeparator:!1,diffLine:qt}));if(0===yt)return[{isSeparator:!0,separatorHeader:M.separatorHeader,hiddenDiffLines:Q(M.hiddenDiffLines,20)},...r(M.hiddenDiffLines,20).map(qt=>({isSeparator:!1,diffLine:qt}))];if(yt===B.length-1)return[...M.hiddenDiffLines.slice(0,20).map(qt=>({isSeparator:!1,diffLine:qt})),{isSeparator:!0,separatorHeader:null,hiddenDiffLines:M.hiddenDiffLines.slice(20)}];const Dt=M.hiddenDiffLines.slice(0,10),Xt=Q(M.hiddenDiffLines.slice(10),10),ne=r(M.hiddenDiffLines,10);return[...Dt.map(qt=>({isSeparator:!1,diffLine:qt})),{isSeparator:!0,separatorHeader:M.separatorHeader,hiddenDiffLines:Xt},...ne.map(qt=>({isSeparator:!1,diffLine:qt}))]}))}getLineView(M){return"added"===M.status?M.newLine:"removed"===M.status?M.oldLine:"unchanged"===M.status?M.newLine??M.oldLine:null}trackByHunkLine(M,K){return K.isSeparator?K.separatorHeader:`${K.diffLine.oldLine?.text}:::${K.diffLine.newLine?.text}`}updateLines(M){const K=this.lines$.value;let B=0,J=0;const yt=[];for(;J<M.length;){const Dt=K[B],Xt=M[J];if(!Dt||!Xt)throw new dt.jc;if(Xt.isSeparator){if(Dt.isSeparator){if(Dt.hiddenDiffLines.length===Xt.hiddenDiffLines.length){yt.push(Xt),B++,J++;continue}yt.push({isSeparator:!0,separatorHeader:Xt.separatorHeader,hiddenDiffLines:Xt.hiddenDiffLines.slice(0,Dt.hiddenDiffLines.length)}),Xt.hiddenDiffLines=Xt.hiddenDiffLines.slice(Dt.hiddenDiffLines.length),B++;continue}const ne=Xt.hiddenDiffLines[0];if(!ne){J++;continue}yt.push({isSeparator:!1,diffLine:ne}),Xt.hiddenDiffLines=Xt.hiddenDiffLines.slice(1),B++}else{if(Dt.isSeparator)throw new dt.jc;yt.push(Xt),B++,J++}}this.lines$.next(yt)}static{this.\u0275fac=function(K){return new(K||st)(a.Y36(Pt.S),a.Y36(It.Q))}}static{this.\u0275cmp=a.Xpm({type:st,selectors:[["app-hunk-view"]],viewQuery:function(K,B){if(1&K&&(a.Gf(xt,7),a.Gf(Vt,7,a.SBq),a.Gf(i.N7,5)),2&K){let J;a.iGM(J=a.CRH())&&(B.scrollContainer=J.first),a.iGM(J=a.CRH())&&(B.codeElement=J.first),a.iGM(J=a.CRH())&&(B.viewports=J)}},inputs:{diffLines:"diffLines",search:"search"},features:[a.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0",1,"vs-code-theme"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf","ngIfElse"],["diffLineContent",""],[1,"selection"],["mat-button","",1,"separator-icon",3,"click"],["inline",""],[1,"separator-header"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(K,B){1&K&&(a.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),a.YNc(5,O,6,6,"li",4),a.ALo(6,"async"),a.qZA()()()),2&K&&(a.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),a.xp6(4),a.Udp("margin-left",B.lineNumberMargin+26,"px"),a.xp6(1),a.Q6J("cdkVirtualForOf",a.lcZ(6,7,B.lines$))("cdkVirtualForTrackBy",B.trackByHunkLine))},dependencies:[i.xd,i.x0,i.N7,tt.mk,tt.sg,tt.O5,ft.lW,rt.Hw,tt.Ov,bt.y,Mt.U],styles:['code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{right:100%}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{cursor:pointer;height:19px;line-height:19px;padding:0;text-align:center;min-width:0}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:100%;z-index:-1}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:19px}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#252525}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#eeeeee}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}'],changeDetection:0})}}return st})();const lt=["scrollContainer"],Ct=["code"];function z(st,Ot){if(1&st&&a._UZ(0,"span",10),2&st){const M=Ot.ngIf;a.Udp("left",M.left)("width",M.width)}}function At(st,Ot){if(1&st&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&st){const M=Ot.$implicit;a.Q6J("ngClass",M.class),a.xp6(1),a.Oqu(M.text)}}function g(st,Ot){if(1&st&&(a.ynx(0),a.YNc(1,At,2,2,"span",11),a.ALo(2,"tokens"),a.ALo(3,"searchToken"),a.ALo(4,"async"),a.BQk()),2&st){const M=Ot.ngIf,K=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",a.xi3(2,1,a.Dn7(3,4,M.tokens,M.text,a.lcZ(4,8,K.search)),M.text))}}function V(st,Ot){if(1&st&&(a.TgZ(0,"li",5),a.YNc(1,z,1,4,"span",6),a.ALo(2,"async"),a.TgZ(3,"span",7),a._uU(4),a.qZA(),a.TgZ(5,"span",8),a._uU(6),a.qZA(),a.YNc(7,g,5,10,"ng-container",9),a.qZA()),2&st){const M=Ot.$implicit,K=Ot.index,B=a.oxw();a.Q6J("ngClass","line-"+M.status),a.xp6(1),a.Q6J("ngIf",a.lcZ(2,11,B.getSelection(K))),a.xp6(2),a.Udp("right","calc(100% + 26px + "+(B.lineNumberMargin/2).toString()+"px)")("width",B.lineNumberMargin/2-5,"px"),a.xp6(1),a.Oqu(null==M.oldLine?null:M.oldLine.lineNumber),a.xp6(1),a.Udp("width",B.lineNumberMargin/2-5,"px"),a.xp6(1),a.Oqu(null==M.newLine?null:M.newLine.lineNumber),a.xp6(1),a.Q6J("ngIf",B.getLineView(M))}}let it=(()=>{class st extends((0,et.j)(ot.A,G.P)){constructor(M,K){super(),this.diffService=M,this.diffSelectionService=K,this.lineNumberMargin=0,this.lines$=new m.X([]),this.currentPatch=null,this.getSelection=B=>this.diffSelectionService.selectedRange.pipe((0,b.U)(J=>{if(!J)return null;const[yt,Dt]=J[0].line>J[1].line||J[0].line===J[1].line&&J[0].char>J[1].char?[J[1],J[0]]:J;return B<yt.line||B>Dt.line?null:B===yt.line?{left:yt.char*this.diffSelectionService.charWidth+"px",width:yt.line===Dt.line?(Dt.char-yt.char)*this.diffSelectionService.charWidth+"px":"100%"}:B===Dt.line?{left:"0px",width:Dt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,E.g)(0),(0,X.R)(this.destroyed$)).subscribe(K=>{const B=this.currentPatch?{...this.currentPatch}:null;if(K){this.currentPatch={newFilePath:K.newFilePath,oldFilePath:K.oldFilePath};const J=Math.max(K.oldLines.length,K.newLines.length)??0;this.lineNumberMargin=this.diffService.calculateMargin(J.toString().length),this.diffService.calculateInlineLines(K.oldLines,K.newLines,K.hunks).pipe((0,X.R)(this.destroyed$)).subscribe(yt=>{this.lines$.next(yt),(!B||B.oldFilePath!==this.currentPatch?.oldFilePath||B.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),B&&this.scrollContainer.nativeElement?.scrollTo(0,0)});const M=this.scrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(K,B)=>({line:Math.floor((M.scrollTop+B-M.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((M.scrollLeft+K-M.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(K,B)=>this.lines$.value.filter((J,yt)=>yt>=K&&yt<=B).map(J=>this.getLineView(J)?.text),()=>{const K=this.lines$.value[this.lines$.value.length-1];return{line:this.lines$.value.length-1,char:K?this.getLineView(K)?.text.length??0:0}},([K,B])=>(0,y.Z)(K.line,B.line+1).map(J=>({oldLineNo:this.lines$.value[J]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[J]?.newLine?.lineNumber??-1}))).pipe((0,X.R)(this.destroyed$)).subscribe()}getLineView(M){return"added"===M.status?M.newLine:"removed"===M.status?M.oldLine:"unchanged"===M.status?M.newLine??M.oldLine:null}trackByDiffLine(M,K){return M}static{this.\u0275fac=function(K){return new(K||st)(a.Y36(Pt.S),a.Y36(It.Q))}}static{this.\u0275cmp=a.Xpm({type:st,selectors:[["app-inline-view"]],viewQuery:function(K,B){if(1&K&&(a.Gf(lt,7,a.SBq),a.Gf(Ct,7,a.SBq),a.Gf(i.N7,5)),2&K){let J;a.iGM(J=a.CRH())&&(B.scrollContainer=J.first),a.iGM(J=a.CRH())&&(B.codeElement=J.first),a.iGM(J=a.CRH())&&(B.viewports=J)}},inputs:{diffLines:"diffLines",search:"search"},features:[a.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0",1,"vs-code-theme"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[1,"selection"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(K,B){1&K&&(a.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),a.YNc(5,V,8,13,"li",4),a.ALo(6,"async"),a.qZA()()()),2&K&&(a.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),a.xp6(4),a.Udp("margin-left",B.lineNumberMargin+26,"px"),a.xp6(1),a.Q6J("cdkVirtualForOf",a.lcZ(6,7,B.lines$))("cdkVirtualForTrackBy",B.trackByDiffLine))},dependencies:[i.xd,i.x0,i.N7,tt.mk,tt.sg,tt.O5,tt.Ov,bt.y,Mt.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}"],changeDetection:0})}}return st})();var j=o(2438),wt=o(2460),Z=o(2181),H=o(9397),ht=o(3620),kt=o(9193),Ft=o(3588);const jt=["leftScrollContainer"],zt=["rightScrollContainer"],ce=["leftCode"],he=["rightCode"];function le(st,Ot){if(1&st&&a._UZ(0,"span",13),2&st){const M=Ot.ngIf;a.Udp("left",M.left)("width",M.width)}}function me(st,Ot){if(1&st&&(a.TgZ(0,"span",16),a._uU(1),a.qZA()),2&st){const M=Ot.$implicit;a.Q6J("ngClass",M.class),a.xp6(1),a.Oqu(M.text)}}function ge(st,Ot){if(1&st&&(a.ynx(0),a.TgZ(1,"span",14),a._uU(2),a.qZA(),a.YNc(3,me,2,2,"span",15),a.ALo(4,"tokens"),a.ALo(5,"searchToken"),a.ALo(6,"async"),a.BQk()),2&st){const M=a.oxw().$implicit,K=a.oxw();a.xp6(2),a.Oqu(null==M.oldLine?null:M.oldLine.lineNumber),a.xp6(1),a.Q6J("ngForOf",a.xi3(4,2,a.Dn7(5,5,null==M.oldLine?null:M.oldLine.tokens,null==M.oldLine?null:M.oldLine.text,a.lcZ(6,9,K.search)),null==M.oldLine?null:M.oldLine.text))}}function pe(st,Ot){if(1&st&&(a.TgZ(0,"li",10),a.YNc(1,le,1,4,"span",11),a.ALo(2,"async"),a.YNc(3,ge,7,11,"ng-container",12),a.qZA()),2&st){const M=Ot.$implicit,K=Ot.index,B=a.oxw();a.Q6J("ngClass","line-"+M.status),a.xp6(1),a.Q6J("ngIf",a.lcZ(2,3,B.getSelection(K,"left"))),a.xp6(2),a.Q6J("ngIf","added"!==M.status)}}function gt(st,Ot){if(1&st&&a._UZ(0,"span",13),2&st){const M=Ot.ngIf;a.Udp("left",M.left)("width",M.width)}}function Wt(st,Ot){if(1&st&&(a.TgZ(0,"span",16),a._uU(1),a.qZA()),2&st){const M=Ot.$implicit;a.Q6J("ngClass",M.class),a.xp6(1),a.Oqu(M.text)}}function P(st,Ot){if(1&st&&(a.ynx(0),a.TgZ(1,"span",14),a._uU(2),a.qZA(),a.YNc(3,Wt,2,2,"span",15),a.ALo(4,"tokens"),a.ALo(5,"searchToken"),a.ALo(6,"async"),a.BQk()),2&st){const M=a.oxw().$implicit,K=a.oxw();a.xp6(2),a.Oqu(null==M.newLine?null:M.newLine.lineNumber),a.xp6(1),a.Q6J("ngForOf",a.xi3(4,2,a.Dn7(5,5,null==M.newLine?null:M.newLine.tokens,null==M.newLine?null:M.newLine.text,a.lcZ(6,9,K.search)),null==M.newLine?null:M.newLine.text))}}function U(st,Ot){if(1&st&&(a.TgZ(0,"li",10),a.YNc(1,gt,1,4,"span",11),a.ALo(2,"async"),a.YNc(3,P,7,11,"ng-container",12),a.qZA()),2&st){const M=Ot.$implicit,K=Ot.index,B=a.oxw();a.Q6J("ngClass","line-"+M.status),a.xp6(1),a.Q6J("ngIf",a.lcZ(2,3,B.getSelection(K,"right"))),a.xp6(2),a.Q6J("ngIf","removed"!==M.status)}}let q=(()=>{class st extends((0,et.j)(ot.A,G.P)){constructor(M,K,B){super(),this.zone=M,this.diffService=K,this.diffSelectionService=B,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$=new m.X([]),this.currentPatch=null,this.selectionSide=new m.X("right"),this.getSelection=(J,yt)=>this.diffSelectionService.selectedRange.pipe((0,wt.M)(this.selectionSide),(0,b.U)(([Dt,Xt])=>{if(!Dt||Xt!==yt)return null;const[ne,qt]=Dt[0].line>Dt[1].line||Dt[0].line===Dt[1].line&&Dt[0].char>Dt[1].char?[Dt[1],Dt[0]]:Dt;return J<ne.line||J>qt.line?null:J===ne.line?{left:ne.char*this.diffSelectionService.charWidth+"px",width:ne.line===qt.line?(qt.char-ne.char)*this.diffSelectionService.charWidth+"px":"100%"}:J===qt.line?{left:"0px",width:qt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,E.g)(0),(0,X.R)(this.destroyed$)).subscribe(B=>{const J=this.currentPatch?{...this.currentPatch}:null;B?(this.currentPatch={newFilePath:B.newFilePath,oldFilePath:B.oldFilePath},this.leftLineNumberMargin=this.diffService.calculateMargin(B.oldLines.length.toString().length,!0),this.rightLineNumberMargin=this.diffService.calculateMargin(B.newLines.length.toString().length,!0),this.diffService.calculateSplitLines(B.oldLines,B.newLines,B.hunks).pipe((0,X.R)(this.destroyed$)).subscribe(yt=>{this.lines$.next(yt),(!J||J.oldFilePath!==this.currentPatch?.oldFilePath||J.newFilePath!==this.currentPatch?.newFilePath)&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0))})):(this.currentPatch=null,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$.next([]),J&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0)))}),this.zone.runOutsideAngular(()=>{let B=!1,J=!1;(0,j.R)(this.leftScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,Z.h)(()=>!J),(0,H.b)(()=>{B=!0,this.rightScrollContainer.nativeElement.scrollTo(this.leftScrollContainer.nativeElement.scrollLeft,this.leftScrollContainer.nativeElement.scrollTop)}),(0,ht.b)(100),(0,X.R)(this.destroyed$)).subscribe(()=>{B=!1}),(0,j.R)(this.rightScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,Z.h)(()=>!B),(0,H.b)(()=>{J=!0,this.leftScrollContainer.nativeElement.scrollTo(this.rightScrollContainer.nativeElement.scrollLeft,this.rightScrollContainer.nativeElement.scrollTop)}),(0,ht.b)(100),(0,X.R)(this.destroyed$)).subscribe(()=>{J=!1})});const M=this.leftScrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.leftCodeElement.nativeElement,(B,J)=>({line:Math.floor((M.scrollTop+J-M.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((M.scrollLeft+B-M.getBoundingClientRect().left-(this.leftLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(B,J)=>this.lines$.value.filter((yt,Dt)=>Dt>=B&&Dt<=J).map(yt=>yt.oldLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.oldLine?.text.length??0}),([B,J])=>(0,y.Z)(B.line,J.line+1).map(yt=>({oldLineNo:this.lines$.value[yt]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[yt]?.newLine?.lineNumber??-1}))).pipe((0,X.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("left")});const K=this.rightScrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.rightCodeElement.nativeElement,(B,J)=>({line:Math.floor((K.scrollTop+J-K.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((K.scrollLeft+B-K.getBoundingClientRect().left-(this.rightLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(B,J)=>this.lines$.value.filter((yt,Dt)=>Dt>=B&&Dt<=J).map(yt=>yt.newLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.newLine?.text.length??0}),([B,J])=>(0,y.Z)(B.line,J.line+1).map(yt=>({oldLineNo:this.lines$.value[yt]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[yt]?.newLine?.lineNumber??-1}))).pipe((0,X.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("right")})}trackByDiffLine(M,K){return M}static{this.\u0275fac=function(K){return new(K||st)(a.Y36(a.R0b),a.Y36(Pt.S),a.Y36(It.Q))}}static{this.\u0275cmp=a.Xpm({type:st,selectors:[["app-split-view"]],viewQuery:function(K,B){if(1&K&&(a.Gf(jt,7,a.SBq),a.Gf(zt,7,a.SBq),a.Gf(ce,7,a.SBq),a.Gf(he,7,a.SBq),a.Gf(i.N7,5)),2&K){let J;a.iGM(J=a.CRH())&&(B.leftScrollContainer=J.first),a.iGM(J=a.CRH())&&(B.rightScrollContainer=J.first),a.iGM(J=a.CRH())&&(B.leftCodeElement=J.first),a.iGM(J=a.CRH())&&(B.rightCodeElement=J.first),a.iGM(J=a.CRH())&&(B.viewports=J)}},inputs:{diffLines:"diffLines",search:"search"},features:[a.qOj],decls:17,vars:18,consts:[["id","diff-view_split-left"],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["leftScrollContainer",""],["tabindex","0",1,"vs-code-theme","left-code"],["leftCode",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["id","diff-view_split-right"],["rightScrollContainer",""],["tabindex","1",1,"vs-code-theme","right-code"],["rightCode",""],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf"],[1,"selection"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(K,B){1&K&&(a.TgZ(0,"app-grid")(1,"app-grid-cell",0)(2,"cdk-virtual-scroll-viewport",1,2)(4,"code",3,4)(6,"ul"),a.YNc(7,pe,4,5,"li",5),a.ALo(8,"async"),a.qZA()()()(),a.TgZ(9,"app-grid-cell",6)(10,"cdk-virtual-scroll-viewport",1,7)(12,"code",8,9)(14,"ul"),a.YNc(15,U,4,5,"li",5),a.ALo(16,"async"),a.qZA()()()()()),2&K&&(a.xp6(2),a.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),a.xp6(4),a.Udp("margin-left",B.leftLineNumberMargin+26,"px"),a.xp6(1),a.Q6J("cdkVirtualForOf",a.lcZ(8,14,B.lines$))("cdkVirtualForTrackBy",B.trackByDiffLine),a.xp6(3),a.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),a.xp6(4),a.Udp("margin-left",B.rightLineNumberMargin+26,"px"),a.xp6(1),a.Q6J("cdkVirtualForOf",a.lcZ(16,16,B.lines$))("cdkVirtualForTrackBy",B.trackByDiffLine))},dependencies:[i.xd,i.x0,i.N7,tt.mk,tt.sg,tt.O5,kt.Y,Ft.M,tt.Ov,bt.y,Mt.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%;overflow-x:scroll}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#501515}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#1f2c19}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#ee7e7e}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#0cd086}"],changeDetection:0})}}return st})();var vt=o(2596),Nt=o(4551),se=o(680),ae=o(7484);let de=(()=>{class st{static{this.\u0275fac=function(K){return new(K||st)}}static{this.\u0275mod=a.oAB({type:st})}static{this.\u0275inj=a.cJS({imports:[s.vV,e.c,v.I]})}}return st})();a.B6R(D.s,[s.A9,s.Yi,tt.O5,ft.lW,ft.RK,rt.Hw,vt.gM,Nt.j,se.T,L,it,q],[tt.Ov,ae.X])},4794:(St,mt,o)=>{o.d(mt,{S:()=>w});var s=o(4458),v=o(9738),D=o(2096),i=o(9315),a=o(7398),Y=o(3153),W=o(5879);let w=(()=>{class _{constructor(){this.calculateInlineLines=(y,R,at)=>{const t=[];let ct=0,F=0,Q=[];const I=(r,m)=>{(r>ct||m>F)&&(t.push(...(0,v.Z)(y.slice(ct,r),R.slice(F,m)).map(([b,C])=>({oldLine:b??null,newLine:C??null,status:"unchanged"}))),ct=r,F=m)};for(const r of at){I(r.oldStart-1,r.newStart-1),[Q,ct,F]=this.calculateGroups(y,R,ct,F,r);for(const m of Q)"modified"===m.type?t.push(...m.lines.flatMap(b=>"replaced"===b.status?[{...b,status:"removed",newLine:null},{...b,status:"added",oldLine:null}]:[b]).sort((b,C)=>"removed"===b.status&&"removed"===C.status?0:"removed"===b.status?-1:"removed"===C.status?1:0)):t.push(...m.lines)}return I(y.length,R.length),(0,D.of)(t)},this.calculateHunkLines=(y,R,at)=>{const t=[];let ct=0,F=0,Q=[];const I=(r,m,b)=>{(r>ct||m>F)&&(t.push({isSeparator:!0,separatorHeader:b,hiddenDiffLines:(0,v.Z)(y.slice(ct,r),R.slice(F,m)).map(([C,x])=>({oldLine:C??null,newLine:x??null,status:"unchanged"}))}),ct=r,F=m)};for(const r of at){I(r.oldStart-1,r.newStart-1,r.header),[Q,ct,F]=this.calculateGroups(y,R,ct,F,r);for(const m of Q)"modified"===m.type?t.push(...m.lines.flatMap(b=>"replaced"===b.status?[{isSeparator:!1,diffLine:{...b,status:"removed",newLine:null}},{isSeparator:!1,diffLine:{...b,status:"added",oldLine:null}}]:[{isSeparator:!1,diffLine:b}]).sort((b,C)=>"removed"===b.diffLine.status&&"removed"===C.diffLine.status?0:"removed"===b.diffLine.status?-1:"removed"===C.diffLine.status?1:0)):t.push(...m.lines.map(b=>({isSeparator:!1,diffLine:b})))}return I(y.length,R.length,null),(0,D.of)(t)},this.calculateSplitLines=(y,R,at)=>{const t=[];let ct=0,F=0,Q=[];const I=(r,m)=>{(r>ct||m>F)&&(t.push(...(0,v.Z)(y.slice(ct,r),R.slice(F,m)).map(([b,C])=>({oldLine:b??null,newLine:C??null,status:"unchanged"}))),ct=r,F=m)};for(const r of at){I(r.oldStart-1,r.newStart-1),[Q,ct,F]=this.calculateGroups(y,R,ct,F,r);for(const m of Q)t.push(...m.lines)}return I(y.length,R.length),(0,D.of)(t)},this.calculateMergeLines=(y,R,at,t,ct)=>{const F=[],Q=this.calculateSplitLines(y,R,t),I=this.calculateSplitLines(y,at,ct);return(0,i.D)([Q,I]).pipe((0,a.U)(([r,m])=>{let b=1,C=0,x=0;for(;C<r.length&&x<m.length;){const E=r[C],X=m[x];if(E.oldLine||X.oldLine){if(!E.oldLine&&X.oldLine)F.push({baseLine:null,yoursLine:E.newLine,yoursStatus:E.status,theirsLine:null,theirsStatus:null}),C++;else if(E.oldLine&&!X.oldLine)F.push({baseLine:null,yoursLine:null,yoursStatus:null,theirsLine:X.newLine,theirsStatus:X.status}),x++;else if(E.oldLine&&X.oldLine){if(b!==E.oldLine.lineNumber||b!==X.oldLine.lineNumber)throw new Y.UY(E.oldLine.lineNumber,X.oldLine.lineNumber);F.push({baseLine:X.oldLine,yoursLine:E.newLine,yoursStatus:E.status,theirsLine:X.newLine,theirsStatus:X.status}),b++,C++,x++}}else F.push({baseLine:null,yoursLine:E.newLine,yoursStatus:E.status,theirsLine:X.newLine,theirsStatus:X.status}),C++,x++}for(;C<r.length;){const E=r[C];F.push({baseLine:E.oldLine,yoursLine:E.newLine,yoursStatus:E.status,theirsLine:null,theirsStatus:null}),C++}for(;x<m.length;){const E=m[x];F.push({baseLine:E.oldLine,yoursLine:null,yoursStatus:null,theirsLine:E.newLine,theirsStatus:E.status}),x++}return F}))},this.calculateGroups=(y,R,at,t,ct)=>{const F=ct.lines.filter(b=>">"!==b.origin&&"<"!==b.origin),Q=[];let I=at,r=t,m=0;for(;m<F.length;)if(-1===F[m]?.newLineNo){const b=[];for(;m<F.length&&-1===F[m]?.newLineNo;){const C=y[I];C&&b.push(C),I++,m++}if(m<F.length&&-1===F[m]?.oldLineNo){const C=[];for(;m<F.length&&-1===F[m]?.oldLineNo;){const x=R[r];x&&C.push(x),r++,m++}Q.push(this.createModifiedGroup(b,C))}else Q.push({type:"removed",lines:b.map(C=>({oldLine:C,newLine:null,status:"removed"}))})}else if(-1===F[m]?.oldLineNo){const b=[];for(;m<F.length&&-1===F[m]?.oldLineNo;){const C=R[r];C&&b.push(C),r++,m++}if(m<F.length&&-1===F[m]?.newLineNo){const C=[];for(;m<F.length&&-1===F[m]?.newLineNo;){const x=y[I];x&&C.push(x),I++,m++}Q.push(this.createModifiedGroup(C,b))}else Q.push({type:"added",lines:b.map(C=>({oldLine:null,newLine:C,status:"added"}))})}else{const b=[],C=[];for(;m<F.length&&-1!==F[m]?.oldLineNo&&-1!==F[m]?.newLineNo;){const x=y[I];x&&b.push(x);const E=R[r];E&&C.push(E),I++,r++,m++}Q.push({type:"unchanged",lines:(0,v.Z)(b,C).map(([x,E])=>({oldLine:x??null,newLine:E??null,status:"unchanged"}))})}return[Q,I,r]},this.createModifiedGroup=(y,R)=>{const at=y.map(dt=>dt.text.replace("\n","")).join("\n"),t=R.map(dt=>dt.text.replace("\n","")).join("\n"),ct=new s.diff_match_patch,F=ct.diff_main(at,t);ct.diff_cleanupSemantic(F);const Q=[];let I=0,r=0,m=null,b=null,C=[],x=[],E=[];const X=dt=>{dt===s.DIFF_EQUAL?(Q.push({status:null!==m&&null!==b?"replaced":null!==m?"removed":"added",oldLine:null!==m?{...y[I],tokens:[...y[I]?.tokens??[],...C]}:null,newLine:null!==b?{...R[r],tokens:[...R[r]?.tokens??[],...x]}:null}),I++,r++,m=null,b=null,C=[],x=[]):dt===s.DIFF_INSERT?(null===m&&(Q.push(...E),E=[]),(null===m?Q:E).push({status:"added",oldLine:null,newLine:{...R[r],tokens:[...R[r]?.tokens??[],...x]}}),r++,b=null,x=[]):dt===s.DIFF_DELETE&&(null===b&&(Q.push(...E),E=[]),(null===b?Q:E).push({status:"removed",oldLine:{...y[I],tokens:[...y[I]?.tokens??[],...C]},newLine:null}),I++,m=null,C=[])};for(const[dt,et]of F){const ot=et.split("\n");if(dt===s.DIFF_EQUAL){if(ot.length>1){Q.push(...E),E=[],null!==m||null!==b?(m=(m??0)+(ot[0]?.length??0),b=(b??0)+(ot[0]?.length??0),X(dt)):(Q.push({status:"unchanged",oldLine:y[I],newLine:R[r]}),I++,r++);for(let G=1;G<ot.length-1;G++)Q.push({status:"unchanged",oldLine:y[I],newLine:R[r]}),I++,r++}m=(m??0)+(ot[ot.length-1]?.length??0),b=(b??0)+(ot[ot.length-1]?.length??0)}else if(dt===s.DIFF_INSERT){if(ot.length>1)if(null!==b){ot[0]&&ot[0].length>0&&x.push({startIndex:b??0,endIndex:(b??0)+ot[0].length,scopes:["diff-added"]}),b+=ot[0]?.length??0,X(dt);for(let G=1;G<ot.length-1;G++)(null===m?Q:E).push({status:"added",oldLine:null,newLine:{...R[r],tokens:[...R[r]?.tokens??[],{startIndex:0,endIndex:ot[G]?.length??0,scopes:["diff-added"]}]}}),r++}else for(let G=0;G<ot.length-1;G++)(null===m?Q:E).push({status:"added",oldLine:null,newLine:{...R[r],tokens:[...R[r]?.tokens??[],{startIndex:0,endIndex:ot[G]?.length??0,scopes:["diff-added"]}]}}),r++;(ot[ot.length-1]?.length??0)>0&&x.push({startIndex:b??0,endIndex:(b??0)+(ot[ot.length-1]?.length??0),scopes:["diff-added"]}),b=(b??0)+(ot[ot.length-1]?.length??0)}else if(dt===s.DIFF_DELETE){if(ot.length>1)if(null!==m){(ot[0]?.length??0)>0&&C.push({startIndex:m??0,endIndex:(m??0)+(ot[0]?.length??0),scopes:["diff-removed"]}),m+=ot[0]?.length??0,X(dt);for(let G=1;G<ot.length-1;G++)(null===b?Q:E).push({status:"removed",oldLine:{...y[I],tokens:[...y[I]?.tokens??[],{startIndex:0,endIndex:ot[G]?.length??0,scopes:["diff-removed"]}]},newLine:null}),I++}else for(let G=0;G<ot.length-1;G++)(null===b?Q:E).push({status:"removed",oldLine:{...y[I],tokens:[...y[I]?.tokens??[],{startIndex:0,endIndex:ot[G]?.length??0,scopes:["diff-removed"]}]},newLine:null}),I++;(ot[ot.length-1]?.length??0)>0&&C.push({startIndex:m??0,endIndex:(m??0)+(ot[ot.length-1]?.length??0),scopes:["diff-removed"]}),m=(m??0)+(ot[ot.length-1]?.length??0)}}return Q.push(...E),(null!==m||null!==b)&&(0===at.length&&(m=m??0),0===t.length&&(b=b??0),X(s.DIFF_EQUAL)),{type:"modified",lines:Q}}}static{this.lineNumberCharacterWidth=8.3}static{this.lineNumberSpacing=10}calculateMargin(y,R=!1){return _.lineNumberSpacing+y*_.lineNumberCharacterWidth*(R?1:2)}getFileExtension(y){if(!y)return null;const R=y.lastIndexOf(".");return R>0?y.substring(R+1):null}static{this.\u0275fac=function(R){return new(R||_)}}static{this.\u0275prov=W.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},7041:(St,mt,o)=>{o.d(mt,{y:()=>e});var s=o(5879);let e=(()=>{class v{transform(i,a,Y){if(!Y||!a)return i;const W=Array.from(a.matchAll(Y),w=>({startIndex:w.index??0,endIndex:(w.index??0)+(w[0]?.length??0),scopes:["search-result"]}));return[...i,...W]}static{this.\u0275fac=function(a){return new(a||v)}}static{this.\u0275pipe=s.Yjl({name:"searchToken",type:v,pure:!0})}}return v})()},6974:(St,mt,o)=>{o.d(mt,{U:()=>a});var s=o(6708),e=o(9768),v=o(9076),D=o(5879);let a=(()=>{class Y{constructor(){this.renderScopes=w=>w.map(_=>this.renderScope(_)).join(" "),this.areEqual=(w,_)=>{if(w.length!==_.length)return!1;const n=new Set(w);for(const y of _)if(!n.has(y))return!1;return!0}}transform(w,_=""){if(!_)return[];if(_.length>1e4)return[{class:"normal",text:_.slice(0,1e4)+(0,v.Iu)("... Max line length reached!")}];const n=(0,s.Z)(w,t=>t.startIndex),y=[];let R=0,at=n.filter(t=>t.startIndex<=R&&t.endIndex>R);for(;R<_.length;){let t=n.filter(F=>F.startIndex<=R&&F.endIndex>R);const ct=R;for(;this.areEqual(at,t)&&R<_.length;)R++,t=n.filter(F=>F.startIndex<=R&&F.endIndex>R);y.push({class:this.renderScopes(at.map(F=>F.scopes)),text:_.substring(ct,R)||"\n"}),at=t}return y}renderScope(w){const _=w[w.length-1];if(!_)return"";const n=_.split(".");return(0,e.Z)(1,n.length+1).map(y=>n.slice(0,y).join("-")).join(" ")}static{this.\u0275fac=function(_){return new(_||Y)}}static{this.\u0275pipe=D.Yjl({name:"tokens",type:Y,pure:!0})}}return Y})()},1314:(St,mt,o)=>{o.d(mt,{$:()=>dt});var s=o(2159),e=o(4746);const D=function v(et,ot){return et<ot},a=function i(et,ot){return et&&et.length?(0,s.Z)(et,(0,e.Z)(ot,2),D):void 0};var Y=o(4957);var _=o(9768),n=o(342),y=o(2544),R=o(2541),at=o(2720),t=o(8733),ct=o(6614);var r=o(2447),m=o(9568);const C=(0,r.Z)(function(et,ot){return(0,m.Z)(et)?function Q(et,ot,G,Pt){var It=-1,tt=y.Z,ft=!0,rt=et.length,bt=[],Mt=ot.length;if(!rt)return bt;G&&(ot=(0,at.Z)(ot,(0,t.Z)(G))),Pt?(tt=R.Z,ft=!1):ot.length>=200&&(tt=ct.Z,ft=!1,ot=new n.Z(ot));t:for(;++It<rt;){var xt=et[It],Vt=null==G?xt:G(xt);if(xt=Pt||0!==xt?xt:0,ft&&Vt==Vt){for(var Lt=Mt;Lt--;)if(ot[Lt]===Vt)continue t;bt.push(xt)}else tt(ot,Vt,Pt)||bt.push(xt)}return bt}(et,ot):[]});var x=o(3153),E=o(9076),X=o(5879);let dt=(()=>{class et{constructor(){this.isDashed=G=>"head"===G.id||G.id.startsWith("merge:")}static{this.xUnit=15}static{this.yUnit=28}static{this.xOffset=7.5}static{this.yOffset=13}static{this.totalColors=15}isIndexInBounds(G,Pt,It){const tt=G*et.yUnit;return tt>=Pt&&tt<It-et.yUnit}calculateVisible(G,Pt,It,tt,ft){return{commitDetails:G.slice(tt,ft),commitTrails:Pt.filter(rt=>rt.minYIndexWithMerges<=ft&&rt.maxYIndexWithMerges>=tt),mergePaths:It.filter(rt=>rt.from.yIndex>=tt&&rt.to.some(bt=>bt.yIndex<=ft))}}calculate(G,Pt,It,tt,ft,rt,bt){const Mt={};let xt=[],Vt=[],Lt=[];const _t=(G?1:0)+Pt.length;tt.forEach((O,L)=>{Mt[O.id]={id:O.id,yIndex:L+_t,commit:O}});const Rt=[];Pt.forEach((O,L)=>{const lt=`merge:${O.fromCommitId}:${O.toCommitId}`,Ct={id:lt,message:O.message??(0,E.Iu)("merge: from _branch_ into _branch_",{from:O.fromCommitId,to:O.toCommitId}),parentIds:[O.toCommitId,O.fromCommitId],time:0,references:[],authorEmail:"",authorName:""};Rt.push(Ct),Mt[lt]={id:lt,yIndex:L+(G?1:0),commit:Ct}}),It.forEach(O=>{const L=Mt[O.id],lt=L?.commit.parentIds[1];!L||!lt||2!==L.commit.parentIds.length||(L.stash={index:O.index,workingDirCommitId:O.id,indexCommitId:lt})});const T=G?{id:"head",message:"",parentIds:G.parentId?[G.parentId,...G.mergeHeads]:[...G.mergeHeads],time:0,references:[],authorEmail:"",authorName:""}:null;G&&(Mt.head={id:"head",yIndex:0,commit:T});const k=T?[T,...Rt,...tt]:[...Rt,...tt];if(k.forEach(O=>{const L=Mt[O.id];if(!L)throw new x.qf(O.id);L.trail||this.calculateTrail(L,Mt,xt,Vt),!L.stash&&O.parentIds.length>1&&O.parentIds.slice(1).forEach(lt=>{const Ct=Mt[lt];if(Ct)if(Ct.mergeFrom)Ct.mergeFrom.to.push(L);else{const z={from:Ct,to:[L]};Ct.mergeFrom=z,Lt.push(z)}})}),({mergePaths:Lt,lanes:Vt}=this.calculateMergePaths(Lt,Vt,ft,rt)),this.calculateColors(xt,bt),G&&G.parentId&&Mt[G.parentId]){const O=xt.find(L=>0===L.minYIndex);if(O){O.commits=O.commits.filter(lt=>"head"!==lt.id);const L=a(O.commits,lt=>lt.yIndex);O.minYIndex=L?.yIndex??0,O.minYIndexWithMerges=L?.yIndex??0,this.createUncommittedTrail(Mt.head,Mt[G.parentId],xt,O.colorIndex,O.lane)}}return Rt.forEach((O,L)=>{const lt=xt.find(At=>At.minYIndex===L+(G?1:0)),Ct=O.parentIds[0],z=Ct?Mt[Ct]:void 0;if(lt&&z){if(lt.commits=lt.commits.filter(g=>g.id!==O.id),lt.commits.length<=0)xt=xt.filter(g=>g!==lt);else{const g=a(lt.commits.filter(V=>"head"!==V.id&&!V.id.startsWith("merge:")),V=>V.yIndex);lt.minYIndex=g?.yIndex??0,lt.minYIndexWithMerges=g?.yIndex??0}const At=Mt[O.id];if(!At)throw new x.qf;this.createUncommittedTrail(At,z,xt,lt.colorIndex,lt.lane)}}),It.forEach(O=>{const L=Mt[O.id];if(!L)return;const Ct=L.trail,z=L.commit.parentIds[0],At=z?Mt[z]:void 0;if(At){if(Ct.commits=Ct.commits.filter(g=>g.id!==O.id),Ct.commits.length<=0)xt=xt.filter(g=>g!==Ct);else{const g=a(Ct.commits,V=>V.yIndex);Ct.minYIndex=g?.yIndex??0,Ct.minYIndexWithMerges=g?.yIndex??0}this.createUncommittedTrail(L,At,xt,Ct.colorIndex,Ct.lane)}}),{commitDetails:Mt,commitTrails:xt,lanes:Vt,mergePaths:Lt,headCommit:T,orderedCommits:k}}createUncommittedTrail(G,Pt,It,tt,ft){let rt=Pt.yIndex;Pt.mergeFrom&&Pt.mergeFrom.to.length>0&&Pt.mergeFrom.to.some(Mt=>!this.isDashed(Mt))&&(rt=Math.min(...Pt.mergeFrom.to.filter(Mt=>!this.isDashed(Mt)).map(({yIndex:Mt})=>Mt))+.25,rt<G.yIndex&&(rt=G.yIndex+.5),It.push({trailIndex:It.length,minYIndex:rt,maxYIndex:Pt.yIndex,minYIndexWithMerges:rt,maxYIndexWithMerges:Pt.yIndex,colorIndex:tt,commits:[],isDashed:!1,lane:ft}));const bt={trailIndex:It.length,minYIndex:G.yIndex,maxYIndex:rt,minYIndexWithMerges:G.yIndex,maxYIndexWithMerges:rt,colorIndex:tt,commits:[G],isDashed:!0,lane:ft};return G.trail=bt,It.push(bt),bt}calculateTrail(G,Pt,It,tt){const ft={trailIndex:It.length,minYIndex:G.yIndex,maxYIndex:G.yIndex,minYIndexWithMerges:G.yIndex,maxYIndexWithMerges:G.yIndex,colorIndex:null,commits:[],isDashed:!1};if(G.commit.parentIds.length<=0)G.trail=ft,ft.commits.push(G),ft.maxYIndex=G.yIndex,ft.maxYIndexWithMerges=G.yIndex;else{let bt=G;for(;bt&&!bt.trail&&bt.commit.parentIds.length>0;){bt.trail=ft,ft.maxYIndex=bt.yIndex,ft.maxYIndexWithMerges=bt.yIndex,ft.commits.push(bt);const Mt=bt.commit.parentIds[0];bt=Mt?Pt[Mt]:void 0}bt&&(ft.maxYIndex=bt.yIndex,ft.maxYIndexWithMerges=bt.yIndex,bt.trail||(bt.trail=ft,ft.commits.push(bt)))}let rt=tt.find(bt=>{const Mt=this.getLaneMaxYIndex(bt);return void 0===Mt||Mt<ft.minYIndex});return rt||(rt={xIndex:tt.length,occupations:[]},tt.push(rt)),rt.occupations.push({type:"commit-trail",minYIndex:ft.minYIndex,maxYIndex:ft.maxYIndex}),ft.lane=rt,It.push(ft),ft}calculateMergePaths(G,Pt,It,tt){Pt=Pt.map(rt=>({...rt,occupations:rt.occupations.filter(bt=>"merge-path"!==bt.type)})).filter(rt=>rt.occupations.length>0);const ft=[...G];return G.forEach(rt=>{const bt=[],Mt=[];let xt;rt.to.forEach(k=>{rt.from.trail.minYIndexWithMerges>k.yIndex&&(rt.from.trail.minYIndexWithMerges=k.yIndex),rt.from.trail.maxYIndexWithMerges<k.yIndex&&(rt.from.trail.maxYIndexWithMerges=k.yIndex),k.trail.minYIndexWithMerges>rt.from.yIndex&&(k.trail.minYIndexWithMerges=rt.from.yIndex),k.trail.maxYIndexWithMerges<rt.from.yIndex&&(k.trail.maxYIndexWithMerges=rt.from.yIndex)});const Vt=rt.from.trail.lane.xIndex,Lt=It(Vt);let _t=[],Rt=rt.to;const T=rt.to.every(this.isDashed);if(rt.from.trail.minYIndex<rt.from.yIndex){const k=rt.from.trail.commits.findIndex(L=>L.id===rt.from.id),O=rt.from.trail.commits[k-1];if(!O)throw new x.qf;_t=rt.to.filter(L=>L.yIndex>O.yIndex),Rt=rt.to.filter(L=>L.yIndex<=O.yIndex),xt=O.yIndex}else{bt.push(`M ${Lt} ${tt(rt.from.yIndex)}`),bt.push(`V ${tt(rt.from.yIndex-.5)}`),xt=rt.from.yIndex-1;const k=function W(et,ot){return et&&et.length?(0,s.Z)(et,(0,e.Z)(ot,2),Y.Z):void 0}(Rt,O=>O.yIndex);if(k&&k.yIndex===rt.from.yIndex-1){Rt=Rt.filter(L=>L.id!==k.id);const O=`L ${It(k.trail.lane.xIndex)} ${tt(k.yIndex)}`;this.isDashed(k)?Mt.push(O):bt.push(O)}}if(Rt.length>0){const k=Math.min(...Rt.map(z=>z.yIndex)),O=Pt.filter(z=>!this.isLaneOccupied(z,k+1,xt)),L=a(O,z=>[...Rt,rt.from].reduce((At,g)=>At+Math.abs(g.trail.lane.xIndex-z.xIndex),0))??{xIndex:Pt.length,occupations:[]};0===O.length&&Pt.push(L),L.occupations.push({type:"merge-path",minYIndex:k+1,maxYIndex:xt});const lt=Rt.filter(this.isDashed),Ct=Rt.filter(z=>!this.isDashed(z));if(bt.push(...Ct.flatMap(z=>[`M ${It(L.xIndex)} ${tt(z.yIndex+.5)}`,`L ${this.adjustForDashedLine(!1,L.xIndex,z.trail.lane.xIndex,z.yIndex+.5,z.yIndex,It,tt)}`])),Mt.push(...lt.flatMap(z=>[`M ${It(L.xIndex)} ${tt(z.yIndex+.5)}`,`L ${this.adjustForDashedLine(!0,L.xIndex,z.trail.lane.xIndex,z.yIndex+.5,z.yIndex,It,tt)}`])),T)bt.push(`M ${Lt} ${tt(xt+.5)}`,`L ${It(L.xIndex)} ${tt(xt+.25)}`,`V ${tt(k+.5)}`);else{const z=Math.min(...Ct.map(At=>At.yIndex));bt.push(`M ${Lt} ${tt(xt+.5)}`,`L ${It(L.xIndex)} ${tt(xt+.25)}`,`V ${tt(z+.5)}`),Mt.push(`M ${Lt} ${tt(z+.5)}`,`V ${tt(k+.5)}`)}}bt.push(..._t.filter(k=>!this.isDashed(k)).flatMap(k=>[`M ${Lt} ${tt(k.yIndex+.25)}`,`L ${this.adjustForDashedLine(!1,Vt,k.trail.lane.xIndex,k.yIndex+.25,k.yIndex,It,tt)}`])),Mt.push(..._t.filter(this.isDashed).flatMap(k=>[`M ${Lt} ${tt(k.yIndex+.25)}`,`L ${this.adjustForDashedLine(!0,Vt,k.trail.lane.xIndex,k.yIndex+.25,k.yIndex,It,tt)}`])),T?(rt.isDashed=!0,rt.path=[...bt,...Mt].join(" ")):(rt.isDashed=!1,rt.path=bt.join(" "),Mt.length>0&&ft.push({from:rt.from,isDashed:!0,path:Mt.join(" "),to:rt.to.filter(this.isDashed)}))}),{mergePaths:ft,lanes:Pt}}calculateColors(G,Pt){const It=(0,_.Z)(0,Pt),tt=[];G.forEach(ft=>{const rt=tt.filter(Mt=>Mt.minYIndexWithMerges<=ft.maxYIndexWithMerges&&Mt.maxYIndexWithMerges>=ft.minYIndexWithMerges).map(Mt=>Mt.colorIndex),bt=C(It,...rt);ft.colorIndex=bt[0]??ft.trailIndex%Pt,tt.push(ft)})}getLaneMaxYIndex(G){return G.occupations[G.occupations.length-1]?.maxYIndex}isLaneOccupied(G,Pt,It){return G.occupations.some(tt=>tt.minYIndex<=It&&tt.maxYIndex>=Pt)}adjustForDashedLine(G,Pt,It,tt,ft,rt,bt){const xt=G?tt>ft?.15:-.15:0;return`${rt(It+(G?Pt>It?.3:-.3:0))} ${bt(ft+xt)}`}static{this.\u0275fac=function(Pt){return new(Pt||et)}}static{this.\u0275prov=X.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"})}}return et})()},5696:(St,mt,o)=>{o.d(mt,{i:()=>Lt});var s=o(7582),e=o(5879),v=o(4666),D=o(5619),i=o(4573),a=o(7910),Y=o(709),W=o(9589),w=o(9488),_=o(6814),n=o(617),y=o(2596),R=o(7368),at=o(5684),t=o(3665),ct=o(1361),F=o(5248),Q=o(9918),I=o(5986),r=o(4551);function m(_t,Rt){if(1&_t){const T=e.EpF();e.TgZ(0,"mat-checkbox",7),e.NdJ("change",function(O){e.CHM(T);const L=e.oxw().$implicit,lt=e.oxw();return e.KtG(lt.checkedChanged.next([L,O.checked]))}),e.qZA()}if(2&_t){const T=e.oxw().$implicit,k=e.oxw();e.Q6J("checked",k.isChecked(T))}}function b(_t,Rt){if(1&_t){const T=e.EpF();e.TgZ(0,"li",3),e.NdJ("contextmenu",function(O){const lt=e.CHM(T).$implicit,Ct=e.oxw();return e.KtG(Ct.contextMenuOpened.next([lt,O]))}),e.TgZ(1,"mat-icon",4),e._uU(2),e.qZA(),e.YNc(3,m,1,1,"mat-checkbox",5),e.TgZ(4,"app-condensed-path",6),e.NdJ("click",function(){const L=e.CHM(T).$implicit,lt=e.oxw();return e.KtG(lt.selectedChanged.next(L))}),e.qZA()()}if(2&_t){const T=Rt.$implicit,k=e.oxw();e.ekj("selected",k.isSelected(T))("checked",k.isChecked(T)),e.xp6(1),e.Q6J("ngClass",k.getPatchIconColorClass(T)),e.xp6(1),e.Oqu(k.getPatchIcon(T)),e.xp6(1),e.Q6J("ngIf",k.checked),e.xp6(1),e.Q6J("path",k.getPatchPath(T))}}let C=(()=>{class _t extends((0,i.j)(a.A,ct.P)){constructor(T){super(),this.commitDetailService=T,this.checked=null,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.keyPressDisabled=!1}ngOnChanges(T){T.selected&&(this.keyPressDisabled=!1),T.patches&&(this.orderedPatches=(0,at.Z)(this.patches,[k=>k.status===t.v.Conflicted,k=>(k.oldFilePath??k.newFilePath??"").toLowerCase()],["desc","asc"]))}trackByPatch(T,k){return`${k.oldFilePath}|${k.newFilePath}|${k.status}`}getPatchPath(T){return this.commitDetailService.getPatchPath(T)}getPatchIcon(T){return this.commitDetailService.getPatchIcon(T)}getPatchIconColorClass(T){return this.commitDetailService.getPatchIconColorClass(T)}isChecked(T){return this.checked?.some(({oldFilePath:k,newFilePath:O})=>k===T.oldFilePath&&O===T.newFilePath)}isSelected(T){return T.oldFilePath===this.selected?.oldFilePath&&T.newFilePath===this.selected.newFilePath}keyPressed(T){if(this.keyPressDisabled)return;T.preventDefault();const k=this.selected,O=this.orderedPatches.findIndex(({oldFilePath:lt,newFilePath:Ct})=>lt===k?.oldFilePath&&Ct===k?.newFilePath);let L=null;switch(T.key){case"ArrowUp":if(!(F.V?T.metaKey:T.ctrlKey)){O>0&&(L=O-1);break}case"Home":L=0;break;case"ArrowDown":if(!(F.V?T.metaKey:T.ctrlKey)){O<this.orderedPatches.length-1&&(L=O+1);break}case"End":L=this.orderedPatches.length-1;break;case"Escape":O>=0&&(L=O)}if(null!==L){this.keyPressDisabled=!0;const lt=this.orderedPatches[L];lt&&this.selectedChanged.next(lt);const Ct=this.viewports.first,z=Ct.measureScrollOffset("top"),At=z+Ct.getViewportSize(),g=22*L;(g<z||g>=At)&&Ct.scrollToIndex(L)}}static{this.\u0275fac=function(k){return new(k||_t)(e.Y36(Q.d))}}static{this.\u0275cmp=e.Xpm({type:_t,selectors:[["app-patch-list"]],viewQuery:function(k,O){if(1&k&&e.Gf(R.N7,5),2&k){let L;e.iGM(L=e.CRH())&&(O.viewports=L)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj,e.TTD],decls:3,vars:7,consts:[["tabindex","0",1,"item-list-container",3,"itemSize","maxBufferPx","minBufferPx","keydown"],[1,"patch-list"],[3,"selected","checked","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"contextmenu"],["inline","",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"name",3,"path","click"],[3,"checked","change"]],template:function(k,O){1&k&&(e.TgZ(0,"cdk-virtual-scroll-viewport",0),e.NdJ("keydown",function(lt){return O.keyPressed(lt)}),e.TgZ(1,"ul",1),e.YNc(2,b,5,8,"li",2),e.qZA()()),2&k&&(e.Q6J("itemSize",22)("maxBufferPx",400)("minBufferPx",200),e.xp6(1),e.ekj("checkboxes",O.checked),e.xp6(1),e.Q6J("cdkVirtualForOf",O.orderedPatches)("cdkVirtualForTrackBy",O.trackByPatch))},dependencies:[I.oG,R.xd,R.x0,R.N7,_.mk,_.O5,n.Hw,r.j],styles:["[_nghost-%COMP%]{display:contents}.item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%;contain:content;outline:none}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer;gap:4px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;font-size:0;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field{margin:-9px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;text-align:center}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 22px)}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:none}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#515151}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}return _t})();var x=o(5601),E=o(2572),X=o(2096),dt=o(7398),et=o(9687),ot=o(510),G=o(3999);function Pt(_t,Rt){if(1&_t){const T=e.EpF();e.TgZ(0,"mat-checkbox",8),e.NdJ("click",function(O){return O.stopPropagation()})("change",function(O){e.CHM(T);const L=e.oxw().$implicit,lt=e.oxw();return e.KtG(lt.clickNodeCheckbox(L,O.checked))}),e.qZA()}if(2&_t){const T=e.oxw().$implicit;e.Q6J("checked","all"===T.checked)("indeterminate","some"===T.checked)}}function It(_t,Rt){if(1&_t){const T=e.EpF();e.TgZ(0,"div",3),e.NdJ("click",function(O){const lt=e.CHM(T).$implicit,Ct=e.oxw();return e.KtG(Ct.toggleNodeExpanded(O,lt))}),e.TgZ(1,"mat-icon",4),e._uU(2,"folder"),e.qZA(),e.YNc(3,Pt,1,2,"mat-checkbox",5),e.TgZ(4,"span",6),e._uU(5),e.qZA(),e.TgZ(6,"mat-icon",7),e._uU(7),e.qZA()()}if(2&_t){const T=Rt.$implicit,k=e.oxw();e.ekj("checked","all"===T.checked),e.xp6(3),e.Q6J("ngIf",k.checked),e.xp6(1),e.Q6J("matTooltip",T.id),e.xp6(1),e.Oqu(T.segment),e.xp6(2),e.Oqu(T.expanded?"expand_less":"expand_more")}}function tt(_t,Rt){if(1&_t){const T=e.EpF();e.TgZ(0,"mat-checkbox",13),e.NdJ("change",function(O){e.CHM(T);const L=e.oxw().$implicit,lt=e.oxw();return e.KtG(lt.checkedChanged.next([L.patch,O.checked]))}),e.qZA()}if(2&_t){const T=e.oxw().$implicit;e.Q6J("checked",T.checked)}}function ft(_t,Rt){if(1&_t){const T=e.EpF();e.TgZ(0,"div",9),e.NdJ("contextmenu",function(O){const lt=e.CHM(T).$implicit,Ct=e.oxw();return e.KtG(Ct.contextMenuOpened.next([lt.patch,O]))}),e.TgZ(1,"mat-icon",10),e._uU(2),e.qZA(),e.YNc(3,tt,1,1,"mat-checkbox",11),e.TgZ(4,"span",12),e.NdJ("click",function(){const L=e.CHM(T).$implicit,lt=e.oxw();return e.KtG(lt.selectedChanged.next(L.patch))}),e._uU(5),e.qZA()()}if(2&_t){const T=Rt.$implicit,k=e.oxw();let O;e.ekj("checked",T.checked)("selected",k.isSelected(T.patch)),e.xp6(1),e.Q6J("ngClass",k.getPatchIconColorClass(T.patch)),e.xp6(1),e.Oqu(k.getPatchIcon(T.patch)),e.xp6(1),e.Q6J("ngIf",k.checked),e.xp6(1),e.Q6J("matTooltip",null!==(O=k.getPatchPath(T.patch))&&void 0!==O?O:""),e.xp6(1),e.Oqu(T.segment)}}let rt=(()=>{class _t extends((0,i.j)(a.A)){constructor(T){super(),this.commitDetailService=T,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.tree=new D.X([]),this.leafNodes=new D.X([]),this.collapsedNodeIds=new D.X(new Set),this.keyPressDisabled=!1,this.toggleNodeExpanded=(k,O)=>{k.preventDefault(),k.stopPropagation();const L=new Set(this.collapsedNodeIds.value);L.has(O.id)?(L.delete(O.id),this.collapsedNodeIds.next(L)):(L.add(O.id),this.collapsedNodeIds.next(L))},this.getDescendantsLeafNodes=k=>k.reduce((O,L)=>[...O,..."patch"in L?[L]:this.getDescendantsLeafNodes(L.children)],[]),this.getDescendantsList=k=>k.reduce((O,L)=>[...O,..."patch"in L?[L]:[L,...this.getDescendantsList(L.children)]],[])}ngOnInit(){(0,E.a)([this.patches,this.checked??(0,X.of)(null),this.collapsedNodeIds]).pipe((0,dt.U)(([T,k,O])=>{const L=T.map(lt=>({patch:lt,segments:(lt.newFilePath??lt.oldFilePath??"").split("/")}));return this.buildTree(L,"",0,k,O)})).subscribe(T=>{this.tree.next(T),this.leafNodes.next(this.getDescendantsLeafNodes(T)),this.keyPressDisabled=!1})}getPatchPath(T){return this.commitDetailService.getPatchPath(T)}getPatchIcon(T){return this.commitDetailService.getPatchIcon(T)}getPatchIconColorClass(T){return this.commitDetailService.getPatchIconColorClass(T)}isSelected(T){return T.oldFilePath===this.selected?.oldFilePath&&T.newFilePath===this.selected.newFilePath}clickNodeCheckbox(T,k){for(const O of this.getDescendantsLeafNodes(T.children))this.checkedChanged.next([O.patch,k])}buildTree(T,k,O,L,lt){return Object.entries((0,x.Z)(T,({segments:At})=>At[0])).sort(([At],[g])=>At.localeCompare(g,void 0,{numeric:!0})).flatMap(([At,g])=>{const V=`${k}${At}/`,it=`${k}${At}`,j=g.filter(({segments:kt})=>kt.length>1),wt=L?g.every(({patch:kt})=>L.some(({oldFilePath:Ft,newFilePath:jt})=>Ft===kt.oldFilePath&&jt===kt.newFilePath))?"all":g.some(({patch:kt})=>L.some(({oldFilePath:Ft,newFilePath:jt})=>Ft===kt.oldFilePath&&jt===kt.newFilePath))?"some":"none":"none",Z=j.length>0?{id:V,depth:O,expanded:!lt.has(V),children:this.buildTree(j.map(({patch:kt,segments:Ft})=>({patch:kt,segments:Ft.slice(1)})),V,O+1,L,lt),segment:At,checked:wt}:null,H=g.find(({segments:kt})=>kt.length<=1),ht=H?{id:it,depth:O,segment:At,patch:H.patch,checked:L?.some(({oldFilePath:kt,newFilePath:Ft})=>kt===H.patch.oldFilePath&&Ft===H.patch.newFilePath)??!1}:null;return ht&&Z?[ht,Z]:Z?[Z]:ht?[ht]:[]})}keyPressed(T){if(this.keyPressDisabled)return;T.preventDefault();const k=this.selected,O=this.leafNodes.value,L=O.findIndex(({patch:Ct})=>Ct.oldFilePath===k?.oldFilePath&&Ct.newFilePath===k?.newFilePath);let lt=null;switch(T.key){case"ArrowUp":if(!(F.V?T.metaKey:T.ctrlKey)){L>0&&(lt=L-1);break}case"Home":lt=0;break;case"ArrowDown":if(!(F.V?T.metaKey:T.ctrlKey)){L<O.length-1&&(lt=L+1);break}case"End":lt=O.length-1;break;case"Escape":L>=0&&(lt=L)}if(null!==lt){this.keyPressDisabled=!0;const Ct=O[lt];Ct&&this.selectedChanged.next(Ct.patch);const z=this.virtualTree.viewports.first,At=z.measureScrollOffset("top"),g=At+z.getViewportSize();let V=0;this.getDescendantsList(this.tree.value);for(const wt of this.getDescendantsList(this.tree.value)){if(wt===Ct)break;V++}const j=22*V;(j<At||j>=g)&&z.scrollToIndex(V)}}static{this.\u0275fac=function(k){return new(k||_t)(e.Y36(Q.d))}}static{this.\u0275cmp=e.Xpm({type:_t,selectors:[["app-patch-tree"]],viewQuery:function(k,O){if(1&k&&e.Gf(et.L,5),2&k){let L;e.iGM(L=e.CRH())&&(O.virtualTree=L.first)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj],decls:3,vars:4,consts:[[3,"tree","itemSize","keyPressed"],["class","node-item",3,"checked","click",4,"appVirtualTreeNode"],["class","leaf-item",3,"checked","selected","contextmenu",4,"appVirtualTreeLeafNode"],[1,"node-item",3,"click"],["inline","",1,"node-icon"],[3,"checked","indeterminate","click","change",4,"ngIf"],[1,"text",3,"matTooltip"],[1,"expand-icon"],[3,"checked","indeterminate","click","change"],[1,"leaf-item",3,"contextmenu"],["inline","",1,"node-icon",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"text",3,"matTooltip","click"],[3,"checked","change"]],template:function(k,O){1&k&&(e.TgZ(0,"app-virtual-tree",0),e.NdJ("keyPressed",function(lt){return O.keyPressed(lt)}),e.YNc(1,It,8,6,"div",1),e.YNc(2,ft,6,9,"div",2),e.qZA()),2&k&&(e.ekj("checkboxes",!!O.checked),e.Q6J("tree",O.tree)("itemSize",22))},dependencies:[I.oG,_.mk,_.O5,n.Hw,y.gM,et.L,ot.I,G.J],styles:["[_nghost-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport{contain:content;scrollbar-gutter:stable;margin-left:-16px;margin-right:-16px}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper>ul{overflow-x:auto;overflow-y:hidden}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-spacer{position:relative}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#616161}.node-item[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]{margin-left:16px;display:flex;justify-content:space-between;cursor:pointer;line-height:22px;height:22px;user-select:none;align-items:center;min-width:200px;gap:4px}.node-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;text-align:center}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;height:22px;font-size:0;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field, .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]    >.mdc-form-field, .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]    >.mdc-form-field, .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]    >.mdc-form-field{margin:-9px}.node-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.node-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%]{flex:0 0 auto;color:#ffffffb3;line-height:22px}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .node-icon[_ngcontent-%COMP%]{display:none}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .checkbox-button[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover){background-color:#515151}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#616161}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item:hover){background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(>.leaf-item.selected){background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}return _t})();var bt=o(7484);function Mt(_t,Rt){if(1&_t){const T=e.EpF();e.TgZ(0,"app-patch-list",6),e.NdJ("checkedChanged",function(O){e.CHM(T);const L=e.oxw(2);return e.KtG(L.checkedChanged.next(O))})("selectedChanged",function(O){e.CHM(T);const L=e.oxw(2);return e.KtG(L.selectedChanged.next(O))})("contextMenuOpened",function(O){e.CHM(T);const L=e.oxw(2);return e.KtG(L.contextMenuOpened.next(O))}),e.ALo(1,"async"),e.qZA()}if(2&_t){const T=e.oxw(2);e.Q6J("patches",T.patches)("checked",e.lcZ(1,3,T.checked))("selected",T.selected)}}function xt(_t,Rt){if(1&_t){const T=e.EpF();e.TgZ(0,"app-patch-tree",6),e.NdJ("checkedChanged",function(O){e.CHM(T);const L=e.oxw(2);return e.KtG(L.checkedChanged.next(O))})("selectedChanged",function(O){e.CHM(T);const L=e.oxw(2);return e.KtG(L.selectedChanged.next(O))})("contextMenuOpened",function(O){e.CHM(T);const L=e.oxw(2);return e.KtG(L.contextMenuOpened.next(O))}),e.qZA()}if(2&_t){const T=e.oxw(2);e.Q6J("patches",T.patches$)("checked",T.checked)("selected",T.selected)}}function Vt(_t,Rt){if(1&_t){const T=e.EpF();e.ynx(0),e.TgZ(1,"header")(2,"mat-button-toggle-group",1),e.NdJ("change",function(O){e.CHM(T);const L=e.oxw();return e.KtG(L.changePatchView(O.value))}),e.TgZ(3,"mat-button-toggle",2),e.ALo(4,"translate"),e.TgZ(5,"mat-icon"),e._uU(6,"list"),e.qZA()(),e.TgZ(7,"mat-button-toggle",3),e.ALo(8,"translate"),e._UZ(9,"mat-icon",4),e.qZA()()(),e.YNc(10,Mt,2,5,"app-patch-list",5),e.YNc(11,xt,1,3,"app-patch-tree",5),e.BQk()}if(2&_t){const T=Rt.ngIf;e.xp6(2),e.Q6J("value",T),e.xp6(1),e.Q6J("matTooltip",e.lcZ(4,5,"List View")),e.xp6(4),e.Q6J("matTooltip",e.lcZ(8,7,"Tree View")),e.xp6(3),e.Q6J("ngIf","list"===T),e.xp6(1),e.Q6J("ngIf","tree"===T)}}let Lt=(()=>{class _t extends((0,i.j)(a.A)){constructor(T){super(),this.store=T,this.checked=null,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.patches$=new D.X([])}ngOnChanges(T){T.patches&&this.patches$.next(this.patches)}changePatchView(T){this.store.dispatch(new W.eh(T))}static{this.\u0275fac=function(k){return new(k||_t)(e.Y36(v.yh))}}static{this.\u0275cmp=e.Xpm({type:_t,selectors:[["app-patches-view"]],inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj,e.TTD],decls:2,vars:3,consts:[[4,"ngIf"],[3,"value","change"],["value","list",3,"matTooltip"],["value","tree",3,"matTooltip"],["svgIcon","file-tree"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened",4,"ngIf"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"]],template:function(k,O){1&k&&(e.YNc(0,Vt,12,9,"ng-container",0),e.ALo(1,"async")),2&k&&e.Q6J("ngIf",e.lcZ(1,1,O.view))},dependencies:[w.A9,w.Yi,_.O5,n.Hw,y.gM,C,rt,_.Ov,bt.X],styles:["[_nghost-%COMP%]{display:contents}header[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;margin-bottom:-4px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:30px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:28px;padding:0 5px}"],changeDetection:0})}}return(0,s.gn)([(0,v.Ph)(Y.$.patchView)],_t.prototype,"view",void 0),_t})()},535:(St,mt,o)=>{o.d(mt,{Z:()=>W});var s=o(9488),e=o(5195),v=o(5986),D=o(4516),i=o(1345),a=o(3902),Y=o(5879);let W=(()=>{class w{static{this.\u0275fac=function(y){return new(y||w)}}static{this.\u0275mod=Y.oAB({type:w})}static{this.\u0275inj=Y.cJS({imports:[s.vV,e.QW,v.p9,D.c,i.I,a.c]})}}return w})()},2860:(St,mt,o)=>{o.d(mt,{Z:()=>i});var s=o(5940),e=o(4104),v=o(1345),D=o(5879);let i=(()=>{class a{static{this.\u0275fac=function(w){return new(w||a)}}static{this.\u0275mod=D.oAB({type:a})}static{this.\u0275inj=D.cJS({imports:[v.I,s.Cq,e.Nh]})}}return a})()},4630:(St,mt,o)=>{o.d(mt,{Bb:()=>Ct,XC:()=>xt,ZL:()=>lt});var s=o(5879),e=o(3680),v=o(6814),D=o(7368),i=o(3651),a=o(4300),Y=o(2495),W=o(2831),w=o(6825),_=o(7394),n=o(8645),y=o(4911),R=o(3019),at=o(2096),t=o(2438),ct=o(6028),F=o(8484),Q=o(6223),I=o(4170),r=o(7921),m=o(4664),b=o(8180),C=o(2181),x=o(7398),E=o(9397),X=o(7547),dt=o(9388);const et=["panel"];function ot(z,At){if(1&z){const g=s.EpF();s.TgZ(0,"div",0,1),s.NdJ("@panelAnimation.done",function(it){s.CHM(g);const j=s.oxw();return s.KtG(j._animationDone.next(it))}),s.Hsn(2),s.qZA()}if(2&z){const g=At.id,V=s.oxw();s.Q6J("id",V.id)("ngClass",V._classList)("@panelAnimation",V.isOpen?"visible":"hidden"),s.uIk("aria-label",V.ariaLabel||null)("aria-labelledby",V._getPanelAriaLabelledby(g))}}const G=["*"],Pt=(0,w.X$)("panelAnimation",[(0,w.SB)("void, hidden",(0,w.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,w.eR)(":enter, hidden => visible",[(0,w.ru)([(0,w.jt)("0.03s linear",(0,w.oB)({opacity:1})),(0,w.jt)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,w.oB)({transform:"scaleY(1)"}))])]),(0,w.eR)(":leave, visible => hidden",[(0,w.jt)("0.075s linear",(0,w.oB)({opacity:0}))])]);let It=0;class tt{constructor(At,g){this.source=At,this.option=g}}const ft=(0,e.Kr)(class{}),rt=new s.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function bt(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let Mt=(()=>{class z extends ft{get isOpen(){return this._isOpen&&this.showPanel}_setColor(g){this._color=g,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(g){this._autoActiveFirstOption=(0,Y.Ig)(g)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(g){this._autoSelectActiveOption=(0,Y.Ig)(g)}get requireSelection(){return this._requireSelection}set requireSelection(g){this._requireSelection=(0,Y.Ig)(g)}set classList(g){this._classList=g&&g.length?(0,Y.du)(g).reduce((V,it)=>(V[it]=!0,V),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(g,V,it,j){super(),this._changeDetectorRef=g,this._elementRef=V,this._defaults=it,this._activeOptionChanges=_.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new s.vpe,this.opened=new s.vpe,this.closed=new s.vpe,this.optionActivated=new s.vpe,this._classList={},this.id="mat-autocomplete-"+It++,this.inertGroups=j?.SAFARI||!1,this._autoActiveFirstOption=!!it.autoActiveFirstOption,this._autoSelectActiveOption=!!it.autoSelectActiveOption,this._requireSelection=!!it.requireSelection}ngAfterContentInit(){this._keyManager=new a.s1(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(g=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[g]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(g){this.panel&&(this.panel.nativeElement.scrollTop=g)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(g){const V=new tt(this,g);this.optionSelected.emit(V)}_getPanelAriaLabelledby(g){return this.ariaLabel?null:this.ariaLabelledby?(g?g+" ":"")+this.ariaLabelledby:g}_setVisibilityClasses(g){g[this._visibleClass]=this.showPanel,g[this._hiddenClass]=!this.showPanel}_setThemeClasses(g){g["mat-primary"]="primary"===this._color,g["mat-warn"]="warn"===this._color,g["mat-accent"]="accent"===this._color}_skipPredicate(g){return g.disabled}static{this.\u0275fac=function(V){return new(V||z)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(rt),s.Y36(W.t4))}}static{this.\u0275dir=s.lG2({type:z,viewQuery:function(V,it){if(1&V&&(s.Gf(s.Rgc,7),s.Gf(et,5)),2&V){let j;s.iGM(j=s.CRH())&&(it.template=j.first),s.iGM(j=s.CRH())&&(it.panel=j.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",requireSelection:"requireSelection",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[s.qOj]})}}return z})(),xt=(()=>{class z extends Mt{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new s.vpe,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(g){this._hideSingleSelectionIndicator=(0,Y.Ig)(g),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const g of this.options)g._changeDetectorRef.markForCheck()}ngOnDestroy(){super.ngOnDestroy(),this._animationDone.complete()}_skipPredicate(g){return!1}static{this.\u0275fac=function(){let g;return function(it){return(g||(g=s.n5z(z)))(it||z)}}()}static{this.\u0275cmp=s.Xpm({type:z,selectors:[["mat-autocomplete"]],contentQueries:function(V,it,j){if(1&V&&(s.Suo(j,e.K7,5),s.Suo(j,e.ey,5)),2&V){let wt;s.iGM(wt=s.CRH())&&(it.optionGroups=wt),s.iGM(wt=s.CRH())&&(it.options=wt)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[s._Bn([{provide:e.HF,useExisting:z}]),s.qOj],ngContentSelectors:G,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(V,it){1&V&&(s.F$t(),s.YNc(0,ot,3,5,"ng-template"))},dependencies:[v.mk],styles:["div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Pt]},changeDetection:0})}}return z})();const _t={provide:Q.JU,useExisting:(0,s.Gpc)(()=>lt),multi:!0},T=new s.OlP("mat-autocomplete-scroll-strategy"),O={provide:T,deps:[i.aV],useFactory:function k(z){return()=>z.scrollStrategies.reposition()}};let L=(()=>{class z{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(g){this._autocompleteDisabled=(0,Y.Ig)(g)}constructor(g,V,it,j,wt,Z,H,ht,kt,Ft,jt){this._element=g,this._overlay=V,this._viewContainerRef=it,this._zone=j,this._changeDetectorRef=wt,this._dir=H,this._formField=ht,this._document=kt,this._viewportRuler=Ft,this._defaults=jt,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=_.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new n.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,y.P)(()=>{const zt=this.autocomplete?this.autocomplete.options:null;return zt?zt.changes.pipe((0,r.O)(zt),(0,m.w)(()=>(0,R.T)(...zt.map(ce=>ce.onSelectionChange)))):this._zone.onStable.pipe((0,b.q)(1),(0,m.w)(()=>this.optionSelections))}),this._handlePanelKeydown=zt=>{(zt.keyCode===ct.hY&&!(0,ct.Vb)(zt)||zt.keyCode===ct.LH&&(0,ct.Vb)(zt,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),zt.stopPropagation(),zt.preventDefault())},this._trackedModal=null,this._scrollStrategy=Z}ngAfterViewInit(){const g=this._getWindow();typeof g<"u"&&this._zone.runOutsideAngular(()=>g.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(g){g.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const g=this._getWindow();typeof g<"u"&&g.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel(),this._trackedModal&&(0,a.Zf)(this._trackedModal,"aria-owns",this.autocomplete.id)}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&(0,a.iD)(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,R.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,C.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,C.h)(()=>this._overlayAttached)):(0,at.of)()).pipe((0,x.U)(g=>g instanceof e.rN?g:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,R.T)((0,t.R)(this._document,"click"),(0,t.R)(this._document,"auxclick"),(0,t.R)(this._document,"touchend")).pipe((0,C.h)(g=>{const V=(0,W.sA)(g),it=this._formField?this._formField._elementRef.nativeElement:null,j=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&V!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!it||!it.contains(V))&&(!j||!j.contains(V))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(V)}))}writeValue(g){Promise.resolve(null).then(()=>this._assignOptionValue(g))}registerOnChange(g){this._onChange=g}registerOnTouched(g){this._onTouched=g}setDisabledState(g){this._element.nativeElement.disabled=g}_handleKeydown(g){const V=g.keyCode,it=(0,ct.Vb)(g);if(V===ct.hY&&!it&&g.preventDefault(),this.activeOption&&V===ct.K5&&this.panelOpen&&!it)this.activeOption._selectViaInteraction(),this._resetActiveItem(),g.preventDefault();else if(this.autocomplete){const j=this.autocomplete._keyManager.activeItem,wt=V===ct.LH||V===ct.JH;V===ct.Mf||wt&&!it&&this.panelOpen?this.autocomplete._keyManager.onKeydown(g):wt&&this._canOpen()&&this.openPanel(),(wt||this.autocomplete._keyManager.activeItem!==j)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(g){let V=g.target,it=V.value;"number"===V.type&&(it=""==it?null:parseFloat(it)),this._previousValue!==it&&(this._previousValue=it,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(it),it||this._clearPreviousSelectedOption(null,!1),this._canOpen()&&this._document.activeElement===g.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(g=!1){this._formField&&"auto"===this._formField.floatLabel&&(g?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const g=this._zone.onStable.pipe((0,b.q)(1)),V=this.autocomplete.options.changes.pipe((0,E.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,X.g)(0));return(0,R.T)(g,V).pipe((0,m.w)(()=>(this._zone.run(()=>{const it=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),it!==this.panelOpen&&(this.panelOpen?(this._captureValueOnAttach(),this._emitOpened()):this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,b.q)(1)).subscribe(it=>this._setValueAndClose(it))}_emitOpened(){this.autocomplete.opened.emit()}_captureValueOnAttach(){this._valueOnAttach=this._element.nativeElement.value}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(g){const V=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(g):g;this._updateNativeInputValue(V??"")}_updateNativeInputValue(g){this._formField?this._formField._control.value=g:this._element.nativeElement.value=g,this._previousValue=g}_setValueAndClose(g){const V=this.autocomplete,it=g?g.source:this._pendingAutoselectedOption;it?(this._clearPreviousSelectedOption(it),this._assignOptionValue(it.value),this._onChange(it.value),V._emitSelectEvent(it),this._element.nativeElement.focus()):V.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),V._animationDone?V._animationDone.pipe((0,b.q)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(g,V){this.autocomplete?.options?.forEach(it=>{it!==g&&it.selected&&it.deselect(V)})}_attachOverlay(){let g=this._overlayRef;g?(this._positionStrategy.setOrigin(this._getConnectedElement()),g.updateSize({width:this._getPanelWidth()})):(this._portal=new F.UE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),g=this._overlay.create(this._getOverlayConfig()),this._overlayRef=g,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&g&&g.updateSize({width:this._getPanelWidth()})})),g&&!g.hasAttached()&&(g.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const V=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this._captureValueOnAttach(),this.panelOpen&&V!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const g=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=g.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=g.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new i.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const g=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(g),this._positionStrategy=g,g}_setStrategyPositions(g){const V=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],it=this._aboveClass,j=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:it},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:it}];let wt;wt="above"===this.position?j:"below"===this.position?V:[...V,...j],g.withPositions(wt)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const g=this.autocomplete;if(g.autoActiveFirstOption){let V=-1;for(let it=0;it<g.options.length;it++)if(!g.options.get(it).disabled){V=it;break}g._keyManager.setActiveItem(V)}else g._keyManager.setActiveItem(-1)}_canOpen(){const g=this._element.nativeElement;return!g.readOnly&&!g.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(g){const V=this.autocomplete,it=(0,e.CB)(g,V.options,V.optionGroups);if(0===g&&1===it)V._setScrollTop(0);else if(V.panel){const j=V.options.toArray()[g];if(j){const wt=j._getHostElement(),Z=(0,e.jH)(wt.offsetTop,wt.offsetHeight,V._getScrollTop(),V.panel.nativeElement.offsetHeight);V._setScrollTop(Z)}}}_applyModalPanelOwnership(){const g=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!g)return;const V=this.autocomplete.id;this._trackedModal&&(0,a.iD)(this._trackedModal,"aria-owns",V),(0,a.Zf)(g,"aria-owns",V),this._trackedModal=g}_clearFromModal(){this._trackedModal&&((0,a.iD)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static{this.\u0275fac=function(V){return new(V||z)(s.Y36(s.SBq),s.Y36(i.aV),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(T),s.Y36(dt.Is,8),s.Y36(I.G_,9),s.Y36(v.K0,8),s.Y36(D.rL),s.Y36(rt,8))}}static{this.\u0275dir=s.lG2({type:z,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[s.TTD]})}}return z})(),lt=(()=>{class z extends L{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}static{this.\u0275fac=function(){let g;return function(it){return(g||(g=s.n5z(z)))(it||z)}}()}static{this.\u0275dir=s.lG2({type:z,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(V,it){1&V&&s.NdJ("focusin",function(){return it._handleFocus()})("blur",function(){return it._onTouched()})("input",function(wt){return it._handleInput(wt)})("keydown",function(wt){return it._handleKeydown(wt)})("click",function(){return it._handleClick()}),2&V&&s.uIk("autocomplete",it.autocompleteAttribute)("role",it.autocompleteDisabled?null:"combobox")("aria-autocomplete",it.autocompleteDisabled?null:"list")("aria-activedescendant",it.panelOpen&&it.activeOption?it.activeOption.id:null)("aria-expanded",it.autocompleteDisabled?null:it.panelOpen.toString())("aria-controls",it.autocompleteDisabled||!it.panelOpen||null==it.autocomplete?null:it.autocomplete.id)("aria-haspopup",it.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[s._Bn([_t]),s.qOj]})}}return z})(),Ct=(()=>{class z{static{this.\u0275fac=function(V){return new(V||z)}}static{this.\u0275mod=s.oAB({type:z})}static{this.\u0275inj=s.cJS({providers:[O],imports:[i.U8,e.Ng,e.BQ,v.ez,D.ZD,e.Ng,e.BQ]})}}return z})()},9488:(St,mt,o)=>{o.d(mt,{A9:()=>at,Yi:()=>ct,vV:()=>F});var s=o(4300),e=o(2495),v=o(8337),D=o(5879),i=o(6223),a=o(3680);const Y=["button"],W=["*"],w=new D.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),_=new D.OlP("MatButtonToggleGroup"),n={provide:i.JU,useExisting:(0,D.Gpc)(()=>at),multi:!0};let y=0;class R{constructor(I,r){this.source=I,this.value=r}}let at=(()=>{class Q{get name(){return this._name}set name(r){this._name=r,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(r){this._vertical=(0,e.Ig)(r)}get value(){const r=this._selectionModel?this._selectionModel.selected:[];return this.multiple?r.map(m=>m.value):r[0]?r[0].value:void 0}set value(r){this._setSelectionByValue(r),this.valueChange.emit(this.value)}get selected(){const r=this._selectionModel?this._selectionModel.selected:[];return this.multiple?r:r[0]||null}get multiple(){return this._multiple}set multiple(r){this._multiple=(0,e.Ig)(r),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,e.Ig)(r),this._markButtonsForCheck()}constructor(r,m){this._changeDetector=r,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+y++,this.valueChange=new D.vpe,this.change=new D.vpe,this.appearance=m&&m.appearance?m.appearance:"standard"}ngOnInit(){this._selectionModel=new v.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(r=>r.checked))}writeValue(r){this.value=r,this._changeDetector.markForCheck()}registerOnChange(r){this._controlValueAccessorChangeFn=r}registerOnTouched(r){this._onTouched=r}setDisabledState(r){this.disabled=r}_emitChangeEvent(r){const m=new R(r,this.value);this._rawValue=m.value,this._controlValueAccessorChangeFn(m.value),this.change.emit(m)}_syncButtonToggle(r,m,b=!1,C=!1){!this.multiple&&this.selected&&!r.checked&&(this.selected.checked=!1),this._selectionModel?m?this._selectionModel.select(r):this._selectionModel.deselect(r):C=!0,C?Promise.resolve().then(()=>this._updateModelValue(r,b)):this._updateModelValue(r,b)}_isSelected(r){return this._selectionModel&&this._selectionModel.isSelected(r)}_isPrechecked(r){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(m=>null!=r.value&&m===r.value):r.value===this._rawValue)}_setSelectionByValue(r){this._rawValue=r,this._buttonToggles&&(this.multiple&&r?(Array.isArray(r),this._clearSelection(),r.forEach(m=>this._selectValue(m))):(this._clearSelection(),this._selectValue(r)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(r=>r.checked=!1)}_selectValue(r){const m=this._buttonToggles.find(b=>null!=b.value&&b.value===r);m&&(m.checked=!0,this._selectionModel.select(m))}_updateModelValue(r,m){m&&this._emitChangeEvent(r),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(r=>r._markForCheck())}static{this.\u0275fac=function(m){return new(m||Q)(D.Y36(D.sBO),D.Y36(w,8))}}static{this.\u0275dir=D.lG2({type:Q,selectors:[["mat-button-toggle-group"]],contentQueries:function(m,b,C){if(1&m&&D.Suo(C,ct,5),2&m){let x;D.iGM(x=D.CRH())&&(b._buttonToggles=x)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(m,b){2&m&&(D.uIk("aria-disabled",b.disabled),D.ekj("mat-button-toggle-vertical",b.vertical)("mat-button-toggle-group-appearance-standard","standard"===b.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[D._Bn([n,{provide:_,useExisting:Q}])]})}}return Q})();const t=(0,a.Kr)(class{});let ct=(()=>{class Q extends t{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(r){this._appearance=r}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(r){const m=(0,e.Ig)(r);m!==this._checked&&(this._checked=m,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(r){this._disabled=(0,e.Ig)(r)}constructor(r,m,b,C,x,E){super(),this._changeDetectorRef=m,this._elementRef=b,this._focusMonitor=C,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new D.vpe;const X=Number(x);this.tabIndex=X||0===X?X:null,this.buttonToggleGroup=r,this.appearance=E&&E.appearance?E.appearance:"standard"}ngOnInit(){const r=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+y++,r&&(r._isPrechecked(this)?this.checked=!0:r._isSelected(this)!==this._checked&&r._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const r=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),r&&r._isSelected(this)&&r._syncButtonToggle(this,!1,!1,!0)}focus(r){this._buttonElement.nativeElement.focus(r)}_onButtonClick(){const r=!!this._isSingleSelector()||!this._checked;r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new R(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static{this.\u0275fac=function(m){return new(m||Q)(D.Y36(_,8),D.Y36(D.sBO),D.Y36(D.SBq),D.Y36(s.tE),D.$8M("tabindex"),D.Y36(w,8))}}static{this.\u0275cmp=D.Xpm({type:Q,selectors:[["mat-button-toggle"]],viewQuery:function(m,b){if(1&m&&D.Gf(Y,5),2&m){let C;D.iGM(C=D.CRH())&&(b._buttonElement=C.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(m,b){1&m&&D.NdJ("focus",function(){return b.focus()}),2&m&&(D.uIk("aria-label",null)("aria-labelledby",null)("id",b.id)("name",null),D.ekj("mat-button-toggle-standalone",!b.buttonToggleGroup)("mat-button-toggle-checked",b.checked)("mat-button-toggle-disabled",b.disabled)("mat-button-toggle-appearance-standard","standard"===b.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[D.qOj],ngContentSelectors:W,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(m,b){if(1&m&&(D.F$t(),D.TgZ(0,"button",0,1),D.NdJ("click",function(){return b._onButtonClick()}),D.TgZ(2,"span",2),D.Hsn(3),D.qZA()(),D._UZ(4,"span",3)(5,"span",4)),2&m){const C=D.MAs(1);D.Q6J("id",b.buttonId)("disabled",b.disabled||null),D.uIk("tabindex",b.disabled?-1:b.tabIndex)("aria-pressed",b.checked)("name",b._getButtonName())("aria-label",b.ariaLabel)("aria-labelledby",b.ariaLabelledby),D.xp6(5),D.Q6J("matRippleTrigger",C)("matRippleDisabled",b.disableRipple||b.disabled)}},dependencies:[a.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{--mat-legacy-button-toggle-height:36px;--mat-legacy-button-toggle-shape:2px;--mat-legacy-button-toggle-focus-state-layer-opacity:1;position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}}return Q})(),F=(()=>{class Q{static{this.\u0275fac=function(m){return new(m||Q)}}static{this.\u0275mod=D.oAB({type:Q})}static{this.\u0275inj=D.cJS({imports:[a.BQ,a.si,a.BQ]})}}return Q})()},4104:(St,mt,o)=>{o.d(mt,{BU:()=>ne,Nh:()=>Ce,Nj:()=>qt,SP:()=>M,sW:()=>be,uD:()=>Z,uX:()=>Wt});var s=o(6814),e=o(5879),v=o(3680),D=o(8484),i=o(7131),a=o(4300),Y=o(9388),W=o(7394),w=o(8645),_=o(2438),n=o(2096),y=o(3019),R=o(6232),at=o(5592),t=o(4825),ct=o(5619),F=o(7921),Q=o(3997),I=o(9773),r=o(8180),m=o(4664),b=o(836),C=o(2181),x=o(6825),E=o(2495),X=o(7368),dt=o(2831),et=o(6028);function ot(A,Zt){}const G=function(A){return{animationDuration:A}},Pt=function(A,Zt){return{value:A,params:Zt}};function It(A,Zt){1&A&&e.Hsn(0)}const tt=["*"],ft=["tabListContainer"],rt=["tabList"],bt=["tabListInner"],Mt=["nextPaginator"],xt=["previousPaginator"],Vt=["tabBodyWrapper"],Lt=["tabHeader"];function _t(A,Zt){}function Rt(A,Zt){if(1&A&&e.YNc(0,_t,0,0,"ng-template",14),2&A){const c=e.oxw().$implicit;e.Q6J("cdkPortalOutlet",c.templateLabel)}}function T(A,Zt){if(1&A&&e._uU(0),2&A){const c=e.oxw().$implicit;e.Oqu(c.textLabel)}}function k(A,Zt){if(1&A){const c=e.EpF();e.TgZ(0,"div",6,7),e.NdJ("click",function(){const h=e.CHM(c),S=h.$implicit,ut=h.index,Jt=e.oxw(),$t=e.MAs(1);return e.KtG(Jt._handleClick(S,$t,ut))})("cdkFocusChange",function(h){const ut=e.CHM(c).index,Jt=e.oxw();return e.KtG(Jt._tabFocusChanged(h,ut))}),e._UZ(2,"span",8)(3,"div",9),e.TgZ(4,"span",10)(5,"span",11),e.YNc(6,Rt,1,1,"ng-template",12),e.YNc(7,T,1,1,"ng-template",null,13,e.W1O),e.qZA()()()}if(2&A){const c=Zt.$implicit,d=Zt.index,h=e.MAs(1),S=e.MAs(8),ut=e.oxw();e.ekj("mdc-tab--active",ut.selectedIndex===d),e.Q6J("id",ut._getTabLabelId(d))("ngClass",c.labelClass)("disabled",c.disabled)("fitInkBarToContent",ut.fitInkBarToContent),e.uIk("tabIndex",ut._getTabIndex(d))("aria-posinset",d+1)("aria-setsize",ut._tabs.length)("aria-controls",ut._getTabContentId(d))("aria-selected",ut.selectedIndex===d)("aria-label",c.ariaLabel||null)("aria-labelledby",!c.ariaLabel&&c.ariaLabelledby?c.ariaLabelledby:null),e.xp6(3),e.Q6J("matRippleTrigger",h)("matRippleDisabled",c.disabled||ut.disableRipple),e.xp6(3),e.Q6J("ngIf",c.templateLabel)("ngIfElse",S)}}function O(A,Zt){if(1&A){const c=e.EpF();e.TgZ(0,"mat-tab-body",15),e.NdJ("_onCentered",function(){e.CHM(c);const h=e.oxw();return e.KtG(h._removeTabBodyWrapperHeight())})("_onCentering",function(h){e.CHM(c);const S=e.oxw();return e.KtG(S._setTabBodyWrapperHeight(h))}),e.qZA()}if(2&A){const c=Zt.$implicit,d=Zt.index,h=e.oxw();e.ekj("mat-mdc-tab-body-active",h.selectedIndex===d),e.Q6J("id",h._getTabContentId(d))("ngClass",c.bodyClass)("content",c.content)("position",c.position)("origin",c.origin)("animationDuration",h.animationDuration)("preserveContent",h.preserveContent),e.uIk("tabindex",null!=h.contentTabIndex&&h.selectedIndex===d?h.contentTabIndex:null)("aria-labelledby",h._getTabLabelId(d))("aria-hidden",h.selectedIndex!==d)}}const L=["mat-tab-nav-bar",""],lt=["mat-tab-link",""],Ct={translateTab:(0,x.X$)("translateTab",[(0,x.SB)("center, void, left-origin-center, right-origin-center",(0,x.oB)({transform:"none"})),(0,x.SB)("left",(0,x.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,x.SB)("right",(0,x.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,x.eR)("* => left, * => right, left => center, right => center",(0,x.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,x.eR)("void => left-origin-center",[(0,x.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,x.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,x.eR)("void => right-origin-center",[(0,x.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,x.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let z=(()=>{class A extends D.Pl{constructor(c,d,h,S){super(c,d,S),this._host=h,this._centeringSub=W.w0.EMPTY,this._leavingSub=W.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,F.O)(this._host._isCenterPosition(this._host._position))).subscribe(c=>{c&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36((0,e.Gpc)(()=>g)),e.Y36(s.K0))}}static{this.\u0275dir=e.lG2({type:A,selectors:[["","matTabBodyHost",""]],features:[e.qOj]})}}return A})(),At=(()=>{class A{set position(c){this._positionIndex=c,this._computePositionAnimationState()}constructor(c,d,h){this._elementRef=c,this._dir=d,this._dirChangeSubscription=W.w0.EMPTY,this._translateTabComplete=new w.x,this._onCentering=new e.vpe,this._beforeCentering=new e.vpe,this._afterLeavingCenter=new e.vpe,this._onCentered=new e.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,d&&(this._dirChangeSubscription=d.change.subscribe(S=>{this._computePositionAnimationState(S),h.markForCheck()})),this._translateTabComplete.pipe((0,Q.x)((S,ut)=>S.fromState===ut.fromState&&S.toState===ut.toState)).subscribe(S=>{this._isCenterPosition(S.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(S.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(c){const d=this._isCenterPosition(c.toState);this._beforeCentering.emit(d),d&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(c){return"center"==c||"left-origin-center"==c||"right-origin-center"==c}_computePositionAnimationState(c=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==c?"left":"right":this._positionIndex>0?"ltr"==c?"right":"left":"center"}_computePositionFromOrigin(c){const d=this._getLayoutDirection();return"ltr"==d&&c<=0||"rtl"==d&&c>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.SBq),e.Y36(Y.Is,8),e.Y36(e.sBO))}}static{this.\u0275dir=e.lG2({type:A,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}})}}return A})(),g=(()=>{class A extends At{constructor(c,d,h){super(c,d,h)}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.SBq),e.Y36(Y.Is,8),e.Y36(e.sBO))}}static{this.\u0275cmp=e.Xpm({type:A,selectors:[["mat-tab-body"]],viewQuery:function(d,h){if(1&d&&e.Gf(D.Pl,5),2&d){let S;e.iGM(S=e.CRH())&&(h._portalHost=S.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[e.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(d,h){1&d&&(e.TgZ(0,"div",0,1),e.NdJ("@translateTab.start",function(ut){return h._onTranslateTabStarted(ut)})("@translateTab.done",function(ut){return h._translateTabComplete.next(ut)}),e.YNc(2,ot,0,0,"ng-template",2),e.qZA()),2&d&&e.Q6J("@translateTab",e.WLB(3,Pt,h._position,e.VKq(1,G,h.animationDuration)))},dependencies:[z],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Ct.translateTab]}})}}return A})();const V=new e.OlP("MatTabContent");let it=(()=>{class A{constructor(c){this.template=c}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.Rgc))}}static{this.\u0275dir=e.lG2({type:A,selectors:[["","matTabContent",""]],features:[e._Bn([{provide:V,useExisting:A}])]})}}return A})();const j=new e.OlP("MatTabLabel"),wt=new e.OlP("MAT_TAB");let Z=(()=>{class A extends D.ig{constructor(c,d,h){super(c,d),this._closestTab=h}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(wt,8))}}static{this.\u0275dir=e.lG2({type:A,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[e._Bn([{provide:j,useExisting:A}]),e.qOj]})}}return A})();const H="mdc-tab-indicator--active",ht="mdc-tab-indicator--no-transition";class kt{constructor(Zt){this._items=Zt}hide(){this._items.forEach(Zt=>Zt.deactivateInkBar())}alignToElement(Zt){const c=this._items.find(h=>h.elementRef.nativeElement===Zt),d=this._currentItem;if(c!==d&&(d?.deactivateInkBar(),c)){const h=d?.elementRef.nativeElement.getBoundingClientRect?.();c.activateInkBar(h),this._currentItem=c}}}function Ft(A){return class extends A{constructor(...Zt){super(...Zt),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(Zt){const c=(0,E.Ig)(Zt);this._fitToContent!==c&&(this._fitToContent=c,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(Zt){const c=this.elementRef.nativeElement;if(!Zt||!c.getBoundingClientRect||!this._inkBarContentElement)return void c.classList.add(H);const d=c.getBoundingClientRect(),h=Zt.width/d.width,S=Zt.left-d.left;c.classList.add(ht),this._inkBarContentElement.style.setProperty("transform",`translateX(${S}px) scaleX(${h})`),c.getBoundingClientRect(),c.classList.remove(ht),c.classList.add(H),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(H)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const Zt=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=Zt.createElement("span"),this._inkBarContentElement=Zt.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const ce=(0,v.Id)(class{}),le=Ft((()=>{class A extends ce{constructor(c){super(),this.elementRef=c}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.SBq))}}static{this.\u0275dir=e.lG2({type:A,features:[e.qOj]})}}return A})());let me=(()=>{class A extends le{static{this.\u0275fac=function(){let c;return function(h){return(c||(c=e.n5z(A)))(h||A)}}()}static{this.\u0275dir=e.lG2({type:A,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(d,h){2&d&&(e.uIk("aria-disabled",!!h.disabled),e.ekj("mat-mdc-tab-disabled",h.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[e.qOj]})}}return A})();const ge=(0,v.Id)(class{}),pe=new e.OlP("MAT_TAB_GROUP");let gt=(()=>{class A extends ge{get content(){return this._contentPortal}constructor(c,d){super(),this._viewContainerRef=c,this._closestTabGroup=d,this.textLabel="",this._contentPortal=null,this._stateChanges=new w.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(c){(c.hasOwnProperty("textLabel")||c.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new D.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(c){c&&c._closestTab===this&&(this._templateLabel=c)}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.s_b),e.Y36(pe,8))}}static{this.\u0275dir=e.lG2({type:A,viewQuery:function(d,h){if(1&d&&e.Gf(e.Rgc,7),2&d){let S;e.iGM(S=e.CRH())&&(h._implicitContent=S.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[e.qOj,e.TTD]})}}return A})(),Wt=(()=>{class A extends gt{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(c){this._setTemplateLabelInput(c)}static{this.\u0275fac=function(){let c;return function(h){return(c||(c=e.n5z(A)))(h||A)}}()}static{this.\u0275cmp=e.Xpm({type:A,selectors:[["mat-tab"]],contentQueries:function(d,h,S){if(1&d&&(e.Suo(S,it,7,e.Rgc),e.Suo(S,Z,5)),2&d){let ut;e.iGM(ut=e.CRH())&&(h._explicitContent=ut.first),e.iGM(ut=e.CRH())&&(h.templateLabel=ut.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[e._Bn([{provide:wt,useExisting:A}]),e.qOj],ngContentSelectors:tt,decls:1,vars:0,template:function(d,h){1&d&&(e.F$t(),e.YNc(0,It,1,0,"ng-template"))},encapsulation:2})}}return A})();const P=(0,dt.i$)({passive:!0});let vt=(()=>{class A{get disablePagination(){return this._disablePagination}set disablePagination(c){this._disablePagination=(0,E.Ig)(c)}get selectedIndex(){return this._selectedIndex}set selectedIndex(c){c=(0,E.su)(c),this._selectedIndex!=c&&(this._selectedIndexChanged=!0,this._selectedIndex=c,this._keyManager&&this._keyManager.updateActiveItem(c))}constructor(c,d,h,S,ut,Jt,$t){this._elementRef=c,this._changeDetectorRef=d,this._viewportRuler=h,this._dir=S,this._ngZone=ut,this._platform=Jt,this._animationMode=$t,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new w.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new w.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new e.vpe,this.indexFocused=new e.vpe,ut.runOutsideAngular(()=>{(0,_.R)(c.nativeElement,"mouseleave").pipe((0,I.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,_.R)(this._previousPaginator.nativeElement,"touchstart",P).pipe((0,I.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,_.R)(this._nextPaginator.nativeElement,"touchstart",P).pipe((0,I.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const c=this._dir?this._dir.change:(0,n.of)("ltr"),d=this._viewportRuler.change(150),h=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new a.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,r.q)(1)).subscribe(h),(0,y.T)(c,d,this._items.changes,this._itemsResized()).pipe((0,I.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),h()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(S=>{this.indexFocused.emit(S),this._setTabFocus(S)})}_itemsResized(){return"function"!=typeof ResizeObserver?R.E:this._items.changes.pipe((0,F.O)(this._items),(0,m.w)(c=>new at.y(d=>this._ngZone.runOutsideAngular(()=>{const h=new ResizeObserver(S=>d.next(S));return c.forEach(S=>h.observe(S.elementRef.nativeElement)),()=>{h.disconnect()}}))),(0,b.T)(1),(0,C.h)(c=>c.some(d=>d.contentRect.width>0&&d.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(c){if(!(0,et.Vb)(c))switch(c.keyCode){case et.K5:case et.L_:if(this.focusIndex!==this.selectedIndex){const d=this._items.get(this.focusIndex);d&&!d.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(c))}break;default:this._keyManager.onKeydown(c)}}_onContentChanges(){const c=this._elementRef.nativeElement.textContent;c!==this._currentTextContent&&(this._currentTextContent=c||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(c){!this._isValidIndex(c)||this.focusIndex===c||!this._keyManager||this._keyManager.setActiveItem(c)}_isValidIndex(c){return!this._items||!!this._items.toArray()[c]}_setTabFocus(c){if(this._showPaginationControls&&this._scrollToLabel(c),this._items&&this._items.length){this._items.toArray()[c].focus();const d=this._tabListContainer.nativeElement;d.scrollLeft="ltr"==this._getLayoutDirection()?0:d.scrollWidth-d.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const c=this.scrollDistance,d="ltr"===this._getLayoutDirection()?-c:c;this._tabList.nativeElement.style.transform=`translateX(${Math.round(d)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(c){this._scrollTo(c)}_scrollHeader(c){return this._scrollTo(this._scrollDistance+("before"==c?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(c){this._stopInterval(),this._scrollHeader(c)}_scrollToLabel(c){if(this.disablePagination)return;const d=this._items?this._items.toArray()[c]:null;if(!d)return;const h=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:S,offsetWidth:ut}=d.elementRef.nativeElement;let Jt,$t;"ltr"==this._getLayoutDirection()?(Jt=S,$t=Jt+ut):($t=this._tabListInner.nativeElement.offsetWidth-S,Jt=$t-ut);const oe=this.scrollDistance,fe=this.scrollDistance+h;Jt<oe?this.scrollDistance-=oe-Jt:$t>fe&&(this.scrollDistance+=Math.min($t-fe,Jt-oe))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const c=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;c||(this.scrollDistance=0),c!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=c}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const c=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,d=c?c.elementRef.nativeElement:null;d?this._inkBar.alignToElement(d):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(c,d){d&&null!=d.button&&0!==d.button||(this._stopInterval(),(0,t.H)(650,100).pipe((0,I.R)((0,y.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:h,distance:S}=this._scrollHeader(c);(0===S||S>=h)&&this._stopInterval()}))}_scrollTo(c){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const d=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(d,c)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:d,distance:this._scrollDistance}}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(X.rL),e.Y36(Y.Is,8),e.Y36(e.R0b),e.Y36(dt.t4),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:A,inputs:{disablePagination:"disablePagination"}})}}return A})(),Nt=(()=>{class A extends vt{get disableRipple(){return this._disableRipple}set disableRipple(c){this._disableRipple=(0,E.Ig)(c)}constructor(c,d,h,S,ut,Jt,$t){super(c,d,h,S,ut,Jt,$t),this._disableRipple=!1}_itemSelected(c){c.preventDefault()}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(X.rL),e.Y36(Y.Is,8),e.Y36(e.R0b),e.Y36(dt.t4),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:A,inputs:{disableRipple:"disableRipple"},features:[e.qOj]})}}return A})(),se=(()=>{class A extends Nt{constructor(c,d,h,S,ut,Jt,$t){super(c,d,h,S,ut,Jt,$t)}ngAfterContentInit(){this._inkBar=new kt(this._items),super.ngAfterContentInit()}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(X.rL),e.Y36(Y.Is,8),e.Y36(e.R0b),e.Y36(dt.t4),e.Y36(e.QbO,8))}}static{this.\u0275cmp=e.Xpm({type:A,selectors:[["mat-tab-header"]],contentQueries:function(d,h,S){if(1&d&&e.Suo(S,me,4),2&d){let ut;e.iGM(ut=e.CRH())&&(h._items=ut)}},viewQuery:function(d,h){if(1&d&&(e.Gf(ft,7),e.Gf(rt,7),e.Gf(bt,7),e.Gf(Mt,5),e.Gf(xt,5)),2&d){let S;e.iGM(S=e.CRH())&&(h._tabListContainer=S.first),e.iGM(S=e.CRH())&&(h._tabList=S.first),e.iGM(S=e.CRH())&&(h._tabListInner=S.first),e.iGM(S=e.CRH())&&(h._nextPaginator=S.first),e.iGM(S=e.CRH())&&(h._previousPaginator=S.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(d,h){2&d&&e.ekj("mat-mdc-tab-header-pagination-controls-enabled",h._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==h._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[e.qOj],ngContentSelectors:tt,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(d,h){1&d&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return h._handlePaginatorClick("before")})("mousedown",function(ut){return h._handlePaginatorPress("before",ut)})("touchend",function(){return h._stopInterval()}),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.NdJ("keydown",function(ut){return h._handleKeydown(ut)}),e.TgZ(5,"div",5,6),e.NdJ("cdkObserveContent",function(){return h._onContentChanges()}),e.TgZ(7,"div",7,8),e.Hsn(9),e.qZA()()(),e.TgZ(10,"button",9,10),e.NdJ("mousedown",function(ut){return h._handlePaginatorPress("after",ut)})("click",function(){return h._handlePaginatorClick("after")})("touchend",function(){return h._stopInterval()}),e._UZ(12,"div",2),e.qZA()),2&d&&(e.ekj("mat-mdc-tab-header-pagination-disabled",h._disableScrollBefore),e.Q6J("matRippleDisabled",h._disableScrollBefore||h.disableRipple)("disabled",h._disableScrollBefore||null),e.xp6(3),e.ekj("_mat-animation-noopable","NoopAnimations"===h._animationMode),e.xp6(7),e.ekj("mat-mdc-tab-header-pagination-disabled",h._disableScrollAfter),e.Q6J("matRippleDisabled",h._disableScrollAfter||h.disableRipple)("disabled",h._disableScrollAfter||null))},dependencies:[v.wG,i.wD],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return A})();const ae=new e.OlP("MAT_TABS_CONFIG");let de=0;const st=(0,v.pj)((0,v.Kr)(class{constructor(A){this._elementRef=A}}),"primary");let Ot=(()=>{class A extends st{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(c){this._dynamicHeight=(0,E.Ig)(c)}get selectedIndex(){return this._selectedIndex}set selectedIndex(c){this._indexToSelect=(0,E.su)(c,null)}get animationDuration(){return this._animationDuration}set animationDuration(c){this._animationDuration=/^\d+$/.test(c+"")?c+"ms":c}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(c){this._contentTabIndex=(0,E.su)(c,null)}get disablePagination(){return this._disablePagination}set disablePagination(c){this._disablePagination=(0,E.Ig)(c)}get preserveContent(){return this._preserveContent}set preserveContent(c){this._preserveContent=(0,E.Ig)(c)}get backgroundColor(){return this._backgroundColor}set backgroundColor(c){const d=this._elementRef.nativeElement.classList;d.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),c&&d.add("mat-tabs-with-background",`mat-background-${c}`),this._backgroundColor=c}constructor(c,d,h,S){super(c),this._changeDetectorRef=d,this._animationMode=S,this._tabs=new e.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=W.w0.EMPTY,this._tabLabelSubscription=W.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new e.vpe,this.focusChange=new e.vpe,this.animationDone=new e.vpe,this.selectedTabChange=new e.vpe(!0),this._groupId=de++,this.animationDuration=h&&h.animationDuration?h.animationDuration:"500ms",this.disablePagination=!(!h||null==h.disablePagination)&&h.disablePagination,this.dynamicHeight=!(!h||null==h.dynamicHeight)&&h.dynamicHeight,this.contentTabIndex=h?.contentTabIndex??null,this.preserveContent=!!h?.preserveContent}ngAfterContentChecked(){const c=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=c){const d=null==this._selectedIndex;if(!d){this.selectedTabChange.emit(this._createChangeEvent(c));const h=this._tabBodyWrapper.nativeElement;h.style.minHeight=h.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((h,S)=>h.isActive=S===c),d||(this.selectedIndexChange.emit(c),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((d,h)=>{d.position=h-c,null!=this._selectedIndex&&0==d.position&&!d.origin&&(d.origin=c-this._selectedIndex)}),this._selectedIndex!==c&&(this._selectedIndex=c,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const c=this._clampTabIndex(this._indexToSelect);if(c===this._selectedIndex){const d=this._tabs.toArray();let h;for(let S=0;S<d.length;S++)if(d[S].isActive){this._indexToSelect=this._selectedIndex=S,this._lastFocusedTabIndex=null,h=d[S];break}!h&&d[c]&&Promise.resolve().then(()=>{d[c].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(c))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,F.O)(this._allTabs)).subscribe(c=>{this._tabs.reset(c.filter(d=>d._closestTabGroup===this||!d._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(c){const d=this._tabHeader;d&&(d.focusIndex=c)}_focusChanged(c){this._lastFocusedTabIndex=c,this.focusChange.emit(this._createChangeEvent(c))}_createChangeEvent(c){const d=new K;return d.index=c,this._tabs&&this._tabs.length&&(d.tab=this._tabs.toArray()[c]),d}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,y.T)(...this._tabs.map(c=>c._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(c){return Math.min(this._tabs.length-1,Math.max(c||0,0))}_getTabLabelId(c){return`mat-tab-label-${this._groupId}-${c}`}_getTabContentId(c){return`mat-tab-content-${this._groupId}-${c}`}_setTabBodyWrapperHeight(c){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const d=this._tabBodyWrapper.nativeElement;d.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(d.style.height=c+"px")}_removeTabBodyWrapperHeight(){const c=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=c.clientHeight,c.style.height="",this.animationDone.emit()}_handleClick(c,d,h){d.focusIndex=h,c.disabled||(this.selectedIndex=h)}_getTabIndex(c){return c===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(c,d){c&&"mouse"!==c&&"touch"!==c&&(this._tabHeader.focusIndex=d)}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ae,8),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:A,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[e.qOj]})}}return A})(),M=(()=>{class A extends Ot{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(c){this._fitInkBarToContent=(0,E.Ig)(c),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(c){this._stretchTabs=(0,E.Ig)(c)}constructor(c,d,h,S){super(c,d,h,S),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!h||null==h.fitInkBarToContent)&&h.fitInkBarToContent,this.stretchTabs=!h||null==h.stretchTabs||h.stretchTabs}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ae,8),e.Y36(e.QbO,8))}}static{this.\u0275cmp=e.Xpm({type:A,selectors:[["mat-tab-group"]],contentQueries:function(d,h,S){if(1&d&&e.Suo(S,Wt,5),2&d){let ut;e.iGM(ut=e.CRH())&&(h._allTabs=ut)}},viewQuery:function(d,h){if(1&d&&(e.Gf(Vt,5),e.Gf(Lt,5)),2&d){let S;e.iGM(S=e.CRH())&&(h._tabBodyWrapper=S.first),e.iGM(S=e.CRH())&&(h._tabHeader=S.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(d,h){2&d&&(e.Udp("--mat-tab-animation-duration",h.animationDuration),e.ekj("mat-mdc-tab-group-dynamic-height",h.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===h.headerPosition)("mat-mdc-tab-group-stretch-tabs",h.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[e._Bn([{provide:pe,useExisting:A}]),e.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(d,h){1&d&&(e.TgZ(0,"mat-tab-header",0,1),e.NdJ("indexFocused",function(ut){return h._focusChanged(ut)})("selectFocusedIndex",function(ut){return h.selectedIndex=ut}),e.YNc(2,k,9,17,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.YNc(5,O,1,12,"mat-tab-body",5),e.qZA()),2&d&&(e.Q6J("selectedIndex",h.selectedIndex||0)("disableRipple",h.disableRipple)("disablePagination",h.disablePagination),e.xp6(2),e.Q6J("ngForOf",h._tabs),e.xp6(1),e.ekj("_mat-animation-noopable","NoopAnimations"===h._animationMode),e.xp6(2),e.Q6J("ngForOf",h._tabs))},dependencies:[s.mk,s.sg,s.O5,D.Pl,v.wG,a.kH,g,me,se],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return A})();class K{}let B=0,J=(()=>{class A extends vt{get backgroundColor(){return this._backgroundColor}set backgroundColor(c){const d=this._elementRef.nativeElement.classList;d.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),c&&d.add("mat-tabs-with-background",`mat-background-${c}`),this._backgroundColor=c}get disableRipple(){return this._disableRipple}set disableRipple(c){this._disableRipple=(0,E.Ig)(c)}constructor(c,d,h,S,ut,Jt,$t){super(c,S,ut,d,h,Jt,$t),this._disableRipple=!1,this.color="primary"}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe((0,F.O)(null),(0,I.R)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const c=this._items.toArray();for(let d=0;d<c.length;d++)if(c[d].active)return this.selectedIndex=d,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=c[d].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.SBq),e.Y36(Y.Is,8),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(X.rL),e.Y36(dt.t4),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:A,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[e.qOj]})}}return A})();const yt=(0,v.sb)((0,v.Kr)((0,v.Id)(class{}))),Xt=Ft((()=>{class A extends yt{get active(){return this._isActive}set active(c){const d=(0,E.Ig)(c);d!==this._isActive&&(this._isActive=d,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}constructor(c,d,h,S,ut,Jt){super(),this._tabNavBar=c,this.elementRef=d,this._focusMonitor=ut,this._isActive=!1,this.id="mat-tab-link-"+B++,this.rippleConfig=h||{},this.tabIndex=parseInt(S)||0,"NoopAnimations"===Jt&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(c){(c.keyCode===et.L_||c.keyCode===et.K5)&&(this.disabled?c.preventDefault():this._tabNavBar.tabPanel&&this.elementRef.nativeElement.click())}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.tabIndex}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(J),e.Y36(e.SBq),e.Y36(v.Y2,8),e.$8M("tabindex"),e.Y36(a.tE),e.Y36(e.QbO,8))}}static{this.\u0275dir=e.lG2({type:A,inputs:{active:"active",id:"id"},features:[e.qOj]})}}return A})());let ne=(()=>{class A extends J{get fitInkBarToContent(){return this._fitInkBarToContent.value}set fitInkBarToContent(c){this._fitInkBarToContent.next((0,E.Ig)(c)),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(c){this._stretchTabs=(0,E.Ig)(c)}get animationDuration(){return this._animationDuration}set animationDuration(c){this._animationDuration=/^\d+$/.test(c+"")?c+"ms":c}constructor(c,d,h,S,ut,Jt,$t,oe){super(c,d,h,S,ut,Jt,$t),this._fitInkBarToContent=new ct.X(!1),this._stretchTabs=!0,this.disablePagination=!(!oe||null==oe.disablePagination)&&oe.disablePagination,this.fitInkBarToContent=!(!oe||null==oe.fitInkBarToContent)&&oe.fitInkBarToContent,this.stretchTabs=!oe||null==oe.stretchTabs||oe.stretchTabs}ngAfterContentInit(){this._inkBar=new kt(this._items),super.ngAfterContentInit()}ngAfterViewInit(){super.ngAfterViewInit()}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(e.SBq),e.Y36(Y.Is,8),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(X.rL),e.Y36(dt.t4),e.Y36(e.QbO,8),e.Y36(ae,8))}}static{this.\u0275cmp=e.Xpm({type:A,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(d,h,S){if(1&d&&e.Suo(S,qt,5),2&d){let ut;e.iGM(ut=e.CRH())&&(h._items=ut)}},viewQuery:function(d,h){if(1&d&&(e.Gf(ft,7),e.Gf(rt,7),e.Gf(bt,7),e.Gf(Mt,5),e.Gf(xt,5)),2&d){let S;e.iGM(S=e.CRH())&&(h._tabListContainer=S.first),e.iGM(S=e.CRH())&&(h._tabList=S.first),e.iGM(S=e.CRH())&&(h._tabListInner=S.first),e.iGM(S=e.CRH())&&(h._nextPaginator=S.first),e.iGM(S=e.CRH())&&(h._previousPaginator=S.first)}},hostAttrs:[1,"mat-mdc-tab-nav-bar","mat-mdc-tab-header"],hostVars:17,hostBindings:function(d,h){2&d&&(e.uIk("role",h._getRole()),e.Udp("--mat-tab-animation-duration",h.animationDuration),e.ekj("mat-mdc-tab-header-pagination-controls-enabled",h._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==h._getLayoutDirection())("mat-mdc-tab-nav-bar-stretch-tabs",h.stretchTabs)("mat-primary","warn"!==h.color&&"accent"!==h.color)("mat-accent","accent"===h.color)("mat-warn","warn"===h.color)("_mat-animation-noopable","NoopAnimations"===h._animationMode))},inputs:{color:"color",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"],animationDuration:"animationDuration"},exportAs:["matTabNavBar","matTabNav"],features:[e.qOj],attrs:L,ngContentSelectors:tt,decls:13,vars:8,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(d,h){1&d&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return h._handlePaginatorClick("before")})("mousedown",function(ut){return h._handlePaginatorPress("before",ut)})("touchend",function(){return h._stopInterval()}),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.NdJ("keydown",function(ut){return h._handleKeydown(ut)}),e.TgZ(5,"div",5,6),e.NdJ("cdkObserveContent",function(){return h._onContentChanges()}),e.TgZ(7,"div",7,8),e.Hsn(9),e.qZA()()(),e.TgZ(10,"button",9,10),e.NdJ("mousedown",function(ut){return h._handlePaginatorPress("after",ut)})("click",function(){return h._handlePaginatorClick("after")})("touchend",function(){return h._stopInterval()}),e._UZ(12,"div",2),e.qZA()),2&d&&(e.ekj("mat-mdc-tab-header-pagination-disabled",h._disableScrollBefore),e.Q6J("matRippleDisabled",h._disableScrollBefore||h.disableRipple)("disabled",h._disableScrollBefore||null),e.xp6(10),e.ekj("mat-mdc-tab-header-pagination-disabled",h._disableScrollAfter),e.Q6J("matRippleDisabled",h._disableScrollAfter||h.disableRipple)("disabled",h._disableScrollAfter||null))},dependencies:[v.wG,i.wD],styles:[".mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}"],encapsulation:2})}}return A})(),qt=(()=>{class A extends Xt{constructor(c,d,h,S,ut,Jt){super(c,d,h,S,ut,Jt),this._destroyed=new w.x,c._fitInkBarToContent.pipe((0,I.R)(this._destroyed)).subscribe($t=>{this.fitInkBarToContent=$t})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),super.ngOnDestroy()}static{this.\u0275fac=function(d){return new(d||A)(e.Y36(ne),e.Y36(e.SBq),e.Y36(v.Y2,8),e.$8M("tabindex"),e.Y36(a.tE),e.Y36(e.QbO,8))}}static{this.\u0275cmp=e.Xpm({type:A,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mdc-tab","mat-mdc-tab-link","mat-mdc-focus-indicator"],hostVars:11,hostBindings:function(d,h){1&d&&e.NdJ("focus",function(){return h._handleFocus()})("keydown",function(ut){return h._handleKeydown(ut)}),2&d&&(e.uIk("aria-controls",h._getAriaControls())("aria-current",h._getAriaCurrent())("aria-disabled",h.disabled)("aria-selected",h._getAriaSelected())("id",h.id)("tabIndex",h._getTabIndex())("role",h._getRole()),e.ekj("mat-mdc-tab-disabled",h.disabled)("mdc-tab--active",h.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",active:"active",id:"id"},exportAs:["matTabLink"],features:[e.qOj],attrs:lt,ngContentSelectors:tt,decls:5,vars:2,consts:[[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"]],template:function(d,h){1&d&&(e.F$t(),e._UZ(0,"span",0)(1,"div",1),e.TgZ(2,"span",2)(3,"span",3),e.Hsn(4),e.qZA()()),2&d&&(e.xp6(1),e.Q6J("matRippleTrigger",h.elementRef.nativeElement)("matRippleDisabled",h.rippleDisabled))},dependencies:[v.wG],styles:['.mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab-link:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab-link:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link.mdc-tab{flex-grow:0}.mat-mdc-tab-link:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab-link:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab-link.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab-link.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab-link.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab-link .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}'],encapsulation:2,changeDetection:0})}}return A})(),be=(()=>{class A{constructor(){this.id="mat-tab-nav-panel-"+B++}static{this.\u0275fac=function(d){return new(d||A)}}static{this.\u0275cmp=e.Xpm({type:A,selectors:[["mat-tab-nav-panel"]],hostAttrs:["role","tabpanel",1,"mat-mdc-tab-nav-panel"],hostVars:2,hostBindings:function(d,h){2&d&&e.uIk("aria-labelledby",h._activeTabId)("id",h.id)},inputs:{id:"id"},exportAs:["matTabNavPanel"],ngContentSelectors:tt,decls:1,vars:0,template:function(d,h){1&d&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0})}}return A})(),Ce=(()=>{class A{static{this.\u0275fac=function(d){return new(d||A)}}static{this.\u0275mod=e.oAB({type:A})}static{this.\u0275inj=e.cJS({imports:[s.ez,v.BQ,D.eL,v.si,i.Q8,a.rt,v.BQ]})}}return A})()},373:(St,mt,o)=>{o.d(mt,{Z:()=>y});const D=function s(R){return function(at,t,ct){for(var F=-1,Q=Object(at),I=ct(at),r=I.length;r--;){var m=I[R?r:++F];if(!1===t(Q[m],m,Q))break}return at}}();var i=o(0);var W=o(6247);const y=function w(R,at){return function(t,ct){if(null==t)return t;if(!(0,W.Z)(t))return R(t,ct);for(var F=t.length,Q=at?F:-1,I=Object(t);(at?Q--:++Q<F)&&!1!==ct(I[Q],Q,I););return t}}(function a(R,at){return R&&D(R,at,i.Z)})},2159:(St,mt,o)=>{o.d(mt,{Z:()=>v});var s=o(7106);const v=function e(D,i,a){for(var Y=-1,W=D.length;++Y<W;){var w=D[Y],_=i(w);if(null!=_&&(void 0===n?_==_&&!(0,s.Z)(_):a(_,n)))var n=_,y=w}return y}},4957:(St,mt,o)=>{o.d(mt,{Z:()=>e});const e=function s(v,D){return v>D}},9580:(St,mt,o)=>{o.d(mt,{Z:()=>I});var s=o(2720),e=o(4818),v=o(4746),D=o(373),i=o(6247);var _=o(8733),n=o(7106);const R=function y(r,m){if(r!==m){var b=void 0!==r,C=null===r,x=r==r,E=(0,n.Z)(r),X=void 0!==m,dt=null===m,et=m==m,ot=(0,n.Z)(m);if(!dt&&!ot&&!E&&r>m||E&&X&&et&&!dt&&!ot||C&&X&&et||!b&&et||!x)return 1;if(!C&&!E&&!ot&&r<m||ot&&b&&x&&!C&&!E||dt&&b&&x||!X&&x||!et)return-1}return 0};var ct=o(1974),F=o(9977);const I=function Q(r,m,b){m=m.length?(0,s.Z)(m,function(E){return(0,F.Z)(E)?function(X){return(0,e.Z)(X,1===E.length?E[0]:E)}:E}):[ct.Z];var C=-1;m=(0,s.Z)(m,(0,_.Z)(v.Z));var x=function a(r,m){var b=-1,C=(0,i.Z)(r)?Array(r.length):[];return(0,D.Z)(r,function(x,E,X){C[++b]=m(x,E,X)}),C}(r,function(E,X,dt){return{criteria:(0,s.Z)(m,function(ot){return ot(E)}),index:++C,value:E}});return function W(r,m){var b=r.length;for(r.sort(m);b--;)r[b]=r[b].value;return r}(x,function(E,X){return function at(r,m,b){for(var C=-1,x=r.criteria,E=m.criteria,X=x.length,dt=b.length;++C<X;){var et=R(x[C],E[C]);if(et)return C>=dt?et:et*("desc"==b[C]?-1:1)}return r.index-m.index}(E,X,b)})}},1799:(St,mt,o)=>{o.d(mt,{Z:()=>a});var s=o(8418),e=o(6247),v=o(9229),D=o(5829);const a=function i(Y,W,w){if(!(0,D.Z)(w))return!1;var _=typeof W;return!!("number"==_?(0,e.Z)(w)&&(0,v.Z)(W,w.length):"string"==_&&W in w)&&(0,s.Z)(w[W],Y)}},5601:(St,mt,o)=>{o.d(mt,{Z:()=>at});var s=o(6041);const v=function e(t,ct,F,Q){for(var I=-1,r=null==t?0:t.length;++I<r;){var m=t[I];ct(Q,m,F(m),t)}return Q};var D=o(373);const a=function i(t,ct,F,Q){return(0,D.Z)(t,function(I,r,m){ct(Q,I,F(I),m)}),Q};var Y=o(4746),W=o(9977),y=Object.prototype.hasOwnProperty;const at=function w(t,ct){return function(F,Q){var I=(0,W.Z)(F)?v:a,r=ct?ct():{};return I(F,t,(0,Y.Z)(Q,2),r)}}(function(t,ct,F){y.call(t,F)?t[F].push(ct):(0,s.Z)(t,F,[ct])})},5684:(St,mt,o)=>{o.d(mt,{Z:()=>D});var s=o(9580),e=o(9977);const D=function v(i,a,Y,W){return null==i?[]:((0,e.Z)(a)||(a=null==a?[]:[a]),(0,e.Z)(Y=W?void 0:Y)||(Y=null==Y?[]:[Y]),(0,s.Z)(i,a,Y))}},9768:(St,mt,o)=>{o.d(mt,{Z:()=>_});var s=Math.ceil,e=Math.max;var i=o(1799),a=o(231);const _=function Y(n){return function(y,R,at){return at&&"number"!=typeof at&&(0,i.Z)(y,R,at)&&(R=at=void 0),y=(0,a.Z)(y),void 0===R?(R=y,y=0):R=(0,a.Z)(R),function v(n,y,R,at){for(var t=-1,ct=e(s((y-n)/(R||1)),0),F=Array(ct);ct--;)F[at?ct:++t]=n,n+=R;return F}(y,R,at=void 0===at?y<R?1:-1:(0,a.Z)(at),n)}}()},6708:(St,mt,o)=>{o.d(mt,{Z:()=>a});var s=o(4583),e=o(9580),v=o(2447),D=o(1799);const a=(0,v.Z)(function(Y,W){if(null==Y)return[];var w=W.length;return w>1&&(0,D.Z)(Y,W[0],W[1])?W=[]:w>2&&(0,D.Z)(W[0],W[1],W[2])&&(W=[W[0]]),(0,e.Z)(Y,(0,s.Z)(W,1),[])})},231:(St,mt,o)=>{o.d(mt,{Z:()=>I});var s=/\s/;var D=/^\s+/;const a=function i(r){return r&&r.slice(0,function e(r){for(var m=r.length;m--&&s.test(r.charAt(m)););return m}(r)+1).replace(D,"")};var Y=o(5829),W=o(7106),_=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,y=/^0o[0-7]+$/i,R=parseInt;const I=function Q(r){return r?1/0===(r=function at(r){if("number"==typeof r)return r;if((0,W.Z)(r))return NaN;if((0,Y.Z)(r)){var m="function"==typeof r.valueOf?r.valueOf():r;r=(0,Y.Z)(m)?m+"":m}if("string"!=typeof r)return 0===r?r:+r;r=a(r);var b=n.test(r);return b||y.test(r)?R(r.slice(2),b?2:8):_.test(r)?NaN:+r}(r))||-1/0===r?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}}}]);
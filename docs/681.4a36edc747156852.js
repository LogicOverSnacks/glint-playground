"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[681],{8831:(wt,st,i)=>{i.d(st,{S:()=>e});var d=i(4650);const e=j=>{class x extends j{constructor(){super(...arguments),this.disableTransitions=!0}ngOnInit(){super.ngOnInit&&super.ngOnInit(),setTimeout(()=>{this.disableTransitions=!1},0)}static{this.\u0275fac=function(){let o;return function(E){return(o||(o=d.n5z(x)))(E||x)}}()}static{this.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac})}}return x}},2771:(wt,st,i)=>{i.d(st,{P:()=>o});var d=i(7579),e=i(6406),j=i(9468),x=i(2722),K=i(4650);const o=U=>{class E extends U{ngAfterViewInit(){super.ngAfterViewInit&&super.ngAfterViewInit();const _=this.viewports.map(n=>{const w=new d.x,tt=new ResizeObserver(()=>w.next());return w.pipe((0,j.p)(20,e.Z,{leading:!0,trailing:!0}),(0,x.R)(this.destroyed$)).subscribe(()=>{n.checkViewportSize()}),tt.observe(n.elementRef.nativeElement),tt});this.destroyed$.subscribe(()=>{_.forEach(n=>n.disconnect())})}static{this.\u0275fac=function(){let _;return function(w){return(_||(_=K.n5z(E)))(w||E)}}()}static{this.\u0275prov=K.Yz7({token:E,factory:E.\u0275fac})}}return E}},4745:(wt,st,i)=>{i.d(st,{H:()=>o});var d=i(655),e=i(9867),j=i(2722),x=i(4924),K=i(4650);const o=U=>(()=>{class T extends U{constructor(){super(...arguments),this.classBinding=""}ngOnInit(){super.ngOnInit&&super.ngOnInit(),this.theme$.pipe((0,j.R)(this.destroyed$)).subscribe(n=>{this.classBinding=`${n}-theme`})}static{this.\u0275fac=function(){let n;return function(tt){return(n||(n=K.n5z(T)))(tt||T)}}()}static{this.\u0275prov=K.Yz7({token:T,factory:T.\u0275fac})}}return(0,d.gn)([(0,e.Ph)(x.$.theme)],T.prototype,"theme$",void 0),T})()},9131:(wt,st,i)=>{i.d(st,{j:()=>o});var d=i(1135),e=i(4650),j=i(6895),x=i(266);function K(U,E){if(1&U&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"async"),e.qZA()),2&U){const T=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,T.leftPath))}}class o{constructor(){this.leftPath=new d.X(""),this.rightPath=new d.X("")}onCopy(E){E.preventDefault();const T=document.getSelection();T&&E.clipboardData?.setData("text/plain",T.toString().replace("\n",""))}ngOnChanges(E){if(E.path){const T=/^(.*)(\/[^\/]+)$/.exec(E.path.currentValue);T?(this.leftPath.next(T[1]??""),this.rightPath.next(T[2]??"")):(this.leftPath.next(""),this.rightPath.next(E.path.currentValue))}}static{this.\u0275fac=function(T){return new(T||o)}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-condensed-path"]],hostBindings:function(T,_){1&T&&e.NdJ("copy",function(w){return _.onCopy(w)})},inputs:{path:"path"},features:[e.TTD],decls:6,vars:7,consts:[[1,"container",3,"matTooltip"],["class","left",4,"ngIf"],[1,"right"],[1,"left"]],template:function(T,_){1&T&&(e.TgZ(0,"div",0),e.YNc(1,K,3,3,"div",1),e.ALo(2,"async"),e.TgZ(3,"div",2),e._uU(4),e.ALo(5,"async"),e.qZA()()),2&T&&(e.Q6J("matTooltip",_.path||""),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,_.leftPath)),e.xp6(3),e.Oqu(e.lcZ(5,5,_.rightPath)))},dependencies:[j.O5,x.gM,j.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.left[_ngcontent-%COMP%]{min-width:15px}.right[_ngcontent-%COMP%]{flex:1 0 auto;max-width:100%}.left[_ngcontent-%COMP%] + .right[_ngcontent-%COMP%]{max-width:calc(100% - 15px)}"],changeDetection:0})}}},8619:(wt,st,i)=>{i.d(st,{$:()=>e});var d=i(4650);class e{constructor(x){this.template=x}static{this.\u0275fac=function(K){return new(K||e)(d.Y36(d.Rgc))}}static{this.\u0275dir=d.lG2({type:e,selectors:[["","appVirtualTreeEmptyNode",""]]})}}},3448:(wt,st,i)=>{i.d(st,{I:()=>e});var d=i(4650);class e{constructor(x){this.template=x}static{this.\u0275fac=function(K){return new(K||e)(d.Y36(d.Rgc))}}static{this.\u0275dir=d.lG2({type:e,selectors:[["","appVirtualTreeLeafNode",""]]})}}},1123:(wt,st,i)=>{i.d(st,{J:()=>e});var d=i(4650);class e{constructor(x){this.template=x}static{this.\u0275fac=function(K){return new(K||e)(d.Y36(d.Rgc))}}static{this.\u0275dir=d.lG2({type:e,selectors:[["","appVirtualTreeNode",""]]})}}},6725:(wt,st,i)=>{i.d(st,{L:()=>S});var d=i(7340),e=i(4883),j=i(4004),x=i(8926),K=i(9967),o=i(8831),U=i(2771),E=i(8619),T=i(3448),_=i(1123),n=i(4650),w=i(6895);function tt(et,D){1&et&&n.GkF(0)}const ot=function(et){return{$implicit:et}};function t(et,D){if(1&et&&(n.TgZ(0,"li"),n.YNc(1,tt,1,0,"ng-container",2),n.qZA()),2&et){const u=D.$implicit,s=n.oxw();n.Udp("padding-left",10*u.depth,"px"),n.xp6(1),n.Q6J("ngTemplateOutlet",s.isEmpty(u)?s.emptyNodeDirective.template:s.isLeaf(u)?s.leafNodeDirective.template:s.nodeDirective.template)("ngTemplateOutletContext",n.VKq(4,ot,u))}}class S extends((0,x.j)(K.A,o.S,U.P)){constructor(){super(...arguments),this.isEmpty=D=>!D.id,this.isLeaf=D=>!D.children,this.expandVisibleNodes=D=>this.isLeaf(D)||!D.expanded?[D]:[D,...D.children.length>0?D.children.flatMap(this.expandVisibleNodes):this.emptyNodeDirective?[{depth:1}]:[]]}ngOnInit(){super.ngOnInit(),this.visibleNodes=this.tree.pipe((0,j.U)(D=>D.reduce((u,s)=>[...u,...this.expandVisibleNodes(s)],[])))}trackById(D,u){return u.id??null}static{this.\u0275fac=function(){let D;return function(s){return(D||(D=n.n5z(S)))(s||S)}}()}static{this.\u0275cmp=n.Xpm({type:S,selectors:[["app-virtual-tree"]],contentQueries:function(u,s,h){if(1&u&&(n.Suo(h,_.J,5),n.Suo(h,T.I,5),n.Suo(h,E.$,5)),2&u){let f;n.iGM(f=n.CRH())&&(s.nodeDirective=f.first),n.iGM(f=n.CRH())&&(s.leafNodeDirective=f.first),n.iGM(f=n.CRH())&&(s.emptyNodeDirective=f.first)}},viewQuery:function(u,s){if(1&u&&n.Gf(e.N7,5),2&u){let h;n.iGM(h=n.CRH())&&(s.viewports=h)}},inputs:{tree:"tree",itemSize:"itemSize"},features:[n.qOj],decls:5,vars:9,consts:[[3,"itemSize"],[3,"padding-left",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(u,s){1&u&&(n.TgZ(0,"cdk-virtual-scroll-viewport",0)(1,"ul"),n.ALo(2,"async"),n.YNc(3,t,2,6,"li",1),n.ALo(4,"async"),n.qZA()()),2&u&&(n.Q6J("itemSize",s.itemSize)("@null",void 0),n.xp6(1),n.Q6J("@slide",n.lcZ(2,5,s.visibleNodes)),n.xp6(2),n.Q6J("cdkVirtualForOf",n.lcZ(4,7,s.visibleNodes))("cdkVirtualForTrackBy",s.trackById))},dependencies:[e.xd,e.x0,e.N7,w.tP,w.Ov],styles:["cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{transition:height 225ms ease-in-out}li[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}"],data:{animation:[(0,d.X$)("null",[(0,d.eR)(":enter",[]),(0,d.eR)(":leave",[])]),(0,d.X$)("slide",[(0,d.eR)("* => *",[(0,d.ru)([(0,d.IO)("li:enter",[(0,d.oB)({height:0}),(0,d.jt)("225ms ease-in-out",(0,d.oB)({height:"*"}))],{optional:!0}),(0,d.IO)("li:leave",[(0,d.oB)({height:"*"}),(0,d.jt)("225ms ease-in-out",(0,d.oB)({height:0}))],{optional:!0})])])])]},changeDetection:0})}}},8329:(wt,st,i)=>{i.d(st,{v:()=>E});var d=i(2722),e=i(8926),j=i(9967),x=i(8171),K=i(4650),o=i(6895),U=i(9867);class E extends((0,e.j)(j.A)){constructor(_,n,w){super(),this.datePipe=n,this.language="en",w.select(x.aB.language).pipe((0,d.R)(this.destroyed$)).subscribe(tt=>{this.language=tt,this.input&&(this.output=this.translate(tt,this.input.date,this.input.format)),_.markForCheck()})}transform(_,n){return(!this.input||!this.output)&&(this.input={date:_,format:n},this.output=this.translate(this.language,_,n)),this.output}translate(_,n,w){let tt;switch(_){case"en":tt="en-GB","monthYear"===w&&(w="MMM yyyy");break;case"zh":tt="zh-CN","monthYear"===w&&(w="yyyy\u5e74M\u6708")}return this.datePipe.transform(n,w,void 0,tt)}static{this.\u0275fac=function(n){return new(n||E)(K.Y36(K.sBO,16),K.Y36(o.uU,16),K.Y36(U.yh,16))}}static{this.\u0275pipe=K.Yjl({name:"translateDate",type:E,pure:!1})}}},681:(wt,st,i)=>{i.r(st),i.d(st,{StandardLayoutModule:()=>Oe});var d=i(6338),e=i(4385),j=i(3179),x=i(4398),K=i(7957),o=i(5412),U=i(9549),E=i(284),T=i(8255),_=i(1572),n=i(3848),w=i(482),tt=i(7072),ot=i(6248),t=i(4650);class S{static{this.\u0275fac=function(c){return new(c||S)}}static{this.\u0275mod=t.oAB({type:S})}static{this.\u0275inj=t.cJS({imports:[K.Bb,o.Is,U.lN,E.c,T.Tx,_.Cq,e.LD,n.Nh,j.I,w.$,tt.m,ot.Z]})}}var et=i(9734),D=i(2367),u=i(4006),s=i(1135),h=i(9841),f=i(8675),V=i(9468),A=i(4004),it=i(9300),ct=i(8505),ut=i(3900),W=i(9646),Z=i(262),bt=i(2843),ft=i(2722),mt=i(8746),nt=i(2270),at=i(8926),pt=i(9967),dt=i(2120),Tt=i(8523),xt=i(6966),It=i(4924),At=i(9867),Dt=i(790),Mt=i(2218),P=i(802),m=i(2060),l=i(6895),g=i(4859),k=i(7392),$=i(266),H=i(7340),rt=i(4883),M=i(2771),N=i(4889),Pt=i(3989),kt=i(3051),Ft=i(3178),Qt=i(7396),$t=i(3943),zt=i(4516),Ut=i(5410),Yt=i(4442);function te(I,L){if(1&I){const c=t.EpF();t.TgZ(0,"li",10),t.NdJ("click",function(){const J=t.CHM(c).$implicit,q=t.oxw();return t.KtG(q.selectedCommitDetail.next(J))}),t.ALo(1,"async"),t._UZ(2,"app-avatar",11),t.TgZ(3,"span",12),t._uU(4),t.qZA()()}if(2&I){const c=L.$implicit,p=t.oxw(),B=t.MAs(12);let J;t.ekj("selected",c.id===(null==(J=t.lcZ(1,9,p.selectedCommitDetail))?null:J.id)),t.Q6J("appContextMenu",B)("appContextMenuData",c),t.xp6(2),t.Q6J("matTooltip",c.authorName+" ("+c.authorEmail+")")("remotes",p.remotes)("email",c.authorEmail),t.xp6(1),t.Q6J("matTooltip",c.message),t.xp6(1),t.hij(" ",p.getCommitSummary(c)," ")}}function oe(I,L){if(1&I){const c=t.EpF();t.TgZ(0,"app-diff-view",13),t.NdJ("closed",function(){t.CHM(c);const B=t.oxw();return t.KtG(B.selectedPatch.next(null))}),t.qZA()}if(2&I){const c=t.oxw();t.Q6J("@slideLeft",void 0)("patch",c.selectedPatch)}}function he(I,L){if(1&I){const c=t.EpF();t.TgZ(0,"app-commit-detail-view",14),t.NdJ("patchChanged",function(B){t.CHM(c);const J=t.oxw();return t.KtG(J.patchChanged(B))}),t.qZA()}if(2&I){const c=t.oxw();t.Q6J("commit",c.selectedCommitDetail)("selectedFile",c.selectedFile)}}function ue(I,L){if(1&I){const c=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t._uU(2),t.qZA(),t.TgZ(3,"button",17),t.NdJ("click",function(){const J=t.CHM(c).data,q=t.oxw();return t.KtG(q.copyToClipboard(J.commitId))}),t.TgZ(4,"mat-icon"),t._uU(5,"content_copy"),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"button",17),t.NdJ("click",function(){const J=t.CHM(c).data,q=t.oxw();return t.KtG(q.jumpToCommit(J.commitId))}),t.TgZ(10,"mat-icon"),t._uU(11,"launch"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.ALo(14,"translate"),t.qZA()()()}if(2&I){const c=L.data,p=t.oxw();t.xp6(1),t.Q6J("matTooltip",c.message),t.xp6(1),t.Oqu(p.getCommitSummary(c)),t.xp6(1),t.Q6J("matTooltip",c.commitId),t.xp6(4),t.Oqu(t.lcZ(8,6,"Copy Commit ID")),t.xp6(2),t.Q6J("matTooltip",c.commitId),t.xp6(4),t.Oqu(t.lcZ(14,8,"Jump to Commit"))}}class ae extends((0,at.j)(pt.A,M.P)){constructor(L,c,p){super(),this.router=L,this.store=c,this.commitsApi=p,this.yUnit=Pt.$.yUnit,this.commitDetails=new s.X([]),this.selectedCommitDetail=new s.X(null),this.selectedPatch=new s.X(null),this.selectedFile=this.selectedPatch.pipe((0,A.U)(B=>B?{area:"commit",oldFilePath:B.patch.oldFilePath,newFilePath:B.patch.newFilePath}:null)),this.getCommitSummary=B=>B.message.split("\n")[0]}ngOnChanges(L){if(!L.commits)return;const c=this.store.selectSnapshot(xt.E.selectedRepositoryPath);if(!c)throw new nt.uX;this.repositoryPath=c,this.commitsApi.getCommits(c,this.commits).pipe((0,ft.R)(this.destroyed$)).subscribe(B=>{this.commitDetails.next(B),B[0]&&this.selectedCommitDetail.next(B[0])});const p=this.store.selectSnapshot(xt.E.selectedRemotes);if(!p)throw new nt.St;this.remotes=p}patchChanged(L){const c=this.selectedCommitDetail.value;"commit"!==L.area||!c||0===c.patches.length||this.commitsApi.getPatch(this.repositoryPath,c.id,L.oldFilePath,L.newFilePath).pipe((0,A.U)(p=>({repositoryPath:this.repositoryPath,patch:p,isUnstaged:!1})),(0,Z.K)(p=>nt.ik.matches(p)||nt.vE.matches(p)?(0,W.of)(null):(0,bt._)(()=>p)),(0,ft.R)(this.destroyed$)).subscribe(p=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===p?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===p?.patch.oldFilePath?null:p)})}copyToClipboard(L){navigator.clipboard.writeText(L??"")}jumpToCommit(L){this.store.dispatch([new N.jQ(this.repositoryPath,L),new N.BK(this.repositoryPath,L)]).subscribe(()=>{this.router.navigate(["/standard/default"])})}trackCommitDetail(L,c){return c.id}static{this.\u0275fac=function(c){return new(c||ae)(t.Y36(D.F0),t.Y36(At.yh),t.Y36(Dt.T))}}static{this.\u0275cmp=t.Xpm({type:ae,selectors:[["app-pull-request-commits-view"]],viewQuery:function(c,p){if(1&c&&t.Gf(rt.N7,5),2&c){let B;t.iGM(B=t.CRH())&&(p.viewports=B)}},inputs:{commits:"commits"},features:[t.qOj,t.TTD],decls:13,vars:9,consts:[["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[1,"viewport-wrapper"],[1,"viewport","messages-viewport",3,"itemSize"],[1,"messages"],[3,"selected","appContextMenu","appContextMenuData","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],["contextMenu",""],[3,"appContextMenu","appContextMenuData","click"],[3,"matTooltip","remotes","email"],[1,"summary",3,"matTooltip"],[3,"patch","closed"],[3,"commit","selectedFile","patchChanged"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"matTooltip","click"]],template:function(c,p){1&c&&(t.TgZ(0,"app-grid",0)(1,"app-grid-cell",1)(2,"div",2)(3,"cdk-virtual-scroll-viewport",3)(4,"ul",4),t.YNc(5,te,5,11,"li",5),t.qZA()()(),t.YNc(6,oe,1,2,"app-diff-view",6),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"app-grid-cell",7),t.YNc(9,he,1,2,"app-commit-detail-view",8),t.ALo(10,"async"),t.qZA()(),t.YNc(11,ue,15,10,"ng-template",null,9,t.W1O)),2&c&&(t.xp6(3),t.Q6J("itemSize",p.yUnit),t.xp6(2),t.Q6J("cdkVirtualForOf",p.commitDetails)("cdkVirtualForTrackBy",p.trackCommitDetail),t.xp6(1),t.Q6J("ngIf",t.lcZ(7,5,p.selectedPatch)),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,7,p.selectedCommitDetail)))},dependencies:[rt.xd,rt.x0,rt.N7,l.O5,k.Hw,$.gM,kt.A,Ft.l,Qt.Y,$t.M,zt.T,Ut.s,l.Ov,Yt.X],styles:[".viewport-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.messages-viewport[_ngcontent-%COMP%]{contain:content;scrollbar-gutter:stable;height:100%}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:28px;line-height:28px;padding-left:5px;padding-right:130px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:26px;height:26px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:14px;vertical-align:middle}app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#2d2d2d}.dark-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #1e1e1e}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #424242}.dark-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #424242}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.light-theme[_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#eee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#90a4ae;--bgColor: #fafafa}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   .top-date.selected.scrolled-to-top[_ngcontent-%COMP%]{--bgColor: #eeeeee}.light-theme[_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .floating-dates[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{--bgColor: #eeeeee}"],data:{animation:[(0,H.X$)("slideLeft",[(0,H.eR)(":enter",[(0,H.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,H.jt)("200ms",(0,H.oB)({transform:"translateX(0)"}))]),(0,H.eR)(":leave",[(0,H.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,H.jt)("200ms",(0,H.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}var se=i(6377),gt=i(2960);function Bt(I,L){if(1&I){const c=t.EpF();t.TgZ(0,"app-diff-view",5),t.NdJ("closed",function(){t.CHM(c);const B=t.oxw();return t.KtG(B.selectedPatch.next(null))}),t.qZA()}if(2&I){const c=t.oxw();t.Q6J("@slideLeft",void 0)("patch",c.selectedPatch)}}class b extends((0,at.j)(pt.A)){constructor(L,c){super(),this.store=L,this.commitsApi=c,this.selectedPatch=new s.X(null),this.selectedFile=this.selectedPatch.pipe((0,A.U)(p=>p?{area:"commit",oldFilePath:p.patch.oldFilePath,newFilePath:p.patch.newFilePath}:null))}ngOnInit(){const L=this.store.selectSnapshot(xt.E.selectedRepositoryPath);if(!L)throw new nt.uX;this.repositoryPath=L}ngAfterViewInit(){const L=(0,se.Z)(this.patches,c=>c.oldFilePath?.toLowerCase()??c.newFilePath?.toLowerCase())[0];L&&setTimeout(()=>{this.changePatch(L.oldFilePath,L.newFilePath)},500)}changePatch(L,c){this.commitsApi.getCompareCommitsPatch(this.repositoryPath,this.fromCommitId,this.toCommitId,L,c).pipe((0,A.U)(p=>({repositoryPath:this.repositoryPath,patch:p,isUnstaged:!1})),(0,Z.K)(p=>nt.ik.matches(p)||nt.vE.matches(p)?(0,W.of)(null):(0,bt._)(()=>p)),(0,ft.R)(this.destroyed$)).subscribe(p=>{this.selectedPatch.next(this.selectedPatch.value?.patch.newFilePath===p?.patch.newFilePath&&this.selectedPatch.value?.patch.oldFilePath===p?.patch.oldFilePath?null:p)})}static{this.\u0275fac=function(c){return new(c||b)(t.Y36(At.yh),t.Y36(Dt.T))}}static{this.\u0275cmp=t.Xpm({type:b,selectors:[["app-pull-request-patches-view"]],inputs:{fromCommitId:"fromCommitId",toCommitId:"toCommitId",patches:"patches"},features:[t.qOj],decls:7,vars:7,consts:[["id","pull-request-commits-view"],["min","200px",1,"left-cell"],[3,"patch","closed",4,"ngIf"],["min","234px",1,"right-cell"],[3,"patches","selected","selectedChanged"],[3,"patch","closed"]],template:function(c,p){1&c&&(t.TgZ(0,"app-grid",0)(1,"app-grid-cell",1),t.YNc(2,Bt,1,2,"app-diff-view",2),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"app-grid-cell",3)(5,"app-patches-view",4),t.NdJ("selectedChanged",function(J){return p.changePatch(J.oldFilePath,J.newFilePath)}),t.ALo(6,"async"),t.qZA()()()),2&c&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,3,p.selectedPatch)),t.xp6(3),t.Q6J("patches",p.patches)("selected",t.lcZ(6,5,p.selectedFile)))},dependencies:[l.O5,Qt.Y,$t.M,Ut.s,gt.i,l.Ov],styles:["app-diff-view[_ngcontent-%COMP%]{z-index:200;padding-left:10px}app-patches-view[_ngcontent-%COMP%]{padding:16px;height:100%;display:flex;flex-direction:column;gap:10px}"],data:{animation:[(0,H.X$)("slideLeft",[(0,H.eR)(":enter",[(0,H.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,H.jt)("200ms",(0,H.oB)({transform:"translateX(0)"}))]),(0,H.eR)(":leave",[(0,H.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,H.jt)("200ms",(0,H.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}var Y=i(3394),G=i(3238);function Ct(I,L){if(1&I&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&I){const c=L.$implicit;t.Q6J("value",c),t.xp6(1),t.AsE(" ",c.owner,"/",c.repo," ")}}const Et=function(I){return{branch:I}};function ee(I,L){if(1&I&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&I){const c=L.$implicit;t.Q6J("value",t.VKq(2,Et,c)),t.xp6(1),t.Oqu(c)}}function ne(I,L){if(1&I&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&I){const c=L.$implicit;t.Q6J("value",c),t.xp6(1),t.AsE(" ",c.owner,"/",c.repo," ")}}function re(I,L){if(1&I&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&I){const c=L.$implicit;t.Q6J("value",t.VKq(2,Et,c)),t.xp6(1),t.Oqu(c)}}class pe extends((0,at.j)(pt.A)){constructor(L,c,p,B,J){super(),this.store=L,this.bitbucketApiService=c,this.gitHubApiService=p,this.gitLabApiService=B,this.providerUrlMatcherService=J,this.filteredFromRepos=[],this.displayBranch=q=>q?q.branch:"",this.displayRepo=q=>q?`${q.owner}/${q.repo}`:""}ngOnInit(){const L=this.store.selectSnapshot(xt.E.selectedRemotes)?.filter(c=>this.providerUrlMatcherService.matchProvider(c.url)?.type===this.integration.type);if(!L)throw new dt.ZR(new nt.St);this.filteredFromRepos=L.flatMap(c=>{const p=this.providerUrlMatcherService.matchProvider(c.url);return p?.type!==this.integration.type?[]:{owner:"bitbucket"===p.type?p.workspace:"github"===p.type?p.owner:"gitlab"===p.type?p.namespace:"",repo:p.repo}}),this.filteredFromRepos[0]&&(this.controls.fromRepo.setValue(this.filteredFromRepos[0]),this.controls.toRepo.setValue(this.filteredFromRepos[0])),this.filteredFromBranches=(0,h.a)([this.controls.fromRepo.valueChanges.pipe((0,f.O)(this.controls.fromRepo.value),(0,V.p)(500,void 0,{leading:!0,trailing:!0}),(0,ut.w)(c=>this.getBranches(c))),this.controls.fromBranch.valueChanges.pipe((0,f.O)(this.controls.fromBranch.value),(0,V.p)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,A.U)(([c,p])=>"string"==typeof p?c.filter(B=>B.toLowerCase().includes(p.toLowerCase())):c)),this.filteredToRepos=this.controls.fromRepo.valueChanges.pipe((0,f.O)(this.controls.fromRepo.value),(0,V.p)(500,void 0,{leading:!0,trailing:!0}),(0,ut.w)(c=>{const{owner:p,repo:B}=c??{};if(!p||!B)return(0,W.of)(this.filteredFromRepos);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getRepository(p,B,void 0,this.integration).pipe((0,A.U)(J=>{if(!J?.parent){const z=this.controls.fromRepo.value,Ot=this.controls.toRepo.value;return z?.owner===Ot?.owner&&z?.repo===Ot?.repo&&this.controls.toBranch.pristine&&J?.mainbranch&&this.controls.toBranch.setValue({branch:J.mainbranch.name}),this.filteredFromRepos}const[q,ht]=J?.parent?.full_name.split("/")??[];return q&&ht?(this.controls.toBranch.pristine&&J.parent?.mainbranch&&this.controls.toBranch.setValue({branch:J.parent.mainbranch.name}),[{owner:q,repo:ht},...this.filteredFromRepos.filter(z=>z.owner!==q||z.repo!==ht)]):this.filteredFromRepos}));case"github":return this.gitHubApiService.getRepository(this.integration.token,p,B).pipe((0,A.U)(J=>{if(!J?.parent){const z=this.controls.fromRepo.value,Ot=this.controls.toRepo.value;return z?.owner===Ot?.owner&&z?.repo===Ot?.repo&&this.controls.toBranch.pristine&&J&&this.controls.toBranch.setValue({branch:J.default_branch}),this.filteredFromRepos}const[q,ht]=J?.parent?.full_name.split("/")??[];return q&&ht?(this.controls.toBranch.pristine&&J.parent&&this.controls.toBranch.setValue({branch:J.parent.default_branch}),[{owner:q,repo:ht},...this.filteredFromRepos.filter(z=>z.owner!==q||z.repo!==ht)]):this.filteredFromRepos}));case"gitlab":return this.gitLabApiService.getRepository(this.integration,p,B).pipe((0,A.U)(J=>{if(!J?.forked_from_project){const z=this.controls.fromRepo.value,Ot=this.controls.toRepo.value;return z?.owner===Ot?.owner&&z?.repo===Ot?.repo&&this.controls.toBranch.pristine&&J&&this.controls.toBranch.setValue({branch:J.default_branch}),this.filteredFromRepos}const q=J?.forked_from_project?.namespace.path,ht=J?.forked_from_project?.path;return q&&ht?(this.controls.toBranch.pristine&&J.forked_from_project&&this.controls.toBranch.setValue({branch:J.forked_from_project.default_branch}),[{owner:q,repo:ht},...this.filteredFromRepos.filter(z=>z.owner!==q||z.repo!==ht)]):this.filteredFromRepos}));default:throw new Error("Check not exhaustive.")}})),this.filteredToBranches=(0,h.a)([this.controls.toRepo.valueChanges.pipe((0,f.O)(this.controls.toRepo.value),(0,V.p)(500,void 0,{leading:!0,trailing:!0}),(0,ut.w)(c=>this.getBranches(c))),this.controls.toBranch.valueChanges.pipe((0,f.O)(this.controls.toBranch.value),(0,V.p)(500,void 0,{leading:!0,trailing:!0}))]).pipe((0,A.U)(([c,p])=>"string"==typeof p?c.filter(B=>B.toLowerCase().includes(p.toLowerCase())):c))}getBranches(L){const{owner:c,repo:p}=L??{};if(!c||!p)return(0,W.of)([]);switch(this.integration.type){case"bitbucket":return this.bitbucketApiService.getBranches(this.integration,c,p).pipe((0,A.U)(B=>B?.values.map(({name:J})=>J)??[]),(0,Z.K)(()=>(0,W.of)([])));case"github":return this.gitHubApiService.getBranches(this.integration.token,c,p).pipe((0,A.U)(B=>B?.map(({name:J})=>J)??[]),(0,Z.K)(()=>(0,W.of)([])));case"gitlab":return this.gitLabApiService.getBranches(this.integration,c,p).pipe((0,A.U)(B=>B?.map(({name:J})=>J)??[]),(0,Z.K)(()=>(0,W.of)([])));default:throw new Error("Check not exhaustive.")}}static{this.\u0275fac=function(c){return new(c||pe)(t.Y36(At.yh),t.Y36(Mt.L),t.Y36(P.t),t.Y36(m.T),t.Y36(Y.d))}}static{this.\u0275cmp=t.Xpm({type:pe,selectors:[["app-pull-request-select-view"]],inputs:{integration:"integration",controls:"controls"},features:[t.qOj],decls:33,vars:30,consts:[["subscriptSizing","dynamic",1,"to-repo"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["subscriptSizing","dynamic",1,"to-branch"],["type","text","matInput","","required","",3,"formControl","matAutocomplete"],[3,"displayWith"],["autoToBranch","matAutocomplete"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],["type","text","matInput","","required","","cdkFocusInitial","",3,"formControl","matAutocomplete"],["autoFromBranch","matAutocomplete"],[3,"value"]],template:function(c,p){if(1&c&&(t.TgZ(0,"mat-form-field",0)(1,"mat-label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"mat-select",1),t.YNc(5,Ct,2,3,"mat-option",2),t.ALo(6,"async"),t.qZA()(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",4),t.TgZ(12,"mat-autocomplete",5,6),t.YNc(14,ee,2,4,"mat-option",2),t.ALo(15,"async"),t.qZA()(),t.TgZ(16,"mat-icon"),t._uU(17,"arrow_back"),t.qZA(),t.TgZ(18,"mat-form-field",7)(19,"mat-label"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"mat-select",1),t.YNc(23,ne,2,3,"mat-option",2),t.qZA()(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t._UZ(28,"input",9),t.TgZ(29,"mat-autocomplete",5,10),t.YNc(31,re,2,4,"mat-option",2),t.ALo(32,"async"),t.qZA()()),2&c){const B=t.MAs(13),J=t.MAs(30);t.xp6(2),t.Oqu(t.lcZ(3,16,"Base Repository")),t.xp6(2),t.Q6J("formControl",p.controls.toRepo),t.xp6(1),t.Q6J("ngForOf",t.lcZ(6,18,p.filteredToRepos)),t.xp6(4),t.Oqu(t.lcZ(10,20,"Base Branch")),t.xp6(2),t.Q6J("formControl",p.controls.toBranch)("matAutocomplete",B),t.xp6(1),t.Q6J("displayWith",p.displayBranch),t.xp6(2),t.Q6J("ngForOf",t.lcZ(15,22,p.filteredToBranches)),t.xp6(6),t.Oqu(t.lcZ(21,24,"Head Repository")),t.xp6(2),t.Q6J("formControl",p.controls.fromRepo),t.xp6(1),t.Q6J("ngForOf",p.filteredFromRepos),t.xp6(3),t.Oqu(t.lcZ(27,26,"Head Branch")),t.xp6(2),t.Q6J("formControl",p.controls.fromBranch)("matAutocomplete",J),t.xp6(1),t.Q6J("displayWith",p.displayBranch),t.xp6(2),t.Q6J("ngForOf",t.lcZ(32,28,p.filteredFromBranches))}},dependencies:[K.XC,G.ey,K.ZL,U.KE,U.hX,E.Nt,e.gD,l.sg,u.Fj,u.JJ,u.Q7,u.oH,k.Hw,l.Ov,Yt.X],styles:["[_nghost-%COMP%]{display:flex;gap:10px;align-items:center}.to-repo[_ngcontent-%COMP%], .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}.to-branch[_ngcontent-%COMP%], .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}"],changeDetection:0})}}function le(I,L){1&I&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&I&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Title is required")))}const lt=function(I){return{count:I}};function R(I,L){if(1&I&&(t.TgZ(0,"mat-tab",4),t.ALo(1,"translate"),t.TgZ(2,"div",16),t._UZ(3,"app-pull-request-commits-view",17),t.qZA()()),2&I){const c=t.oxw().ngIf;t.s9C("label",t.xi3(1,2,"Commits (_count_)",t.VKq(5,lt,c.commits.length))),t.xp6(3),t.Q6J("commits",c.commits)}}function C(I,L){if(1&I&&(t.TgZ(0,"mat-tab",4),t.ALo(1,"translate"),t._UZ(2,"app-pull-request-patches-view",18),t.qZA()),2&I){const c=t.oxw().ngIf;t.s9C("label",t.xi3(1,4,"Files changed (_count_)",t.VKq(7,lt,c.patches.length))),t.xp6(2),t.Q6J("fromCommitId",c.fromCommitId)("toCommitId",c.toCommitId)("patches",c.patches)}}function y(I,L){if(1&I&&(t.ynx(0),t.YNc(1,R,4,7,"mat-tab",15),t.YNc(2,C,3,9,"mat-tab",15),t.BQk()),2&I){const c=L.ngIf,p=t.oxw();t.xp6(1),t.Q6J("ngIf",p.hasCommits(c)),t.xp6(1),t.Q6J("ngIf",p.hasPatches(c))}}function F(I,L){if(1&I&&(t.TgZ(0,"span",21),t.ALo(1,"translate"),t.ALo(2,"async"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&I){const c=t.oxw(2);t.Q6J("matTooltip",t.lcZ(1,2,null===t.lcZ(2,4,c.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.xp6(3),t.hij(" ",t.lcZ(4,6,"Commits")," ")}}function _t(I,L){if(1&I&&(t.TgZ(0,"span",21),t.ALo(1,"translate"),t.ALo(2,"async"),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&I){const c=t.oxw(2);t.Q6J("matTooltip",t.lcZ(1,2,null===t.lcZ(2,4,c.compare)?"Information unavailable in the repository, view in the browser instead":"Select valid branches to compare")),t.xp6(3),t.hij(" ",t.lcZ(4,6,"Files changed")," ")}}function vt(I,L){1&I&&(t.ynx(0),t.TgZ(1,"mat-tab",19),t.YNc(2,F,5,8,"ng-template",20),t.qZA(),t.TgZ(3,"mat-tab",19),t.YNc(4,_t,5,8,"ng-template",20),t.qZA(),t.BQk())}function Kt(I,L){1&I&&t._UZ(0,"mat-spinner",22)}function ie(I,L){1&I&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&I&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"View in browser")))}function Ht(I,L){1&I&&t._UZ(0,"mat-spinner",22)}function Ce(I,L){1&I&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&I&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"Create Pull Request")))}class ge extends((0,at.j)(pt.A)){constructor(L,c,p,B,J,q){super(),this.route=L,this.store=c,this.commitsApi=p,this.bitbucketApiService=B,this.gitHubApiService=J,this.gitLabApiService=q,this.form=new u.cw({fromRepo:new u.NI(null,u.kI.required),fromBranch:new u.NI(null,u.kI.required),toRepo:new u.NI(null,u.kI.required),toBranch:new u.NI(null,u.kI.required),title:new u.NI(null,u.kI.required),description:new u.NI(null),draft:new u.NI(!1,{nonNullable:!0})}),this.compare=new s.X(void 0),this.loadingCompare=new s.X(!1),this.creatingPullRequest=new s.X(!1),this.hasCommits=ht=>!!ht.commits,this.hasPatches=ht=>!!ht.patches,this.getBranch=ht=>"string"==typeof ht?ht:ht.branch}ngOnInit(){const L=this.route.snapshot.paramMap.get("type");if("bitbucket"!==L&&"github"!==L&&"gitlab"!==L)throw new nt.wp(L);const c=this.route.snapshot.paramMap.get("integrationId"),p=this.store.selectSnapshot(It.$.integrations).find(J=>J.type===L&&J.id==c);if(!p)throw new nt.e5(L,c);this.integration=p;const B=this.store.selectSnapshot(xt.E.selectedRepositoryPath);if(!B)throw new nt.uX;(0,h.a)([this.form.controls.toRepo.valueChanges.pipe((0,f.O)(this.form.controls.toRepo.value)),this.form.controls.toBranch.valueChanges.pipe((0,f.O)(this.form.controls.toBranch.value)),this.form.controls.fromRepo.valueChanges.pipe((0,f.O)(this.form.controls.fromRepo.value)),this.form.controls.fromBranch.valueChanges.pipe((0,f.O)(this.form.controls.fromBranch.value))]).pipe((0,V.p)(500,void 0,{leading:!0,trailing:!0}),(0,A.U)(([J,q,ht,z])=>{const{owner:Ot,repo:Rt}=this.getOwnerRepo(J),{owner:Zt,repo:Jt}=this.getOwnerRepo(ht);return Ot&&Rt&&q&&Zt&&Jt&&z?{toOwner:Ot,toRepo:Rt,toBranch:q,fromOwner:Zt,fromRepo:Jt,fromBranch:z}:null}),(0,it.h)(dt.$K),(0,ct.b)(()=>{this.loadingCompare.next(!0)}),(0,ut.w)(({toOwner:J,toRepo:q,toBranch:ht,fromOwner:z,fromRepo:Ot,fromBranch:Rt})=>{switch(this.integration.type){case"bitbucket":const Zt=this.getBranch(Rt),Jt=this.getBranch(ht);return J!==z||q!==Ot?(0,W.of)({url:`https://bitbucket.org/${J}/${q}/branches/compare/${z}/${Ot}:${Zt}%0D${J}/${q}:${Jt}`}):this.bitbucketApiService.compareCommits(J,q,Zt,Jt,"values.hash,values.parents.hash").pipe((0,ut.w)(yt=>{const St=yt.values[0]?.hash,Vt=yt.values[yt.values.length-1]?.parents[0]?.hash,Gt={url:`https://bitbucket.org/${J}/${q}/branches/compare/${Zt}..${Jt}`,fromCommitId:St,toCommitId:Vt,commits:yt.values.map(qt=>qt.hash)};return St&&Vt?this.commitsApi.compareCommits(B,St,Vt).pipe((0,A.U)(qt=>({...Gt,fromCommitId:St,toCommitId:Vt,patches:qt}))):(0,W.of)(null)}));case"github":return this.gitHubApiService.compare(this.integration.token,J,q,this.getBranch(ht),z,Ot,this.getBranch(Rt)).pipe((0,ut.w)(yt=>{const St=yt?.commits[yt.commits.length-1]?.sha,Vt=yt?.base_commit.sha;if(!yt)return(0,W.of)(null);const Gt={url:yt.html_url,fromCommitId:St,toCommitId:Vt,commits:yt.commits.map(qt=>qt.sha)};return yt&&St&&Vt&&yt.commits.length<250?this.commitsApi.compareCommits(B,St,Vt).pipe((0,A.U)(qt=>({...Gt,fromCommitId:St,toCommitId:Vt,patches:qt}))):(0,W.of)(null)}));case"gitlab":const Xt=this.integration;return this.gitLabApiService.getProject(Xt,J,q).pipe((0,ut.w)(yt=>this.gitLabApiService.compare(Xt,z,Ot,this.getBranch(Rt),this.getBranch(ht),yt.id)),(0,ut.w)(yt=>{const St=yt?.commit?.id,Vt=yt?.commits[0]?.parent_ids[0];if(!yt)return(0,W.of)(null);const Gt={url:yt.web_url,fromCommitId:St,toCommitId:Vt,commits:yt.commits.map(qt=>qt.id)};return yt&&St&&Vt?this.commitsApi.compareCommits(B,St,Vt).pipe((0,A.U)(qt=>({...Gt,fromCommitId:St,toCommitId:Vt,patches:qt}))):(0,W.of)(null)}));default:throw new Error(`Check not exhaustive '${this.integration}'.`)}}),(0,Z.K)(J=>nt.ik.matches(J)?(0,W.of)(null):(0,bt._)(()=>J)),(0,Tt.s)(()=>{this.loadingCompare.next(!1)}),(0,ft.R)(this.destroyed$)).subscribe(J=>{this.compare.next(J),this.loadingCompare.next(!1)})}close(){history.back()}openCompareInBrowser(){const L=this.compare.value?.url;L&&window.open(L)}createPullRequest(){const{toRepo:L,toBranch:c,fromRepo:p,fromBranch:B,title:J,description:q}=this.form.value,{owner:ht,repo:z}=this.getOwnerRepo(L),{owner:Ot,repo:Rt}=this.getOwnerRepo(p);if(this.form.invalid||!ht||!z||!c||!Ot||!Rt||!B||!J)throw new dt.ZR(new nt.KH);let Zt;switch(this.creatingPullRequest.next(!0),this.integration.type){case"bitbucket":Zt=this.bitbucketApiService.createPullRequest(this.integration,ht,z,{title:J,description:q??void 0,source:{branch:{name:this.getBranch(B)},repository:{full_name:`${Ot}/${Rt}`}},destination:{branch:{name:this.getBranch(c)}}});break;case"github":Zt=this.gitHubApiService.createPullRequest(this.integration.token,ht,z,{head:`${Ot}:${this.getBranch(B)}`,head_repo:Rt,base:this.getBranch(c),title:J,body:q??void 0});break;case"gitlab":const Jt=this.integration;Zt=this.gitLabApiService.getRepository(Jt,ht,z).pipe((0,ut.w)(jt=>this.gitLabApiService.createMergeRequest(Jt,Ot,Rt,{source_branch:this.getBranch(B),target_branch:this.getBranch(c),target_project_id:jt.id??void 0,title:J,description:q??void 0})));break;default:throw new Error(`Check not exhaustive '${this.integration}'.`)}Zt.pipe((0,mt.x)(()=>{this.creatingPullRequest.next(!1)})).subscribe(()=>{this.close()})}getOwnerRepo(L){if("string"==typeof L){const c=L.split("/"),[p,B]=c;return p&&B&&2===c.length?{owner:p,repo:B}:{owner:void 0,repo:void 0}}return L??{owner:void 0,repo:void 0}}static{this.\u0275fac=function(c){return new(c||ge)(t.Y36(D.gz),t.Y36(At.yh),t.Y36(Dt.T),t.Y36(Mt.L),t.Y36(P.t),t.Y36(m.T))}}static{this.\u0275cmp=t.Xpm({type:ge,selectors:[["ng-component"]],features:[t.qOj],decls:47,vars:59,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[3,"controls","integration"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab","description"],[1,"title-field"],["type","text","matInput","","required","",3,"formControl"],[4,"ngIf"],[1,"description-field"],["matInput","","rows","5",3,"placeholder","formControl"],["type","button","mat-flat-button","","color","accent",3,"disabled","click"],["diameter","24",4,"ngIf"],[3,"matTooltip"],["type","button","mat-flat-button","","color","primary",3,"disabled","click"],[3,"label",4,"ngIf"],[1,"tab"],[3,"commits"],[3,"fromCommitId","toCommitId","patches"],["disabled",""],["mat-tab-label",""],[1,"disabled-tab",3,"matTooltip"],["diameter","24"]],template:function(c,p){1&c&&(t.TgZ(0,"header")(1,"button",0),t.NdJ("click",function(){return p.close()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"span",1),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"main"),t._UZ(8,"app-pull-request-select-view",2),t.TgZ(9,"mat-tab-group",3)(10,"mat-tab",4),t.ALo(11,"translate"),t.TgZ(12,"div",5)(13,"mat-form-field",6)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",7),t.YNc(18,le,3,3,"mat-error",8),t.qZA(),t.TgZ(19,"mat-form-field",9),t._UZ(20,"textarea",10),t.ALo(21,"translate"),t.qZA()()(),t.YNc(22,y,3,2,"ng-container",8),t.ALo(23,"async"),t.YNc(24,vt,5,0,"ng-container",8),t.ALo(25,"async"),t.qZA()(),t.TgZ(26,"footer")(27,"button",11),t.NdJ("click",function(){return p.openCompareInBrowser()}),t.ALo(28,"async"),t.ALo(29,"async"),t.ALo(30,"async"),t.YNc(31,Kt,1,0,"mat-spinner",12),t.ALo(32,"async"),t.YNc(33,ie,3,3,"span",8),t.ALo(34,"async"),t.qZA(),t.TgZ(35,"span",13),t.ALo(36,"async"),t.ALo(37,"translate"),t.ALo(38,"translate"),t.TgZ(39,"button",14),t.NdJ("click",function(){return p.createPullRequest()}),t.ALo(40,"async"),t.ALo(41,"async"),t.ALo(42,"async"),t.YNc(43,Ht,1,0,"mat-spinner",12),t.ALo(44,"async"),t.YNc(45,Ce,3,3,"span",8),t.ALo(46,"async"),t.qZA()()()),2&c&&(t.xp6(5),t.Oqu(t.lcZ(6,21,"Create Pull Request")),t.xp6(3),t.Q6J("controls",p.form.controls)("integration",p.integration),t.xp6(1),t.Q6J("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.xp6(1),t.s9C("label",t.lcZ(11,23,"Description")),t.xp6(5),t.Oqu(t.lcZ(16,25,"Title")),t.xp6(2),t.Q6J("formControl",p.form.controls.title),t.xp6(1),t.Q6J("ngIf",p.form.controls.title.hasError("required")),t.xp6(2),t.s9C("placeholder",t.lcZ(21,27,"Leave a comment...")),t.Q6J("formControl",p.form.controls.description),t.xp6(2),t.Q6J("ngIf",t.lcZ(23,29,p.compare)),t.xp6(2),t.Q6J("ngIf",void 0===t.lcZ(25,31,p.compare)),t.xp6(3),t.Q6J("disabled",t.lcZ(28,33,p.loadingCompare)||void 0===t.lcZ(29,35,p.compare)||null===t.lcZ(30,37,p.compare)),t.xp6(4),t.Q6J("ngIf",t.lcZ(32,39,p.loadingCompare)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(34,41,p.loadingCompare)),t.xp6(2),t.Q6J("matTooltip",void 0===t.lcZ(36,43,p.compare)?t.lcZ(37,45,"Select valid branches to compare"):p.form.invalid?t.lcZ(38,47,"Title is required"):""),t.xp6(4),t.Q6J("disabled",p.form.invalid||t.lcZ(40,49,p.loadingCompare)||void 0===t.lcZ(41,51,p.compare)||t.lcZ(42,53,p.creatingPullRequest)),t.xp6(4),t.Q6J("ngIf",t.lcZ(44,55,p.creatingPullRequest)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(46,57,p.creatingPullRequest)))},dependencies:[U.KE,U.hX,U.TO,E.Nt,_.Ou,n.uD,n.uX,n.SP,l.O5,u.Fj,u.JJ,u.Q7,u.oH,g.lW,g.RK,k.Hw,$.gM,ae,b,pe,l.Ov,Yt.X],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   app-pull-request-select-view[_ngcontent-%COMP%]{flex:0 0 auto}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;justify-content:stretch}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}"],changeDetection:0})}}var ve=i(4128),fe=i(5698),v=i(3546),Q=i(8329);function a(I,L){1&I&&t._UZ(0,"mat-spinner")}function r(I,L){if(1&I&&(t.TgZ(0,"mat-card",24),t._uU(1),t.qZA()),2&I){const c=t.oxw().ngIf;t.xp6(1),t.Oqu(c.description)}}const O=function(I){return{count:I}};function X(I,L){if(1&I&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"translate"),t.TgZ(2,"div",8),t._UZ(3,"app-pull-request-commits-view",25),t.qZA()()),2&I){const c=t.oxw().ngIf;t.s9C("label",t.xi3(1,2,"Commits (_count_)",t.VKq(5,O,c.commits.length))),t.xp6(3),t.Q6J("commits",c.commits)}}function Lt(I,L){1&I&&(t._UZ(0,"mat-tab",26),t.ALo(1,"translate")),2&I&&t.s9C("label",t.lcZ(1,1,"Commits"))}function Nt(I,L){if(1&I&&(t.TgZ(0,"mat-tab",7),t.ALo(1,"translate"),t._UZ(2,"app-pull-request-patches-view",27),t.qZA()),2&I){const c=t.oxw().ngIf;t.s9C("label",t.xi3(1,4,"Files changed (_count_)",t.VKq(7,O,c.patches.length))),t.xp6(2),t.Q6J("fromCommitId",c.fromCommitId)("toCommitId",c.toCommitId)("patches",c.patches)}}function Wt(I,L){1&I&&(t._UZ(0,"mat-tab",26),t.ALo(1,"translate")),2&I&&t.s9C("label",t.lcZ(1,1,"Files changed"))}function ce(I,L){if(1&I&&(t.ynx(0),t.TgZ(1,"span",5),t._uU(2),t.qZA(),t.TgZ(3,"mat-tab-group",6)(4,"mat-tab",7),t.ALo(5,"translate"),t.TgZ(6,"div",8)(7,"div",9)(8,"mat-form-field",10)(9,"mat-label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",11),t.qZA(),t.TgZ(13,"mat-form-field",12)(14,"mat-label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._UZ(17,"input",11),t.qZA(),t.TgZ(18,"mat-icon"),t._uU(19,"arrow_back"),t.qZA(),t.TgZ(20,"mat-form-field",13)(21,"mat-label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t._UZ(24,"input",11),t.qZA(),t.TgZ(25,"mat-form-field",14)(26,"mat-label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t._UZ(29,"input",11),t.qZA()(),t.TgZ(30,"div",15)(31,"div",16),t._uU(32),t.ALo(33,"translate"),t._UZ(34,"img",17),t.TgZ(35,"span",18),t._uU(36),t.qZA(),t._UZ(37,"br"),t.qZA(),t.TgZ(38,"div",19),t.ALo(39,"translateDate"),t._uU(40),t.ALo(41,"translate"),t.TgZ(42,"span",18),t._uU(43),t.ALo(44,"translateDate"),t.qZA(),t._uU(45),t.ALo(46,"translate"),t.TgZ(47,"span",18),t._uU(48),t.ALo(49,"translateDate"),t.qZA()()(),t.YNc(50,r,2,1,"mat-card",20),t.qZA()(),t.YNc(51,X,4,7,"mat-tab",21),t.YNc(52,Lt,2,3,"ng-template",null,22,t.W1O),t.YNc(54,Nt,3,9,"mat-tab",21),t.YNc(55,Wt,2,3,"ng-template",null,23,t.W1O),t.qZA(),t.BQk()),2&I){const c=L.ngIf,p=t.MAs(53),B=t.MAs(56);t.xp6(2),t.Oqu(c.title),t.xp6(1),t.Q6J("disablePagination",!0)("mat-stretch-tabs",!1)("preserveContent",!0),t.xp6(1),t.s9C("label",t.lcZ(5,28,"!pull request! Details")),t.xp6(6),t.Oqu(t.lcZ(11,30,"Base Repository")),t.xp6(2),t.Q6J("value",c.toOwner+"/"+c.toRepo),t.xp6(3),t.Oqu(t.lcZ(16,32,"Base Branch")),t.xp6(2),t.Q6J("value",c.toBranch),t.xp6(5),t.Oqu(t.lcZ(23,34,"Head Repository")),t.xp6(2),t.Q6J("value",c.fromOwner+"/"+c.fromRepo),t.xp6(3),t.Oqu(t.lcZ(28,36,"Head Branch")),t.xp6(2),t.Q6J("value",c.fromBranch),t.xp6(2),t.Q6J("matTooltip",c.authorName),t.xp6(1),t.hij(" ",t.lcZ(33,38,"authored by")," "),t.xp6(2),t.Q6J("src",c.authorAvatar,t.LSH)("matTooltip",c.authorName),t.xp6(2),t.Oqu(c.authorName),t.xp6(2),t.Q6J("matTooltip",t.xi3(39,40,c.date,"z")||""),t.xp6(2),t.hij(" ",t.lcZ(41,43,"on !date!")," "),t.xp6(3),t.Oqu(t.xi3(44,45,c.date,"longDate")),t.xp6(2),t.hij(" ",t.lcZ(46,48,"at !time!")," "),t.xp6(3),t.Oqu(t.xi3(49,50,c.date,"HH:mm")),t.xp6(2),t.Q6J("ngIf",c.description),t.xp6(1),t.Q6J("ngIf",c.commits)("ngIfElse",p),t.xp6(3),t.Q6J("ngIf",c.patches)("ngIfElse",B)}}function be(I,L){1&I&&t._UZ(0,"mat-spinner",28)}function Te(I,L){1&I&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&I&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"View in browser")))}class Me extends((0,at.j)(pt.A)){constructor(L,c,p,B,J,q){super(),this.route=L,this.store=c,this.commitsApi=p,this.bitbucketApiService=B,this.gitHubApiService=J,this.gitLabApiService=q,this.pullRequest=new s.X(void 0),this.loading=new s.X(!1)}ngOnInit(){const L=this.route.snapshot.paramMap.get("type");if("bitbucket"!==L&&"github"!==L&&"gitlab"!==L)throw new nt.wp(L);const c=this.route.snapshot.paramMap.get("owner")??"",p=this.route.snapshot.paramMap.get("repo")??"",B=this.route.snapshot.paramMap.get("id")??"",J=this.store.selectSnapshot(xt.E.selectedRepositoryPath);if(!J)throw new nt.uX;let q;switch(L){case"bitbucket":q=this.bitbucketApiService.getPullRequest(c,p,parseInt(B,10)).pipe((0,ut.w)(z=>{if(!z)return(0,W.of)(null);const[Ot,Rt]=z.source.repository.full_name.split("/")??[],Zt=z.source.commit.hash,[Jt,Xt]=z.destination.repository.full_name.split("/")??[],jt=z.destination.commit.hash;if(!(Ot&&Rt&&Jt&&Xt))return(0,W.of)(null);const yt={url:z.links.html.href,title:z.title,description:z.description,authorName:z.author.display_name,authorAvatar:z.author.links.avatar.href,date:new Date(z.created_on),fromOwner:Ot,fromRepo:Rt,fromBranch:z.source.branch.name,fromCommitId:Zt,toOwner:Jt,toRepo:Xt,toBranch:z.destination.branch.name,toCommitId:jt};return this.bitbucketApiService.getPullRequestCommits(c,p,parseInt(B,10)).pipe((0,ut.w)(St=>St?this.commitsApi.compareCommits(J,Zt,jt).pipe((0,A.U)(Vt=>({...yt,commits:St.values.map(Gt=>Gt.hash),patches:Vt}))):(0,W.of)(yt)))}));break;case"github":q=this.gitHubApiService.getPullRequest(c,p,parseInt(B,10)).pipe((0,ut.w)(z=>{if(!z)return(0,W.of)(null);const[Ot,Rt]=z.head.repo.full_name.split("/")??[],Zt=z.head.sha,[Jt,Xt]=z.base.repo.full_name.split("/")??[],jt=z.base.sha;if(!(Ot&&Rt&&Jt&&Xt))return(0,W.of)(null);const yt={url:z.html_url,title:z.title,description:z.body,authorName:z.user.login,authorAvatar:z.user.avatar_url,date:new Date(z.created_at),fromOwner:Ot,fromRepo:Rt,fromBranch:z.head.ref,fromCommitId:Zt,toOwner:Jt,toRepo:Xt,toBranch:z.base.ref,toCommitId:jt};return this.gitHubApiService.getPullRequestCommits(c,p,parseInt(B,10)).pipe((0,ut.w)(St=>St&&St.length<250?this.commitsApi.compareCommits(J,Zt,jt).pipe((0,A.U)(Vt=>({...yt,commits:St.map(Gt=>Gt.sha),patches:Vt}))):(0,W.of)(yt)))}));break;case"gitlab":q=this.gitLabApiService.getMergeRequest(c,p,parseInt(B,10)).pipe((0,ut.w)(z=>z?(0,ve.D)([this.gitLabApiService.getProjectById(z.source_project_id),this.gitLabApiService.getProjectById(z.target_project_id)]).pipe((0,A.U)(([Ot,Rt])=>Ot&&Rt?{source:Ot,target:Rt,pullRequest:z}:null)):(0,W.of)(null)),(0,ut.w)(z=>{if(!z)return(0,W.of)(null);const[Ot,Rt]=z.source.path_with_namespace.split("/")??[],Zt=z.pullRequest.diff_refs.head_sha,[Jt,Xt]=z.target.path_with_namespace.split("/")??[],jt=z.pullRequest.diff_refs.base_sha;if(!(Ot&&Rt&&Jt&&Xt))return(0,W.of)(null);const yt={url:z.pullRequest.web_url,title:z.pullRequest.title,description:z.pullRequest.description,authorName:z.pullRequest.author.name,authorAvatar:z.pullRequest.author.avatar_url,date:new Date(z.pullRequest.created_at),fromOwner:Ot,fromRepo:Rt,fromBranch:z.pullRequest.source_branch,fromCommitId:Zt,toOwner:Jt,toRepo:Xt,toBranch:z.pullRequest.target_branch,toCommitId:jt};return this.gitLabApiService.getPullRequestCommits(c,p,parseInt(B,10)).pipe((0,ut.w)(St=>St?this.commitsApi.compareCommits(J,Zt,jt).pipe((0,A.U)(Vt=>({...yt,commits:St.map(Gt=>Gt.id),patches:Vt}))):(0,W.of)(yt)))}));break;default:throw new Error(`Check not exhaustive '${L}'.`)}this.loading.next(!0),q.pipe((0,Z.K)(ht=>nt.ik.matches(ht)?(0,W.of)(null):(0,bt._)(()=>ht)),(0,fe.q)(1),(0,ft.R)(this.destroyed$),(0,mt.x)(()=>{this.loading.next(!1)})).subscribe(ht=>{this.pullRequest.next(ht)})}openInBrowser(){const L=this.pullRequest.value?.url;L&&window.open(L)}close(){history.back()}static{this.\u0275fac=function(c){return new(c||Me)(t.Y36(D.gz),t.Y36(At.yh),t.Y36(Dt.T),t.Y36(Mt.L),t.Y36(P.t),t.Y36(m.T))}}static{this.\u0275cmp=t.Xpm({type:Me,selectors:[["ng-component"]],features:[t.qOj],decls:20,vars:20,consts:[["type","button","mat-icon-button","","matTooltip","Go Back",1,"back-btn","app-icon-button-md",3,"click"],[1,"mat-headline-6","text"],[4,"ngIf"],["type","button","mat-flat-button","","color","accent",3,"disabled","click"],["diameter","24",4,"ngIf"],[1,"mat-headline-4","title"],[1,"tabs",3,"disablePagination","mat-stretch-tabs","preserveContent"],[3,"label"],[1,"tab"],[1,"repos"],["subscriptSizing","dynamic",1,"to-repo"],["type","text","matInput","","readonly","",3,"value"],["subscriptSizing","dynamic",1,"to-branch"],["subscriptSizing","dynamic",1,"from-repo"],["subscriptSizing","dynamic",1,"from-branch"],[1,"created"],[1,"author",3,"matTooltip"],[1,"avatar",3,"src","matTooltip"],[1,"highlight"],[1,"date",3,"matTooltip"],["class","description",4,"ngIf"],[3,"label",4,"ngIf","ngIfElse"],["emptyCommitsTab",""],["emptyPatchesTab",""],[1,"description"],[3,"commits"],["disabled","",3,"label"],[3,"fromCommitId","toCommitId","patches"],["diameter","24"]],template:function(c,p){1&c&&(t.TgZ(0,"header")(1,"button",0),t.NdJ("click",function(){return p.close()}),t.TgZ(2,"mat-icon"),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"span",1),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"main"),t.YNc(8,a,1,0,"mat-spinner",2),t.ALo(9,"async"),t.YNc(10,ce,57,53,"ng-container",2),t.ALo(11,"async"),t.qZA(),t.TgZ(12,"footer")(13,"button",3),t.NdJ("click",function(){return p.openInBrowser()}),t.ALo(14,"async"),t.ALo(15,"async"),t.YNc(16,be,1,0,"mat-spinner",4),t.ALo(17,"async"),t.YNc(18,Te,3,3,"span",2),t.ALo(19,"async"),t.qZA()()),2&c&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"Viewing Pull Request")),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,8,p.loading)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,10,p.pullRequest)),t.xp6(3),t.Q6J("disabled",t.lcZ(14,12,p.loading)||null===t.lcZ(15,14,p.pullRequest)),t.xp6(3),t.Q6J("ngIf",t.lcZ(17,16,p.loading)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(19,18,p.loading)))},dependencies:[U.KE,U.hX,E.Nt,_.Ou,n.uX,n.SP,l.O5,g.lW,g.RK,v.a8,k.Hw,$.gM,ae,b,l.Ov,Q.v,Yt.X],styles:["[_nghost-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px;min-height:0}header[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{flex:0 0 auto}header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;margin-bottom:20px}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-repo[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-repo[_ngcontent-%COMP%]{min-width:140px;flex:2 1 auto}main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .to-branch[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .repos[_ngcontent-%COMP%]   .from-branch[_ngcontent-%COMP%]{min-width:100px;flex:1 2 auto}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]{margin-bottom:20px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:inline-block}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-radius:2px;width:22px;height:22px;margin:0 3px 0 5px;vertical-align:bottom}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:18px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-left:5px}main[_ngcontent-%COMP%]   .created[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:16px}main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding:10px}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{flex:1 1 auto;min-height:0}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex-grow:1}main[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{margin-top:15px}main[_ngcontent-%COMP%]   .disabled-tab[_ngcontent-%COMP%]{pointer-events:auto}footer[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;gap:10px}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}var ye=i(2464);class _e{constructor(L,c){this.router=L,this.authService=c}canActivate(){return"pro"===this.authService.accessLevel.value||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(c){return new(c||_e)(t.LFG(D.F0),t.LFG(ye.e))}}static{this.\u0275prov=t.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})}}class de{constructor(L,c){this.router=L,this.store=c}canActivate(){return!!this.store.selectSnapshot(xt.E.selectedRepositoryPath)||this.router.parseUrl("/standard/open-repository")}static{this.\u0275fac=function(c){return new(c||de)(t.LFG(D.F0),t.LFG(At.yh))}}static{this.\u0275prov=t.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}}var me=i(655),we=i(4968),Ie=i(4745),Ae=i(9578),ke=i(7033),Ee=i(4326),Le=i(4782),De=i(4462),xe=i(5938),Re=i(6901);function Be(I,L){1&I&&(t.TgZ(0,"mat-icon",10),t._uU(1,"folder"),t.qZA())}function Ze(I,L){1&I&&t._UZ(0,"mat-spinner",11)}function Se(I,L){if(1&I){const c=t.EpF();t.TgZ(0,"a",5),t.NdJ("mouseup",function(B){const q=t.CHM(c).$implicit,ht=t.oxw();return t.KtG(ht.tabClicked(B,q))})("dragstart",function(B){const J=t.CHM(c),q=J.$implicit,ht=J.index,z=t.oxw();return t.KtG(z.dragstartListener(B,q,ht))})("dragleave",function(){t.CHM(c);const B=t.oxw();return t.KtG(B.dragOverRepositoryIndex.next(null))})("dragover",function(B){const q=t.CHM(c).index,ht=t.oxw();return t.KtG(ht.dragoverListener(B,q))})("drop",function(B){const q=t.CHM(c).index,ht=t.oxw();return t.KtG(ht.dropListener(B,q))}),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.YNc(4,Be,2,0,"mat-icon",6),t.YNc(5,Ze,1,0,"mat-spinner",7),t.TgZ(6,"span",8),t._uU(7),t.qZA(),t.TgZ(8,"mat-icon",9),t.NdJ("click",function(){const J=t.CHM(c).$implicit,q=t.oxw();return t.KtG(q.closeRepository(J.path))}),t._uU(9,"close"),t.qZA()()}if(2&I){const c=L.$implicit,p=L.index,B=t.oxw();t.ekj("border-left",t.lcZ(1,11,B.hasLeftBorder(p)))("border-right",t.lcZ(2,13,B.hasRightBorder(p))),t.Q6J("matTooltip",c.path)("active",t.lcZ(3,15,B.selectedRepositoryPath)===c.path),t.xp6(4),t.Q6J("ngIf",c.loaded),t.xp6(1),t.Q6J("ngIf",!c.loaded),t.xp6(1),t.ekj("disabled",!c.loaded),t.xp6(1),t.Oqu(c.name)}}function Fe(I,L){if(1&I){const c=t.EpF();t.TgZ(0,"a",12),t.NdJ("mouseup",function(B){t.CHM(c);const J=t.oxw();return t.KtG(J.changelogClicked(B))}),t.ALo(1,"translate"),t.ALo(2,"async"),t.TgZ(3,"mat-icon",10),t._uU(4,"auto_awesome"),t.qZA(),t.TgZ(5,"span",8),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"mat-icon",13),t.NdJ("mouseup",function(B){t.CHM(c);const J=t.oxw();return t.KtG(J.closeChangelogClicked(B))}),t._uU(9,"close"),t.qZA()()}if(2&I){const c=t.oxw();t.Q6J("matTooltip",t.lcZ(1,3,"See whats new! !release notes!"))("active",c.isChangelogUrl()&&null===t.lcZ(2,5,c.selectedRepositoryPath)),t.xp6(6),t.Oqu(t.lcZ(7,7,"Release Notes"))}}let Ue=(()=>{class I extends((0,at.j)(pt.A)){constructor(c,p,B,J){super(),this.cdr=c,this.router=p,this.store=B,this.updatesApiService=J,this.inkBarAnimationDisabled=new s.X(!1),this.dragRepositoryIndex=null,this.dragOverRepositoryIndex=new s.X(null),this.dragPosition=new s.X(null),this.dragstartListener=(q,ht,z)=>{q.dataTransfer&&(q.dataTransfer.setData("app/repository",ht.path),q.dataTransfer.setData("app/repository-tab",ht.path),q.dataTransfer.effectAllowed="move",this.dragRepositoryIndex=z)},this.dragoverListener=(q,ht)=>{if(q.dataTransfer&&q.dataTransfer.types.includes("app/repository")){q.preventDefault(),q.dataTransfer.dropEffect="move",this.dragOverRepositoryIndex.value!==ht&&this.dragOverRepositoryIndex.next(ht);const z=q.target;if(z.draggable){const Ot=this.getDragoverPosition(q.offsetX,z.clientWidth);this.dragPosition.value!==Ot&&this.dragPosition.next(Ot)}}},this.dropListener=(q,ht)=>{if(q.dataTransfer&&q.dataTransfer.types.includes("app/repository-tab")){this.dragOverRepositoryIndex.value!==ht&&this.dragOverRepositoryIndex.next(ht);const z=q.target;if(z.draggable){const Ot=this.getDragoverPosition(q.offsetX,z.clientWidth);this.dragPosition.value!==Ot&&this.dragPosition.next(Ot)}q.preventDefault(),(0,h.a)([this.openOrLoadingRepositories,this.visibleRepositories]).pipe((0,ft.R)(this.destroyed$),(0,fe.q)(1)).subscribe(([Ot,Rt])=>{const Zt=ht+("right"===this.dragPosition.value?1:0);if(null!==this.dragRepositoryIndex&&Zt>=0){const Jt=Rt[this.dragRepositoryIndex]?.path,Xt=Rt[Zt]?.path,jt=Ot.findIndex(Gt=>Gt.path===Jt),yt=Xt?Ot.findIndex(Gt=>Gt.path===Xt):Ot.length,St=jt>yt?[...Ot.slice(0,yt),Ot[jt],...Ot.filter((Gt,qt)=>qt!==jt).slice(yt)]:jt<yt?[...Ot.slice(0,yt).filter((Gt,qt)=>qt!==jt),Ot[jt],...Ot.slice(yt)]:Ot;this.inkBarAnimationDisabled.next(!0);const Vt=St.map(Gt=>Gt?.path).filter(dt.$K);this.store.dispatch(new N.jq(Vt)).pipe((0,Ee.g)(250)).subscribe(()=>this.inkBarAnimationDisabled.next(!1))}})}this.dragRepositoryIndex=null,this.dragOverRepositoryIndex.next(null),this.dragPosition.next(null)},this.hasLeftBorder=q=>(0,h.a)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,A.U)(([ht,z])=>ht===q&&"left"===z||ht===q-1&&"right"===z)),this.hasRightBorder=q=>(0,h.a)([this.dragOverRepositoryIndex,this.dragPosition]).pipe((0,A.U)(([ht,z])=>ht===q&&"right"===z||ht===q+1&&"left"===z)),this.getDragoverPosition=(q,ht)=>q/ht<.5?"left":"right"}documentKeydown(c){if(!c.isComposing&&(De.V?c.metaKey:c.ctrlKey)&&!c.altKey&&!c.metaKey)switch(c.key){case"W":case"w":if(!c.shiftKey){const p=this.store.selectSnapshot(xt.E.selectedRepositoryPath);p&&this.closeRepository(p)}break;case"T":case"t":c.shiftKey||this.openNewRepository();break;case"Tab":{const p=this.store.selectSnapshot(xt.E.selectedRepositoryPath);this.visibleRepositories.pipe((0,fe.q)(1)).subscribe(B=>{const J=p?B.findIndex(ht=>ht.path===p):B.length;if(J<0)throw new nt.VF(p??"");let q=J+(c.shiftKey?-1:1);q>=B.length?q=0:q<0&&(q=B.length-1),this.changeRepository(B[q]?.path??null)});break}}}documentMouseDown(c){1===c.button&&c.preventDefault()}ngOnInit(){this.visibleRepositories=(0,h.a)([this.openOrLoadingRepositories,this.profile]).pipe((0,A.U)(([c,p])=>p&&"all"!==p.allowedRepositories?c.filter(B=>p.allowedRepositories.includes(B.path)):c),(0,ft.R)(this.destroyed$),(0,Le.d)(1)),this.hasUnreadChangelog=this.store.select(xe.U9.changelogReadUpto).pipe((0,ut.w)(c=>this.updatesApiService.getVersion().pipe((0,A.U)(p=>{if(!c)return!1;const[B,J,q]=p.replace(/-.*$/,"").split(".").map(Zt=>+Zt),[ht,z,Ot]=c.replace(/-.*$/,"").split(".").map(Zt=>+Zt),Rt=void 0===B||void 0===J||void 0===ht||void 0===z||ht<B||z<J;return Rt&&this.openChangelog(),Rt}))))}ngAfterViewInit(){setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},100),setTimeout(()=>{this.matTabNav._alignInkBarToSelectedTab(),this.cdr.markForCheck()},1e3)}trackRepository(c,p){return p.path}tabClicked(c,p){switch(c.button){case 0:p.loaded&&this.changeRepository(p.path);break;case 1:this.closeRepository(p.path)}}changeRepository(c){this.store.dispatch(new N.BZ(c)).subscribe(()=>{this.router.navigate(["/standard/default"])})}closeRepository(c){this.store.dispatch(new N.F$(c))}isChangelogUrl(){return"/standard/changelog"===this.router.url}changelogClicked(c){switch(c.button){case 0:this.openChangelog();break;case 1:this.closeChangelog()}}closeChangelogClicked(c){0===c.button&&(this.closeChangelog(),c.preventDefault(),c.stopPropagation())}openChangelog(){this.store.dispatch(new N.BZ(null)).subscribe(()=>{this.router.navigate(["/standard/changelog"])})}closeChangelog(){this.updatesApiService.getVersion().subscribe(c=>{this.store.dispatch(new xe.kH(c)).subscribe(()=>{this.router.navigate(["/standard/default"])})})}openNewRepository(){this.store.dispatch(new N.BZ(null)).subscribe(()=>{this.router.navigate(["/standard/open-repository"])})}static{this.\u0275fac=function(p){return new(p||I)(t.Y36(t.sBO),t.Y36(D.F0),t.Y36(At.yh),t.Y36(Re.j))}}static{this.\u0275cmp=t.Xpm({type:I,selectors:[["app-repository-tabs-view"]],viewQuery:function(p,B){if(1&p&&t.Gf(n.BU,5),2&p){let J;t.iGM(J=t.CRH())&&(B.matTabNav=J.first)}},hostBindings:function(p,B){1&p&&t.NdJ("keydown",function(q){return B.documentKeydown(q)},!1,t.evT)("mousedown",function(q){return B.documentMouseDown(q)},!1,t.evT)},features:[t.qOj],decls:13,vars:20,consts:[["mat-tab-nav-bar","",3,"tabPanel","mat-stretch-tabs","disablePagination"],["mat-tab-link","","draggable","true",3,"border-left","border-right","matTooltip","active","mouseup","dragstart","dragleave","dragover","drop",4,"ngFor","ngForOf","ngForTrackBy"],["mat-tab-link","","class","changelog-link",3,"matTooltip","active","mouseup",4,"ngIf"],["mat-tab-link","",1,"new-tab-link",3,"matTooltip","active","click"],["tabPanel",""],["mat-tab-link","","draggable","true",3,"matTooltip","active","mouseup","dragstart","dragleave","dragover","drop"],["class","prefix",4,"ngIf"],["class","prefix disabled","diameter","18",4,"ngIf"],[1,"name"],["draggable","false",1,"suffix",3,"click"],[1,"prefix"],["diameter","18",1,"prefix","disabled"],["mat-tab-link","",1,"changelog-link",3,"matTooltip","active","mouseup"],[1,"suffix",3,"mouseup"]],template:function(p,B){if(1&p&&(t.TgZ(0,"nav",0),t.ALo(1,"async"),t.YNc(2,Se,10,17,"a",1),t.ALo(3,"async"),t.YNc(4,Fe,10,9,"a",2),t.ALo(5,"async"),t.TgZ(6,"a",3),t.NdJ("click",function(){return B.openNewRepository()}),t.ALo(7,"translate"),t.ALo(8,"async"),t.TgZ(9,"mat-icon"),t._uU(10,"add"),t.qZA()()(),t._UZ(11,"mat-tab-nav-panel",null,4)),2&p){const J=t.MAs(12);t.ekj("ink-bar-animation-disabled",t.lcZ(1,10,B.inkBarAnimationDisabled)),t.Q6J("tabPanel",J)("mat-stretch-tabs",!1)("disablePagination",!0),t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,12,B.visibleRepositories))("ngForTrackBy",B.trackRepository),t.xp6(2),t.Q6J("ngIf",B.isChangelogUrl()||t.lcZ(5,14,B.hasUnreadChangelog)),t.xp6(2),t.Q6J("matTooltip",t.lcZ(7,16,"Open a new repository"))("active",!B.isChangelogUrl()&&null===t.lcZ(8,18,B.selectedRepositoryPath))}},dependencies:[l.sg,l.O5,k.Hw,$.gM,_.Ou,n.BU,n.sW,n.Nj,l.Ov,Yt.X],styles:['nav.ink-bar-animation-disabled[_ngcontent-%COMP%]     .mat-ink-bar{transition:none!important}.mat-mdc-tab-link[_ngcontent-%COMP%]{position:relative;padding:0 18px;min-width:120px}.mat-mdc-tab-link[_ngcontent-%COMP%]     .mdc-tab__content{pointer-events:initial}.mat-mdc-tab-link[_ngcontent-%COMP%]:before, .mat-mdc-tab-link[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;height:100%;width:1px;margin:0;padding:0;border:none;background-color:transparent;top:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:before{left:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:after{right:0}.mat-mdc-tab-link[_ngcontent-%COMP%]:first-child:before{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]:nth-last-child(2):after{width:2px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{margin-right:10px}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{pointer-events:none}.mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{margin-left:5px;z-index:1}.mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%], .mat-mdc-tab-link[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.new-tab-link[_ngcontent-%COMP%]{min-width:48px}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#ffffff80}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-left[_ngcontent-%COMP%]:before{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after, .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link.border-right[_ngcontent-%COMP%]:after{background-color:#78909c}.light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .prefix.disabled[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .mat-mdc-tab-link[_ngcontent-%COMP%]   .name.disabled[_ngcontent-%COMP%]{color:#00000061}'],changeDetection:0})}}return(0,me.gn)([(0,At.Ph)(xt.E.selectedRepositoryPath)],I.prototype,"selectedRepositoryPath",void 0),(0,me.gn)([(0,At.Ph)(xt.E.openOrLoadingRepositories)],I.prototype,"openOrLoadingRepositories",void 0),(0,me.gn)([(0,At.Ph)(It.$.selectedProfile)],I.prototype,"profile",void 0),I})();const Ne=["header"];function Ye(I,L){if(1&I&&t._UZ(0,"app-avatar",7),2&I){const c=t.oxw().ngIf;t.Q6J("email",c.email)}}function Ve(I,L){if(1&I&&(t.TgZ(0,"span"),t.YNc(1,Ye,1,1,"app-avatar",6),t._uU(2),t.qZA()),2&I){const c=L.ngIf;t.xp6(1),t.Q6J("ngIf",c.email),t.xp6(1),t.hij(" ",c.profileName," ")}}function We(I,L){if(1&I&&t._UZ(0,"app-avatar",10),2&I){const c=t.oxw().$implicit;t.Q6J("email",c.value.email)}}function Ke(I,L){if(1&I&&(t.TgZ(0,"mat-option",8),t.YNc(1,We,1,1,"app-avatar",9),t._uU(2),t.qZA()),2&I){const c=L.$implicit;t.Q6J("value",c.key),t.xp6(1),t.Q6J("ngIf",c.value.email),t.xp6(1),t.hij(" ",c.value.profileName," ")}}const Je=function(){return["/settings"]},Qe=[{path:"",component:(()=>{class I extends((0,at.j)(pt.A,Ie.H)){constructor(c){super(),this.store=c,this.selectedProfileControl=new u.NI(null)}ngOnInit(){super.ngOnInit(),this.selectedProfileId.pipe((0,ft.R)(this.destroyed$)).subscribe(c=>{this.selectedProfileControl.setValue(c,{emitEvent:!1})}),this.selectedProfileControl.valueChanges.pipe((0,ft.R)(this.destroyed$)).subscribe(c=>{null!==c&&this.store.dispatch(new Ae.Pt(c))}),(0,we.R)(this.headerElement.nativeElement,"wheel",{passive:!0}).pipe((0,ft.R)(this.destroyed$)).subscribe(c=>{this.headerElement.nativeElement.scrollLeft+=c.deltaY})}static{this.\u0275fac=function(p){return new(p||I)(t.Y36(At.yh))}}static{this.\u0275cmp=t.Xpm({type:I,selectors:[["ng-component"]],viewQuery:function(p,B){if(1&p&&t.Gf(Ne,7),2&p){let J;t.iGM(J=t.CRH())&&(B.headerElement=J.first)}},features:[t.qOj],decls:19,vars:17,consts:[["header",""],["subscriptSizing","dynamic",1,"profile-selector"],[3,"formControl"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"settings-icon",3,"routerLink","matTooltip"],[3,"email",4,"ngIf"],[3,"email"],[3,"value"],["class","profile-select-avatar",3,"email",4,"ngIf"],[1,"profile-select-avatar",3,"email"]],template:function(p,B){1&p&&(t.TgZ(0,"header",null,0),t._UZ(2,"app-repository-tabs-view"),t.TgZ(3,"mat-form-field",1)(4,"mat-label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"mat-select",2)(8,"mat-select-trigger"),t.YNc(9,Ve,3,2,"span",3),t.ALo(10,"async"),t.qZA(),t.YNc(11,Ke,3,3,"mat-option",4),t.ALo(12,"keyvalue"),t.ALo(13,"async"),t.qZA()(),t.TgZ(14,"mat-icon",5),t.ALo(15,"translate"),t._uU(16,"settings"),t.qZA()(),t._UZ(17,"router-outlet")(18,"app-notification-tray-view")),2&p&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"Select Profile")),t.xp6(2),t.Q6J("formControl",B.selectedProfileControl),t.xp6(2),t.Q6J("ngIf",t.lcZ(10,8,B.selectedProfile)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(12,10,t.lcZ(13,12,B.profiles))),t.xp6(3),t.Q6J("routerLink",t.DdM(16,Je))("matTooltip",t.lcZ(15,14,"Settings")))},dependencies:[U.KE,U.hX,e.gD,e.$L,G.ey,l.sg,l.O5,u.JJ,u.oH,k.Hw,$.gM,kt.A,ke.G,Ue,D.lC,D.rH,l.Ov,l.Nd,Yt.X],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;height:50px;min-height:50px;border-bottom:1px solid transparent;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:1px}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]{flex:1 0 auto}header[_ngcontent-%COMP%]   app-repository-tabs-view[_ngcontent-%COMP%]     .mat-mdc-tab-nav-bar{border:none}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]{flex:0 0 200px;margin-right:12px;margin-top:8px;height:38px}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]   mat-select-trigger[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{height:15px;vertical-align:middle;font-size:0}header[_ngcontent-%COMP%]   .profile-selector[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding:7px 0;min-height:38px}header[_ngcontent-%COMP%]   .settings-icon[_ngcontent-%COMP%]{flex:0 0 auto;margin:12px;cursor:pointer}app-notification-tray-view[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:10px;margin-right:10px;margin-top:10px;z-index:1000}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#ffffff1f}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]{border-bottom-color:#0000001f}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#90a4ae}"],changeDetection:0})}}return(0,me.gn)([(0,At.Ph)(It.$.profiles)],I.prototype,"profiles",void 0),(0,me.gn)([(0,At.Ph)(It.$.selectedProfileId)],I.prototype,"selectedProfileId",void 0),(0,me.gn)([(0,At.Ph)(It.$.selectedProfile)],I.prototype,"selectedProfile",void 0),(0,me.gn)([(0,At.Ph)(xt.E.selectedRepositoryPath)],I.prototype,"selectedRepositoryPath",void 0),I})(),children:[{path:"blame",canActivate:[de],loadChildren:()=>i.e(181).then(i.bind(i,8181)).then(I=>I.BlameLayoutModule)},{path:"changelog",loadChildren:()=>i.e(369).then(i.bind(i,5369)).then(I=>I.ChangelogLayoutModule)},{path:"default",canActivate:[de],loadChildren:()=>Promise.all([i.e(84),i.e(450),i.e(44)]).then(i.bind(i,1044)).then(I=>I.DefaultLayoutModule)},{path:"open-repository",loadChildren:()=>Promise.all([i.e(84),i.e(795),i.e(552)]).then(i.bind(i,6552)).then(I=>I.OpenRepositoryLayoutModule)},{path:"pull-request/create/:type/:integrationId",canActivate:[de,_e],component:ge},{path:"pull-request/view/:type/:owner/:repo/:id",canActivate:[de,_e],component:Me},{path:"rebase",canActivate:[de],loadChildren:()=>Promise.all([i.e(450),i.e(283)]).then(i.bind(i,6283)).then(I=>I.RebaseLayoutModule)},{path:"search",canActivate:[de],loadChildren:()=>Promise.all([i.e(84),i.e(459)]).then(i.bind(i,5459)).then(I=>I.SearchLayoutModule)},{path:"",redirectTo:"default",pathMatch:"full"}]}];class Pe{static{this.\u0275fac=function(c){return new(c||Pe)}}static{this.\u0275mod=t.oAB({type:Pe})}static{this.\u0275inj=t.cJS({imports:[D.Bz.forChild(Qe),D.Bz]})}}class Oe{static{this.\u0275fac=function(c){return new(c||Oe)}}static{this.\u0275mod=t.oAB({type:Oe})}static{this.\u0275inj=t.cJS({imports:[d.ie,e.LD,j.I,x.X,S,et.Z,Pe]})}}},127:(wt,st,i)=>{i.d(st,{m:()=>x});var d=i(3779),e=i(4650),j=i(7016);class x{constructor(o){this.baseApi=o}getHighlightedFile(o,U,E,T){return this.baseApi.single(d.w.highlight.getHighlightedFile,o,U,E,T)}static{this.\u0275fac=function(U){return new(U||x)(e.LFG(j._))}}static{this.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"})}}},9418:(wt,st,i)=>{i.d(st,{c:()=>j});var d=i(3179),e=i(4650);class j{static{this.\u0275fac=function(o){return new(o||j)}}static{this.\u0275mod=e.oAB({type:j})}static{this.\u0275inj=e.cJS({imports:[d.I]})}}},7615:(wt,st,i)=>{i.d(st,{d:()=>K});var d=i(6421),e=i(2270),j=i(9418),x=i(4650);class K{getPatchPath(U){switch(U.status){case d.v.Added:case d.v.Untracked:return U.newFilePath;case d.v.Conflicted:case d.v.Modified:case d.v.Renamed:return U.oldFilePath===U.newFilePath?U.newFilePath:`${U.oldFilePath} --\x3e ${U.newFilePath}`;case d.v.Deleted:return U.oldFilePath;default:throw new e.hj(U.status)}}getPatchIcon(U){switch(U.status){case d.v.Added:case d.v.Untracked:return"add";case d.v.Conflicted:return"warning";case d.v.Modified:return"create";case d.v.Deleted:return"remove";case d.v.Renamed:return"swap_horiz";default:throw new e.hj(U.status)}}getPatchIconColorClass(U){switch(U.status){case d.v.Added:case d.v.Untracked:return"green";case d.v.Conflicted:case d.v.Modified:return"orange";case d.v.Deleted:return"red";case d.v.Renamed:return"blue";default:throw new e.hj(U.status)}}static{this.\u0275fac=function(E){return new(E||K)}}static{this.\u0275prov=x.Yz7({token:K,factory:K.\u0275fac,providedIn:j.c})}}},2259:(wt,st,i)=>{i.d(st,{A:()=>et});var d=i(9646),e=i(2843),j=i(262),x=i(3900),K=i(4004),o=i(2270),U=i(3825),E=i(2120),T=i(8523),_=i(4889),n=i(6966),w=i(1129),tt=i(4650),ot=i(9867),t=i(3058),S=i(2037);class et{constructor(u,s,h){this.store=u,this.repositoriesApi=s,this.stashApi=h,this.discardAllChanges=f=>this.store.dispatch(new w.z0(f,{name:"Discard",detail:(0,U.Iu)("All changes"),do:V=>{const A=this.store.selectSnapshot(n.E.openRepositoryIds);return this.stashApi.saveWorkingCopyState(f).pipe((0,j.K)(()=>(V(),(0,d.of)(""))),(0,x.w)(it=>this.repositoriesApi.discardAllChanges(f).pipe((0,j.K)(ct=>o.SO.matches(ct)?(0,e._)(()=>new E.ZR(ct)):(0,e._)(()=>ct)),(0,T.C)(ct=>{const ut=ct?.filter(W=>A.includes(W))??[];return this.store.dispatch([...ut.map(W=>new _.Vu(W,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(f,[_.nh.unstagedChanges,_.nh.submodules])]).pipe((0,K.U)(()=>[ut,it]))}))))},undo:([V,A])=>this.stashApi.restoreWorkingCopyState(f,A).pipe((0,T.C)(()=>this.store.dispatch([...V.map(it=>new _.Vu(it,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(f,[_.nh.unstagedChanges,_.nh.submodules])])))})),this.discardFiles=(f,V)=>this.store.dispatch(new w.z0(f,{name:"Discard",detail:V.map(A=>A.newFilePath??A.oldFilePath).join(", "),do:A=>{const it=this.store.selectSnapshot(n.E.openRepositoryIds);return this.stashApi.saveWorkingCopyState(f,V.map(ct=>ct.newFilePath??ct.oldFilePath).filter(E.$K)).pipe((0,j.K)(()=>(A(),(0,d.of)(""))),(0,x.w)(ct=>this.repositoriesApi.discardFiles(f,V).pipe((0,j.K)(ut=>o.SO.matches(ut)?(0,e._)(()=>new E.ZR(ut)):(0,e._)(()=>ut)),(0,T.C)(ut=>{const W=ut?.filter(Z=>it.includes(Z))??[];return this.store.dispatch([...W.map(Z=>new _.Vu(Z,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(f,[_.nh.unstagedChanges,_.nh.submodules])]).pipe((0,K.U)(()=>[W,ct]))}))))},undo:([A,it])=>this.stashApi.restoreWorkingCopyState(f,it).pipe((0,T.C)(()=>this.store.dispatch([...A.map(ct=>new _.Vu(ct,[_.nh.currentBranch,_.nh.currentBranchCommitId,_.nh.headCommitId])),new _.Vu(f,[_.nh.unstagedChanges,_.nh.submodules])])))})),this.discardFileLines=(f,V,A,it)=>this.store.dispatch(new w.z0(f,{name:"Discard lines",detail:(0,U.Iu)("In _name_",{name:A??V}),do:()=>this.repositoriesApi.discardFileLines(f,V,A,it).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageAllChanges=f=>this.store.dispatch(new w.z0(f,{name:"Stage",detail:(0,U.Iu)("All changes"),do:()=>this.repositoriesApi.getUnstagedChanges(f).pipe((0,x.w)(V=>this.repositoriesApi.stageAllChanges(f).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))),(0,T.C)(()=>(0,d.of)(V))))),undo:V=>this.repositoriesApi.unstageFiles(f,V).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageFiles=(f,V)=>this.store.dispatch(new w.z0(f,{name:"Stage",detail:V.map(A=>A.newFilePath??A.oldFilePath).join(", "),do:()=>this.repositoriesApi.stageFiles(f,V).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules])))),undo:()=>this.repositoriesApi.unstageFiles(f,V).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.stageFileLines=(f,V,A,it)=>this.store.dispatch(new w.z0(f,{name:"Stage lines",detail:(0,U.Iu)("In _name_",{name:A??V}),do:()=>this.repositoriesApi.stageFileLines(f,V,A,it).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageAllChanges=f=>this.store.dispatch(new w.z0(f,{name:"Unstage",detail:(0,U.Iu)("All changes"),do:()=>this.repositoriesApi.getStagedChanges(f).pipe((0,x.w)(V=>this.repositoriesApi.unstageAllChanges(f).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))),(0,T.C)(()=>(0,d.of)(V))))),undo:V=>this.repositoriesApi.stageFiles(f,V).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageFiles=(f,V)=>this.store.dispatch(new w.z0(f,{name:"Unstage",detail:V.map(A=>A.newFilePath??A.oldFilePath).join(", "),do:()=>this.repositoriesApi.unstageFiles(f,V).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules])))),undo:()=>this.repositoriesApi.stageFiles(f,V).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))})),this.unstageFileLines=(f,V,A,it)=>this.store.dispatch(new w.z0(f,{name:"Unstage lines",detail:(0,U.Iu)("In _name_",{name:A??V}),do:()=>this.repositoriesApi.unstageFileLines(f,V,A,it).pipe((0,T.C)(()=>this.store.dispatch(new _.Vu(f,[_.nh.stagedChanges,_.nh.unstagedChanges,_.nh.submodules]))))}))}static{this.\u0275fac=function(s){return new(s||et)(tt.LFG(ot.yh),tt.LFG(t.a),tt.LFG(S._))}}static{this.\u0275prov=tt.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"})}}},4516:(wt,st,i)=>{i.d(st,{T:()=>U});var d=i(4650),e=i(8926),j=i(9967);function x(E,T){if(1&E){const _=d.EpF();d.TgZ(0,"app-new-commit",3),d.NdJ("patchChanged",function(w){d.CHM(_);const tt=d.oxw(2);return d.KtG(tt.patchChanged.next(w))}),d.qZA()}}function K(E,T){if(1&E){const _=d.EpF();d.TgZ(0,"app-commit",4),d.NdJ("patchChanged",function(w){d.CHM(_);const tt=d.oxw(2);return d.KtG(tt.patchChanged.next(w))}),d.qZA()}if(2&E){const _=d.oxw(2);d.Q6J("commit",_.commit)("selectedFile",_.selectedFile)}}function o(E,T){if(1&E&&(d.ynx(0),d.YNc(1,x,1,0,"app-new-commit",1),d.YNc(2,K,1,2,"app-commit",2),d.BQk()),2&E){const _=T.ngIf;d.xp6(1),d.Q6J("ngIf","head"===_),d.xp6(1),d.Q6J("ngIf","head"!==_)}}class U extends((0,e.j)(j.A)){constructor(){super(...arguments),this.patchChanged=new d.vpe}static{this.\u0275fac=function(){let T;return function(n){return(T||(T=d.n5z(U)))(n||U)}}()}static{this.\u0275cmp=d.Xpm({type:U,selectors:[["app-commit-detail-view"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[d.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"patchChanged",4,"ngIf"],[3,"commit","selectedFile","patchChanged",4,"ngIf"],[3,"patchChanged"],[3,"commit","selectedFile","patchChanged"]],template:function(_,n){1&_&&(d.YNc(0,o,3,2,"ng-container",0),d.ALo(1,"async")),2&_&&d.Q6J("ngIf",d.lcZ(1,1,n.commit))},encapsulation:2,changeDetection:0})}}},482:(wt,st,i)=>{i.d(st,{$:()=>se});var d=i(3546),e=i(6709),j=i(284),x=i(1572),K=i(3179),o=i(9418),U=i(6248),E=i(4516),T=i(655),_=i(4080),n=i(4650),w=i(9867),tt=i(5698),ot=i(2722),t=i(8926),S=i(9967),et=i(8310),D=i(4889),u=i(6966),s=i(9615),h=i(2367),f=i(7615),V=i(6895),A=i(7392),it=i(266),ct=i(3051),ut=i(2960),W=i(8329),Z=i(4442);function bt(gt,Bt){if(1&gt){const b=n.EpF();n.TgZ(0,"li",19),n.NdJ("click",function(){const Ct=n.CHM(b).$implicit,Et=n.oxw(4);return n.KtG(Et.changeCommit(Ct))}),n._uU(1),n.qZA()}if(2&gt){const b=Bt.$implicit,Y=Bt.first;n.Q6J("matTooltip",b),n.xp6(1),n.AsE("",Y?"":", ","",b,"")}}function ft(gt,Bt){if(1&gt&&(n.TgZ(0,"div",16)(1,"span",4),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div",17)(5,"ul"),n.YNc(6,bt,2,3,"li",18),n.qZA()()()),2&gt){const b=n.oxw(2).ngIf;n.ekj("plural",b.parentIds.length>1),n.xp6(2),n.hij("",n.lcZ(3,4,1===b.parentIds.length?"Parent:":"Parents:")," "),n.xp6(4),n.Q6J("ngForOf",b.parentIds)}}function mt(gt,Bt){if(1&gt&&(n.TgZ(0,"div",20),n._uU(1),n.ALo(2,"translate"),n._UZ(3,"app-avatar",9),n.ALo(4,"async"),n.TgZ(5,"span",10),n._uU(6),n.qZA()()),2&gt){const b=n.oxw(2).ngIf,Y=n.oxw();n.Q6J("matTooltip",b.committerName+" ("+b.committerEmail+")"),n.xp6(1),n.hij(" ",n.lcZ(2,5,"committed by")," "),n.xp6(2),n.Q6J("remotes",n.lcZ(4,7,Y.remotes))("email",b.committerEmail),n.xp6(3),n.Oqu(b.committerName)}}function nt(gt,Bt){if(1&gt){const b=n.EpF();n.TgZ(0,"div",21)(1,"div",22),n._uU(2),n.qZA(),n.TgZ(3,"button",23),n.NdJ("click",function(){const Ct=n.CHM(b).data,Et=n.oxw(3);return n.KtG(Et.copyToClipboard(Et.getPatchPath(Ct)))}),n.TgZ(4,"mat-icon"),n._uU(5,"content_copy"),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"translate"),n.qZA()(),n.TgZ(9,"button",24),n.NdJ("click",function(){const Ct=n.CHM(b).data,Et=n.oxw(3);return n.KtG(Et.blamePatch(Ct))}),n.TgZ(10,"mat-icon"),n._uU(11,"document_scanner"),n.qZA(),n.TgZ(12,"span"),n._uU(13),n.ALo(14,"translate"),n.qZA()()()}if(2&gt){const b=Bt.data,Y=n.oxw(3);let G;n.xp6(1),n.Q6J("matTooltip",null!==(G=Y.getPatchPath(b))&&void 0!==G?G:""),n.xp6(1),n.Oqu(Y.getPatchFilename(b)),n.xp6(5),n.Oqu(n.lcZ(8,4,"Copy Path")),n.xp6(6),n.Oqu(n.lcZ(14,6,"Blame"))}}function at(gt,Bt){if(1&gt){const b=n.EpF();n.TgZ(0,"div",2)(1,"header")(2,"div",3),n.NdJ("click",function(){n.CHM(b);const G=n.oxw().ngIf,Ct=n.oxw();return n.KtG(Ct.copyToClipboard(G.id))}),n.TgZ(3,"span",4),n._uU(4),n.ALo(5,"translate"),n.qZA(),n._uU(6),n.qZA(),n.YNc(7,ft,7,6,"div",5),n.qZA(),n.TgZ(8,"mat-card",6)(9,"div",7),n._uU(10),n.qZA(),n.TgZ(11,"div",8),n._uU(12),n.ALo(13,"translate"),n._UZ(14,"app-avatar",9),n.ALo(15,"async"),n.TgZ(16,"span",10),n._uU(17),n.qZA(),n._UZ(18,"br"),n.qZA(),n.YNc(19,mt,7,9,"div",11),n.TgZ(20,"div",12),n.ALo(21,"translateDate"),n._uU(22),n.ALo(23,"translate"),n.TgZ(24,"span",10),n._uU(25),n.ALo(26,"translateDate"),n.qZA(),n._uU(27),n.ALo(28,"translate"),n.TgZ(29,"span",10),n._uU(30),n.ALo(31,"translateDate"),n.qZA()()(),n.TgZ(32,"mat-card",13)(33,"app-patches-view",14),n.NdJ("selectedChanged",function(G){n.CHM(b);const Ct=n.oxw(2);return n.KtG(Ct.changeFile(G.oldFilePath,G.newFilePath))})("contextMenuOpened",function(G){n.CHM(b);const Ct=n.MAs(36),Et=n.oxw(2);return n.KtG(Et.openContextMenu(Ct,G[0],G[1]))}),n.ALo(34,"async"),n.qZA()(),n.YNc(35,nt,15,8,"ng-template",null,15,n.W1O),n.qZA()}if(2&gt){const b=n.oxw().ngIf,Y=n.oxw();n.xp6(2),n.Q6J("matTooltip",b.id),n.xp6(2),n.Oqu(n.lcZ(5,18,"Commit:")),n.xp6(2),n.hij(" ",b.id," "),n.xp6(1),n.Q6J("ngIf",b.parentIds.length),n.xp6(3),n.Oqu(b.message),n.xp6(1),n.Q6J("matTooltip",b.authorName+" ("+b.authorEmail+")"),n.xp6(1),n.hij(" ",n.lcZ(13,20,"authored by")," "),n.xp6(2),n.Q6J("remotes",n.lcZ(15,22,Y.remotes))("email",b.authorEmail),n.xp6(3),n.Oqu(b.authorName),n.xp6(2),n.Q6J("ngIf",b.committerName&&b.committerEmail&&(b.authorName!==b.committerName||b.authorEmail!==b.committerEmail)),n.xp6(1),n.Q6J("matTooltip",n.xi3(21,24,b.date,"z")||""),n.xp6(2),n.hij(" ",n.lcZ(23,27,"on !date!")," "),n.xp6(3),n.Oqu(n.xi3(26,29,b.date,"longDate")),n.xp6(2),n.hij(" ",n.lcZ(28,32,"at !time!")," "),n.xp6(3),n.Oqu(n.xi3(31,34,b.date,"HH:mm")),n.xp6(3),n.Q6J("patches",b.patches)("selected",n.lcZ(34,37,Y.selectedFile))}}function pt(gt,Bt){if(1&gt&&(n.ynx(0),n.YNc(1,at,37,39,"div",1),n.BQk()),2&gt){const b=Bt.ngIf;n.xp6(1),n.Q6J("ngIf",b&&"head"!==b)}}let dt=(()=>{class gt extends((0,t.j)(S.A)){constructor(b,Y,G,Ct,Et){super(),this.overlay=b,this.router=Y,this.viewContainerRef=G,this.store=Ct,this.commitDetailService=Et,this.patchChanged=new n.vpe,this.overlayRef=null}getPatchPath(b){return this.commitDetailService.getPatchPath(b)}getPatchFilename(b){const Y=this.commitDetailService.getPatchPath(b);return Y?Y.slice(Y.lastIndexOf("/")+1):null}copyToClipboard(b){navigator.clipboard.writeText(b??"").then(()=>{})}changeCommit(b){this.selectedRepositoryPath.pipe((0,tt.q)(1)).subscribe(Y=>{null!==Y&&(this.store.dispatch(new D.jQ(Y,b)),b&&this.store.dispatch(new D.BK(Y,b)))})}changeFile(b,Y){this.patchChanged.next({area:"commit",oldFilePath:b,newFilePath:Y})}blamePatch(b){this.commit.pipe((0,tt.q)(1)).subscribe(Y=>{this.router.navigate(["/standard/blame"],{queryParams:{area:"commit","commit-id":"head"===Y?"head":Y?.id,path:b.newFilePath}})})}openContextMenu(b,Y,G){G.preventDefault(),G.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:G.x,y:G.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new _.UE(b,this.viewContainerRef,{data:Y})),(0,et.t)(this.overlayRef).pipe((0,tt.q)(1),(0,ot.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(Y){return new(Y||gt)(n.Y36(s.aV),n.Y36(h.F0),n.Y36(n.s_b),n.Y36(w.yh),n.Y36(f.d))}}static{this.\u0275cmp=n.Xpm({type:gt,selectors:[["app-commit"]],inputs:{commit:"commit",selectedFile:"selectedFile"},outputs:{patchChanged:"patchChanged"},features:[n.qOj],decls:2,vars:3,consts:[[4,"ngIf"],["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"matTooltip","click"],[1,"title"],["class","parent-commits",3,"plural",4,"ngIf"],["appearance","outlined",1,"message"],[1,"content"],[1,"author",3,"matTooltip"],[3,"remotes","email"],[1,"highlight"],["class","committer",3,"matTooltip",4,"ngIf"],[1,"date",3,"matTooltip"],["appearance","outlined",1,"files"],[3,"patches","selected","selectedChanged","contextMenuOpened"],["fileContextMenu",""],[1,"parent-commits"],[1,"parent-commit-ids"],[3,"matTooltip","click",4,"ngFor","ngForOf"],[3,"matTooltip","click"],[1,"committer",3,"matTooltip"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],[1,"menu-item",3,"click"],["matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(Y,G){1&Y&&(n.YNc(0,pt,2,1,"ng-container",0),n.ALo(1,"async")),2&Y&&n.Q6J("ngIf",n.lcZ(1,1,G.commit))},dependencies:[d.a8,V.sg,V.O5,A.Hw,it.gM,ct.A,ut.i,V.Ov,W.v,Z.X],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;column-gap:10px;padding:0 10px;flex:0 0 auto;overflow-x:hidden;overflow-y:auto;font-weight:600}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 113px;min-width:113px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 106px;min-width:106px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]{flex-basis:163px;min-width:163px}header[_ngcontent-%COMP%]   .parent-commits.plural[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{width:calc(100% - 63px)}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}.message[_ngcontent-%COMP%]{flex:1 10 auto;margin:10px 10px 0;padding:16px;min-height:180px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:18px;overflow-wrap:anywhere}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:22px;height:22px;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:16px}.files[_ngcontent-%COMP%]{flex:10 1 auto;min-height:290px;margin:10px 10px 0;padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.dark-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.light-theme[_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000000de}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#0000008a}.light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#000000de}"],changeDetection:0})}}return(0,T.gn)([(0,w.Ph)(u.E.selectedRemotes)],gt.prototype,"remotes",void 0),(0,T.gn)([(0,w.Ph)(u.E.selectedRepositoryPath)],gt.prototype,"selectedRepositoryPath",void 0),gt})();var Tt=i(4883),xt=i(4006),It=i(1135),At=i(9841),Dt=i(6451),Mt=i(4004),P=i(8372),m=i(8675),l=i(8746),g=i(6421),k=i(2771),$=i(3825),H=i(5938),rt=i(4924),M=i(6719),N=i(2259),Pt=i(9549),kt=i(9349),Ft=i(4859),Qt=i(744);function $t(gt,Bt){if(1&gt){const b=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(){n.CHM(b);const G=n.oxw(2);return n.KtG(G.stage())}),n.ALo(1,"translate"),n.ALo(2,"nullEmpty"),n.ALo(3,"async"),n._UZ(4,"mat-icon",17),n.ALo(5,"nullEmpty"),n.ALo(6,"async"),n.qZA()}if(2&gt){const b=n.oxw(2);n.Q6J("matTooltip",n.lcZ(1,2,n.lcZ(2,4,n.lcZ(3,6,b.checkedUnstaged))?"Stage selected changes":"Stage all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(5,8,n.lcZ(6,10,b.checkedUnstaged))?"tray-plus":"tray-arrow-down")}}function zt(gt,Bt){1&gt&&(n.TgZ(0,"div",20),n.ALo(1,"translate"),n.TgZ(2,"button",21)(3,"mat-icon"),n._uU(4,"warning"),n.qZA()()()),2&gt&&n.Q6J("matTooltip",n.lcZ(1,1,"Cannot stage conflicted files, resolve the conflicts first"))}function Ut(gt,Bt){if(1&gt){const b=n.EpF();n.TgZ(0,"mat-card",10)(1,"div",11)(2,"button",12),n.NdJ("click",function(){n.CHM(b);const G=n.oxw();return n.KtG(G.clickAllUnstagedCheckbox())}),n.ALo(3,"translate"),n.ALo(4,"async"),n.TgZ(5,"mat-icon"),n._uU(6),n.ALo(7,"async"),n.qZA()(),n.TgZ(8,"div",13),n.YNc(9,$t,7,12,"button",14),n.ALo(10,"async"),n.YNc(11,zt,5,3,"div",15),n.ALo(12,"async"),n.TgZ(13,"button",16),n.NdJ("click",function(){n.CHM(b);const G=n.oxw();return n.KtG(G.discard())}),n.ALo(14,"translate"),n.ALo(15,"nullEmpty"),n.ALo(16,"async"),n._UZ(17,"mat-icon",17),n.ALo(18,"nullEmpty"),n.ALo(19,"async"),n.qZA()()(),n.TgZ(20,"app-patches-view",18),n.NdJ("checkedChanged",function(G){n.CHM(b);const Ct=n.oxw();return n.KtG(Ct.setPatchChecked("unstaged",G[0],G[1]))})("selectedChanged",function(G){n.CHM(b);const Ct=n.oxw();return n.KtG(Ct.selectFile("unstaged",G.oldFilePath,G.newFilePath))})("contextMenuOpened",function(G){n.CHM(b);const Ct=n.oxw(),Et=n.MAs(21);return n.KtG(Ct.openContextMenu("unstaged",Et,G[0],G[1]))}),n.ALo(21,"async"),n.qZA()()}if(2&gt){const b=Bt.ngIf,Y=n.oxw();n.xp6(2),n.Q6J("matTooltip",n.lcZ(3,9,"check_box_outline_blank"===n.lcZ(4,11,Y.allUnstagedCheckboxIcon)?"Select all":"Deselect all")),n.xp6(4),n.Oqu(n.lcZ(7,13,Y.allUnstagedCheckboxIcon)),n.xp6(3),n.Q6J("ngIf",!1===n.lcZ(10,15,Y.hasConflicts)),n.xp6(2),n.Q6J("ngIf",n.lcZ(12,17,Y.hasConflicts)),n.xp6(2),n.Q6J("matTooltip",n.lcZ(14,19,n.lcZ(15,21,n.lcZ(16,23,Y.checkedUnstaged))?"Discard selected changes":"Discard all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(18,25,n.lcZ(19,27,Y.checkedUnstaged))?"tray-remove":"tray"),n.xp6(3),n.Q6J("patches",b)("checked",Y.checkedUnstaged)("selected",n.lcZ(21,29,Y.selectedUnstagedFile))}}function Yt(gt,Bt){if(1&gt){const b=n.EpF();n.TgZ(0,"mat-card",22)(1,"div",11)(2,"button",12),n.NdJ("click",function(){n.CHM(b);const G=n.oxw();return n.KtG(G.clickAllStagedCheckbox())}),n.ALo(3,"translate"),n.ALo(4,"async"),n.TgZ(5,"mat-icon"),n._uU(6),n.ALo(7,"async"),n.qZA()(),n.TgZ(8,"div",13)(9,"button",23),n.NdJ("click",function(){n.CHM(b);const G=n.oxw();return n.KtG(G.unstage())}),n.ALo(10,"translate"),n.ALo(11,"nullEmpty"),n.ALo(12,"async"),n._UZ(13,"mat-icon",17),n.ALo(14,"nullEmpty"),n.ALo(15,"async"),n.qZA()()(),n.TgZ(16,"app-patches-view",18),n.NdJ("checkedChanged",function(G){n.CHM(b);const Ct=n.oxw();return n.KtG(Ct.setPatchChecked("staged",G[0],G[1]))})("selectedChanged",function(G){n.CHM(b);const Ct=n.oxw();return n.KtG(Ct.selectFile("staged",G.oldFilePath,G.newFilePath))})("contextMenuOpened",function(G){n.CHM(b);const Ct=n.oxw(),Et=n.MAs(21);return n.KtG(Ct.openContextMenu("staged",Et,G[0],G[1]))}),n.ALo(17,"async"),n.qZA()()}if(2&gt){const b=Bt.ngIf,Y=n.oxw();n.xp6(2),n.Q6J("matTooltip",n.lcZ(3,7,"check_box_outline_blank"===n.lcZ(4,9,Y.allStagedCheckboxIcon)?"Select all":"Deselect all")),n.xp6(4),n.Oqu(n.lcZ(7,11,Y.allStagedCheckboxIcon)),n.xp6(3),n.Q6J("matTooltip",n.lcZ(10,13,n.lcZ(11,15,n.lcZ(12,17,Y.checkedStaged))?"Unstage selected changes":"Unstage all changes")),n.xp6(4),n.Q6J("svgIcon",n.lcZ(14,19,n.lcZ(15,21,Y.checkedStaged))?"tray-minus":"tray-arrow-up"),n.xp6(3),n.Q6J("patches",b)("checked",Y.checkedStaged)("selected",n.lcZ(17,23,Y.selectedStagedFile))}}function te(gt,Bt){1&gt&&n._UZ(0,"mat-spinner",24)}function oe(gt,Bt){1&gt&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&gt&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"Commit changes")))}function he(gt,Bt){if(1&gt){const b=n.EpF();n.TgZ(0,"button",29),n.NdJ("click",function(){n.CHM(b);const G=n.oxw().data,Ct=n.oxw();return n.KtG(Ct.blamePatch(G.area,G.patch))}),n.TgZ(1,"mat-icon"),n._uU(2,"document_scanner"),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"translate"),n.qZA()()}2&gt&&(n.xp6(4),n.Oqu(n.lcZ(5,1,"Blame")))}function ue(gt,Bt){if(1&gt){const b=n.EpF();n.TgZ(0,"div",25)(1,"div",26),n._uU(2),n.qZA(),n.TgZ(3,"button",27),n.NdJ("click",function(){const Ct=n.CHM(b).data,Et=n.oxw();return n.KtG(Et.copyToClipboard(Et.getPatchPath(Ct.patch)))}),n.TgZ(4,"mat-icon"),n._uU(5,"content_copy"),n.qZA(),n.TgZ(6,"span"),n._uU(7),n.ALo(8,"translate"),n.qZA()(),n.YNc(9,he,6,3,"button",28),n.qZA()}if(2&gt){const b=Bt.data,Y=n.oxw();let G;n.xp6(1),n.Q6J("matTooltip",null!==(G=Y.getPatchPath(b.patch))&&void 0!==G?G:""),n.xp6(1),n.Oqu(Y.getPatchFilename(b.patch)),n.xp6(5),n.Oqu(n.lcZ(8,4,"Copy Path")),n.xp6(2),n.Q6J("ngIf",!Y.isPatchAdded(b.patch))}}let ae=(()=>{class gt extends((0,t.j)(S.A,k.P)){constructor(b,Y,G,Ct,Et,ee,ne){super(),this.overlay=b,this.router=Y,this.viewContainerRef=G,this.store=Ct,this.commitDetailService=Et,this.repositoryActionsService=ee,this.stagingActionsService=ne,this.patchChanged=new n.vpe,this.commitMessageControl=new xt.NI(null),this.commitButtonLoading=new It.X(!1),this.checkedStaged=new It.X([]),this.checkedUnstaged=new It.X([]),this.allStagedCheckboxIcon=new It.X("check_box_outline_blank"),this.allUnstagedCheckboxIcon=new It.X("check_box_outline_blank"),this.overlayRef=null,this.isPatchAdded=re=>re.status===g.v.Added}ngOnInit(){this.stagedChanges=this.allStagedChanges.pipe((0,Mt.U)(b=>b?.filter(Y=>Y.status!==g.v.Conflicted)??null)),this.selectedRepositoryCommitMessage.pipe((0,ot.R)(this.destroyed$)).subscribe(b=>{this.commitMessageControl.setValue(b,{emitEvent:!1})}),this.commitMessageControl.valueChanges.pipe((0,P.b)(200),(0,ot.R)(this.destroyed$)).subscribe(b=>{const Y=this.store.selectSnapshot(u.E.selectedRepositoryPath);Y&&this.store.dispatch(new D.$h(Y,b))}),this.commitButtonDisabled=(0,At.a)([this.commitButtonLoading,this.stagedChanges,(0,Dt.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,m.O)(this.commitMessageControl.value)))]).pipe((0,Mt.U)(([b,Y,G])=>b||!G||!Y||0===Y.length)),this.commitButtonTooltip=(0,At.a)([this.stagedChanges,(0,Dt.T)(this.selectedRepositoryCommitMessage,this.commitMessageControl.valueChanges.pipe((0,m.O)(this.commitMessageControl.value)))]).pipe((0,Mt.U)(([b,Y])=>Y?b&&0!==b.length?"":(0,$.Iu)("There must be staged changes to commit"):(0,$.Iu)("The commit message cannot be empty"))),this.hasConflicts=(0,At.a)([this.unstagedChanges,this.checkedUnstaged]).pipe((0,Mt.U)(([b,Y])=>Y.length>0&&Y.some(G=>G.status===g.v.Conflicted)||0===Y.length&&!!b&&b.some(G=>G.status===g.v.Conflicted)))}getPatchPath(b){return this.commitDetailService.getPatchPath(b)}getPatchFilename(b){const Y=this.commitDetailService.getPatchPath(b);return Y?Y.slice(Y.lastIndexOf("/")+1):null}selectFile(b,Y,G){this.patchChanged.next({area:b,oldFilePath:Y,newFilePath:G})}discard(){const b=this.store.selectSnapshot(u.E.selectedRepositoryPath);b&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.discardFiles(b,this.checkedUnstaged.value):this.stagingActionsService.discardAllChanges(b)).pipe((0,ot.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}stage(){const b=this.store.selectSnapshot(u.E.selectedRepositoryPath);b&&(this.checkedUnstaged.value.length>0?this.stagingActionsService.stageFiles(b,this.checkedUnstaged.value):this.stagingActionsService.stageAllChanges(b)).pipe((0,ot.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank")})}unstage(){const b=this.store.selectSnapshot(u.E.selectedRepositoryPath);b&&(this.checkedStaged.value.length>0?this.stagingActionsService.unstageFiles(b,this.checkedStaged.value):this.stagingActionsService.unstageAllChanges(b)).pipe((0,ot.R)(this.destroyed$)).subscribe(()=>{this.checkedStaged.next([]),this.checkedUnstaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank")})}setPatchChecked(b,Y,G){const Ct="staged"===b?this.checkedStaged.value:this.checkedUnstaged.value,Et=Ct.findIndex(re=>re.oldFilePath===Y.oldFilePath&&re.newFilePath===Y.newFilePath);Et>=0&&!G?Ct.splice(Et,1):Et<0&&G&&Ct.push(Y),"staged"===b?this.checkedStaged.next(Ct):this.checkedUnstaged.next(Ct);const ee="staged"===b?this.allStagedCheckboxIcon:this.allUnstagedCheckboxIcon;(this.store.selectSnapshot("staged"===b?u.E.selectedStagedChanges:u.E.selectedUnstagedChanges)?.length??0)===Ct.length?ee.next("check_box"):ee.next(0===Ct.length?"check_box_outline_blank":"indeterminate_check_box")}commitChanges(){const b=this.store.selectSnapshot(u.E.selectedRepositoryPath),Y=this.store.selectSnapshot(rt.$.selectedProfile),G=[];b||G.push((0,$.Iu)("Cannot commit if no repository is selected")),Y||G.push((0,$.Iu)("Cannot commit if no profile is selected"));const Ct=this.commitMessageControl.value;if(Ct||G.push((0,$.Iu)("Cannot commit with empty commit message")),G.length>0)return void this.store.dispatch(G.map(ne=>new H.hx("error",ne)));this.commitButtonLoading.next(!0);const Et=b;this.repositoryActionsService.createCommit(Et,Y,Ct??"").pipe((0,l.x)(()=>{this.commitButtonLoading.next(!1)})).subscribe(ne=>{this.store.dispatch(new D.BK(Et,ne))})}copyToClipboard(b){navigator.clipboard.writeText(b??"")}blamePatch(b,Y){this.router.navigate(["/standard/blame"],{queryParams:{area:b,"commit-id":"head",path:Y.newFilePath}})}clickAllStagedCheckbox(){switch(this.allStagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedStaged.next([]),this.allStagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const b=this.store.selectSnapshot(u.E.selectedStagedChanges);this.checkedStaged.next([...b??[]]),this.allStagedCheckboxIcon.next("check_box")}}clickAllUnstagedCheckbox(){switch(this.allUnstagedCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checkedUnstaged.next([]),this.allUnstagedCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":const b=this.store.selectSnapshot(u.E.selectedUnstagedChanges);this.checkedUnstaged.next([...b??[]]),this.allUnstagedCheckboxIcon.next("check_box")}}openContextMenu(b,Y,G,Ct){Ct.preventDefault(),Ct.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:Ct.x,y:Ct.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new _.UE(Y,this.viewContainerRef,{data:{area:b,patch:G}})),(0,et.t)(this.overlayRef).pipe((0,tt.q)(1),(0,ot.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}static{this.\u0275fac=function(Y){return new(Y||gt)(n.Y36(s.aV),n.Y36(h.F0),n.Y36(n.s_b),n.Y36(w.yh),n.Y36(f.d),n.Y36(M.$),n.Y36(N.A))}}static{this.\u0275cmp=n.Xpm({type:gt,selectors:[["app-new-commit"]],viewQuery:function(Y,G){if(1&Y&&n.Gf(Tt.N7,5),2&Y){let Ct;n.iGM(Ct=n.CRH())&&(G.viewports=Ct)}},outputs:{patchChanged:"patchChanged"},features:[n.qOj],decls:22,vars:27,consts:[["appearance","outlined","class","unstaged",4,"ngIf"],["appearance","outlined","class","staged",4,"ngIf"],["appearance","outlined",1,"commit"],[1,"description"],["matInput","","cdkTextareaAutosize","",3,"placeholder","formControl"],[1,"button-container",3,"matTooltip"],["mat-flat-button","","color","primary",1,"commit-btn",3,"disabled","click"],["diameter","24",4,"ngIf"],[4,"ngIf"],["fileContextMenu",""],["appearance","outlined",1,"unstaged"],[1,"header-buttons"],["type","button","mat-icon-button","",1,"checkbox-button","app-icon-button-md",3,"matTooltip","click"],[1,"buttons"],["type","button","mat-stroked-button","","class","stage-button",3,"matTooltip","click",4,"ngIf"],["class","conflicts-wrapper",3,"matTooltip",4,"ngIf"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"matTooltip","click"],[3,"svgIcon"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"],["type","button","mat-stroked-button","",1,"stage-button",3,"matTooltip","click"],[1,"conflicts-wrapper",3,"matTooltip"],["type","button","mat-stroked-button","","disabled","",1,"stage-button","has-conflicts"],["appearance","outlined",1,"staged"],["type","button","mat-stroked-button","",1,"unstage-button",3,"matTooltip","click"],["diameter","24"],[1,"menu-panel"],[1,"menu-header",3,"matTooltip"],["type","button",1,"menu-item",3,"click"],["type","button","class","menu-item","matTooltip","Show file history",3,"click",4,"ngIf"],["type","button","matTooltip","Show file history",1,"menu-item",3,"click"]],template:function(Y,G){1&Y&&(n.YNc(0,Ut,22,31,"mat-card",0),n.ALo(1,"nullEmpty"),n.ALo(2,"async"),n.YNc(3,Yt,18,25,"mat-card",1),n.ALo(4,"async"),n.TgZ(5,"mat-card",2)(6,"mat-form-field",3)(7,"mat-label"),n._uU(8),n.ALo(9,"translate"),n.qZA(),n._UZ(10,"textarea",4),n.ALo(11,"translate"),n.qZA(),n.TgZ(12,"div",5),n.ALo(13,"async"),n.TgZ(14,"button",6),n.NdJ("click",function(){return G.commitChanges()}),n.ALo(15,"async"),n.YNc(16,te,1,0,"mat-spinner",7),n.ALo(17,"async"),n.YNc(18,oe,3,3,"span",8),n.ALo(19,"async"),n.qZA()()(),n.YNc(20,ue,10,6,"ng-template",null,9,n.W1O)),2&Y&&(n.Q6J("ngIf",n.lcZ(1,9,n.lcZ(2,11,G.unstagedChanges))),n.xp6(3),n.Q6J("ngIf",n.lcZ(4,13,G.stagedChanges)),n.xp6(5),n.Oqu(n.lcZ(9,15,"Commit Message")),n.xp6(2),n.s9C("placeholder",n.lcZ(11,17,"Enter a description...")),n.Q6J("formControl",G.commitMessageControl),n.xp6(2),n.Q6J("matTooltip",n.lcZ(13,19,G.commitButtonTooltip)||""),n.xp6(2),n.Q6J("disabled",n.lcZ(15,21,G.commitButtonDisabled)),n.xp6(2),n.Q6J("ngIf",n.lcZ(17,23,G.commitButtonLoading)),n.xp6(2),n.Q6J("ngIf",!1===n.lcZ(19,25,G.commitButtonLoading)))},dependencies:[d.a8,j.Nt,Pt.KE,Pt.hX,kt.IC,x.Ou,V.O5,xt.Fj,xt.JJ,xt.oH,Ft.lW,Ft.RK,A.Hw,it.gM,ut.i,V.Ov,Qt.x,Z.X],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:stretch;max-height:100%;gap:10px}.staged[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]{flex-shrink:1;margin:0 10px;padding:16px;white-space:nowrap;overflow:auto;min-height:160px;display:flex;flex-direction:column;gap:10px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{flex:0 0 auto;position:relative}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:space-between;min-height:40px;margin-left:32px}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .conflicts-wrapper[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{flex:1 1 calc(50% - 16px)}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{cursor:default}.staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-12px}.commit[_ngcontent-%COMP%]{flex-shrink:1;margin:0 10px;padding:16px;overflow:auto;display:flex;flex-direction:column;min-height:164px}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:100%}.commit[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:34px}.commit[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:0 0 auto}.commit[_ngcontent-%COMP%]   .commit-btn[_ngcontent-%COMP%]{width:100%}.dark-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#cb8837}.light-theme[_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .staged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .unstaged[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button.has-conflicts[_ngcontent-%COMP%]{color:#d8a669}"],changeDetection:0})}}return(0,T.gn)([(0,w.Ph)(u.E.selectedRepositoryPath)],gt.prototype,"repositoryPath",void 0),(0,T.gn)([(0,w.Ph)(u.E.selectedStagedChanges)],gt.prototype,"allStagedChanges",void 0),(0,T.gn)([(0,w.Ph)(u.E.selectedUnstagedChanges)],gt.prototype,"unstagedChanges",void 0),(0,T.gn)([(0,w.Ph)(u.E.selectedFileForArea("staged"))],gt.prototype,"selectedStagedFile",void 0),(0,T.gn)([(0,w.Ph)(u.E.selectedFileForArea("unstaged"))],gt.prototype,"selectedUnstagedFile",void 0),(0,T.gn)([(0,w.Ph)(u.E.selectedRepositoryCommitMessage)],gt.prototype,"selectedRepositoryCommitMessage",void 0),(0,T.gn)([(0,w.Ph)(rt.$.selectedProfile)],gt.prototype,"selectedProfile",void 0),(0,T.gn)([(0,w.Ph)(rt.$.profiles)],gt.prototype,"profiles",void 0),gt})();class se{static{this.\u0275fac=function(b){return new(b||se)}}static{this.\u0275mod=n.oAB({type:se})}static{this.\u0275inj=n.cJS({imports:[d.QW,e.p9,j.c,x.Cq,K.I,o.c,U.Z]})}}n.B6R(E.T,[V.O5,dt,ae],[V.Ov])},5410:(wt,st,i)=>{i.d(st,{s:()=>Mt});var d=i(655),e=i(4650),j=i(9867),x=i(7717),K=i(1135),o=i(9841),U=i(4128),E=i(9646),T=i(2843),_=i(4004),n=i(1884),w=i(8505),tt=i(3900),ot=i(2722),t=i(5684),S=i(9300),et=i(262),D=i(5698),u=i(2270),s=i(8926),h=i(9967),f=i(6966),V=i(9578),A=i(4924),it=i(127),ct=i(7205),ut=i(2259);function W(P,m){if(1&P&&(e._UZ(0,"app-condensed-path",14),e.ALo(1,"async")),2&P){const l=e.oxw(2);e.Q6J("path",e.lcZ(1,1,l.filePath))}}function Z(P,m){if(1&P){const l=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(l);const k=e.oxw(2);return e.KtG(k.modifyLinesStage("stage"))}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",16),e.qZA()}2&P&&e.Q6J("matTooltip",e.lcZ(1,1,"Stage selected lines"))}function bt(P,m){if(1&P){const l=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(l);const k=e.oxw(2);return e.KtG(k.modifyLinesStage("discard"))}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",18),e.qZA()}2&P&&e.Q6J("matTooltip",e.lcZ(1,1,"Discard selected lines"))}function ft(P,m){if(1&P){const l=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(l);const k=e.oxw(2);return e.KtG(k.modifyLinesStage("unstage"))}),e.ALo(1,"translate"),e._UZ(2,"mat-icon",20),e.qZA()}2&P&&e.Q6J("matTooltip",e.lcZ(1,1,"Unstage selected lines"))}function mt(P,m){if(1&P){const l=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(l);const k=e.oxw(2);return e.KtG(k.edited.next())}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA()()}}function nt(P,m){if(1&P){const l=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(l);const k=e.oxw(2);return e.KtG(k.closed.next())}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function at(P,m){1&P&&(e.TgZ(0,"main"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&P&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Loading...")))}function pt(P,m){1&P&&(e.TgZ(0,"main"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&P&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Cannot load binary file.")))}function dt(P,m){1&P&&(e.TgZ(0,"main"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&P&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Cannot load file.")))}function Tt(P,m){if(1&P&&e._UZ(0,"app-hunk-view",24),2&P){const l=e.oxw(3);e.Q6J("diffLines",l.diffLines)("search",l.search$)}}function xt(P,m){if(1&P&&e._UZ(0,"app-inline-view",24),2&P){const l=e.oxw(3);e.Q6J("diffLines",l.diffLines)("search",l.search$)}}function It(P,m){if(1&P&&e._UZ(0,"app-split-view",24),2&P){const l=e.oxw(3);e.Q6J("diffLines",l.diffLines)("search",l.search$)}}function At(P,m){if(1&P&&(e.TgZ(0,"main"),e.YNc(1,Tt,1,2,"app-hunk-view",23),e.YNc(2,xt,1,2,"app-inline-view",23),e.YNc(3,It,1,2,"app-split-view",23),e.qZA()),2&P){const l=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf","hunk"===l),e.xp6(1),e.Q6J("ngIf","inline"===l),e.xp6(1),e.Q6J("ngIf","split"===l)}}function Dt(P,m){if(1&P){const l=e.EpF();e.ynx(0),e.TgZ(1,"header")(2,"app-find-control",1),e.NdJ("searched",function(k){e.CHM(l);const $=e.oxw();return e.KtG($.search$.next(k))}),e.qZA(),e.YNc(3,W,2,3,"app-condensed-path",2),e.ALo(4,"async"),e.ALo(5,"async"),e.TgZ(6,"div",3),e.YNc(7,Z,3,3,"button",4),e.ALo(8,"async"),e.YNc(9,bt,3,3,"button",5),e.ALo(10,"async"),e.YNc(11,ft,3,3,"button",6),e.ALo(12,"async"),e.TgZ(13,"mat-button-toggle-group",7),e.NdJ("change",function(k){e.CHM(l);const $=e.oxw();return e.KtG($.changeView(k.value))}),e.TgZ(14,"mat-button-toggle",8),e.ALo(15,"translate"),e.TgZ(16,"mat-icon"),e._uU(17,"calendar_view_day"),e.qZA()(),e.TgZ(18,"mat-button-toggle",9),e.ALo(19,"translate"),e.TgZ(20,"mat-icon"),e._uU(21,"view_headline"),e.qZA()(),e.TgZ(22,"mat-button-toggle",10),e.ALo(23,"translate"),e.TgZ(24,"mat-icon"),e._uU(25,"vertical_split"),e.qZA()()(),e.TgZ(26,"div",11),e.YNc(27,mt,3,0,"button",12),e.YNc(28,nt,3,0,"button",13),e.qZA()()(),e.YNc(29,at,3,3,"main",0),e.ALo(30,"async"),e.YNc(31,pt,3,3,"main",0),e.ALo(32,"async"),e.YNc(33,dt,3,3,"main",0),e.ALo(34,"async"),e.YNc(35,At,4,3,"main",0),e.ALo(36,"async"),e.BQk()}if(2&P){const l=m.ngIf,g=e.oxw();e.xp6(2),e.Q6J("initial",g.search),e.xp6(1),e.Q6J("ngIf",!(e.lcZ(4,15,g.showStage)||e.lcZ(5,17,g.showUnstage))),e.xp6(4),e.Q6J("ngIf",e.lcZ(8,19,g.showStage)),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,21,g.showStage)),e.xp6(2),e.Q6J("ngIf",e.lcZ(12,23,g.showUnstage)),e.xp6(2),e.Q6J("value",l),e.xp6(1),e.Q6J("matTooltip",e.lcZ(15,25,"Hunk View")),e.xp6(4),e.Q6J("matTooltip",e.lcZ(19,27,"Inline View")),e.xp6(4),e.Q6J("matTooltip",e.lcZ(23,29,"Split View")),e.xp6(5),e.Q6J("ngIf",g.showEdit),e.xp6(1),e.Q6J("ngIf",!g.hideClose),e.xp6(1),e.Q6J("ngIf","loading"===e.lcZ(30,31,g.currentView)),e.xp6(2),e.Q6J("ngIf","binary-file"===e.lcZ(32,33,g.currentView)),e.xp6(2),e.Q6J("ngIf","error"===e.lcZ(34,35,g.currentView)),e.xp6(2),e.Q6J("ngIf","normal"===e.lcZ(36,37,g.currentView))}}let Mt=(()=>{class P extends((0,s.j)(h.A)){constructor(l,g,k,$){super(),this.store=l,this.highlightApi=g,this.diffSelectionService=k,this.stagingActionsService=$,this.hideClose=!1,this.showEdit=!1,this.search=null,this.closed=new e.vpe,this.edited=new e.vpe,this.currentView=new K.X("loading"),this.diffLines=new K.X(null),this.search$=new K.X(null)}ngOnInit(){this.showStage=(0,o.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,_.U)(([l,g,k])=>"head"===g&&!0===l?.isUnstaged&&!l.patch.newFileIsSubmodule&&!l.patch.oldFileIsSubmodule&&k.length>0)),this.showUnstage=(0,o.a)([this.patch,this.selectedCommitId,this.diffSelectionService.selectedFileLines]).pipe((0,_.U)(([l,g,k])=>"head"===g&&!1===l?.isUnstaged&&!l.patch.newFileIsSubmodule&&!l.patch.oldFileIsSubmodule&&k.length>0)),this.filePath=this.patch.pipe((0,_.U)(l=>l?.patch.newFilePath??l?.patch.oldFilePath??"")),this.patch.pipe((0,n.x)((l,g)=>l&&g?!(l.repositoryPath!==g.repositoryPath||l.isUnstaged!==g.isUnstaged||l.patch.newFileId!==g.patch.newFileId||l.patch.newFileIsDir!==g.patch.newFileIsDir||l.patch.newFileIsSubmodule!==g.patch.newFileIsSubmodule||l.patch.newFilePath!==g.patch.newFilePath||l.patch.oldFileId!==g.patch.oldFileId||l.patch.oldFileIsDir!==g.patch.oldFileIsDir||l.patch.oldFileIsSubmodule!==g.patch.oldFileIsSubmodule||l.patch.oldFilePath!==g.patch.oldFilePath||l.patch.status!==g.patch.status||l.patch.hunks.length!==g.patch.hunks.length||(0,x.Z)(l.patch.hunks,g.patch.hunks).some(([k,$])=>k?.lines.length!==$?.lines.length||k?.newStart!==$?.newStart||k?.oldStart!==$?.oldStart||k?.header!==$?.header||k&&$&&(0,x.Z)(k.lines,$.lines).some(([H,rt])=>H?.content.length!==rt?.content.length||H?.newLineNo!==rt?.newLineNo||H?.oldLineNo!==rt?.oldLineNo||H?.origin!==rt?.origin||H?.content!==rt?.content))):!l&&!g),(0,w.b)(()=>{this.currentView.next("loading")}),(0,tt.w)(l=>l?(0,U.D)(this.getLines(l,!1)).pipe((0,ot.R)(this.currentView.pipe((0,t.T)(1),(0,S.h)(g=>"loading"===g))),(0,ot.R)(this.destroyed$),(0,_.U)(([g,k])=>[l,g,k]),(0,et.K)(g=>u.OZ.matches(g)?(this.currentView.next("binary-file"),(0,E.of)(null)):u.hK.matches(g)?(this.currentView.next("error"),(0,E.of)(null)):(0,T._)(()=>g))):(0,E.of)(null)),(0,w.b)(l=>{if(l){const[g,k,$]=l;this.diffLines.next({hunks:g.patch.hunks,oldLines:k,newLines:$,oldFilePath:g.patch.oldFilePath,newFilePath:g.patch.newFilePath,highlighted:!1}),this.currentView.next("normal")}else this.diffLines.next(null)}),(0,tt.w)(l=>l?.[0]?(0,U.D)(this.getLines(l?.[0],!0)).pipe((0,ot.R)(this.currentView.pipe((0,t.T)(1),(0,S.h)(g=>"loading"===g))),(0,ot.R)(this.destroyed$),(0,_.U)(([g,k])=>[l?.[0],g,k]),(0,et.K)(g=>u.OZ.matches(g)?(this.currentView.next("binary-file"),(0,E.of)(null)):u.hK.matches(g)?(this.currentView.next("error"),(0,E.of)(null)):(0,T._)(()=>g))):(0,E.of)(null)),(0,ot.R)(this.destroyed$)).subscribe(l=>{if(l){const[g,k,$]=l;this.diffLines.next({hunks:g.patch.hunks,oldLines:k,newLines:$,oldFilePath:g.patch.oldFilePath,newFilePath:g.patch.newFilePath,highlighted:!0}),this.currentView.next("normal")}else this.diffLines.next(null)})}changeView(l){this.store.dispatch(new V.zb(l))}modifyLinesStage(l){const g=this.store.selectSnapshot(f.E.selectedRepositoryPath);if(!g)throw new u.uX;this.patch.pipe((0,D.q)(1)).subscribe(k=>{if(!k||!k.patch.oldFilePath)return;const $=[g,k.patch.oldFileId?k.patch.oldFilePath:null,k.patch.newFileId?k.patch.newFilePath:null,this.diffSelectionService.selectedFileLines.value];switch(l){case"discard":this.stagingActionsService.discardFileLines(...$).subscribe();break;case"stage":this.stagingActionsService.stageFileLines(...$).subscribe();break;default:this.stagingActionsService.unstageFileLines(...$).subscribe()}})}getLines(l,g){if(l.patch.oldFileIsSubmodule||l.patch.newFileIsSubmodule){if(l.patch.hunks.length<=0)return[(0,E.of)([]),(0,E.of)([])];const k=l.patch.hunks[0]?.lines.find(H=>H.oldLineNo>0),$=l.patch.hunks[0]?.lines.find(H=>H.newLineNo>0);return[(0,E.of)([{lineNumber:1,text:k?.content??"",tokens:[{startIndex:0,endIndex:k?.content.length??0,scopes:["normal"]}]}]),(0,E.of)([{lineNumber:1,text:$?.content??"",tokens:[{startIndex:0,endIndex:$?.content.length??0,scopes:["normal"]}]}])]}return[l.patch.oldFileId?this.highlightApi.getHighlightedFile(l.repositoryPath,l.patch.oldFileId,l.patch.oldFilePath,g):(0,E.of)([]),l.isUnstaged?this.highlightApi.getHighlightedFile(l.repositoryPath,null,l.patch.newFilePath,g):l.patch.newFileId?this.highlightApi.getHighlightedFile(l.repositoryPath,l.patch.newFileId,l.patch.newFilePath,g):(0,E.of)([])]}static{this.\u0275fac=function(g){return new(g||P)(e.Y36(j.yh),e.Y36(it.m),e.Y36(ct.Q),e.Y36(ut.A))}}static{this.\u0275cmp=e.Xpm({type:P,selectors:[["app-diff-view"]],inputs:{patch:"patch",hideClose:"hideClose",showEdit:"showEdit",search:"search"},outputs:{closed:"closed",edited:"edited"},features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"initial","searched"],[3,"path",4,"ngIf"],[1,"right"],["type","button","class","stage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],["type","button","class","discard-button","mat-stroked-button","","color","warn",3,"matTooltip","click",4,"ngIf"],["type","button","class","unstage-button","mat-stroked-button","",3,"matTooltip","click",4,"ngIf"],[3,"value","change"],["value","hunk",3,"matTooltip"],["value","inline",3,"matTooltip"],["value","split",3,"matTooltip"],[1,"close-container"],["type","button","mat-icon-button","","class","edit-button app-icon-button-md",3,"click",4,"ngIf"],["type","button","mat-icon-button","","class","close-button app-icon-button-md",3,"click",4,"ngIf"],[3,"path"],["type","button","mat-stroked-button","",1,"stage-button",3,"matTooltip","click"],["svgIcon","tray-plus"],["type","button","mat-stroked-button","","color","warn",1,"discard-button",3,"matTooltip","click"],["svgIcon","tray-remove"],["type","button","mat-stroked-button","",1,"unstage-button",3,"matTooltip","click"],["svgIcon","tray-minus"],["type","button","mat-icon-button","",1,"edit-button","app-icon-button-md",3,"click"],["type","button","mat-icon-button","",1,"close-button","app-icon-button-md",3,"click"],[3,"diffLines","search",4,"ngIf"],[3,"diffLines","search"]],template:function(g,k){1&g&&(e.YNc(0,Dt,37,39,"ng-container",0),e.ALo(1,"async")),2&g&&e.Q6J("ngIf",e.lcZ(1,1,k.view))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;position:absolute}header[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:baseline;justify-content:space-between;margin-bottom:5px;outline:none;overflow-x:auto;overflow-y:hidden}header[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}header[_ngcontent-%COMP%]   app-condensed-path[_ngcontent-%COMP%]{min-width:150px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:5px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .stage-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .discard-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .unstage-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;font-size:24px;width:24px;height:24px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:40px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:38px;padding:0 6px}header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]{display:flex;align-items:center;align-self:baseline;overflow:hidden;height:40px}main[_ngcontent-%COMP%]{flex:1 0 auto;outline:none;overflow-x:auto;overflow-y:auto}.dark-theme   [_nghost-%COMP%]{background:#1e1e1e}.light-theme   [_nghost-%COMP%]{background:#fafafa}"],changeDetection:0})}}return(0,d.gn)([(0,j.Ph)(f.E.selectedCommitId)],P.prototype,"selectedCommitId",void 0),(0,d.gn)([(0,j.Ph)(A.$.diffView)],P.prototype,"view",void 0),P})()},7072:(wt,st,i)=>{i.d(st,{m:()=>le});var d=i(811),e=i(284),j=i(3179),x=i(5410),K=i(4883),o=i(4650),U=i(1134),E=i(2382),T=i(9940);var w=i(1256),tt=i(8344),ot=i(5601);const S=function t(lt){var R=(0,ot.Z)(lt),C=R%1;return R==R?C?R-C:R:0},D=function et(lt,R,C){var y=null==lt?0:lt.length;return y?(R=C||void 0===R?1:S(R),(0,tt.Z)(lt,0,(R=y-R)<0?0:R)):[]},s=function u(lt,R,C){var y=null==lt?0:lt.length;return y?(R=C||void 0===R?1:S(R),(0,tt.Z)(lt,(R=y-R)<0?0:R,y)):[]};var h=i(1135),f=i(4004),V=i(8675),A=i(1520),it=i(4326),ct=i(2722),ut=i(2270),W=i(8926),Z=i(9967),bt=i(2771),ft=i(315),mt=i(7205),nt=i(6895),at=i(4859),pt=i(7392),dt=i(1899),Tt=i(1453);const xt=["scrollContainer"],It=["code"];function At(lt,R){if(1&lt&&o._UZ(0,"span",9),2&lt){const C=R.ngIf;o.Udp("left",C.left)("width",C.width)}}function Dt(lt,R){if(1&lt){const C=o.EpF();o.ynx(0),o.TgZ(1,"button",10),o.NdJ("click",function(){o.CHM(C);const F=o.oxw().$implicit,_t=o.oxw();return o.KtG(_t.expandSeparator(F))}),o.TgZ(2,"mat-icon",11),o._uU(3),o.qZA()(),o.TgZ(4,"span",12),o._uU(5),o.qZA(),o.BQk()}if(2&lt){const C=o.oxw(),y=C.first,F=C.last,_t=C.$implicit,vt=o.oxw();o.xp6(1),o.Udp("width",vt.lineNumberMargin+26,"px"),o.xp6(2),o.Oqu(y?"expand_less":F?"expand_more":"unfold_more"),o.xp6(2),o.Oqu(_t.separatorHeader)}}function Mt(lt,R){if(1&lt&&(o.TgZ(0,"span",17),o._uU(1),o.qZA()),2&lt){const C=R.$implicit;o.Q6J("ngClass",C.class),o.xp6(1),o.Oqu(C.text)}}function P(lt,R){if(1&lt&&(o.ynx(0),o.YNc(1,Mt,2,2,"span",16),o.ALo(2,"tokens"),o.ALo(3,"searchToken"),o.ALo(4,"async"),o.BQk()),2&lt){const C=R.ngIf,y=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",o.xi3(2,1,o.Dn7(3,4,C.tokens,C.text,o.lcZ(4,8,y.search)),C.text))}}function m(lt,R){if(1&lt&&(o.TgZ(0,"span",13),o._uU(1),o.qZA(),o.TgZ(2,"span",14),o._uU(3),o.qZA(),o.YNc(4,P,5,10,"ng-container",15)),2&lt){const C=o.oxw().$implicit,y=o.oxw();o.Udp("right","calc(100% + 26px + "+(y.lineNumberMargin/2).toString()+"px)")("width",y.lineNumberMargin/2-5,"px"),o.xp6(1),o.Oqu(null==C.diffLine.oldLine?null:C.diffLine.oldLine.lineNumber),o.xp6(1),o.Udp("width",y.lineNumberMargin/2-5,"px"),o.xp6(1),o.Oqu(null==C.diffLine.newLine?null:C.diffLine.newLine.lineNumber),o.xp6(1),o.Q6J("ngIf",y.getLineView(C.diffLine))}}function l(lt,R){if(1&lt&&(o.TgZ(0,"li",5),o.YNc(1,At,1,4,"span",6),o.ALo(2,"async"),o.YNc(3,Dt,6,4,"ng-container",7),o.YNc(4,m,5,9,"ng-template",null,8,o.W1O),o.qZA()),2&lt){const C=R.$implicit,y=R.index,F=o.MAs(5),_t=o.oxw();o.Q6J("ngClass","line-"+(C.isSeparator?"separator":C.diffLine.status)),o.xp6(1),o.Q6J("ngIf",o.lcZ(2,4,_t.getSelection(y))),o.xp6(2),o.Q6J("ngIf",C.isSeparator)("ngIfElse",F)}}class g extends((0,W.j)(Z.A,bt.P)){constructor(R,C){super(),this.diffService=R,this.diffSelectionService=C,this.lineNumberMargin=0,this.lines$=new h.X([]),this.currentPatch=null,this.getSelection=y=>this.diffSelectionService.selectedRange.pipe((0,f.U)(F=>{if(!F)return null;const[_t,vt]=F[0].line>F[1].line||F[0].line===F[1].line&&F[0].char>F[1].char?[F[1],F[0]]:F;return y<_t.line||y>vt.line?null:y===_t.line?{left:_t.char*this.diffSelectionService.charWidth+"px",width:_t.line===vt.line?(vt.char-_t.char)*this.diffSelectionService.charWidth+"px":"100%"}:y===vt.line?{left:"0px",width:vt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,V.O)(null),(0,A.G)(),(0,it.g)(0),(0,ct.R)(this.destroyed$)).subscribe(([C,y])=>{const F=this.currentPatch?{...this.currentPatch}:null;if(y){this.currentPatch={newFilePath:y.newFilePath,oldFilePath:y.oldFilePath};const _t=function _(lt){return lt&&lt.length?(0,U.Z)(lt,T.Z,E.Z):void 0}([y.oldLines.length,y.newLines.length])??0;this.lineNumberMargin=this.diffService.calculateMargin(_t.toString().length),this.diffService.calculateHunkLines(y.oldLines,y.newLines,y.hunks).pipe((0,ct.R)(this.destroyed$)).subscribe(vt=>{C&&C.newFilePath===y.newFilePath&&C.oldFilePath===y.oldFilePath&&!C.highlighted&&y.highlighted?this.updateLines(vt):this.lines$.next(vt),(!F||F.oldFilePath!==this.currentPatch?.oldFilePath||F.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),F&&this.scrollContainer.elementRef?.nativeElement?.scrollTo(0,0)});const R=this.scrollContainer.elementRef.nativeElement;this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(C,y)=>({line:Math.floor((R.scrollTop+y-R.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((R.scrollLeft+C-R.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(C,y)=>this.lines$.value.filter((F,_t)=>_t>=C&&_t<=y).map(F=>F.isSeparator?F.separatorHeader??void 0:this.getLineView(F.diffLine)?.text),()=>{const C=this.lines$.value,y=C[C.length-1];return{line:C.length-1,char:y?(y.isSeparator?y.separatorHeader:this.getLineView(y.diffLine)?.text)?.length??0:0}},([C,y])=>(0,w.Z)(C.line,y.line+1).flatMap(F=>{const _t=this.lines$.value[F];return!_t||_t.isSeparator?[]:[{oldLineNo:_t.diffLine.oldLine?.lineNumber??-1,newLineNo:_t.diffLine.newLine?.lineNumber??-1}]})).pipe((0,ct.R)(this.destroyed$)).subscribe()}expandSeparator(R){const y=this.lines$.value;this.lines$.next(y.flatMap((F,_t)=>{if(F!==R)return F;if(R.hiddenDiffLines.length<=25)return R.hiddenDiffLines.map(Ht=>({isSeparator:!1,diffLine:Ht}));if(0===_t)return[{isSeparator:!0,separatorHeader:R.separatorHeader,hiddenDiffLines:D(R.hiddenDiffLines,20)},...s(R.hiddenDiffLines,20).map(Ht=>({isSeparator:!1,diffLine:Ht}))];if(_t===y.length-1)return[...R.hiddenDiffLines.slice(0,20).map(Ht=>({isSeparator:!1,diffLine:Ht})),{isSeparator:!0,separatorHeader:null,hiddenDiffLines:R.hiddenDiffLines.slice(20)}];const vt=R.hiddenDiffLines.slice(0,10),Kt=D(R.hiddenDiffLines.slice(10),10),ie=s(R.hiddenDiffLines,10);return[...vt.map(Ht=>({isSeparator:!1,diffLine:Ht})),{isSeparator:!0,separatorHeader:R.separatorHeader,hiddenDiffLines:Kt},...ie.map(Ht=>({isSeparator:!1,diffLine:Ht}))]}))}getLineView(R){return"added"===R.status?R.newLine:"removed"===R.status?R.oldLine:"unchanged"===R.status?R.newLine??R.oldLine:null}trackByHunkLine(R,C){return C.isSeparator?C.separatorHeader:`${C.diffLine.oldLine?.text}:::${C.diffLine.newLine?.text}`}updateLines(R){const C=this.lines$.value;let y=0,F=0;const _t=[];for(;F<R.length;){const vt=C[y],Kt=R[F];if(!vt||!Kt)throw new ut.jc;if(Kt.isSeparator){if(vt.isSeparator){if(vt.hiddenDiffLines.length===Kt.hiddenDiffLines.length){_t.push(Kt),y++,F++;continue}_t.push({isSeparator:!0,separatorHeader:Kt.separatorHeader,hiddenDiffLines:Kt.hiddenDiffLines.slice(0,vt.hiddenDiffLines.length)}),Kt.hiddenDiffLines=Kt.hiddenDiffLines.slice(vt.hiddenDiffLines.length),y++;continue}const ie=Kt.hiddenDiffLines[0];if(!ie){F++;continue}_t.push({isSeparator:!1,diffLine:ie}),Kt.hiddenDiffLines=Kt.hiddenDiffLines.slice(1),y++}else{if(vt.isSeparator)throw new ut.jc;_t.push(Kt),y++,F++}}this.lines$.next(_t)}static{this.\u0275fac=function(C){return new(C||g)(o.Y36(ft.S),o.Y36(mt.Q))}}static{this.\u0275cmp=o.Xpm({type:g,selectors:[["app-hunk-view"]],viewQuery:function(C,y){if(1&C&&(o.Gf(xt,7),o.Gf(It,7,o.SBq),o.Gf(K.N7,5)),2&C){let F;o.iGM(F=o.CRH())&&(y.scrollContainer=F.first),o.iGM(F=o.CRH())&&(y.codeElement=F.first),o.iGM(F=o.CRH())&&(y.viewports=F)}},inputs:{diffLines:"diffLines",search:"search"},features:[o.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0",1,"vs-code-theme"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf","ngIfElse"],["diffLineContent",""],[1,"selection"],["mat-button","",1,"separator-icon",3,"click"],["inline",""],[1,"separator-header"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(C,y){1&C&&(o.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),o.YNc(5,l,6,6,"li",4),o.ALo(6,"async"),o.qZA()()()),2&C&&(o.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),o.xp6(4),o.Udp("margin-left",y.lineNumberMargin+26,"px"),o.xp6(1),o.Q6J("cdkVirtualForOf",o.lcZ(6,7,y.lines$))("cdkVirtualForTrackBy",y.trackByHunkLine))},dependencies:[K.xd,K.x0,K.N7,nt.mk,nt.sg,nt.O5,at.lW,pt.Hw,nt.Ov,dt.y,Tt.U],styles:['code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{right:100%}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{cursor:pointer;height:19px;line-height:19px;padding:0;text-align:center;min-width:0}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:100%;z-index:-1}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:19px}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#252525}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-separator[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before, .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]:before{background:#eeeeee}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .separator-icon[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}'],changeDetection:0})}}const k=["scrollContainer"],$=["code"];function H(lt,R){if(1&lt&&o._UZ(0,"span",10),2&lt){const C=R.ngIf;o.Udp("left",C.left)("width",C.width)}}function rt(lt,R){if(1&lt&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&lt){const C=R.$implicit;o.Q6J("ngClass",C.class),o.xp6(1),o.Oqu(C.text)}}function M(lt,R){if(1&lt&&(o.ynx(0),o.YNc(1,rt,2,2,"span",11),o.ALo(2,"tokens"),o.ALo(3,"searchToken"),o.ALo(4,"async"),o.BQk()),2&lt){const C=R.ngIf,y=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.xi3(2,1,o.Dn7(3,4,C.tokens,C.text,o.lcZ(4,8,y.search)),C.text))}}function N(lt,R){if(1&lt&&(o.TgZ(0,"li",5),o.YNc(1,H,1,4,"span",6),o.ALo(2,"async"),o.TgZ(3,"span",7),o._uU(4),o.qZA(),o.TgZ(5,"span",8),o._uU(6),o.qZA(),o.YNc(7,M,5,10,"ng-container",9),o.qZA()),2&lt){const C=R.$implicit,y=R.index,F=o.oxw();o.Q6J("ngClass","line-"+C.status),o.xp6(1),o.Q6J("ngIf",o.lcZ(2,11,F.getSelection(y))),o.xp6(2),o.Udp("right","calc(100% + 26px + "+(F.lineNumberMargin/2).toString()+"px)")("width",F.lineNumberMargin/2-5,"px"),o.xp6(1),o.Oqu(null==C.oldLine?null:C.oldLine.lineNumber),o.xp6(1),o.Udp("width",F.lineNumberMargin/2-5,"px"),o.xp6(1),o.Oqu(null==C.newLine?null:C.newLine.lineNumber),o.xp6(1),o.Q6J("ngIf",F.getLineView(C))}}class Pt extends((0,W.j)(Z.A,bt.P)){constructor(R,C){super(),this.diffService=R,this.diffSelectionService=C,this.lineNumberMargin=0,this.lines$=new h.X([]),this.currentPatch=null,this.getSelection=y=>this.diffSelectionService.selectedRange.pipe((0,f.U)(F=>{if(!F)return null;const[_t,vt]=F[0].line>F[1].line||F[0].line===F[1].line&&F[0].char>F[1].char?[F[1],F[0]]:F;return y<_t.line||y>vt.line?null:y===_t.line?{left:_t.char*this.diffSelectionService.charWidth+"px",width:_t.line===vt.line?(vt.char-_t.char)*this.diffSelectionService.charWidth+"px":"100%"}:y===vt.line?{left:"0px",width:vt.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,it.g)(0),(0,ct.R)(this.destroyed$)).subscribe(C=>{const y=this.currentPatch?{...this.currentPatch}:null;if(C){this.currentPatch={newFilePath:C.newFilePath,oldFilePath:C.oldFilePath};const F=Math.max(C.oldLines.length,C.newLines.length)??0;this.lineNumberMargin=this.diffService.calculateMargin(F.toString().length),this.diffService.calculateInlineLines(C.oldLines,C.newLines,C.hunks).pipe((0,ct.R)(this.destroyed$)).subscribe(_t=>{this.lines$.next(_t),(!y||y.oldFilePath!==this.currentPatch?.oldFilePath||y.newFilePath!==this.currentPatch?.newFilePath)&&this.scrollContainer.nativeElement?.scrollTo(0,0)})}else this.currentPatch=null,this.lineNumberMargin=0,this.lines$.next([]),y&&this.scrollContainer.nativeElement?.scrollTo(0,0)});const R=this.scrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.codeElement.nativeElement,(C,y)=>({line:Math.floor((R.scrollTop+y-R.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((R.scrollLeft+C-R.getBoundingClientRect().left-(this.lineNumberMargin+26))/this.diffSelectionService.charWidth))}),(C,y)=>this.lines$.value.filter((F,_t)=>_t>=C&&_t<=y).map(F=>this.getLineView(F)?.text),()=>{const C=this.lines$.value[this.lines$.value.length-1];return{line:this.lines$.value.length-1,char:C?this.getLineView(C)?.text.length??0:0}},([C,y])=>(0,w.Z)(C.line,y.line+1).map(F=>({oldLineNo:this.lines$.value[F]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[F]?.newLine?.lineNumber??-1}))).pipe((0,ct.R)(this.destroyed$)).subscribe()}getLineView(R){return"added"===R.status?R.newLine:"removed"===R.status?R.oldLine:"unchanged"===R.status?R.newLine??R.oldLine:null}trackByDiffLine(R,C){return R}static{this.\u0275fac=function(C){return new(C||Pt)(o.Y36(ft.S),o.Y36(mt.Q))}}static{this.\u0275cmp=o.Xpm({type:Pt,selectors:[["app-inline-view"]],viewQuery:function(C,y){if(1&C&&(o.Gf(k,7,o.SBq),o.Gf($,7,o.SBq),o.Gf(K.N7,5)),2&C){let F;o.iGM(F=o.CRH())&&(y.scrollContainer=F.first),o.iGM(F=o.CRH())&&(y.codeElement=F.first),o.iGM(F=o.CRH())&&(y.viewports=F)}},inputs:{diffLines:"diffLines",search:"search"},features:[o.qOj],decls:7,vars:9,consts:[[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["scrollContainer",""],["tabindex","0",1,"vs-code-theme"],["code",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[1,"old-line-number"],[1,"new-line-number"],[4,"ngIf"],[1,"selection"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(C,y){1&C&&(o.TgZ(0,"cdk-virtual-scroll-viewport",0,1)(2,"code",2,3)(4,"ul"),o.YNc(5,N,8,13,"li",4),o.ALo(6,"async"),o.qZA()()()),2&C&&(o.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),o.xp6(4),o.Udp("margin-left",y.lineNumberMargin+26,"px"),o.xp6(1),o.Q6J("cdkVirtualForOf",o.lcZ(6,7,y.lines$))("cdkVirtualForTrackBy",y.trackByDiffLine))},dependencies:[K.xd,K.x0,K.N7,nt.mk,nt.sg,nt.O5,nt.Ov,dt.y,Tt.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .old-line-number[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .new-line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}"],changeDetection:0})}}var kt=i(4968),Ft=i(1365),Qt=i(9300),$t=i(8505),zt=i(8372),Ut=i(7396),Yt=i(3943);const te=["leftScrollContainer"],oe=["rightScrollContainer"],he=["leftCode"],ue=["rightCode"];function ae(lt,R){if(1&lt&&o._UZ(0,"span",13),2&lt){const C=R.ngIf;o.Udp("left",C.left)("width",C.width)}}function se(lt,R){if(1&lt&&(o.TgZ(0,"span",16),o._uU(1),o.qZA()),2&lt){const C=R.$implicit;o.Q6J("ngClass",C.class),o.xp6(1),o.Oqu(C.text)}}function gt(lt,R){if(1&lt&&(o.ynx(0),o.TgZ(1,"span",14),o._uU(2),o.qZA(),o.YNc(3,se,2,2,"span",15),o.ALo(4,"tokens"),o.ALo(5,"searchToken"),o.ALo(6,"async"),o.BQk()),2&lt){const C=o.oxw().$implicit,y=o.oxw();o.xp6(2),o.Oqu(null==C.oldLine?null:C.oldLine.lineNumber),o.xp6(1),o.Q6J("ngForOf",o.xi3(4,2,o.Dn7(5,5,null==C.oldLine?null:C.oldLine.tokens,null==C.oldLine?null:C.oldLine.text,o.lcZ(6,9,y.search)),null==C.oldLine?null:C.oldLine.text))}}function Bt(lt,R){if(1&lt&&(o.TgZ(0,"li",10),o.YNc(1,ae,1,4,"span",11),o.ALo(2,"async"),o.YNc(3,gt,7,11,"ng-container",12),o.qZA()),2&lt){const C=R.$implicit,y=R.index,F=o.oxw();o.Q6J("ngClass","line-"+C.status),o.xp6(1),o.Q6J("ngIf",o.lcZ(2,3,F.getSelection(y,"left"))),o.xp6(2),o.Q6J("ngIf","added"!==C.status)}}function b(lt,R){if(1&lt&&o._UZ(0,"span",13),2&lt){const C=R.ngIf;o.Udp("left",C.left)("width",C.width)}}function Y(lt,R){if(1&lt&&(o.TgZ(0,"span",16),o._uU(1),o.qZA()),2&lt){const C=R.$implicit;o.Q6J("ngClass",C.class),o.xp6(1),o.Oqu(C.text)}}function G(lt,R){if(1&lt&&(o.ynx(0),o.TgZ(1,"span",14),o._uU(2),o.qZA(),o.YNc(3,Y,2,2,"span",15),o.ALo(4,"tokens"),o.ALo(5,"searchToken"),o.ALo(6,"async"),o.BQk()),2&lt){const C=o.oxw().$implicit,y=o.oxw();o.xp6(2),o.Oqu(null==C.newLine?null:C.newLine.lineNumber),o.xp6(1),o.Q6J("ngForOf",o.xi3(4,2,o.Dn7(5,5,null==C.newLine?null:C.newLine.tokens,null==C.newLine?null:C.newLine.text,o.lcZ(6,9,y.search)),null==C.newLine?null:C.newLine.text))}}function Ct(lt,R){if(1&lt&&(o.TgZ(0,"li",10),o.YNc(1,b,1,4,"span",11),o.ALo(2,"async"),o.YNc(3,G,7,11,"ng-container",12),o.qZA()),2&lt){const C=R.$implicit,y=R.index,F=o.oxw();o.Q6J("ngClass","line-"+C.status),o.xp6(1),o.Q6J("ngIf",o.lcZ(2,3,F.getSelection(y,"right"))),o.xp6(2),o.Q6J("ngIf","removed"!==C.status)}}class Et extends((0,W.j)(Z.A,bt.P)){constructor(R,C,y){super(),this.zone=R,this.diffService=C,this.diffSelectionService=y,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$=new h.X([]),this.currentPatch=null,this.selectionSide=new h.X("right"),this.getSelection=(F,_t)=>this.diffSelectionService.selectedRange.pipe((0,Ft.M)(this.selectionSide),(0,f.U)(([vt,Kt])=>{if(!vt||Kt!==_t)return null;const[ie,Ht]=vt[0].line>vt[1].line||vt[0].line===vt[1].line&&vt[0].char>vt[1].char?[vt[1],vt[0]]:vt;return F<ie.line||F>Ht.line?null:F===ie.line?{left:ie.char*this.diffSelectionService.charWidth+"px",width:ie.line===Ht.line?(Ht.char-ie.char)*this.diffSelectionService.charWidth+"px":"100%"}:F===Ht.line?{left:"0px",width:Ht.char*this.diffSelectionService.charWidth+"px"}:{left:"0px",width:"100%"}}))}ngOnInit(){this.diffLines.pipe((0,it.g)(0),(0,ct.R)(this.destroyed$)).subscribe(y=>{const F=this.currentPatch?{...this.currentPatch}:null;y?(this.currentPatch={newFilePath:y.newFilePath,oldFilePath:y.oldFilePath},this.leftLineNumberMargin=this.diffService.calculateMargin(y.oldLines.length.toString().length,!0),this.rightLineNumberMargin=this.diffService.calculateMargin(y.newLines.length.toString().length,!0),this.diffService.calculateSplitLines(y.oldLines,y.newLines,y.hunks).pipe((0,ct.R)(this.destroyed$)).subscribe(_t=>{this.lines$.next(_t),(!F||F.oldFilePath!==this.currentPatch?.oldFilePath||F.newFilePath!==this.currentPatch?.newFilePath)&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0))})):(this.currentPatch=null,this.leftLineNumberMargin=0,this.rightLineNumberMargin=0,this.lines$.next([]),F&&(this.leftScrollContainer?.nativeElement?.scrollTo(0,0),this.rightScrollContainer?.nativeElement?.scrollTo(0,0)))}),this.zone.runOutsideAngular(()=>{let y=!1,F=!1;(0,kt.R)(this.leftScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,Qt.h)(()=>!F),(0,$t.b)(()=>{y=!0,this.rightScrollContainer.nativeElement.scrollTo(this.leftScrollContainer.nativeElement.scrollLeft,this.leftScrollContainer.nativeElement.scrollTop)}),(0,zt.b)(100),(0,ct.R)(this.destroyed$)).subscribe(()=>{y=!1}),(0,kt.R)(this.rightScrollContainer.nativeElement,"scroll",{passive:!0}).pipe((0,Qt.h)(()=>!y),(0,$t.b)(()=>{F=!0,this.leftScrollContainer.nativeElement.scrollTo(this.rightScrollContainer.nativeElement.scrollLeft,this.rightScrollContainer.nativeElement.scrollTop)}),(0,zt.b)(100),(0,ct.R)(this.destroyed$)).subscribe(()=>{F=!1})});const R=this.leftScrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.leftCodeElement.nativeElement,(y,F)=>({line:Math.floor((R.scrollTop+F-R.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((R.scrollLeft+y-R.getBoundingClientRect().left-(this.leftLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(y,F)=>this.lines$.value.filter((_t,vt)=>vt>=y&&vt<=F).map(_t=>_t.oldLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.oldLine?.text.length??0}),([y,F])=>(0,w.Z)(y.line,F.line+1).map(_t=>({oldLineNo:this.lines$.value[_t]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[_t]?.newLine?.lineNumber??-1}))).pipe((0,ct.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("left")});const C=this.rightScrollContainer.nativeElement;this.diffSelectionService.captureSelections(this.rightCodeElement.nativeElement,(y,F)=>({line:Math.floor((C.scrollTop+F-C.getBoundingClientRect().top)/19),char:Math.max(0,Math.round((C.scrollLeft+y-C.getBoundingClientRect().left-(this.rightLineNumberMargin+26))/this.diffSelectionService.charWidth))}),(y,F)=>this.lines$.value.filter((_t,vt)=>vt>=y&&vt<=F).map(_t=>_t.newLine?.text),()=>({line:this.lines$.value.length-1,char:this.lines$.value[this.lines$.value.length-1]?.newLine?.text.length??0}),([y,F])=>(0,w.Z)(y.line,F.line+1).map(_t=>({oldLineNo:this.lines$.value[_t]?.oldLine?.lineNumber??-1,newLineNo:this.lines$.value[_t]?.newLine?.lineNumber??-1}))).pipe((0,ct.R)(this.destroyed$)).subscribe(()=>{this.selectionSide.next("right")})}trackByDiffLine(R,C){return R}static{this.\u0275fac=function(C){return new(C||Et)(o.Y36(o.R0b),o.Y36(ft.S),o.Y36(mt.Q))}}static{this.\u0275cmp=o.Xpm({type:Et,selectors:[["app-split-view"]],viewQuery:function(C,y){if(1&C&&(o.Gf(te,7,o.SBq),o.Gf(oe,7,o.SBq),o.Gf(he,7,o.SBq),o.Gf(ue,7,o.SBq),o.Gf(K.N7,5)),2&C){let F;o.iGM(F=o.CRH())&&(y.leftScrollContainer=F.first),o.iGM(F=o.CRH())&&(y.rightScrollContainer=F.first),o.iGM(F=o.CRH())&&(y.leftCodeElement=F.first),o.iGM(F=o.CRH())&&(y.rightCodeElement=F.first),o.iGM(F=o.CRH())&&(y.viewports=F)}},inputs:{diffLines:"diffLines",search:"search"},features:[o.qOj],decls:17,vars:18,consts:[["id","diff-view_split-left"],[1,"viewport",3,"itemSize","maxBufferPx","minBufferPx"],["leftScrollContainer",""],["tabindex","0",1,"vs-code-theme","left-code"],["leftCode",""],["class","line",3,"ngClass",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["id","diff-view_split-right"],["rightScrollContainer",""],["tabindex","1",1,"vs-code-theme","right-code"],["rightCode",""],[1,"line",3,"ngClass"],["class","selection",3,"left","width",4,"ngIf"],[4,"ngIf"],[1,"selection"],[1,"line-number"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(C,y){1&C&&(o.TgZ(0,"app-grid")(1,"app-grid-cell",0)(2,"cdk-virtual-scroll-viewport",1,2)(4,"code",3,4)(6,"ul"),o.YNc(7,Bt,4,5,"li",5),o.ALo(8,"async"),o.qZA()()()(),o.TgZ(9,"app-grid-cell",6)(10,"cdk-virtual-scroll-viewport",1,7)(12,"code",8,9)(14,"ul"),o.YNc(15,Ct,4,5,"li",5),o.ALo(16,"async"),o.qZA()()()()()),2&C&&(o.xp6(2),o.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),o.xp6(4),o.Udp("margin-left",y.leftLineNumberMargin+26,"px"),o.xp6(1),o.Q6J("cdkVirtualForOf",o.lcZ(8,14,y.lines$))("cdkVirtualForTrackBy",y.trackByDiffLine),o.xp6(3),o.Q6J("itemSize",19)("maxBufferPx",1e3)("minBufferPx",200),o.xp6(4),o.Udp("margin-left",y.rightLineNumberMargin+26,"px"),o.xp6(1),o.Q6J("cdkVirtualForOf",o.lcZ(16,16,y.lines$))("cdkVirtualForTrackBy",y.trackByDiffLine))},dependencies:[K.xd,K.x0,K.N7,nt.mk,nt.sg,nt.O5,Ut.Y,Yt.M,nt.Ov,dt.y,Tt.U],styles:["code[_ngcontent-%COMP%]{display:block;white-space:pre;user-select:none;cursor:text;outline:none}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{position:absolute;text-align:right;user-select:none;right:calc(100% + 26px)}code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{position:absolute;display:block;height:19px;opacity:.5}.viewport[_ngcontent-%COMP%]{height:100%;width:100%;overflow-x:scroll}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#858585}.dark-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#53789b!important}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#501515}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#111}.dark-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#1f2c19}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .line-number[_ngcontent-%COMP%]{color:#5e5e5e}.light-theme[_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > .selection[_ngcontent-%COMP%]{background-color:#add6ff!important}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-added[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.left-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#ee7e7e}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-removed[_ngcontent-%COMP%]{background:#f0f0f0}.light-theme[_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   code.right-code[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.line-replaced[_ngcontent-%COMP%]{background:#0cd086}"],changeDetection:0})}}var ee=i(266),ne=i(9131),re=i(3061),pe=i(4442);class le{static{this.\u0275fac=function(C){return new(C||le)}}static{this.\u0275mod=o.oAB({type:le})}static{this.\u0275inj=o.cJS({imports:[d.vV,e.c,j.I]})}}o.B6R(x.s,[d.A9,d.Yi,nt.O5,at.lW,at.RK,pt.Hw,ee.gM,ne.j,re.T,g,Pt,Et],[nt.Ov,pe.X])},315:(wt,st,i)=>{i.d(st,{S:()=>T});var d=i(3969),j=i(7717),x=i(9646),K=i(4128),o=i(4004),U=i(2270),E=i(4650);class T{constructor(){this.calculateInlineLines=(n,w,tt)=>{const ot=[];let t=0,S=0,et=[];const D=(u,s)=>{(u>t||s>S)&&(ot.push(...(0,j.Z)(n.slice(t,u),w.slice(S,s)).map(([h,f])=>({oldLine:h??null,newLine:f??null,status:"unchanged"}))),t=u,S=s)};for(const u of tt){D(u.oldStart-1,u.newStart-1),[et,t,S]=this.calculateGroups(n,w,t,S,u);for(const s of et)"modified"===s.type?ot.push(...s.lines.flatMap(h=>"replaced"===h.status?[{...h,status:"removed",newLine:null},{...h,status:"added",oldLine:null}]:[h]).sort((h,f)=>"removed"===h.status&&"removed"===f.status?0:"removed"===h.status?-1:"removed"===f.status?1:0)):ot.push(...s.lines)}return D(n.length,w.length),(0,x.of)(ot)},this.calculateHunkLines=(n,w,tt)=>{const ot=[];let t=0,S=0,et=[];const D=(u,s,h)=>{(u>t||s>S)&&(ot.push({isSeparator:!0,separatorHeader:h,hiddenDiffLines:(0,j.Z)(n.slice(t,u),w.slice(S,s)).map(([f,V])=>({oldLine:f??null,newLine:V??null,status:"unchanged"}))}),t=u,S=s)};for(const u of tt){D(u.oldStart-1,u.newStart-1,u.header),[et,t,S]=this.calculateGroups(n,w,t,S,u);for(const s of et)"modified"===s.type?ot.push(...s.lines.flatMap(h=>"replaced"===h.status?[{isSeparator:!1,diffLine:{...h,status:"removed",newLine:null}},{isSeparator:!1,diffLine:{...h,status:"added",oldLine:null}}]:[{isSeparator:!1,diffLine:h}]).sort((h,f)=>"removed"===h.diffLine.status&&"removed"===f.diffLine.status?0:"removed"===h.diffLine.status?-1:"removed"===f.diffLine.status?1:0)):ot.push(...s.lines.map(h=>({isSeparator:!1,diffLine:h})))}return D(n.length,w.length,null),(0,x.of)(ot)},this.calculateSplitLines=(n,w,tt)=>{const ot=[];let t=0,S=0,et=[];const D=(u,s)=>{(u>t||s>S)&&(ot.push(...(0,j.Z)(n.slice(t,u),w.slice(S,s)).map(([h,f])=>({oldLine:h??null,newLine:f??null,status:"unchanged"}))),t=u,S=s)};for(const u of tt){D(u.oldStart-1,u.newStart-1),[et,t,S]=this.calculateGroups(n,w,t,S,u);for(const s of et)ot.push(...s.lines)}return D(n.length,w.length),(0,x.of)(ot)},this.calculateMergeLines=(n,w,tt,ot,t)=>{const S=[],et=this.calculateSplitLines(n,w,ot),D=this.calculateSplitLines(n,tt,t);return(0,K.D)([et,D]).pipe((0,o.U)(([u,s])=>{let h=1,f=0,V=0;for(;f<u.length&&V<s.length;){const A=u[f],it=s[V];if(A.oldLine||it.oldLine){if(!A.oldLine&&it.oldLine)S.push({baseLine:null,yoursLine:A.newLine,yoursStatus:A.status,theirsLine:null,theirsStatus:null}),f++;else if(A.oldLine&&!it.oldLine)S.push({baseLine:null,yoursLine:null,yoursStatus:null,theirsLine:it.newLine,theirsStatus:it.status}),V++;else if(A.oldLine&&it.oldLine){if(h!==A.oldLine.lineNumber||h!==it.oldLine.lineNumber)throw new U.UY(A.oldLine.lineNumber,it.oldLine.lineNumber);S.push({baseLine:it.oldLine,yoursLine:A.newLine,yoursStatus:A.status,theirsLine:it.newLine,theirsStatus:it.status}),h++,f++,V++}}else S.push({baseLine:null,yoursLine:A.newLine,yoursStatus:A.status,theirsLine:it.newLine,theirsStatus:it.status}),f++,V++}for(;f<u.length;){const A=u[f];S.push({baseLine:A.oldLine,yoursLine:A.newLine,yoursStatus:A.status,theirsLine:null,theirsStatus:null}),f++}for(;V<s.length;){const A=s[V];S.push({baseLine:A.oldLine,yoursLine:null,yoursStatus:null,theirsLine:A.newLine,theirsStatus:A.status}),V++}return S}))},this.calculateGroups=(n,w,tt,ot,t)=>{const S=t.lines.filter(h=>">"!==h.origin&&"<"!==h.origin),et=[];let D=tt,u=ot,s=0;for(;s<S.length;)if(-1===S[s]?.newLineNo){const h=[];for(;s<S.length&&-1===S[s]?.newLineNo;){const f=n[D];f&&h.push(f),D++,s++}if(s<S.length&&-1===S[s]?.oldLineNo){const f=[];for(;s<S.length&&-1===S[s]?.oldLineNo;){const V=w[u];V&&f.push(V),u++,s++}et.push(this.createModifiedGroup(h,f))}else et.push({type:"removed",lines:h.map(f=>({oldLine:f,newLine:null,status:"removed"}))})}else if(-1===S[s]?.oldLineNo){const h=[];for(;s<S.length&&-1===S[s]?.oldLineNo;){const f=w[u];f&&h.push(f),u++,s++}if(s<S.length&&-1===S[s]?.newLineNo){const f=[];for(;s<S.length&&-1===S[s]?.newLineNo;){const V=n[D];V&&f.push(V),D++,s++}et.push(this.createModifiedGroup(f,h))}else et.push({type:"added",lines:h.map(f=>({oldLine:null,newLine:f,status:"added"}))})}else{const h=[],f=[];for(;s<S.length&&-1!==S[s]?.oldLineNo&&-1!==S[s]?.newLineNo;){const V=n[D];V&&h.push(V);const A=w[u];A&&f.push(A),D++,u++,s++}et.push({type:"unchanged",lines:(0,j.Z)(h,f).map(([V,A])=>({oldLine:V??null,newLine:A??null,status:"unchanged"}))})}return[et,D,u]},this.createModifiedGroup=(n,w)=>{const tt=n.map(ct=>ct.text.replace("\n","")).join("\n"),ot=w.map(ct=>ct.text.replace("\n","")).join("\n"),t=new d.diff_match_patch,S=t.diff_main(tt,ot);t.diff_cleanupSemantic(S);const et=[];let D=0,u=0,s=null,h=null,f=[],V=[],A=[];const it=ct=>{ct===d.DIFF_EQUAL?(et.push({status:null!==s&&null!==h?"replaced":null!==s?"removed":"added",oldLine:null!==s?{...n[D],tokens:[...n[D]?.tokens??[],...f]}:null,newLine:null!==h?{...w[u],tokens:[...w[u]?.tokens??[],...V]}:null}),D++,u++,s=null,h=null,f=[],V=[]):ct===d.DIFF_INSERT?(null===s&&(et.push(...A),A=[]),(null===s?et:A).push({status:"added",oldLine:null,newLine:{...w[u],tokens:[...w[u]?.tokens??[],...V]}}),u++,h=null,V=[]):ct===d.DIFF_DELETE&&(null===h&&(et.push(...A),A=[]),(null===h?et:A).push({status:"removed",oldLine:{...n[D],tokens:[...n[D]?.tokens??[],...f]},newLine:null}),D++,s=null,f=[])};for(const[ct,ut]of S){const W=ut.split("\n");if(ct===d.DIFF_EQUAL){if(W.length>1){et.push(...A),A=[],null!==s||null!==h?(s=(s??0)+(W[0]?.length??0),h=(h??0)+(W[0]?.length??0),it(ct)):(et.push({status:"unchanged",oldLine:n[D],newLine:w[u]}),D++,u++);for(let Z=1;Z<W.length-1;Z++)et.push({status:"unchanged",oldLine:n[D],newLine:w[u]}),D++,u++}s=(s??0)+(W[W.length-1]?.length??0),h=(h??0)+(W[W.length-1]?.length??0)}else if(ct===d.DIFF_INSERT){if(W.length>1)if(null!==h){W[0]&&W[0].length>0&&V.push({startIndex:h??0,endIndex:(h??0)+W[0].length,scopes:["diff-added"]}),h+=W[0]?.length??0,it(ct);for(let Z=1;Z<W.length-1;Z++)(null===s?et:A).push({status:"added",oldLine:null,newLine:{...w[u],tokens:[...w[u]?.tokens??[],{startIndex:0,endIndex:W[Z]?.length??0,scopes:["diff-added"]}]}}),u++}else for(let Z=0;Z<W.length-1;Z++)(null===s?et:A).push({status:"added",oldLine:null,newLine:{...w[u],tokens:[...w[u]?.tokens??[],{startIndex:0,endIndex:W[Z]?.length??0,scopes:["diff-added"]}]}}),u++;(W[W.length-1]?.length??0)>0&&V.push({startIndex:h??0,endIndex:(h??0)+(W[W.length-1]?.length??0),scopes:["diff-added"]}),h=(h??0)+(W[W.length-1]?.length??0)}else if(ct===d.DIFF_DELETE){if(W.length>1)if(null!==s){(W[0]?.length??0)>0&&f.push({startIndex:s??0,endIndex:(s??0)+(W[0]?.length??0),scopes:["diff-removed"]}),s+=W[0]?.length??0,it(ct);for(let Z=1;Z<W.length-1;Z++)(null===h?et:A).push({status:"removed",oldLine:{...n[D],tokens:[...n[D]?.tokens??[],{startIndex:0,endIndex:W[Z]?.length??0,scopes:["diff-removed"]}]},newLine:null}),D++}else for(let Z=0;Z<W.length-1;Z++)(null===h?et:A).push({status:"removed",oldLine:{...n[D],tokens:[...n[D]?.tokens??[],{startIndex:0,endIndex:W[Z]?.length??0,scopes:["diff-removed"]}]},newLine:null}),D++;(W[W.length-1]?.length??0)>0&&f.push({startIndex:s??0,endIndex:(s??0)+(W[W.length-1]?.length??0),scopes:["diff-removed"]}),s=(s??0)+(W[W.length-1]?.length??0)}}return et.push(...A),(null!==s||null!==h)&&(0===tt.length&&(s=s??0),0===ot.length&&(h=h??0),it(d.DIFF_EQUAL)),{type:"modified",lines:et}}}static{this.lineNumberCharacterWidth=8.3}static{this.lineNumberSpacing=10}calculateMargin(n,w=!1){return T.lineNumberSpacing+n*T.lineNumberCharacterWidth*(w?1:2)}getFileExtension(n){if(!n)return null;const w=n.lastIndexOf(".");return w>0?n.substring(w+1):null}static{this.\u0275fac=function(w){return new(w||T)}}static{this.\u0275prov=E.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}}},1899:(wt,st,i)=>{i.d(st,{y:()=>e});var d=i(4650);class e{transform(x,K,o){if(!o||!K)return x;const U=Array.from(K.matchAll(o),E=>({startIndex:E.index??0,endIndex:(E.index??0)+(E[0]?.length??0),scopes:["search-result"]}));return[...x,...U]}static{this.\u0275fac=function(K){return new(K||e)}}static{this.\u0275pipe=d.Yjl({name:"searchToken",type:e,pure:!0})}}},1453:(wt,st,i)=>{i.d(st,{U:()=>o});var d=i(9466),e=i(1256),j=i(3825),x=i(4650);class o{constructor(){this.renderScopes=E=>E.map(T=>this.renderScope(T)).join(" "),this.areEqual=(E,T)=>{if(E.length!==T.length)return!1;const _=new Set(E);for(const n of T)if(!_.has(n))return!1;return!0}}transform(E,T=""){if(!T)return[];if(T.length>1e4)return[{class:"normal",text:T.slice(0,1e4)+(0,j.Iu)("... Max line length reached!")}];const _=(0,d.Z)(E,ot=>ot.startIndex),n=[];let w=0,tt=_.filter(ot=>ot.startIndex<=w&&ot.endIndex>w);for(;w<T.length;){let ot=_.filter(S=>S.startIndex<=w&&S.endIndex>w);const t=w;for(;this.areEqual(tt,ot)&&w<T.length;)w++,ot=_.filter(S=>S.startIndex<=w&&S.endIndex>w);n.push({class:this.renderScopes(tt.map(S=>S.scopes)),text:T.substring(t,w)||"\n"}),tt=ot}return n}renderScope(E){const T=E[E.length-1];if(!T)return"";const _=T.split(".");return(0,e.Z)(1,_.length+1).map(n=>_.slice(0,n).join("-")).join(" ")}static{this.\u0275fac=function(T){return new(T||o)}}static{this.\u0275pipe=x.Yjl({name:"tokens",type:o,pure:!0})}}},3989:(wt,st,i)=>{i.d(st,{$:()=>ut});var d=i(1134),e=i(539);const x=function j(W,Z){return W<Z},o=function K(W,Z){return W&&W.length?(0,d.Z)(W,(0,e.Z)(Z,2),x):void 0};var U=i(2382);var _=i(1256),n=i(3713),w=i(7711),tt=i(9512),ot=i(7988),t=i(6932),S=i(3228);var s=i(7965),h=i(7118);const V=(0,s.Z)(function(W,Z){return(0,h.Z)(W)?function D(W,Z,bt,ft){var mt=-1,nt=w.Z,at=!0,pt=W.length,dt=[],Tt=Z.length;if(!pt)return dt;bt&&(Z=(0,ot.Z)(Z,(0,t.Z)(bt))),ft?(nt=tt.Z,at=!1):Z.length>=200&&(nt=S.Z,at=!1,Z=new n.Z(Z));t:for(;++mt<pt;){var xt=W[mt],It=null==bt?xt:bt(xt);if(xt=ft||0!==xt?xt:0,at&&It==It){for(var At=Tt;At--;)if(Z[At]===It)continue t;dt.push(xt)}else nt(Z,It,ft)||dt.push(xt)}return dt}(W,Z):[]});var A=i(2270),it=i(3825),ct=i(4650);class ut{constructor(){this.isDashed=Z=>"head"===Z.id||Z.id.startsWith("merge:")}static{this.xUnit=15}static{this.yUnit=28}static{this.xOffset=7.5}static{this.yOffset=13}static{this.totalColors=15}isIndexInBounds(Z,bt,ft){const mt=Z*ut.yUnit;return mt>=bt&&mt<ft-ut.yUnit}calculateVisible(Z,bt,ft,mt,nt){return{commitDetails:Z.slice(mt,nt),commitTrails:bt.filter(at=>at.minYIndexWithMerges<=nt&&at.maxYIndexWithMerges>=mt),mergePaths:ft.filter(at=>at.from.yIndex>=mt&&at.to.some(pt=>pt.yIndex<=nt))}}calculate(Z,bt,ft,mt,nt,at,pt){const dt={};let Tt=[],xt=[],It=[];const At=(Z?1:0)+bt.length;mt.forEach((m,l)=>{dt[m.id]={id:m.id,yIndex:l+At,commit:m}});const Dt=[];bt.forEach((m,l)=>{const g=`merge:${m.fromCommitId}:${m.toCommitId}`,k={id:g,message:m.message??(0,it.Iu)("merge: from _branch_ into _branch_",{from:m.fromCommitId,to:m.toCommitId}),parentIds:[m.toCommitId,m.fromCommitId],time:0,references:[],authorEmail:"",authorName:""};Dt.push(k),dt[g]={id:g,yIndex:l+(Z?1:0),commit:k}}),ft.forEach(m=>{const l=dt[m.id],g=l?.commit.parentIds[1];!l||!g||2!==l.commit.parentIds.length||(l.stash={index:m.index,workingDirCommitId:m.id,indexCommitId:g})});const Mt=Z?{id:"head",message:"",parentIds:Z.parentId?[Z.parentId,...Z.mergeHeads]:[...Z.mergeHeads],time:0,references:[],authorEmail:"",authorName:""}:null;Z&&(dt.head={id:"head",yIndex:0,commit:Mt});const P=Mt?[Mt,...Dt,...mt]:[...Dt,...mt];if(P.forEach(m=>{const l=dt[m.id];if(!l)throw new A.qf(m.id);l.trail||this.calculateTrail(l,dt,Tt,xt),!l.stash&&m.parentIds.length>1&&m.parentIds.slice(1).forEach(g=>{const k=dt[g];if(k)if(k.mergeFrom)k.mergeFrom.to.push(l);else{const $={from:k,to:[l]};k.mergeFrom=$,It.push($)}})}),({mergePaths:It,lanes:xt}=this.calculateMergePaths(It,xt,nt,at)),this.calculateColors(Tt,pt),Z&&Z.parentId&&dt[Z.parentId]){const m=Tt.find(l=>0===l.minYIndex);if(m){m.commits=m.commits.filter(g=>"head"!==g.id);const l=o(m.commits,g=>g.yIndex);m.minYIndex=l?.yIndex??0,m.minYIndexWithMerges=l?.yIndex??0,this.createUncommittedTrail(dt.head,dt[Z.parentId],Tt,m.colorIndex,m.lane)}}return Dt.forEach((m,l)=>{const g=Tt.find(H=>H.minYIndex===l+(Z?1:0)),k=m.parentIds[0],$=k?dt[k]:void 0;if(g&&$){if(g.commits=g.commits.filter(rt=>rt.id!==m.id),g.commits.length<=0)Tt=Tt.filter(rt=>rt!==g);else{const rt=o(g.commits.filter(M=>"head"!==M.id&&!M.id.startsWith("merge:")),M=>M.yIndex);g.minYIndex=rt?.yIndex??0,g.minYIndexWithMerges=rt?.yIndex??0}const H=dt[m.id];if(!H)throw new A.qf;this.createUncommittedTrail(H,$,Tt,g.colorIndex,g.lane)}}),ft.forEach(m=>{const l=dt[m.id];if(!l)return;const k=l.trail,$=l.commit.parentIds[0],H=$?dt[$]:void 0;if(H){if(k.commits=k.commits.filter(rt=>rt.id!==m.id),k.commits.length<=0)Tt=Tt.filter(rt=>rt!==k);else{const rt=o(k.commits,M=>M.yIndex);k.minYIndex=rt?.yIndex??0,k.minYIndexWithMerges=rt?.yIndex??0}this.createUncommittedTrail(l,H,Tt,k.colorIndex,k.lane)}}),{commitDetails:dt,commitTrails:Tt,lanes:xt,mergePaths:It,headCommit:Mt,orderedCommits:P}}createUncommittedTrail(Z,bt,ft,mt,nt){let at=bt.yIndex;bt.mergeFrom&&bt.mergeFrom.to.length>0&&bt.mergeFrom.to.some(dt=>!this.isDashed(dt))&&(at=Math.min(...bt.mergeFrom.to.filter(dt=>!this.isDashed(dt)).map(({yIndex:dt})=>dt))+.25,at<Z.yIndex&&(at=Z.yIndex+.5),ft.push({trailIndex:ft.length,minYIndex:at,maxYIndex:bt.yIndex,minYIndexWithMerges:at,maxYIndexWithMerges:bt.yIndex,colorIndex:mt,commits:[],isDashed:!1,lane:nt}));const pt={trailIndex:ft.length,minYIndex:Z.yIndex,maxYIndex:at,minYIndexWithMerges:Z.yIndex,maxYIndexWithMerges:at,colorIndex:mt,commits:[Z],isDashed:!0,lane:nt};return Z.trail=pt,ft.push(pt),pt}calculateTrail(Z,bt,ft,mt){const nt={trailIndex:ft.length,minYIndex:Z.yIndex,maxYIndex:Z.yIndex,minYIndexWithMerges:Z.yIndex,maxYIndexWithMerges:Z.yIndex,colorIndex:null,commits:[],isDashed:!1};if(Z.commit.parentIds.length<=0)Z.trail=nt,nt.commits.push(Z),nt.maxYIndex=Z.yIndex,nt.maxYIndexWithMerges=Z.yIndex;else{let pt=Z;for(;pt&&!pt.trail&&pt.commit.parentIds.length>0;){pt.trail=nt,nt.maxYIndex=pt.yIndex,nt.maxYIndexWithMerges=pt.yIndex,nt.commits.push(pt);const dt=pt.commit.parentIds[0];pt=dt?bt[dt]:void 0}pt&&(nt.maxYIndex=pt.yIndex,nt.maxYIndexWithMerges=pt.yIndex,pt.trail||(pt.trail=nt,nt.commits.push(pt)))}let at=mt.find(pt=>{const dt=this.getLaneMaxYIndex(pt);return void 0===dt||dt<nt.minYIndex});return at||(at={xIndex:mt.length,occupations:[]},mt.push(at)),at.occupations.push({type:"commit-trail",minYIndex:nt.minYIndex,maxYIndex:nt.maxYIndex}),nt.lane=at,ft.push(nt),nt}calculateMergePaths(Z,bt,ft,mt){bt=bt.map(at=>({...at,occupations:at.occupations.filter(pt=>"merge-path"!==pt.type)})).filter(at=>at.occupations.length>0);const nt=[...Z];return Z.forEach(at=>{const pt=[],dt=[];let Tt;at.to.forEach(P=>{at.from.trail.minYIndexWithMerges>P.yIndex&&(at.from.trail.minYIndexWithMerges=P.yIndex),at.from.trail.maxYIndexWithMerges<P.yIndex&&(at.from.trail.maxYIndexWithMerges=P.yIndex),P.trail.minYIndexWithMerges>at.from.yIndex&&(P.trail.minYIndexWithMerges=at.from.yIndex),P.trail.maxYIndexWithMerges<at.from.yIndex&&(P.trail.maxYIndexWithMerges=at.from.yIndex)});const xt=at.from.trail.lane.xIndex,It=ft(xt);let At=[],Dt=at.to;const Mt=at.to.every(this.isDashed);if(at.from.trail.minYIndex<at.from.yIndex){const P=at.from.trail.commits.findIndex(l=>l.id===at.from.id),m=at.from.trail.commits[P-1];if(!m)throw new A.qf;At=at.to.filter(l=>l.yIndex>m.yIndex),Dt=at.to.filter(l=>l.yIndex<=m.yIndex),Tt=m.yIndex}else{pt.push(`M ${It} ${mt(at.from.yIndex)}`),pt.push(`V ${mt(at.from.yIndex-.5)}`),Tt=at.from.yIndex-1;const P=function E(W,Z){return W&&W.length?(0,d.Z)(W,(0,e.Z)(Z,2),U.Z):void 0}(Dt,m=>m.yIndex);if(P&&P.yIndex===at.from.yIndex-1){Dt=Dt.filter(l=>l.id!==P.id);const m=`L ${ft(P.trail.lane.xIndex)} ${mt(P.yIndex)}`;this.isDashed(P)?dt.push(m):pt.push(m)}}if(Dt.length>0){const P=Math.min(...Dt.map($=>$.yIndex)),m=bt.filter($=>!this.isLaneOccupied($,P+1,Tt)),l=o(m,$=>[...Dt,at.from].reduce((H,rt)=>H+Math.abs(rt.trail.lane.xIndex-$.xIndex),0))??{xIndex:bt.length,occupations:[]};0===m.length&&bt.push(l),l.occupations.push({type:"merge-path",minYIndex:P+1,maxYIndex:Tt});const g=Dt.filter(this.isDashed),k=Dt.filter($=>!this.isDashed($));if(pt.push(...k.flatMap($=>[`M ${ft(l.xIndex)} ${mt($.yIndex+.5)}`,`L ${this.adjustForDashedLine(!1,l.xIndex,$.trail.lane.xIndex,$.yIndex+.5,$.yIndex,ft,mt)}`])),dt.push(...g.flatMap($=>[`M ${ft(l.xIndex)} ${mt($.yIndex+.5)}`,`L ${this.adjustForDashedLine(!0,l.xIndex,$.trail.lane.xIndex,$.yIndex+.5,$.yIndex,ft,mt)}`])),Mt)pt.push(`M ${It} ${mt(Tt+.5)}`,`L ${ft(l.xIndex)} ${mt(Tt+.25)}`,`V ${mt(P+.5)}`);else{const $=Math.min(...k.map(H=>H.yIndex));pt.push(`M ${It} ${mt(Tt+.5)}`,`L ${ft(l.xIndex)} ${mt(Tt+.25)}`,`V ${mt($+.5)}`),dt.push(`M ${It} ${mt($+.5)}`,`V ${mt(P+.5)}`)}}pt.push(...At.filter(P=>!this.isDashed(P)).flatMap(P=>[`M ${It} ${mt(P.yIndex+.25)}`,`L ${this.adjustForDashedLine(!1,xt,P.trail.lane.xIndex,P.yIndex+.25,P.yIndex,ft,mt)}`])),dt.push(...At.filter(this.isDashed).flatMap(P=>[`M ${It} ${mt(P.yIndex+.25)}`,`L ${this.adjustForDashedLine(!0,xt,P.trail.lane.xIndex,P.yIndex+.25,P.yIndex,ft,mt)}`])),Mt?(at.isDashed=!0,at.path=[...pt,...dt].join(" ")):(at.isDashed=!1,at.path=pt.join(" "),dt.length>0&&nt.push({from:at.from,isDashed:!0,path:dt.join(" "),to:at.to.filter(this.isDashed)}))}),{mergePaths:nt,lanes:bt}}calculateColors(Z,bt){const ft=(0,_.Z)(0,bt),mt=[];Z.forEach(nt=>{const at=mt.filter(dt=>dt.minYIndexWithMerges<=nt.maxYIndexWithMerges&&dt.maxYIndexWithMerges>=nt.minYIndexWithMerges).map(dt=>dt.colorIndex),pt=V(ft,...at);nt.colorIndex=pt[0]??nt.trailIndex%bt,mt.push(nt)})}getLaneMaxYIndex(Z){return Z.occupations[Z.occupations.length-1]?.maxYIndex}isLaneOccupied(Z,bt,ft){return Z.occupations.some(mt=>mt.minYIndex<=ft&&mt.maxYIndex>=bt)}adjustForDashedLine(Z,bt,ft,mt,nt,at,pt){const Tt=Z?mt>nt?.15:-.15:0;return`${at(ft+(Z?bt>ft?.3:-.3:0))} ${pt(nt+Tt)}`}static{this.\u0275fac=function(bt){return new(bt||ut)}}static{this.\u0275prov=ct.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"})}}},2960:(wt,st,i)=>{i.d(st,{i:()=>Dt});var d=i(655),e=i(4650),j=i(9867),x=i(1135),K=i(8926),o=i(9967),U=i(4924),E=i(9578),T=i(811),_=i(6895),n=i(7392),w=i(266),tt=i(4883),ot=i(6377),t=i(6421),S=i(2771),et=i(4462),D=i(7615),u=i(6709),s=i(9131);function h(Mt,P){if(1&Mt){const m=e.EpF();e.TgZ(0,"mat-checkbox",7),e.NdJ("change",function(g){e.CHM(m);const k=e.oxw().$implicit,$=e.oxw();return e.KtG($.checkedChanged.next([k,g.checked]))}),e.qZA()}if(2&Mt){const m=e.oxw().$implicit,l=e.oxw();e.Q6J("checked",l.isChecked(m))}}function f(Mt,P){if(1&Mt){const m=e.EpF();e.TgZ(0,"li",3),e.NdJ("contextmenu",function(g){const $=e.CHM(m).$implicit,H=e.oxw();return e.KtG(H.contextMenuOpened.next([$,g]))}),e.TgZ(1,"mat-icon",4),e._uU(2),e.qZA(),e.YNc(3,h,1,1,"mat-checkbox",5),e.TgZ(4,"app-condensed-path",6),e.NdJ("click",function(){const k=e.CHM(m).$implicit,$=e.oxw();return e.KtG($.selectedChanged.next(k))}),e.qZA()()}if(2&Mt){const m=P.$implicit,l=e.oxw();e.ekj("selected",l.isSelected(m))("checked",l.isChecked(m)),e.xp6(1),e.Q6J("ngClass",l.getPatchIconColorClass(m)),e.xp6(1),e.Oqu(l.getPatchIcon(m)),e.xp6(1),e.Q6J("ngIf",l.checked),e.xp6(1),e.Q6J("path",l.getPatchPath(m))}}class V extends((0,K.j)(o.A,S.P)){constructor(P){super(),this.commitDetailService=P,this.checked=null,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.keyPressDisabled=!1}ngOnChanges(P){P.selected&&(this.keyPressDisabled=!1),P.patches&&(this.orderedPatches=(0,ot.Z)(this.patches,[m=>m.status===t.v.Conflicted,m=>(m.oldFilePath??m.newFilePath??"").toLowerCase()],["desc","asc"]))}trackByPatch(P,m){return`${m.oldFilePath}|${m.newFilePath}|${m.status}`}getPatchPath(P){return this.commitDetailService.getPatchPath(P)}getPatchIcon(P){return this.commitDetailService.getPatchIcon(P)}getPatchIconColorClass(P){return this.commitDetailService.getPatchIconColorClass(P)}isChecked(P){return this.checked?.some(({oldFilePath:m,newFilePath:l})=>m===P.oldFilePath&&l===P.newFilePath)}isSelected(P){return P.oldFilePath===this.selected?.oldFilePath&&P.newFilePath===this.selected.newFilePath}keyPressed(P,m){if(this.keyPressDisabled)return;P.preventDefault();const l=this.selected,g=m.findIndex(({oldFilePath:$,newFilePath:H})=>$===l?.oldFilePath&&H===l?.newFilePath);let k=null;switch(P.key){case"ArrowUp":if(!(et.V?P.metaKey:P.ctrlKey)){g>0&&(k=g-1);break}case"Home":k=0;break;case"ArrowDown":if(!(et.V?P.metaKey:P.ctrlKey)){g<m.length-1&&(k=g+1);break}case"End":k=m.length-1;break;case"Escape":g>=0&&(k=g)}if(null!==k){this.keyPressDisabled=!0;const $=m[k];$&&this.selectedChanged.next($);const H=this.viewports.first,rt=H.measureScrollOffset("top"),M=rt+H.getViewportSize(),N=22*k;(N<rt||N>=M)&&H.scrollToIndex(k)}}static{this.\u0275fac=function(m){return new(m||V)(e.Y36(D.d))}}static{this.\u0275cmp=e.Xpm({type:V,selectors:[["app-patch-list"]],viewQuery:function(m,l){if(1&m&&e.Gf(tt.N7,5),2&m){let g;e.iGM(g=e.CRH())&&(l.viewports=g)}},inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj,e.TTD],decls:3,vars:7,consts:[["tabindex","0",1,"item-list-container",3,"itemSize","maxBufferPx","minBufferPx","keydown"],[1,"patch-list"],[3,"selected","checked","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"contextmenu"],["inline","",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"name",3,"path","click"],[3,"checked","change"]],template:function(m,l){1&m&&(e.TgZ(0,"cdk-virtual-scroll-viewport",0),e.NdJ("keydown",function(k){return l.keyPressed(k,l.patches)}),e.TgZ(1,"ul",1),e.YNc(2,f,5,8,"li",2),e.qZA()()),2&m&&(e.Q6J("itemSize",22)("maxBufferPx",400)("minBufferPx",200),e.xp6(1),e.ekj("checkboxes",l.checked),e.xp6(1),e.Q6J("cdkVirtualForOf",l.orderedPatches)("cdkVirtualForTrackBy",l.trackByPatch))},dependencies:[u.oG,tt.xd,tt.x0,tt.N7,_.mk,_.O5,n.Hw,s.j],styles:["[_nghost-%COMP%]{display:contents}.item-list-container[_ngcontent-%COMP%]{margin-left:-16px;margin-right:-16px;height:100%;contain:content;outline:none}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{width:100%}.item-list-container[_ngcontent-%COMP%]     .cdk-virtual-scroll-spacer{position:relative}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;height:22px;line-height:22px;padding-left:16px;padding-right:16px;position:relative;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;margin-left:-2px;margin-right:2px}.patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 22px)}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:none}.patch-list.checkboxes[_ngcontent-%COMP%] > li.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .patch-list.checkboxes[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#515151}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#616161}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover, .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .patch-list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   mat-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}var A=i(2686),it=i(9841),ct=i(9646),ut=i(4004),W=i(4782),Z=i(6725),bt=i(3448),ft=i(1123);function mt(Mt,P){if(1&Mt){const m=e.EpF();e.TgZ(0,"mat-checkbox",8),e.NdJ("click",function(g){return g.stopPropagation()})("change",function(g){e.CHM(m);const k=e.oxw().$implicit,$=e.oxw();return e.KtG($.clickNodeCheckbox(k,g.checked))}),e.qZA()}if(2&Mt){const m=e.oxw().$implicit;e.Q6J("checked","all"===m.checked)("indeterminate","some"===m.checked)}}function nt(Mt,P){if(1&Mt){const m=e.EpF();e.TgZ(0,"div",3),e.NdJ("click",function(g){const $=e.CHM(m).$implicit,H=e.oxw();return e.KtG(H.toggleNodeExpanded(g,$))}),e.TgZ(1,"mat-icon",4),e._uU(2,"folder"),e.qZA(),e.YNc(3,mt,1,2,"mat-checkbox",5),e.TgZ(4,"span",6),e._uU(5),e.qZA(),e.TgZ(6,"mat-icon",7),e._uU(7),e.qZA()()}if(2&Mt){const m=P.$implicit,l=e.oxw();e.ekj("checked","all"===m.checked),e.xp6(3),e.Q6J("ngIf",l.checked),e.xp6(1),e.Q6J("matTooltip",m.id),e.xp6(1),e.Oqu(m.segment),e.xp6(2),e.Oqu(m.expanded?"expand_less":"expand_more")}}function at(Mt,P){if(1&Mt){const m=e.EpF();e.TgZ(0,"mat-checkbox",13),e.NdJ("change",function(g){e.CHM(m);const k=e.oxw().$implicit,$=e.oxw();return e.KtG($.checkedChanged.next([k.patch,g.checked]))}),e.qZA()}if(2&Mt){const m=e.oxw().$implicit;e.Q6J("checked",m.checked)}}function pt(Mt,P){if(1&Mt){const m=e.EpF();e.TgZ(0,"div",9),e.NdJ("contextmenu",function(g){const $=e.CHM(m).$implicit,H=e.oxw();return e.KtG(H.contextMenuOpened.next([$.patch,g]))}),e.TgZ(1,"mat-icon",10),e._uU(2),e.qZA(),e.YNc(3,at,1,1,"mat-checkbox",11),e.TgZ(4,"span",12),e.NdJ("click",function(){const k=e.CHM(m).$implicit,$=e.oxw();return e.KtG($.selectedChanged.next(k.patch))}),e._uU(5),e.qZA()()}if(2&Mt){const m=P.$implicit,l=e.oxw();let g;e.ekj("checked",m.checked)("selected",l.isSelected(m.patch)),e.xp6(1),e.Q6J("ngClass",l.getPatchIconColorClass(m.patch)),e.xp6(1),e.Oqu(l.getPatchIcon(m.patch)),e.xp6(1),e.Q6J("ngIf",l.checked),e.xp6(1),e.Q6J("matTooltip",null!==(g=l.getPatchPath(m.patch))&&void 0!==g?g:""),e.xp6(1),e.Oqu(m.segment)}}class dt extends((0,K.j)(o.A)){constructor(P){super(),this.commitDetailService=P,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.collapsedNodeIds=new x.X(new Set),this.toggleNodeExpanded=(m,l)=>{m.preventDefault(),m.stopPropagation();const g=new Set(this.collapsedNodeIds.value);g.has(l.id)?(g.delete(l.id),this.collapsedNodeIds.next(g)):(g.add(l.id),this.collapsedNodeIds.next(g))}}ngOnInit(){this.tree=(0,it.a)([this.patches,this.checked??(0,ct.of)(null),this.collapsedNodeIds]).pipe((0,ut.U)(([P,m,l])=>{const g=P.map(k=>({patch:k,segments:(k.newFilePath??k.oldFilePath??"").split("/")}));return this.buildTree(g,"",0,m,l)}),(0,W.d)(1))}getPatchPath(P){return this.commitDetailService.getPatchPath(P)}getPatchIcon(P){return this.commitDetailService.getPatchIcon(P)}getPatchIconColorClass(P){return this.commitDetailService.getPatchIconColorClass(P)}isSelected(P){return P.oldFilePath===this.selected?.oldFilePath&&P.newFilePath===this.selected.newFilePath}clickNodeCheckbox(P,m){const l=g=>g.reduce((k,$)=>[...k,..."patch"in $?[$]:l($.children)],[]);for(const g of l(P.children))this.checkedChanged.next([g.patch,m])}buildTree(P,m,l,g,k){return Object.entries((0,A.Z)(P,({segments:rt})=>rt[0])).sort(([rt],[M])=>rt.localeCompare(M,void 0,{numeric:!0})).flatMap(([rt,M])=>{const N=`${m}${rt}/`,Pt=`${m}${rt}`,kt=M.filter(({segments:Ut})=>Ut.length>1),Ft=g?M.every(({patch:Ut})=>g.some(({oldFilePath:Yt,newFilePath:te})=>Yt===Ut.oldFilePath&&te===Ut.newFilePath))?"all":M.some(({patch:Ut})=>g.some(({oldFilePath:Yt,newFilePath:te})=>Yt===Ut.oldFilePath&&te===Ut.newFilePath))?"some":"none":"none",Qt=kt.length>0?{id:N,depth:l,expanded:!k.has(N),children:this.buildTree(kt.map(({patch:Ut,segments:Yt})=>({patch:Ut,segments:Yt.slice(1)})),N,l+1,g,k),segment:rt,checked:Ft}:null,$t=M.find(({segments:Ut})=>Ut.length<=1),zt=$t?{id:Pt,depth:l,segment:rt,patch:$t.patch,checked:g?.some(({oldFilePath:Ut,newFilePath:Yt})=>Ut===$t.patch.oldFilePath&&Yt===$t.patch.newFilePath)??!1}:null;return zt&&Qt?[zt,Qt]:Qt?[Qt]:zt?[zt]:[]})}static{this.\u0275fac=function(m){return new(m||dt)(e.Y36(D.d))}}static{this.\u0275cmp=e.Xpm({type:dt,selectors:[["app-patch-tree"]],inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj],decls:3,vars:4,consts:[[3,"tree","itemSize"],["class","node-item",3,"checked","click",4,"appVirtualTreeNode"],["class","leaf-item",3,"checked","selected","contextmenu",4,"appVirtualTreeLeafNode"],[1,"node-item",3,"click"],["inline","",1,"node-icon"],[3,"checked","indeterminate","click","change",4,"ngIf"],[1,"text",3,"matTooltip"],[1,"expand-icon"],[3,"checked","indeterminate","click","change"],[1,"leaf-item",3,"contextmenu"],["inline","",1,"node-icon",3,"ngClass"],[3,"checked","change",4,"ngIf"],[1,"text",3,"matTooltip","click"],[3,"checked","change"]],template:function(m,l){1&m&&(e.TgZ(0,"app-virtual-tree",0),e.YNc(1,nt,8,6,"div",1),e.YNc(2,pt,6,9,"div",2),e.qZA()),2&m&&(e.ekj("checkboxes",!!l.checked),e.Q6J("tree",l.tree)("itemSize",22))},dependencies:[u.oG,_.mk,_.O5,n.Hw,w.gM,Z.L,bt.I,ft.J],styles:["[_nghost-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]{display:contents}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport{contain:content;scrollbar-gutter:stable;margin-left:-16px;margin-right:-16px}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper>ul{overflow-x:auto;overflow-y:hidden}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport .cdk-virtual-scroll-spacer{position:relative}app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(> .leaf-item.selected){background-color:#616161}.node-item[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]{margin-left:16px;display:flex;justify-content:space-between;cursor:pointer;line-height:22px;height:22px;user-select:none;align-items:center;min-width:200px}.node-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .node-icon[_ngcontent-%COMP%]{flex:0 0 22px;user-select:none;width:22px;margin-left:-2px;margin-right:2px}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{display:none;flex:0 0 22px;width:22px;--mdc-checkbox-ripple-size: 28px;--mdc-checkbox-touch-target-size: 22px}.node-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%], .node-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]   .checkbox-icon[_ngcontent-%COMP%]{font-size:16px}.node-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.node-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%], .leaf-item[_ngcontent-%COMP%] > .expand-icon[_ngcontent-%COMP%]{flex:0 0 auto;color:#ffffffb3;line-height:22px}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .node-icon[_ngcontent-%COMP%]{display:none}app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]:has(.node-icon:hover, mat-checkbox[_ngcontent-%COMP%]:hover)   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item.checked[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   mat-checkbox[_ngcontent-%COMP%], app-virtual-tree.checkboxes[_ngcontent-%COMP%]   .leaf-item[_ngcontent-%COMP%]:hover   .checkbox-button[_ngcontent-%COMP%]{display:block}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(> .leaf-item:hover), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(> .leaf-item:hover){background-color:#515151}.dark-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(> .leaf-item.selected), .dark-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(> .leaf-item.selected){background-color:#616161}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#cb8837}.dark-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(> .leaf-item:hover), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(> .leaf-item:hover){background-color:#e0e0e0}.light-theme[_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(> .leaf-item.selected), .light-theme   [_nghost-%COMP%]   app-virtual-tree[_ngcontent-%COMP%]    >cdk-virtual-scroll-viewport li:has(> .leaf-item.selected){background-color:#bdbdbd}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.red[_ngcontent-%COMP%]{color:#ef5350}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.green[_ngcontent-%COMP%]{color:#4caf50}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.orange[_ngcontent-%COMP%]{color:#d8a669}.light-theme[_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .node-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme[_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%], .light-theme   [_nghost-%COMP%]   .leaf-item[_ngcontent-%COMP%] > .node-icon.blue[_ngcontent-%COMP%]{color:#7c8bff}"],changeDetection:0})}}var Tt=i(4442);function xt(Mt,P){if(1&Mt){const m=e.EpF();e.TgZ(0,"app-patch-list",6),e.NdJ("checkedChanged",function(g){e.CHM(m);const k=e.oxw(2);return e.KtG(k.checkedChanged.next(g))})("selectedChanged",function(g){e.CHM(m);const k=e.oxw(2);return e.KtG(k.selectedChanged.next(g))})("contextMenuOpened",function(g){e.CHM(m);const k=e.oxw(2);return e.KtG(k.contextMenuOpened.next(g))}),e.ALo(1,"async"),e.qZA()}if(2&Mt){const m=e.oxw(2);e.Q6J("patches",m.patches)("checked",e.lcZ(1,3,m.checked))("selected",m.selected)}}function It(Mt,P){if(1&Mt){const m=e.EpF();e.TgZ(0,"app-patch-tree",6),e.NdJ("checkedChanged",function(g){e.CHM(m);const k=e.oxw(2);return e.KtG(k.checkedChanged.next(g))})("selectedChanged",function(g){e.CHM(m);const k=e.oxw(2);return e.KtG(k.selectedChanged.next(g))})("contextMenuOpened",function(g){e.CHM(m);const k=e.oxw(2);return e.KtG(k.contextMenuOpened.next(g))}),e.qZA()}if(2&Mt){const m=e.oxw(2);e.Q6J("patches",m.patches$)("checked",m.checked)("selected",m.selected)}}function At(Mt,P){if(1&Mt){const m=e.EpF();e.ynx(0),e.TgZ(1,"header")(2,"mat-button-toggle-group",1),e.NdJ("change",function(g){e.CHM(m);const k=e.oxw();return e.KtG(k.changePatchView(g.value))}),e.TgZ(3,"mat-button-toggle",2),e.ALo(4,"translate"),e.TgZ(5,"mat-icon"),e._uU(6,"list"),e.qZA()(),e.TgZ(7,"mat-button-toggle",3),e.ALo(8,"translate"),e._UZ(9,"mat-icon",4),e.qZA()()(),e.YNc(10,xt,2,5,"app-patch-list",5),e.YNc(11,It,1,3,"app-patch-tree",5),e.BQk()}if(2&Mt){const m=P.ngIf;e.xp6(2),e.Q6J("value",m),e.xp6(1),e.Q6J("matTooltip",e.lcZ(4,5,"List View")),e.xp6(4),e.Q6J("matTooltip",e.lcZ(8,7,"Tree View")),e.xp6(3),e.Q6J("ngIf","list"===m),e.xp6(1),e.Q6J("ngIf","tree"===m)}}let Dt=(()=>{class Mt extends((0,K.j)(o.A)){constructor(m){super(),this.store=m,this.checked=null,this.checkedChanged=new e.vpe,this.selectedChanged=new e.vpe,this.contextMenuOpened=new e.vpe,this.patches$=new x.X([])}ngOnChanges(m){m.patches&&this.patches$.next(this.patches)}changePatchView(m){this.store.dispatch(new E.eh(m))}static{this.\u0275fac=function(l){return new(l||Mt)(e.Y36(j.yh))}}static{this.\u0275cmp=e.Xpm({type:Mt,selectors:[["app-patches-view"]],inputs:{patches:"patches",checked:"checked",selected:"selected"},outputs:{checkedChanged:"checkedChanged",selectedChanged:"selectedChanged",contextMenuOpened:"contextMenuOpened"},features:[e.qOj,e.TTD],decls:2,vars:3,consts:[[4,"ngIf"],[3,"value","change"],["value","list",3,"matTooltip"],["value","tree",3,"matTooltip"],["svgIcon","file-tree"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened",4,"ngIf"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"]],template:function(l,g){1&l&&(e.YNc(0,At,12,9,"ng-container",0),e.ALo(1,"async")),2&l&&e.Q6J("ngIf",e.lcZ(1,1,g.view))},dependencies:[T.A9,T.Yi,_.O5,n.Hw,w.gM,V,dt,_.Ov,Tt.X],styles:["[_nghost-%COMP%]{display:contents}header[_ngcontent-%COMP%]{flex:0 0 auto;text-align:center;margin-bottom:-4px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{height:30px}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{font-size:0}header[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:28px;padding:0 5px}"],changeDetection:0})}}return(0,d.gn)([(0,j.Ph)(U.$.patchView)],Mt.prototype,"view",void 0),Mt})()},6248:(wt,st,i)=>{i.d(st,{Z:()=>E});var d=i(811),e=i(3546),j=i(6709),x=i(284),K=i(3179),o=i(9418),U=i(4650);class E{static{this.\u0275fac=function(n){return new(n||E)}}static{this.\u0275mod=U.oAB({type:E})}static{this.\u0275inj=U.cJS({imports:[d.vV,e.QW,j.p9,x.c,K.I,o.c]})}}},9734:(wt,st,i)=>{i.d(st,{Z:()=>K});var d=i(1572),e=i(3848),j=i(3179),x=i(4650);class K{static{this.\u0275fac=function(E){return new(E||K)}}static{this.\u0275mod=x.oAB({type:K})}static{this.\u0275inj=x.cJS({imports:[j.I,d.Cq,e.Nh]})}}},7957:(wt,st,i)=>{i.d(st,{Bb:()=>$,XC:()=>xt,ZL:()=>k});var d=i(4650),e=i(3238),j=i(6895),x=i(4883),K=i(9615),o=i(2693),U=i(1281),E=i(3353),T=i(7340),_=i(727),n=i(7579),w=i(9770),tt=i(6451),ot=i(9646),t=i(4968),S=i(9521),et=i(4080),D=i(4006),u=i(9549),s=i(8675),h=i(3900),f=i(5698),V=i(9300),A=i(4004),it=i(8505),ct=i(4326),ut=i(445);const W=["panel"];function Z(H,rt){if(1&H&&(d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA()),2&H){const M=rt.id,N=d.oxw();d.Q6J("id",N.id)("ngClass",N._classList)("@panelAnimation",N.isOpen?"visible":"hidden"),d.uIk("aria-label",N.ariaLabel||null)("aria-labelledby",N._getPanelAriaLabelledby(M))}}const bt=["*"],ft=(0,T.X$)("panelAnimation",[(0,T.SB)("void, hidden",(0,T.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,T.eR)(":enter, hidden => visible",[(0,T.ru)([(0,T.jt)("0.03s linear",(0,T.oB)({opacity:1})),(0,T.jt)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,T.oB)({transform:"scaleY(1)"}))])]),(0,T.eR)(":leave, visible => hidden",[(0,T.jt)("0.075s linear",(0,T.oB)({opacity:0}))])]);let mt=0;class nt{constructor(rt,M){this.source=rt,this.option=M}}const at=(0,e.Kr)(class{}),pt=new d.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function dt(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1}}});let Tt=(()=>{class H extends at{get isOpen(){return this._isOpen&&this.showPanel}_setColor(M){this._color=M,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(M){this._autoActiveFirstOption=(0,U.Ig)(M)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(M){this._autoSelectActiveOption=(0,U.Ig)(M)}set classList(M){this._classList=M&&M.length?(0,U.du)(M).reduce((N,Pt)=>(N[Pt]=!0,N),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(M,N,Pt,kt){super(),this._changeDetectorRef=M,this._elementRef=N,this._activeOptionChanges=_.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new d.vpe,this.opened=new d.vpe,this.closed=new d.vpe,this.optionActivated=new d.vpe,this._classList={},this.id="mat-autocomplete-"+mt++,this.inertGroups=kt?.SAFARI||!1,this._autoActiveFirstOption=!!Pt.autoActiveFirstOption,this._autoSelectActiveOption=!!Pt.autoSelectActiveOption}ngAfterContentInit(){this._keyManager=new o.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(M=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[M]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(M){this.panel&&(this.panel.nativeElement.scrollTop=M)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(M){const N=new nt(this,M);this.optionSelected.emit(N)}_getPanelAriaLabelledby(M){return this.ariaLabel?null:this.ariaLabelledby?(M?M+" ":"")+this.ariaLabelledby:M}_setVisibilityClasses(M){M[this._visibleClass]=this.showPanel,M[this._hiddenClass]=!this.showPanel}_setThemeClasses(M){M["mat-primary"]="primary"===this._color,M["mat-warn"]="warn"===this._color,M["mat-accent"]="accent"===this._color}}return H.\u0275fac=function(M){return new(M||H)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(pt),d.Y36(E.t4))},H.\u0275dir=d.lG2({type:H,viewQuery:function(M,N){if(1&M&&(d.Gf(d.Rgc,7),d.Gf(W,5)),2&M){let Pt;d.iGM(Pt=d.CRH())&&(N.template=Pt.first),d.iGM(Pt=d.CRH())&&(N.panel=Pt.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[d.qOj]}),H})(),xt=(()=>{class H extends Tt{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden"}}return H.\u0275fac=function(){let rt;return function(N){return(rt||(rt=d.n5z(H)))(N||H)}}(),H.\u0275cmp=d.Xpm({type:H,selectors:[["mat-autocomplete"]],contentQueries:function(M,N,Pt){if(1&M&&(d.Suo(Pt,e.K7,5),d.Suo(Pt,e.ey,5)),2&M){let kt;d.iGM(kt=d.CRH())&&(N.optionGroups=kt),d.iGM(kt=d.CRH())&&(N.options=kt)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[d._Bn([{provide:e.HF,useExisting:H}]),d.qOj],ngContentSelectors:bt,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(M,N){1&M&&(d.F$t(),d.YNc(0,Z,3,5,"ng-template"))},dependencies:[j.mk],styles:[".mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface.mat-mdc-autocomplete-panel{width:100%;max-height:256px;position:static;visibility:hidden;transform-origin:center top;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-autocomplete-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) .mdc-menu-surface.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above .mdc-menu-surface.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}.mdc-menu-surface.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}.mdc-menu-surface.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[ft]},changeDetection:0}),H})();const Dt={provide:D.JU,useExisting:(0,d.Gpc)(()=>k),multi:!0},P=new d.OlP("mat-autocomplete-scroll-strategy"),l={provide:P,deps:[K.aV],useFactory:function m(H){return()=>H.scrollStrategies.reposition()}};let g=(()=>{class H{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(M){this._autocompleteDisabled=(0,U.Ig)(M)}constructor(M,N,Pt,kt,Ft,Qt,$t,zt,Ut,Yt,te){this._element=M,this._overlay=N,this._viewContainerRef=Pt,this._zone=kt,this._changeDetectorRef=Ft,this._dir=$t,this._formField=zt,this._document=Ut,this._viewportRuler=Yt,this._defaults=te,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=_.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new n.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,w.P)(()=>{const oe=this.autocomplete?this.autocomplete.options:null;return oe?oe.changes.pipe((0,s.O)(oe),(0,h.w)(()=>(0,tt.T)(...oe.map(he=>he.onSelectionChange)))):this._zone.onStable.pipe((0,f.q)(1),(0,h.w)(()=>this.optionSelections))}),this._scrollStrategy=Qt}ngAfterViewInit(){const M=this._getWindow();typeof M<"u"&&this._zone.runOutsideAngular(()=>M.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(M){M.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const M=this._getWindow();typeof M<"u"&&M.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,tt.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,V.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,V.h)(()=>this._overlayAttached)):(0,ot.of)()).pipe((0,A.U)(M=>M instanceof e.rN?M:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,tt.T)((0,t.R)(this._document,"click"),(0,t.R)(this._document,"auxclick"),(0,t.R)(this._document,"touchend")).pipe((0,V.h)(M=>{const N=(0,E.sA)(M),Pt=this._formField?this._formField._elementRef.nativeElement:null,kt=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&N!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!Pt||!Pt.contains(N))&&(!kt||!kt.contains(N))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(N)}))}writeValue(M){Promise.resolve(null).then(()=>this._assignOptionValue(M))}registerOnChange(M){this._onChange=M}registerOnTouched(M){this._onTouched=M}setDisabledState(M){this._element.nativeElement.disabled=M}_handleKeydown(M){const N=M.keyCode,Pt=(0,S.Vb)(M);if(N===S.hY&&!Pt&&M.preventDefault(),this.activeOption&&N===S.K5&&this.panelOpen&&!Pt)this.activeOption._selectViaInteraction(),this._resetActiveItem(),M.preventDefault();else if(this.autocomplete){const kt=this.autocomplete._keyManager.activeItem,Ft=N===S.LH||N===S.JH;N===S.Mf||Ft&&!Pt&&this.panelOpen?this.autocomplete._keyManager.onKeydown(M):Ft&&this._canOpen()&&this.openPanel(),(Ft||this.autocomplete._keyManager.activeItem!==kt)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(M){let N=M.target,Pt=N.value;"number"===N.type&&(Pt=""==Pt?null:parseFloat(Pt)),this._previousValue!==Pt&&(this._previousValue=Pt,this._pendingAutoselectedOption=null,this._onChange(Pt),this._canOpen()&&this._document.activeElement===M.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(M=!1){this._formField&&"auto"===this._formField.floatLabel&&(M?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const M=this._zone.onStable.pipe((0,f.q)(1)),N=this.autocomplete.options.changes.pipe((0,it.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,ct.g)(0));return(0,tt.T)(M,N).pipe((0,h.w)(()=>(this._zone.run(()=>{const Pt=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),Pt!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),(0,f.q)(1)).subscribe(Pt=>this._setValueAndClose(Pt))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(M){const N=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(M):M;this._updateNativeInputValue(N??"")}_updateNativeInputValue(M){this._formField?this._formField._control.value=M:this._element.nativeElement.value=M,this._previousValue=M}_setValueAndClose(M){const N=M?M.source:this._pendingAutoselectedOption;N&&(this._clearPreviousSelectedOption(N),this._assignOptionValue(N.value),this._onChange(N.value),this.autocomplete._emitSelectEvent(N),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(M){this.autocomplete.options.forEach(N=>{N!==M&&N.selected&&N.deselect()})}_attachOverlay(){let M=this._overlayRef;M?(this._positionStrategy.setOrigin(this._getConnectedElement()),M.updateSize({width:this._getPanelWidth()})):(this._portal=new et.UE(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),M=this._overlay.create(this._getOverlayConfig()),this._overlayRef=M,this._handleOverlayEvents(M),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&M&&M.updateSize({width:this._getPanelWidth()})})),M&&!M.hasAttached()&&(M.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const N=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this.panelOpen&&N!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new K.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const M=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(M),this._positionStrategy=M,M}_setStrategyPositions(M){const N=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Pt=this._aboveClass,kt=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:Pt},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:Pt}];let Ft;Ft="above"===this.position?kt:"below"===this.position?N:[...N,...kt],M.withPositions(Ft)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const M=this.autocomplete;M.autoActiveFirstOption?M._keyManager.setFirstItemActive():M._keyManager.setActiveItem(-1)}_canOpen(){const M=this._element.nativeElement;return!M.readOnly&&!M.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(M){const N=this.autocomplete,Pt=(0,e.CB)(M,N.options,N.optionGroups);if(0===M&&1===Pt)N._setScrollTop(0);else if(N.panel){const kt=N.options.toArray()[M];if(kt){const Ft=kt._getHostElement(),Qt=(0,e.jH)(Ft.offsetTop,Ft.offsetHeight,N._getScrollTop(),N.panel.nativeElement.offsetHeight);N._setScrollTop(Qt)}}}_handleOverlayEvents(M){M.keydownEvents().subscribe(N=>{(N.keyCode===S.hY&&!(0,S.Vb)(N)||N.keyCode===S.LH&&(0,S.Vb)(N,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),N.stopPropagation(),N.preventDefault())}),M.outsidePointerEvents().subscribe()}}return H.\u0275fac=function(M){return new(M||H)(d.Y36(d.SBq),d.Y36(K.aV),d.Y36(d.s_b),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(P),d.Y36(ut.Is,8),d.Y36(u.G_,9),d.Y36(j.K0,8),d.Y36(x.rL),d.Y36(pt,8))},H.\u0275dir=d.lG2({type:H,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[d.TTD]}),H})(),k=(()=>{class H extends g{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}}return H.\u0275fac=function(){let rt;return function(N){return(rt||(rt=d.n5z(H)))(N||H)}}(),H.\u0275dir=d.lG2({type:H,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(M,N){1&M&&d.NdJ("focusin",function(){return N._handleFocus()})("blur",function(){return N._onTouched()})("input",function(kt){return N._handleInput(kt)})("keydown",function(kt){return N._handleKeydown(kt)})("click",function(){return N._handleClick()}),2&M&&d.uIk("autocomplete",N.autocompleteAttribute)("role",N.autocompleteDisabled?null:"combobox")("aria-autocomplete",N.autocompleteDisabled?null:"list")("aria-activedescendant",N.panelOpen&&N.activeOption?N.activeOption.id:null)("aria-expanded",N.autocompleteDisabled?null:N.panelOpen.toString())("aria-owns",N.autocompleteDisabled||!N.panelOpen||null==N.autocomplete?null:N.autocomplete.id)("aria-haspopup",N.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[d._Bn([Dt]),d.qOj]}),H})(),$=(()=>{class H{}return H.\u0275fac=function(M){return new(M||H)},H.\u0275mod=d.oAB({type:H}),H.\u0275inj=d.cJS({providers:[l],imports:[K.U8,e.Ng,e.BQ,j.ez,x.ZD,e.Ng,e.BQ]}),H})()},811:(wt,st,i)=>{i.d(st,{A9:()=>ot,Yi:()=>S,vV:()=>et});var d=i(2693),e=i(1281),j=i(5017),x=i(4650),K=i(4006),o=i(3238);const U=["button"],E=["*"],T=new x.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),_=new x.OlP("MatButtonToggleGroup"),n={provide:K.JU,useExisting:(0,x.Gpc)(()=>ot),multi:!0};let w=0;class tt{constructor(u,s){this.source=u,this.value=s}}let ot=(()=>{class D{get name(){return this._name}set name(s){this._name=s,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(s){this._vertical=(0,e.Ig)(s)}get value(){const s=this._selectionModel?this._selectionModel.selected:[];return this.multiple?s.map(h=>h.value):s[0]?s[0].value:void 0}set value(s){this._setSelectionByValue(s),this.valueChange.emit(this.value)}get selected(){const s=this._selectionModel?this._selectionModel.selected:[];return this.multiple?s:s[0]||null}get multiple(){return this._multiple}set multiple(s){this._multiple=(0,e.Ig)(s),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(s){this._disabled=(0,e.Ig)(s),this._markButtonsForCheck()}constructor(s,h){this._changeDetector=s,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+w++,this.valueChange=new x.vpe,this.change=new x.vpe,this.appearance=h&&h.appearance?h.appearance:"standard"}ngOnInit(){this._selectionModel=new j.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(s=>s.checked))}writeValue(s){this.value=s,this._changeDetector.markForCheck()}registerOnChange(s){this._controlValueAccessorChangeFn=s}registerOnTouched(s){this._onTouched=s}setDisabledState(s){this.disabled=s}_emitChangeEvent(s){const h=new tt(s,this.value);this._controlValueAccessorChangeFn(h.value),this.change.emit(h)}_syncButtonToggle(s,h,f=!1,V=!1){!this.multiple&&this.selected&&!s.checked&&(this.selected.checked=!1),this._selectionModel?h?this._selectionModel.select(s):this._selectionModel.deselect(s):V=!0,V?Promise.resolve().then(()=>this._updateModelValue(s,f)):this._updateModelValue(s,f)}_isSelected(s){return this._selectionModel&&this._selectionModel.isSelected(s)}_isPrechecked(s){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(h=>null!=s.value&&h===s.value):s.value===this._rawValue)}_setSelectionByValue(s){this._rawValue=s,this._buttonToggles&&(this.multiple&&s?(Array.isArray(s),this._clearSelection(),s.forEach(h=>this._selectValue(h))):(this._clearSelection(),this._selectValue(s)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(s=>s.checked=!1)}_selectValue(s){const h=this._buttonToggles.find(f=>null!=f.value&&f.value===s);h&&(h.checked=!0,this._selectionModel.select(h))}_updateModelValue(s,h){h&&this._emitChangeEvent(s),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(s=>s._markForCheck())}}return D.\u0275fac=function(s){return new(s||D)(x.Y36(x.sBO),x.Y36(T,8))},D.\u0275dir=x.lG2({type:D,selectors:[["mat-button-toggle-group"]],contentQueries:function(s,h,f){if(1&s&&x.Suo(f,S,5),2&s){let V;x.iGM(V=x.CRH())&&(h._buttonToggles=V)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(s,h){2&s&&(x.uIk("aria-disabled",h.disabled),x.ekj("mat-button-toggle-vertical",h.vertical)("mat-button-toggle-group-appearance-standard","standard"===h.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[x._Bn([n,{provide:_,useExisting:D}])]}),D})();const t=(0,o.Kr)(class{});let S=(()=>{class D extends t{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(s){this._appearance=s}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(s){const h=(0,e.Ig)(s);h!==this._checked&&(this._checked=h,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(s){this._disabled=(0,e.Ig)(s)}constructor(s,h,f,V,A,it){super(),this._changeDetectorRef=h,this._elementRef=f,this._focusMonitor=V,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new x.vpe;const ct=Number(A);this.tabIndex=ct||0===ct?ct:null,this.buttonToggleGroup=s,this.appearance=it&&it.appearance?it.appearance:"standard"}ngOnInit(){const s=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+w++,s&&(s._isPrechecked(this)?this.checked=!0:s._isSelected(this)!==this._checked&&s._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const s=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),s&&s._isSelected(this)&&s._syncButtonToggle(this,!1,!1,!0)}focus(s){this._buttonElement.nativeElement.focus(s)}_onButtonClick(){const s=!!this._isSingleSelector()||!this._checked;s!==this._checked&&(this._checked=s,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new tt(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return D.\u0275fac=function(s){return new(s||D)(x.Y36(_,8),x.Y36(x.sBO),x.Y36(x.SBq),x.Y36(d.tE),x.$8M("tabindex"),x.Y36(T,8))},D.\u0275cmp=x.Xpm({type:D,selectors:[["mat-button-toggle"]],viewQuery:function(s,h){if(1&s&&x.Gf(U,5),2&s){let f;x.iGM(f=x.CRH())&&(h._buttonElement=f.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(s,h){1&s&&x.NdJ("focus",function(){return h.focus()}),2&s&&(x.uIk("aria-label",null)("aria-labelledby",null)("id",h.id)("name",null),x.ekj("mat-button-toggle-standalone",!h.buttonToggleGroup)("mat-button-toggle-checked",h.checked)("mat-button-toggle-disabled",h.disabled)("mat-button-toggle-appearance-standard","standard"===h.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[x.qOj],ngContentSelectors:E,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(s,h){if(1&s&&(x.F$t(),x.TgZ(0,"button",0,1),x.NdJ("click",function(){return h._onButtonClick()}),x.TgZ(2,"span",2),x.Hsn(3),x.qZA()(),x._UZ(4,"span",3)(5,"span",4)),2&s){const f=x.MAs(1);x.Q6J("id",h.buttonId)("disabled",h.disabled||null),x.uIk("tabindex",h.disabled?-1:h.tabIndex)("aria-pressed",h.checked)("name",h._getButtonName())("aria-label",h.ariaLabel)("aria-labelledby",h.ariaLabelledby),x.xp6(5),x.Q6J("matRippleTrigger",f)("matRippleDisabled",h.disableRipple||h.disabled)}},dependencies:[o.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),D})(),et=(()=>{class D{}return D.\u0275fac=function(s){return new(s||D)},D.\u0275mod=x.oAB({type:D}),D.\u0275inj=x.cJS({imports:[o.BQ,o.si,o.BQ]}),D})()},3848:(wt,st,i)=>{i.d(st,{BU:()=>Ce,Nh:()=>fe,Nj:()=>ge,SP:()=>y,sW:()=>ve,uD:()=>Qt,uX:()=>Y});var d=i(6895),e=i(4650),j=i(3238),x=i(4080),K=i(9643),o=i(2693),U=i(445),E=i(727),T=i(7579),_=i(4968),n=i(9646),w=i(6451),tt=i(515),ot=i(9751),t=i(5963),S=i(1135),et=i(8675),D=i(1884),u=i(2722),s=i(5698),h=i(3900),f=i(5684),V=i(9300),A=i(7340),it=i(1281),ct=i(4883),ut=i(3353),W=i(9521);function Z(v,Q){}const bt=function(v){return{animationDuration:v}},ft=function(v,Q){return{value:v,params:Q}};function mt(v,Q){1&v&&e.Hsn(0)}const nt=["*"],at=["tabListContainer"],pt=["tabList"],dt=["tabListInner"],Tt=["nextPaginator"],xt=["previousPaginator"],It=["tabBodyWrapper"],At=["tabHeader"];function Dt(v,Q){}function Mt(v,Q){if(1&v&&e.YNc(0,Dt,0,0,"ng-template",14),2&v){const a=e.oxw().$implicit;e.Q6J("cdkPortalOutlet",a.templateLabel)}}function P(v,Q){if(1&v&&e._uU(0),2&v){const a=e.oxw().$implicit;e.Oqu(a.textLabel)}}function m(v,Q){if(1&v){const a=e.EpF();e.TgZ(0,"div",6,7),e.NdJ("click",function(){const O=e.CHM(a),X=O.$implicit,Lt=O.index,Nt=e.oxw(),Wt=e.MAs(1);return e.KtG(Nt._handleClick(X,Wt,Lt))})("cdkFocusChange",function(O){const Lt=e.CHM(a).index,Nt=e.oxw();return e.KtG(Nt._tabFocusChanged(O,Lt))}),e._UZ(2,"span",8)(3,"div",9),e.TgZ(4,"span",10)(5,"span",11),e.YNc(6,Mt,1,1,"ng-template",12),e.YNc(7,P,1,1,"ng-template",null,13,e.W1O),e.qZA()()()}if(2&v){const a=Q.$implicit,r=Q.index,O=e.MAs(1),X=e.MAs(8),Lt=e.oxw();e.ekj("mdc-tab--active",Lt.selectedIndex===r),e.Q6J("id",Lt._getTabLabelId(r))("ngClass",a.labelClass)("disabled",a.disabled)("fitInkBarToContent",Lt.fitInkBarToContent),e.uIk("tabIndex",Lt._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",Lt._tabs.length)("aria-controls",Lt._getTabContentId(r))("aria-selected",Lt.selectedIndex===r)("aria-label",a.ariaLabel||null)("aria-labelledby",!a.ariaLabel&&a.ariaLabelledby?a.ariaLabelledby:null),e.xp6(3),e.Q6J("matRippleTrigger",O)("matRippleDisabled",a.disabled||Lt.disableRipple),e.xp6(3),e.Q6J("ngIf",a.templateLabel)("ngIfElse",X)}}function l(v,Q){if(1&v){const a=e.EpF();e.TgZ(0,"mat-tab-body",15),e.NdJ("_onCentered",function(){e.CHM(a);const O=e.oxw();return e.KtG(O._removeTabBodyWrapperHeight())})("_onCentering",function(O){e.CHM(a);const X=e.oxw();return e.KtG(X._setTabBodyWrapperHeight(O))}),e.qZA()}if(2&v){const a=Q.$implicit,r=Q.index,O=e.oxw();e.ekj("mat-mdc-tab-body-active",O.selectedIndex===r),e.Q6J("id",O._getTabContentId(r))("ngClass",a.bodyClass)("content",a.content)("position",a.position)("origin",a.origin)("animationDuration",O.animationDuration)("preserveContent",O.preserveContent),e.uIk("tabindex",null!=O.contentTabIndex&&O.selectedIndex===r?O.contentTabIndex:null)("aria-labelledby",O._getTabLabelId(r))}}const g=["mat-tab-nav-bar",""],k=["mat-tab-link",""],$={translateTab:(0,A.X$)("translateTab",[(0,A.SB)("center, void, left-origin-center, right-origin-center",(0,A.oB)({transform:"none"})),(0,A.SB)("left",(0,A.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,A.SB)("right",(0,A.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,A.eR)("* => left, * => right, left => center, right => center",(0,A.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,A.eR)("void => left-origin-center",[(0,A.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,A.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,A.eR)("void => right-origin-center",[(0,A.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,A.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let H=(()=>{class v extends x.Pl{constructor(a,r,O,X){super(a,r,X),this._host=O,this._centeringSub=E.w0.EMPTY,this._leavingSub=E.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,et.O)(this._host._isCenterPosition(this._host._position))).subscribe(a=>{a&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36((0,e.Gpc)(()=>M)),e.Y36(d.K0))},v.\u0275dir=e.lG2({type:v,selectors:[["","matTabBodyHost",""]],features:[e.qOj]}),v})(),rt=(()=>{class v{set position(a){this._positionIndex=a,this._computePositionAnimationState()}constructor(a,r,O){this._elementRef=a,this._dir=r,this._dirChangeSubscription=E.w0.EMPTY,this._translateTabComplete=new T.x,this._onCentering=new e.vpe,this._beforeCentering=new e.vpe,this._afterLeavingCenter=new e.vpe,this._onCentered=new e.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(X=>{this._computePositionAnimationState(X),O.markForCheck()})),this._translateTabComplete.pipe((0,D.x)((X,Lt)=>X.fromState===Lt.fromState&&X.toState===Lt.toState)).subscribe(X=>{this._isCenterPosition(X.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(X.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(a){const r=this._isCenterPosition(a.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(a){return"center"==a||"left-origin-center"==a||"right-origin-center"==a}_computePositionAnimationState(a=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==a?"left":"right":this._positionIndex>0?"ltr"==a?"right":"left":"center"}_computePositionFromOrigin(a){const r=this._getLayoutDirection();return"ltr"==r&&a<=0||"rtl"==r&&a>0?"left-origin-center":"right-origin-center"}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.SBq),e.Y36(U.Is,8),e.Y36(e.sBO))},v.\u0275dir=e.lG2({type:v,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),v})(),M=(()=>{class v extends rt{constructor(a,r,O){super(a,r,O)}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.SBq),e.Y36(U.Is,8),e.Y36(e.sBO))},v.\u0275cmp=e.Xpm({type:v,selectors:[["mat-tab-body"]],viewQuery:function(a,r){if(1&a&&e.Gf(x.Pl,5),2&a){let O;e.iGM(O=e.CRH())&&(r._portalHost=O.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[e.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(a,r){1&a&&(e.TgZ(0,"div",0,1),e.NdJ("@translateTab.start",function(X){return r._onTranslateTabStarted(X)})("@translateTab.done",function(X){return r._translateTabComplete.next(X)}),e.YNc(2,Z,0,0,"ng-template",2),e.qZA()),2&a&&e.Q6J("@translateTab",e.WLB(3,ft,r._position,e.VKq(1,bt,r.animationDuration)))},dependencies:[H],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[$.translateTab]}}),v})();const N=new e.OlP("MatTabContent");let Pt=(()=>{class v{constructor(a){this.template=a}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.Rgc))},v.\u0275dir=e.lG2({type:v,selectors:[["","matTabContent",""]],features:[e._Bn([{provide:N,useExisting:v}])]}),v})();const kt=new e.OlP("MatTabLabel"),Ft=new e.OlP("MAT_TAB");let Qt=(()=>{class v extends x.ig{constructor(a,r,O){super(a,r),this._closestTab=O}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(Ft,8))},v.\u0275dir=e.lG2({type:v,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[e._Bn([{provide:kt,useExisting:v}]),e.qOj]}),v})();const $t="mdc-tab-indicator--active",zt="mdc-tab-indicator--no-transition";class Ut{constructor(Q){this._items=Q}hide(){this._items.forEach(Q=>Q.deactivateInkBar())}alignToElement(Q){const a=this._items.find(O=>O.elementRef.nativeElement===Q),r=this._currentItem;if(r?.deactivateInkBar(),a){const O=r?.elementRef.nativeElement.getBoundingClientRect?.();a.activateInkBar(O),this._currentItem=a}}}function Yt(v){return class extends v{constructor(...Q){super(...Q),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(Q){const a=(0,it.Ig)(Q);this._fitToContent!==a&&(this._fitToContent=a,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(Q){const a=this.elementRef.nativeElement;if(!Q||!a.getBoundingClientRect||!this._inkBarContentElement)return void a.classList.add($t);const r=a.getBoundingClientRect(),O=Q.width/r.width,X=Q.left-r.left;a.classList.add(zt),this._inkBarContentElement.style.setProperty("transform",`translateX(${X}px) scaleX(${O})`),a.getBoundingClientRect(),a.classList.remove(zt),a.classList.add($t),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove($t)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const Q=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=Q.createElement("span"),this._inkBarContentElement=Q.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const he=(0,j.Id)(class{}),ae=Yt((()=>{class v extends he{constructor(a){super(),this.elementRef=a}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.SBq))},v.\u0275dir=e.lG2({type:v,features:[e.qOj]}),v})());let se=(()=>{class v extends ae{}return v.\u0275fac=function(){let Q;return function(r){return(Q||(Q=e.n5z(v)))(r||v)}}(),v.\u0275dir=e.lG2({type:v,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(a,r){2&a&&(e.uIk("aria-disabled",!!r.disabled),e.ekj("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[e.qOj]}),v})();const gt=(0,j.Id)(class{}),Bt=new e.OlP("MAT_TAB_GROUP");let b=(()=>{class v extends gt{get content(){return this._contentPortal}constructor(a,r){super(),this._viewContainerRef=a,this._closestTabGroup=r,this.textLabel="",this._contentPortal=null,this._stateChanges=new T.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(a){(a.hasOwnProperty("textLabel")||a.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new x.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(a){a&&a._closestTab===this&&(this._templateLabel=a)}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.s_b),e.Y36(Bt,8))},v.\u0275dir=e.lG2({type:v,viewQuery:function(a,r){if(1&a&&e.Gf(e.Rgc,7),2&a){let O;e.iGM(O=e.CRH())&&(r._implicitContent=O.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[e.qOj,e.TTD]}),v})(),Y=(()=>{class v extends b{get templateLabel(){return this._templateLabel}set templateLabel(a){this._setTemplateLabelInput(a)}}return v.\u0275fac=function(){let Q;return function(r){return(Q||(Q=e.n5z(v)))(r||v)}}(),v.\u0275cmp=e.Xpm({type:v,selectors:[["mat-tab"]],contentQueries:function(a,r,O){if(1&a&&(e.Suo(O,Pt,7,e.Rgc),e.Suo(O,Qt,5)),2&a){let X;e.iGM(X=e.CRH())&&(r._explicitContent=X.first),e.iGM(X=e.CRH())&&(r.templateLabel=X.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[e._Bn([{provide:Ft,useExisting:v}]),e.qOj],ngContentSelectors:nt,decls:1,vars:0,template:function(a,r){1&a&&(e.F$t(),e.YNc(0,mt,1,0,"ng-template"))},encapsulation:2}),v})();const G=(0,ut.i$)({passive:!0});let ne=(()=>{class v{get disablePagination(){return this._disablePagination}set disablePagination(a){this._disablePagination=(0,it.Ig)(a)}get selectedIndex(){return this._selectedIndex}set selectedIndex(a){a=(0,it.su)(a),this._selectedIndex!=a&&(this._selectedIndexChanged=!0,this._selectedIndex=a,this._keyManager&&this._keyManager.updateActiveItem(a))}constructor(a,r,O,X,Lt,Nt,Wt){this._elementRef=a,this._changeDetectorRef=r,this._viewportRuler=O,this._dir=X,this._ngZone=Lt,this._platform=Nt,this._animationMode=Wt,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new T.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new T.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new e.vpe,this.indexFocused=new e.vpe,Lt.runOutsideAngular(()=>{(0,_.R)(a.nativeElement,"mouseleave").pipe((0,u.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,_.R)(this._previousPaginator.nativeElement,"touchstart",G).pipe((0,u.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,_.R)(this._nextPaginator.nativeElement,"touchstart",G).pipe((0,u.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const a=this._dir?this._dir.change:(0,n.of)("ltr"),r=this._viewportRuler.change(150),O=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new o.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,s.q)(1)).subscribe(O),(0,w.T)(a,r,this._items.changes,this._itemsResized()).pipe((0,u.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),O()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(X=>{this.indexFocused.emit(X),this._setTabFocus(X)})}_itemsResized(){return"function"!=typeof ResizeObserver?tt.E:this._items.changes.pipe((0,et.O)(this._items),(0,h.w)(a=>new ot.y(r=>this._ngZone.runOutsideAngular(()=>{const O=new ResizeObserver(X=>r.next(X));return a.forEach(X=>O.observe(X.elementRef.nativeElement)),()=>{O.disconnect()}}))),(0,f.T)(1),(0,V.h)(a=>a.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(a){if(!(0,W.Vb)(a))switch(a.keyCode){case W.K5:case W.L_:if(this.focusIndex!==this.selectedIndex){const r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(a))}break;default:this._keyManager.onKeydown(a)}}_onContentChanges(){const a=this._elementRef.nativeElement.textContent;a!==this._currentTextContent&&(this._currentTextContent=a||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(a){!this._isValidIndex(a)||this.focusIndex===a||!this._keyManager||this._keyManager.setActiveItem(a)}_isValidIndex(a){return!this._items||!!this._items.toArray()[a]}_setTabFocus(a){if(this._showPaginationControls&&this._scrollToLabel(a),this._items&&this._items.length){this._items.toArray()[a].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const a=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-a:a;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(a){this._scrollTo(a)}_scrollHeader(a){return this._scrollTo(this._scrollDistance+("before"==a?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(a){this._stopInterval(),this._scrollHeader(a)}_scrollToLabel(a){if(this.disablePagination)return;const r=this._items?this._items.toArray()[a]:null;if(!r)return;const O=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:X,offsetWidth:Lt}=r.elementRef.nativeElement;let Nt,Wt;"ltr"==this._getLayoutDirection()?(Nt=X,Wt=Nt+Lt):(Wt=this._tabListInner.nativeElement.offsetWidth-X,Nt=Wt-Lt);const ce=this.scrollDistance,be=this.scrollDistance+O;Nt<ce?this.scrollDistance-=ce-Nt+60:Wt>be&&(this.scrollDistance+=Wt-be+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const a=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;a||(this.scrollDistance=0),a!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=a}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const a=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=a?a.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(a,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),(0,t.H)(650,100).pipe((0,u.R)((0,w.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:O,distance:X}=this._scrollHeader(a);(0===X||X>=O)&&this._stopInterval()}))}_scrollTo(a){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,a)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ct.rL),e.Y36(U.Is,8),e.Y36(e.R0b),e.Y36(ut.t4),e.Y36(e.QbO,8))},v.\u0275dir=e.lG2({type:v,inputs:{disablePagination:"disablePagination"}}),v})(),re=(()=>{class v extends ne{get disableRipple(){return this._disableRipple}set disableRipple(a){this._disableRipple=(0,it.Ig)(a)}constructor(a,r,O,X,Lt,Nt,Wt){super(a,r,O,X,Lt,Nt,Wt),this._disableRipple=!1}_itemSelected(a){a.preventDefault()}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ct.rL),e.Y36(U.Is,8),e.Y36(e.R0b),e.Y36(ut.t4),e.Y36(e.QbO,8))},v.\u0275dir=e.lG2({type:v,inputs:{disableRipple:"disableRipple"},features:[e.qOj]}),v})(),pe=(()=>{class v extends re{constructor(a,r,O,X,Lt,Nt,Wt){super(a,r,O,X,Lt,Nt,Wt)}ngAfterContentInit(){this._inkBar=new Ut(this._items),super.ngAfterContentInit()}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ct.rL),e.Y36(U.Is,8),e.Y36(e.R0b),e.Y36(ut.t4),e.Y36(e.QbO,8))},v.\u0275cmp=e.Xpm({type:v,selectors:[["mat-tab-header"]],contentQueries:function(a,r,O){if(1&a&&e.Suo(O,se,4),2&a){let X;e.iGM(X=e.CRH())&&(r._items=X)}},viewQuery:function(a,r){if(1&a&&(e.Gf(at,7),e.Gf(pt,7),e.Gf(dt,7),e.Gf(Tt,5),e.Gf(xt,5)),2&a){let O;e.iGM(O=e.CRH())&&(r._tabListContainer=O.first),e.iGM(O=e.CRH())&&(r._tabList=O.first),e.iGM(O=e.CRH())&&(r._tabListInner=O.first),e.iGM(O=e.CRH())&&(r._nextPaginator=O.first),e.iGM(O=e.CRH())&&(r._previousPaginator=O.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(a,r){2&a&&e.ekj("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[e.qOj],ngContentSelectors:nt,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(a,r){1&a&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(X){return r._handlePaginatorPress("before",X)})("touchend",function(){return r._stopInterval()}),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.NdJ("keydown",function(X){return r._handleKeydown(X)}),e.TgZ(5,"div",5,6),e.NdJ("cdkObserveContent",function(){return r._onContentChanges()}),e.TgZ(7,"div",7,8),e.Hsn(9),e.qZA()()(),e.TgZ(10,"button",9,10),e.NdJ("mousedown",function(X){return r._handlePaginatorPress("after",X)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),e._UZ(12,"div",2),e.qZA()),2&a&&(e.ekj("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),e.Q6J("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),e.xp6(3),e.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),e.xp6(7),e.ekj("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),e.Q6J("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[j.wG,K.wD],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),v})();const le=new e.OlP("MAT_TABS_CONFIG");let lt=0;const R=(0,j.pj)((0,j.Kr)(class{constructor(v){this._elementRef=v}}),"primary");let C=(()=>{class v extends R{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(a){this._dynamicHeight=(0,it.Ig)(a)}get selectedIndex(){return this._selectedIndex}set selectedIndex(a){this._indexToSelect=(0,it.su)(a,null)}get animationDuration(){return this._animationDuration}set animationDuration(a){this._animationDuration=/^\d+$/.test(a+"")?a+"ms":a}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(a){this._contentTabIndex=(0,it.su)(a,null)}get disablePagination(){return this._disablePagination}set disablePagination(a){this._disablePagination=(0,it.Ig)(a)}get preserveContent(){return this._preserveContent}set preserveContent(a){this._preserveContent=(0,it.Ig)(a)}get backgroundColor(){return this._backgroundColor}set backgroundColor(a){const r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),a&&r.add("mat-tabs-with-background",`mat-background-${a}`),this._backgroundColor=a}constructor(a,r,O,X){super(a),this._changeDetectorRef=r,this._animationMode=X,this._tabs=new e.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=E.w0.EMPTY,this._tabLabelSubscription=E.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new e.vpe,this.focusChange=new e.vpe,this.animationDone=new e.vpe,this.selectedTabChange=new e.vpe(!0),this._groupId=lt++,this.animationDuration=O&&O.animationDuration?O.animationDuration:"500ms",this.disablePagination=!(!O||null==O.disablePagination)&&O.disablePagination,this.dynamicHeight=!(!O||null==O.dynamicHeight)&&O.dynamicHeight,this.contentTabIndex=O?.contentTabIndex??null,this.preserveContent=!!O?.preserveContent}ngAfterContentChecked(){const a=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=a){const r=null==this._selectedIndex;if(!r){this.selectedTabChange.emit(this._createChangeEvent(a));const O=this._tabBodyWrapper.nativeElement;O.style.minHeight=O.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((O,X)=>O.isActive=X===a),r||(this.selectedIndexChange.emit(a),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,O)=>{r.position=O-a,null!=this._selectedIndex&&0==r.position&&!r.origin&&(r.origin=a-this._selectedIndex)}),this._selectedIndex!==a&&(this._selectedIndex=a,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const a=this._clampTabIndex(this._indexToSelect);if(a===this._selectedIndex){const r=this._tabs.toArray();let O;for(let X=0;X<r.length;X++)if(r[X].isActive){this._indexToSelect=this._selectedIndex=X,this._lastFocusedTabIndex=null,O=r[X];break}!O&&r[a]&&Promise.resolve().then(()=>{r[a].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(a))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,et.O)(this._allTabs)).subscribe(a=>{this._tabs.reset(a.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(a){const r=this._tabHeader;r&&(r.focusIndex=a)}_focusChanged(a){this._lastFocusedTabIndex=a,this.focusChange.emit(this._createChangeEvent(a))}_createChangeEvent(a){const r=new F;return r.index=a,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[a]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,w.T)(...this._tabs.map(a=>a._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(a){return Math.min(this._tabs.length-1,Math.max(a||0,0))}_getTabLabelId(a){return`mat-tab-label-${this._groupId}-${a}`}_getTabContentId(a){return`mat-tab-content-${this._groupId}-${a}`}_setTabBodyWrapperHeight(a){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=a+"px")}_removeTabBodyWrapperHeight(){const a=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=a.clientHeight,a.style.height="",this.animationDone.emit()}_handleClick(a,r,O){r.focusIndex=O,a.disabled||(this.selectedIndex=O)}_getTabIndex(a){return a===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(a,r){a&&"mouse"!==a&&"touch"!==a&&(this._tabHeader.focusIndex=r)}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(le,8),e.Y36(e.QbO,8))},v.\u0275dir=e.lG2({type:v,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[e.qOj]}),v})(),y=(()=>{class v extends C{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(a){this._fitInkBarToContent=(0,it.Ig)(a),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(a){this._stretchTabs=(0,it.Ig)(a)}constructor(a,r,O,X){super(a,r,O,X),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!O||null==O.fitInkBarToContent)&&O.fitInkBarToContent}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(le,8),e.Y36(e.QbO,8))},v.\u0275cmp=e.Xpm({type:v,selectors:[["mat-tab-group"]],contentQueries:function(a,r,O){if(1&a&&e.Suo(O,Y,5),2&a){let X;e.iGM(X=e.CRH())&&(r._allTabs=X)}},viewQuery:function(a,r){if(1&a&&(e.Gf(It,5),e.Gf(At,5)),2&a){let O;e.iGM(O=e.CRH())&&(r._tabBodyWrapper=O.first),e.iGM(O=e.CRH())&&(r._tabHeader=O.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:6,hostBindings:function(a,r){2&a&&e.ekj("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs)},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[e._Bn([{provide:Bt,useExisting:v}]),e.qOj],decls:6,vars:6,consts:[[3,"selectedIndex","disableRipple","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(a,r){1&a&&(e.TgZ(0,"mat-tab-header",0,1),e.NdJ("indexFocused",function(X){return r._focusChanged(X)})("selectFocusedIndex",function(X){return r.selectedIndex=X}),e.YNc(2,m,9,17,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.YNc(5,l,1,11,"mat-tab-body",5),e.qZA()),2&a&&(e.Q6J("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple),e.xp6(2),e.Q6J("ngForOf",r._tabs),e.xp6(1),e.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),e.xp6(2),e.Q6J("ngForOf",r._tabs))},dependencies:[d.mk,d.sg,d.O5,x.Pl,j.wG,o.kH,M,se,pe],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-tab.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}.mat-mdc-tab .mdc-tab__text-label{display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-disabled{opacity:.4}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-mdc-tab-header-with-background-background-color, transparent)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab-indicator__content--underline,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),v})();class F{}let _t=0,vt=(()=>{class v extends ne{get backgroundColor(){return this._backgroundColor}set backgroundColor(a){const r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),a&&r.add("mat-tabs-with-background",`mat-background-${a}`),this._backgroundColor=a}get disableRipple(){return this._disableRipple}set disableRipple(a){this._disableRipple=(0,it.Ig)(a)}constructor(a,r,O,X,Lt,Nt,Wt){super(a,X,Lt,r,O,Nt,Wt),this._disableRipple=!1,this.color="primary"}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe((0,et.O)(null),(0,u.R)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const a=this._items.toArray();for(let r=0;r<a.length;r++)if(a[r].active)return this.selectedIndex=r,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=a[r].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.SBq),e.Y36(U.Is,8),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(ct.rL),e.Y36(ut.t4),e.Y36(e.QbO,8))},v.\u0275dir=e.lG2({type:v,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[e.qOj]}),v})();const Kt=(0,j.sb)((0,j.Kr)((0,j.Id)(class{}))),Ht=Yt((()=>{class v extends Kt{get active(){return this._isActive}set active(a){const r=(0,it.Ig)(a);r!==this._isActive&&(this._isActive=r,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}constructor(a,r,O,X,Lt,Nt){super(),this._tabNavBar=a,this.elementRef=r,this._focusMonitor=Lt,this._isActive=!1,this.id="mat-tab-link-"+_t++,this.rippleConfig=O||{},this.tabIndex=parseInt(X)||0,"NoopAnimations"===Nt&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(a){this._tabNavBar.tabPanel&&a.keyCode===W.L_&&this.elementRef.nativeElement.click()}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.tabIndex}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(vt),e.Y36(e.SBq),e.Y36(j.Y2,8),e.$8M("tabindex"),e.Y36(o.tE),e.Y36(e.QbO,8))},v.\u0275dir=e.lG2({type:v,inputs:{active:"active",id:"id"},features:[e.qOj]}),v})());let Ce=(()=>{class v extends vt{get fitInkBarToContent(){return this._fitInkBarToContent.value}set fitInkBarToContent(a){this._fitInkBarToContent.next((0,it.Ig)(a)),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(a){this._stretchTabs=(0,it.Ig)(a)}constructor(a,r,O,X,Lt,Nt,Wt,ce){super(a,r,O,X,Lt,Nt,Wt),this._fitInkBarToContent=new S.X(!1),this._stretchTabs=!0,this.disablePagination=!(!ce||null==ce.disablePagination)&&ce.disablePagination,this.fitInkBarToContent=!(!ce||null==ce.fitInkBarToContent)&&ce.fitInkBarToContent}ngAfterContentInit(){this._inkBar=new Ut(this._items),super.ngAfterContentInit()}ngAfterViewInit(){super.ngAfterViewInit()}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(e.SBq),e.Y36(U.Is,8),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(ct.rL),e.Y36(ut.t4),e.Y36(e.QbO,8),e.Y36(le,8))},v.\u0275cmp=e.Xpm({type:v,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(a,r,O){if(1&a&&e.Suo(O,ge,5),2&a){let X;e.iGM(X=e.CRH())&&(r._items=X)}},viewQuery:function(a,r){if(1&a&&(e.Gf(at,7),e.Gf(pt,7),e.Gf(dt,7),e.Gf(Tt,5),e.Gf(xt,5)),2&a){let O;e.iGM(O=e.CRH())&&(r._tabListContainer=O.first),e.iGM(O=e.CRH())&&(r._tabList=O.first),e.iGM(O=e.CRH())&&(r._tabListInner=O.first),e.iGM(O=e.CRH())&&(r._nextPaginator=O.first),e.iGM(O=e.CRH())&&(r._previousPaginator=O.first)}},hostAttrs:[1,"mat-mdc-tab-nav-bar","mat-mdc-tab-header"],hostVars:15,hostBindings:function(a,r){2&a&&(e.uIk("role",r._getRole()),e.ekj("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())("mat-mdc-tab-nav-bar-stretch-tabs",r.stretchTabs)("mat-primary","warn"!==r.color&&"accent"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{color:"color",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabNavBar","matTabNav"],features:[e.qOj],attrs:g,ngContentSelectors:nt,decls:13,vars:8,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(a,r){1&a&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(X){return r._handlePaginatorPress("before",X)})("touchend",function(){return r._stopInterval()}),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.NdJ("keydown",function(X){return r._handleKeydown(X)}),e.TgZ(5,"div",5,6),e.NdJ("cdkObserveContent",function(){return r._onContentChanges()}),e.TgZ(7,"div",7,8),e.Hsn(9),e.qZA()()(),e.TgZ(10,"button",9,10),e.NdJ("mousedown",function(X){return r._handlePaginatorPress("after",X)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),e._UZ(12,"div",2),e.qZA()),2&a&&(e.ekj("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),e.Q6J("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),e.xp6(10),e.ekj("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),e.Q6J("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[j.wG,K.wD],styles:[".mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-mdc-tab-header-with-background-background-color, transparent)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab .mdc-tab__text-label,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{border-color:var(--mat-mdc-tab-header-with-background-foreground-color, inherit)}"],encapsulation:2}),v})(),ge=(()=>{class v extends Ht{constructor(a,r,O,X,Lt,Nt){super(a,r,O,X,Lt,Nt),this._destroyed=new T.x,a._fitInkBarToContent.pipe((0,u.R)(this._destroyed)).subscribe(Wt=>{this.fitInkBarToContent=Wt})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),super.ngOnDestroy()}}return v.\u0275fac=function(a){return new(a||v)(e.Y36(Ce),e.Y36(e.SBq),e.Y36(j.Y2,8),e.$8M("tabindex"),e.Y36(o.tE),e.Y36(e.QbO,8))},v.\u0275cmp=e.Xpm({type:v,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mdc-tab","mat-mdc-tab-link","mat-mdc-focus-indicator"],hostVars:11,hostBindings:function(a,r){1&a&&e.NdJ("focus",function(){return r._handleFocus()})("keydown",function(X){return r._handleKeydown(X)}),2&a&&(e.uIk("aria-controls",r._getAriaControls())("aria-current",r._getAriaCurrent())("aria-disabled",r.disabled)("aria-selected",r._getAriaSelected())("id",r.id)("tabIndex",r._getTabIndex())("role",r._getRole()),e.ekj("mat-mdc-tab-disabled",r.disabled)("mdc-tab--active",r.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",active:"active",id:"id"},exportAs:["matTabLink"],features:[e.qOj],attrs:k,ngContentSelectors:nt,decls:5,vars:2,consts:[[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"]],template:function(a,r){1&a&&(e.F$t(),e._UZ(0,"span",0)(1,"div",1),e.TgZ(2,"span",2)(3,"span",3),e.Hsn(4),e.qZA()()),2&a&&(e.xp6(1),e.Q6J("matRippleTrigger",r.elementRef.nativeElement)("matRippleDisabled",r.rippleDisabled))},dependencies:[j.wG],styles:['.mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-tab-link.mdc-tab{height:48px;flex-grow:0}.mat-mdc-tab-link .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none}.mat-mdc-tab-link .mdc-tab__text-label{display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12}.mat-mdc-tab-link.mat-mdc-tab-disabled{pointer-events:none;opacity:.4}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}'],encapsulation:2,changeDetection:0}),v})(),ve=(()=>{class v{constructor(){this.id="mat-tab-nav-panel-"+_t++}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["mat-tab-nav-panel"]],hostAttrs:["role","tabpanel",1,"mat-mdc-tab-nav-panel"],hostVars:2,hostBindings:function(a,r){2&a&&e.uIk("aria-labelledby",r._activeTabId)("id",r.id)},inputs:{id:"id"},exportAs:["matTabNavPanel"],ngContentSelectors:nt,decls:1,vars:0,template:function(a,r){1&a&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),v})(),fe=(()=>{class v{}return v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=e.oAB({type:v}),v.\u0275inj=e.cJS({imports:[d.ez,j.BQ,x.eL,j.si,K.Q8,o.rt,j.BQ]}),v})()},3693:(wt,st,i)=>{i.d(st,{Z:()=>w});const x=function d(tt){return function(ot,t,S){for(var et=-1,D=Object(ot),u=S(ot),s=u.length;s--;){var h=u[tt?s:++et];if(!1===t(D[h],h,D))break}return ot}}();var K=i(4157);var E=i(8706);const w=function T(tt,ot){return function(t,S){if(null==t)return t;if(!(0,E.Z)(t))return tt(t,S);for(var et=t.length,D=ot?et:-1,u=Object(t);(ot?D--:++D<et)&&!1!==S(u[D],D,u););return t}}(function o(tt,ot){return tt&&x(tt,ot,K.Z)})},1134:(wt,st,i)=>{i.d(st,{Z:()=>j});var d=i(6460);const j=function e(x,K,o){for(var U=-1,E=x.length;++U<E;){var T=x[U],_=K(T);if(null!=_&&(void 0===n?_==_&&!(0,d.Z)(_):o(_,n)))var n=_,w=T}return w}},2382:(wt,st,i)=>{i.d(st,{Z:()=>e});const e=function d(j,x){return j>x}},5944:(wt,st,i)=>{i.d(st,{Z:()=>u});var d=i(7988),e=i(7298),j=i(539),x=i(3693),K=i(8706);var _=i(6932),n=i(6460);const tt=function w(s,h){if(s!==h){var f=void 0!==s,V=null===s,A=s==s,it=(0,n.Z)(s),ct=void 0!==h,ut=null===h,W=h==h,Z=(0,n.Z)(h);if(!ut&&!Z&&!it&&s>h||it&&ct&&W&&!ut&&!Z||V&&ct&&W||!f&&W||!A)return 1;if(!V&&!it&&!Z&&s<h||Z&&f&&A&&!V&&!it||ut&&f&&A||!ct&&A||!W)return-1}return 0};var S=i(9940),et=i(4177);const u=function D(s,h,f){h=h.length?(0,d.Z)(h,function(it){return(0,et.Z)(it)?function(ct){return(0,e.Z)(ct,1===it.length?it[0]:it)}:it}):[S.Z];var V=-1;h=(0,d.Z)(h,(0,_.Z)(j.Z));var A=function o(s,h){var f=-1,V=(0,K.Z)(s)?Array(s.length):[];return(0,x.Z)(s,function(A,it,ct){V[++f]=h(A,it,ct)}),V}(s,function(it,ct,ut){return{criteria:(0,d.Z)(h,function(Z){return Z(it)}),index:++V,value:it}});return function E(s,h){var f=s.length;for(s.sort(h);f--;)s[f]=s[f].value;return s}(A,function(it,ct){return function ot(s,h,f){for(var V=-1,A=s.criteria,it=h.criteria,ct=A.length,ut=f.length;++V<ct;){var W=tt(A[V],it[V]);if(W)return V>=ut?W:W*("desc"==f[V]?-1:1)}return s.index-h.index}(it,ct,f)})}},4810:(wt,st,i)=>{i.d(st,{Z:()=>o});var d=i(3093),e=i(8706),j=i(6667),x=i(1999);const o=function K(U,E,T){if(!(0,x.Z)(T))return!1;var _=typeof E;return!!("number"==_?(0,e.Z)(T)&&(0,j.Z)(E,T.length):"string"==_&&E in T)&&(0,d.Z)(T[E],U)}},2686:(wt,st,i)=>{i.d(st,{Z:()=>ot});var d=i(3496);const j=function e(t,S,et,D){for(var u=-1,s=null==t?0:t.length;++u<s;){var h=t[u];S(D,h,et(h),t)}return D};var x=i(3693);const o=function K(t,S,et,D){return(0,x.Z)(t,function(u,s,h){S(D,u,et(u),h)}),D};var U=i(539),E=i(4177),w=Object.prototype.hasOwnProperty;const ot=function T(t,S){return function(et,D){var u=(0,E.Z)(et)?j:o,s=S?S():{};return u(et,t,(0,U.Z)(D,2),s)}}(function(t,S,et){w.call(t,et)?t[et].push(S):(0,d.Z)(t,et,[S])})},6377:(wt,st,i)=>{i.d(st,{Z:()=>x});var d=i(5944),e=i(4177);const x=function j(K,o,U,E){return null==K?[]:((0,e.Z)(o)||(o=null==o?[]:[o]),(0,e.Z)(U=E?void 0:U)||(U=null==U?[]:[U]),(0,d.Z)(K,o,U))}},1256:(wt,st,i)=>{i.d(st,{Z:()=>_});var d=Math.ceil,e=Math.max;var K=i(4810),o=i(5601);const _=function U(n){return function(w,tt,ot){return ot&&"number"!=typeof ot&&(0,K.Z)(w,tt,ot)&&(tt=ot=void 0),w=(0,o.Z)(w),void 0===tt?(tt=w,w=0):tt=(0,o.Z)(tt),function j(n,w,tt,ot){for(var t=-1,S=e(d((w-n)/(tt||1)),0),et=Array(S);S--;)et[ot?S:++t]=n,n+=tt;return et}(w,tt,ot=void 0===ot?w<tt?1:-1:(0,o.Z)(ot),n)}}()},9466:(wt,st,i)=>{i.d(st,{Z:()=>o});var d=i(113),e=i(5944),j=i(7965),x=i(4810);const o=(0,j.Z)(function(U,E){if(null==U)return[];var T=E.length;return T>1&&(0,x.Z)(U,E[0],E[1])?E=[]:T>2&&(0,x.Z)(E[0],E[1],E[2])&&(E=[E[0]]),(0,e.Z)(U,(0,d.Z)(E,1),[])})},5601:(wt,st,i)=>{i.d(st,{Z:()=>u});var d=/\s/;var x=/^\s+/;const o=function K(s){return s&&s.slice(0,function e(s){for(var h=s.length;h--&&d.test(s.charAt(h)););return h}(s)+1).replace(x,"")};var U=i(1999),E=i(6460),_=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,w=/^0o[0-7]+$/i,tt=parseInt;var S=1/0;const u=function D(s){return s?(s=function ot(s){if("number"==typeof s)return s;if((0,E.Z)(s))return NaN;if((0,U.Z)(s)){var h="function"==typeof s.valueOf?s.valueOf():s;s=(0,U.Z)(h)?h+"":h}if("string"!=typeof s)return 0===s?s:+s;s=o(s);var f=n.test(s);return f||w.test(s)?tt(s.slice(2),f?2:8):_.test(s)?NaN:+s}(s))===S||s===-S?17976931348623157e292*(s<0?-1:1):s==s?s:0:0===s?s:0}}}]);
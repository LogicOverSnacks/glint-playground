"use strict";(self.webpackChunkgit_glint=self.webpackChunkgit_glint||[]).push([[283],{6283:(le,G,r)=>{r.r(G),r.d(G,{RebaseLayoutModule:()=>q});var ht=r(6338),pt=r(4385),W=r(3179),tt=r(9418),dt=r(8853),Ct=r(4398),P=r(5412),L=r(9549),et=r(284),ut=r(8255),_t=r(7093),ft=r(6248),t=r(4650);class U{static{this.\u0275fac=function(e){return new(e||U)}}static{this.\u0275mod=t.oAB({type:U})}static{this.\u0275inj=t.cJS({imports:[P.Is,L.lN,et.c,ut.Tx,W.I,tt.c,ft.Z,_t.v]})}}var Pt=r(9734),X=r(2367),nt=r(655),b=r(7340),w=r(9867),u=r(1135),y=r(9841),Z=r(9646),v=r(2843),M=r(2722),d=r(3900),T=r(262),ot=r(4782),K=r(4004),k=r(2435),D=r(8926),Y=r(9967),Mt=r(4745),xt=r(205),j=r(6966),E=r(790),Ot=r(2860),C=r(6895),it=r(7396),ct=r(3943),bt=r(5410),_=r(5698),f=r(9300),p=r(2120),x=r(4889),z=r(9077),A=r(4859),I=r(7392);class H{static{this.\u0275fac=function(e){return new(e||H)}}static{this.\u0275cmp=t.Xpm({type:H,selectors:[["ng-component"]],decls:12,vars:2,consts:[["mat-dialog-title",""],[1,"text-block"],[1,"warning-icon"],["mat-button","",3,"mat-dialog-close"],["mat-button","","color","warn",3,"mat-dialog-close"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Overwrite Commits"),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"mat-icon",2),t._uU(5,"warning"),t.qZA(),t._uU(6," The original commits will be deleted and replaced. Are you sure you want to proceed? "),t.qZA()(),t.TgZ(7,"mat-dialog-actions")(8,"button",3),t._uU(9,"Cancel"),t.qZA(),t.TgZ(10,"button",4),t._uU(11,"Confirm"),t.qZA()()),2&e&&(t.xp6(8),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("mat-dialog-close",!0))},dependencies:[P.ZT,P.uh,P.xY,P.H8,A.lW,I.Hw],styles:[".warning-icon[_ngcontent-%COMP%]{margin-right:5px}"],changeDetection:0})}}var O=r(4006);class R{constructor(o){this.data=o,this.form=new O.cw({message:new O.NI(this.data.message??null,O.kI.required)})}static{this.\u0275fac=function(e){return new(e||R)(t.Y36(P.WI))}}static{this.\u0275cmp=t.Xpm({type:R,selectors:[["ng-component"]],decls:13,vars:4,consts:[["mat-dialog-title",""],[3,"formGroup"],["subscriptSizing","dynamic"],["matInput","","required","","formControlName","message"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","type","submit","color","primary",3,"mat-dialog-close","disabled"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Edit Message"),t.qZA(),t.TgZ(2,"form",1)(3,"mat-dialog-content")(4,"mat-form-field",2)(5,"mat-label"),t._uU(6,"Message"),t.qZA(),t._UZ(7,"textarea",3),t.qZA()(),t.TgZ(8,"mat-dialog-actions")(9,"button",4),t._uU(10,"Cancel"),t.qZA(),t.TgZ(11,"button",5),t._uU(12,"Save"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(7),t.Q6J("mat-dialog-close",void 0),t.xp6(2),t.Q6J("mat-dialog-close",n.form.value)("disabled",n.form.invalid))},dependencies:[P.ZT,P.uh,P.xY,P.H8,L.KE,L.hX,et.Nt,O._Y,O.Fj,O.JJ,O.JL,O.Q7,O.sg,O.u,A.lW],styles:["mat-form-field[_ngcontent-%COMP%]{width:400px}textarea[_ngcontent-%COMP%]{min-height:100px}"],changeDetection:0})}}var V=r(266),vt=r(1815);class Q extends((0,D.j)(Y.A)){constructor(o,e,n,i){super(),this.router=o,this.dialog=e,this.store=n,this.commitsApi=i,this.changeCommit=new t.vpe,this.editMessage=()=>{(0,y.a)([this.repository,this.selectedCommit]).pipe((0,_.q)(1),(0,f.h)(p.Ej),(0,d.w)(([a,s])=>this.dialog.open(R,{data:{message:s?.message}}).afterClosed().pipe((0,f.h)(p.$K),(0,d.w)(({message:h})=>this.commitsApi.editCommitDetails(a.path,s.id,h,this.getCommitter()))))).subscribe(a=>{this.changeCommit.next(a)})},this.squash=a=>{(0,y.a)([this.repository,this.selectedCommit]).pipe((0,_.q)(1),(0,f.h)(p.Ej),(0,d.w)(([s,h])=>this.commitsApi.squashCommit(s.path,h.id,a,this.getCommitter())),(0,T.K)(s=>k.BO.matches(s)?(0,v._)(()=>new p.ZR(s.message)):(0,v._)(()=>s))).subscribe(s=>{this.changeCommit.next(s)})},this.insert=a=>{(0,y.a)([this.repository,this.selectedCommit]).pipe((0,_.q)(1),(0,f.h)(p.Ej),(0,d.w)(([s,h])=>this.commitsApi.insertCommit(s.path,h.id,a,this.getCommitter())),(0,T.K)(s=>k.BO.matches(s)?(0,v._)(()=>new p.ZR(s.message)):(0,v._)(()=>s))).subscribe(s=>{this.changeCommit.next(s)})},this.complete=()=>{this.repository.pipe((0,_.q)(1),(0,f.h)(p.$K),(0,d.w)(a=>this.dialog.open(H).afterClosed().pipe((0,f.h)(s=>!!s),(0,d.w)(()=>this.commitsApi.completeCommitEditing(a.path)),(0,d.w)(()=>this.store.dispatch(new x.Vu(a.path,[x.nh.commits,x.nh.currentBranchCommitId,x.nh.headCommitId,x.nh.mergeHeads,x.nh.merges,x.nh.references,x.nh.stagedChanges,x.nh.submodules,x.nh.unstagedChanges])))))).subscribe(()=>this.router.navigate(["/standard/default"]))},this.discard=()=>{this.repository.pipe((0,_.q)(1),(0,f.h)(p.$K),(0,d.w)(a=>this.commitsApi.discardCommitEditing(a.path))).subscribe(()=>this.router.navigate(["/standard/default"]))}}getCommitter(){const o=this.store.selectSnapshot(z.$.selectedProfile);return o&&o.name&&o.email?{name:o.name,email:o.email}:null}static{this.\u0275fac=function(e){return new(e||Q)(t.Y36(X.F0),t.Y36(P.uw),t.Y36(w.yh),t.Y36(E.T))}}static{this.\u0275cmp=t.Xpm({type:Q,selectors:[["app-rebase-action-view"]],inputs:{repository:"repository",selectedCommit:"selectedCommit",selectedCommitHasChild:"selectedCommitHasChild",selectedCommitHasParent:"selectedCommitHasParent"},outputs:{changeCommit:"changeCommit"},features:[t.qOj],decls:32,vars:15,consts:[[1,"items","items-left"],["matTooltip","Currently editing commits",1,"title"],[1,"items"],["type","button","mat-stroked-button","","matTooltip","Edit commit message",1,"item",3,"disabled","click"],[1,"edit-icon"],["type","button","mat-stroked-button","","matTooltip","Squash this commit into the next one",1,"item",3,"disabled","click"],["type","button","mat-stroked-button","","matTooltip","Squash this commit into the previous one",1,"item",3,"disabled","click"],["type","button","mat-stroked-button","","matTooltip","Insert a new commit above this one",1,"item",3,"disabled","click"],["type","button","mat-stroked-button","","matTooltip","Insert a new commit below this one",1,"item",3,"disabled","click"],["type","button","mat-stroked-button","","matTooltip","Save Changes",1,"item",3,"click"],["type","button","mat-stroked-button","","matTooltip","Discard Changes",1,"item",3,"click"],[1,"items","items-right"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Editing commits..."),t.qZA()(),t.TgZ(3,"div",2)(4,"button",3),t.NdJ("click",function(){return n.editMessage()}),t.ALo(5,"async"),t.TgZ(6,"mat-icon",4),t._uU(7,"create"),t.qZA()(),t.TgZ(8,"button",5),t.NdJ("click",function(){return n.squash("up")}),t.ALo(9,"async"),t.TgZ(10,"mat-icon",4),t._uU(11,"vertical_align_top"),t.qZA()(),t.TgZ(12,"button",6),t.NdJ("click",function(){return n.squash("down")}),t.ALo(13,"async"),t.TgZ(14,"mat-icon",4),t._uU(15,"vertical_align_bottom"),t.qZA()(),t.TgZ(16,"button",7),t.NdJ("click",function(){return n.insert("above")}),t.ALo(17,"async"),t.TgZ(18,"mat-icon",4),t._uU(19,"move_up"),t.qZA()(),t.TgZ(20,"button",8),t.NdJ("click",function(){return n.insert("below")}),t.ALo(21,"async"),t.TgZ(22,"mat-icon",4),t._uU(23,"move_down"),t.qZA()(),t.TgZ(24,"button",9),t.NdJ("click",function(){return n.complete()}),t.TgZ(25,"mat-icon",4),t._uU(26,"save"),t.qZA()(),t.TgZ(27,"button",10),t.NdJ("click",function(){return n.discard()}),t.TgZ(28,"mat-icon",4),t._uU(29,"clear"),t.qZA()()(),t.TgZ(30,"div",11),t._UZ(31,"app-repository-actions-open-with"),t.qZA()),2&e&&(t.xp6(4),t.Q6J("disabled",null===t.lcZ(5,5,n.selectedCommit)),t.xp6(4),t.Q6J("disabled",!1===t.lcZ(9,7,n.selectedCommitHasChild)),t.xp6(4),t.Q6J("disabled",!1===t.lcZ(13,9,n.selectedCommitHasParent)),t.xp6(4),t.Q6J("disabled",null===t.lcZ(17,11,n.selectedCommit)),t.xp6(4),t.Q6J("disabled",null===t.lcZ(21,13,n.selectedCommit)))},dependencies:[A.lW,I.Hw,V.gM,vt.E,C.Ov],styles:["[_nghost-%COMP%]{position:relative;display:block}.title[_ngcontent-%COMP%]{margin-left:10px;font-size:18px;color:#e57373}.items-left[_ngcontent-%COMP%]{position:absolute;left:0;top:0;padding:0 10px}.items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}.items-right[_ngcontent-%COMP%]{position:absolute;right:0;top:0;padding:0 10px}.item[_ngcontent-%COMP%]{cursor:pointer;font-size:0;margin-right:5px;min-width:45px;padding:0 10px}.item[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})}}var at=r(4080),yt=r(1884),st=r(8310),rt=r(8184),wt=r(7615),Tt=r(3546),lt=r(3051),Zt=r(2960),kt=r(8070);function At(c,o){if(1&c&&(t.TgZ(0,"li",24),t._uU(1),t.qZA()),2&c){const e=o.$implicit,n=o.first;t.Q6J("matTooltip",e),t.xp6(1),t.AsE("",n?"":", ","",e,"")}}function It(c,o){if(1&c&&(t.TgZ(0,"div",21)(1,"span",3),t._uU(2),t.ALo(3,"plural"),t.qZA(),t.TgZ(4,"div",22)(5,"ul"),t.YNc(6,At,2,3,"li",23),t.qZA()()()),2&c){const e=t.oxw().ngIf;t.xp6(2),t.hij("",t.xi3(3,2,"Parent",e.parentIds.length),": "),t.xp6(4),t.Q6J("ngForOf",e.parentIds)}}function Rt(c,o){if(1&c&&(t.TgZ(0,"div",25),t._uU(1," committed by "),t._UZ(2,"app-avatar",8),t.ALo(3,"async"),t.TgZ(4,"span",9),t._uU(5),t.qZA()()),2&c){const e=t.oxw().ngIf,n=t.oxw();t.xp6(2),t.Q6J("remotes",t.lcZ(3,4,n.remotes))("email",e.committerEmail),t.xp6(2),t.Q6J("matTooltip",e.committerEmail),t.xp6(1),t.Oqu(e.committerName)}}function Ft(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).move("up"),t.KtG(i.stopPropagation())}),t.ALo(1,"async"),t.TgZ(2,"mat-icon"),t._uU(3,"vertical_align_top"),t.qZA()()}if(2&c){const e=t.oxw(2);let n;t.Q6J("disabled",0===(null==(n=t.lcZ(1,1,e.checked))?null:n.length))}}function Jt(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(i){return t.CHM(e),t.oxw(2).move("down"),t.KtG(i.stopPropagation())}),t.ALo(1,"async"),t.TgZ(2,"mat-icon"),t._uU(3,"vertical_align_bottom"),t.qZA()()}if(2&c){const e=t.oxw(2);let n;t.Q6J("disabled",0===(null==(n=t.lcZ(1,1,e.checked))?null:n.length))}}function Ut(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"div",28)(1,"button",29),t.NdJ("click",function(){const a=t.CHM(e).data,s=t.oxw(2);return t.KtG(s.copyToClipboard(s.getPatchPath(a)))}),t.TgZ(2,"mat-icon"),t._uU(3,"content_copy"),t.qZA(),t.TgZ(4,"span"),t._uU(5,"Copy Path"),t.qZA()()()}if(2&c){const e=o.data,n=t.oxw(2);let i;t.xp6(1),t.Q6J("matTooltip",null!==(i=n.getPatchPath(e))&&void 0!==i?i:"")}}function Dt(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"div",1)(1,"header")(2,"div",2),t.NdJ("click",function(){const a=t.CHM(e).ngIf,s=t.oxw();return t.KtG(s.copyToClipboard(a.id))}),t.TgZ(3,"span",3),t._uU(4,"Commit:"),t.qZA(),t._uU(5),t.qZA(),t.YNc(6,It,7,5,"div",4),t.qZA(),t.TgZ(7,"mat-card",5)(8,"div",6),t._uU(9),t.qZA(),t.TgZ(10,"div",7),t._uU(11," authored by "),t._UZ(12,"app-avatar",8),t.ALo(13,"async"),t.TgZ(14,"span",9),t._uU(15),t.qZA(),t._UZ(16,"br"),t.qZA(),t.YNc(17,Rt,6,6,"div",10),t.TgZ(18,"div",11),t.ALo(19,"date"),t._uU(20," on "),t.TgZ(21,"span",12),t._uU(22),t.ALo(23,"date"),t.qZA(),t._uU(24," at "),t.TgZ(25,"span",12),t._uU(26),t.ALo(27,"date"),t.qZA()()(),t.TgZ(28,"mat-card",13)(29,"div",14)(30,"button",15),t.NdJ("click",function(){const a=t.CHM(e).ngIf,s=t.oxw();return t.KtG(s.clickAllCheckbox(a))}),t.ALo(31,"async"),t.TgZ(32,"mat-icon"),t._uU(33),t.ALo(34,"async"),t.qZA()(),t.TgZ(35,"div",16),t.YNc(36,Ft,4,3,"button",17),t.ALo(37,"async"),t.YNc(38,Jt,4,3,"button",18),t.ALo(39,"async"),t.qZA()(),t.TgZ(40,"app-patches-view",19),t.NdJ("checkedChanged",function(i){const s=t.CHM(e).ngIf,h=t.oxw();return t.KtG(h.setPatchChecked(s,i[0],i[1]))})("selectedChanged",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.changeSelectedFile(i.oldFilePath,i.newFilePath))})("contextMenuOpened",function(i){t.CHM(e);const a=t.MAs(43),s=t.oxw();return t.KtG(s.openContextMenu(a,i[0],i[1]))}),t.ALo(41,"async"),t.qZA(),t.YNc(42,Ut,6,1,"ng-template",null,20,t.W1O),t.qZA()()}if(2&c){const e=o.ngIf,n=t.oxw();t.xp6(2),t.Q6J("matTooltip",e.id),t.xp6(3),t.hij(" ",e.id," "),t.xp6(1),t.Q6J("ngIf",e.parentIds.length),t.xp6(3),t.Oqu(e.message),t.xp6(3),t.Q6J("remotes",t.lcZ(13,19,n.remotes))("email",e.authorEmail),t.xp6(2),t.Q6J("matTooltip",e.authorEmail),t.xp6(1),t.Oqu(e.authorName),t.xp6(2),t.Q6J("ngIf",e.committerName&&e.committerEmail&&(e.authorName!==e.committerName||e.authorEmail!==e.committerEmail)),t.xp6(1),t.Q6J("matTooltip",t.xi3(19,21,e.date,"z")||""),t.xp6(4),t.Oqu(t.xi3(23,24,e.date,"d MMMM y")),t.xp6(4),t.Oqu(t.xi3(27,27,e.date,"HH:mm")),t.xp6(4),t.Q6J("matTooltip","check_box_outline_blank"===t.lcZ(31,30,n.allCheckboxIcon)?"Select all":"Deselect all"),t.xp6(3),t.Oqu(t.lcZ(34,32,n.allCheckboxIcon)),t.xp6(3),t.Q6J("ngIf",t.lcZ(37,34,n.selectedCommitHasChild)),t.xp6(2),t.Q6J("ngIf",t.lcZ(39,36,n.selectedCommitHasParent)),t.xp6(2),t.Q6J("patches",e.patches)("checked",n.checked)("selected",t.lcZ(41,38,n.selectedFile))}}class N extends((0,D.j)(Y.A)){constructor(o,e,n,i,a,s){super(),this.cdr=o,this.overlay=e,this.viewContainerRef=n,this.store=i,this.commitsApi=a,this.commitDetailService=s,this.changeCommit=new t.vpe,this.changeFile=new t.vpe,this.checked=new u.X([]),this.allCheckboxIcon=new u.X("check_box_outline_blank"),this.overlayRef=null,this.move=h=>{(0,y.a)([this.repository,this.selectedCommit]).pipe((0,_.q)(1),(0,f.h)(p.Ej),(0,d.w)(([J,l])=>this.commitsApi.moveCommitChanges(J.path,l.id,h,this.checked.value.map(g=>g.newFilePath??g.oldFilePath).filter(p.$K),this.getCommitter()))).subscribe(J=>{this.changeCommit.next(J)})}}ngOnInit(){this.remotes=this.repository.pipe((0,K.U)(o=>o?.remotes??[])),this.selectedCommit.pipe((0,yt.x)((o,e)=>o?.id===e?.id),(0,M.R)(this.destroyed$)).subscribe(()=>{this.checked.next([]),this.allCheckboxIcon.next("check_box_outline_blank"),this.cdr.markForCheck()})}getPatchPath(o){return this.commitDetailService.getPatchPath(o)}getPatchIcon(o){return this.commitDetailService.getPatchIcon(o)}getPatchIconColorClass(o){return this.commitDetailService.getPatchIconColorClass(o)}copyToClipboard(o){navigator.clipboard.writeText(o??"").then(()=>{})}changeSelectedFile(o,e){this.selectedFile.pipe((0,_.q)(1)).subscribe(n=>{this.changeFile.next(n&&o===n.oldFilePath&&e===n.newFilePath?null:{area:"commit",oldFilePath:o,newFilePath:e})})}openContextMenu(o,e,n){n.preventDefault(),n.stopPropagation(),this.closeContextMenu(),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:n.x,y:n.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this.overlayRef.attach(new at.UE(o,this.viewContainerRef,{data:e})),(0,st.t)(this.overlayRef).pipe((0,_.q)(1),(0,M.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())}closeContextMenu(){this.overlayRef?.dispose(),this.overlayRef=null}clickAllCheckbox(o){switch(this.allCheckboxIcon.value){case"check_box":case"indeterminate_check_box":this.checked.next([]),this.allCheckboxIcon.next("check_box_outline_blank");break;case"check_box_outline_blank":this.checked.next([...o?.patches??[]]),this.allCheckboxIcon.next("check_box")}this.cdr.markForCheck()}setPatchChecked(o,e,n){const i=this.checked.value,a=i.findIndex(h=>h.oldFilePath===e.oldFilePath&&h.newFilePath===e.newFilePath);a>=0&&!n?i.splice(a,1):a<0&&n&&i.push(e),this.checked.next(i),this.allCheckboxIcon.next((o?.patches.length??0)===i.length?"check_box":0===i.length?"check_box_outline_blank":"indeterminate_check_box"),this.cdr.markForCheck()}getCommitter(){const o=this.store.selectSnapshot(z.$.selectedProfile);return o&&o.name&&o.email?{name:o.name,email:o.email}:null}static{this.\u0275fac=function(e){return new(e||N)(t.Y36(t.sBO),t.Y36(rt.aV),t.Y36(t.s_b),t.Y36(w.yh),t.Y36(E.T),t.Y36(wt.d))}}static{this.\u0275cmp=t.Xpm({type:N,selectors:[["app-rebase-detail-view"]],inputs:{repository:"repository",selectedCommit:"selectedCommit",selectedFile:"selectedFile",selectedCommitHasChild:"selectedCommitHasChild",selectedCommitHasParent:"selectedCommitHasParent"},outputs:{changeCommit:"changeCommit",changeFile:"changeFile"},features:[t.qOj],decls:2,vars:3,consts:[["class","detail-container",4,"ngIf"],[1,"detail-container"],[1,"this-commit",3,"matTooltip","click"],[1,"title"],["class","parent-commits",4,"ngIf"],["appearance","outlined",1,"message"],[1,"content"],[1,"author"],[3,"remotes","email"],[1,"highlight",3,"matTooltip"],["class","committer",4,"ngIf"],[1,"date",3,"matTooltip"],[1,"highlight"],["appearance","outlined",1,"files"],[1,"header-buttons"],["type","button","mat-icon-button","",1,"checkbox-button","app-icon-button-md",3,"matTooltip","click"],[1,"buttons"],["type","button","mat-stroked-button","","matTooltip","Move changes into next commit",3,"disabled","click",4,"ngIf"],["type","button","mat-stroked-button","","matTooltip","Move changes into previous commit",3,"disabled","click",4,"ngIf"],[3,"patches","checked","selected","checkedChanged","selectedChanged","contextMenuOpened"],["fileContextMenu",""],[1,"parent-commits"],[1,"parent-commit-ids"],["class","commit",3,"matTooltip",4,"ngFor","ngForOf"],[1,"commit",3,"matTooltip"],[1,"committer"],["type","button","mat-stroked-button","","matTooltip","Move changes into next commit",3,"disabled","click"],["type","button","mat-stroked-button","","matTooltip","Move changes into previous commit",3,"disabled","click"],[1,"menu-panel"],[1,"menu-item",3,"matTooltip","click"]],template:function(e,n){1&e&&(t.YNc(0,Dt,44,40,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n.selectedCommit))},dependencies:[C.sg,C.O5,A.lW,A.RK,Tt.a8,I.Hw,V.gM,lt.A,Zt.i,C.Ov,C.uU,kt.r],styles:[".detail-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 10px;flex:0 0 auto;overflow:auto;font-weight:600}header[_ngcontent-%COMP%]   .commit[_ngcontent-%COMP%]{min-width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}header[_ngcontent-%COMP%]   .this-commit[_ngcontent-%COMP%]{flex:1 1 auto;min-width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;padding-right:10px}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]{flex:1 1 auto;min-width:65px;overflow:hidden}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 61px)}header[_ngcontent-%COMP%]   .parent-commits[_ngcontent-%COMP%]   .parent-commit-ids[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;color:#fff}.message[_ngcontent-%COMP%]{flex:1 10 auto;margin:10px 10px 0;padding:16px;min-height:120px;overflow:auto;white-space:pre-line}.message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#ffffffb3}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#fff}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]{margin-bottom:2px}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:22px;height:22px;margin:0 3px 0 5px;vertical-align:bottom}.message[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]   .committer[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{font-size:16px}.files[_ngcontent-%COMP%]{flex:10 1 auto;min-height:290px;margin:10px;padding:16px;white-space:nowrap;overflow:auto;display:flex;flex-direction:column;gap:10px}.files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]{flex:0 0 auto;position:relative}.files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:space-between;min-height:40px;margin-left:32px}.files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 0 152px;min-width:152px}.files[_ngcontent-%COMP%]   .header-buttons[_ngcontent-%COMP%]   .checkbox-button[_ngcontent-%COMP%]{position:absolute;top:0;left:-12px}"],changeDetection:0})}}var B=r(4883),Yt=r(4968),Et=r(6406),Ht=r(9468),mt=r(4462),F=r(3989),Vt=r(4874),gt=r(744);function Qt(c,o){if(1&c&&(t.TgZ(0,"mat-icon",9),t._uU(1),t.qZA()),2&c){const e=o.$implicit;t.Q6J("matTooltip",e.name),t.xp6(1),t.Oqu(e.icon)}}function Nt(c,o){1&c&&(t.TgZ(0,"span",10)(1,"mat-icon"),t._uU(2,"expand_more"),t.qZA()())}function Bt(c,o){if(1&c&&(t.TgZ(0,"li",4)(1,"span",5),t.YNc(2,Qt,2,2,"mat-icon",6),t.qZA(),t.TgZ(3,"span",7),t._uU(4),t.qZA(),t.YNc(5,Nt,3,0,"span",8),t.qZA()),2&c){const e=o.$implicit,n=o.first,i=t.oxw(2);t.Q6J("ngClass","color-"+i.color),t.xp6(1),t.Q6J("ngClass","color-"+i.color),t.xp6(1),t.Q6J("ngForOf",e.sources)("ngForTrackBy",i.trackBranchSource),t.xp6(1),t.Q6J("matTooltip",e.name),t.xp6(1),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",n&&(i.branches.length>1||i.branches[0].sources.length>2))}}function St(c,o){if(1&c&&(t.TgZ(0,"ul",2),t.YNc(1,Bt,6,7,"li",3),t.qZA()),2&c){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.branches)("ngForTrackBy",e.trackBranch)}}function $t(c,o){if(1&c&&(t.TgZ(0,"mat-icon"),t._uU(1),t.qZA()),2&c){const e=o.$implicit;t.xp6(1),t.Oqu(e.icon)}}function qt(c,o){1&c&&(t.TgZ(0,"span",10)(1,"mat-icon"),t._uU(2,"expand_more"),t.qZA()())}function Lt(c,o){if(1&c&&(t.TgZ(0,"div",11)(1,"span",12),t.YNc(2,$t,2,1,"mat-icon",13),t.qZA(),t.TgZ(3,"span",14),t._uU(4),t.qZA(),t.YNc(5,qt,3,0,"span",8),t.qZA()),2&c){const e=o.ngIf,n=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.sources)("ngForTrackBy",n.trackBranchSource),t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",n.branches.length>1||n.branches[0].sources.length>2)}}let Xt=(()=>{class c{constructor(e){this.cdr=e,this.trackBranch=(n,i)=>i.name+i.sources.reduce((a,s,h)=>`${a},${this.trackBranchSource(h,s)}`,""),this.trackBranchSource=(n,i)=>`${i.type}:${i.name}`}ngOnChanges(e){!e.branches||!e.branches.currentValue||this.cdr.detectChanges()}static{this.\u0275fac=function(n){return new(n||c)(t.Y36(t.sBO))}}static{this.\u0275cmp=t.Xpm({type:c,selectors:[["app-rebase-branches"]],inputs:{branches:"branches",color:"color"},features:[t.TTD],decls:3,vars:4,consts:[["class","branches",4,"ngIf"],["class","spacer branch",4,"ngIf"],[1,"branches"],["class","branch",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"branch",3,"ngClass"],[1,"icons",3,"ngClass"],[3,"matTooltip",4,"ngFor","ngForOf","ngForTrackBy"],[1,"name",3,"matTooltip"],["class","expandable",4,"ngIf"],[3,"matTooltip"],[1,"expandable"],[1,"spacer","branch"],[1,"icons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"name"]],template:function(n,i){1&n&&(t.YNc(0,St,2,2,"ul",0),t.ALo(1,"nullEmpty"),t.YNc(2,Lt,6,4,"div",1)),2&n&&(t.Q6J("ngIf",t.lcZ(1,2,i.branches)),t.xp6(2),t.Q6J("ngIf",i.branches.length>0&&i.branches[0]))},dependencies:[C.mk,C.sg,C.O5,I.Hw,V.gM,gt.x],styles:["[_nghost-%COMP%]{display:block;position:relative}.branches[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:auto;max-width:250px;border:1px solid #616161;border-radius:6px;background:#3c3c3c}.branches[_ngcontent-%COMP%]:hover{width:fit-content;max-width:max-content;z-index:100}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]{display:flex}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:none;border-radius:0}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:first-child   .icons[_ngcontent-%COMP%]{border-top-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]:last-child   .icons[_ngcontent-%COMP%]{border-bottom-left-radius:6px}.branches[_ngcontent-%COMP%]:hover   .branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{visibility:hidden}.branch[_ngcontent-%COMP%]{display:none;height:24px;line-height:24px}.branch[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:5px}.branch[_ngcontent-%COMP%]   .name.current[_ngcontent-%COMP%]{font-weight:600}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{max-width:67px;flex-shrink:0;overflow:hidden;padding:0 5px;border-radius:6px 0 0 6px;margin-right:5px}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{background:#4363d8}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%]{background:#469990}.branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{background:#fabed4}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{background:#e6194B}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%]{background:#42d4f4}.branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%]{background:#f58231}.branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%]{background:#ffe119}.branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{background:#3cb44b}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{background:#f032e6}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{background:#ffffff}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%]{background:#800000}.branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{background:#9A6324}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%]{background:#fffac8}.branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%]{background:#aaffc3}.branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{background:#dcbeff}.branch[_ngcontent-%COMP%]   .icons.color-0[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-1[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-2[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-3[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-4[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-5[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-6[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-7[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-8[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-9[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons.color-10[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-11[_ngcontent-%COMP%]{color:#eee}.branch[_ngcontent-%COMP%]   .icons.color-12[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-13[_ngcontent-%COMP%], .branch[_ngcontent-%COMP%]   .icons.color-14[_ngcontent-%COMP%]{color:#1e1e1e}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px;padding-left:1px;width:26px}.branch[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:first-child{margin-left:0}.branch[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%]{margin-right:5px}.branch[_ngcontent-%COMP%]:first-child{display:flex}.branch.spacer[_ngcontent-%COMP%]{display:flex;user-select:none;max-width:250px;visibility:hidden;height:26px;line-height:26px;border:1px solid transparent}"],changeDetection:0})}}return(0,nt.gn)([(0,w.Ph)(j.E.selectedRepositoryCurrentBranch)],c.prototype,"currentBranch",void 0),c})();const Kt=["graphSvg"],jt=["contextMenu"];function zt(c,o){if(1&c&&(t.O4$(),t._UZ(0,"rect",15)),2&c){const e=o.ngIf,n=t.oxw();t.uIk("y",n.getYCoord(e.yIndex)-n.yOffset)("height",n.yUnit)}}function Gt(c,o){if(1&c&&(t.O4$(),t._UZ(0,"rect",16)),2&c){const e=o.ngIf,n=t.oxw();t.uIk("y",n.getYCoord(e.yIndex)-n.yOffset)("height",n.yUnit)}}function Wt(c,o){if(1&c&&(t.O4$(),t.TgZ(0,"g",17),t._UZ(1,"path",18),t.qZA()),2&c){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass","color-"+n.getTrailColorIndex(e.from.trail)),t.uIk("d",e.path)}}function te(c,o){if(1&c&&(t.O4$(),t.TgZ(0,"g",19),t._UZ(1,"path",18),t.qZA()),2&c){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass","color-"+n.getTrailColorIndex(e)),t.uIk("d",n.drawTrail(e))}}function ee(c,o){if(1&c&&(t.O4$(),t.TgZ(0,"g"),t._UZ(1,"circle",20),t.qZA()),2&c){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass","color-"+n.getTrailColorIndex(e.trail)),t.uIk("cx",n.getXCoord(e.trail.lane.xIndex))("cy",n.getYCoord(e.yIndex))}}function ne(c,o){if(1&c&&(t.TgZ(0,"span",25),t._UZ(1,"app-rebase-branches",26),t.qZA()),2&c){const e=o.ngIf,n=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("branches",e)("color",i.getTrailColorIndex(n.trail))}}function oe(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"li",21),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.changeCommit.next(a.id))})("contextmenu",function(i){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.openContextMenu(i,s))}),t.ALo(1,"async"),t.ALo(2,"async"),t._UZ(3,"app-avatar",22),t.ALo(4,"async"),t.YNc(5,ne,2,2,"span",23),t.ALo(6,"nullEmpty"),t.TgZ(7,"span",24),t._uU(8),t.qZA()()}if(2&c){const e=o.$implicit,n=t.oxw();t.ekj("hovered",e.id===t.lcZ(1,9,n.hoveredCommitId))("selected",e.id===t.lcZ(2,11,n.selectedCommitId)),t.xp6(3),t.Q6J("matTooltip",e.commit.authorName+" ("+e.commit.authorEmail+")")("remotes",t.lcZ(4,13,n.remotes))("email",e.commit.authorEmail),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,15,n.getBranches(e))),t.xp6(3),t.hij(" ",n.getCommitSummary(e)," ")}}function ie(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().data,a=t.oxw();return a.squash(i.commit,"up"),t.KtG(a.closeContextMenu())}),t.TgZ(1,"mat-icon"),t._uU(2,"vertical_align_top"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Squash into next"),t.qZA()()}}function ce(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().data,a=t.oxw();return a.squash(i.commit,"down"),t.KtG(a.closeContextMenu())}),t.TgZ(1,"mat-icon"),t._uU(2,"vertical_align_bottom"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Squash into previous"),t.qZA()()}}function ae(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"div",27)(1,"button",28),t.NdJ("click",function(){const a=t.CHM(e).data,s=t.oxw();return s.editMessage(a.commit),t.KtG(s.closeContextMenu())}),t.TgZ(2,"mat-icon"),t._uU(3,"create"),t.qZA(),t.TgZ(4,"span"),t._uU(5,"Edit commit message"),t.qZA()(),t.YNc(6,ie,5,0,"button",29),t.YNc(7,ce,5,0,"button",30),t.TgZ(8,"button",31),t.NdJ("click",function(){const a=t.CHM(e).data,s=t.oxw();return s.insert(a.commit,"above"),t.KtG(s.closeContextMenu())}),t.TgZ(9,"mat-icon"),t._uU(10,"move_up"),t.qZA(),t.TgZ(11,"span"),t._uU(12,"Insert commit above"),t.qZA()(),t.TgZ(13,"button",32),t.NdJ("click",function(){const a=t.CHM(e).data,s=t.oxw();return s.insert(a.commit,"below"),t.KtG(s.closeContextMenu())}),t.TgZ(14,"mat-icon"),t._uU(15,"move_down"),t.qZA(),t.TgZ(16,"span"),t._uU(17,"Insert commit below"),t.qZA()()()}if(2&c){const e=o.data,n=t.oxw();t.xp6(6),t.Q6J("ngIf",n.hasChild(null==e?null:e.commit)),t.xp6(1),t.Q6J("ngIf",n.hasParent(null==e?null:e.commit))}}class S extends((0,D.j)(Y.A)){constructor(o,e,n,i,a,s,h,J){super(),this.element=o,this.dialog=e,this.overlay=n,this.viewContainerRef=i,this.store=a,this.commitsApi=s,this.branchesService=h,this.graphCalculatorService=J,this.changeCommit=new t.vpe,this.commits=[],this.idToCommitDetail={},this.commitTrails=[],this.mergePaths=[],this.hoveredCommitId=new u.X(null),this.commitDetails=new u.X([]),this.visibleCommitDetails=new u.X([]),this.visibleCommitTrails=new u.X([]),this.visibleMergePaths=new u.X([]),this.xUnit=F.$.xUnit,this.yUnit=F.$.yUnit,this.xOffset=F.$.xOffset,this.yOffset=F.$.yOffset,this.totalColors=15,this.overlayRef=new u.X(null),this.getTrailColorIndex=l=>l.colorIndex%this.totalColors,this.getXCoord=l=>this.xOffset+this.xUnit*l,this.getYCoord=l=>this.yOffset+this.yUnit*l,this.getCommitSummary=l=>l.commit.message.split("\n")[0],this.getBranches=l=>this.branchesService.calculateBranches(l.commit.references,null),this.openContextMenu=(l,g)=>{l.preventDefault(),l.stopPropagation(),this.closeContextMenu();const m=this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo({x:l.x,y:l.y}).withPositions([{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top"}])});this.overlayRef.next(m),m.attach(new at.UE(this.menuTemplate,this.viewContainerRef,{data:{commit:g}})),(0,st.t)(m).pipe((0,_.q)(1),(0,M.R)(this.destroyed$)).subscribe(()=>this.closeContextMenu())},this.closeContextMenu=()=>{this.overlayRef.value&&(this.overlayRef.value.dispose(),this.overlayRef.next(null))},this.editMessage=l=>{this.repository.pipe((0,_.q)(1),(0,f.h)(p.$K),(0,d.w)(g=>this.dialog.open(R,{data:{message:l.commit.message}}).afterClosed().pipe((0,f.h)(p.$K),(0,d.w)(({message:m})=>this.commitsApi.editCommitDetails(g.path,l.id,m,this.getCommitter())),(0,T.K)(m=>k.BO.matches(m)?(0,v._)(()=>new p.ZR(m.message)):(0,v._)(()=>m))))).subscribe(g=>{this.changeCommit.next(g)})},this.squash=(l,g)=>{this.repository.pipe((0,_.q)(1),(0,f.h)(p.$K),(0,d.w)(m=>this.commitsApi.squashCommit(m.path,l.id,g,this.getCommitter())),(0,T.K)(m=>k.BO.matches(m)?(0,v._)(()=>new p.ZR(m.message)):(0,v._)(()=>m))).subscribe(m=>{this.changeCommit.next(m)})},this.insert=(l,g)=>{this.repository.pipe((0,_.q)(1),(0,f.h)(p.$K),(0,d.w)(m=>this.commitsApi.insertCommit(m.path,l.id,g,this.getCommitter()))).subscribe(m=>{this.changeCommit.next(m)})},this.hasChild=l=>!!l&&this.commitDetails.value.findIndex(g=>g.id===l.id)>0,this.hasParent=l=>!!l&&this.commitDetails.value.findIndex(g=>g.id===l.id)<this.commitDetails.value.length-1,this.isInRect=(l,g,m)=>m.left<=l&&m.right>=l&&m.top<=g&&m.bottom>=g}ngOnInit(){this.remotes=this.repository.pipe((0,K.U)(o=>o?.remotes??[])),this.ongoingEdit.pipe((0,f.h)(p.$K),(0,M.R)(this.destroyed$)).subscribe(o=>{this.calculate(o.commits)}),(0,Yt.R)(document,"mousemove",{passive:!0}).pipe((0,Ht.p)(0,Et.Z),(0,M.R)(this.destroyed$)).subscribe(o=>{if(this.overlayRef.value)return;const e=this.viewport.elementRef.nativeElement.getBoundingClientRect(),n=this.graphSvgElement.nativeElement.getBoundingClientRect();if(this.isInRect(o.clientX,o.clientY,e)||this.isInRect(o.clientX,o.clientY,n)){const i=this.getCommitFromPosition(o.clientY-e.top);this.hoveredCommitId.next(i?.id??null)}else this.hoveredCommitId.next(null)})}graphClicked(o){const e=this.getCommitFromPosition(o.offsetY);e&&this.changeCommit.next(e.id)}graphContextMenu(o){const e=this.getCommitFromPosition(o.offsetY);e&&this.openContextMenu(o,this.idToCommitDetail[e.id])}keyPressed(o){o.preventDefault(),(0,y.a)([this.repository,this.selectedCommitId]).pipe((0,_.q)(1),(0,M.R)(this.destroyed$)).subscribe(([e,n])=>{if(!e)return;const i=this.commits.findIndex(s=>s.id===n);if(-1===i)return;let a=null;switch(o.key){case"ArrowUp":if(!(mt.V?o.metaKey:o.ctrlKey)){i>0&&(a=this.commits[i-1].id);break}case"Home":a=this.commits[0].id;break;case"ArrowDown":if(!(mt.V?o.metaKey:o.ctrlKey)){i<this.commits.length-1&&(a=this.commits[i+1].id);break}case"End":a=this.commits[this.commits.length-1].id}a&&this.changeCommit.next(a)})}drawTrail(o){if(o.commits.length<1)return"";const e=o.commits[0],n=o.commits[o.commits.length-1],i=n.commit.parentIds.length>0?this.idToCommitDetail[n.commit.parentIds[0]]??n:n;if(!i)throw new Error(`Could not find parent ${n.commit.parentIds[0]}`);if(e.id===n.id&&n.id===i.id)return"";const a=o.isDashed?{x:0,y:.05}:{x:0,y:0};return[`M ${this.getXCoord(e.trail.lane.xIndex+a.x)} ${this.getYCoord(e.yIndex+a.y)}`,`V ${this.getYCoord(i.yIndex-.5)}`,`L ${this.getXCoord(i.trail.lane.xIndex)} ${this.getYCoord(i.yIndex)}`].join("")}trackCommitDetail(o,e){return e.id}trackCommitTrail(o,e){return e.trailIndex}trackMergePath(o,e){return`${e.from.id}|${e.to.map(n=>n.id).join(";")}`}updateVisibleCommits(){const n=Math.ceil((600+this.element.nativeElement.clientHeight)/this.yUnit),i=this.viewport.measureScrollOffset("top"),a=Math.floor(Math.max(0,(i-300)/this.yUnit)),s=this.graphCalculatorService.calculateVisible(this.commitDetails.value,this.commitTrails,this.mergePaths,a,a+n);this.visibleCommitDetails.next(s.commitDetails),this.visibleCommitTrails.next(s.commitTrails),this.visibleMergePaths.next(s.mergePaths)}calculate(o){const e=this.graphCalculatorService.calculate(null,[],o,this.getXCoord,this.getYCoord,this.totalColors);this.idToCommitDetail=e.commitDetails,this.commitTrails=e.commitTrails,this.mergePaths=e.mergePaths,this.commits=e.orderedCommits,this.commitDetails.next(this.commits.map(n=>e.commitDetails[n.id])),this.updateVisibleCommits()}getCommitFromPosition(o){const e=this.viewport.measureScrollOffset("top"),n=Math.floor((e+o)/this.yUnit);return this.commits[n]}getCommitter(){const o=this.store.selectSnapshot(z.$.selectedProfile);return o&&o.name&&o.email?{name:o.name,email:o.email}:null}static{this.\u0275fac=function(e){return new(e||S)(t.Y36(t.SBq),t.Y36(P.uw),t.Y36(rt.aV),t.Y36(t.s_b),t.Y36(w.yh),t.Y36(E.T),t.Y36(Vt.p),t.Y36(F.$))}}static{this.\u0275cmp=t.Xpm({type:S,selectors:[["app-rebase-view"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Kt,7),t.Gf(B.N7,7),t.Gf(jt,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.graphSvgElement=i.first),t.iGM(i=t.CRH())&&(n.viewport=i.first),t.iGM(i=t.CRH())&&(n.menuTemplate=i.first)}},inputs:{repository:"repository",selectedCommitId:"selectedCommitId",ongoingEdit:"ongoingEdit"},outputs:{changeCommit:"changeCommit"},features:[t.qOj],decls:22,vars:21,consts:[["id","graph-view","tabindex","0",3,"keydown"],["min","15px"],[1,"graph",3,"click","contextmenu"],["graphSvg",""],[1,"wrapper"],["graphWrapper",""],["class","hovered-background","x","0","width","100%",4,"ngIf"],["class","selected-background","x","0","width","100%",4,"ngIf"],["class","merge-path",4,"ngFor","ngForOf","ngForTrackBy"],["class","commit-path",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"viewport",3,"itemSize"],[1,"messages"],[3,"hovered","selected","click","contextmenu",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["contextMenu",""],["x","0","width","100%",1,"hovered-background"],["x","0","width","100%",1,"selected-background"],[1,"merge-path"],[3,"ngClass"],[1,"commit-path"],["r","5",1,"commit-circle",3,"ngClass"],[3,"click","contextmenu"],[3,"matTooltip","remotes","email"],["class","branches",4,"ngIf"],[1,"summary"],[1,"branches"],[3,"branches","color"],[1,"menu-panel"],["matTooltip","Edit commit message",1,"menu-item",3,"click"],["class","menu-item","matTooltip","Squash this commit into the next one",3,"click",4,"ngIf"],["class","menu-item","matTooltip","Squash this commit into the previous one",3,"click",4,"ngIf"],["matTooltip","Insert a new commit above this one",1,"menu-item",3,"click"],["matTooltip","Insert a new commit below this one",1,"menu-item",3,"click"],["matTooltip","Squash this commit into the next one",1,"menu-item",3,"click"],["matTooltip","Squash this commit into the previous one",1,"menu-item",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"app-grid",0),t.NdJ("keydown",function(a){return n.keyPressed(a)}),t.TgZ(1,"app-grid-cell",1),t.O4$(),t.TgZ(2,"svg",2,3),t.NdJ("click",function(a){return n.graphClicked(a)})("contextmenu",function(a){return n.graphContextMenu(a)}),t.TgZ(4,"g",4,5),t.YNc(6,zt,1,2,"rect",6),t.ALo(7,"async"),t.YNc(8,Gt,1,2,"rect",7),t.ALo(9,"async"),t.YNc(10,Wt,2,2,"g",8),t.ALo(11,"async"),t.YNc(12,te,2,2,"g",9),t.ALo(13,"async"),t.YNc(14,ee,2,3,"g",10),t.ALo(15,"async"),t.qZA()()(),t.kcU(),t.TgZ(16,"app-grid-cell")(17,"cdk-virtual-scroll-viewport",11)(18,"ul",12),t.YNc(19,oe,9,17,"li",13),t.qZA()()()(),t.YNc(20,ae,18,2,"ng-template",null,14,t.W1O)),2&e&&(t.xp6(6),t.Q6J("ngIf",n.idToCommitDetail[t.lcZ(7,11,n.hoveredCommitId)||""]),t.xp6(2),t.Q6J("ngIf",n.idToCommitDetail[t.lcZ(9,13,n.selectedCommitId)||""]),t.xp6(2),t.Q6J("ngForOf",t.lcZ(11,15,n.visibleMergePaths))("ngForTrackBy",n.trackMergePath),t.xp6(2),t.Q6J("ngForOf",t.lcZ(13,17,n.visibleCommitTrails))("ngForTrackBy",n.trackCommitTrail),t.xp6(2),t.Q6J("ngForOf",t.lcZ(15,19,n.visibleCommitDetails))("ngForTrackBy",n.trackCommitDetail),t.xp6(3),t.Q6J("itemSize",n.yUnit),t.xp6(2),t.Q6J("cdkVirtualForOf",n.commitDetails)("cdkVirtualForTrackBy",n.trackCommitDetail))},dependencies:[B.xd,B.x0,B.N7,C.mk,C.sg,C.O5,I.Hw,V.gM,lt.A,it.Y,ct.M,Xt,C.Ov,gt.x],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}app-grid[_ngcontent-%COMP%]{outline:none}.graph[_ngcontent-%COMP%]{display:block;width:100%;height:100%;cursor:pointer}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:10}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path[_ngcontent-%COMP%]{fill:none;stroke-width:2;z-index:20}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-0[_ngcontent-%COMP%]{stroke:#4363d8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-1[_ngcontent-%COMP%]{stroke:#469990}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-2[_ngcontent-%COMP%]{stroke:#fabed4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-3[_ngcontent-%COMP%]{stroke:#e6194b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-4[_ngcontent-%COMP%]{stroke:#42d4f4}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-5[_ngcontent-%COMP%]{stroke:#f58231}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-6[_ngcontent-%COMP%]{stroke:#ffe119}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-7[_ngcontent-%COMP%]{stroke:#3cb44b}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-8[_ngcontent-%COMP%]{stroke:#f032e6}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-9[_ngcontent-%COMP%]{stroke:#fff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-10[_ngcontent-%COMP%]{stroke:maroon}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-11[_ngcontent-%COMP%]{stroke:#9a6324}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-12[_ngcontent-%COMP%]{stroke:#fffac8}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-13[_ngcontent-%COMP%]{stroke:#aaffc3}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.color-14[_ngcontent-%COMP%]{stroke:#dcbeff}.graph[_ngcontent-%COMP%]   .merge-path[_ngcontent-%COMP%] > path.dashed[_ngcontent-%COMP%]{stroke:#ffffff80;stroke-dasharray:4;stroke-dashoffset:4}.graph[_ngcontent-%COMP%]   .commit-circle[_ngcontent-%COMP%]{stroke:#000;stroke-width:1.5;z-index:30}.graph[_ngcontent-%COMP%]   .commit-circle.color-0[_ngcontent-%COMP%]{fill:#4363d8}.graph[_ngcontent-%COMP%]   .commit-circle.color-1[_ngcontent-%COMP%]{fill:#469990}.graph[_ngcontent-%COMP%]   .commit-circle.color-2[_ngcontent-%COMP%]{fill:#fabed4}.graph[_ngcontent-%COMP%]   .commit-circle.color-3[_ngcontent-%COMP%]{fill:#e6194b}.graph[_ngcontent-%COMP%]   .commit-circle.color-4[_ngcontent-%COMP%]{fill:#42d4f4}.graph[_ngcontent-%COMP%]   .commit-circle.color-5[_ngcontent-%COMP%]{fill:#f58231}.graph[_ngcontent-%COMP%]   .commit-circle.color-6[_ngcontent-%COMP%]{fill:#ffe119}.graph[_ngcontent-%COMP%]   .commit-circle.color-7[_ngcontent-%COMP%]{fill:#3cb44b}.graph[_ngcontent-%COMP%]   .commit-circle.color-8[_ngcontent-%COMP%]{fill:#f032e6}.graph[_ngcontent-%COMP%]   .commit-circle.color-9[_ngcontent-%COMP%]{fill:#fff}.graph[_ngcontent-%COMP%]   .commit-circle.color-10[_ngcontent-%COMP%]{fill:maroon}.graph[_ngcontent-%COMP%]   .commit-circle.color-11[_ngcontent-%COMP%]{fill:#9a6324}.graph[_ngcontent-%COMP%]   .commit-circle.color-12[_ngcontent-%COMP%]{fill:#fffac8}.graph[_ngcontent-%COMP%]   .commit-circle.color-13[_ngcontent-%COMP%]{fill:#aaffc3}.graph[_ngcontent-%COMP%]   .commit-circle.color-14[_ngcontent-%COMP%]{fill:#dcbeff}.graph[_ngcontent-%COMP%]   .commit-circle.dashed[_ngcontent-%COMP%]{fill:none;stroke:#ffffff80}.graph[_ngcontent-%COMP%]   .hovered-background[_ngcontent-%COMP%]{fill:#2d2d2d}.graph[_ngcontent-%COMP%]   .selected-background[_ngcontent-%COMP%]{fill:#424242}.viewport[_ngcontent-%COMP%]{height:100%}.messages[_ngcontent-%COMP%]{position:relative;font-size:0}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:26px;line-height:26px;padding-left:5px;user-select:none;white-space:nowrap}.messages[_ngcontent-%COMP%] > li.hovered[_ngcontent-%COMP%]{background-color:#2d2d2d}.messages[_ngcontent-%COMP%] > li.selected[_ngcontent-%COMP%]{background-color:#424242}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   app-avatar[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .branches[_ngcontent-%COMP%]{display:inline-block;height:26px;vertical-align:middle;font-size:14px;margin-right:5px}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{font-size:14px;vertical-align:middle}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .summary.dimmed[_ngcontent-%COMP%]{color:#ffffff80}.messages[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .uncommitted-icon[_ngcontent-%COMP%]{margin-right:5px;color:#ffffff80}.menu-panel[_ngcontent-%COMP%]{background:#424242;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;max-height:calc(100vh - 48px);max-width:25vw;min-height:48px;min-width:112px;overflow-x:hidden;overflow-y:auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-family:MontserratVariable;font-size:16px;height:48px;line-height:48px;max-width:100%;outline:none;overflow:hidden;padding:0 16px;user-select:none;text-align:left;text-overflow:ellipsis;width:100%;white-space:nowrap;align-items:center}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:first-child{border-radius:4px 4px 0 0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 4px 4px}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#565656}.menu-panel[_ngcontent-%COMP%]   .menu-item[disabled][_ngcontent-%COMP%]{pointer-events:none;color:#ffffff4d}.menu-panel[_ngcontent-%COMP%]   .menu-item.bold[_ngcontent-%COMP%]{font-weight:700}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:12px 16px 12px 0;vertical-align:middle;flex:0 0 auto}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .mat-icon.expand-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.menu-panel[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu-panel.sub-menu-1[_ngcontent-%COMP%]{background:#4a4a4a}"],changeDetection:0})}}function se(c,o){if(1&c){const e=t.EpF();t.TgZ(0,"app-diff-view",8),t.NdJ("closed",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.selectedFile.next(null))}),t.qZA()}if(2&c){const e=t.oxw();t.Q6J("@slideLeft",void 0)("patch",e.selectedPatch)}}const re=[{path:"",component:(()=>{class c extends((0,D.j)(Y.A,Mt.H)){constructor(e,n,i){super(),this.store=e,this.commitsApi=n,this.telemetryService=i,this.ongoingEdit=new u.X(null),this.selectedCommitId=new u.X(null),this.selectedFile=new u.X(null),this.selectedCommitHasChild=new u.X(!1),this.selectedCommitHasParent=new u.X(!1),this.branchesViewMinSize=xt.q,this.refresh=()=>{const a=this.store.selectSnapshot(j.E.selectedRepositoryPath);a&&this.commitsApi.getOngoingEdit(a).pipe((0,M.R)(this.destroyed$)).subscribe(s=>{this.ongoingEdit.next(s)})}}ngOnInit(){super.ngOnInit(),this.refresh(),this.selectedCommit=(0,y.a)([this.selectedRepository,this.selectedCommitId,this.ongoingEdit]).pipe((0,d.w)(([e,n])=>e&&n?this.commitsApi.getCommit(e.path,n).pipe((0,T.K)(i=>(this.telemetryService.raiseError(i),(0,Z.of)(null)))):(0,Z.of)(null)),(0,M.R)(this.destroyed$),(0,ot.d)(1)),this.selectedPatch=(0,y.a)([this.selectedRepository,this.selectedCommit,this.selectedFile]).pipe((0,d.w)(([e,n,i])=>e&&n&&i&&n.patches.find(s=>s.oldFilePath===i.oldFilePath&&s.newFilePath===i.newFilePath)?this.commitsApi.getPatch(e.path,n.id,i.oldFilePath,i.newFilePath).pipe((0,K.U)(s=>({repositoryPath:e.path,patch:s,isUnstaged:!1})),(0,T.K)(s=>k.vE.matches(s)?(0,Z.of)(null):(0,v._)(()=>s))):(0,Z.of)(null)),(0,M.R)(this.destroyed$),(0,ot.d)(1)),(0,y.a)([this.ongoingEdit,this.selectedCommit]).pipe((0,M.R)(this.destroyed$)).subscribe(([e,n])=>{e&&n?(this.selectedCommitHasChild.next(e.commits.some(({parentIds:i})=>i.some(a=>a===n.id))),this.selectedCommitHasParent.next(n.parentIds.some(i=>e.commits.some(({id:a})=>a===i)))):(this.selectedCommitHasChild.next(!1),this.selectedCommitHasParent.next(!1))})}static{this.\u0275fac=function(n){return new(n||c)(t.Y36(w.yh),t.Y36(E.T),t.Y36(Ot.y))}}static{this.\u0275cmp=t.Xpm({type:c,selectors:[["ng-component"]],features:[t.qOj],decls:9,vars:16,consts:[[3,"repository","selectedCommit","selectedCommitHasChild","selectedCommitHasParent","changeCommit"],["id","default-layout"],[1,"left-cell",3,"min"],["min","200px",1,"center-cell"],[3,"repository","selectedCommitId","ongoingEdit","changeCommit"],[3,"patch","closed",4,"ngIf"],["min","200px",1,"right-cell"],[3,"repository","selectedCommit","selectedFile","selectedCommitHasChild","selectedCommitHasParent","changeCommit","changeFile"],[3,"patch","closed"]],template:function(n,i){1&n&&(t.TgZ(0,"app-rebase-action-view",0),t.NdJ("changeCommit",function(s){return i.selectedCommitId.next(s),i.refresh()}),t.qZA(),t.TgZ(1,"app-grid",1),t._UZ(2,"app-grid-cell",2),t.TgZ(3,"app-grid-cell",3)(4,"app-rebase-view",4),t.NdJ("changeCommit",function(s){return i.selectedCommitId.next(s),i.refresh()}),t.qZA(),t.YNc(5,se,1,2,"app-diff-view",5),t.ALo(6,"async"),t.qZA(),t.TgZ(7,"app-grid-cell",6)(8,"app-rebase-detail-view",7),t.NdJ("changeCommit",function(s){return i.selectedCommitId.next(s),i.refresh()})("changeFile",function(s){return i.selectedFile.next(s)}),t.qZA()()()),2&n&&(t.Q6J("repository",i.selectedRepository)("selectedCommit",i.selectedCommit)("selectedCommitHasChild",i.selectedCommitHasChild)("selectedCommitHasParent",i.selectedCommitHasParent),t.xp6(2),t.Q6J("min",i.branchesViewMinSize),t.xp6(2),t.Q6J("repository",i.selectedRepository)("selectedCommitId",i.selectedCommitId)("ongoingEdit",i.ongoingEdit),t.xp6(1),t.Q6J("ngIf",t.lcZ(6,14,i.selectedPatch)),t.xp6(3),t.Q6J("repository",i.selectedRepository)("selectedCommit",i.selectedCommit)("selectedFile",i.selectedFile)("selectedCommitHasChild",i.selectedCommitHasChild)("selectedCommitHasParent",i.selectedCommitHasParent))},dependencies:[C.O5,it.Y,ct.M,bt.s,Q,N,S,C.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px)}app-rebase-action-view[_ngcontent-%COMP%]{flex:0 0 60px}app-rebase-view[_ngcontent-%COMP%]{position:absolute;top:0;left:0;overflow:hidden}app-diff-view[_ngcontent-%COMP%]{z-index:200}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}.center-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-content{overflow:hidden}.right-cell[_ngcontent-%COMP%] >.grid-cell-wrapper>.grid-cell-border{z-index:500}"],data:{animation:[(0,b.X$)("slideLeft",[(0,b.eR)(":enter",[(0,b.oB)({position:"absolute",top:0,left:0,transform:"translateX(100%)"}),(0,b.jt)("200ms",(0,b.oB)({transform:"translateX(0)"}))]),(0,b.eR)(":leave",[(0,b.oB)({position:"absolute",top:0,left:0,transform:"translateX(0)"}),(0,b.jt)("200ms",(0,b.oB)({transform:"translateX(100%)"}))])])]},changeDetection:0})}}return(0,nt.gn)([(0,w.Ph)(j.E.selectedRepository)],c.prototype,"selectedRepository",void 0),c})()}];class ${static{this.\u0275fac=function(e){return new(e||$)}}static{this.\u0275mod=t.oAB({type:$})}static{this.\u0275inj=t.cJS({imports:[X.Bz.forChild(re),X.Bz]})}}class q{static{this.\u0275fac=function(e){return new(e||q)}}static{this.\u0275mod=t.oAB({type:q})}static{this.\u0275inj=t.cJS({imports:[ht.ie,pt.LD,W.I,tt.c,dt.m,Ct.X,U,Pt.Z,$]})}}}}]);